(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var oye=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function mD(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var z_={exports:{}},Im={};var uC;function GV(){if(uC)return Im;uC=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,s,i){var a=null;if(i!==void 0&&(a=""+i),s.key!==void 0&&(a=""+s.key),"key"in s){i={};for(var o in s)o!=="key"&&(i[o]=s[o])}else i=s;return s=i.ref,{$$typeof:t,type:r,key:a,ref:s!==void 0?s:null,props:i}}return Im.Fragment=e,Im.jsx=n,Im.jsxs=n,Im}var fC;function WV(){return fC||(fC=1,z_.exports=GV()),z_.exports}var m=WV(),G_={exports:{}},km={},W_={exports:{}},$_={};var dC;function $V(){return dC||(dC=1,(function(t){function e(oe,ve){var Ie=oe.length;oe.push(ve);e:for(;0<Ie;){var xe=Ie-1>>>1,Re=oe[xe];if(0<s(Re,ve))oe[xe]=ve,oe[Ie]=Re,Ie=xe;else break e}}function n(oe){return oe.length===0?null:oe[0]}function r(oe){if(oe.length===0)return null;var ve=oe[0],Ie=oe.pop();if(Ie!==ve){oe[0]=Ie;e:for(var xe=0,Re=oe.length,re=Re>>>1;xe<re;){var O=2*(xe+1)-1,J=oe[O],U=O+1,Y=oe[U];if(0>s(J,Ie))U<Re&&0>s(Y,J)?(oe[xe]=Y,oe[U]=Ie,xe=U):(oe[xe]=J,oe[O]=Ie,xe=O);else if(U<Re&&0>s(Y,Ie))oe[xe]=Y,oe[U]=Ie,xe=U;else break e}}return ve}function s(oe,ve){var Ie=oe.sortIndex-ve.sortIndex;return Ie!==0?Ie:oe.id-ve.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var c=[],f=[],d=1,p=null,g=3,y=!1,E=!1,b=!1,A=!1,N=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function B(oe){for(var ve=n(f);ve!==null;){if(ve.callback===null)r(f);else if(ve.startTime<=oe)r(f),ve.sortIndex=ve.expirationTime,e(c,ve);else break;ve=n(f)}}function W(oe){if(b=!1,B(oe),!E)if(n(c)!==null)E=!0,K||(K=!0,M());else{var ve=n(f);ve!==null&&Se(W,ve.startTime-oe)}}var K=!1,D=-1,L=5,R=-1;function q(){return A?!0:!(t.unstable_now()-R<L)}function P(){if(A=!1,K){var oe=t.unstable_now();R=oe;var ve=!0;try{e:{E=!1,b&&(b=!1,V(D),D=-1),y=!0;var Ie=g;try{t:{for(B(oe),p=n(c);p!==null&&!(p.expirationTime>oe&&q());){var xe=p.callback;if(typeof xe=="function"){p.callback=null,g=p.priorityLevel;var Re=xe(p.expirationTime<=oe);if(oe=t.unstable_now(),typeof Re=="function"){p.callback=Re,B(oe),ve=!0;break t}p===n(c)&&r(c),B(oe)}else r(c);p=n(c)}if(p!==null)ve=!0;else{var re=n(f);re!==null&&Se(W,re.startTime-oe),ve=!1}}break e}finally{p=null,g=Ie,y=!1}ve=void 0}}finally{ve?M():K=!1}}}var M;if(typeof k=="function")M=function(){k(P)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,ae=H.port2;H.port1.onmessage=P,M=function(){ae.postMessage(null)}}else M=function(){N(P,0)};function Se(oe,ve){D=N(function(){oe(t.unstable_now())},ve)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(oe){oe.callback=null},t.unstable_forceFrameRate=function(oe){0>oe||125<oe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<oe?Math.floor(1e3/oe):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_next=function(oe){switch(g){case 1:case 2:case 3:var ve=3;break;default:ve=g}var Ie=g;g=ve;try{return oe()}finally{g=Ie}},t.unstable_requestPaint=function(){A=!0},t.unstable_runWithPriority=function(oe,ve){switch(oe){case 1:case 2:case 3:case 4:case 5:break;default:oe=3}var Ie=g;g=oe;try{return ve()}finally{g=Ie}},t.unstable_scheduleCallback=function(oe,ve,Ie){var xe=t.unstable_now();switch(typeof Ie=="object"&&Ie!==null?(Ie=Ie.delay,Ie=typeof Ie=="number"&&0<Ie?xe+Ie:xe):Ie=xe,oe){case 1:var Re=-1;break;case 2:Re=250;break;case 5:Re=1073741823;break;case 4:Re=1e4;break;default:Re=5e3}return Re=Ie+Re,oe={id:d++,callback:ve,priorityLevel:oe,startTime:Ie,expirationTime:Re,sortIndex:-1},Ie>xe?(oe.sortIndex=Ie,e(f,oe),n(c)===null&&oe===n(f)&&(b?(V(D),D=-1):b=!0,Se(W,Ie-xe))):(oe.sortIndex=Re,e(c,oe),E||y||(E=!0,K||(K=!0,M()))),oe},t.unstable_shouldYield=q,t.unstable_wrapCallback=function(oe){var ve=g;return function(){var Ie=g;g=ve;try{return oe.apply(this,arguments)}finally{g=Ie}}}})($_)),$_}var hC;function KV(){return hC||(hC=1,W_.exports=$V()),W_.exports}var K_={exports:{}},Vn={};var pC;function YV(){if(pC)return Vn;pC=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),a=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),g=Symbol.iterator;function y(re){return re===null||typeof re!="object"?null:(re=g&&re[g]||re["@@iterator"],typeof re=="function"?re:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,A={};function N(re,O,J){this.props=re,this.context=O,this.refs=A,this.updater=J||E}N.prototype.isReactComponent={},N.prototype.setState=function(re,O){if(typeof re!="object"&&typeof re!="function"&&re!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,re,O,"setState")},N.prototype.forceUpdate=function(re){this.updater.enqueueForceUpdate(this,re,"forceUpdate")};function V(){}V.prototype=N.prototype;function k(re,O,J){this.props=re,this.context=O,this.refs=A,this.updater=J||E}var B=k.prototype=new V;B.constructor=k,b(B,N.prototype),B.isPureReactComponent=!0;var W=Array.isArray;function K(){}var D={H:null,A:null,T:null,S:null},L=Object.prototype.hasOwnProperty;function R(re,O,J){var U=J.ref;return{$$typeof:t,type:re,key:O,ref:U!==void 0?U:null,props:J}}function q(re,O){return R(re.type,O,re.props)}function P(re){return typeof re=="object"&&re!==null&&re.$$typeof===t}function M(re){var O={"=":"=0",":":"=2"};return"$"+re.replace(/[=:]/g,function(J){return O[J]})}var H=/\/+/g;function ae(re,O){return typeof re=="object"&&re!==null&&re.key!=null?M(""+re.key):O.toString(36)}function Se(re){switch(re.status){case"fulfilled":return re.value;case"rejected":throw re.reason;default:switch(typeof re.status=="string"?re.then(K,K):(re.status="pending",re.then(function(O){re.status==="pending"&&(re.status="fulfilled",re.value=O)},function(O){re.status==="pending"&&(re.status="rejected",re.reason=O)})),re.status){case"fulfilled":return re.value;case"rejected":throw re.reason}}throw re}function oe(re,O,J,U,Y){var ne=typeof re;(ne==="undefined"||ne==="boolean")&&(re=null);var ye=!1;if(re===null)ye=!0;else switch(ne){case"bigint":case"string":case"number":ye=!0;break;case"object":switch(re.$$typeof){case t:case e:ye=!0;break;case d:return ye=re._init,oe(ye(re._payload),O,J,U,Y)}}if(ye)return Y=Y(re),ye=U===""?"."+ae(re,0):U,W(Y)?(J="",ye!=null&&(J=ye.replace(H,"$&/")+"/"),oe(Y,O,J,"",function(Te){return Te})):Y!=null&&(P(Y)&&(Y=q(Y,J+(Y.key==null||re&&re.key===Y.key?"":(""+Y.key).replace(H,"$&/")+"/")+ye)),O.push(Y)),1;ye=0;var pe=U===""?".":U+":";if(W(re))for(var ue=0;ue<re.length;ue++)U=re[ue],ne=pe+ae(U,ue),ye+=oe(U,O,J,ne,Y);else if(ue=y(re),typeof ue=="function")for(re=ue.call(re),ue=0;!(U=re.next()).done;)U=U.value,ne=pe+ae(U,ue++),ye+=oe(U,O,J,ne,Y);else if(ne==="object"){if(typeof re.then=="function")return oe(Se(re),O,J,U,Y);throw O=String(re),Error("Objects are not valid as a React child (found: "+(O==="[object Object]"?"object with keys {"+Object.keys(re).join(", ")+"}":O)+"). If you meant to render a collection of children, use an array instead.")}return ye}function ve(re,O,J){if(re==null)return re;var U=[],Y=0;return oe(re,U,"","",function(ne){return O.call(J,ne,Y++)}),U}function Ie(re){if(re._status===-1){var O=re._result;O=O(),O.then(function(J){(re._status===0||re._status===-1)&&(re._status=1,re._result=J)},function(J){(re._status===0||re._status===-1)&&(re._status=2,re._result=J)}),re._status===-1&&(re._status=0,re._result=O)}if(re._status===1)return re._result.default;throw re._result}var xe=typeof reportError=="function"?reportError:function(re){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var O=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof re=="object"&&re!==null&&typeof re.message=="string"?String(re.message):String(re),error:re});if(!window.dispatchEvent(O))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",re);return}console.error(re)},Re={map:ve,forEach:function(re,O,J){ve(re,function(){O.apply(this,arguments)},J)},count:function(re){var O=0;return ve(re,function(){O++}),O},toArray:function(re){return ve(re,function(O){return O})||[]},only:function(re){if(!P(re))throw Error("React.Children.only expected to receive a single React element child.");return re}};return Vn.Activity=p,Vn.Children=Re,Vn.Component=N,Vn.Fragment=n,Vn.Profiler=s,Vn.PureComponent=k,Vn.StrictMode=r,Vn.Suspense=c,Vn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Vn.__COMPILER_RUNTIME={__proto__:null,c:function(re){return D.H.useMemoCache(re)}},Vn.cache=function(re){return function(){return re.apply(null,arguments)}},Vn.cacheSignal=function(){return null},Vn.cloneElement=function(re,O,J){if(re==null)throw Error("The argument must be a React element, but you passed "+re+".");var U=b({},re.props),Y=re.key;if(O!=null)for(ne in O.key!==void 0&&(Y=""+O.key),O)!L.call(O,ne)||ne==="key"||ne==="__self"||ne==="__source"||ne==="ref"&&O.ref===void 0||(U[ne]=O[ne]);var ne=arguments.length-2;if(ne===1)U.children=J;else if(1<ne){for(var ye=Array(ne),pe=0;pe<ne;pe++)ye[pe]=arguments[pe+2];U.children=ye}return R(re.type,Y,U)},Vn.createContext=function(re){return re={$$typeof:a,_currentValue:re,_currentValue2:re,_threadCount:0,Provider:null,Consumer:null},re.Provider=re,re.Consumer={$$typeof:i,_context:re},re},Vn.createElement=function(re,O,J){var U,Y={},ne=null;if(O!=null)for(U in O.key!==void 0&&(ne=""+O.key),O)L.call(O,U)&&U!=="key"&&U!=="__self"&&U!=="__source"&&(Y[U]=O[U]);var ye=arguments.length-2;if(ye===1)Y.children=J;else if(1<ye){for(var pe=Array(ye),ue=0;ue<ye;ue++)pe[ue]=arguments[ue+2];Y.children=pe}if(re&&re.defaultProps)for(U in ye=re.defaultProps,ye)Y[U]===void 0&&(Y[U]=ye[U]);return R(re,ne,Y)},Vn.createRef=function(){return{current:null}},Vn.forwardRef=function(re){return{$$typeof:o,render:re}},Vn.isValidElement=P,Vn.lazy=function(re){return{$$typeof:d,_payload:{_status:-1,_result:re},_init:Ie}},Vn.memo=function(re,O){return{$$typeof:f,type:re,compare:O===void 0?null:O}},Vn.startTransition=function(re){var O=D.T,J={};D.T=J;try{var U=re(),Y=D.S;Y!==null&&Y(J,U),typeof U=="object"&&U!==null&&typeof U.then=="function"&&U.then(K,xe)}catch(ne){xe(ne)}finally{O!==null&&J.types!==null&&(O.types=J.types),D.T=O}},Vn.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Vn.use=function(re){return D.H.use(re)},Vn.useActionState=function(re,O,J){return D.H.useActionState(re,O,J)},Vn.useCallback=function(re,O){return D.H.useCallback(re,O)},Vn.useContext=function(re){return D.H.useContext(re)},Vn.useDebugValue=function(){},Vn.useDeferredValue=function(re,O){return D.H.useDeferredValue(re,O)},Vn.useEffect=function(re,O){return D.H.useEffect(re,O)},Vn.useEffectEvent=function(re){return D.H.useEffectEvent(re)},Vn.useId=function(){return D.H.useId()},Vn.useImperativeHandle=function(re,O,J){return D.H.useImperativeHandle(re,O,J)},Vn.useInsertionEffect=function(re,O){return D.H.useInsertionEffect(re,O)},Vn.useLayoutEffect=function(re,O){return D.H.useLayoutEffect(re,O)},Vn.useMemo=function(re,O){return D.H.useMemo(re,O)},Vn.useOptimistic=function(re,O){return D.H.useOptimistic(re,O)},Vn.useReducer=function(re,O,J){return D.H.useReducer(re,O,J)},Vn.useRef=function(re){return D.H.useRef(re)},Vn.useState=function(re){return D.H.useState(re)},Vn.useSyncExternalStore=function(re,O,J){return D.H.useSyncExternalStore(re,O,J)},Vn.useTransition=function(){return D.H.useTransition()},Vn.version="19.2.0",Vn}var mC;function _T(){return mC||(mC=1,K_.exports=YV()),K_.exports}var Y_={exports:{}},pa={};var gC;function XV(){if(gC)return pa;gC=1;var t=_T();function e(c){var f="https://react.dev/errors/"+c;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)f+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+c+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function i(c,f,d){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:p==null?null:""+p,children:c,containerInfo:f,implementation:d}}var a=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(c,f){if(c==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return pa.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,pa.createPortal=function(c,f){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return i(c,f,null,d)},pa.flushSync=function(c){var f=a.T,d=r.p;try{if(a.T=null,r.p=2,c)return c()}finally{a.T=f,r.p=d,r.d.f()}},pa.preconnect=function(c,f){typeof c=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(c,f))},pa.prefetchDNS=function(c){typeof c=="string"&&r.d.D(c)},pa.preinit=function(c,f){if(typeof c=="string"&&f&&typeof f.as=="string"){var d=f.as,p=o(d,f.crossOrigin),g=typeof f.integrity=="string"?f.integrity:void 0,y=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;d==="style"?r.d.S(c,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:p,integrity:g,fetchPriority:y}):d==="script"&&r.d.X(c,{crossOrigin:p,integrity:g,fetchPriority:y,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},pa.preinitModule=function(c,f){if(typeof c=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var d=o(f.as,f.crossOrigin);r.d.M(c,{crossOrigin:d,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(c)},pa.preload=function(c,f){if(typeof c=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var d=f.as,p=o(d,f.crossOrigin);r.d.L(c,d,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},pa.preloadModule=function(c,f){if(typeof c=="string")if(f){var d=o(f.as,f.crossOrigin);r.d.m(c,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:d,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(c)},pa.requestFormReset=function(c){r.d.r(c)},pa.unstable_batchedUpdates=function(c,f){return c(f)},pa.useFormState=function(c,f,d){return a.H.useFormState(c,f,d)},pa.useFormStatus=function(){return a.H.useHostTransitionStatus()},pa.version="19.2.0",pa}var xC;function gD(){if(xC)return Y_.exports;xC=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Y_.exports=XV(),Y_.exports}var yC;function JV(){if(yC)return km;yC=1;var t=KV(),e=_T(),n=gD();function r(l){var u="https://react.dev/errors/"+l;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)u+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function i(l){var u=l,h=l;if(l.alternate)for(;u.return;)u=u.return;else{l=u;do u=l,(u.flags&4098)!==0&&(h=u.return),l=u.return;while(l)}return u.tag===3?h:null}function a(l){if(l.tag===13){var u=l.memoizedState;if(u===null&&(l=l.alternate,l!==null&&(u=l.memoizedState)),u!==null)return u.dehydrated}return null}function o(l){if(l.tag===31){var u=l.memoizedState;if(u===null&&(l=l.alternate,l!==null&&(u=l.memoizedState)),u!==null)return u.dehydrated}return null}function c(l){if(i(l)!==l)throw Error(r(188))}function f(l){var u=l.alternate;if(!u){if(u=i(l),u===null)throw Error(r(188));return u!==l?null:l}for(var h=l,x=u;;){var S=h.return;if(S===null)break;var I=S.alternate;if(I===null){if(x=S.return,x!==null){h=x;continue}break}if(S.child===I.child){for(I=S.child;I;){if(I===h)return c(S),l;if(I===x)return c(S),u;I=I.sibling}throw Error(r(188))}if(h.return!==x.return)h=S,x=I;else{for(var X=!1,fe=S.child;fe;){if(fe===h){X=!0,h=S,x=I;break}if(fe===x){X=!0,x=S,h=I;break}fe=fe.sibling}if(!X){for(fe=I.child;fe;){if(fe===h){X=!0,h=I,x=S;break}if(fe===x){X=!0,x=I,h=S;break}fe=fe.sibling}if(!X)throw Error(r(189))}}if(h.alternate!==x)throw Error(r(190))}if(h.tag!==3)throw Error(r(188));return h.stateNode.current===h?l:u}function d(l){var u=l.tag;if(u===5||u===26||u===27||u===6)return l;for(l=l.child;l!==null;){if(u=d(l),u!==null)return u;l=l.sibling}return null}var p=Object.assign,g=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),V=Symbol.for("react.consumer"),k=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),q=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function M(l){return l===null||typeof l!="object"?null:(l=P&&l[P]||l["@@iterator"],typeof l=="function"?l:null)}var H=Symbol.for("react.client.reference");function ae(l){if(l==null)return null;if(typeof l=="function")return l.$$typeof===H?null:l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case b:return"Fragment";case N:return"Profiler";case A:return"StrictMode";case W:return"Suspense";case K:return"SuspenseList";case R:return"Activity"}if(typeof l=="object")switch(l.$$typeof){case E:return"Portal";case k:return l.displayName||"Context";case V:return(l._context.displayName||"Context")+".Consumer";case B:var u=l.render;return l=l.displayName,l||(l=u.displayName||u.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case D:return u=l.displayName||null,u!==null?u:ae(l.type)||"Memo";case L:u=l._payload,l=l._init;try{return ae(l(u))}catch{}}return null}var Se=Array.isArray,oe=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ve=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ie={pending:!1,data:null,method:null,action:null},xe=[],Re=-1;function re(l){return{current:l}}function O(l){0>Re||(l.current=xe[Re],xe[Re]=null,Re--)}function J(l,u){Re++,xe[Re]=l.current,l.current=u}var U=re(null),Y=re(null),ne=re(null),ye=re(null);function pe(l,u){switch(J(ne,u),J(Y,l),J(U,null),u.nodeType){case 9:case 11:l=(l=u.documentElement)&&(l=l.namespaceURI)?D4(l):0;break;default:if(l=u.tagName,u=u.namespaceURI)u=D4(u),l=M4(u,l);else switch(l){case"svg":l=1;break;case"math":l=2;break;default:l=0}}O(U),J(U,l)}function ue(){O(U),O(Y),O(ne)}function Te(l){l.memoizedState!==null&&J(ye,l);var u=U.current,h=M4(u,l.type);u!==h&&(J(Y,l),J(U,h))}function je(l){Y.current===l&&(O(U),O(Y)),ye.current===l&&(O(ye),Sm._currentValue=Ie)}var ce,dt;function pt(l){if(ce===void 0)try{throw Error()}catch(h){var u=h.stack.trim().match(/\n( *(at )?)/);ce=u&&u[1]||"",dt=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ce+l+dt}var se=!1;function nt(l,u){if(!l||se)return"";se=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var x={DetermineComponentFrameRoot:function(){try{if(u){var gt=function(){throw Error()};if(Object.defineProperty(gt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(gt,[])}catch(st){var Ze=st}Reflect.construct(l,[],gt)}else{try{gt.call()}catch(st){Ze=st}l.call(gt.prototype)}}else{try{throw Error()}catch(st){Ze=st}(gt=l())&&typeof gt.catch=="function"&&gt.catch(function(){})}}catch(st){if(st&&Ze&&typeof st.stack=="string")return[st.stack,Ze.stack]}return[null,null]}};x.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var S=Object.getOwnPropertyDescriptor(x.DetermineComponentFrameRoot,"name");S&&S.configurable&&Object.defineProperty(x.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var I=x.DetermineComponentFrameRoot(),X=I[0],fe=I[1];if(X&&fe){var Pe=X.split(`
`),Je=fe.split(`
`);for(S=x=0;x<Pe.length&&!Pe[x].includes("DetermineComponentFrameRoot");)x++;for(;S<Je.length&&!Je[S].includes("DetermineComponentFrameRoot");)S++;if(x===Pe.length||S===Je.length)for(x=Pe.length-1,S=Je.length-1;1<=x&&0<=S&&Pe[x]!==Je[S];)S--;for(;1<=x&&0<=S;x--,S--)if(Pe[x]!==Je[S]){if(x!==1||S!==1)do if(x--,S--,0>S||Pe[x]!==Je[S]){var ut=`
`+Pe[x].replace(" at new "," at ");return l.displayName&&ut.includes("<anonymous>")&&(ut=ut.replace("<anonymous>",l.displayName)),ut}while(1<=x&&0<=S);break}}}finally{se=!1,Error.prepareStackTrace=h}return(h=l?l.displayName||l.name:"")?pt(h):""}function it(l,u){switch(l.tag){case 26:case 27:case 5:return pt(l.type);case 16:return pt("Lazy");case 13:return l.child!==u&&u!==null?pt("Suspense Fallback"):pt("Suspense");case 19:return pt("SuspenseList");case 0:case 15:return nt(l.type,!1);case 11:return nt(l.type.render,!1);case 1:return nt(l.type,!0);case 31:return pt("Activity");default:return""}}function Pt(l){try{var u="",h=null;do u+=it(l,h),h=l,l=l.return;while(l);return u}catch(x){return`
Error generating stack: `+x.message+`
`+x.stack}}var tt=Object.prototype.hasOwnProperty,St=t.unstable_scheduleCallback,Ct=t.unstable_cancelCallback,Lt=t.unstable_shouldYield,jt=t.unstable_requestPaint,Qt=t.unstable_now,Zt=t.unstable_getCurrentPriorityLevel,on=t.unstable_ImmediatePriority,Sn=t.unstable_UserBlockingPriority,Bt=t.unstable_NormalPriority,vt=t.unstable_LowPriority,wt=t.unstable_IdlePriority,Et=t.log,Wn=t.unstable_setDisableYieldValue,qt=null,Gt=null;function mn(l){if(typeof Et=="function"&&Wn(l),Gt&&typeof Gt.setStrictMode=="function")try{Gt.setStrictMode(qt,l)}catch{}}var An=Math.clz32?Math.clz32:pn,ln=Math.log,Jn=Math.LN2;function pn(l){return l>>>=0,l===0?32:31-(ln(l)/Jn|0)|0}var fn=256,ar=262144,cn=4194304;function Wt(l){var u=l&42;if(u!==0)return u;switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return l&261888;case 262144:case 524288:case 1048576:case 2097152:return l&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return l&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return l}}function Ln(l,u,h){var x=l.pendingLanes;if(x===0)return 0;var S=0,I=l.suspendedLanes,X=l.pingedLanes;l=l.warmLanes;var fe=x&134217727;return fe!==0?(x=fe&~I,x!==0?S=Wt(x):(X&=fe,X!==0?S=Wt(X):h||(h=fe&~l,h!==0&&(S=Wt(h))))):(fe=x&~I,fe!==0?S=Wt(fe):X!==0?S=Wt(X):h||(h=x&~l,h!==0&&(S=Wt(h)))),S===0?0:u!==0&&u!==S&&(u&I)===0&&(I=S&-S,h=u&-u,I>=h||I===32&&(h&4194048)!==0)?u:S}function as(l,u){return(l.pendingLanes&~(l.suspendedLanes&~l.pingedLanes)&u)===0}function os(l,u){switch(l){case 1:case 2:case 4:case 8:case 64:return u+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ki(){var l=cn;return cn<<=1,(cn&62914560)===0&&(cn=4194304),l}function Hr(l){for(var u=[],h=0;31>h;h++)u.push(l);return u}function un(l,u){l.pendingLanes|=u,u!==268435456&&(l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0)}function Le(l,u,h,x,S,I){var X=l.pendingLanes;l.pendingLanes=h,l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0,l.expiredLanes&=h,l.entangledLanes&=h,l.errorRecoveryDisabledLanes&=h,l.shellSuspendCounter=0;var fe=l.entanglements,Pe=l.expirationTimes,Je=l.hiddenUpdates;for(h=X&~h;0<h;){var ut=31-An(h),gt=1<<ut;fe[ut]=0,Pe[ut]=-1;var Ze=Je[ut];if(Ze!==null)for(Je[ut]=null,ut=0;ut<Ze.length;ut++){var st=Ze[ut];st!==null&&(st.lane&=-536870913)}h&=~gt}x!==0&&Dt(l,x,0),I!==0&&S===0&&l.tag!==0&&(l.suspendedLanes|=I&~(X&~u))}function Dt(l,u,h){l.pendingLanes|=u,l.suspendedLanes&=~u;var x=31-An(u);l.entangledLanes|=u,l.entanglements[x]=l.entanglements[x]|1073741824|h&261930}function Vt(l,u){var h=l.entangledLanes|=u;for(l=l.entanglements;h;){var x=31-An(h),S=1<<x;S&u|l[x]&u&&(l[x]|=u),h&=~S}}function $n(l,u){var h=u&-u;return h=(h&42)!==0?1:Yt(h),(h&(l.suspendedLanes|u))!==0?0:h}function Yt(l){switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=128;break;case 268435456:l=134217728;break;default:l=0}return l}function qn(l){return l&=-l,2<l?8<l?(l&134217727)!==0?32:268435456:8:2}function te(){var l=ve.p;return l!==0?l:(l=window.event,l===void 0?32:rC(l.type))}function be(l,u){var h=ve.p;try{return ve.p=l,u()}finally{ve.p=h}}var he=Math.random().toString(36).slice(2),ge="__reactFiber$"+he,we="__reactProps$"+he,Ee="__reactContainer$"+he,Ve="__reactEvents$"+he,rt="__reactListeners$"+he,Oe="__reactHandles$"+he,He="__reactResources$"+he,Ke="__reactMarker$"+he;function _t(l){delete l[ge],delete l[we],delete l[Ve],delete l[rt],delete l[Oe]}function At(l){var u=l[ge];if(u)return u;for(var h=l.parentNode;h;){if(u=h[Ee]||h[ge]){if(h=u.alternate,u.child!==null||h!==null&&h.child!==null)for(l=j4(l);l!==null;){if(h=l[ge])return h;l=j4(l)}return u}l=h,h=l.parentNode}return null}function Rt(l){if(l=l[ge]||l[Ee]){var u=l.tag;if(u===5||u===6||u===13||u===31||u===26||u===27||u===3)return l}return null}function bt(l){var u=l.tag;if(u===5||u===26||u===27||u===6)return l.stateNode;throw Error(r(33))}function kt(l){var u=l[He];return u||(u=l[He]={hoistableStyles:new Map,hoistableScripts:new Map}),u}function $t(l){l[Ke]=!0}var mr=new Set,zn={};function wr(l,u){zs(l,u),zs(l+"Capture",u)}function zs(l,u){for(zn[l]=u,l=0;l<u.length;l++)mr.add(u[l])}var Wi=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ca={},Ri={};function bo(l){return tt.call(Ri,l)?!0:tt.call(ca,l)?!1:Wi.test(l)?Ri[l]=!0:(ca[l]=!0,!1)}function Zr(l,u,h){if(bo(u))if(h===null)l.removeAttribute(u);else{switch(typeof h){case"undefined":case"function":case"symbol":l.removeAttribute(u);return;case"boolean":var x=u.toLowerCase().slice(0,5);if(x!=="data-"&&x!=="aria-"){l.removeAttribute(u);return}}l.setAttribute(u,""+h)}}function ei(l,u,h){if(h===null)l.removeAttribute(u);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(u);return}l.setAttribute(u,""+h)}}function ps(l,u,h,x){if(x===null)l.removeAttribute(h);else{switch(typeof x){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(h);return}l.setAttributeNS(u,h,""+x)}}function Qn(l){switch(typeof l){case"bigint":case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function wo(l){var u=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function ua(l,u,h){var x=Object.getOwnPropertyDescriptor(l.constructor.prototype,u);if(!l.hasOwnProperty(u)&&typeof x<"u"&&typeof x.get=="function"&&typeof x.set=="function"){var S=x.get,I=x.set;return Object.defineProperty(l,u,{configurable:!0,get:function(){return S.call(this)},set:function(X){h=""+X,I.call(this,X)}}),Object.defineProperty(l,u,{enumerable:x.enumerable}),{getValue:function(){return h},setValue:function(X){h=""+X},stopTracking:function(){l._valueTracker=null,delete l[u]}}}}function or(l){if(!l._valueTracker){var u=wo(l)?"checked":"value";l._valueTracker=ua(l,u,""+l[u])}}function qo(l){if(!l)return!1;var u=l._valueTracker;if(!u)return!0;var h=u.getValue(),x="";return l&&(x=wo(l)?l.checked?"true":"false":l.value),l=x,l!==h?(u.setValue(l),!0):!1}function Es(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}var es=/[\n"\\]/g;function ms(l){return l.replace(es,function(u){return"\\"+u.charCodeAt(0).toString(16)+" "})}function vl(l,u,h,x,S,I,X,fe){l.name="",X!=null&&typeof X!="function"&&typeof X!="symbol"&&typeof X!="boolean"?l.type=X:l.removeAttribute("type"),u!=null?X==="number"?(u===0&&l.value===""||l.value!=u)&&(l.value=""+Qn(u)):l.value!==""+Qn(u)&&(l.value=""+Qn(u)):X!=="submit"&&X!=="reset"||l.removeAttribute("value"),u!=null?Gc(l,X,Qn(u)):h!=null?Gc(l,X,Qn(h)):x!=null&&l.removeAttribute("value"),S==null&&I!=null&&(l.defaultChecked=!!I),S!=null&&(l.checked=S&&typeof S!="function"&&typeof S!="symbol"),fe!=null&&typeof fe!="function"&&typeof fe!="symbol"&&typeof fe!="boolean"?l.name=""+Qn(fe):l.removeAttribute("name")}function zu(l,u,h,x,S,I,X,fe){if(I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"&&(l.type=I),u!=null||h!=null){if(!(I!=="submit"&&I!=="reset"||u!=null)){or(l);return}h=h!=null?""+Qn(h):"",u=u!=null?""+Qn(u):h,fe||u===l.value||(l.value=u),l.defaultValue=u}x=x??S,x=typeof x!="function"&&typeof x!="symbol"&&!!x,l.checked=fe?l.checked:!!x,l.defaultChecked=!!x,X!=null&&typeof X!="function"&&typeof X!="symbol"&&typeof X!="boolean"&&(l.name=X),or(l)}function Gc(l,u,h){u==="number"&&Es(l.ownerDocument)===l||l.defaultValue===""+h||(l.defaultValue=""+h)}function hi(l,u,h,x){if(l=l.options,u){u={};for(var S=0;S<h.length;S++)u["$"+h[S]]=!0;for(h=0;h<l.length;h++)S=u.hasOwnProperty("$"+l[h].value),l[h].selected!==S&&(l[h].selected=S),S&&x&&(l[h].defaultSelected=!0)}else{for(h=""+Qn(h),u=null,S=0;S<l.length;S++){if(l[S].value===h){l[S].selected=!0,x&&(l[S].defaultSelected=!0);return}u!==null||l[S].disabled||(u=l[S])}u!==null&&(u.selected=!0)}}function Wc(l,u,h){if(u!=null&&(u=""+Qn(u),u!==l.value&&(l.value=u),h==null)){l.defaultValue!==u&&(l.defaultValue=u);return}l.defaultValue=h!=null?""+Qn(h):""}function To(l,u,h,x){if(u==null){if(x!=null){if(h!=null)throw Error(r(92));if(Se(x)){if(1<x.length)throw Error(r(93));x=x[0]}h=x}h==null&&(h=""),u=h}h=Qn(u),l.defaultValue=h,x=l.textContent,x===h&&x!==""&&x!==null&&(l.value=x),or(l)}function Gs(l,u){if(u){var h=l.firstChild;if(h&&h===l.lastChild&&h.nodeType===3){h.nodeValue=u;return}}l.textContent=u}var Ho=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function $c(l,u,h){var x=u.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?x?l.setProperty(u,""):u==="float"?l.cssFloat="":l[u]="":x?l.setProperty(u,h):typeof h!="number"||h===0||Ho.has(u)?u==="float"?l.cssFloat=h:l[u]=(""+h).trim():l[u]=h+"px"}function Kc(l,u,h){if(u!=null&&typeof u!="object")throw Error(r(62));if(l=l.style,h!=null){for(var x in h)!h.hasOwnProperty(x)||u!=null&&u.hasOwnProperty(x)||(x.indexOf("--")===0?l.setProperty(x,""):x==="float"?l.cssFloat="":l[x]="");for(var S in u)x=u[S],u.hasOwnProperty(S)&&h[S]!==x&&$c(l,S,x)}else for(var I in u)u.hasOwnProperty(I)&&$c(l,I,u[I])}function tc(l){if(l.indexOf("-")===-1)return!1;switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Eo=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pi(l){return Eo.test(""+l)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":l}function Pa(){}var So=null;function Di(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var zo=null,yn=null;function _l(l){var u=Rt(l);if(u&&(l=u.stateNode)){var h=l[we]||null;e:switch(l=u.stateNode,u.type){case"input":if(vl(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),u=h.name,h.type==="radio"&&u!=null){for(h=l;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+ms(""+u)+'"][type="radio"]'),u=0;u<h.length;u++){var x=h[u];if(x!==l&&x.form===l.form){var S=x[we]||null;if(!S)throw Error(r(90));vl(x,S.value,S.defaultValue,S.defaultValue,S.checked,S.defaultChecked,S.type,S.name)}}for(u=0;u<h.length;u++)x=h[u],x.form===l.form&&qo(x)}break e;case"textarea":Wc(l,h.value,h.defaultValue);break e;case"select":u=h.value,u!=null&&hi(l,!!h.multiple,u,!1)}}}var rc=!1;function Go(l,u,h){if(rc)return l(u,h);rc=!0;try{var x=l(u);return x}finally{if(rc=!1,(zo!==null||yn!==null)&&(lx(),zo&&(u=zo,l=yn,yn=zo=null,_l(u),l)))for(u=0;u<l.length;u++)_l(l[u])}}function Ws(l,u){var h=l.stateNode;if(h===null)return null;var x=h[we]||null;if(x===null)return null;h=x[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(x=!x.disabled)||(l=l.type,x=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!x;break e;default:l=!1}if(l)return null;if(h&&typeof h!="function")throw Error(r(231,u,typeof h));return h}var Ps=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bl=!1;if(Ps)try{var Ar={};Object.defineProperty(Ar,"passive",{get:function(){bl=!0}}),window.addEventListener("test",Ar,Ar),window.removeEventListener("test",Ar,Ar)}catch{bl=!1}var $i=null,wl=null,Da=null;function Yc(){if(Da)return Da;var l,u=wl,h=u.length,x,S="value"in $i?$i.value:$i.textContent,I=S.length;for(l=0;l<h&&u[l]===S[l];l++);var X=h-l;for(x=1;x<=X&&u[h-x]===S[I-x];x++);return Da=S.slice(l,1<x?1-x:void 0)}function Ki(l){var u=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&u===13&&(l=13)):l=u,l===10&&(l=13),32<=l||l===13?l:0}function Ao(){return!0}function Yi(){return!1}function Ss(l){function u(h,x,S,I,X){this._reactName=h,this._targetInst=S,this.type=x,this.nativeEvent=I,this.target=X,this.currentTarget=null;for(var fe in l)l.hasOwnProperty(fe)&&(h=l[fe],this[fe]=h?h(I):I[fe]);return this.isDefaultPrevented=(I.defaultPrevented!=null?I.defaultPrevented:I.returnValue===!1)?Ao:Yi,this.isPropagationStopped=Yi,this}return p(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Ao)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Ao)},persist:function(){},isPersistent:Ao}),u}var Ka={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ti=Ss(Ka),Ya=p({},Ka,{view:0,detail:0}),Wo=Ss(Ya),Xa,Ja,fa,Tl=p({},Ya,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_n,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==fa&&(fa&&l.type==="mousemove"?(Xa=l.screenX-fa.screenX,Ja=l.screenY-fa.screenY):Ja=Xa=0,fa=l),Xa)},movementY:function(l){return"movementY"in l?l.movementY:Ja}}),sc=Ss(Tl),Xi=p({},Tl,{dataTransfer:0}),Qa=Ss(Xi),Xc=p({},Ya,{relatedTarget:0}),Ma=Ss(Xc),ic=p({},Ka,{animationName:0,elapsedTime:0,pseudoElement:0}),F=Ss(ic),Z=p({},Ka,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),Ce=Ss(Z),De=p({},Ka,{data:0}),Ue=Ss(De),ct={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Kt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function en(l){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(l):(l=Kt[l])?!!u[l]:!1}function _n(){return en}var gn=p({},Ya,{key:function(l){if(l.key){var u=ct[l.key]||l.key;if(u!=="Unidentified")return u}return l.type==="keypress"?(l=Ki(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?yt[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_n,charCode:function(l){return l.type==="keypress"?Ki(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?Ki(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),er=Ss(gn),zr=p({},Tl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mr=Ss(zr),w=p({},Ya,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_n}),z=Ss(w),Q=p({},Ka,{propertyName:0,elapsedTime:0,pseudoElement:0}),me=Ss(Q),ze=p({},Tl,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),Qe=Ss(ze),It=p({},Ka,{newState:0,oldState:0}),In=Ss(It),Gr=[9,13,27,32],Yn=Ps&&"CompositionEvent"in window,Cr=null;Ps&&"documentMode"in document&&(Cr=document.documentMode);var ni=Ps&&"TextEvent"in window&&!Cr,pi=Ps&&(!Yn||Cr&&8<Cr&&11>=Cr),Fr=" ",mi=!1;function La(l,u){switch(l){case"keyup":return Gr.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $o(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var Ko=!1;function Ji(l,u){switch(l){case"compositionend":return $o(u);case"keypress":return u.which!==32?null:(mi=!0,Fr);case"textInput":return l=u.data,l===Fr&&mi?null:l;default:return null}}function El(l,u){if(Ko)return l==="compositionend"||!Yn&&La(l,u)?(l=Yc(),Da=wl=$i=null,Ko=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return pi&&u.locale!=="ko"?null:u.data;default:return null}}var Gu={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cd(l){var u=l&&l.nodeName&&l.nodeName.toLowerCase();return u==="input"?!!Gu[l.type]:u==="textarea"}function Fa(l,u,h,x){zo?yn?yn.push(x):yn=[x]:zo=x,u=mx(u,"onChange"),0<u.length&&(h=new ti("onChange","change",null,h,x),l.push({event:h,listeners:u}))}var Co=null,Sl=null;function ud(l){C4(l,0)}function No(l){var u=bt(l);if(qo(u))return l}function ac(l,u){if(l==="change")return u}var da=!1;if(Ps){var Qi;if(Ps){var Yo="oninput"in document;if(!Yo){var Xo=document.createElement("div");Xo.setAttribute("oninput","return;"),Yo=typeof Xo.oninput=="function"}Qi=Yo}else Qi=!1;da=Qi&&(!document.documentMode||9<document.documentMode)}function Al(){Co&&(Co.detachEvent("onpropertychange",Wu),Sl=Co=null)}function Wu(l){if(l.propertyName==="value"&&No(Sl)){var u=[];Fa(u,Sl,l,Di(l)),Go(ud,u)}}function $u(l,u,h){l==="focusin"?(Al(),Co=u,Sl=h,Co.attachEvent("onpropertychange",Wu)):l==="focusout"&&Al()}function As(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return No(Sl)}function Dh(l,u){if(l==="click")return No(u)}function Jo(l,u){if(l==="input"||l==="change")return No(u)}function Qo(l,u){return l===u&&(l!==0||1/l===1/u)||l!==l&&u!==u}var gi=typeof Object.is=="function"?Object.is:Qo;function Cl(l,u){if(gi(l,u))return!0;if(typeof l!="object"||l===null||typeof u!="object"||u===null)return!1;var h=Object.keys(l),x=Object.keys(u);if(h.length!==x.length)return!1;for(x=0;x<h.length;x++){var S=h[x];if(!tt.call(u,S)||!gi(l[S],u[S]))return!1}return!0}function Ku(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function Yu(l,u){var h=Ku(l);l=0;for(var x;h;){if(h.nodeType===3){if(x=l+h.textContent.length,l<=u&&x>=u)return{node:h,offset:u-l};l=x}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=Ku(h)}}function Nl(l,u){return l&&u?l===u?!0:l&&l.nodeType===3?!1:u&&u.nodeType===3?Nl(l,u.parentNode):"contains"in l?l.contains(u):l.compareDocumentPosition?!!(l.compareDocumentPosition(u)&16):!1:!1}function Il(l){l=l!=null&&l.ownerDocument!=null&&l.ownerDocument.defaultView!=null?l.ownerDocument.defaultView:window;for(var u=Es(l.document);u instanceof l.HTMLIFrameElement;){try{var h=typeof u.contentWindow.location.href=="string"}catch{h=!1}if(h)l=u.contentWindow;else break;u=Es(l.document)}return u}function Zo(l){var u=l&&l.nodeName&&l.nodeName.toLowerCase();return u&&(u==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||u==="textarea"||l.contentEditable==="true")}var Jc=Ps&&"documentMode"in document&&11>=document.documentMode,Oa=null,kl=null,Mi=null,Za=!1;function Tr(l,u,h){var x=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;Za||Oa==null||Oa!==Es(x)||(x=Oa,"selectionStart"in x&&Zo(x)?x={start:x.selectionStart,end:x.selectionEnd}:(x=(x.ownerDocument&&x.ownerDocument.defaultView||window).getSelection(),x={anchorNode:x.anchorNode,anchorOffset:x.anchorOffset,focusNode:x.focusNode,focusOffset:x.focusOffset}),Mi&&Cl(Mi,x)||(Mi=x,x=mx(kl,"onSelect"),0<x.length&&(u=new ti("onSelect","select",null,u,h),l.push({event:u,listeners:x}),u.target=Oa)))}function fr(l,u){var h={};return h[l.toLowerCase()]=u.toLowerCase(),h["Webkit"+l]="webkit"+u,h["Moz"+l]="moz"+u,h}var Wr={animationend:fr("Animation","AnimationEnd"),animationiteration:fr("Animation","AnimationIteration"),animationstart:fr("Animation","AnimationStart"),transitionrun:fr("Transition","TransitionRun"),transitionstart:fr("Transition","TransitionStart"),transitioncancel:fr("Transition","TransitionCancel"),transitionend:fr("Transition","TransitionEnd")},Cs={},el={};Ps&&(el=document.createElement("div").style,"AnimationEvent"in window||(delete Wr.animationend.animation,delete Wr.animationiteration.animation,delete Wr.animationstart.animation),"TransitionEvent"in window||delete Wr.transitionend.transition);function Io(l){if(Cs[l])return Cs[l];if(!Wr[l])return l;var u=Wr[l],h;for(h in u)if(u.hasOwnProperty(h)&&h in el)return Cs[l]=u[h];return l}var Qc=Io("animationend"),fd=Io("animationiteration"),Kp=Io("animationstart"),B1=Io("transitionrun"),V1=Io("transitionstart"),U1=Io("transitioncancel"),Yp=Io("transitionend"),Xp=new Map,Zc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Zc.push("scrollEnd");function eo(l,u){Xp.set(l,u),wr(u,[l])}var dd=typeof reportError=="function"?reportError:function(l){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var u=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof l=="object"&&l!==null&&typeof l.message=="string"?String(l.message):String(l),error:l});if(!window.dispatchEvent(u))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",l);return}console.error(l)},Ba=[],eu=0,Mh=0;function hd(){for(var l=eu,u=Mh=eu=0;u<l;){var h=Ba[u];Ba[u++]=null;var x=Ba[u];Ba[u++]=null;var S=Ba[u];Ba[u++]=null;var I=Ba[u];if(Ba[u++]=null,x!==null&&S!==null){var X=x.pending;X===null?S.next=S:(S.next=X.next,X.next=S),x.pending=S}I!==0&&md(h,S,I)}}function pd(l,u,h,x){Ba[eu++]=l,Ba[eu++]=u,Ba[eu++]=h,Ba[eu++]=x,Mh|=x,l.lanes|=x,l=l.alternate,l!==null&&(l.lanes|=x)}function Lh(l,u,h,x){return pd(l,u,h,x),Li(l)}function Rl(l,u){return pd(l,null,null,u),Li(l)}function md(l,u,h){l.lanes|=h;var x=l.alternate;x!==null&&(x.lanes|=h);for(var S=!1,I=l.return;I!==null;)I.childLanes|=h,x=I.alternate,x!==null&&(x.childLanes|=h),I.tag===22&&(l=I.stateNode,l===null||l._visibility&1||(S=!0)),l=I,I=I.return;return l.tag===3?(I=l.stateNode,S&&u!==null&&(S=31-An(h),l=I.hiddenUpdates,x=l[S],x===null?l[S]=[u]:x.push(u),u.lane=h|536870912),I):null}function Li(l){if(50<ym)throw ym=0,p_=null,Error(r(185));for(var u=l.return;u!==null;)l=u,u=l.return;return l.tag===3?l.stateNode:null}var xi={};function Fh(l,u,h,x){this.tag=l,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fi(l,u,h,x){return new Fh(l,u,h,x)}function Oh(l){return l=l.prototype,!(!l||!l.isReactComponent)}function to(l,u){var h=l.alternate;return h===null?(h=Fi(l.tag,u,l.key,l.mode),h.elementType=l.elementType,h.type=l.type,h.stateNode=l.stateNode,h.alternate=l,l.alternate=h):(h.pendingProps=u,h.type=l.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=l.flags&65011712,h.childLanes=l.childLanes,h.lanes=l.lanes,h.child=l.child,h.memoizedProps=l.memoizedProps,h.memoizedState=l.memoizedState,h.updateQueue=l.updateQueue,u=l.dependencies,h.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},h.sibling=l.sibling,h.index=l.index,h.ref=l.ref,h.refCleanup=l.refCleanup,h}function gd(l,u){l.flags&=65011714;var h=l.alternate;return h===null?(l.childLanes=0,l.lanes=u,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=h.childLanes,l.lanes=h.lanes,l.child=h.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=h.memoizedProps,l.memoizedState=h.memoizedState,l.updateQueue=h.updateQueue,l.type=h.type,u=h.dependencies,l.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),l}function Xu(l,u,h,x,S,I){var X=0;if(x=l,typeof l=="function")Oh(l)&&(X=1);else if(typeof l=="string")X=DV(l,h,U.current)?26:l==="html"||l==="head"||l==="body"?27:5;else e:switch(l){case R:return l=Fi(31,h,u,S),l.elementType=R,l.lanes=I,l;case b:return oc(h.children,S,I,u);case A:X=8,S|=24;break;case N:return l=Fi(12,h,u,S|2),l.elementType=N,l.lanes=I,l;case W:return l=Fi(13,h,u,S),l.elementType=W,l.lanes=I,l;case K:return l=Fi(19,h,u,S),l.elementType=K,l.lanes=I,l;default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case k:X=10;break e;case V:X=9;break e;case B:X=11;break e;case D:X=14;break e;case L:X=16,x=null;break e}X=29,h=Error(r(130,l===null?"null":typeof l,"")),x=null}return u=Fi(X,h,u,S),u.elementType=l,u.type=x,u.lanes=I,u}function oc(l,u,h,x){return l=Fi(7,l,x,u),l.lanes=h,l}function xd(l,u,h){return l=Fi(6,l,null,u),l.lanes=h,l}function Bh(l){var u=Fi(18,null,null,0);return u.stateNode=l,u}function Ju(l,u,h){return u=Fi(4,l.children!==null?l.children:[],l.key,u),u.lanes=h,u.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},u}var Vh=new WeakMap;function no(l,u){if(typeof l=="object"&&l!==null){var h=Vh.get(l);return h!==void 0?h:(u={value:l,source:u,stack:Pt(u)},Vh.set(l,u),u)}return{value:l,source:u,stack:Pt(u)}}var Qu=[],tu=0,Uh=null,yd=0,ro=[],so=0,lc=null,io=1,ao="";function Va(l,u){Qu[tu++]=yd,Qu[tu++]=Uh,Uh=l,yd=u}function j1(l,u,h){ro[so++]=io,ro[so++]=ao,ro[so++]=lc,lc=l;var x=io;l=ao;var S=32-An(x)-1;x&=~(1<<S),h+=1;var I=32-An(u)+S;if(30<I){var X=S-S%5;I=(x&(1<<X)-1).toString(32),x>>=X,S-=X,io=1<<32-An(u)+S|h<<S|x,ao=I+l}else io=1<<I|h<<S|x,ao=l}function Jp(l){l.return!==null&&(Va(l,1),j1(l,1,0))}function jh(l){for(;l===Uh;)Uh=Qu[--tu],Qu[tu]=null,yd=Qu[--tu],Qu[tu]=null;for(;l===lc;)lc=ro[--so],ro[so]=null,ao=ro[--so],ro[so]=null,io=ro[--so],ro[so]=null}function q1(l,u){ro[so++]=io,ro[so++]=ao,ro[so++]=lc,io=u.id,ao=u.overflow,lc=l}var yi=null,ts=null,nr=!1,Zi=null,gs=!1,ko=Error(r(519));function cc(l){var u=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Zu(no(u,l)),ko}function Qp(l){var u=l.stateNode,h=l.type,x=l.memoizedProps;switch(u[ge]=l,u[we]=x,h){case"dialog":sr("cancel",u),sr("close",u);break;case"iframe":case"object":case"embed":sr("load",u);break;case"video":case"audio":for(h=0;h<_m.length;h++)sr(_m[h],u);break;case"source":sr("error",u);break;case"img":case"image":case"link":sr("error",u),sr("load",u);break;case"details":sr("toggle",u);break;case"input":sr("invalid",u),zu(u,x.value,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name,!0);break;case"select":sr("invalid",u);break;case"textarea":sr("invalid",u),To(u,x.value,x.defaultValue,x.children)}h=x.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||u.textContent===""+h||x.suppressHydrationWarning===!0||R4(u.textContent,h)?(x.popover!=null&&(sr("beforetoggle",u),sr("toggle",u)),x.onScroll!=null&&sr("scroll",u),x.onScrollEnd!=null&&sr("scrollend",u),x.onClick!=null&&(u.onclick=Pa),u=!0):u=!1,u||cc(l,!0)}function Pl(l){for(yi=l.return;yi;)switch(yi.tag){case 5:case 31:case 13:gs=!1;return;case 27:case 3:gs=!0;return;default:yi=yi.return}}function vi(l){if(l!==yi)return!1;if(!nr)return Pl(l),nr=!0,!1;var u=l.tag,h;if((h=u!==3&&u!==27)&&((h=u===5)&&(h=l.type,h=!(h!=="form"&&h!=="button")||I_(l.type,l.memoizedProps)),h=!h),h&&ts&&cc(l),Pl(l),u===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(317));ts=U4(l)}else if(u===31){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(317));ts=U4(l)}else u===27?(u=ts,pf(l.type)?(l=M_,M_=null,ts=l):ts=u):ts=yi?sl(l.stateNode.nextSibling):null;return!0}function nu(){ts=yi=null,nr=!1}function Zp(){var l=Zi;return l!==null&&(ho===null?ho=l:ho.push.apply(ho,l),Zi=null),l}function Zu(l){Zi===null?Zi=[l]:Zi.push(l)}var qh=re(null),uc=null,tl=null;function fc(l,u,h){J(qh,u._currentValue),u._currentValue=h}function oo(l){l._currentValue=qh.current,O(qh)}function ef(l,u,h){for(;l!==null;){var x=l.alternate;if((l.childLanes&u)!==u?(l.childLanes|=u,x!==null&&(x.childLanes|=u)):x!==null&&(x.childLanes&u)!==u&&(x.childLanes|=u),l===h)break;l=l.return}}function ru(l,u,h,x){var S=l.child;for(S!==null&&(S.return=l);S!==null;){var I=S.dependencies;if(I!==null){var X=S.child;I=I.firstContext;e:for(;I!==null;){var fe=I;I=S;for(var Pe=0;Pe<u.length;Pe++)if(fe.context===u[Pe]){I.lanes|=h,fe=I.alternate,fe!==null&&(fe.lanes|=h),ef(I.return,h,l),x||(X=null);break e}I=fe.next}}else if(S.tag===18){if(X=S.return,X===null)throw Error(r(341));X.lanes|=h,I=X.alternate,I!==null&&(I.lanes|=h),ef(X,h,l),X=null}else X=S.child;if(X!==null)X.return=S;else for(X=S;X!==null;){if(X===l){X=null;break}if(S=X.sibling,S!==null){S.return=X.return,X=S;break}X=X.return}S=X}}function dc(l,u,h,x){l=null;for(var S=u,I=!1;S!==null;){if(!I){if((S.flags&524288)!==0)I=!0;else if((S.flags&262144)!==0)break}if(S.tag===10){var X=S.alternate;if(X===null)throw Error(r(387));if(X=X.memoizedProps,X!==null){var fe=S.type;gi(S.pendingProps.value,X.value)||(l!==null?l.push(fe):l=[fe])}}else if(S===ye.current){if(X=S.alternate,X===null)throw Error(r(387));X.memoizedState.memoizedState!==S.memoizedState.memoizedState&&(l!==null?l.push(Sm):l=[Sm])}S=S.return}l!==null&&ru(u,l,h,x),u.flags|=262144}function Hh(l){for(l=l.firstContext;l!==null;){if(!gi(l.context._currentValue,l.memoizedValue))return!0;l=l.next}return!1}function hc(l){uc=l,tl=null,l=l.dependencies,l!==null&&(l.firstContext=null)}function _i(l){return H1(uc,l)}function zh(l,u){return uc===null&&hc(l),H1(l,u)}function H1(l,u){var h=u._currentValue;if(u={context:u,memoizedValue:h,next:null},tl===null){if(l===null)throw Error(r(308));tl=u,l.dependencies={lanes:0,firstContext:u},l.flags|=524288}else tl=tl.next=u;return h}var Dv=typeof AbortController<"u"?AbortController:function(){var l=[],u=this.signal={aborted:!1,addEventListener:function(h,x){l.push(x)}};this.abort=function(){u.aborted=!0,l.forEach(function(h){return h()})}},Mv=t.unstable_scheduleCallback,Lv=t.unstable_NormalPriority,Ns={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function tf(){return{controller:new Dv,data:new Map,refCount:0}}function vd(l){l.refCount--,l.refCount===0&&Mv(Lv,function(){l.controller.abort()})}var _d=null,Gh=0,_=0,C=null;function j(l,u){if(_d===null){var h=_d=[];Gh=0,_=__(),C={status:"pending",value:void 0,then:function(x){h.push(x)}}}return Gh++,u.then(G,G),u}function G(){if(--Gh===0&&_d!==null){C!==null&&(C.status="fulfilled");var l=_d;_d=null,_=0,C=null;for(var u=0;u<l.length;u++)(0,l[u])()}}function ee(l,u){var h=[],x={status:"pending",value:null,reason:null,then:function(S){h.push(S)}};return l.then(function(){x.status="fulfilled",x.value=u;for(var S=0;S<h.length;S++)(0,h[S])(u)},function(S){for(x.status="rejected",x.reason=S,S=0;S<h.length;S++)(0,h[S])(void 0)}),x}var ie=oe.S;oe.S=function(l,u){t4=Qt(),typeof u=="object"&&u!==null&&typeof u.then=="function"&&j(l,u),ie!==null&&ie(l,u)};var le=re(null);function de(){var l=le.current;return l!==null?l:rs.pooledCache}function _e(l,u){u===null?J(le,le.current):J(le,u.pool)}function Ne(){var l=de();return l===null?null:{parent:Ns._currentValue,pool:l}}var Me=Error(r(460)),Ye=Error(r(474)),Ae=Error(r(542)),Be={then:function(){}};function Ge(l){return l=l.status,l==="fulfilled"||l==="rejected"}function lt(l,u,h){switch(h=l[h],h===void 0?l.push(u):h!==u&&(u.then(Pa,Pa),u=h),u.status){case"fulfilled":return u.value;case"rejected":throw l=u.reason,Tt(l),l;default:if(typeof u.status=="string")u.then(Pa,Pa);else{if(l=rs,l!==null&&100<l.shellSuspendCounter)throw Error(r(482));l=u,l.status="pending",l.then(function(x){if(u.status==="pending"){var S=u;S.status="fulfilled",S.value=x}},function(x){if(u.status==="pending"){var S=u;S.status="rejected",S.reason=x}})}switch(u.status){case"fulfilled":return u.value;case"rejected":throw l=u.reason,Tt(l),l}throw at=u,Me}}function We(l){try{var u=l._init;return u(l._payload)}catch(h){throw h!==null&&typeof h=="object"&&typeof h.then=="function"?(at=h,Me):h}}var at=null;function ft(){if(at===null)throw Error(r(459));var l=at;return at=null,l}function Tt(l){if(l===Me||l===Ae)throw Error(r(483))}var xt=null,tn=0;function Ht(l){var u=tn;return tn+=1,xt===null&&(xt=[]),lt(xt,l,u)}function Pn(l,u){u=u.props.ref,l.ref=u!==void 0?u:null}function Xt(l,u){throw u.$$typeof===g?Error(r(525)):(l=Object.prototype.toString.call(u),Error(r(31,l==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":l)))}function tr(l){function u(qe,Fe){if(l){var Xe=qe.deletions;Xe===null?(qe.deletions=[Fe],qe.flags|=16):Xe.push(Fe)}}function h(qe,Fe){if(!l)return null;for(;Fe!==null;)u(qe,Fe),Fe=Fe.sibling;return null}function x(qe){for(var Fe=new Map;qe!==null;)qe.key!==null?Fe.set(qe.key,qe):Fe.set(qe.index,qe),qe=qe.sibling;return Fe}function S(qe,Fe){return qe=to(qe,Fe),qe.index=0,qe.sibling=null,qe}function I(qe,Fe,Xe){return qe.index=Xe,l?(Xe=qe.alternate,Xe!==null?(Xe=Xe.index,Xe<Fe?(qe.flags|=67108866,Fe):Xe):(qe.flags|=67108866,Fe)):(qe.flags|=1048576,Fe)}function X(qe){return l&&qe.alternate===null&&(qe.flags|=67108866),qe}function fe(qe,Fe,Xe,ht){return Fe===null||Fe.tag!==6?(Fe=xd(Xe,qe.mode,ht),Fe.return=qe,Fe):(Fe=S(Fe,Xe),Fe.return=qe,Fe)}function Pe(qe,Fe,Xe,ht){var wn=Xe.type;return wn===b?ut(qe,Fe,Xe.props.children,ht,Xe.key):Fe!==null&&(Fe.elementType===wn||typeof wn=="object"&&wn!==null&&wn.$$typeof===L&&We(wn)===Fe.type)?(Fe=S(Fe,Xe.props),Pn(Fe,Xe),Fe.return=qe,Fe):(Fe=Xu(Xe.type,Xe.key,Xe.props,null,qe.mode,ht),Pn(Fe,Xe),Fe.return=qe,Fe)}function Je(qe,Fe,Xe,ht){return Fe===null||Fe.tag!==4||Fe.stateNode.containerInfo!==Xe.containerInfo||Fe.stateNode.implementation!==Xe.implementation?(Fe=Ju(Xe,qe.mode,ht),Fe.return=qe,Fe):(Fe=S(Fe,Xe.children||[]),Fe.return=qe,Fe)}function ut(qe,Fe,Xe,ht,wn){return Fe===null||Fe.tag!==7?(Fe=oc(Xe,qe.mode,ht,wn),Fe.return=qe,Fe):(Fe=S(Fe,Xe),Fe.return=qe,Fe)}function gt(qe,Fe,Xe){if(typeof Fe=="string"&&Fe!==""||typeof Fe=="number"||typeof Fe=="bigint")return Fe=xd(""+Fe,qe.mode,Xe),Fe.return=qe,Fe;if(typeof Fe=="object"&&Fe!==null){switch(Fe.$$typeof){case y:return Xe=Xu(Fe.type,Fe.key,Fe.props,null,qe.mode,Xe),Pn(Xe,Fe),Xe.return=qe,Xe;case E:return Fe=Ju(Fe,qe.mode,Xe),Fe.return=qe,Fe;case L:return Fe=We(Fe),gt(qe,Fe,Xe)}if(Se(Fe)||M(Fe))return Fe=oc(Fe,qe.mode,Xe,null),Fe.return=qe,Fe;if(typeof Fe.then=="function")return gt(qe,Ht(Fe),Xe);if(Fe.$$typeof===k)return gt(qe,zh(qe,Fe),Xe);Xt(qe,Fe)}return null}function Ze(qe,Fe,Xe,ht){var wn=Fe!==null?Fe.key:null;if(typeof Xe=="string"&&Xe!==""||typeof Xe=="number"||typeof Xe=="bigint")return wn!==null?null:fe(qe,Fe,""+Xe,ht);if(typeof Xe=="object"&&Xe!==null){switch(Xe.$$typeof){case y:return Xe.key===wn?Pe(qe,Fe,Xe,ht):null;case E:return Xe.key===wn?Je(qe,Fe,Xe,ht):null;case L:return Xe=We(Xe),Ze(qe,Fe,Xe,ht)}if(Se(Xe)||M(Xe))return wn!==null?null:ut(qe,Fe,Xe,ht,null);if(typeof Xe.then=="function")return Ze(qe,Fe,Ht(Xe),ht);if(Xe.$$typeof===k)return Ze(qe,Fe,zh(qe,Xe),ht);Xt(qe,Xe)}return null}function st(qe,Fe,Xe,ht,wn){if(typeof ht=="string"&&ht!==""||typeof ht=="number"||typeof ht=="bigint")return qe=qe.get(Xe)||null,fe(Fe,qe,""+ht,wn);if(typeof ht=="object"&&ht!==null){switch(ht.$$typeof){case y:return qe=qe.get(ht.key===null?Xe:ht.key)||null,Pe(Fe,qe,ht,wn);case E:return qe=qe.get(ht.key===null?Xe:ht.key)||null,Je(Fe,qe,ht,wn);case L:return ht=We(ht),st(qe,Fe,Xe,ht,wn)}if(Se(ht)||M(ht))return qe=qe.get(Xe)||null,ut(Fe,qe,ht,wn,null);if(typeof ht.then=="function")return st(qe,Fe,Xe,Ht(ht),wn);if(ht.$$typeof===k)return st(qe,Fe,Xe,zh(Fe,ht),wn);Xt(Fe,ht)}return null}function Jt(qe,Fe,Xe,ht){for(var wn=null,Nr=null,dn=Fe,Kn=Fe=0,cr=null;dn!==null&&Kn<Xe.length;Kn++){dn.index>Kn?(cr=dn,dn=null):cr=dn.sibling;var Ir=Ze(qe,dn,Xe[Kn],ht);if(Ir===null){dn===null&&(dn=cr);break}l&&dn&&Ir.alternate===null&&u(qe,dn),Fe=I(Ir,Fe,Kn),Nr===null?wn=Ir:Nr.sibling=Ir,Nr=Ir,dn=cr}if(Kn===Xe.length)return h(qe,dn),nr&&Va(qe,Kn),wn;if(dn===null){for(;Kn<Xe.length;Kn++)dn=gt(qe,Xe[Kn],ht),dn!==null&&(Fe=I(dn,Fe,Kn),Nr===null?wn=dn:Nr.sibling=dn,Nr=dn);return nr&&Va(qe,Kn),wn}for(dn=x(dn);Kn<Xe.length;Kn++)cr=st(dn,qe,Kn,Xe[Kn],ht),cr!==null&&(l&&cr.alternate!==null&&dn.delete(cr.key===null?Kn:cr.key),Fe=I(cr,Fe,Kn),Nr===null?wn=cr:Nr.sibling=cr,Nr=cr);return l&&dn.forEach(function(vf){return u(qe,vf)}),nr&&Va(qe,Kn),wn}function Cn(qe,Fe,Xe,ht){if(Xe==null)throw Error(r(151));for(var wn=null,Nr=null,dn=Fe,Kn=Fe=0,cr=null,Ir=Xe.next();dn!==null&&!Ir.done;Kn++,Ir=Xe.next()){dn.index>Kn?(cr=dn,dn=null):cr=dn.sibling;var vf=Ze(qe,dn,Ir.value,ht);if(vf===null){dn===null&&(dn=cr);break}l&&dn&&vf.alternate===null&&u(qe,dn),Fe=I(vf,Fe,Kn),Nr===null?wn=vf:Nr.sibling=vf,Nr=vf,dn=cr}if(Ir.done)return h(qe,dn),nr&&Va(qe,Kn),wn;if(dn===null){for(;!Ir.done;Kn++,Ir=Xe.next())Ir=gt(qe,Ir.value,ht),Ir!==null&&(Fe=I(Ir,Fe,Kn),Nr===null?wn=Ir:Nr.sibling=Ir,Nr=Ir);return nr&&Va(qe,Kn),wn}for(dn=x(dn);!Ir.done;Kn++,Ir=Xe.next())Ir=st(dn,qe,Kn,Ir.value,ht),Ir!==null&&(l&&Ir.alternate!==null&&dn.delete(Ir.key===null?Kn:Ir.key),Fe=I(Ir,Fe,Kn),Nr===null?wn=Ir:Nr.sibling=Ir,Nr=Ir);return l&&dn.forEach(function(zV){return u(qe,zV)}),nr&&Va(qe,Kn),wn}function Xr(qe,Fe,Xe,ht){if(typeof Xe=="object"&&Xe!==null&&Xe.type===b&&Xe.key===null&&(Xe=Xe.props.children),typeof Xe=="object"&&Xe!==null){switch(Xe.$$typeof){case y:e:{for(var wn=Xe.key;Fe!==null;){if(Fe.key===wn){if(wn=Xe.type,wn===b){if(Fe.tag===7){h(qe,Fe.sibling),ht=S(Fe,Xe.props.children),ht.return=qe,qe=ht;break e}}else if(Fe.elementType===wn||typeof wn=="object"&&wn!==null&&wn.$$typeof===L&&We(wn)===Fe.type){h(qe,Fe.sibling),ht=S(Fe,Xe.props),Pn(ht,Xe),ht.return=qe,qe=ht;break e}h(qe,Fe);break}else u(qe,Fe);Fe=Fe.sibling}Xe.type===b?(ht=oc(Xe.props.children,qe.mode,ht,Xe.key),ht.return=qe,qe=ht):(ht=Xu(Xe.type,Xe.key,Xe.props,null,qe.mode,ht),Pn(ht,Xe),ht.return=qe,qe=ht)}return X(qe);case E:e:{for(wn=Xe.key;Fe!==null;){if(Fe.key===wn)if(Fe.tag===4&&Fe.stateNode.containerInfo===Xe.containerInfo&&Fe.stateNode.implementation===Xe.implementation){h(qe,Fe.sibling),ht=S(Fe,Xe.children||[]),ht.return=qe,qe=ht;break e}else{h(qe,Fe);break}else u(qe,Fe);Fe=Fe.sibling}ht=Ju(Xe,qe.mode,ht),ht.return=qe,qe=ht}return X(qe);case L:return Xe=We(Xe),Xr(qe,Fe,Xe,ht)}if(Se(Xe))return Jt(qe,Fe,Xe,ht);if(M(Xe)){if(wn=M(Xe),typeof wn!="function")throw Error(r(150));return Xe=wn.call(Xe),Cn(qe,Fe,Xe,ht)}if(typeof Xe.then=="function")return Xr(qe,Fe,Ht(Xe),ht);if(Xe.$$typeof===k)return Xr(qe,Fe,zh(qe,Xe),ht);Xt(qe,Xe)}return typeof Xe=="string"&&Xe!==""||typeof Xe=="number"||typeof Xe=="bigint"?(Xe=""+Xe,Fe!==null&&Fe.tag===6?(h(qe,Fe.sibling),ht=S(Fe,Xe),ht.return=qe,qe=ht):(h(qe,Fe),ht=xd(Xe,qe.mode,ht),ht.return=qe,qe=ht),X(qe)):h(qe,Fe)}return function(qe,Fe,Xe,ht){try{tn=0;var wn=Xr(qe,Fe,Xe,ht);return xt=null,wn}catch(dn){if(dn===Me||dn===Ae)throw dn;var Nr=Fi(29,dn,null,qe.mode);return Nr.lanes=ht,Nr.return=qe,Nr}finally{}}}var ns=tr(!0),Bn=tr(!1),zt=!1;function Mt(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ls(l,u){l=l.updateQueue,u.updateQueue===l&&(u.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,callbacks:null})}function En(l){return{lane:l,tag:0,payload:null,callback:null,next:null}}function Hn(l,u,h){var x=l.updateQueue;if(x===null)return null;if(x=x.shared,(Dr&2)!==0){var S=x.pending;return S===null?u.next=u:(u.next=S.next,S.next=u),x.pending=u,u=Li(l),md(l,null,h),u}return pd(l,x,u,h),Li(l)}function Rr(l,u,h){if(u=u.updateQueue,u!==null&&(u=u.shared,(h&4194048)!==0)){var x=u.lanes;x&=l.pendingLanes,h|=x,u.lanes=h,Vt(l,h)}}function $s(l,u){var h=l.updateQueue,x=l.alternate;if(x!==null&&(x=x.updateQueue,h===x)){var S=null,I=null;if(h=h.firstBaseUpdate,h!==null){do{var X={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};I===null?S=I=X:I=I.next=X,h=h.next}while(h!==null);I===null?S=I=u:I=I.next=u}else S=I=u;h={baseState:x.baseState,firstBaseUpdate:S,lastBaseUpdate:I,shared:x.shared,callbacks:x.callbacks},l.updateQueue=h;return}l=h.lastBaseUpdate,l===null?h.firstBaseUpdate=u:l.next=u,h.lastBaseUpdate=u}var bi=!1;function $r(){if(bi){var l=C;if(l!==null)throw l}}function Ds(l,u,h,x){bi=!1;var S=l.updateQueue;zt=!1;var I=S.firstBaseUpdate,X=S.lastBaseUpdate,fe=S.shared.pending;if(fe!==null){S.shared.pending=null;var Pe=fe,Je=Pe.next;Pe.next=null,X===null?I=Je:X.next=Je,X=Pe;var ut=l.alternate;ut!==null&&(ut=ut.updateQueue,fe=ut.lastBaseUpdate,fe!==X&&(fe===null?ut.firstBaseUpdate=Je:fe.next=Je,ut.lastBaseUpdate=Pe))}if(I!==null){var gt=S.baseState;X=0,ut=Je=Pe=null,fe=I;do{var Ze=fe.lane&-536870913,st=Ze!==fe.lane;if(st?(lr&Ze)===Ze:(x&Ze)===Ze){Ze!==0&&Ze===_&&(bi=!0),ut!==null&&(ut=ut.next={lane:0,tag:fe.tag,payload:fe.payload,callback:null,next:null});e:{var Jt=l,Cn=fe;Ze=u;var Xr=h;switch(Cn.tag){case 1:if(Jt=Cn.payload,typeof Jt=="function"){gt=Jt.call(Xr,gt,Ze);break e}gt=Jt;break e;case 3:Jt.flags=Jt.flags&-65537|128;case 0:if(Jt=Cn.payload,Ze=typeof Jt=="function"?Jt.call(Xr,gt,Ze):Jt,Ze==null)break e;gt=p({},gt,Ze);break e;case 2:zt=!0}}Ze=fe.callback,Ze!==null&&(l.flags|=64,st&&(l.flags|=8192),st=S.callbacks,st===null?S.callbacks=[Ze]:st.push(Ze))}else st={lane:Ze,tag:fe.tag,payload:fe.payload,callback:fe.callback,next:null},ut===null?(Je=ut=st,Pe=gt):ut=ut.next=st,X|=Ze;if(fe=fe.next,fe===null){if(fe=S.shared.pending,fe===null)break;st=fe,fe=st.next,st.next=null,S.lastBaseUpdate=st,S.shared.pending=null}}while(!0);ut===null&&(Pe=gt),S.baseState=Pe,S.firstBaseUpdate=Je,S.lastBaseUpdate=ut,I===null&&(S.shared.lanes=0),cf|=X,l.lanes=X,l.memoizedState=gt}}function Oi(l,u){if(typeof l!="function")throw Error(r(191,l));l.call(u)}function Ms(l,u){var h=l.callbacks;if(h!==null)for(l.callbacks=null,l=0;l<h.length;l++)Oi(h[l],u)}var Xn=re(null),gr=re(0);function cs(l,u){l=hu,J(gr,l),J(Xn,u),hu=l|u.baseLanes}function Er(){J(gr,hu),J(Xn,Xn.current)}function Ks(){hu=gr.current,O(Xn),O(gr)}var us=re(null),xr=null;function Is(l){var u=l.alternate;J(dr,dr.current&1),J(us,l),xr===null&&(u===null||Xn.current!==null||u.memoizedState!==null)&&(xr=l)}function Pr(l){J(dr,dr.current),J(us,l),xr===null&&(xr=l)}function Ls(l){l.tag===22?(J(dr,dr.current),J(us,l),xr===null&&(xr=l)):Fs()}function Fs(){J(dr,dr.current),J(us,us.current)}function Or(l){O(us),xr===l&&(xr=null),O(dr)}var dr=re(0);function Bi(l){for(var u=l;u!==null;){if(u.tag===13){var h=u.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||P_(h)||D_(h)))return u}else if(u.tag===19&&(u.memoizedProps.revealOrder==="forwards"||u.memoizedProps.revealOrder==="backwards"||u.memoizedProps.revealOrder==="unstable_legacy-backwards"||u.memoizedProps.revealOrder==="together")){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var xs=0,vn=null,bn=null,yr=null,ha=!1,lo=!1,ea=!1,Os=0,pc=0,mc=null,Wh=0;function Kr(){throw Error(r(321))}function em(l,u){if(u===null)return!1;for(var h=0;h<u.length&&h<l.length;h++)if(!gi(l[h],u[h]))return!1;return!0}function tm(l,u,h,x,S,I){return xs=I,vn=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,oe.H=l===null||l.memoizedState===null?dA:Hv,ea=!1,I=h(x,S),ea=!1,lo&&(I=Dl(u,h,x,S)),$h(l),I}function $h(l){oe.H=cm;var u=bn!==null&&bn.next!==null;if(xs=0,yr=bn=vn=null,ha=!1,pc=0,mc=null,u)throw Error(r(300));l===null||si||(l=l.dependencies,l!==null&&Hh(l)&&(si=!0))}function Dl(l,u,h,x){vn=l;var S=0;do{if(lo&&(mc=null),pc=0,lo=!1,25<=S)throw Error(r(301));if(S+=1,yr=bn=null,l.updateQueue!=null){var I=l.updateQueue;I.lastEffect=null,I.events=null,I.stores=null,I.memoCache!=null&&(I.memoCache.index=0)}oe.H=hA,I=u(h,x)}while(lo);return I}function Fv(){var l=oe.H,u=l.useState()[0];return u=typeof u.then=="function"?gc(u):u,l=l.useState()[0],(bn!==null?bn.memoizedState:null)!==l&&(vn.flags|=1024),u}function nm(){var l=Os!==0;return Os=0,l}function rm(l,u,h){u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~h}function Kh(l){if(ha){for(l=l.memoizedState;l!==null;){var u=l.queue;u!==null&&(u.pending=null),l=l.next}ha=!1}xs=0,yr=bn=vn=null,lo=!1,pc=Os=0,mc=null}function ri(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yr===null?vn.memoizedState=yr=l:yr=yr.next=l,yr}function ys(){if(bn===null){var l=vn.alternate;l=l!==null?l.memoizedState:null}else l=bn.next;var u=yr===null?vn.memoizedState:yr.next;if(u!==null)yr=u,bn=l;else{if(l===null)throw vn.alternate===null?Error(r(467)):Error(r(310));bn=l,l={memoizedState:bn.memoizedState,baseState:bn.baseState,baseQueue:bn.baseQueue,queue:bn.queue,next:null},yr===null?vn.memoizedState=yr=l:yr=yr.next=l}return yr}function bd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function gc(l){var u=pc;return pc+=1,mc===null&&(mc=[]),l=lt(mc,l,u),u=vn,(yr===null?u.memoizedState:yr.next)===null&&(u=u.alternate,oe.H=u===null||u.memoizedState===null?dA:Hv),l}function nf(l){if(l!==null&&typeof l=="object"){if(typeof l.then=="function")return gc(l);if(l.$$typeof===k)return _i(l)}throw Error(r(438,String(l)))}function su(l){var u=null,h=vn.updateQueue;if(h!==null&&(u=h.memoCache),u==null){var x=vn.alternate;x!==null&&(x=x.updateQueue,x!==null&&(x=x.memoCache,x!=null&&(u={data:x.data.map(function(S){return S.slice()}),index:0})))}if(u==null&&(u={data:[],index:0}),h===null&&(h=bd(),vn.updateQueue=h),h.memoCache=u,h=u.data[u.index],h===void 0)for(h=u.data[u.index]=Array(l),x=0;x<l;x++)h[x]=q;return u.index++,h}function nl(l,u){return typeof u=="function"?u(l):u}function Yh(l){var u=ys();return rf(u,bn,l)}function rf(l,u,h){var x=l.queue;if(x===null)throw Error(r(311));x.lastRenderedReducer=h;var S=l.baseQueue,I=x.pending;if(I!==null){if(S!==null){var X=S.next;S.next=I.next,I.next=X}u.baseQueue=S=I,x.pending=null}if(I=l.baseState,S===null)l.memoizedState=I;else{u=S.next;var fe=X=null,Pe=null,Je=u,ut=!1;do{var gt=Je.lane&-536870913;if(gt!==Je.lane?(lr&gt)===gt:(xs&gt)===gt){var Ze=Je.revertLane;if(Ze===0)Pe!==null&&(Pe=Pe.next={lane:0,revertLane:0,gesture:null,action:Je.action,hasEagerState:Je.hasEagerState,eagerState:Je.eagerState,next:null}),gt===_&&(ut=!0);else if((xs&Ze)===Ze){Je=Je.next,Ze===_&&(ut=!0);continue}else gt={lane:0,revertLane:Je.revertLane,gesture:null,action:Je.action,hasEagerState:Je.hasEagerState,eagerState:Je.eagerState,next:null},Pe===null?(fe=Pe=gt,X=I):Pe=Pe.next=gt,vn.lanes|=Ze,cf|=Ze;gt=Je.action,ea&&h(I,gt),I=Je.hasEagerState?Je.eagerState:h(I,gt)}else Ze={lane:gt,revertLane:Je.revertLane,gesture:Je.gesture,action:Je.action,hasEagerState:Je.hasEagerState,eagerState:Je.eagerState,next:null},Pe===null?(fe=Pe=Ze,X=I):Pe=Pe.next=Ze,vn.lanes|=gt,cf|=gt;Je=Je.next}while(Je!==null&&Je!==u);if(Pe===null?X=I:Pe.next=fe,!gi(I,l.memoizedState)&&(si=!0,ut&&(h=C,h!==null)))throw h;l.memoizedState=I,l.baseState=X,l.baseQueue=Pe,x.lastRenderedState=I}return S===null&&(x.lanes=0),[l.memoizedState,x.dispatch]}function Xh(l){var u=ys(),h=u.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=l;var x=h.dispatch,S=h.pending,I=u.memoizedState;if(S!==null){h.pending=null;var X=S=S.next;do I=l(I,X.action),X=X.next;while(X!==S);gi(I,u.memoizedState)||(si=!0),u.memoizedState=I,u.baseQueue===null&&(u.baseState=I),h.lastRenderedState=I}return[I,x]}function Jh(l,u,h){var x=vn,S=ys(),I=nr;if(I){if(h===void 0)throw Error(r(407));h=h()}else h=u();var X=!gi((bn||S).memoizedState,h);if(X&&(S.memoizedState=h,si=!0),S=S.queue,Ov(im.bind(null,x,S,l),[l]),S.getSnapshot!==u||X||yr!==null&&yr.memoizedState.tag&1){if(x.flags|=2048,au(9,{destroy:void 0},sm.bind(null,x,S,h,u),null),rs===null)throw Error(r(349));I||(xs&127)!==0||Ml(x,u,h)}return h}function Ml(l,u,h){l.flags|=16384,l={getSnapshot:u,value:h},u=vn.updateQueue,u===null?(u=bd(),vn.updateQueue=u,u.stores=[l]):(h=u.stores,h===null?u.stores=[l]:h.push(l))}function sm(l,u,h,x){u.value=h,u.getSnapshot=x,z1(u)&&am(l)}function im(l,u,h){return h(function(){z1(u)&&am(l)})}function z1(l){var u=l.getSnapshot;l=l.value;try{var h=u();return!gi(l,h)}catch{return!0}}function am(l){var u=Rl(l,2);u!==null&&po(u,l,2)}function xc(l){var u=ri();if(typeof l=="function"){var h=l;if(l=h(),ea){mn(!0);try{h()}finally{mn(!1)}}}return u.memoizedState=u.baseState=l,u.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:nl,lastRenderedState:l},u}function G1(l,u,h,x){return l.baseState=h,rf(l,bn,typeof x=="function"?x:nl)}function W1(l,u,h,x,S){if(X1(l))throw Error(r(485));if(l=u.action,l!==null){var I={payload:S,action:l,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(X){I.listeners.push(X)}};oe.T!==null?h(!0):I.isTransition=!1,x(I),h=u.pending,h===null?(I.next=u.pending=I,$1(u,I)):(I.next=h.next,u.pending=h.next=I)}}function $1(l,u){var h=u.action,x=u.payload,S=l.state;if(u.isTransition){var I=oe.T,X={};oe.T=X;try{var fe=h(S,x),Pe=oe.S;Pe!==null&&Pe(X,fe),om(l,u,fe)}catch(Je){iu(l,u,Je)}finally{I!==null&&X.types!==null&&(I.types=X.types),oe.T=I}}else try{I=h(S,x),om(l,u,I)}catch(Je){iu(l,u,Je)}}function om(l,u,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(x){K1(l,u,x)},function(x){return iu(l,u,x)}):K1(l,u,h)}function K1(l,u,h){u.status="fulfilled",u.value=h,Qh(u),l.state=h,u=l.pending,u!==null&&(h=u.next,h===u?l.pending=null:(h=h.next,u.next=h,$1(l,h)))}function iu(l,u,h){var x=l.pending;if(l.pending=null,x!==null){x=x.next;do u.status="rejected",u.reason=h,Qh(u),u=u.next;while(u!==x)}l.action=null}function Qh(l){l=l.listeners;for(var u=0;u<l.length;u++)(0,l[u])()}function wd(l,u){return u}function rl(l,u){if(nr){var h=rs.formState;if(h!==null){e:{var x=vn;if(nr){if(ts){t:{for(var S=ts,I=gs;S.nodeType!==8;){if(!I){S=null;break t}if(S=sl(S.nextSibling),S===null){S=null;break t}}I=S.data,S=I==="F!"||I==="F"?S:null}if(S){ts=sl(S.nextSibling),x=S.data==="F!";break e}}cc(x)}x=!1}x&&(u=h[0])}}return h=ri(),h.memoizedState=h.baseState=u,x={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wd,lastRenderedState:u},h.queue=x,h=cA.bind(null,vn,x),x.dispatch=h,x=xc(!1),I=qv.bind(null,vn,!1,x.queue),x=ri(),S={state:u,dispatch:null,action:l,pending:null},x.queue=S,h=W1.bind(null,vn,S,I,h),S.dispatch=h,x.memoizedState=l,[u,h,!1]}function Ll(l){var u=ys();return Fl(u,bn,l)}function Fl(l,u,h){if(u=rf(l,u,wd)[0],l=Yh(nl)[0],typeof u=="object"&&u!==null&&typeof u.then=="function")try{var x=gc(u)}catch(X){throw X===Me?Ae:X}else x=u;u=ys();var S=u.queue,I=S.dispatch;return h!==u.memoizedState&&(vn.flags|=2048,au(9,{destroy:void 0},Zh.bind(null,S,h),null)),[x,I,l]}function Zh(l,u){l.action=u}function e0(l){var u=ys(),h=bn;if(h!==null)return Fl(u,h,l);ys(),u=u.memoizedState,h=ys();var x=h.queue.dispatch;return h.memoizedState=l,[u,x,!1]}function au(l,u,h,x){return l={tag:l,create:h,deps:x,inst:u,next:null},u=vn.updateQueue,u===null&&(u=bd(),vn.updateQueue=u),h=u.lastEffect,h===null?u.lastEffect=l.next=l:(x=h.next,h.next=l,l.next=x,u.lastEffect=l),l}function Y1(){return ys().memoizedState}function sf(l,u,h,x){var S=ri();vn.flags|=l,S.memoizedState=au(1|u,{destroy:void 0},h,x===void 0?null:x)}function af(l,u,h,x){var S=ys();x=x===void 0?null:x;var I=S.memoizedState.inst;bn!==null&&x!==null&&em(x,bn.memoizedState.deps)?S.memoizedState=au(u,I,h,x):(vn.flags|=l,S.memoizedState=au(1|u,I,h,x))}function YS(l,u){sf(8390656,8,l,u)}function Ov(l,u){af(2048,8,l,u)}function BB(l){vn.flags|=4;var u=vn.updateQueue;if(u===null)u=bd(),vn.updateQueue=u,u.events=[l];else{var h=u.events;h===null?u.events=[l]:h.push(l)}}function XS(l){var u=ys().memoizedState;return BB({ref:u,nextImpl:l}),function(){if((Dr&2)!==0)throw Error(r(440));return u.impl.apply(void 0,arguments)}}function JS(l,u){return af(4,2,l,u)}function QS(l,u){return af(4,4,l,u)}function ZS(l,u){if(typeof u=="function"){l=l();var h=u(l);return function(){typeof h=="function"?h():u(null)}}if(u!=null)return l=l(),u.current=l,function(){u.current=null}}function eA(l,u,h){h=h!=null?h.concat([l]):null,af(4,4,ZS.bind(null,u,l),h)}function Bv(){}function tA(l,u){var h=ys();u=u===void 0?null:u;var x=h.memoizedState;return u!==null&&em(u,x[1])?x[0]:(h.memoizedState=[l,u],l)}function nA(l,u){var h=ys();u=u===void 0?null:u;var x=h.memoizedState;if(u!==null&&em(u,x[1]))return x[0];if(x=l(),ea){mn(!0);try{l()}finally{mn(!1)}}return h.memoizedState=[x,u],x}function Vv(l,u,h){return h===void 0||(xs&1073741824)!==0&&(lr&261930)===0?l.memoizedState=u:(l.memoizedState=h,l=r4(),vn.lanes|=l,cf|=l,h)}function rA(l,u,h,x){return gi(h,u)?h:Xn.current!==null?(l=Vv(l,h,x),gi(l,u)||(si=!0),l):(xs&42)===0||(xs&1073741824)!==0&&(lr&261930)===0?(si=!0,l.memoizedState=h):(l=r4(),vn.lanes|=l,cf|=l,u)}function sA(l,u,h,x,S){var I=ve.p;ve.p=I!==0&&8>I?I:8;var X=oe.T,fe={};oe.T=fe,qv(l,!1,u,h);try{var Pe=S(),Je=oe.S;if(Je!==null&&Je(fe,Pe),Pe!==null&&typeof Pe=="object"&&typeof Pe.then=="function"){var ut=ee(Pe,x);lm(l,u,ut,Do(l))}else lm(l,u,x,Do(l))}catch(gt){lm(l,u,{then:function(){},status:"rejected",reason:gt},Do())}finally{ve.p=I,X!==null&&fe.types!==null&&(X.types=fe.types),oe.T=X}}function VB(){}function Uv(l,u,h,x){if(l.tag!==5)throw Error(r(476));var S=iA(l).queue;sA(l,S,u,Ie,h===null?VB:function(){return aA(l),h(x)})}function iA(l){var u=l.memoizedState;if(u!==null)return u;u={memoizedState:Ie,baseState:Ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:nl,lastRenderedState:Ie},next:null};var h={};return u.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:nl,lastRenderedState:h},next:null},l.memoizedState=u,l=l.alternate,l!==null&&(l.memoizedState=u),u}function aA(l){var u=iA(l);u.next===null&&(u=l.alternate.memoizedState),lm(l,u.next.queue,{},Do())}function jv(){return _i(Sm)}function oA(){return ys().memoizedState}function lA(){return ys().memoizedState}function UB(l){for(var u=l.return;u!==null;){switch(u.tag){case 24:case 3:var h=Do();l=En(h);var x=Hn(u,l,h);x!==null&&(po(x,u,h),Rr(x,u,h)),u={cache:tf()},l.payload=u;return}u=u.return}}function jB(l,u,h){var x=Do();h={lane:x,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},X1(l)?uA(u,h):(h=Lh(l,u,h,x),h!==null&&(po(h,l,x),fA(h,u,x)))}function cA(l,u,h){var x=Do();lm(l,u,h,x)}function lm(l,u,h,x){var S={lane:x,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null};if(X1(l))uA(u,S);else{var I=l.alternate;if(l.lanes===0&&(I===null||I.lanes===0)&&(I=u.lastRenderedReducer,I!==null))try{var X=u.lastRenderedState,fe=I(X,h);if(S.hasEagerState=!0,S.eagerState=fe,gi(fe,X))return pd(l,u,S,0),rs===null&&hd(),!1}catch{}finally{}if(h=Lh(l,u,S,x),h!==null)return po(h,l,x),fA(h,u,x),!0}return!1}function qv(l,u,h,x){if(x={lane:2,revertLane:__(),gesture:null,action:x,hasEagerState:!1,eagerState:null,next:null},X1(l)){if(u)throw Error(r(479))}else u=Lh(l,h,x,2),u!==null&&po(u,l,2)}function X1(l){var u=l.alternate;return l===vn||u!==null&&u===vn}function uA(l,u){lo=ha=!0;var h=l.pending;h===null?u.next=u:(u.next=h.next,h.next=u),l.pending=u}function fA(l,u,h){if((h&4194048)!==0){var x=u.lanes;x&=l.pendingLanes,h|=x,u.lanes=h,Vt(l,h)}}var cm={readContext:_i,use:nf,useCallback:Kr,useContext:Kr,useEffect:Kr,useImperativeHandle:Kr,useLayoutEffect:Kr,useInsertionEffect:Kr,useMemo:Kr,useReducer:Kr,useRef:Kr,useState:Kr,useDebugValue:Kr,useDeferredValue:Kr,useTransition:Kr,useSyncExternalStore:Kr,useId:Kr,useHostTransitionStatus:Kr,useFormState:Kr,useActionState:Kr,useOptimistic:Kr,useMemoCache:Kr,useCacheRefresh:Kr};cm.useEffectEvent=Kr;var dA={readContext:_i,use:nf,useCallback:function(l,u){return ri().memoizedState=[l,u===void 0?null:u],l},useContext:_i,useEffect:YS,useImperativeHandle:function(l,u,h){h=h!=null?h.concat([l]):null,sf(4194308,4,ZS.bind(null,u,l),h)},useLayoutEffect:function(l,u){return sf(4194308,4,l,u)},useInsertionEffect:function(l,u){sf(4,2,l,u)},useMemo:function(l,u){var h=ri();u=u===void 0?null:u;var x=l();if(ea){mn(!0);try{l()}finally{mn(!1)}}return h.memoizedState=[x,u],x},useReducer:function(l,u,h){var x=ri();if(h!==void 0){var S=h(u);if(ea){mn(!0);try{h(u)}finally{mn(!1)}}}else S=u;return x.memoizedState=x.baseState=S,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:S},x.queue=l,l=l.dispatch=jB.bind(null,vn,l),[x.memoizedState,l]},useRef:function(l){var u=ri();return l={current:l},u.memoizedState=l},useState:function(l){l=xc(l);var u=l.queue,h=cA.bind(null,vn,u);return u.dispatch=h,[l.memoizedState,h]},useDebugValue:Bv,useDeferredValue:function(l,u){var h=ri();return Vv(h,l,u)},useTransition:function(){var l=xc(!1);return l=sA.bind(null,vn,l.queue,!0,!1),ri().memoizedState=l,[!1,l]},useSyncExternalStore:function(l,u,h){var x=vn,S=ri();if(nr){if(h===void 0)throw Error(r(407));h=h()}else{if(h=u(),rs===null)throw Error(r(349));(lr&127)!==0||Ml(x,u,h)}S.memoizedState=h;var I={value:h,getSnapshot:u};return S.queue=I,YS(im.bind(null,x,I,l),[l]),x.flags|=2048,au(9,{destroy:void 0},sm.bind(null,x,I,h,u),null),h},useId:function(){var l=ri(),u=rs.identifierPrefix;if(nr){var h=ao,x=io;h=(x&~(1<<32-An(x)-1)).toString(32)+h,u="_"+u+"R_"+h,h=Os++,0<h&&(u+="H"+h.toString(32)),u+="_"}else h=Wh++,u="_"+u+"r_"+h.toString(32)+"_";return l.memoizedState=u},useHostTransitionStatus:jv,useFormState:rl,useActionState:rl,useOptimistic:function(l){var u=ri();u.memoizedState=u.baseState=l;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return u.queue=h,u=qv.bind(null,vn,!0,h),h.dispatch=u,[l,u]},useMemoCache:su,useCacheRefresh:function(){return ri().memoizedState=UB.bind(null,vn)},useEffectEvent:function(l){var u=ri(),h={impl:l};return u.memoizedState=h,function(){if((Dr&2)!==0)throw Error(r(440));return h.impl.apply(void 0,arguments)}}},Hv={readContext:_i,use:nf,useCallback:tA,useContext:_i,useEffect:Ov,useImperativeHandle:eA,useInsertionEffect:JS,useLayoutEffect:QS,useMemo:nA,useReducer:Yh,useRef:Y1,useState:function(){return Yh(nl)},useDebugValue:Bv,useDeferredValue:function(l,u){var h=ys();return rA(h,bn.memoizedState,l,u)},useTransition:function(){var l=Yh(nl)[0],u=ys().memoizedState;return[typeof l=="boolean"?l:gc(l),u]},useSyncExternalStore:Jh,useId:oA,useHostTransitionStatus:jv,useFormState:Ll,useActionState:Ll,useOptimistic:function(l,u){var h=ys();return G1(h,bn,l,u)},useMemoCache:su,useCacheRefresh:lA};Hv.useEffectEvent=XS;var hA={readContext:_i,use:nf,useCallback:tA,useContext:_i,useEffect:Ov,useImperativeHandle:eA,useInsertionEffect:JS,useLayoutEffect:QS,useMemo:nA,useReducer:Xh,useRef:Y1,useState:function(){return Xh(nl)},useDebugValue:Bv,useDeferredValue:function(l,u){var h=ys();return bn===null?Vv(h,l,u):rA(h,bn.memoizedState,l,u)},useTransition:function(){var l=Xh(nl)[0],u=ys().memoizedState;return[typeof l=="boolean"?l:gc(l),u]},useSyncExternalStore:Jh,useId:oA,useHostTransitionStatus:jv,useFormState:e0,useActionState:e0,useOptimistic:function(l,u){var h=ys();return bn!==null?G1(h,bn,l,u):(h.baseState=l,[l,h.queue.dispatch])},useMemoCache:su,useCacheRefresh:lA};hA.useEffectEvent=XS;function zv(l,u,h,x){u=l.memoizedState,h=h(x,u),h=h==null?u:p({},u,h),l.memoizedState=h,l.lanes===0&&(l.updateQueue.baseState=h)}var Gv={enqueueSetState:function(l,u,h){l=l._reactInternals;var x=Do(),S=En(x);S.payload=u,h!=null&&(S.callback=h),u=Hn(l,S,x),u!==null&&(po(u,l,x),Rr(u,l,x))},enqueueReplaceState:function(l,u,h){l=l._reactInternals;var x=Do(),S=En(x);S.tag=1,S.payload=u,h!=null&&(S.callback=h),u=Hn(l,S,x),u!==null&&(po(u,l,x),Rr(u,l,x))},enqueueForceUpdate:function(l,u){l=l._reactInternals;var h=Do(),x=En(h);x.tag=2,u!=null&&(x.callback=u),u=Hn(l,x,h),u!==null&&(po(u,l,h),Rr(u,l,h))}};function pA(l,u,h,x,S,I,X){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(x,I,X):u.prototype&&u.prototype.isPureReactComponent?!Cl(h,x)||!Cl(S,I):!0}function mA(l,u,h,x){l=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(h,x),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(h,x),u.state!==l&&Gv.enqueueReplaceState(u,u.state,null)}function Td(l,u){var h=u;if("ref"in u){h={};for(var x in u)x!=="ref"&&(h[x]=u[x])}if(l=l.defaultProps){h===u&&(h=p({},h));for(var S in l)h[S]===void 0&&(h[S]=l[S])}return h}function gA(l){dd(l)}function xA(l){console.error(l)}function yA(l){dd(l)}function J1(l,u){try{var h=l.onUncaughtError;h(u.value,{componentStack:u.stack})}catch(x){setTimeout(function(){throw x})}}function vA(l,u,h){try{var x=l.onCaughtError;x(h.value,{componentStack:h.stack,errorBoundary:u.tag===1?u.stateNode:null})}catch(S){setTimeout(function(){throw S})}}function Wv(l,u,h){return h=En(h),h.tag=3,h.payload={element:null},h.callback=function(){J1(l,u)},h}function _A(l){return l=En(l),l.tag=3,l}function bA(l,u,h,x){var S=h.type.getDerivedStateFromError;if(typeof S=="function"){var I=x.value;l.payload=function(){return S(I)},l.callback=function(){vA(u,h,x)}}var X=h.stateNode;X!==null&&typeof X.componentDidCatch=="function"&&(l.callback=function(){vA(u,h,x),typeof S!="function"&&(uf===null?uf=new Set([this]):uf.add(this));var fe=x.stack;this.componentDidCatch(x.value,{componentStack:fe!==null?fe:""})})}function qB(l,u,h,x,S){if(h.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){if(u=h.alternate,u!==null&&dc(u,h,S,!0),h=us.current,h!==null){switch(h.tag){case 31:case 13:return xr===null?cx():h.alternate===null&&Bs===0&&(Bs=3),h.flags&=-257,h.flags|=65536,h.lanes=S,x===Be?h.flags|=16384:(u=h.updateQueue,u===null?h.updateQueue=new Set([x]):u.add(x),x_(l,x,S)),!1;case 22:return h.flags|=65536,x===Be?h.flags|=16384:(u=h.updateQueue,u===null?(u={transitions:null,markerInstances:null,retryQueue:new Set([x])},h.updateQueue=u):(h=u.retryQueue,h===null?u.retryQueue=new Set([x]):h.add(x)),x_(l,x,S)),!1}throw Error(r(435,h.tag))}return x_(l,x,S),cx(),!1}if(nr)return u=us.current,u!==null?((u.flags&65536)===0&&(u.flags|=256),u.flags|=65536,u.lanes=S,x!==ko&&(l=Error(r(422),{cause:x}),Zu(no(l,h)))):(x!==ko&&(u=Error(r(423),{cause:x}),Zu(no(u,h))),l=l.current.alternate,l.flags|=65536,S&=-S,l.lanes|=S,x=no(x,h),S=Wv(l.stateNode,x,S),$s(l,S),Bs!==4&&(Bs=2)),!1;var I=Error(r(520),{cause:x});if(I=no(I,h),xm===null?xm=[I]:xm.push(I),Bs!==4&&(Bs=2),u===null)return!0;x=no(x,h),h=u;do{switch(h.tag){case 3:return h.flags|=65536,l=S&-S,h.lanes|=l,l=Wv(h.stateNode,x,l),$s(h,l),!1;case 1:if(u=h.type,I=h.stateNode,(h.flags&128)===0&&(typeof u.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(uf===null||!uf.has(I))))return h.flags|=65536,S&=-S,h.lanes|=S,S=_A(S),bA(S,l,h,x),$s(h,S),!1}h=h.return}while(h!==null);return!1}var $v=Error(r(461)),si=!1;function ta(l,u,h,x){u.child=l===null?Bn(u,null,h,x):ns(u,l.child,h,x)}function wA(l,u,h,x,S){h=h.render;var I=u.ref;if("ref"in x){var X={};for(var fe in x)fe!=="ref"&&(X[fe]=x[fe])}else X=x;return hc(u),x=tm(l,u,h,X,I,S),fe=nm(),l!==null&&!si?(rm(l,u,S),ou(l,u,S)):(nr&&fe&&Jp(u),u.flags|=1,ta(l,u,x,S),u.child)}function TA(l,u,h,x,S){if(l===null){var I=h.type;return typeof I=="function"&&!Oh(I)&&I.defaultProps===void 0&&h.compare===null?(u.tag=15,u.type=I,EA(l,u,I,x,S)):(l=Xu(h.type,null,x,u,u.mode,S),l.ref=u.ref,l.return=u,u.child=l)}if(I=l.child,!t_(l,S)){var X=I.memoizedProps;if(h=h.compare,h=h!==null?h:Cl,h(X,x)&&l.ref===u.ref)return ou(l,u,S)}return u.flags|=1,l=to(I,x),l.ref=u.ref,l.return=u,u.child=l}function EA(l,u,h,x,S){if(l!==null){var I=l.memoizedProps;if(Cl(I,x)&&l.ref===u.ref)if(si=!1,u.pendingProps=x=I,t_(l,S))(l.flags&131072)!==0&&(si=!0);else return u.lanes=l.lanes,ou(l,u,S)}return Kv(l,u,h,x,S)}function SA(l,u,h,x){var S=x.children,I=l!==null?l.memoizedState:null;if(l===null&&u.stateNode===null&&(u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),x.mode==="hidden"){if((u.flags&128)!==0){if(I=I!==null?I.baseLanes|h:h,l!==null){for(x=u.child=l.child,S=0;x!==null;)S=S|x.lanes|x.childLanes,x=x.sibling;x=S&~I}else x=0,u.child=null;return AA(l,u,I,h,x)}if((h&536870912)!==0)u.memoizedState={baseLanes:0,cachePool:null},l!==null&&_e(u,I!==null?I.cachePool:null),I!==null?cs(u,I):Er(),Ls(u);else return x=u.lanes=536870912,AA(l,u,I!==null?I.baseLanes|h:h,h,x)}else I!==null?(_e(u,I.cachePool),cs(u,I),Fs(),u.memoizedState=null):(l!==null&&_e(u,null),Er(),Fs());return ta(l,u,S,h),u.child}function um(l,u){return l!==null&&l.tag===22||u.stateNode!==null||(u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.sibling}function AA(l,u,h,x,S){var I=de();return I=I===null?null:{parent:Ns._currentValue,pool:I},u.memoizedState={baseLanes:h,cachePool:I},l!==null&&_e(u,null),Er(),Ls(u),l!==null&&dc(l,u,x,!0),u.childLanes=S,null}function Q1(l,u){return u=ex({mode:u.mode,children:u.children},l.mode),u.ref=l.ref,l.child=u,u.return=l,u}function CA(l,u,h){return ns(u,l.child,null,h),l=Q1(u,u.pendingProps),l.flags|=2,Or(u),u.memoizedState=null,l}function HB(l,u,h){var x=u.pendingProps,S=(u.flags&128)!==0;if(u.flags&=-129,l===null){if(nr){if(x.mode==="hidden")return l=Q1(u,x),u.lanes=536870912,um(null,l);if(Pr(u),(l=ts)?(l=V4(l,gs),l=l!==null&&l.data==="&"?l:null,l!==null&&(u.memoizedState={dehydrated:l,treeContext:lc!==null?{id:io,overflow:ao}:null,retryLane:536870912,hydrationErrors:null},h=Bh(l),h.return=u,u.child=h,yi=u,ts=null)):l=null,l===null)throw cc(u);return u.lanes=536870912,null}return Q1(u,x)}var I=l.memoizedState;if(I!==null){var X=I.dehydrated;if(Pr(u),S)if(u.flags&256)u.flags&=-257,u=CA(l,u,h);else if(u.memoizedState!==null)u.child=l.child,u.flags|=128,u=null;else throw Error(r(558));else if(si||dc(l,u,h,!1),S=(h&l.childLanes)!==0,si||S){if(x=rs,x!==null&&(X=$n(x,h),X!==0&&X!==I.retryLane))throw I.retryLane=X,Rl(l,X),po(x,l,X),$v;cx(),u=CA(l,u,h)}else l=I.treeContext,ts=sl(X.nextSibling),yi=u,nr=!0,Zi=null,gs=!1,l!==null&&q1(u,l),u=Q1(u,x),u.flags|=4096;return u}return l=to(l.child,{mode:x.mode,children:x.children}),l.ref=u.ref,u.child=l,l.return=u,l}function Z1(l,u){var h=u.ref;if(h===null)l!==null&&l.ref!==null&&(u.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(r(284));(l===null||l.ref!==h)&&(u.flags|=4194816)}}function Kv(l,u,h,x,S){return hc(u),h=tm(l,u,h,x,void 0,S),x=nm(),l!==null&&!si?(rm(l,u,S),ou(l,u,S)):(nr&&x&&Jp(u),u.flags|=1,ta(l,u,h,S),u.child)}function NA(l,u,h,x,S,I){return hc(u),u.updateQueue=null,h=Dl(u,x,h,S),$h(l),x=nm(),l!==null&&!si?(rm(l,u,I),ou(l,u,I)):(nr&&x&&Jp(u),u.flags|=1,ta(l,u,h,I),u.child)}function IA(l,u,h,x,S){if(hc(u),u.stateNode===null){var I=xi,X=h.contextType;typeof X=="object"&&X!==null&&(I=_i(X)),I=new h(x,I),u.memoizedState=I.state!==null&&I.state!==void 0?I.state:null,I.updater=Gv,u.stateNode=I,I._reactInternals=u,I=u.stateNode,I.props=x,I.state=u.memoizedState,I.refs={},Mt(u),X=h.contextType,I.context=typeof X=="object"&&X!==null?_i(X):xi,I.state=u.memoizedState,X=h.getDerivedStateFromProps,typeof X=="function"&&(zv(u,h,X,x),I.state=u.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof I.getSnapshotBeforeUpdate=="function"||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(X=I.state,typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount(),X!==I.state&&Gv.enqueueReplaceState(I,I.state,null),Ds(u,x,I,S),$r(),I.state=u.memoizedState),typeof I.componentDidMount=="function"&&(u.flags|=4194308),x=!0}else if(l===null){I=u.stateNode;var fe=u.memoizedProps,Pe=Td(h,fe);I.props=Pe;var Je=I.context,ut=h.contextType;X=xi,typeof ut=="object"&&ut!==null&&(X=_i(ut));var gt=h.getDerivedStateFromProps;ut=typeof gt=="function"||typeof I.getSnapshotBeforeUpdate=="function",fe=u.pendingProps!==fe,ut||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(fe||Je!==X)&&mA(u,I,x,X),zt=!1;var Ze=u.memoizedState;I.state=Ze,Ds(u,x,I,S),$r(),Je=u.memoizedState,fe||Ze!==Je||zt?(typeof gt=="function"&&(zv(u,h,gt,x),Je=u.memoizedState),(Pe=zt||pA(u,h,Pe,x,Ze,Je,X))?(ut||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount()),typeof I.componentDidMount=="function"&&(u.flags|=4194308)):(typeof I.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=x,u.memoizedState=Je),I.props=x,I.state=Je,I.context=X,x=Pe):(typeof I.componentDidMount=="function"&&(u.flags|=4194308),x=!1)}else{I=u.stateNode,ls(l,u),X=u.memoizedProps,ut=Td(h,X),I.props=ut,gt=u.pendingProps,Ze=I.context,Je=h.contextType,Pe=xi,typeof Je=="object"&&Je!==null&&(Pe=_i(Je)),fe=h.getDerivedStateFromProps,(Je=typeof fe=="function"||typeof I.getSnapshotBeforeUpdate=="function")||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(X!==gt||Ze!==Pe)&&mA(u,I,x,Pe),zt=!1,Ze=u.memoizedState,I.state=Ze,Ds(u,x,I,S),$r();var st=u.memoizedState;X!==gt||Ze!==st||zt||l!==null&&l.dependencies!==null&&Hh(l.dependencies)?(typeof fe=="function"&&(zv(u,h,fe,x),st=u.memoizedState),(ut=zt||pA(u,h,ut,x,Ze,st,Pe)||l!==null&&l.dependencies!==null&&Hh(l.dependencies))?(Je||typeof I.UNSAFE_componentWillUpdate!="function"&&typeof I.componentWillUpdate!="function"||(typeof I.componentWillUpdate=="function"&&I.componentWillUpdate(x,st,Pe),typeof I.UNSAFE_componentWillUpdate=="function"&&I.UNSAFE_componentWillUpdate(x,st,Pe)),typeof I.componentDidUpdate=="function"&&(u.flags|=4),typeof I.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof I.componentDidUpdate!="function"||X===l.memoizedProps&&Ze===l.memoizedState||(u.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||X===l.memoizedProps&&Ze===l.memoizedState||(u.flags|=1024),u.memoizedProps=x,u.memoizedState=st),I.props=x,I.state=st,I.context=Pe,x=ut):(typeof I.componentDidUpdate!="function"||X===l.memoizedProps&&Ze===l.memoizedState||(u.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||X===l.memoizedProps&&Ze===l.memoizedState||(u.flags|=1024),x=!1)}return I=x,Z1(l,u),x=(u.flags&128)!==0,I||x?(I=u.stateNode,h=x&&typeof h.getDerivedStateFromError!="function"?null:I.render(),u.flags|=1,l!==null&&x?(u.child=ns(u,l.child,null,S),u.child=ns(u,null,h,S)):ta(l,u,h,S),u.memoizedState=I.state,l=u.child):l=ou(l,u,S),l}function kA(l,u,h,x){return nu(),u.flags|=256,ta(l,u,h,x),u.child}var Yv={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Xv(l){return{baseLanes:l,cachePool:Ne()}}function Jv(l,u,h){return l=l!==null?l.childLanes&~h:0,u&&(l|=Po),l}function RA(l,u,h){var x=u.pendingProps,S=!1,I=(u.flags&128)!==0,X;if((X=I)||(X=l!==null&&l.memoizedState===null?!1:(dr.current&2)!==0),X&&(S=!0,u.flags&=-129),X=(u.flags&32)!==0,u.flags&=-33,l===null){if(nr){if(S?Is(u):Fs(),(l=ts)?(l=V4(l,gs),l=l!==null&&l.data!=="&"?l:null,l!==null&&(u.memoizedState={dehydrated:l,treeContext:lc!==null?{id:io,overflow:ao}:null,retryLane:536870912,hydrationErrors:null},h=Bh(l),h.return=u,u.child=h,yi=u,ts=null)):l=null,l===null)throw cc(u);return D_(l)?u.lanes=32:u.lanes=536870912,null}var fe=x.children;return x=x.fallback,S?(Fs(),S=u.mode,fe=ex({mode:"hidden",children:fe},S),x=oc(x,S,h,null),fe.return=u,x.return=u,fe.sibling=x,u.child=fe,x=u.child,x.memoizedState=Xv(h),x.childLanes=Jv(l,X,h),u.memoizedState=Yv,um(null,x)):(Is(u),Qv(u,fe))}var Pe=l.memoizedState;if(Pe!==null&&(fe=Pe.dehydrated,fe!==null)){if(I)u.flags&256?(Is(u),u.flags&=-257,u=Zv(l,u,h)):u.memoizedState!==null?(Fs(),u.child=l.child,u.flags|=128,u=null):(Fs(),fe=x.fallback,S=u.mode,x=ex({mode:"visible",children:x.children},S),fe=oc(fe,S,h,null),fe.flags|=2,x.return=u,fe.return=u,x.sibling=fe,u.child=x,ns(u,l.child,null,h),x=u.child,x.memoizedState=Xv(h),x.childLanes=Jv(l,X,h),u.memoizedState=Yv,u=um(null,x));else if(Is(u),D_(fe)){if(X=fe.nextSibling&&fe.nextSibling.dataset,X)var Je=X.dgst;X=Je,x=Error(r(419)),x.stack="",x.digest=X,Zu({value:x,source:null,stack:null}),u=Zv(l,u,h)}else if(si||dc(l,u,h,!1),X=(h&l.childLanes)!==0,si||X){if(X=rs,X!==null&&(x=$n(X,h),x!==0&&x!==Pe.retryLane))throw Pe.retryLane=x,Rl(l,x),po(X,l,x),$v;P_(fe)||cx(),u=Zv(l,u,h)}else P_(fe)?(u.flags|=192,u.child=l.child,u=null):(l=Pe.treeContext,ts=sl(fe.nextSibling),yi=u,nr=!0,Zi=null,gs=!1,l!==null&&q1(u,l),u=Qv(u,x.children),u.flags|=4096);return u}return S?(Fs(),fe=x.fallback,S=u.mode,Pe=l.child,Je=Pe.sibling,x=to(Pe,{mode:"hidden",children:x.children}),x.subtreeFlags=Pe.subtreeFlags&65011712,Je!==null?fe=to(Je,fe):(fe=oc(fe,S,h,null),fe.flags|=2),fe.return=u,x.return=u,x.sibling=fe,u.child=x,um(null,x),x=u.child,fe=l.child.memoizedState,fe===null?fe=Xv(h):(S=fe.cachePool,S!==null?(Pe=Ns._currentValue,S=S.parent!==Pe?{parent:Pe,pool:Pe}:S):S=Ne(),fe={baseLanes:fe.baseLanes|h,cachePool:S}),x.memoizedState=fe,x.childLanes=Jv(l,X,h),u.memoizedState=Yv,um(l.child,x)):(Is(u),h=l.child,l=h.sibling,h=to(h,{mode:"visible",children:x.children}),h.return=u,h.sibling=null,l!==null&&(X=u.deletions,X===null?(u.deletions=[l],u.flags|=16):X.push(l)),u.child=h,u.memoizedState=null,h)}function Qv(l,u){return u=ex({mode:"visible",children:u},l.mode),u.return=l,l.child=u}function ex(l,u){return l=Fi(22,l,null,u),l.lanes=0,l}function Zv(l,u,h){return ns(u,l.child,null,h),l=Qv(u,u.pendingProps.children),l.flags|=2,u.memoizedState=null,l}function PA(l,u,h){l.lanes|=u;var x=l.alternate;x!==null&&(x.lanes|=u),ef(l.return,u,h)}function e_(l,u,h,x,S,I){var X=l.memoizedState;X===null?l.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:x,tail:h,tailMode:S,treeForkCount:I}:(X.isBackwards=u,X.rendering=null,X.renderingStartTime=0,X.last=x,X.tail=h,X.tailMode=S,X.treeForkCount=I)}function DA(l,u,h){var x=u.pendingProps,S=x.revealOrder,I=x.tail;x=x.children;var X=dr.current,fe=(X&2)!==0;if(fe?(X=X&1|2,u.flags|=128):X&=1,J(dr,X),ta(l,u,x,h),x=nr?yd:0,!fe&&l!==null&&(l.flags&128)!==0)e:for(l=u.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&PA(l,h,u);else if(l.tag===19)PA(l,h,u);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===u)break e;for(;l.sibling===null;){if(l.return===null||l.return===u)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}switch(S){case"forwards":for(h=u.child,S=null;h!==null;)l=h.alternate,l!==null&&Bi(l)===null&&(S=h),h=h.sibling;h=S,h===null?(S=u.child,u.child=null):(S=h.sibling,h.sibling=null),e_(u,!1,S,h,I,x);break;case"backwards":case"unstable_legacy-backwards":for(h=null,S=u.child,u.child=null;S!==null;){if(l=S.alternate,l!==null&&Bi(l)===null){u.child=S;break}l=S.sibling,S.sibling=h,h=S,S=l}e_(u,!0,h,null,I,x);break;case"together":e_(u,!1,null,null,void 0,x);break;default:u.memoizedState=null}return u.child}function ou(l,u,h){if(l!==null&&(u.dependencies=l.dependencies),cf|=u.lanes,(h&u.childLanes)===0)if(l!==null){if(dc(l,u,h,!1),(h&u.childLanes)===0)return null}else return null;if(l!==null&&u.child!==l.child)throw Error(r(153));if(u.child!==null){for(l=u.child,h=to(l,l.pendingProps),u.child=h,h.return=u;l.sibling!==null;)l=l.sibling,h=h.sibling=to(l,l.pendingProps),h.return=u;h.sibling=null}return u.child}function t_(l,u){return(l.lanes&u)!==0?!0:(l=l.dependencies,!!(l!==null&&Hh(l)))}function zB(l,u,h){switch(u.tag){case 3:pe(u,u.stateNode.containerInfo),fc(u,Ns,l.memoizedState.cache),nu();break;case 27:case 5:Te(u);break;case 4:pe(u,u.stateNode.containerInfo);break;case 10:fc(u,u.type,u.memoizedProps.value);break;case 31:if(u.memoizedState!==null)return u.flags|=128,Pr(u),null;break;case 13:var x=u.memoizedState;if(x!==null)return x.dehydrated!==null?(Is(u),u.flags|=128,null):(h&u.child.childLanes)!==0?RA(l,u,h):(Is(u),l=ou(l,u,h),l!==null?l.sibling:null);Is(u);break;case 19:var S=(l.flags&128)!==0;if(x=(h&u.childLanes)!==0,x||(dc(l,u,h,!1),x=(h&u.childLanes)!==0),S){if(x)return DA(l,u,h);u.flags|=128}if(S=u.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),J(dr,dr.current),x)break;return null;case 22:return u.lanes=0,SA(l,u,h,u.pendingProps);case 24:fc(u,Ns,l.memoizedState.cache)}return ou(l,u,h)}function MA(l,u,h){if(l!==null)if(l.memoizedProps!==u.pendingProps)si=!0;else{if(!t_(l,h)&&(u.flags&128)===0)return si=!1,zB(l,u,h);si=(l.flags&131072)!==0}else si=!1,nr&&(u.flags&1048576)!==0&&j1(u,yd,u.index);switch(u.lanes=0,u.tag){case 16:e:{var x=u.pendingProps;if(l=We(u.elementType),u.type=l,typeof l=="function")Oh(l)?(x=Td(l,x),u.tag=1,u=IA(null,u,l,x,h)):(u.tag=0,u=Kv(null,u,l,x,h));else{if(l!=null){var S=l.$$typeof;if(S===B){u.tag=11,u=wA(null,u,l,x,h);break e}else if(S===D){u.tag=14,u=TA(null,u,l,x,h);break e}}throw u=ae(l)||l,Error(r(306,u,""))}}return u;case 0:return Kv(l,u,u.type,u.pendingProps,h);case 1:return x=u.type,S=Td(x,u.pendingProps),IA(l,u,x,S,h);case 3:e:{if(pe(u,u.stateNode.containerInfo),l===null)throw Error(r(387));x=u.pendingProps;var I=u.memoizedState;S=I.element,ls(l,u),Ds(u,x,null,h);var X=u.memoizedState;if(x=X.cache,fc(u,Ns,x),x!==I.cache&&ru(u,[Ns],h,!0),$r(),x=X.element,I.isDehydrated)if(I={element:x,isDehydrated:!1,cache:X.cache},u.updateQueue.baseState=I,u.memoizedState=I,u.flags&256){u=kA(l,u,x,h);break e}else if(x!==S){S=no(Error(r(424)),u),Zu(S),u=kA(l,u,x,h);break e}else{switch(l=u.stateNode.containerInfo,l.nodeType){case 9:l=l.body;break;default:l=l.nodeName==="HTML"?l.ownerDocument.body:l}for(ts=sl(l.firstChild),yi=u,nr=!0,Zi=null,gs=!0,h=Bn(u,null,x,h),u.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling}else{if(nu(),x===S){u=ou(l,u,h);break e}ta(l,u,x,h)}u=u.child}return u;case 26:return Z1(l,u),l===null?(h=G4(u.type,null,u.pendingProps,null))?u.memoizedState=h:nr||(h=u.type,l=u.pendingProps,x=gx(ne.current).createElement(h),x[ge]=u,x[we]=l,na(x,h,l),$t(x),u.stateNode=x):u.memoizedState=G4(u.type,l.memoizedProps,u.pendingProps,l.memoizedState),null;case 27:return Te(u),l===null&&nr&&(x=u.stateNode=q4(u.type,u.pendingProps,ne.current),yi=u,gs=!0,S=ts,pf(u.type)?(M_=S,ts=sl(x.firstChild)):ts=S),ta(l,u,u.pendingProps.children,h),Z1(l,u),l===null&&(u.flags|=4194304),u.child;case 5:return l===null&&nr&&((S=x=ts)&&(x=_V(x,u.type,u.pendingProps,gs),x!==null?(u.stateNode=x,yi=u,ts=sl(x.firstChild),gs=!1,S=!0):S=!1),S||cc(u)),Te(u),S=u.type,I=u.pendingProps,X=l!==null?l.memoizedProps:null,x=I.children,I_(S,I)?x=null:X!==null&&I_(S,X)&&(u.flags|=32),u.memoizedState!==null&&(S=tm(l,u,Fv,null,null,h),Sm._currentValue=S),Z1(l,u),ta(l,u,x,h),u.child;case 6:return l===null&&nr&&((l=h=ts)&&(h=bV(h,u.pendingProps,gs),h!==null?(u.stateNode=h,yi=u,ts=null,l=!0):l=!1),l||cc(u)),null;case 13:return RA(l,u,h);case 4:return pe(u,u.stateNode.containerInfo),x=u.pendingProps,l===null?u.child=ns(u,null,x,h):ta(l,u,x,h),u.child;case 11:return wA(l,u,u.type,u.pendingProps,h);case 7:return ta(l,u,u.pendingProps,h),u.child;case 8:return ta(l,u,u.pendingProps.children,h),u.child;case 12:return ta(l,u,u.pendingProps.children,h),u.child;case 10:return x=u.pendingProps,fc(u,u.type,x.value),ta(l,u,x.children,h),u.child;case 9:return S=u.type._context,x=u.pendingProps.children,hc(u),S=_i(S),x=x(S),u.flags|=1,ta(l,u,x,h),u.child;case 14:return TA(l,u,u.type,u.pendingProps,h);case 15:return EA(l,u,u.type,u.pendingProps,h);case 19:return DA(l,u,h);case 31:return HB(l,u,h);case 22:return SA(l,u,h,u.pendingProps);case 24:return hc(u),x=_i(Ns),l===null?(S=de(),S===null&&(S=rs,I=tf(),S.pooledCache=I,I.refCount++,I!==null&&(S.pooledCacheLanes|=h),S=I),u.memoizedState={parent:x,cache:S},Mt(u),fc(u,Ns,S)):((l.lanes&h)!==0&&(ls(l,u),Ds(u,null,null,h),$r()),S=l.memoizedState,I=u.memoizedState,S.parent!==x?(S={parent:x,cache:x},u.memoizedState=S,u.lanes===0&&(u.memoizedState=u.updateQueue.baseState=S),fc(u,Ns,x)):(x=I.cache,fc(u,Ns,x),x!==S.cache&&ru(u,[Ns],h,!0))),ta(l,u,u.pendingProps.children,h),u.child;case 29:throw u.pendingProps}throw Error(r(156,u.tag))}function lu(l){l.flags|=4}function n_(l,u,h,x,S){if((u=(l.mode&32)!==0)&&(u=!1),u){if(l.flags|=16777216,(S&335544128)===S)if(l.stateNode.complete)l.flags|=8192;else if(o4())l.flags|=8192;else throw at=Be,Ye}else l.flags&=-16777217}function LA(l,u){if(u.type!=="stylesheet"||(u.state.loading&4)!==0)l.flags&=-16777217;else if(l.flags|=16777216,!X4(u))if(o4())l.flags|=8192;else throw at=Be,Ye}function tx(l,u){u!==null&&(l.flags|=4),l.flags&16384&&(u=l.tag!==22?ki():536870912,l.lanes|=u,s0|=u)}function fm(l,u){if(!nr)switch(l.tailMode){case"hidden":u=l.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?l.tail=null:h.sibling=null;break;case"collapsed":h=l.tail;for(var x=null;h!==null;)h.alternate!==null&&(x=h),h=h.sibling;x===null?u||l.tail===null?l.tail=null:l.tail.sibling=null:x.sibling=null}}function fs(l){var u=l.alternate!==null&&l.alternate.child===l.child,h=0,x=0;if(u)for(var S=l.child;S!==null;)h|=S.lanes|S.childLanes,x|=S.subtreeFlags&65011712,x|=S.flags&65011712,S.return=l,S=S.sibling;else for(S=l.child;S!==null;)h|=S.lanes|S.childLanes,x|=S.subtreeFlags,x|=S.flags,S.return=l,S=S.sibling;return l.subtreeFlags|=x,l.childLanes=h,u}function GB(l,u,h){var x=u.pendingProps;switch(jh(u),u.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fs(u),null;case 1:return fs(u),null;case 3:return h=u.stateNode,x=null,l!==null&&(x=l.memoizedState.cache),u.memoizedState.cache!==x&&(u.flags|=2048),oo(Ns),ue(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(l===null||l.child===null)&&(vi(u)?lu(u):l===null||l.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,Zp())),fs(u),null;case 26:var S=u.type,I=u.memoizedState;return l===null?(lu(u),I!==null?(fs(u),LA(u,I)):(fs(u),n_(u,S,null,x,h))):I?I!==l.memoizedState?(lu(u),fs(u),LA(u,I)):(fs(u),u.flags&=-16777217):(l=l.memoizedProps,l!==x&&lu(u),fs(u),n_(u,S,l,x,h)),null;case 27:if(je(u),h=ne.current,S=u.type,l!==null&&u.stateNode!=null)l.memoizedProps!==x&&lu(u);else{if(!x){if(u.stateNode===null)throw Error(r(166));return fs(u),null}l=U.current,vi(u)?Qp(u):(l=q4(S,x,h),u.stateNode=l,lu(u))}return fs(u),null;case 5:if(je(u),S=u.type,l!==null&&u.stateNode!=null)l.memoizedProps!==x&&lu(u);else{if(!x){if(u.stateNode===null)throw Error(r(166));return fs(u),null}if(I=U.current,vi(u))Qp(u);else{var X=gx(ne.current);switch(I){case 1:I=X.createElementNS("http://www.w3.org/2000/svg",S);break;case 2:I=X.createElementNS("http://www.w3.org/1998/Math/MathML",S);break;default:switch(S){case"svg":I=X.createElementNS("http://www.w3.org/2000/svg",S);break;case"math":I=X.createElementNS("http://www.w3.org/1998/Math/MathML",S);break;case"script":I=X.createElement("div"),I.innerHTML="<script><\/script>",I=I.removeChild(I.firstChild);break;case"select":I=typeof x.is=="string"?X.createElement("select",{is:x.is}):X.createElement("select"),x.multiple?I.multiple=!0:x.size&&(I.size=x.size);break;default:I=typeof x.is=="string"?X.createElement(S,{is:x.is}):X.createElement(S)}}I[ge]=u,I[we]=x;e:for(X=u.child;X!==null;){if(X.tag===5||X.tag===6)I.appendChild(X.stateNode);else if(X.tag!==4&&X.tag!==27&&X.child!==null){X.child.return=X,X=X.child;continue}if(X===u)break e;for(;X.sibling===null;){if(X.return===null||X.return===u)break e;X=X.return}X.sibling.return=X.return,X=X.sibling}u.stateNode=I;e:switch(na(I,S,x),S){case"button":case"input":case"select":case"textarea":x=!!x.autoFocus;break e;case"img":x=!0;break e;default:x=!1}x&&lu(u)}}return fs(u),n_(u,u.type,l===null?null:l.memoizedProps,u.pendingProps,h),null;case 6:if(l&&u.stateNode!=null)l.memoizedProps!==x&&lu(u);else{if(typeof x!="string"&&u.stateNode===null)throw Error(r(166));if(l=ne.current,vi(u)){if(l=u.stateNode,h=u.memoizedProps,x=null,S=yi,S!==null)switch(S.tag){case 27:case 5:x=S.memoizedProps}l[ge]=u,l=!!(l.nodeValue===h||x!==null&&x.suppressHydrationWarning===!0||R4(l.nodeValue,h)),l||cc(u,!0)}else l=gx(l).createTextNode(x),l[ge]=u,u.stateNode=l}return fs(u),null;case 31:if(h=u.memoizedState,l===null||l.memoizedState!==null){if(x=vi(u),h!==null){if(l===null){if(!x)throw Error(r(318));if(l=u.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(557));l[ge]=u}else nu(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;fs(u),l=!1}else h=Zp(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=h),l=!0;if(!l)return u.flags&256?(Or(u),u):(Or(u),null);if((u.flags&128)!==0)throw Error(r(558))}return fs(u),null;case 13:if(x=u.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(S=vi(u),x!==null&&x.dehydrated!==null){if(l===null){if(!S)throw Error(r(318));if(S=u.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(r(317));S[ge]=u}else nu(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;fs(u),S=!1}else S=Zp(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=S),S=!0;if(!S)return u.flags&256?(Or(u),u):(Or(u),null)}return Or(u),(u.flags&128)!==0?(u.lanes=h,u):(h=x!==null,l=l!==null&&l.memoizedState!==null,h&&(x=u.child,S=null,x.alternate!==null&&x.alternate.memoizedState!==null&&x.alternate.memoizedState.cachePool!==null&&(S=x.alternate.memoizedState.cachePool.pool),I=null,x.memoizedState!==null&&x.memoizedState.cachePool!==null&&(I=x.memoizedState.cachePool.pool),I!==S&&(x.flags|=2048)),h!==l&&h&&(u.child.flags|=8192),tx(u,u.updateQueue),fs(u),null);case 4:return ue(),l===null&&E_(u.stateNode.containerInfo),fs(u),null;case 10:return oo(u.type),fs(u),null;case 19:if(O(dr),x=u.memoizedState,x===null)return fs(u),null;if(S=(u.flags&128)!==0,I=x.rendering,I===null)if(S)fm(x,!1);else{if(Bs!==0||l!==null&&(l.flags&128)!==0)for(l=u.child;l!==null;){if(I=Bi(l),I!==null){for(u.flags|=128,fm(x,!1),l=I.updateQueue,u.updateQueue=l,tx(u,l),u.subtreeFlags=0,l=h,h=u.child;h!==null;)gd(h,l),h=h.sibling;return J(dr,dr.current&1|2),nr&&Va(u,x.treeForkCount),u.child}l=l.sibling}x.tail!==null&&Qt()>ax&&(u.flags|=128,S=!0,fm(x,!1),u.lanes=4194304)}else{if(!S)if(l=Bi(I),l!==null){if(u.flags|=128,S=!0,l=l.updateQueue,u.updateQueue=l,tx(u,l),fm(x,!0),x.tail===null&&x.tailMode==="hidden"&&!I.alternate&&!nr)return fs(u),null}else 2*Qt()-x.renderingStartTime>ax&&h!==536870912&&(u.flags|=128,S=!0,fm(x,!1),u.lanes=4194304);x.isBackwards?(I.sibling=u.child,u.child=I):(l=x.last,l!==null?l.sibling=I:u.child=I,x.last=I)}return x.tail!==null?(l=x.tail,x.rendering=l,x.tail=l.sibling,x.renderingStartTime=Qt(),l.sibling=null,h=dr.current,J(dr,S?h&1|2:h&1),nr&&Va(u,x.treeForkCount),l):(fs(u),null);case 22:case 23:return Or(u),Ks(),x=u.memoizedState!==null,l!==null?l.memoizedState!==null!==x&&(u.flags|=8192):x&&(u.flags|=8192),x?(h&536870912)!==0&&(u.flags&128)===0&&(fs(u),u.subtreeFlags&6&&(u.flags|=8192)):fs(u),h=u.updateQueue,h!==null&&tx(u,h.retryQueue),h=null,l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(h=l.memoizedState.cachePool.pool),x=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(x=u.memoizedState.cachePool.pool),x!==h&&(u.flags|=2048),l!==null&&O(le),null;case 24:return h=null,l!==null&&(h=l.memoizedState.cache),u.memoizedState.cache!==h&&(u.flags|=2048),oo(Ns),fs(u),null;case 25:return null;case 30:return null}throw Error(r(156,u.tag))}function WB(l,u){switch(jh(u),u.tag){case 1:return l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 3:return oo(Ns),ue(),l=u.flags,(l&65536)!==0&&(l&128)===0?(u.flags=l&-65537|128,u):null;case 26:case 27:case 5:return je(u),null;case 31:if(u.memoizedState!==null){if(Or(u),u.alternate===null)throw Error(r(340));nu()}return l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 13:if(Or(u),l=u.memoizedState,l!==null&&l.dehydrated!==null){if(u.alternate===null)throw Error(r(340));nu()}return l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 19:return O(dr),null;case 4:return ue(),null;case 10:return oo(u.type),null;case 22:case 23:return Or(u),Ks(),l!==null&&O(le),l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 24:return oo(Ns),null;case 25:return null;default:return null}}function FA(l,u){switch(jh(u),u.tag){case 3:oo(Ns),ue();break;case 26:case 27:case 5:je(u);break;case 4:ue();break;case 31:u.memoizedState!==null&&Or(u);break;case 13:Or(u);break;case 19:O(dr);break;case 10:oo(u.type);break;case 22:case 23:Or(u),Ks(),l!==null&&O(le);break;case 24:oo(Ns)}}function dm(l,u){try{var h=u.updateQueue,x=h!==null?h.lastEffect:null;if(x!==null){var S=x.next;h=S;do{if((h.tag&l)===l){x=void 0;var I=h.create,X=h.inst;x=I(),X.destroy=x}h=h.next}while(h!==S)}}catch(fe){Vr(u,u.return,fe)}}function of(l,u,h){try{var x=u.updateQueue,S=x!==null?x.lastEffect:null;if(S!==null){var I=S.next;x=I;do{if((x.tag&l)===l){var X=x.inst,fe=X.destroy;if(fe!==void 0){X.destroy=void 0,S=u;var Pe=h,Je=fe;try{Je()}catch(ut){Vr(S,Pe,ut)}}}x=x.next}while(x!==I)}}catch(ut){Vr(u,u.return,ut)}}function OA(l){var u=l.updateQueue;if(u!==null){var h=l.stateNode;try{Ms(u,h)}catch(x){Vr(l,l.return,x)}}}function BA(l,u,h){h.props=Td(l.type,l.memoizedProps),h.state=l.memoizedState;try{h.componentWillUnmount()}catch(x){Vr(l,u,x)}}function hm(l,u){try{var h=l.ref;if(h!==null){switch(l.tag){case 26:case 27:case 5:var x=l.stateNode;break;case 30:x=l.stateNode;break;default:x=l.stateNode}typeof h=="function"?l.refCleanup=h(x):h.current=x}}catch(S){Vr(l,u,S)}}function yc(l,u){var h=l.ref,x=l.refCleanup;if(h!==null)if(typeof x=="function")try{x()}catch(S){Vr(l,u,S)}finally{l.refCleanup=null,l=l.alternate,l!=null&&(l.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(S){Vr(l,u,S)}else h.current=null}function VA(l){var u=l.type,h=l.memoizedProps,x=l.stateNode;try{e:switch(u){case"button":case"input":case"select":case"textarea":h.autoFocus&&x.focus();break e;case"img":h.src?x.src=h.src:h.srcSet&&(x.srcset=h.srcSet)}}catch(S){Vr(l,l.return,S)}}function r_(l,u,h){try{var x=l.stateNode;pV(x,l.type,h,u),x[we]=u}catch(S){Vr(l,l.return,S)}}function UA(l){return l.tag===5||l.tag===3||l.tag===26||l.tag===27&&pf(l.type)||l.tag===4}function s_(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||UA(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.tag===27&&pf(l.type)||l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function i_(l,u,h){var x=l.tag;if(x===5||x===6)l=l.stateNode,u?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(l,u):(u=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,u.appendChild(l),h=h._reactRootContainer,h!=null||u.onclick!==null||(u.onclick=Pa));else if(x!==4&&(x===27&&pf(l.type)&&(h=l.stateNode,u=null),l=l.child,l!==null))for(i_(l,u,h),l=l.sibling;l!==null;)i_(l,u,h),l=l.sibling}function nx(l,u,h){var x=l.tag;if(x===5||x===6)l=l.stateNode,u?h.insertBefore(l,u):h.appendChild(l);else if(x!==4&&(x===27&&pf(l.type)&&(h=l.stateNode),l=l.child,l!==null))for(nx(l,u,h),l=l.sibling;l!==null;)nx(l,u,h),l=l.sibling}function jA(l){var u=l.stateNode,h=l.memoizedProps;try{for(var x=l.type,S=u.attributes;S.length;)u.removeAttributeNode(S[0]);na(u,x,h),u[ge]=l,u[we]=h}catch(I){Vr(l,l.return,I)}}var cu=!1,ii=!1,a_=!1,qA=typeof WeakSet=="function"?WeakSet:Set,Vi=null;function $B(l,u){if(l=l.containerInfo,C_=Tx,l=Il(l),Zo(l)){if("selectionStart"in l)var h={start:l.selectionStart,end:l.selectionEnd};else e:{h=(h=l.ownerDocument)&&h.defaultView||window;var x=h.getSelection&&h.getSelection();if(x&&x.rangeCount!==0){h=x.anchorNode;var S=x.anchorOffset,I=x.focusNode;x=x.focusOffset;try{h.nodeType,I.nodeType}catch{h=null;break e}var X=0,fe=-1,Pe=-1,Je=0,ut=0,gt=l,Ze=null;t:for(;;){for(var st;gt!==h||S!==0&&gt.nodeType!==3||(fe=X+S),gt!==I||x!==0&&gt.nodeType!==3||(Pe=X+x),gt.nodeType===3&&(X+=gt.nodeValue.length),(st=gt.firstChild)!==null;)Ze=gt,gt=st;for(;;){if(gt===l)break t;if(Ze===h&&++Je===S&&(fe=X),Ze===I&&++ut===x&&(Pe=X),(st=gt.nextSibling)!==null)break;gt=Ze,Ze=gt.parentNode}gt=st}h=fe===-1||Pe===-1?null:{start:fe,end:Pe}}else h=null}h=h||{start:0,end:0}}else h=null;for(N_={focusedElem:l,selectionRange:h},Tx=!1,Vi=u;Vi!==null;)if(u=Vi,l=u.child,(u.subtreeFlags&1028)!==0&&l!==null)l.return=u,Vi=l;else for(;Vi!==null;){switch(u=Vi,I=u.alternate,l=u.flags,u.tag){case 0:if((l&4)!==0&&(l=u.updateQueue,l=l!==null?l.events:null,l!==null))for(h=0;h<l.length;h++)S=l[h],S.ref.impl=S.nextImpl;break;case 11:case 15:break;case 1:if((l&1024)!==0&&I!==null){l=void 0,h=u,S=I.memoizedProps,I=I.memoizedState,x=h.stateNode;try{var Jt=Td(h.type,S);l=x.getSnapshotBeforeUpdate(Jt,I),x.__reactInternalSnapshotBeforeUpdate=l}catch(Cn){Vr(h,h.return,Cn)}}break;case 3:if((l&1024)!==0){if(l=u.stateNode.containerInfo,h=l.nodeType,h===9)R_(l);else if(h===1)switch(l.nodeName){case"HEAD":case"HTML":case"BODY":R_(l);break;default:l.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((l&1024)!==0)throw Error(r(163))}if(l=u.sibling,l!==null){l.return=u.return,Vi=l;break}Vi=u.return}}function HA(l,u,h){var x=h.flags;switch(h.tag){case 0:case 11:case 15:fu(l,h),x&4&&dm(5,h);break;case 1:if(fu(l,h),x&4)if(l=h.stateNode,u===null)try{l.componentDidMount()}catch(X){Vr(h,h.return,X)}else{var S=Td(h.type,u.memoizedProps);u=u.memoizedState;try{l.componentDidUpdate(S,u,l.__reactInternalSnapshotBeforeUpdate)}catch(X){Vr(h,h.return,X)}}x&64&&OA(h),x&512&&hm(h,h.return);break;case 3:if(fu(l,h),x&64&&(l=h.updateQueue,l!==null)){if(u=null,h.child!==null)switch(h.child.tag){case 27:case 5:u=h.child.stateNode;break;case 1:u=h.child.stateNode}try{Ms(l,u)}catch(X){Vr(h,h.return,X)}}break;case 27:u===null&&x&4&&jA(h);case 26:case 5:fu(l,h),u===null&&x&4&&VA(h),x&512&&hm(h,h.return);break;case 12:fu(l,h);break;case 31:fu(l,h),x&4&&WA(l,h);break;case 13:fu(l,h),x&4&&$A(l,h),x&64&&(l=h.memoizedState,l!==null&&(l=l.dehydrated,l!==null&&(h=nV.bind(null,h),wV(l,h))));break;case 22:if(x=h.memoizedState!==null||cu,!x){u=u!==null&&u.memoizedState!==null||ii,S=cu;var I=ii;cu=x,(ii=u)&&!I?du(l,h,(h.subtreeFlags&8772)!==0):fu(l,h),cu=S,ii=I}break;case 30:break;default:fu(l,h)}}function zA(l){var u=l.alternate;u!==null&&(l.alternate=null,zA(u)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(u=l.stateNode,u!==null&&_t(u)),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}var vs=null,co=!1;function uu(l,u,h){for(h=h.child;h!==null;)GA(l,u,h),h=h.sibling}function GA(l,u,h){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(qt,h)}catch{}switch(h.tag){case 26:ii||yc(h,u),uu(l,u,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:ii||yc(h,u);var x=vs,S=co;pf(h.type)&&(vs=h.stateNode,co=!1),uu(l,u,h),wm(h.stateNode),vs=x,co=S;break;case 5:ii||yc(h,u);case 6:if(x=vs,S=co,vs=null,uu(l,u,h),vs=x,co=S,vs!==null)if(co)try{(vs.nodeType===9?vs.body:vs.nodeName==="HTML"?vs.ownerDocument.body:vs).removeChild(h.stateNode)}catch(I){Vr(h,u,I)}else try{vs.removeChild(h.stateNode)}catch(I){Vr(h,u,I)}break;case 18:vs!==null&&(co?(l=vs,O4(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,h.stateNode),d0(l)):O4(vs,h.stateNode));break;case 4:x=vs,S=co,vs=h.stateNode.containerInfo,co=!0,uu(l,u,h),vs=x,co=S;break;case 0:case 11:case 14:case 15:of(2,h,u),ii||of(4,h,u),uu(l,u,h);break;case 1:ii||(yc(h,u),x=h.stateNode,typeof x.componentWillUnmount=="function"&&BA(h,u,x)),uu(l,u,h);break;case 21:uu(l,u,h);break;case 22:ii=(x=ii)||h.memoizedState!==null,uu(l,u,h),ii=x;break;default:uu(l,u,h)}}function WA(l,u){if(u.memoizedState===null&&(l=u.alternate,l!==null&&(l=l.memoizedState,l!==null))){l=l.dehydrated;try{d0(l)}catch(h){Vr(u,u.return,h)}}}function $A(l,u){if(u.memoizedState===null&&(l=u.alternate,l!==null&&(l=l.memoizedState,l!==null&&(l=l.dehydrated,l!==null))))try{d0(l)}catch(h){Vr(u,u.return,h)}}function KB(l){switch(l.tag){case 31:case 13:case 19:var u=l.stateNode;return u===null&&(u=l.stateNode=new qA),u;case 22:return l=l.stateNode,u=l._retryCache,u===null&&(u=l._retryCache=new qA),u;default:throw Error(r(435,l.tag))}}function rx(l,u){var h=KB(l);u.forEach(function(x){if(!h.has(x)){h.add(x);var S=rV.bind(null,l,x);x.then(S,S)}})}function uo(l,u){var h=u.deletions;if(h!==null)for(var x=0;x<h.length;x++){var S=h[x],I=l,X=u,fe=X;e:for(;fe!==null;){switch(fe.tag){case 27:if(pf(fe.type)){vs=fe.stateNode,co=!1;break e}break;case 5:vs=fe.stateNode,co=!1;break e;case 3:case 4:vs=fe.stateNode.containerInfo,co=!0;break e}fe=fe.return}if(vs===null)throw Error(r(160));GA(I,X,S),vs=null,co=!1,I=S.alternate,I!==null&&(I.return=null),S.return=null}if(u.subtreeFlags&13886)for(u=u.child;u!==null;)KA(u,l),u=u.sibling}var Ol=null;function KA(l,u){var h=l.alternate,x=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:uo(u,l),fo(l),x&4&&(of(3,l,l.return),dm(3,l),of(5,l,l.return));break;case 1:uo(u,l),fo(l),x&512&&(ii||h===null||yc(h,h.return)),x&64&&cu&&(l=l.updateQueue,l!==null&&(x=l.callbacks,x!==null&&(h=l.shared.hiddenCallbacks,l.shared.hiddenCallbacks=h===null?x:h.concat(x))));break;case 26:var S=Ol;if(uo(u,l),fo(l),x&512&&(ii||h===null||yc(h,h.return)),x&4){var I=h!==null?h.memoizedState:null;if(x=l.memoizedState,h===null)if(x===null)if(l.stateNode===null){e:{x=l.type,h=l.memoizedProps,S=S.ownerDocument||S;t:switch(x){case"title":I=S.getElementsByTagName("title")[0],(!I||I[Ke]||I[ge]||I.namespaceURI==="http://www.w3.org/2000/svg"||I.hasAttribute("itemprop"))&&(I=S.createElement(x),S.head.insertBefore(I,S.querySelector("head > title"))),na(I,x,h),I[ge]=l,$t(I),x=I;break e;case"link":var X=K4("link","href",S).get(x+(h.href||""));if(X){for(var fe=0;fe<X.length;fe++)if(I=X[fe],I.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&I.getAttribute("rel")===(h.rel==null?null:h.rel)&&I.getAttribute("title")===(h.title==null?null:h.title)&&I.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){X.splice(fe,1);break t}}I=S.createElement(x),na(I,x,h),S.head.appendChild(I);break;case"meta":if(X=K4("meta","content",S).get(x+(h.content||""))){for(fe=0;fe<X.length;fe++)if(I=X[fe],I.getAttribute("content")===(h.content==null?null:""+h.content)&&I.getAttribute("name")===(h.name==null?null:h.name)&&I.getAttribute("property")===(h.property==null?null:h.property)&&I.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&I.getAttribute("charset")===(h.charSet==null?null:h.charSet)){X.splice(fe,1);break t}}I=S.createElement(x),na(I,x,h),S.head.appendChild(I);break;default:throw Error(r(468,x))}I[ge]=l,$t(I),x=I}l.stateNode=x}else Y4(S,l.type,l.stateNode);else l.stateNode=$4(S,x,l.memoizedProps);else I!==x?(I===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):I.count--,x===null?Y4(S,l.type,l.stateNode):$4(S,x,l.memoizedProps)):x===null&&l.stateNode!==null&&r_(l,l.memoizedProps,h.memoizedProps)}break;case 27:uo(u,l),fo(l),x&512&&(ii||h===null||yc(h,h.return)),h!==null&&x&4&&r_(l,l.memoizedProps,h.memoizedProps);break;case 5:if(uo(u,l),fo(l),x&512&&(ii||h===null||yc(h,h.return)),l.flags&32){S=l.stateNode;try{Gs(S,"")}catch(Jt){Vr(l,l.return,Jt)}}x&4&&l.stateNode!=null&&(S=l.memoizedProps,r_(l,S,h!==null?h.memoizedProps:S)),x&1024&&(a_=!0);break;case 6:if(uo(u,l),fo(l),x&4){if(l.stateNode===null)throw Error(r(162));x=l.memoizedProps,h=l.stateNode;try{h.nodeValue=x}catch(Jt){Vr(l,l.return,Jt)}}break;case 3:if(vx=null,S=Ol,Ol=xx(u.containerInfo),uo(u,l),Ol=S,fo(l),x&4&&h!==null&&h.memoizedState.isDehydrated)try{d0(u.containerInfo)}catch(Jt){Vr(l,l.return,Jt)}a_&&(a_=!1,YA(l));break;case 4:x=Ol,Ol=xx(l.stateNode.containerInfo),uo(u,l),fo(l),Ol=x;break;case 12:uo(u,l),fo(l);break;case 31:uo(u,l),fo(l),x&4&&(x=l.updateQueue,x!==null&&(l.updateQueue=null,rx(l,x)));break;case 13:uo(u,l),fo(l),l.child.flags&8192&&l.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(ix=Qt()),x&4&&(x=l.updateQueue,x!==null&&(l.updateQueue=null,rx(l,x)));break;case 22:S=l.memoizedState!==null;var Pe=h!==null&&h.memoizedState!==null,Je=cu,ut=ii;if(cu=Je||S,ii=ut||Pe,uo(u,l),ii=ut,cu=Je,fo(l),x&8192)e:for(u=l.stateNode,u._visibility=S?u._visibility&-2:u._visibility|1,S&&(h===null||Pe||cu||ii||Ed(l)),h=null,u=l;;){if(u.tag===5||u.tag===26){if(h===null){Pe=h=u;try{if(I=Pe.stateNode,S)X=I.style,typeof X.setProperty=="function"?X.setProperty("display","none","important"):X.display="none";else{fe=Pe.stateNode;var gt=Pe.memoizedProps.style,Ze=gt!=null&&gt.hasOwnProperty("display")?gt.display:null;fe.style.display=Ze==null||typeof Ze=="boolean"?"":(""+Ze).trim()}}catch(Jt){Vr(Pe,Pe.return,Jt)}}}else if(u.tag===6){if(h===null){Pe=u;try{Pe.stateNode.nodeValue=S?"":Pe.memoizedProps}catch(Jt){Vr(Pe,Pe.return,Jt)}}}else if(u.tag===18){if(h===null){Pe=u;try{var st=Pe.stateNode;S?B4(st,!0):B4(Pe.stateNode,!1)}catch(Jt){Vr(Pe,Pe.return,Jt)}}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===l)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break e;for(;u.sibling===null;){if(u.return===null||u.return===l)break e;h===u&&(h=null),u=u.return}h===u&&(h=null),u.sibling.return=u.return,u=u.sibling}x&4&&(x=l.updateQueue,x!==null&&(h=x.retryQueue,h!==null&&(x.retryQueue=null,rx(l,h))));break;case 19:uo(u,l),fo(l),x&4&&(x=l.updateQueue,x!==null&&(l.updateQueue=null,rx(l,x)));break;case 30:break;case 21:break;default:uo(u,l),fo(l)}}function fo(l){var u=l.flags;if(u&2){try{for(var h,x=l.return;x!==null;){if(UA(x)){h=x;break}x=x.return}if(h==null)throw Error(r(160));switch(h.tag){case 27:var S=h.stateNode,I=s_(l);nx(l,I,S);break;case 5:var X=h.stateNode;h.flags&32&&(Gs(X,""),h.flags&=-33);var fe=s_(l);nx(l,fe,X);break;case 3:case 4:var Pe=h.stateNode.containerInfo,Je=s_(l);i_(l,Je,Pe);break;default:throw Error(r(161))}}catch(ut){Vr(l,l.return,ut)}l.flags&=-3}u&4096&&(l.flags&=-4097)}function YA(l){if(l.subtreeFlags&1024)for(l=l.child;l!==null;){var u=l;YA(u),u.tag===5&&u.flags&1024&&u.stateNode.reset(),l=l.sibling}}function fu(l,u){if(u.subtreeFlags&8772)for(u=u.child;u!==null;)HA(l,u.alternate,u),u=u.sibling}function Ed(l){for(l=l.child;l!==null;){var u=l;switch(u.tag){case 0:case 11:case 14:case 15:of(4,u,u.return),Ed(u);break;case 1:yc(u,u.return);var h=u.stateNode;typeof h.componentWillUnmount=="function"&&BA(u,u.return,h),Ed(u);break;case 27:wm(u.stateNode);case 26:case 5:yc(u,u.return),Ed(u);break;case 22:u.memoizedState===null&&Ed(u);break;case 30:Ed(u);break;default:Ed(u)}l=l.sibling}}function du(l,u,h){for(h=h&&(u.subtreeFlags&8772)!==0,u=u.child;u!==null;){var x=u.alternate,S=l,I=u,X=I.flags;switch(I.tag){case 0:case 11:case 15:du(S,I,h),dm(4,I);break;case 1:if(du(S,I,h),x=I,S=x.stateNode,typeof S.componentDidMount=="function")try{S.componentDidMount()}catch(Je){Vr(x,x.return,Je)}if(x=I,S=x.updateQueue,S!==null){var fe=x.stateNode;try{var Pe=S.shared.hiddenCallbacks;if(Pe!==null)for(S.shared.hiddenCallbacks=null,S=0;S<Pe.length;S++)Oi(Pe[S],fe)}catch(Je){Vr(x,x.return,Je)}}h&&X&64&&OA(I),hm(I,I.return);break;case 27:jA(I);case 26:case 5:du(S,I,h),h&&x===null&&X&4&&VA(I),hm(I,I.return);break;case 12:du(S,I,h);break;case 31:du(S,I,h),h&&X&4&&WA(S,I);break;case 13:du(S,I,h),h&&X&4&&$A(S,I);break;case 22:I.memoizedState===null&&du(S,I,h),hm(I,I.return);break;case 30:break;default:du(S,I,h)}u=u.sibling}}function o_(l,u){var h=null;l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(h=l.memoizedState.cachePool.pool),l=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(l=u.memoizedState.cachePool.pool),l!==h&&(l!=null&&l.refCount++,h!=null&&vd(h))}function l_(l,u){l=null,u.alternate!==null&&(l=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==l&&(u.refCount++,l!=null&&vd(l))}function Bl(l,u,h,x){if(u.subtreeFlags&10256)for(u=u.child;u!==null;)XA(l,u,h,x),u=u.sibling}function XA(l,u,h,x){var S=u.flags;switch(u.tag){case 0:case 11:case 15:Bl(l,u,h,x),S&2048&&dm(9,u);break;case 1:Bl(l,u,h,x);break;case 3:Bl(l,u,h,x),S&2048&&(l=null,u.alternate!==null&&(l=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==l&&(u.refCount++,l!=null&&vd(l)));break;case 12:if(S&2048){Bl(l,u,h,x),l=u.stateNode;try{var I=u.memoizedProps,X=I.id,fe=I.onPostCommit;typeof fe=="function"&&fe(X,u.alternate===null?"mount":"update",l.passiveEffectDuration,-0)}catch(Pe){Vr(u,u.return,Pe)}}else Bl(l,u,h,x);break;case 31:Bl(l,u,h,x);break;case 13:Bl(l,u,h,x);break;case 23:break;case 22:I=u.stateNode,X=u.alternate,u.memoizedState!==null?I._visibility&2?Bl(l,u,h,x):pm(l,u):I._visibility&2?Bl(l,u,h,x):(I._visibility|=2,t0(l,u,h,x,(u.subtreeFlags&10256)!==0||!1)),S&2048&&o_(X,u);break;case 24:Bl(l,u,h,x),S&2048&&l_(u.alternate,u);break;default:Bl(l,u,h,x)}}function t0(l,u,h,x,S){for(S=S&&((u.subtreeFlags&10256)!==0||!1),u=u.child;u!==null;){var I=l,X=u,fe=h,Pe=x,Je=X.flags;switch(X.tag){case 0:case 11:case 15:t0(I,X,fe,Pe,S),dm(8,X);break;case 23:break;case 22:var ut=X.stateNode;X.memoizedState!==null?ut._visibility&2?t0(I,X,fe,Pe,S):pm(I,X):(ut._visibility|=2,t0(I,X,fe,Pe,S)),S&&Je&2048&&o_(X.alternate,X);break;case 24:t0(I,X,fe,Pe,S),S&&Je&2048&&l_(X.alternate,X);break;default:t0(I,X,fe,Pe,S)}u=u.sibling}}function pm(l,u){if(u.subtreeFlags&10256)for(u=u.child;u!==null;){var h=l,x=u,S=x.flags;switch(x.tag){case 22:pm(h,x),S&2048&&o_(x.alternate,x);break;case 24:pm(h,x),S&2048&&l_(x.alternate,x);break;default:pm(h,x)}u=u.sibling}}var mm=8192;function n0(l,u,h){if(l.subtreeFlags&mm)for(l=l.child;l!==null;)JA(l,u,h),l=l.sibling}function JA(l,u,h){switch(l.tag){case 26:n0(l,u,h),l.flags&mm&&l.memoizedState!==null&&MV(h,Ol,l.memoizedState,l.memoizedProps);break;case 5:n0(l,u,h);break;case 3:case 4:var x=Ol;Ol=xx(l.stateNode.containerInfo),n0(l,u,h),Ol=x;break;case 22:l.memoizedState===null&&(x=l.alternate,x!==null&&x.memoizedState!==null?(x=mm,mm=16777216,n0(l,u,h),mm=x):n0(l,u,h));break;default:n0(l,u,h)}}function QA(l){var u=l.alternate;if(u!==null&&(l=u.child,l!==null)){u.child=null;do u=l.sibling,l.sibling=null,l=u;while(l!==null)}}function gm(l){var u=l.deletions;if((l.flags&16)!==0){if(u!==null)for(var h=0;h<u.length;h++){var x=u[h];Vi=x,e4(x,l)}QA(l)}if(l.subtreeFlags&10256)for(l=l.child;l!==null;)ZA(l),l=l.sibling}function ZA(l){switch(l.tag){case 0:case 11:case 15:gm(l),l.flags&2048&&of(9,l,l.return);break;case 3:gm(l);break;case 12:gm(l);break;case 22:var u=l.stateNode;l.memoizedState!==null&&u._visibility&2&&(l.return===null||l.return.tag!==13)?(u._visibility&=-3,sx(l)):gm(l);break;default:gm(l)}}function sx(l){var u=l.deletions;if((l.flags&16)!==0){if(u!==null)for(var h=0;h<u.length;h++){var x=u[h];Vi=x,e4(x,l)}QA(l)}for(l=l.child;l!==null;){switch(u=l,u.tag){case 0:case 11:case 15:of(8,u,u.return),sx(u);break;case 22:h=u.stateNode,h._visibility&2&&(h._visibility&=-3,sx(u));break;default:sx(u)}l=l.sibling}}function e4(l,u){for(;Vi!==null;){var h=Vi;switch(h.tag){case 0:case 11:case 15:of(8,h,u);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var x=h.memoizedState.cachePool.pool;x!=null&&x.refCount++}break;case 24:vd(h.memoizedState.cache)}if(x=h.child,x!==null)x.return=h,Vi=x;else e:for(h=l;Vi!==null;){x=Vi;var S=x.sibling,I=x.return;if(zA(x),x===h){Vi=null;break e}if(S!==null){S.return=I,Vi=S;break e}Vi=I}}}var YB={getCacheForType:function(l){var u=_i(Ns),h=u.data.get(l);return h===void 0&&(h=l(),u.data.set(l,h)),h},cacheSignal:function(){return _i(Ns).controller.signal}},XB=typeof WeakMap=="function"?WeakMap:Map,Dr=0,rs=null,rr=null,lr=0,Br=0,Ro=null,lf=!1,r0=!1,c_=!1,hu=0,Bs=0,cf=0,Sd=0,u_=0,Po=0,s0=0,xm=null,ho=null,f_=!1,ix=0,t4=0,ax=1/0,ox=null,uf=null,wi=0,ff=null,i0=null,pu=0,d_=0,h_=null,n4=null,ym=0,p_=null;function Do(){return(Dr&2)!==0&&lr!==0?lr&-lr:oe.T!==null?__():te()}function r4(){if(Po===0)if((lr&536870912)===0||nr){var l=ar;ar<<=1,(ar&3932160)===0&&(ar=262144),Po=l}else Po=536870912;return l=us.current,l!==null&&(l.flags|=32),Po}function po(l,u,h){(l===rs&&(Br===2||Br===9)||l.cancelPendingCommit!==null)&&(a0(l,0),df(l,lr,Po,!1)),un(l,h),((Dr&2)===0||l!==rs)&&(l===rs&&((Dr&2)===0&&(Sd|=h),Bs===4&&df(l,lr,Po,!1)),vc(l))}function s4(l,u,h){if((Dr&6)!==0)throw Error(r(327));var x=!h&&(u&127)===0&&(u&l.expiredLanes)===0||as(l,u),S=x?ZB(l,u):g_(l,u,!0),I=x;do{if(S===0){r0&&!x&&df(l,u,0,!1);break}else{if(h=l.current.alternate,I&&!JB(h)){S=g_(l,u,!1),I=!1;continue}if(S===2){if(I=u,l.errorRecoveryDisabledLanes&I)var X=0;else X=l.pendingLanes&-536870913,X=X!==0?X:X&536870912?536870912:0;if(X!==0){u=X;e:{var fe=l;S=xm;var Pe=fe.current.memoizedState.isDehydrated;if(Pe&&(a0(fe,X).flags|=256),X=g_(fe,X,!1),X!==2){if(c_&&!Pe){fe.errorRecoveryDisabledLanes|=I,Sd|=I,S=4;break e}I=ho,ho=S,I!==null&&(ho===null?ho=I:ho.push.apply(ho,I))}S=X}if(I=!1,S!==2)continue}}if(S===1){a0(l,0),df(l,u,0,!0);break}e:{switch(x=l,I=S,I){case 0:case 1:throw Error(r(345));case 4:if((u&4194048)!==u)break;case 6:df(x,u,Po,!lf);break e;case 2:ho=null;break;case 3:case 5:break;default:throw Error(r(329))}if((u&62914560)===u&&(S=ix+300-Qt(),10<S)){if(df(x,u,Po,!lf),Ln(x,0,!0)!==0)break e;pu=u,x.timeoutHandle=L4(i4.bind(null,x,h,ho,ox,f_,u,Po,Sd,s0,lf,I,"Throttled",-0,0),S);break e}i4(x,h,ho,ox,f_,u,Po,Sd,s0,lf,I,null,-0,0)}}break}while(!0);vc(l)}function i4(l,u,h,x,S,I,X,fe,Pe,Je,ut,gt,Ze,st){if(l.timeoutHandle=-1,gt=u.subtreeFlags,gt&8192||(gt&16785408)===16785408){gt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Pa},JA(u,I,gt);var Jt=(I&62914560)===I?ix-Qt():(I&4194048)===I?t4-Qt():0;if(Jt=LV(gt,Jt),Jt!==null){pu=I,l.cancelPendingCommit=Jt(h4.bind(null,l,u,I,h,x,S,X,fe,Pe,ut,gt,null,Ze,st)),df(l,I,X,!Je);return}}h4(l,u,I,h,x,S,X,fe,Pe)}function JB(l){for(var u=l;;){var h=u.tag;if((h===0||h===11||h===15)&&u.flags&16384&&(h=u.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var x=0;x<h.length;x++){var S=h[x],I=S.getSnapshot;S=S.value;try{if(!gi(I(),S))return!1}catch{return!1}}if(h=u.child,u.subtreeFlags&16384&&h!==null)h.return=u,u=h;else{if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function df(l,u,h,x){u&=~u_,u&=~Sd,l.suspendedLanes|=u,l.pingedLanes&=~u,x&&(l.warmLanes|=u),x=l.expirationTimes;for(var S=u;0<S;){var I=31-An(S),X=1<<I;x[I]=-1,S&=~X}h!==0&&Dt(l,h,u)}function lx(){return(Dr&6)===0?(vm(0),!1):!0}function m_(){if(rr!==null){if(Br===0)var l=rr.return;else l=rr,tl=uc=null,Kh(l),xt=null,tn=0,l=rr;for(;l!==null;)FA(l.alternate,l),l=l.return;rr=null}}function a0(l,u){var h=l.timeoutHandle;h!==-1&&(l.timeoutHandle=-1,xV(h)),h=l.cancelPendingCommit,h!==null&&(l.cancelPendingCommit=null,h()),pu=0,m_(),rs=l,rr=h=to(l.current,null),lr=u,Br=0,Ro=null,lf=!1,r0=as(l,u),c_=!1,s0=Po=u_=Sd=cf=Bs=0,ho=xm=null,f_=!1,(u&8)!==0&&(u|=u&32);var x=l.entangledLanes;if(x!==0)for(l=l.entanglements,x&=u;0<x;){var S=31-An(x),I=1<<S;u|=l[S],x&=~I}return hu=u,hd(),h}function a4(l,u){vn=null,oe.H=cm,u===Me||u===Ae?(u=ft(),Br=3):u===Ye?(u=ft(),Br=4):Br=u===$v?8:u!==null&&typeof u=="object"&&typeof u.then=="function"?6:1,Ro=u,rr===null&&(Bs=1,J1(l,no(u,l.current)))}function o4(){var l=us.current;return l===null?!0:(lr&4194048)===lr?xr===null:(lr&62914560)===lr||(lr&536870912)!==0?l===xr:!1}function l4(){var l=oe.H;return oe.H=cm,l===null?cm:l}function c4(){var l=oe.A;return oe.A=YB,l}function cx(){Bs=4,lf||(lr&4194048)!==lr&&us.current!==null||(r0=!0),(cf&134217727)===0&&(Sd&134217727)===0||rs===null||df(rs,lr,Po,!1)}function g_(l,u,h){var x=Dr;Dr|=2;var S=l4(),I=c4();(rs!==l||lr!==u)&&(ox=null,a0(l,u)),u=!1;var X=Bs;e:do try{if(Br!==0&&rr!==null){var fe=rr,Pe=Ro;switch(Br){case 8:m_(),X=6;break e;case 3:case 2:case 9:case 6:us.current===null&&(u=!0);var Je=Br;if(Br=0,Ro=null,o0(l,fe,Pe,Je),h&&r0){X=0;break e}break;default:Je=Br,Br=0,Ro=null,o0(l,fe,Pe,Je)}}QB(),X=Bs;break}catch(ut){a4(l,ut)}while(!0);return u&&l.shellSuspendCounter++,tl=uc=null,Dr=x,oe.H=S,oe.A=I,rr===null&&(rs=null,lr=0,hd()),X}function QB(){for(;rr!==null;)u4(rr)}function ZB(l,u){var h=Dr;Dr|=2;var x=l4(),S=c4();rs!==l||lr!==u?(ox=null,ax=Qt()+500,a0(l,u)):r0=as(l,u);e:do try{if(Br!==0&&rr!==null){u=rr;var I=Ro;t:switch(Br){case 1:Br=0,Ro=null,o0(l,u,I,1);break;case 2:case 9:if(Ge(I)){Br=0,Ro=null,f4(u);break}u=function(){Br!==2&&Br!==9||rs!==l||(Br=7),vc(l)},I.then(u,u);break e;case 3:Br=7;break e;case 4:Br=5;break e;case 7:Ge(I)?(Br=0,Ro=null,f4(u)):(Br=0,Ro=null,o0(l,u,I,7));break;case 5:var X=null;switch(rr.tag){case 26:X=rr.memoizedState;case 5:case 27:var fe=rr;if(X?X4(X):fe.stateNode.complete){Br=0,Ro=null;var Pe=fe.sibling;if(Pe!==null)rr=Pe;else{var Je=fe.return;Je!==null?(rr=Je,ux(Je)):rr=null}break t}}Br=0,Ro=null,o0(l,u,I,5);break;case 6:Br=0,Ro=null,o0(l,u,I,6);break;case 8:m_(),Bs=6;break e;default:throw Error(r(462))}}eV();break}catch(ut){a4(l,ut)}while(!0);return tl=uc=null,oe.H=x,oe.A=S,Dr=h,rr!==null?0:(rs=null,lr=0,hd(),Bs)}function eV(){for(;rr!==null&&!Lt();)u4(rr)}function u4(l){var u=MA(l.alternate,l,hu);l.memoizedProps=l.pendingProps,u===null?ux(l):rr=u}function f4(l){var u=l,h=u.alternate;switch(u.tag){case 15:case 0:u=NA(h,u,u.pendingProps,u.type,void 0,lr);break;case 11:u=NA(h,u,u.pendingProps,u.type.render,u.ref,lr);break;case 5:Kh(u);default:FA(h,u),u=rr=gd(u,hu),u=MA(h,u,hu)}l.memoizedProps=l.pendingProps,u===null?ux(l):rr=u}function o0(l,u,h,x){tl=uc=null,Kh(u),xt=null,tn=0;var S=u.return;try{if(qB(l,S,u,h,lr)){Bs=1,J1(l,no(h,l.current)),rr=null;return}}catch(I){if(S!==null)throw rr=S,I;Bs=1,J1(l,no(h,l.current)),rr=null;return}u.flags&32768?(nr||x===1?l=!0:r0||(lr&536870912)!==0?l=!1:(lf=l=!0,(x===2||x===9||x===3||x===6)&&(x=us.current,x!==null&&x.tag===13&&(x.flags|=16384))),d4(u,l)):ux(u)}function ux(l){var u=l;do{if((u.flags&32768)!==0){d4(u,lf);return}l=u.return;var h=GB(u.alternate,u,hu);if(h!==null){rr=h;return}if(u=u.sibling,u!==null){rr=u;return}rr=u=l}while(u!==null);Bs===0&&(Bs=5)}function d4(l,u){do{var h=WB(l.alternate,l);if(h!==null){h.flags&=32767,rr=h;return}if(h=l.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!u&&(l=l.sibling,l!==null)){rr=l;return}rr=l=h}while(l!==null);Bs=6,rr=null}function h4(l,u,h,x,S,I,X,fe,Pe){l.cancelPendingCommit=null;do fx();while(wi!==0);if((Dr&6)!==0)throw Error(r(327));if(u!==null){if(u===l.current)throw Error(r(177));if(I=u.lanes|u.childLanes,I|=Mh,Le(l,h,I,X,fe,Pe),l===rs&&(rr=rs=null,lr=0),i0=u,ff=l,pu=h,d_=I,h_=S,n4=x,(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?(l.callbackNode=null,l.callbackPriority=0,sV(Bt,function(){return y4(),null})):(l.callbackNode=null,l.callbackPriority=0),x=(u.flags&13878)!==0,(u.subtreeFlags&13878)!==0||x){x=oe.T,oe.T=null,S=ve.p,ve.p=2,X=Dr,Dr|=4;try{$B(l,u,h)}finally{Dr=X,ve.p=S,oe.T=x}}wi=1,p4(),m4(),g4()}}function p4(){if(wi===1){wi=0;var l=ff,u=i0,h=(u.flags&13878)!==0;if((u.subtreeFlags&13878)!==0||h){h=oe.T,oe.T=null;var x=ve.p;ve.p=2;var S=Dr;Dr|=4;try{KA(u,l);var I=N_,X=Il(l.containerInfo),fe=I.focusedElem,Pe=I.selectionRange;if(X!==fe&&fe&&fe.ownerDocument&&Nl(fe.ownerDocument.documentElement,fe)){if(Pe!==null&&Zo(fe)){var Je=Pe.start,ut=Pe.end;if(ut===void 0&&(ut=Je),"selectionStart"in fe)fe.selectionStart=Je,fe.selectionEnd=Math.min(ut,fe.value.length);else{var gt=fe.ownerDocument||document,Ze=gt&&gt.defaultView||window;if(Ze.getSelection){var st=Ze.getSelection(),Jt=fe.textContent.length,Cn=Math.min(Pe.start,Jt),Xr=Pe.end===void 0?Cn:Math.min(Pe.end,Jt);!st.extend&&Cn>Xr&&(X=Xr,Xr=Cn,Cn=X);var qe=Yu(fe,Cn),Fe=Yu(fe,Xr);if(qe&&Fe&&(st.rangeCount!==1||st.anchorNode!==qe.node||st.anchorOffset!==qe.offset||st.focusNode!==Fe.node||st.focusOffset!==Fe.offset)){var Xe=gt.createRange();Xe.setStart(qe.node,qe.offset),st.removeAllRanges(),Cn>Xr?(st.addRange(Xe),st.extend(Fe.node,Fe.offset)):(Xe.setEnd(Fe.node,Fe.offset),st.addRange(Xe))}}}}for(gt=[],st=fe;st=st.parentNode;)st.nodeType===1&&gt.push({element:st,left:st.scrollLeft,top:st.scrollTop});for(typeof fe.focus=="function"&&fe.focus(),fe=0;fe<gt.length;fe++){var ht=gt[fe];ht.element.scrollLeft=ht.left,ht.element.scrollTop=ht.top}}Tx=!!C_,N_=C_=null}finally{Dr=S,ve.p=x,oe.T=h}}l.current=u,wi=2}}function m4(){if(wi===2){wi=0;var l=ff,u=i0,h=(u.flags&8772)!==0;if((u.subtreeFlags&8772)!==0||h){h=oe.T,oe.T=null;var x=ve.p;ve.p=2;var S=Dr;Dr|=4;try{HA(l,u.alternate,u)}finally{Dr=S,ve.p=x,oe.T=h}}wi=3}}function g4(){if(wi===4||wi===3){wi=0,jt();var l=ff,u=i0,h=pu,x=n4;(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?wi=5:(wi=0,i0=ff=null,x4(l,l.pendingLanes));var S=l.pendingLanes;if(S===0&&(uf=null),qn(h),u=u.stateNode,Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(qt,u,void 0,(u.current.flags&128)===128)}catch{}if(x!==null){u=oe.T,S=ve.p,ve.p=2,oe.T=null;try{for(var I=l.onRecoverableError,X=0;X<x.length;X++){var fe=x[X];I(fe.value,{componentStack:fe.stack})}}finally{oe.T=u,ve.p=S}}(pu&3)!==0&&fx(),vc(l),S=l.pendingLanes,(h&261930)!==0&&(S&42)!==0?l===p_?ym++:(ym=0,p_=l):ym=0,vm(0)}}function x4(l,u){(l.pooledCacheLanes&=u)===0&&(u=l.pooledCache,u!=null&&(l.pooledCache=null,vd(u)))}function fx(){return p4(),m4(),g4(),y4()}function y4(){if(wi!==5)return!1;var l=ff,u=d_;d_=0;var h=qn(pu),x=oe.T,S=ve.p;try{ve.p=32>h?32:h,oe.T=null,h=h_,h_=null;var I=ff,X=pu;if(wi=0,i0=ff=null,pu=0,(Dr&6)!==0)throw Error(r(331));var fe=Dr;if(Dr|=4,ZA(I.current),XA(I,I.current,X,h),Dr=fe,vm(0,!1),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(qt,I)}catch{}return!0}finally{ve.p=S,oe.T=x,x4(l,u)}}function v4(l,u,h){u=no(h,u),u=Wv(l.stateNode,u,2),l=Hn(l,u,2),l!==null&&(un(l,2),vc(l))}function Vr(l,u,h){if(l.tag===3)v4(l,l,h);else for(;u!==null;){if(u.tag===3){v4(u,l,h);break}else if(u.tag===1){var x=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(uf===null||!uf.has(x))){l=no(h,l),h=_A(2),x=Hn(u,h,2),x!==null&&(bA(h,x,u,l),un(x,2),vc(x));break}}u=u.return}}function x_(l,u,h){var x=l.pingCache;if(x===null){x=l.pingCache=new XB;var S=new Set;x.set(u,S)}else S=x.get(u),S===void 0&&(S=new Set,x.set(u,S));S.has(h)||(c_=!0,S.add(h),l=tV.bind(null,l,u,h),u.then(l,l))}function tV(l,u,h){var x=l.pingCache;x!==null&&x.delete(u),l.pingedLanes|=l.suspendedLanes&h,l.warmLanes&=~h,rs===l&&(lr&h)===h&&(Bs===4||Bs===3&&(lr&62914560)===lr&&300>Qt()-ix?(Dr&2)===0&&a0(l,0):u_|=h,s0===lr&&(s0=0)),vc(l)}function _4(l,u){u===0&&(u=ki()),l=Rl(l,u),l!==null&&(un(l,u),vc(l))}function nV(l){var u=l.memoizedState,h=0;u!==null&&(h=u.retryLane),_4(l,h)}function rV(l,u){var h=0;switch(l.tag){case 31:case 13:var x=l.stateNode,S=l.memoizedState;S!==null&&(h=S.retryLane);break;case 19:x=l.stateNode;break;case 22:x=l.stateNode._retryCache;break;default:throw Error(r(314))}x!==null&&x.delete(u),_4(l,h)}function sV(l,u){return St(l,u)}var dx=null,l0=null,y_=!1,hx=!1,v_=!1,hf=0;function vc(l){l!==l0&&l.next===null&&(l0===null?dx=l0=l:l0=l0.next=l),hx=!0,y_||(y_=!0,aV())}function vm(l,u){if(!v_&&hx){v_=!0;do for(var h=!1,x=dx;x!==null;){if(l!==0){var S=x.pendingLanes;if(S===0)var I=0;else{var X=x.suspendedLanes,fe=x.pingedLanes;I=(1<<31-An(42|l)+1)-1,I&=S&~(X&~fe),I=I&201326741?I&201326741|1:I?I|2:0}I!==0&&(h=!0,E4(x,I))}else I=lr,I=Ln(x,x===rs?I:0,x.cancelPendingCommit!==null||x.timeoutHandle!==-1),(I&3)===0||as(x,I)||(h=!0,E4(x,I));x=x.next}while(h);v_=!1}}function iV(){b4()}function b4(){hx=y_=!1;var l=0;hf!==0&&gV()&&(l=hf);for(var u=Qt(),h=null,x=dx;x!==null;){var S=x.next,I=w4(x,u);I===0?(x.next=null,h===null?dx=S:h.next=S,S===null&&(l0=h)):(h=x,(l!==0||(I&3)!==0)&&(hx=!0)),x=S}wi!==0&&wi!==5||vm(l),hf!==0&&(hf=0)}function w4(l,u){for(var h=l.suspendedLanes,x=l.pingedLanes,S=l.expirationTimes,I=l.pendingLanes&-62914561;0<I;){var X=31-An(I),fe=1<<X,Pe=S[X];Pe===-1?((fe&h)===0||(fe&x)!==0)&&(S[X]=os(fe,u)):Pe<=u&&(l.expiredLanes|=fe),I&=~fe}if(u=rs,h=lr,h=Ln(l,l===u?h:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),x=l.callbackNode,h===0||l===u&&(Br===2||Br===9)||l.cancelPendingCommit!==null)return x!==null&&x!==null&&Ct(x),l.callbackNode=null,l.callbackPriority=0;if((h&3)===0||as(l,h)){if(u=h&-h,u===l.callbackPriority)return u;switch(x!==null&&Ct(x),qn(h)){case 2:case 8:h=Sn;break;case 32:h=Bt;break;case 268435456:h=wt;break;default:h=Bt}return x=T4.bind(null,l),h=St(h,x),l.callbackPriority=u,l.callbackNode=h,u}return x!==null&&x!==null&&Ct(x),l.callbackPriority=2,l.callbackNode=null,2}function T4(l,u){if(wi!==0&&wi!==5)return l.callbackNode=null,l.callbackPriority=0,null;var h=l.callbackNode;if(fx()&&l.callbackNode!==h)return null;var x=lr;return x=Ln(l,l===rs?x:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),x===0?null:(s4(l,x,u),w4(l,Qt()),l.callbackNode!=null&&l.callbackNode===h?T4.bind(null,l):null)}function E4(l,u){if(fx())return null;s4(l,u,!0)}function aV(){yV(function(){(Dr&6)!==0?St(on,iV):b4()})}function __(){if(hf===0){var l=_;l===0&&(l=fn,fn<<=1,(fn&261888)===0&&(fn=256)),hf=l}return hf}function S4(l){return l==null||typeof l=="symbol"||typeof l=="boolean"?null:typeof l=="function"?l:Pi(""+l)}function A4(l,u){var h=u.ownerDocument.createElement("input");return h.name=u.name,h.value=u.value,l.id&&h.setAttribute("form",l.id),u.parentNode.insertBefore(h,u),l=new FormData(l),h.parentNode.removeChild(h),l}function oV(l,u,h,x,S){if(u==="submit"&&h&&h.stateNode===S){var I=S4((S[we]||null).action),X=x.submitter;X&&(u=(u=X[we]||null)?S4(u.formAction):X.getAttribute("formAction"),u!==null&&(I=u,X=null));var fe=new ti("action","action",null,x,S);l.push({event:fe,listeners:[{instance:null,listener:function(){if(x.defaultPrevented){if(hf!==0){var Pe=X?A4(S,X):new FormData(S);Uv(h,{pending:!0,data:Pe,method:S.method,action:I},null,Pe)}}else typeof I=="function"&&(fe.preventDefault(),Pe=X?A4(S,X):new FormData(S),Uv(h,{pending:!0,data:Pe,method:S.method,action:I},I,Pe))},currentTarget:S}]})}}for(var b_=0;b_<Zc.length;b_++){var w_=Zc[b_],lV=w_.toLowerCase(),cV=w_[0].toUpperCase()+w_.slice(1);eo(lV,"on"+cV)}eo(Qc,"onAnimationEnd"),eo(fd,"onAnimationIteration"),eo(Kp,"onAnimationStart"),eo("dblclick","onDoubleClick"),eo("focusin","onFocus"),eo("focusout","onBlur"),eo(B1,"onTransitionRun"),eo(V1,"onTransitionStart"),eo(U1,"onTransitionCancel"),eo(Yp,"onTransitionEnd"),zs("onMouseEnter",["mouseout","mouseover"]),zs("onMouseLeave",["mouseout","mouseover"]),zs("onPointerEnter",["pointerout","pointerover"]),zs("onPointerLeave",["pointerout","pointerover"]),wr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),wr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),wr("onBeforeInput",["compositionend","keypress","textInput","paste"]),wr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),wr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),wr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _m="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uV=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(_m));function C4(l,u){u=(u&4)!==0;for(var h=0;h<l.length;h++){var x=l[h],S=x.event;x=x.listeners;e:{var I=void 0;if(u)for(var X=x.length-1;0<=X;X--){var fe=x[X],Pe=fe.instance,Je=fe.currentTarget;if(fe=fe.listener,Pe!==I&&S.isPropagationStopped())break e;I=fe,S.currentTarget=Je;try{I(S)}catch(ut){dd(ut)}S.currentTarget=null,I=Pe}else for(X=0;X<x.length;X++){if(fe=x[X],Pe=fe.instance,Je=fe.currentTarget,fe=fe.listener,Pe!==I&&S.isPropagationStopped())break e;I=fe,S.currentTarget=Je;try{I(S)}catch(ut){dd(ut)}S.currentTarget=null,I=Pe}}}}function sr(l,u){var h=u[Ve];h===void 0&&(h=u[Ve]=new Set);var x=l+"__bubble";h.has(x)||(N4(u,l,2,!1),h.add(x))}function T_(l,u,h){var x=0;u&&(x|=4),N4(h,l,x,u)}var px="_reactListening"+Math.random().toString(36).slice(2);function E_(l){if(!l[px]){l[px]=!0,mr.forEach(function(h){h!=="selectionchange"&&(uV.has(h)||T_(h,!1,l),T_(h,!0,l))});var u=l.nodeType===9?l:l.ownerDocument;u===null||u[px]||(u[px]=!0,T_("selectionchange",!1,u))}}function N4(l,u,h,x){switch(rC(u)){case 2:var S=BV;break;case 8:S=VV;break;default:S=V_}h=S.bind(null,u,h,l),S=void 0,!bl||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(S=!0),x?S!==void 0?l.addEventListener(u,h,{capture:!0,passive:S}):l.addEventListener(u,h,!0):S!==void 0?l.addEventListener(u,h,{passive:S}):l.addEventListener(u,h,!1)}function S_(l,u,h,x,S){var I=x;if((u&1)===0&&(u&2)===0&&x!==null)e:for(;;){if(x===null)return;var X=x.tag;if(X===3||X===4){var fe=x.stateNode.containerInfo;if(fe===S)break;if(X===4)for(X=x.return;X!==null;){var Pe=X.tag;if((Pe===3||Pe===4)&&X.stateNode.containerInfo===S)return;X=X.return}for(;fe!==null;){if(X=At(fe),X===null)return;if(Pe=X.tag,Pe===5||Pe===6||Pe===26||Pe===27){x=I=X;continue e}fe=fe.parentNode}}x=x.return}Go(function(){var Je=I,ut=Di(h),gt=[];e:{var Ze=Xp.get(l);if(Ze!==void 0){var st=ti,Jt=l;switch(l){case"keypress":if(Ki(h)===0)break e;case"keydown":case"keyup":st=er;break;case"focusin":Jt="focus",st=Ma;break;case"focusout":Jt="blur",st=Ma;break;case"beforeblur":case"afterblur":st=Ma;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":st=sc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":st=Qa;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":st=z;break;case Qc:case fd:case Kp:st=F;break;case Yp:st=me;break;case"scroll":case"scrollend":st=Wo;break;case"wheel":st=Qe;break;case"copy":case"cut":case"paste":st=Ce;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":st=Mr;break;case"toggle":case"beforetoggle":st=In}var Cn=(u&4)!==0,Xr=!Cn&&(l==="scroll"||l==="scrollend"),qe=Cn?Ze!==null?Ze+"Capture":null:Ze;Cn=[];for(var Fe=Je,Xe;Fe!==null;){var ht=Fe;if(Xe=ht.stateNode,ht=ht.tag,ht!==5&&ht!==26&&ht!==27||Xe===null||qe===null||(ht=Ws(Fe,qe),ht!=null&&Cn.push(bm(Fe,ht,Xe))),Xr)break;Fe=Fe.return}0<Cn.length&&(Ze=new st(Ze,Jt,null,h,ut),gt.push({event:Ze,listeners:Cn}))}}if((u&7)===0){e:{if(Ze=l==="mouseover"||l==="pointerover",st=l==="mouseout"||l==="pointerout",Ze&&h!==So&&(Jt=h.relatedTarget||h.fromElement)&&(At(Jt)||Jt[Ee]))break e;if((st||Ze)&&(Ze=ut.window===ut?ut:(Ze=ut.ownerDocument)?Ze.defaultView||Ze.parentWindow:window,st?(Jt=h.relatedTarget||h.toElement,st=Je,Jt=Jt?At(Jt):null,Jt!==null&&(Xr=i(Jt),Cn=Jt.tag,Jt!==Xr||Cn!==5&&Cn!==27&&Cn!==6)&&(Jt=null)):(st=null,Jt=Je),st!==Jt)){if(Cn=sc,ht="onMouseLeave",qe="onMouseEnter",Fe="mouse",(l==="pointerout"||l==="pointerover")&&(Cn=Mr,ht="onPointerLeave",qe="onPointerEnter",Fe="pointer"),Xr=st==null?Ze:bt(st),Xe=Jt==null?Ze:bt(Jt),Ze=new Cn(ht,Fe+"leave",st,h,ut),Ze.target=Xr,Ze.relatedTarget=Xe,ht=null,At(ut)===Je&&(Cn=new Cn(qe,Fe+"enter",Jt,h,ut),Cn.target=Xe,Cn.relatedTarget=Xr,ht=Cn),Xr=ht,st&&Jt)t:{for(Cn=fV,qe=st,Fe=Jt,Xe=0,ht=qe;ht;ht=Cn(ht))Xe++;ht=0;for(var wn=Fe;wn;wn=Cn(wn))ht++;for(;0<Xe-ht;)qe=Cn(qe),Xe--;for(;0<ht-Xe;)Fe=Cn(Fe),ht--;for(;Xe--;){if(qe===Fe||Fe!==null&&qe===Fe.alternate){Cn=qe;break t}qe=Cn(qe),Fe=Cn(Fe)}Cn=null}else Cn=null;st!==null&&I4(gt,Ze,st,Cn,!1),Jt!==null&&Xr!==null&&I4(gt,Xr,Jt,Cn,!0)}}e:{if(Ze=Je?bt(Je):window,st=Ze.nodeName&&Ze.nodeName.toLowerCase(),st==="select"||st==="input"&&Ze.type==="file")var Nr=ac;else if(cd(Ze))if(da)Nr=Jo;else{Nr=As;var dn=$u}else st=Ze.nodeName,!st||st.toLowerCase()!=="input"||Ze.type!=="checkbox"&&Ze.type!=="radio"?Je&&tc(Je.elementType)&&(Nr=ac):Nr=Dh;if(Nr&&(Nr=Nr(l,Je))){Fa(gt,Nr,h,ut);break e}dn&&dn(l,Ze,Je),l==="focusout"&&Je&&Ze.type==="number"&&Je.memoizedProps.value!=null&&Gc(Ze,"number",Ze.value)}switch(dn=Je?bt(Je):window,l){case"focusin":(cd(dn)||dn.contentEditable==="true")&&(Oa=dn,kl=Je,Mi=null);break;case"focusout":Mi=kl=Oa=null;break;case"mousedown":Za=!0;break;case"contextmenu":case"mouseup":case"dragend":Za=!1,Tr(gt,h,ut);break;case"selectionchange":if(Jc)break;case"keydown":case"keyup":Tr(gt,h,ut)}var Kn;if(Yn)e:{switch(l){case"compositionstart":var cr="onCompositionStart";break e;case"compositionend":cr="onCompositionEnd";break e;case"compositionupdate":cr="onCompositionUpdate";break e}cr=void 0}else Ko?La(l,h)&&(cr="onCompositionEnd"):l==="keydown"&&h.keyCode===229&&(cr="onCompositionStart");cr&&(pi&&h.locale!=="ko"&&(Ko||cr!=="onCompositionStart"?cr==="onCompositionEnd"&&Ko&&(Kn=Yc()):($i=ut,wl="value"in $i?$i.value:$i.textContent,Ko=!0)),dn=mx(Je,cr),0<dn.length&&(cr=new Ue(cr,l,null,h,ut),gt.push({event:cr,listeners:dn}),Kn?cr.data=Kn:(Kn=$o(h),Kn!==null&&(cr.data=Kn)))),(Kn=ni?Ji(l,h):El(l,h))&&(cr=mx(Je,"onBeforeInput"),0<cr.length&&(dn=new Ue("onBeforeInput","beforeinput",null,h,ut),gt.push({event:dn,listeners:cr}),dn.data=Kn)),oV(gt,l,Je,h,ut)}C4(gt,u)})}function bm(l,u,h){return{instance:l,listener:u,currentTarget:h}}function mx(l,u){for(var h=u+"Capture",x=[];l!==null;){var S=l,I=S.stateNode;if(S=S.tag,S!==5&&S!==26&&S!==27||I===null||(S=Ws(l,h),S!=null&&x.unshift(bm(l,S,I)),S=Ws(l,u),S!=null&&x.push(bm(l,S,I))),l.tag===3)return x;l=l.return}return[]}function fV(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5&&l.tag!==27);return l||null}function I4(l,u,h,x,S){for(var I=u._reactName,X=[];h!==null&&h!==x;){var fe=h,Pe=fe.alternate,Je=fe.stateNode;if(fe=fe.tag,Pe!==null&&Pe===x)break;fe!==5&&fe!==26&&fe!==27||Je===null||(Pe=Je,S?(Je=Ws(h,I),Je!=null&&X.unshift(bm(h,Je,Pe))):S||(Je=Ws(h,I),Je!=null&&X.push(bm(h,Je,Pe)))),h=h.return}X.length!==0&&l.push({event:u,listeners:X})}var dV=/\r\n?/g,hV=/\u0000|\uFFFD/g;function k4(l){return(typeof l=="string"?l:""+l).replace(dV,`
`).replace(hV,"")}function R4(l,u){return u=k4(u),k4(l)===u}function Yr(l,u,h,x,S,I){switch(h){case"children":typeof x=="string"?u==="body"||u==="textarea"&&x===""||Gs(l,x):(typeof x=="number"||typeof x=="bigint")&&u!=="body"&&Gs(l,""+x);break;case"className":ei(l,"class",x);break;case"tabIndex":ei(l,"tabindex",x);break;case"dir":case"role":case"viewBox":case"width":case"height":ei(l,h,x);break;case"style":Kc(l,x,I);break;case"data":if(u!=="object"){ei(l,"data",x);break}case"src":case"href":if(x===""&&(u!=="a"||h!=="href")){l.removeAttribute(h);break}if(x==null||typeof x=="function"||typeof x=="symbol"||typeof x=="boolean"){l.removeAttribute(h);break}x=Pi(""+x),l.setAttribute(h,x);break;case"action":case"formAction":if(typeof x=="function"){l.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof I=="function"&&(h==="formAction"?(u!=="input"&&Yr(l,u,"name",S.name,S,null),Yr(l,u,"formEncType",S.formEncType,S,null),Yr(l,u,"formMethod",S.formMethod,S,null),Yr(l,u,"formTarget",S.formTarget,S,null)):(Yr(l,u,"encType",S.encType,S,null),Yr(l,u,"method",S.method,S,null),Yr(l,u,"target",S.target,S,null)));if(x==null||typeof x=="symbol"||typeof x=="boolean"){l.removeAttribute(h);break}x=Pi(""+x),l.setAttribute(h,x);break;case"onClick":x!=null&&(l.onclick=Pa);break;case"onScroll":x!=null&&sr("scroll",l);break;case"onScrollEnd":x!=null&&sr("scrollend",l);break;case"dangerouslySetInnerHTML":if(x!=null){if(typeof x!="object"||!("__html"in x))throw Error(r(61));if(h=x.__html,h!=null){if(S.children!=null)throw Error(r(60));l.innerHTML=h}}break;case"multiple":l.multiple=x&&typeof x!="function"&&typeof x!="symbol";break;case"muted":l.muted=x&&typeof x!="function"&&typeof x!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(x==null||typeof x=="function"||typeof x=="boolean"||typeof x=="symbol"){l.removeAttribute("xlink:href");break}h=Pi(""+x),l.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":x!=null&&typeof x!="function"&&typeof x!="symbol"?l.setAttribute(h,""+x):l.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":x&&typeof x!="function"&&typeof x!="symbol"?l.setAttribute(h,""):l.removeAttribute(h);break;case"capture":case"download":x===!0?l.setAttribute(h,""):x!==!1&&x!=null&&typeof x!="function"&&typeof x!="symbol"?l.setAttribute(h,x):l.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":x!=null&&typeof x!="function"&&typeof x!="symbol"&&!isNaN(x)&&1<=x?l.setAttribute(h,x):l.removeAttribute(h);break;case"rowSpan":case"start":x==null||typeof x=="function"||typeof x=="symbol"||isNaN(x)?l.removeAttribute(h):l.setAttribute(h,x);break;case"popover":sr("beforetoggle",l),sr("toggle",l),Zr(l,"popover",x);break;case"xlinkActuate":ps(l,"http://www.w3.org/1999/xlink","xlink:actuate",x);break;case"xlinkArcrole":ps(l,"http://www.w3.org/1999/xlink","xlink:arcrole",x);break;case"xlinkRole":ps(l,"http://www.w3.org/1999/xlink","xlink:role",x);break;case"xlinkShow":ps(l,"http://www.w3.org/1999/xlink","xlink:show",x);break;case"xlinkTitle":ps(l,"http://www.w3.org/1999/xlink","xlink:title",x);break;case"xlinkType":ps(l,"http://www.w3.org/1999/xlink","xlink:type",x);break;case"xmlBase":ps(l,"http://www.w3.org/XML/1998/namespace","xml:base",x);break;case"xmlLang":ps(l,"http://www.w3.org/XML/1998/namespace","xml:lang",x);break;case"xmlSpace":ps(l,"http://www.w3.org/XML/1998/namespace","xml:space",x);break;case"is":Zr(l,"is",x);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=nc.get(h)||h,Zr(l,h,x))}}function A_(l,u,h,x,S,I){switch(h){case"style":Kc(l,x,I);break;case"dangerouslySetInnerHTML":if(x!=null){if(typeof x!="object"||!("__html"in x))throw Error(r(61));if(h=x.__html,h!=null){if(S.children!=null)throw Error(r(60));l.innerHTML=h}}break;case"children":typeof x=="string"?Gs(l,x):(typeof x=="number"||typeof x=="bigint")&&Gs(l,""+x);break;case"onScroll":x!=null&&sr("scroll",l);break;case"onScrollEnd":x!=null&&sr("scrollend",l);break;case"onClick":x!=null&&(l.onclick=Pa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!zn.hasOwnProperty(h))e:{if(h[0]==="o"&&h[1]==="n"&&(S=h.endsWith("Capture"),u=h.slice(2,S?h.length-7:void 0),I=l[we]||null,I=I!=null?I[h]:null,typeof I=="function"&&l.removeEventListener(u,I,S),typeof x=="function")){typeof I!="function"&&I!==null&&(h in l?l[h]=null:l.hasAttribute(h)&&l.removeAttribute(h)),l.addEventListener(u,x,S);break e}h in l?l[h]=x:x===!0?l.setAttribute(h,""):Zr(l,h,x)}}}function na(l,u,h){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":sr("error",l),sr("load",l);var x=!1,S=!1,I;for(I in h)if(h.hasOwnProperty(I)){var X=h[I];if(X!=null)switch(I){case"src":x=!0;break;case"srcSet":S=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,u));default:Yr(l,u,I,X,h,null)}}S&&Yr(l,u,"srcSet",h.srcSet,h,null),x&&Yr(l,u,"src",h.src,h,null);return;case"input":sr("invalid",l);var fe=I=X=S=null,Pe=null,Je=null;for(x in h)if(h.hasOwnProperty(x)){var ut=h[x];if(ut!=null)switch(x){case"name":S=ut;break;case"type":X=ut;break;case"checked":Pe=ut;break;case"defaultChecked":Je=ut;break;case"value":I=ut;break;case"defaultValue":fe=ut;break;case"children":case"dangerouslySetInnerHTML":if(ut!=null)throw Error(r(137,u));break;default:Yr(l,u,x,ut,h,null)}}zu(l,I,fe,Pe,Je,X,S,!1);return;case"select":sr("invalid",l),x=X=I=null;for(S in h)if(h.hasOwnProperty(S)&&(fe=h[S],fe!=null))switch(S){case"value":I=fe;break;case"defaultValue":X=fe;break;case"multiple":x=fe;default:Yr(l,u,S,fe,h,null)}u=I,h=X,l.multiple=!!x,u!=null?hi(l,!!x,u,!1):h!=null&&hi(l,!!x,h,!0);return;case"textarea":sr("invalid",l),I=S=x=null;for(X in h)if(h.hasOwnProperty(X)&&(fe=h[X],fe!=null))switch(X){case"value":x=fe;break;case"defaultValue":S=fe;break;case"children":I=fe;break;case"dangerouslySetInnerHTML":if(fe!=null)throw Error(r(91));break;default:Yr(l,u,X,fe,h,null)}To(l,x,S,I);return;case"option":for(Pe in h)if(h.hasOwnProperty(Pe)&&(x=h[Pe],x!=null))switch(Pe){case"selected":l.selected=x&&typeof x!="function"&&typeof x!="symbol";break;default:Yr(l,u,Pe,x,h,null)}return;case"dialog":sr("beforetoggle",l),sr("toggle",l),sr("cancel",l),sr("close",l);break;case"iframe":case"object":sr("load",l);break;case"video":case"audio":for(x=0;x<_m.length;x++)sr(_m[x],l);break;case"image":sr("error",l),sr("load",l);break;case"details":sr("toggle",l);break;case"embed":case"source":case"link":sr("error",l),sr("load",l);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Je in h)if(h.hasOwnProperty(Je)&&(x=h[Je],x!=null))switch(Je){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,u));default:Yr(l,u,Je,x,h,null)}return;default:if(tc(u)){for(ut in h)h.hasOwnProperty(ut)&&(x=h[ut],x!==void 0&&A_(l,u,ut,x,h,void 0));return}}for(fe in h)h.hasOwnProperty(fe)&&(x=h[fe],x!=null&&Yr(l,u,fe,x,h,null))}function pV(l,u,h,x){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var S=null,I=null,X=null,fe=null,Pe=null,Je=null,ut=null;for(st in h){var gt=h[st];if(h.hasOwnProperty(st)&&gt!=null)switch(st){case"checked":break;case"value":break;case"defaultValue":Pe=gt;default:x.hasOwnProperty(st)||Yr(l,u,st,null,x,gt)}}for(var Ze in x){var st=x[Ze];if(gt=h[Ze],x.hasOwnProperty(Ze)&&(st!=null||gt!=null))switch(Ze){case"type":I=st;break;case"name":S=st;break;case"checked":Je=st;break;case"defaultChecked":ut=st;break;case"value":X=st;break;case"defaultValue":fe=st;break;case"children":case"dangerouslySetInnerHTML":if(st!=null)throw Error(r(137,u));break;default:st!==gt&&Yr(l,u,Ze,st,x,gt)}}vl(l,X,fe,Pe,Je,ut,I,S);return;case"select":st=X=fe=Ze=null;for(I in h)if(Pe=h[I],h.hasOwnProperty(I)&&Pe!=null)switch(I){case"value":break;case"multiple":st=Pe;default:x.hasOwnProperty(I)||Yr(l,u,I,null,x,Pe)}for(S in x)if(I=x[S],Pe=h[S],x.hasOwnProperty(S)&&(I!=null||Pe!=null))switch(S){case"value":Ze=I;break;case"defaultValue":fe=I;break;case"multiple":X=I;default:I!==Pe&&Yr(l,u,S,I,x,Pe)}u=fe,h=X,x=st,Ze!=null?hi(l,!!h,Ze,!1):!!x!=!!h&&(u!=null?hi(l,!!h,u,!0):hi(l,!!h,h?[]:"",!1));return;case"textarea":st=Ze=null;for(fe in h)if(S=h[fe],h.hasOwnProperty(fe)&&S!=null&&!x.hasOwnProperty(fe))switch(fe){case"value":break;case"children":break;default:Yr(l,u,fe,null,x,S)}for(X in x)if(S=x[X],I=h[X],x.hasOwnProperty(X)&&(S!=null||I!=null))switch(X){case"value":Ze=S;break;case"defaultValue":st=S;break;case"children":break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(r(91));break;default:S!==I&&Yr(l,u,X,S,x,I)}Wc(l,Ze,st);return;case"option":for(var Jt in h)if(Ze=h[Jt],h.hasOwnProperty(Jt)&&Ze!=null&&!x.hasOwnProperty(Jt))switch(Jt){case"selected":l.selected=!1;break;default:Yr(l,u,Jt,null,x,Ze)}for(Pe in x)if(Ze=x[Pe],st=h[Pe],x.hasOwnProperty(Pe)&&Ze!==st&&(Ze!=null||st!=null))switch(Pe){case"selected":l.selected=Ze&&typeof Ze!="function"&&typeof Ze!="symbol";break;default:Yr(l,u,Pe,Ze,x,st)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Cn in h)Ze=h[Cn],h.hasOwnProperty(Cn)&&Ze!=null&&!x.hasOwnProperty(Cn)&&Yr(l,u,Cn,null,x,Ze);for(Je in x)if(Ze=x[Je],st=h[Je],x.hasOwnProperty(Je)&&Ze!==st&&(Ze!=null||st!=null))switch(Je){case"children":case"dangerouslySetInnerHTML":if(Ze!=null)throw Error(r(137,u));break;default:Yr(l,u,Je,Ze,x,st)}return;default:if(tc(u)){for(var Xr in h)Ze=h[Xr],h.hasOwnProperty(Xr)&&Ze!==void 0&&!x.hasOwnProperty(Xr)&&A_(l,u,Xr,void 0,x,Ze);for(ut in x)Ze=x[ut],st=h[ut],!x.hasOwnProperty(ut)||Ze===st||Ze===void 0&&st===void 0||A_(l,u,ut,Ze,x,st);return}}for(var qe in h)Ze=h[qe],h.hasOwnProperty(qe)&&Ze!=null&&!x.hasOwnProperty(qe)&&Yr(l,u,qe,null,x,Ze);for(gt in x)Ze=x[gt],st=h[gt],!x.hasOwnProperty(gt)||Ze===st||Ze==null&&st==null||Yr(l,u,gt,Ze,x,st)}function P4(l){switch(l){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function mV(){if(typeof performance.getEntriesByType=="function"){for(var l=0,u=0,h=performance.getEntriesByType("resource"),x=0;x<h.length;x++){var S=h[x],I=S.transferSize,X=S.initiatorType,fe=S.duration;if(I&&fe&&P4(X)){for(X=0,fe=S.responseEnd,x+=1;x<h.length;x++){var Pe=h[x],Je=Pe.startTime;if(Je>fe)break;var ut=Pe.transferSize,gt=Pe.initiatorType;ut&&P4(gt)&&(Pe=Pe.responseEnd,X+=ut*(Pe<fe?1:(fe-Je)/(Pe-Je)))}if(--x,u+=8*(I+X)/(S.duration/1e3),l++,10<l)break}}if(0<l)return u/l/1e6}return navigator.connection&&(l=navigator.connection.downlink,typeof l=="number")?l:5}var C_=null,N_=null;function gx(l){return l.nodeType===9?l:l.ownerDocument}function D4(l){switch(l){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function M4(l,u){if(l===0)switch(u){case"svg":return 1;case"math":return 2;default:return 0}return l===1&&u==="foreignObject"?0:l}function I_(l,u){return l==="textarea"||l==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.children=="bigint"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var k_=null;function gV(){var l=window.event;return l&&l.type==="popstate"?l===k_?!1:(k_=l,!0):(k_=null,!1)}var L4=typeof setTimeout=="function"?setTimeout:void 0,xV=typeof clearTimeout=="function"?clearTimeout:void 0,F4=typeof Promise=="function"?Promise:void 0,yV=typeof queueMicrotask=="function"?queueMicrotask:typeof F4<"u"?function(l){return F4.resolve(null).then(l).catch(vV)}:L4;function vV(l){setTimeout(function(){throw l})}function pf(l){return l==="head"}function O4(l,u){var h=u,x=0;do{var S=h.nextSibling;if(l.removeChild(h),S&&S.nodeType===8)if(h=S.data,h==="/$"||h==="/&"){if(x===0){l.removeChild(S),d0(u);return}x--}else if(h==="$"||h==="$?"||h==="$~"||h==="$!"||h==="&")x++;else if(h==="html")wm(l.ownerDocument.documentElement);else if(h==="head"){h=l.ownerDocument.head,wm(h);for(var I=h.firstChild;I;){var X=I.nextSibling,fe=I.nodeName;I[Ke]||fe==="SCRIPT"||fe==="STYLE"||fe==="LINK"&&I.rel.toLowerCase()==="stylesheet"||h.removeChild(I),I=X}}else h==="body"&&wm(l.ownerDocument.body);h=S}while(h);d0(u)}function B4(l,u){var h=l;l=0;do{var x=h.nextSibling;if(h.nodeType===1?u?(h._stashedDisplay=h.style.display,h.style.display="none"):(h.style.display=h._stashedDisplay||"",h.getAttribute("style")===""&&h.removeAttribute("style")):h.nodeType===3&&(u?(h._stashedText=h.nodeValue,h.nodeValue=""):h.nodeValue=h._stashedText||""),x&&x.nodeType===8)if(h=x.data,h==="/$"){if(l===0)break;l--}else h!=="$"&&h!=="$?"&&h!=="$~"&&h!=="$!"||l++;h=x}while(h)}function R_(l){var u=l.firstChild;for(u&&u.nodeType===10&&(u=u.nextSibling);u;){var h=u;switch(u=u.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":R_(h),_t(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}l.removeChild(h)}}function _V(l,u,h,x){for(;l.nodeType===1;){var S=h;if(l.nodeName.toLowerCase()!==u.toLowerCase()){if(!x&&(l.nodeName!=="INPUT"||l.type!=="hidden"))break}else if(x){if(!l[Ke])switch(u){case"meta":if(!l.hasAttribute("itemprop"))break;return l;case"link":if(I=l.getAttribute("rel"),I==="stylesheet"&&l.hasAttribute("data-precedence"))break;if(I!==S.rel||l.getAttribute("href")!==(S.href==null||S.href===""?null:S.href)||l.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin)||l.getAttribute("title")!==(S.title==null?null:S.title))break;return l;case"style":if(l.hasAttribute("data-precedence"))break;return l;case"script":if(I=l.getAttribute("src"),(I!==(S.src==null?null:S.src)||l.getAttribute("type")!==(S.type==null?null:S.type)||l.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin))&&I&&l.hasAttribute("async")&&!l.hasAttribute("itemprop"))break;return l;default:return l}}else if(u==="input"&&l.type==="hidden"){var I=S.name==null?null:""+S.name;if(S.type==="hidden"&&l.getAttribute("name")===I)return l}else return l;if(l=sl(l.nextSibling),l===null)break}return null}function bV(l,u,h){if(u==="")return null;for(;l.nodeType!==3;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!h||(l=sl(l.nextSibling),l===null))return null;return l}function V4(l,u){for(;l.nodeType!==8;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!u||(l=sl(l.nextSibling),l===null))return null;return l}function P_(l){return l.data==="$?"||l.data==="$~"}function D_(l){return l.data==="$!"||l.data==="$?"&&l.ownerDocument.readyState!=="loading"}function wV(l,u){var h=l.ownerDocument;if(l.data==="$~")l._reactRetry=u;else if(l.data!=="$?"||h.readyState!=="loading")u();else{var x=function(){u(),h.removeEventListener("DOMContentLoaded",x)};h.addEventListener("DOMContentLoaded",x),l._reactRetry=x}}function sl(l){for(;l!=null;l=l.nextSibling){var u=l.nodeType;if(u===1||u===3)break;if(u===8){if(u=l.data,u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"||u==="F!"||u==="F")break;if(u==="/$"||u==="/&")return null}}return l}var M_=null;function U4(l){l=l.nextSibling;for(var u=0;l;){if(l.nodeType===8){var h=l.data;if(h==="/$"||h==="/&"){if(u===0)return sl(l.nextSibling);u--}else h!=="$"&&h!=="$!"&&h!=="$?"&&h!=="$~"&&h!=="&"||u++}l=l.nextSibling}return null}function j4(l){l=l.previousSibling;for(var u=0;l;){if(l.nodeType===8){var h=l.data;if(h==="$"||h==="$!"||h==="$?"||h==="$~"||h==="&"){if(u===0)return l;u--}else h!=="/$"&&h!=="/&"||u++}l=l.previousSibling}return null}function q4(l,u,h){switch(u=gx(h),l){case"html":if(l=u.documentElement,!l)throw Error(r(452));return l;case"head":if(l=u.head,!l)throw Error(r(453));return l;case"body":if(l=u.body,!l)throw Error(r(454));return l;default:throw Error(r(451))}}function wm(l){for(var u=l.attributes;u.length;)l.removeAttributeNode(u[0]);_t(l)}var il=new Map,H4=new Set;function xx(l){return typeof l.getRootNode=="function"?l.getRootNode():l.nodeType===9?l:l.ownerDocument}var mu=ve.d;ve.d={f:TV,r:EV,D:SV,C:AV,L:CV,m:NV,X:kV,S:IV,M:RV};function TV(){var l=mu.f(),u=lx();return l||u}function EV(l){var u=Rt(l);u!==null&&u.tag===5&&u.type==="form"?aA(u):mu.r(l)}var c0=typeof document>"u"?null:document;function z4(l,u,h){var x=c0;if(x&&typeof u=="string"&&u){var S=ms(u);S='link[rel="'+l+'"][href="'+S+'"]',typeof h=="string"&&(S+='[crossorigin="'+h+'"]'),H4.has(S)||(H4.add(S),l={rel:l,crossOrigin:h,href:u},x.querySelector(S)===null&&(u=x.createElement("link"),na(u,"link",l),$t(u),x.head.appendChild(u)))}}function SV(l){mu.D(l),z4("dns-prefetch",l,null)}function AV(l,u){mu.C(l,u),z4("preconnect",l,u)}function CV(l,u,h){mu.L(l,u,h);var x=c0;if(x&&l&&u){var S='link[rel="preload"][as="'+ms(u)+'"]';u==="image"&&h&&h.imageSrcSet?(S+='[imagesrcset="'+ms(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(S+='[imagesizes="'+ms(h.imageSizes)+'"]')):S+='[href="'+ms(l)+'"]';var I=S;switch(u){case"style":I=u0(l);break;case"script":I=f0(l)}il.has(I)||(l=p({rel:"preload",href:u==="image"&&h&&h.imageSrcSet?void 0:l,as:u},h),il.set(I,l),x.querySelector(S)!==null||u==="style"&&x.querySelector(Tm(I))||u==="script"&&x.querySelector(Em(I))||(u=x.createElement("link"),na(u,"link",l),$t(u),x.head.appendChild(u)))}}function NV(l,u){mu.m(l,u);var h=c0;if(h&&l){var x=u&&typeof u.as=="string"?u.as:"script",S='link[rel="modulepreload"][as="'+ms(x)+'"][href="'+ms(l)+'"]',I=S;switch(x){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":I=f0(l)}if(!il.has(I)&&(l=p({rel:"modulepreload",href:l},u),il.set(I,l),h.querySelector(S)===null)){switch(x){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(Em(I)))return}x=h.createElement("link"),na(x,"link",l),$t(x),h.head.appendChild(x)}}}function IV(l,u,h){mu.S(l,u,h);var x=c0;if(x&&l){var S=kt(x).hoistableStyles,I=u0(l);u=u||"default";var X=S.get(I);if(!X){var fe={loading:0,preload:null};if(X=x.querySelector(Tm(I)))fe.loading=5;else{l=p({rel:"stylesheet",href:l,"data-precedence":u},h),(h=il.get(I))&&L_(l,h);var Pe=X=x.createElement("link");$t(Pe),na(Pe,"link",l),Pe._p=new Promise(function(Je,ut){Pe.onload=Je,Pe.onerror=ut}),Pe.addEventListener("load",function(){fe.loading|=1}),Pe.addEventListener("error",function(){fe.loading|=2}),fe.loading|=4,yx(X,u,x)}X={type:"stylesheet",instance:X,count:1,state:fe},S.set(I,X)}}}function kV(l,u){mu.X(l,u);var h=c0;if(h&&l){var x=kt(h).hoistableScripts,S=f0(l),I=x.get(S);I||(I=h.querySelector(Em(S)),I||(l=p({src:l,async:!0},u),(u=il.get(S))&&F_(l,u),I=h.createElement("script"),$t(I),na(I,"link",l),h.head.appendChild(I)),I={type:"script",instance:I,count:1,state:null},x.set(S,I))}}function RV(l,u){mu.M(l,u);var h=c0;if(h&&l){var x=kt(h).hoistableScripts,S=f0(l),I=x.get(S);I||(I=h.querySelector(Em(S)),I||(l=p({src:l,async:!0,type:"module"},u),(u=il.get(S))&&F_(l,u),I=h.createElement("script"),$t(I),na(I,"link",l),h.head.appendChild(I)),I={type:"script",instance:I,count:1,state:null},x.set(S,I))}}function G4(l,u,h,x){var S=(S=ne.current)?xx(S):null;if(!S)throw Error(r(446));switch(l){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(u=u0(h.href),h=kt(S).hoistableStyles,x=h.get(u),x||(x={type:"style",instance:null,count:0,state:null},h.set(u,x)),x):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){l=u0(h.href);var I=kt(S).hoistableStyles,X=I.get(l);if(X||(S=S.ownerDocument||S,X={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},I.set(l,X),(I=S.querySelector(Tm(l)))&&!I._p&&(X.instance=I,X.state.loading=5),il.has(l)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},il.set(l,h),I||PV(S,l,h,X.state))),u&&x===null)throw Error(r(528,""));return X}if(u&&x!==null)throw Error(r(529,""));return null;case"script":return u=h.async,h=h.src,typeof h=="string"&&u&&typeof u!="function"&&typeof u!="symbol"?(u=f0(h),h=kt(S).hoistableScripts,x=h.get(u),x||(x={type:"script",instance:null,count:0,state:null},h.set(u,x)),x):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,l))}}function u0(l){return'href="'+ms(l)+'"'}function Tm(l){return'link[rel="stylesheet"]['+l+"]"}function W4(l){return p({},l,{"data-precedence":l.precedence,precedence:null})}function PV(l,u,h,x){l.querySelector('link[rel="preload"][as="style"]['+u+"]")?x.loading=1:(u=l.createElement("link"),x.preload=u,u.addEventListener("load",function(){return x.loading|=1}),u.addEventListener("error",function(){return x.loading|=2}),na(u,"link",h),$t(u),l.head.appendChild(u))}function f0(l){return'[src="'+ms(l)+'"]'}function Em(l){return"script[async]"+l}function $4(l,u,h){if(u.count++,u.instance===null)switch(u.type){case"style":var x=l.querySelector('style[data-href~="'+ms(h.href)+'"]');if(x)return u.instance=x,$t(x),x;var S=p({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return x=(l.ownerDocument||l).createElement("style"),$t(x),na(x,"style",S),yx(x,h.precedence,l),u.instance=x;case"stylesheet":S=u0(h.href);var I=l.querySelector(Tm(S));if(I)return u.state.loading|=4,u.instance=I,$t(I),I;x=W4(h),(S=il.get(S))&&L_(x,S),I=(l.ownerDocument||l).createElement("link"),$t(I);var X=I;return X._p=new Promise(function(fe,Pe){X.onload=fe,X.onerror=Pe}),na(I,"link",x),u.state.loading|=4,yx(I,h.precedence,l),u.instance=I;case"script":return I=f0(h.src),(S=l.querySelector(Em(I)))?(u.instance=S,$t(S),S):(x=h,(S=il.get(I))&&(x=p({},h),F_(x,S)),l=l.ownerDocument||l,S=l.createElement("script"),$t(S),na(S,"link",x),l.head.appendChild(S),u.instance=S);case"void":return null;default:throw Error(r(443,u.type))}else u.type==="stylesheet"&&(u.state.loading&4)===0&&(x=u.instance,u.state.loading|=4,yx(x,h.precedence,l));return u.instance}function yx(l,u,h){for(var x=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),S=x.length?x[x.length-1]:null,I=S,X=0;X<x.length;X++){var fe=x[X];if(fe.dataset.precedence===u)I=fe;else if(I!==S)break}I?I.parentNode.insertBefore(l,I.nextSibling):(u=h.nodeType===9?h.head:h,u.insertBefore(l,u.firstChild))}function L_(l,u){l.crossOrigin==null&&(l.crossOrigin=u.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=u.referrerPolicy),l.title==null&&(l.title=u.title)}function F_(l,u){l.crossOrigin==null&&(l.crossOrigin=u.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=u.referrerPolicy),l.integrity==null&&(l.integrity=u.integrity)}var vx=null;function K4(l,u,h){if(vx===null){var x=new Map,S=vx=new Map;S.set(h,x)}else S=vx,x=S.get(h),x||(x=new Map,S.set(h,x));if(x.has(l))return x;for(x.set(l,null),h=h.getElementsByTagName(l),S=0;S<h.length;S++){var I=h[S];if(!(I[Ke]||I[ge]||l==="link"&&I.getAttribute("rel")==="stylesheet")&&I.namespaceURI!=="http://www.w3.org/2000/svg"){var X=I.getAttribute(u)||"";X=l+X;var fe=x.get(X);fe?fe.push(I):x.set(X,[I])}}return x}function Y4(l,u,h){l=l.ownerDocument||l,l.head.insertBefore(h,u==="title"?l.querySelector("head > title"):null)}function DV(l,u,h){if(h===1||u.itemProp!=null)return!1;switch(l){case"meta":case"title":return!0;case"style":if(typeof u.precedence!="string"||typeof u.href!="string"||u.href==="")break;return!0;case"link":if(typeof u.rel!="string"||typeof u.href!="string"||u.href===""||u.onLoad||u.onError)break;switch(u.rel){case"stylesheet":return l=u.disabled,typeof u.precedence=="string"&&l==null;default:return!0}case"script":if(u.async&&typeof u.async!="function"&&typeof u.async!="symbol"&&!u.onLoad&&!u.onError&&u.src&&typeof u.src=="string")return!0}return!1}function X4(l){return!(l.type==="stylesheet"&&(l.state.loading&3)===0)}function MV(l,u,h,x){if(h.type==="stylesheet"&&(typeof x.media!="string"||matchMedia(x.media).matches!==!1)&&(h.state.loading&4)===0){if(h.instance===null){var S=u0(x.href),I=u.querySelector(Tm(S));if(I){u=I._p,u!==null&&typeof u=="object"&&typeof u.then=="function"&&(l.count++,l=_x.bind(l),u.then(l,l)),h.state.loading|=4,h.instance=I,$t(I);return}I=u.ownerDocument||u,x=W4(x),(S=il.get(S))&&L_(x,S),I=I.createElement("link"),$t(I);var X=I;X._p=new Promise(function(fe,Pe){X.onload=fe,X.onerror=Pe}),na(I,"link",x),h.instance=I}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(h,u),(u=h.state.preload)&&(h.state.loading&3)===0&&(l.count++,h=_x.bind(l),u.addEventListener("load",h),u.addEventListener("error",h))}}var O_=0;function LV(l,u){return l.stylesheets&&l.count===0&&wx(l,l.stylesheets),0<l.count||0<l.imgCount?function(h){var x=setTimeout(function(){if(l.stylesheets&&wx(l,l.stylesheets),l.unsuspend){var I=l.unsuspend;l.unsuspend=null,I()}},6e4+u);0<l.imgBytes&&O_===0&&(O_=62500*mV());var S=setTimeout(function(){if(l.waitingForImages=!1,l.count===0&&(l.stylesheets&&wx(l,l.stylesheets),l.unsuspend)){var I=l.unsuspend;l.unsuspend=null,I()}},(l.imgBytes>O_?50:800)+u);return l.unsuspend=h,function(){l.unsuspend=null,clearTimeout(x),clearTimeout(S)}}:null}function _x(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)wx(this,this.stylesheets);else if(this.unsuspend){var l=this.unsuspend;this.unsuspend=null,l()}}}var bx=null;function wx(l,u){l.stylesheets=null,l.unsuspend!==null&&(l.count++,bx=new Map,u.forEach(FV,l),bx=null,_x.call(l))}function FV(l,u){if(!(u.state.loading&4)){var h=bx.get(l);if(h)var x=h.get(null);else{h=new Map,bx.set(l,h);for(var S=l.querySelectorAll("link[data-precedence],style[data-precedence]"),I=0;I<S.length;I++){var X=S[I];(X.nodeName==="LINK"||X.getAttribute("media")!=="not all")&&(h.set(X.dataset.precedence,X),x=X)}x&&h.set(null,x)}S=u.instance,X=S.getAttribute("data-precedence"),I=h.get(X)||x,I===x&&h.set(null,S),h.set(X,S),this.count++,x=_x.bind(this),S.addEventListener("load",x),S.addEventListener("error",x),I?I.parentNode.insertBefore(S,I.nextSibling):(l=l.nodeType===9?l.head:l,l.insertBefore(S,l.firstChild)),u.state.loading|=4}}var Sm={$$typeof:k,Provider:null,Consumer:null,_currentValue:Ie,_currentValue2:Ie,_threadCount:0};function OV(l,u,h,x,S,I,X,fe,Pe){this.tag=1,this.containerInfo=l,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Hr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hr(0),this.hiddenUpdates=Hr(null),this.identifierPrefix=x,this.onUncaughtError=S,this.onCaughtError=I,this.onRecoverableError=X,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Pe,this.incompleteTransitions=new Map}function J4(l,u,h,x,S,I,X,fe,Pe,Je,ut,gt){return l=new OV(l,u,h,X,Pe,Je,ut,gt,fe),u=1,I===!0&&(u|=24),I=Fi(3,null,null,u),l.current=I,I.stateNode=l,u=tf(),u.refCount++,l.pooledCache=u,u.refCount++,I.memoizedState={element:x,isDehydrated:h,cache:u},Mt(I),l}function Q4(l){return l?(l=xi,l):xi}function Z4(l,u,h,x,S,I){S=Q4(S),x.context===null?x.context=S:x.pendingContext=S,x=En(u),x.payload={element:h},I=I===void 0?null:I,I!==null&&(x.callback=I),h=Hn(l,x,u),h!==null&&(po(h,l,u),Rr(h,l,u))}function eC(l,u){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var h=l.retryLane;l.retryLane=h!==0&&h<u?h:u}}function B_(l,u){eC(l,u),(l=l.alternate)&&eC(l,u)}function tC(l){if(l.tag===13||l.tag===31){var u=Rl(l,67108864);u!==null&&po(u,l,67108864),B_(l,67108864)}}function nC(l){if(l.tag===13||l.tag===31){var u=Do();u=Yt(u);var h=Rl(l,u);h!==null&&po(h,l,u),B_(l,u)}}var Tx=!0;function BV(l,u,h,x){var S=oe.T;oe.T=null;var I=ve.p;try{ve.p=2,V_(l,u,h,x)}finally{ve.p=I,oe.T=S}}function VV(l,u,h,x){var S=oe.T;oe.T=null;var I=ve.p;try{ve.p=8,V_(l,u,h,x)}finally{ve.p=I,oe.T=S}}function V_(l,u,h,x){if(Tx){var S=U_(x);if(S===null)S_(l,u,x,Ex,h),sC(l,x);else if(jV(S,l,u,h,x))x.stopPropagation();else if(sC(l,x),u&4&&-1<UV.indexOf(l)){for(;S!==null;){var I=Rt(S);if(I!==null)switch(I.tag){case 3:if(I=I.stateNode,I.current.memoizedState.isDehydrated){var X=Wt(I.pendingLanes);if(X!==0){var fe=I;for(fe.pendingLanes|=2,fe.entangledLanes|=2;X;){var Pe=1<<31-An(X);fe.entanglements[1]|=Pe,X&=~Pe}vc(I),(Dr&6)===0&&(ax=Qt()+500,vm(0))}}break;case 31:case 13:fe=Rl(I,2),fe!==null&&po(fe,I,2),lx(),B_(I,2)}if(I=U_(x),I===null&&S_(l,u,x,Ex,h),I===S)break;S=I}S!==null&&x.stopPropagation()}else S_(l,u,x,null,h)}}function U_(l){return l=Di(l),j_(l)}var Ex=null;function j_(l){if(Ex=null,l=At(l),l!==null){var u=i(l);if(u===null)l=null;else{var h=u.tag;if(h===13){if(l=a(u),l!==null)return l;l=null}else if(h===31){if(l=o(u),l!==null)return l;l=null}else if(h===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;l=null}else u!==l&&(l=null)}}return Ex=l,null}function rC(l){switch(l){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Zt()){case on:return 2;case Sn:return 8;case Bt:case vt:return 32;case wt:return 268435456;default:return 32}default:return 32}}var q_=!1,mf=null,gf=null,xf=null,Am=new Map,Cm=new Map,yf=[],UV="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function sC(l,u){switch(l){case"focusin":case"focusout":mf=null;break;case"dragenter":case"dragleave":gf=null;break;case"mouseover":case"mouseout":xf=null;break;case"pointerover":case"pointerout":Am.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cm.delete(u.pointerId)}}function Nm(l,u,h,x,S,I){return l===null||l.nativeEvent!==I?(l={blockedOn:u,domEventName:h,eventSystemFlags:x,nativeEvent:I,targetContainers:[S]},u!==null&&(u=Rt(u),u!==null&&tC(u)),l):(l.eventSystemFlags|=x,u=l.targetContainers,S!==null&&u.indexOf(S)===-1&&u.push(S),l)}function jV(l,u,h,x,S){switch(u){case"focusin":return mf=Nm(mf,l,u,h,x,S),!0;case"dragenter":return gf=Nm(gf,l,u,h,x,S),!0;case"mouseover":return xf=Nm(xf,l,u,h,x,S),!0;case"pointerover":var I=S.pointerId;return Am.set(I,Nm(Am.get(I)||null,l,u,h,x,S)),!0;case"gotpointercapture":return I=S.pointerId,Cm.set(I,Nm(Cm.get(I)||null,l,u,h,x,S)),!0}return!1}function iC(l){var u=At(l.target);if(u!==null){var h=i(u);if(h!==null){if(u=h.tag,u===13){if(u=a(h),u!==null){l.blockedOn=u,be(l.priority,function(){nC(h)});return}}else if(u===31){if(u=o(h),u!==null){l.blockedOn=u,be(l.priority,function(){nC(h)});return}}else if(u===3&&h.stateNode.current.memoizedState.isDehydrated){l.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}l.blockedOn=null}function Sx(l){if(l.blockedOn!==null)return!1;for(var u=l.targetContainers;0<u.length;){var h=U_(l.nativeEvent);if(h===null){h=l.nativeEvent;var x=new h.constructor(h.type,h);So=x,h.target.dispatchEvent(x),So=null}else return u=Rt(h),u!==null&&tC(u),l.blockedOn=h,!1;u.shift()}return!0}function aC(l,u,h){Sx(l)&&h.delete(u)}function qV(){q_=!1,mf!==null&&Sx(mf)&&(mf=null),gf!==null&&Sx(gf)&&(gf=null),xf!==null&&Sx(xf)&&(xf=null),Am.forEach(aC),Cm.forEach(aC)}function Ax(l,u){l.blockedOn===u&&(l.blockedOn=null,q_||(q_=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,qV)))}var Cx=null;function oC(l){Cx!==l&&(Cx=l,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Cx===l&&(Cx=null);for(var u=0;u<l.length;u+=3){var h=l[u],x=l[u+1],S=l[u+2];if(typeof x!="function"){if(j_(x||h)===null)continue;break}var I=Rt(h);I!==null&&(l.splice(u,3),u-=3,Uv(I,{pending:!0,data:S,method:h.method,action:x},x,S))}}))}function d0(l){function u(Pe){return Ax(Pe,l)}mf!==null&&Ax(mf,l),gf!==null&&Ax(gf,l),xf!==null&&Ax(xf,l),Am.forEach(u),Cm.forEach(u);for(var h=0;h<yf.length;h++){var x=yf[h];x.blockedOn===l&&(x.blockedOn=null)}for(;0<yf.length&&(h=yf[0],h.blockedOn===null);)iC(h),h.blockedOn===null&&yf.shift();if(h=(l.ownerDocument||l).$$reactFormReplay,h!=null)for(x=0;x<h.length;x+=3){var S=h[x],I=h[x+1],X=S[we]||null;if(typeof I=="function")X||oC(h);else if(X){var fe=null;if(I&&I.hasAttribute("formAction")){if(S=I,X=I[we]||null)fe=X.formAction;else if(j_(S)!==null)continue}else fe=X.action;typeof fe=="function"?h[x+1]=fe:(h.splice(x,3),x-=3),oC(h)}}}function lC(){function l(I){I.canIntercept&&I.info==="react-transition"&&I.intercept({handler:function(){return new Promise(function(X){return S=X})},focusReset:"manual",scroll:"manual"})}function u(){S!==null&&(S(),S=null),x||setTimeout(h,20)}function h(){if(!x&&!navigation.transition){var I=navigation.currentEntry;I&&I.url!=null&&navigation.navigate(I.url,{state:I.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var x=!1,S=null;return navigation.addEventListener("navigate",l),navigation.addEventListener("navigatesuccess",u),navigation.addEventListener("navigateerror",u),setTimeout(h,100),function(){x=!0,navigation.removeEventListener("navigate",l),navigation.removeEventListener("navigatesuccess",u),navigation.removeEventListener("navigateerror",u),S!==null&&(S(),S=null)}}}function H_(l){this._internalRoot=l}Nx.prototype.render=H_.prototype.render=function(l){var u=this._internalRoot;if(u===null)throw Error(r(409));var h=u.current,x=Do();Z4(h,x,l,u,null,null)},Nx.prototype.unmount=H_.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var u=l.containerInfo;Z4(l.current,2,null,l,null,null),lx(),u[Ee]=null}};function Nx(l){this._internalRoot=l}Nx.prototype.unstable_scheduleHydration=function(l){if(l){var u=te();l={blockedOn:null,target:l,priority:u};for(var h=0;h<yf.length&&u!==0&&u<yf[h].priority;h++);yf.splice(h,0,l),h===0&&iC(l)}};var cC=e.version;if(cC!=="19.2.0")throw Error(r(527,cC,"19.2.0"));ve.findDOMNode=function(l){var u=l._reactInternals;if(u===void 0)throw typeof l.render=="function"?Error(r(188)):(l=Object.keys(l).join(","),Error(r(268,l)));return l=f(u),l=l!==null?d(l):null,l=l===null?null:l.stateNode,l};var HV={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:oe,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ix=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ix.isDisabled&&Ix.supportsFiber)try{qt=Ix.inject(HV),Gt=Ix}catch{}}return km.createRoot=function(l,u){if(!s(l))throw Error(r(299));var h=!1,x="",S=gA,I=xA,X=yA;return u!=null&&(u.unstable_strictMode===!0&&(h=!0),u.identifierPrefix!==void 0&&(x=u.identifierPrefix),u.onUncaughtError!==void 0&&(S=u.onUncaughtError),u.onCaughtError!==void 0&&(I=u.onCaughtError),u.onRecoverableError!==void 0&&(X=u.onRecoverableError)),u=J4(l,1,!1,null,null,h,x,null,S,I,X,lC),l[Ee]=u.current,E_(l),new H_(u)},km.hydrateRoot=function(l,u,h){if(!s(l))throw Error(r(299));var x=!1,S="",I=gA,X=xA,fe=yA,Pe=null;return h!=null&&(h.unstable_strictMode===!0&&(x=!0),h.identifierPrefix!==void 0&&(S=h.identifierPrefix),h.onUncaughtError!==void 0&&(I=h.onUncaughtError),h.onCaughtError!==void 0&&(X=h.onCaughtError),h.onRecoverableError!==void 0&&(fe=h.onRecoverableError),h.formState!==void 0&&(Pe=h.formState)),u=J4(l,1,!0,u,h??null,x,S,Pe,I,X,fe,lC),u.context=Q4(null),h=u.current,x=Do(),x=Yt(x),S=En(x),S.callback=null,Hn(h,S,x),h=x,u.current.lanes=h,un(u,h),vc(u),l[Ee]=u.current,E_(l),new Nx(u)},km.version="19.2.0",km}var vC;function QV(){if(vC)return G_.exports;vC=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),G_.exports=JV(),G_.exports}var ZV=QV(),ke=_T();const Ig=mD(ke),bT=ke.createContext({});function q2(t){const e=ke.useRef(null);return e.current===null&&(e.current=t()),e.current}const wT=typeof window<"u",TT=wT?ke.useLayoutEffect:ke.useEffect,H2=ke.createContext(null);function ET(t,e){t.indexOf(e)===-1&&t.push(e)}function ST(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Oc=(t,e,n)=>n>e?e:n<t?t:n;let kg=()=>{};const Iu={},xD=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function yD(t){return typeof t=="object"&&t!==null}const vD=t=>/^0[^.\s]+$/u.test(t);function AT(t){let e;return()=>(e===void 0&&(e=t()),e)}const vo=t=>t,eU=(t,e)=>n=>e(t(n)),u1=(...t)=>t.reduce(eU),up=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class CT{constructor(){this.subscriptions=[]}add(e){return ET(this.subscriptions,e),()=>ST(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const a=this.subscriptions[i];a&&a(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const kc=t=>t*1e3,dl=t=>t/1e3;function NT(t,e){return e?t*(1e3/e):0}const _D=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,tU=1e-7,nU=12;function rU(t,e,n,r,s){let i,a,o=0;do a=e+(n-e)/2,i=_D(a,r,s)-t,i>0?n=a:e=a;while(Math.abs(i)>tU&&++o<nU);return a}function f1(t,e,n,r){if(t===e&&n===r)return vo;const s=i=>rU(i,0,1,t,n);return i=>i===0||i===1?i:_D(s(i),e,r)}const bD=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,wD=t=>e=>1-t(1-e),TD=f1(.33,1.53,.69,.99),IT=wD(TD),ED=bD(IT),SD=t=>(t*=2)<1?.5*IT(t):.5*(2-Math.pow(2,-10*(t-1))),kT=t=>1-Math.sin(Math.acos(t)),AD=wD(kT),CD=bD(kT),sU=f1(.42,0,1,1),iU=f1(0,0,.58,1),ND=f1(.42,0,.58,1),aU=t=>Array.isArray(t)&&typeof t[0]!="number",ID=t=>Array.isArray(t)&&typeof t[0]=="number",oU={linear:vo,easeIn:sU,easeInOut:ND,easeOut:iU,circIn:kT,circInOut:CD,circOut:AD,backIn:IT,backInOut:ED,backOut:TD,anticipate:SD},lU=t=>typeof t=="string",_C=t=>{if(ID(t)){kg(t.length===4);const[e,n,r,s]=t;return f1(e,n,r,s)}else if(lU(t))return oU[t];return t},kx=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function cU(t,e){let n=new Set,r=new Set,s=!1,i=!1;const a=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function c(d){a.has(d)&&(f.schedule(d),t()),d(o)}const f={schedule:(d,p=!1,g=!1)=>{const E=g&&s?n:r;return p&&a.add(d),E.has(d)||E.add(d),d},cancel:d=>{r.delete(d),a.delete(d)},process:d=>{if(o=d,s){i=!0;return}s=!0,[n,r]=[r,n],n.forEach(c),n.clear(),s=!1,i&&(i=!1,f.process(d))}};return f}const uU=40;function kD(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,a=kx.reduce((k,B)=>(k[B]=cU(i),k),{}),{setup:o,read:c,resolveKeyframes:f,preUpdate:d,update:p,preRender:g,render:y,postRender:E}=a,b=()=>{const k=Iu.useManualTiming?s.timestamp:performance.now();n=!1,Iu.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(k-s.timestamp,uU),1)),s.timestamp=k,s.isProcessing=!0,o.process(s),c.process(s),f.process(s),d.process(s),p.process(s),g.process(s),y.process(s),E.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(b))},A=()=>{n=!0,r=!0,s.isProcessing||t(b)};return{schedule:kx.reduce((k,B)=>{const W=a[B];return k[B]=(K,D=!1,L=!1)=>(n||A(),W.schedule(K,D,L)),k},{}),cancel:k=>{for(let B=0;B<kx.length;B++)a[kx[B]].cancel(k)},state:s,steps:a}}const{schedule:Jr,cancel:Bc,state:Ui,steps:X_}=kD(typeof requestAnimationFrame<"u"?requestAnimationFrame:vo,!0);let fy;function fU(){fy=void 0}const xo={now:()=>(fy===void 0&&xo.set(Ui.isProcessing||Iu.useManualTiming?Ui.timestamp:performance.now()),fy),set:t=>{fy=t,queueMicrotask(fU)}},RD=t=>e=>typeof e=="string"&&e.startsWith(t),RT=RD("--"),dU=RD("var(--"),PT=t=>dU(t)?hU.test(t.split("/*")[0].trim()):!1,hU=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,kp={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Rg={...kp,transform:t=>Oc(0,1,t)},Rx={...kp,default:1},eg=t=>Math.round(t*1e5)/1e5,DT=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function pU(t){return t==null}const mU=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,MT=(t,e)=>n=>!!(typeof n=="string"&&mU.test(n)&&n.startsWith(t)||e&&!pU(n)&&Object.prototype.hasOwnProperty.call(n,e)),PD=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,i,a,o]=r.match(DT);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(a),alpha:o!==void 0?parseFloat(o):1}},gU=t=>Oc(0,255,t),J_={...kp,transform:t=>Math.round(gU(t))},Vd={test:MT("rgb","red"),parse:PD("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+J_.transform(t)+", "+J_.transform(e)+", "+J_.transform(n)+", "+eg(Rg.transform(r))+")"};function xU(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Pw={test:MT("#"),parse:xU,transform:Vd.transform},d1=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Nf=d1("deg"),Rc=d1("%"),kn=d1("px"),yU=d1("vh"),vU=d1("vw"),bC={...Rc,parse:t=>Rc.parse(t)/100,transform:t=>Rc.transform(t*100)},D0={test:MT("hsl","hue"),parse:PD("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Rc.transform(eg(e))+", "+Rc.transform(eg(n))+", "+eg(Rg.transform(r))+")"},ui={test:t=>Vd.test(t)||Pw.test(t)||D0.test(t),parse:t=>Vd.test(t)?Vd.parse(t):D0.test(t)?D0.parse(t):Pw.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Vd.transform(t):D0.transform(t),getAnimatableNone:t=>{const e=ui.parse(t);return e.alpha=0,ui.transform(e)}},_U=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function bU(t){return isNaN(t)&&typeof t=="string"&&(t.match(DT)?.length||0)+(t.match(_U)?.length||0)>0}const DD="number",MD="color",wU="var",TU="var(",wC="${}",EU=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Pg(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const o=e.replace(EU,c=>(ui.test(c)?(r.color.push(i),s.push(MD),n.push(ui.parse(c))):c.startsWith(TU)?(r.var.push(i),s.push(wU),n.push(c)):(r.number.push(i),s.push(DD),n.push(parseFloat(c))),++i,wC)).split(wC);return{values:n,split:o,indexes:r,types:s}}function LD(t){return Pg(t).values}function FD(t){const{split:e,types:n}=Pg(t),r=e.length;return s=>{let i="";for(let a=0;a<r;a++)if(i+=e[a],s[a]!==void 0){const o=n[a];o===DD?i+=eg(s[a]):o===MD?i+=ui.transform(s[a]):i+=s[a]}return i}}const SU=t=>typeof t=="number"?0:ui.test(t)?ui.getAnimatableNone(t):t;function AU(t){const e=LD(t);return FD(t)(e.map(SU))}const $f={test:bU,parse:LD,createTransformer:FD,getAnimatableNone:AU};function Q_(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function CU({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,a=0;if(!e)s=i=a=n;else{const o=n<.5?n*(1+e):n+e-n*e,c=2*n-o;s=Q_(c,o,t+1/3),i=Q_(c,o,t),a=Q_(c,o,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(a*255),alpha:r}}function zy(t,e){return n=>n>0?e:t}const ks=(t,e,n)=>t+(e-t)*n,Z_=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},NU=[Pw,Vd,D0],IU=t=>NU.find(e=>e.test(t));function TC(t){const e=IU(t);if(!e)return!1;let n=e.parse(t);return e===D0&&(n=CU(n)),n}const EC=(t,e)=>{const n=TC(t),r=TC(e);if(!n||!r)return zy(t,e);const s={...n};return i=>(s.red=Z_(n.red,r.red,i),s.green=Z_(n.green,r.green,i),s.blue=Z_(n.blue,r.blue,i),s.alpha=ks(n.alpha,r.alpha,i),Vd.transform(s))},Dw=new Set(["none","hidden"]);function kU(t,e){return Dw.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function RU(t,e){return n=>ks(t,e,n)}function LT(t){return typeof t=="number"?RU:typeof t=="string"?PT(t)?zy:ui.test(t)?EC:MU:Array.isArray(t)?OD:typeof t=="object"?ui.test(t)?EC:PU:zy}function OD(t,e){const n=[...t],r=n.length,s=t.map((i,a)=>LT(i)(i,e[a]));return i=>{for(let a=0;a<r;a++)n[a]=s[a](i);return n}}function PU(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=LT(t[s])(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function DU(t,e){const n=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const i=e.types[s],a=t.indexes[i][r[i]],o=t.values[a]??0;n[s]=o,r[i]++}return n}const MU=(t,e)=>{const n=$f.createTransformer(e),r=Pg(t),s=Pg(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Dw.has(t)&&!s.values.length||Dw.has(e)&&!r.values.length?kU(t,e):u1(OD(DU(r,s),s.values),n):zy(t,e)};function BD(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?ks(t,e,n):LT(t)(t,e)}const LU=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Jr.update(e,n),stop:()=>Bc(e),now:()=>Ui.isProcessing?Ui.timestamp:xo.now()}},VD=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let i=0;i<s;i++)r+=Math.round(t(i/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Gy=2e4;function FT(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Gy;)e+=n,r=t.next(e);return e>=Gy?1/0:e}function FU(t,e=100,n){const r=n({...t,keyframes:[0,e]}),s=Math.min(FT(r),Gy);return{type:"keyframes",ease:i=>r.next(s*i).value/e,duration:dl(s)}}const OU=5;function UD(t,e,n){const r=Math.max(e-OU,0);return NT(n-t(r),e-r)}const Us={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},eb=.001;function BU({duration:t=Us.duration,bounce:e=Us.bounce,velocity:n=Us.velocity,mass:r=Us.mass}){let s,i,a=1-e;a=Oc(Us.minDamping,Us.maxDamping,a),t=Oc(Us.minDuration,Us.maxDuration,dl(t)),a<1?(s=f=>{const d=f*a,p=d*t,g=d-n,y=Mw(f,a),E=Math.exp(-p);return eb-g/y*E},i=f=>{const p=f*a*t,g=p*n+n,y=Math.pow(a,2)*Math.pow(f,2)*t,E=Math.exp(-p),b=Mw(Math.pow(f,2),a);return(-s(f)+eb>0?-1:1)*((g-y)*E)/b}):(s=f=>{const d=Math.exp(-f*t),p=(f-n)*t+1;return-eb+d*p},i=f=>{const d=Math.exp(-f*t),p=(n-f)*(t*t);return d*p});const o=5/t,c=UU(s,i,o);if(t=kc(t),isNaN(c))return{stiffness:Us.stiffness,damping:Us.damping,duration:t};{const f=Math.pow(c,2)*r;return{stiffness:f,damping:a*2*Math.sqrt(r*f),duration:t}}}const VU=12;function UU(t,e,n){let r=n;for(let s=1;s<VU;s++)r=r-t(r)/e(r);return r}function Mw(t,e){return t*Math.sqrt(1-e*e)}const jU=["duration","bounce"],qU=["stiffness","damping","mass"];function SC(t,e){return e.some(n=>t[n]!==void 0)}function HU(t){let e={velocity:Us.velocity,stiffness:Us.stiffness,damping:Us.damping,mass:Us.mass,isResolvedFromDuration:!1,...t};if(!SC(t,qU)&&SC(t,jU))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*Oc(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:Us.mass,stiffness:s,damping:i}}else{const n=BU(t);e={...e,...n,mass:Us.mass},e.isResolvedFromDuration=!0}return e}function Wy(t=Us.visualDuration,e=Us.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],o={done:!1,value:i},{stiffness:c,damping:f,mass:d,duration:p,velocity:g,isResolvedFromDuration:y}=HU({...n,velocity:-dl(n.velocity||0)}),E=g||0,b=f/(2*Math.sqrt(c*d)),A=a-i,N=dl(Math.sqrt(c/d)),V=Math.abs(A)<5;r||(r=V?Us.restSpeed.granular:Us.restSpeed.default),s||(s=V?Us.restDelta.granular:Us.restDelta.default);let k;if(b<1){const W=Mw(N,b);k=K=>{const D=Math.exp(-b*N*K);return a-D*((E+b*N*A)/W*Math.sin(W*K)+A*Math.cos(W*K))}}else if(b===1)k=W=>a-Math.exp(-N*W)*(A+(E+N*A)*W);else{const W=N*Math.sqrt(b*b-1);k=K=>{const D=Math.exp(-b*N*K),L=Math.min(W*K,300);return a-D*((E+b*N*A)*Math.sinh(L)+W*A*Math.cosh(L))/W}}const B={calculatedDuration:y&&p||null,next:W=>{const K=k(W);if(y)o.done=W>=p;else{let D=W===0?E:0;b<1&&(D=W===0?kc(E):UD(k,W,K));const L=Math.abs(D)<=r,R=Math.abs(a-K)<=s;o.done=L&&R}return o.value=o.done?a:K,o},toString:()=>{const W=Math.min(FT(B),Gy),K=VD(D=>B.next(W*D).value,W,30);return W+"ms "+K},toTransition:()=>{}};return B}Wy.applyToOptions=t=>{const e=FU(t,100,Wy);return t.ease=e.ease,t.duration=kc(e.duration),t.type="keyframes",t};function Lw({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:a,min:o,max:c,restDelta:f=.5,restSpeed:d}){const p=t[0],g={done:!1,value:p},y=L=>o!==void 0&&L<o||c!==void 0&&L>c,E=L=>o===void 0?c:c===void 0||Math.abs(o-L)<Math.abs(c-L)?o:c;let b=n*e;const A=p+b,N=a===void 0?A:a(A);N!==A&&(b=N-p);const V=L=>-b*Math.exp(-L/r),k=L=>N+V(L),B=L=>{const R=V(L),q=k(L);g.done=Math.abs(R)<=f,g.value=g.done?N:q};let W,K;const D=L=>{y(g.value)&&(W=L,K=Wy({keyframes:[g.value,E(g.value)],velocity:UD(k,L,g.value),damping:s,stiffness:i,restDelta:f,restSpeed:d}))};return D(0),{calculatedDuration:null,next:L=>{let R=!1;return!K&&W===void 0&&(R=!0,B(L),D(L)),W!==void 0&&L>=W?K.next(L-W):(!R&&B(L),g)}}}function zU(t,e,n){const r=[],s=n||Iu.mix||BD,i=t.length-1;for(let a=0;a<i;a++){let o=s(t[a],t[a+1]);if(e){const c=Array.isArray(e)?e[a]||vo:e;o=u1(c,o)}r.push(o)}return r}function jD(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(kg(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=zU(e,r,s),c=o.length,f=d=>{if(a&&d<t[0])return e[0];let p=0;if(c>1)for(;p<t.length-2&&!(d<t[p+1]);p++);const g=up(t[p],t[p+1],d);return o[p](g)};return n?d=>f(Oc(t[0],t[i-1],d)):f}function GU(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=up(0,e,r);t.push(ks(n,1,s))}}function qD(t){const e=[0];return GU(e,t.length-1),e}function WU(t,e){return t.map(n=>n*e)}function $U(t,e){return t.map(()=>e||ND).splice(0,t.length-1)}function tg({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=aU(r)?r.map(_C):_C(r),i={done:!1,value:e[0]},a=WU(n&&n.length===e.length?n:qD(e),t),o=jD(a,e,{ease:Array.isArray(s)?s:$U(e,s)});return{calculatedDuration:t,next:c=>(i.value=o(c),i.done=c>=t,i)}}const KU=t=>t!==null;function OT(t,{repeat:e,repeatType:n="loop"},r,s=1){const i=t.filter(KU),o=s<0||e&&n!=="loop"&&e%2===1?0:i.length-1;return!o||r===void 0?i[o]:r}const YU={decay:Lw,inertia:Lw,tween:tg,keyframes:tg,spring:Wy};function HD(t){typeof t.type=="string"&&(t.type=YU[t.type])}class BT{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const XU=t=>t/100;class VT extends BT{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==xo.now()&&this.tick(xo.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;HD(e);const{type:n=tg,repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:a=0}=e;let{keyframes:o}=e;const c=n||tg;c!==tg&&typeof o[0]!="number"&&(this.mixKeyframes=u1(XU,BD(o[0],o[1])),o=[0,100]);const f=c({...e,keyframes:o});i==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...o].reverse(),velocity:-a})),f.calculatedDuration===null&&(f.calculatedDuration=FT(f));const{calculatedDuration:d}=f;this.calculatedDuration=d,this.resolvedDuration=d+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=f}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:s,mixKeyframes:i,mirroredGenerator:a,resolvedDuration:o,calculatedDuration:c}=this;if(this.startTime===null)return r.next(0);const{delay:f=0,keyframes:d,repeat:p,repeatType:g,repeatDelay:y,type:E,onUpdate:b,finalKeyframe:A}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const N=this.currentTime-f*(this.playbackSpeed>=0?1:-1),V=this.playbackSpeed>=0?N<0:N>s;this.currentTime=Math.max(N,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let k=this.currentTime,B=r;if(p){const L=Math.min(this.currentTime,s)/o;let R=Math.floor(L),q=L%1;!q&&L>=1&&(q=1),q===1&&R--,R=Math.min(R,p+1),!!(R%2)&&(g==="reverse"?(q=1-q,y&&(q-=y/o)):g==="mirror"&&(B=a)),k=Oc(0,1,q)*o}const W=V?{done:!1,value:d[0]}:B.next(k);i&&(W.value=i(W.value));let{done:K}=W;!V&&c!==null&&(K=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const D=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&K);return D&&E!==Lw&&(W.value=OT(d,this.options,A,this.speed)),b&&b(W.value),D&&this.finish(),W}then(e,n){return this.finished.then(e,n)}get duration(){return dl(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+dl(e)}get time(){return dl(this.currentTime)}set time(e){e=kc(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(xo.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=dl(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=LU,startTime:n}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(xo.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function JU(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Ud=t=>t*180/Math.PI,Fw=t=>{const e=Ud(Math.atan2(t[1],t[0]));return Ow(e)},QU={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Fw,rotateZ:Fw,skewX:t=>Ud(Math.atan(t[1])),skewY:t=>Ud(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Ow=t=>(t=t%360,t<0&&(t+=360),t),AC=Fw,CC=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),NC=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),ZU={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:CC,scaleY:NC,scale:t=>(CC(t)+NC(t))/2,rotateX:t=>Ow(Ud(Math.atan2(t[6],t[5]))),rotateY:t=>Ow(Ud(Math.atan2(-t[2],t[0]))),rotateZ:AC,rotate:AC,skewX:t=>Ud(Math.atan(t[4])),skewY:t=>Ud(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Bw(t){return t.includes("scale")?1:0}function Vw(t,e){if(!t||t==="none")return Bw(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=ZU,s=n;else{const o=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=QU,s=o}if(!s)return Bw(e);const i=r[e],a=s[1].split(",").map(tj);return typeof i=="function"?i(a):a[i]}const ej=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Vw(n,e)};function tj(t){return parseFloat(t.trim())}const Rp=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Pp=new Set(Rp),IC=t=>t===kp||t===kn,nj=new Set(["x","y","z"]),rj=Rp.filter(t=>!nj.has(t));function sj(t){const e=[];return rj.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Hd={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Vw(e,"x"),y:(t,{transform:e})=>Vw(e,"y")};Hd.translateX=Hd.x;Hd.translateY=Hd.y;const zd=new Set;let Uw=!1,jw=!1,qw=!1;function zD(){if(jw){const t=Array.from(zd).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=sj(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,a])=>{r.getValue(i)?.set(a)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}jw=!1,Uw=!1,zd.forEach(t=>t.complete(qw)),zd.clear()}function GD(){zd.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(jw=!0)})}function ij(){qw=!0,GD(),zD(),qw=!1}class UT{constructor(e,n,r,s,i,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(zd.add(this),Uw||(Uw=!0,Jr.read(GD),Jr.resolveKeyframes(zD))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;if(e[0]===null){const i=s?.get(),a=e[e.length-1];if(i!==void 0)e[0]=i;else if(r&&n){const o=r.readValue(n,a);o!=null&&(e[0]=o)}e[0]===void 0&&(e[0]=a),s&&i===void 0&&s.set(e[0])}JU(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),zd.delete(this)}cancel(){this.state==="scheduled"&&(zd.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const aj=t=>t.startsWith("--");function oj(t,e,n){aj(e)?t.style.setProperty(e,n):t.style[e]=n}const WD=AT(()=>window.ScrollTimeline!==void 0),lj={};function cj(t,e){const n=AT(t);return()=>lj[e]??n()}const $D=cj(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),qm=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,kC={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:qm([0,.65,.55,1]),circOut:qm([.55,0,1,.45]),backIn:qm([.31,.01,.66,-.59]),backOut:qm([.33,1.53,.69,.99])};function KD(t,e){if(t)return typeof t=="function"?$D()?VD(t,e):"ease-out":ID(t)?qm(t):Array.isArray(t)?t.map(n=>KD(n,e)||kC.easeOut):kC[t]}function uj(t,e,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:a="loop",ease:o="easeOut",times:c}={},f=void 0){const d={[e]:n};c&&(d.offset=c);const p=KD(o,s);Array.isArray(p)&&(d.easing=p);const g={delay:r,duration:s,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:i+1,direction:a==="reverse"?"alternate":"normal"};return f&&(g.pseudoElement=f),t.animate(d,g)}function YD(t){return typeof t=="function"&&"applyToOptions"in t}function fj({type:t,...e}){return YD(t)&&$D()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class dj extends BT{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:s,pseudoElement:i,allowFlatten:a=!1,finalKeyframe:o,onComplete:c}=e;this.isPseudoElement=!!i,this.allowFlatten=a,this.options=e,kg(typeof e.type!="string");const f=fj(e);this.animation=uj(n,r,s,f,i),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const d=OT(s,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(d):oj(n,r,d),this.animation.cancel()}c?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return dl(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+dl(e)}get time(){return dl(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=kc(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&WD()?(this.animation.timeline=e,vo):n(this)}}const XD={anticipate:SD,backInOut:ED,circInOut:CD};function hj(t){return t in XD}function pj(t){typeof t.ease=="string"&&hj(t.ease)&&(t.ease=XD[t.ease])}const RC=10;class mj extends dj{constructor(e){pj(e),HD(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:s,element:i,...a}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const o=new VT({...a,autoplay:!1}),c=kc(this.finishedTime??this.time);n.setWithVelocity(o.sample(c-RC).value,o.sample(c).value,RC),o.stop()}}const PC=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&($f.test(t)||t==="0")&&!t.startsWith("url("));function gj(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function xj(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],a=PC(s,e),o=PC(i,e);return!a||!o?!1:gj(t)||(n==="spring"||YD(n))&&r}function Hw(t){t.duration=0,t.type="keyframes"}const yj=new Set(["opacity","clipPath","filter","transform"]),vj=AT(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function _j(t){const{motionValue:e,name:n,repeatDelay:r,repeatType:s,damping:i,type:a}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:f}=e.owner.getProps();return vj()&&n&&yj.has(n)&&(n!=="transform"||!f)&&!c&&!r&&s!=="mirror"&&i!==0&&a!=="inertia"}const bj=40;class wj extends BT{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:a="loop",keyframes:o,name:c,motionValue:f,element:d,...p}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=xo.now();const g={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:a,name:c,motionValue:f,element:d,...p},y=d?.KeyframeResolver||UT;this.keyframeResolver=new y(o,(E,b,A)=>this.onKeyframesResolved(E,b,g,!A),c,f,d),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,r,s){this.keyframeResolver=void 0;const{name:i,type:a,velocity:o,delay:c,isHandoff:f,onUpdate:d}=r;this.resolvedAt=xo.now(),xj(e,i,a,o)||((Iu.instantAnimations||!c)&&d?.(OT(e,r,n)),e[0]=e[e.length-1],Hw(r),r.repeat=0);const g={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>bj?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},y=!f&&_j(g)?new mj({...g,element:g.motionValue.owner.current}):new VT(g);y.finished.then(()=>this.notifyFinished()).catch(vo),this.pendingTimeline&&(this.stopTimeline=y.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=y}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),ij()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const Tj=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Ej(t){const e=Tj.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function JD(t,e,n=1){const[r,s]=Ej(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const a=i.trim();return xD(a)?parseFloat(a):a}return PT(s)?JD(s,e,n+1):s}function jT(t,e){return t?.[e]??t?.default??t}const QD=new Set(["width","height","top","left","right","bottom",...Rp]),Sj={test:t=>t==="auto",parse:t=>t},ZD=t=>e=>e.test(t),e8=[kp,kn,Rc,Nf,vU,yU,Sj],DC=t=>e8.find(ZD(t));function Aj(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||vD(t):!0}const Cj=new Set(["brightness","contrast","saturate","opacity"]);function Nj(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(DT)||[];if(!r)return t;const s=n.replace(r,"");let i=Cj.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const Ij=/\b([a-z-]*)\(.*?\)/gu,zw={...$f,getAnimatableNone:t=>{const e=t.match(Ij);return e?e.map(Nj).join(" "):t}},MC={...kp,transform:Math.round},kj={rotate:Nf,rotateX:Nf,rotateY:Nf,rotateZ:Nf,scale:Rx,scaleX:Rx,scaleY:Rx,scaleZ:Rx,skew:Nf,skewX:Nf,skewY:Nf,distance:kn,translateX:kn,translateY:kn,translateZ:kn,x:kn,y:kn,z:kn,perspective:kn,transformPerspective:kn,opacity:Rg,originX:bC,originY:bC,originZ:kn},qT={borderWidth:kn,borderTopWidth:kn,borderRightWidth:kn,borderBottomWidth:kn,borderLeftWidth:kn,borderRadius:kn,radius:kn,borderTopLeftRadius:kn,borderTopRightRadius:kn,borderBottomRightRadius:kn,borderBottomLeftRadius:kn,width:kn,maxWidth:kn,height:kn,maxHeight:kn,top:kn,right:kn,bottom:kn,left:kn,padding:kn,paddingTop:kn,paddingRight:kn,paddingBottom:kn,paddingLeft:kn,margin:kn,marginTop:kn,marginRight:kn,marginBottom:kn,marginLeft:kn,backgroundPositionX:kn,backgroundPositionY:kn,...kj,zIndex:MC,fillOpacity:Rg,strokeOpacity:Rg,numOctaves:MC},Rj={...qT,color:ui,backgroundColor:ui,outlineColor:ui,fill:ui,stroke:ui,borderColor:ui,borderTopColor:ui,borderRightColor:ui,borderBottomColor:ui,borderLeftColor:ui,filter:zw,WebkitFilter:zw},t8=t=>Rj[t];function n8(t,e){let n=t8(t);return n!==zw&&(n=$f),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const Pj=new Set(["auto","none","0"]);function Dj(t,e,n){let r=0,s;for(;r<t.length&&!s;){const i=t[r];typeof i=="string"&&!Pj.has(i)&&Pg(i).values.length&&(s=t[r]),r++}if(s&&n)for(const i of e)t[i]=n8(n,s)}class Mj extends UT{constructor(e,n,r,s,i){super(e,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let f=e[c];if(typeof f=="string"&&(f=f.trim(),PT(f))){const d=JD(f,n.current);d!==void 0&&(e[c]=d),c===e.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!QD.has(r)||e.length!==2)return;const[s,i]=e,a=DC(s),o=DC(i);if(a!==o)if(IC(a)&&IC(o))for(let c=0;c<e.length;c++){const f=e[c];typeof f=="string"&&(e[c]=parseFloat(f))}else Hd[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)(e[s]===null||Aj(e[s]))&&r.push(s);r.length&&Dj(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Hd[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const s=e.getValue(n);s&&s.jump(this.measuredOrigin,!1);const i=r.length-1,a=r[i];r[i]=Hd[n](e.measureViewportBox(),window.getComputedStyle(e.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),this.removedTransforms?.length&&this.removedTransforms.forEach(([o,c])=>{e.getValue(o).set(c)}),this.resolveNoneKeyframes()}}function r8(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){const s=document.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const s8=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function HT(t){return yD(t)&&"offsetHeight"in t}const LC=30,Lj=t=>!isNaN(parseFloat(t));class Fj{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const s=xo.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const i of this.dependents)i.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=xo.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Lj(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new CT);const r=this.events[e].add(n);return e==="change"?()=>{r(),Jr.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=xo.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>LC)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,LC);return NT(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ac(t,e){return new Fj(t,e)}const{schedule:zT}=kD(queueMicrotask,!1),Hl={x:!1,y:!1};function i8(){return Hl.x||Hl.y}function Oj(t){return t==="x"||t==="y"?Hl[t]?null:(Hl[t]=!0,()=>{Hl[t]=!1}):Hl.x||Hl.y?null:(Hl.x=Hl.y=!0,()=>{Hl.x=Hl.y=!1})}function a8(t,e){const n=r8(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function FC(t){return!(t.pointerType==="touch"||i8())}function Bj(t,e,n={}){const[r,s,i]=a8(t,n),a=o=>{if(!FC(o))return;const{target:c}=o,f=e(c,o);if(typeof f!="function"||!c)return;const d=p=>{FC(p)&&(f(p),c.removeEventListener("pointerleave",d))};c.addEventListener("pointerleave",d,s)};return r.forEach(o=>{o.addEventListener("pointerenter",a,s)}),i}const o8=(t,e)=>e?t===e?!0:o8(t,e.parentElement):!1,GT=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,Vj=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Uj(t){return Vj.has(t.tagName)||t.tabIndex!==-1}const dy=new WeakSet;function OC(t){return e=>{e.key==="Enter"&&t(e)}}function tb(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const jj=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=OC(()=>{if(dy.has(n))return;tb(n,"down");const s=OC(()=>{tb(n,"up")}),i=()=>tb(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function BC(t){return GT(t)&&!i8()}function qj(t,e,n={}){const[r,s,i]=a8(t,n),a=o=>{const c=o.currentTarget;if(!BC(o))return;dy.add(c);const f=e(c,o),d=(y,E)=>{window.removeEventListener("pointerup",p),window.removeEventListener("pointercancel",g),dy.has(c)&&dy.delete(c),BC(y)&&typeof f=="function"&&f(y,{success:E})},p=y=>{d(y,c===window||c===document||n.useGlobalTarget||o8(c,y.target))},g=y=>{d(y,!1)};window.addEventListener("pointerup",p,s),window.addEventListener("pointercancel",g,s)};return r.forEach(o=>{(n.useGlobalTarget?window:o).addEventListener("pointerdown",a,s),HT(o)&&(o.addEventListener("focus",f=>jj(f,s)),!Uj(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),i}function WT(t){return yD(t)&&"ownerSVGElement"in t}const hy=new WeakMap;let py;const l8=(t,e,n)=>(r,s)=>s&&s[0]?s[0][t+"Size"]:WT(r)&&"getBBox"in r?r.getBBox()[e]:r[n],Hj=l8("inline","width","offsetWidth"),zj=l8("block","height","offsetHeight");function Gj({target:t,borderBoxSize:e}){hy.get(t)?.forEach(n=>{n(t,{get width(){return Hj(t,e)},get height(){return zj(t,e)}})})}function Wj(t){t.forEach(Gj)}function $j(){typeof ResizeObserver>"u"||(py=new ResizeObserver(Wj))}function Kj(t,e){py||$j();const n=r8(t);return n.forEach(r=>{let s=hy.get(r);s||(s=new Set,hy.set(r,s)),s.add(e),py?.observe(r)}),()=>{n.forEach(r=>{const s=hy.get(r);s?.delete(e),s?.size||py?.unobserve(r)})}}const my=new Set;let M0;function Yj(){M0=()=>{const t={get width(){return window.innerWidth},get height(){return window.innerHeight}};my.forEach(e=>e(t))},window.addEventListener("resize",M0)}function Xj(t){return my.add(t),M0||Yj(),()=>{my.delete(t),!my.size&&typeof M0=="function"&&(window.removeEventListener("resize",M0),M0=void 0)}}function Jj(t,e){return typeof t=="function"?Xj(t):Kj(t,e)}function c8(t,e){let n;const r=()=>{const{currentTime:s}=e,a=(s===null?0:s.value)/100;n!==a&&t(a),n=a};return Jr.preUpdate(r,!0),()=>Bc(r)}function Qj(t){return WT(t)&&t.tagName==="svg"}const Sa=t=>!!(t&&t.getVelocity),Zj=[...e8,ui,$f],eq=t=>Zj.find(ZD(t)),$T=ke.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function VC(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function tq(...t){return e=>{let n=!1;const r=t.map(s=>{const i=VC(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():VC(t[s],null)}}}}function nq(...t){return ke.useCallback(tq(...t),t)}class rq extends ke.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=HT(r)&&r.offsetWidth||0,i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft,i.right=s-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function sq({children:t,isPresent:e,anchorX:n,root:r}){const s=ke.useId(),i=ke.useRef(null),a=ke.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=ke.useContext($T),c=nq(i,t?.ref);return ke.useInsertionEffect(()=>{const{width:f,height:d,top:p,left:g,right:y}=a.current;if(e||!i.current||!f||!d)return;const E=n==="left"?`left: ${g}`:`right: ${y}`;i.current.dataset.motionPopId=s;const b=document.createElement("style");o&&(b.nonce=o);const A=r??document.head;return A.appendChild(b),b.sheet&&b.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${f}px !important;
            height: ${d}px !important;
            ${E}px !important;
            top: ${p}px !important;
          }
        `),()=>{A.contains(b)&&A.removeChild(b)}},[e]),m.jsx(rq,{isPresent:e,childRef:i,sizeRef:a,children:ke.cloneElement(t,{ref:c})})}const iq=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:a,anchorX:o,root:c})=>{const f=q2(aq),d=ke.useId();let p=!0,g=ke.useMemo(()=>(p=!1,{id:d,initial:e,isPresent:n,custom:s,onExitComplete:y=>{f.set(y,!0);for(const E of f.values())if(!E)return;r&&r()},register:y=>(f.set(y,!1),()=>f.delete(y))}),[n,f,r]);return i&&p&&(g={...g}),ke.useMemo(()=>{f.forEach((y,E)=>f.set(E,!1))},[n]),ke.useEffect(()=>{!n&&!f.size&&r&&r()},[n]),a==="popLayout"&&(t=m.jsx(sq,{isPresent:n,anchorX:o,root:c,children:t})),m.jsx(H2.Provider,{value:g,children:t})};function aq(){return new Map}function u8(t=!0){const e=ke.useContext(H2);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,i=ke.useId();ke.useEffect(()=>{if(t)return s(i)},[t]);const a=ke.useCallback(()=>t&&r&&r(i),[i,r,t]);return!n&&r?[!1,a]:[!0]}const Px=t=>t.key||"";function UC(t){const e=[];return ke.Children.forEach(t,n=>{ke.isValidElement(n)&&e.push(n)}),e}const ku=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:a=!1,anchorX:o="left",root:c})=>{const[f,d]=u8(a),p=ke.useMemo(()=>UC(t),[t]),g=a&&!f?[]:p.map(Px),y=ke.useRef(!0),E=ke.useRef(p),b=q2(()=>new Map),[A,N]=ke.useState(p),[V,k]=ke.useState(p);TT(()=>{y.current=!1,E.current=p;for(let K=0;K<V.length;K++){const D=Px(V[K]);g.includes(D)?b.delete(D):b.get(D)!==!0&&b.set(D,!1)}},[V,g.length,g.join("-")]);const B=[];if(p!==A){let K=[...p];for(let D=0;D<V.length;D++){const L=V[D],R=Px(L);g.includes(R)||(K.splice(D,0,L),B.push(L))}return i==="wait"&&B.length&&(K=B),k(UC(K)),N(p),null}const{forceRender:W}=ke.useContext(bT);return m.jsx(m.Fragment,{children:V.map(K=>{const D=Px(K),L=a&&!f?!1:p===V||g.includes(D),R=()=>{if(b.has(D))b.set(D,!0);else return;let q=!0;b.forEach(P=>{P||(q=!1)}),q&&(W?.(),k(E.current),a&&d?.(),r&&r())};return m.jsx(iq,{isPresent:L,initial:!y.current||n?void 0:!1,custom:e,presenceAffectsLayout:s,mode:i,root:c,onExitComplete:L?void 0:R,anchorX:o,children:K},D)})})},f8=ke.createContext({strict:!1}),jC={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},fp={};for(const t in jC)fp[t]={isEnabled:e=>jC[t].some(n=>!!e[n])};function oq(t){for(const e in t)fp[e]={...fp[e],...t[e]}}const lq=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function $y(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||lq.has(t)}let d8=t=>!$y(t);function cq(t){typeof t=="function"&&(d8=e=>e.startsWith("on")?!$y(e):t(e))}try{cq(require("@emotion/is-prop-valid").default)}catch{}function uq(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(d8(s)||n===!0&&$y(s)||!e&&!$y(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}const z2=ke.createContext({});function G2(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Dg(t){return typeof t=="string"||Array.isArray(t)}const KT=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],YT=["initial",...KT];function W2(t){return G2(t.animate)||YT.some(e=>Dg(t[e]))}function h8(t){return!!(W2(t)||t.variants)}function fq(t,e){if(W2(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Dg(n)?n:void 0,animate:Dg(r)?r:void 0}}return t.inherit!==!1?e:{}}function dq(t){const{initial:e,animate:n}=fq(t,ke.useContext(z2));return ke.useMemo(()=>({initial:e,animate:n}),[qC(e),qC(n)])}function qC(t){return Array.isArray(t)?t.join(" "):t}const Mg={};function hq(t){for(const e in t)Mg[e]=t[e],RT(e)&&(Mg[e].isCSSVariable=!0)}function p8(t,{layout:e,layoutId:n}){return Pp.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Mg[t]||t==="opacity")}const pq={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},mq=Rp.length;function gq(t,e,n){let r="",s=!0;for(let i=0;i<mq;i++){const a=Rp[i],o=t[a];if(o===void 0)continue;let c=!0;if(typeof o=="number"?c=o===(a.startsWith("scale")?1:0):c=parseFloat(o)===0,!c||n){const f=s8(o,qT[a]);if(!c){s=!1;const d=pq[a]||a;r+=`${d}(${f}) `}n&&(e[a]=f)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function XT(t,e,n){const{style:r,vars:s,transformOrigin:i}=t;let a=!1,o=!1;for(const c in e){const f=e[c];if(Pp.has(c)){a=!0;continue}else if(RT(c)){s[c]=f;continue}else{const d=s8(f,qT[c]);c.startsWith("origin")?(o=!0,i[c]=d):r[c]=d}}if(e.transform||(a||n?r.transform=gq(e,t.transform,n):r.transform&&(r.transform="none")),o){const{originX:c="50%",originY:f="50%",originZ:d=0}=i;r.transformOrigin=`${c} ${f} ${d}`}}const JT=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function m8(t,e,n){for(const r in e)!Sa(e[r])&&!p8(r,n)&&(t[r]=e[r])}function xq({transformTemplate:t},e){return ke.useMemo(()=>{const n=JT();return XT(n,e,t),Object.assign({},n.vars,n.style)},[e])}function yq(t,e){const n=t.style||{},r={};return m8(r,n,t),Object.assign(r,xq(t,e)),r}function vq(t,e){const n={},r=yq(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const _q={offset:"stroke-dashoffset",array:"stroke-dasharray"},bq={offset:"strokeDashoffset",array:"strokeDasharray"};function wq(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?_q:bq;t[i.offset]=kn.transform(-r);const a=kn.transform(e),o=kn.transform(n);t[i.array]=`${a} ${o}`}function g8(t,{attrX:e,attrY:n,attrScale:r,pathLength:s,pathSpacing:i=1,pathOffset:a=0,...o},c,f,d){if(XT(t,o,f),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:g}=t;p.transform&&(g.transform=p.transform,delete p.transform),(g.transform||p.transformOrigin)&&(g.transformOrigin=p.transformOrigin??"50% 50%",delete p.transformOrigin),g.transform&&(g.transformBox=d?.transformBox??"fill-box",delete p.transformBox),e!==void 0&&(p.x=e),n!==void 0&&(p.y=n),r!==void 0&&(p.scale=r),s!==void 0&&wq(p,s,i,a,!1)}const x8=()=>({...JT(),attrs:{}}),y8=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Tq(t,e,n,r){const s=ke.useMemo(()=>{const i=x8();return g8(i,e,y8(r),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};m8(i,t.style,t),s.style={...i,...s.style}}return s}const Eq=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function QT(t){return typeof t!="string"||t.includes("-")?!1:!!(Eq.indexOf(t)>-1||/[A-Z]/u.test(t))}function Sq(t,e,n,{latestValues:r},s,i=!1){const o=(QT(t)?Tq:vq)(e,r,s,t),c=uq(e,typeof t=="string",i),f=t!==ke.Fragment?{...c,...o,ref:n}:{},{children:d}=e,p=ke.useMemo(()=>Sa(d)?d.get():d,[d]);return ke.createElement(t,{...f,children:p})}function HC(t){const e=[{},{}];return t?.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function ZT(t,e,n,r){if(typeof e=="function"){const[s,i]=HC(r);e=e(n!==void 0?n:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=HC(r);e=e(n!==void 0?n:t.custom,s,i)}return e}function gy(t){return Sa(t)?t.get():t}function Aq({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,s){return{latestValues:Cq(n,r,s,t),renderState:e()}}function Cq(t,e,n,r){const s={},i=r(t,{});for(const g in i)s[g]=gy(i[g]);let{initial:a,animate:o}=t;const c=W2(t),f=h8(t);e&&f&&!c&&t.inherit!==!1&&(a===void 0&&(a=e.initial),o===void 0&&(o=e.animate));let d=n?n.initial===!1:!1;d=d||a===!1;const p=d?o:a;if(p&&typeof p!="boolean"&&!G2(p)){const g=Array.isArray(p)?p:[p];for(let y=0;y<g.length;y++){const E=ZT(t,g[y]);if(E){const{transitionEnd:b,transition:A,...N}=E;for(const V in N){let k=N[V];if(Array.isArray(k)){const B=d?k.length-1:0;k=k[B]}k!==null&&(s[V]=k)}for(const V in b)s[V]=b[V]}}}return s}const v8=t=>(e,n)=>{const r=ke.useContext(z2),s=ke.useContext(H2),i=()=>Aq(t,e,r,s);return n?i():q2(i)};function eE(t,e,n){const{style:r}=t,s={};for(const i in r)(Sa(r[i])||e.style&&Sa(e.style[i])||p8(i,t)||n?.getValue(i)?.liveStyle!==void 0)&&(s[i]=r[i]);return s}const Nq=v8({scrapeMotionValuesFromProps:eE,createRenderState:JT});function _8(t,e,n){const r=eE(t,e,n);for(const s in t)if(Sa(t[s])||Sa(e[s])){const i=Rp.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=t[s]}return r}const Iq=v8({scrapeMotionValuesFromProps:_8,createRenderState:x8}),kq=Symbol.for("motionComponentSymbol");function L0(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Rq(t,e,n){return ke.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):L0(n)&&(n.current=r))},[e])}const tE=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Pq="framerAppearId",b8="data-"+tE(Pq),w8=ke.createContext({});function Dq(t,e,n,r,s){const{visualElement:i}=ke.useContext(z2),a=ke.useContext(f8),o=ke.useContext(H2),c=ke.useContext($T).reducedMotion,f=ke.useRef(null);r=r||a.renderer,!f.current&&r&&(f.current=r(t,{visualState:e,parent:i,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:c}));const d=f.current,p=ke.useContext(w8);d&&!d.projection&&s&&(d.type==="html"||d.type==="svg")&&Mq(f.current,n,s,p);const g=ke.useRef(!1);ke.useInsertionEffect(()=>{d&&g.current&&d.update(n,o)});const y=n[b8],E=ke.useRef(!!y&&!window.MotionHandoffIsComplete?.(y)&&window.MotionHasOptimisedAnimation?.(y));return TT(()=>{d&&(g.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),E.current&&d.animationState&&d.animationState.animateChanges())}),ke.useEffect(()=>{d&&(!E.current&&d.animationState&&d.animationState.animateChanges(),E.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(y)}),E.current=!1),d.enteringChildren=void 0)}),d}function Mq(t,e,n,r){const{layoutId:s,layout:i,drag:a,dragConstraints:o,layoutScroll:c,layoutRoot:f,layoutCrossfade:d}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:T8(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!a||o&&L0(o),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:d,layoutScroll:c,layoutRoot:f})}function T8(t){if(t)return t.options.allowProjection!==!1?t.projection:T8(t.parent)}function nb(t,{forwardMotionProps:e=!1}={},n,r){n&&oq(n);const s=QT(t)?Iq:Nq;function i(o,c){let f;const d={...ke.useContext($T),...o,layoutId:Lq(o)},{isStatic:p}=d,g=dq(o),y=s(o,p);if(!p&&wT){Fq();const E=Oq(d);f=E.MeasureLayout,g.visualElement=Dq(t,y,d,r,E.ProjectionNode)}return m.jsxs(z2.Provider,{value:g,children:[f&&g.visualElement?m.jsx(f,{visualElement:g.visualElement,...d}):null,Sq(t,o,Rq(y,g.visualElement,c),y,p,e)]})}i.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const a=ke.forwardRef(i);return a[kq]=t,a}function Lq({layoutId:t}){const e=ke.useContext(bT).id;return e&&t!==void 0?e+"-"+t:t}function Fq(t,e){ke.useContext(f8).strict}function Oq(t){const{drag:e,layout:n}=fp;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function Bq(t,e){if(typeof Proxy>"u")return nb;const n=new Map,r=(i,a)=>nb(i,a,t,e),s=(i,a)=>r(i,a);return new Proxy(s,{get:(i,a)=>a==="create"?r:(n.has(a)||n.set(a,nb(a,void 0,t,e)),n.get(a))})}function E8({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function Vq({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Uq(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function rb(t){return t===void 0||t===1}function Gw({scale:t,scaleX:e,scaleY:n}){return!rb(t)||!rb(e)||!rb(n)}function Nd(t){return Gw(t)||S8(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function S8(t){return zC(t.x)||zC(t.y)}function zC(t){return t&&t!=="0%"}function Ky(t,e,n){const r=t-n,s=e*r;return n+s}function GC(t,e,n,r,s){return s!==void 0&&(t=Ky(t,s,r)),Ky(t,n,r)+e}function Ww(t,e=0,n=1,r,s){t.min=GC(t.min,e,n,r,s),t.max=GC(t.max,e,n,r,s)}function A8(t,{x:e,y:n}){Ww(t.x,e.translate,e.scale,e.originPoint),Ww(t.y,n.translate,n.scale,n.originPoint)}const WC=.999999999999,$C=1.0000000000001;function jq(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,a;for(let o=0;o<s;o++){i=n[o],a=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&O0(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,A8(t,a)),r&&Nd(i.latestValues)&&O0(t,i.latestValues))}e.x<$C&&e.x>WC&&(e.x=1),e.y<$C&&e.y>WC&&(e.y=1)}function F0(t,e){t.min=t.min+e,t.max=t.max+e}function KC(t,e,n,r,s=.5){const i=ks(t.min,t.max,s);Ww(t,e,n,i,r)}function O0(t,e){KC(t.x,e.x,e.scaleX,e.scale,e.originX),KC(t.y,e.y,e.scaleY,e.scale,e.originY)}function C8(t,e){return E8(Uq(t.getBoundingClientRect(),e))}function qq(t,e,n){const r=C8(t,n),{scroll:s}=e;return s&&(F0(r.x,s.offset.x),F0(r.y,s.offset.y)),r}const YC=()=>({translate:0,scale:1,origin:0,originPoint:0}),B0=()=>({x:YC(),y:YC()}),XC=()=>({min:0,max:0}),Ti=()=>({x:XC(),y:XC()}),$w={current:null},N8={current:!1};function Hq(){if(N8.current=!0,!!wT)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>$w.current=t.matches;t.addEventListener("change",e),e()}else $w.current=!1}const zq=new WeakMap;function Gq(t,e,n){for(const r in e){const s=e[r],i=n[r];if(Sa(s))t.addValue(r,s);else if(Sa(i))t.addValue(r,Ac(s,{owner:t}));else if(i!==s)if(t.hasValue(r)){const a=t.getValue(r);a.liveStyle===!0?a.jump(s):a.hasAnimated||a.set(s)}else{const a=t.getStaticValue(r);t.addValue(r,Ac(a!==void 0?a:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const JC=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Wq{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=UT,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=xo.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,Jr.render(this.render,!1,!0))};const{latestValues:c,renderState:f}=a;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=f,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=o,this.blockInitialAnimation=!!i,this.isControllingVariants=W2(n),this.isVariantNode=h8(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...p}=this.scrapeMotionValuesFromProps(n,{},this);for(const g in p){const y=p[g];c[g]!==void 0&&Sa(y)&&y.set(c[g])}}mount(e){this.current=e,zq.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),N8.current||Hq(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:$w.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Bc(this.notifyUpdate),Bc(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Pp.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&Jr.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),i&&i(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in fp){const n=fp[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ti()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<JC.length;r++){const s=JC[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,a=e[i];a&&(this.propEventSubscriptions[s]=this.on(s,a))}this.prevMotionValues=Gq(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Ac(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(xD(r)||vD(r))?r=parseFloat(r):!eq(r)&&$f.test(n)&&(r=n8(e,n)),this.setBaseTarget(e,Sa(r)?r.get():r)),Sa(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const i=ZT(this.props,n,this.presenceContext?.custom);i&&(r=i[e])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Sa(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new CT),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){zT.render(this.render)}}class I8 extends Wq{constructor(){super(...arguments),this.KeyframeResolver=Mj}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Sa(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function k8(t,{style:e,vars:n},r,s){const i=t.style;let a;for(a in e)i[a]=e[a];s?.applyProjectionStyles(i,r);for(a in n)i.setProperty(a,n[a])}function $q(t){return window.getComputedStyle(t)}class Kq extends I8{constructor(){super(...arguments),this.type="html",this.renderInstance=k8}readValueFromInstance(e,n){if(Pp.has(n))return this.projection?.isProjecting?Bw(n):ej(e,n);{const r=$q(e),s=(RT(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return C8(e,n)}build(e,n,r){XT(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return eE(e,n,r)}}const R8=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Yq(t,e,n,r){k8(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(R8.has(s)?s:tE(s),e.attrs[s])}class Xq extends I8{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ti}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Pp.has(n)){const r=t8(n);return r&&r.default||0}return n=R8.has(n)?n:tE(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return _8(e,n,r)}build(e,n,r){g8(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,s){Yq(e,n,r,s)}mount(e){this.isSVGTag=y8(e.tagName),super.mount(e)}}const Jq=(t,e)=>QT(t)?new Xq(e):new Kq(e,{allowProjection:t!==ke.Fragment});function W0(t,e,n){const r=t.getProps();return ZT(r,e,n!==void 0?n:r.custom,t)}const Kw=t=>Array.isArray(t);function Qq(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Ac(n))}function Zq(t){return Kw(t)?t[t.length-1]||0:t}function eH(t,e){const n=W0(t,e);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const a in i){const o=Zq(i[a]);Qq(t,a,o)}}function tH(t){return!!(Sa(t)&&t.add)}function Yw(t,e){const n=t.getValue("willChange");if(tH(n))return n.add(e);if(!n&&Iu.WillChange){const r=new Iu.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function P8(t){return t.props[b8]}const nH=t=>t!==null;function rH(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(nH),i=e&&n!=="loop"&&e%2===1?0:s.length-1;return s[i]}const sH={type:"spring",stiffness:500,damping:25,restSpeed:10},iH=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),aH={type:"keyframes",duration:.8},oH={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},lH=(t,{keyframes:e})=>e.length>2?aH:Pp.has(t)?t.startsWith("scale")?iH(e[1]):sH:oH;function cH({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:a,repeatDelay:o,from:c,elapsed:f,...d}){return!!Object.keys(d).length}const nE=(t,e,n,r={},s,i)=>a=>{const o=jT(r,t)||{},c=o.delay||r.delay||0;let{elapsed:f=0}=r;f=f-kc(c);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...o,delay:-f,onUpdate:g=>{e.set(g),o.onUpdate&&o.onUpdate(g)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:t,motionValue:e,element:i?void 0:s};cH(o)||Object.assign(d,lH(t,d)),d.duration&&(d.duration=kc(d.duration)),d.repeatDelay&&(d.repeatDelay=kc(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let p=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(Hw(d),d.delay===0&&(p=!0)),(Iu.instantAnimations||Iu.skipAnimations)&&(p=!0,Hw(d),d.delay=0),d.allowFlatten=!o.type&&!o.ease,p&&!i&&e.get()!==void 0){const g=rH(d.keyframes,o);if(g!==void 0){Jr.update(()=>{d.onUpdate(g),d.onComplete()});return}}return o.isSync?new VT(d):new wj(d)};function uH({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function D8(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:a,...o}=e;r&&(i=r);const c=[],f=s&&t.animationState&&t.animationState.getState()[s];for(const d in o){const p=t.getValue(d,t.latestValues[d]??null),g=o[d];if(g===void 0||f&&uH(f,d))continue;const y={delay:n,...jT(i||{},d)},E=p.get();if(E!==void 0&&!p.isAnimating&&!Array.isArray(g)&&g===E&&!y.velocity)continue;let b=!1;if(window.MotionHandoffAnimation){const N=P8(t);if(N){const V=window.MotionHandoffAnimation(N,d,Jr);V!==null&&(y.startTime=V,b=!0)}}Yw(t,d),p.start(nE(d,p,g,t.shouldReduceMotion&&QD.has(d)?{type:!1}:y,t,b));const A=p.animation;A&&c.push(A)}return a&&Promise.all(c).then(()=>{Jr.update(()=>{a&&eH(t,a)})}),c}function M8(t,e,n,r=0,s=1){const i=Array.from(t).sort((f,d)=>f.sortNodePosition(d)).indexOf(e),a=t.size,o=(a-1)*r;return typeof n=="function"?n(i,a):s===1?i*r:o-i*r}function Xw(t,e,n={}){const r=W0(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(D8(t,r,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:f=0,staggerChildren:d,staggerDirection:p}=s;return fH(t,e,c,f,d,p,n)}:()=>Promise.resolve(),{when:o}=s;if(o){const[c,f]=o==="beforeChildren"?[i,a]:[a,i];return c().then(()=>f())}else return Promise.all([i(),a(n.delay)])}function fH(t,e,n=0,r=0,s=0,i=1,a){const o=[];for(const c of t.variantChildren)c.notify("AnimationStart",e),o.push(Xw(c,e,{...a,delay:n+(typeof r=="function"?0:r)+M8(t.variantChildren,c,r,s,i)}).then(()=>c.notify("AnimationComplete",e)));return Promise.all(o)}function dH(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>Xw(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=Xw(t,e,n);else{const s=typeof e=="function"?W0(t,e,n.custom):e;r=Promise.all(D8(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function L8(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const hH=YT.length;function F8(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?F8(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<hH;n++){const r=YT[n],s=t.props[r];(Dg(s)||s===!1)&&(e[r]=s)}return e}const pH=[...KT].reverse(),mH=KT.length;function gH(t){return e=>Promise.all(e.map(({animation:n,options:r})=>dH(t,n,r)))}function xH(t){let e=gH(t),n=QC(),r=!0;const s=c=>(f,d)=>{const p=W0(t,d,c==="exit"?t.presenceContext?.custom:void 0);if(p){const{transition:g,transitionEnd:y,...E}=p;f={...f,...E,...y}}return f};function i(c){e=c(t)}function a(c){const{props:f}=t,d=F8(t.parent)||{},p=[],g=new Set;let y={},E=1/0;for(let A=0;A<mH;A++){const N=pH[A],V=n[N],k=f[N]!==void 0?f[N]:d[N],B=Dg(k),W=N===c?V.isActive:null;W===!1&&(E=A);let K=k===d[N]&&k!==f[N]&&B;if(K&&r&&t.manuallyAnimateOnMount&&(K=!1),V.protectedKeys={...y},!V.isActive&&W===null||!k&&!V.prevProp||G2(k)||typeof k=="boolean")continue;const D=yH(V.prevProp,k);let L=D||N===c&&V.isActive&&!K&&B||A>E&&B,R=!1;const q=Array.isArray(k)?k:[k];let P=q.reduce(s(N),{});W===!1&&(P={});const{prevResolvedValues:M={}}=V,H={...M,...P},ae=ve=>{L=!0,g.has(ve)&&(R=!0,g.delete(ve)),V.needsAnimating[ve]=!0;const Ie=t.getValue(ve);Ie&&(Ie.liveStyle=!1)};for(const ve in H){const Ie=P[ve],xe=M[ve];if(y.hasOwnProperty(ve))continue;let Re=!1;Kw(Ie)&&Kw(xe)?Re=!L8(Ie,xe):Re=Ie!==xe,Re?Ie!=null?ae(ve):g.add(ve):Ie!==void 0&&g.has(ve)?ae(ve):V.protectedKeys[ve]=!0}V.prevProp=k,V.prevResolvedValues=P,V.isActive&&(y={...y,...P}),r&&t.blockInitialAnimation&&(L=!1);const Se=K&&D;L&&(!Se||R)&&p.push(...q.map(ve=>{const Ie={type:N};if(typeof ve=="string"&&r&&!Se&&t.manuallyAnimateOnMount&&t.parent){const{parent:xe}=t,Re=W0(xe,ve);if(xe.enteringChildren&&Re){const{delayChildren:re}=Re.transition||{};Ie.delay=M8(xe.enteringChildren,t,re)}}return{animation:ve,options:Ie}}))}if(g.size){const A={};if(typeof f.initial!="boolean"){const N=W0(t,Array.isArray(f.initial)?f.initial[0]:f.initial);N&&N.transition&&(A.transition=N.transition)}g.forEach(N=>{const V=t.getBaseTarget(N),k=t.getValue(N);k&&(k.liveStyle=!0),A[N]=V??null}),p.push({animation:A})}let b=!!p.length;return r&&(f.initial===!1||f.initial===f.animate)&&!t.manuallyAnimateOnMount&&(b=!1),r=!1,b?e(p):Promise.resolve()}function o(c,f){if(n[c].isActive===f)return Promise.resolve();t.variantChildren?.forEach(p=>p.animationState?.setActive(c,f)),n[c].isActive=f;const d=a(c);for(const p in n)n[p].protectedKeys={};return d}return{animateChanges:a,setActive:o,setAnimateFunction:i,getState:()=>n,reset:()=>{n=QC()}}}function yH(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!L8(e,t):!1}function Ad(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function QC(){return{animate:Ad(!0),whileInView:Ad(),whileHover:Ad(),whileTap:Ad(),whileDrag:Ad(),whileFocus:Ad(),exit:Ad()}}class nd{constructor(e){this.isMounted=!1,this.node=e}update(){}}class vH extends nd{constructor(e){super(e),e.animationState||(e.animationState=xH(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();G2(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let _H=0;class bH extends nd{constructor(){super(...arguments),this.id=_H++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const wH={animation:{Feature:vH},exit:{Feature:bH}};function Lg(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function h1(t){return{point:{x:t.pageX,y:t.pageY}}}const TH=t=>e=>GT(e)&&t(e,h1(e));function ng(t,e,n,r){return Lg(t,e,TH(n),r)}const O8=1e-4,EH=1-O8,SH=1+O8,B8=.01,AH=0-B8,CH=0+B8;function Ha(t){return t.max-t.min}function NH(t,e,n){return Math.abs(t-e)<=n}function ZC(t,e,n,r=.5){t.origin=r,t.originPoint=ks(e.min,e.max,t.origin),t.scale=Ha(n)/Ha(e),t.translate=ks(n.min,n.max,t.origin)-t.originPoint,(t.scale>=EH&&t.scale<=SH||isNaN(t.scale))&&(t.scale=1),(t.translate>=AH&&t.translate<=CH||isNaN(t.translate))&&(t.translate=0)}function rg(t,e,n,r){ZC(t.x,e.x,n.x,r?r.originX:void 0),ZC(t.y,e.y,n.y,r?r.originY:void 0)}function eN(t,e,n){t.min=n.min+e.min,t.max=t.min+Ha(e)}function IH(t,e,n){eN(t.x,e.x,n.x),eN(t.y,e.y,n.y)}function tN(t,e,n){t.min=e.min-n.min,t.max=t.min+Ha(e)}function Yy(t,e,n){tN(t.x,e.x,n.x),tN(t.y,e.y,n.y)}function ll(t){return[t("x"),t("y")]}const V8=({current:t})=>t?t.ownerDocument.defaultView:null,nN=(t,e)=>Math.abs(t-e);function kH(t,e){const n=nN(t.x,e.x),r=nN(t.y,e.y);return Math.sqrt(n**2+r**2)}class U8{constructor(e,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:a=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=ib(this.lastMoveEventInfo,this.history),y=this.startEvent!==null,E=kH(g.offset,{x:0,y:0})>=this.distanceThreshold;if(!y&&!E)return;const{point:b}=g,{timestamp:A}=Ui;this.history.push({...b,timestamp:A});const{onStart:N,onMove:V}=this.handlers;y||(N&&N(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),V&&V(this.lastMoveEvent,g)},this.handlePointerMove=(g,y)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=sb(y,this.transformPagePoint),Jr.update(this.updatePoint,!0)},this.handlePointerUp=(g,y)=>{this.end();const{onEnd:E,onSessionEnd:b,resumeAnimation:A}=this.handlers;if(this.dragSnapToOrigin&&A&&A(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const N=ib(g.type==="pointercancel"?this.lastMoveEventInfo:sb(y,this.transformPagePoint),this.history);this.startEvent&&E&&E(g,N),b&&b(g,N)},!GT(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=a,this.contextWindow=s||window;const o=h1(e),c=sb(o,this.transformPagePoint),{point:f}=c,{timestamp:d}=Ui;this.history=[{...f,timestamp:d}];const{onSessionStart:p}=n;p&&p(e,ib(c,this.history)),this.removeListeners=u1(ng(this.contextWindow,"pointermove",this.handlePointerMove),ng(this.contextWindow,"pointerup",this.handlePointerUp),ng(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Bc(this.updatePoint)}}function sb(t,e){return e?{point:e(t.point)}:t}function rN(t,e){return{x:t.x-e.x,y:t.y-e.y}}function ib({point:t},e){return{point:t,delta:rN(t,j8(e)),offset:rN(t,RH(e)),velocity:PH(e,.1)}}function RH(t){return t[0]}function j8(t){return t[t.length-1]}function PH(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=j8(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>kc(e)));)n--;if(!r)return{x:0,y:0};const i=dl(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const a={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function DH(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?ks(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?ks(n,t,r.max):Math.min(t,n)),t}function sN(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function MH(t,{top:e,left:n,bottom:r,right:s}){return{x:sN(t.x,n,s),y:sN(t.y,e,r)}}function iN(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function LH(t,e){return{x:iN(t.x,e.x),y:iN(t.y,e.y)}}function FH(t,e){let n=.5;const r=Ha(t),s=Ha(e);return s>r?n=up(e.min,e.max-r,t.min):r>s&&(n=up(t.min,t.max-s,e.min)),Oc(0,1,n)}function OH(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Jw=.35;function BH(t=Jw){return t===!1?t=0:t===!0&&(t=Jw),{x:aN(t,"left","right"),y:aN(t,"top","bottom")}}function aN(t,e,n){return{min:oN(t,e),max:oN(t,n)}}function oN(t,e){return typeof t=="number"?t:t[e]||0}const VH=new WeakMap;class UH{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ti(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=p=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(h1(p).point)},a=(p,g)=>{const{drag:y,dragPropagation:E,onDragStart:b}=this.getProps();if(y&&!E&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Oj(y),!this.openDragLock))return;this.latestPointerEvent=p,this.latestPanInfo=g,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ll(N=>{let V=this.getAxisMotionValue(N).get()||0;if(Rc.test(V)){const{projection:k}=this.visualElement;if(k&&k.layout){const B=k.layout.layoutBox[N];B&&(V=Ha(B)*(parseFloat(V)/100))}}this.originPoint[N]=V}),b&&Jr.postRender(()=>b(p,g)),Yw(this.visualElement,"transform");const{animationState:A}=this.visualElement;A&&A.setActive("whileDrag",!0)},o=(p,g)=>{this.latestPointerEvent=p,this.latestPanInfo=g;const{dragPropagation:y,dragDirectionLock:E,onDirectionLock:b,onDrag:A}=this.getProps();if(!y&&!this.openDragLock)return;const{offset:N}=g;if(E&&this.currentDirection===null){this.currentDirection=jH(N),this.currentDirection!==null&&b&&b(this.currentDirection);return}this.updateAxis("x",g.point,N),this.updateAxis("y",g.point,N),this.visualElement.render(),A&&A(p,g)},c=(p,g)=>{this.latestPointerEvent=p,this.latestPanInfo=g,this.stop(p,g),this.latestPointerEvent=null,this.latestPanInfo=null},f=()=>ll(p=>this.getAnimationState(p)==="paused"&&this.getAxisMotionValue(p).animation?.play()),{dragSnapToOrigin:d}=this.getProps();this.panSession=new U8(e,{onSessionStart:i,onStart:a,onMove:o,onSessionEnd:c,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:r,contextWindow:V8(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,s=n||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!r)return;const{velocity:a}=s;this.startAnimation(a);const{onDragEnd:o}=this.getProps();o&&Jr.postRender(()=>o(r,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!Dx(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=DH(a,this.constraints[e],this.elastic[e])),i.set(a)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,s=this.constraints;e&&L0(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=MH(r.layoutBox,e):this.constraints=!1,this.elastic=BH(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&ll(i=>{this.constraints!==!1&&this.getAxisMotionValue(i)&&(this.constraints[i]=OH(r.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!L0(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=qq(r,s.root,this.visualElement.getTransformPagePoint());let a=LH(s.layout.layoutBox,i);if(n){const o=n(Vq(a));this.hasMutatedConstraints=!!o,o&&(a=E8(o))}return a}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),c=this.constraints||{},f=ll(d=>{if(!Dx(d,n,this.currentDirection))return;let p=c&&c[d]||{};a&&(p={min:0,max:0});const g=s?200:1e6,y=s?40:1e7,E={type:"inertia",velocity:r?e[d]:0,bounceStiffness:g,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...i,...p};return this.startAxisValueAnimation(d,E)});return Promise.all(f).then(o)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Yw(this.visualElement,e),r.start(nE(e,r,0,n,this.visualElement,!1))}stopAnimation(){ll(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ll(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){ll(n=>{const{drag:r}=this.getProps();if(!Dx(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:a,max:o}=s.layout.layoutBox[n];i.set(e[n]-ks(a,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!L0(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};ll(a=>{const o=this.getAxisMotionValue(a);if(o&&this.constraints!==!1){const c=o.get();s[a]=FH({min:c,max:c},this.constraints[a])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),ll(a=>{if(!Dx(a,e,null))return;const o=this.getAxisMotionValue(a),{min:c,max:f}=this.constraints[a];o.set(ks(c,f,s[a]))})}addListeners(){if(!this.visualElement.current)return;VH.set(this.visualElement,this);const e=this.visualElement.current,n=ng(e,"pointerdown",c=>{const{drag:f,dragListener:d=!0}=this.getProps();f&&d&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();L0(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Jr.read(r);const a=Lg(window,"resize",()=>this.scalePositionWithinConstraints()),o=s.addEventListener("didUpdate",(({delta:c,hasLayoutChanged:f})=>{this.isDragging&&f&&(ll(d=>{const p=this.getAxisMotionValue(d);p&&(this.originPoint[d]+=c[d].translate,p.set(p.get()+c[d].translate))}),this.visualElement.render())}));return()=>{a(),n(),i(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:a=Jw,dragMomentum:o=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:a,dragMomentum:o}}}function Dx(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function jH(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class qH extends nd{constructor(e){super(e),this.removeGroupControls=vo,this.removeListeners=vo,this.controls=new UH(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||vo}unmount(){this.removeGroupControls(),this.removeListeners()}}const lN=t=>(e,n)=>{t&&Jr.postRender(()=>t(e,n))};class HH extends nd{constructor(){super(...arguments),this.removePointerDownListener=vo}onPointerDown(e){this.session=new U8(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:V8(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:lN(e),onStart:lN(n),onMove:r,onEnd:(i,a)=>{delete this.session,s&&Jr.postRender(()=>s(i,a))}}}mount(){this.removePointerDownListener=ng(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const xy={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function cN(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Rm={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(kn.test(t))t=parseFloat(t);else return t;const n=cN(t,e.target.x),r=cN(t,e.target.y);return`${n}% ${r}%`}},zH={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=$f.parse(t);if(s.length>5)return r;const i=$f.createTransformer(t),a=typeof s[0]!="number"?1:0,o=n.x.scale*e.x,c=n.y.scale*e.y;s[0+a]/=o,s[1+a]/=c;const f=ks(o,c,.5);return typeof s[2+a]=="number"&&(s[2+a]/=f),typeof s[3+a]=="number"&&(s[3+a]/=f),i(s)}};let ab=!1;class GH extends ke.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;hq(WH),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),ab&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),xy.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,{projection:a}=r;return a&&(a.isPresent=i,ab=!0,s||e.layoutDependency!==n||n===void 0||e.isPresent!==i?a.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?a.promote():a.relegate()||Jr.postRender(()=>{const o=a.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),zT.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;ab=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function q8(t){const[e,n]=u8(),r=ke.useContext(bT);return m.jsx(GH,{...t,layoutGroup:r,switchLayoutGroup:ke.useContext(w8),isPresent:e,safeToRemove:n})}const WH={borderRadius:{...Rm,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Rm,borderTopRightRadius:Rm,borderBottomLeftRadius:Rm,borderBottomRightRadius:Rm,boxShadow:zH};function $H(t,e,n){const r=Sa(t)?t:Ac(t);return r.start(nE("",r,e,n)),r.animation}const KH=(t,e)=>t.depth-e.depth;class YH{constructor(){this.children=[],this.isDirty=!1}add(e){ET(this.children,e),this.isDirty=!0}remove(e){ST(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(KH),this.isDirty=!1,this.children.forEach(e)}}function XH(t,e){const n=xo.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(Bc(r),t(i-e))};return Jr.setup(r,!0),()=>Bc(r)}const H8=["TopLeft","TopRight","BottomLeft","BottomRight"],JH=H8.length,uN=t=>typeof t=="string"?parseFloat(t):t,fN=t=>typeof t=="number"||kn.test(t);function QH(t,e,n,r,s,i){s?(t.opacity=ks(0,n.opacity??1,ZH(r)),t.opacityExit=ks(e.opacity??1,0,ez(r))):i&&(t.opacity=ks(e.opacity??1,n.opacity??1,r));for(let a=0;a<JH;a++){const o=`border${H8[a]}Radius`;let c=dN(e,o),f=dN(n,o);if(c===void 0&&f===void 0)continue;c||(c=0),f||(f=0),c===0||f===0||fN(c)===fN(f)?(t[o]=Math.max(ks(uN(c),uN(f),r),0),(Rc.test(f)||Rc.test(c))&&(t[o]+="%")):t[o]=f}(e.rotate||n.rotate)&&(t.rotate=ks(e.rotate||0,n.rotate||0,r))}function dN(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const ZH=z8(0,.5,AD),ez=z8(.5,.95,vo);function z8(t,e,n){return r=>r<t?0:r>e?1:n(up(t,e,r))}function hN(t,e){t.min=e.min,t.max=e.max}function Vl(t,e){hN(t.x,e.x),hN(t.y,e.y)}function pN(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function mN(t,e,n,r,s){return t-=e,t=Ky(t,1/n,r),s!==void 0&&(t=Ky(t,1/s,r)),t}function tz(t,e=0,n=1,r=.5,s,i=t,a=t){if(Rc.test(e)&&(e=parseFloat(e),e=ks(a.min,a.max,e/100)-a.min),typeof e!="number")return;let o=ks(i.min,i.max,r);t===i&&(o-=e),t.min=mN(t.min,e,n,o,s),t.max=mN(t.max,e,n,o,s)}function gN(t,e,[n,r,s],i,a){tz(t,e[n],e[r],e[s],e.scale,i,a)}const nz=["x","scaleX","originX"],rz=["y","scaleY","originY"];function xN(t,e,n,r){gN(t.x,e,nz,n?n.x:void 0,r?r.x:void 0),gN(t.y,e,rz,n?n.y:void 0,r?r.y:void 0)}function yN(t){return t.translate===0&&t.scale===1}function G8(t){return yN(t.x)&&yN(t.y)}function vN(t,e){return t.min===e.min&&t.max===e.max}function sz(t,e){return vN(t.x,e.x)&&vN(t.y,e.y)}function _N(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function W8(t,e){return _N(t.x,e.x)&&_N(t.y,e.y)}function bN(t){return Ha(t.x)/Ha(t.y)}function wN(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class iz{constructor(){this.members=[]}add(e){ET(this.members,e),e.scheduleRender()}remove(e){if(ST(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function az(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y,a=n?.z||0;if((s||i||a)&&(r=`translate3d(${s}px, ${i}px, ${a}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:f,rotate:d,rotateX:p,rotateY:g,skewX:y,skewY:E}=n;f&&(r=`perspective(${f}px) ${r}`),d&&(r+=`rotate(${d}deg) `),p&&(r+=`rotateX(${p}deg) `),g&&(r+=`rotateY(${g}deg) `),y&&(r+=`skewX(${y}deg) `),E&&(r+=`skewY(${E}deg) `)}const o=t.x.scale*e.x,c=t.y.scale*e.y;return(o!==1||c!==1)&&(r+=`scale(${o}, ${c})`),r||"none"}const ob=["","X","Y","Z"],oz=1e3;let lz=0;function lb(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function $8(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=P8(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Jr,!(s||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&$8(r)}function K8({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(a={},o=e?.()){this.id=lz++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(fz),this.nodes.forEach(mz),this.nodes.forEach(gz),this.nodes.forEach(dz)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new YH)}addEventListener(a,o){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new CT),this.eventHandlers.get(a).add(o)}notifyListeners(a,...o){const c=this.eventHandlers.get(a);c&&c.notify(...o)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=WT(a)&&!Qj(a),this.instance=a;const{layoutId:o,layout:c,visualElement:f}=this.options;if(f&&!f.current&&f.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||o)&&(this.isLayoutDirty=!0),t){let d,p=0;const g=()=>this.root.updateBlockedByResize=!1;Jr.read(()=>{p=window.innerWidth}),t(a,()=>{const y=window.innerWidth;y!==p&&(p=y,this.root.updateBlockedByResize=!0,d&&d(),d=XH(g,250),xy.hasAnimatedSinceResize&&(xy.hasAnimatedSinceResize=!1,this.nodes.forEach(SN)))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&f&&(o||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:p,hasRelativeLayoutChanged:g,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const E=this.options.transition||f.getDefaultTransition()||bz,{onLayoutAnimationStart:b,onLayoutAnimationComplete:A}=f.getProps(),N=!this.targetLayout||!W8(this.targetLayout,y),V=!p&&g;if(this.options.layoutRoot||this.resumeFrom||V||p&&(N||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const k={...jT(E,"layout"),onPlay:b,onComplete:A};(f.shouldReduceMotion||this.options.layoutRoot)&&(k.delay=0,k.type=!1),this.startAnimation(k),this.setAnimationOrigin(d,V)}else p||SN(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Bc(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(xz),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&$8(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const p=this.path[d];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:o,layout:c}=this.options;if(o===void 0&&!c)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(TN);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(EN);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(pz),this.nodes.forEach(cz),this.nodes.forEach(uz)):this.nodes.forEach(EN),this.clearAllSnapshots();const o=xo.now();Ui.delta=Oc(0,1e3/60,o-Ui.timestamp),Ui.timestamp=o,Ui.isProcessing=!0,X_.update.process(Ui),X_.preRender.process(Ui),X_.render.process(Ui),Ui.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,zT.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(hz),this.sharedNodes.forEach(yz)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Jr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Jr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Ha(this.snapshot.measuredBox.x)&&!Ha(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Ti(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(o=!1),o&&this.instance){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!s)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!G8(this.projectionDelta),c=this.getTransformTemplate(),f=c?c(this.latestValues,""):void 0,d=f!==this.prevTransformTemplateValue;a&&this.instance&&(o||Nd(this.latestValues)||d)&&(s(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const o=this.measurePageBox();let c=this.removeElementScroll(o);return a&&(c=this.removeTransform(c)),wz(c),{animationId:this.root.animationId,measuredBox:o,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:a}=this.options;if(!a)return Ti();const o=a.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(Tz))){const{scroll:f}=this.root;f&&(F0(o.x,f.offset.x),F0(o.y,f.offset.y))}return o}removeElementScroll(a){const o=Ti();if(Vl(o,a),this.scroll?.wasRoot)return o;for(let c=0;c<this.path.length;c++){const f=this.path[c],{scroll:d,options:p}=f;f!==this.root&&d&&p.layoutScroll&&(d.wasRoot&&Vl(o,a),F0(o.x,d.offset.x),F0(o.y,d.offset.y))}return o}applyTransform(a,o=!1){const c=Ti();Vl(c,a);for(let f=0;f<this.path.length;f++){const d=this.path[f];!o&&d.options.layoutScroll&&d.scroll&&d!==d.root&&O0(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Nd(d.latestValues)&&O0(c,d.latestValues)}return Nd(this.latestValues)&&O0(c,this.latestValues),c}removeTransform(a){const o=Ti();Vl(o,a);for(let c=0;c<this.path.length;c++){const f=this.path[c];if(!f.instance||!Nd(f.latestValues))continue;Gw(f.latestValues)&&f.updateSnapshot();const d=Ti(),p=f.measurePageBox();Vl(d,p),xN(o,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,d)}return Nd(this.latestValues)&&xN(o,this.latestValues),o}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ui.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==o;if(!(a||c&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:p}=this.options;if(!this.layout||!(d||p))return;this.resolvedRelativeTargetAt=Ui.timestamp;const g=this.getClosestProjectingParent();g&&this.linkedParentVersion!==g.layoutVersion&&!g.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(g&&g.layout?this.createRelativeTarget(g,this.layout.layoutBox,g.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ti(),this.targetWithTransforms=Ti()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),IH(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Vl(this.target,this.layout.layoutBox),A8(this.target,this.targetDelta)):Vl(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?this.createRelativeTarget(g,this.target,g.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Gw(this.parent.latestValues)||S8(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(a,o,c){this.relativeParent=a,this.linkedParentVersion=a.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ti(),this.relativeTargetOrigin=Ti(),Yy(this.relativeTargetOrigin,o,c),Vl(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const a=this.getLead(),o=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(c=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Ui.timestamp&&(c=!1),c)return;const{layout:f,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||d))return;Vl(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,g=this.treeScale.y;jq(this.layoutCorrected,this.treeScale,this.path,o),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Ti());const{target:y}=a;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(pN(this.prevProjectionDelta.x,this.projectionDelta.x),pN(this.prevProjectionDelta.y,this.projectionDelta.y)),rg(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==g||!wN(this.projectionDelta.x,this.prevProjectionDelta.x)||!wN(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){if(this.options.visualElement?.scheduleRender(),a){const o=this.getStack();o&&o.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=B0(),this.projectionDelta=B0(),this.projectionDeltaWithTransform=B0()}setAnimationOrigin(a,o=!1){const c=this.snapshot,f=c?c.latestValues:{},d={...this.latestValues},p=B0();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const g=Ti(),y=c?c.source:void 0,E=this.layout?this.layout.source:void 0,b=y!==E,A=this.getStack(),N=!A||A.members.length<=1,V=!!(b&&!N&&this.options.crossfade===!0&&!this.path.some(_z));this.animationProgress=0;let k;this.mixTargetDelta=B=>{const W=B/1e3;AN(p.x,a.x,W),AN(p.y,a.y,W),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Yy(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),vz(this.relativeTarget,this.relativeTargetOrigin,g,W),k&&sz(this.relativeTarget,k)&&(this.isProjectionDirty=!1),k||(k=Ti()),Vl(k,this.relativeTarget)),b&&(this.animationValues=d,QH(d,f,this.latestValues,W,V,N)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=W},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Bc(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Jr.update(()=>{xy.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Ac(0)),this.currentAnimation=$H(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:o=>{this.mixTargetDelta(o),a.onUpdate&&a.onUpdate(o)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(oz),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:o,target:c,layout:f,latestValues:d}=a;if(!(!o||!c||!f)){if(this!==a&&this.layout&&f&&Y8(this.options.animationType,this.layout.layoutBox,f.layoutBox)){c=this.target||Ti();const p=Ha(this.layout.layoutBox.x);c.x.min=a.target.x.min,c.x.max=c.x.min+p;const g=Ha(this.layout.layoutBox.y);c.y.min=a.target.y.min,c.y.max=c.y.min+g}Vl(o,c),O0(o,d),rg(this.projectionDeltaWithTransform,this.layoutCorrected,o,d)}}registerSharedNode(a,o){this.sharedNodes.has(a)||this.sharedNodes.set(a,new iz),this.sharedNodes.get(a).add(o);const f=o.options.initialPromotionConfig;o.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(o):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){const{layoutId:a}=this.options;return a?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:a}=this.options;return a?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:o,preserveFollowOpacity:c}={}){const f=this.getStack();f&&f.promote(this,c),a&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let o=!1;const{latestValues:c}=a;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(o=!0),!o)return;const f={};c.z&&lb("z",a,f,this.animationValues);for(let d=0;d<ob.length;d++)lb(`rotate${ob[d]}`,a,f,this.animationValues),lb(`skew${ob[d]}`,a,f,this.animationValues);a.render();for(const d in f)a.setStaticValue(d,f[d]),this.animationValues&&(this.animationValues[d]=f[d]);a.scheduleRender()}applyProjectionStyles(a,o){if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=gy(o?.pointerEvents)||"",a.transform=c?c(this.latestValues,""):"none";return}const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){this.options.layoutId&&(a.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,a.pointerEvents=gy(o?.pointerEvents)||""),this.hasProjected&&!Nd(this.latestValues)&&(a.transform=c?c({},""):"none",this.hasProjected=!1);return}a.visibility="";const d=f.animationValues||f.latestValues;this.applyTransformsToTarget();let p=az(this.projectionDeltaWithTransform,this.treeScale,d);c&&(p=c(d,p)),a.transform=p;const{x:g,y}=this.projectionDelta;a.transformOrigin=`${g.origin*100}% ${y.origin*100}% 0`,f.animationValues?a.opacity=f===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:a.opacity=f===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const E in Mg){if(d[E]===void 0)continue;const{correct:b,applyTo:A,isCSSVariable:N}=Mg[E],V=p==="none"?d[E]:b(d[E],f);if(A){const k=A.length;for(let B=0;B<k;B++)a[A[B]]=V}else N?this.options.visualElement.renderState.vars[E]=V:a[E]=V}this.options.layoutId&&(a.pointerEvents=f===this?gy(o?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>a.currentAnimation?.stop()),this.root.nodes.forEach(TN),this.root.sharedNodes.clear()}}}function cz(t){t.updateLayout()}function uz(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=t.layout,{animationType:s}=t.options,i=e.source!==t.layout.source;s==="size"?ll(d=>{const p=i?e.measuredBox[d]:e.layoutBox[d],g=Ha(p);p.min=n[d].min,p.max=p.min+g}):Y8(s,e.layoutBox,n)&&ll(d=>{const p=i?e.measuredBox[d]:e.layoutBox[d],g=Ha(n[d]);p.max=p.min+g,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+g)});const a=B0();rg(a,n,e.layoutBox);const o=B0();i?rg(o,t.applyTransform(r,!0),e.measuredBox):rg(o,n,e.layoutBox);const c=!G8(a);let f=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:p,layout:g}=d;if(p&&g){const y=Ti();Yy(y,e.layoutBox,p.layoutBox);const E=Ti();Yy(E,n,g.layoutBox),W8(y,E)||(f=!0),d.options.layoutRoot&&(t.relativeTarget=E,t.relativeTargetOrigin=y,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:o,layoutDelta:a,hasLayoutChanged:c,hasRelativeLayoutChanged:f})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function fz(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function dz(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function hz(t){t.clearSnapshot()}function TN(t){t.clearMeasurements()}function EN(t){t.isLayoutDirty=!1}function pz(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function SN(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function mz(t){t.resolveTargetDelta()}function gz(t){t.calcProjection()}function xz(t){t.resetSkewAndRotation()}function yz(t){t.removeLeadSnapshot()}function AN(t,e,n){t.translate=ks(e.translate,0,n),t.scale=ks(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function CN(t,e,n,r){t.min=ks(e.min,n.min,r),t.max=ks(e.max,n.max,r)}function vz(t,e,n,r){CN(t.x,e.x,n.x,r),CN(t.y,e.y,n.y,r)}function _z(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const bz={duration:.45,ease:[.4,0,.1,1]},NN=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),IN=NN("applewebkit/")&&!NN("chrome/")?Math.round:vo;function kN(t){t.min=IN(t.min),t.max=IN(t.max)}function wz(t){kN(t.x),kN(t.y)}function Y8(t,e,n){return t==="position"||t==="preserve-aspect"&&!NH(bN(e),bN(n),.2)}function Tz(t){return t!==t.root&&t.scroll?.wasRoot}const Ez=K8({attachResizeListener:(t,e)=>Lg(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),cb={current:void 0},X8=K8({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!cb.current){const t=new Ez({});t.mount(window),t.setOptions({layoutScroll:!0}),cb.current=t}return cb.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Sz={pan:{Feature:HH},drag:{Feature:qH,ProjectionNode:X8,MeasureLayout:q8}};function RN(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&Jr.postRender(()=>i(e,h1(e)))}class Az extends nd{mount(){const{current:e}=this.node;e&&(this.unmount=Bj(e,(n,r)=>(RN(this.node,r,"Start"),s=>RN(this.node,s,"End"))))}unmount(){}}class Cz extends nd{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=u1(Lg(this.node.current,"focus",()=>this.onFocus()),Lg(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function PN(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&Jr.postRender(()=>i(e,h1(e)))}class Nz extends nd{mount(){const{current:e}=this.node;e&&(this.unmount=qj(e,(n,r)=>(PN(this.node,r,"Start"),(s,{success:i})=>PN(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Qw=new WeakMap,ub=new WeakMap,Iz=t=>{const e=Qw.get(t.target);e&&e(t)},kz=t=>{t.forEach(Iz)};function Rz({root:t,...e}){const n=t||document;ub.has(n)||ub.set(n,{});const r=ub.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(kz,{root:t,...e})),r[s]}function Pz(t,e,n){const r=Rz(e);return Qw.set(t,n),r.observe(t),()=>{Qw.delete(t),r.unobserve(t)}}const Dz={some:0,all:1};class Mz extends nd{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:Dz[s]},o=c=>{const{isIntersecting:f}=c;if(this.isInView===f||(this.isInView=f,i&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:d,onViewportLeave:p}=this.node.getProps(),g=f?d:p;g&&g(c)};return Pz(this.node.current,a,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Lz(e,n))&&this.startObserver()}unmount(){}}function Lz({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Fz={inView:{Feature:Mz},tap:{Feature:Nz},focus:{Feature:Cz},hover:{Feature:Az}},Oz={layout:{ProjectionNode:X8,MeasureLayout:q8}},Bz={...wH,...Fz,...Sz,...Oz},Mn=Bq(Bz,Jq);function Vz(t,e,n){ke.useInsertionEffect(()=>t.on(e,n),[t,e,n])}const Uz=50,DN=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),jz=()=>({time:0,x:DN(),y:DN()}),qz={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function MN(t,e,n,r){const s=n[e],{length:i,position:a}=qz[e],o=s.current,c=n.time;s.current=t[`scroll${a}`],s.scrollLength=t[`scroll${i}`]-t[`client${i}`],s.offset.length=0,s.offset[0]=0,s.offset[1]=s.scrollLength,s.progress=up(0,s.scrollLength,s.current);const f=r-c;s.velocity=f>Uz?0:NT(s.current-o,f)}function Hz(t,e,n){MN(t,"x",e,n),MN(t,"y",e,n),e.time=n}function zz(t,e){const n={x:0,y:0};let r=t;for(;r&&r!==e;)if(HT(r))n.x+=r.offsetLeft,n.y+=r.offsetTop,r=r.offsetParent;else if(r.tagName==="svg"){const s=r.getBoundingClientRect();r=r.parentElement;const i=r.getBoundingClientRect();n.x+=s.left-i.left,n.y+=s.top-i.top}else if(r instanceof SVGGraphicsElement){const{x:s,y:i}=r.getBBox();n.x+=s,n.y+=i;let a=null,o=r.parentNode;for(;!a;)o.tagName==="svg"&&(a=o),o=r.parentNode;r=a}else break;return n}const Zw={start:0,center:.5,end:1};function LN(t,e,n=0){let r=0;if(t in Zw&&(t=Zw[t]),typeof t=="string"){const s=parseFloat(t);t.endsWith("px")?r=s:t.endsWith("%")?t=s/100:t.endsWith("vw")?r=s/100*document.documentElement.clientWidth:t.endsWith("vh")?r=s/100*document.documentElement.clientHeight:t=s}return typeof t=="number"&&(r=e*t),n+r}const Gz=[0,0];function Wz(t,e,n,r){let s=Array.isArray(t)?t:Gz,i=0,a=0;return typeof t=="number"?s=[t,t]:typeof t=="string"&&(t=t.trim(),t.includes(" ")?s=t.split(" "):s=[t,Zw[t]?t:"0"]),i=LN(s[0],n,r),a=LN(s[1],e),i-a}const $z={All:[[0,0],[1,1]]},Kz={x:0,y:0};function Yz(t){return"getBBox"in t&&t.tagName!=="svg"?t.getBBox():{width:t.clientWidth,height:t.clientHeight}}function Xz(t,e,n){const{offset:r=$z.All}=n,{target:s=t,axis:i="y"}=n,a=i==="y"?"height":"width",o=s!==t?zz(s,t):Kz,c=s===t?{width:t.scrollWidth,height:t.scrollHeight}:Yz(s),f={width:t.clientWidth,height:t.clientHeight};e[i].offset.length=0;let d=!e[i].interpolate;const p=r.length;for(let g=0;g<p;g++){const y=Wz(r[g],f[a],c[a],o[i]);!d&&y!==e[i].interpolatorOffsets[g]&&(d=!0),e[i].offset[g]=y}d&&(e[i].interpolate=jD(e[i].offset,qD(r),{clamp:!1}),e[i].interpolatorOffsets=[...e[i].offset]),e[i].progress=Oc(0,1,e[i].interpolate(e[i].current))}function Jz(t,e=t,n){if(n.x.targetOffset=0,n.y.targetOffset=0,e!==t){let r=e;for(;r&&r!==t;)n.x.targetOffset+=r.offsetLeft,n.y.targetOffset+=r.offsetTop,r=r.offsetParent}n.x.targetLength=e===t?e.scrollWidth:e.clientWidth,n.y.targetLength=e===t?e.scrollHeight:e.clientHeight,n.x.containerLength=t.clientWidth,n.y.containerLength=t.clientHeight}function Qz(t,e,n,r={}){return{measure:s=>{Jz(t,r.target,n),Hz(t,n,s),(r.offset||r.target)&&Xz(t,n,r)},notify:()=>e(n)}}const Pm=new WeakMap,FN=new WeakMap,fb=new WeakMap,ON=t=>t===document.scrollingElement?window:t;function J8(t,{container:e=document.scrollingElement,...n}={}){if(!e)return vo;let r=fb.get(e);r||(r=new Set,fb.set(e,r));const s=jz(),i=Qz(e,t,s,n);if(r.add(i),!Pm.has(e)){const o=()=>{for(const p of r)p.measure(Ui.timestamp);Jr.preUpdate(c)},c=()=>{for(const p of r)p.notify()},f=()=>Jr.read(o);Pm.set(e,f);const d=ON(e);window.addEventListener("resize",f,{passive:!0}),e!==document.documentElement&&FN.set(e,Jj(e,f)),d.addEventListener("scroll",f,{passive:!0}),f()}const a=Pm.get(e);return Jr.read(a,!1,!0),()=>{Bc(a);const o=fb.get(e);if(!o||(o.delete(i),o.size))return;const c=Pm.get(e);Pm.delete(e),c&&(ON(e).removeEventListener("scroll",c),FN.get(e)?.(),window.removeEventListener("resize",c))}}const BN=new Map;function Zz(t){const e={value:0},n=J8(r=>{e.value=r[t.axis].progress*100},t);return{currentTime:e,cancel:n}}function Q8({source:t,container:e,...n}){const{axis:r}=n;t&&(e=t);const s=BN.get(e)??new Map;BN.set(e,s);const i=n.target??"self",a=s.get(i)??{},o=r+(n.offset??[]).join(",");return a[o]||(a[o]=!n.target&&WD()?new ScrollTimeline({source:e,axis:r}):Zz({container:e,...n})),a[o]}function eG(t,e){const n=Q8(e);return t.attachTimeline({timeline:e.target?void 0:n,observe:r=>(r.pause(),c8(s=>{r.time=r.iterationDuration*s},n))})}function tG(t){return t.length===2}function nG(t,e){return tG(t)?J8(n=>{t(n[e.axis].progress,n)},e):c8(t,Q8(e))}function rG(t,{axis:e="y",container:n=document.scrollingElement,...r}={}){if(!n)return vo;const s={axis:e,container:n,...r};return typeof t=="function"?nG(t,s):eG(t,s)}const sG=()=>({scrollX:Ac(0),scrollY:Ac(0),scrollXProgress:Ac(0),scrollYProgress:Ac(0)}),Mx=t=>t?!t.current:!1;function iG({container:t,target:e,...n}={}){const r=q2(sG),s=ke.useRef(null),i=ke.useRef(!1),a=ke.useCallback(()=>(s.current=rG((o,{x:c,y:f})=>{r.scrollX.set(c.current),r.scrollXProgress.set(c.progress),r.scrollY.set(f.current),r.scrollYProgress.set(f.progress)},{...n,container:t?.current||void 0,target:e?.current||void 0}),()=>{s.current?.()}),[t,e,JSON.stringify(n.offset)]);return TT(()=>{if(i.current=!1,Mx(t)||Mx(e)){i.current=!0;return}else return a()},[a]),ke.useEffect(()=>{if(i.current)return kg(!Mx(t)),kg(!Mx(e)),a()},[a]),r}var rn=(t=>(t.DASHBOARD="DASHBOARD",t.INVOICES="INVOICES",t.ALL_INVOICES="ALL_INVOICES",t.CREATE_INVOICE="CREATE_INVOICE",t.EDIT_INVOICE="EDIT_INVOICE",t.INVENTORY="INVENTORY",t.CUSTOMERS="CUSTOMERS",t.VIEW_INVOICE="VIEW_INVOICE",t.CUSTOMER_LEDGER="CUSTOMER_LEDGER",t.SETTINGS="SETTINGS",t.DAYBOOK="DAYBOOK",t.IMPORT="IMPORT",t.EXPENSES="EXPENSES",t.REPORTS="REPORTS",t.PAYMENTS="PAYMENTS",t))(rn||{});const V0={name:"ABC Trading Company",address:"123, Market Road, Delhi - 110001",phone:"9876543210",email:"info@abctrading.com",state:"Delhi",gst_enabled:!0};const aG=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),oG=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),VN=t=>{const e=oG(t);return e.charAt(0).toUpperCase()+e.slice(1)},Z8=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),lG=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var cG={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const uG=ke.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:a,...o},c)=>ke.createElement("svg",{ref:c,...cG,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:Z8("lucide",s),...!i&&!lG(o)&&{"aria-hidden":"true"},...o},[...a.map(([f,d])=>ke.createElement(f,d)),...Array.isArray(i)?i:[i]]));const an=(t,e)=>{const n=ke.forwardRef(({className:r,...s},i)=>ke.createElement(uG,{ref:i,iconNode:e,className:Z8(`lucide-${aG(VN(t))}`,`lucide-${t}`,r),...s}));return n.displayName=VN(t),n};const fG=[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]],Qd=an("arrow-down-left",fG);const dG=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Ru=an("arrow-left",dG);const hG=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],pG=an("arrow-right",hG);const mG=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],gG=an("arrow-up-right",mG);const xG=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],e5=an("banknote",xG);const yG=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],vG=an("bell",yG);const _G=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],bG=an("briefcase",_G);const wG=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],eM=an("building-2",wG);const TG=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],t5=an("calculator",TG);const EG=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],rE=an("calendar",EG);const SG=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Lx=an("check",SG);const AG=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],p1=an("circle-alert",AG);const CG=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],n5=an("circle-check-big",CG);const NG=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],IG=an("circle-plus",NG);const kG=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],RG=an("circle-x",kG);const PG=[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5.782 5.782A7 7 0 0 0 9 19h8.5a4.5 4.5 0 0 0 1.307-.193",key:"yfwify"}],["path",{d:"M21.532 16.5A4.5 4.5 0 0 0 17.5 10h-1.79A7.008 7.008 0 0 0 10 5.07",key:"jlfiyv"}]],DG=an("cloud-off",PG);const MG=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],tM=an("cloud",MG);const LG=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],FG=an("copy",LG);const OG=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],BG=an("credit-card",OG);const VG=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],UG=an("database",VG);const jG=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],qG=an("dollar-sign",jG);const HG=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Dp=an("download",HG);const zG=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],nM=an("ellipsis-vertical",zG);const GG=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],rM=an("external-link",GG);const WG=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],$G=an("eye",WG);const KG=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Eu=an("file-text",KG);const YG=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],XG=an("funnel",YG);const JG=[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]],r5=an("indian-rupee",JG);const QG=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],sM=an("layout-dashboard",QG);const ZG=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],iM=an("loader-circle",ZG);const eW=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],aM=an("log-out",eW);const tW=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],nW=an("lock",tW);const rW=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Xy=an("mail",rW);const sW=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],oM=an("map-pin",sW);const iW=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],s5=an("menu",iW);const aW=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],sg=an("message-circle",aW);const oW=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],lM=an("moon",oW);const lW=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],ig=an("package",lW);const cW=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],i5=an("pen",cW);const uW=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],yy=an("phone",uW);const fW=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],dW=an("play",fW);const hW=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Kf=an("plus",hW);const pW=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],db=an("printer",pW);const mW=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],sE=an("receipt",mW);const gW=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Jy=an("save",gW);const xW=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],iE=an("search",xW);const yW=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],vW=an("send",yW);const _W=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],cM=an("settings",_W);const bW=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],wW=an("shield-alert",bW);const TW=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],uM=an("square-pen",TW);const EW=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],fM=an("sun",EW);const SW=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],AW=an("tag",SW);const CW=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],gh=an("trash-2",CW);const NW=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],IW=an("trending-down",NW);const kW=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],$0=an("trending-up",kW);const RW=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],dM=an("triangle-alert",RW);const PW=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],$2=an("upload",PW);const DW=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],hM=an("user-plus",DW);const MW=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],aE=an("users",MW);const LW=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],FW=an("wallet",LW);const OW=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],hb=an("wand-sparkles",OW);const BW=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],VW=an("wifi-off",BW);const UW=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],jW=an("wifi",UW);const qW=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Su=an("x",qW),HW=()=>{};var UN={};const pM=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},zW=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],a=t[n++],o=t[n++],c=((s&7)<<18|(i&63)<<12|(a&63)<<6|o&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],a=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|a&63)}}return e.join("")},mM={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],a=s+1<t.length,o=a?t[s+1]:0,c=s+2<t.length,f=c?t[s+2]:0,d=i>>2,p=(i&3)<<4|o>>4;let g=(o&15)<<2|f>>6,y=f&63;c||(y=64,a||(g=64)),r.push(n[d],n[p],n[g],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(pM(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):zW(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],o=s<t.length?n[t.charAt(s)]:0;++s;const f=s<t.length?n[t.charAt(s)]:64;++s;const p=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||o==null||f==null||p==null)throw new GW;const g=i<<2|o>>4;if(r.push(g),f!==64){const y=o<<4&240|f>>2;if(r.push(y),p!==64){const E=f<<6&192|p;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class GW extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const WW=function(t){const e=pM(t);return mM.encodeByteArray(e,!0)},Qy=function(t){return WW(t).replace(/\./g,"")},gM=function(t){try{return mM.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function xM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const $W=()=>xM().__FIREBASE_DEFAULTS__,KW=()=>{if(typeof process>"u"||typeof UN>"u")return;const t=UN.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},YW=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&gM(t[1]);return e&&JSON.parse(e)},K2=()=>{try{return HW()||$W()||KW()||YW()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},yM=t=>K2()?.emulatorHosts?.[t],XW=t=>{const e=yM(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},vM=()=>K2()?.config,_M=t=>K2()?.[`_${t}`];class JW{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function Mp(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function bM(t){return(await fetch(t,{credentials:"include"})).ok}function QW(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Qy(JSON.stringify(n)),Qy(JSON.stringify(a)),""].join(".")}const ag={};function ZW(){const t={prod:[],emulator:[]};for(const e of Object.keys(ag))ag[e]?t.emulator.push(e):t.prod.push(e);return t}function e$(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let jN=!1;function wM(t,e){if(typeof window>"u"||typeof document>"u"||!Mp(window.location.host)||ag[t]===e||ag[t]||jN)return;ag[t]=e;function n(g){return`__firebase__banner__${g}`}const r="__firebase__banner",i=ZW().prod.length>0;function a(){const g=document.getElementById(r);g&&g.remove()}function o(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function c(g,y){g.setAttribute("width","24"),g.setAttribute("id",y),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function f(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{jN=!0,a()},g}function d(g,y){g.setAttribute("id",y),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function p(){const g=e$(r),y=n("text"),E=document.getElementById(y)||document.createElement("span"),b=n("learnmore"),A=document.getElementById(b)||document.createElement("a"),N=n("preprendIcon"),V=document.getElementById(N)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const k=g.element;o(k),d(A,b);const B=f();c(V,N),k.append(V,E,A,B),document.body.appendChild(k)}i?(E.innerText="Preview backend disconnected.",V.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(V.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function Ni(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function t$(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ni())}function TM(){const t=K2()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function n$(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function r$(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function s$(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function i$(){const t=Ni();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function EM(){return!TM()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function SM(){return!TM()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function AM(){try{return typeof indexedDB=="object"}catch{return!1}}function a$(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{e(s.error?.message||"")}}catch(n){e(n)}})}const o$="FirebaseError";class Bu extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=o$,Object.setPrototypeOf(this,Bu.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,m1.prototype.create)}}class m1{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],a=i?l$(i,r):"Error",o=`${this.serviceName}: ${a} (${s}).`;return new Bu(s,o,r)}}function l$(t,e){return t.replace(c$,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const c$=/\{\$([^}]+)}/g;function u$(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Zd(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],a=e[s];if(qN(i)&&qN(a)){if(!Zd(i,a))return!1}else if(i!==a)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function qN(t){return t!==null&&typeof t=="object"}function g1(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Hm(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function zm(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function f$(t,e){const n=new d$(t,e);return n.subscribe.bind(n)}class d${constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");h$(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=pb),s.error===void 0&&(s.error=pb),s.complete===void 0&&(s.complete=pb);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function h$(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function pb(){}function Gi(t){return t&&t._delegate?t._delegate:t}class eh{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Id="[DEFAULT]";class p${constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new JW;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(g$(e))try{this.getOrInitializeService({instanceIdentifier:Id})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Id){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Id){return this.instances.has(e)}getOptions(e=Id){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);r===o&&a.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:m$(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Id){return this.component?this.component.multipleInstances?e:Id:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function m$(t){return t===Id?void 0:t}function g$(t){return t.instantiationMode==="EAGER"}class x${constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new p$(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var ur;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ur||(ur={}));const y$={debug:ur.DEBUG,verbose:ur.VERBOSE,info:ur.INFO,warn:ur.WARN,error:ur.ERROR,silent:ur.SILENT},v$=ur.INFO,_$={[ur.DEBUG]:"log",[ur.VERBOSE]:"log",[ur.INFO]:"info",[ur.WARN]:"warn",[ur.ERROR]:"error"},b$=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=_$[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class oE{constructor(e){this.name=e,this._logLevel=v$,this._logHandler=b$,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ur))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?y$[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ur.DEBUG,...e),this._logHandler(this,ur.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ur.VERBOSE,...e),this._logHandler(this,ur.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ur.INFO,...e),this._logHandler(this,ur.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ur.WARN,...e),this._logHandler(this,ur.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ur.ERROR,...e),this._logHandler(this,ur.ERROR,...e)}}const w$=(t,e)=>e.some(n=>t instanceof n);let HN,zN;function T$(){return HN||(HN=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function E$(){return zN||(zN=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const CM=new WeakMap,a5=new WeakMap,NM=new WeakMap,mb=new WeakMap,lE=new WeakMap;function S$(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",a)},i=()=>{n(Uf(t.result)),s()},a=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&CM.set(n,t)}).catch(()=>{}),lE.set(e,t),e}function A$(t){if(a5.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",a),t.removeEventListener("abort",a)},i=()=>{n(),s()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",a),t.addEventListener("abort",a)});a5.set(t,e)}let o5={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return a5.get(t);if(e==="objectStoreNames")return t.objectStoreNames||NM.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Uf(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function C$(t){o5=t(o5)}function N$(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(gb(this),e,...n);return NM.set(r,e.sort?e.sort():[e]),Uf(r)}:E$().includes(t)?function(...e){return t.apply(gb(this),e),Uf(CM.get(this))}:function(...e){return Uf(t.apply(gb(this),e))}}function I$(t){return typeof t=="function"?N$(t):(t instanceof IDBTransaction&&A$(t),w$(t,T$())?new Proxy(t,o5):t)}function Uf(t){if(t instanceof IDBRequest)return S$(t);if(mb.has(t))return mb.get(t);const e=I$(t);return e!==t&&(mb.set(t,e),lE.set(e,t)),e}const gb=t=>lE.get(t);function k$(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const a=indexedDB.open(t,e),o=Uf(a);return r&&a.addEventListener("upgradeneeded",c=>{r(Uf(a.result),c.oldVersion,c.newVersion,Uf(a.transaction),c)}),n&&a.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),o.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",f=>s(f.oldVersion,f.newVersion,f))}).catch(()=>{}),o}const R$=["get","getKey","getAll","getAllKeys","count"],P$=["put","add","delete","clear"],xb=new Map;function GN(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(xb.get(e))return xb.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=P$.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||R$.includes(n)))return;const i=async function(a,...o){const c=this.transaction(a,s?"readwrite":"readonly");let f=c.store;return r&&(f=f.index(o.shift())),(await Promise.all([f[n](...o),s&&c.done]))[0]};return xb.set(e,i),i}C$(t=>({...t,get:(e,n,r)=>GN(e,n)||t.get(e,n,r),has:(e,n)=>!!GN(e,n)||t.has(e,n)}));class D${constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(M$(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function M$(t){return t.getComponent()?.type==="VERSION"}const l5="@firebase/app",WN="0.14.6";const Pu=new oE("@firebase/app"),L$="@firebase/app-compat",F$="@firebase/analytics-compat",O$="@firebase/analytics",B$="@firebase/app-check-compat",V$="@firebase/app-check",U$="@firebase/auth",j$="@firebase/auth-compat",q$="@firebase/database",H$="@firebase/data-connect",z$="@firebase/database-compat",G$="@firebase/functions",W$="@firebase/functions-compat",$$="@firebase/installations",K$="@firebase/installations-compat",Y$="@firebase/messaging",X$="@firebase/messaging-compat",J$="@firebase/performance",Q$="@firebase/performance-compat",Z$="@firebase/remote-config",eK="@firebase/remote-config-compat",tK="@firebase/storage",nK="@firebase/storage-compat",rK="@firebase/firestore",sK="@firebase/ai",iK="@firebase/firestore-compat",aK="firebase",oK="12.6.0";const c5="[DEFAULT]",lK={[l5]:"fire-core",[L$]:"fire-core-compat",[O$]:"fire-analytics",[F$]:"fire-analytics-compat",[V$]:"fire-app-check",[B$]:"fire-app-check-compat",[U$]:"fire-auth",[j$]:"fire-auth-compat",[q$]:"fire-rtdb",[H$]:"fire-data-connect",[z$]:"fire-rtdb-compat",[G$]:"fire-fn",[W$]:"fire-fn-compat",[$$]:"fire-iid",[K$]:"fire-iid-compat",[Y$]:"fire-fcm",[X$]:"fire-fcm-compat",[J$]:"fire-perf",[Q$]:"fire-perf-compat",[Z$]:"fire-rc",[eK]:"fire-rc-compat",[tK]:"fire-gcs",[nK]:"fire-gcs-compat",[rK]:"fire-fst",[iK]:"fire-fst-compat",[sK]:"fire-vertex","fire-js":"fire-js",[aK]:"fire-js-all"};const Fg=new Map,cK=new Map,u5=new Map;function $N(t,e){try{t.container.addComponent(e)}catch(n){Pu.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function dp(t){const e=t.name;if(u5.has(e))return Pu.debug(`There were multiple attempts to register component ${e}.`),!1;u5.set(e,t);for(const n of Fg.values())$N(n,t);for(const n of cK.values())$N(n,t);return!0}function cE(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ul(t){return t==null?!1:t.settings!==void 0}const uK={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},jf=new m1("app","Firebase",uK);class fK{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new eh("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw jf.create("app-deleted",{appName:this._name})}}const Lp=oK;function IM(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:c5,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw jf.create("bad-app-name",{appName:String(s)});if(n||(n=vM()),!n)throw jf.create("no-options");const i=Fg.get(s);if(i){if(Zd(n,i.options)&&Zd(r,i.config))return i;throw jf.create("duplicate-app",{appName:s})}const a=new x$(s);for(const c of u5.values())a.addComponent(c);const o=new fK(n,r,a);return Fg.set(s,o),o}function uE(t=c5){const e=Fg.get(t);if(!e&&t===c5&&vM())return IM();if(!e)throw jf.create("no-app",{appName:t});return e}function dK(){return Array.from(Fg.values())}function qf(t,e,n){let r=lK[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const a=[`Unable to register library "${r}" with version "${e}":`];s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&a.push("and"),i&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Pu.warn(a.join(" "));return}dp(new eh(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const hK="firebase-heartbeat-database",pK=1,Og="firebase-heartbeat-store";let yb=null;function kM(){return yb||(yb=k$(hK,pK,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Og)}catch(n){console.warn(n)}}}}).catch(t=>{throw jf.create("idb-open",{originalErrorMessage:t.message})})),yb}async function mK(t){try{const n=(await kM()).transaction(Og),r=await n.objectStore(Og).get(RM(t));return await n.done,r}catch(e){if(e instanceof Bu)Pu.warn(e.message);else{const n=jf.create("idb-get",{originalErrorMessage:e?.message});Pu.warn(n.message)}}}async function KN(t,e){try{const r=(await kM()).transaction(Og,"readwrite");await r.objectStore(Og).put(e,RM(t)),await r.done}catch(n){if(n instanceof Bu)Pu.warn(n.message);else{const r=jf.create("idb-set",{originalErrorMessage:n?.message});Pu.warn(r.message)}}}function RM(t){return`${t.name}!${t.options.appId}`}const gK=1024,xK=30;class yK{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new _K(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=YN();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>xK){const s=bK(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Pu.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=YN(),{heartbeatsToSend:n,unsentEntries:r}=vK(this._heartbeatsCache.heartbeats),s=Qy(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return Pu.warn(e),""}}}function YN(){return new Date().toISOString().substring(0,10)}function vK(t,e=gK){const n=[];let r=t.slice();for(const s of t){const i=n.find(a=>a.agent===s.agent);if(i){if(i.dates.push(s.date),XN(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),XN(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class _K{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return AM()?a$().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await mK(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return KN(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return KN(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function XN(t){return Qy(JSON.stringify({version:2,heartbeats:t})).length}function bK(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function wK(t){dp(new eh("platform-logger",e=>new D$(e),"PRIVATE")),dp(new eh("heartbeat",e=>new yK(e),"PRIVATE")),qf(l5,WN,t),qf(l5,WN,"esm2020"),qf("fire-js","")}wK("");function PM(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const TK=PM,DM=new m1("auth","Firebase",PM());const Zy=new oE("@firebase/auth");function EK(t,...e){Zy.logLevel<=ur.WARN&&Zy.warn(`Auth (${Lp}): ${t}`,...e)}function vy(t,...e){Zy.logLevel<=ur.ERROR&&Zy.error(`Auth (${Lp}): ${t}`,...e)}function Xl(t,...e){throw fE(t,...e)}function Pc(t,...e){return fE(t,...e)}function MM(t,e,n){const r={...TK(),[e]:n};return new m1("auth","Firebase",r).create(e,{appName:t.name})}function Au(t){return MM(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function fE(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return DM.create(t,...e)}function Nn(t,e,...n){if(!t)throw fE(e,...n)}function _u(t){const e="INTERNAL ASSERTION FAILED: "+t;throw vy(e),new Error(e)}function Du(t,e){t||_u(e)}function f5(){return typeof self<"u"&&self.location?.href||""}function SK(){return JN()==="http:"||JN()==="https:"}function JN(){return typeof self<"u"&&self.location?.protocol||null}function AK(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(SK()||r$()||"connection"in navigator)?navigator.onLine:!0}function CK(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class x1{constructor(e,n){this.shortDelay=e,this.longDelay=n,Du(n>e,"Short delay should be less than long delay!"),this.isMobile=t$()||s$()}get(){return AK()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function dE(t,e){Du(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class LM{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;_u("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;_u("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;_u("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const NK={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const IK=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],kK=new x1(3e4,6e4);function rd(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function sd(t,e,n,r,s={}){return FM(t,s,async()=>{let i={},a={};r&&(e==="GET"?a=r:i={body:JSON.stringify(r)});const o=g1({key:t.config.apiKey,...a}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const f={method:e,headers:c,...i};return n$()||(f.referrerPolicy="no-referrer"),t.emulatorConfig&&Mp(t.emulatorConfig.host)&&(f.credentials="include"),LM.fetch()(await OM(t,t.config.apiHost,n,o),f)})}async function FM(t,e,n){t._canInitEmulator=!1;const r={...NK,...e};try{const s=new PK(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const a=await i.json();if("needConfirmation"in a)throw Fx(t,"account-exists-with-different-credential",a);if(i.ok&&!("errorMessage"in a))return a;{const o=i.ok?a.errorMessage:a.error.message,[c,f]=o.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Fx(t,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw Fx(t,"email-already-in-use",a);if(c==="USER_DISABLED")throw Fx(t,"user-disabled",a);const d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw MM(t,d,f);Xl(t,d)}}catch(s){if(s instanceof Bu)throw s;Xl(t,"network-request-failed",{message:String(s)})}}async function y1(t,e,n,r,s={}){const i=await sd(t,e,n,r,s);return"mfaPendingCredential"in i&&Xl(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function OM(t,e,n,r){const s=`${e}${n}?${r}`,i=t,a=i.config.emulator?dE(t.config,s):`${t.config.apiScheme}://${s}`;return IK.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(a).toString():a}function RK(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class PK{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Pc(this.auth,"network-request-failed")),kK.get())})}}function Fx(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Pc(t,e,r);return s.customData._tokenResponse=n,s}function QN(t){return t!==void 0&&t.enterprise!==void 0}class DK{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return RK(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function MK(t,e){return sd(t,"GET","/v2/recaptchaConfig",rd(t,e))}async function LK(t,e){return sd(t,"POST","/v1/accounts:delete",e)}async function e2(t,e){return sd(t,"POST","/v1/accounts:lookup",e)}function og(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function FK(t,e=!1){const n=Gi(t),r=await n.getIdToken(e),s=hE(r);Nn(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,a=i?.sign_in_provider;return{claims:s,token:r,authTime:og(vb(s.auth_time)),issuedAtTime:og(vb(s.iat)),expirationTime:og(vb(s.exp)),signInProvider:a||null,signInSecondFactor:i?.sign_in_second_factor||null}}function vb(t){return Number(t)*1e3}function hE(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return vy("JWT malformed, contained fewer than 3 sections"),null;try{const s=gM(n);return s?JSON.parse(s):(vy("Failed to decode base64 JWT payload"),null)}catch(s){return vy("Caught error parsing JWT payload as JSON",s?.toString()),null}}function ZN(t){const e=hE(t);return Nn(e,"internal-error"),Nn(typeof e.exp<"u","internal-error"),Nn(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Bg(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Bu&&OK(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function OK({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class BK{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class d5{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=og(this.lastLoginAt),this.creationTime=og(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function t2(t){const e=t.auth,n=await t.getIdToken(),r=await Bg(t,e2(e,{idToken:n}));Nn(r?.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=s.providerUserInfo?.length?BM(s.providerUserInfo):[],a=UK(t.providerData,i),o=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!a?.length,f=o?c:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new d5(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(t,d)}async function VK(t){const e=Gi(t);await t2(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function UK(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function BM(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function jK(t,e){const n=await FM(t,{},async()=>{const r=g1({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,a=await OM(t,s,"/v1/token",`key=${i}`),o=await t._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:o,body:r};return t.emulatorConfig&&Mp(t.emulatorConfig.host)&&(c.credentials="include"),LM.fetch()(a,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function qK(t,e){return sd(t,"POST","/v2/accounts:revokeToken",rd(t,e))}class K0{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Nn(e.idToken,"internal-error"),Nn(typeof e.idToken<"u","internal-error"),Nn(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ZN(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Nn(e.length!==0,"internal-error");const n=ZN(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Nn(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await jK(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,a=new K0;return r&&(Nn(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),s&&(Nn(typeof s=="string","internal-error",{appName:e}),a.accessToken=s),i&&(Nn(typeof i=="number","internal-error",{appName:e}),a.expirationTime=i),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new K0,this.toJSON())}_performRefresh(){return _u("not implemented")}}function _f(t,e){Nn(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Wl{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new BK(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new d5(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Bg(this,this.stsTokenManager.getToken(this.auth,e));return Nn(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return FK(this,e)}reload(){return VK(this)}_assign(e){this!==e&&(Nn(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Wl({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Nn(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await t2(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ul(this.auth.app))return Promise.reject(Au(this.auth));const e=await this.getIdToken();return await Bg(this,LK(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,a=n.photoURL??void 0,o=n.tenantId??void 0,c=n._redirectEventId??void 0,f=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:p,emailVerified:g,isAnonymous:y,providerData:E,stsTokenManager:b}=n;Nn(p&&b,e,"internal-error");const A=K0.fromJSON(this.name,b);Nn(typeof p=="string",e,"internal-error"),_f(r,e.name),_f(s,e.name),Nn(typeof g=="boolean",e,"internal-error"),Nn(typeof y=="boolean",e,"internal-error"),_f(i,e.name),_f(a,e.name),_f(o,e.name),_f(c,e.name),_f(f,e.name),_f(d,e.name);const N=new Wl({uid:p,auth:e,email:s,emailVerified:g,displayName:r,isAnonymous:y,photoURL:a,phoneNumber:i,tenantId:o,stsTokenManager:A,createdAt:f,lastLoginAt:d});return E&&Array.isArray(E)&&(N.providerData=E.map(V=>({...V}))),c&&(N._redirectEventId=c),N}static async _fromIdTokenResponse(e,n,r=!1){const s=new K0;s.updateFromServerResponse(n);const i=new Wl({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await t2(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Nn(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?BM(s.providerUserInfo):[],a=!(s.email&&s.passwordHash)&&!i?.length,o=new K0;o.updateFromIdToken(r);const c=new Wl({uid:s.localId,auth:e,stsTokenManager:o,isAnonymous:a}),f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new d5(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!i?.length};return Object.assign(c,f),c}}const eI=new Map;function bu(t){Du(t instanceof Function,"Expected a class definition");let e=eI.get(t);return e?(Du(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,eI.set(t,e),e)}class VM{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}VM.type="NONE";const tI=VM;function _y(t,e,n){return`firebase:${t}:${e}:${n}`}class Y0{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=_y(this.userKey,s.apiKey,i),this.fullPersistenceKey=_y("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await e2(this.auth,{idToken:e}).catch(()=>{});return n?Wl._fromGetAccountInfoResponse(this.auth,n,e):null}return Wl._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Y0(bu(tI),e,r);const s=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let i=s[0]||bu(tI);const a=_y(r,e.config.apiKey,e.name);let o=null;for(const f of n)try{const d=await f._get(a);if(d){let p;if(typeof d=="string"){const g=await e2(e,{idToken:d}).catch(()=>{});if(!g)break;p=await Wl._fromGetAccountInfoResponse(e,g,d)}else p=Wl._fromJSON(e,d);f!==i&&(o=p),i=f;break}}catch{}const c=s.filter(f=>f._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new Y0(i,e,r):(i=c[0],o&&await i._set(a,o.toJSON()),await Promise.all(n.map(async f=>{if(f!==i)try{await f._remove(a)}catch{}})),new Y0(i,e,r))}}function nI(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(HM(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(UM(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(GM(e))return"Blackberry";if(WM(e))return"Webos";if(jM(e))return"Safari";if((e.includes("chrome/")||qM(e))&&!e.includes("edge/"))return"Chrome";if(zM(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function UM(t=Ni()){return/firefox\//i.test(t)}function jM(t=Ni()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function qM(t=Ni()){return/crios\//i.test(t)}function HM(t=Ni()){return/iemobile/i.test(t)}function zM(t=Ni()){return/android/i.test(t)}function GM(t=Ni()){return/blackberry/i.test(t)}function WM(t=Ni()){return/webos/i.test(t)}function pE(t=Ni()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function HK(t=Ni()){return pE(t)&&!!window.navigator?.standalone}function zK(){return i$()&&document.documentMode===10}function $M(t=Ni()){return pE(t)||zM(t)||WM(t)||GM(t)||/windows phone/i.test(t)||HM(t)}function KM(t,e=[]){let n;switch(t){case"Browser":n=nI(Ni());break;case"Worker":n=`${nI(Ni())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Lp}/${r}`}class GK{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((a,o)=>{try{const c=e(i);a(c)}catch(c){o(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function WK(t,e={}){return sd(t,"GET","/v2/passwordPolicy",rd(t,e))}const $K=6;class KK{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??$K,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class YK{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new rI(this),this.idTokenSubscription=new rI(this),this.beforeStateQueue=new GK(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=DM,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=bu(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Y0.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await e2(this,{idToken:e}),r=await Wl._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ul(this.app)){const i=this.app.settings.authIdToken;return i?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(i).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const i=this.redirectUser?._redirectEventId,a=r?._redirectEventId,o=await this.tryRedirectSignIn(e);(!i||i===a)&&o?.user&&(r=o.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(i){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(i))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Nn(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await t2(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=CK()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ul(this.app))return Promise.reject(Au(this));const n=e?Gi(e):null;return n&&Nn(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Nn(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ul(this.app)?Promise.reject(Au(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ul(this.app)?Promise.reject(Au(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(bu(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await WK(this),n=new KK(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new m1("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await qK(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&bu(e)||this._popupRedirectResolver;Nn(n,this,"argument-error"),this.redirectPersistenceManager=await Y0.create(this,[bu(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(Nn(o,this,"internal-error"),o.then(()=>{a||i(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,s);return()=>{a=!0,c()}}else{const c=e.addObserver(n);return()=>{a=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Nn(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=KM(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(ul(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&EK(`Error while retrieving App Check token: ${e.error}`),e?.token}}function xh(t){return Gi(t)}class rI{constructor(e){this.auth=e,this.observer=null,this.addObserver=f$(n=>this.observer=n)}get next(){return Nn(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Y2={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function XK(t){Y2=t}function YM(t){return Y2.loadJS(t)}function JK(){return Y2.recaptchaEnterpriseScript}function QK(){return Y2.gapiScript}function ZK(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class eY{constructor(){this.enterprise=new tY}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class tY{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const nY="recaptcha-enterprise",XM="NO_RECAPTCHA";class rY{constructor(e){this.type=nY,this.auth=xh(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(a,o)=>{MK(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const f=new DK(c);return i.tenantId==null?i._agentRecaptchaConfig=f:i._tenantRecaptchaConfigs[i.tenantId]=f,a(f.siteKey)}}).catch(c=>{o(c)})})}function s(i,a,o){const c=window.grecaptcha;QN(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:e}).then(f=>{a(f)}).catch(()=>{a(XM)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new eY().execute("siteKey",{action:"verify"}):new Promise((i,a)=>{r(this.auth).then(o=>{if(!n&&QN(window.grecaptcha))s(o,i,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let c=JK();c.length!==0&&(c+=o),YM(c).then(()=>{s(o,i,a)}).catch(f=>{a(f)})}}).catch(o=>{a(o)})})}}async function sI(t,e,n,r=!1,s=!1){const i=new rY(t);let a;if(s)a=XM;else try{a=await i.verify(n)}catch{a=await i.verify(n,!0)}const o={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in o){const c=o.phoneEnrollmentInfo.phoneNumber,f=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:f,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const c=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return r?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function h5(t,e,n,r,s){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await sI(t,e,n,n==="getOobCode");return r(t,i)}else return r(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await sI(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(i)})}function sY(t,e){const n=cE(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Zd(i,e??{}))return s;Xl(s,"already-initialized")}return n.initialize({options:e})}function iY(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(bu);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function aY(t,e,n){const r=xh(t);Nn(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=JM(e),{host:a,port:o}=oY(e),c=o===null?"":`:${o}`,f={url:`${i}//${a}${c}/`},d=Object.freeze({host:a,port:o,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Nn(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Nn(Zd(f,r.config.emulator)&&Zd(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,Mp(a)?(bM(`${i}//${a}${c}`),wM("Auth",!0)):lY()}function JM(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function oY(t){const e=JM(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:iI(r.substr(i.length+1))}}else{const[i,a]=r.split(":");return{host:i,port:iI(a)}}}function iI(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function lY(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class mE{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return _u("not implemented")}_getIdTokenResponse(e){return _u("not implemented")}_linkToIdToken(e,n){return _u("not implemented")}_getReauthenticationResolver(e){return _u("not implemented")}}async function cY(t,e){return sd(t,"POST","/v1/accounts:signUp",e)}async function uY(t,e){return y1(t,"POST","/v1/accounts:signInWithPassword",rd(t,e))}async function fY(t,e){return y1(t,"POST","/v1/accounts:signInWithEmailLink",rd(t,e))}async function dY(t,e){return y1(t,"POST","/v1/accounts:signInWithEmailLink",rd(t,e))}class Vg extends mE{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Vg(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Vg(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return h5(e,n,"signInWithPassword",uY);case"emailLink":return fY(e,{email:this._email,oobCode:this._password});default:Xl(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return h5(e,r,"signUpPassword",cY);case"emailLink":return dY(e,{idToken:n,email:this._email,oobCode:this._password});default:Xl(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function X0(t,e){return y1(t,"POST","/v1/accounts:signInWithIdp",rd(t,e))}const hY="http://localhost";class th extends mE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new th(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Xl("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const a=new th(r,s);return a.idToken=i.idToken||void 0,a.accessToken=i.accessToken||void 0,a.secret=i.secret,a.nonce=i.nonce,a.pendingToken=i.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return X0(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,X0(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,X0(e,n)}buildRequest(){const e={requestUri:hY,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=g1(n)}return e}}function pY(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function mY(t){const e=Hm(zm(t)).link,n=e?Hm(zm(e)).deep_link_id:null,r=Hm(zm(t)).deep_link_id;return(r?Hm(zm(r)).link:null)||r||n||e||t}class gE{constructor(e){const n=Hm(zm(e)),r=n.apiKey??null,s=n.oobCode??null,i=pY(n.mode??null);Nn(r&&s&&i,"argument-error"),this.apiKey=r,this.operation=i,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=mY(e);try{return new gE(n)}catch{return null}}}class Fp{constructor(){this.providerId=Fp.PROVIDER_ID}static credential(e,n){return Vg._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=gE.parseLink(n);return Nn(r,"argument-error"),Vg._fromEmailAndCode(e,r.code,r.tenantId)}}Fp.PROVIDER_ID="password";Fp.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Fp.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class QM{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class v1 extends QM{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class If extends v1{constructor(){super("facebook.com")}static credential(e){return th._fromParams({providerId:If.PROVIDER_ID,signInMethod:If.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return If.credentialFromTaggedObject(e)}static credentialFromError(e){return If.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return If.credential(e.oauthAccessToken)}catch{return null}}}If.FACEBOOK_SIGN_IN_METHOD="facebook.com";If.PROVIDER_ID="facebook.com";class kf extends v1{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return th._fromParams({providerId:kf.PROVIDER_ID,signInMethod:kf.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return kf.credentialFromTaggedObject(e)}static credentialFromError(e){return kf.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return kf.credential(n,r)}catch{return null}}}kf.GOOGLE_SIGN_IN_METHOD="google.com";kf.PROVIDER_ID="google.com";class Rf extends v1{constructor(){super("github.com")}static credential(e){return th._fromParams({providerId:Rf.PROVIDER_ID,signInMethod:Rf.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Rf.credentialFromTaggedObject(e)}static credentialFromError(e){return Rf.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Rf.credential(e.oauthAccessToken)}catch{return null}}}Rf.GITHUB_SIGN_IN_METHOD="github.com";Rf.PROVIDER_ID="github.com";class Pf extends v1{constructor(){super("twitter.com")}static credential(e,n){return th._fromParams({providerId:Pf.PROVIDER_ID,signInMethod:Pf.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Pf.credentialFromTaggedObject(e)}static credentialFromError(e){return Pf.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Pf.credential(n,r)}catch{return null}}}Pf.TWITTER_SIGN_IN_METHOD="twitter.com";Pf.PROVIDER_ID="twitter.com";async function gY(t,e){return y1(t,"POST","/v1/accounts:signUp",rd(t,e))}class nh{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Wl._fromIdTokenResponse(e,r,s),a=aI(r);return new nh({user:i,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=aI(r);return new nh({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function aI(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class n2 extends Bu{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,n2.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new n2(e,n,r,s)}}function ZM(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?n2._fromErrorAndOperation(t,i,e,r):i})}async function xY(t,e,n=!1){const r=await Bg(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return nh._forOperation(t,"link",r)}async function yY(t,e,n=!1){const{auth:r}=t;if(ul(r.app))return Promise.reject(Au(r));const s="reauthenticate";try{const i=await Bg(t,ZM(r,s,e,t),n);Nn(i.idToken,r,"internal-error");const a=hE(i.idToken);Nn(a,r,"internal-error");const{sub:o}=a;return Nn(t.uid===o,r,"user-mismatch"),nh._forOperation(t,s,i)}catch(i){throw i?.code==="auth/user-not-found"&&Xl(r,"user-mismatch"),i}}async function eL(t,e,n=!1){if(ul(t.app))return Promise.reject(Au(t));const r="signIn",s=await ZM(t,r,e),i=await nh._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function vY(t,e){return eL(xh(t),e)}async function tL(t){const e=xh(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function _Y(t,e,n){if(ul(t.app))return Promise.reject(Au(t));const r=xh(t),a=await h5(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",gY).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&tL(t),c}),o=await nh._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(o.user),o}function bY(t,e,n){return ul(t.app)?Promise.reject(Au(t)):vY(Gi(t),Fp.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&tL(t),r})}function wY(t,e,n,r){return Gi(t).onIdTokenChanged(e,n,r)}function TY(t,e,n){return Gi(t).beforeAuthStateChanged(e,n)}function EY(t,e,n,r){return Gi(t).onAuthStateChanged(e,n,r)}function SY(t){return Gi(t).signOut()}const r2="__sak";class nL{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(r2,"1"),this.storage.removeItem(r2),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const AY=1e3,CY=10;class rL extends nL{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=$M(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,o,c)=>{this.notifyListeners(a,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},i=this.storage.getItem(r);zK()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,CY):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},AY)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}rL.type="LOCAL";const NY=rL;class sL extends nL{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}sL.type="SESSION";const iL=sL;function IY(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class X2{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new X2(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,a=this.handlersMap[s];if(!a?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const o=Array.from(a).map(async f=>f(n.origin,i)),c=await IY(o);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}X2.receivers=[];function xE(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}class kY{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,a;return new Promise((o,c)=>{const f=xE("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(p){const g=p;if(g.data.eventId===f)switch(g.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),o(g.data.response);break;default:clearTimeout(d),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(a),s.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[s.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}function Dc(){return window}function RY(t){Dc().location.href=t}function aL(){return typeof Dc().WorkerGlobalScope<"u"&&typeof Dc().importScripts=="function"}async function PY(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function DY(){return navigator?.serviceWorker?.controller||null}function MY(){return aL()?self:null}const oL="firebaseLocalStorageDb",LY=1,s2="firebaseLocalStorage",lL="fbase_key";class _1{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function J2(t,e){return t.transaction([s2],e?"readwrite":"readonly").objectStore(s2)}function FY(){const t=indexedDB.deleteDatabase(oL);return new _1(t).toPromise()}function p5(){const t=indexedDB.open(oL,LY);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(s2,{keyPath:lL})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(s2)?e(r):(r.close(),await FY(),e(await p5()))})})}async function oI(t,e,n){const r=J2(t,!0).put({[lL]:e,value:n});return new _1(r).toPromise()}async function OY(t,e){const n=J2(t,!1).get(e),r=await new _1(n).toPromise();return r===void 0?null:r.value}function lI(t,e){const n=J2(t,!0).delete(e);return new _1(n).toPromise()}const BY=800,VY=3;class cL{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await p5(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>VY)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return aL()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=X2._getInstance(MY()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await PY(),!this.activeServiceWorker)return;this.sender=new kY(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||DY()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await p5();return await oI(e,r2,"1"),await lI(e,r2),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>oI(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>OY(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>lI(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=J2(s,!1).getAll();return new _1(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),BY)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}cL.type="LOCAL";const UY=cL;new x1(3e4,6e4);function jY(t,e){return e?bu(e):(Nn(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class yE extends mE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return X0(e,this._buildIdpRequest())}_linkToIdToken(e,n){return X0(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return X0(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function qY(t){return eL(t.auth,new yE(t),t.bypassAuthState)}function HY(t){const{auth:e,user:n}=t;return Nn(n,e,"internal-error"),yY(n,new yE(t),t.bypassAuthState)}async function zY(t){const{auth:e,user:n}=t;return Nn(n,e,"internal-error"),xY(n,new yE(t),t.bypassAuthState)}class uL{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:a,type:o}=e;if(a){this.reject(a);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(c))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return qY;case"linkViaPopup":case"linkViaRedirect":return zY;case"reauthViaPopup":case"reauthViaRedirect":return HY;default:Xl(this.auth,"internal-error")}}resolve(e){Du(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Du(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const GY=new x1(2e3,1e4);class U0 extends uL{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,U0.currentPopupAction&&U0.currentPopupAction.cancel(),U0.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Nn(e,this.auth,"internal-error"),e}async onExecution(){Du(this.filter.length===1,"Popup operations only handle one event");const e=xE();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Pc(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Pc(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,U0.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Pc(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,GY.get())};e()}}U0.currentPopupAction=null;const WY="pendingRedirect",by=new Map;class $Y extends uL{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=by.get(this.auth._key());if(!e){try{const r=await KY(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}by.set(this.auth._key(),e)}return this.bypassAuthState||by.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function KY(t,e){const n=JY(e),r=XY(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function YY(t,e){by.set(t._key(),e)}function XY(t){return bu(t._redirectPersistence)}function JY(t){return _y(WY,t.config.apiKey,t.name)}async function QY(t,e,n=!1){if(ul(t.app))return Promise.reject(Au(t));const r=xh(t),s=jY(r,e),a=await new $Y(r,s,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}const ZY=600*1e3;class eX{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!tX(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!fL(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Pc(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=ZY&&this.cachedEventUids.clear(),this.cachedEventUids.has(cI(e))}saveEventToCache(e){this.cachedEventUids.add(cI(e)),this.lastProcessedEventTime=Date.now()}}function cI(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function fL({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function tX(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return fL(t);default:return!1}}async function nX(t,e={}){return sd(t,"GET","/v1/projects",e)}const rX=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,sX=/^https?/;async function iX(t){if(t.config.emulator)return;const{authorizedDomains:e}=await nX(t);for(const n of e)try{if(aX(n))return}catch{}Xl(t,"unauthorized-domain")}function aX(t){const e=f5(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!sX.test(n))return!1;if(rX.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}const oX=new x1(3e4,6e4);function uI(){const t=Dc().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function lX(t){return new Promise((e,n)=>{function r(){uI(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{uI(),n(Pc(t,"network-request-failed"))},timeout:oX.get()})}if(Dc().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Dc().gapi?.load)r();else{const s=ZK("iframefcb");return Dc()[s]=()=>{gapi.load?r():n(Pc(t,"network-request-failed"))},YM(`${QK()}?onload=${s}`).catch(i=>n(i))}}).catch(e=>{throw wy=null,e})}let wy=null;function cX(t){return wy=wy||lX(t),wy}const uX=new x1(5e3,15e3),fX="__/auth/iframe",dX="emulator/auth/iframe",hX={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},pX=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function mX(t){const e=t.config;Nn(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?dE(e,dX):`https://${t.config.authDomain}/${fX}`,r={apiKey:e.apiKey,appName:t.name,v:Lp},s=pX.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${g1(r).slice(1)}`}async function gX(t){const e=await cX(t),n=Dc().gapi;return Nn(n,t,"internal-error"),e.open({where:document.body,url:mX(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:hX,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const a=Pc(t,"network-request-failed"),o=Dc().setTimeout(()=>{i(a)},uX.get());function c(){Dc().clearTimeout(o),s(r)}r.ping(c).then(c,()=>{i(a)})}))}const xX={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},yX=500,vX=600,_X="_blank",bX="http://localhost";class fI{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function wX(t,e,n,r=yX,s=vX){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const c={...xX,width:r.toString(),height:s.toString(),top:i,left:a},f=Ni().toLowerCase();n&&(o=qM(f)?_X:n),UM(f)&&(e=e||bX,c.scrollbars="yes");const d=Object.entries(c).reduce((g,[y,E])=>`${g}${y}=${E},`,"");if(HK(f)&&o!=="_self")return TX(e||"",o),new fI(null);const p=window.open(e||"",o,d);Nn(p,t,"popup-blocked");try{p.focus()}catch{}return new fI(p)}function TX(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const EX="__/auth/handler",SX="emulator/auth/handler",AX=encodeURIComponent("fac");async function dI(t,e,n,r,s,i){Nn(t.config.authDomain,t,"auth-domain-config-required"),Nn(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Lp,eventId:s};if(e instanceof QM){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",u$(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,p]of Object.entries({}))a[d]=p}if(e instanceof v1){const d=e.getScopes().filter(p=>p!=="");d.length>0&&(a.scopes=d.join(","))}t.tenantId&&(a.tid=t.tenantId);const o=a;for(const d of Object.keys(o))o[d]===void 0&&delete o[d];const c=await t._getAppCheckToken(),f=c?`#${AX}=${encodeURIComponent(c)}`:"";return`${CX(t)}?${g1(o).slice(1)}${f}`}function CX({config:t}){return t.emulator?dE(t,SX):`https://${t.authDomain}/${EX}`}const _b="webStorageSupport";class NX{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=iL,this._completeRedirectFn=QY,this._overrideRedirectResult=YY}async _openPopup(e,n,r,s){Du(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const i=await dI(e,n,r,f5(),s);return wX(e,i,xE())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await dI(e,n,r,f5(),s);return RY(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Du(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await gX(e),r=new eX(e);return n.register("authEvent",s=>(Nn(s?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(_b,{type:_b},s=>{const i=s?.[0]?.[_b];i!==void 0&&n(!!i),Xl(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=iX(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return $M()||jM()||pE()}}const IX=NX;var hI="@firebase/auth",pI="1.11.1";class kX{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Nn(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function RX(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function PX(t){dp(new eh("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;Nn(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:a,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:KM(t)},f=new YK(r,s,i,c);return iY(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),dp(new eh("auth-internal",e=>{const n=xh(e.getProvider("auth").getImmediate());return(r=>new kX(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),qf(hI,pI,RX(t)),qf(hI,pI,"esm2020")}const DX=300,MX=_M("authIdTokenMaxAge")||DX;let mI=null;const LX=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>MX)return;const s=n?.token;mI!==s&&(mI=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function FX(t=uE()){const e=cE(t,"auth");if(e.isInitialized())return e.getImmediate();const n=sY(t,{popupRedirectResolver:IX,persistence:[UY,NY,iL]}),r=_M("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const a=LX(i.toString());TY(n,a,()=>a(n.currentUser)),wY(n,o=>a(o))}}const s=yM("auth");return s&&aY(n,`http://${s}`),n}function OX(){return document.getElementsByTagName("head")?.[0]??document}XK({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Pc("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",OX().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});PX("Browser");var BX="firebase",VX="12.6.0";qf(BX,VX,"app");var gI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Hf,dL;(function(){var t;function e(D,L){function R(){}R.prototype=L.prototype,D.F=L.prototype,D.prototype=new R,D.prototype.constructor=D,D.D=function(q,P,M){for(var H=Array(arguments.length-2),ae=2;ae<arguments.length;ae++)H[ae-2]=arguments[ae];return L.prototype[P].apply(q,H)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(D,L,R){R||(R=0);const q=Array(16);if(typeof L=="string")for(var P=0;P<16;++P)q[P]=L.charCodeAt(R++)|L.charCodeAt(R++)<<8|L.charCodeAt(R++)<<16|L.charCodeAt(R++)<<24;else for(P=0;P<16;++P)q[P]=L[R++]|L[R++]<<8|L[R++]<<16|L[R++]<<24;L=D.g[0],R=D.g[1],P=D.g[2];let M=D.g[3],H;H=L+(M^R&(P^M))+q[0]+3614090360&4294967295,L=R+(H<<7&4294967295|H>>>25),H=M+(P^L&(R^P))+q[1]+3905402710&4294967295,M=L+(H<<12&4294967295|H>>>20),H=P+(R^M&(L^R))+q[2]+606105819&4294967295,P=M+(H<<17&4294967295|H>>>15),H=R+(L^P&(M^L))+q[3]+3250441966&4294967295,R=P+(H<<22&4294967295|H>>>10),H=L+(M^R&(P^M))+q[4]+4118548399&4294967295,L=R+(H<<7&4294967295|H>>>25),H=M+(P^L&(R^P))+q[5]+1200080426&4294967295,M=L+(H<<12&4294967295|H>>>20),H=P+(R^M&(L^R))+q[6]+2821735955&4294967295,P=M+(H<<17&4294967295|H>>>15),H=R+(L^P&(M^L))+q[7]+4249261313&4294967295,R=P+(H<<22&4294967295|H>>>10),H=L+(M^R&(P^M))+q[8]+1770035416&4294967295,L=R+(H<<7&4294967295|H>>>25),H=M+(P^L&(R^P))+q[9]+2336552879&4294967295,M=L+(H<<12&4294967295|H>>>20),H=P+(R^M&(L^R))+q[10]+4294925233&4294967295,P=M+(H<<17&4294967295|H>>>15),H=R+(L^P&(M^L))+q[11]+2304563134&4294967295,R=P+(H<<22&4294967295|H>>>10),H=L+(M^R&(P^M))+q[12]+1804603682&4294967295,L=R+(H<<7&4294967295|H>>>25),H=M+(P^L&(R^P))+q[13]+4254626195&4294967295,M=L+(H<<12&4294967295|H>>>20),H=P+(R^M&(L^R))+q[14]+2792965006&4294967295,P=M+(H<<17&4294967295|H>>>15),H=R+(L^P&(M^L))+q[15]+1236535329&4294967295,R=P+(H<<22&4294967295|H>>>10),H=L+(P^M&(R^P))+q[1]+4129170786&4294967295,L=R+(H<<5&4294967295|H>>>27),H=M+(R^P&(L^R))+q[6]+3225465664&4294967295,M=L+(H<<9&4294967295|H>>>23),H=P+(L^R&(M^L))+q[11]+643717713&4294967295,P=M+(H<<14&4294967295|H>>>18),H=R+(M^L&(P^M))+q[0]+3921069994&4294967295,R=P+(H<<20&4294967295|H>>>12),H=L+(P^M&(R^P))+q[5]+3593408605&4294967295,L=R+(H<<5&4294967295|H>>>27),H=M+(R^P&(L^R))+q[10]+38016083&4294967295,M=L+(H<<9&4294967295|H>>>23),H=P+(L^R&(M^L))+q[15]+3634488961&4294967295,P=M+(H<<14&4294967295|H>>>18),H=R+(M^L&(P^M))+q[4]+3889429448&4294967295,R=P+(H<<20&4294967295|H>>>12),H=L+(P^M&(R^P))+q[9]+568446438&4294967295,L=R+(H<<5&4294967295|H>>>27),H=M+(R^P&(L^R))+q[14]+3275163606&4294967295,M=L+(H<<9&4294967295|H>>>23),H=P+(L^R&(M^L))+q[3]+4107603335&4294967295,P=M+(H<<14&4294967295|H>>>18),H=R+(M^L&(P^M))+q[8]+1163531501&4294967295,R=P+(H<<20&4294967295|H>>>12),H=L+(P^M&(R^P))+q[13]+2850285829&4294967295,L=R+(H<<5&4294967295|H>>>27),H=M+(R^P&(L^R))+q[2]+4243563512&4294967295,M=L+(H<<9&4294967295|H>>>23),H=P+(L^R&(M^L))+q[7]+1735328473&4294967295,P=M+(H<<14&4294967295|H>>>18),H=R+(M^L&(P^M))+q[12]+2368359562&4294967295,R=P+(H<<20&4294967295|H>>>12),H=L+(R^P^M)+q[5]+4294588738&4294967295,L=R+(H<<4&4294967295|H>>>28),H=M+(L^R^P)+q[8]+2272392833&4294967295,M=L+(H<<11&4294967295|H>>>21),H=P+(M^L^R)+q[11]+1839030562&4294967295,P=M+(H<<16&4294967295|H>>>16),H=R+(P^M^L)+q[14]+4259657740&4294967295,R=P+(H<<23&4294967295|H>>>9),H=L+(R^P^M)+q[1]+2763975236&4294967295,L=R+(H<<4&4294967295|H>>>28),H=M+(L^R^P)+q[4]+1272893353&4294967295,M=L+(H<<11&4294967295|H>>>21),H=P+(M^L^R)+q[7]+4139469664&4294967295,P=M+(H<<16&4294967295|H>>>16),H=R+(P^M^L)+q[10]+3200236656&4294967295,R=P+(H<<23&4294967295|H>>>9),H=L+(R^P^M)+q[13]+681279174&4294967295,L=R+(H<<4&4294967295|H>>>28),H=M+(L^R^P)+q[0]+3936430074&4294967295,M=L+(H<<11&4294967295|H>>>21),H=P+(M^L^R)+q[3]+3572445317&4294967295,P=M+(H<<16&4294967295|H>>>16),H=R+(P^M^L)+q[6]+76029189&4294967295,R=P+(H<<23&4294967295|H>>>9),H=L+(R^P^M)+q[9]+3654602809&4294967295,L=R+(H<<4&4294967295|H>>>28),H=M+(L^R^P)+q[12]+3873151461&4294967295,M=L+(H<<11&4294967295|H>>>21),H=P+(M^L^R)+q[15]+530742520&4294967295,P=M+(H<<16&4294967295|H>>>16),H=R+(P^M^L)+q[2]+3299628645&4294967295,R=P+(H<<23&4294967295|H>>>9),H=L+(P^(R|~M))+q[0]+4096336452&4294967295,L=R+(H<<6&4294967295|H>>>26),H=M+(R^(L|~P))+q[7]+1126891415&4294967295,M=L+(H<<10&4294967295|H>>>22),H=P+(L^(M|~R))+q[14]+2878612391&4294967295,P=M+(H<<15&4294967295|H>>>17),H=R+(M^(P|~L))+q[5]+4237533241&4294967295,R=P+(H<<21&4294967295|H>>>11),H=L+(P^(R|~M))+q[12]+1700485571&4294967295,L=R+(H<<6&4294967295|H>>>26),H=M+(R^(L|~P))+q[3]+2399980690&4294967295,M=L+(H<<10&4294967295|H>>>22),H=P+(L^(M|~R))+q[10]+4293915773&4294967295,P=M+(H<<15&4294967295|H>>>17),H=R+(M^(P|~L))+q[1]+2240044497&4294967295,R=P+(H<<21&4294967295|H>>>11),H=L+(P^(R|~M))+q[8]+1873313359&4294967295,L=R+(H<<6&4294967295|H>>>26),H=M+(R^(L|~P))+q[15]+4264355552&4294967295,M=L+(H<<10&4294967295|H>>>22),H=P+(L^(M|~R))+q[6]+2734768916&4294967295,P=M+(H<<15&4294967295|H>>>17),H=R+(M^(P|~L))+q[13]+1309151649&4294967295,R=P+(H<<21&4294967295|H>>>11),H=L+(P^(R|~M))+q[4]+4149444226&4294967295,L=R+(H<<6&4294967295|H>>>26),H=M+(R^(L|~P))+q[11]+3174756917&4294967295,M=L+(H<<10&4294967295|H>>>22),H=P+(L^(M|~R))+q[2]+718787259&4294967295,P=M+(H<<15&4294967295|H>>>17),H=R+(M^(P|~L))+q[9]+3951481745&4294967295,D.g[0]=D.g[0]+L&4294967295,D.g[1]=D.g[1]+(P+(H<<21&4294967295|H>>>11))&4294967295,D.g[2]=D.g[2]+P&4294967295,D.g[3]=D.g[3]+M&4294967295}r.prototype.v=function(D,L){L===void 0&&(L=D.length);const R=L-this.blockSize,q=this.C;let P=this.h,M=0;for(;M<L;){if(P==0)for(;M<=R;)s(this,D,M),M+=this.blockSize;if(typeof D=="string"){for(;M<L;)if(q[P++]=D.charCodeAt(M++),P==this.blockSize){s(this,q),P=0;break}}else for(;M<L;)if(q[P++]=D[M++],P==this.blockSize){s(this,q),P=0;break}}this.h=P,this.o+=L},r.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var L=1;L<D.length-8;++L)D[L]=0;L=this.o*8;for(var R=D.length-8;R<D.length;++R)D[R]=L&255,L/=256;for(this.v(D),D=Array(16),L=0,R=0;R<4;++R)for(let q=0;q<32;q+=8)D[L++]=this.g[R]>>>q&255;return D};function i(D,L){var R=o;return Object.prototype.hasOwnProperty.call(R,D)?R[D]:R[D]=L(D)}function a(D,L){this.h=L;const R=[];let q=!0;for(let P=D.length-1;P>=0;P--){const M=D[P]|0;q&&M==L||(R[P]=M,q=!1)}this.g=R}var o={};function c(D){return-128<=D&&D<128?i(D,function(L){return new a([L|0],L<0?-1:0)}):new a([D|0],D<0?-1:0)}function f(D){if(isNaN(D)||!isFinite(D))return p;if(D<0)return A(f(-D));const L=[];let R=1;for(let q=0;D>=R;q++)L[q]=D/R|0,R*=4294967296;return new a(L,0)}function d(D,L){if(D.length==0)throw Error("number format error: empty string");if(L=L||10,L<2||36<L)throw Error("radix out of range: "+L);if(D.charAt(0)=="-")return A(d(D.substring(1),L));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=f(Math.pow(L,8));let q=p;for(let M=0;M<D.length;M+=8){var P=Math.min(8,D.length-M);const H=parseInt(D.substring(M,M+P),L);P<8?(P=f(Math.pow(L,P)),q=q.j(P).add(f(H))):(q=q.j(R),q=q.add(f(H)))}return q}var p=c(0),g=c(1),y=c(16777216);t=a.prototype,t.m=function(){if(b(this))return-A(this).m();let D=0,L=1;for(let R=0;R<this.g.length;R++){const q=this.i(R);D+=(q>=0?q:4294967296+q)*L,L*=4294967296}return D},t.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(E(this))return"0";if(b(this))return"-"+A(this).toString(D);const L=f(Math.pow(D,6));var R=this;let q="";for(;;){const P=B(R,L).g;R=N(R,P.j(L));let M=((R.g.length>0?R.g[0]:R.h)>>>0).toString(D);if(R=P,E(R))return M+q;for(;M.length<6;)M="0"+M;q=M+q}},t.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function E(D){if(D.h!=0)return!1;for(let L=0;L<D.g.length;L++)if(D.g[L]!=0)return!1;return!0}function b(D){return D.h==-1}t.l=function(D){return D=N(this,D),b(D)?-1:E(D)?0:1};function A(D){const L=D.g.length,R=[];for(let q=0;q<L;q++)R[q]=~D.g[q];return new a(R,~D.h).add(g)}t.abs=function(){return b(this)?A(this):this},t.add=function(D){const L=Math.max(this.g.length,D.g.length),R=[];let q=0;for(let P=0;P<=L;P++){let M=q+(this.i(P)&65535)+(D.i(P)&65535),H=(M>>>16)+(this.i(P)>>>16)+(D.i(P)>>>16);q=H>>>16,M&=65535,H&=65535,R[P]=H<<16|M}return new a(R,R[R.length-1]&-2147483648?-1:0)};function N(D,L){return D.add(A(L))}t.j=function(D){if(E(this)||E(D))return p;if(b(this))return b(D)?A(this).j(A(D)):A(A(this).j(D));if(b(D))return A(this.j(A(D)));if(this.l(y)<0&&D.l(y)<0)return f(this.m()*D.m());const L=this.g.length+D.g.length,R=[];for(var q=0;q<2*L;q++)R[q]=0;for(q=0;q<this.g.length;q++)for(let P=0;P<D.g.length;P++){const M=this.i(q)>>>16,H=this.i(q)&65535,ae=D.i(P)>>>16,Se=D.i(P)&65535;R[2*q+2*P]+=H*Se,V(R,2*q+2*P),R[2*q+2*P+1]+=M*Se,V(R,2*q+2*P+1),R[2*q+2*P+1]+=H*ae,V(R,2*q+2*P+1),R[2*q+2*P+2]+=M*ae,V(R,2*q+2*P+2)}for(D=0;D<L;D++)R[D]=R[2*D+1]<<16|R[2*D];for(D=L;D<2*L;D++)R[D]=0;return new a(R,0)};function V(D,L){for(;(D[L]&65535)!=D[L];)D[L+1]+=D[L]>>>16,D[L]&=65535,L++}function k(D,L){this.g=D,this.h=L}function B(D,L){if(E(L))throw Error("division by zero");if(E(D))return new k(p,p);if(b(D))return L=B(A(D),L),new k(A(L.g),A(L.h));if(b(L))return L=B(D,A(L)),new k(A(L.g),L.h);if(D.g.length>30){if(b(D)||b(L))throw Error("slowDivide_ only works with positive integers.");for(var R=g,q=L;q.l(D)<=0;)R=W(R),q=W(q);var P=K(R,1),M=K(q,1);for(q=K(q,2),R=K(R,2);!E(q);){var H=M.add(q);H.l(D)<=0&&(P=P.add(R),M=H),q=K(q,1),R=K(R,1)}return L=N(D,P.j(L)),new k(P,L)}for(P=p;D.l(L)>=0;){for(R=Math.max(1,Math.floor(D.m()/L.m())),q=Math.ceil(Math.log(R)/Math.LN2),q=q<=48?1:Math.pow(2,q-48),M=f(R),H=M.j(L);b(H)||H.l(D)>0;)R-=q,M=f(R),H=M.j(L);E(M)&&(M=g),P=P.add(M),D=N(D,H)}return new k(P,D)}t.B=function(D){return B(this,D).h},t.and=function(D){const L=Math.max(this.g.length,D.g.length),R=[];for(let q=0;q<L;q++)R[q]=this.i(q)&D.i(q);return new a(R,this.h&D.h)},t.or=function(D){const L=Math.max(this.g.length,D.g.length),R=[];for(let q=0;q<L;q++)R[q]=this.i(q)|D.i(q);return new a(R,this.h|D.h)},t.xor=function(D){const L=Math.max(this.g.length,D.g.length),R=[];for(let q=0;q<L;q++)R[q]=this.i(q)^D.i(q);return new a(R,this.h^D.h)};function W(D){const L=D.g.length+1,R=[];for(let q=0;q<L;q++)R[q]=D.i(q)<<1|D.i(q-1)>>>31;return new a(R,D.h)}function K(D,L){const R=L>>5;L%=32;const q=D.g.length-R,P=[];for(let M=0;M<q;M++)P[M]=L>0?D.i(M+R)>>>L|D.i(M+R+1)<<32-L:D.i(M+R);return new a(P,D.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,dL=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.B,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=f,a.fromString=d,Hf=a}).apply(typeof gI<"u"?gI:typeof self<"u"?self:typeof window<"u"?window:{});var Ox=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var hL,Gm,pL,Ty,m5,mL,gL,xL;(function(){var t,e=Object.defineProperty;function n(w){w=[typeof globalThis=="object"&&globalThis,w,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ox=="object"&&Ox];for(var z=0;z<w.length;++z){var Q=w[z];if(Q&&Q.Math==Math)return Q}throw Error("Cannot find global object")}var r=n(this);function s(w,z){if(z)e:{var Q=r;w=w.split(".");for(var me=0;me<w.length-1;me++){var ze=w[me];if(!(ze in Q))break e;Q=Q[ze]}w=w[w.length-1],me=Q[w],z=z(me),z!=me&&z!=null&&e(Q,w,{configurable:!0,writable:!0,value:z})}}s("Symbol.dispose",function(w){return w||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(w){return w||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(w){return w||function(z){var Q=[],me;for(me in z)Object.prototype.hasOwnProperty.call(z,me)&&Q.push([me,z[me]]);return Q}});var i=i||{},a=this||self;function o(w){var z=typeof w;return z=="object"&&w!=null||z=="function"}function c(w,z,Q){return w.call.apply(w.bind,arguments)}function f(w,z,Q){return f=c,f.apply(null,arguments)}function d(w,z){var Q=Array.prototype.slice.call(arguments,1);return function(){var me=Q.slice();return me.push.apply(me,arguments),w.apply(this,me)}}function p(w,z){function Q(){}Q.prototype=z.prototype,w.Z=z.prototype,w.prototype=new Q,w.prototype.constructor=w,w.Ob=function(me,ze,Qe){for(var It=Array(arguments.length-2),In=2;In<arguments.length;In++)It[In-2]=arguments[In];return z.prototype[ze].apply(me,It)}}var g=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?w=>w&&AsyncContext.Snapshot.wrap(w):w=>w;function y(w){const z=w.length;if(z>0){const Q=Array(z);for(let me=0;me<z;me++)Q[me]=w[me];return Q}return[]}function E(w,z){for(let me=1;me<arguments.length;me++){const ze=arguments[me];var Q=typeof ze;if(Q=Q!="object"?Q:ze?Array.isArray(ze)?"array":Q:"null",Q=="array"||Q=="object"&&typeof ze.length=="number"){Q=w.length||0;const Qe=ze.length||0;w.length=Q+Qe;for(let It=0;It<Qe;It++)w[Q+It]=ze[It]}else w.push(ze)}}class b{constructor(z,Q){this.i=z,this.j=Q,this.h=0,this.g=null}get(){let z;return this.h>0?(this.h--,z=this.g,this.g=z.next,z.next=null):z=this.i(),z}}function A(w){a.setTimeout(()=>{throw w},0)}function N(){var w=D;let z=null;return w.g&&(z=w.g,w.g=w.g.next,w.g||(w.h=null),z.next=null),z}class V{constructor(){this.h=this.g=null}add(z,Q){const me=k.get();me.set(z,Q),this.h?this.h.next=me:this.g=me,this.h=me}}var k=new b(()=>new B,w=>w.reset());class B{constructor(){this.next=this.g=this.h=null}set(z,Q){this.h=z,this.g=Q,this.next=null}reset(){this.next=this.g=this.h=null}}let W,K=!1,D=new V,L=()=>{const w=Promise.resolve(void 0);W=()=>{w.then(R)}};function R(){for(var w;w=N();){try{w.h.call(w.g)}catch(Q){A(Q)}var z=k;z.j(w),z.h<100&&(z.h++,w.next=z.g,z.g=w)}K=!1}function q(){this.u=this.u,this.C=this.C}q.prototype.u=!1,q.prototype.dispose=function(){this.u||(this.u=!0,this.N())},q.prototype[Symbol.dispose]=function(){this.dispose()},q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function P(w,z){this.type=w,this.g=this.target=z,this.defaultPrevented=!1}P.prototype.h=function(){this.defaultPrevented=!0};var M=(function(){if(!a.addEventListener||!Object.defineProperty)return!1;var w=!1,z=Object.defineProperty({},"passive",{get:function(){w=!0}});try{const Q=()=>{};a.addEventListener("test",Q,z),a.removeEventListener("test",Q,z)}catch{}return w})();function H(w){return/^[\s\xa0]*$/.test(w)}function ae(w,z){P.call(this,w?w.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,w&&this.init(w,z)}p(ae,P),ae.prototype.init=function(w,z){const Q=this.type=w.type,me=w.changedTouches&&w.changedTouches.length?w.changedTouches[0]:null;this.target=w.target||w.srcElement,this.g=z,z=w.relatedTarget,z||(Q=="mouseover"?z=w.fromElement:Q=="mouseout"&&(z=w.toElement)),this.relatedTarget=z,me?(this.clientX=me.clientX!==void 0?me.clientX:me.pageX,this.clientY=me.clientY!==void 0?me.clientY:me.pageY,this.screenX=me.screenX||0,this.screenY=me.screenY||0):(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0),this.button=w.button,this.key=w.key||"",this.ctrlKey=w.ctrlKey,this.altKey=w.altKey,this.shiftKey=w.shiftKey,this.metaKey=w.metaKey,this.pointerId=w.pointerId||0,this.pointerType=w.pointerType,this.state=w.state,this.i=w,w.defaultPrevented&&ae.Z.h.call(this)},ae.prototype.h=function(){ae.Z.h.call(this);const w=this.i;w.preventDefault?w.preventDefault():w.returnValue=!1};var Se="closure_listenable_"+(Math.random()*1e6|0),oe=0;function ve(w,z,Q,me,ze){this.listener=w,this.proxy=null,this.src=z,this.type=Q,this.capture=!!me,this.ha=ze,this.key=++oe,this.da=this.fa=!1}function Ie(w){w.da=!0,w.listener=null,w.proxy=null,w.src=null,w.ha=null}function xe(w,z,Q){for(const me in w)z.call(Q,w[me],me,w)}function Re(w,z){for(const Q in w)z.call(void 0,w[Q],Q,w)}function re(w){const z={};for(const Q in w)z[Q]=w[Q];return z}const O="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function J(w,z){let Q,me;for(let ze=1;ze<arguments.length;ze++){me=arguments[ze];for(Q in me)w[Q]=me[Q];for(let Qe=0;Qe<O.length;Qe++)Q=O[Qe],Object.prototype.hasOwnProperty.call(me,Q)&&(w[Q]=me[Q])}}function U(w){this.src=w,this.g={},this.h=0}U.prototype.add=function(w,z,Q,me,ze){const Qe=w.toString();w=this.g[Qe],w||(w=this.g[Qe]=[],this.h++);const It=ne(w,z,me,ze);return It>-1?(z=w[It],Q||(z.fa=!1)):(z=new ve(z,this.src,Qe,!!me,ze),z.fa=Q,w.push(z)),z};function Y(w,z){const Q=z.type;if(Q in w.g){var me=w.g[Q],ze=Array.prototype.indexOf.call(me,z,void 0),Qe;(Qe=ze>=0)&&Array.prototype.splice.call(me,ze,1),Qe&&(Ie(z),w.g[Q].length==0&&(delete w.g[Q],w.h--))}}function ne(w,z,Q,me){for(let ze=0;ze<w.length;++ze){const Qe=w[ze];if(!Qe.da&&Qe.listener==z&&Qe.capture==!!Q&&Qe.ha==me)return ze}return-1}var ye="closure_lm_"+(Math.random()*1e6|0),pe={};function ue(w,z,Q,me,ze){if(Array.isArray(z)){for(let Qe=0;Qe<z.length;Qe++)ue(w,z[Qe],Q,me,ze);return null}return Q=Pt(Q),w&&w[Se]?w.J(z,Q,o(me)?!!me.capture:!1,ze):Te(w,z,Q,!1,me,ze)}function Te(w,z,Q,me,ze,Qe){if(!z)throw Error("Invalid event type");const It=o(ze)?!!ze.capture:!!ze;let In=nt(w);if(In||(w[ye]=In=new U(w)),Q=In.add(z,Q,me,It,Qe),Q.proxy)return Q;if(me=je(),Q.proxy=me,me.src=w,me.listener=Q,w.addEventListener)M||(ze=It),ze===void 0&&(ze=!1),w.addEventListener(z.toString(),me,ze);else if(w.attachEvent)w.attachEvent(pt(z.toString()),me);else if(w.addListener&&w.removeListener)w.addListener(me);else throw Error("addEventListener and attachEvent are unavailable.");return Q}function je(){function w(Q){return z.call(w.src,w.listener,Q)}const z=se;return w}function ce(w,z,Q,me,ze){if(Array.isArray(z))for(var Qe=0;Qe<z.length;Qe++)ce(w,z[Qe],Q,me,ze);else me=o(me)?!!me.capture:!!me,Q=Pt(Q),w&&w[Se]?(w=w.i,Qe=String(z).toString(),Qe in w.g&&(z=w.g[Qe],Q=ne(z,Q,me,ze),Q>-1&&(Ie(z[Q]),Array.prototype.splice.call(z,Q,1),z.length==0&&(delete w.g[Qe],w.h--)))):w&&(w=nt(w))&&(z=w.g[z.toString()],w=-1,z&&(w=ne(z,Q,me,ze)),(Q=w>-1?z[w]:null)&&dt(Q))}function dt(w){if(typeof w!="number"&&w&&!w.da){var z=w.src;if(z&&z[Se])Y(z.i,w);else{var Q=w.type,me=w.proxy;z.removeEventListener?z.removeEventListener(Q,me,w.capture):z.detachEvent?z.detachEvent(pt(Q),me):z.addListener&&z.removeListener&&z.removeListener(me),(Q=nt(z))?(Y(Q,w),Q.h==0&&(Q.src=null,z[ye]=null)):Ie(w)}}}function pt(w){return w in pe?pe[w]:pe[w]="on"+w}function se(w,z){if(w.da)w=!0;else{z=new ae(z,this);const Q=w.listener,me=w.ha||w.src;w.fa&&dt(w),w=Q.call(me,z)}return w}function nt(w){return w=w[ye],w instanceof U?w:null}var it="__closure_events_fn_"+(Math.random()*1e9>>>0);function Pt(w){return typeof w=="function"?w:(w[it]||(w[it]=function(z){return w.handleEvent(z)}),w[it])}function tt(){q.call(this),this.i=new U(this),this.M=this,this.G=null}p(tt,q),tt.prototype[Se]=!0,tt.prototype.removeEventListener=function(w,z,Q,me){ce(this,w,z,Q,me)};function St(w,z){var Q,me=w.G;if(me)for(Q=[];me;me=me.G)Q.push(me);if(w=w.M,me=z.type||z,typeof z=="string")z=new P(z,w);else if(z instanceof P)z.target=z.target||w;else{var ze=z;z=new P(me,w),J(z,ze)}ze=!0;let Qe,It;if(Q)for(It=Q.length-1;It>=0;It--)Qe=z.g=Q[It],ze=Ct(Qe,me,!0,z)&&ze;if(Qe=z.g=w,ze=Ct(Qe,me,!0,z)&&ze,ze=Ct(Qe,me,!1,z)&&ze,Q)for(It=0;It<Q.length;It++)Qe=z.g=Q[It],ze=Ct(Qe,me,!1,z)&&ze}tt.prototype.N=function(){if(tt.Z.N.call(this),this.i){var w=this.i;for(const z in w.g){const Q=w.g[z];for(let me=0;me<Q.length;me++)Ie(Q[me]);delete w.g[z],w.h--}}this.G=null},tt.prototype.J=function(w,z,Q,me){return this.i.add(String(w),z,!1,Q,me)},tt.prototype.K=function(w,z,Q,me){return this.i.add(String(w),z,!0,Q,me)};function Ct(w,z,Q,me){if(z=w.i.g[String(z)],!z)return!0;z=z.concat();let ze=!0;for(let Qe=0;Qe<z.length;++Qe){const It=z[Qe];if(It&&!It.da&&It.capture==Q){const In=It.listener,Gr=It.ha||It.src;It.fa&&Y(w.i,It),ze=In.call(Gr,me)!==!1&&ze}}return ze&&!me.defaultPrevented}function Lt(w,z){if(typeof w!="function")if(w&&typeof w.handleEvent=="function")w=f(w.handleEvent,w);else throw Error("Invalid listener argument");return Number(z)>2147483647?-1:a.setTimeout(w,z||0)}function jt(w){w.g=Lt(()=>{w.g=null,w.i&&(w.i=!1,jt(w))},w.l);const z=w.h;w.h=null,w.m.apply(null,z)}class Qt extends q{constructor(z,Q){super(),this.m=z,this.l=Q,this.h=null,this.i=!1,this.g=null}j(z){this.h=arguments,this.g?this.i=!0:jt(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zt(w){q.call(this),this.h=w,this.g={}}p(Zt,q);var on=[];function Sn(w){xe(w.g,function(z,Q){this.g.hasOwnProperty(Q)&&dt(z)},w),w.g={}}Zt.prototype.N=function(){Zt.Z.N.call(this),Sn(this)},Zt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Bt=a.JSON.stringify,vt=a.JSON.parse,wt=class{stringify(w){return a.JSON.stringify(w,void 0)}parse(w){return a.JSON.parse(w,void 0)}};function Et(){}function Wn(){}var qt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Gt(){P.call(this,"d")}p(Gt,P);function mn(){P.call(this,"c")}p(mn,P);var An={},ln=null;function Jn(){return ln=ln||new tt}An.Ia="serverreachability";function pn(w){P.call(this,An.Ia,w)}p(pn,P);function fn(w){const z=Jn();St(z,new pn(z))}An.STAT_EVENT="statevent";function ar(w,z){P.call(this,An.STAT_EVENT,w),this.stat=z}p(ar,P);function cn(w){const z=Jn();St(z,new ar(z,w))}An.Ja="timingevent";function Wt(w,z){P.call(this,An.Ja,w),this.size=z}p(Wt,P);function Ln(w,z){if(typeof w!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){w()},z)}function as(){this.g=!0}as.prototype.ua=function(){this.g=!1};function os(w,z,Q,me,ze,Qe){w.info(function(){if(w.g)if(Qe){var It="",In=Qe.split("&");for(let Yn=0;Yn<In.length;Yn++){var Gr=In[Yn].split("=");if(Gr.length>1){const Cr=Gr[0];Gr=Gr[1];const ni=Cr.split("_");It=ni.length>=2&&ni[1]=="type"?It+(Cr+"="+Gr+"&"):It+(Cr+"=redacted&")}}}else It=null;else It=Qe;return"XMLHTTP REQ ("+me+") [attempt "+ze+"]: "+z+`
`+Q+`
`+It})}function ki(w,z,Q,me,ze,Qe,It){w.info(function(){return"XMLHTTP RESP ("+me+") [ attempt "+ze+"]: "+z+`
`+Q+`
`+Qe+" "+It})}function Hr(w,z,Q,me){w.info(function(){return"XMLHTTP TEXT ("+z+"): "+Le(w,Q)+(me?" "+me:"")})}function un(w,z){w.info(function(){return"TIMEOUT: "+z})}as.prototype.info=function(){};function Le(w,z){if(!w.g)return z;if(!z)return null;try{const Qe=JSON.parse(z);if(Qe){for(w=0;w<Qe.length;w++)if(Array.isArray(Qe[w])){var Q=Qe[w];if(!(Q.length<2)){var me=Q[1];if(Array.isArray(me)&&!(me.length<1)){var ze=me[0];if(ze!="noop"&&ze!="stop"&&ze!="close")for(let It=1;It<me.length;It++)me[It]=""}}}}return Bt(Qe)}catch{return z}}var Dt={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Vt={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},$n;function Yt(){}p(Yt,Et),Yt.prototype.g=function(){return new XMLHttpRequest},$n=new Yt;function qn(w){return encodeURIComponent(String(w))}function te(w){var z=1;w=w.split(":");const Q=[];for(;z>0&&w.length;)Q.push(w.shift()),z--;return w.length&&Q.push(w.join(":")),Q}function be(w,z,Q,me){this.j=w,this.i=z,this.l=Q,this.S=me||1,this.V=new Zt(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new he}function he(){this.i=null,this.g="",this.h=!1}var ge={},we={};function Ee(w,z,Q){w.M=1,w.A=qo(ps(z)),w.u=Q,w.R=!0,Ve(w,null)}function Ve(w,z){w.F=Date.now(),Ke(w),w.B=ps(w.A);var Q=w.B,me=w.S;Array.isArray(me)||(me=[String(me)]),tc(Q.i,"t",me),w.C=0,Q=w.j.L,w.h=new he,w.g=Kt(w.j,Q?z:null,!w.u),w.P>0&&(w.O=new Qt(f(w.Y,w,w.g),w.P)),z=w.V,Q=w.g,me=w.ba;var ze="readystatechange";Array.isArray(ze)||(ze&&(on[0]=ze.toString()),ze=on);for(let Qe=0;Qe<ze.length;Qe++){const It=ue(Q,ze[Qe],me||z.handleEvent,!1,z.h||z);if(!It)break;z.g[It.key]=It}z=w.J?re(w.J):{},w.u?(w.v||(w.v="POST"),z["Content-Type"]="application/x-www-form-urlencoded",w.g.ea(w.B,w.v,w.u,z)):(w.v="GET",w.g.ea(w.B,w.v,null,z)),fn(),os(w.i,w.v,w.B,w.l,w.S,w.u)}be.prototype.ba=function(w){w=w.target;const z=this.O;z&&Yi(w)==3?z.j():this.Y(w)},be.prototype.Y=function(w){try{if(w==this.g)e:{const In=Yi(this.g),Gr=this.g.ya(),Yn=this.g.ca();if(!(In<3)&&(In!=3||this.g&&(this.h.h||this.g.la()||Ss(this.g)))){this.K||In!=4||Gr==7||(Gr==8||Yn<=0?fn(3):fn(2)),At(this);var z=this.g.ca();this.X=z;var Q=rt(this);if(this.o=z==200,ki(this.i,this.v,this.B,this.l,this.S,In,z),this.o){if(this.U&&!this.L){t:{if(this.g){var me,ze=this.g;if((me=ze.g?ze.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!H(me)){var Qe=me;break t}}Qe=null}if(w=Qe)Hr(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,kt(this,w);else{this.o=!1,this.m=3,cn(12),bt(this),Rt(this);break e}}if(this.R){w=!0;let Cr;for(;!this.K&&this.C<Q.length;)if(Cr=He(this,Q),Cr==we){In==4&&(this.m=4,cn(14),w=!1),Hr(this.i,this.l,null,"[Incomplete Response]");break}else if(Cr==ge){this.m=4,cn(15),Hr(this.i,this.l,Q,"[Invalid Chunk]"),w=!1;break}else Hr(this.i,this.l,Cr,null),kt(this,Cr);if(Oe(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),In!=4||Q.length!=0||this.h.h||(this.m=1,cn(16),w=!1),this.o=this.o&&w,!w)Hr(this.i,this.l,Q,"[Invalid Chunked Response]"),bt(this),Rt(this);else if(Q.length>0&&!this.W){this.W=!0;var It=this.j;It.g==this&&It.aa&&!It.P&&(It.j.info("Great, no buffering proxy detected. Bytes received: "+Q.length),ic(It),It.P=!0,cn(11))}}else Hr(this.i,this.l,Q,null),kt(this,Q);In==4&&bt(this),this.o&&!this.K&&(In==4?Ce(this.j,this):(this.o=!1,Ke(this)))}else Ka(this.g),z==400&&Q.indexOf("Unknown SID")>0?(this.m=3,cn(12)):(this.m=0,cn(13)),bt(this),Rt(this)}}}catch{}finally{}};function rt(w){if(!Oe(w))return w.g.la();const z=Ss(w.g);if(z==="")return"";let Q="";const me=z.length,ze=Yi(w.g)==4;if(!w.h.i){if(typeof TextDecoder>"u")return bt(w),Rt(w),"";w.h.i=new a.TextDecoder}for(let Qe=0;Qe<me;Qe++)w.h.h=!0,Q+=w.h.i.decode(z[Qe],{stream:!(ze&&Qe==me-1)});return z.length=0,w.h.g+=Q,w.C=0,w.h.g}function Oe(w){return w.g?w.v=="GET"&&w.M!=2&&w.j.Aa:!1}function He(w,z){var Q=w.C,me=z.indexOf(`
`,Q);return me==-1?we:(Q=Number(z.substring(Q,me)),isNaN(Q)?ge:(me+=1,me+Q>z.length?we:(z=z.slice(me,me+Q),w.C=me+Q,z)))}be.prototype.cancel=function(){this.K=!0,bt(this)};function Ke(w){w.T=Date.now()+w.H,_t(w,w.H)}function _t(w,z){if(w.D!=null)throw Error("WatchDog timer not null");w.D=Ln(f(w.aa,w),z)}function At(w){w.D&&(a.clearTimeout(w.D),w.D=null)}be.prototype.aa=function(){this.D=null;const w=Date.now();w-this.T>=0?(un(this.i,this.B),this.M!=2&&(fn(),cn(17)),bt(this),this.m=2,Rt(this)):_t(this,this.T-w)};function Rt(w){w.j.I==0||w.K||Ce(w.j,w)}function bt(w){At(w);var z=w.O;z&&typeof z.dispose=="function"&&z.dispose(),w.O=null,Sn(w.V),w.g&&(z=w.g,w.g=null,z.abort(),z.dispose())}function kt(w,z){try{var Q=w.j;if(Q.I!=0&&(Q.g==w||zs(Q.h,w))){if(!w.L&&zs(Q.h,w)&&Q.I==3){try{var me=Q.Ba.g.parse(z)}catch{me=null}if(Array.isArray(me)&&me.length==3){var ze=me;if(ze[0]==0){e:if(!Q.v){if(Q.g)if(Q.g.F+3e3<w.F)Z(Q),Xa(Q);else break e;Ma(Q),cn(18)}}else Q.xa=ze[1],0<Q.xa-Q.K&&ze[2]<37500&&Q.F&&Q.A==0&&!Q.C&&(Q.C=Ln(f(Q.Va,Q),6e3));wr(Q.h)<=1&&Q.ta&&(Q.ta=void 0)}else Ue(Q,11)}else if((w.L||Q.g==w)&&Z(Q),!H(z))for(ze=Q.Ba.g.parse(z),z=0;z<ze.length;z++){let Yn=ze[z];const Cr=Yn[0];if(!(Cr<=Q.K))if(Q.K=Cr,Yn=Yn[1],Q.I==2)if(Yn[0]=="c"){Q.M=Yn[1],Q.ba=Yn[2];const ni=Yn[3];ni!=null&&(Q.ka=ni,Q.j.info("VER="+Q.ka));const pi=Yn[4];pi!=null&&(Q.za=pi,Q.j.info("SVER="+Q.za));const Fr=Yn[5];Fr!=null&&typeof Fr=="number"&&Fr>0&&(me=1.5*Fr,Q.O=me,Q.j.info("backChannelRequestTimeoutMs_="+me)),me=Q;const mi=w.g;if(mi){const La=mi.g?mi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(La){var Qe=me.h;Qe.g||La.indexOf("spdy")==-1&&La.indexOf("quic")==-1&&La.indexOf("h2")==-1||(Qe.j=Qe.l,Qe.g=new Set,Qe.h&&(Wi(Qe,Qe.h),Qe.h=null))}if(me.G){const $o=mi.g?mi.g.getResponseHeader("X-HTTP-Session-Id"):null;$o&&(me.wa=$o,or(me.J,me.G,$o))}}Q.I=3,Q.l&&Q.l.ra(),Q.aa&&(Q.T=Date.now()-w.F,Q.j.info("Handshake RTT: "+Q.T+"ms")),me=Q;var It=w;if(me.na=yt(me,me.L?me.ba:null,me.W),It.L){ca(me.h,It);var In=It,Gr=me.O;Gr&&(In.H=Gr),In.D&&(At(In),Ke(In)),me.g=It}else Xc(me);Q.i.length>0&&fa(Q)}else Yn[0]!="stop"&&Yn[0]!="close"||Ue(Q,7);else Q.I==3&&(Yn[0]=="stop"||Yn[0]=="close"?Yn[0]=="stop"?Ue(Q,7):Wo(Q):Yn[0]!="noop"&&Q.l&&Q.l.qa(Yn),Q.A=0)}}fn(4)}catch{}}var $t=class{constructor(w,z){this.g=w,this.map=z}};function mr(w){this.l=w||10,a.PerformanceNavigationTiming?(w=a.performance.getEntriesByType("navigation"),w=w.length>0&&(w[0].nextHopProtocol=="hq"||w[0].nextHopProtocol=="h2")):w=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=w?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function zn(w){return w.h?!0:w.g?w.g.size>=w.j:!1}function wr(w){return w.h?1:w.g?w.g.size:0}function zs(w,z){return w.h?w.h==z:w.g?w.g.has(z):!1}function Wi(w,z){w.g?w.g.add(z):w.h=z}function ca(w,z){w.h&&w.h==z?w.h=null:w.g&&w.g.has(z)&&w.g.delete(z)}mr.prototype.cancel=function(){if(this.i=Ri(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const w of this.g.values())w.cancel();this.g.clear()}};function Ri(w){if(w.h!=null)return w.i.concat(w.h.G);if(w.g!=null&&w.g.size!==0){let z=w.i;for(const Q of w.g.values())z=z.concat(Q.G);return z}return y(w.i)}var bo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Zr(w,z){if(w){w=w.split("&");for(let Q=0;Q<w.length;Q++){const me=w[Q].indexOf("=");let ze,Qe=null;me>=0?(ze=w[Q].substring(0,me),Qe=w[Q].substring(me+1)):ze=w[Q],z(ze,Qe?decodeURIComponent(Qe.replace(/\+/g," ")):"")}}}function ei(w){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let z;w instanceof ei?(this.l=w.l,Qn(this,w.j),this.o=w.o,this.g=w.g,wo(this,w.u),this.h=w.h,ua(this,nc(w.i)),this.m=w.m):w&&(z=String(w).match(bo))?(this.l=!1,Qn(this,z[1]||"",!0),this.o=Es(z[2]||""),this.g=Es(z[3]||"",!0),wo(this,z[4]),this.h=Es(z[5]||"",!0),ua(this,z[6]||"",!0),this.m=Es(z[7]||"")):(this.l=!1,this.i=new To(null,this.l))}ei.prototype.toString=function(){const w=[];var z=this.j;z&&w.push(es(z,vl,!0),":");var Q=this.g;return(Q||z=="file")&&(w.push("//"),(z=this.o)&&w.push(es(z,vl,!0),"@"),w.push(qn(Q).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),Q=this.u,Q!=null&&w.push(":",String(Q))),(Q=this.h)&&(this.g&&Q.charAt(0)!="/"&&w.push("/"),w.push(es(Q,Q.charAt(0)=="/"?Gc:zu,!0))),(Q=this.i.toString())&&w.push("?",Q),(Q=this.m)&&w.push("#",es(Q,Wc)),w.join("")},ei.prototype.resolve=function(w){const z=ps(this);let Q=!!w.j;Q?Qn(z,w.j):Q=!!w.o,Q?z.o=w.o:Q=!!w.g,Q?z.g=w.g:Q=w.u!=null;var me=w.h;if(Q)wo(z,w.u);else if(Q=!!w.h){if(me.charAt(0)!="/")if(this.g&&!this.h)me="/"+me;else{var ze=z.h.lastIndexOf("/");ze!=-1&&(me=z.h.slice(0,ze+1)+me)}if(ze=me,ze==".."||ze==".")me="";else if(ze.indexOf("./")!=-1||ze.indexOf("/.")!=-1){me=ze.lastIndexOf("/",0)==0,ze=ze.split("/");const Qe=[];for(let It=0;It<ze.length;){const In=ze[It++];In=="."?me&&It==ze.length&&Qe.push(""):In==".."?((Qe.length>1||Qe.length==1&&Qe[0]!="")&&Qe.pop(),me&&It==ze.length&&Qe.push("")):(Qe.push(In),me=!0)}me=Qe.join("/")}else me=ze}return Q?z.h=me:Q=w.i.toString()!=="",Q?ua(z,nc(w.i)):Q=!!w.m,Q&&(z.m=w.m),z};function ps(w){return new ei(w)}function Qn(w,z,Q){w.j=Q?Es(z,!0):z,w.j&&(w.j=w.j.replace(/:$/,""))}function wo(w,z){if(z){if(z=Number(z),isNaN(z)||z<0)throw Error("Bad port number "+z);w.u=z}else w.u=null}function ua(w,z,Q){z instanceof To?(w.i=z,Pi(w.i,w.l)):(Q||(z=es(z,hi)),w.i=new To(z,w.l))}function or(w,z,Q){w.i.set(z,Q)}function qo(w){return or(w,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),w}function Es(w,z){return w?z?decodeURI(w.replace(/%25/g,"%2525")):decodeURIComponent(w):""}function es(w,z,Q){return typeof w=="string"?(w=encodeURI(w).replace(z,ms),Q&&(w=w.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w):null}function ms(w){return w=w.charCodeAt(0),"%"+(w>>4&15).toString(16)+(w&15).toString(16)}var vl=/[#\/\?@]/g,zu=/[#\?:]/g,Gc=/[#\?]/g,hi=/[#\?@]/g,Wc=/#/g;function To(w,z){this.h=this.g=null,this.i=w||null,this.j=!!z}function Gs(w){w.g||(w.g=new Map,w.h=0,w.i&&Zr(w.i,function(z,Q){w.add(decodeURIComponent(z.replace(/\+/g," ")),Q)}))}t=To.prototype,t.add=function(w,z){Gs(this),this.i=null,w=Eo(this,w);let Q=this.g.get(w);return Q||this.g.set(w,Q=[]),Q.push(z),this.h+=1,this};function Ho(w,z){Gs(w),z=Eo(w,z),w.g.has(z)&&(w.i=null,w.h-=w.g.get(z).length,w.g.delete(z))}function $c(w,z){return Gs(w),z=Eo(w,z),w.g.has(z)}t.forEach=function(w,z){Gs(this),this.g.forEach(function(Q,me){Q.forEach(function(ze){w.call(z,ze,me,this)},this)},this)};function Kc(w,z){Gs(w);let Q=[];if(typeof z=="string")$c(w,z)&&(Q=Q.concat(w.g.get(Eo(w,z))));else for(w=Array.from(w.g.values()),z=0;z<w.length;z++)Q=Q.concat(w[z]);return Q}t.set=function(w,z){return Gs(this),this.i=null,w=Eo(this,w),$c(this,w)&&(this.h-=this.g.get(w).length),this.g.set(w,[z]),this.h+=1,this},t.get=function(w,z){return w?(w=Kc(this,w),w.length>0?String(w[0]):z):z};function tc(w,z,Q){Ho(w,z),Q.length>0&&(w.i=null,w.g.set(Eo(w,z),y(Q)),w.h+=Q.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const w=[],z=Array.from(this.g.keys());for(let me=0;me<z.length;me++){var Q=z[me];const ze=qn(Q);Q=Kc(this,Q);for(let Qe=0;Qe<Q.length;Qe++){let It=ze;Q[Qe]!==""&&(It+="="+qn(Q[Qe])),w.push(It)}}return this.i=w.join("&")};function nc(w){const z=new To;return z.i=w.i,w.g&&(z.g=new Map(w.g),z.h=w.h),z}function Eo(w,z){return z=String(z),w.j&&(z=z.toLowerCase()),z}function Pi(w,z){z&&!w.j&&(Gs(w),w.i=null,w.g.forEach(function(Q,me){const ze=me.toLowerCase();me!=ze&&(Ho(this,me),tc(this,ze,Q))},w)),w.j=z}function Pa(w,z){const Q=new as;if(a.Image){const me=new Image;me.onload=d(Di,Q,"TestLoadImage: loaded",!0,z,me),me.onerror=d(Di,Q,"TestLoadImage: error",!1,z,me),me.onabort=d(Di,Q,"TestLoadImage: abort",!1,z,me),me.ontimeout=d(Di,Q,"TestLoadImage: timeout",!1,z,me),a.setTimeout(function(){me.ontimeout&&me.ontimeout()},1e4),me.src=w}else z(!1)}function So(w,z){const Q=new as,me=new AbortController,ze=setTimeout(()=>{me.abort(),Di(Q,"TestPingServer: timeout",!1,z)},1e4);fetch(w,{signal:me.signal}).then(Qe=>{clearTimeout(ze),Qe.ok?Di(Q,"TestPingServer: ok",!0,z):Di(Q,"TestPingServer: server error",!1,z)}).catch(()=>{clearTimeout(ze),Di(Q,"TestPingServer: error",!1,z)})}function Di(w,z,Q,me,ze){try{ze&&(ze.onload=null,ze.onerror=null,ze.onabort=null,ze.ontimeout=null),me(Q)}catch{}}function zo(){this.g=new wt}function yn(w){this.i=w.Sb||null,this.h=w.ab||!1}p(yn,Et),yn.prototype.g=function(){return new _l(this.i,this.h)};function _l(w,z){tt.call(this),this.H=w,this.o=z,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}p(_l,tt),t=_l.prototype,t.open=function(w,z){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=w,this.D=z,this.readyState=1,Ws(this)},t.send=function(w){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const z={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};w&&(z.body=w),(this.H||a).fetch(new Request(this.D,z)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Go(this)),this.readyState=0},t.Pa=function(w){if(this.g&&(this.l=w,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=w.headers,this.readyState=2,Ws(this)),this.g&&(this.readyState=3,Ws(this),this.g)))if(this.responseType==="arraybuffer")w.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in w){if(this.j=w.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;rc(this)}else w.text().then(this.Oa.bind(this),this.ga.bind(this))};function rc(w){w.j.read().then(w.Ma.bind(w)).catch(w.ga.bind(w))}t.Ma=function(w){if(this.g){if(this.o&&w.value)this.response.push(w.value);else if(!this.o){var z=w.value?w.value:new Uint8Array(0);(z=this.B.decode(z,{stream:!w.done}))&&(this.response=this.responseText+=z)}w.done?Go(this):Ws(this),this.readyState==3&&rc(this)}},t.Oa=function(w){this.g&&(this.response=this.responseText=w,Go(this))},t.Na=function(w){this.g&&(this.response=w,Go(this))},t.ga=function(){this.g&&Go(this)};function Go(w){w.readyState=4,w.l=null,w.j=null,w.B=null,Ws(w)}t.setRequestHeader=function(w,z){this.A.append(w,z)},t.getResponseHeader=function(w){return this.h&&this.h.get(w.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const w=[],z=this.h.entries();for(var Q=z.next();!Q.done;)Q=Q.value,w.push(Q[0]+": "+Q[1]),Q=z.next();return w.join(`\r
`)};function Ws(w){w.onreadystatechange&&w.onreadystatechange.call(w)}Object.defineProperty(_l.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(w){this.m=w?"include":"same-origin"}});function Ps(w){let z="";return xe(w,function(Q,me){z+=me,z+=":",z+=Q,z+=`\r
`}),z}function bl(w,z,Q){e:{for(me in Q){var me=!1;break e}me=!0}me||(Q=Ps(Q),typeof w=="string"?Q!=null&&qn(Q):or(w,z,Q))}function Ar(w){tt.call(this),this.headers=new Map,this.L=w||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}p(Ar,tt);var $i=/^https?$/i,wl=["POST","PUT"];t=Ar.prototype,t.Fa=function(w){this.H=w},t.ea=function(w,z,Q,me){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+w);z=z?z.toUpperCase():"GET",this.D=w,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():$n.g(),this.g.onreadystatechange=g(f(this.Ca,this));try{this.B=!0,this.g.open(z,String(w),!0),this.B=!1}catch(Qe){Da(this,Qe);return}if(w=Q||"",Q=new Map(this.headers),me)if(Object.getPrototypeOf(me)===Object.prototype)for(var ze in me)Q.set(ze,me[ze]);else if(typeof me.keys=="function"&&typeof me.get=="function")for(const Qe of me.keys())Q.set(Qe,me.get(Qe));else throw Error("Unknown input type for opt_headers: "+String(me));me=Array.from(Q.keys()).find(Qe=>Qe.toLowerCase()=="content-type"),ze=a.FormData&&w instanceof a.FormData,!(Array.prototype.indexOf.call(wl,z,void 0)>=0)||me||ze||Q.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Qe,It]of Q)this.g.setRequestHeader(Qe,It);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(w),this.v=!1}catch(Qe){Da(this,Qe)}};function Da(w,z){w.h=!1,w.g&&(w.j=!0,w.g.abort(),w.j=!1),w.l=z,w.o=5,Yc(w),Ao(w)}function Yc(w){w.A||(w.A=!0,St(w,"complete"),St(w,"error"))}t.abort=function(w){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=w||7,St(this,"complete"),St(this,"abort"),Ao(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ao(this,!0)),Ar.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Ki(this):this.Xa())},t.Xa=function(){Ki(this)};function Ki(w){if(w.h&&typeof i<"u"){if(w.v&&Yi(w)==4)setTimeout(w.Ca.bind(w),0);else if(St(w,"readystatechange"),Yi(w)==4){w.h=!1;try{const Qe=w.ca();e:switch(Qe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var z=!0;break e;default:z=!1}var Q;if(!(Q=z)){var me;if(me=Qe===0){let It=String(w.D).match(bo)[1]||null;!It&&a.self&&a.self.location&&(It=a.self.location.protocol.slice(0,-1)),me=!$i.test(It?It.toLowerCase():"")}Q=me}if(Q)St(w,"complete"),St(w,"success");else{w.o=6;try{var ze=Yi(w)>2?w.g.statusText:""}catch{ze=""}w.l=ze+" ["+w.ca()+"]",Yc(w)}}finally{Ao(w)}}}}function Ao(w,z){if(w.g){w.m&&(clearTimeout(w.m),w.m=null);const Q=w.g;w.g=null,z||St(w,"ready");try{Q.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Yi(w){return w.g?w.g.readyState:0}t.ca=function(){try{return Yi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(w){if(this.g){var z=this.g.responseText;return w&&z.indexOf(w)==0&&(z=z.substring(w.length)),vt(z)}};function Ss(w){try{if(!w.g)return null;if("response"in w.g)return w.g.response;switch(w.F){case"":case"text":return w.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in w.g)return w.g.mozResponseArrayBuffer}return null}catch{return null}}function Ka(w){const z={};w=(w.g&&Yi(w)>=2&&w.g.getAllResponseHeaders()||"").split(`\r
`);for(let me=0;me<w.length;me++){if(H(w[me]))continue;var Q=te(w[me]);const ze=Q[0];if(Q=Q[1],typeof Q!="string")continue;Q=Q.trim();const Qe=z[ze]||[];z[ze]=Qe,Qe.push(Q)}Re(z,function(me){return me.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ti(w,z,Q){return Q&&Q.internalChannelParams&&Q.internalChannelParams[w]||z}function Ya(w){this.za=0,this.i=[],this.j=new as,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ti("failFast",!1,w),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ti("baseRetryDelayMs",5e3,w),this.Za=ti("retryDelaySeedMs",1e4,w),this.Ta=ti("forwardChannelMaxRetries",2,w),this.va=ti("forwardChannelRequestTimeoutMs",2e4,w),this.ma=w&&w.xmlHttpFactory||void 0,this.Ua=w&&w.Rb||void 0,this.Aa=w&&w.useFetchStreams||!1,this.O=void 0,this.L=w&&w.supportsCrossDomainXhr||!1,this.M="",this.h=new mr(w&&w.concurrentRequestLimit),this.Ba=new zo,this.S=w&&w.fastHandshake||!1,this.R=w&&w.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=w&&w.Pb||!1,w&&w.ua&&this.j.ua(),w&&w.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&w&&w.detectBufferingProxy||!1,this.ia=void 0,w&&w.longPollingTimeout&&w.longPollingTimeout>0&&(this.ia=w.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Ya.prototype,t.ka=8,t.I=1,t.connect=function(w,z,Q,me){cn(0),this.W=w,this.H=z||{},Q&&me!==void 0&&(this.H.OSID=Q,this.H.OAID=me),this.F=this.X,this.J=yt(this,null,this.W),fa(this)};function Wo(w){if(Ja(w),w.I==3){var z=w.V++,Q=ps(w.J);if(or(Q,"SID",w.M),or(Q,"RID",z),or(Q,"TYPE","terminate"),Xi(w,Q),z=new be(w,w.j,z),z.M=2,z.A=qo(ps(Q)),Q=!1,a.navigator&&a.navigator.sendBeacon)try{Q=a.navigator.sendBeacon(z.A.toString(),"")}catch{}!Q&&a.Image&&(new Image().src=z.A,Q=!0),Q||(z.g=Kt(z.j,null),z.g.ea(z.A)),z.F=Date.now(),Ke(z)}ct(w)}function Xa(w){w.g&&(ic(w),w.g.cancel(),w.g=null)}function Ja(w){Xa(w),w.v&&(a.clearTimeout(w.v),w.v=null),Z(w),w.h.cancel(),w.m&&(typeof w.m=="number"&&a.clearTimeout(w.m),w.m=null)}function fa(w){if(!zn(w.h)&&!w.m){w.m=!0;var z=w.Ea;W||L(),K||(W(),K=!0),D.add(z,w),w.D=0}}function Tl(w,z){return wr(w.h)>=w.h.j-(w.m?1:0)?!1:w.m?(w.i=z.G.concat(w.i),!0):w.I==1||w.I==2||w.D>=(w.Sa?0:w.Ta)?!1:(w.m=Ln(f(w.Ea,w,z),De(w,w.D)),w.D++,!0)}t.Ea=function(w){if(this.m)if(this.m=null,this.I==1){if(!w){this.V=Math.floor(Math.random()*1e5),w=this.V++;const ze=new be(this,this.j,w);let Qe=this.o;if(this.U&&(Qe?(Qe=re(Qe),J(Qe,this.U)):Qe=this.U),this.u!==null||this.R||(ze.J=Qe,Qe=null),this.S)e:{for(var z=0,Q=0;Q<this.i.length;Q++){t:{var me=this.i[Q];if("__data__"in me.map&&(me=me.map.__data__,typeof me=="string")){me=me.length;break t}me=void 0}if(me===void 0)break;if(z+=me,z>4096){z=Q;break e}if(z===4096||Q===this.i.length-1){z=Q+1;break e}}z=1e3}else z=1e3;z=Qa(this,ze,z),Q=ps(this.J),or(Q,"RID",w),or(Q,"CVER",22),this.G&&or(Q,"X-HTTP-Session-Id",this.G),Xi(this,Q),Qe&&(this.R?z="headers="+qn(Ps(Qe))+"&"+z:this.u&&bl(Q,this.u,Qe)),Wi(this.h,ze),this.Ra&&or(Q,"TYPE","init"),this.S?(or(Q,"$req",z),or(Q,"SID","null"),ze.U=!0,Ee(ze,Q,null)):Ee(ze,Q,z),this.I=2}}else this.I==3&&(w?sc(this,w):this.i.length==0||zn(this.h)||sc(this))};function sc(w,z){var Q;z?Q=z.l:Q=w.V++;const me=ps(w.J);or(me,"SID",w.M),or(me,"RID",Q),or(me,"AID",w.K),Xi(w,me),w.u&&w.o&&bl(me,w.u,w.o),Q=new be(w,w.j,Q,w.D+1),w.u===null&&(Q.J=w.o),z&&(w.i=z.G.concat(w.i)),z=Qa(w,Q,1e3),Q.H=Math.round(w.va*.5)+Math.round(w.va*.5*Math.random()),Wi(w.h,Q),Ee(Q,me,z)}function Xi(w,z){w.H&&xe(w.H,function(Q,me){or(z,me,Q)}),w.l&&xe({},function(Q,me){or(z,me,Q)})}function Qa(w,z,Q){Q=Math.min(w.i.length,Q);const me=w.l?f(w.l.Ka,w.l,w):null;e:{var ze=w.i;let In=-1;for(;;){const Gr=["count="+Q];In==-1?Q>0?(In=ze[0].g,Gr.push("ofs="+In)):In=0:Gr.push("ofs="+In);let Yn=!0;for(let Cr=0;Cr<Q;Cr++){var Qe=ze[Cr].g;const ni=ze[Cr].map;if(Qe-=In,Qe<0)In=Math.max(0,ze[Cr].g-100),Yn=!1;else try{Qe="req"+Qe+"_"||"";try{var It=ni instanceof Map?ni:Object.entries(ni);for(const[pi,Fr]of It){let mi=Fr;o(Fr)&&(mi=Bt(Fr)),Gr.push(Qe+pi+"="+encodeURIComponent(mi))}}catch(pi){throw Gr.push(Qe+"type="+encodeURIComponent("_badmap")),pi}}catch{me&&me(ni)}}if(Yn){It=Gr.join("&");break e}}It=void 0}return w=w.i.splice(0,Q),z.G=w,It}function Xc(w){if(!w.g&&!w.v){w.Y=1;var z=w.Da;W||L(),K||(W(),K=!0),D.add(z,w),w.A=0}}function Ma(w){return w.g||w.v||w.A>=3?!1:(w.Y++,w.v=Ln(f(w.Da,w),De(w,w.A)),w.A++,!0)}t.Da=function(){if(this.v=null,F(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var w=4*this.T;this.j.info("BP detection timer enabled: "+w),this.B=Ln(f(this.Wa,this),w)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,cn(10),Xa(this),F(this))};function ic(w){w.B!=null&&(a.clearTimeout(w.B),w.B=null)}function F(w){w.g=new be(w,w.j,"rpc",w.Y),w.u===null&&(w.g.J=w.o),w.g.P=0;var z=ps(w.na);or(z,"RID","rpc"),or(z,"SID",w.M),or(z,"AID",w.K),or(z,"CI",w.F?"0":"1"),!w.F&&w.ia&&or(z,"TO",w.ia),or(z,"TYPE","xmlhttp"),Xi(w,z),w.u&&w.o&&bl(z,w.u,w.o),w.O&&(w.g.H=w.O);var Q=w.g;w=w.ba,Q.M=1,Q.A=qo(ps(z)),Q.u=null,Q.R=!0,Ve(Q,w)}t.Va=function(){this.C!=null&&(this.C=null,Xa(this),Ma(this),cn(19))};function Z(w){w.C!=null&&(a.clearTimeout(w.C),w.C=null)}function Ce(w,z){var Q=null;if(w.g==z){Z(w),ic(w),w.g=null;var me=2}else if(zs(w.h,z))Q=z.G,ca(w.h,z),me=1;else return;if(w.I!=0){if(z.o)if(me==1){Q=z.u?z.u.length:0,z=Date.now()-z.F;var ze=w.D;me=Jn(),St(me,new Wt(me,Q)),fa(w)}else Xc(w);else if(ze=z.m,ze==3||ze==0&&z.X>0||!(me==1&&Tl(w,z)||me==2&&Ma(w)))switch(Q&&Q.length>0&&(z=w.h,z.i=z.i.concat(Q)),ze){case 1:Ue(w,5);break;case 4:Ue(w,10);break;case 3:Ue(w,6);break;default:Ue(w,2)}}}function De(w,z){let Q=w.Qa+Math.floor(Math.random()*w.Za);return w.isActive()||(Q*=2),Q*z}function Ue(w,z){if(w.j.info("Error code "+z),z==2){var Q=f(w.bb,w),me=w.Ua;const ze=!me;me=new ei(me||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Qn(me,"https"),qo(me),ze?Pa(me.toString(),Q):So(me.toString(),Q)}else cn(2);w.I=0,w.l&&w.l.pa(z),ct(w),Ja(w)}t.bb=function(w){w?(this.j.info("Successfully pinged google.com"),cn(2)):(this.j.info("Failed to ping google.com"),cn(1))};function ct(w){if(w.I=0,w.ja=[],w.l){const z=Ri(w.h);(z.length!=0||w.i.length!=0)&&(E(w.ja,z),E(w.ja,w.i),w.h.i.length=0,y(w.i),w.i.length=0),w.l.oa()}}function yt(w,z,Q){var me=Q instanceof ei?ps(Q):new ei(Q);if(me.g!="")z&&(me.g=z+"."+me.g),wo(me,me.u);else{var ze=a.location;me=ze.protocol,z=z?z+"."+ze.hostname:ze.hostname,ze=+ze.port;const Qe=new ei(null);me&&Qn(Qe,me),z&&(Qe.g=z),ze&&wo(Qe,ze),Q&&(Qe.h=Q),me=Qe}return Q=w.G,z=w.wa,Q&&z&&or(me,Q,z),or(me,"VER",w.ka),Xi(w,me),me}function Kt(w,z,Q){if(z&&!w.L)throw Error("Can't create secondary domain capable XhrIo object.");return z=w.Aa&&!w.ma?new Ar(new yn({ab:Q})):new Ar(w.ma),z.Fa(w.L),z}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function en(){}t=en.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function _n(){}_n.prototype.g=function(w,z){return new gn(w,z)};function gn(w,z){tt.call(this),this.g=new Ya(z),this.l=w,this.h=z&&z.messageUrlParams||null,w=z&&z.messageHeaders||null,z&&z.clientProtocolHeaderRequired&&(w?w["X-Client-Protocol"]="webchannel":w={"X-Client-Protocol":"webchannel"}),this.g.o=w,w=z&&z.initMessageHeaders||null,z&&z.messageContentType&&(w?w["X-WebChannel-Content-Type"]=z.messageContentType:w={"X-WebChannel-Content-Type":z.messageContentType}),z&&z.sa&&(w?w["X-WebChannel-Client-Profile"]=z.sa:w={"X-WebChannel-Client-Profile":z.sa}),this.g.U=w,(w=z&&z.Qb)&&!H(w)&&(this.g.u=w),this.A=z&&z.supportsCrossDomainXhr||!1,this.v=z&&z.sendRawJson||!1,(z=z&&z.httpSessionIdParam)&&!H(z)&&(this.g.G=z,w=this.h,w!==null&&z in w&&(w=this.h,z in w&&delete w[z])),this.j=new Mr(this)}p(gn,tt),gn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){Wo(this.g)},gn.prototype.o=function(w){var z=this.g;if(typeof w=="string"){var Q={};Q.__data__=w,w=Q}else this.v&&(Q={},Q.__data__=Bt(w),w=Q);z.i.push(new $t(z.Ya++,w)),z.I==3&&fa(z)},gn.prototype.N=function(){this.g.l=null,delete this.j,Wo(this.g),delete this.g,gn.Z.N.call(this)};function er(w){Gt.call(this),w.__headers__&&(this.headers=w.__headers__,this.statusCode=w.__status__,delete w.__headers__,delete w.__status__);var z=w.__sm__;if(z){e:{for(const Q in z){w=Q;break e}w=void 0}(this.i=w)&&(w=this.i,z=z!==null&&w in z?z[w]:void 0),this.data=z}else this.data=w}p(er,Gt);function zr(){mn.call(this),this.status=1}p(zr,mn);function Mr(w){this.g=w}p(Mr,en),Mr.prototype.ra=function(){St(this.g,"a")},Mr.prototype.qa=function(w){St(this.g,new er(w))},Mr.prototype.pa=function(w){St(this.g,new zr)},Mr.prototype.oa=function(){St(this.g,"b")},_n.prototype.createWebChannel=_n.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,xL=function(){return new _n},gL=function(){return Jn()},mL=An,m5={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Dt.NO_ERROR=0,Dt.TIMEOUT=8,Dt.HTTP_ERROR=6,Ty=Dt,Vt.COMPLETE="complete",pL=Vt,Wn.EventType=qt,qt.OPEN="a",qt.CLOSE="b",qt.ERROR="c",qt.MESSAGE="d",tt.prototype.listen=tt.prototype.J,Gm=Wn,Ar.prototype.listenOnce=Ar.prototype.K,Ar.prototype.getLastError=Ar.prototype.Ha,Ar.prototype.getLastErrorCode=Ar.prototype.ya,Ar.prototype.getStatus=Ar.prototype.ca,Ar.prototype.getResponseJson=Ar.prototype.La,Ar.prototype.getResponseText=Ar.prototype.la,Ar.prototype.send=Ar.prototype.ea,Ar.prototype.setWithCredentials=Ar.prototype.Fa,hL=Ar}).apply(typeof Ox<"u"?Ox:typeof self<"u"?self:typeof window<"u"?window:{});const xI="@firebase/firestore",yI="4.9.2";class ra{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ra.UNAUTHENTICATED=new ra(null),ra.GOOGLE_CREDENTIALS=new ra("google-credentials-uid"),ra.FIRST_PARTY=new ra("first-party-uid"),ra.MOCK_USER=new ra("mock-user");let Op="12.3.0";const rh=new oE("@firebase/firestore");function S0(){return rh.logLevel}function Nt(t,...e){if(rh.logLevel<=ur.DEBUG){const n=e.map(vE);rh.debug(`Firestore (${Op}): ${t}`,...n)}}function qa(t,...e){if(rh.logLevel<=ur.ERROR){const n=e.map(vE);rh.error(`Firestore (${Op}): ${t}`,...n)}}function sh(t,...e){if(rh.logLevel<=ur.WARN){const n=e.map(vE);rh.warn(`Firestore (${Op}): ${t}`,...n)}}function vE(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function sn(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,yL(t,r,n)}function yL(t,e,n){let r=`FIRESTORE (${Op}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw qa(r),new Error(r)}function xn(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||yL(e,s,r)}function On(t,e){return t}const mt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ft extends Bu{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Mc{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class vL{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class UX{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(ra.UNAUTHENTICATED)))}shutdown(){}}class jX{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class qX{constructor(e){this.t=e,this.currentUser=ra.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){xn(this.o===void 0,42304);let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new Mc;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Mc,e.enqueueRetryable((()=>s(this.currentUser)))};const a=()=>{const c=i;e.enqueueRetryable((async()=>{await c.promise,await s(this.currentUser)}))},o=c=>{Nt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit((c=>o(c))),setTimeout((()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?o(c):(Nt("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Mc)}}),0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Nt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(xn(typeof r.accessToken=="string",31837,{l:r}),new vL(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return xn(e===null||typeof e=="string",2055,{h:e}),new ra(e)}}class HX{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=ra.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class zX{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new HX(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(ra.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class vI{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class GX{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ul(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){xn(this.o===void 0,3512);const r=i=>{i.error!=null&&Nt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const a=i.token!==this.m;return this.m=i.token,Nt("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable((()=>r(i)))};const s=i=>{Nt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((i=>s(i))),setTimeout((()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):Nt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new vI(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(xn(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new vI(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function WX(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class _E{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=WX(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function Fn(t,e){return t<e?-1:t>e?1:0}function g5(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return bb(s)===bb(i)?Fn(s,i):bb(s)?1:-1}return Fn(t.length,e.length)}const $X=55296,KX=57343;function bb(t){const e=t.charCodeAt(0);return e>=$X&&e<=KX}function hp(t,e,n){return t.length===e.length&&t.every(((r,s)=>n(r,e[s])))}function _L(t){return t+"\0"}const _I="__name__";class Sc{constructor(e,n,r){n===void 0?n=0:n>e.length&&sn(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&sn(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Sc.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Sc?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=Sc.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return Fn(e.length,n.length)}static compareSegments(e,n){const r=Sc.isNumericId(e),s=Sc.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Sc.extractNumericId(e).compare(Sc.extractNumericId(n)):g5(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Hf.fromString(e.substring(4,e.length-2))}}class Lr extends Sc{construct(e,n,r){return new Lr(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ft(mt.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((s=>s.length>0)))}return new Lr(n)}static emptyPath(){return new Lr([])}}const YX=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Rs extends Sc{construct(e,n,r){return new Rs(e,n,r)}static isValidIdentifier(e){return YX.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Rs.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===_I}static keyField(){return new Rs([_I])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new Ft(mt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;s<e.length;){const o=e[s];if(o==="\\"){if(s+1===e.length)throw new Ft(mt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Ft(mt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else o==="`"?(a=!a,s++):o!=="."||a?(r+=o,s++):(i(),s++)}if(i(),a)throw new Ft(mt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Rs(n)}static emptyPath(){return new Rs([])}}class Ot{constructor(e){this.path=e}static fromPath(e){return new Ot(Lr.fromString(e))}static fromName(e){return new Ot(Lr.fromString(e).popFirst(5))}static empty(){return new Ot(Lr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Lr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Lr.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ot(new Lr(e.slice()))}}function bL(t,e,n){if(!n)throw new Ft(mt.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function XX(t,e,n,r){if(e===!0&&r===!0)throw new Ft(mt.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function bI(t){if(!Ot.isDocumentKey(t))throw new Ft(mt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function wI(t){if(Ot.isDocumentKey(t))throw new Ft(mt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function wL(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function bE(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":sn(12329,{type:typeof t})}function Vc(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ft(mt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=bE(t);throw new Ft(mt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function fi(t,e){const n={typeString:t};return e&&(n.value=e),n}function b1(t,e){if(!wL(t))throw new Ft(mt.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const a=t[r];if(s&&typeof a!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&a!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new Ft(mt.INVALID_ARGUMENT,n);return!0}const TI=-62135596800,EI=1e6;class jr{static now(){return jr.fromMillis(Date.now())}static fromDate(e){return jr.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*EI);return new jr(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ft(mt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ft(mt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<TI)throw new Ft(mt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ft(mt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/EI}_compareTo(e){return this.seconds===e.seconds?Fn(this.nanoseconds,e.nanoseconds):Fn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:jr._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(b1(e,jr._jsonSchema))return new jr(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-TI;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}jr._jsonSchemaVersion="firestore/timestamp/1.0",jr._jsonSchema={type:fi("string",jr._jsonSchemaVersion),seconds:fi("number"),nanoseconds:fi("number")};class Tn{static fromTimestamp(e){return new Tn(e)}static min(){return new Tn(new jr(0,0))}static max(){return new Tn(new jr(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ug=-1;class i2{constructor(e,n,r,s){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=s}}function x5(t){return t.fields.find((e=>e.kind===2))}function kd(t){return t.fields.filter((e=>e.kind!==2))}i2.UNKNOWN_ID=-1;class Ey{constructor(e,n){this.fieldPath=e,this.kind=n}}class jg{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new jg(0,Uo.min())}}function JX(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Tn.fromTimestamp(r===1e9?new jr(n+1,0):new jr(n,r));return new Uo(s,Ot.empty(),e)}function TL(t){return new Uo(t.readTime,t.key,Ug)}class Uo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Uo(Tn.min(),Ot.empty(),Ug)}static max(){return new Uo(Tn.max(),Ot.empty(),Ug)}}function wE(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ot.comparator(t.documentKey,e.documentKey),n!==0?n:Fn(t.largestBatchId,e.largestBatchId))}const EL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class SL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function yh(t){if(t.code!==mt.FAILED_PRECONDITION||t.message!==EL)throw t;Nt("LocalStore","Unexpectedly lost primary lease")}class $e{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&sn(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new $e(((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof $e?n:$e.resolve(n)}catch(n){return $e.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):$e.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):$e.reject(n)}static resolve(e){return new $e(((n,r)=>{n(e)}))}static reject(e){return new $e(((n,r)=>{r(e)}))}static waitFor(e){return new $e(((n,r)=>{let s=0,i=0,a=!1;e.forEach((o=>{++s,o.next((()=>{++i,a&&i===s&&n()}),(c=>r(c)))})),a=!0,i===s&&n()}))}static or(e){let n=$e.resolve(!1);for(const r of e)n=n.next((s=>s?$e.resolve(s):r()));return n}static forEach(e,n){const r=[];return e.forEach(((s,i)=>{r.push(n.call(this,s,i))})),this.waitFor(r)}static mapArray(e,n){return new $e(((r,s)=>{const i=e.length,a=new Array(i);let o=0;for(let c=0;c<i;c++){const f=c;n(e[f]).next((d=>{a[f]=d,++o,o===i&&r(a)}),(d=>s(d)))}}))}static doWhile(e,n){return new $e(((r,s)=>{const i=()=>{e()===!0?n().next((()=>{i()}),s):r()};i()}))}}const Lo="SimpleDb";class Q2{static open(e,n,r,s){try{return new Q2(n,e.transaction(s,r))}catch(i){throw new lg(n,i)}}constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.S=new Mc,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{n.error?this.S.reject(new lg(e,n.error)):this.S.resolve()},this.transaction.onerror=r=>{const s=TE(r.target.error);this.S.reject(new lg(e,s))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(Nt(Lo,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new ZX(n)}}class zf{static delete(e){return Nt(Lo,"Removing database:",e),Dd(xM().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!AM())return!1;if(zf.F())return!0;const e=Ni(),n=zf.M(e),r=0<n&&n<10,s=AL(e),i=0<s&&s<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||i)}static F(){return typeof process<"u"&&process.__PRIVATE_env?.__PRIVATE_USE_MOCK_PERSISTENCE==="YES"}static O(e,n){return e.store(n)}static M(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,n,r){this.name=e,this.version=n,this.N=r,this.B=null,zf.M(Ni())===12.2&&qa("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(Nt(Lo,"Opening database:",this.name),this.db=await new Promise(((n,r)=>{const s=indexedDB.open(this.name,this.version);s.onsuccess=i=>{const a=i.target.result;n(a)},s.onblocked=()=>{r(new lg(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=i=>{const a=i.target.error;a.name==="VersionError"?r(new Ft(mt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a.name==="InvalidStateError"?r(new Ft(mt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a)):r(new lg(e,a))},s.onupgradeneeded=i=>{Nt(Lo,'Database "'+this.name+'" requires upgrade from version:',i.oldVersion);const a=i.target.result;this.N.k(a,s.transaction,i.oldVersion,this.version).next((()=>{Nt(Lo,"Database upgrade to version "+this.version+" complete")}))}}))),this.q&&(this.db.onversionchange=n=>this.q(n)),this.db}$(e){this.q=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,s){const i=n==="readonly";let a=0;for(;;){++a;try{this.db=await this.L(e);const o=Q2.open(this.db,e,i?"readonly":"readwrite",r),c=s(o).next((f=>(o.C(),f))).catch((f=>(o.abort(f),$e.reject(f)))).toPromise();return c.catch((()=>{})),await o.D,c}catch(o){const c=o,f=c.name!=="FirebaseError"&&a<3;if(Nt(Lo,"Transaction failed with error:",c.message,"Retrying:",f),this.close(),!f)return Promise.reject(c)}}}close(){this.db&&this.db.close(),this.db=void 0}}function AL(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class QX{constructor(e){this.U=e,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(e){this.U=e}done(){this.K=!0}j(e){this.W=e}delete(){return Dd(this.U.delete())}}class lg extends Ft{constructor(e,n){super(mt.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function id(t){return t.name==="IndexedDbTransactionError"}class ZX{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(Nt(Lo,"PUT",this.store.name,e,n),r=this.store.put(n,e)):(Nt(Lo,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Dd(r)}add(e){return Nt(Lo,"ADD",this.store.name,e,e),Dd(this.store.add(e))}get(e){return Dd(this.store.get(e)).next((n=>(n===void 0&&(n=null),Nt(Lo,"GET",this.store.name,e,n),n)))}delete(e){return Nt(Lo,"DELETE",this.store.name,e),Dd(this.store.delete(e))}count(){return Nt(Lo,"COUNT",this.store.name),Dd(this.store.count())}J(e,n){const r=this.options(e,n),s=r.index?this.store.index(r.index):this.store;if(typeof s.getAll=="function"){const i=s.getAll(r.range);return new $e(((a,o)=>{i.onerror=c=>{o(c.target.error)},i.onsuccess=c=>{a(c.target.result)}}))}{const i=this.cursor(r),a=[];return this.H(i,((o,c)=>{a.push(c)})).next((()=>a))}}Y(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new $e(((s,i)=>{r.onerror=a=>{i(a.target.error)},r.onsuccess=a=>{s(a.target.result)}}))}Z(e,n){Nt(Lo,"DELETE ALL",this.store.name);const r=this.options(e,n);r.X=!1;const s=this.cursor(r);return this.H(s,((i,a,o)=>o.delete()))}ee(e,n){let r;n?r=e:(r={},n=e);const s=this.cursor(r);return this.H(s,n)}te(e){const n=this.cursor({});return new $e(((r,s)=>{n.onerror=i=>{const a=TE(i.target.error);s(a)},n.onsuccess=i=>{const a=i.target.result;a?e(a.primaryKey,a.value).next((o=>{o?a.continue():r()})):r()}}))}H(e,n){const r=[];return new $e(((s,i)=>{e.onerror=a=>{i(a.target.error)},e.onsuccess=a=>{const o=a.target.result;if(!o)return void s();const c=new QX(o),f=n(o.primaryKey,o.value,c);if(f instanceof $e){const d=f.catch((p=>(c.done(),$e.reject(p))));r.push(d)}c.isDone?s():c.G===null?o.continue():o.continue(c.G)}})).next((()=>$e.waitFor(r)))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Dd(t){return new $e(((e,n)=>{t.onsuccess=r=>{const s=r.target.result;e(s)},t.onerror=r=>{const s=TE(r.target.error);n(s)}}))}let SI=!1;function TE(t){const e=zf.M(Ni());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new Ft("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return SI||(SI=!0,setTimeout((()=>{throw r}),0)),r}}return t}const cg="IndexBackfiller";class eJ{constructor(e,n){this.asyncQueue=e,this.ne=n,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){Nt(cg,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const n=await this.ne.ie();Nt(cg,`Documents written: ${n}`)}catch(n){id(n)?Nt(cg,"Ignoring IndexedDB error during index backfill: ",n):await yh(n)}await this.re(6e4)}))}}class tJ{constructor(e,n){this.localStore=e,this.persistence=n}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(n=>this.se(n,e)))}se(e,n){const r=new Set;let s=n,i=!0;return $e.doWhile((()=>i===!0&&s>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((a=>{if(a!==null&&!r.has(a))return Nt(cg,`Processing collection: ${a}`),this.oe(e,a,s).next((o=>{s-=o,r.add(a)}));i=!1})))).next((()=>n-s))}oe(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next((s=>this.localStore.localDocuments.getNextDocuments(e,n,s,r).next((i=>{const a=i.changes;return this.localStore.indexManager.updateIndexEntries(e,a).next((()=>this._e(s,i))).next((o=>(Nt(cg,`Updating offset: ${o}`),this.localStore.indexManager.updateCollectionGroup(e,n,o)))).next((()=>a.size))}))))}_e(e,n){let r=e;return n.changes.forEach(((s,i)=>{const a=TL(i);wE(a,r)>0&&(r=a)})),new Uo(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}class hl{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}hl.ce=-1;const Gd=-1;function Z2(t){return t==null}function qg(t){return t===0&&1/t==-1/0}function nJ(t){return typeof t=="number"&&Number.isInteger(t)&&!qg(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const a2="";function Na(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=AI(e)),e=rJ(t.get(n),e);return AI(e)}function rJ(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case a2:n+="";break;default:n+=i}}return n}function AI(t){return t+a2+""}function Cc(t){const e=t.length;if(xn(e>=2,64408,{path:t}),e===2)return xn(t.charAt(0)===a2&&t.charAt(1)==="",56145,{path:t}),Lr.emptyPath();const n=e-2,r=[];let s="";for(let i=0;i<e;){const a=t.indexOf(a2,i);switch((a<0||a>n)&&sn(50515,{path:t}),t.charAt(a+1)){case"":const o=t.substring(i,a);let c;s.length===0?c=o:(s+=o,c=s,s=""),r.push(c);break;case"":s+=t.substring(i,a),s+="\0";break;case"":s+=t.substring(i,a+1);break;default:sn(61167,{path:t})}i=a+2}return new Lr(r)}const Rd="remoteDocuments",w1="owner",h0="owner",Hg="mutationQueues",sJ="userId",zl="mutations",CI="batchId",jd="userMutationsIndex",NI=["userId","batchId"];function Sy(t,e){return[t,Na(e)]}function CL(t,e,n){return[t,Na(e),n]}const iJ={},pp="documentMutations",o2="remoteDocumentsV14",aJ=["prefixPath","collectionGroup","readTime","documentId"],Ay="documentKeyIndex",oJ=["prefixPath","collectionGroup","documentId"],NL="collectionGroupIndex",lJ=["collectionGroup","readTime","prefixPath","documentId"],zg="remoteDocumentGlobal",y5="remoteDocumentGlobalKey",mp="targets",IL="queryTargetsIndex",cJ=["canonicalId","targetId"],gp="targetDocuments",uJ=["targetId","path"],EE="documentTargetsIndex",fJ=["path","targetId"],l2="targetGlobalKey",Wd="targetGlobal",Gg="collectionParents",dJ=["collectionId","parent"],xp="clientMetadata",hJ="clientId",ev="bundles",pJ="bundleId",tv="namedQueries",mJ="name",SE="indexConfiguration",gJ="indexId",v5="collectionGroupIndex",xJ="collectionGroup",ug="indexState",yJ=["indexId","uid"],kL="sequenceNumberIndex",vJ=["uid","sequenceNumber"],fg="indexEntries",_J=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],RL="documentKeyIndex",bJ=["indexId","uid","orderedDocumentKey"],nv="documentOverlays",wJ=["userId","collectionPath","documentId"],_5="collectionPathOverlayIndex",TJ=["userId","collectionPath","largestBatchId"],PL="collectionGroupOverlayIndex",EJ=["userId","collectionGroup","largestBatchId"],AE="globals",SJ="name",DL=[Hg,zl,pp,Rd,mp,w1,Wd,gp,xp,zg,Gg,ev,tv],AJ=[...DL,nv],ML=[Hg,zl,pp,o2,mp,w1,Wd,gp,xp,zg,Gg,ev,tv,nv],LL=ML,CE=[...LL,SE,ug,fg],CJ=CE,FL=[...CE,AE],NJ=FL;class b5 extends SL{constructor(e,n){super(),this.le=e,this.currentSequenceNumber=n}}function Ii(t,e){const n=On(t);return zf.O(n.le,e)}function II(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ad(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function OL(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Ts{constructor(e,n){this.comparator=e,this.root=n||sa.EMPTY}insert(e,n){return new Ts(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,sa.BLACK,null,null))}remove(e){return new Ts(this.comparator,this.root.remove(e,this.comparator).copy(null,null,sa.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bx(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bx(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bx(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bx(this.root,e,this.comparator,!0)}}class Bx{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class sa{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??sa.RED,this.left=s??sa.EMPTY,this.right=i??sa.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new sa(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return sa.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return sa.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,sa.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,sa.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw sn(43730,{key:this.key,value:this.value});if(this.right.isRed())throw sn(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw sn(27949);return e+(this.isRed()?0:1)}}sa.EMPTY=null,sa.RED=!0,sa.BLACK=!1;sa.EMPTY=new class{constructor(){this.size=0}get key(){throw sn(57766)}get value(){throw sn(16141)}get color(){throw sn(16727)}get left(){throw sn(29726)}get right(){throw sn(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new sa(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class qr{constructor(e){this.comparator=e,this.data=new Ts(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new kI(this.data.getIterator())}getIteratorFrom(e){return new kI(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof qr)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new qr(this.comparator);return n.data=e,n}}class kI{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function p0(t){return t.hasNext()?t.getNext():void 0}class yo{constructor(e){this.fields=e,e.sort(Rs.comparator)}static empty(){return new yo([])}unionWith(e){let n=new qr(Rs.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new yo(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return hp(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class BL extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class di{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new BL("Invalid base64 string: "+i):i}})(e);return new di(n)}static fromUint8Array(e){const n=(function(s){let i="";for(let a=0;a<s.length;++a)i+=String.fromCharCode(s[a]);return i})(e);return new di(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}di.EMPTY_BYTE_STRING=new di("");const IJ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Mu(t){if(xn(!!t,39018),typeof t=="string"){let e=0;const n=IJ.exec(t);if(xn(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:bs(t.seconds),nanos:bs(t.nanos)}}function bs(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Lu(t){return typeof t=="string"?di.fromBase64String(t):di.fromUint8Array(t)}const VL="server_timestamp",UL="__type__",jL="__previous_value__",qL="__local_write_time__";function NE(t){return(t?.mapValue?.fields||{})[UL]?.stringValue===VL}function rv(t){const e=t.mapValue.fields[jL];return NE(e)?rv(e):e}function Wg(t){const e=Mu(t.mapValue.fields[qL].timestampValue);return new jr(e.seconds,e.nanos)}class kJ{constructor(e,n,r,s,i,a,o,c,f,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=c,this.useFetchStreams=f,this.isUsingEmulator=d}}const c2="(default)";class ih{constructor(e,n){this.projectId=e,this.database=n||c2}static empty(){return new ih("","")}get isDefaultDatabase(){return this.database===c2}isEqual(e){return e instanceof ih&&e.projectId===this.projectId&&e.database===this.database}}const IE="__type__",HL="__max__",Lf={mapValue:{fields:{__type__:{stringValue:HL}}}},kE="__vector__",yp="value",Cy={nullValue:"NULL_VALUE"};function Yf(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?NE(t)?4:zL(t)?9007199254740991:sv(t)?10:11:sn(28295,{value:t})}function Uc(t,e){if(t===e)return!0;const n=Yf(t);if(n!==Yf(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Wg(t).isEqual(Wg(e));case 3:return(function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const a=Mu(s.timestampValue),o=Mu(i.timestampValue);return a.seconds===o.seconds&&a.nanos===o.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(s,i){return Lu(s.bytesValue).isEqual(Lu(i.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(s,i){return bs(s.geoPointValue.latitude)===bs(i.geoPointValue.latitude)&&bs(s.geoPointValue.longitude)===bs(i.geoPointValue.longitude)})(t,e);case 2:return(function(s,i){if("integerValue"in s&&"integerValue"in i)return bs(s.integerValue)===bs(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const a=bs(s.doubleValue),o=bs(i.doubleValue);return a===o?qg(a)===qg(o):isNaN(a)&&isNaN(o)}return!1})(t,e);case 9:return hp(t.arrayValue.values||[],e.arrayValue.values||[],Uc);case 10:case 11:return(function(s,i){const a=s.mapValue.fields||{},o=i.mapValue.fields||{};if(II(a)!==II(o))return!1;for(const c in a)if(a.hasOwnProperty(c)&&(o[c]===void 0||!Uc(a[c],o[c])))return!1;return!0})(t,e);default:return sn(52216,{left:t})}}function $g(t,e){return(t.values||[]).find((n=>Uc(n,e)))!==void 0}function Xf(t,e){if(t===e)return 0;const n=Yf(t),r=Yf(e);if(n!==r)return Fn(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Fn(t.booleanValue,e.booleanValue);case 2:return(function(i,a){const o=bs(i.integerValue||i.doubleValue),c=bs(a.integerValue||a.doubleValue);return o<c?-1:o>c?1:o===c?0:isNaN(o)?isNaN(c)?0:-1:1})(t,e);case 3:return RI(t.timestampValue,e.timestampValue);case 4:return RI(Wg(t),Wg(e));case 5:return g5(t.stringValue,e.stringValue);case 6:return(function(i,a){const o=Lu(i),c=Lu(a);return o.compareTo(c)})(t.bytesValue,e.bytesValue);case 7:return(function(i,a){const o=i.split("/"),c=a.split("/");for(let f=0;f<o.length&&f<c.length;f++){const d=Fn(o[f],c[f]);if(d!==0)return d}return Fn(o.length,c.length)})(t.referenceValue,e.referenceValue);case 8:return(function(i,a){const o=Fn(bs(i.latitude),bs(a.latitude));return o!==0?o:Fn(bs(i.longitude),bs(a.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return PI(t.arrayValue,e.arrayValue);case 10:return(function(i,a){const o=i.fields||{},c=a.fields||{},f=o[yp]?.arrayValue,d=c[yp]?.arrayValue,p=Fn(f?.values?.length||0,d?.values?.length||0);return p!==0?p:PI(f,d)})(t.mapValue,e.mapValue);case 11:return(function(i,a){if(i===Lf.mapValue&&a===Lf.mapValue)return 0;if(i===Lf.mapValue)return 1;if(a===Lf.mapValue)return-1;const o=i.fields||{},c=Object.keys(o),f=a.fields||{},d=Object.keys(f);c.sort(),d.sort();for(let p=0;p<c.length&&p<d.length;++p){const g=g5(c[p],d[p]);if(g!==0)return g;const y=Xf(o[c[p]],f[d[p]]);if(y!==0)return y}return Fn(c.length,d.length)})(t.mapValue,e.mapValue);default:throw sn(23264,{he:n})}}function RI(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Fn(t,e);const n=Mu(t),r=Mu(e),s=Fn(n.seconds,r.seconds);return s!==0?s:Fn(n.nanos,r.nanos)}function PI(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Xf(n[s],r[s]);if(i)return i}return Fn(n.length,r.length)}function vp(t){return w5(t)}function w5(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Mu(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Lu(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Ot.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=w5(i);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const a of r)i?i=!1:s+=",",s+=`${a}:${w5(n.fields[a])}`;return s+"}"})(t.mapValue):sn(61005,{value:t})}function Ny(t){switch(Yf(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=rv(t);return e?16+Ny(e):16;case 5:return 2*t.stringValue.length;case 6:return Lu(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((s,i)=>s+Ny(i)),0)})(t.arrayValue);case 10:case 11:return(function(r){let s=0;return ad(r.fields,((i,a)=>{s+=i.length+Ny(a)})),s})(t.mapValue);default:throw sn(13486,{value:t})}}function RE(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function T5(t){return!!t&&"integerValue"in t}function Kg(t){return!!t&&"arrayValue"in t}function DI(t){return!!t&&"nullValue"in t}function MI(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Iy(t){return!!t&&"mapValue"in t}function sv(t){return(t?.mapValue?.fields||{})[IE]?.stringValue===kE}function dg(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return ad(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=dg(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=dg(t.arrayValue.values[n]);return e}return{...t}}function zL(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===HL}const GL={mapValue:{fields:{[IE]:{stringValue:kE},[yp]:{arrayValue:{}}}}};function RJ(t){return"nullValue"in t?Cy:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?RE(ih.empty(),Ot.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?sv(t)?GL:{mapValue:{}}:sn(35942,{value:t})}function PJ(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?RE(ih.empty(),Ot.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?GL:"mapValue"in t?sv(t)?{mapValue:{}}:Lf:sn(61959,{value:t})}function LI(t,e){const n=Xf(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function FI(t,e){const n=Xf(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}class Ta{constructor(e){this.value=e}static empty(){return new Ta({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Iy(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=dg(n)}setAll(e){let n=Rs.emptyPath(),r={},s=[];e.forEach(((a,o)=>{if(!n.isImmediateParentOf(o)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=o.popLast()}a?r[o.lastSegment()]=dg(a):s.push(o.lastSegment())}));const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Iy(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Uc(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Iy(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){ad(n,((s,i)=>e[s]=i));for(const s of r)delete e[s]}clone(){return new Ta(dg(this.value))}}function WL(t){const e=[];return ad(t.fields,((n,r)=>{const s=new Rs([n]);if(Iy(r)){const i=WL(r.mapValue).fields;if(i.length===0)e.push(s);else for(const a of i)e.push(s.child(a))}else e.push(s)})),new yo(e)}class qs{constructor(e,n,r,s,i,a,o){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=a,this.documentState=o}static newInvalidDocument(e){return new qs(e,0,Tn.min(),Tn.min(),Tn.min(),Ta.empty(),0)}static newFoundDocument(e,n,r,s){return new qs(e,1,n,Tn.min(),r,s,0)}static newNoDocument(e,n){return new qs(e,2,n,Tn.min(),Tn.min(),Ta.empty(),0)}static newUnknownDocument(e,n){return new qs(e,3,n,Tn.min(),Tn.min(),Ta.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Tn.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ta.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ta.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof qs&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new qs(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class _p{constructor(e,n){this.position=e,this.inclusive=n}}function OI(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],a=t.position[s];if(i.field.isKeyField()?r=Ot.comparator(Ot.fromName(a.referenceValue),n.key):r=Xf(a,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function BI(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Uc(t.position[n],e.position[n]))return!1;return!0}class u2{constructor(e,n="asc"){this.field=e,this.dir=n}}function DJ(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class $L{}class pr extends $L{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new MJ(e,n,r):n==="array-contains"?new OJ(e,r):n==="in"?new ZL(e,r):n==="not-in"?new BJ(e,r):n==="array-contains-any"?new VJ(e,r):new pr(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new LJ(e,r):new FJ(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Xf(n,this.value)):n!==null&&Yf(this.value)===Yf(n)&&this.matchesComparison(Xf(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return sn(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Qr extends $L{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Qr(e,n)}matches(e){return bp(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function bp(t){return t.op==="and"}function E5(t){return t.op==="or"}function PE(t){return KL(t)&&bp(t)}function KL(t){for(const e of t.filters)if(e instanceof Qr)return!1;return!0}function S5(t){if(t instanceof pr)return t.field.canonicalString()+t.op.toString()+vp(t.value);if(PE(t))return t.filters.map((e=>S5(e))).join(",");{const e=t.filters.map((n=>S5(n))).join(",");return`${t.op}(${e})`}}function YL(t,e){return t instanceof pr?(function(r,s){return s instanceof pr&&r.op===s.op&&r.field.isEqual(s.field)&&Uc(r.value,s.value)})(t,e):t instanceof Qr?(function(r,s){return s instanceof Qr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((i,a,o)=>i&&YL(a,s.filters[o])),!0):!1})(t,e):void sn(19439)}function XL(t,e){const n=t.filters.concat(e);return Qr.create(n,t.op)}function JL(t){return t instanceof pr?(function(n){return`${n.field.canonicalString()} ${n.op} ${vp(n.value)}`})(t):t instanceof Qr?(function(n){return n.op.toString()+" {"+n.getFilters().map(JL).join(" ,")+"}"})(t):"Filter"}class MJ extends pr{constructor(e,n,r){super(e,n,r),this.key=Ot.fromName(r.referenceValue)}matches(e){const n=Ot.comparator(e.key,this.key);return this.matchesComparison(n)}}class LJ extends pr{constructor(e,n){super(e,"in",n),this.keys=QL("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class FJ extends pr{constructor(e,n){super(e,"not-in",n),this.keys=QL("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function QL(t,e){return(e.arrayValue?.values||[]).map((n=>Ot.fromName(n.referenceValue)))}class OJ extends pr{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Kg(n)&&$g(n.arrayValue,this.value)}}class ZL extends pr{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&$g(this.value.arrayValue,n)}}class BJ extends pr{constructor(e,n){super(e,"not-in",n)}matches(e){if($g(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!$g(this.value.arrayValue,n)}}class VJ extends pr{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Kg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>$g(this.value.arrayValue,r)))}}class UJ{constructor(e,n=null,r=[],s=[],i=null,a=null,o=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=a,this.endAt=o,this.Te=null}}function A5(t,e=null,n=[],r=[],s=null,i=null,a=null){return new UJ(t,e,n,r,s,i,a)}function ah(t){const e=On(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>S5(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(i){return i.field.canonicalString()+i.dir})(r))).join(","),Z2(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>vp(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>vp(r))).join(",")),e.Te=n}return e.Te}function T1(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!DJ(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!YL(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!BI(t.startAt,e.startAt)&&BI(t.endAt,e.endAt)}function f2(t){return Ot.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function d2(t,e){return t.filters.filter((n=>n instanceof pr&&n.field.isEqual(e)))}function VI(t,e,n){let r=Cy,s=!0;for(const i of d2(t,e)){let a=Cy,o=!0;switch(i.op){case"<":case"<=":a=RJ(i.value);break;case"==":case"in":case">=":a=i.value;break;case">":a=i.value,o=!1;break;case"!=":case"not-in":a=Cy}LI({value:r,inclusive:s},{value:a,inclusive:o})<0&&(r=a,s=o)}if(n!==null){for(let i=0;i<t.orderBy.length;++i)if(t.orderBy[i].field.isEqual(e)){const a=n.position[i];LI({value:r,inclusive:s},{value:a,inclusive:n.inclusive})<0&&(r=a,s=n.inclusive);break}}return{value:r,inclusive:s}}function UI(t,e,n){let r=Lf,s=!0;for(const i of d2(t,e)){let a=Lf,o=!0;switch(i.op){case">=":case">":a=PJ(i.value),o=!1;break;case"==":case"in":case"<=":a=i.value;break;case"<":a=i.value,o=!1;break;case"!=":case"not-in":a=Lf}FI({value:r,inclusive:s},{value:a,inclusive:o})>0&&(r=a,s=o)}if(n!==null){for(let i=0;i<t.orderBy.length;++i)if(t.orderBy[i].field.isEqual(e)){const a=n.position[i];FI({value:r,inclusive:s},{value:a,inclusive:n.inclusive})>0&&(r=a,s=n.inclusive);break}}return{value:r,inclusive:s}}class iv{constructor(e,n=null,r=[],s=[],i=null,a="F",o=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=a,this.startAt=o,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function jJ(t,e,n,r,s,i,a,o){return new iv(t,e,n,r,s,i,a,o)}function av(t){return new iv(t)}function jI(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function qJ(t){return t.collectionGroup!==null}function hg(t){const e=On(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let o=new qr(Rs.comparator);return a.filters.forEach((c=>{c.getFlattenedFilters().forEach((f=>{f.isInequality()&&(o=o.add(f.field))}))})),o})(e).forEach((i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new u2(i,r))})),n.has(Rs.keyField().canonicalString())||e.Ie.push(new u2(Rs.keyField(),r))}return e.Ie}function pl(t){const e=On(t);return e.Ee||(e.Ee=HJ(e,hg(t))),e.Ee}function HJ(t,e){if(t.limitType==="F")return A5(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((s=>{const i=s.dir==="desc"?"asc":"desc";return new u2(s.field,i)}));const n=t.endAt?new _p(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new _p(t.startAt.position,t.startAt.inclusive):null;return A5(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function C5(t,e,n){return new iv(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ov(t,e){return T1(pl(t),pl(e))&&t.limitType===e.limitType}function eF(t){return`${ah(pl(t))}|lt:${t.limitType}`}function A0(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((s=>JL(s))).join(", ")}]`),Z2(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((s=>(function(a){return`${a.field.canonicalString()} (${a.dir})`})(s))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((s=>vp(s))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((s=>vp(s))).join(",")),`Target(${r})`})(pl(t))}; limitType=${t.limitType})`}function E1(t,e){return e.isFoundDocument()&&(function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):Ot.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)})(t,e)&&(function(r,s){for(const i of hg(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0})(t,e)&&(function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0})(t,e)&&(function(r,s){return!(r.startAt&&!(function(a,o,c){const f=OI(a,o,c);return a.inclusive?f<=0:f<0})(r.startAt,hg(r),s)||r.endAt&&!(function(a,o,c){const f=OI(a,o,c);return a.inclusive?f>=0:f>0})(r.endAt,hg(r),s))})(t,e)}function zJ(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function tF(t){return(e,n)=>{let r=!1;for(const s of hg(t)){const i=GJ(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function GJ(t,e,n){const r=t.field.isKeyField()?Ot.comparator(e.key,n.key):(function(i,a,o){const c=a.data.field(i),f=o.data.field(i);return c!==null&&f!==null?Xf(c,f):sn(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return sn(19790,{direction:t.dir})}}class Vu{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){ad(this.inner,((n,r)=>{for(const[s,i]of r)e(s,i)}))}isEmpty(){return OL(this.inner)}size(){return this.innerSize}}const WJ=new Ts(Ot.comparator);function Bo(){return WJ}const nF=new Ts(Ot.comparator);function Wm(...t){let e=nF;for(const n of t)e=e.insert(n.key,n);return e}function rF(t){let e=nF;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Nc(){return pg()}function sF(){return pg()}function pg(){return new Vu((t=>t.toString()),((t,e)=>t.isEqual(e)))}const $J=new Ts(Ot.comparator),KJ=new qr(Ot.comparator);function Zn(...t){let e=KJ;for(const n of t)e=e.add(n);return e}const YJ=new qr(Fn);function XJ(){return YJ}function DE(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qg(e)?"-0":e}}function iF(t){return{integerValue:""+t}}function JJ(t,e){return nJ(e)?iF(e):DE(t,e)}class lv{constructor(){this._=void 0}}function QJ(t,e,n){return t instanceof wp?(function(s,i){const a={fields:{[UL]:{stringValue:VL},[qL]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&NE(i)&&(i=rv(i)),i&&(a.fields[jL]=i),{mapValue:a}})(n,e):t instanceof Tp?oF(t,e):t instanceof Ep?lF(t,e):(function(s,i){const a=aF(s,i),o=qI(a)+qI(s.Ae);return T5(a)&&T5(s.Ae)?iF(o):DE(s.serializer,o)})(t,e)}function ZJ(t,e,n){return t instanceof Tp?oF(t,e):t instanceof Ep?lF(t,e):n}function aF(t,e){return t instanceof Yg?(function(r){return T5(r)||(function(i){return!!i&&"doubleValue"in i})(r)})(e)?e:{integerValue:0}:null}class wp extends lv{}class Tp extends lv{constructor(e){super(),this.elements=e}}function oF(t,e){const n=cF(e);for(const r of t.elements)n.some((s=>Uc(s,r)))||n.push(r);return{arrayValue:{values:n}}}class Ep extends lv{constructor(e){super(),this.elements=e}}function lF(t,e){let n=cF(e);for(const r of t.elements)n=n.filter((s=>!Uc(s,r)));return{arrayValue:{values:n}}}class Yg extends lv{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function qI(t){return bs(t.integerValue||t.doubleValue)}function cF(t){return Kg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class uF{constructor(e,n){this.field=e,this.transform=n}}function eQ(t,e){return t.field.isEqual(e.field)&&(function(r,s){return r instanceof Tp&&s instanceof Tp||r instanceof Ep&&s instanceof Ep?hp(r.elements,s.elements,Uc):r instanceof Yg&&s instanceof Yg?Uc(r.Ae,s.Ae):r instanceof wp&&s instanceof wp})(t.transform,e.transform)}class tQ{constructor(e,n){this.version=e,this.transformResults=n}}class aa{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new aa}static exists(e){return new aa(void 0,e)}static updateTime(e){return new aa(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ky(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class cv{}function fF(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new S1(t.key,aa.none()):new Bp(t.key,t.data,aa.none());{const n=t.data,r=Ta.empty();let s=new qr(Rs.comparator);for(let i of e.fields)if(!s.has(i)){let a=n.field(i);a===null&&i.length>1&&(i=i.popLast(),a=n.field(i)),a===null?r.delete(i):r.set(i,a),s=s.add(i)}return new Uu(t.key,r,new yo(s.toArray()),aa.none())}}function nQ(t,e,n){t instanceof Bp?(function(s,i,a){const o=s.value.clone(),c=zI(s.fieldTransforms,i,a.transformResults);o.setAll(c),i.convertToFoundDocument(a.version,o).setHasCommittedMutations()})(t,e,n):t instanceof Uu?(function(s,i,a){if(!ky(s.precondition,i))return void i.convertToUnknownDocument(a.version);const o=zI(s.fieldTransforms,i,a.transformResults),c=i.data;c.setAll(dF(s)),c.setAll(o),i.convertToFoundDocument(a.version,c).setHasCommittedMutations()})(t,e,n):(function(s,i,a){i.convertToNoDocument(a.version).setHasCommittedMutations()})(0,e,n)}function mg(t,e,n,r){return t instanceof Bp?(function(i,a,o,c){if(!ky(i.precondition,a))return o;const f=i.value.clone(),d=GI(i.fieldTransforms,c,a);return f.setAll(d),a.convertToFoundDocument(a.version,f).setHasLocalMutations(),null})(t,e,n,r):t instanceof Uu?(function(i,a,o,c){if(!ky(i.precondition,a))return o;const f=GI(i.fieldTransforms,c,a),d=a.data;return d.setAll(dF(i)),d.setAll(f),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map((p=>p.field)))})(t,e,n,r):(function(i,a,o){return ky(i.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):o})(t,e,n)}function rQ(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=aF(r.transform,s||null);i!=null&&(n===null&&(n=Ta.empty()),n.set(r.field,i))}return n||null}function HI(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&hp(r,s,((i,a)=>eQ(i,a)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Bp extends cv{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Uu extends cv{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function dF(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function zI(t,e,n){const r=new Map;xn(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],a=i.transform,o=e.data.field(i.field);r.set(i.field,ZJ(a,o,n[s]))}return r}function GI(t,e,n){const r=new Map;for(const s of t){const i=s.transform,a=n.data.field(s.field);r.set(s.field,QJ(i,a,e))}return r}class S1 extends cv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class hF extends cv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class ME{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&nQ(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=mg(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=mg(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=sF();return this.mutations.forEach((s=>{const i=e.get(s.key),a=i.overlayedDocument;let o=this.applyToLocalView(a,i.mutatedFields);o=n.has(s.key)?null:o;const c=fF(a,o);c!==null&&r.set(s.key,c),a.isValidDocument()||a.convertToNoDocument(Tn.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Zn())}isEqual(e){return this.batchId===e.batchId&&hp(this.mutations,e.mutations,((n,r)=>HI(n,r)))&&hp(this.baseMutations,e.baseMutations,((n,r)=>HI(n,r)))}}class LE{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){xn(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=(function(){return $J})();const i=e.mutations;for(let a=0;a<i.length;a++)s=s.insert(i[a].key,r[a].version);return new LE(e,n,r,s)}}class FE{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class sQ{constructor(e,n){this.count=e,this.unchangedNames=n}}var oi,vr;function iQ(t){switch(t){case mt.OK:return sn(64938);case mt.CANCELLED:case mt.UNKNOWN:case mt.DEADLINE_EXCEEDED:case mt.RESOURCE_EXHAUSTED:case mt.INTERNAL:case mt.UNAVAILABLE:case mt.UNAUTHENTICATED:return!1;case mt.INVALID_ARGUMENT:case mt.NOT_FOUND:case mt.ALREADY_EXISTS:case mt.PERMISSION_DENIED:case mt.FAILED_PRECONDITION:case mt.ABORTED:case mt.OUT_OF_RANGE:case mt.UNIMPLEMENTED:case mt.DATA_LOSS:return!0;default:return sn(15467,{code:t})}}function pF(t){if(t===void 0)return qa("GRPC error has no .code"),mt.UNKNOWN;switch(t){case oi.OK:return mt.OK;case oi.CANCELLED:return mt.CANCELLED;case oi.UNKNOWN:return mt.UNKNOWN;case oi.DEADLINE_EXCEEDED:return mt.DEADLINE_EXCEEDED;case oi.RESOURCE_EXHAUSTED:return mt.RESOURCE_EXHAUSTED;case oi.INTERNAL:return mt.INTERNAL;case oi.UNAVAILABLE:return mt.UNAVAILABLE;case oi.UNAUTHENTICATED:return mt.UNAUTHENTICATED;case oi.INVALID_ARGUMENT:return mt.INVALID_ARGUMENT;case oi.NOT_FOUND:return mt.NOT_FOUND;case oi.ALREADY_EXISTS:return mt.ALREADY_EXISTS;case oi.PERMISSION_DENIED:return mt.PERMISSION_DENIED;case oi.FAILED_PRECONDITION:return mt.FAILED_PRECONDITION;case oi.ABORTED:return mt.ABORTED;case oi.OUT_OF_RANGE:return mt.OUT_OF_RANGE;case oi.UNIMPLEMENTED:return mt.UNIMPLEMENTED;case oi.DATA_LOSS:return mt.DATA_LOSS;default:return sn(39323,{code:t})}}(vr=oi||(oi={}))[vr.OK=0]="OK",vr[vr.CANCELLED=1]="CANCELLED",vr[vr.UNKNOWN=2]="UNKNOWN",vr[vr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",vr[vr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",vr[vr.NOT_FOUND=5]="NOT_FOUND",vr[vr.ALREADY_EXISTS=6]="ALREADY_EXISTS",vr[vr.PERMISSION_DENIED=7]="PERMISSION_DENIED",vr[vr.UNAUTHENTICATED=16]="UNAUTHENTICATED",vr[vr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",vr[vr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",vr[vr.ABORTED=10]="ABORTED",vr[vr.OUT_OF_RANGE=11]="OUT_OF_RANGE",vr[vr.UNIMPLEMENTED=12]="UNIMPLEMENTED",vr[vr.INTERNAL=13]="INTERNAL",vr[vr.UNAVAILABLE=14]="UNAVAILABLE",vr[vr.DATA_LOSS=15]="DATA_LOSS";function aQ(){return new TextEncoder}const oQ=new Hf([4294967295,4294967295],0);function WI(t){const e=aQ().encode(t),n=new dL;return n.update(e),new Uint8Array(n.digest())}function $I(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Hf([n,r],0),new Hf([s,i],0)]}class OE{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new $m(`Invalid padding: ${n}`);if(r<0)throw new $m(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new $m(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new $m(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Hf.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(Hf.fromNumber(r)));return s.compare(oQ)===1&&(s=new Hf([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=WI(e),[r,s]=$I(n);for(let i=0;i<this.hashCount;i++){const a=this.ye(r,s,i);if(!this.we(a))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),a=new OE(i,s,n);return r.forEach((o=>a.insert(o))),a}insert(e){if(this.ge===0)return;const n=WI(e),[r,s]=$I(n);for(let i=0;i<this.hashCount;i++){const a=this.ye(r,s,i);this.Se(a)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class $m extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class uv{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,A1.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new uv(Tn.min(),s,new Ts(Fn),Bo(),Zn())}}class A1{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new A1(r,n,Zn(),Zn(),Zn())}}class Ry{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class mF{constructor(e,n){this.targetId=e,this.Ce=n}}class gF{constructor(e,n,r=di.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class KI{constructor(){this.ve=0,this.Fe=YI(),this.Me=di.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Zn(),n=Zn(),r=Zn();return this.Fe.forEach(((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:sn(38017,{changeType:i})}})),new A1(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=YI()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,xn(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class lQ{constructor(e){this.Ge=e,this.ze=new Map,this.je=Bo(),this.Je=Vx(),this.He=Vx(),this.Ye=new Ts(Fn)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:sn(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,s)=>{this.rt(s)&&n(s)}))}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(f2(i))if(r===0){const a=new Ot(i.path);this.et(n,a,qs.newNoDocument(a,Tn.min()))}else xn(r===1,20013,{expectedCount:r});else{const a=this._t(n);if(a!==r){const o=this.ut(e),c=o?this.ct(o,e,a):1;if(c!==0){this.it(n);const f=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,f)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let a,o;try{a=Lu(r).toUint8Array()}catch(c){if(c instanceof BL)return sh("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{o=new OE(a,s,i)}catch(c){return sh(c instanceof $m?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return o.ge===0?null:o}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach((i=>{const a=this.Ge.ht(),o=`projects/${a.projectId}/databases/${a.database}/documents/${i.path.canonicalString()}`;e.mightContain(o)||(this.et(n,i,null),s++)})),s}Tt(e){const n=new Map;this.ze.forEach(((i,a)=>{const o=this.ot(a);if(o){if(i.current&&f2(o.target)){const c=new Ot(o.target.path);this.It(c).has(a)||this.Et(a,c)||this.et(a,c,qs.newNoDocument(c,e))}i.Be&&(n.set(a,i.ke()),i.qe())}}));let r=Zn();this.He.forEach(((i,a)=>{let o=!0;a.forEachWhile((c=>{const f=this.ot(c);return!f||f.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)})),o&&(r=r.add(i))})),this.je.forEach(((i,a)=>a.setReadTime(e)));const s=new uv(e,n,this.Ye,this.je,r);return this.je=Bo(),this.Je=Vx(),this.He=Vx(),this.Ye=new Ts(Fn),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new KI,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new qr(Fn),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new qr(Fn),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Nt("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new KI),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Vx(){return new Ts(Ot.comparator)}function YI(){return new Ts(Ot.comparator)}const cQ={asc:"ASCENDING",desc:"DESCENDING"},uQ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},fQ={and:"AND",or:"OR"};class dQ{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function N5(t,e){return t.useProto3Json||Z2(e)?e:{value:e}}function Sp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function xF(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function hQ(t,e){return Sp(t,e.toTimestamp())}function Ga(t){return xn(!!t,49232),Tn.fromTimestamp((function(n){const r=Mu(n);return new jr(r.seconds,r.nanos)})(t))}function BE(t,e){return I5(t,e).canonicalString()}function I5(t,e){const n=(function(s){return new Lr(["projects",s.projectId,"databases",s.database])})(t).child("documents");return e===void 0?n:n.child(e)}function yF(t){const e=Lr.fromString(t);return xn(CF(e),10190,{key:e.toString()}),e}function h2(t,e){return BE(t.databaseId,e.path)}function $d(t,e){const n=yF(e);if(n.get(1)!==t.databaseId.projectId)throw new Ft(mt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ft(mt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ot(bF(n))}function vF(t,e){return BE(t.databaseId,e)}function _F(t){const e=yF(t);return e.length===4?Lr.emptyPath():bF(e)}function k5(t){return new Lr(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function bF(t){return xn(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function XI(t,e,n){return{name:h2(t,e),fields:n.value.mapValue.fields}}function pQ(t,e,n){const r=$d(t,e.name),s=Ga(e.updateTime),i=e.createTime?Ga(e.createTime):Tn.min(),a=new Ta({mapValue:{fields:e.fields}}),o=qs.newFoundDocument(r,s,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function mQ(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:sn(39313,{state:f})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=(function(f,d){return f.useProto3Json?(xn(d===void 0||typeof d=="string",58123),di.fromBase64String(d||"")):(xn(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),di.fromUint8Array(d||new Uint8Array))})(t,e.targetChange.resumeToken),a=e.targetChange.cause,o=a&&(function(f){const d=f.code===void 0?mt.UNKNOWN:pF(f.code);return new Ft(d,f.message||"")})(a);n=new gF(r,s,i,o||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=$d(t,r.document.name),i=Ga(r.document.updateTime),a=r.document.createTime?Ga(r.document.createTime):Tn.min(),o=new Ta({mapValue:{fields:r.document.fields}}),c=qs.newFoundDocument(s,i,a,o),f=r.targetIds||[],d=r.removedTargetIds||[];n=new Ry(f,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=$d(t,r.document),i=r.readTime?Ga(r.readTime):Tn.min(),a=qs.newNoDocument(s,i),o=r.removedTargetIds||[];n=new Ry([],o,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=$d(t,r.document),i=r.removedTargetIds||[];n=new Ry([],i,s,null)}else{if(!("filter"in e))return sn(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,a=new sQ(s,i),o=r.targetId;n=new mF(o,a)}}return n}function p2(t,e){let n;if(e instanceof Bp)n={update:XI(t,e.key,e.value)};else if(e instanceof S1)n={delete:h2(t,e.key)};else if(e instanceof Uu)n={update:XI(t,e.key,e.data),updateMask:bQ(e.fieldMask)};else{if(!(e instanceof hF))return sn(16599,{Vt:e.type});n={verify:h2(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(i,a){const o=a.transform;if(o instanceof wp)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Tp)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Ep)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Yg)return{fieldPath:a.field.canonicalString(),increment:o.Ae};throw sn(20930,{transform:a.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(s,i){return i.updateTime!==void 0?{updateTime:hQ(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:sn(27497)})(t,e.precondition)),n}function R5(t,e){const n=e.currentDocument?(function(i){return i.updateTime!==void 0?aa.updateTime(Ga(i.updateTime)):i.exists!==void 0?aa.exists(i.exists):aa.none()})(e.currentDocument):aa.none(),r=e.updateTransforms?e.updateTransforms.map((s=>(function(a,o){let c=null;if("setToServerValue"in o)xn(o.setToServerValue==="REQUEST_TIME",16630,{proto:o}),c=new wp;else if("appendMissingElements"in o){const d=o.appendMissingElements.values||[];c=new Tp(d)}else if("removeAllFromArray"in o){const d=o.removeAllFromArray.values||[];c=new Ep(d)}else"increment"in o?c=new Yg(a,o.increment):sn(16584,{proto:o});const f=Rs.fromServerFormat(o.fieldPath);return new uF(f,c)})(t,s))):[];if(e.update){e.update.name;const s=$d(t,e.update.name),i=new Ta({mapValue:{fields:e.update.fields}});if(e.updateMask){const a=(function(c){const f=c.fieldPaths||[];return new yo(f.map((d=>Rs.fromServerFormat(d))))})(e.updateMask);return new Uu(s,i,a,n,r)}return new Bp(s,i,n,r)}if(e.delete){const s=$d(t,e.delete);return new S1(s,n)}if(e.verify){const s=$d(t,e.verify);return new hF(s,n)}return sn(1463,{proto:e})}function gQ(t,e){return t&&t.length>0?(xn(e!==void 0,14353),t.map((n=>(function(s,i){let a=s.updateTime?Ga(s.updateTime):Ga(i);return a.isEqual(Tn.min())&&(a=Ga(i)),new tQ(a,s.transformResults||[])})(n,e)))):[]}function wF(t,e){return{documents:[vF(t,e.path)]}}function TF(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=vF(t,s);const i=(function(f){if(f.length!==0)return AF(Qr.create(f,"and"))})(e.filters);i&&(n.structuredQuery.where=i);const a=(function(f){if(f.length!==0)return f.map((d=>(function(g){return{field:C0(g.field),direction:yQ(g.dir)}})(d)))})(e.orderBy);a&&(n.structuredQuery.orderBy=a);const o=N5(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(e.endAt)),{ft:n,parent:s}}function EF(t){let e=_F(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){xn(r===1,65062);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=(function(p){const g=SF(p);return g instanceof Qr&&PE(g)?g.getFilters():[g]})(n.where));let a=[];n.orderBy&&(a=(function(p){return p.map((g=>(function(E){return new u2(N0(E.field),(function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(E.direction))})(g)))})(n.orderBy));let o=null;n.limit&&(o=(function(p){let g;return g=typeof p=="object"?p.value:p,Z2(g)?null:g})(n.limit));let c=null;n.startAt&&(c=(function(p){const g=!!p.before,y=p.values||[];return new _p(y,g)})(n.startAt));let f=null;return n.endAt&&(f=(function(p){const g=!p.before,y=p.values||[];return new _p(y,g)})(n.endAt)),jJ(e,s,a,i,o,"F",c,f)}function xQ(t,e){const n=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return sn(28987,{purpose:s})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function SF(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=N0(n.unaryFilter.field);return pr.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=N0(n.unaryFilter.field);return pr.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=N0(n.unaryFilter.field);return pr.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=N0(n.unaryFilter.field);return pr.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return sn(61313);default:return sn(60726)}})(t):t.fieldFilter!==void 0?(function(n){return pr.create(N0(n.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return sn(58110);default:return sn(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Qr.create(n.compositeFilter.filters.map((r=>SF(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return sn(1026)}})(n.compositeFilter.op))})(t):sn(30097,{filter:t})}function yQ(t){return cQ[t]}function vQ(t){return uQ[t]}function _Q(t){return fQ[t]}function C0(t){return{fieldPath:t.canonicalString()}}function N0(t){return Rs.fromServerFormat(t.fieldPath)}function AF(t){return t instanceof pr?(function(n){if(n.op==="=="){if(MI(n.value))return{unaryFilter:{field:C0(n.field),op:"IS_NAN"}};if(DI(n.value))return{unaryFilter:{field:C0(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(MI(n.value))return{unaryFilter:{field:C0(n.field),op:"IS_NOT_NAN"}};if(DI(n.value))return{unaryFilter:{field:C0(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:C0(n.field),op:vQ(n.op),value:n.value}}})(t):t instanceof Qr?(function(n){const r=n.getFilters().map((s=>AF(s)));return r.length===1?r[0]:{compositeFilter:{op:_Q(n.op),filters:r}}})(t):sn(54877,{filter:t})}function bQ(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function CF(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class wu{constructor(e,n,r,s,i=Tn.min(),a=Tn.min(),o=di.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=c}withSequenceNumber(e){return new wu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new wu(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new wu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new wu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class NF{constructor(e){this.yt=e}}function wQ(t,e){let n;if(e.document)n=pQ(t.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Ot.fromSegments(e.noDocument.path),s=lh(e.noDocument.readTime);n=qs.newNoDocument(r,s),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return sn(56709);{const r=Ot.fromSegments(e.unknownDocument.path),s=lh(e.unknownDocument.version);n=qs.newUnknownDocument(r,s)}}return e.readTime&&n.setReadTime((function(s){const i=new jr(s[0],s[1]);return Tn.fromTimestamp(i)})(e.readTime)),n}function JI(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:m2(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=(function(i,a){return{name:h2(i,a.key),fields:a.data.value.mapValue.fields,updateTime:Sp(i,a.version.toTimestamp()),createTime:Sp(i,a.createTime.toTimestamp())}})(t.yt,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:oh(e.version)};else{if(!e.isUnknownDocument())return sn(57904,{document:e});r.unknownDocument={path:n.path.toArray(),version:oh(e.version)}}return r}function m2(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function oh(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function lh(t){const e=new jr(t.seconds,t.nanoseconds);return Tn.fromTimestamp(e)}function Md(t,e){const n=(e.baseMutations||[]).map((i=>R5(t.yt,i)));for(let i=0;i<e.mutations.length-1;++i){const a=e.mutations[i];if(i+1<e.mutations.length&&e.mutations[i+1].transform!==void 0){const o=e.mutations[i+1];a.updateTransforms=o.transform.fieldTransforms,e.mutations.splice(i+1,1),++i}}const r=e.mutations.map((i=>R5(t.yt,i))),s=jr.fromMillis(e.localWriteTimeMs);return new ME(e.batchId,s,n,r)}function Km(t){const e=lh(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?lh(t.lastLimboFreeSnapshotVersion):Tn.min();let r;return r=(function(i){return i.documents!==void 0})(t.query)?(function(i){const a=i.documents.length;return xn(a===1,1966,{count:a}),pl(av(_F(i.documents[0])))})(t.query):(function(i){return pl(EF(i))})(t.query),new wu(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,di.fromBase64String(t.resumeToken))}function IF(t,e){const n=oh(e.snapshotVersion),r=oh(e.lastLimboFreeSnapshotVersion);let s;s=f2(e.target)?wF(t.yt,e.target):TF(t.yt,e.target).ft;const i=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:ah(e.target),readTime:n,resumeToken:i,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:s}}function kF(t){const e=EF({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?C5(e,e.limit,"L"):e}function wb(t,e){return new FE(e.largestBatchId,R5(t.yt,e.overlayMutation))}function QI(t,e){const n=e.path.lastSegment();return[t,Na(e.path.popLast()),n]}function ZI(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:oh(r.readTime),documentKey:Na(r.documentKey.path),largestBatchId:r.largestBatchId}}class TQ{getBundleMetadata(e,n){return e3(e).get(n).next((r=>{if(r)return(function(i){return{id:i.bundleId,createTime:lh(i.createTime),version:i.version}})(r)}))}saveBundleMetadata(e,n){return e3(e).put((function(s){return{bundleId:s.id,createTime:oh(Ga(s.createTime)),version:s.version}})(n))}getNamedQuery(e,n){return t3(e).get(n).next((r=>{if(r)return(function(i){return{name:i.name,query:kF(i.bundledQuery),readTime:lh(i.readTime)}})(r)}))}saveNamedQuery(e,n){return t3(e).put((function(s){return{name:s.name,readTime:oh(Ga(s.readTime)),bundledQuery:s.bundledQuery}})(n))}}function e3(t){return Ii(t,ev)}function t3(t){return Ii(t,tv)}class fv{constructor(e,n){this.serializer=e,this.userId=n}static wt(e,n){const r=n.uid||"";return new fv(e,r)}getOverlay(e,n){return Dm(e).get(QI(this.userId,n)).next((r=>r?wb(this.serializer,r):null))}getOverlays(e,n){const r=Nc();return $e.forEach(n,(s=>this.getOverlay(e,s).next((i=>{i!==null&&r.set(s,i)})))).next((()=>r))}saveOverlays(e,n,r){const s=[];return r.forEach(((i,a)=>{const o=new FE(n,a);s.push(this.St(e,o))})),$e.waitFor(s)}removeOverlaysForBatchId(e,n,r){const s=new Set;n.forEach((a=>s.add(Na(a.getCollectionPath()))));const i=[];return s.forEach((a=>{const o=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,r+1],!1,!0);i.push(Dm(e).Z(_5,o))})),$e.waitFor(i)}getOverlaysForCollection(e,n,r){const s=Nc(),i=Na(n),a=IDBKeyRange.bound([this.userId,i,r],[this.userId,i,Number.POSITIVE_INFINITY],!0);return Dm(e).J(_5,a).next((o=>{for(const c of o){const f=wb(this.serializer,c);s.set(f.getKey(),f)}return s}))}getOverlaysForCollectionGroup(e,n,r,s){const i=Nc();let a;const o=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Dm(e).ee({index:PL,range:o},((c,f,d)=>{const p=wb(this.serializer,f);i.size()<s||p.largestBatchId===a?(i.set(p.getKey(),p),a=p.largestBatchId):d.done()})).next((()=>i))}St(e,n){return Dm(e).put((function(s,i,a){const[o,c,f]=QI(i,a.mutation.key);return{userId:i,collectionPath:c,documentId:f,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:p2(s.yt,a.mutation)}})(this.serializer,this.userId,n))}}function Dm(t){return Ii(t,nv)}class EQ{bt(e){return Ii(e,AE)}getSessionToken(e){return this.bt(e).get("sessionToken").next((n=>{const r=n?.value;return r?di.fromUint8Array(r):di.EMPTY_BYTE_STRING}))}setSessionToken(e,n){return this.bt(e).put({name:"sessionToken",value:n.toUint8Array()})}}class Ld{constructor(){}Dt(e,n){this.Ct(e,n),n.vt()}Ct(e,n){if("nullValue"in e)this.Ft(n,5);else if("booleanValue"in e)this.Ft(n,10),n.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(n,15),n.Mt(bs(e.integerValue));else if("doubleValue"in e){const r=bs(e.doubleValue);isNaN(r)?this.Ft(n,13):(this.Ft(n,15),qg(r)?n.Mt(0):n.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(n,20),typeof r=="string"&&(r=Mu(r)),n.xt(`${r.seconds||""}`),n.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,n),this.Nt(n);else if("bytesValue"in e)this.Ft(n,30),n.Bt(Lu(e.bytesValue)),this.Nt(n);else if("referenceValue"in e)this.Lt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ft(n,45),n.Mt(r.latitude||0),n.Mt(r.longitude||0)}else"mapValue"in e?zL(e)?this.Ft(n,Number.MAX_SAFE_INTEGER):sv(e)?this.kt(e.mapValue,n):(this.qt(e.mapValue,n),this.Nt(n)):"arrayValue"in e?(this.Qt(e.arrayValue,n),this.Nt(n)):sn(19022,{$t:e})}Ot(e,n){this.Ft(n,25),this.Ut(e,n)}Ut(e,n){n.xt(e)}qt(e,n){const r=e.fields||{};this.Ft(n,55);for(const s of Object.keys(r))this.Ot(s,n),this.Ct(r[s],n)}kt(e,n){const r=e.fields||{};this.Ft(n,53);const s=yp,i=r[s].arrayValue?.values?.length||0;this.Ft(n,15),n.Mt(bs(i)),this.Ot(s,n),this.Ct(r[s],n)}Qt(e,n){const r=e.values||[];this.Ft(n,50);for(const s of r)this.Ct(s,n)}Lt(e,n){this.Ft(n,37),Ot.fromName(e).path.forEach((r=>{this.Ft(n,60),this.Ut(r,n)}))}Ft(e,n){e.Mt(n)}Nt(e){e.Mt(2)}}Ld.Kt=new Ld;const m0=255;function SQ(t){if(t===0)return 8;let e=0;return t>>4||(e+=4,t<<=4),t>>6||(e+=2,t<<=2),t>>7||(e+=1),e}function n3(t){const e=64-(function(r){let s=0;for(let i=0;i<8;++i){const a=SQ(255&r[i]);if(s+=a,a!==8)break}return s})(t);return Math.ceil(e/8)}class AQ{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Gt(r.value),r=n.next();this.zt()}jt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Jt(r.value),r=n.next();this.Ht()}Yt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const s=n.codePointAt(0);this.Gt(240|s>>>18),this.Gt(128|63&s>>>12),this.Gt(128|63&s>>>6),this.Gt(128|63&s)}}this.zt()}Zt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Jt(r);else if(r<2048)this.Jt(960|r>>>6),this.Jt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Jt(480|r>>>12),this.Jt(128|63&r>>>6),this.Jt(128|63&r);else{const s=n.codePointAt(0);this.Jt(240|s>>>18),this.Jt(128|63&s>>>12),this.Jt(128|63&s>>>6),this.Jt(128|63&s)}}this.Ht()}Xt(e){const n=this.en(e),r=n3(n);this.tn(1+r),this.buffer[this.position++]=255&r;for(let s=n.length-r;s<n.length;++s)this.buffer[this.position++]=255&n[s]}nn(e){const n=this.en(e),r=n3(n);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let s=n.length-r;s<n.length;++s)this.buffer[this.position++]=~(255&n[s])}rn(){this.sn(m0),this.sn(255)}_n(){this.an(m0),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const n=(function(i){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,i,!1),new Uint8Array(a.buffer)})(e),r=!!(128&n[0]);n[0]^=r?255:128;for(let s=1;s<n.length;++s)n[s]^=r?255:0;return n}Gt(e){const n=255&e;n===0?(this.sn(0),this.sn(255)):n===m0?(this.sn(m0),this.sn(0)):this.sn(n)}Jt(e){const n=255&e;n===0?(this.an(0),this.an(255)):n===m0?(this.an(m0),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const s=new Uint8Array(r);s.set(this.buffer),this.buffer=s}}class CQ{constructor(e){this.cn=e}Bt(e){this.cn.Wt(e)}xt(e){this.cn.Yt(e)}Mt(e){this.cn.Xt(e)}vt(){this.cn.rn()}}class NQ{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class Mm{constructor(){this.cn=new AQ,this.ln=new CQ(this.cn),this.hn=new NQ(this.cn)}seed(e){this.cn.seed(e)}Pn(e){return e===0?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}}class Fd{constructor(e,n,r,s){this.Tn=e,this.In=n,this.En=r,this.dn=s}An(){const e=this.dn.length,n=e===0||this.dn[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.dn,0),n!==e?r.set([0],this.dn.length):++r[r.length-1],new Fd(this.Tn,this.In,this.En,r)}Rn(e,n,r){return{indexId:this.Tn,uid:e,arrayValue:Py(this.En),directionalValue:Py(this.dn),orderedDocumentKey:Py(n),documentKey:r.path.toArray()}}Vn(e,n,r){const s=this.Rn(e,n,r);return[s.indexId,s.uid,s.arrayValue,s.directionalValue,s.orderedDocumentKey,s.documentKey]}}function bf(t,e){let n=t.Tn-e.Tn;return n!==0?n:(n=r3(t.En,e.En),n!==0?n:(n=r3(t.dn,e.dn),n!==0?n:Ot.comparator(t.In,e.In)))}function r3(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}function Py(t){return SM()?(function(n){let r="";for(let s=0;s<n.length;s++)r+=String.fromCharCode(n[s]);return r})(t):t}function s3(t){return typeof t!="string"?t:(function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r})(t)}class i3{constructor(e){this.mn=new qr(((n,r)=>Rs.comparator(n.field,r.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.fn=e.orderBy,this.gn=[];for(const n of e.filters){const r=n;r.isInequality()?this.mn=this.mn.add(r):this.gn.push(r)}}get pn(){return this.mn.size>1}yn(e){if(xn(e.collectionGroup===this.collectionId,49279),this.pn)return!1;const n=x5(e);if(n!==void 0&&!this.wn(n))return!1;const r=kd(e);let s=new Set,i=0,a=0;for(;i<r.length&&this.wn(r[i]);++i)s=s.add(r[i].fieldPath.canonicalString());if(i===r.length)return!0;if(this.mn.size>0){const o=this.mn.getIterator().getNext();if(!s.has(o.field.canonicalString())){const c=r[i];if(!this.Sn(o,c)||!this.bn(this.fn[a++],c))return!1}++i}for(;i<r.length;++i){const o=r[i];if(a>=this.fn.length||!this.bn(this.fn[a++],o))return!1}return!0}Dn(){if(this.pn)return null;let e=new qr(Rs.comparator);const n=[];for(const r of this.gn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new Ey(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new Ey(r.field,0))}for(const r of this.fn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new Ey(r.field,r.dir==="asc"?0:1)));return new i2(i2.UNKNOWN_ID,this.collectionId,n,jg.empty())}wn(e){for(const n of this.gn)if(this.Sn(n,e))return!0;return!1}Sn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}bn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}function RF(t){if(xn(t instanceof pr||t instanceof Qr,20012),t instanceof pr){if(t instanceof ZL){const n=t.value.arrayValue?.values?.map((r=>pr.create(t.field,"==",r)))||[];return Qr.create(n,"or")}return t}const e=t.filters.map((n=>RF(n)));return Qr.create(e,t.op)}function IQ(t){if(t.getFilters().length===0)return[];const e=M5(RF(t));return xn(PF(e),7391),P5(e)||D5(e)?[e]:e.getFilters()}function P5(t){return t instanceof pr}function D5(t){return t instanceof Qr&&PE(t)}function PF(t){return P5(t)||D5(t)||(function(n){if(n instanceof Qr&&E5(n)){for(const r of n.getFilters())if(!P5(r)&&!D5(r))return!1;return!0}return!1})(t)}function M5(t){if(xn(t instanceof pr||t instanceof Qr,34018),t instanceof pr)return t;if(t.filters.length===1)return M5(t.filters[0]);const e=t.filters.map((r=>M5(r)));let n=Qr.create(e,t.op);return n=g2(n),PF(n)?n:(xn(n instanceof Qr,64498),xn(bp(n),40251),xn(n.filters.length>1,57927),n.filters.reduce(((r,s)=>VE(r,s))))}function VE(t,e){let n;return xn(t instanceof pr||t instanceof Qr,38388),xn(e instanceof pr||e instanceof Qr,25473),n=t instanceof pr?e instanceof pr?(function(s,i){return Qr.create([s,i],"and")})(t,e):a3(t,e):e instanceof pr?a3(e,t):(function(s,i){if(xn(s.filters.length>0&&i.filters.length>0,48005),bp(s)&&bp(i))return XL(s,i.getFilters());const a=E5(s)?s:i,o=E5(s)?i:s,c=a.filters.map((f=>VE(f,o)));return Qr.create(c,"or")})(t,e),g2(n)}function a3(t,e){if(bp(e))return XL(e,t.getFilters());{const n=e.filters.map((r=>VE(t,r)));return Qr.create(n,"or")}}function g2(t){if(xn(t instanceof pr||t instanceof Qr,11850),t instanceof pr)return t;const e=t.getFilters();if(e.length===1)return g2(e[0]);if(KL(t))return t;const n=e.map((s=>g2(s))),r=[];return n.forEach((s=>{s instanceof pr?r.push(s):s instanceof Qr&&(s.op===t.op?r.push(...s.filters):r.push(s))})),r.length===1?r[0]:Qr.create(r,t.op)}class kQ{constructor(){this.Cn=new UE}addToCollectionParentIndex(e,n){return this.Cn.add(n),$e.resolve()}getCollectionParents(e,n){return $e.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return $e.resolve()}deleteFieldIndex(e,n){return $e.resolve()}deleteAllFieldIndexes(e){return $e.resolve()}createTargetIndexes(e,n){return $e.resolve()}getDocumentsMatchingTarget(e,n){return $e.resolve(null)}getIndexType(e,n){return $e.resolve(0)}getFieldIndexes(e,n){return $e.resolve([])}getNextCollectionGroupToUpdate(e){return $e.resolve(null)}getMinOffset(e,n){return $e.resolve(Uo.min())}getMinOffsetFromCollectionGroup(e,n){return $e.resolve(Uo.min())}updateCollectionGroup(e,n,r){return $e.resolve()}updateIndexEntries(e,n){return $e.resolve()}}class UE{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new qr(Lr.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new qr(Lr.comparator)).toArray()}}const o3="IndexedDbIndexManager",Ux=new Uint8Array(0);class RQ{constructor(e,n){this.databaseId=n,this.vn=new UE,this.Fn=new Vu((r=>ah(r)),((r,s)=>T1(r,s))),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.vn.has(n)){const r=n.lastSegment(),s=n.popLast();e.addOnCommittedListener((()=>{this.vn.add(n)}));const i={collectionId:r,parent:Na(s)};return l3(e).put(i)}return $e.resolve()}getCollectionParents(e,n){const r=[],s=IDBKeyRange.bound([n,""],[_L(n),""],!1,!0);return l3(e).J(s).next((i=>{for(const a of i){if(a.collectionId!==n)break;r.push(Cc(a.parent))}return r}))}addFieldIndex(e,n){const r=Lm(e),s=(function(o){return{indexId:o.indexId,collectionGroup:o.collectionGroup,fields:o.fields.map((c=>[c.fieldPath.canonicalString(),c.kind]))}})(n);delete s.indexId;const i=r.add(s);if(n.indexState){const a=x0(e);return i.next((o=>{a.put(ZI(o,this.uid,n.indexState.sequenceNumber,n.indexState.offset))}))}return i.next()}deleteFieldIndex(e,n){const r=Lm(e),s=x0(e),i=g0(e);return r.delete(n.indexId).next((()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))).next((()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const n=Lm(e),r=g0(e),s=x0(e);return n.Z().next((()=>r.Z())).next((()=>s.Z()))}createTargetIndexes(e,n){return $e.forEach(this.Mn(n),(r=>this.getIndexType(e,r).next((s=>{if(s===0||s===1){const i=new i3(r).Dn();if(i!=null)return this.addFieldIndex(e,i)}}))))}getDocumentsMatchingTarget(e,n){const r=g0(e);let s=!0;const i=new Map;return $e.forEach(this.Mn(n),(a=>this.xn(e,a).next((o=>{s&&(s=!!o),i.set(a,o)})))).next((()=>{if(s){let a=Zn();const o=[];return $e.forEach(i,((c,f)=>{Nt(o3,`Using index ${(function(k){return`id=${k.indexId}|cg=${k.collectionGroup}|f=${k.fields.map((B=>`${B.fieldPath}:${B.kind}`)).join(",")}`})(c)} to execute ${ah(n)}`);const d=(function(k,B){const W=x5(B);if(W===void 0)return null;for(const K of d2(k,W.fieldPath))switch(K.op){case"array-contains-any":return K.value.arrayValue.values||[];case"array-contains":return[K.value]}return null})(f,c),p=(function(k,B){const W=new Map;for(const K of kd(B))for(const D of d2(k,K.fieldPath))switch(D.op){case"==":case"in":W.set(K.fieldPath.canonicalString(),D.value);break;case"not-in":case"!=":return W.set(K.fieldPath.canonicalString(),D.value),Array.from(W.values())}return null})(f,c),g=(function(k,B){const W=[];let K=!0;for(const D of kd(B)){const L=D.kind===0?VI(k,D.fieldPath,k.startAt):UI(k,D.fieldPath,k.startAt);W.push(L.value),K&&(K=L.inclusive)}return new _p(W,K)})(f,c),y=(function(k,B){const W=[];let K=!0;for(const D of kd(B)){const L=D.kind===0?UI(k,D.fieldPath,k.endAt):VI(k,D.fieldPath,k.endAt);W.push(L.value),K&&(K=L.inclusive)}return new _p(W,K)})(f,c),E=this.On(c,f,g),b=this.On(c,f,y),A=this.Nn(c,f,p),N=this.Bn(c.indexId,d,E,g.inclusive,b,y.inclusive,A);return $e.forEach(N,(V=>r.Y(V,n.limit).next((k=>{k.forEach((B=>{const W=Ot.fromSegments(B.documentKey);a.has(W)||(a=a.add(W),o.push(W))}))}))))})).next((()=>o))}return $e.resolve(null)}))}Mn(e){let n=this.Fn.get(e);return n||(e.filters.length===0?n=[e]:n=IQ(Qr.create(e.filters,"and")).map((r=>A5(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt))),this.Fn.set(e,n),n)}Bn(e,n,r,s,i,a,o){const c=(n!=null?n.length:1)*Math.max(r.length,i.length),f=c/(n!=null?n.length:1),d=[];for(let p=0;p<c;++p){const g=n?this.Ln(n[p/f]):Ux,y=this.kn(e,g,r[p%f],s),E=this.qn(e,g,i[p%f],a),b=o.map((A=>this.kn(e,g,A,!0)));d.push(...this.createRange(y,E,b))}return d}kn(e,n,r,s){const i=new Fd(e,Ot.empty(),n,r);return s?i:i.An()}qn(e,n,r,s){const i=new Fd(e,Ot.empty(),n,r);return s?i.An():i}xn(e,n){const r=new i3(n),s=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,s).next((i=>{let a=null;for(const o of i)r.yn(o)&&(!a||o.fields.length>a.fields.length)&&(a=o);return a}))}getIndexType(e,n){let r=2;const s=this.Mn(n);return $e.forEach(s,(i=>this.xn(e,i).next((a=>{a?r!==0&&a.fields.length<(function(c){let f=new qr(Rs.comparator),d=!1;for(const p of c.filters)for(const g of p.getFlattenedFilters())g.field.isKeyField()||(g.op==="array-contains"||g.op==="array-contains-any"?d=!0:f=f.add(g.field));for(const p of c.orderBy)p.field.isKeyField()||(f=f.add(p.field));return f.size+(d?1:0)})(i)&&(r=1):r=0})))).next((()=>(function(a){return a.limit!==null})(n)&&s.length>1&&r===2?1:r))}Qn(e,n){const r=new Mm;for(const s of kd(e)){const i=n.data.field(s.fieldPath);if(i==null)return null;const a=r.Pn(s.kind);Ld.Kt.Dt(i,a)}return r.un()}Ln(e){const n=new Mm;return Ld.Kt.Dt(e,n.Pn(0)),n.un()}$n(e,n){const r=new Mm;return Ld.Kt.Dt(RE(this.databaseId,n),r.Pn((function(i){const a=kd(i);return a.length===0?0:a[a.length-1].kind})(e))),r.un()}Nn(e,n,r){if(r===null)return[];let s=[];s.push(new Mm);let i=0;for(const a of kd(e)){const o=r[i++];for(const c of s)if(this.Un(n,a.fieldPath)&&Kg(o))s=this.Kn(s,a,o);else{const f=c.Pn(a.kind);Ld.Kt.Dt(o,f)}}return this.Wn(s)}On(e,n,r){return this.Nn(e,n,r.position)}Wn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].un();return n}Kn(e,n,r){const s=[...e],i=[];for(const a of r.arrayValue.values||[])for(const o of s){const c=new Mm;c.seed(o.un()),Ld.Kt.Dt(a,c.Pn(n.kind)),i.push(c)}return i}Un(e,n){return!!e.filters.find((r=>r instanceof pr&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in")))}getFieldIndexes(e,n){const r=Lm(e),s=x0(e);return(n?r.J(v5,IDBKeyRange.bound(n,n)):r.J()).next((i=>{const a=[];return $e.forEach(i,(o=>s.get([o.indexId,this.uid]).next((c=>{a.push((function(d,p){const g=p?new jg(p.sequenceNumber,new Uo(lh(p.readTime),new Ot(Cc(p.documentKey)),p.largestBatchId)):jg.empty(),y=d.fields.map((([E,b])=>new Ey(Rs.fromServerFormat(E),b)));return new i2(d.indexId,d.collectionGroup,y,g)})(o,c))})))).next((()=>a))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((n=>n.length===0?null:(n.sort(((r,s)=>{const i=r.indexState.sequenceNumber-s.indexState.sequenceNumber;return i!==0?i:Fn(r.collectionGroup,s.collectionGroup)})),n[0].collectionGroup)))}updateCollectionGroup(e,n,r){const s=Lm(e),i=x0(e);return this.Gn(e).next((a=>s.J(v5,IDBKeyRange.bound(n,n)).next((o=>$e.forEach(o,(c=>i.put(ZI(c.indexId,this.uid,a,r))))))))}updateIndexEntries(e,n){const r=new Map;return $e.forEach(n,((s,i)=>{const a=r.get(s.collectionGroup);return(a?$e.resolve(a):this.getFieldIndexes(e,s.collectionGroup)).next((o=>(r.set(s.collectionGroup,o),$e.forEach(o,(c=>this.zn(e,s,c).next((f=>{const d=this.jn(i,c);return f.isEqual(d)?$e.resolve():this.Jn(e,i,c,f,d)})))))))}))}Hn(e,n,r,s){return g0(e).put(s.Rn(this.uid,this.$n(r,n.key),n.key))}Yn(e,n,r,s){return g0(e).delete(s.Vn(this.uid,this.$n(r,n.key),n.key))}zn(e,n,r){const s=g0(e);let i=new qr(bf);return s.ee({index:RL,range:IDBKeyRange.only([r.indexId,this.uid,Py(this.$n(r,n))])},((a,o)=>{i=i.add(new Fd(r.indexId,n,s3(o.arrayValue),s3(o.directionalValue)))})).next((()=>i))}jn(e,n){let r=new qr(bf);const s=this.Qn(n,e);if(s==null)return r;const i=x5(n);if(i!=null){const a=e.data.field(i.fieldPath);if(Kg(a))for(const o of a.arrayValue.values||[])r=r.add(new Fd(n.indexId,e.key,this.Ln(o),s))}else r=r.add(new Fd(n.indexId,e.key,Ux,s));return r}Jn(e,n,r,s,i){Nt(o3,"Updating index entries for document '%s'",n.key);const a=[];return(function(c,f,d,p,g){const y=c.getIterator(),E=f.getIterator();let b=p0(y),A=p0(E);for(;b||A;){let N=!1,V=!1;if(b&&A){const k=d(b,A);k<0?V=!0:k>0&&(N=!0)}else b!=null?V=!0:N=!0;N?(p(A),A=p0(E)):V?(g(b),b=p0(y)):(b=p0(y),A=p0(E))}})(s,i,bf,(o=>{a.push(this.Hn(e,n,r,o))}),(o=>{a.push(this.Yn(e,n,r,o))})),$e.waitFor(a)}Gn(e){let n=1;return x0(e).ee({index:kL,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((r,s,i)=>{i.done(),n=s.sequenceNumber+1})).next((()=>n))}createRange(e,n,r){r=r.sort(((a,o)=>bf(a,o))).filter(((a,o,c)=>!o||bf(a,c[o-1])!==0));const s=[];s.push(e);for(const a of r){const o=bf(a,e),c=bf(a,n);if(o===0)s[0]=e.An();else if(o>0&&c<0)s.push(a),s.push(a.An());else if(c>0)break}s.push(n);const i=[];for(let a=0;a<s.length;a+=2){if(this.Zn(s[a],s[a+1]))return[];const o=s[a].Vn(this.uid,Ux,Ot.empty()),c=s[a+1].Vn(this.uid,Ux,Ot.empty());i.push(IDBKeyRange.bound(o,c))}return i}Zn(e,n){return bf(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(c3)}getMinOffset(e,n){return $e.mapArray(this.Mn(n),(r=>this.xn(e,r).next((s=>s||sn(44426))))).next(c3)}}function l3(t){return Ii(t,Gg)}function g0(t){return Ii(t,fg)}function Lm(t){return Ii(t,SE)}function x0(t){return Ii(t,ug)}function c3(t){xn(t.length!==0,28825);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const s=t[r].indexState.offset;wE(s,e)<0&&(e=s),n<s.largestBatchId&&(n=s.largestBatchId)}return new Uo(e.readTime,e.documentKey,n)}const u3={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},DF=41943040;class ba{static withCacheSize(e){return new ba(e,ba.DEFAULT_COLLECTION_PERCENTILE,ba.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}function MF(t,e,n){const r=t.store(zl),s=t.store(pp),i=[],a=IDBKeyRange.only(n.batchId);let o=0;const c=r.ee({range:a},((d,p,g)=>(o++,g.delete())));i.push(c.next((()=>{xn(o===1,47070,{batchId:n.batchId})})));const f=[];for(const d of n.mutations){const p=CL(e,d.key.path,n.batchId);i.push(s.delete(p)),f.push(d.key)}return $e.waitFor(i).next((()=>f))}function x2(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw sn(14731);e=t.noDocument}return JSON.stringify(e).length}ba.DEFAULT_COLLECTION_PERCENTILE=10,ba.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ba.DEFAULT=new ba(DF,ba.DEFAULT_COLLECTION_PERCENTILE,ba.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ba.DISABLED=new ba(-1,0,0);class dv{constructor(e,n,r,s){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=s,this.Xn={}}static wt(e,n,r,s){xn(e.uid!=="",64387);const i=e.isAuthenticated()?e.uid:"";return new dv(i,n,r,s)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return wf(e).ee({index:jd,range:r},((s,i,a)=>{n=!1,a.done()})).next((()=>n))}addMutationBatch(e,n,r,s){const i=I0(e),a=wf(e);return a.add({}).next((o=>{xn(typeof o=="number",49019);const c=new ME(o,n,r,s),f=(function(y,E,b){const A=b.baseMutations.map((V=>p2(y.yt,V))),N=b.mutations.map((V=>p2(y.yt,V)));return{userId:E,batchId:b.batchId,localWriteTimeMs:b.localWriteTime.toMillis(),baseMutations:A,mutations:N}})(this.serializer,this.userId,c),d=[];let p=new qr(((g,y)=>Fn(g.canonicalString(),y.canonicalString())));for(const g of s){const y=CL(this.userId,g.key.path,o);p=p.add(g.key.path.popLast()),d.push(a.put(f)),d.push(i.put(y,iJ))}return p.forEach((g=>{d.push(this.indexManager.addToCollectionParentIndex(e,g))})),e.addOnCommittedListener((()=>{this.Xn[o]=c.keys()})),$e.waitFor(d).next((()=>c))}))}lookupMutationBatch(e,n){return wf(e).get(n).next((r=>r?(xn(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:n}),Md(this.serializer,r)):null))}er(e,n){return this.Xn[n]?$e.resolve(this.Xn[n]):this.lookupMutationBatch(e,n).next((r=>{if(r){const s=r.keys();return this.Xn[n]=s,s}return null}))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=IDBKeyRange.lowerBound([this.userId,r]);let i=null;return wf(e).ee({index:jd,range:s},((a,o,c)=>{o.userId===this.userId&&(xn(o.batchId>=r,47524,{tr:r}),i=Md(this.serializer,o)),c.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=Gd;return wf(e).ee({index:jd,range:n,reverse:!0},((s,i,a)=>{r=i.batchId,a.done()})).next((()=>r))}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,Gd],[this.userId,Number.POSITIVE_INFINITY]);return wf(e).J(jd,n).next((r=>r.map((s=>Md(this.serializer,s)))))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=Sy(this.userId,n.path),s=IDBKeyRange.lowerBound(r),i=[];return I0(e).ee({range:s},((a,o,c)=>{const[f,d,p]=a,g=Cc(d);if(f===this.userId&&n.path.isEqual(g))return wf(e).get(p).next((y=>{if(!y)throw sn(61480,{nr:a,batchId:p});xn(y.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:y.userId,batchId:p}),i.push(Md(this.serializer,y))}));c.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new qr(Fn);const s=[];return n.forEach((i=>{const a=Sy(this.userId,i.path),o=IDBKeyRange.lowerBound(a),c=I0(e).ee({range:o},((f,d,p)=>{const[g,y,E]=f,b=Cc(y);g===this.userId&&i.path.isEqual(b)?r=r.add(E):p.done()}));s.push(c)})),$e.waitFor(s).next((()=>this.rr(e,r)))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1,i=Sy(this.userId,r),a=IDBKeyRange.lowerBound(i);let o=new qr(Fn);return I0(e).ee({range:a},((c,f,d)=>{const[p,g,y]=c,E=Cc(g);p===this.userId&&r.isPrefixOf(E)?E.length===s&&(o=o.add(y)):d.done()})).next((()=>this.rr(e,o)))}rr(e,n){const r=[],s=[];return n.forEach((i=>{s.push(wf(e).get(i).next((a=>{if(a===null)throw sn(35274,{batchId:i});xn(a.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:a.userId,batchId:i}),r.push(Md(this.serializer,a))})))})),$e.waitFor(s).next((()=>r))}removeMutationBatch(e,n){return MF(e.le,this.userId,n).next((r=>(e.addOnCommittedListener((()=>{this.ir(n.batchId)})),$e.forEach(r,(s=>this.referenceDelegate.markPotentiallyOrphaned(e,s))))))}ir(e){delete this.Xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((n=>{if(!n)return $e.resolve();const r=IDBKeyRange.lowerBound((function(a){return[a]})(this.userId)),s=[];return I0(e).ee({range:r},((i,a,o)=>{if(i[0]===this.userId){const c=Cc(i[1]);s.push(c)}else o.done()})).next((()=>{xn(s.length===0,56720,{sr:s.map((i=>i.canonicalString()))})}))}))}containsKey(e,n){return LF(e,this.userId,n)}_r(e){return FF(e).get(this.userId).next((n=>n||{userId:this.userId,lastAcknowledgedBatchId:Gd,lastStreamToken:""}))}}function LF(t,e,n){const r=Sy(e,n.path),s=r[1],i=IDBKeyRange.lowerBound(r);let a=!1;return I0(t).ee({range:i,X:!0},((o,c,f)=>{const[d,p,g]=o;d===e&&p===s&&(a=!0),f.done()})).next((()=>a))}function wf(t){return Ii(t,zl)}function I0(t){return Ii(t,pp)}function FF(t){return Ii(t,Hg)}class ch{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ch(0)}static cr(){return new ch(-1)}}class PQ{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.lr(e).next((n=>{const r=new ch(n.highestTargetId);return n.highestTargetId=r.next(),this.hr(e,n).next((()=>n.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.lr(e).next((n=>Tn.fromTimestamp(new jr(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.lr(e).next((n=>n.highestListenSequenceNumber))}setTargetsMetadata(e,n,r){return this.lr(e).next((s=>(s.highestListenSequenceNumber=n,r&&(s.lastRemoteSnapshotVersion=r.toTimestamp()),n>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=n),this.hr(e,s))))}addTargetData(e,n){return this.Pr(e,n).next((()=>this.lr(e).next((r=>(r.targetCount+=1,this.Tr(n,r),this.hr(e,r))))))}updateTargetData(e,n){return this.Pr(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next((()=>y0(e).delete(n.targetId))).next((()=>this.lr(e))).next((r=>(xn(r.targetCount>0,8065),r.targetCount-=1,this.hr(e,r))))}removeTargets(e,n,r){let s=0;const i=[];return y0(e).ee(((a,o)=>{const c=Km(o);c.sequenceNumber<=n&&r.get(c.targetId)===null&&(s++,i.push(this.removeTargetData(e,c)))})).next((()=>$e.waitFor(i))).next((()=>s))}forEachTarget(e,n){return y0(e).ee(((r,s)=>{const i=Km(s);n(i)}))}lr(e){return f3(e).get(l2).next((n=>(xn(n!==null,2888),n)))}hr(e,n){return f3(e).put(l2,n)}Pr(e,n){return y0(e).put(IF(this.serializer,n))}Tr(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.lr(e).next((n=>n.targetCount))}getTargetData(e,n){const r=ah(n),s=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let i=null;return y0(e).ee({range:s,index:IL},((a,o,c)=>{const f=Km(o);T1(n,f.target)&&(i=f,c.done())})).next((()=>i))}addMatchingKeys(e,n,r){const s=[],i=Df(e);return n.forEach((a=>{const o=Na(a.path);s.push(i.put({targetId:r,path:o})),s.push(this.referenceDelegate.addReference(e,r,a))})),$e.waitFor(s)}removeMatchingKeys(e,n,r){const s=Df(e);return $e.forEach(n,(i=>{const a=Na(i.path);return $e.waitFor([s.delete([r,a]),this.referenceDelegate.removeReference(e,r,i)])}))}removeMatchingKeysForTargetId(e,n){const r=Df(e),s=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(s)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),s=Df(e);let i=Zn();return s.ee({range:r,X:!0},((a,o,c)=>{const f=Cc(a[1]),d=new Ot(f);i=i.add(d)})).next((()=>i))}containsKey(e,n){const r=Na(n.path),s=IDBKeyRange.bound([r],[_L(r)],!1,!0);let i=0;return Df(e).ee({index:EE,X:!0,range:s},(([a,o],c,f)=>{a!==0&&(i++,f.done())})).next((()=>i>0))}At(e,n){return y0(e).get(n).next((r=>r?Km(r):null))}}function y0(t){return Ii(t,mp)}function f3(t){return Ii(t,Wd)}function Df(t){return Ii(t,gp)}const d3="LruGarbageCollector",DQ=1048576;function h3([t,e],[n,r]){const s=Fn(t,n);return s===0?Fn(e,r):s}class MQ{constructor(e){this.Ir=e,this.buffer=new qr(h3),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();h3(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class OF{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Nt(d3,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){id(n)?Nt(d3,"Ignoring IndexedDB error during garbage collection: ",n):await yh(n)}await this.Vr(3e5)}))}}class LQ{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return $e.resolve(hl.ce);const r=new MQ(n);return this.mr.forEachTarget(e,(s=>r.Ar(s.sequenceNumber))).next((()=>this.mr.pr(e,(s=>r.Ar(s))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Nt("LruGarbageCollector","Garbage collection skipped; disabled"),$e.resolve(u3)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Nt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),u3):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,a,o,c,f;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((p=>(p>this.params.maximumSequenceNumbersToCollect?(Nt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),s=this.params.maximumSequenceNumbersToCollect):s=p,a=Date.now(),this.nthSequenceNumber(e,s)))).next((p=>(r=p,o=Date.now(),this.removeTargets(e,r,n)))).next((p=>(i=p,c=Date.now(),this.removeOrphanedDocuments(e,r)))).next((p=>(f=Date.now(),S0()<=ur.DEBUG&&Nt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-d}ms
	Determined least recently used ${s} in `+(o-a)+`ms
	Removed ${i} targets in `+(c-o)+`ms
	Removed ${p} documents in `+(f-c)+`ms
Total Duration: ${f-d}ms`),$e.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:p}))))}}function BF(t,e){return new LQ(t,e)}class FQ{constructor(e,n){this.db=e,this.garbageCollector=BF(this,n)}gr(e){const n=this.wr(e);return this.db.getTargetCache().getTargetCount(e).next((r=>n.next((s=>r+s))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}pr(e,n){return this.Sr(e,((r,s)=>n(s)))}addReference(e,n,r){return jx(e,r)}removeReference(e,n,r){return jx(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return jx(e,n)}br(e,n){return(function(s,i){let a=!1;return FF(s).te((o=>LF(s,o,i).next((c=>(c&&(a=!0),$e.resolve(!c)))))).next((()=>a))})(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[];let i=0;return this.Sr(e,((a,o)=>{if(o<=n){const c=this.br(e,a).next((f=>{if(!f)return i++,r.getEntry(e,a).next((()=>(r.removeEntry(a,Tn.min()),Df(e).delete((function(p){return[0,Na(p.path)]})(a)))))}));s.push(c)}})).next((()=>$e.waitFor(s))).next((()=>r.apply(e))).next((()=>i))}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return jx(e,n)}Sr(e,n){const r=Df(e);let s,i=hl.ce;return r.ee({index:EE},(([a,o],{path:c,sequenceNumber:f})=>{a===0?(i!==hl.ce&&n(new Ot(Cc(s)),i),i=f,s=c):i=hl.ce})).next((()=>{i!==hl.ce&&n(new Ot(Cc(s)),i)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function jx(t,e){return Df(t).put((function(r,s){return{targetId:0,path:Na(r.path),sequenceNumber:s}})(e,t.currentSequenceNumber))}class VF{constructor(){this.changes=new Vu((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,qs.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?$e.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class OQ{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Cd(e).put(r)}removeEntry(e,n,r){return Cd(e).delete((function(i,a){const o=i.path.toArray();return[o.slice(0,o.length-2),o[o.length-2],m2(a),o[o.length-1]]})(n,r))}updateMetadata(e,n){return this.getMetadata(e).next((r=>(r.byteSize+=n,this.Dr(e,r))))}getEntry(e,n){let r=qs.newInvalidDocument(n);return Cd(e).ee({index:Ay,range:IDBKeyRange.only(Fm(n))},((s,i)=>{r=this.Cr(n,i)})).next((()=>r))}vr(e,n){let r={size:0,document:qs.newInvalidDocument(n)};return Cd(e).ee({index:Ay,range:IDBKeyRange.only(Fm(n))},((s,i)=>{r={document:this.Cr(n,i),size:x2(i)}})).next((()=>r))}getEntries(e,n){let r=Bo();return this.Fr(e,n,((s,i)=>{const a=this.Cr(s,i);r=r.insert(s,a)})).next((()=>r))}Mr(e,n){let r=Bo(),s=new Ts(Ot.comparator);return this.Fr(e,n,((i,a)=>{const o=this.Cr(i,a);r=r.insert(i,o),s=s.insert(i,x2(a))})).next((()=>({documents:r,Or:s})))}Fr(e,n,r){if(n.isEmpty())return $e.resolve();let s=new qr(g3);n.forEach((c=>s=s.add(c)));const i=IDBKeyRange.bound(Fm(s.first()),Fm(s.last())),a=s.getIterator();let o=a.getNext();return Cd(e).ee({index:Ay,range:i},((c,f,d)=>{const p=Ot.fromSegments([...f.prefixPath,f.collectionGroup,f.documentId]);for(;o&&g3(o,p)<0;)r(o,null),o=a.getNext();o&&o.isEqual(p)&&(r(o,f),o=a.hasNext()?a.getNext():null),o?d.j(Fm(o)):d.done()})).next((()=>{for(;o;)r(o,null),o=a.hasNext()?a.getNext():null}))}getDocumentsMatchingQuery(e,n,r,s,i){const a=n.path,o=[a.popLast().toArray(),a.lastSegment(),m2(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],c=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Cd(e).J(IDBKeyRange.bound(o,c,!0)).next((f=>{i?.incrementDocumentReadCount(f.length);let d=Bo();for(const p of f){const g=this.Cr(Ot.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);g.isFoundDocument()&&(E1(n,g)||s.has(g.key))&&(d=d.insert(g.key,g))}return d}))}getAllFromCollectionGroup(e,n,r,s){let i=Bo();const a=m3(n,r),o=m3(n,Uo.max());return Cd(e).ee({index:NL,range:IDBKeyRange.bound(a,o,!0)},((c,f,d)=>{const p=this.Cr(Ot.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);i=i.insert(p.key,p),i.size===s&&d.done()})).next((()=>i))}newChangeBuffer(e){return new BQ(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((n=>n.byteSize))}getMetadata(e){return p3(e).get(y5).next((n=>(xn(!!n,20021),n)))}Dr(e,n){return p3(e).put(y5,n)}Cr(e,n){if(n){const r=wQ(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(Tn.min())))return r}return qs.newInvalidDocument(e)}}function UF(t){return new OQ(t)}class BQ extends VF{constructor(e,n){super(),this.Nr=e,this.trackRemovals=n,this.Br=new Vu((r=>r.toString()),((r,s)=>r.isEqual(s)))}applyChanges(e){const n=[];let r=0,s=new qr(((i,a)=>Fn(i.canonicalString(),a.canonicalString())));return this.changes.forEach(((i,a)=>{const o=this.Br.get(i);if(n.push(this.Nr.removeEntry(e,i,o.readTime)),a.isValidDocument()){const c=JI(this.Nr.serializer,a);s=s.add(i.path.popLast());const f=x2(c);r+=f-o.size,n.push(this.Nr.addEntry(e,i,c))}else if(r-=o.size,this.trackRemovals){const c=JI(this.Nr.serializer,a.convertToNoDocument(Tn.min()));n.push(this.Nr.addEntry(e,i,c))}})),s.forEach((i=>{n.push(this.Nr.indexManager.addToCollectionParentIndex(e,i))})),n.push(this.Nr.updateMetadata(e,r)),$e.waitFor(n)}getFromCache(e,n){return this.Nr.vr(e,n).next((r=>(this.Br.set(n,{size:r.size,readTime:r.document.readTime}),r.document)))}getAllFromCache(e,n){return this.Nr.Mr(e,n).next((({documents:r,Or:s})=>(s.forEach(((i,a)=>{this.Br.set(i,{size:a,readTime:r.get(i).readTime})})),r)))}}function p3(t){return Ii(t,zg)}function Cd(t){return Ii(t,o2)}function Fm(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function m3(t,e){const n=e.documentKey.path.toArray();return[t,m2(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function g3(t,e){const n=t.path.toArray(),r=e.path.toArray();let s=0;for(let i=0;i<n.length-2&&i<r.length-2;++i)if(s=Fn(n[i],r[i]),s)return s;return s=Fn(n.length,r.length),s||(s=Fn(n[n.length-2],r[r.length-2]),s||Fn(n[n.length-1],r[r.length-1]))}class VQ{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class jF{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,n)))).next((s=>(r!==null&&mg(r.mutation,s,yo.empty(),jr.now()),s)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Zn()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Zn()){const s=Nc();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,r).next((i=>{let a=Wm();return i.forEach(((o,c)=>{a=a.insert(o,c.overlayedDocument)})),a}))))}getOverlayedDocuments(e,n){const r=Nc();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Zn())))}populateOverlays(e,n,r){const s=[];return r.forEach((i=>{n.has(i)||s.push(i)})),this.documentOverlayCache.getOverlays(e,s).next((i=>{i.forEach(((a,o)=>{n.set(a,o)}))}))}computeViews(e,n,r,s){let i=Bo();const a=pg(),o=(function(){return pg()})();return n.forEach(((c,f)=>{const d=r.get(f.key);s.has(f.key)&&(d===void 0||d.mutation instanceof Uu)?i=i.insert(f.key,f):d!==void 0?(a.set(f.key,d.mutation.getFieldMask()),mg(d.mutation,f,d.mutation.getFieldMask(),jr.now())):a.set(f.key,yo.empty())})),this.recalculateAndSaveOverlays(e,i).next((c=>(c.forEach(((f,d)=>a.set(f,d))),n.forEach(((f,d)=>o.set(f,new VQ(d,a.get(f)??null)))),o)))}recalculateAndSaveOverlays(e,n){const r=pg();let s=new Ts(((a,o)=>a-o)),i=Zn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((a=>{for(const o of a)o.keys().forEach((c=>{const f=n.get(c);if(f===null)return;let d=r.get(c)||yo.empty();d=o.applyToLocalView(f,d),r.set(c,d);const p=(s.get(o.batchId)||Zn()).add(c);s=s.insert(o.batchId,p)}))})).next((()=>{const a=[],o=s.getReverseIterator();for(;o.hasNext();){const c=o.getNext(),f=c.key,d=c.value,p=sF();d.forEach((g=>{if(!i.has(g)){const y=fF(n.get(g),r.get(g));y!==null&&p.set(g,y),i=i.add(g)}})),a.push(this.documentOverlayCache.saveOverlays(e,f,p))}return $e.waitFor(a)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,s){return(function(a){return Ot.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):qJ(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next((i=>{const a=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):$e.resolve(Nc());let o=Ug,c=i;return a.next((f=>$e.forEach(f,((d,p)=>(o<p.largestBatchId&&(o=p.largestBatchId),i.get(d)?$e.resolve():this.remoteDocumentCache.getEntry(e,d).next((g=>{c=c.insert(d,g)}))))).next((()=>this.populateOverlays(e,f,i))).next((()=>this.computeViews(e,c,f,Zn()))).next((d=>({batchId:o,changes:rF(d)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ot(n)).next((r=>{let s=Wm();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let a=Wm();return this.indexManager.getCollectionParents(e,i).next((o=>$e.forEach(o,(c=>{const f=(function(p,g){return new iv(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,f,r,s).next((d=>{d.forEach(((p,g)=>{a=a.insert(p,g)}))}))})).next((()=>a))))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s)))).next((a=>{i.forEach(((c,f)=>{const d=f.getKey();a.get(d)===null&&(a=a.insert(d,qs.newInvalidDocument(d)))}));let o=Wm();return a.forEach(((c,f)=>{const d=i.get(c);d!==void 0&&mg(d.mutation,f,yo.empty(),jr.now()),E1(n,f)&&(o=o.insert(c,f))})),o}))}}class UQ{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return $e.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(s){return{id:s.id,version:s.version,createTime:Ga(s.createTime)}})(n)),$e.resolve()}getNamedQuery(e,n){return $e.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(s){return{name:s.name,query:kF(s.bundledQuery),readTime:Ga(s.readTime)}})(n)),$e.resolve()}}class jQ{constructor(){this.overlays=new Ts(Ot.comparator),this.qr=new Map}getOverlay(e,n){return $e.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Nc();return $e.forEach(n,(s=>this.getOverlay(e,s).next((i=>{i!==null&&r.set(s,i)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((s,i)=>{this.St(e,n,i)})),$e.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach((i=>this.overlays=this.overlays.remove(i))),this.qr.delete(r)),$e.resolve()}getOverlaysForCollection(e,n,r){const s=Nc(),i=n.length+1,a=new Ot(n.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const c=o.getNext().value,f=c.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return $e.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Ts(((f,d)=>f-d));const a=this.overlays.getIterator();for(;a.hasNext();){const f=a.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let d=i.get(f.largestBatchId);d===null&&(d=Nc(),i=i.insert(f.largestBatchId,d)),d.set(f.getKey(),f)}}const o=Nc(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach(((f,d)=>o.set(f,d))),!(o.size()>=s)););return $e.resolve(o)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const a=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new FE(n,r));let i=this.qr.get(n);i===void 0&&(i=Zn(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}class qQ{constructor(){this.sessionToken=di.EMPTY_BYTE_STRING}getSessionToken(e){return $e.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,$e.resolve()}}class jE{constructor(){this.Qr=new qr(ji.$r),this.Ur=new qr(ji.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new ji(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new ji(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new Ot(new Lr([])),r=new ji(n,e),s=new ji(n,e+1),i=[];return this.Ur.forEachInRange([r,s],(a=>{this.Gr(a),i.push(a.key)})),i}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Ot(new Lr([])),r=new ji(n,e),s=new ji(n,e+1);let i=Zn();return this.Ur.forEachInRange([r,s],(a=>{i=i.add(a.key)})),i}containsKey(e){const n=new ji(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ji{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Ot.comparator(e.key,n.key)||Fn(e.Yr,n.Yr)}static Kr(e,n){return Fn(e.Yr,n.Yr)||Ot.comparator(e.key,n.key)}}class HQ{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new qr(ji.$r)}checkEmpty(e){return $e.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new ME(i,n,r,s);this.mutationQueue.push(a);for(const o of s)this.Zr=this.Zr.add(new ji(o.key,i)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return $e.resolve(a)}lookupMutationBatch(e,n){return $e.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return $e.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return $e.resolve(this.mutationQueue.length===0?Gd:this.tr-1)}getAllMutationBatches(e){return $e.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ji(n,0),s=new ji(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],(a=>{const o=this.Xr(a.Yr);i.push(o)})),$e.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new qr(Fn);return n.forEach((s=>{const i=new ji(s,0),a=new ji(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,a],(o=>{r=r.add(o.Yr)}))})),$e.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;Ot.isDocumentKey(i)||(i=i.child(""));const a=new ji(new Ot(i),0);let o=new qr(Fn);return this.Zr.forEachWhile((c=>{const f=c.key.path;return!!r.isPrefixOf(f)&&(f.length===s&&(o=o.add(c.Yr)),!0)}),a),$e.resolve(this.ti(o))}ti(e){const n=[];return e.forEach((r=>{const s=this.Xr(r);s!==null&&n.push(s)})),n}removeMutationBatch(e,n){xn(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return $e.forEach(n.mutations,(s=>{const i=new ji(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new ji(n,0),s=this.Zr.firstAfterOrEqual(r);return $e.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,$e.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class zQ{constructor(e){this.ri=e,this.docs=(function(){return new Ts(Ot.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,a=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return $e.resolve(r?r.document.mutableCopy():qs.newInvalidDocument(n))}getEntries(e,n){let r=Bo();return n.forEach((s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():qs.newInvalidDocument(s))})),$e.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Bo();const a=n.path,o=new Ot(a.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(o);for(;c.hasNext();){const{key:f,value:{document:d}}=c.getNext();if(!a.isPrefixOf(f.path))break;f.path.length>a.length+1||wE(TL(d),r)<=0||(s.has(d.key)||E1(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return $e.resolve(i)}getAllFromCollectionGroup(e,n,r,s){sn(9500)}ii(e,n){return $e.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new GQ(this)}getSize(e){return $e.resolve(this.size)}}class GQ extends VF{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)})),$e.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class WQ{constructor(e){this.persistence=e,this.si=new Vu((n=>ah(n)),T1),this.lastRemoteSnapshotVersion=Tn.min(),this.highestTargetId=0,this.oi=0,this._i=new jE,this.targetCount=0,this.ai=ch.ur()}forEachTarget(e,n){return this.si.forEach(((r,s)=>n(s))),$e.resolve()}getLastRemoteSnapshotVersion(e){return $e.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $e.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),$e.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),$e.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new ch(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,$e.resolve()}updateTargetData(e,n){return this.Pr(n),$e.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,$e.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach(((a,o)=>{o.sequenceNumber<=n&&r.get(o.targetId)===null&&(this.si.delete(a),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),s++)})),$e.waitFor(i).next((()=>s))}getTargetCount(e){return $e.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return $e.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),$e.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach((a=>{i.push(s.markPotentiallyOrphaned(e,a))})),$e.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),$e.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return $e.resolve(r)}containsKey(e,n){return $e.resolve(this._i.containsKey(n))}}class qE{constructor(e,n){this.ui={},this.overlays={},this.ci=new hl(0),this.li=!1,this.li=!0,this.hi=new qQ,this.referenceDelegate=e(this),this.Pi=new WQ(this),this.indexManager=new kQ,this.remoteDocumentCache=(function(s){return new zQ(s)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new NF(n),this.Ii=new UQ(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new jQ,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new HQ(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Nt("MemoryPersistence","Starting transaction:",e);const s=new $Q(this.ci.next());return this.referenceDelegate.Ei(),r(s).next((i=>this.referenceDelegate.di(s).next((()=>i)))).toPromise().then((i=>(s.raiseOnCommittedEvent(),i)))}Ai(e,n){return $e.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class $Q extends SL{constructor(e){super(),this.currentSequenceNumber=e}}class hv{constructor(e){this.persistence=e,this.Ri=new jE,this.Vi=null}static mi(e){return new hv(e)}get fi(){if(this.Vi)return this.Vi;throw sn(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),$e.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),$e.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),$e.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((s=>this.fi.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((s=>{s.forEach((i=>this.fi.add(i.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $e.forEach(this.fi,(r=>{const s=Ot.fromPath(r);return this.gi(e,s).next((i=>{i||n.removeEntry(s,Tn.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return $e.or([()=>$e.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class y2{constructor(e,n){this.persistence=e,this.pi=new Vu((r=>Na(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=BF(this,n)}static mi(e,n){return new y2(e,n)}Ei(){}di(e){return $e.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((s=>r+s))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return $e.forEach(this.pi,((r,s)=>this.br(e,r,s).next((i=>i?$e.resolve():n(s)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,(a=>this.br(e,a,n).next((o=>{o||(r++,i.removeEntry(a,Tn.min()))})))).next((()=>i.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),$e.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),$e.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),$e.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),$e.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ny(e.data.value)),n}br(e,n,r){return $e.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return $e.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class KQ{constructor(e){this.serializer=e}k(e,n,r,s){const i=new Q2("createOrUpgrade",n);r<1&&s>=1&&((function(c){c.createObjectStore(w1)})(e),(function(c){c.createObjectStore(Hg,{keyPath:sJ}),c.createObjectStore(zl,{keyPath:CI,autoIncrement:!0}).createIndex(jd,NI,{unique:!0}),c.createObjectStore(pp)})(e),x3(e),(function(c){c.createObjectStore(Rd)})(e));let a=$e.resolve();return r<3&&s>=3&&(r!==0&&((function(c){c.deleteObjectStore(gp),c.deleteObjectStore(mp),c.deleteObjectStore(Wd)})(e),x3(e)),a=a.next((()=>(function(c){const f=c.store(Wd),d={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Tn.min().toTimestamp(),targetCount:0};return f.put(l2,d)})(i)))),r<4&&s>=4&&(r!==0&&(a=a.next((()=>(function(c,f){return f.store(zl).J().next((p=>{c.deleteObjectStore(zl),c.createObjectStore(zl,{keyPath:CI,autoIncrement:!0}).createIndex(jd,NI,{unique:!0});const g=f.store(zl),y=p.map((E=>g.put(E)));return $e.waitFor(y)}))})(e,i)))),a=a.next((()=>{(function(c){c.createObjectStore(xp,{keyPath:hJ})})(e)}))),r<5&&s>=5&&(a=a.next((()=>this.yi(i)))),r<6&&s>=6&&(a=a.next((()=>((function(c){c.createObjectStore(zg)})(e),this.wi(i))))),r<7&&s>=7&&(a=a.next((()=>this.Si(i)))),r<8&&s>=8&&(a=a.next((()=>this.bi(e,i)))),r<9&&s>=9&&(a=a.next((()=>{(function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")})(e)}))),r<10&&s>=10&&(a=a.next((()=>this.Di(i)))),r<11&&s>=11&&(a=a.next((()=>{(function(c){c.createObjectStore(ev,{keyPath:pJ})})(e),(function(c){c.createObjectStore(tv,{keyPath:mJ})})(e)}))),r<12&&s>=12&&(a=a.next((()=>{(function(c){const f=c.createObjectStore(nv,{keyPath:wJ});f.createIndex(_5,TJ,{unique:!1}),f.createIndex(PL,EJ,{unique:!1})})(e)}))),r<13&&s>=13&&(a=a.next((()=>(function(c){const f=c.createObjectStore(o2,{keyPath:aJ});f.createIndex(Ay,oJ),f.createIndex(NL,lJ)})(e))).next((()=>this.Ci(e,i))).next((()=>e.deleteObjectStore(Rd)))),r<14&&s>=14&&(a=a.next((()=>this.Fi(e,i)))),r<15&&s>=15&&(a=a.next((()=>(function(c){c.createObjectStore(SE,{keyPath:gJ,autoIncrement:!0}).createIndex(v5,xJ,{unique:!1}),c.createObjectStore(ug,{keyPath:yJ}).createIndex(kL,vJ,{unique:!1}),c.createObjectStore(fg,{keyPath:_J}).createIndex(RL,bJ,{unique:!1})})(e)))),r<16&&s>=16&&(a=a.next((()=>{n.objectStore(ug).clear()})).next((()=>{n.objectStore(fg).clear()}))),r<17&&s>=17&&(a=a.next((()=>{(function(c){c.createObjectStore(AE,{keyPath:SJ})})(e)}))),r<18&&s>=18&&SM()&&(a=a.next((()=>{n.objectStore(ug).clear()})).next((()=>{n.objectStore(fg).clear()}))),a}wi(e){let n=0;return e.store(Rd).ee(((r,s)=>{n+=x2(s)})).next((()=>{const r={byteSize:n};return e.store(zg).put(y5,r)}))}yi(e){const n=e.store(Hg),r=e.store(zl);return n.J().next((s=>$e.forEach(s,(i=>{const a=IDBKeyRange.bound([i.userId,Gd],[i.userId,i.lastAcknowledgedBatchId]);return r.J(jd,a).next((o=>$e.forEach(o,(c=>{xn(c.userId===i.userId,18650,"Cannot process batch from unexpected user",{batchId:c.batchId});const f=Md(this.serializer,c);return MF(e,i.userId,f).next((()=>{}))}))))}))))}Si(e){const n=e.store(gp),r=e.store(Rd);return e.store(Wd).get(l2).next((s=>{const i=[];return r.ee(((a,o)=>{const c=new Lr(a),f=(function(p){return[0,Na(p)]})(c);i.push(n.get(f).next((d=>d?$e.resolve():(p=>n.put({targetId:0,path:Na(p),sequenceNumber:s.highestListenSequenceNumber}))(c))))})).next((()=>$e.waitFor(i)))}))}bi(e,n){e.createObjectStore(Gg,{keyPath:dJ});const r=n.store(Gg),s=new UE,i=a=>{if(s.add(a)){const o=a.lastSegment(),c=a.popLast();return r.put({collectionId:o,parent:Na(c)})}};return n.store(Rd).ee({X:!0},((a,o)=>{const c=new Lr(a);return i(c.popLast())})).next((()=>n.store(pp).ee({X:!0},(([a,o,c],f)=>{const d=Cc(o);return i(d.popLast())}))))}Di(e){const n=e.store(mp);return n.ee(((r,s)=>{const i=Km(s),a=IF(this.serializer,i);return n.put(a)}))}Ci(e,n){const r=n.store(Rd),s=[];return r.ee(((i,a)=>{const o=n.store(o2),c=(function(p){return p.document?new Ot(Lr.fromString(p.document.name).popFirst(5)):p.noDocument?Ot.fromSegments(p.noDocument.path):p.unknownDocument?Ot.fromSegments(p.unknownDocument.path):sn(36783)})(a).path.toArray(),f={prefixPath:c.slice(0,c.length-2),collectionGroup:c[c.length-2],documentId:c[c.length-1],readTime:a.readTime||[0,0],unknownDocument:a.unknownDocument,noDocument:a.noDocument,document:a.document,hasCommittedMutations:!!a.hasCommittedMutations};s.push(o.put(f))})).next((()=>$e.waitFor(s)))}Fi(e,n){const r=n.store(zl),s=UF(this.serializer),i=new qE(hv.mi,this.serializer.yt);return r.J().next((a=>{const o=new Map;return a.forEach((c=>{let f=o.get(c.userId)??Zn();Md(this.serializer,c).keys().forEach((d=>f=f.add(d))),o.set(c.userId,f)})),$e.forEach(o,((c,f)=>{const d=new ra(f),p=fv.wt(this.serializer,d),g=i.getIndexManager(d),y=dv.wt(d,this.serializer,g,i.referenceDelegate);return new jF(s,y,p,g).recalculateAndSaveOverlaysForDocumentKeys(new b5(n,hl.ce),c).next()}))}))}}function x3(t){t.createObjectStore(gp,{keyPath:uJ}).createIndex(EE,fJ,{unique:!0}),t.createObjectStore(mp,{keyPath:"targetId"}).createIndex(IL,cJ,{unique:!0}),t.createObjectStore(Wd)}const Tf="IndexedDbPersistence",Tb=18e5,Eb=5e3,Sb="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",YQ="main";class HE{constructor(e,n,r,s,i,a,o,c,f,d,p=18){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Mi=i,this.window=a,this.document=o,this.xi=f,this.Oi=d,this.Ni=p,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=g=>Promise.resolve(),!HE.v())throw new Ft(mt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new FQ(this,s),this.$i=n+YQ,this.serializer=new NF(c),this.Ui=new zf(this.$i,this.Ni,new KQ(this.serializer)),this.hi=new EQ,this.Pi=new PQ(this.referenceDelegate,this.serializer),this.remoteDocumentCache=UF(this.serializer),this.Ii=new TQ,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,d===!1&&qa(Tf,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ft(mt.FAILED_PRECONDITION,Sb);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Pi.getHighestSequenceNumber(e)))})).then((e=>{this.ci=new hl(e,this.xi)})).then((()=>{this.li=!0})).catch((e=>(this.Ui&&this.Ui.close(),Promise.reject(e))))}Ji(e){return this.Qi=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ui.$((async n=>{n.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Mi.enqueueAndForget((async()=>{this.started&&await this.Wi()})))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>qx(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Hi(e).next((n=>{n||(this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))))}))})).next((()=>this.Yi(e))).next((n=>this.isPrimary&&!n?this.Zi(e).next((()=>!1)):!!n&&this.Xi(e).next((()=>!0)))))).catch((e=>{if(id(e))return Nt(Tf,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Nt(Tf,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Mi.enqueueRetryable((()=>this.Qi(e))),this.isPrimary=e}))}Hi(e){return Om(e).get(h0).next((n=>$e.resolve(this.es(n))))}ts(e){return qx(e).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.rs(this.qi,Tb)){this.qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(n=>{const r=Ii(n,xp);return r.J().next((s=>{const i=this.ss(s,Tb),a=s.filter((o=>i.indexOf(o)===-1));return $e.forEach(a,(o=>r.delete(o.clientId))).next((()=>a))}))})).catch((()=>[]));if(this.Ki)for(const n of e)this.Ki.removeItem(this._s(n.clientId))}}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Wi().then((()=>this.ns())).then((()=>this.ji()))))}es(e){return!!e&&e.ownerId===this.clientId}Yi(e){return this.Oi?$e.resolve(!0):Om(e).get(h0).next((n=>{if(n!==null&&this.rs(n.leaseTimestampMs,Eb)&&!this.us(n.ownerId)){if(this.es(n)&&this.networkEnabled)return!0;if(!this.es(n)){if(!n.allowTabSynchronization)throw new Ft(mt.FAILED_PRECONDITION,Sb);return!1}}return!(!this.networkEnabled||!this.inForeground)||qx(e).J().next((r=>this.ss(r,Eb).find((s=>{if(this.clientId!==s.clientId){const i=!this.networkEnabled&&s.networkEnabled,a=!this.inForeground&&s.inForeground,o=this.networkEnabled===s.networkEnabled;if(i||a&&o)return!0}return!1}))===void 0))})).next((n=>(this.isPrimary!==n&&Nt(Tf,`Client ${n?"is":"is not"} eligible for a primary lease.`),n)))}async shutdown(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),await this.Ui.runTransaction("shutdown","readwrite",[w1,xp],(e=>{const n=new b5(e,hl.ce);return this.Zi(n).next((()=>this.ts(n)))})),this.Ui.close(),this.Ps()}ss(e,n){return e.filter((r=>this.rs(r.updateTimeMs,n)&&!this.us(r.clientId)))}Ts(){return this.runTransaction("getActiveClients","readonly",(e=>qx(e).J().next((n=>this.ss(n,Tb).map((r=>r.clientId))))))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(e,n){return dv.wt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new RQ(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return fv.wt(this.serializer,e)}getBundleCache(){return this.Ii}runTransaction(e,n,r){Nt(Tf,"Starting transaction:",e);const s=n==="readonly"?"readonly":"readwrite",i=(function(c){return c===18?NJ:c===17?FL:c===16?CJ:c===15?CE:c===14?LL:c===13?ML:c===12?AJ:c===11?DL:void sn(60245)})(this.Ni);let a;return this.Ui.runTransaction(e,s,i,(o=>(a=new b5(o,this.ci?this.ci.next():hl.ce),n==="readwrite-primary"?this.Hi(a).next((c=>!!c||this.Yi(a))).next((c=>{if(!c)throw qa(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))),new Ft(mt.FAILED_PRECONDITION,EL);return r(a)})).next((c=>this.Xi(a).next((()=>c)))):this.Is(a).next((()=>r(a)))))).then((o=>(a.raiseOnCommittedEvent(),o)))}Is(e){return Om(e).get(h0).next((n=>{if(n!==null&&this.rs(n.leaseTimestampMs,Eb)&&!this.us(n.ownerId)&&!this.es(n)&&!(this.Oi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new Ft(mt.FAILED_PRECONDITION,Sb)}))}Xi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Om(e).put(h0,n)}static v(){return zf.v()}Zi(e){const n=Om(e);return n.get(h0).next((r=>this.es(r)?(Nt(Tf,"Releasing primary lease."),n.delete(h0)):$e.resolve()))}rs(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(qa(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Li=()=>{this.Mi.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.Wi())))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground=this.document.visibilityState==="visible")}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){typeof this.window?.addEventListener=="function"&&(this.Bi=()=>{this.cs();const e=/(?:Version|Mobile)\/1[456]/;EM()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(e){try{const n=this.Ki?.getItem(this._s(e))!==null;return Nt(Tf,`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(n){return qa(Tf,"Failed to get zombied client id.",n),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(e){qa("Failed to set zombie client id.",e)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch{}}_s(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Om(t){return Ii(t,w1)}function qx(t){return Ii(t,xp)}function XQ(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}class zE{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=Zn(),s=Zn();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new zE(e,n.fromCache,r,s)}}class JQ{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class qF{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return EM()?8:AL(Ni())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next((a=>{i.result=a})).next((()=>{if(!i.result)return this.ws(e,n,s,r).next((a=>{i.result=a}))})).next((()=>{if(i.result)return;const a=new JQ;return this.Ss(e,n,a).next((o=>{if(i.result=o,this.Vs)return this.bs(e,n,a,o.size)}))})).next((()=>i.result))}bs(e,n,r,s){return r.documentReadCount<this.fs?(S0()<=ur.DEBUG&&Nt("QueryEngine","SDK will not create cache indexes for query:",A0(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$e.resolve()):(S0()<=ur.DEBUG&&Nt("QueryEngine","Query:",A0(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(S0()<=ur.DEBUG&&Nt("QueryEngine","The SDK decides to create cache indexes for query:",A0(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,pl(n))):$e.resolve())}ys(e,n){if(jI(n))return $e.resolve(null);let r=pl(n);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(n.limit!==null&&s===1&&(n=C5(n,null,"F"),r=pl(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((i=>{const a=Zn(...i);return this.ps.getDocuments(e,a).next((o=>this.indexManager.getMinOffset(e,r).next((c=>{const f=this.Ds(n,o);return this.Cs(n,f,a,c.readTime)?this.ys(e,C5(n,null,"F")):this.vs(e,f,n,c)}))))})))))}ws(e,n,r,s){return jI(n)||s.isEqual(Tn.min())?$e.resolve(null):this.ps.getDocuments(e,r).next((i=>{const a=this.Ds(n,i);return this.Cs(n,a,r,s)?$e.resolve(null):(S0()<=ur.DEBUG&&Nt("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),A0(n)),this.vs(e,a,n,JX(s,Ug)).next((o=>o)))}))}Ds(e,n){let r=new qr(tF(e));return n.forEach(((s,i)=>{E1(e,i)&&(r=r.add(i))})),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return S0()<=ur.DEBUG&&Nt("QueryEngine","Using full collection scan to execute query:",A0(n)),this.ps.getDocumentsMatchingQuery(e,n,Uo.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next((i=>(n.forEach((a=>{i=i.insert(a.key,a)})),i)))}}const GE="LocalStore",QQ=3e8;class ZQ{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new Ts(Fn),this.xs=new Vu((i=>ah(i)),T1),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new jF(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function HF(t,e,n,r){return new ZQ(t,e,n,r)}async function zF(t,e){const n=On(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next((i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((i=>{const a=[],o=[];let c=Zn();for(const f of s){a.push(f.batchId);for(const d of f.mutations)c=c.add(d.key)}for(const f of i){o.push(f.batchId);for(const d of f.mutations)c=c.add(d.key)}return n.localDocuments.getDocuments(r,c).next((f=>({Ls:f,removedBatchIds:a,addedBatchIds:o})))}))}))}function eZ(t,e){const n=On(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(o,c,f,d){const p=f.batch,g=p.keys();let y=$e.resolve();return g.forEach((E=>{y=y.next((()=>d.getEntry(c,E))).next((b=>{const A=f.docVersions.get(E);xn(A!==null,48541),b.version.compareTo(A)<0&&(p.applyToRemoteDocument(b,f),b.isValidDocument()&&(b.setReadTime(f.commitVersion),d.addEntry(b)))}))})),y.next((()=>o.mutationQueue.removeMutationBatch(c,p)))})(n,r,e,i).next((()=>i.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(o){let c=Zn();for(let f=0;f<o.mutationResults.length;++f)o.mutationResults[f].transformResults.length>0&&(c=c.add(o.batch.mutations[f].key));return c})(e)))).next((()=>n.localDocuments.getDocuments(r,s)))}))}function GF(t){const e=On(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function tZ(t,e){const n=On(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(i=>{const a=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const o=[];e.targetChanges.forEach(((d,p)=>{const g=s.get(p);if(!g)return;o.push(n.Pi.removeMatchingKeys(i,d.removedDocuments,p).next((()=>n.Pi.addMatchingKeys(i,d.addedDocuments,p))));let y=g.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(di.EMPTY_BYTE_STRING,Tn.min()).withLastLimboFreeSnapshotVersion(Tn.min()):d.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(d.resumeToken,r)),s=s.insert(p,y),(function(b,A,N){return b.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=QQ?!0:N.addedDocuments.size+N.modifiedDocuments.size+N.removedDocuments.size>0})(g,y,d)&&o.push(n.Pi.updateTargetData(i,y))}));let c=Bo(),f=Zn();if(e.documentUpdates.forEach((d=>{e.resolvedLimboDocuments.has(d)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))})),o.push(nZ(i,a,e.documentUpdates).next((d=>{c=d.ks,f=d.qs}))),!r.isEqual(Tn.min())){const d=n.Pi.getLastRemoteSnapshotVersion(i).next((p=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r)));o.push(d)}return $e.waitFor(o).next((()=>a.apply(i))).next((()=>n.localDocuments.getLocalViewOfDocuments(i,c,f))).next((()=>c))})).then((i=>(n.Ms=s,i)))}function nZ(t,e,n){let r=Zn(),s=Zn();return n.forEach((i=>r=r.add(i))),e.getEntries(t,r).next((i=>{let a=Bo();return n.forEach(((o,c)=>{const f=i.get(o);c.isFoundDocument()!==f.isFoundDocument()&&(s=s.add(o)),c.isNoDocument()&&c.version.isEqual(Tn.min())?(e.removeEntry(o,c.readTime),a=a.insert(o,c)):!f.isValidDocument()||c.version.compareTo(f.version)>0||c.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(c),a=a.insert(o,c)):Nt(GE,"Ignoring outdated watch update for ",o,". Current version:",f.version," Watch version:",c.version)})),{ks:a,qs:s}}))}function rZ(t,e){const n=On(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Gd),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function sZ(t,e){const n=On(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return n.Pi.getTargetData(r,e).next((i=>i?(s=i,$e.resolve(s)):n.Pi.allocateTargetId(r).next((a=>(s=new wu(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function L5(t,e,n){const r=On(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,(a=>r.persistence.referenceDelegate.removeTarget(a,s)))}catch(a){if(!id(a))throw a;Nt(GE,`Failed to update sequence numbers for target ${e}: ${a}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function y3(t,e,n){const r=On(t);let s=Tn.min(),i=Zn();return r.persistence.runTransaction("Execute query","readwrite",(a=>(function(c,f,d){const p=On(c),g=p.xs.get(d);return g!==void 0?$e.resolve(p.Ms.get(g)):p.Pi.getTargetData(f,d)})(r,a,pl(e)).next((o=>{if(o)return s=o.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(a,o.targetId).next((c=>{i=c}))})).next((()=>r.Fs.getDocumentsMatchingQuery(a,e,n?s:Tn.min(),n?i:Zn()))).next((o=>(iZ(r,zJ(e),o),{documents:o,Qs:i})))))}function iZ(t,e,n){let r=t.Os.get(e)||Tn.min();n.forEach(((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)})),t.Os.set(e,r)}class v3{constructor(){this.activeTargetIds=XJ()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class WF{constructor(){this.Mo=new v3,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new v3,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class aZ{Oo(e){}shutdown(){}}const _3="ConnectivityMonitor";class b3{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Nt(_3,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Nt(_3,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Hx=null;function F5(){return Hx===null?Hx=(function(){return 268435456+Math.round(2147483648*Math.random())})():Hx++,"0x"+Hx.toString(16)}const Ab="RestConnection",oZ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class lZ{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===c2?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const a=F5(),o=this.zo(e,n.toUriEncodedString());Nt(Ab,`Sending RPC '${e}' ${a}:`,o,r);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,s,i);const{host:f}=new URL(o),d=Mp(f);return this.Jo(e,o,c,r,d).then((p=>(Nt(Ab,`Received RPC '${e}' ${a}: `,p),p)),(p=>{throw sh(Ab,`RPC '${e}' ${a} failed with error: `,p,"url: ",o,"request:",r),p}))}Ho(e,n,r,s,i,a){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Op})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((s,i)=>e[i]=s)),r&&r.headers.forEach(((s,i)=>e[i]=s))}zo(e,n){const r=oZ[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}class cZ{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const ma="WebChannelConnection";class uZ extends lZ{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const a=F5();return new Promise(((o,c)=>{const f=new hL;f.setWithCredentials(!0),f.listenOnce(pL.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case Ty.NO_ERROR:const p=f.getResponseJson();Nt(ma,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(p)),o(p);break;case Ty.TIMEOUT:Nt(ma,`RPC '${e}' ${a} timed out`),c(new Ft(mt.DEADLINE_EXCEEDED,"Request time out"));break;case Ty.HTTP_ERROR:const g=f.getStatus();if(Nt(ma,`RPC '${e}' ${a} failed with status:`,g,"response text:",f.getResponseText()),g>0){let y=f.getResponseJson();Array.isArray(y)&&(y=y[0]);const E=y?.error;if(E&&E.status&&E.message){const b=(function(N){const V=N.toLowerCase().replace(/_/g,"-");return Object.values(mt).indexOf(V)>=0?V:mt.UNKNOWN})(E.status);c(new Ft(b,E.message))}else c(new Ft(mt.UNKNOWN,"Server responded with status "+f.getStatus()))}else c(new Ft(mt.UNAVAILABLE,"Connection failed."));break;default:sn(9055,{l_:e,streamId:a,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{Nt(ma,`RPC '${e}' ${a} completed.`)}}));const d=JSON.stringify(s);Nt(ma,`RPC '${e}' ${a} sending request:`,s),f.send(n,"POST",d,r,15)}))}T_(e,n,r){const s=F5(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=xL(),o=gL(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(c.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const d=i.join("");Nt(ma,`Creating RPC '${e}' stream ${s}: ${d}`,c);const p=a.createWebChannel(d,c);this.I_(p);let g=!1,y=!1;const E=new cZ({Yo:A=>{y?Nt(ma,`Not sending because RPC '${e}' stream ${s} is closed:`,A):(g||(Nt(ma,`Opening RPC '${e}' stream ${s} transport.`),p.open(),g=!0),Nt(ma,`RPC '${e}' stream ${s} sending:`,A),p.send(A))},Zo:()=>p.close()}),b=(A,N,V)=>{A.listen(N,(k=>{try{V(k)}catch(B){setTimeout((()=>{throw B}),0)}}))};return b(p,Gm.EventType.OPEN,(()=>{y||(Nt(ma,`RPC '${e}' stream ${s} transport opened.`),E.o_())})),b(p,Gm.EventType.CLOSE,(()=>{y||(y=!0,Nt(ma,`RPC '${e}' stream ${s} transport closed`),E.a_(),this.E_(p))})),b(p,Gm.EventType.ERROR,(A=>{y||(y=!0,sh(ma,`RPC '${e}' stream ${s} transport errored. Name:`,A.name,"Message:",A.message),E.a_(new Ft(mt.UNAVAILABLE,"The operation could not be completed")))})),b(p,Gm.EventType.MESSAGE,(A=>{if(!y){const N=A.data[0];xn(!!N,16349);const V=N,k=V?.error||V[0]?.error;if(k){Nt(ma,`RPC '${e}' stream ${s} received error:`,k);const B=k.status;let W=(function(L){const R=oi[L];if(R!==void 0)return pF(R)})(B),K=k.message;W===void 0&&(W=mt.INTERNAL,K="Unknown error status: "+B+" with message "+k.message),y=!0,E.a_(new Ft(W,K)),p.close()}else Nt(ma,`RPC '${e}' stream ${s} received:`,N),E.u_(N)}})),b(o,mL.STAT_EVENT,(A=>{A.stat===m5.PROXY?Nt(ma,`RPC '${e}' stream ${s} detected buffering proxy`):A.stat===m5.NOPROXY&&Nt(ma,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{E.__()}),0),E}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function fZ(){return typeof window<"u"?window:null}function Dy(){return typeof document<"u"?document:null}function pv(t){return new dQ(t,!0)}class $F{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&Nt("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const w3="PersistentStream";class KF{constructor(e,n,r,s,i,a,o,c){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new $F(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===mt.RESOURCE_EXHAUSTED?(qa(n.toString()),qa("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===mt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.D_===n&&this.G_(r,s)}),(r=>{e((()=>{const s=new Ft(mt.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((s=>{r((()=>this.z_(s)))})),this.stream.onMessage((s=>{r((()=>++this.F_==1?this.J_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Nt(w3,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(Nt(w3,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class dZ extends KF{constructor(e,n,r,s,i,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,a),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=mQ(this.serializer,e),r=(function(i){if(!("targetChange"in i))return Tn.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?Tn.min():a.readTime?Ga(a.readTime):Tn.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=k5(this.serializer),n.addTarget=(function(i,a){let o;const c=a.target;if(o=f2(c)?{documents:wF(i,c)}:{query:TF(i,c).ft},o.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){o.resumeToken=xF(i,a.resumeToken);const f=N5(i,a.expectedCount);f!==null&&(o.expectedCount=f)}else if(a.snapshotVersion.compareTo(Tn.min())>0){o.readTime=Sp(i,a.snapshotVersion.toTimestamp());const f=N5(i,a.expectedCount);f!==null&&(o.expectedCount=f)}return o})(this.serializer,e);const r=xQ(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=k5(this.serializer),n.removeTarget=e,this.q_(n)}}class hZ extends KF{constructor(e,n,r,s,i,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,a),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return xn(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,xn(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){xn(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=gQ(e.writeResults,e.commitTime),r=Ga(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=k5(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>p2(this.serializer,r)))};this.q_(n)}}class pZ{}class mZ extends pZ{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new Ft(mt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,a])=>this.connection.Go(e,I5(n,r),s,i,a))).catch((i=>{throw i.name==="FirebaseError"?(i.code===mt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Ft(mt.UNKNOWN,i.toString())}))}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,o])=>this.connection.Ho(e,I5(n,r),s,a,o,i))).catch((a=>{throw a.name==="FirebaseError"?(a.code===mt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ft(mt.UNKNOWN,a.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class gZ{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(qa(n),this.aa=!1):Nt("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const uh="RemoteStore";class xZ{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo((a=>{r.enqueueAndForget((async()=>{vh(this)&&(Nt(uh,"Restarting streams for network reachability change."),await(async function(c){const f=On(c);f.Ea.add(4),await C1(f),f.Ra.set("Unknown"),f.Ea.delete(4),await mv(f)})(this))}))})),this.Ra=new gZ(r,s)}}async function mv(t){if(vh(t))for(const e of t.da)await e(!0)}async function C1(t){for(const e of t.da)await e(!1)}function YF(t,e){const n=On(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),YE(n)?KE(n):Vp(n).O_()&&$E(n,e))}function WE(t,e){const n=On(t),r=Vp(n);n.Ia.delete(e),r.O_()&&XF(n,e),n.Ia.size===0&&(r.O_()?r.L_():vh(n)&&n.Ra.set("Unknown"))}function $E(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Tn.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Vp(t).Y_(e)}function XF(t,e){t.Va.Ue(e),Vp(t).Z_(e)}function KE(t){t.Va=new lQ({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Vp(t).start(),t.Ra.ua()}function YE(t){return vh(t)&&!Vp(t).x_()&&t.Ia.size>0}function vh(t){return On(t).Ea.size===0}function JF(t){t.Va=void 0}async function yZ(t){t.Ra.set("Online")}async function vZ(t){t.Ia.forEach(((e,n)=>{$E(t,e)}))}async function _Z(t,e){JF(t),YE(t)?(t.Ra.ha(e),KE(t)):t.Ra.set("Unknown")}async function bZ(t,e,n){if(t.Ra.set("Online"),e instanceof gF&&e.state===2&&e.cause)try{await(async function(s,i){const a=i.cause;for(const o of i.targetIds)s.Ia.has(o)&&(await s.remoteSyncer.rejectListen(o,a),s.Ia.delete(o),s.Va.removeTarget(o))})(t,e)}catch(r){Nt(uh,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await v2(t,r)}else if(e instanceof Ry?t.Va.Ze(e):e instanceof mF?t.Va.st(e):t.Va.tt(e),!n.isEqual(Tn.min()))try{const r=await GF(t.localStore);n.compareTo(r)>=0&&await(function(i,a){const o=i.Va.Tt(a);return o.targetChanges.forEach(((c,f)=>{if(c.resumeToken.approximateByteSize()>0){const d=i.Ia.get(f);d&&i.Ia.set(f,d.withResumeToken(c.resumeToken,a))}})),o.targetMismatches.forEach(((c,f)=>{const d=i.Ia.get(c);if(!d)return;i.Ia.set(c,d.withResumeToken(di.EMPTY_BYTE_STRING,d.snapshotVersion)),XF(i,c);const p=new wu(d.target,c,f,d.sequenceNumber);$E(i,p)})),i.remoteSyncer.applyRemoteEvent(o)})(t,n)}catch(r){Nt(uh,"Failed to raise snapshot:",r),await v2(t,r)}}async function v2(t,e,n){if(!id(e))throw e;t.Ea.add(1),await C1(t),t.Ra.set("Offline"),n||(n=()=>GF(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Nt(uh,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await mv(t)}))}function QF(t,e){return e().catch((n=>v2(t,n,e)))}async function N1(t){const e=On(t),n=Jf(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Gd;for(;wZ(e);)try{const s=await rZ(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,TZ(e,s)}catch(s){await v2(e,s)}ZF(e)&&e7(e)}function wZ(t){return vh(t)&&t.Ta.length<10}function TZ(t,e){t.Ta.push(e);const n=Jf(t);n.O_()&&n.X_&&n.ea(e.mutations)}function ZF(t){return vh(t)&&!Jf(t).x_()&&t.Ta.length>0}function e7(t){Jf(t).start()}async function EZ(t){Jf(t).ra()}async function SZ(t){const e=Jf(t);for(const n of t.Ta)e.ea(n.mutations)}async function AZ(t,e,n){const r=t.Ta.shift(),s=LE.from(r,e,n);await QF(t,(()=>t.remoteSyncer.applySuccessfulWrite(s))),await N1(t)}async function CZ(t,e){e&&Jf(t).X_&&await(async function(r,s){if((function(a){return iQ(a)&&a!==mt.ABORTED})(s.code)){const i=r.Ta.shift();Jf(r).B_(),await QF(r,(()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s))),await N1(r)}})(t,e),ZF(t)&&e7(t)}async function T3(t,e){const n=On(t);n.asyncQueue.verifyOperationInProgress(),Nt(uh,"RemoteStore received new credentials");const r=vh(n);n.Ea.add(3),await C1(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await mv(n)}async function NZ(t,e){const n=On(t);e?(n.Ea.delete(2),await mv(n)):e||(n.Ea.add(2),await C1(n),n.Ra.set("Unknown"))}function Vp(t){return t.ma||(t.ma=(function(n,r,s){const i=On(n);return i.sa(),new dZ(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)})(t.datastore,t.asyncQueue,{Xo:yZ.bind(null,t),t_:vZ.bind(null,t),r_:_Z.bind(null,t),H_:bZ.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),YE(t)?KE(t):t.Ra.set("Unknown")):(await t.ma.stop(),JF(t))}))),t.ma}function Jf(t){return t.fa||(t.fa=(function(n,r,s){const i=On(n);return i.sa(),new hZ(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:EZ.bind(null,t),r_:CZ.bind(null,t),ta:SZ.bind(null,t),na:AZ.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await N1(t)):(await t.fa.stop(),t.Ta.length>0&&(Nt(uh,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class XE{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Mc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((a=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const a=Date.now()+r,o=new XE(e,n,a,s,i);return o.start(r),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ft(mt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function JE(t,e){if(qa("AsyncQueue",`${e}: ${t}`),id(t))return new Ft(mt.UNAVAILABLE,`${e}: ${t}`);throw t}class J0{static emptySet(e){return new J0(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ot.comparator(n.key,r.key):(n,r)=>Ot.comparator(n.key,r.key),this.keyedMap=Wm(),this.sortedSet=new Ts(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof J0)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new J0;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class E3{constructor(){this.ga=new Ts(Ot.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):sn(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Ap{constructor(e,n,r,s,i,a,o,c,f){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=c,this.hasCachedResults=f}static fromInitialDocuments(e,n,r,s,i){const a=[];return n.forEach((o=>{a.push({type:0,doc:o})})),new Ap(e,n,J0.emptySet(n),a,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ov(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}class IZ{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class kZ{constructor(){this.queries=S3(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=On(n),i=s.queries;s.queries=S3(),i.forEach(((a,o)=>{for(const c of o.Sa)c.onError(r)}))})(this,new Ft(mt.ABORTED,"Firestore shutting down"))}}function S3(){return new Vu((t=>eF(t)),ov)}async function t7(t,e){const n=On(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new IZ,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(a){const o=JE(a,`Initialization of query '${A0(e.query)}' failed`);return void e.onError(o)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&QE(n)}async function n7(t,e){const n=On(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const a=i.Sa.indexOf(e);a>=0&&(i.Sa.splice(a,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function RZ(t,e){const n=On(t);let r=!1;for(const s of e){const i=s.query,a=n.queries.get(i);if(a){for(const o of a.Sa)o.Fa(s)&&(r=!0);a.wa=s}}r&&QE(n)}function PZ(t,e,n){const r=On(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function QE(t){t.Ca.forEach((e=>{e.next()}))}var O5,A3;(A3=O5||(O5={})).Ma="default",A3.Cache="cache";class r7{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Ap(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ap.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==O5.Cache}}class s7{constructor(e){this.key=e}}class i7{constructor(e){this.key=e}}class DZ{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Zn(),this.mutatedKeys=Zn(),this.eu=tF(e),this.tu=new J0(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new E3,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,a=s,o=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,f=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((d,p)=>{const g=s.get(d),y=E1(this.query,p)?p:null,E=!!g&&this.mutatedKeys.has(g.key),b=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let A=!1;g&&y?g.data.isEqual(y.data)?E!==b&&(r.track({type:3,doc:y}),A=!0):this.su(g,y)||(r.track({type:2,doc:y}),A=!0,(c&&this.eu(y,c)>0||f&&this.eu(y,f)<0)&&(o=!0)):!g&&y?(r.track({type:0,doc:y}),A=!0):g&&!y&&(r.track({type:1,doc:g}),A=!0,(c||f)&&(o=!0)),A&&(y?(a=a.add(y),i=b?i.add(d):i.delete(d)):(a=a.delete(d),i=i.delete(d)))})),this.query.limit!==null)for(;a.size>this.query.limit;){const d=this.query.limitType==="F"?a.last():a.first();a=a.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{tu:a,iu:r,Cs:o,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort(((d,p)=>(function(y,E){const b=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return sn(20277,{Rt:A})}};return b(y)-b(E)})(d.type,p.type)||this.eu(d.doc,p.doc))),this.ou(r),s=s??!1;const o=n&&!s?this._u():[],c=this.Xa.size===0&&this.current&&!s?1:0,f=c!==this.Za;return this.Za=c,a.length!==0||f?{snapshot:new Ap(this.query,e.tu,i,a,e.mutatedKeys,c===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new E3,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Zn(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new i7(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new s7(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=Zn();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ap.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const ZE="SyncEngine";class MZ{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class LZ{constructor(e){this.key=e,this.hu=!1}}class FZ{constructor(e,n,r,s,i,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new Vu((o=>eF(o)),ov),this.Iu=new Map,this.Eu=new Set,this.du=new Ts(Ot.comparator),this.Au=new Map,this.Ru=new jE,this.Vu={},this.mu=new Map,this.fu=ch.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function OZ(t,e,n=!0){const r=f7(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await a7(r,e,n,!0),s}async function BZ(t,e){const n=f7(t);await a7(n,e,!0,!1)}async function a7(t,e,n,r){const s=await sZ(t.localStore,pl(e)),i=s.targetId,a=t.sharedClientState.addLocalQueryTarget(i,n);let o;return r&&(o=await VZ(t,e,i,a==="current",s.resumeToken)),t.isPrimaryClient&&n&&YF(t.remoteStore,s),o}async function VZ(t,e,n,r,s){t.pu=(p,g,y)=>(async function(b,A,N,V){let k=A.view.ru(N);k.Cs&&(k=await y3(b.localStore,A.query,!1).then((({documents:D})=>A.view.ru(D,k))));const B=V&&V.targetChanges.get(A.targetId),W=V&&V.targetMismatches.get(A.targetId)!=null,K=A.view.applyChanges(k,b.isPrimaryClient,B,W);return N3(b,A.targetId,K.au),K.snapshot})(t,p,g,y);const i=await y3(t.localStore,e,!0),a=new DZ(e,i.Qs),o=a.ru(i.documents),c=A1.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),f=a.applyChanges(o,t.isPrimaryClient,c);N3(t,n,f.au);const d=new MZ(e,n,a);return t.Tu.set(e,d),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),f.snapshot}async function UZ(t,e,n){const r=On(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter((a=>!ov(a,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await L5(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),n&&WE(r.remoteStore,s.targetId),B5(r,s.targetId)})).catch(yh)):(B5(r,s.targetId),await L5(r.localStore,s.targetId,!0))}async function jZ(t,e){const n=On(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),WE(n.remoteStore,r.targetId))}async function qZ(t,e,n){const r=d7(t);try{const s=await(function(a,o){const c=On(a),f=jr.now(),d=o.reduce(((y,E)=>y.add(E.key)),Zn());let p,g;return c.persistence.runTransaction("Locally write mutations","readwrite",(y=>{let E=Bo(),b=Zn();return c.Ns.getEntries(y,d).next((A=>{E=A,E.forEach(((N,V)=>{V.isValidDocument()||(b=b.add(N))}))})).next((()=>c.localDocuments.getOverlayedDocuments(y,E))).next((A=>{p=A;const N=[];for(const V of o){const k=rQ(V,p.get(V.key).overlayedDocument);k!=null&&N.push(new Uu(V.key,k,WL(k.value.mapValue),aa.exists(!0)))}return c.mutationQueue.addMutationBatch(y,f,N,o)})).next((A=>{g=A;const N=A.applyToLocalDocumentSet(p,b);return c.documentOverlayCache.saveOverlays(y,A.batchId,N)}))})).then((()=>({batchId:g.batchId,changes:rF(p)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),(function(a,o,c){let f=a.Vu[a.currentUser.toKey()];f||(f=new Ts(Fn)),f=f.insert(o,c),a.Vu[a.currentUser.toKey()]=f})(r,s.batchId,n),await I1(r,s.changes),await N1(r.remoteStore)}catch(s){const i=JE(s,"Failed to persist write");n.reject(i)}}async function o7(t,e){const n=On(t);try{const r=await tZ(n.localStore,e);e.targetChanges.forEach(((s,i)=>{const a=n.Au.get(i);a&&(xn(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?a.hu=!0:s.modifiedDocuments.size>0?xn(a.hu,14607):s.removedDocuments.size>0&&(xn(a.hu,42227),a.hu=!1))})),await I1(n,r,e)}catch(r){await yh(r)}}function C3(t,e,n){const r=On(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach(((i,a)=>{const o=a.view.va(e);o.snapshot&&s.push(o.snapshot)})),(function(a,o){const c=On(a);c.onlineState=o;let f=!1;c.queries.forEach(((d,p)=>{for(const g of p.Sa)g.va(o)&&(f=!0)})),f&&QE(c)})(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function HZ(t,e,n){const r=On(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let a=new Ts(Ot.comparator);a=a.insert(i,qs.newNoDocument(i,Tn.min()));const o=Zn().add(i),c=new uv(Tn.min(),new Map,new Ts(Fn),a,o);await o7(r,c),r.du=r.du.remove(i),r.Au.delete(e),eS(r)}else await L5(r.localStore,e,!1).then((()=>B5(r,e,n))).catch(yh)}async function zZ(t,e){const n=On(t),r=e.batch.batchId;try{const s=await eZ(n.localStore,e);c7(n,r,null),l7(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await I1(n,s)}catch(s){await yh(s)}}async function GZ(t,e,n){const r=On(t);try{const s=await(function(a,o){const c=On(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let d;return c.mutationQueue.lookupMutationBatch(f,o).next((p=>(xn(p!==null,37113),d=p.keys(),c.mutationQueue.removeMutationBatch(f,p)))).next((()=>c.mutationQueue.performConsistencyCheck(f))).next((()=>c.documentOverlayCache.removeOverlaysForBatchId(f,d,o))).next((()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,d))).next((()=>c.localDocuments.getDocuments(f,d)))}))})(r.localStore,e);c7(r,e,n),l7(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await I1(r,s)}catch(s){await yh(s)}}function l7(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function c7(t,e,n){const r=On(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function B5(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||u7(t,r)}))}function u7(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(WE(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),eS(t))}function N3(t,e,n){for(const r of n)r instanceof s7?(t.Ru.addReference(r.key,e),WZ(t,r)):r instanceof i7?(Nt(ZE,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||u7(t,r.key)):sn(19791,{wu:r})}function WZ(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Nt(ZE,"New document in limbo: "+n),t.Eu.add(r),eS(t))}function eS(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Ot(Lr.fromString(e)),r=t.fu.next();t.Au.set(r,new LZ(n)),t.du=t.du.insert(n,r),YF(t.remoteStore,new wu(pl(av(n.path)),r,"TargetPurposeLimboResolution",hl.ce))}}async function I1(t,e,n){const r=On(t),s=[],i=[],a=[];r.Tu.isEmpty()||(r.Tu.forEach(((o,c)=>{a.push(r.pu(c,e,n).then((f=>{if((f||n)&&r.isPrimaryClient){const d=f?!f.fromCache:n?.targetChanges.get(c.targetId)?.current;r.sharedClientState.updateQueryState(c.targetId,d?"current":"not-current")}if(f){s.push(f);const d=zE.As(c.targetId,f);i.push(d)}})))})),await Promise.all(a),r.Pu.H_(s),await(async function(c,f){const d=On(c);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",(p=>$e.forEach(f,(g=>$e.forEach(g.Es,(y=>d.persistence.referenceDelegate.addReference(p,g.targetId,y))).next((()=>$e.forEach(g.ds,(y=>d.persistence.referenceDelegate.removeReference(p,g.targetId,y)))))))))}catch(p){if(!id(p))throw p;Nt(GE,"Failed to update sequence numbers: "+p)}for(const p of f){const g=p.targetId;if(!p.fromCache){const y=d.Ms.get(g),E=y.snapshotVersion,b=y.withLastLimboFreeSnapshotVersion(E);d.Ms=d.Ms.insert(g,b)}}})(r.localStore,i))}async function $Z(t,e){const n=On(t);if(!n.currentUser.isEqual(e)){Nt(ZE,"User change. New user:",e.toKey());const r=await zF(n.localStore,e);n.currentUser=e,(function(i,a){i.mu.forEach((o=>{o.forEach((c=>{c.reject(new Ft(mt.CANCELLED,a))}))})),i.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await I1(n,r.Ls)}}function KZ(t,e){const n=On(t),r=n.Au.get(e);if(r&&r.hu)return Zn().add(r.key);{let s=Zn();const i=n.Iu.get(e);if(!i)return s;for(const a of i){const o=n.Tu.get(a);s=s.unionWith(o.view.nu)}return s}}function f7(t){const e=On(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=o7.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=KZ.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=HZ.bind(null,e),e.Pu.H_=RZ.bind(null,e.eventManager),e.Pu.yu=PZ.bind(null,e.eventManager),e}function d7(t){const e=On(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=zZ.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=GZ.bind(null,e),e}class Xg{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=pv(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return HF(this.persistence,new qF,e.initialUser,this.serializer)}Cu(e){return new qE(hv.mi,this.serializer)}Du(e){return new WF}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Xg.provider={build:()=>new Xg};class YZ extends Xg{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){xn(this.persistence.referenceDelegate instanceof y2,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new OF(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?ba.withCacheSize(this.cacheSizeBytes):ba.DEFAULT;return new qE((r=>y2.mi(r,n)),this.serializer)}}class XZ extends Xg{constructor(e,n,r){super(),this.xu=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await d7(this.xu.syncEngine),await N1(this.xu.remoteStore),await this.persistence.Ji((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return HF(this.persistence,new qF,e.initialUser,this.serializer)}Fu(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new OF(r,e.asyncQueue,n)}Mu(e,n){const r=new tJ(n,this.persistence);return new eJ(e.asyncQueue,r)}Cu(e){const n=XQ(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?ba.withCacheSize(this.cacheSizeBytes):ba.DEFAULT;return new HE(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,fZ(),Dy(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new WF}}class _2{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>C3(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=$Z.bind(null,this.syncEngine),await NZ(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new kZ})()}createDatastore(e){const n=pv(e.databaseInfo.databaseId),r=(function(i){return new uZ(i)})(e.databaseInfo);return(function(i,a,o,c){return new mZ(i,a,o,c)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,s,i,a,o){return new xZ(r,s,i,a,o)})(this.localStore,this.datastore,e.asyncQueue,(n=>C3(this.syncEngine,n,0)),(function(){return b3.v()?new b3:new aZ})())}createSyncEngine(e,n){return(function(s,i,a,o,c,f,d){const p=new FZ(s,i,a,o,c,f);return d&&(p.gu=!0),p})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=On(n);Nt(uh,"RemoteStore shutting down."),r.Ea.add(5),await C1(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}_2.provider={build:()=>new _2};class h7{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):qa("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Qf="FirestoreClient";class JZ{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=ra.UNAUTHENTICATED,this.clientId=_E.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,(async a=>{Nt(Qf,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a})),this.appCheckCredentials.start(r,(a=>(Nt(Qf,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Mc;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=JE(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Cb(t,e){t.asyncQueue.verifyOperationInProgress(),Nt(Qf,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async s=>{r.isEqual(s)||(await zF(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function I3(t,e){t.asyncQueue.verifyOperationInProgress();const n=await QZ(t);Nt(Qf,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>T3(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,s)=>T3(e.remoteStore,s))),t._onlineComponents=e}async function QZ(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Nt(Qf,"Using user provided OfflineComponentProvider");try{await Cb(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(s){return s.name==="FirebaseError"?s.code===mt.FAILED_PRECONDITION||s.code===mt.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(n))throw n;sh("Error using user provided cache. Falling back to memory cache: "+n),await Cb(t,new Xg)}}else Nt(Qf,"Using default OfflineComponentProvider"),await Cb(t,new YZ(void 0));return t._offlineComponents}async function p7(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Nt(Qf,"Using user provided OnlineComponentProvider"),await I3(t,t._uninitializedComponentsProvider._online)):(Nt(Qf,"Using default OnlineComponentProvider"),await I3(t,new _2))),t._onlineComponents}function ZZ(t){return p7(t).then((e=>e.syncEngine))}async function m7(t){const e=await p7(t),n=e.eventManager;return n.onListen=OZ.bind(null,e.syncEngine),n.onUnlisten=UZ.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=BZ.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=jZ.bind(null,e.syncEngine),n}function eee(t,e,n={}){const r=new Mc;return t.asyncQueue.enqueueAndForget((async()=>(function(i,a,o,c,f){const d=new h7({next:g=>{d.Nu(),a.enqueueAndForget((()=>n7(i,p)));const y=g.docs.has(o);!y&&g.fromCache?f.reject(new Ft(mt.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&g.fromCache&&c&&c.source==="server"?f.reject(new Ft(mt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(g)},error:g=>f.reject(g)}),p=new r7(av(o.path),d,{includeMetadataChanges:!0,qa:!0});return t7(i,p)})(await m7(t),t.asyncQueue,e,n,r))),r.promise}function tee(t,e,n={}){const r=new Mc;return t.asyncQueue.enqueueAndForget((async()=>(function(i,a,o,c,f){const d=new h7({next:g=>{d.Nu(),a.enqueueAndForget((()=>n7(i,p))),g.fromCache&&c.source==="server"?f.reject(new Ft(mt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(g)},error:g=>f.reject(g)}),p=new r7(o,d,{includeMetadataChanges:!0,qa:!0});return t7(i,p)})(await m7(t),t.asyncQueue,e,n,r))),r.promise}function g7(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const k3=new Map;const x7="firestore.googleapis.com",R3=!0;class P3{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ft(mt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=x7,this.ssl=R3}else this.host=e.host,this.ssl=e.ssl??R3;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=DF;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<DQ)throw new Ft(mt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}XX("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=g7(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Ft(mt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Ft(mt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Ft(mt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gv{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new P3({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ft(mt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ft(mt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new P3(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new UX;switch(r.type){case"firstParty":return new zX(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ft(mt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=k3.get(n);r&&(Nt("ComponentProvider","Removing Datastore"),k3.delete(n),r.terminate())})(this),Promise.resolve()}}function nee(t,e,n,r={}){t=Vc(t,gv);const s=Mp(e),i=t._getSettings(),a={...i,emulatorOptions:t._getEmulatorOptions()},o=`${e}:${n}`;s&&(bM(`https://${o}`),wM("Firestore",!0)),i.host!==x7&&i.host!==o&&sh("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...i,host:o,ssl:s,emulatorOptions:r};if(!Zd(c,a)&&(t._setSettings(c),r.mockUserToken)){let f,d;if(typeof r.mockUserToken=="string")f=r.mockUserToken,d=ra.MOCK_USER;else{f=QW(r.mockUserToken,t._app?.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new Ft(mt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new ra(p)}t._authCredentials=new jX(new vL(f,d))}}class xv{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new xv(this.firestore,e,this._query)}}class Si{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gf(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Si(this.firestore,e,this._key)}toJSON(){return{type:Si._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(b1(n,Si._jsonSchema))return new Si(e,r||null,new Ot(Lr.fromString(n.referencePath)))}}Si._jsonSchemaVersion="firestore/documentReference/1.0",Si._jsonSchema={type:fi("string",Si._jsonSchemaVersion),referencePath:fi("string")};class Gf extends xv{constructor(e,n,r){super(e,n,av(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Si(this.firestore,null,new Ot(e))}withConverter(e){return new Gf(this.firestore,e,this._path)}}function ree(t,e,...n){if(t=Gi(t),bL("collection","path",e),t instanceof gv){const r=Lr.fromString(e,...n);return wI(r),new Gf(t,null,r)}{if(!(t instanceof Si||t instanceof Gf))throw new Ft(mt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Lr.fromString(e,...n));return wI(r),new Gf(t.firestore,null,r)}}function j0(t,e,...n){if(t=Gi(t),arguments.length===1&&(e=_E.newId()),bL("doc","path",e),t instanceof gv){const r=Lr.fromString(e,...n);return bI(r),new Si(t,null,new Ot(r))}{if(!(t instanceof Si||t instanceof Gf))throw new Ft(mt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Lr.fromString(e,...n));return bI(r),new Si(t.firestore,t instanceof Gf?t.converter:null,new Ot(r))}}const D3="AsyncQueue";class M3{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new $F(this,"async_queue_retry"),this._c=()=>{const r=Dy();r&&Nt(D3,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Dy();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Dy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Mc;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!id(e))throw e;Nt(D3,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,qa("INTERNAL UNHANDLED ERROR: ",L3(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=XE.createAndSchedule(this,e,n,r,(i=>this.hc(i)));return this.tc.push(s),s}uc(){this.nc&&sn(47125,{Pc:L3(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function L3(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class _h extends gv{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new M3,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new M3(e),this._firestoreClient=void 0,await e}}}function see(t,e){const n=typeof t=="object"?t:uE(),r=typeof t=="string"?t:c2,s=cE(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=XW("firestore");i&&nee(s,...i)}return s}function yv(t){if(t._terminated)throw new Ft(mt.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||y7(t),t._firestoreClient}function y7(t){const e=t._freezeSettings(),n=(function(s,i,a,o){return new kJ(s,i,a,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,g7(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new JZ(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(s){const i=s?._online.build();return{_offline:s?._offline.build(i),_online:i}})(t._componentsProvider))}function iee(t,e){sh("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings();return aee(t,_2.provider,{build:r=>new XZ(r,n.cacheSizeBytes,e?.forceOwnership)}),Promise.resolve()}function aee(t,e,n){if((t=Vc(t,_h))._firestoreClient||t._terminated)throw new Ft(mt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new Ft(mt.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:n},y7(t)}class fl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new fl(di.fromBase64String(e))}catch(n){throw new Ft(mt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new fl(di.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:fl._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(b1(e,fl._jsonSchema))return fl.fromBase64String(e.bytes)}}fl._jsonSchemaVersion="firestore/bytes/1.0",fl._jsonSchema={type:fi("string",fl._jsonSchemaVersion),bytes:fi("string")};class vv{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ft(mt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Rs(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class _v{constructor(e){this._methodName=e}}class Lc{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ft(mt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ft(mt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Fn(this._lat,e._lat)||Fn(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Lc._jsonSchemaVersion}}static fromJSON(e){if(b1(e,Lc._jsonSchema))return new Lc(e.latitude,e.longitude)}}Lc._jsonSchemaVersion="firestore/geoPoint/1.0",Lc._jsonSchema={type:fi("string",Lc._jsonSchemaVersion),latitude:fi("number"),longitude:fi("number")};class Fc{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Fc._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(b1(e,Fc._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Fc(e.vectorValues);throw new Ft(mt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Fc._jsonSchemaVersion="firestore/vectorValue/1.0",Fc._jsonSchema={type:fi("string",Fc._jsonSchemaVersion),vectorValues:fi("object")};const oee=/^__.*__$/;class lee{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Uu(e,this.data,this.fieldMask,n,this.fieldTransforms):new Bp(e,this.data,n,this.fieldTransforms)}}class v7{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Uu(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function _7(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw sn(40011,{Ac:t})}}class tS{constructor(e,n,r,s,i,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new tS({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return b2(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(_7(this.Ac)&&oee.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class cee{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||pv(e)}Cc(e,n,r,s=!1){return new tS({Ac:e,methodName:n,Dc:r,path:Rs.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function b7(t){const e=t._freezeSettings(),n=pv(t._databaseId);return new cee(t._databaseId,!!e.ignoreUndefinedProperties,n)}function w7(t,e,n,r,s,i={}){const a=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);rS("Data must be an object, but it was:",a,r);const o=T7(r,a);let c,f;if(i.merge)c=new yo(a.fieldMask),f=a.fieldTransforms;else if(i.mergeFields){const d=[];for(const p of i.mergeFields){const g=V5(e,p,n);if(!a.contains(g))throw new Ft(mt.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);S7(d,g)||d.push(g)}c=new yo(d),f=a.fieldTransforms.filter((p=>c.covers(p.field)))}else c=null,f=a.fieldTransforms;return new lee(new Ta(o),c,f)}class bv extends _v{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof bv}}class nS extends _v{_toFieldTransform(e){return new uF(e.path,new wp)}isEqual(e){return e instanceof nS}}function uee(t,e,n,r){const s=t.Cc(1,e,n);rS("Data must be an object, but it was:",s,r);const i=[],a=Ta.empty();ad(r,((c,f)=>{const d=sS(e,c,n);f=Gi(f);const p=s.yc(d);if(f instanceof bv)i.push(d);else{const g=wv(f,p);g!=null&&(i.push(d),a.set(d,g))}}));const o=new yo(i);return new v7(a,o,s.fieldTransforms)}function fee(t,e,n,r,s,i){const a=t.Cc(1,e,n),o=[V5(e,r,n)],c=[s];if(i.length%2!=0)throw new Ft(mt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<i.length;g+=2)o.push(V5(e,i[g])),c.push(i[g+1]);const f=[],d=Ta.empty();for(let g=o.length-1;g>=0;--g)if(!S7(f,o[g])){const y=o[g];let E=c[g];E=Gi(E);const b=a.yc(y);if(E instanceof bv)f.push(y);else{const A=wv(E,b);A!=null&&(f.push(y),d.set(y,A))}}const p=new yo(f);return new v7(d,p,a.fieldTransforms)}function wv(t,e){if(E7(t=Gi(t)))return rS("Unsupported field value:",e,t),T7(t,e);if(t instanceof _v)return(function(r,s){if(!_7(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,s){const i=[];let a=0;for(const o of r){let c=wv(o,s.wc(a));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),a++}return{arrayValue:{values:i}}})(t,e)}return(function(r,s){if((r=Gi(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return JJ(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=jr.fromDate(r);return{timestampValue:Sp(s.serializer,i)}}if(r instanceof jr){const i=new jr(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Sp(s.serializer,i)}}if(r instanceof Lc)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof fl)return{bytesValue:xF(s.serializer,r._byteString)};if(r instanceof Si){const i=s.databaseId,a=r.firestore._databaseId;if(!a.isEqual(i))throw s.Sc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:BE(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Fc)return(function(a,o){return{mapValue:{fields:{[IE]:{stringValue:kE},[yp]:{arrayValue:{values:a.toArray().map((f=>{if(typeof f!="number")throw o.Sc("VectorValues must only contain numeric values.");return DE(o.serializer,f)}))}}}}}})(r,s);throw s.Sc(`Unsupported field value: ${bE(r)}`)})(t,e)}function T7(t,e){const n={};return OL(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ad(t,((r,s)=>{const i=wv(s,e.mc(r));i!=null&&(n[r]=i)})),{mapValue:{fields:n}}}function E7(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof jr||t instanceof Lc||t instanceof fl||t instanceof Si||t instanceof _v||t instanceof Fc)}function rS(t,e,n){if(!E7(n)||!wL(n)){const r=bE(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function V5(t,e,n){if((e=Gi(e))instanceof vv)return e._internalPath;if(typeof e=="string")return sS(t,e);throw b2("Field path arguments must be of type string or ",t,!1,void 0,n)}const dee=new RegExp("[~\\*/\\[\\]]");function sS(t,e,n){if(e.search(dee)>=0)throw b2(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new vv(...e.split("."))._internalPath}catch{throw b2(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function b2(t,e,n,r,s){const i=r&&!r.isEmpty(),a=s!==void 0;let o=`Function ${e}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let c="";return(i||a)&&(c+=" (found",i&&(c+=` in field ${r}`),a&&(c+=` in document ${s}`),c+=")"),new Ft(mt.INVALID_ARGUMENT,o+t+c)}function S7(t,e){return t.some((n=>n.isEqual(e)))}class A7{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Si(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new hee(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(C7("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class hee extends A7{data(){return super.data()}}function C7(t,e){return typeof e=="string"?sS(t,e):e instanceof vv?e._internalPath:e._delegate._internalPath}function pee(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ft(mt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class mee{convertValue(e,n="none"){switch(Yf(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bs(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Lu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw sn(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ad(e,((s,i)=>{r[s]=this.convertValue(i,n)})),r}convertVectorValue(e){const n=e.fields?.[yp].arrayValue?.values?.map((r=>bs(r.doubleValue)));return new Fc(n)}convertGeoPoint(e){return new Lc(bs(e.latitude),bs(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=rv(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Wg(e));default:return null}}convertTimestamp(e){const n=Mu(e);return new jr(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Lr.fromString(e);xn(CF(r),9688,{name:e});const s=new ih(r.get(1),r.get(3)),i=new Ot(r.popFirst(5));return s.isEqual(n)||qa(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}function N7(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Ym{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Kd extends A7{constructor(e,n,r,s,i,a){super(e,n,r,s,a),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new My(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(C7("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ft(mt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Kd._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Kd._jsonSchemaVersion="firestore/documentSnapshot/1.0",Kd._jsonSchema={type:fi("string",Kd._jsonSchemaVersion),bundleSource:fi("string","DocumentSnapshot"),bundleName:fi("string"),bundle:fi("string")};class My extends Kd{data(e={}){return super.data(e)}}class Q0{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Ym(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new My(this._firestore,this._userDataWriter,r.key,r,new Ym(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ft(mt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(s,i){if(s._snapshot.oldDocs.isEmpty()){let a=0;return s._snapshot.docChanges.map((o=>{const c=new My(s._firestore,s._userDataWriter,o.doc.key,o.doc,new Ym(s._snapshot.mutatedKeys.has(o.doc.key),s._snapshot.fromCache),s.query.converter);return o.doc,{type:"added",doc:c,oldIndex:-1,newIndex:a++}}))}{let a=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((o=>i||o.type!==3)).map((o=>{const c=new My(s._firestore,s._userDataWriter,o.doc.key,o.doc,new Ym(s._snapshot.mutatedKeys.has(o.doc.key),s._snapshot.fromCache),s.query.converter);let f=-1,d=-1;return o.type!==0&&(f=a.indexOf(o.doc.key),a=a.delete(o.doc.key)),o.type!==1&&(a=a.add(o.doc),d=a.indexOf(o.doc.key)),{type:gee(o.type),doc:c,oldIndex:f,newIndex:d}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ft(mt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Q0._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=_E.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach((i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function gee(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return sn(61501,{type:t})}}function xee(t){t=Vc(t,Si);const e=Vc(t.firestore,_h);return eee(yv(e),t._key).then((n=>_ee(e,t,n)))}Q0._jsonSchemaVersion="firestore/querySnapshot/1.0",Q0._jsonSchema={type:fi("string",Q0._jsonSchemaVersion),bundleSource:fi("string","QuerySnapshot"),bundleName:fi("string"),bundle:fi("string")};class I7 extends mee{constructor(e){super(),this.firestore=e}convertBytes(e){return new fl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Si(this.firestore,null,n)}}function yee(t){t=Vc(t,xv);const e=Vc(t.firestore,_h),n=yv(e),r=new I7(e);return pee(t._query),tee(n,t._query).then((s=>new Q0(e,r,t,s)))}function U5(t,e,n){t=Vc(t,Si);const r=Vc(t.firestore,_h),s=N7(t.converter,e,n);return iS(r,[w7(b7(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,aa.none())])}function vee(t){return iS(Vc(t.firestore,_h),[new S1(t._key,aa.none())])}function iS(t,e){return(function(r,s){const i=new Mc;return r.asyncQueue.enqueueAndForget((async()=>qZ(await ZZ(r),s,i))),i.promise})(yv(t),e)}function _ee(t,e,n){const r=n.docs.get(e._key),s=new I7(t);return new Kd(t,s,e._key,r,new Ym(n.hasPendingWrites,n.fromCache),e.converter)}class bee{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=b7(e)}set(e,n,r){this._verifyNotCommitted();const s=Nb(e,this._firestore),i=N7(s.converter,n,r),a=w7(this._dataReader,"WriteBatch.set",s._key,i,s.converter!==null,r);return this._mutations.push(a.toMutation(s._key,aa.none())),this}update(e,n,r,...s){this._verifyNotCommitted();const i=Nb(e,this._firestore);let a;return a=typeof(n=Gi(n))=="string"||n instanceof vv?fee(this._dataReader,"WriteBatch.update",i._key,n,r,s):uee(this._dataReader,"WriteBatch.update",i._key,n),this._mutations.push(a.toMutation(i._key,aa.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Nb(e,this._firestore);return this._mutations=this._mutations.concat(new S1(n._key,aa.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ft(mt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Nb(t,e){if((t=Gi(t)).firestore!==e)throw new Ft(mt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function wee(){return new nS("serverTimestamp")}function Tee(t){return yv(t=Vc(t,_h)),new bee(t,(e=>iS(t,e)))}(function(e,n=!0){(function(s){Op=s})(Lp),dp(new eh("firestore",((r,{instanceIdentifier:s,options:i})=>{const a=r.getProvider("app").getImmediate(),o=new _h(new qX(r.getProvider("auth-internal")),new GX(a,r.getProvider("app-check-internal")),(function(f,d){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Ft(mt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ih(f.options.projectId,d)})(a,s),a);return i={useFetchStreams:n,...i},o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),qf(xI,yI,e),qf(xI,yI,"esm2020")})();const Eee={apiKey:"AIzaSyDOhuszbQuXpMO0WY-FXzkyY8dABjj4MHg",authDomain:"sample-firebase-ai-app-1f72d.firebaseapp.com",projectId:"sample-firebase-ai-app-1f72d",storageBucket:"sample-firebase-ai-app-1f72d.firebasestorage.app",messagingSenderId:"231225025529",appId:"1:231225025529:web:e079fe0aa1be713625d328"},k7=dK().length?uE():IM(Eee),zx=FX(k7),yu=see(k7);typeof window<"u"&&iee(yu).catch(t=>{t.code==="failed-precondition"?console.warn("Multiple tabs open, persistence can only be enabled in one tab at a time."):t.code==="unimplemented"&&console.warn("The current browser does not support persistence.")});const R7=ke.createContext(void 0);function See({children:t}){const[e,n]=ke.useState(null),[r,s]=ke.useState(!0);ke.useEffect(()=>(console.log("Setting up auth state listener..."),EY(zx,f=>{console.log("Auth state changed. User:",f?`${f.email}`:"null"),n(f),s(!1)})),[]);const i=async(c,f)=>{await bY(zx,c,f)},a=async(c,f)=>{await _Y(zx,c,f)},o=async()=>{await SY(zx)};return m.jsx(R7.Provider,{value:{user:e,loading:r,signIn:i,signUp:a,signOut:o},children:t})}function k1(){const t=ke.useContext(R7);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}var Aee=(t,e,n,r,s,i,a,o)=>{let c=document.documentElement,f=["light","dark"];function d(y){(Array.isArray(t)?t:[t]).forEach(E=>{let b=E==="class",A=b&&i?s.map(N=>i[N]||N):s;b?(c.classList.remove(...A),c.classList.add(i&&i[y]?i[y]:y)):c.setAttribute(E,y)}),p(y)}function p(y){o&&f.includes(y)&&(c.style.colorScheme=y)}function g(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(r)d(r);else try{let y=localStorage.getItem(e)||n,E=a&&y==="system"?g():y;d(E)}catch{}},F3=["light","dark"],P7="(prefers-color-scheme: dark)",Cee=typeof window>"u",aS=ke.createContext(void 0),Nee={setTheme:t=>{},themes:[]},D7=()=>{var t;return(t=ke.useContext(aS))!=null?t:Nee},Iee=t=>ke.useContext(aS)?ke.createElement(ke.Fragment,null,t.children):ke.createElement(Ree,{...t}),kee=["light","dark"],Ree=({forcedTheme:t,disableTransitionOnChange:e=!1,enableSystem:n=!0,enableColorScheme:r=!0,storageKey:s="theme",themes:i=kee,defaultTheme:a=n?"system":"light",attribute:o="data-theme",value:c,children:f,nonce:d,scriptProps:p})=>{let[g,y]=ke.useState(()=>Dee(s,a)),[E,b]=ke.useState(()=>g==="system"?Ib():g),A=c?Object.values(c):i,N=ke.useCallback(W=>{let K=W;if(!K)return;W==="system"&&n&&(K=Ib());let D=c?c[K]:K,L=e?Mee(d):null,R=document.documentElement,q=P=>{P==="class"?(R.classList.remove(...A),D&&R.classList.add(D)):P.startsWith("data-")&&(D?R.setAttribute(P,D):R.removeAttribute(P))};if(Array.isArray(o)?o.forEach(q):q(o),r){let P=F3.includes(a)?a:null,M=F3.includes(K)?K:P;R.style.colorScheme=M}L?.()},[d]),V=ke.useCallback(W=>{let K=typeof W=="function"?W(g):W;y(K);try{localStorage.setItem(s,K)}catch{}},[g]),k=ke.useCallback(W=>{let K=Ib(W);b(K),g==="system"&&n&&!t&&N("system")},[g,t]);ke.useEffect(()=>{let W=window.matchMedia(P7);return W.addListener(k),k(W),()=>W.removeListener(k)},[k]),ke.useEffect(()=>{let W=K=>{K.key===s&&(K.newValue?y(K.newValue):V(a))};return window.addEventListener("storage",W),()=>window.removeEventListener("storage",W)},[V]),ke.useEffect(()=>{N(t??g)},[t,g]);let B=ke.useMemo(()=>({theme:g,setTheme:V,forcedTheme:t,resolvedTheme:g==="system"?E:g,themes:n?[...i,"system"]:i,systemTheme:n?E:void 0}),[g,V,t,E,n,i]);return ke.createElement(aS.Provider,{value:B},ke.createElement(Pee,{forcedTheme:t,storageKey:s,attribute:o,enableSystem:n,enableColorScheme:r,defaultTheme:a,value:c,themes:i,nonce:d,scriptProps:p}),f)},Pee=ke.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:a,themes:o,nonce:c,scriptProps:f})=>{let d=JSON.stringify([n,e,i,t,o,a,r,s]).slice(1,-1);return ke.createElement("script",{...f,suppressHydrationWarning:!0,nonce:typeof window>"u"?c:"",dangerouslySetInnerHTML:{__html:`(${Aee.toString()})(${d})`}})}),Dee=(t,e)=>{if(Cee)return;let n;try{n=localStorage.getItem(t)||void 0}catch{}return n||e},Mee=t=>{let e=document.createElement("style");return t&&e.setAttribute("nonce",t),e.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(e)},1)}},Ib=t=>(t||(t=window.matchMedia(P7)),t.matches?"dark":"light");const Lee="modulepreload",Fee=function(t,e){return new URL(t,e).href},O3={},Z0=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){let f=function(d){return Promise.all(d.map(p=>Promise.resolve(p).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};const a=document.getElementsByTagName("link"),o=document.querySelector("meta[property=csp-nonce]"),c=o?.nonce||o?.getAttribute("nonce");s=f(n.map(d=>{if(d=Fee(d,r),d in O3)return;O3[d]=!0;const p=d.endsWith(".css"),g=p?'[rel="stylesheet"]':"";if(r)for(let E=a.length-1;E>=0;E--){const b=a[E];if(b.href===d&&(!p||b.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${d}"]${g}`))return;const y=document.createElement("link");if(y.rel=p?"stylesheet":Lee,p||(y.as="script"),y.crossOrigin="",y.href=d,c&&y.setAttribute("nonce",c),document.head.appendChild(y),p)return new Promise((E,b)=>{y.addEventListener("load",E),y.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${d}`)))})}))}function i(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return s.then(a=>{for(const o of a||[])o.status==="rejected"&&i(o.reason);return e().catch(i)})};var Cp;(function(t){t.Unimplemented="UNIMPLEMENTED",t.Unavailable="UNAVAILABLE"})(Cp||(Cp={}));class kb extends Error{constructor(e,n,r){super(e),this.message=e,this.code=n,this.data=r}}const Oee=t=>{var e,n;return t?.androidBridge?"android":!((n=(e=t?.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||n===void 0)&&n.bridge?"ios":"web"},Bee=t=>{const e=t.CapacitorCustomPlatform||null,n=t.Capacitor||{},r=n.Plugins=n.Plugins||{},s=()=>e!==null?e.name:Oee(t),i=()=>s()!=="web",a=p=>{const g=f.get(p);return!!(g?.platforms.has(s())||o(p))},o=p=>{var g;return(g=n.PluginHeaders)===null||g===void 0?void 0:g.find(y=>y.name===p)},c=p=>t.console.error(p),f=new Map,d=(p,g={})=>{const y=f.get(p);if(y)return console.warn(`Capacitor plugin "${p}" already registered. Cannot register plugins twice.`),y.proxy;const E=s(),b=o(p);let A;const N=async()=>(!A&&E in g?A=typeof g[E]=="function"?A=await g[E]():A=g[E]:e!==null&&!A&&"web"in g&&(A=typeof g.web=="function"?A=await g.web():A=g.web),A),V=(L,R)=>{var q,P;if(b){const M=b?.methods.find(H=>R===H.name);if(M)return M.rtype==="promise"?H=>n.nativePromise(p,R.toString(),H):(H,ae)=>n.nativeCallback(p,R.toString(),H,ae);if(L)return(q=L[R])===null||q===void 0?void 0:q.bind(L)}else{if(L)return(P=L[R])===null||P===void 0?void 0:P.bind(L);throw new kb(`"${p}" plugin is not implemented on ${E}`,Cp.Unimplemented)}},k=L=>{let R;const q=(...P)=>{const M=N().then(H=>{const ae=V(H,L);if(ae){const Se=ae(...P);return R=Se?.remove,Se}else throw new kb(`"${p}.${L}()" is not implemented on ${E}`,Cp.Unimplemented)});return L==="addListener"&&(M.remove=async()=>R()),M};return q.toString=()=>`${L.toString()}() { [capacitor code] }`,Object.defineProperty(q,"name",{value:L,writable:!1,configurable:!1}),q},B=k("addListener"),W=k("removeListener"),K=(L,R)=>{const q=B({eventName:L},R),P=async()=>{const H=await q;W({eventName:L,callbackId:H},R)},M=new Promise(H=>q.then(()=>H({remove:P})));return M.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await P()},M},D=new Proxy({},{get(L,R){switch(R){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return b?K:B;case"removeListener":return W;default:return k(R)}}});return r[p]=D,f.set(p,{name:p,proxy:D,platforms:new Set([...Object.keys(g),...b?[E]:[]])}),D};return n.convertFileSrc||(n.convertFileSrc=p=>p),n.getPlatform=s,n.handleError=c,n.isNativePlatform=i,n.isPluginAvailable=a,n.registerPlugin=d,n.Exception=kb,n.DEBUG=!!n.DEBUG,n.isLoggingEnabled=!!n.isLoggingEnabled,n},Vee=t=>t.Capacitor=Bee(t),Jg=Vee(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),Up=Jg.registerPlugin;class oS{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(e,n){let r=!1;this.listeners[e]||(this.listeners[e]=[],r=!0),this.listeners[e].push(n);const i=this.windowListeners[e];i&&!i.registered&&this.addWindowListener(i),r&&this.sendRetainedArgumentsForEvent(e);const a=async()=>this.removeListener(e,n);return Promise.resolve({remove:a})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,n,r){const s=this.listeners[e];if(!s){if(r){let i=this.retainedEventArguments[e];i||(i=[]),i.push(n),this.retainedEventArguments[e]=i}return}s.forEach(i=>i(n))}hasListeners(e){var n;return!!(!((n=this.listeners[e])===null||n===void 0)&&n.length)}registerWindowListener(e,n){this.windowListeners[n]={registered:!1,windowEventName:e,pluginEventName:n,handler:r=>{this.notifyListeners(n,r)}}}unimplemented(e="not implemented"){return new Jg.Exception(e,Cp.Unimplemented)}unavailable(e="not available"){return new Jg.Exception(e,Cp.Unavailable)}async removeListener(e,n){const r=this.listeners[e];if(!r)return;const s=r.indexOf(n);this.listeners[e].splice(s,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const n=this.retainedEventArguments[e];n&&(delete this.retainedEventArguments[e],n.forEach(r=>{this.notifyListeners(e,r)}))}}const B3=t=>encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),V3=t=>t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class Uee extends oS{async getCookies(){const e=document.cookie,n={};return e.split(";").forEach(r=>{if(r.length<=0)return;let[s,i]=r.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");s=V3(s).trim(),i=V3(i).trim(),n[s]=i}),n}async setCookie(e){try{const n=B3(e.key),r=B3(e.value),s=`; expires=${(e.expires||"").replace("expires=","")}`,i=(e.path||"/").replace("path=",""),a=e.url!=null&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${n}=${r||""}${s}; path=${i}; ${a};`}catch(n){return Promise.reject(n)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(n){return Promise.reject(n)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const n of e)document.cookie=n.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}Up("CapacitorCookies",{web:()=>new Uee});const jee=async t=>new Promise((e,n)=>{const r=new FileReader;r.onload=()=>{const s=r.result;e(s.indexOf(",")>=0?s.split(",")[1]:s)},r.onerror=s=>n(s),r.readAsDataURL(t)}),qee=(t={})=>{const e=Object.keys(t);return Object.keys(t).map(s=>s.toLocaleLowerCase()).reduce((s,i,a)=>(s[i]=t[e[a]],s),{})},Hee=(t,e=!0)=>t?Object.entries(t).reduce((r,s)=>{const[i,a]=s;let o,c;return Array.isArray(a)?(c="",a.forEach(f=>{o=e?encodeURIComponent(f):f,c+=`${i}=${o}&`}),c.slice(0,-1)):(o=e?encodeURIComponent(a):a,c=`${i}=${o}`),`${r}&${c}`},"").substr(1):null,zee=(t,e={})=>{const n=Object.assign({method:t.method||"GET",headers:t.headers},e),s=qee(t.headers)["content-type"]||"";if(typeof t.data=="string")n.body=t.data;else if(s.includes("application/x-www-form-urlencoded")){const i=new URLSearchParams;for(const[a,o]of Object.entries(t.data||{}))i.set(a,o);n.body=i.toString()}else if(s.includes("multipart/form-data")||t.data instanceof FormData){const i=new FormData;if(t.data instanceof FormData)t.data.forEach((o,c)=>{i.append(c,o)});else for(const o of Object.keys(t.data))i.append(o,t.data[o]);n.body=i;const a=new Headers(n.headers);a.delete("content-type"),n.headers=a}else(s.includes("application/json")||typeof t.data=="object")&&(n.body=JSON.stringify(t.data));return n};class Gee extends oS{async request(e){const n=zee(e,e.webFetchExtra),r=Hee(e.params,e.shouldEncodeUrlParams),s=r?`${e.url}?${r}`:e.url,i=await fetch(s,n),a=i.headers.get("content-type")||"";let{responseType:o="text"}=i.ok?e:{};a.includes("application/json")&&(o="json");let c,f;switch(o){case"arraybuffer":case"blob":f=await i.blob(),c=await jee(f);break;case"json":c=await i.json();break;case"document":case"text":default:c=await i.text()}const d={};return i.headers.forEach((p,g)=>{d[g]=p}),{data:c,headers:d,status:i.status,url:i.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}Up("CapacitorHttp",{web:()=>new Gee});var U3;(function(t){t.Dark="DARK",t.Light="LIGHT",t.Default="DEFAULT"})(U3||(U3={}));var j3;(function(t){t.StatusBar="StatusBar",t.NavigationBar="NavigationBar"})(j3||(j3={}));class Wee extends oS{async setStyle(){this.unavailable("not available for web")}async setAnimation(){this.unavailable("not available for web")}async show(){this.unavailable("not available for web")}async hide(){this.unavailable("not available for web")}}Up("SystemBars",{web:()=>new Wee});var q0;(function(t){t.Heavy="HEAVY",t.Medium="MEDIUM",t.Light="LIGHT"})(q0||(q0={}));var q3;(function(t){t.Success="SUCCESS",t.Warning="WARNING",t.Error="ERROR"})(q3||(q3={}));const H3=Up("Haptics",{web:()=>Z0(()=>import("./web-QRcTuQVF.js"),[],import.meta.url).then(t=>new t.HapticsWeb)}),Zs={impact:async(t=q0.Light)=>{try{await H3.impact({style:t})}catch{console.warn("Haptics not available")}},notification:async(t="success")=>{try{await H3.vibrate()}catch{console.warn("Haptics not available")}},light:()=>Zs.impact(q0.Light),medium:()=>Zs.impact(q0.Medium),heavy:()=>Zs.impact(q0.Heavy),success:()=>Zs.notification("success"),error:()=>Zs.notification("error")},$ee=({currentView:t,onChangeView:e,isCloudConnected:n=!1,onClose:r})=>{const{signOut:s}=k1(),{theme:i,setTheme:a}=D7(),o=[{id:rn.DASHBOARD,label:"Home",icon:sM},{id:rn.INVOICES,label:"Invoices",icon:Eu},{id:rn.INVENTORY,label:"Inventory",icon:ig},{id:rn.CREATE_INVOICE,label:"Create",icon:IG},{id:rn.EXPENSES,label:"Expenses",icon:sE},{id:rn.PAYMENTS,label:"Receipts",icon:Qd},{id:rn.CUSTOMERS,label:"People",icon:aE},{id:rn.IMPORT,label:"Import",icon:$2},{id:rn.SETTINGS,label:"Settings",icon:cM}],c=async()=>{await s()};return m.jsx(m.Fragment,{children:m.jsxs("div",{className:"flex w-72 md:w-64 bg-slate-900 text-slate-100 h-full flex-col flex-shrink-0 transition-all duration-300",children:[m.jsxs("div",{className:"p-6 flex items-center justify-between border-b border-slate-800",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"bg-white/10 p-1.5 rounded-xl backdrop-blur-md border border-white/20",children:m.jsx("img",{src:"/logo.png",alt:"BillBook Logo",className:"w-10 h-10 object-contain rounded-lg shadow-lg"})}),m.jsxs("div",{children:[m.jsx("h1",{className:"text-xl font-black tracking-tighter bg-gradient-to-r from-white to-blue-400 bg-clip-text text-transparent italic",children:"BillBook"}),m.jsx("p",{className:"text-xs text-blue-300 font-semibold",children:"by Lavneet Rathi"}),m.jsx("div",{className:"flex items-center gap-1 text-[10px] font-medium mt-0.5",children:n?m.jsxs("span",{className:"text-green-400 flex items-center gap-1",children:[m.jsx(tM,{className:"w-3 h-3"})," Cloud Sync"]}):m.jsxs("span",{className:"text-slate-500 flex items-center gap-1",children:[m.jsx(DG,{className:"w-3 h-3"})," Local Mode"]})})]})]}),m.jsx("button",{onClick:r,className:"p-2 md:hidden text-slate-400 hover:text-white",children:m.jsx(Su,{className:"w-6 h-6"})})]}),m.jsxs("nav",{className:"flex-1 py-6 px-3 space-y-1 overflow-y-auto scroll-smooth",children:[o.map(f=>m.jsxs("button",{onClick:()=>{e(f.id),Zs.light()},className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium transition-colors ${t===f.id?"bg-blue-600 text-white shadow-md":"text-slate-400 hover:bg-slate-800 hover:text-white"}`,children:[m.jsx(f.icon,{className:"w-5 h-5"}),f.label==="Home"?"Dashboard":f.label==="People"?"Customers":f.label==="Create"?"New Invoice":f.label]},f.id)),m.jsxs("button",{onClick:()=>{a(i==="dark"?"light":"dark"),Zs.medium()},className:"w-full mt-4 flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium text-slate-400 hover:bg-slate-800 hover:text-white transition-colors",children:[i==="dark"?m.jsx(fM,{className:"w-5 h-5 text-yellow-500"}):m.jsx(lM,{className:"w-5 h-5 text-blue-400"}),i==="dark"?"Light Mode":"Dark Mode"]})]}),m.jsxs("div",{className:"p-4 border-t border-slate-800 space-y-3",children:[m.jsxs("button",{onClick:c,className:"w-full flex items-center justify-center gap-2 px-4 py-2 rounded-lg text-sm font-medium text-slate-400 hover:bg-slate-800 hover:text-red-400 transition-colors","data-testid":"button-logout",children:[m.jsx(aM,{className:"w-4 h-4"}),"Logout"]}),m.jsxs("div",{className:"text-xs text-slate-500 text-center",children:[" 2025 BillFlow",m.jsx("br",{}),"by Lavneet Rathi"]})]})]})})},Kee=({currentView:t,onChangeView:e})=>{const[n,r]=ke.useState(!1),{signOut:s}=k1(),i=o=>{e(o),r(!1)},a=[{id:rn.CUSTOMERS,label:"Customers",icon:aE,color:"text-orange-500",bgColor:"bg-orange-50"},{id:rn.EXPENSES,label:"Expenses",icon:sE,color:"text-red-500",bgColor:"bg-red-50"},{id:rn.PAYMENTS,label:"Receipts",icon:Qd,color:"text-green-500",bgColor:"bg-green-50"},{id:rn.IMPORT,label:"Import Data",icon:$2,color:"text-purple-500",bgColor:"bg-purple-50"},{id:rn.SETTINGS,label:"Settings",icon:cM,color:"text-gray-500",bgColor:"bg-gray-50"}];return m.jsxs(m.Fragment,{children:[m.jsx(ku,{children:n&&m.jsxs(m.Fragment,{children:[m.jsx(Mn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>r(!1),className:"fixed inset-0 bg-black/40 z-40 backdrop-blur-sm"}),m.jsxs(Mn.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",damping:25,stiffness:300},className:"fixed bottom-0 left-0 right-0 bg-white dark:bg-slate-900 rounded-t-3xl shadow-xl z-50 overflow-hidden pb-safe",children:[m.jsx("div",{className:"flex justify-center pt-4 pb-2",children:m.jsx("div",{className:"w-10 h-1 bg-gray-300 rounded-full"})}),m.jsxs("div",{className:"p-6 pt-2",children:[m.jsxs("div",{className:"flex justify-between items-center mb-6",children:[m.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-slate-100",children:"More"}),m.jsx("button",{onClick:()=>r(!1),className:"p-2 bg-gray-100 rounded-full dark:bg-slate-800",children:m.jsx(Su,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})})]}),m.jsx("div",{className:"grid grid-cols-4 gap-4 mb-6",children:a.map(o=>m.jsxs("button",{onClick:()=>i(o.id),className:"flex flex-col items-center gap-2 group",children:[m.jsx("div",{className:"w-14 h-14 rounded-2xl bg-slate-50 dark:bg-slate-800 flex items-center justify-center group-hover:bg-slate-100 transition-colors border border-slate-100 dark:border-slate-700",children:m.jsx(o.icon,{className:`w-6 h-6 ${o.color}`})}),m.jsx("span",{className:"text-xs font-medium text-slate-600 dark:text-slate-400 text-center leading-tight",children:o.label})]},o.id))}),m.jsx("div",{className:"border-t border-slate-100 dark:border-slate-800 pt-4",children:m.jsxs("button",{onClick:()=>s(),className:"w-full flex items-center justify-center gap-2 p-4 text-red-600 font-bold bg-red-50 dark:bg-red-900/10 rounded-2xl hover:bg-red-100 transition-colors",children:[m.jsx(aM,{className:"w-5 h-5"}),"Sign Out"]})})]})]})]})}),m.jsx("div",{className:"fixed bottom-28 right-6 z-40",children:m.jsx(Mn.button,{whileTap:{scale:.9},onClick:()=>i(rn.CREATE_INVOICE),className:"w-16 h-16 rounded-[24px] bg-primary text-white shadow-xl flex items-center justify-center hover:shadow-2xl transition-all border-none",children:m.jsx(Kf,{className:"w-8 h-8",strokeWidth:3})})}),m.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white/80 dark:bg-slate-900/80 backdrop-blur-xl border-t border-slate-200/50 dark:border-slate-800/50 pb-safe z-30 h-[88px]",children:m.jsxs("div",{className:"flex justify-around items-center h-full px-2 max-w-lg mx-auto",children:[m.jsx(Gx,{active:t===rn.DASHBOARD,onClick:()=>i(rn.DASHBOARD),icon:sM,label:"Home"}),m.jsx(Gx,{active:t===rn.INVOICES,onClick:()=>i(rn.INVOICES),icon:Eu,label:"Invoices"}),m.jsx(Gx,{active:t===rn.PAYMENTS,onClick:()=>i(rn.PAYMENTS),icon:Qd,label:"Receipts"}),m.jsx(Gx,{active:n,onClick:()=>r(!n),icon:s5,label:"More"})]})})]})},Gx=({active:t,onClick:e,icon:n,label:r})=>m.jsxs("button",{onClick:e,className:"flex flex-col items-center justify-center w-full h-full group",children:[m.jsx("div",{className:`
        flex items-center justify-center w-16 h-8 rounded-full mb-1.5 transition-all duration-300
        ${t?"bg-primary/10 dark:bg-primary/20":"bg-transparent"}
    `,children:m.jsx(n,{className:`w-6 h-6 ${t?"text-primary":"text-slate-400 dark:text-slate-500 group-hover:text-slate-600"}`,strokeWidth:t?2.5:2})}),m.jsx("span",{className:`text-[10px] font-black uppercase tracking-widest transition-colors ${t?"text-primary":"text-slate-400 dark:text-slate-500"}`,children:r})]});var Yee=gD();const ir={init:t=>(console.log("Firebase already initialized via lib/firebase"),!0),isReady:()=>!0,testConnection:async()=>{try{const t=j0(yu,"system","connection_test");return await U5(t,{status:"connected",timestamp:new Date().toISOString()}),{success:!0,message:"Connection Successful! Read/Write access confirmed."}}catch(t){return console.error("Test Connection Failed:",t),t.code==="permission-denied"?{success:!1,message:"Permission Denied. Please set Firestore Rules to 'allow read, write: if true;' in Firebase Console."}:{success:!1,message:t.message||"Unknown error during connection test."}}},fetchCollection:async t=>{try{return(await yee(ree(yu,t))).docs.map(n=>n.data())}catch(e){return console.error(`Error fetching ${t}:`,e),[]}},saveDocument:async(t,e,n)=>{try{await U5(j0(yu,t,e),n)}catch(r){console.error(`Error saving to ${t}:`,r)}},deleteDocument:async(t,e)=>{try{await vee(j0(yu,t,e))}catch(n){console.error(`Error deleting from ${t}:`,n)}},batchSave:async(t,e)=>{try{const n=Tee(yu);e.forEach(r=>{const s=j0(yu,t,r.id);n.set(s,r)}),await n.commit(),console.log(`Batch saved ${e.length} items to ${t}`)}catch(n){console.error("Batch save error",n)}}},mo={PRODUCTS:"app_products",CUSTOMERS:"app_customers",INVOICES:"app_invoices",PAYMENTS:"app_payments",EXPENSES:"app_expenses",COMPANY:"app_company",FIREBASE_CONFIG:"app_firebase_config"},z3={apiKey:"AIzaSyBDto4M27_AmBJ-eGNZyQI-Jtmhfnv1X5g",authDomain:"studio-5843390050-90c53.firebaseapp.com",projectId:"studio-5843390050-90c53",storageBucket:"studio-5843390050-90c53.firebasestorage.app",messagingSenderId:"796126072517",appId:"1:796126072517:web:be2ff390a075fad7bcaaac"},Xee=[{id:"1",name:"Product A",price:500,stock:100,category:"Electronics"},{id:"2",name:"Product B",price:800,stock:45,category:"Electronics"}],Jee=[{id:"c1",name:"John Doe",company:"XYZ Enterprises",email:"john@xyz.com",phone:"9123456789",address:"456, Business Park, Mumbai",balance:0,notifications:[]}];let ot={products:[],customers:[],invoices:[],payments:[],expenses:[],company:V0,isLoaded:!1,currentUserId:null};const et={init:async(t=null)=>{if(ot.currentUserId!==t&&(ot={products:[],customers:[],invoices:[],payments:[],expenses:[],company:V0,isLoaded:!1,currentUserId:t}),ot.isLoaded)return;const e=z3;if(localStorage.setItem(mo.FIREBASE_CONFIG,JSON.stringify(e)),ir.init(e),t){const n=`users/${t}`,[r,s,i,a,o,c]=await Promise.all([ir.fetchCollection(`${n}/products`),ir.fetchCollection(`${n}/customers`),ir.fetchCollection(`${n}/invoices`),ir.fetchCollection(`${n}/payments`),ir.fetchCollection(`${n}/expenses`),ir.fetchCollection(`${n}/company`)]);ot.products=r,ot.customers=s,ot.invoices=i,ot.payments=a,ot.expenses=o,ot.company=c.length>0?c[0]:V0,ot.isLoaded=!0;return}if(t)ot.products=[],ot.customers=[],ot.invoices=[],ot.payments=[],ot.expenses=[],ot.company=V0,ot.isLoaded=!0;else{const n=localStorage.getItem(mo.PRODUCTS);ot.products=n?JSON.parse(n):Xee;const r=localStorage.getItem(mo.CUSTOMERS);ot.customers=r?JSON.parse(r):Jee;const s=localStorage.getItem(mo.INVOICES);ot.invoices=s?JSON.parse(s):[];const i=localStorage.getItem(mo.PAYMENTS);ot.payments=i?JSON.parse(i):[];const a=localStorage.getItem(mo.EXPENSES);ot.expenses=a?JSON.parse(a):[];const o=localStorage.getItem(mo.COMPANY);ot.company=o?JSON.parse(o):V0,ot.isLoaded=!0}},getCollectionPath:t=>ot.currentUserId?`users/${ot.currentUserId}/${t}`:t,persistToLocalStorage:()=>{ot.currentUserId||(localStorage.setItem(mo.PRODUCTS,JSON.stringify(ot.products)),localStorage.setItem(mo.CUSTOMERS,JSON.stringify(ot.customers)),localStorage.setItem(mo.INVOICES,JSON.stringify(ot.invoices)),localStorage.setItem(mo.PAYMENTS,JSON.stringify(ot.payments)),localStorage.setItem(mo.EXPENSES,JSON.stringify(ot.expenses)),localStorage.setItem(mo.COMPANY,JSON.stringify(ot.company)))},getProducts:()=>[...ot.products],getCustomers:()=>[...ot.customers],getInvoices:()=>[...ot.invoices],getPayments:()=>[...ot.payments],getExpenses:()=>[...ot.expenses],getCompanyProfile:()=>ot.company,getFirebaseConfig:()=>z3,saveFirebaseConfig:t=>{localStorage.setItem(mo.FIREBASE_CONFIG,JSON.stringify(t))},saveProduct:t=>{const e=ot.products.findIndex(r=>r.id===t.id),n=[...ot.products];e>=0?n[e]=t:n.push(t),ot.products=n,et.persistToLocalStorage(),ir.saveDocument(et.getCollectionPath("products"),t.id,t)},updateProduct:t=>{et.saveProduct(t)},deleteProduct:t=>{ot.products=ot.products.filter(e=>e.id!==t),et.persistToLocalStorage(),ir.deleteDocument(et.getCollectionPath("products"),t)},saveCustomer:t=>{const e=ot.customers.findIndex(r=>r.id===t.id),n=[...ot.customers];e>=0?n[e]=t:n.push(t),ot.customers=n,et.persistToLocalStorage(),ir.saveDocument(et.getCollectionPath("customers"),t.id,t)},addNotification:(t,e)=>{const n=ot.customers.findIndex(r=>r.id===t);if(n>=0){const r={id:crypto.randomUUID(),read:!1,...e},s={...ot.customers[n]};s.notifications||(s.notifications=[]),s.notifications=[r,...s.notifications];const i=[...ot.customers];i[n]=s,ot.customers=i,et.persistToLocalStorage(),ir.saveDocument(et.getCollectionPath("customers"),t,ot.customers[n])}},saveInvoice:t=>{const e=[...ot.products];t.items.forEach(s=>{const i=e.findIndex(a=>a.id===s.productId);if(i>=0&&e[i].category!=="Services"){const a={...e[i]};a.stock-=s.quantity,e[i]=a,ir.saveDocument(et.getCollectionPath("products"),a.id,a)}}),ot.products=e;const n=[...ot.customers],r=n.findIndex(s=>s.id===t.customerId);if(r>=0&&t.status==="PENDING"){const s={...n[r]};s.balance+=t.total,n[r]=s,ir.saveDocument(et.getCollectionPath("customers"),s.id,s)}ot.customers=n,ot.invoices=[t,...ot.invoices],et.persistToLocalStorage(),ir.saveDocument(et.getCollectionPath("invoices"),t.id,t),et.addNotification(t.customerId,{type:"INVOICE",title:"New Invoice Generated",message:`Invoice #${t.invoiceNumber} for ${t.total} has been created.`,date:new Date().toISOString().split("T")[0]})},savePayment:t=>{ot.payments=[t,...ot.payments];const e=[...ot.customers],n=e.findIndex(r=>r.id===t.customerId);if(n>=0){const r={...e[n]};r.balance-=t.amount,e[n]=r,ir.saveDocument(et.getCollectionPath("customers"),r.id,r)}ot.customers=e,et.persistToLocalStorage(),ir.saveDocument(et.getCollectionPath("payments"),t.id,t),et.addNotification(t.customerId,{type:"PAYMENT",title:"Payment Received",message:`Payment of ${t.amount} received via ${t.mode}.`,date:t.date})},updatePayment:t=>{const e=ot.payments.findIndex(s=>s.id===t.id);if(e===-1)return;const n=ot.payments[e],r=ot.customers.find(s=>s.id===t.customerId);r&&(r.balance+=n.amount,r.balance-=t.amount,ir.saveDocument(et.getCollectionPath("customers"),r.id,r)),ot.payments[e]=t,et.persistToLocalStorage(),ir.saveDocument(et.getCollectionPath("payments"),t.id,t)},deletePayment:t=>{const e=ot.payments.findIndex(s=>s.id===t);if(e===-1)return;const n=ot.payments[e],r=ot.customers.find(s=>s.id===n.customerId);r&&(r.balance+=n.amount,ir.saveDocument(et.getCollectionPath("customers"),r.id,r)),ot.payments.splice(e,1),et.persistToLocalStorage(),ir.deleteDocument(et.getCollectionPath("payments"),t)},deleteInvoice:t=>{const e=ot.invoices.findIndex(s=>s.id===t);if(e===-1)return;const n=ot.invoices[e];n.items.forEach(s=>{const i=ot.products.findIndex(a=>a.id===s.productId);i>=0&&ot.products[i].category!=="Services"&&(ot.products[i].stock+=s.quantity,ir.saveDocument(et.getCollectionPath("products"),ot.products[i].id,ot.products[i]))});const r=ot.customers.findIndex(s=>s.id===n.customerId);r>=0&&n.status==="PENDING"&&(ot.customers[r].balance-=n.total,ir.saveDocument(et.getCollectionPath("customers"),ot.customers[r].id,ot.customers[r])),ot.invoices.splice(e,1),et.persistToLocalStorage(),ir.deleteDocument(et.getCollectionPath("invoices"),t)},updateInvoice:t=>{const e=ot.invoices.findIndex(a=>a.id===t.id);if(e===-1)return;const n=ot.invoices[e],r=new Set;n.items.forEach(a=>{const o=ot.products.findIndex(c=>c.id===a.productId);o>=0&&ot.products[o].category!=="Services"&&(ot.products[o].stock+=a.quantity,r.add(ot.products[o].id))});const s=ot.customers.findIndex(a=>a.id===n.customerId);s>=0&&n.status==="PENDING"&&(ot.customers[s].balance-=n.total),t.items.forEach(a=>{const o=ot.products.findIndex(c=>c.id===a.productId);o>=0&&ot.products[o].category!=="Services"&&(ot.products[o].stock-=a.quantity,r.add(ot.products[o].id))});const i=ot.customers.findIndex(a=>a.id===t.customerId);i>=0&&t.status==="PENDING"&&(ot.customers[i].balance+=t.total);{r.forEach(o=>{const c=ot.products.find(f=>f.id===o);c&&ir.saveDocument(et.getCollectionPath("products"),c.id,c)});const a=ot.customers[s];if(a&&ir.saveDocument(et.getCollectionPath("customers"),a.id,a),s!==i){const o=ot.customers[i];o&&ir.saveDocument(et.getCollectionPath("customers"),o.id,o)}}ot.invoices[e]=t,et.persistToLocalStorage(),ir.saveDocument(et.getCollectionPath("invoices"),t.id,t),n.total!==t.total&&et.addNotification(t.customerId,{type:"INVOICE",title:"Invoice Updated",message:`Invoice #${t.invoiceNumber} has been updated to ${t.total}.`,date:new Date().toISOString().split("T")[0]})},saveCompanyProfile:t=>{ot.company=t,et.persistToLocalStorage(),ir.saveDocument(et.getCollectionPath("company"),"profile",t)},getLastSalePrice:(t,e)=>{const n=ot.invoices.filter(r=>r.customerId===t);for(const r of n){const s=r.items.find(i=>i.productId===e);if(s)return s.rate}return null},getCustomerBehaviorScore:t=>{const e=ot.invoices.filter(i=>i.customerId===t);if(e.length===0)return 100;const n=e.reduce((i,a)=>i+a.total,0),r=ot.payments.filter(i=>i.customerId===t).reduce((i,a)=>i+a.amount,0)+e.filter(i=>i.status==="PAID").reduce((i,a)=>i+a.total,0);if(n===0)return 100;const s=r/n*100;return Math.min(Math.round(s),100)},predictNextItem:t=>{if(!t)return null;const e=ot.invoices.filter(s=>s.customerId===t);if(e.length===0){const s={};ot.invoices.forEach(a=>{a.items.forEach(o=>{s[o.productId]=(s[o.productId]||0)+1})});const i=Object.keys(s).sort((a,o)=>s[o]-s[a])[0];return i&&ot.products.find(a=>a.id===i)||null}const n={};e.forEach(s=>{s.items.forEach(i=>{n[i.productId]=(n[i.productId]||0)+1})});const r=Object.keys(n).sort((s,i)=>n[i]-n[s])[0];return r&&ot.products.find(s=>s.id===r)||null},updateCustomer:t=>{const e=ot.customers.findIndex(n=>n.id===t.id);e>=0&&(ot.customers[e]=t,et.persistToLocalStorage(),ir.saveDocument(et.getCollectionPath("customers"),t.id,t))},deleteCustomer:t=>{const e=ot.customers.findIndex(n=>n.id===t);e>=0&&(ot.customers.splice(e,1),et.persistToLocalStorage(),ir.deleteDocument(et.getCollectionPath("customers"),t))},saveExpense:t=>{const e=ot.expenses.findIndex(n=>n.id===t.id);e>=0?ot.expenses[e]=t:ot.expenses.unshift(t),et.persistToLocalStorage(),ir.saveDocument(et.getCollectionPath("expenses"),t.id,t)},deleteExpense:t=>{const e=ot.expenses.findIndex(n=>n.id===t);e>=0&&(ot.expenses.splice(e,1),et.persistToLocalStorage(),ir.deleteDocument(et.getCollectionPath("expenses"),t))},generateInvoiceNumber:(t,e)=>{const n=ot.customers.find(y=>y.id===t);if(!n)return`inv-${Date.now()}`;const r=n.name.replace(/[^a-zA-Z]/g,"").substring(0,3).toLowerCase(),s=new Date(e),a=["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"][s.getMonth()],o=3;let c=s.getFullYear();s.getMonth()<o&&(c-=1);const f=new Date(c,o,1),d=new Date(c+1,o,0),g=(ot.invoices.filter(y=>{if(y.customerId!==t)return!1;const E=new Date(y.date);return E>=f&&E<=d}).length+1).toString().padStart(3,"0");return`${r}${a}${g}`},exportAllData:()=>{const t={products:JSON.stringify(ot.products),customers:JSON.stringify(ot.customers),invoices:JSON.stringify(ot.invoices),payments:JSON.stringify(ot.payments),expenses:JSON.stringify(ot.expenses),company:JSON.stringify(ot.company),timestamp:new Date().toISOString()};return JSON.stringify(t)},importData:t=>{try{const e=JSON.parse(t);return e.products&&(ot.products=JSON.parse(e.products)),e.customers&&(ot.customers=JSON.parse(e.customers)),e.invoices&&(ot.invoices=JSON.parse(e.invoices)),e.payments&&(ot.payments=JSON.parse(e.payments)),e.company&&(ot.company=JSON.parse(e.company)),et.persistToLocalStorage(),ir.isReady()&&et.init(ot.currentUserId),!0}catch(e){return console.error("Failed to import data",e),!1}}};let Qee,Zee;function ete(){return{geminiUrl:Qee,vertexUrl:Zee}}function tte(t,e,n,r){var s,i;if(!t?.baseUrl){const a=ete();return e?(s=a.vertexUrl)!==null&&s!==void 0?s:n:(i=a.geminiUrl)!==null&&i!==void 0?i:r}return t.baseUrl}class ju{}function Ut(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,s)=>{if(Object.prototype.hasOwnProperty.call(e,s)){const i=e[s];return i!=null?String(i):""}else throw new Error(`Key '${s}' not found in valueMap.`)})}function T(t,e,n){for(let i=0;i<e.length-1;i++){const a=e[i];if(a.endsWith("[]")){const o=a.slice(0,-2);if(!(o in t))if(Array.isArray(n))t[o]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${a}`);if(Array.isArray(t[o])){const c=t[o];if(Array.isArray(n))for(let f=0;f<c.length;f++){const d=c[f];T(d,e.slice(i+1),n[f])}else for(const f of c)T(f,e.slice(i+1),n)}return}else if(a.endsWith("[0]")){const o=a.slice(0,-3);o in t||(t[o]=[{}]);const c=t[o];T(c[0],e.slice(i+1),n);return}(!t[a]||typeof t[a]!="object")&&(t[a]={}),t=t[a]}const r=e[e.length-1],s=t[r];if(s!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===s)return;if(typeof s=="object"&&typeof n=="object"&&s!==null&&n!==null)Object.assign(s,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function v(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const s=e[r];if(s.endsWith("[]")){const i=s.slice(0,-2);if(i in t){const a=t[i];return Array.isArray(a)?a.map(o=>v(o,e.slice(r+1),n)):n}else return n}else t=t[s]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function nte(t,e){for(const[n,r]of Object.entries(e)){const s=n.split("."),i=r.split("."),a=new Set;let o=-1;for(let c=0;c<s.length;c++)if(s[c]==="*"){o=c;break}if(o!==-1&&i.length>o)for(let c=o;c<i.length;c++){const f=i[c];f!=="*"&&!f.endsWith("[]")&&!f.endsWith("[0]")&&a.add(f)}j5(t,s,i,0,a)}}function j5(t,e,n,r,s){if(r>=e.length||typeof t!="object"||t===null)return;const i=e[r];if(i.endsWith("[]")){const a=i.slice(0,-2),o=t;if(a in o&&Array.isArray(o[a]))for(const c of o[a])j5(c,e,n,r+1,s)}else if(i==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const a=t,o=Object.keys(a).filter(f=>!f.startsWith("_")&&!s.has(f)),c={};for(const f of o)c[f]=a[f];for(const[f,d]of Object.entries(c)){const p=[];for(const g of n.slice(r))g==="*"?p.push(f):p.push(g);T(a,p,d)}for(const f of o)delete a[f]}}else{const a=t;i in a&&j5(a[i],e,n,r+1,s)}}function lS(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}function rte(t){const e={},n=v(t,["operationName"]);n!=null&&T(e,["operationName"],n);const r=v(t,["resourceName"]);return r!=null&&T(e,["_url","resourceName"],r),e}function ste(t){const e={},n=v(t,["name"]);n!=null&&T(e,["name"],n);const r=v(t,["metadata"]);r!=null&&T(e,["metadata"],r);const s=v(t,["done"]);s!=null&&T(e,["done"],s);const i=v(t,["error"]);i!=null&&T(e,["error"],i);const a=v(t,["response","generateVideoResponse"]);return a!=null&&T(e,["response"],ate(a)),e}function ite(t){const e={},n=v(t,["name"]);n!=null&&T(e,["name"],n);const r=v(t,["metadata"]);r!=null&&T(e,["metadata"],r);const s=v(t,["done"]);s!=null&&T(e,["done"],s);const i=v(t,["error"]);i!=null&&T(e,["error"],i);const a=v(t,["response"]);return a!=null&&T(e,["response"],ote(a)),e}function ate(t){const e={},n=v(t,["generatedSamples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>lte(a))),T(e,["generatedVideos"],i)}const r=v(t,["raiMediaFilteredCount"]);r!=null&&T(e,["raiMediaFilteredCount"],r);const s=v(t,["raiMediaFilteredReasons"]);return s!=null&&T(e,["raiMediaFilteredReasons"],s),e}function ote(t){const e={},n=v(t,["videos"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>cte(a))),T(e,["generatedVideos"],i)}const r=v(t,["raiMediaFilteredCount"]);r!=null&&T(e,["raiMediaFilteredCount"],r);const s=v(t,["raiMediaFilteredReasons"]);return s!=null&&T(e,["raiMediaFilteredReasons"],s),e}function lte(t){const e={},n=v(t,["video"]);return n!=null&&T(e,["video"],mte(n)),e}function cte(t){const e={},n=v(t,["_self"]);return n!=null&&T(e,["video"],gte(n)),e}function ute(t){const e={},n=v(t,["operationName"]);return n!=null&&T(e,["_url","operationName"],n),e}function fte(t){const e={},n=v(t,["operationName"]);return n!=null&&T(e,["_url","operationName"],n),e}function dte(t){const e={},n=v(t,["name"]);n!=null&&T(e,["name"],n);const r=v(t,["metadata"]);r!=null&&T(e,["metadata"],r);const s=v(t,["done"]);s!=null&&T(e,["done"],s);const i=v(t,["error"]);i!=null&&T(e,["error"],i);const a=v(t,["response"]);return a!=null&&T(e,["response"],hte(a)),e}function hte(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&T(e,["sdkHttpResponse"],n);const r=v(t,["parent"]);r!=null&&T(e,["parent"],r);const s=v(t,["documentName"]);return s!=null&&T(e,["documentName"],s),e}function M7(t){const e={},n=v(t,["name"]);n!=null&&T(e,["name"],n);const r=v(t,["metadata"]);r!=null&&T(e,["metadata"],r);const s=v(t,["done"]);s!=null&&T(e,["done"],s);const i=v(t,["error"]);i!=null&&T(e,["error"],i);const a=v(t,["response"]);return a!=null&&T(e,["response"],pte(a)),e}function pte(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&T(e,["sdkHttpResponse"],n);const r=v(t,["parent"]);r!=null&&T(e,["parent"],r);const s=v(t,["documentName"]);return s!=null&&T(e,["documentName"],s),e}function mte(t){const e={},n=v(t,["uri"]);n!=null&&T(e,["uri"],n);const r=v(t,["encodedVideo"]);r!=null&&T(e,["videoBytes"],lS(r));const s=v(t,["encoding"]);return s!=null&&T(e,["mimeType"],s),e}function gte(t){const e={},n=v(t,["gcsUri"]);n!=null&&T(e,["uri"],n);const r=v(t,["bytesBase64Encoded"]);r!=null&&T(e,["videoBytes"],lS(r));const s=v(t,["mimeType"]);return s!=null&&T(e,["mimeType"],s),e}var G3;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(G3||(G3={}));var W3;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(W3||(W3={}));var $3;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})($3||($3={}));var Ff;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Ff||(Ff={}));var K3;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(K3||(K3={}));var Y3;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Y3||(Y3={}));var X3;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(X3||(X3={}));var J3;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(J3||(J3={}));var Q3;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Q3||(Q3={}));var Z3;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.HIGH="HIGH"})(Z3||(Z3={}));var ek;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(ek||(ek={}));var tk;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(tk||(tk={}));var nk;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(nk||(nk={}));var rk;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE"})(rk||(rk={}));var sk;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(sk||(sk={}));var ik;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(ik||(ik={}));var ak;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(ak||(ak={}));var ok;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(ok||(ok={}));var lk;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(lk||(lk={}));var Qg;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Qg||(Qg={}));var ck;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(ck||(ck={}));var uk;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(uk||(uk={}));var fk;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(fk||(fk={}));var q5;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(q5||(q5={}));var dk;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(dk||(dk={}));var hk;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(hk||(hk={}));var pk;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(pk||(pk={}));var mk;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(mk||(mk={}));var gk;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(gk||(gk={}));var xk;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(xk||(xk={}));var yk;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(yk||(yk={}));var vk;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(vk||(vk={}));var _k;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(_k||(_k={}));var bk;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(bk||(bk={}));var wk;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(wk||(wk={}));var Tk;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Tk||(Tk={}));var Ek;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Ek||(Ek={}));var Sk;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Sk||(Sk={}));var Ak;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(Ak||(Ak={}));var Ck;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(Ck||(Ck={}));var Nk;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(Nk||(Nk={}));var Ik;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(Ik||(Ik={}));var kk;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(kk||(kk={}));var Rk;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(Rk||(Rk={}));var Pk;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(Pk||(Pk={}));var Dk;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(Dk||(Dk={}));var Mk;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Mk||(Mk={}));var Lk;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(Lk||(Lk={}));var Fk;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Fk||(Fk={}));var Ok;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Ok||(Ok={}));var Bk;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(Bk||(Bk={}));var Vk;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Vk||(Vk={}));var Uk;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Uk||(Uk={}));var jk;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(jk||(jk={}));var H0;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(H0||(H0={}));class H5{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Bm{get text(){var e,n,r,s,i,a,o,c;if(((s=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let f="",d=!1;const p=[];for(const g of(c=(o=(a=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)!==null&&c!==void 0?c:[]){for(const[y,E]of Object.entries(g))y!=="text"&&y!=="thought"&&y!=="thoughtSignature"&&(E!==null||E!==void 0)&&p.push(y);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;d=!0,f+=g.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?f:void 0}get data(){var e,n,r,s,i,a,o,c;if(((s=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let f="";const d=[];for(const p of(c=(o=(a=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)!==null&&c!==void 0?c:[]){for(const[g,y]of Object.entries(p))g!=="inlineData"&&(y!==null||y!==void 0)&&d.push(g);p.inlineData&&typeof p.inlineData.data=="string"&&(f+=atob(p.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),f.length>0?btoa(f):void 0}get functionCalls(){var e,n,r,s,i,a,o,c;if(((s=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const f=(c=(o=(a=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)===null||c===void 0?void 0:c.filter(d=>d.functionCall).map(d=>d.functionCall).filter(d=>d!==void 0);if(f?.length!==0)return f}get executableCode(){var e,n,r,s,i,a,o,c,f;if(((s=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const d=(c=(o=(a=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)===null||c===void 0?void 0:c.filter(p=>p.executableCode).map(p=>p.executableCode).filter(p=>p!==void 0);if(d?.length!==0)return(f=d?.[0])===null||f===void 0?void 0:f.code}get codeExecutionResult(){var e,n,r,s,i,a,o,c,f;if(((s=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const d=(c=(o=(a=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)===null||c===void 0?void 0:c.filter(p=>p.codeExecutionResult).map(p=>p.codeExecutionResult).filter(p=>p!==void 0);if(d?.length!==0)return(f=d?.[0])===null||f===void 0?void 0:f.output}}class qk{}class Hk{}class xte{}class yte{}class vte{}class _te{}class zk{}class Gk{}class Wk{}class bte{}class w2{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new w2;let s;const i=e;return n?s=ite(i):s=ste(i),Object.assign(r,s),r}}class $k{}class Kk{}class Yk{}class wte{}class Tte{}class Ete{}class cS{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new cS,i=dte(e);return Object.assign(r,i),r}}class Ste{}class Ate{}class Cte{}class Xk{}class Nte{get text(){var e,n,r;let s="",i=!1;const a=[];for(const o of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[c,f]of Object.entries(o))c!=="text"&&c!=="thought"&&f!==null&&a.push(c);if(typeof o.text=="string"){if(typeof o.thought=="boolean"&&o.thought)continue;i=!0,s+=o.text}}return a.length>0&&console.warn(`there are non-text parts ${a} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),i?s:void 0}get data(){var e,n,r;let s="";const i=[];for(const a of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[o,c]of Object.entries(a))o!=="inlineData"&&c!==null&&i.push(o);a.inlineData&&typeof a.inlineData.data=="string"&&(s+=atob(a.inlineData.data))}return i.length>0&&console.warn(`there are non-data parts ${i} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),s.length>0?btoa(s):void 0}}class Ite{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class uS{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new uS,i=M7(e);return Object.assign(r,i),r}}function kr(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function L7(t,e){const n=kr(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function F7(t){return Array.isArray(t)?t.map(e=>T2(e)):[T2(t)]}function T2(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function O7(t){const e=T2(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function B7(t){const e=T2(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Jk(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function V7(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>Jk(e)):[Jk(t)]}function z5(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function Qk(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function Zk(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Aa(t){if(t==null)throw new Error("ContentUnion is required");return z5(t)?t:{role:"user",parts:V7(t)}}function fS(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=Aa(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=Aa(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Aa(n)):[Aa(e)]}function ml(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(Qk(t)||Zk(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Aa(t)]}const e=[],n=[],r=z5(t[0]);for(const s of t){const i=z5(s);if(i!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(i)e.push(s);else{if(Qk(s)||Zk(s))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(s)}}return r||e.push({role:"user",parts:V7(n)}),e}function kte(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(Ff).includes(n[0].toUpperCase())?n[0].toUpperCase():Ff.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(Ff).includes(r.toUpperCase())?r.toUpperCase():Ff.TYPE_UNSPECIFIED})}}function ep(t){const e={},n=["items"],r=["anyOf"],s=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const i=t.anyOf;i!=null&&i.length==2&&(i[0].type==="null"?(e.nullable=!0,t=i[1]):i[1].type==="null"&&(e.nullable=!0,t=i[0])),t.type instanceof Array&&kte(t.type,e);for(const[a,o]of Object.entries(t))if(o!=null)if(a=="type"){if(o==="null")throw new Error("type: null can not be the only possible type for the field.");if(o instanceof Array)continue;e.type=Object.values(Ff).includes(o.toUpperCase())?o.toUpperCase():Ff.TYPE_UNSPECIFIED}else if(n.includes(a))e[a]=ep(o);else if(r.includes(a)){const c=[];for(const f of o){if(f.type=="null"){e.nullable=!0;continue}c.push(ep(f))}e[a]=c}else if(s.includes(a)){const c={};for(const[f,d]of Object.entries(o))c[f]=ep(d);e[a]=c}else{if(a==="additionalProperties")continue;e[a]=o}return e}function dS(t){return ep(t)}function hS(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function pS(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function jp(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=ep(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=ep(e.response));return t}function qp(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function Rte(t,e,n,r=1){const s=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:s?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:s?`${n}/${e}`:e}function qu(t,e){if(typeof e!="string")throw new Error("name must be a string");return Rte(t,e,"cachedContents")}function U7(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function od(t){return lS(t)}function Pte(t){return t!=null&&typeof t=="object"&&"name"in t}function Dte(t){return t!=null&&typeof t=="object"&&"video"in t}function Mte(t){return t!=null&&typeof t=="object"&&"uri"in t}function j7(t){var e;let n;if(Pte(t)&&(n=t.name),!(Mte(t)&&(n=t.uri,n===void 0))&&!(Dte(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const s=n.split("files/")[1].match(/[a-z0-9]+/);if(s===null)throw new Error(`Could not extract file name from URI ${n}`);n=s[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function q7(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function H7(t){for(const e of["models","tunedModels","publisherModels"])if(Lte(t,e))return t[e];return[]}function Lte(t,e){return t!==null&&typeof t=="object"&&e in t}function Fte(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function Ote(t,e={}){const n=[],r=new Set;for(const s of t){const i=s.name;if(r.has(i))throw new Error(`Duplicate function name ${i} found in MCP tools. Please ensure function names are unique.`);r.add(i);const a=Fte(s,e);a.functionDeclarations&&n.push(...a.functionDeclarations)}return{functionDeclarations:n}}function z7(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,s=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(s>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||s!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function Bte(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function G7(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const s=n.inlinedResponses;if(!Array.isArray(s)||s.length===0)return t;let i=!1;for(const a of s){if(typeof a!="object"||a===null)continue;const c=a.response;if(typeof c!="object"||c===null)continue;if(c.embedding!==void 0){i=!0;break}}return i&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function Hp(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function W7(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}function Vte(t){const e={},n=v(t,["responsesFile"]);n!=null&&T(e,["fileName"],n);const r=v(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>vne(a))),T(e,["inlinedResponses"],i)}const s=v(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(s!=null){let i=s;Array.isArray(i)&&(i=i.map(a=>a)),T(e,["inlinedEmbedContentResponses"],i)}return e}function Ute(t){const e={},n=v(t,["predictionsFormat"]);n!=null&&T(e,["format"],n);const r=v(t,["gcsDestination","outputUriPrefix"]);r!=null&&T(e,["gcsUri"],r);const s=v(t,["bigqueryDestination","outputUri"]);return s!=null&&T(e,["bigqueryUri"],s),e}function jte(t){const e={},n=v(t,["format"]);n!=null&&T(e,["predictionsFormat"],n);const r=v(t,["gcsUri"]);r!=null&&T(e,["gcsDestination","outputUriPrefix"],r);const s=v(t,["bigqueryUri"]);if(s!=null&&T(e,["bigqueryDestination","outputUri"],s),v(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(v(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(v(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Ly(t){const e={},n=v(t,["name"]);n!=null&&T(e,["name"],n);const r=v(t,["metadata","displayName"]);r!=null&&T(e,["displayName"],r);const s=v(t,["metadata","state"]);s!=null&&T(e,["state"],W7(s));const i=v(t,["metadata","createTime"]);i!=null&&T(e,["createTime"],i);const a=v(t,["metadata","endTime"]);a!=null&&T(e,["endTime"],a);const o=v(t,["metadata","updateTime"]);o!=null&&T(e,["updateTime"],o);const c=v(t,["metadata","model"]);c!=null&&T(e,["model"],c);const f=v(t,["metadata","output"]);return f!=null&&T(e,["dest"],Vte(G7(f))),e}function G5(t){const e={},n=v(t,["name"]);n!=null&&T(e,["name"],n);const r=v(t,["displayName"]);r!=null&&T(e,["displayName"],r);const s=v(t,["state"]);s!=null&&T(e,["state"],W7(s));const i=v(t,["error"]);i!=null&&T(e,["error"],i);const a=v(t,["createTime"]);a!=null&&T(e,["createTime"],a);const o=v(t,["startTime"]);o!=null&&T(e,["startTime"],o);const c=v(t,["endTime"]);c!=null&&T(e,["endTime"],c);const f=v(t,["updateTime"]);f!=null&&T(e,["updateTime"],f);const d=v(t,["model"]);d!=null&&T(e,["model"],d);const p=v(t,["inputConfig"]);p!=null&&T(e,["src"],qte(p));const g=v(t,["outputConfig"]);g!=null&&T(e,["dest"],Ute(G7(g)));const y=v(t,["completionStats"]);return y!=null&&T(e,["completionStats"],y),e}function qte(t){const e={},n=v(t,["instancesFormat"]);n!=null&&T(e,["format"],n);const r=v(t,["gcsSource","uris"]);r!=null&&T(e,["gcsUri"],r);const s=v(t,["bigquerySource","inputUri"]);return s!=null&&T(e,["bigqueryUri"],s),e}function Hte(t,e){const n={};if(v(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(v(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(v(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=v(e,["fileName"]);r!=null&&T(n,["fileName"],r);const s=v(e,["inlinedRequests"]);if(s!=null){let i=s;Array.isArray(i)&&(i=i.map(a=>yne(t,a))),T(n,["requests","requests"],i)}return n}function zte(t){const e={},n=v(t,["format"]);n!=null&&T(e,["instancesFormat"],n);const r=v(t,["gcsUri"]);r!=null&&T(e,["gcsSource","uris"],r);const s=v(t,["bigqueryUri"]);if(s!=null&&T(e,["bigquerySource","inputUri"],s),v(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(v(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function Gte(t){const e={},n=v(t,["data"]);if(n!=null&&T(e,["data"],n),v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=v(t,["mimeType"]);return r!=null&&T(e,["mimeType"],r),e}function Wte(t,e){const n={},r=v(e,["name"]);return r!=null&&T(n,["_url","name"],Hp(t,r)),n}function $te(t,e){const n={},r=v(e,["name"]);return r!=null&&T(n,["_url","name"],Hp(t,r)),n}function Kte(t){const e={},n=v(t,["content"]);n!=null&&T(e,["content"],n);const r=v(t,["citationMetadata"]);r!=null&&T(e,["citationMetadata"],Yte(r));const s=v(t,["tokenCount"]);s!=null&&T(e,["tokenCount"],s);const i=v(t,["finishReason"]);i!=null&&T(e,["finishReason"],i);const a=v(t,["avgLogprobs"]);a!=null&&T(e,["avgLogprobs"],a);const o=v(t,["groundingMetadata"]);o!=null&&T(e,["groundingMetadata"],o);const c=v(t,["index"]);c!=null&&T(e,["index"],c);const f=v(t,["logprobsResult"]);f!=null&&T(e,["logprobsResult"],f);const d=v(t,["safetyRatings"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(y=>y)),T(e,["safetyRatings"],g)}const p=v(t,["urlContextMetadata"]);return p!=null&&T(e,["urlContextMetadata"],p),e}function Yte(t){const e={},n=v(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>s)),T(e,["citations"],r)}return e}function $7(t){const e={},n=v(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(i=>Ane(i))),T(e,["parts"],s)}const r=v(t,["role"]);return r!=null&&T(e,["role"],r),e}function Xte(t,e){const n={},r=v(t,["displayName"]);if(e!==void 0&&r!=null&&T(e,["batch","displayName"],r),v(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function Jte(t,e){const n={},r=v(t,["displayName"]);e!==void 0&&r!=null&&T(e,["displayName"],r);const s=v(t,["dest"]);return e!==void 0&&s!=null&&T(e,["outputConfig"],jte(Bte(s))),n}function e6(t,e){const n={},r=v(e,["model"]);r!=null&&T(n,["_url","model"],kr(t,r));const s=v(e,["src"]);s!=null&&T(n,["batch","inputConfig"],Hte(t,z7(t,s)));const i=v(e,["config"]);return i!=null&&Xte(i,n),n}function Qte(t,e){const n={},r=v(e,["model"]);r!=null&&T(n,["model"],kr(t,r));const s=v(e,["src"]);s!=null&&T(n,["inputConfig"],zte(z7(t,s)));const i=v(e,["config"]);return i!=null&&Jte(i,n),n}function Zte(t,e){const n={},r=v(t,["displayName"]);return e!==void 0&&r!=null&&T(e,["batch","displayName"],r),n}function ene(t,e){const n={},r=v(e,["model"]);r!=null&&T(n,["_url","model"],kr(t,r));const s=v(e,["src"]);s!=null&&T(n,["batch","inputConfig"],one(t,s));const i=v(e,["config"]);return i!=null&&Zte(i,n),n}function tne(t,e){const n={},r=v(e,["name"]);return r!=null&&T(n,["_url","name"],Hp(t,r)),n}function nne(t,e){const n={},r=v(e,["name"]);return r!=null&&T(n,["_url","name"],Hp(t,r)),n}function rne(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&T(e,["sdkHttpResponse"],n);const r=v(t,["name"]);r!=null&&T(e,["name"],r);const s=v(t,["done"]);s!=null&&T(e,["done"],s);const i=v(t,["error"]);return i!=null&&T(e,["error"],i),e}function sne(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&T(e,["sdkHttpResponse"],n);const r=v(t,["name"]);r!=null&&T(e,["name"],r);const s=v(t,["done"]);s!=null&&T(e,["done"],s);const i=v(t,["error"]);return i!=null&&T(e,["error"],i),e}function ine(t,e){const n={},r=v(e,["contents"]);if(r!=null){let i=fS(t,r);Array.isArray(i)&&(i=i.map(a=>a)),T(n,["requests[]","request","content"],i)}const s=v(e,["config"]);return s!=null&&(T(n,["_self"],ane(s,n)),nte(n,{"requests[].*":"requests[].request.*"})),n}function ane(t,e){const n={},r=v(t,["taskType"]);e!==void 0&&r!=null&&T(e,["requests[]","taskType"],r);const s=v(t,["title"]);e!==void 0&&s!=null&&T(e,["requests[]","title"],s);const i=v(t,["outputDimensionality"]);if(e!==void 0&&i!=null&&T(e,["requests[]","outputDimensionality"],i),v(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(v(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function one(t,e){const n={},r=v(e,["fileName"]);r!=null&&T(n,["file_name"],r);const s=v(e,["inlinedRequests"]);return s!=null&&T(n,["requests"],ine(t,s)),n}function lne(t){const e={};if(v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(t,["fileUri"]);n!=null&&T(e,["fileUri"],n);const r=v(t,["mimeType"]);return r!=null&&T(e,["mimeType"],r),e}function cne(t){const e={},n=v(t,["id"]);n!=null&&T(e,["id"],n);const r=v(t,["args"]);r!=null&&T(e,["args"],r);const s=v(t,["name"]);if(s!=null&&T(e,["name"],s),v(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(v(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function une(t){const e={},n=v(t,["mode"]);n!=null&&T(e,["mode"],n);const r=v(t,["allowedFunctionNames"]);if(r!=null&&T(e,["allowedFunctionNames"],r),v(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function fne(t,e,n){const r={},s=v(e,["systemInstruction"]);n!==void 0&&s!=null&&T(n,["systemInstruction"],$7(Aa(s)));const i=v(e,["temperature"]);i!=null&&T(r,["temperature"],i);const a=v(e,["topP"]);a!=null&&T(r,["topP"],a);const o=v(e,["topK"]);o!=null&&T(r,["topK"],o);const c=v(e,["candidateCount"]);c!=null&&T(r,["candidateCount"],c);const f=v(e,["maxOutputTokens"]);f!=null&&T(r,["maxOutputTokens"],f);const d=v(e,["stopSequences"]);d!=null&&T(r,["stopSequences"],d);const p=v(e,["responseLogprobs"]);p!=null&&T(r,["responseLogprobs"],p);const g=v(e,["logprobs"]);g!=null&&T(r,["logprobs"],g);const y=v(e,["presencePenalty"]);y!=null&&T(r,["presencePenalty"],y);const E=v(e,["frequencyPenalty"]);E!=null&&T(r,["frequencyPenalty"],E);const b=v(e,["seed"]);b!=null&&T(r,["seed"],b);const A=v(e,["responseMimeType"]);A!=null&&T(r,["responseMimeType"],A);const N=v(e,["responseSchema"]);N!=null&&T(r,["responseSchema"],dS(N));const V=v(e,["responseJsonSchema"]);if(V!=null&&T(r,["responseJsonSchema"],V),v(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(v(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const k=v(e,["safetySettings"]);if(n!==void 0&&k!=null){let M=k;Array.isArray(M)&&(M=M.map(H=>Cne(H))),T(n,["safetySettings"],M)}const B=v(e,["tools"]);if(n!==void 0&&B!=null){let M=qp(B);Array.isArray(M)&&(M=M.map(H=>Ine(jp(H)))),T(n,["tools"],M)}const W=v(e,["toolConfig"]);if(n!==void 0&&W!=null&&T(n,["toolConfig"],Nne(W)),v(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const K=v(e,["cachedContent"]);n!==void 0&&K!=null&&T(n,["cachedContent"],qu(t,K));const D=v(e,["responseModalities"]);D!=null&&T(r,["responseModalities"],D);const L=v(e,["mediaResolution"]);L!=null&&T(r,["mediaResolution"],L);const R=v(e,["speechConfig"]);if(R!=null&&T(r,["speechConfig"],hS(R)),v(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const q=v(e,["thinkingConfig"]);q!=null&&T(r,["thinkingConfig"],q);const P=v(e,["imageConfig"]);return P!=null&&T(r,["imageConfig"],xne(P)),r}function dne(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&T(e,["sdkHttpResponse"],n);const r=v(t,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(f=>Kte(f))),T(e,["candidates"],c)}const s=v(t,["modelVersion"]);s!=null&&T(e,["modelVersion"],s);const i=v(t,["promptFeedback"]);i!=null&&T(e,["promptFeedback"],i);const a=v(t,["responseId"]);a!=null&&T(e,["responseId"],a);const o=v(t,["usageMetadata"]);return o!=null&&T(e,["usageMetadata"],o),e}function hne(t,e){const n={},r=v(e,["name"]);return r!=null&&T(n,["_url","name"],Hp(t,r)),n}function pne(t,e){const n={},r=v(e,["name"]);return r!=null&&T(n,["_url","name"],Hp(t,r)),n}function mne(t){const e={};if(v(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=v(t,["enableWidget"]);return n!=null&&T(e,["enableWidget"],n),e}function gne(t){const e={};if(v(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(v(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=v(t,["timeRangeFilter"]);return n!=null&&T(e,["timeRangeFilter"],n),e}function xne(t){const e={},n=v(t,["aspectRatio"]);n!=null&&T(e,["aspectRatio"],n);const r=v(t,["imageSize"]);if(r!=null&&T(e,["imageSize"],r),v(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(v(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function yne(t,e){const n={},r=v(e,["model"]);r!=null&&T(n,["request","model"],kr(t,r));const s=v(e,["contents"]);if(s!=null){let o=ml(s);Array.isArray(o)&&(o=o.map(c=>$7(c))),T(n,["request","contents"],o)}const i=v(e,["metadata"]);i!=null&&T(n,["metadata"],i);const a=v(e,["config"]);return a!=null&&T(n,["request","generationConfig"],fne(t,a,v(n,["request"],{}))),n}function vne(t){const e={},n=v(t,["response"]);n!=null&&T(e,["response"],dne(n));const r=v(t,["error"]);return r!=null&&T(e,["error"],r),e}function _ne(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&T(e,["_query","pageSize"],r);const s=v(t,["pageToken"]);if(e!==void 0&&s!=null&&T(e,["_query","pageToken"],s),v(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function bne(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&T(e,["_query","pageSize"],r);const s=v(t,["pageToken"]);e!==void 0&&s!=null&&T(e,["_query","pageToken"],s);const i=v(t,["filter"]);return e!==void 0&&i!=null&&T(e,["_query","filter"],i),n}function wne(t){const e={},n=v(t,["config"]);return n!=null&&_ne(n,e),e}function Tne(t){const e={},n=v(t,["config"]);return n!=null&&bne(n,e),e}function Ene(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&T(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&T(e,["nextPageToken"],r);const s=v(t,["operations"]);if(s!=null){let i=s;Array.isArray(i)&&(i=i.map(a=>Ly(a))),T(e,["batchJobs"],i)}return e}function Sne(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&T(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&T(e,["nextPageToken"],r);const s=v(t,["batchPredictionJobs"]);if(s!=null){let i=s;Array.isArray(i)&&(i=i.map(a=>G5(a))),T(e,["batchJobs"],i)}return e}function Ane(t){const e={},n=v(t,["mediaResolution"]);n!=null&&T(e,["mediaResolution"],n);const r=v(t,["codeExecutionResult"]);r!=null&&T(e,["codeExecutionResult"],r);const s=v(t,["executableCode"]);s!=null&&T(e,["executableCode"],s);const i=v(t,["fileData"]);i!=null&&T(e,["fileData"],lne(i));const a=v(t,["functionCall"]);a!=null&&T(e,["functionCall"],cne(a));const o=v(t,["functionResponse"]);o!=null&&T(e,["functionResponse"],o);const c=v(t,["inlineData"]);c!=null&&T(e,["inlineData"],Gte(c));const f=v(t,["text"]);f!=null&&T(e,["text"],f);const d=v(t,["thought"]);d!=null&&T(e,["thought"],d);const p=v(t,["thoughtSignature"]);p!=null&&T(e,["thoughtSignature"],p);const g=v(t,["videoMetadata"]);return g!=null&&T(e,["videoMetadata"],g),e}function Cne(t){const e={},n=v(t,["category"]);if(n!=null&&T(e,["category"],n),v(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=v(t,["threshold"]);return r!=null&&T(e,["threshold"],r),e}function Nne(t){const e={},n=v(t,["functionCallingConfig"]);n!=null&&T(e,["functionCallingConfig"],une(n));const r=v(t,["retrievalConfig"]);return r!=null&&T(e,["retrievalConfig"],r),e}function Ine(t){const e={},n=v(t,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(p=>p)),T(e,["functionDeclarations"],d)}if(v(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=v(t,["googleSearchRetrieval"]);r!=null&&T(e,["googleSearchRetrieval"],r);const s=v(t,["computerUse"]);s!=null&&T(e,["computerUse"],s);const i=v(t,["fileSearch"]);i!=null&&T(e,["fileSearch"],i);const a=v(t,["codeExecution"]);if(a!=null&&T(e,["codeExecution"],a),v(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=v(t,["googleMaps"]);o!=null&&T(e,["googleMaps"],mne(o));const c=v(t,["googleSearch"]);c!=null&&T(e,["googleSearch"],gne(c));const f=v(t,["urlContext"]);return f!=null&&T(e,["urlContext"],f),e}var Fu;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(Fu||(Fu={}));class bh{constructor(e,n,r,s){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,s)}init(e,n,r){var s,i;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n?.sdkHttpResponse,this.idxInternal=0;let a={config:{}};!r||Object.keys(r).length===0?a={config:{}}:typeof r=="object"?a=Object.assign({},r):a=r,a.config&&(a.config.pageToken=n.nextPageToken),this.paramsInternal=a,this.pageInternalSize=(i=(s=a.config)===null||s===void 0?void 0:s.pageSize)!==null&&i!==void 0?i:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}class kne extends ju{constructor(e){super(),this.apiClient=e,this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)},this.list=async(n={})=>new bh(Fu.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n)}createInlinedGenerateContentRequest(e){const n=e6(this.apiClient,e),r=n._url,s=Ut("{model}:batchGenerateContent",r),o=n.batch.inputConfig.requests,c=o.requests,f=[];for(const d of c){const p=Object.assign({},d);if(p.systemInstruction){const g=p.systemInstruction;delete p.systemInstruction;const y=p.request;y.systemInstruction=g,p.request=y}f.push(p)}return o.requests=f,delete n.config,delete n._url,delete n._query,{path:s,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},s=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${s}`),r.dest===void 0){const i=this.getGcsUri(e),a=this.getBigqueryUri(e);if(i)i.endsWith(".jsonl")?r.dest=`${i.slice(0,-6)}/dest`:r.dest=`${i}_dest_${s}`;else if(a)r.dest=`${a}_dest_${s}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,s,i;let a,o="",c={};if(this.apiClient.isVertexAI()){const f=Qte(this.apiClient,e);return o=Ut("batchPredictionJobs",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>G5(d))}else{const f=e6(this.apiClient,e);return o=Ut("{model}:batchGenerateContent",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),a.then(d=>Ly(d))}}async createEmbeddingsInternal(e){var n,r;let s,i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=ene(this.apiClient,e);return i=Ut("{model}:asyncBatchEmbedContent",o._url),a=o._query,delete o._url,delete o._query,s=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>Ly(c))}}async get(e){var n,r,s,i;let a,o="",c={};if(this.apiClient.isVertexAI()){const f=pne(this.apiClient,e);return o=Ut("batchPredictionJobs/{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>G5(d))}else{const f=hne(this.apiClient,e);return o=Ut("batches/{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),a.then(d=>Ly(d))}}async cancel(e){var n,r,s,i;let a="",o={};if(this.apiClient.isVertexAI()){const c=$te(this.apiClient,e);a=Ut("batchPredictionJobs/{name}:cancel",c._url),o=c._query,delete c._url,delete c._query,await this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const c=Wte(this.apiClient,e);a=Ut("batches/{name}:cancel",c._url),o=c._query,delete c._url,delete c._query,await this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var n,r,s,i;let a,o="",c={};if(this.apiClient.isVertexAI()){const f=Tne(e);return o=Ut("batchPredictionJobs",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const p=Sne(d),g=new Xk;return Object.assign(g,p),g})}else{const f=wne(e);return o=Ut("batches",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const p=Ene(d),g=new Xk;return Object.assign(g,p),g})}}async delete(e){var n,r,s,i;let a,o="",c={};if(this.apiClient.isVertexAI()){const f=nne(this.apiClient,e);return o=Ut("batchPredictionJobs/{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>sne(d))}else{const f=tne(this.apiClient,e);return o=Ut("batches/{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>rne(d))}}}function Rne(t){const e={},n=v(t,["data"]);if(n!=null&&T(e,["data"],n),v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=v(t,["mimeType"]);return r!=null&&T(e,["mimeType"],r),e}function t6(t){const e={},n=v(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(i=>ere(i))),T(e,["parts"],s)}const r=v(t,["role"]);return r!=null&&T(e,["role"],r),e}function Pne(t,e){const n={},r=v(t,["ttl"]);e!==void 0&&r!=null&&T(e,["ttl"],r);const s=v(t,["expireTime"]);e!==void 0&&s!=null&&T(e,["expireTime"],s);const i=v(t,["displayName"]);e!==void 0&&i!=null&&T(e,["displayName"],i);const a=v(t,["contents"]);if(e!==void 0&&a!=null){let d=ml(a);Array.isArray(d)&&(d=d.map(p=>t6(p))),T(e,["contents"],d)}const o=v(t,["systemInstruction"]);e!==void 0&&o!=null&&T(e,["systemInstruction"],t6(Aa(o)));const c=v(t,["tools"]);if(e!==void 0&&c!=null){let d=c;Array.isArray(d)&&(d=d.map(p=>nre(p))),T(e,["tools"],d)}const f=v(t,["toolConfig"]);if(e!==void 0&&f!=null&&T(e,["toolConfig"],tre(f)),v(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function Dne(t,e){const n={},r=v(t,["ttl"]);e!==void 0&&r!=null&&T(e,["ttl"],r);const s=v(t,["expireTime"]);e!==void 0&&s!=null&&T(e,["expireTime"],s);const i=v(t,["displayName"]);e!==void 0&&i!=null&&T(e,["displayName"],i);const a=v(t,["contents"]);if(e!==void 0&&a!=null){let p=ml(a);Array.isArray(p)&&(p=p.map(g=>g)),T(e,["contents"],p)}const o=v(t,["systemInstruction"]);e!==void 0&&o!=null&&T(e,["systemInstruction"],Aa(o));const c=v(t,["tools"]);if(e!==void 0&&c!=null){let p=c;Array.isArray(p)&&(p=p.map(g=>rre(g))),T(e,["tools"],p)}const f=v(t,["toolConfig"]);e!==void 0&&f!=null&&T(e,["toolConfig"],f);const d=v(t,["kmsKeyName"]);return e!==void 0&&d!=null&&T(e,["encryption_spec","kmsKeyName"],d),n}function Mne(t,e){const n={},r=v(e,["model"]);r!=null&&T(n,["model"],L7(t,r));const s=v(e,["config"]);return s!=null&&Pne(s,n),n}function Lne(t,e){const n={},r=v(e,["model"]);r!=null&&T(n,["model"],L7(t,r));const s=v(e,["config"]);return s!=null&&Dne(s,n),n}function Fne(t,e){const n={},r=v(e,["name"]);return r!=null&&T(n,["_url","name"],qu(t,r)),n}function One(t,e){const n={},r=v(e,["name"]);return r!=null&&T(n,["_url","name"],qu(t,r)),n}function Bne(t){const e={},n=v(t,["sdkHttpResponse"]);return n!=null&&T(e,["sdkHttpResponse"],n),e}function Vne(t){const e={},n=v(t,["sdkHttpResponse"]);return n!=null&&T(e,["sdkHttpResponse"],n),e}function Une(t){const e={};if(v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(t,["fileUri"]);n!=null&&T(e,["fileUri"],n);const r=v(t,["mimeType"]);return r!=null&&T(e,["mimeType"],r),e}function jne(t){const e={},n=v(t,["id"]);n!=null&&T(e,["id"],n);const r=v(t,["args"]);r!=null&&T(e,["args"],r);const s=v(t,["name"]);if(s!=null&&T(e,["name"],s),v(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(v(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function qne(t){const e={},n=v(t,["mode"]);n!=null&&T(e,["mode"],n);const r=v(t,["allowedFunctionNames"]);if(r!=null&&T(e,["allowedFunctionNames"],r),v(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Hne(t){const e={};if(v(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=v(t,["description"]);n!=null&&T(e,["description"],n);const r=v(t,["name"]);r!=null&&T(e,["name"],r);const s=v(t,["parameters"]);s!=null&&T(e,["parameters"],s);const i=v(t,["parametersJsonSchema"]);i!=null&&T(e,["parametersJsonSchema"],i);const a=v(t,["response"]);a!=null&&T(e,["response"],a);const o=v(t,["responseJsonSchema"]);return o!=null&&T(e,["responseJsonSchema"],o),e}function zne(t,e){const n={},r=v(e,["name"]);return r!=null&&T(n,["_url","name"],qu(t,r)),n}function Gne(t,e){const n={},r=v(e,["name"]);return r!=null&&T(n,["_url","name"],qu(t,r)),n}function Wne(t){const e={};if(v(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=v(t,["enableWidget"]);return n!=null&&T(e,["enableWidget"],n),e}function $ne(t){const e={};if(v(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(v(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=v(t,["timeRangeFilter"]);return n!=null&&T(e,["timeRangeFilter"],n),e}function Kne(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&T(e,["_query","pageSize"],r);const s=v(t,["pageToken"]);return e!==void 0&&s!=null&&T(e,["_query","pageToken"],s),n}function Yne(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&T(e,["_query","pageSize"],r);const s=v(t,["pageToken"]);return e!==void 0&&s!=null&&T(e,["_query","pageToken"],s),n}function Xne(t){const e={},n=v(t,["config"]);return n!=null&&Kne(n,e),e}function Jne(t){const e={},n=v(t,["config"]);return n!=null&&Yne(n,e),e}function Qne(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&T(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&T(e,["nextPageToken"],r);const s=v(t,["cachedContents"]);if(s!=null){let i=s;Array.isArray(i)&&(i=i.map(a=>a)),T(e,["cachedContents"],i)}return e}function Zne(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&T(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&T(e,["nextPageToken"],r);const s=v(t,["cachedContents"]);if(s!=null){let i=s;Array.isArray(i)&&(i=i.map(a=>a)),T(e,["cachedContents"],i)}return e}function ere(t){const e={},n=v(t,["mediaResolution"]);n!=null&&T(e,["mediaResolution"],n);const r=v(t,["codeExecutionResult"]);r!=null&&T(e,["codeExecutionResult"],r);const s=v(t,["executableCode"]);s!=null&&T(e,["executableCode"],s);const i=v(t,["fileData"]);i!=null&&T(e,["fileData"],Une(i));const a=v(t,["functionCall"]);a!=null&&T(e,["functionCall"],jne(a));const o=v(t,["functionResponse"]);o!=null&&T(e,["functionResponse"],o);const c=v(t,["inlineData"]);c!=null&&T(e,["inlineData"],Rne(c));const f=v(t,["text"]);f!=null&&T(e,["text"],f);const d=v(t,["thought"]);d!=null&&T(e,["thought"],d);const p=v(t,["thoughtSignature"]);p!=null&&T(e,["thoughtSignature"],p);const g=v(t,["videoMetadata"]);return g!=null&&T(e,["videoMetadata"],g),e}function tre(t){const e={},n=v(t,["functionCallingConfig"]);n!=null&&T(e,["functionCallingConfig"],qne(n));const r=v(t,["retrievalConfig"]);return r!=null&&T(e,["retrievalConfig"],r),e}function nre(t){const e={},n=v(t,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(p=>p)),T(e,["functionDeclarations"],d)}if(v(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=v(t,["googleSearchRetrieval"]);r!=null&&T(e,["googleSearchRetrieval"],r);const s=v(t,["computerUse"]);s!=null&&T(e,["computerUse"],s);const i=v(t,["fileSearch"]);i!=null&&T(e,["fileSearch"],i);const a=v(t,["codeExecution"]);if(a!=null&&T(e,["codeExecution"],a),v(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=v(t,["googleMaps"]);o!=null&&T(e,["googleMaps"],Wne(o));const c=v(t,["googleSearch"]);c!=null&&T(e,["googleSearch"],$ne(c));const f=v(t,["urlContext"]);return f!=null&&T(e,["urlContext"],f),e}function rre(t){const e={},n=v(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(g=>Hne(g))),T(e,["functionDeclarations"],p)}const r=v(t,["retrieval"]);r!=null&&T(e,["retrieval"],r);const s=v(t,["googleSearchRetrieval"]);s!=null&&T(e,["googleSearchRetrieval"],s);const i=v(t,["computerUse"]);if(i!=null&&T(e,["computerUse"],i),v(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=v(t,["codeExecution"]);a!=null&&T(e,["codeExecution"],a);const o=v(t,["enterpriseWebSearch"]);o!=null&&T(e,["enterpriseWebSearch"],o);const c=v(t,["googleMaps"]);c!=null&&T(e,["googleMaps"],c);const f=v(t,["googleSearch"]);f!=null&&T(e,["googleSearch"],f);const d=v(t,["urlContext"]);return d!=null&&T(e,["urlContext"],d),e}function sre(t,e){const n={},r=v(t,["ttl"]);e!==void 0&&r!=null&&T(e,["ttl"],r);const s=v(t,["expireTime"]);return e!==void 0&&s!=null&&T(e,["expireTime"],s),n}function ire(t,e){const n={},r=v(t,["ttl"]);e!==void 0&&r!=null&&T(e,["ttl"],r);const s=v(t,["expireTime"]);return e!==void 0&&s!=null&&T(e,["expireTime"],s),n}function are(t,e){const n={},r=v(e,["name"]);r!=null&&T(n,["_url","name"],qu(t,r));const s=v(e,["config"]);return s!=null&&sre(s,n),n}function ore(t,e){const n={},r=v(e,["name"]);r!=null&&T(n,["_url","name"],qu(t,r));const s=v(e,["config"]);return s!=null&&ire(s,n),n}class lre extends ju{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new bh(Fu.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,s,i;let a,o="",c={};if(this.apiClient.isVertexAI()){const f=Lne(this.apiClient,e);return o=Ut("cachedContents",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>d)}else{const f=Mne(this.apiClient,e);return o=Ut("cachedContents",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),a.then(d=>d)}}async get(e){var n,r,s,i;let a,o="",c={};if(this.apiClient.isVertexAI()){const f=Gne(this.apiClient,e);return o=Ut("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>d)}else{const f=zne(this.apiClient,e);return o=Ut("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),a.then(d=>d)}}async delete(e){var n,r,s,i;let a,o="",c={};if(this.apiClient.isVertexAI()){const f=One(this.apiClient,e);return o=Ut("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const p=Vne(d),g=new Kk;return Object.assign(g,p),g})}else{const f=Fne(this.apiClient,e);return o=Ut("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const p=Bne(d),g=new Kk;return Object.assign(g,p),g})}}async update(e){var n,r,s,i;let a,o="",c={};if(this.apiClient.isVertexAI()){const f=ore(this.apiClient,e);return o=Ut("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>d)}else{const f=are(this.apiClient,e);return o=Ut("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),a.then(d=>d)}}async listInternal(e){var n,r,s,i;let a,o="",c={};if(this.apiClient.isVertexAI()){const f=Jne(e);return o=Ut("cachedContents",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const p=Zne(d),g=new Yk;return Object.assign(g,p),g})}else{const f=Xne(e);return o=Ut("cachedContents",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const p=Qne(d),g=new Yk;return Object.assign(g,p),g})}}}function n6(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ds(t){return this instanceof ds?(this.v=t,this):new ds(t)}function tp(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",a),s[Symbol.asyncIterator]=function(){return this},s;function a(y){return function(E){return Promise.resolve(E).then(y,p)}}function o(y,E){r[y]&&(s[y]=function(b){return new Promise(function(A,N){i.push([y,b,A,N])>1||c(y,b)})},E&&(s[y]=E(s[y])))}function c(y,E){try{f(r[y](E))}catch(b){g(i[0][3],b)}}function f(y){y.value instanceof ds?Promise.resolve(y.value.v).then(d,p):g(i[0][2],y)}function d(y){c("next",y)}function p(y){c("throw",y)}function g(y,E){y(E),i.shift(),i.length&&c(i[0][0],i[0][1])}}function gg(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof n6=="function"?n6(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=t[i]&&function(a){return new Promise(function(o,c){a=t[i](a),s(o,c,a.done,a.value)})}}function s(i,a,o,c){Promise.resolve(c).then(function(f){i({value:f,done:o})},a)}}function cre(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:K7(n)}function K7(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function ure(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function r6(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const s=[];let i=!0;for(;r<n&&t[r].role==="model";)s.push(t[r]),i&&!K7(t[r])&&(i=!1),r++;i?e.push(...s):e.pop()}return e}class fre{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new dre(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class dre{constructor(e,n,r,s={},i=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=s,this.history=i,this.sendPromise=Promise.resolve(),ure(i)}async sendMessage(e){var n;await this.sendPromise;const r=Aa(e.message),s=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var i,a,o;const c=await s,f=(a=(i=c.candidates)===null||i===void 0?void 0:i[0])===null||a===void 0?void 0:a.content,d=c.automaticFunctionCallingHistory,p=this.getHistory(!0).length;let g=[];d!=null&&(g=(o=d.slice(p))!==null&&o!==void 0?o:[]);const y=f?[f]:[];this.recordHistory(r,y,g)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),s}async sendMessageStream(e){var n;await this.sendPromise;const r=Aa(e.message),s=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=s.then(()=>{}).catch(()=>{});const i=await s;return this.processStreamResponse(i,r)}getHistory(e=!1){const n=e?r6(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var r,s;return tp(this,arguments,function*(){var a,o,c,f;const d=[];try{for(var p=!0,g=gg(e),y;y=yield ds(g.next()),a=y.done,!a;p=!0){f=y.value,p=!1;const E=f;if(cre(E)){const b=(s=(r=E.candidates)===null||r===void 0?void 0:r[0])===null||s===void 0?void 0:s.content;b!==void 0&&d.push(b)}yield yield ds(E)}}catch(E){o={error:E}}finally{try{!p&&!a&&(c=g.return)&&(yield ds(c.call(g)))}finally{if(o)throw o.error}}this.recordHistory(n,d)})}recordHistory(e,n,r){let s=[];n.length>0&&n.every(i=>i.role!==void 0)?s=n:s.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...r6(r)):this.history.push(e),this.history.push(...s)}}class Tv extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Tv.prototype)}}function hre(t){const e={},n=v(t,["file"]);return n!=null&&T(e,["file"],n),e}function pre(t){const e={},n=v(t,["sdkHttpResponse"]);return n!=null&&T(e,["sdkHttpResponse"],n),e}function mre(t){const e={},n=v(t,["name"]);return n!=null&&T(e,["_url","file"],j7(n)),e}function gre(t){const e={},n=v(t,["sdkHttpResponse"]);return n!=null&&T(e,["sdkHttpResponse"],n),e}function xre(t){const e={},n=v(t,["name"]);return n!=null&&T(e,["_url","file"],j7(n)),e}function yre(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&T(e,["_query","pageSize"],r);const s=v(t,["pageToken"]);return e!==void 0&&s!=null&&T(e,["_query","pageToken"],s),n}function vre(t){const e={},n=v(t,["config"]);return n!=null&&yre(n,e),e}function _re(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&T(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&T(e,["nextPageToken"],r);const s=v(t,["files"]);if(s!=null){let i=s;Array.isArray(i)&&(i=i.map(a=>a)),T(e,["files"],i)}return e}class bre extends ju{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new bh(Fu.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let s,i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=vre(e);return i=Ut("files",o._url),a=o._query,delete o._url,delete o._query,s=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const f=_re(c),d=new Ste;return Object.assign(d,f),d})}}async createInternal(e){var n,r;let s,i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=hre(e);return i=Ut("upload/v1beta/files",o._url),a=o._query,delete o._url,delete o._query,s=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>{const f=pre(c),d=new Ate;return Object.assign(d,f),d})}}async get(e){var n,r;let s,i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=xre(e);return i=Ut("files/{file}",o._url),a=o._query,delete o._url,delete o._query,s=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>c)}}async delete(e){var n,r;let s,i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=mre(e);return i=Ut("files/{file}",o._url),a=o._query,delete o._url,delete o._query,s=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const f=gre(c),d=new Cte;return Object.assign(d,f),d})}}}function Fy(t){const e={},n=v(t,["data"]);if(n!=null&&T(e,["data"],n),v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=v(t,["mimeType"]);return r!=null&&T(e,["mimeType"],r),e}function wre(t){const e={},n=v(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(i=>Bre(i))),T(e,["parts"],s)}const r=v(t,["role"]);return r!=null&&T(e,["role"],r),e}function Tre(t){const e={};if(v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(t,["fileUri"]);n!=null&&T(e,["fileUri"],n);const r=v(t,["mimeType"]);return r!=null&&T(e,["mimeType"],r),e}function Ere(t){const e={},n=v(t,["id"]);n!=null&&T(e,["id"],n);const r=v(t,["args"]);r!=null&&T(e,["args"],r);const s=v(t,["name"]);if(s!=null&&T(e,["name"],s),v(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(v(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Sre(t){const e={};if(v(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=v(t,["description"]);n!=null&&T(e,["description"],n);const r=v(t,["name"]);r!=null&&T(e,["name"],r);const s=v(t,["parameters"]);s!=null&&T(e,["parameters"],s);const i=v(t,["parametersJsonSchema"]);i!=null&&T(e,["parametersJsonSchema"],i);const a=v(t,["response"]);a!=null&&T(e,["response"],a);const o=v(t,["responseJsonSchema"]);return o!=null&&T(e,["responseJsonSchema"],o),e}function Are(t){const e={},n=v(t,["modelSelectionConfig"]);n!=null&&T(e,["modelConfig"],n);const r=v(t,["responseJsonSchema"]);r!=null&&T(e,["responseJsonSchema"],r);const s=v(t,["audioTimestamp"]);s!=null&&T(e,["audioTimestamp"],s);const i=v(t,["candidateCount"]);i!=null&&T(e,["candidateCount"],i);const a=v(t,["enableAffectiveDialog"]);a!=null&&T(e,["enableAffectiveDialog"],a);const o=v(t,["frequencyPenalty"]);o!=null&&T(e,["frequencyPenalty"],o);const c=v(t,["logprobs"]);c!=null&&T(e,["logprobs"],c);const f=v(t,["maxOutputTokens"]);f!=null&&T(e,["maxOutputTokens"],f);const d=v(t,["mediaResolution"]);d!=null&&T(e,["mediaResolution"],d);const p=v(t,["presencePenalty"]);p!=null&&T(e,["presencePenalty"],p);const g=v(t,["responseLogprobs"]);g!=null&&T(e,["responseLogprobs"],g);const y=v(t,["responseMimeType"]);y!=null&&T(e,["responseMimeType"],y);const E=v(t,["responseModalities"]);E!=null&&T(e,["responseModalities"],E);const b=v(t,["responseSchema"]);b!=null&&T(e,["responseSchema"],b);const A=v(t,["routingConfig"]);A!=null&&T(e,["routingConfig"],A);const N=v(t,["seed"]);N!=null&&T(e,["seed"],N);const V=v(t,["speechConfig"]);V!=null&&T(e,["speechConfig"],Y7(V));const k=v(t,["stopSequences"]);k!=null&&T(e,["stopSequences"],k);const B=v(t,["temperature"]);B!=null&&T(e,["temperature"],B);const W=v(t,["thinkingConfig"]);W!=null&&T(e,["thinkingConfig"],W);const K=v(t,["topK"]);K!=null&&T(e,["topK"],K);const D=v(t,["topP"]);if(D!=null&&T(e,["topP"],D),v(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function Cre(t){const e={};if(v(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=v(t,["enableWidget"]);return n!=null&&T(e,["enableWidget"],n),e}function Nre(t){const e={};if(v(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(v(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=v(t,["timeRangeFilter"]);return n!=null&&T(e,["timeRangeFilter"],n),e}function Ire(t,e){const n={},r=v(t,["generationConfig"]);e!==void 0&&r!=null&&T(e,["setup","generationConfig"],r);const s=v(t,["responseModalities"]);e!==void 0&&s!=null&&T(e,["setup","generationConfig","responseModalities"],s);const i=v(t,["temperature"]);e!==void 0&&i!=null&&T(e,["setup","generationConfig","temperature"],i);const a=v(t,["topP"]);e!==void 0&&a!=null&&T(e,["setup","generationConfig","topP"],a);const o=v(t,["topK"]);e!==void 0&&o!=null&&T(e,["setup","generationConfig","topK"],o);const c=v(t,["maxOutputTokens"]);e!==void 0&&c!=null&&T(e,["setup","generationConfig","maxOutputTokens"],c);const f=v(t,["mediaResolution"]);e!==void 0&&f!=null&&T(e,["setup","generationConfig","mediaResolution"],f);const d=v(t,["seed"]);e!==void 0&&d!=null&&T(e,["setup","generationConfig","seed"],d);const p=v(t,["speechConfig"]);e!==void 0&&p!=null&&T(e,["setup","generationConfig","speechConfig"],pS(p));const g=v(t,["thinkingConfig"]);e!==void 0&&g!=null&&T(e,["setup","generationConfig","thinkingConfig"],g);const y=v(t,["enableAffectiveDialog"]);e!==void 0&&y!=null&&T(e,["setup","generationConfig","enableAffectiveDialog"],y);const E=v(t,["systemInstruction"]);e!==void 0&&E!=null&&T(e,["setup","systemInstruction"],wre(Aa(E)));const b=v(t,["tools"]);if(e!==void 0&&b!=null){let K=qp(b);Array.isArray(K)&&(K=K.map(D=>Ure(jp(D)))),T(e,["setup","tools"],K)}const A=v(t,["sessionResumption"]);e!==void 0&&A!=null&&T(e,["setup","sessionResumption"],Vre(A));const N=v(t,["inputAudioTranscription"]);e!==void 0&&N!=null&&T(e,["setup","inputAudioTranscription"],N);const V=v(t,["outputAudioTranscription"]);e!==void 0&&V!=null&&T(e,["setup","outputAudioTranscription"],V);const k=v(t,["realtimeInputConfig"]);e!==void 0&&k!=null&&T(e,["setup","realtimeInputConfig"],k);const B=v(t,["contextWindowCompression"]);e!==void 0&&B!=null&&T(e,["setup","contextWindowCompression"],B);const W=v(t,["proactivity"]);return e!==void 0&&W!=null&&T(e,["setup","proactivity"],W),n}function kre(t,e){const n={},r=v(t,["generationConfig"]);e!==void 0&&r!=null&&T(e,["setup","generationConfig"],Are(r));const s=v(t,["responseModalities"]);e!==void 0&&s!=null&&T(e,["setup","generationConfig","responseModalities"],s);const i=v(t,["temperature"]);e!==void 0&&i!=null&&T(e,["setup","generationConfig","temperature"],i);const a=v(t,["topP"]);e!==void 0&&a!=null&&T(e,["setup","generationConfig","topP"],a);const o=v(t,["topK"]);e!==void 0&&o!=null&&T(e,["setup","generationConfig","topK"],o);const c=v(t,["maxOutputTokens"]);e!==void 0&&c!=null&&T(e,["setup","generationConfig","maxOutputTokens"],c);const f=v(t,["mediaResolution"]);e!==void 0&&f!=null&&T(e,["setup","generationConfig","mediaResolution"],f);const d=v(t,["seed"]);e!==void 0&&d!=null&&T(e,["setup","generationConfig","seed"],d);const p=v(t,["speechConfig"]);e!==void 0&&p!=null&&T(e,["setup","generationConfig","speechConfig"],Y7(pS(p)));const g=v(t,["thinkingConfig"]);e!==void 0&&g!=null&&T(e,["setup","generationConfig","thinkingConfig"],g);const y=v(t,["enableAffectiveDialog"]);e!==void 0&&y!=null&&T(e,["setup","generationConfig","enableAffectiveDialog"],y);const E=v(t,["systemInstruction"]);e!==void 0&&E!=null&&T(e,["setup","systemInstruction"],Aa(E));const b=v(t,["tools"]);if(e!==void 0&&b!=null){let K=qp(b);Array.isArray(K)&&(K=K.map(D=>jre(jp(D)))),T(e,["setup","tools"],K)}const A=v(t,["sessionResumption"]);e!==void 0&&A!=null&&T(e,["setup","sessionResumption"],A);const N=v(t,["inputAudioTranscription"]);e!==void 0&&N!=null&&T(e,["setup","inputAudioTranscription"],N);const V=v(t,["outputAudioTranscription"]);e!==void 0&&V!=null&&T(e,["setup","outputAudioTranscription"],V);const k=v(t,["realtimeInputConfig"]);e!==void 0&&k!=null&&T(e,["setup","realtimeInputConfig"],k);const B=v(t,["contextWindowCompression"]);e!==void 0&&B!=null&&T(e,["setup","contextWindowCompression"],B);const W=v(t,["proactivity"]);return e!==void 0&&W!=null&&T(e,["setup","proactivity"],W),n}function Rre(t,e){const n={},r=v(e,["model"]);r!=null&&T(n,["setup","model"],kr(t,r));const s=v(e,["config"]);return s!=null&&T(n,["config"],Ire(s,n)),n}function Pre(t,e){const n={},r=v(e,["model"]);r!=null&&T(n,["setup","model"],kr(t,r));const s=v(e,["config"]);return s!=null&&T(n,["config"],kre(s,n)),n}function Dre(t){const e={},n=v(t,["musicGenerationConfig"]);return n!=null&&T(e,["musicGenerationConfig"],n),e}function Mre(t){const e={},n=v(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>s)),T(e,["weightedPrompts"],r)}return e}function Lre(t){const e={},n=v(t,["media"]);if(n!=null){let f=F7(n);Array.isArray(f)&&(f=f.map(d=>Fy(d))),T(e,["mediaChunks"],f)}const r=v(t,["audio"]);r!=null&&T(e,["audio"],Fy(B7(r)));const s=v(t,["audioStreamEnd"]);s!=null&&T(e,["audioStreamEnd"],s);const i=v(t,["video"]);i!=null&&T(e,["video"],Fy(O7(i)));const a=v(t,["text"]);a!=null&&T(e,["text"],a);const o=v(t,["activityStart"]);o!=null&&T(e,["activityStart"],o);const c=v(t,["activityEnd"]);return c!=null&&T(e,["activityEnd"],c),e}function Fre(t){const e={},n=v(t,["media"]);if(n!=null){let f=F7(n);Array.isArray(f)&&(f=f.map(d=>d)),T(e,["mediaChunks"],f)}const r=v(t,["audio"]);r!=null&&T(e,["audio"],B7(r));const s=v(t,["audioStreamEnd"]);s!=null&&T(e,["audioStreamEnd"],s);const i=v(t,["video"]);i!=null&&T(e,["video"],O7(i));const a=v(t,["text"]);a!=null&&T(e,["text"],a);const o=v(t,["activityStart"]);o!=null&&T(e,["activityStart"],o);const c=v(t,["activityEnd"]);return c!=null&&T(e,["activityEnd"],c),e}function Ore(t){const e={},n=v(t,["setupComplete"]);n!=null&&T(e,["setupComplete"],n);const r=v(t,["serverContent"]);r!=null&&T(e,["serverContent"],r);const s=v(t,["toolCall"]);s!=null&&T(e,["toolCall"],s);const i=v(t,["toolCallCancellation"]);i!=null&&T(e,["toolCallCancellation"],i);const a=v(t,["usageMetadata"]);a!=null&&T(e,["usageMetadata"],qre(a));const o=v(t,["goAway"]);o!=null&&T(e,["goAway"],o);const c=v(t,["sessionResumptionUpdate"]);return c!=null&&T(e,["sessionResumptionUpdate"],c),e}function Bre(t){const e={},n=v(t,["mediaResolution"]);n!=null&&T(e,["mediaResolution"],n);const r=v(t,["codeExecutionResult"]);r!=null&&T(e,["codeExecutionResult"],r);const s=v(t,["executableCode"]);s!=null&&T(e,["executableCode"],s);const i=v(t,["fileData"]);i!=null&&T(e,["fileData"],Tre(i));const a=v(t,["functionCall"]);a!=null&&T(e,["functionCall"],Ere(a));const o=v(t,["functionResponse"]);o!=null&&T(e,["functionResponse"],o);const c=v(t,["inlineData"]);c!=null&&T(e,["inlineData"],Fy(c));const f=v(t,["text"]);f!=null&&T(e,["text"],f);const d=v(t,["thought"]);d!=null&&T(e,["thought"],d);const p=v(t,["thoughtSignature"]);p!=null&&T(e,["thoughtSignature"],p);const g=v(t,["videoMetadata"]);return g!=null&&T(e,["videoMetadata"],g),e}function Vre(t){const e={},n=v(t,["handle"]);if(n!=null&&T(e,["handle"],n),v(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Y7(t){const e={},n=v(t,["languageCode"]);n!=null&&T(e,["languageCode"],n);const r=v(t,["voiceConfig"]);if(r!=null&&T(e,["voiceConfig"],r),v(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function Ure(t){const e={},n=v(t,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(p=>p)),T(e,["functionDeclarations"],d)}if(v(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=v(t,["googleSearchRetrieval"]);r!=null&&T(e,["googleSearchRetrieval"],r);const s=v(t,["computerUse"]);s!=null&&T(e,["computerUse"],s);const i=v(t,["fileSearch"]);i!=null&&T(e,["fileSearch"],i);const a=v(t,["codeExecution"]);if(a!=null&&T(e,["codeExecution"],a),v(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=v(t,["googleMaps"]);o!=null&&T(e,["googleMaps"],Cre(o));const c=v(t,["googleSearch"]);c!=null&&T(e,["googleSearch"],Nre(c));const f=v(t,["urlContext"]);return f!=null&&T(e,["urlContext"],f),e}function jre(t){const e={},n=v(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(g=>Sre(g))),T(e,["functionDeclarations"],p)}const r=v(t,["retrieval"]);r!=null&&T(e,["retrieval"],r);const s=v(t,["googleSearchRetrieval"]);s!=null&&T(e,["googleSearchRetrieval"],s);const i=v(t,["computerUse"]);if(i!=null&&T(e,["computerUse"],i),v(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=v(t,["codeExecution"]);a!=null&&T(e,["codeExecution"],a);const o=v(t,["enterpriseWebSearch"]);o!=null&&T(e,["enterpriseWebSearch"],o);const c=v(t,["googleMaps"]);c!=null&&T(e,["googleMaps"],c);const f=v(t,["googleSearch"]);f!=null&&T(e,["googleSearch"],f);const d=v(t,["urlContext"]);return d!=null&&T(e,["urlContext"],d),e}function qre(t){const e={},n=v(t,["promptTokenCount"]);n!=null&&T(e,["promptTokenCount"],n);const r=v(t,["cachedContentTokenCount"]);r!=null&&T(e,["cachedContentTokenCount"],r);const s=v(t,["candidatesTokenCount"]);s!=null&&T(e,["responseTokenCount"],s);const i=v(t,["toolUsePromptTokenCount"]);i!=null&&T(e,["toolUsePromptTokenCount"],i);const a=v(t,["thoughtsTokenCount"]);a!=null&&T(e,["thoughtsTokenCount"],a);const o=v(t,["totalTokenCount"]);o!=null&&T(e,["totalTokenCount"],o);const c=v(t,["promptTokensDetails"]);if(c!=null){let y=c;Array.isArray(y)&&(y=y.map(E=>E)),T(e,["promptTokensDetails"],y)}const f=v(t,["cacheTokensDetails"]);if(f!=null){let y=f;Array.isArray(y)&&(y=y.map(E=>E)),T(e,["cacheTokensDetails"],y)}const d=v(t,["candidatesTokensDetails"]);if(d!=null){let y=d;Array.isArray(y)&&(y=y.map(E=>E)),T(e,["responseTokensDetails"],y)}const p=v(t,["toolUsePromptTokensDetails"]);if(p!=null){let y=p;Array.isArray(y)&&(y=y.map(E=>E)),T(e,["toolUsePromptTokensDetails"],y)}const g=v(t,["trafficType"]);return g!=null&&T(e,["trafficType"],g),e}function Hre(t){const e={},n=v(t,["data"]);if(n!=null&&T(e,["data"],n),v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=v(t,["mimeType"]);return r!=null&&T(e,["mimeType"],r),e}function zre(t){const e={},n=v(t,["content"]);n!=null&&T(e,["content"],n);const r=v(t,["citationMetadata"]);r!=null&&T(e,["citationMetadata"],Gre(r));const s=v(t,["tokenCount"]);s!=null&&T(e,["tokenCount"],s);const i=v(t,["finishReason"]);i!=null&&T(e,["finishReason"],i);const a=v(t,["avgLogprobs"]);a!=null&&T(e,["avgLogprobs"],a);const o=v(t,["groundingMetadata"]);o!=null&&T(e,["groundingMetadata"],o);const c=v(t,["index"]);c!=null&&T(e,["index"],c);const f=v(t,["logprobsResult"]);f!=null&&T(e,["logprobsResult"],f);const d=v(t,["safetyRatings"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(y=>y)),T(e,["safetyRatings"],g)}const p=v(t,["urlContextMetadata"]);return p!=null&&T(e,["urlContextMetadata"],p),e}function Gre(t){const e={},n=v(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>s)),T(e,["citations"],r)}return e}function Wre(t,e){const n={},r=v(e,["model"]);r!=null&&T(n,["_url","model"],kr(t,r));const s=v(e,["contents"]);if(s!=null){let i=ml(s);Array.isArray(i)&&(i=i.map(a=>a)),T(n,["contents"],i)}return n}function $re(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&T(e,["sdkHttpResponse"],n);const r=v(t,["tokensInfo"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(i=>i)),T(e,["tokensInfo"],s)}return e}function Kre(t){const e={},n=v(t,["values"]);n!=null&&T(e,["values"],n);const r=v(t,["statistics"]);return r!=null&&T(e,["statistics"],Yre(r)),e}function Yre(t){const e={},n=v(t,["truncated"]);n!=null&&T(e,["truncated"],n);const r=v(t,["token_count"]);return r!=null&&T(e,["tokenCount"],r),e}function Ev(t){const e={},n=v(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(i=>sie(i))),T(e,["parts"],s)}const r=v(t,["role"]);return r!=null&&T(e,["role"],r),e}function Xre(t){const e={},n=v(t,["controlType"]);n!=null&&T(e,["controlType"],n);const r=v(t,["enableControlImageComputation"]);return r!=null&&T(e,["computeControl"],r),e}function Jre(t){const e={};if(v(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(v(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(v(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function Qre(t,e){const n={},r=v(t,["systemInstruction"]);e!==void 0&&r!=null&&T(e,["systemInstruction"],Aa(r));const s=v(t,["tools"]);if(e!==void 0&&s!=null){let a=s;Array.isArray(a)&&(a=a.map(o=>eO(o))),T(e,["tools"],a)}const i=v(t,["generationConfig"]);return e!==void 0&&i!=null&&T(e,["generationConfig"],Hse(i)),n}function Zre(t,e){const n={},r=v(e,["model"]);r!=null&&T(n,["_url","model"],kr(t,r));const s=v(e,["contents"]);if(s!=null){let a=ml(s);Array.isArray(a)&&(a=a.map(o=>Ev(o))),T(n,["contents"],a)}const i=v(e,["config"]);return i!=null&&Jre(i),n}function ese(t,e){const n={},r=v(e,["model"]);r!=null&&T(n,["_url","model"],kr(t,r));const s=v(e,["contents"]);if(s!=null){let a=ml(s);Array.isArray(a)&&(a=a.map(o=>o)),T(n,["contents"],a)}const i=v(e,["config"]);return i!=null&&Qre(i,n),n}function tse(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&T(e,["sdkHttpResponse"],n);const r=v(t,["totalTokens"]);r!=null&&T(e,["totalTokens"],r);const s=v(t,["cachedContentTokenCount"]);return s!=null&&T(e,["cachedContentTokenCount"],s),e}function nse(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&T(e,["sdkHttpResponse"],n);const r=v(t,["totalTokens"]);return r!=null&&T(e,["totalTokens"],r),e}function rse(t,e){const n={},r=v(e,["model"]);return r!=null&&T(n,["_url","name"],kr(t,r)),n}function sse(t,e){const n={},r=v(e,["model"]);return r!=null&&T(n,["_url","name"],kr(t,r)),n}function ise(t){const e={},n=v(t,["sdkHttpResponse"]);return n!=null&&T(e,["sdkHttpResponse"],n),e}function ase(t){const e={},n=v(t,["sdkHttpResponse"]);return n!=null&&T(e,["sdkHttpResponse"],n),e}function ose(t,e){const n={},r=v(t,["outputGcsUri"]);e!==void 0&&r!=null&&T(e,["parameters","storageUri"],r);const s=v(t,["negativePrompt"]);e!==void 0&&s!=null&&T(e,["parameters","negativePrompt"],s);const i=v(t,["numberOfImages"]);e!==void 0&&i!=null&&T(e,["parameters","sampleCount"],i);const a=v(t,["aspectRatio"]);e!==void 0&&a!=null&&T(e,["parameters","aspectRatio"],a);const o=v(t,["guidanceScale"]);e!==void 0&&o!=null&&T(e,["parameters","guidanceScale"],o);const c=v(t,["seed"]);e!==void 0&&c!=null&&T(e,["parameters","seed"],c);const f=v(t,["safetyFilterLevel"]);e!==void 0&&f!=null&&T(e,["parameters","safetySetting"],f);const d=v(t,["personGeneration"]);e!==void 0&&d!=null&&T(e,["parameters","personGeneration"],d);const p=v(t,["includeSafetyAttributes"]);e!==void 0&&p!=null&&T(e,["parameters","includeSafetyAttributes"],p);const g=v(t,["includeRaiReason"]);e!==void 0&&g!=null&&T(e,["parameters","includeRaiReason"],g);const y=v(t,["language"]);e!==void 0&&y!=null&&T(e,["parameters","language"],y);const E=v(t,["outputMimeType"]);e!==void 0&&E!=null&&T(e,["parameters","outputOptions","mimeType"],E);const b=v(t,["outputCompressionQuality"]);e!==void 0&&b!=null&&T(e,["parameters","outputOptions","compressionQuality"],b);const A=v(t,["addWatermark"]);e!==void 0&&A!=null&&T(e,["parameters","addWatermark"],A);const N=v(t,["labels"]);e!==void 0&&N!=null&&T(e,["labels"],N);const V=v(t,["editMode"]);e!==void 0&&V!=null&&T(e,["parameters","editMode"],V);const k=v(t,["baseSteps"]);return e!==void 0&&k!=null&&T(e,["parameters","editConfig","baseSteps"],k),n}function lse(t,e){const n={},r=v(e,["model"]);r!=null&&T(n,["_url","model"],kr(t,r));const s=v(e,["prompt"]);s!=null&&T(n,["instances[0]","prompt"],s);const i=v(e,["referenceImages"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(c=>uie(c))),T(n,["instances[0]","referenceImages"],o)}const a=v(e,["config"]);return a!=null&&ose(a,n),n}function cse(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&T(e,["sdkHttpResponse"],n);const r=v(t,["predictions"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(i=>Sv(i))),T(e,["generatedImages"],s)}return e}function use(t,e){const n={},r=v(t,["taskType"]);e!==void 0&&r!=null&&T(e,["requests[]","taskType"],r);const s=v(t,["title"]);e!==void 0&&s!=null&&T(e,["requests[]","title"],s);const i=v(t,["outputDimensionality"]);if(e!==void 0&&i!=null&&T(e,["requests[]","outputDimensionality"],i),v(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(v(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function fse(t,e){const n={},r=v(t,["taskType"]);e!==void 0&&r!=null&&T(e,["instances[]","task_type"],r);const s=v(t,["title"]);e!==void 0&&s!=null&&T(e,["instances[]","title"],s);const i=v(t,["outputDimensionality"]);e!==void 0&&i!=null&&T(e,["parameters","outputDimensionality"],i);const a=v(t,["mimeType"]);e!==void 0&&a!=null&&T(e,["instances[]","mimeType"],a);const o=v(t,["autoTruncate"]);return e!==void 0&&o!=null&&T(e,["parameters","autoTruncate"],o),n}function dse(t,e){const n={},r=v(e,["model"]);r!=null&&T(n,["_url","model"],kr(t,r));const s=v(e,["contents"]);if(s!=null){let o=fS(t,s);Array.isArray(o)&&(o=o.map(c=>c)),T(n,["requests[]","content"],o)}const i=v(e,["config"]);i!=null&&use(i,n);const a=v(e,["model"]);return a!==void 0&&T(n,["requests[]","model"],kr(t,a)),n}function hse(t,e){const n={},r=v(e,["model"]);r!=null&&T(n,["_url","model"],kr(t,r));const s=v(e,["contents"]);if(s!=null){let a=fS(t,s);Array.isArray(a)&&(a=a.map(o=>o)),T(n,["instances[]","content"],a)}const i=v(e,["config"]);return i!=null&&fse(i,n),n}function pse(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&T(e,["sdkHttpResponse"],n);const r=v(t,["embeddings"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),T(e,["embeddings"],i)}const s=v(t,["metadata"]);return s!=null&&T(e,["metadata"],s),e}function mse(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&T(e,["sdkHttpResponse"],n);const r=v(t,["predictions[]","embeddings"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>Kre(a))),T(e,["embeddings"],i)}const s=v(t,["metadata"]);return s!=null&&T(e,["metadata"],s),e}function gse(t){const e={},n=v(t,["endpoint"]);n!=null&&T(e,["name"],n);const r=v(t,["deployedModelId"]);return r!=null&&T(e,["deployedModelId"],r),e}function xse(t){const e={};if(v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(t,["fileUri"]);n!=null&&T(e,["fileUri"],n);const r=v(t,["mimeType"]);return r!=null&&T(e,["mimeType"],r),e}function yse(t){const e={},n=v(t,["id"]);n!=null&&T(e,["id"],n);const r=v(t,["args"]);r!=null&&T(e,["args"],r);const s=v(t,["name"]);if(s!=null&&T(e,["name"],s),v(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(v(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function vse(t){const e={},n=v(t,["mode"]);n!=null&&T(e,["mode"],n);const r=v(t,["allowedFunctionNames"]);if(r!=null&&T(e,["allowedFunctionNames"],r),v(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function _se(t){const e={};if(v(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=v(t,["description"]);n!=null&&T(e,["description"],n);const r=v(t,["name"]);r!=null&&T(e,["name"],r);const s=v(t,["parameters"]);s!=null&&T(e,["parameters"],s);const i=v(t,["parametersJsonSchema"]);i!=null&&T(e,["parametersJsonSchema"],i);const a=v(t,["response"]);a!=null&&T(e,["response"],a);const o=v(t,["responseJsonSchema"]);return o!=null&&T(e,["responseJsonSchema"],o),e}function bse(t,e,n){const r={},s=v(e,["systemInstruction"]);n!==void 0&&s!=null&&T(n,["systemInstruction"],Ev(Aa(s)));const i=v(e,["temperature"]);i!=null&&T(r,["temperature"],i);const a=v(e,["topP"]);a!=null&&T(r,["topP"],a);const o=v(e,["topK"]);o!=null&&T(r,["topK"],o);const c=v(e,["candidateCount"]);c!=null&&T(r,["candidateCount"],c);const f=v(e,["maxOutputTokens"]);f!=null&&T(r,["maxOutputTokens"],f);const d=v(e,["stopSequences"]);d!=null&&T(r,["stopSequences"],d);const p=v(e,["responseLogprobs"]);p!=null&&T(r,["responseLogprobs"],p);const g=v(e,["logprobs"]);g!=null&&T(r,["logprobs"],g);const y=v(e,["presencePenalty"]);y!=null&&T(r,["presencePenalty"],y);const E=v(e,["frequencyPenalty"]);E!=null&&T(r,["frequencyPenalty"],E);const b=v(e,["seed"]);b!=null&&T(r,["seed"],b);const A=v(e,["responseMimeType"]);A!=null&&T(r,["responseMimeType"],A);const N=v(e,["responseSchema"]);N!=null&&T(r,["responseSchema"],dS(N));const V=v(e,["responseJsonSchema"]);if(V!=null&&T(r,["responseJsonSchema"],V),v(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(v(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const k=v(e,["safetySettings"]);if(n!==void 0&&k!=null){let M=k;Array.isArray(M)&&(M=M.map(H=>fie(H))),T(n,["safetySettings"],M)}const B=v(e,["tools"]);if(n!==void 0&&B!=null){let M=qp(B);Array.isArray(M)&&(M=M.map(H=>yie(jp(H)))),T(n,["tools"],M)}const W=v(e,["toolConfig"]);if(n!==void 0&&W!=null&&T(n,["toolConfig"],xie(W)),v(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const K=v(e,["cachedContent"]);n!==void 0&&K!=null&&T(n,["cachedContent"],qu(t,K));const D=v(e,["responseModalities"]);D!=null&&T(r,["responseModalities"],D);const L=v(e,["mediaResolution"]);L!=null&&T(r,["mediaResolution"],L);const R=v(e,["speechConfig"]);if(R!=null&&T(r,["speechConfig"],hS(R)),v(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const q=v(e,["thinkingConfig"]);q!=null&&T(r,["thinkingConfig"],q);const P=v(e,["imageConfig"]);return P!=null&&T(r,["imageConfig"],Kse(P)),r}function wse(t,e,n){const r={},s=v(e,["systemInstruction"]);n!==void 0&&s!=null&&T(n,["systemInstruction"],Aa(s));const i=v(e,["temperature"]);i!=null&&T(r,["temperature"],i);const a=v(e,["topP"]);a!=null&&T(r,["topP"],a);const o=v(e,["topK"]);o!=null&&T(r,["topK"],o);const c=v(e,["candidateCount"]);c!=null&&T(r,["candidateCount"],c);const f=v(e,["maxOutputTokens"]);f!=null&&T(r,["maxOutputTokens"],f);const d=v(e,["stopSequences"]);d!=null&&T(r,["stopSequences"],d);const p=v(e,["responseLogprobs"]);p!=null&&T(r,["responseLogprobs"],p);const g=v(e,["logprobs"]);g!=null&&T(r,["logprobs"],g);const y=v(e,["presencePenalty"]);y!=null&&T(r,["presencePenalty"],y);const E=v(e,["frequencyPenalty"]);E!=null&&T(r,["frequencyPenalty"],E);const b=v(e,["seed"]);b!=null&&T(r,["seed"],b);const A=v(e,["responseMimeType"]);A!=null&&T(r,["responseMimeType"],A);const N=v(e,["responseSchema"]);N!=null&&T(r,["responseSchema"],dS(N));const V=v(e,["responseJsonSchema"]);V!=null&&T(r,["responseJsonSchema"],V);const k=v(e,["routingConfig"]);k!=null&&T(r,["routingConfig"],k);const B=v(e,["modelSelectionConfig"]);B!=null&&T(r,["modelConfig"],B);const W=v(e,["safetySettings"]);if(n!==void 0&&W!=null){let oe=W;Array.isArray(oe)&&(oe=oe.map(ve=>ve)),T(n,["safetySettings"],oe)}const K=v(e,["tools"]);if(n!==void 0&&K!=null){let oe=qp(K);Array.isArray(oe)&&(oe=oe.map(ve=>eO(jp(ve)))),T(n,["tools"],oe)}const D=v(e,["toolConfig"]);n!==void 0&&D!=null&&T(n,["toolConfig"],D);const L=v(e,["labels"]);n!==void 0&&L!=null&&T(n,["labels"],L);const R=v(e,["cachedContent"]);n!==void 0&&R!=null&&T(n,["cachedContent"],qu(t,R));const q=v(e,["responseModalities"]);q!=null&&T(r,["responseModalities"],q);const P=v(e,["mediaResolution"]);P!=null&&T(r,["mediaResolution"],P);const M=v(e,["speechConfig"]);M!=null&&T(r,["speechConfig"],Z7(hS(M)));const H=v(e,["audioTimestamp"]);H!=null&&T(r,["audioTimestamp"],H);const ae=v(e,["thinkingConfig"]);ae!=null&&T(r,["thinkingConfig"],ae);const Se=v(e,["imageConfig"]);return Se!=null&&T(r,["imageConfig"],Yse(Se)),r}function s6(t,e){const n={},r=v(e,["model"]);r!=null&&T(n,["_url","model"],kr(t,r));const s=v(e,["contents"]);if(s!=null){let a=ml(s);Array.isArray(a)&&(a=a.map(o=>Ev(o))),T(n,["contents"],a)}const i=v(e,["config"]);return i!=null&&T(n,["generationConfig"],bse(t,i,n)),n}function i6(t,e){const n={},r=v(e,["model"]);r!=null&&T(n,["_url","model"],kr(t,r));const s=v(e,["contents"]);if(s!=null){let a=ml(s);Array.isArray(a)&&(a=a.map(o=>o)),T(n,["contents"],a)}const i=v(e,["config"]);return i!=null&&T(n,["generationConfig"],wse(t,i,n)),n}function a6(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&T(e,["sdkHttpResponse"],n);const r=v(t,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(f=>zre(f))),T(e,["candidates"],c)}const s=v(t,["modelVersion"]);s!=null&&T(e,["modelVersion"],s);const i=v(t,["promptFeedback"]);i!=null&&T(e,["promptFeedback"],i);const a=v(t,["responseId"]);a!=null&&T(e,["responseId"],a);const o=v(t,["usageMetadata"]);return o!=null&&T(e,["usageMetadata"],o),e}function o6(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&T(e,["sdkHttpResponse"],n);const r=v(t,["candidates"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(d=>d)),T(e,["candidates"],f)}const s=v(t,["createTime"]);s!=null&&T(e,["createTime"],s);const i=v(t,["modelVersion"]);i!=null&&T(e,["modelVersion"],i);const a=v(t,["promptFeedback"]);a!=null&&T(e,["promptFeedback"],a);const o=v(t,["responseId"]);o!=null&&T(e,["responseId"],o);const c=v(t,["usageMetadata"]);return c!=null&&T(e,["usageMetadata"],c),e}function Tse(t,e){const n={};if(v(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(v(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=v(t,["numberOfImages"]);e!==void 0&&r!=null&&T(e,["parameters","sampleCount"],r);const s=v(t,["aspectRatio"]);e!==void 0&&s!=null&&T(e,["parameters","aspectRatio"],s);const i=v(t,["guidanceScale"]);if(e!==void 0&&i!=null&&T(e,["parameters","guidanceScale"],i),v(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=v(t,["safetyFilterLevel"]);e!==void 0&&a!=null&&T(e,["parameters","safetySetting"],a);const o=v(t,["personGeneration"]);e!==void 0&&o!=null&&T(e,["parameters","personGeneration"],o);const c=v(t,["includeSafetyAttributes"]);e!==void 0&&c!=null&&T(e,["parameters","includeSafetyAttributes"],c);const f=v(t,["includeRaiReason"]);e!==void 0&&f!=null&&T(e,["parameters","includeRaiReason"],f);const d=v(t,["language"]);e!==void 0&&d!=null&&T(e,["parameters","language"],d);const p=v(t,["outputMimeType"]);e!==void 0&&p!=null&&T(e,["parameters","outputOptions","mimeType"],p);const g=v(t,["outputCompressionQuality"]);if(e!==void 0&&g!=null&&T(e,["parameters","outputOptions","compressionQuality"],g),v(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(v(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const y=v(t,["imageSize"]);if(e!==void 0&&y!=null&&T(e,["parameters","sampleImageSize"],y),v(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function Ese(t,e){const n={},r=v(t,["outputGcsUri"]);e!==void 0&&r!=null&&T(e,["parameters","storageUri"],r);const s=v(t,["negativePrompt"]);e!==void 0&&s!=null&&T(e,["parameters","negativePrompt"],s);const i=v(t,["numberOfImages"]);e!==void 0&&i!=null&&T(e,["parameters","sampleCount"],i);const a=v(t,["aspectRatio"]);e!==void 0&&a!=null&&T(e,["parameters","aspectRatio"],a);const o=v(t,["guidanceScale"]);e!==void 0&&o!=null&&T(e,["parameters","guidanceScale"],o);const c=v(t,["seed"]);e!==void 0&&c!=null&&T(e,["parameters","seed"],c);const f=v(t,["safetyFilterLevel"]);e!==void 0&&f!=null&&T(e,["parameters","safetySetting"],f);const d=v(t,["personGeneration"]);e!==void 0&&d!=null&&T(e,["parameters","personGeneration"],d);const p=v(t,["includeSafetyAttributes"]);e!==void 0&&p!=null&&T(e,["parameters","includeSafetyAttributes"],p);const g=v(t,["includeRaiReason"]);e!==void 0&&g!=null&&T(e,["parameters","includeRaiReason"],g);const y=v(t,["language"]);e!==void 0&&y!=null&&T(e,["parameters","language"],y);const E=v(t,["outputMimeType"]);e!==void 0&&E!=null&&T(e,["parameters","outputOptions","mimeType"],E);const b=v(t,["outputCompressionQuality"]);e!==void 0&&b!=null&&T(e,["parameters","outputOptions","compressionQuality"],b);const A=v(t,["addWatermark"]);e!==void 0&&A!=null&&T(e,["parameters","addWatermark"],A);const N=v(t,["labels"]);e!==void 0&&N!=null&&T(e,["labels"],N);const V=v(t,["imageSize"]);e!==void 0&&V!=null&&T(e,["parameters","sampleImageSize"],V);const k=v(t,["enhancePrompt"]);return e!==void 0&&k!=null&&T(e,["parameters","enhancePrompt"],k),n}function Sse(t,e){const n={},r=v(e,["model"]);r!=null&&T(n,["_url","model"],kr(t,r));const s=v(e,["prompt"]);s!=null&&T(n,["instances[0]","prompt"],s);const i=v(e,["config"]);return i!=null&&Tse(i,n),n}function Ase(t,e){const n={},r=v(e,["model"]);r!=null&&T(n,["_url","model"],kr(t,r));const s=v(e,["prompt"]);s!=null&&T(n,["instances[0]","prompt"],s);const i=v(e,["config"]);return i!=null&&Ese(i,n),n}function Cse(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&T(e,["sdkHttpResponse"],n);const r=v(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>Vse(a))),T(e,["generatedImages"],i)}const s=v(t,["positivePromptSafetyAttributes"]);return s!=null&&T(e,["positivePromptSafetyAttributes"],J7(s)),e}function Nse(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&T(e,["sdkHttpResponse"],n);const r=v(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>Sv(a))),T(e,["generatedImages"],i)}const s=v(t,["positivePromptSafetyAttributes"]);return s!=null&&T(e,["positivePromptSafetyAttributes"],Q7(s)),e}function Ise(t,e){const n={},r=v(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&T(e,["parameters","sampleCount"],r),v(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(v(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const s=v(t,["durationSeconds"]);if(e!==void 0&&s!=null&&T(e,["parameters","durationSeconds"],s),v(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const i=v(t,["aspectRatio"]);e!==void 0&&i!=null&&T(e,["parameters","aspectRatio"],i);const a=v(t,["resolution"]);e!==void 0&&a!=null&&T(e,["parameters","resolution"],a);const o=v(t,["personGeneration"]);if(e!==void 0&&o!=null&&T(e,["parameters","personGeneration"],o),v(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const c=v(t,["negativePrompt"]);e!==void 0&&c!=null&&T(e,["parameters","negativePrompt"],c);const f=v(t,["enhancePrompt"]);if(e!==void 0&&f!=null&&T(e,["parameters","enhancePrompt"],f),v(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const d=v(t,["lastFrame"]);e!==void 0&&d!=null&&T(e,["instances[0]","lastFrame"],Av(d));const p=v(t,["referenceImages"]);if(e!==void 0&&p!=null){let g=p;Array.isArray(g)&&(g=g.map(y=>Rie(y))),T(e,["instances[0]","referenceImages"],g)}if(v(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(v(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function kse(t,e){const n={},r=v(t,["numberOfVideos"]);e!==void 0&&r!=null&&T(e,["parameters","sampleCount"],r);const s=v(t,["outputGcsUri"]);e!==void 0&&s!=null&&T(e,["parameters","storageUri"],s);const i=v(t,["fps"]);e!==void 0&&i!=null&&T(e,["parameters","fps"],i);const a=v(t,["durationSeconds"]);e!==void 0&&a!=null&&T(e,["parameters","durationSeconds"],a);const o=v(t,["seed"]);e!==void 0&&o!=null&&T(e,["parameters","seed"],o);const c=v(t,["aspectRatio"]);e!==void 0&&c!=null&&T(e,["parameters","aspectRatio"],c);const f=v(t,["resolution"]);e!==void 0&&f!=null&&T(e,["parameters","resolution"],f);const d=v(t,["personGeneration"]);e!==void 0&&d!=null&&T(e,["parameters","personGeneration"],d);const p=v(t,["pubsubTopic"]);e!==void 0&&p!=null&&T(e,["parameters","pubsubTopic"],p);const g=v(t,["negativePrompt"]);e!==void 0&&g!=null&&T(e,["parameters","negativePrompt"],g);const y=v(t,["enhancePrompt"]);e!==void 0&&y!=null&&T(e,["parameters","enhancePrompt"],y);const E=v(t,["generateAudio"]);e!==void 0&&E!=null&&T(e,["parameters","generateAudio"],E);const b=v(t,["lastFrame"]);e!==void 0&&b!=null&&T(e,["instances[0]","lastFrame"],Ql(b));const A=v(t,["referenceImages"]);if(e!==void 0&&A!=null){let k=A;Array.isArray(k)&&(k=k.map(B=>Pie(B))),T(e,["instances[0]","referenceImages"],k)}const N=v(t,["mask"]);e!==void 0&&N!=null&&T(e,["instances[0]","mask"],kie(N));const V=v(t,["compressionQuality"]);return e!==void 0&&V!=null&&T(e,["parameters","compressionQuality"],V),n}function Rse(t){const e={},n=v(t,["name"]);n!=null&&T(e,["name"],n);const r=v(t,["metadata"]);r!=null&&T(e,["metadata"],r);const s=v(t,["done"]);s!=null&&T(e,["done"],s);const i=v(t,["error"]);i!=null&&T(e,["error"],i);const a=v(t,["response","generateVideoResponse"]);return a!=null&&T(e,["response"],Lse(a)),e}function Pse(t){const e={},n=v(t,["name"]);n!=null&&T(e,["name"],n);const r=v(t,["metadata"]);r!=null&&T(e,["metadata"],r);const s=v(t,["done"]);s!=null&&T(e,["done"],s);const i=v(t,["error"]);i!=null&&T(e,["error"],i);const a=v(t,["response"]);return a!=null&&T(e,["response"],Fse(a)),e}function Dse(t,e){const n={},r=v(e,["model"]);r!=null&&T(n,["_url","model"],kr(t,r));const s=v(e,["prompt"]);s!=null&&T(n,["instances[0]","prompt"],s);const i=v(e,["image"]);i!=null&&T(n,["instances[0]","image"],Av(i));const a=v(e,["video"]);a!=null&&T(n,["instances[0]","video"],tO(a));const o=v(e,["source"]);o!=null&&Ose(o,n);const c=v(e,["config"]);return c!=null&&Ise(c,n),n}function Mse(t,e){const n={},r=v(e,["model"]);r!=null&&T(n,["_url","model"],kr(t,r));const s=v(e,["prompt"]);s!=null&&T(n,["instances[0]","prompt"],s);const i=v(e,["image"]);i!=null&&T(n,["instances[0]","image"],Ql(i));const a=v(e,["video"]);a!=null&&T(n,["instances[0]","video"],nO(a));const o=v(e,["source"]);o!=null&&Bse(o,n);const c=v(e,["config"]);return c!=null&&kse(c,n),n}function Lse(t){const e={},n=v(t,["generatedSamples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>jse(a))),T(e,["generatedVideos"],i)}const r=v(t,["raiMediaFilteredCount"]);r!=null&&T(e,["raiMediaFilteredCount"],r);const s=v(t,["raiMediaFilteredReasons"]);return s!=null&&T(e,["raiMediaFilteredReasons"],s),e}function Fse(t){const e={},n=v(t,["videos"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>qse(a))),T(e,["generatedVideos"],i)}const r=v(t,["raiMediaFilteredCount"]);r!=null&&T(e,["raiMediaFilteredCount"],r);const s=v(t,["raiMediaFilteredReasons"]);return s!=null&&T(e,["raiMediaFilteredReasons"],s),e}function Ose(t,e){const n={},r=v(t,["prompt"]);e!==void 0&&r!=null&&T(e,["instances[0]","prompt"],r);const s=v(t,["image"]);e!==void 0&&s!=null&&T(e,["instances[0]","image"],Av(s));const i=v(t,["video"]);return e!==void 0&&i!=null&&T(e,["instances[0]","video"],tO(i)),n}function Bse(t,e){const n={},r=v(t,["prompt"]);e!==void 0&&r!=null&&T(e,["instances[0]","prompt"],r);const s=v(t,["image"]);e!==void 0&&s!=null&&T(e,["instances[0]","image"],Ql(s));const i=v(t,["video"]);return e!==void 0&&i!=null&&T(e,["instances[0]","video"],nO(i)),n}function Vse(t){const e={},n=v(t,["_self"]);n!=null&&T(e,["image"],Xse(n));const r=v(t,["raiFilteredReason"]);r!=null&&T(e,["raiFilteredReason"],r);const s=v(t,["_self"]);return s!=null&&T(e,["safetyAttributes"],J7(s)),e}function Sv(t){const e={},n=v(t,["_self"]);n!=null&&T(e,["image"],X7(n));const r=v(t,["raiFilteredReason"]);r!=null&&T(e,["raiFilteredReason"],r);const s=v(t,["_self"]);s!=null&&T(e,["safetyAttributes"],Q7(s));const i=v(t,["prompt"]);return i!=null&&T(e,["enhancedPrompt"],i),e}function Use(t){const e={},n=v(t,["_self"]);n!=null&&T(e,["mask"],X7(n));const r=v(t,["labels"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(i=>i)),T(e,["labels"],s)}return e}function jse(t){const e={},n=v(t,["video"]);return n!=null&&T(e,["video"],Nie(n)),e}function qse(t){const e={},n=v(t,["_self"]);return n!=null&&T(e,["video"],Iie(n)),e}function Hse(t){const e={},n=v(t,["modelSelectionConfig"]);n!=null&&T(e,["modelConfig"],n);const r=v(t,["responseJsonSchema"]);r!=null&&T(e,["responseJsonSchema"],r);const s=v(t,["audioTimestamp"]);s!=null&&T(e,["audioTimestamp"],s);const i=v(t,["candidateCount"]);i!=null&&T(e,["candidateCount"],i);const a=v(t,["enableAffectiveDialog"]);a!=null&&T(e,["enableAffectiveDialog"],a);const o=v(t,["frequencyPenalty"]);o!=null&&T(e,["frequencyPenalty"],o);const c=v(t,["logprobs"]);c!=null&&T(e,["logprobs"],c);const f=v(t,["maxOutputTokens"]);f!=null&&T(e,["maxOutputTokens"],f);const d=v(t,["mediaResolution"]);d!=null&&T(e,["mediaResolution"],d);const p=v(t,["presencePenalty"]);p!=null&&T(e,["presencePenalty"],p);const g=v(t,["responseLogprobs"]);g!=null&&T(e,["responseLogprobs"],g);const y=v(t,["responseMimeType"]);y!=null&&T(e,["responseMimeType"],y);const E=v(t,["responseModalities"]);E!=null&&T(e,["responseModalities"],E);const b=v(t,["responseSchema"]);b!=null&&T(e,["responseSchema"],b);const A=v(t,["routingConfig"]);A!=null&&T(e,["routingConfig"],A);const N=v(t,["seed"]);N!=null&&T(e,["seed"],N);const V=v(t,["speechConfig"]);V!=null&&T(e,["speechConfig"],Z7(V));const k=v(t,["stopSequences"]);k!=null&&T(e,["stopSequences"],k);const B=v(t,["temperature"]);B!=null&&T(e,["temperature"],B);const W=v(t,["thinkingConfig"]);W!=null&&T(e,["thinkingConfig"],W);const K=v(t,["topK"]);K!=null&&T(e,["topK"],K);const D=v(t,["topP"]);if(D!=null&&T(e,["topP"],D),v(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function zse(t,e){const n={},r=v(e,["model"]);return r!=null&&T(n,["_url","name"],kr(t,r)),n}function Gse(t,e){const n={},r=v(e,["model"]);return r!=null&&T(n,["_url","name"],kr(t,r)),n}function Wse(t){const e={};if(v(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=v(t,["enableWidget"]);return n!=null&&T(e,["enableWidget"],n),e}function $se(t){const e={};if(v(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(v(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=v(t,["timeRangeFilter"]);return n!=null&&T(e,["timeRangeFilter"],n),e}function Kse(t){const e={},n=v(t,["aspectRatio"]);n!=null&&T(e,["aspectRatio"],n);const r=v(t,["imageSize"]);if(r!=null&&T(e,["imageSize"],r),v(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(v(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function Yse(t){const e={},n=v(t,["aspectRatio"]);n!=null&&T(e,["aspectRatio"],n);const r=v(t,["imageSize"]);r!=null&&T(e,["imageSize"],r);const s=v(t,["outputMimeType"]);s!=null&&T(e,["imageOutputOptions","mimeType"],s);const i=v(t,["outputCompressionQuality"]);return i!=null&&T(e,["imageOutputOptions","compressionQuality"],i),e}function Xse(t){const e={},n=v(t,["bytesBase64Encoded"]);n!=null&&T(e,["imageBytes"],od(n));const r=v(t,["mimeType"]);return r!=null&&T(e,["mimeType"],r),e}function X7(t){const e={},n=v(t,["gcsUri"]);n!=null&&T(e,["gcsUri"],n);const r=v(t,["bytesBase64Encoded"]);r!=null&&T(e,["imageBytes"],od(r));const s=v(t,["mimeType"]);return s!=null&&T(e,["mimeType"],s),e}function Av(t){const e={};if(v(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=v(t,["imageBytes"]);n!=null&&T(e,["bytesBase64Encoded"],od(n));const r=v(t,["mimeType"]);return r!=null&&T(e,["mimeType"],r),e}function Ql(t){const e={},n=v(t,["gcsUri"]);n!=null&&T(e,["gcsUri"],n);const r=v(t,["imageBytes"]);r!=null&&T(e,["bytesBase64Encoded"],od(r));const s=v(t,["mimeType"]);return s!=null&&T(e,["mimeType"],s),e}function Jse(t,e,n){const r={},s=v(e,["pageSize"]);n!==void 0&&s!=null&&T(n,["_query","pageSize"],s);const i=v(e,["pageToken"]);n!==void 0&&i!=null&&T(n,["_query","pageToken"],i);const a=v(e,["filter"]);n!==void 0&&a!=null&&T(n,["_query","filter"],a);const o=v(e,["queryBase"]);return n!==void 0&&o!=null&&T(n,["_url","models_url"],q7(t,o)),r}function Qse(t,e,n){const r={},s=v(e,["pageSize"]);n!==void 0&&s!=null&&T(n,["_query","pageSize"],s);const i=v(e,["pageToken"]);n!==void 0&&i!=null&&T(n,["_query","pageToken"],i);const a=v(e,["filter"]);n!==void 0&&a!=null&&T(n,["_query","filter"],a);const o=v(e,["queryBase"]);return n!==void 0&&o!=null&&T(n,["_url","models_url"],q7(t,o)),r}function Zse(t,e){const n={},r=v(e,["config"]);return r!=null&&Jse(t,r,n),n}function eie(t,e){const n={},r=v(e,["config"]);return r!=null&&Qse(t,r,n),n}function tie(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&T(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&T(e,["nextPageToken"],r);const s=v(t,["_self"]);if(s!=null){let i=H7(s);Array.isArray(i)&&(i=i.map(a=>W5(a))),T(e,["models"],i)}return e}function nie(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&T(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&T(e,["nextPageToken"],r);const s=v(t,["_self"]);if(s!=null){let i=H7(s);Array.isArray(i)&&(i=i.map(a=>$5(a))),T(e,["models"],i)}return e}function rie(t){const e={},n=v(t,["maskMode"]);n!=null&&T(e,["maskMode"],n);const r=v(t,["segmentationClasses"]);r!=null&&T(e,["maskClasses"],r);const s=v(t,["maskDilation"]);return s!=null&&T(e,["dilation"],s),e}function W5(t){const e={},n=v(t,["name"]);n!=null&&T(e,["name"],n);const r=v(t,["displayName"]);r!=null&&T(e,["displayName"],r);const s=v(t,["description"]);s!=null&&T(e,["description"],s);const i=v(t,["version"]);i!=null&&T(e,["version"],i);const a=v(t,["_self"]);a!=null&&T(e,["tunedModelInfo"],vie(a));const o=v(t,["inputTokenLimit"]);o!=null&&T(e,["inputTokenLimit"],o);const c=v(t,["outputTokenLimit"]);c!=null&&T(e,["outputTokenLimit"],c);const f=v(t,["supportedGenerationMethods"]);f!=null&&T(e,["supportedActions"],f);const d=v(t,["temperature"]);d!=null&&T(e,["temperature"],d);const p=v(t,["maxTemperature"]);p!=null&&T(e,["maxTemperature"],p);const g=v(t,["topP"]);g!=null&&T(e,["topP"],g);const y=v(t,["topK"]);y!=null&&T(e,["topK"],y);const E=v(t,["thinking"]);return E!=null&&T(e,["thinking"],E),e}function $5(t){const e={},n=v(t,["name"]);n!=null&&T(e,["name"],n);const r=v(t,["displayName"]);r!=null&&T(e,["displayName"],r);const s=v(t,["description"]);s!=null&&T(e,["description"],s);const i=v(t,["versionId"]);i!=null&&T(e,["version"],i);const a=v(t,["deployedModels"]);if(a!=null){let p=a;Array.isArray(p)&&(p=p.map(g=>gse(g))),T(e,["endpoints"],p)}const o=v(t,["labels"]);o!=null&&T(e,["labels"],o);const c=v(t,["_self"]);c!=null&&T(e,["tunedModelInfo"],_ie(c));const f=v(t,["defaultCheckpointId"]);f!=null&&T(e,["defaultCheckpointId"],f);const d=v(t,["checkpoints"]);if(d!=null){let p=d;Array.isArray(p)&&(p=p.map(g=>g)),T(e,["checkpoints"],p)}return e}function sie(t){const e={},n=v(t,["mediaResolution"]);n!=null&&T(e,["mediaResolution"],n);const r=v(t,["codeExecutionResult"]);r!=null&&T(e,["codeExecutionResult"],r);const s=v(t,["executableCode"]);s!=null&&T(e,["executableCode"],s);const i=v(t,["fileData"]);i!=null&&T(e,["fileData"],xse(i));const a=v(t,["functionCall"]);a!=null&&T(e,["functionCall"],yse(a));const o=v(t,["functionResponse"]);o!=null&&T(e,["functionResponse"],o);const c=v(t,["inlineData"]);c!=null&&T(e,["inlineData"],Hre(c));const f=v(t,["text"]);f!=null&&T(e,["text"],f);const d=v(t,["thought"]);d!=null&&T(e,["thought"],d);const p=v(t,["thoughtSignature"]);p!=null&&T(e,["thoughtSignature"],p);const g=v(t,["videoMetadata"]);return g!=null&&T(e,["videoMetadata"],g),e}function iie(t){const e={},n=v(t,["productImage"]);return n!=null&&T(e,["image"],Ql(n)),e}function aie(t,e){const n={},r=v(t,["numberOfImages"]);e!==void 0&&r!=null&&T(e,["parameters","sampleCount"],r);const s=v(t,["baseSteps"]);e!==void 0&&s!=null&&T(e,["parameters","baseSteps"],s);const i=v(t,["outputGcsUri"]);e!==void 0&&i!=null&&T(e,["parameters","storageUri"],i);const a=v(t,["seed"]);e!==void 0&&a!=null&&T(e,["parameters","seed"],a);const o=v(t,["safetyFilterLevel"]);e!==void 0&&o!=null&&T(e,["parameters","safetySetting"],o);const c=v(t,["personGeneration"]);e!==void 0&&c!=null&&T(e,["parameters","personGeneration"],c);const f=v(t,["addWatermark"]);e!==void 0&&f!=null&&T(e,["parameters","addWatermark"],f);const d=v(t,["outputMimeType"]);e!==void 0&&d!=null&&T(e,["parameters","outputOptions","mimeType"],d);const p=v(t,["outputCompressionQuality"]);e!==void 0&&p!=null&&T(e,["parameters","outputOptions","compressionQuality"],p);const g=v(t,["enhancePrompt"]);e!==void 0&&g!=null&&T(e,["parameters","enhancePrompt"],g);const y=v(t,["labels"]);return e!==void 0&&y!=null&&T(e,["labels"],y),n}function oie(t,e){const n={},r=v(e,["model"]);r!=null&&T(n,["_url","model"],kr(t,r));const s=v(e,["source"]);s!=null&&cie(s,n);const i=v(e,["config"]);return i!=null&&aie(i,n),n}function lie(t){const e={},n=v(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>Sv(s))),T(e,["generatedImages"],r)}return e}function cie(t,e){const n={},r=v(t,["prompt"]);e!==void 0&&r!=null&&T(e,["instances[0]","prompt"],r);const s=v(t,["personImage"]);e!==void 0&&s!=null&&T(e,["instances[0]","personImage","image"],Ql(s));const i=v(t,["productImages"]);if(e!==void 0&&i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>iie(o))),T(e,["instances[0]","productImages"],a)}return n}function uie(t){const e={},n=v(t,["referenceImage"]);n!=null&&T(e,["referenceImage"],Ql(n));const r=v(t,["referenceId"]);r!=null&&T(e,["referenceId"],r);const s=v(t,["referenceType"]);s!=null&&T(e,["referenceType"],s);const i=v(t,["maskImageConfig"]);i!=null&&T(e,["maskImageConfig"],rie(i));const a=v(t,["controlImageConfig"]);a!=null&&T(e,["controlImageConfig"],Xre(a));const o=v(t,["styleImageConfig"]);o!=null&&T(e,["styleImageConfig"],o);const c=v(t,["subjectImageConfig"]);return c!=null&&T(e,["subjectImageConfig"],c),e}function J7(t){const e={},n=v(t,["safetyAttributes","categories"]);n!=null&&T(e,["categories"],n);const r=v(t,["safetyAttributes","scores"]);r!=null&&T(e,["scores"],r);const s=v(t,["contentType"]);return s!=null&&T(e,["contentType"],s),e}function Q7(t){const e={},n=v(t,["safetyAttributes","categories"]);n!=null&&T(e,["categories"],n);const r=v(t,["safetyAttributes","scores"]);r!=null&&T(e,["scores"],r);const s=v(t,["contentType"]);return s!=null&&T(e,["contentType"],s),e}function fie(t){const e={},n=v(t,["category"]);if(n!=null&&T(e,["category"],n),v(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=v(t,["threshold"]);return r!=null&&T(e,["threshold"],r),e}function die(t){const e={},n=v(t,["image"]);return n!=null&&T(e,["image"],Ql(n)),e}function hie(t,e){const n={},r=v(t,["mode"]);e!==void 0&&r!=null&&T(e,["parameters","mode"],r);const s=v(t,["maxPredictions"]);e!==void 0&&s!=null&&T(e,["parameters","maxPredictions"],s);const i=v(t,["confidenceThreshold"]);e!==void 0&&i!=null&&T(e,["parameters","confidenceThreshold"],i);const a=v(t,["maskDilation"]);e!==void 0&&a!=null&&T(e,["parameters","maskDilation"],a);const o=v(t,["binaryColorThreshold"]);e!==void 0&&o!=null&&T(e,["parameters","binaryColorThreshold"],o);const c=v(t,["labels"]);return e!==void 0&&c!=null&&T(e,["labels"],c),n}function pie(t,e){const n={},r=v(e,["model"]);r!=null&&T(n,["_url","model"],kr(t,r));const s=v(e,["source"]);s!=null&&gie(s,n);const i=v(e,["config"]);return i!=null&&hie(i,n),n}function mie(t){const e={},n=v(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>Use(s))),T(e,["generatedMasks"],r)}return e}function gie(t,e){const n={},r=v(t,["prompt"]);e!==void 0&&r!=null&&T(e,["instances[0]","prompt"],r);const s=v(t,["image"]);e!==void 0&&s!=null&&T(e,["instances[0]","image"],Ql(s));const i=v(t,["scribbleImage"]);return e!==void 0&&i!=null&&T(e,["instances[0]","scribble"],die(i)),n}function Z7(t){const e={},n=v(t,["languageCode"]);n!=null&&T(e,["languageCode"],n);const r=v(t,["voiceConfig"]);if(r!=null&&T(e,["voiceConfig"],r),v(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function xie(t){const e={},n=v(t,["functionCallingConfig"]);n!=null&&T(e,["functionCallingConfig"],vse(n));const r=v(t,["retrievalConfig"]);return r!=null&&T(e,["retrievalConfig"],r),e}function yie(t){const e={},n=v(t,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(p=>p)),T(e,["functionDeclarations"],d)}if(v(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=v(t,["googleSearchRetrieval"]);r!=null&&T(e,["googleSearchRetrieval"],r);const s=v(t,["computerUse"]);s!=null&&T(e,["computerUse"],s);const i=v(t,["fileSearch"]);i!=null&&T(e,["fileSearch"],i);const a=v(t,["codeExecution"]);if(a!=null&&T(e,["codeExecution"],a),v(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=v(t,["googleMaps"]);o!=null&&T(e,["googleMaps"],Wse(o));const c=v(t,["googleSearch"]);c!=null&&T(e,["googleSearch"],$se(c));const f=v(t,["urlContext"]);return f!=null&&T(e,["urlContext"],f),e}function eO(t){const e={},n=v(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(g=>_se(g))),T(e,["functionDeclarations"],p)}const r=v(t,["retrieval"]);r!=null&&T(e,["retrieval"],r);const s=v(t,["googleSearchRetrieval"]);s!=null&&T(e,["googleSearchRetrieval"],s);const i=v(t,["computerUse"]);if(i!=null&&T(e,["computerUse"],i),v(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=v(t,["codeExecution"]);a!=null&&T(e,["codeExecution"],a);const o=v(t,["enterpriseWebSearch"]);o!=null&&T(e,["enterpriseWebSearch"],o);const c=v(t,["googleMaps"]);c!=null&&T(e,["googleMaps"],c);const f=v(t,["googleSearch"]);f!=null&&T(e,["googleSearch"],f);const d=v(t,["urlContext"]);return d!=null&&T(e,["urlContext"],d),e}function vie(t){const e={},n=v(t,["baseModel"]);n!=null&&T(e,["baseModel"],n);const r=v(t,["createTime"]);r!=null&&T(e,["createTime"],r);const s=v(t,["updateTime"]);return s!=null&&T(e,["updateTime"],s),e}function _ie(t){const e={},n=v(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&T(e,["baseModel"],n);const r=v(t,["createTime"]);r!=null&&T(e,["createTime"],r);const s=v(t,["updateTime"]);return s!=null&&T(e,["updateTime"],s),e}function bie(t,e){const n={},r=v(t,["displayName"]);e!==void 0&&r!=null&&T(e,["displayName"],r);const s=v(t,["description"]);e!==void 0&&s!=null&&T(e,["description"],s);const i=v(t,["defaultCheckpointId"]);return e!==void 0&&i!=null&&T(e,["defaultCheckpointId"],i),n}function wie(t,e){const n={},r=v(t,["displayName"]);e!==void 0&&r!=null&&T(e,["displayName"],r);const s=v(t,["description"]);e!==void 0&&s!=null&&T(e,["description"],s);const i=v(t,["defaultCheckpointId"]);return e!==void 0&&i!=null&&T(e,["defaultCheckpointId"],i),n}function Tie(t,e){const n={},r=v(e,["model"]);r!=null&&T(n,["_url","name"],kr(t,r));const s=v(e,["config"]);return s!=null&&bie(s,n),n}function Eie(t,e){const n={},r=v(e,["model"]);r!=null&&T(n,["_url","model"],kr(t,r));const s=v(e,["config"]);return s!=null&&wie(s,n),n}function Sie(t,e){const n={},r=v(t,["outputGcsUri"]);e!==void 0&&r!=null&&T(e,["parameters","storageUri"],r);const s=v(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&T(e,["parameters","safetySetting"],s);const i=v(t,["personGeneration"]);e!==void 0&&i!=null&&T(e,["parameters","personGeneration"],i);const a=v(t,["includeRaiReason"]);e!==void 0&&a!=null&&T(e,["parameters","includeRaiReason"],a);const o=v(t,["outputMimeType"]);e!==void 0&&o!=null&&T(e,["parameters","outputOptions","mimeType"],o);const c=v(t,["outputCompressionQuality"]);e!==void 0&&c!=null&&T(e,["parameters","outputOptions","compressionQuality"],c);const f=v(t,["enhanceInputImage"]);e!==void 0&&f!=null&&T(e,["parameters","upscaleConfig","enhanceInputImage"],f);const d=v(t,["imagePreservationFactor"]);e!==void 0&&d!=null&&T(e,["parameters","upscaleConfig","imagePreservationFactor"],d);const p=v(t,["labels"]);e!==void 0&&p!=null&&T(e,["labels"],p);const g=v(t,["numberOfImages"]);e!==void 0&&g!=null&&T(e,["parameters","sampleCount"],g);const y=v(t,["mode"]);return e!==void 0&&y!=null&&T(e,["parameters","mode"],y),n}function Aie(t,e){const n={},r=v(e,["model"]);r!=null&&T(n,["_url","model"],kr(t,r));const s=v(e,["image"]);s!=null&&T(n,["instances[0]","image"],Ql(s));const i=v(e,["upscaleFactor"]);i!=null&&T(n,["parameters","upscaleConfig","upscaleFactor"],i);const a=v(e,["config"]);return a!=null&&Sie(a,n),n}function Cie(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&T(e,["sdkHttpResponse"],n);const r=v(t,["predictions"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(i=>Sv(i))),T(e,["generatedImages"],s)}return e}function Nie(t){const e={},n=v(t,["uri"]);n!=null&&T(e,["uri"],n);const r=v(t,["encodedVideo"]);r!=null&&T(e,["videoBytes"],od(r));const s=v(t,["encoding"]);return s!=null&&T(e,["mimeType"],s),e}function Iie(t){const e={},n=v(t,["gcsUri"]);n!=null&&T(e,["uri"],n);const r=v(t,["bytesBase64Encoded"]);r!=null&&T(e,["videoBytes"],od(r));const s=v(t,["mimeType"]);return s!=null&&T(e,["mimeType"],s),e}function kie(t){const e={},n=v(t,["image"]);n!=null&&T(e,["_self"],Ql(n));const r=v(t,["maskMode"]);return r!=null&&T(e,["maskMode"],r),e}function Rie(t){const e={},n=v(t,["image"]);n!=null&&T(e,["image"],Av(n));const r=v(t,["referenceType"]);return r!=null&&T(e,["referenceType"],r),e}function Pie(t){const e={},n=v(t,["image"]);n!=null&&T(e,["image"],Ql(n));const r=v(t,["referenceType"]);return r!=null&&T(e,["referenceType"],r),e}function tO(t){const e={},n=v(t,["uri"]);n!=null&&T(e,["uri"],n);const r=v(t,["videoBytes"]);r!=null&&T(e,["encodedVideo"],od(r));const s=v(t,["mimeType"]);return s!=null&&T(e,["encoding"],s),e}function nO(t){const e={},n=v(t,["uri"]);n!=null&&T(e,["gcsUri"],n);const r=v(t,["videoBytes"]);r!=null&&T(e,["bytesBase64Encoded"],od(r));const s=v(t,["mimeType"]);return s!=null&&T(e,["mimeType"],s),e}const Die="Content-Type",Mie="X-Server-Timeout",Lie="User-Agent",K5="x-goog-api-client",Fie="1.30.0",Oie=`google-genai-sdk/${Fie}`,Bie="v1beta1",Vie="v1beta",l6=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class Uie{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const s={};this.clientOptions.vertexai?(s.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:Bie,s.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(s.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:Vie,s.baseUrl="https://generativelanguage.googleapis.com/"),s.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=s,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(s,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const s=[this.getRequestUrlInternal(n)];return r&&s.push(this.getBaseResourcePath()),e!==""&&s.push(e),new URL(`${s.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),s=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[a,o]of Object.entries(e.queryParams))s.searchParams.append(a,String(o));let i={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else i.body=e.body;return i=await this.includeExtraHttpOptionsToRequestInit(i,n,s.toString(),e.abortSignal),this.unaryApiCall(s,i,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[s,i]of Object.entries(n))typeof i=="object"?r[s]=Object.assign(Object.assign({},r[s]),i):i!==void 0&&(r[s]=i);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),s=this.constructUrl(e.path,n,r);(!s.searchParams.has("alt")||s.searchParams.get("alt")!=="sse")&&s.searchParams.set("alt","sse");let i={};return i.body=e.body,i=await this.includeExtraHttpOptionsToRequestInit(i,n,s.toString(),e.abortSignal),this.streamApiCall(s,i,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,s){if(n&&n.timeout||s){const i=new AbortController,a=i.signal;if(n.timeout&&n?.timeout>0){const o=setTimeout(()=>i.abort(),n.timeout);o&&typeof o.unref=="function"&&o.unref()}s&&s.addEventListener("abort",()=>{i.abort()}),e.signal=a}return n&&n.extraBody!==null&&jie(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async s=>(await c6(s),new H5(s))).catch(s=>{throw s instanceof Error?s:new Error(JSON.stringify(s))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async s=>(await c6(s),this.processStreamResponse(s))).catch(s=>{throw s instanceof Error?s:new Error(JSON.stringify(s))})}processStreamResponse(e){var n;return tp(this,arguments,function*(){const s=(n=e?.body)===null||n===void 0?void 0:n.getReader(),i=new TextDecoder("utf-8");if(!s)throw new Error("Response body is empty");try{let a="";for(;;){const{done:o,value:c}=yield ds(s.read());if(o){if(a.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const f=i.decode(c,{stream:!0});try{const p=JSON.parse(f);if("error"in p){const g=JSON.parse(JSON.stringify(p.error)),y=g.status,E=g.code,b=`got status: ${y}. ${JSON.stringify(p)}`;if(E>=400&&E<600)throw new Tv({message:b,status:E})}}catch(p){if(p.name==="ApiError")throw p}a+=f;let d=a.match(l6);for(;d;){const p=d[1];try{const g=new Response(p,{headers:e?.headers,status:e?.status,statusText:e?.statusText});yield yield ds(new H5(g)),a=a.slice(d[0].length),d=a.match(l6)}catch(g){throw new Error(`exception parsing stream chunk ${p}. ${g}`)}}}}finally{s.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=Oie+" "+this.clientOptions.userAgentExtra;return e[Lie]=n,e[K5]=n,e[Die]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[s,i]of Object.entries(e.headers))r.append(s,i);e.timeout&&e.timeout>0&&r.append(Mie,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const s={};n!=null&&(s.mimeType=n.mimeType,s.name=n.name,s.displayName=n.displayName),s.name&&!s.name.startsWith("files/")&&(s.name=`files/${s.name}`);const i=this.clientOptions.uploader,a=await i.stat(e);s.sizeBytes=String(a.size);const o=(r=n?.mimeType)!==null&&r!==void 0?r:a.type;if(o===void 0||o==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");s.mimeType=o;const c={file:s},f=this.getFileName(e),d=Ut("upload/v1beta/files",c._url),p=await this.fetchUploadUrl(d,s.sizeBytes,s.mimeType,f,c,n?.httpOptions);return i.upload(e,p,this)}async uploadFileToFileSearchStore(e,n,r){var s;const i=this.clientOptions.uploader,a=await i.stat(n),o=String(a.size),c=(s=r?.mimeType)!==null&&s!==void 0?s:a.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const f=`upload/v1beta/${e}:uploadToFileSearchStore`,d=this.getFileName(n),p={};r?.customMetadata&&(p.customMetadata=r.customMetadata),r?.chunkingConfig&&(p.chunkingConfig=r.chunkingConfig);const g=await this.fetchUploadUrl(f,o,c,d,p,r?.httpOptions);return i.uploadToFileSearchStore(n,g,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,s,i,a){var o;let c={};a?c=a:c={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},s?{"X-Goog-Upload-File-Name":s}:{})};const f=await this.request({path:e,body:JSON.stringify(i),httpMethod:"POST",httpOptions:c});if(!f||!f?.headers)throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const d=(o=f?.headers)===null||o===void 0?void 0:o["x-goog-upload-url"];if(d===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return d}}async function c6(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const s=JSON.stringify(r);throw n>=400&&n<600?new Tv({message:s,status:n}):new Error(s)}}function jie(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const i=JSON.parse(t.body);if(typeof i=="object"&&i!==null&&!Array.isArray(i))n=i;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(i,a){const o=Object.assign({},i);for(const c in a)if(Object.prototype.hasOwnProperty.call(a,c)){const f=a[c],d=o[c];f&&typeof f=="object"&&!Array.isArray(f)&&d&&typeof d=="object"&&!Array.isArray(d)?o[c]=r(d,f):(d&&f&&typeof d!=typeof f&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${c}". Original type: ${typeof d}, New type: ${typeof f}. Overwriting.`),o[c]=f)}return o}const s=r(n,e);t.body=JSON.stringify(s)}const qie="mcp_used/unknown";let Hie=!1;function rO(t){for(const e of t)if(zie(e)||typeof e=="object"&&"inputSchema"in e)return!0;return Hie}function sO(t){var e;const n=(e=t[K5])!==null&&e!==void 0?e:"";t[K5]=(n+` ${qie}`).trimStart()}function zie(t){return t!==null&&typeof t=="object"&&t instanceof mS}function Gie(t,e=100){return tp(this,arguments,function*(){let r,s=0;for(;s<e;){const i=yield ds(t.listTools({cursor:r}));for(const a of i.tools)yield yield ds(a),s++;if(!i.nextCursor)break;r=i.nextCursor}})}class mS{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new mS(e,n)}async initialize(){var e,n,r,s;if(this.mcpTools.length>0)return;const i={},a=[];for(const d of this.mcpClients)try{for(var o=!0,c=(n=void 0,gg(Gie(d))),f;f=await c.next(),e=f.done,!e;o=!0){s=f.value,o=!1;const p=s;a.push(p);const g=p.name;if(i[g])throw new Error(`Duplicate function name ${g} found in MCP tools. Please ensure function names are unique.`);i[g]=d}}catch(p){n={error:p}}finally{try{!o&&!e&&(r=c.return)&&await r.call(c)}finally{if(n)throw n.error}}this.mcpTools=a,this.functionNameToMcpClient=i}async tool(){return await this.initialize(),Ote(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const s=this.functionNameToMcpClient[r.name];let i;this.config.timeout&&(i={timeout:this.config.timeout});const a=await s.callTool({name:r.name,arguments:r.args},void 0,i);n.push({functionResponse:{name:r.name,response:a.isError?{error:a}:a}})}return n}}async function Wie(t,e,n){const r=new Ite;let s;n.data instanceof Blob?s=JSON.parse(await n.data.text()):s=JSON.parse(n.data),Object.assign(r,s),e(r)}class $ie{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const s=this.apiClient.getWebsocketBaseUrl(),i=this.apiClient.getApiVersion(),a=Xie(this.apiClient.getDefaultHeaders()),o=this.apiClient.getApiKey(),c=`${s}/ws/google.ai.generativelanguage.${i}.GenerativeService.BidiGenerateMusic?key=${o}`;let f=()=>{};const d=new Promise(k=>{f=k}),p=e.callbacks,g=function(){f({})},y=this.apiClient,E={onopen:g,onmessage:k=>{Wie(y,p.onmessage,k)},onerror:(n=p?.onerror)!==null&&n!==void 0?n:function(k){},onclose:(r=p?.onclose)!==null&&r!==void 0?r:function(k){}},b=this.webSocketFactory.create(c,Yie(a),E);b.connect(),await d;const V={setup:{model:kr(this.apiClient,e.model)}};return b.send(JSON.stringify(V)),new Kie(b,this.apiClient)}}class Kie{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=Mre(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=Dre(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(H0.PLAY)}pause(){this.sendPlaybackControl(H0.PAUSE)}stop(){this.sendPlaybackControl(H0.STOP)}resetContext(){this.sendPlaybackControl(H0.RESET_CONTEXT)}close(){this.conn.close()}}function Yie(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function Xie(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}const Jie="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function Qie(t,e,n){const r=new Nte;let s;n.data instanceof Blob?s=await n.data.text():n.data instanceof ArrayBuffer?s=new TextDecoder().decode(n.data):s=n.data;const i=JSON.parse(s);if(t.isVertexAI()){const a=Ore(i);Object.assign(r,a)}else Object.assign(r,i);e(r)}class Zie{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new $ie(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,s,i,a,o;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const c=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion();let d;const p=this.apiClient.getHeaders();e.config&&e.config.tools&&rO(e.config.tools)&&sO(p);const g=rae(p);if(this.apiClient.isVertexAI())d=`${c}/ws/google.cloud.aiplatform.${f}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(g,d);else{const R=this.apiClient.getApiKey();let q="BidiGenerateContent",P="key";R?.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),f!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),q="BidiGenerateContentConstrained",P="access_token"),d=`${c}/ws/google.ai.generativelanguage.${f}.GenerativeService.${q}?${P}=${R}`}let y=()=>{};const E=new Promise(R=>{y=R}),b=e.callbacks,A=function(){var R;(R=b?.onopen)===null||R===void 0||R.call(b),y({})},N=this.apiClient,V={onopen:A,onmessage:R=>{Qie(N,b.onmessage,R)},onerror:(n=b?.onerror)!==null&&n!==void 0?n:function(R){},onclose:(r=b?.onclose)!==null&&r!==void 0?r:function(R){}},k=this.webSocketFactory.create(d,nae(g),V);k.connect(),await E;let B=kr(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&B.startsWith("publishers/")){const R=this.apiClient.getProject(),q=this.apiClient.getLocation();B=`projects/${R}/locations/${q}/`+B}let W={};this.apiClient.isVertexAI()&&((s=e.config)===null||s===void 0?void 0:s.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Qg.AUDIO]}:e.config.responseModalities=[Qg.AUDIO]),!((i=e.config)===null||i===void 0)&&i.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const K=(o=(a=e.config)===null||a===void 0?void 0:a.tools)!==null&&o!==void 0?o:[],D=[];for(const R of K)if(this.isCallableTool(R)){const q=R;D.push(await q.tool())}else D.push(R);D.length>0&&(e.config.tools=D);const L={model:B,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?W=Pre(this.apiClient,L):W=Rre(this.apiClient,L),delete W.config,k.send(JSON.stringify(W)),new tae(k,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const eae={turnComplete:!0};class tae{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=ml(n.turns),e.isVertexAI()||(r=r.map(s=>Ev(s)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const i of r){if(typeof i!="object"||i===null||!("name"in i)||!("response"in i))throw new Error(`Could not parse function response, type '${typeof i}'.`);if(!e.isVertexAI()&&!("id"in i))throw new Error(Jie)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},eae),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:Fre(e)}:n={realtimeInput:Lre(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function nae(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function rae(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}const u6=10;function f6(t){var e,n,r;if(!((e=t?.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let s=!1;for(const a of(n=t?.tools)!==null&&n!==void 0?n:[])if(np(a)){s=!0;break}if(!s)return!0;const i=(r=t?.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return i&&(i<0||!Number.isInteger(i))||i==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",i),!0):!1}function np(t){return"callTool"in t&&typeof t.callTool=="function"}function sae(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(s=>np(s)))!==null&&r!==void 0?r:!1}function d6(t){var e;const n=[];return!((e=t?.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,s)=>{if(np(r))return;const i=r;i.functionDeclarations&&i.functionDeclarations.length>0&&n.push(s)}),n}function h6(t){var e;return!(!((e=t?.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}class iae extends ju{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,s,i,a,o;const c=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!sae(n)||f6(n.config))return await this.generateContentInternal(c);const f=d6(n);if(f.length>0){const b=f.map(A=>`tools[${A}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${b}.`)}let d,p;const g=ml(c.contents),y=(i=(s=(r=c.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls)!==null&&i!==void 0?i:u6;let E=0;for(;E<y&&(d=await this.generateContentInternal(c),!(!d.functionCalls||d.functionCalls.length===0));){const b=d.candidates[0].content,A=[];for(const N of(o=(a=n.config)===null||a===void 0?void 0:a.tools)!==null&&o!==void 0?o:[])if(np(N)){const k=await N.callTool(d.functionCalls);A.push(...k)}E++,p={role:"user",parts:A},c.contents=ml(c.contents),c.contents.push(b),c.contents.push(p),h6(c.config)&&(g.push(b),g.push(p))}return h6(c.config)&&(d.automaticFunctionCallingHistory=g),d},this.generateContentStream=async n=>{var r,s,i,a,o;if(this.maybeMoveToResponseJsonSchem(n),f6(n.config)){const p=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(p)}const c=d6(n);if(c.length>0){const p=c.map(g=>`tools[${g}]`).join(", ");throw new Error(`Incompatible tools found at ${p}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const f=(i=(s=(r=n?.config)===null||r===void 0?void 0:r.toolConfig)===null||s===void 0?void 0:s.functionCallingConfig)===null||i===void 0?void 0:i.streamFunctionCallArguments,d=(o=(a=n?.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||o===void 0?void 0:o.disable;if(f&&!d)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var s;let i;const a=[];if(r?.generatedImages)for(const c of r.generatedImages)c&&c?.safetyAttributes&&((s=c?.safetyAttributes)===null||s===void 0?void 0:s.contentType)==="Positive Prompt"?i=c?.safetyAttributes:a.push(c);let o;return i?o={generatedImages:a,positivePromptSafetyAttributes:i,sdkHttpResponse:r.sdkHttpResponse}:o={generatedImages:a,sdkHttpResponse:r.sdkHttpResponse},o}),this.list=async n=>{var r;const a={config:Object.assign(Object.assign({},{queryBase:!0}),n?.config)};if(this.apiClient.isVertexAI()&&!a.config.queryBase){if(!((r=a.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");a.config.filter="labels.tune-type:*"}return new bh(Fu.PAGED_ITEM_MODELS,o=>this.listInternal(o),await this.listInternal(a),a)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(s=>s.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const s={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(s)},this.generateVideos=async n=>{var r,s,i,a,o,c;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((s=n.video)===null||s===void 0)&&s.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((a=(i=n.source)===null||i===void 0?void 0:i.video)===null||a===void 0)&&a.uri&&(!((c=(o=n.source)===null||o===void 0?void 0:o.video)===null||c===void 0)&&c.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,s;const i=(n=e.config)===null||n===void 0?void 0:n.tools;if(!i)return e;const a=await Promise.all(i.map(async c=>np(c)?await c.tool():c)),o={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:a})};if(o.config.tools=a,e.config&&e.config.tools&&rO(e.config.tools)){const c=(s=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&s!==void 0?s:{};let f=Object.assign({},c);Object.keys(f).length===0&&(f=this.apiClient.getDefaultHeaders()),sO(f),o.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:f})}return o}async initAfcToolsMap(e){var n,r,s;const i=new Map;for(const a of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(np(a)){const o=a,c=await o.tool();for(const f of(s=c.functionDeclarations)!==null&&s!==void 0?s:[]){if(!f.name)throw new Error("Function declaration name is required.");if(i.has(f.name))throw new Error(`Duplicate tool declaration name: ${f.name}`);i.set(f.name,o)}}return i}async processAfcStream(e){var n,r,s;const i=(s=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&s!==void 0?s:u6;let a=!1,o=0;const c=await this.initAfcToolsMap(e);return(function(f,d,p){var g,y;return tp(this,arguments,function*(){for(var E,b,A,N;o<i;){a&&(o++,a=!1);const W=yield ds(f.processParamsMaybeAddMcpUsage(p)),K=yield ds(f.generateContentStreamInternal(W)),D=[],L=[];try{for(var V=!0,k=(b=void 0,gg(K)),B;B=yield ds(k.next()),E=B.done,!E;V=!0){N=B.value,V=!1;const R=N;if(yield yield ds(R),R.candidates&&(!((g=R.candidates[0])===null||g===void 0)&&g.content)){L.push(R.candidates[0].content);for(const q of(y=R.candidates[0].content.parts)!==null&&y!==void 0?y:[])if(o<i&&q.functionCall){if(!q.functionCall.name)throw new Error("Function call name was not returned by the model.");if(d.has(q.functionCall.name)){const P=yield ds(d.get(q.functionCall.name).callTool([q.functionCall]));D.push(...P)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${d.keys()}, mising tool: ${q.functionCall.name}`)}}}}catch(R){b={error:R}}finally{try{!V&&!E&&(A=k.return)&&(yield ds(A.call(k)))}finally{if(b)throw b.error}}if(D.length>0){a=!0;const R=new Bm;R.candidates=[{content:{role:"user",parts:D}}],yield yield ds(R);const q=[];q.push(...L),q.push({role:"user",parts:D});const P=ml(p.contents).concat(q);p.contents=P}else break}})})(this,c,e)}async generateContentInternal(e){var n,r,s,i;let a,o="",c={};if(this.apiClient.isVertexAI()){const f=i6(this.apiClient,e);return o=Ut("{model}:generateContent",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const p=o6(d),g=new Bm;return Object.assign(g,p),g})}else{const f=s6(this.apiClient,e);return o=Ut("{model}:generateContent",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const p=a6(d),g=new Bm;return Object.assign(g,p),g})}}async generateContentStreamInternal(e){var n,r,s,i;let a,o="",c={};if(this.apiClient.isVertexAI()){const f=i6(this.apiClient,e);return o=Ut("{model}:streamGenerateContent?alt=sse",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.requestStream({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),a.then(function(p){return tp(this,arguments,function*(){var g,y,E,b;try{for(var A=!0,N=gg(p),V;V=yield ds(N.next()),g=V.done,!g;A=!0){b=V.value,A=!1;const k=b,B=o6(yield ds(k.json()));B.sdkHttpResponse={headers:k.headers};const W=new Bm;Object.assign(W,B),yield yield ds(W)}}catch(k){y={error:k}}finally{try{!A&&!g&&(E=N.return)&&(yield ds(E.call(N)))}finally{if(y)throw y.error}}})})}else{const f=s6(this.apiClient,e);return o=Ut("{model}:streamGenerateContent?alt=sse",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.requestStream({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),a.then(function(p){return tp(this,arguments,function*(){var g,y,E,b;try{for(var A=!0,N=gg(p),V;V=yield ds(N.next()),g=V.done,!g;A=!0){b=V.value,A=!1;const k=b,B=a6(yield ds(k.json()));B.sdkHttpResponse={headers:k.headers};const W=new Bm;Object.assign(W,B),yield yield ds(W)}}catch(k){y={error:k}}finally{try{!A&&!g&&(E=N.return)&&(yield ds(E.call(N)))}finally{if(y)throw y.error}}})})}}async embedContent(e){var n,r,s,i;let a,o="",c={};if(this.apiClient.isVertexAI()){const f=hse(this.apiClient,e);return o=Ut("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const p=mse(d),g=new qk;return Object.assign(g,p),g})}else{const f=dse(this.apiClient,e);return o=Ut("{model}:batchEmbedContents",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const p=pse(d),g=new qk;return Object.assign(g,p),g})}}async generateImagesInternal(e){var n,r,s,i;let a,o="",c={};if(this.apiClient.isVertexAI()){const f=Ase(this.apiClient,e);return o=Ut("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const p=Nse(d),g=new Hk;return Object.assign(g,p),g})}else{const f=Sse(this.apiClient,e);return o=Ut("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const p=Cse(d),g=new Hk;return Object.assign(g,p),g})}}async editImageInternal(e){var n,r;let s,i="",a={};if(this.apiClient.isVertexAI()){const o=lse(this.apiClient,e);return i=Ut("{model}:predict",o._url),a=o._query,delete o._url,delete o._query,s=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const f=cse(c),d=new xte;return Object.assign(d,f),d})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let s,i="",a={};if(this.apiClient.isVertexAI()){const o=Aie(this.apiClient,e);return i=Ut("{model}:predict",o._url),a=o._query,delete o._url,delete o._query,s=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const f=Cie(c),d=new yte;return Object.assign(d,f),d})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let s,i="",a={};if(this.apiClient.isVertexAI()){const o=oie(this.apiClient,e);return i=Ut("{model}:predict",o._url),a=o._query,delete o._url,delete o._query,s=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>{const f=lie(c),d=new vte;return Object.assign(d,f),d})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let s,i="",a={};if(this.apiClient.isVertexAI()){const o=pie(this.apiClient,e);return i=Ut("{model}:predict",o._url),a=o._query,delete o._url,delete o._query,s=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>{const f=mie(c),d=new _te;return Object.assign(d,f),d})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,s,i;let a,o="",c={};if(this.apiClient.isVertexAI()){const f=Gse(this.apiClient,e);return o=Ut("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>$5(d))}else{const f=zse(this.apiClient,e);return o=Ut("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),a.then(d=>W5(d))}}async listInternal(e){var n,r,s,i;let a,o="",c={};if(this.apiClient.isVertexAI()){const f=eie(this.apiClient,e);return o=Ut("{models_url}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const p=nie(d),g=new zk;return Object.assign(g,p),g})}else{const f=Zse(this.apiClient,e);return o=Ut("{models_url}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const p=tie(d),g=new zk;return Object.assign(g,p),g})}}async update(e){var n,r,s,i;let a,o="",c={};if(this.apiClient.isVertexAI()){const f=Eie(this.apiClient,e);return o=Ut("{model}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>$5(d))}else{const f=Tie(this.apiClient,e);return o=Ut("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),a.then(d=>W5(d))}}async delete(e){var n,r,s,i;let a,o="",c={};if(this.apiClient.isVertexAI()){const f=sse(this.apiClient,e);return o=Ut("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const p=ase(d),g=new Gk;return Object.assign(g,p),g})}else{const f=rse(this.apiClient,e);return o=Ut("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const p=ise(d),g=new Gk;return Object.assign(g,p),g})}}async countTokens(e){var n,r,s,i;let a,o="",c={};if(this.apiClient.isVertexAI()){const f=ese(this.apiClient,e);return o=Ut("{model}:countTokens",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const p=nse(d),g=new Wk;return Object.assign(g,p),g})}else{const f=Zre(this.apiClient,e);return o=Ut("{model}:countTokens",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const p=tse(d),g=new Wk;return Object.assign(g,p),g})}}async computeTokens(e){var n,r;let s,i="",a={};if(this.apiClient.isVertexAI()){const o=Wre(this.apiClient,e);return i=Ut("{model}:computeTokens",o._url),a=o._query,delete o._url,delete o._query,s=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const f=$re(c),d=new bte;return Object.assign(d,f),d})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,s,i;let a,o="",c={};if(this.apiClient.isVertexAI()){const f=Mse(this.apiClient,e);return o=Ut("{model}:predictLongRunning",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>{const p=Pse(d),g=new w2;return Object.assign(g,p),g})}else{const f=Dse(this.apiClient,e);return o=Ut("{model}:predictLongRunning",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),a.then(d=>{const p=Rse(d),g=new w2;return Object.assign(g,p),g})}}}class aae extends ju{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const s=n.name.split("/operations/")[0];let i;r&&"httpOptions"in r&&(i=r.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:s,config:{httpOptions:i}});return n._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const s=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const s=n.name.split("/operations/")[0];let i;r&&"httpOptions"in r&&(i=r.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:s,config:{httpOptions:i}});return n._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const s=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,s,i;let a,o="",c={};if(this.apiClient.isVertexAI()){const f=fte(e);return o=Ut("{operationName}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a}else{const f=ute(e);return o=Ut("{operationName}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),a}}async fetchPredictVideosOperationInternal(e){var n,r;let s,i="",a={};if(this.apiClient.isVertexAI()){const o=rte(e);return i=Ut("{resourceName}:fetchPredictOperation",o._url),a=o._query,delete o._url,delete o._query,s=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s}else throw new Error("This method is only supported by the Vertex AI.")}}function oae(t){const e={},n=v(t,["data"]);if(n!=null&&T(e,["data"],n),v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=v(t,["mimeType"]);return r!=null&&T(e,["mimeType"],r),e}function lae(t){const e={},n=v(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(i=>xae(i))),T(e,["parts"],s)}const r=v(t,["role"]);return r!=null&&T(e,["role"],r),e}function cae(t,e,n){const r={},s=v(e,["expireTime"]);n!==void 0&&s!=null&&T(n,["expireTime"],s);const i=v(e,["newSessionExpireTime"]);n!==void 0&&i!=null&&T(n,["newSessionExpireTime"],i);const a=v(e,["uses"]);n!==void 0&&a!=null&&T(n,["uses"],a);const o=v(e,["liveConnectConstraints"]);n!==void 0&&o!=null&&T(n,["bidiGenerateContentSetup"],gae(t,o));const c=v(e,["lockAdditionalFields"]);return n!==void 0&&c!=null&&T(n,["fieldMask"],c),r}function uae(t,e){const n={},r=v(e,["config"]);return r!=null&&T(n,["config"],cae(t,r,n)),n}function fae(t){const e={};if(v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(t,["fileUri"]);n!=null&&T(e,["fileUri"],n);const r=v(t,["mimeType"]);return r!=null&&T(e,["mimeType"],r),e}function dae(t){const e={},n=v(t,["id"]);n!=null&&T(e,["id"],n);const r=v(t,["args"]);r!=null&&T(e,["args"],r);const s=v(t,["name"]);if(s!=null&&T(e,["name"],s),v(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(v(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function hae(t){const e={};if(v(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=v(t,["enableWidget"]);return n!=null&&T(e,["enableWidget"],n),e}function pae(t){const e={};if(v(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(v(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=v(t,["timeRangeFilter"]);return n!=null&&T(e,["timeRangeFilter"],n),e}function mae(t,e){const n={},r=v(t,["generationConfig"]);e!==void 0&&r!=null&&T(e,["setup","generationConfig"],r);const s=v(t,["responseModalities"]);e!==void 0&&s!=null&&T(e,["setup","generationConfig","responseModalities"],s);const i=v(t,["temperature"]);e!==void 0&&i!=null&&T(e,["setup","generationConfig","temperature"],i);const a=v(t,["topP"]);e!==void 0&&a!=null&&T(e,["setup","generationConfig","topP"],a);const o=v(t,["topK"]);e!==void 0&&o!=null&&T(e,["setup","generationConfig","topK"],o);const c=v(t,["maxOutputTokens"]);e!==void 0&&c!=null&&T(e,["setup","generationConfig","maxOutputTokens"],c);const f=v(t,["mediaResolution"]);e!==void 0&&f!=null&&T(e,["setup","generationConfig","mediaResolution"],f);const d=v(t,["seed"]);e!==void 0&&d!=null&&T(e,["setup","generationConfig","seed"],d);const p=v(t,["speechConfig"]);e!==void 0&&p!=null&&T(e,["setup","generationConfig","speechConfig"],pS(p));const g=v(t,["thinkingConfig"]);e!==void 0&&g!=null&&T(e,["setup","generationConfig","thinkingConfig"],g);const y=v(t,["enableAffectiveDialog"]);e!==void 0&&y!=null&&T(e,["setup","generationConfig","enableAffectiveDialog"],y);const E=v(t,["systemInstruction"]);e!==void 0&&E!=null&&T(e,["setup","systemInstruction"],lae(Aa(E)));const b=v(t,["tools"]);if(e!==void 0&&b!=null){let K=qp(b);Array.isArray(K)&&(K=K.map(D=>vae(jp(D)))),T(e,["setup","tools"],K)}const A=v(t,["sessionResumption"]);e!==void 0&&A!=null&&T(e,["setup","sessionResumption"],yae(A));const N=v(t,["inputAudioTranscription"]);e!==void 0&&N!=null&&T(e,["setup","inputAudioTranscription"],N);const V=v(t,["outputAudioTranscription"]);e!==void 0&&V!=null&&T(e,["setup","outputAudioTranscription"],V);const k=v(t,["realtimeInputConfig"]);e!==void 0&&k!=null&&T(e,["setup","realtimeInputConfig"],k);const B=v(t,["contextWindowCompression"]);e!==void 0&&B!=null&&T(e,["setup","contextWindowCompression"],B);const W=v(t,["proactivity"]);return e!==void 0&&W!=null&&T(e,["setup","proactivity"],W),n}function gae(t,e){const n={},r=v(e,["model"]);r!=null&&T(n,["setup","model"],kr(t,r));const s=v(e,["config"]);return s!=null&&T(n,["config"],mae(s,n)),n}function xae(t){const e={},n=v(t,["mediaResolution"]);n!=null&&T(e,["mediaResolution"],n);const r=v(t,["codeExecutionResult"]);r!=null&&T(e,["codeExecutionResult"],r);const s=v(t,["executableCode"]);s!=null&&T(e,["executableCode"],s);const i=v(t,["fileData"]);i!=null&&T(e,["fileData"],fae(i));const a=v(t,["functionCall"]);a!=null&&T(e,["functionCall"],dae(a));const o=v(t,["functionResponse"]);o!=null&&T(e,["functionResponse"],o);const c=v(t,["inlineData"]);c!=null&&T(e,["inlineData"],oae(c));const f=v(t,["text"]);f!=null&&T(e,["text"],f);const d=v(t,["thought"]);d!=null&&T(e,["thought"],d);const p=v(t,["thoughtSignature"]);p!=null&&T(e,["thoughtSignature"],p);const g=v(t,["videoMetadata"]);return g!=null&&T(e,["videoMetadata"],g),e}function yae(t){const e={},n=v(t,["handle"]);if(n!=null&&T(e,["handle"],n),v(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function vae(t){const e={},n=v(t,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(p=>p)),T(e,["functionDeclarations"],d)}if(v(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=v(t,["googleSearchRetrieval"]);r!=null&&T(e,["googleSearchRetrieval"],r);const s=v(t,["computerUse"]);s!=null&&T(e,["computerUse"],s);const i=v(t,["fileSearch"]);i!=null&&T(e,["fileSearch"],i);const a=v(t,["codeExecution"]);if(a!=null&&T(e,["codeExecution"],a),v(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=v(t,["googleMaps"]);o!=null&&T(e,["googleMaps"],hae(o));const c=v(t,["googleSearch"]);c!=null&&T(e,["googleSearch"],pae(c));const f=v(t,["urlContext"]);return f!=null&&T(e,["urlContext"],f),e}function _ae(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const s=Object.keys(r).map(i=>`${n}.${i}`);e.push(...s)}else e.push(n)}return e.join(",")}function bae(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const i=r.setup;typeof i=="object"&&i!==null?(t.bidiGenerateContentSetup=i,n=i):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const s=t.fieldMask;if(n){const i=_ae(n);if(Array.isArray(e?.lockAdditionalFields)&&e?.lockAdditionalFields.length===0)i?t.fieldMask=i:delete t.fieldMask;else if(e?.lockAdditionalFields&&e.lockAdditionalFields.length>0&&s!==null&&Array.isArray(s)&&s.length>0){const a=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let o=[];s.length>0&&(o=s.map(f=>a.includes(f)?`generationConfig.${f}`:f));const c=[];i&&c.push(i),o.length>0&&c.push(...o),c.length>0?t.fieldMask=c.join(","):delete t.fieldMask}else delete t.fieldMask}else s!==null&&Array.isArray(s)&&s.length>0?t.fieldMask=s.join(","):delete t.fieldMask;return t}class wae extends ju{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let s,i="",a={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const o=uae(this.apiClient,e);i=Ut("auth_tokens",o._url),a=o._query,delete o.config,delete o._url,delete o._query;const c=bae(o,e.config);return s=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>f)}}}function Tae(t,e){const n={},r=v(t,["displayName"]);return e!==void 0&&r!=null&&T(e,["displayName"],r),n}function Eae(t){const e={},n=v(t,["config"]);return n!=null&&Tae(n,e),e}function Sae(t,e){const n={},r=v(t,["force"]);return e!==void 0&&r!=null&&T(e,["_query","force"],r),n}function Aae(t){const e={},n=v(t,["name"]);n!=null&&T(e,["_url","name"],n);const r=v(t,["config"]);return r!=null&&Sae(r,e),e}function Cae(t){const e={},n=v(t,["name"]);return n!=null&&T(e,["_url","name"],n),e}function Nae(t,e){const n={},r=v(t,["customMetadata"]);if(e!==void 0&&r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),T(e,["customMetadata"],i)}const s=v(t,["chunkingConfig"]);return e!==void 0&&s!=null&&T(e,["chunkingConfig"],s),n}function Iae(t){const e={},n=v(t,["name"]);n!=null&&T(e,["name"],n);const r=v(t,["metadata"]);r!=null&&T(e,["metadata"],r);const s=v(t,["done"]);s!=null&&T(e,["done"],s);const i=v(t,["error"]);i!=null&&T(e,["error"],i);const a=v(t,["response"]);return a!=null&&T(e,["response"],Rae(a)),e}function kae(t){const e={},n=v(t,["fileSearchStoreName"]);n!=null&&T(e,["_url","file_search_store_name"],n);const r=v(t,["fileName"]);r!=null&&T(e,["fileName"],r);const s=v(t,["config"]);return s!=null&&Nae(s,e),e}function Rae(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&T(e,["sdkHttpResponse"],n);const r=v(t,["parent"]);r!=null&&T(e,["parent"],r);const s=v(t,["documentName"]);return s!=null&&T(e,["documentName"],s),e}function Pae(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&T(e,["_query","pageSize"],r);const s=v(t,["pageToken"]);return e!==void 0&&s!=null&&T(e,["_query","pageToken"],s),n}function Dae(t){const e={},n=v(t,["config"]);return n!=null&&Pae(n,e),e}function Mae(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&T(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&T(e,["nextPageToken"],r);const s=v(t,["fileSearchStores"]);if(s!=null){let i=s;Array.isArray(i)&&(i=i.map(a=>a)),T(e,["fileSearchStores"],i)}return e}function Lae(t,e){const n={},r=v(t,["mimeType"]);e!==void 0&&r!=null&&T(e,["mimeType"],r);const s=v(t,["displayName"]);e!==void 0&&s!=null&&T(e,["displayName"],s);const i=v(t,["customMetadata"]);if(e!==void 0&&i!=null){let o=i;Array.isArray(o)&&(o=o.map(c=>c)),T(e,["customMetadata"],o)}const a=v(t,["chunkingConfig"]);return e!==void 0&&a!=null&&T(e,["chunkingConfig"],a),n}function Fae(t){const e={},n=v(t,["fileSearchStoreName"]);n!=null&&T(e,["_url","file_search_store_name"],n);const r=v(t,["config"]);return r!=null&&Lae(r,e),e}function Oae(t){const e={},n=v(t,["sdkHttpResponse"]);return n!=null&&T(e,["sdkHttpResponse"],n),e}function Bae(t,e){const n={},r=v(t,["force"]);return e!==void 0&&r!=null&&T(e,["_query","force"],r),n}function Vae(t){const e={},n=v(t,["name"]);n!=null&&T(e,["_url","name"],n);const r=v(t,["config"]);return r!=null&&Bae(r,e),e}function Uae(t){const e={},n=v(t,["name"]);return n!=null&&T(e,["_url","name"],n),e}function jae(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&T(e,["_query","pageSize"],r);const s=v(t,["pageToken"]);return e!==void 0&&s!=null&&T(e,["_query","pageToken"],s),n}function qae(t){const e={},n=v(t,["parent"]);n!=null&&T(e,["_url","parent"],n);const r=v(t,["config"]);return r!=null&&jae(r,e),e}function Hae(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&T(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&T(e,["nextPageToken"],r);const s=v(t,["documents"]);if(s!=null){let i=s;Array.isArray(i)&&(i=i.map(a=>a)),T(e,["documents"],i)}return e}class zae extends ju{constructor(e){super(),this.apiClient=e,this.list=async n=>new bh(Fu.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let s,i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Uae(e);return i=Ut("{name}",o._url),a=o._query,delete o._url,delete o._query,s=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>c)}}async delete(e){var n,r;let s="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Vae(e);s=Ut("{name}",a._url),i=a._query,delete a._url,delete a._query,await this.apiClient.request({path:s,queryParams:i,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let s,i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=qae(e);return i=Ut("{parent}/documents",o._url),a=o._query,delete o._url,delete o._query,s=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>{const f=Hae(c),d=new wte;return Object.assign(d,f),d})}}}class Gae extends ju{constructor(e,n=new zae(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new bh(Fu.PAGED_ITEM_FILE_SEARCH_STORES,s=>this.listInternal(s),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let s,i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Eae(e);return i=Ut("fileSearchStores",o._url),a=o._query,delete o._url,delete o._query,s=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>c)}}async get(e){var n,r;let s,i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Cae(e);return i=Ut("{name}",o._url),a=o._query,delete o._url,delete o._query,s=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>c)}}async delete(e){var n,r;let s="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Aae(e);s=Ut("{name}",a._url),i=a._query,delete a._url,delete a._query,await this.apiClient.request({path:s,queryParams:i,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let s,i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Dae(e);return i=Ut("fileSearchStores",o._url),a=o._query,delete o._url,delete o._query,s=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>{const f=Mae(c),d=new Tte;return Object.assign(d,f),d})}}async uploadToFileSearchStoreInternal(e){var n,r;let s,i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Fae(e);return i=Ut("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",o._url),a=o._query,delete o._url,delete o._query,s=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>{const f=Oae(c),d=new Ete;return Object.assign(d,f),d})}}async importFile(e){var n,r;let s,i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=kae(e);return i=Ut("{file_search_store_name}:importFile",o._url),a=o._query,delete o._url,delete o._query,s=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>{const f=Iae(c),d=new cS;return Object.assign(d,f),d})}}}function Wae(t,e){const n={},r=v(t,["name"]);return r!=null&&T(n,["_url","name"],r),n}function $ae(t,e){const n={},r=v(t,["name"]);return r!=null&&T(n,["_url","name"],r),n}function Kae(t,e,n){const r={};if(v(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const s=v(t,["tunedModelDisplayName"]);if(e!==void 0&&s!=null&&T(e,["displayName"],s),v(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const i=v(t,["epochCount"]);e!==void 0&&i!=null&&T(e,["tuningTask","hyperparameters","epochCount"],i);const a=v(t,["learningRateMultiplier"]);if(a!=null&&T(r,["tuningTask","hyperparameters","learningRateMultiplier"],a),v(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(v(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(v(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const o=v(t,["batchSize"]);e!==void 0&&o!=null&&T(e,["tuningTask","hyperparameters","batchSize"],o);const c=v(t,["learningRate"]);if(e!==void 0&&c!=null&&T(e,["tuningTask","hyperparameters","learningRate"],c),v(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(v(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function Yae(t,e,n){const r={};let s=v(n,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const y=v(t,["validationDataset"]);e!==void 0&&y!=null&&T(e,["supervisedTuningSpec"],p6(y))}else if(s==="PREFERENCE_TUNING"){const y=v(t,["validationDataset"]);e!==void 0&&y!=null&&T(e,["preferenceOptimizationSpec"],p6(y))}const i=v(t,["tunedModelDisplayName"]);e!==void 0&&i!=null&&T(e,["tunedModelDisplayName"],i);const a=v(t,["description"]);e!==void 0&&a!=null&&T(e,["description"],a);let o=v(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const y=v(t,["epochCount"]);e!==void 0&&y!=null&&T(e,["supervisedTuningSpec","hyperParameters","epochCount"],y)}else if(o==="PREFERENCE_TUNING"){const y=v(t,["epochCount"]);e!==void 0&&y!=null&&T(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],y)}let c=v(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const y=v(t,["learningRateMultiplier"]);e!==void 0&&y!=null&&T(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],y)}else if(c==="PREFERENCE_TUNING"){const y=v(t,["learningRateMultiplier"]);e!==void 0&&y!=null&&T(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],y)}let f=v(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const y=v(t,["exportLastCheckpointOnly"]);e!==void 0&&y!=null&&T(e,["supervisedTuningSpec","exportLastCheckpointOnly"],y)}else if(f==="PREFERENCE_TUNING"){const y=v(t,["exportLastCheckpointOnly"]);e!==void 0&&y!=null&&T(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],y)}let d=v(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const y=v(t,["adapterSize"]);e!==void 0&&y!=null&&T(e,["supervisedTuningSpec","hyperParameters","adapterSize"],y)}else if(d==="PREFERENCE_TUNING"){const y=v(t,["adapterSize"]);e!==void 0&&y!=null&&T(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],y)}if(v(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(v(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const p=v(t,["labels"]);e!==void 0&&p!=null&&T(e,["labels"],p);const g=v(t,["beta"]);return e!==void 0&&g!=null&&T(e,["preferenceOptimizationSpec","hyperParameters","beta"],g),r}function Xae(t,e){const n={},r=v(t,["baseModel"]);r!=null&&T(n,["baseModel"],r);const s=v(t,["preTunedModel"]);s!=null&&T(n,["preTunedModel"],s);const i=v(t,["trainingDataset"]);i!=null&&ooe(i);const a=v(t,["config"]);return a!=null&&Kae(a,n),n}function Jae(t,e){const n={},r=v(t,["baseModel"]);r!=null&&T(n,["baseModel"],r);const s=v(t,["preTunedModel"]);s!=null&&T(n,["preTunedModel"],s);const i=v(t,["trainingDataset"]);i!=null&&loe(i,n,e);const a=v(t,["config"]);return a!=null&&Yae(a,n,e),n}function Qae(t,e){const n={},r=v(t,["name"]);return r!=null&&T(n,["_url","name"],r),n}function Zae(t,e){const n={},r=v(t,["name"]);return r!=null&&T(n,["_url","name"],r),n}function eoe(t,e,n){const r={},s=v(t,["pageSize"]);e!==void 0&&s!=null&&T(e,["_query","pageSize"],s);const i=v(t,["pageToken"]);e!==void 0&&i!=null&&T(e,["_query","pageToken"],i);const a=v(t,["filter"]);return e!==void 0&&a!=null&&T(e,["_query","filter"],a),r}function toe(t,e,n){const r={},s=v(t,["pageSize"]);e!==void 0&&s!=null&&T(e,["_query","pageSize"],s);const i=v(t,["pageToken"]);e!==void 0&&i!=null&&T(e,["_query","pageToken"],i);const a=v(t,["filter"]);return e!==void 0&&a!=null&&T(e,["_query","filter"],a),r}function noe(t,e){const n={},r=v(t,["config"]);return r!=null&&eoe(r,n),n}function roe(t,e){const n={},r=v(t,["config"]);return r!=null&&toe(r,n),n}function soe(t,e){const n={},r=v(t,["sdkHttpResponse"]);r!=null&&T(n,["sdkHttpResponse"],r);const s=v(t,["nextPageToken"]);s!=null&&T(n,["nextPageToken"],s);const i=v(t,["tunedModels"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>iO(o))),T(n,["tuningJobs"],a)}return n}function ioe(t,e){const n={},r=v(t,["sdkHttpResponse"]);r!=null&&T(n,["sdkHttpResponse"],r);const s=v(t,["nextPageToken"]);s!=null&&T(n,["nextPageToken"],s);const i=v(t,["tuningJobs"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>Y5(o))),T(n,["tuningJobs"],a)}return n}function aoe(t,e){const n={},r=v(t,["name"]);r!=null&&T(n,["model"],r);const s=v(t,["name"]);return s!=null&&T(n,["endpoint"],s),n}function ooe(t,e){const n={};if(v(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(v(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=v(t,["examples"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(i=>i)),T(n,["examples","examples"],s)}return n}function loe(t,e,n){const r={};let s=v(n,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const a=v(t,["gcsUri"]);e!==void 0&&a!=null&&T(e,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(s==="PREFERENCE_TUNING"){const a=v(t,["gcsUri"]);e!==void 0&&a!=null&&T(e,["preferenceOptimizationSpec","trainingDatasetUri"],a)}let i=v(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const a=v(t,["vertexDatasetResource"]);e!==void 0&&a!=null&&T(e,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(i==="PREFERENCE_TUNING"){const a=v(t,["vertexDatasetResource"]);e!==void 0&&a!=null&&T(e,["preferenceOptimizationSpec","trainingDatasetUri"],a)}if(v(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function iO(t,e){const n={},r=v(t,["sdkHttpResponse"]);r!=null&&T(n,["sdkHttpResponse"],r);const s=v(t,["name"]);s!=null&&T(n,["name"],s);const i=v(t,["state"]);i!=null&&T(n,["state"],U7(i));const a=v(t,["createTime"]);a!=null&&T(n,["createTime"],a);const o=v(t,["tuningTask","startTime"]);o!=null&&T(n,["startTime"],o);const c=v(t,["tuningTask","completeTime"]);c!=null&&T(n,["endTime"],c);const f=v(t,["updateTime"]);f!=null&&T(n,["updateTime"],f);const d=v(t,["description"]);d!=null&&T(n,["description"],d);const p=v(t,["baseModel"]);p!=null&&T(n,["baseModel"],p);const g=v(t,["_self"]);return g!=null&&T(n,["tunedModel"],aoe(g)),n}function Y5(t,e){const n={},r=v(t,["sdkHttpResponse"]);r!=null&&T(n,["sdkHttpResponse"],r);const s=v(t,["name"]);s!=null&&T(n,["name"],s);const i=v(t,["state"]);i!=null&&T(n,["state"],U7(i));const a=v(t,["createTime"]);a!=null&&T(n,["createTime"],a);const o=v(t,["startTime"]);o!=null&&T(n,["startTime"],o);const c=v(t,["endTime"]);c!=null&&T(n,["endTime"],c);const f=v(t,["updateTime"]);f!=null&&T(n,["updateTime"],f);const d=v(t,["error"]);d!=null&&T(n,["error"],d);const p=v(t,["description"]);p!=null&&T(n,["description"],p);const g=v(t,["baseModel"]);g!=null&&T(n,["baseModel"],g);const y=v(t,["tunedModel"]);y!=null&&T(n,["tunedModel"],y);const E=v(t,["preTunedModel"]);E!=null&&T(n,["preTunedModel"],E);const b=v(t,["supervisedTuningSpec"]);b!=null&&T(n,["supervisedTuningSpec"],b);const A=v(t,["preferenceOptimizationSpec"]);A!=null&&T(n,["preferenceOptimizationSpec"],A);const N=v(t,["tuningDataStats"]);N!=null&&T(n,["tuningDataStats"],N);const V=v(t,["encryptionSpec"]);V!=null&&T(n,["encryptionSpec"],V);const k=v(t,["partnerModelTuningSpec"]);k!=null&&T(n,["partnerModelTuningSpec"],k);const B=v(t,["customBaseModel"]);B!=null&&T(n,["customBaseModel"],B);const W=v(t,["experiment"]);W!=null&&T(n,["experiment"],W);const K=v(t,["labels"]);K!=null&&T(n,["labels"],K);const D=v(t,["outputUri"]);D!=null&&T(n,["outputUri"],D);const L=v(t,["pipelineJob"]);L!=null&&T(n,["pipelineJob"],L);const R=v(t,["serviceAccount"]);R!=null&&T(n,["serviceAccount"],R);const q=v(t,["tunedModelDisplayName"]);q!=null&&T(n,["tunedModelDisplayName"],q);const P=v(t,["veoTuningSpec"]);return P!=null&&T(n,["veoTuningSpec"],P),n}function coe(t,e){const n={},r=v(t,["sdkHttpResponse"]);r!=null&&T(n,["sdkHttpResponse"],r);const s=v(t,["name"]);s!=null&&T(n,["name"],s);const i=v(t,["metadata"]);i!=null&&T(n,["metadata"],i);const a=v(t,["done"]);a!=null&&T(n,["done"],a);const o=v(t,["error"]);return o!=null&&T(n,["error"],o),n}function p6(t,e){const n={},r=v(t,["gcsUri"]);r!=null&&T(n,["validationDatasetUri"],r);const s=v(t,["vertexDatasetResource"]);return s!=null&&T(n,["validationDatasetUri"],s),n}class uoe extends ju{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new bh(Fu.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const s={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(s.checkpointId=n.config.preTunedModelCheckpointId);const i=Object.assign(Object.assign({},n),{preTunedModel:s});return i.baseModel=void 0,await this.tuneInternal(i)}else{const s=Object.assign({},n);return await this.tuneInternal(s)}else{const s=Object.assign({},n),i=await this.tuneMldevInternal(s);let a="";return i.metadata!==void 0&&i.metadata.tunedModel!==void 0?a=i.metadata.tunedModel:i.name!==void 0&&i.name.includes("/operations/")&&(a=i.name.split("/operations/")[0]),{name:a,state:q5.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,s,i;let a,o="",c={};if(this.apiClient.isVertexAI()){const f=Zae(e);return o=Ut("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>Y5(d))}else{const f=Qae(e);return o=Ut("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>iO(d))}}async listInternal(e){var n,r,s,i;let a,o="",c={};if(this.apiClient.isVertexAI()){const f=roe(e);return o=Ut("tuningJobs",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const p=ioe(d),g=new $k;return Object.assign(g,p),g})}else{const f=noe(e);return o=Ut("tunedModels",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const p=soe(d),g=new $k;return Object.assign(g,p),g})}}async cancel(e){var n,r,s,i;let a="",o={};if(this.apiClient.isVertexAI()){const c=$ae(e);a=Ut("{name}:cancel",c._url),o=c._query,delete c._url,delete c._query,await this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const c=Wae(e);a=Ut("{name}:cancel",c._url),o=c._query,delete c._url,delete c._query,await this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async tuneInternal(e){var n,r;let s,i="",a={};if(this.apiClient.isVertexAI()){const o=Jae(e,e);return i=Ut("tuningJobs",o._url),a=o._query,delete o._url,delete o._query,s=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>Y5(c))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let s,i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Xae(e);return i=Ut("tunedModels",o._url),a=o._query,delete o._url,delete o._query,s=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>coe(c))}}}class foe{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const doe=1024*1024*8,hoe=3,poe=1e3,moe=2,E2="x-goog-upload-status";async function goe(t,e,n){var r;const s=await aO(t,e,n),i=await s?.json();if(((r=s?.headers)===null||r===void 0?void 0:r[E2])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return i.file}async function xoe(t,e,n){var r;const s=await aO(t,e,n),i=await s?.json();if(((r=s?.headers)===null||r===void 0?void 0:r[E2])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const a=M7(i),o=new uS;return Object.assign(o,a),o}async function aO(t,e,n){var r,s;let i=0,a=0,o=new H5(new Response),c="upload";for(i=t.size;a<i;){const f=Math.min(doe,i-a),d=t.slice(a,a+f);a+f>=i&&(c+=", finalize");let p=0,g=poe;for(;p<hoe&&(o=await n.request({path:"",body:d,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":c,"X-Goog-Upload-Offset":String(a),"Content-Length":String(f)}}}),!(!((r=o?.headers)===null||r===void 0)&&r[E2]));)p++,await voe(g),g=g*moe;if(a+=f,((s=o?.headers)===null||s===void 0?void 0:s[E2])!=="active")break;if(i<=a)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return o}async function yoe(t){return{size:t.size,type:t.type}}function voe(t){return new Promise(e=>setTimeout(e,t))}class _oe{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await goe(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await xoe(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await yoe(e)}}class boe{create(e,n,r){return new woe(e,n,r)}}class woe{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}const m6="x-goog-api-key";class Toe{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(m6)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(m6,this.apiKey)}}}const Eoe="gl-node/";class Soe{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=tte(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion;const s=new Toe(this.apiKey);this.apiClient=new Uie({auth:s,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:Eoe+"web",uploader:new _oe,downloader:new foe}),this.models=new iae(this.apiClient),this.live=new Zie(this.apiClient,s,new boe),this.batches=new kne(this.apiClient),this.chats=new fre(this.models,this.apiClient),this.caches=new lre(this.apiClient),this.files=new bre(this.apiClient),this.operations=new aae(this.apiClient),this.authTokens=new wae(this.apiClient),this.tunings=new uoe(this.apiClient),this.fileSearchStores=new Gae(this.apiClient)}}var g6={};function Aoe(t){const e=atob(t),n=e.length,r=new Uint8Array(n);for(let s=0;s<n;s++)r[s]=e.charCodeAt(s);return r}async function Coe(t,e,n,r){const s=new Int16Array(t.buffer),i=s.length/r,a=e.createBuffer(r,i,n);for(let o=0;o<r;o++){const c=a.getChannelData(o);for(let f=0;f<i;f++)c[f]=s[f*r+o]/32768}return a}const Noe={generateSpeech:async t=>{if(!g6.API_KEY){console.error("API Key is missing"),alert("API Key missing in environment variables.");return}const e=new Soe({apiKey:g6.API_KEY});try{const r=(await e.models.generateContent({model:"gemini-2.5-flash-preview-tts",contents:[{parts:[{text:t}]}],config:{responseModalities:[Qg.AUDIO],speechConfig:{voiceConfig:{prebuiltVoiceConfig:{voiceName:"Kore"}}}}})).candidates?.[0]?.content?.parts?.[0]?.inlineData?.data;if(!r)throw new Error("No audio data returned from Gemini.");const s=new(window.AudioContext||window.webkitAudioContext)({sampleRate:24e3}),i=s.createGain();i.connect(s.destination);const a=Aoe(r),o=await Coe(a,s,24e3,1),c=s.createBufferSource();c.buffer=o,c.connect(i),c.start()}catch(n){console.error("Error generating speech:",n),alert("Failed to generate speech. Please try again.")}}},S2={shareInvoice:(t,e,n)=>{if(!e)return alert("Customer data not found.");const r=e.phone.replace(/\D/g,"");if(!r)return alert("Customer phone number missing.");const s=t.items.map(c=>`- ${c.description} (x${c.quantity})`).join("%0A"),i=`https://billflow-app.web.app/invoice/${t.id}`,a=`https://billflow-app.web.app/customer/${e.id}/ledger`,o=`*TAX INVOICE* %0A*${n.name}* %0A%0AHello ${e.company||e.name}, %0AHere are your invoice details: %0A%0A*Inv No:* ${t.invoiceNumber} %0A*Date:* ${t.date} %0A*Amount:* Rs. ${t.total.toFixed(2)} %0A*Status:* ${t.status==="PAID"?"PAID ":"PENDING "} %0A%0A*Items:* %0A${s} %0A%0A *View Invoice:* ${i} %0A *View Ledger:* ${a} %0A%0AThank you for your business!`;window.open(`https://wa.me/${r}?text=${o}`,"_blank")},sharePayment:(t,e,n)=>{if(!e)return alert("Customer data not found.");const r=e.phone.replace(/\D/g,"");if(!r)return alert("Customer phone number missing.");const s=`https://billflow-app.web.app/customer/${e.id}/ledger`,i=`*PAYMENT RECEIPT* %0A*${n.name}* %0A%0AHello ${e.company||e.name}, %0AWe have received your payment. %0A%0A*Amount:* Rs. ${t.amount.toFixed(2)} %0A*Date:* ${t.date} %0A*Mode:* ${t.mode} %0A*Ref:* ${t.reference||"N/A"} %0A%0A*Current Balance:* Rs. ${e.balance.toFixed(2)} %0A%0A *View Ledger:* ${s} %0A%0AThank you!`;window.open(`https://wa.me/${r}?text=${i}`,"_blank")}};function Ur(t){"@babel/helpers - typeof";return Ur=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ur(t)}var Jl=Uint8Array,Vo=Uint16Array,gS=Int32Array,xS=new Jl([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),yS=new Jl([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),x6=new Jl([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),oO=function(t,e){for(var n=new Vo(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var s=new gS(n[30]),r=1;r<30;++r)for(var i=n[r];i<n[r+1];++i)s[i]=i-n[r]<<5|r;return{b:n,r:s}},lO=oO(xS,2),Ioe=lO.b,X5=lO.r;Ioe[28]=258,X5[258]=28;var koe=oO(yS,0),y6=koe.r,J5=new Vo(32768);for(var hs=0;hs<32768;++hs){var Ef=(hs&43690)>>1|(hs&21845)<<1;Ef=(Ef&52428)>>2|(Ef&13107)<<2,Ef=(Ef&61680)>>4|(Ef&3855)<<4,J5[hs]=((Ef&65280)>>8|(Ef&255)<<8)>>1}var xg=(function(t,e,n){for(var r=t.length,s=0,i=new Vo(e);s<r;++s)t[s]&&++i[t[s]-1];var a=new Vo(e);for(s=1;s<e;++s)a[s]=a[s-1]+i[s-1]<<1;var o;if(n){o=new Vo(1<<e);var c=15-e;for(s=0;s<r;++s)if(t[s])for(var f=s<<4|t[s],d=e-t[s],p=a[t[s]-1]++<<d,g=p|(1<<d)-1;p<=g;++p)o[J5[p]>>c]=f}else for(o=new Vo(r),s=0;s<r;++s)t[s]&&(o[s]=J5[a[t[s]-1]++]>>15-t[s]);return o}),fh=new Jl(288);for(var hs=0;hs<144;++hs)fh[hs]=8;for(var hs=144;hs<256;++hs)fh[hs]=9;for(var hs=256;hs<280;++hs)fh[hs]=7;for(var hs=280;hs<288;++hs)fh[hs]=8;var A2=new Jl(32);for(var hs=0;hs<32;++hs)A2[hs]=5;var Roe=xg(fh,9,0),Poe=xg(A2,5,0),cO=function(t){return(t+7)/8|0},Doe=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new Jl(t.subarray(e,n))},gu=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},Vm=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},Rb=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var s=n.length,i=n.slice();if(!s)return{t:fO,l:0};if(s==1){var a=new Jl(n[0].s+1);return a[n[0].s]=1,{t:a,l:1}}n.sort(function(W,K){return W.f-K.f}),n.push({s:-1,f:25001});var o=n[0],c=n[1],f=0,d=1,p=2;for(n[0]={s:-1,f:o.f+c.f,l:o,r:c};d!=s-1;)o=n[n[f].f<n[p].f?f++:p++],c=n[f!=d&&n[f].f<n[p].f?f++:p++],n[d++]={s:-1,f:o.f+c.f,l:o,r:c};for(var g=i[0].s,r=1;r<s;++r)i[r].s>g&&(g=i[r].s);var y=new Vo(g+1),E=Q5(n[d-1],y,0);if(E>e){var r=0,b=0,A=E-e,N=1<<A;for(i.sort(function(K,D){return y[D.s]-y[K.s]||K.f-D.f});r<s;++r){var V=i[r].s;if(y[V]>e)b+=N-(1<<E-y[V]),y[V]=e;else break}for(b>>=A;b>0;){var k=i[r].s;y[k]<e?b-=1<<e-y[k]++-1:++r}for(;r>=0&&b;--r){var B=i[r].s;y[B]==e&&(--y[B],++b)}E=e}return{t:new Jl(y),l:E}},Q5=function(t,e,n){return t.s==-1?Math.max(Q5(t.l,e,n+1),Q5(t.r,e,n+1)):e[t.s]=n},v6=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new Vo(++e),r=0,s=t[0],i=1,a=function(c){n[r++]=c},o=1;o<=e;++o)if(t[o]==s&&o!=e)++i;else{if(!s&&i>2){for(;i>138;i-=138)a(32754);i>2&&(a(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(a(s),--i;i>6;i-=6)a(8304);i>2&&(a(i-3<<5|8208),i=0)}for(;i--;)a(s);i=1,s=t[o]}return{c:n.subarray(0,r),n:e}},Um=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},uO=function(t,e,n){var r=n.length,s=cO(e+2);t[s]=r&255,t[s+1]=r>>8,t[s+2]=t[s]^255,t[s+3]=t[s+1]^255;for(var i=0;i<r;++i)t[s+i+4]=n[i];return(s+4+r)*8},_6=function(t,e,n,r,s,i,a,o,c,f,d){gu(e,d++,n),++s[256];for(var p=Rb(s,15),g=p.t,y=p.l,E=Rb(i,15),b=E.t,A=E.l,N=v6(g),V=N.c,k=N.n,B=v6(b),W=B.c,K=B.n,D=new Vo(19),L=0;L<V.length;++L)++D[V[L]&31];for(var L=0;L<W.length;++L)++D[W[L]&31];for(var R=Rb(D,7),q=R.t,P=R.l,M=19;M>4&&!q[x6[M-1]];--M);var H=f+5<<3,ae=Um(s,fh)+Um(i,A2)+a,Se=Um(s,g)+Um(i,b)+a+14+3*M+Um(D,q)+2*D[16]+3*D[17]+7*D[18];if(c>=0&&H<=ae&&H<=Se)return uO(e,d,t.subarray(c,c+f));var oe,ve,Ie,xe;if(gu(e,d,1+(Se<ae)),d+=2,Se<ae){oe=xg(g,y,0),ve=g,Ie=xg(b,A,0),xe=b;var Re=xg(q,P,0);gu(e,d,k-257),gu(e,d+5,K-1),gu(e,d+10,M-4),d+=14;for(var L=0;L<M;++L)gu(e,d+3*L,q[x6[L]]);d+=3*M;for(var re=[V,W],O=0;O<2;++O)for(var J=re[O],L=0;L<J.length;++L){var U=J[L]&31;gu(e,d,Re[U]),d+=q[U],U>15&&(gu(e,d,J[L]>>5&127),d+=J[L]>>12)}}else oe=Roe,ve=fh,Ie=Poe,xe=A2;for(var L=0;L<o;++L){var Y=r[L];if(Y>255){var U=Y>>18&31;Vm(e,d,oe[U+257]),d+=ve[U+257],U>7&&(gu(e,d,Y>>23&31),d+=xS[U]);var ne=Y&31;Vm(e,d,Ie[ne]),d+=xe[ne],ne>3&&(Vm(e,d,Y>>5&8191),d+=yS[ne])}else Vm(e,d,oe[Y]),d+=ve[Y]}return Vm(e,d,oe[256]),d+ve[256]},Moe=new gS([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),fO=new Jl(0),Loe=function(t,e,n,r,s,i){var a=i.z||t.length,o=new Jl(r+a+5*(1+Math.ceil(a/7e3))+s),c=o.subarray(r,o.length-s),f=i.l,d=(i.r||0)&7;if(e){d&&(c[0]=i.r>>3);for(var p=Moe[e-1],g=p>>13,y=p&8191,E=(1<<n)-1,b=i.p||new Vo(32768),A=i.h||new Vo(E+1),N=Math.ceil(n/3),V=2*N,k=function(pt){return(t[pt]^t[pt+1]<<N^t[pt+2]<<V)&E},B=new gS(25e3),W=new Vo(288),K=new Vo(32),D=0,L=0,R=i.i||0,q=0,P=i.w||0,M=0;R+2<a;++R){var H=k(R),ae=R&32767,Se=A[H];if(b[ae]=Se,A[H]=ae,P<=R){var oe=a-R;if((D>7e3||q>24576)&&(oe>423||!f)){d=_6(t,c,0,B,W,K,L,q,M,R-M,d),q=D=L=0,M=R;for(var ve=0;ve<286;++ve)W[ve]=0;for(var ve=0;ve<30;++ve)K[ve]=0}var Ie=2,xe=0,Re=y,re=ae-Se&32767;if(oe>2&&H==k(R-re))for(var O=Math.min(g,oe)-1,J=Math.min(32767,R),U=Math.min(258,oe);re<=J&&--Re&&ae!=Se;){if(t[R+Ie]==t[R+Ie-re]){for(var Y=0;Y<U&&t[R+Y]==t[R+Y-re];++Y);if(Y>Ie){if(Ie=Y,xe=re,Y>O)break;for(var ne=Math.min(re,Y-2),ye=0,ve=0;ve<ne;++ve){var pe=R-re+ve&32767,ue=b[pe],Te=pe-ue&32767;Te>ye&&(ye=Te,Se=pe)}}}ae=Se,Se=b[ae],re+=ae-Se&32767}if(xe){B[q++]=268435456|X5[Ie]<<18|y6[xe];var je=X5[Ie]&31,ce=y6[xe]&31;L+=xS[je]+yS[ce],++W[257+je],++K[ce],P=R+Ie,++D}else B[q++]=t[R],++W[t[R]]}}for(R=Math.max(R,P);R<a;++R)B[q++]=t[R],++W[t[R]];d=_6(t,c,f,B,W,K,L,q,M,R-M,d),f||(i.r=d&7|c[d/8|0]<<3,d-=7,i.h=A,i.p=b,i.i=R,i.w=P)}else{for(var R=i.w||0;R<a+f;R+=65535){var dt=R+65535;dt>=a&&(c[d/8|0]=f,dt=a),d=uO(c,d+1,t.subarray(R,dt))}i.i=a}return Doe(o,0,r+cO(d)+s)},dO=function(){var t=1,e=0;return{p:function(n){for(var r=t,s=e,i=n.length|0,a=0;a!=i;){for(var o=Math.min(a+2655,i);a<o;++a)s+=r+=n[a];r=(r&65535)+15*(r>>16),s=(s&65535)+15*(s>>16)}t=r,e=s},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},Foe=function(t,e,n,r,s){if(!s&&(s={l:1},e.dictionary)){var i=e.dictionary.subarray(-32768),a=new Jl(i.length+t.length);a.set(i),a.set(t,i.length),t=a,s.w=i.length}return Loe(t,e.level==null?6:e.level,e.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,s)},hO=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},Ooe=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var s=dO();s.p(e.dictionary),hO(t,2,s.d())}};function Z5(t,e){e||(e={});var n=dO();n.p(t);var r=Foe(t,e,e.dictionary?6:2,4);return Ooe(r,e),hO(r,r.length-4,n.d()),r}var Boe=typeof TextDecoder<"u"&&new TextDecoder,Voe=0;try{Boe.decode(fO,{stream:!0}),Voe=1}catch{}function Uoe(t){if(Array.isArray(t))return t}function joe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,i,a,o=[],c=!0,f=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(c=(r=i.call(n)).done)&&(o.push(r.value),o.length!==e);c=!0);}catch(d){f=!0,s=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(f)throw s}}return o}}function b6(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function qoe(t,e){if(t){if(typeof t=="string")return b6(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b6(t,e):void 0}}function Hoe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w6(t,e){return Uoe(t)||joe(t,e)||qoe(t,e)||Hoe()}function T6(t,e="utf8"){return new TextDecoder(e).decode(t)}const zoe=new TextEncoder;function Goe(t){return zoe.encode(t)}const Woe=1024*8,$oe=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),Pb={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class vS{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=Woe,n={}){let r=!1;typeof e=="number"?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);const s=n.offset?n.offset>>>0:0,i=e.byteLength-s;let a=s;(ArrayBuffer.isView(e)||e instanceof vS)&&(e.byteLength!==e.buffer.byteLength&&(a=e.byteOffset+s),e=e.buffer),r?this.lastWrittenByte=i:this.lastWrittenByte=0,this.buffer=e,this.length=i,this.byteLength=i,this.byteOffset=a,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,a,i),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const r=(this.offset+e)*2,s=new Uint8Array(r);s.set(new Uint8Array(this.buffer)),this.buffer=s.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,n){const r=Pb[n].BYTES_PER_ELEMENT*e,s=this.byteOffset+this.offset,i=this.buffer.slice(s,s+r);if(this.littleEndian===$oe&&n!=="uint8"&&n!=="int8"){const o=new Uint8Array(this.buffer.slice(s,s+r));o.reverse();const c=new Pb[n](o.buffer);return this.offset+=r,c.reverse(),c}const a=new Pb[n](i);return this.offset+=r,a}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let n="";for(let r=0;r<e;r++)n+=this.readChar();return n}readUtf8(e=1){return T6(this.readBytes(e))}decodeText(e=1,n="utf8"){return T6(this.readBytes(e),n)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let n=0;n<e.length;n++)this._data.setUint8(this.offset++,e[n]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let n=0;n<e.length;n++)this.writeUint8(e.charCodeAt(n));return this}writeUtf8(e){return this.writeBytes(Goe(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function zp(t){let e=t.length;for(;--e>=0;)t[e]=0}const Koe=3,Yoe=258,pO=29,Xoe=256,Joe=Xoe+1+pO,mO=30,Qoe=512,Zoe=new Array((Joe+2)*2);zp(Zoe);const ele=new Array(mO*2);zp(ele);const tle=new Array(Qoe);zp(tle);const nle=new Array(Yoe-Koe+1);zp(nle);const rle=new Array(pO);zp(rle);const sle=new Array(mO);zp(sle);const ile=(t,e,n,r)=>{let s=t&65535|0,i=t>>>16&65535|0,a=0;for(;n!==0;){a=n>2e3?2e3:n,n-=a;do s=s+e[r++]|0,i=i+s|0;while(--a);s%=65521,i%=65521}return s|i<<16|0};var eT=ile;const ale=()=>{let t,e=[];for(var n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=t&1?3988292384^t>>>1:t>>>1;e[n]=t}return e},ole=new Uint32Array(ale()),lle=(t,e,n,r)=>{const s=ole,i=r+n;t^=-1;for(let a=r;a<i;a++)t=t>>>8^s[(t^e[a])&255];return t^-1};var _c=lle,tT={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},gO={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const cle=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var ule=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const n=e.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)cle(n,r)&&(t[r]=n[r])}}return t},fle=t=>{let e=0;for(let r=0,s=t.length;r<s;r++)e+=t[r].length;const n=new Uint8Array(e);for(let r=0,s=0,i=t.length;r<i;r++){let a=t[r];n.set(a,s),s+=a.length}return n},xO={assign:ule,flattenChunks:fle};let yO=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{yO=!1}const Zg=new Uint8Array(256);for(let t=0;t<256;t++)Zg[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;Zg[254]=Zg[254]=1;var dle=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,n,r,s,i,a=t.length,o=0;for(s=0;s<a;s++)n=t.charCodeAt(s),(n&64512)===55296&&s+1<a&&(r=t.charCodeAt(s+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),s++)),o+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(o),i=0,s=0;i<o;s++)n=t.charCodeAt(s),(n&64512)===55296&&s+1<a&&(r=t.charCodeAt(s+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),s++)),n<128?e[i++]=n:n<2048?(e[i++]=192|n>>>6,e[i++]=128|n&63):n<65536?(e[i++]=224|n>>>12,e[i++]=128|n>>>6&63,e[i++]=128|n&63):(e[i++]=240|n>>>18,e[i++]=128|n>>>12&63,e[i++]=128|n>>>6&63,e[i++]=128|n&63);return e};const hle=(t,e)=>{if(e<65534&&t.subarray&&yO)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let n="";for(let r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n};var ple=(t,e)=>{const n=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let r,s;const i=new Array(n*2);for(s=0,r=0;r<n;){let a=t[r++];if(a<128){i[s++]=a;continue}let o=Zg[a];if(o>4){i[s++]=65533,r+=o-1;continue}for(a&=o===2?31:o===3?15:7;o>1&&r<n;)a=a<<6|t[r++]&63,o--;if(o>1){i[s++]=65533;continue}a<65536?i[s++]=a:(a-=65536,i[s++]=55296|a>>10&1023,i[s++]=56320|a&1023)}return hle(i,s)},mle=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let n=e-1;for(;n>=0&&(t[n]&192)===128;)n--;return n<0||n===0?e:n+Zg[t[n]]>e?n:e},nT={string2buf:dle,buf2string:ple,utf8border:mle};function gle(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var xle=gle;const Wx=16209,yle=16191;var vle=function(e,n){let r,s,i,a,o,c,f,d,p,g,y,E,b,A,N,V,k,B,W,K,D,L,R,q;const P=e.state;r=e.next_in,R=e.input,s=r+(e.avail_in-5),i=e.next_out,q=e.output,a=i-(n-e.avail_out),o=i+(e.avail_out-257),c=P.dmax,f=P.wsize,d=P.whave,p=P.wnext,g=P.window,y=P.hold,E=P.bits,b=P.lencode,A=P.distcode,N=(1<<P.lenbits)-1,V=(1<<P.distbits)-1;e:do{E<15&&(y+=R[r++]<<E,E+=8,y+=R[r++]<<E,E+=8),k=b[y&N];t:for(;;){if(B=k>>>24,y>>>=B,E-=B,B=k>>>16&255,B===0)q[i++]=k&65535;else if(B&16){W=k&65535,B&=15,B&&(E<B&&(y+=R[r++]<<E,E+=8),W+=y&(1<<B)-1,y>>>=B,E-=B),E<15&&(y+=R[r++]<<E,E+=8,y+=R[r++]<<E,E+=8),k=A[y&V];n:for(;;){if(B=k>>>24,y>>>=B,E-=B,B=k>>>16&255,B&16){if(K=k&65535,B&=15,E<B&&(y+=R[r++]<<E,E+=8,E<B&&(y+=R[r++]<<E,E+=8)),K+=y&(1<<B)-1,K>c){e.msg="invalid distance too far back",P.mode=Wx;break e}if(y>>>=B,E-=B,B=i-a,K>B){if(B=K-B,B>d&&P.sane){e.msg="invalid distance too far back",P.mode=Wx;break e}if(D=0,L=g,p===0){if(D+=f-B,B<W){W-=B;do q[i++]=g[D++];while(--B);D=i-K,L=q}}else if(p<B){if(D+=f+p-B,B-=p,B<W){W-=B;do q[i++]=g[D++];while(--B);if(D=0,p<W){B=p,W-=B;do q[i++]=g[D++];while(--B);D=i-K,L=q}}}else if(D+=p-B,B<W){W-=B;do q[i++]=g[D++];while(--B);D=i-K,L=q}for(;W>2;)q[i++]=L[D++],q[i++]=L[D++],q[i++]=L[D++],W-=3;W&&(q[i++]=L[D++],W>1&&(q[i++]=L[D++]))}else{D=i-K;do q[i++]=q[D++],q[i++]=q[D++],q[i++]=q[D++],W-=3;while(W>2);W&&(q[i++]=q[D++],W>1&&(q[i++]=q[D++]))}}else if((B&64)===0){k=A[(k&65535)+(y&(1<<B)-1)];continue n}else{e.msg="invalid distance code",P.mode=Wx;break e}break}}else if((B&64)===0){k=b[(k&65535)+(y&(1<<B)-1)];continue t}else if(B&32){P.mode=yle;break e}else{e.msg="invalid literal/length code",P.mode=Wx;break e}break}}while(r<s&&i<o);W=E>>3,r-=W,E-=W<<3,y&=(1<<E)-1,e.next_in=r,e.next_out=i,e.avail_in=r<s?5+(s-r):5-(r-s),e.avail_out=i<o?257+(o-i):257-(i-o),P.hold=y,P.bits=E};const v0=15,E6=852,S6=592,A6=0,Db=1,C6=2,_le=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),ble=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),wle=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Tle=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Ele=(t,e,n,r,s,i,a,o)=>{const c=o.bits;let f=0,d=0,p=0,g=0,y=0,E=0,b=0,A=0,N=0,V=0,k,B,W,K,D,L=null,R;const q=new Uint16Array(v0+1),P=new Uint16Array(v0+1);let M=null,H,ae,Se;for(f=0;f<=v0;f++)q[f]=0;for(d=0;d<r;d++)q[e[n+d]]++;for(y=c,g=v0;g>=1&&q[g]===0;g--);if(y>g&&(y=g),g===0)return s[i++]=1<<24|64<<16|0,s[i++]=1<<24|64<<16|0,o.bits=1,0;for(p=1;p<g&&q[p]===0;p++);for(y<p&&(y=p),A=1,f=1;f<=v0;f++)if(A<<=1,A-=q[f],A<0)return-1;if(A>0&&(t===A6||g!==1))return-1;for(P[1]=0,f=1;f<v0;f++)P[f+1]=P[f]+q[f];for(d=0;d<r;d++)e[n+d]!==0&&(a[P[e[n+d]]++]=d);if(t===A6?(L=M=a,R=20):t===Db?(L=_le,M=ble,R=257):(L=wle,M=Tle,R=0),V=0,d=0,f=p,D=i,E=y,b=0,W=-1,N=1<<y,K=N-1,t===Db&&N>E6||t===C6&&N>S6)return 1;for(;;){H=f-b,a[d]+1<R?(ae=0,Se=a[d]):a[d]>=R?(ae=M[a[d]-R],Se=L[a[d]-R]):(ae=96,Se=0),k=1<<f-b,B=1<<E,p=B;do B-=k,s[D+(V>>b)+B]=H<<24|ae<<16|Se|0;while(B!==0);for(k=1<<f-1;V&k;)k>>=1;if(k!==0?(V&=k-1,V+=k):V=0,d++,--q[f]===0){if(f===g)break;f=e[n+a[d]]}if(f>y&&(V&K)!==W){for(b===0&&(b=y),D+=p,E=f-b,A=1<<E;E+b<g&&(A-=q[E+b],!(A<=0));)E++,A<<=1;if(N+=1<<E,t===Db&&N>E6||t===C6&&N>S6)return 1;W=V&K,s[W]=y<<24|E<<16|D-i|0}}return V!==0&&(s[D+V]=f-b<<24|64<<16|0),o.bits=y,0};var yg=Ele;const Sle=0,vO=1,_O=2,{Z_FINISH:N6,Z_BLOCK:Ale,Z_TREES:$x,Z_OK:dh,Z_STREAM_END:Cle,Z_NEED_DICT:Nle,Z_STREAM_ERROR:gl,Z_DATA_ERROR:bO,Z_MEM_ERROR:wO,Z_BUF_ERROR:Ile,Z_DEFLATED:I6}=gO,Cv=16180,k6=16181,R6=16182,P6=16183,D6=16184,M6=16185,L6=16186,F6=16187,O6=16188,B6=16189,C2=16190,xu=16191,Mb=16192,V6=16193,Lb=16194,U6=16195,j6=16196,q6=16197,H6=16198,Kx=16199,Yx=16200,z6=16201,G6=16202,W6=16203,$6=16204,K6=16205,Fb=16206,Y6=16207,X6=16208,_s=16209,TO=16210,EO=16211,kle=852,Rle=592,Ple=15,Dle=Ple,J6=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function Mle(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const wh=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<Cv||e.mode>EO?1:0},SO=t=>{if(wh(t))return gl;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=Cv,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(kle),e.distcode=e.distdyn=new Int32Array(Rle),e.sane=1,e.back=-1,dh},AO=t=>{if(wh(t))return gl;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,SO(t)},CO=(t,e)=>{let n;if(wh(t))return gl;const r=t.state;return e<0?(n=0,e=-e):(n=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?gl:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,AO(t))},NO=(t,e)=>{if(!t)return gl;const n=new Mle;t.state=n,n.strm=t,n.window=null,n.mode=Cv;const r=CO(t,e);return r!==dh&&(t.state=null),r},Lle=t=>NO(t,Dle);let Q6=!0,Ob,Bb;const Fle=t=>{if(Q6){Ob=new Int32Array(512),Bb=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(yg(vO,t.lens,0,288,Ob,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;yg(_O,t.lens,0,32,Bb,0,t.work,{bits:5}),Q6=!1}t.lencode=Ob,t.lenbits=9,t.distcode=Bb,t.distbits=5},IO=(t,e,n,r)=>{let s;const i=t.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),r>=i.wsize?(i.window.set(e.subarray(n-i.wsize,n),0),i.wnext=0,i.whave=i.wsize):(s=i.wsize-i.wnext,s>r&&(s=r),i.window.set(e.subarray(n-r,n-r+s),i.wnext),r-=s,r?(i.window.set(e.subarray(n-r,n),0),i.wnext=r,i.whave=i.wsize):(i.wnext+=s,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=s))),0},Ole=(t,e)=>{let n,r,s,i,a,o,c,f,d,p,g,y,E,b,A=0,N,V,k,B,W,K,D,L;const R=new Uint8Array(4);let q,P;const M=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(wh(t)||!t.output||!t.input&&t.avail_in!==0)return gl;n=t.state,n.mode===xu&&(n.mode=Mb),a=t.next_out,s=t.output,c=t.avail_out,i=t.next_in,r=t.input,o=t.avail_in,f=n.hold,d=n.bits,p=o,g=c,L=dh;e:for(;;)switch(n.mode){case Cv:if(n.wrap===0){n.mode=Mb;break}for(;d<16;){if(o===0)break e;o--,f+=r[i++]<<d,d+=8}if(n.wrap&2&&f===35615){n.wbits===0&&(n.wbits=15),n.check=0,R[0]=f&255,R[1]=f>>>8&255,n.check=_c(n.check,R,2,0),f=0,d=0,n.mode=k6;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((f&255)<<8)+(f>>8))%31){t.msg="incorrect header check",n.mode=_s;break}if((f&15)!==I6){t.msg="unknown compression method",n.mode=_s;break}if(f>>>=4,d-=4,D=(f&15)+8,n.wbits===0&&(n.wbits=D),D>15||D>n.wbits){t.msg="invalid window size",n.mode=_s;break}n.dmax=1<<n.wbits,n.flags=0,t.adler=n.check=1,n.mode=f&512?B6:xu,f=0,d=0;break;case k6:for(;d<16;){if(o===0)break e;o--,f+=r[i++]<<d,d+=8}if(n.flags=f,(n.flags&255)!==I6){t.msg="unknown compression method",n.mode=_s;break}if(n.flags&57344){t.msg="unknown header flags set",n.mode=_s;break}n.head&&(n.head.text=f>>8&1),n.flags&512&&n.wrap&4&&(R[0]=f&255,R[1]=f>>>8&255,n.check=_c(n.check,R,2,0)),f=0,d=0,n.mode=R6;case R6:for(;d<32;){if(o===0)break e;o--,f+=r[i++]<<d,d+=8}n.head&&(n.head.time=f),n.flags&512&&n.wrap&4&&(R[0]=f&255,R[1]=f>>>8&255,R[2]=f>>>16&255,R[3]=f>>>24&255,n.check=_c(n.check,R,4,0)),f=0,d=0,n.mode=P6;case P6:for(;d<16;){if(o===0)break e;o--,f+=r[i++]<<d,d+=8}n.head&&(n.head.xflags=f&255,n.head.os=f>>8),n.flags&512&&n.wrap&4&&(R[0]=f&255,R[1]=f>>>8&255,n.check=_c(n.check,R,2,0)),f=0,d=0,n.mode=D6;case D6:if(n.flags&1024){for(;d<16;){if(o===0)break e;o--,f+=r[i++]<<d,d+=8}n.length=f,n.head&&(n.head.extra_len=f),n.flags&512&&n.wrap&4&&(R[0]=f&255,R[1]=f>>>8&255,n.check=_c(n.check,R,2,0)),f=0,d=0}else n.head&&(n.head.extra=null);n.mode=M6;case M6:if(n.flags&1024&&(y=n.length,y>o&&(y=o),y&&(n.head&&(D=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(i,i+y),D)),n.flags&512&&n.wrap&4&&(n.check=_c(n.check,r,y,i)),o-=y,i+=y,n.length-=y),n.length))break e;n.length=0,n.mode=L6;case L6:if(n.flags&2048){if(o===0)break e;y=0;do D=r[i+y++],n.head&&D&&n.length<65536&&(n.head.name+=String.fromCharCode(D));while(D&&y<o);if(n.flags&512&&n.wrap&4&&(n.check=_c(n.check,r,y,i)),o-=y,i+=y,D)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=F6;case F6:if(n.flags&4096){if(o===0)break e;y=0;do D=r[i+y++],n.head&&D&&n.length<65536&&(n.head.comment+=String.fromCharCode(D));while(D&&y<o);if(n.flags&512&&n.wrap&4&&(n.check=_c(n.check,r,y,i)),o-=y,i+=y,D)break e}else n.head&&(n.head.comment=null);n.mode=O6;case O6:if(n.flags&512){for(;d<16;){if(o===0)break e;o--,f+=r[i++]<<d,d+=8}if(n.wrap&4&&f!==(n.check&65535)){t.msg="header crc mismatch",n.mode=_s;break}f=0,d=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=xu;break;case B6:for(;d<32;){if(o===0)break e;o--,f+=r[i++]<<d,d+=8}t.adler=n.check=J6(f),f=0,d=0,n.mode=C2;case C2:if(n.havedict===0)return t.next_out=a,t.avail_out=c,t.next_in=i,t.avail_in=o,n.hold=f,n.bits=d,Nle;t.adler=n.check=1,n.mode=xu;case xu:if(e===Ale||e===$x)break e;case Mb:if(n.last){f>>>=d&7,d-=d&7,n.mode=Fb;break}for(;d<3;){if(o===0)break e;o--,f+=r[i++]<<d,d+=8}switch(n.last=f&1,f>>>=1,d-=1,f&3){case 0:n.mode=V6;break;case 1:if(Fle(n),n.mode=Kx,e===$x){f>>>=2,d-=2;break e}break;case 2:n.mode=j6;break;case 3:t.msg="invalid block type",n.mode=_s}f>>>=2,d-=2;break;case V6:for(f>>>=d&7,d-=d&7;d<32;){if(o===0)break e;o--,f+=r[i++]<<d,d+=8}if((f&65535)!==(f>>>16^65535)){t.msg="invalid stored block lengths",n.mode=_s;break}if(n.length=f&65535,f=0,d=0,n.mode=Lb,e===$x)break e;case Lb:n.mode=U6;case U6:if(y=n.length,y){if(y>o&&(y=o),y>c&&(y=c),y===0)break e;s.set(r.subarray(i,i+y),a),o-=y,i+=y,c-=y,a+=y,n.length-=y;break}n.mode=xu;break;case j6:for(;d<14;){if(o===0)break e;o--,f+=r[i++]<<d,d+=8}if(n.nlen=(f&31)+257,f>>>=5,d-=5,n.ndist=(f&31)+1,f>>>=5,d-=5,n.ncode=(f&15)+4,f>>>=4,d-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=_s;break}n.have=0,n.mode=q6;case q6:for(;n.have<n.ncode;){for(;d<3;){if(o===0)break e;o--,f+=r[i++]<<d,d+=8}n.lens[M[n.have++]]=f&7,f>>>=3,d-=3}for(;n.have<19;)n.lens[M[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,q={bits:n.lenbits},L=yg(Sle,n.lens,0,19,n.lencode,0,n.work,q),n.lenbits=q.bits,L){t.msg="invalid code lengths set",n.mode=_s;break}n.have=0,n.mode=H6;case H6:for(;n.have<n.nlen+n.ndist;){for(;A=n.lencode[f&(1<<n.lenbits)-1],N=A>>>24,V=A>>>16&255,k=A&65535,!(N<=d);){if(o===0)break e;o--,f+=r[i++]<<d,d+=8}if(k<16)f>>>=N,d-=N,n.lens[n.have++]=k;else{if(k===16){for(P=N+2;d<P;){if(o===0)break e;o--,f+=r[i++]<<d,d+=8}if(f>>>=N,d-=N,n.have===0){t.msg="invalid bit length repeat",n.mode=_s;break}D=n.lens[n.have-1],y=3+(f&3),f>>>=2,d-=2}else if(k===17){for(P=N+3;d<P;){if(o===0)break e;o--,f+=r[i++]<<d,d+=8}f>>>=N,d-=N,D=0,y=3+(f&7),f>>>=3,d-=3}else{for(P=N+7;d<P;){if(o===0)break e;o--,f+=r[i++]<<d,d+=8}f>>>=N,d-=N,D=0,y=11+(f&127),f>>>=7,d-=7}if(n.have+y>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=_s;break}for(;y--;)n.lens[n.have++]=D}}if(n.mode===_s)break;if(n.lens[256]===0){t.msg="invalid code -- missing end-of-block",n.mode=_s;break}if(n.lenbits=9,q={bits:n.lenbits},L=yg(vO,n.lens,0,n.nlen,n.lencode,0,n.work,q),n.lenbits=q.bits,L){t.msg="invalid literal/lengths set",n.mode=_s;break}if(n.distbits=6,n.distcode=n.distdyn,q={bits:n.distbits},L=yg(_O,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,q),n.distbits=q.bits,L){t.msg="invalid distances set",n.mode=_s;break}if(n.mode=Kx,e===$x)break e;case Kx:n.mode=Yx;case Yx:if(o>=6&&c>=258){t.next_out=a,t.avail_out=c,t.next_in=i,t.avail_in=o,n.hold=f,n.bits=d,vle(t,g),a=t.next_out,s=t.output,c=t.avail_out,i=t.next_in,r=t.input,o=t.avail_in,f=n.hold,d=n.bits,n.mode===xu&&(n.back=-1);break}for(n.back=0;A=n.lencode[f&(1<<n.lenbits)-1],N=A>>>24,V=A>>>16&255,k=A&65535,!(N<=d);){if(o===0)break e;o--,f+=r[i++]<<d,d+=8}if(V&&(V&240)===0){for(B=N,W=V,K=k;A=n.lencode[K+((f&(1<<B+W)-1)>>B)],N=A>>>24,V=A>>>16&255,k=A&65535,!(B+N<=d);){if(o===0)break e;o--,f+=r[i++]<<d,d+=8}f>>>=B,d-=B,n.back+=B}if(f>>>=N,d-=N,n.back+=N,n.length=k,V===0){n.mode=K6;break}if(V&32){n.back=-1,n.mode=xu;break}if(V&64){t.msg="invalid literal/length code",n.mode=_s;break}n.extra=V&15,n.mode=z6;case z6:if(n.extra){for(P=n.extra;d<P;){if(o===0)break e;o--,f+=r[i++]<<d,d+=8}n.length+=f&(1<<n.extra)-1,f>>>=n.extra,d-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=G6;case G6:for(;A=n.distcode[f&(1<<n.distbits)-1],N=A>>>24,V=A>>>16&255,k=A&65535,!(N<=d);){if(o===0)break e;o--,f+=r[i++]<<d,d+=8}if((V&240)===0){for(B=N,W=V,K=k;A=n.distcode[K+((f&(1<<B+W)-1)>>B)],N=A>>>24,V=A>>>16&255,k=A&65535,!(B+N<=d);){if(o===0)break e;o--,f+=r[i++]<<d,d+=8}f>>>=B,d-=B,n.back+=B}if(f>>>=N,d-=N,n.back+=N,V&64){t.msg="invalid distance code",n.mode=_s;break}n.offset=k,n.extra=V&15,n.mode=W6;case W6:if(n.extra){for(P=n.extra;d<P;){if(o===0)break e;o--,f+=r[i++]<<d,d+=8}n.offset+=f&(1<<n.extra)-1,f>>>=n.extra,d-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=_s;break}n.mode=$6;case $6:if(c===0)break e;if(y=g-c,n.offset>y){if(y=n.offset-y,y>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=_s;break}y>n.wnext?(y-=n.wnext,E=n.wsize-y):E=n.wnext-y,y>n.length&&(y=n.length),b=n.window}else b=s,E=a-n.offset,y=n.length;y>c&&(y=c),c-=y,n.length-=y;do s[a++]=b[E++];while(--y);n.length===0&&(n.mode=Yx);break;case K6:if(c===0)break e;s[a++]=n.length,c--,n.mode=Yx;break;case Fb:if(n.wrap){for(;d<32;){if(o===0)break e;o--,f|=r[i++]<<d,d+=8}if(g-=c,t.total_out+=g,n.total+=g,n.wrap&4&&g&&(t.adler=n.check=n.flags?_c(n.check,s,g,a-g):eT(n.check,s,g,a-g)),g=c,n.wrap&4&&(n.flags?f:J6(f))!==n.check){t.msg="incorrect data check",n.mode=_s;break}f=0,d=0}n.mode=Y6;case Y6:if(n.wrap&&n.flags){for(;d<32;){if(o===0)break e;o--,f+=r[i++]<<d,d+=8}if(n.wrap&4&&f!==(n.total&4294967295)){t.msg="incorrect length check",n.mode=_s;break}f=0,d=0}n.mode=X6;case X6:L=Cle;break e;case _s:L=bO;break e;case TO:return wO;case EO:default:return gl}return t.next_out=a,t.avail_out=c,t.next_in=i,t.avail_in=o,n.hold=f,n.bits=d,(n.wsize||g!==t.avail_out&&n.mode<_s&&(n.mode<Fb||e!==N6))&&IO(t,t.output,t.next_out,g-t.avail_out),p-=t.avail_in,g-=t.avail_out,t.total_in+=p,t.total_out+=g,n.total+=g,n.wrap&4&&g&&(t.adler=n.check=n.flags?_c(n.check,s,g,t.next_out-g):eT(n.check,s,g,t.next_out-g)),t.data_type=n.bits+(n.last?64:0)+(n.mode===xu?128:0)+(n.mode===Kx||n.mode===Lb?256:0),(p===0&&g===0||e===N6)&&L===dh&&(L=Ile),L},Ble=t=>{if(wh(t))return gl;let e=t.state;return e.window&&(e.window=null),t.state=null,dh},Vle=(t,e)=>{if(wh(t))return gl;const n=t.state;return(n.wrap&2)===0?gl:(n.head=e,e.done=!1,dh)},Ule=(t,e)=>{const n=e.length;let r,s,i;return wh(t)||(r=t.state,r.wrap!==0&&r.mode!==C2)?gl:r.mode===C2&&(s=1,s=eT(s,e,n,0),s!==r.check)?bO:(i=IO(t,e,n,n),i?(r.mode=TO,wO):(r.havedict=1,dh))};var jle=AO,qle=CO,Hle=SO,zle=Lle,Gle=NO,Wle=Ole,$le=Ble,Kle=Vle,Yle=Ule,Xle="pako inflate (from Nodeca project)",vu={inflateReset:jle,inflateReset2:qle,inflateResetKeep:Hle,inflateInit:zle,inflateInit2:Gle,inflate:Wle,inflateEnd:$le,inflateGetHeader:Kle,inflateSetDictionary:Yle,inflateInfo:Xle};function Jle(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Qle=Jle;const kO=Object.prototype.toString,{Z_NO_FLUSH:Zle,Z_FINISH:ece,Z_OK:e1,Z_STREAM_END:Vb,Z_NEED_DICT:Ub,Z_STREAM_ERROR:tce,Z_DATA_ERROR:Z6,Z_MEM_ERROR:nce}=gO;function R1(t){this.options=xO.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new xle,this.strm.avail_out=0;let n=vu.inflateInit2(this.strm,e.windowBits);if(n!==e1)throw new Error(tT[n]);if(this.header=new Qle,vu.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=nT.string2buf(e.dictionary):kO.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=vu.inflateSetDictionary(this.strm,e.dictionary),n!==e1)))throw new Error(tT[n])}R1.prototype.push=function(t,e){const n=this.strm,r=this.options.chunkSize,s=this.options.dictionary;let i,a,o;if(this.ended)return!1;for(e===~~e?a=e:a=e===!0?ece:Zle,kO.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),i=vu.inflate(n,a),i===Ub&&s&&(i=vu.inflateSetDictionary(n,s),i===e1?i=vu.inflate(n,a):i===Z6&&(i=Ub));n.avail_in>0&&i===Vb&&n.state.wrap>0&&t[n.next_in]!==0;)vu.inflateReset(n),i=vu.inflate(n,a);switch(i){case tce:case Z6:case Ub:case nce:return this.onEnd(i),this.ended=!0,!1}if(o=n.avail_out,n.next_out&&(n.avail_out===0||i===Vb))if(this.options.to==="string"){let c=nT.utf8border(n.output,n.next_out),f=n.next_out-c,d=nT.buf2string(n.output,c);n.next_out=f,n.avail_out=r-f,f&&n.output.set(n.output.subarray(c,c+f),0),this.onData(d)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(i===e1&&o===0)){if(i===Vb)return i=vu.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};R1.prototype.onData=function(t){this.chunks.push(t)};R1.prototype.onEnd=function(t){t===e1&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=xO.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function rce(t,e){const n=new R1(e);if(n.push(t),n.err)throw n.msg||tT[n.err];return n.result}var sce=R1,ice=rce,ace={Inflate:sce,inflate:ice};const{Inflate:oce,inflate:lce}=ace;var eR=oce,cce=lce;const RO=[];for(let t=0;t<256;t++){let e=t;for(let n=0;n<8;n++)e&1?e=3988292384^e>>>1:e=e>>>1;RO[t]=e}const tR=4294967295;function uce(t,e,n){let r=t;for(let s=0;s<n;s++)r=RO[(r^e[s])&255]^r>>>8;return r}function fce(t,e){return(uce(tR,t,e)^tR)>>>0}function nR(t,e,n){const r=t.readUint32(),s=fce(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(s!==r)throw new Error(`CRC mismatch for chunk ${n}. Expected ${r}, found ${s}`)}function PO(t,e,n){for(let r=0;r<n;r++)e[r]=t[r]}function DO(t,e,n,r){let s=0;for(;s<r;s++)e[s]=t[s];for(;s<n;s++)e[s]=t[s]+e[s-r]&255}function MO(t,e,n,r){let s=0;if(n.length===0)for(;s<r;s++)e[s]=t[s];else for(;s<r;s++)e[s]=t[s]+n[s]&255}function LO(t,e,n,r,s){let i=0;if(n.length===0){for(;i<s;i++)e[i]=t[i];for(;i<r;i++)e[i]=t[i]+(e[i-s]>>1)&255}else{for(;i<s;i++)e[i]=t[i]+(n[i]>>1)&255;for(;i<r;i++)e[i]=t[i]+(e[i-s]+n[i]>>1)&255}}function FO(t,e,n,r,s){let i=0;if(n.length===0){for(;i<s;i++)e[i]=t[i];for(;i<r;i++)e[i]=t[i]+e[i-s]&255}else{for(;i<s;i++)e[i]=t[i]+n[i]&255;for(;i<r;i++)e[i]=t[i]+dce(e[i-s],n[i],n[i-s])&255}}function dce(t,e,n){const r=t+e-n,s=Math.abs(r-t),i=Math.abs(r-e),a=Math.abs(r-n);return s<=i&&s<=a?t:i<=a?e:n}function hce(t,e,n,r,s,i){switch(t){case 0:PO(e,n,s);break;case 1:DO(e,n,s,i);break;case 2:MO(e,n,r,s);break;case 3:LO(e,n,r,s,i);break;case 4:FO(e,n,r,s,i);break;default:throw new Error(`Unsupported filter: ${t}`)}}const pce=new Uint16Array([255]),mce=new Uint8Array(pce.buffer),gce=mce[0]===255;function xce(t){const{data:e,width:n,height:r,channels:s,depth:i}=t,a=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(i/8)*s,c=new Uint8Array(r*n*o);let f=0;for(let d=0;d<7;d++){const p=a[d],g=Math.ceil((n-p.x)/p.xStep),y=Math.ceil((r-p.y)/p.yStep);if(g<=0||y<=0)continue;const E=g*o,b=new Uint8Array(E);for(let A=0;A<y;A++){const N=e[f++],V=e.subarray(f,f+E);f+=E;const k=new Uint8Array(E);hce(N,V,k,b,E,o),b.set(k);for(let B=0;B<g;B++){const W=p.x+B*p.xStep,K=p.y+A*p.yStep;if(!(W>=n||K>=r))for(let D=0;D<o;D++)c[(K*n+W)*o+D]=k[B*o+D]}}}if(i===16){const d=new Uint16Array(c.buffer);if(gce)for(let p=0;p<d.length;p++)d[p]=yce(d[p]);return d}else return c}function yce(t){return(t&255)<<8|t>>8&255}const vce=new Uint16Array([255]),_ce=new Uint8Array(vce.buffer),bce=_ce[0]===255,wce=new Uint8Array(0);function rR(t){const{data:e,width:n,height:r,channels:s,depth:i}=t,a=Math.ceil(i/8)*s,o=Math.ceil(i/8*s*n),c=new Uint8Array(r*o);let f=wce,d=0,p,g;for(let y=0;y<r;y++){switch(p=e.subarray(d+1,d+1+o),g=c.subarray(y*o,(y+1)*o),e[d]){case 0:PO(p,g,o);break;case 1:DO(p,g,o,a);break;case 2:MO(p,g,f,o);break;case 3:LO(p,g,f,o,a);break;case 4:FO(p,g,f,o,a);break;default:throw new Error(`Unsupported filter: ${e[d]}`)}f=g,d+=o+1}if(i===16){const y=new Uint16Array(c.buffer);if(bce)for(let E=0;E<y.length;E++)y[E]=Tce(y[E]);return y}else return c}function Tce(t){return(t&255)<<8|t>>8&255}const Oy=Uint8Array.of(137,80,78,71,13,10,26,10);function sR(t){if(!Ece(t.readBytes(Oy.length)))throw new Error("wrong PNG signature")}function Ece(t){if(t.length<Oy.length)return!1;for(let e=0;e<Oy.length;e++)if(t[e]!==Oy[e])return!1;return!0}const Sce="tEXt",Ace=0,OO=new TextDecoder("latin1");function Cce(t){if(Ice(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const Nce=/^[\u0000-\u00FF]*$/;function Ice(t){if(!Nce.test(t))throw new Error("invalid latin1 text")}function kce(t,e,n){const r=BO(e);t[r]=Rce(e,n-r.length-1)}function BO(t){for(t.mark();t.readByte()!==Ace;);const e=t.offset;t.reset();const n=OO.decode(t.readBytes(e-t.offset-1));return t.skip(1),Cce(n),n}function Rce(t,e){return OO.decode(t.readBytes(e))}const Mo={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},jb={UNKNOWN:-1,DEFLATE:0},iR={UNKNOWN:-1,ADAPTIVE:0},qb={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Xx={NONE:0,BACKGROUND:1,PREVIOUS:2},Hb={SOURCE:0,OVER:1};class Pce extends vS{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,n={}){super(e);const{checkCrc:r=!1}=n;this._checkCrc=r,this._inflator=new eR,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=jb.UNKNOWN,this._filterMethod=iR.UNKNOWN,this._interlaceMethod=qb.UNKNOWN,this._colorType=Mo.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(sR(this);!this._end;){const e=this.readUint32(),n=this.readChars(4);this.decodeChunk(e,n)}return this.decodeImage(),this._png}decodeApng(){for(sR(this);!this._end;){const e=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(e,n)}return this.decodeApngImage(),this._apng}decodeChunk(e,n){const r=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case Sce:kce(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?nR(this,e+4,n):this.skip(4)}decodeApngChunk(e,n){const r=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,n),this.offset=r+e;break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?nR(this,e+4,n):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=Dce(this.readUint8());const n=this.readUint8();this._colorType=n;let r;switch(n){case Mo.GREYSCALE:r=1;break;case Mo.TRUECOLOUR:r=3;break;case Mo.INDEXED_COLOUR:r=1;break;case Mo.GREYSCALE_ALPHA:r=2;break;case Mo.TRUECOLOUR_ALPHA:r=4;break;case Mo.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=r,this._compressionMethod=this.readUint8(),this._compressionMethod!==jb.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const n=e/3;this._hasPalette=!0;const r=[];this._palette=r;for(let s=0;s<n;s++)r.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const n=e,r=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,r,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let n=e,r=this.offset+this.byteOffset;if(r+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,r,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case Mo.GREYSCALE:case Mo.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let n=0;n<e/2;n++)this._transparency[n]=this.readUint16();break}case Mo.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let n=0;for(;n<e;n++){const r=this.readByte();this._palette[n].push(r)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case Mo.UNKNOWN:case Mo.GREYSCALE_ALPHA:case Mo.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const n=BO(this),r=this.readUint8();if(r!==jb.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${r}`);const s=this.readBytes(e-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:cce(s)}}decodepHYs(){const e=this.readUint32(),n=this.readUint32(),r=this.readByte();this._png.resolution={x:e,y:n,unit:r}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const n={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},r=this._frames.at(e);if(r){if(r.data=rR({data:r.data,width:r.width,height:r.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||r.xOffset===0&&r.yOffset===0&&r.width===this._png.width&&r.height===this._png.height)n.data=r.data;else{const s=this._apng.frames.at(e-1);this.disposeFrame(r,s,n),this.addFrameDataToCanvas(n,r)}this._apng.frames.push(n)}}return this._apng}disposeFrame(e,n,r){switch(e.disposeOp){case Xx.NONE:break;case Xx.BACKGROUND:for(let s=0;s<this._png.height;s++)for(let i=0;i<this._png.width;i++){const a=(s*e.width+i)*this._png.channels;for(let o=0;o<this._png.channels;o++)r.data[a+o]=0}break;case Xx.PREVIOUS:r.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,n){const r=1<<this._png.depth,s=(i,a)=>{const o=((i+n.yOffset)*this._png.width+n.xOffset+a)*this._png.channels,c=(i*n.width+a)*this._png.channels;return{index:o,frameIndex:c}};switch(n.blendOp){case Hb.SOURCE:for(let i=0;i<n.height;i++)for(let a=0;a<n.width;a++){const{index:o,frameIndex:c}=s(i,a);for(let f=0;f<this._png.channels;f++)e.data[o+f]=n.data[c+f]}break;case Hb.OVER:for(let i=0;i<n.height;i++)for(let a=0;a<n.width;a++){const{index:o,frameIndex:c}=s(i,a);for(let f=0;f<this._png.channels;f++){const d=n.data[c+this._png.channels-1]/r,p=f%(this._png.channels-1)===0?1:n.data[c+f],g=Math.floor(d*p+(1-d)*e.data[o+f]);e.data[o+f]+=g}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==iR.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===qb.NO_INTERLACE)this._png.data=rR({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===qb.ADAM7)this._png.data=xce({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,n=this._frames.at(-1);n?n.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Xx.NONE,blendOp:Hb.SOURCE,data:e}),this._inflator=new eR,this._writingDataChunks=!1}}function Dce(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var aR;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(aR||(aR={}));function Mce(t,e){return new Pce(t,e).decode()}var Dn=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function zb(){Dn.console&&typeof Dn.console.log=="function"&&Dn.console.log.apply(Dn.console,arguments)}var ss={log:zb,warn:function(t){Dn.console&&(typeof Dn.console.warn=="function"?Dn.console.warn.apply(Dn.console,arguments):zb.call(null,arguments))},error:function(t){Dn.console&&(typeof Dn.console.error=="function"?Dn.console.error.apply(Dn.console,arguments):zb(t))}};function Gb(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){Pd(r.response,e,n)},r.onerror=function(){ss.error("could not download file")},r.send()}function oR(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Jx(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var Pd=Dn.saveAs||((typeof window>"u"?"undefined":Ur(window))!=="object"||window!==Dn?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=Dn.URL||Dn.webkitURL,s=document.createElement("a");e=e||t.name||"download",s.download=e,s.rel="noopener",typeof t=="string"?(s.href=t,s.origin!==location.origin?oR(s.href)?Gb(t,e,n):Jx(s,s.target="_blank"):Jx(s)):(s.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(s.href)},4e4),setTimeout(function(){Jx(s)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(oR(t))Gb(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){Jx(r)})}else navigator.msSaveOrOpenBlob((function(s,i){return i===void 0?i={autoBom:!1}:Ur(i)!=="object"&&(ss.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s})(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return Gb(t,e,n);var s=t.type==="application/octet-stream",i=/constructor/i.test(Dn.HTMLElement)||Dn.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||s&&i)&&(typeof FileReader>"u"?"undefined":Ur(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var d=o.result;d=a?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=d:location=d,r=null},o.readAsDataURL(t)}else{var c=Dn.URL||Dn.webkitURL,f=c.createObjectURL(t);r?r.location=f:location.href=f,r=null,setTimeout(function(){c.revokeObjectURL(f)},4e4)}});function VO(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],r=0;r<n.length;r++){var s=n[r].re,i=n[r].process,a=s.exec(t);a&&(e=i(a),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),c=this.g.toString(16),f=this.b.toString(16);return o.length==1&&(o="0"+o),c.length==1&&(c="0"+c),f.length==1&&(f="0"+f),"#"+o+c+f}}var By=Dn.atob.bind(Dn),lR=Dn.btoa.bind(Dn);function Wb(t,e){var n=t[0],r=t[1],s=t[2],i=t[3];n=ga(n,r,s,i,e[0],7,-680876936),i=ga(i,n,r,s,e[1],12,-389564586),s=ga(s,i,n,r,e[2],17,606105819),r=ga(r,s,i,n,e[3],22,-1044525330),n=ga(n,r,s,i,e[4],7,-176418897),i=ga(i,n,r,s,e[5],12,1200080426),s=ga(s,i,n,r,e[6],17,-1473231341),r=ga(r,s,i,n,e[7],22,-45705983),n=ga(n,r,s,i,e[8],7,1770035416),i=ga(i,n,r,s,e[9],12,-1958414417),s=ga(s,i,n,r,e[10],17,-42063),r=ga(r,s,i,n,e[11],22,-1990404162),n=ga(n,r,s,i,e[12],7,1804603682),i=ga(i,n,r,s,e[13],12,-40341101),s=ga(s,i,n,r,e[14],17,-1502002290),n=xa(n,r=ga(r,s,i,n,e[15],22,1236535329),s,i,e[1],5,-165796510),i=xa(i,n,r,s,e[6],9,-1069501632),s=xa(s,i,n,r,e[11],14,643717713),r=xa(r,s,i,n,e[0],20,-373897302),n=xa(n,r,s,i,e[5],5,-701558691),i=xa(i,n,r,s,e[10],9,38016083),s=xa(s,i,n,r,e[15],14,-660478335),r=xa(r,s,i,n,e[4],20,-405537848),n=xa(n,r,s,i,e[9],5,568446438),i=xa(i,n,r,s,e[14],9,-1019803690),s=xa(s,i,n,r,e[3],14,-187363961),r=xa(r,s,i,n,e[8],20,1163531501),n=xa(n,r,s,i,e[13],5,-1444681467),i=xa(i,n,r,s,e[2],9,-51403784),s=xa(s,i,n,r,e[7],14,1735328473),n=ya(n,r=xa(r,s,i,n,e[12],20,-1926607734),s,i,e[5],4,-378558),i=ya(i,n,r,s,e[8],11,-2022574463),s=ya(s,i,n,r,e[11],16,1839030562),r=ya(r,s,i,n,e[14],23,-35309556),n=ya(n,r,s,i,e[1],4,-1530992060),i=ya(i,n,r,s,e[4],11,1272893353),s=ya(s,i,n,r,e[7],16,-155497632),r=ya(r,s,i,n,e[10],23,-1094730640),n=ya(n,r,s,i,e[13],4,681279174),i=ya(i,n,r,s,e[0],11,-358537222),s=ya(s,i,n,r,e[3],16,-722521979),r=ya(r,s,i,n,e[6],23,76029189),n=ya(n,r,s,i,e[9],4,-640364487),i=ya(i,n,r,s,e[12],11,-421815835),s=ya(s,i,n,r,e[15],16,530742520),n=va(n,r=ya(r,s,i,n,e[2],23,-995338651),s,i,e[0],6,-198630844),i=va(i,n,r,s,e[7],10,1126891415),s=va(s,i,n,r,e[14],15,-1416354905),r=va(r,s,i,n,e[5],21,-57434055),n=va(n,r,s,i,e[12],6,1700485571),i=va(i,n,r,s,e[3],10,-1894986606),s=va(s,i,n,r,e[10],15,-1051523),r=va(r,s,i,n,e[1],21,-2054922799),n=va(n,r,s,i,e[8],6,1873313359),i=va(i,n,r,s,e[15],10,-30611744),s=va(s,i,n,r,e[6],15,-1560198380),r=va(r,s,i,n,e[13],21,1309151649),n=va(n,r,s,i,e[4],6,-145523070),i=va(i,n,r,s,e[11],10,-1120210379),s=va(s,i,n,r,e[2],15,718787259),r=va(r,s,i,n,e[9],21,-343485551),t[0]=Of(n,t[0]),t[1]=Of(r,t[1]),t[2]=Of(s,t[2]),t[3]=Of(i,t[3])}function Nv(t,e,n,r,s,i){return e=Of(Of(e,t),Of(r,i)),Of(e<<s|e>>>32-s,n)}function ga(t,e,n,r,s,i,a){return Nv(e&n|~e&r,t,e,s,i,a)}function xa(t,e,n,r,s,i,a){return Nv(e&r|n&~r,t,e,s,i,a)}function ya(t,e,n,r,s,i,a){return Nv(e^n^r,t,e,s,i,a)}function va(t,e,n,r,s,i,a){return Nv(n^(e|~r),t,e,s,i,a)}function UO(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)Wb(r,Lce(t.substring(e-64,e)));t=t.substring(e-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)s[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(s[e>>2]|=128<<(e%4<<3),e>55)for(Wb(r,s),e=0;e<16;e++)s[e]=0;return s[14]=8*n,Wb(r,s),r}function Lce(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}var cR="0123456789abcdef".split("");function Fce(t){for(var e="",n=0;n<4;n++)e+=cR[t>>8*n+4&15]+cR[t>>8*n&15];return e}function Oce(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function rT(t){return UO(t).map(Oce).join("")}var Bce=(function(t){for(var e=0;e<t.length;e++)t[e]=Fce(t[e]);return t.join("")})(UO("hello"))!="5d41402abc4b2a76b9719d911017c592";function Of(t,e){if(Bce){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}function sT(t,e){var n,r,s,i;if(t!==n){for(var a=(s=t,i=1+(256/t.length|0),new Array(i+1).join(s)),o=[],c=0;c<256;c++)o[c]=c;var f=0;for(c=0;c<256;c++){var d=o[c];f=(f+d+a.charCodeAt(c))%256,o[c]=o[f],o[f]=d}n=t,r=o}else o=r;var p=e.length,g=0,y=0,E="";for(c=0;c<p;c++)y=(y+(d=o[g=(g+1)%256]))%256,o[g]=o[y],o[y]=d,a=o[(o[g]+o[y])%256],E+=String.fromCharCode(e.charCodeAt(c)^a);return E}var uR={print:4,modify:8,copy:16,"annot-forms":32};function k0(t,e,n,r){this.v=1,this.r=2;var s=192;t.forEach(function(o){if(uR.perm!==void 0)throw new Error("Invalid permission: "+o);s+=uR[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(e+this.padding).substr(0,32),a=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,a),this.P=-(1+(255^s)),this.encryptionKey=rT(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=sT(this.encryptionKey,this.padding)}function R0(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var s=t.charCodeAt(r);e+=s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?"#"+("0"+s.toString(16)).slice(-2):t[r]}return e}function fR(t){if(Ur(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,s){if(s=s||!1,typeof n!="string"||typeof r!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var i=Math.random().toString(35);return e[n][i]=[r,!!s],i},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),s=[];for(var i in e[n]){var a=e[n][i];try{a[0].apply(t,r)}catch(o){Dn.console&&ss.error("jsPDF PubSub Error",o.message,o)}a[1]&&s.push(i)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function N2(t){if(!(this instanceof N2))return new N2(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function jO(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function Od(t,e,n,r,s){if(!(this instanceof Od))return new Od(t,e,n,r,s);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,jO.call(this,r,s)}function z0(t,e,n,r,s){if(!(this instanceof z0))return new z0(t,e,n,r,s);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,jO.call(this,r,s)}function hn(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],s=arguments[2],i=arguments[3],a=[],o=1,c=16,f="S",d=null;Ur(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,s=t.format||s,i=t.compress||t.compressPdf||i,(d=t.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),o=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(c=t.floatPrecision),f=t.defaultPathOperation||"S"),a=t.filters||(i===!0?["FlateEncode"]:a),r=r||"mm",n=(""+(n||"P")).toLowerCase();var p=t.putOnlyUsedFonts||!1,g={},y={internal:{},__private__:{}};y.__private__.PubSub=fR;var E="1.3",b=y.__private__.getPdfVersion=function(){return E};y.__private__.setPdfVersion=function(F){E=F};var A={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};y.__private__.getPageFormats=function(){return A};var N=y.__private__.getPageFormat=function(F){return A[F]};s=s||"a4";var V="compat",k="advanced",B=V;function W(){this.saveGraphicsState(),se(new un(wt,0,0,-wt,0,Ma()*wt).toString()+" cm"),this.setFontSize(this.getFontSize()/wt),f="n",B=k}function K(){this.restoreGraphicsState(),f="S",B=V}var D=y.__private__.combineFontStyleAndFontWeight=function(F,Z){if(F=="bold"&&Z=="normal"||F=="bold"&&Z==400||F=="normal"&&Z=="italic"||F=="bold"&&Z=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return Z&&(F=Z==400||Z==="normal"?F==="italic"?"italic":"normal":Z!=700&&Z!=="bold"||F!=="normal"?(Z==700?"bold":Z)+""+F:"bold"),F};y.advancedAPI=function(F){var Z=B===V;return Z&&W.call(this),typeof F!="function"||(F(this),Z&&K.call(this)),this},y.compatAPI=function(F){var Z=B===k;return Z&&K.call(this),typeof F!="function"||(F(this),Z&&W.call(this)),this},y.isAdvancedAPI=function(){return B===k};var L,R=function(F){if(B!==k)throw new Error(F+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},q=y.roundToPrecision=y.__private__.roundToPrecision=function(F,Z){var Ce=e||Z;if(isNaN(F)||isNaN(Ce))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return F.toFixed(Ce).replace(/0+$/,"")};L=y.hpf=y.__private__.hpf=typeof c=="number"?function(F){if(isNaN(F))throw new Error("Invalid argument passed to jsPDF.hpf");return q(F,c)}:c==="smart"?function(F){if(isNaN(F))throw new Error("Invalid argument passed to jsPDF.hpf");return q(F,F>-1&&F<1?16:5)}:function(F){if(isNaN(F))throw new Error("Invalid argument passed to jsPDF.hpf");return q(F,16)};var P=y.f2=y.__private__.f2=function(F){if(isNaN(F))throw new Error("Invalid argument passed to jsPDF.f2");return q(F,2)},M=y.__private__.f3=function(F){if(isNaN(F))throw new Error("Invalid argument passed to jsPDF.f3");return q(F,3)},H=y.scale=y.__private__.scale=function(F){if(isNaN(F))throw new Error("Invalid argument passed to jsPDF.scale");return B===V?F*wt:B===k?F:void 0},ae=function(F){return H((function(Z){return B===V?Ma()-Z:B===k?Z:void 0})(F))};y.__private__.setPrecision=y.setPrecision=function(F){typeof parseInt(F,10)=="number"&&(e=parseInt(F,10))};var Se,oe="00000000000000000000000000000000",ve=y.__private__.getFileId=function(){return oe},Ie=y.__private__.setFileId=function(F){return oe=F!==void 0&&/^[a-fA-F0-9]{32}$/.test(F)?F.toUpperCase():oe.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(es=new k0(d.userPermissions,d.userPassword,d.ownerPassword,oe)),oe};y.setFileId=function(F){return Ie(F),this},y.getFileId=function(){return ve()};var xe=y.__private__.convertDateToPDFDate=function(F){var Z=F.getTimezoneOffset(),Ce=Z<0?"+":"-",De=Math.floor(Math.abs(Z/60)),Ue=Math.abs(Z%60),ct=[Ce,U(De),"'",U(Ue),"'"].join("");return["D:",F.getFullYear(),U(F.getMonth()+1),U(F.getDate()),U(F.getHours()),U(F.getMinutes()),U(F.getSeconds()),ct].join("")},Re=y.__private__.convertPDFDateToDate=function(F){var Z=parseInt(F.substr(2,4),10),Ce=parseInt(F.substr(6,2),10)-1,De=parseInt(F.substr(8,2),10),Ue=parseInt(F.substr(10,2),10),ct=parseInt(F.substr(12,2),10),yt=parseInt(F.substr(14,2),10);return new Date(Z,Ce,De,Ue,ct,yt,0)},re=y.__private__.setCreationDate=function(F){var Z;if(F===void 0&&(F=new Date),F instanceof Date)Z=xe(F);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(F))throw new Error("Invalid argument passed to jsPDF.setCreationDate");Z=F}return Se=Z},O=y.__private__.getCreationDate=function(F){var Z=Se;return F==="jsDate"&&(Z=Re(Se)),Z};y.setCreationDate=function(F){return re(F),this},y.getCreationDate=function(F){return O(F)};var J,U=y.__private__.padd2=function(F){return("0"+parseInt(F)).slice(-2)},Y=y.__private__.padd2Hex=function(F){return("00"+(F=F.toString())).substr(F.length)},ne=0,ye=[],pe=[],ue=0,Te=[],je=[],ce=!1,dt=pe;y.__private__.setCustomOutputDestination=function(F){ce=!0,dt=F};var pt=function(F){ce||(dt=F)};y.__private__.resetCustomOutputDestination=function(){ce=!1,dt=pe};var se=y.__private__.out=function(F){return F=F.toString(),ue+=F.length+1,dt.push(F),dt},nt=y.__private__.write=function(F){return se(arguments.length===1?F.toString():Array.prototype.join.call(arguments," "))},it=y.__private__.getArrayBuffer=function(F){for(var Z=F.length,Ce=new ArrayBuffer(Z),De=new Uint8Array(Ce);Z--;)De[Z]=F.charCodeAt(Z);return Ce},Pt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];y.__private__.getStandardFonts=function(){return Pt};var tt=t.fontSize||16;y.__private__.setFontSize=y.setFontSize=function(F){return tt=B===k?F/wt:F,this};var St,Ct=y.__private__.getFontSize=y.getFontSize=function(){return B===V?tt:tt*wt},Lt=t.R2L||!1;y.__private__.setR2L=y.setR2L=function(F){return Lt=F,this},y.__private__.getR2L=y.getR2L=function(){return Lt};var jt,Qt=y.__private__.setZoomMode=function(F){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(F))St=F;else if(isNaN(F)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(F)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+F+'" is not recognized.');St=F}else St=parseInt(F,10)};y.__private__.getZoomMode=function(){return St};var Zt,on=y.__private__.setPageMode=function(F){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(F)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+F+'" is not recognized.');jt=F};y.__private__.getPageMode=function(){return jt};var Sn=y.__private__.setLayoutMode=function(F){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(F)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+F+'" is not recognized.');Zt=F};y.__private__.getLayoutMode=function(){return Zt},y.__private__.setDisplayMode=y.setDisplayMode=function(F,Z,Ce){return Qt(F),Sn(Z),on(Ce),this};var Bt={title:"",subject:"",author:"",keywords:"",creator:""};y.__private__.getDocumentProperty=function(F){if(Object.keys(Bt).indexOf(F)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Bt[F]},y.__private__.getDocumentProperties=function(){return Bt},y.__private__.setDocumentProperties=y.setProperties=y.setDocumentProperties=function(F){for(var Z in Bt)Bt.hasOwnProperty(Z)&&F[Z]&&(Bt[Z]=F[Z]);return this},y.__private__.setDocumentProperty=function(F,Z){if(Object.keys(Bt).indexOf(F)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Bt[F]=Z};var vt,wt,Et,Wn,qt,Gt={},mn={},An=[],ln={},Jn={},pn={},fn={},ar=null,cn=0,Wt=[],Ln=new fR(y),as=t.hotfixes||[],os={},ki={},Hr=[],un=function F(Z,Ce,De,Ue,ct,yt){if(!(this instanceof F))return new F(Z,Ce,De,Ue,ct,yt);isNaN(Z)&&(Z=1),isNaN(Ce)&&(Ce=0),isNaN(De)&&(De=0),isNaN(Ue)&&(Ue=1),isNaN(ct)&&(ct=0),isNaN(yt)&&(yt=0),this._matrix=[Z,Ce,De,Ue,ct,yt]};Object.defineProperty(un.prototype,"sx",{get:function(){return this._matrix[0]},set:function(F){this._matrix[0]=F}}),Object.defineProperty(un.prototype,"shy",{get:function(){return this._matrix[1]},set:function(F){this._matrix[1]=F}}),Object.defineProperty(un.prototype,"shx",{get:function(){return this._matrix[2]},set:function(F){this._matrix[2]=F}}),Object.defineProperty(un.prototype,"sy",{get:function(){return this._matrix[3]},set:function(F){this._matrix[3]=F}}),Object.defineProperty(un.prototype,"tx",{get:function(){return this._matrix[4]},set:function(F){this._matrix[4]=F}}),Object.defineProperty(un.prototype,"ty",{get:function(){return this._matrix[5]},set:function(F){this._matrix[5]=F}}),Object.defineProperty(un.prototype,"a",{get:function(){return this._matrix[0]},set:function(F){this._matrix[0]=F}}),Object.defineProperty(un.prototype,"b",{get:function(){return this._matrix[1]},set:function(F){this._matrix[1]=F}}),Object.defineProperty(un.prototype,"c",{get:function(){return this._matrix[2]},set:function(F){this._matrix[2]=F}}),Object.defineProperty(un.prototype,"d",{get:function(){return this._matrix[3]},set:function(F){this._matrix[3]=F}}),Object.defineProperty(un.prototype,"e",{get:function(){return this._matrix[4]},set:function(F){this._matrix[4]=F}}),Object.defineProperty(un.prototype,"f",{get:function(){return this._matrix[5]},set:function(F){this._matrix[5]=F}}),Object.defineProperty(un.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(un.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(un.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(un.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),un.prototype.join=function(F){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(L).join(F)},un.prototype.multiply=function(F){var Z=F.sx*this.sx+F.shy*this.shx,Ce=F.sx*this.shy+F.shy*this.sy,De=F.shx*this.sx+F.sy*this.shx,Ue=F.shx*this.shy+F.sy*this.sy,ct=F.tx*this.sx+F.ty*this.shx+this.tx,yt=F.tx*this.shy+F.ty*this.sy+this.ty;return new un(Z,Ce,De,Ue,ct,yt)},un.prototype.decompose=function(){var F=this.sx,Z=this.shy,Ce=this.shx,De=this.sy,Ue=this.tx,ct=this.ty,yt=Math.sqrt(F*F+Z*Z),Kt=(F/=yt)*Ce+(Z/=yt)*De;Ce-=F*Kt,De-=Z*Kt;var en=Math.sqrt(Ce*Ce+De*De);return Kt/=en,F*(De/=en)<Z*(Ce/=en)&&(F=-F,Z=-Z,Kt=-Kt,yt=-yt),{scale:new un(yt,0,0,en,0,0),translate:new un(1,0,0,1,Ue,ct),rotate:new un(F,Z,-Z,F,0,0),skew:new un(1,0,Kt,1,0,0)}},un.prototype.toString=function(F){return this.join(" ")},un.prototype.inversed=function(){var F=this.sx,Z=this.shy,Ce=this.shx,De=this.sy,Ue=this.tx,ct=this.ty,yt=1/(F*De-Z*Ce),Kt=De*yt,en=-Z*yt,_n=-Ce*yt,gn=F*yt;return new un(Kt,en,_n,gn,-Kt*Ue-_n*ct,-en*Ue-gn*ct)},un.prototype.applyToPoint=function(F){var Z=F.x*this.sx+F.y*this.shx+this.tx,Ce=F.x*this.shy+F.y*this.sy+this.ty;return new ti(Z,Ce)},un.prototype.applyToRectangle=function(F){var Z=this.applyToPoint(F),Ce=this.applyToPoint(new ti(F.x+F.w,F.y+F.h));return new Ya(Z.x,Z.y,Ce.x-Z.x,Ce.y-Z.y)},un.prototype.clone=function(){var F=this.sx,Z=this.shy,Ce=this.shx,De=this.sy,Ue=this.tx,ct=this.ty;return new un(F,Z,Ce,De,Ue,ct)},y.Matrix=un;var Le=y.matrixMult=function(F,Z){return Z.multiply(F)},Dt=new un(1,0,0,1,0,0);y.unitMatrix=y.identityMatrix=Dt;var Vt=function(F,Z){if(!Jn[F]){var Ce=(Z instanceof Od?"Sh":"P")+(Object.keys(ln).length+1).toString(10);Z.id=Ce,Jn[F]=Ce,ln[Ce]=Z,Ln.publish("addPattern",Z)}};y.ShadingPattern=Od,y.TilingPattern=z0,y.addShadingPattern=function(F,Z){return R("addShadingPattern()"),Vt(F,Z),this},y.beginTilingPattern=function(F){R("beginTilingPattern()"),Xa(F.boundingBox[0],F.boundingBox[1],F.boundingBox[2]-F.boundingBox[0],F.boundingBox[3]-F.boundingBox[1],F.matrix)},y.endTilingPattern=function(F,Z){R("endTilingPattern()"),Z.stream=je[J].join(`
`),Vt(F,Z),Ln.publish("endTilingPattern",Z),Hr.pop().restore()};var $n,Yt=y.__private__.newObject=function(){var F=qn();return te(F,!0),F},qn=y.__private__.newObjectDeferred=function(){return ne++,ye[ne]=function(){return ue},ne},te=function(F,Z){return Z=typeof Z=="boolean"&&Z,ye[F]=ue,Z&&se(F+" 0 obj"),F},be=y.__private__.newAdditionalObject=function(){var F={objId:qn(),content:""};return Te.push(F),F},he=qn(),ge=qn(),we=y.__private__.decodeColorString=function(F){var Z=F.split(" ");if(Z.length!==2||Z[1]!=="g"&&Z[1]!=="G")Z.length!==5||Z[4]!=="k"&&Z[4]!=="K"||(Z=[(1-Z[0])*(1-Z[3]),(1-Z[1])*(1-Z[3]),(1-Z[2])*(1-Z[3]),"r"]);else{var Ce=parseFloat(Z[0]);Z=[Ce,Ce,Ce,"r"]}for(var De="#",Ue=0;Ue<3;Ue++)De+=("0"+Math.floor(255*parseFloat(Z[Ue])).toString(16)).slice(-2);return De},Ee=y.__private__.encodeColorString=function(F){var Z;typeof F=="string"&&(F={ch1:F});var Ce=F.ch1,De=F.ch2,Ue=F.ch3,ct=F.ch4,yt=F.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Ce=="string"&&Ce.charAt(0)!=="#"){var Kt=new VO(Ce);if(Kt.ok)Ce=Kt.toHex();else if(!/^\d*\.?\d*$/.test(Ce))throw new Error('Invalid color "'+Ce+'" passed to jsPDF.encodeColorString.')}if(typeof Ce=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Ce)&&(Ce="#"+Ce[1]+Ce[1]+Ce[2]+Ce[2]+Ce[3]+Ce[3]),typeof Ce=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Ce)){var en=parseInt(Ce.substr(1),16);Ce=en>>16&255,De=en>>8&255,Ue=255&en}if(De===void 0||ct===void 0&&Ce===De&&De===Ue)Z=typeof Ce=="string"?Ce+" "+yt[0]:F.precision===2?P(Ce/255)+" "+yt[0]:M(Ce/255)+" "+yt[0];else if(ct===void 0||Ur(ct)==="object"){if(ct&&!isNaN(ct.a)&&ct.a===0)return["1.","1.","1.",yt[1]].join(" ");Z=typeof Ce=="string"?[Ce,De,Ue,yt[1]].join(" "):F.precision===2?[P(Ce/255),P(De/255),P(Ue/255),yt[1]].join(" "):[M(Ce/255),M(De/255),M(Ue/255),yt[1]].join(" ")}else Z=typeof Ce=="string"?[Ce,De,Ue,ct,yt[2]].join(" "):F.precision===2?[P(Ce),P(De),P(Ue),P(ct),yt[2]].join(" "):[M(Ce),M(De),M(Ue),M(ct),yt[2]].join(" ");return Z},Ve=y.__private__.getFilters=function(){return a},rt=y.__private__.putStream=function(F){var Z=(F=F||{}).data||"",Ce=F.filters||Ve(),De=F.alreadyAppliedFilters||[],Ue=F.addLength1||!1,ct=Z.length,yt=F.objectId,Kt=function(z){return z};if(d!==null&&yt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(Kt=es.encryptor(yt,0));var en={};Ce===!0&&(Ce=["FlateEncode"]);var _n=F.additionalKeyValues||[],gn=(en=hn.API.processDataByFilters!==void 0?hn.API.processDataByFilters(Z,Ce):{data:Z,reverseChain:[]}).reverseChain+(Array.isArray(De)?De.join(" "):De.toString());if(en.data.length!==0&&(_n.push({key:"Length",value:en.data.length}),Ue===!0&&_n.push({key:"Length1",value:ct})),gn.length!=0)if(gn.split("/").length-1==1)_n.push({key:"Filter",value:gn});else{_n.push({key:"Filter",value:"["+gn+"]"});for(var er=0;er<_n.length;er+=1)if(_n[er].key==="DecodeParms"){for(var zr=[],Mr=0;Mr<en.reverseChain.split("/").length-1;Mr+=1)zr.push("null");zr.push(_n[er].value),_n[er].value="["+zr.join(" ")+"]"}}se("<<");for(var w=0;w<_n.length;w++)se("/"+_n[w].key+" "+_n[w].value);se(">>"),en.data.length!==0&&(se("stream"),se(Kt(en.data)),se("endstream"))},Oe=y.__private__.putPage=function(F){var Z=F.number,Ce=F.data,De=F.objId,Ue=F.contentsObjId;te(De,!0),se("<</Type /Page"),se("/Parent "+F.rootDictionaryObjId+" 0 R"),se("/Resources "+F.resourceDictionaryObjId+" 0 R"),se("/MediaBox ["+parseFloat(L(F.mediaBox.bottomLeftX))+" "+parseFloat(L(F.mediaBox.bottomLeftY))+" "+L(F.mediaBox.topRightX)+" "+L(F.mediaBox.topRightY)+"]"),F.cropBox!==null&&se("/CropBox ["+L(F.cropBox.bottomLeftX)+" "+L(F.cropBox.bottomLeftY)+" "+L(F.cropBox.topRightX)+" "+L(F.cropBox.topRightY)+"]"),F.bleedBox!==null&&se("/BleedBox ["+L(F.bleedBox.bottomLeftX)+" "+L(F.bleedBox.bottomLeftY)+" "+L(F.bleedBox.topRightX)+" "+L(F.bleedBox.topRightY)+"]"),F.trimBox!==null&&se("/TrimBox ["+L(F.trimBox.bottomLeftX)+" "+L(F.trimBox.bottomLeftY)+" "+L(F.trimBox.topRightX)+" "+L(F.trimBox.topRightY)+"]"),F.artBox!==null&&se("/ArtBox ["+L(F.artBox.bottomLeftX)+" "+L(F.artBox.bottomLeftY)+" "+L(F.artBox.topRightX)+" "+L(F.artBox.topRightY)+"]"),typeof F.userUnit=="number"&&F.userUnit!==1&&se("/UserUnit "+F.userUnit),Ln.publish("putPage",{objId:De,pageContext:Wt[Z],pageNumber:Z,page:Ce}),se("/Contents "+Ue+" 0 R"),se(">>"),se("endobj");var ct=Ce.join(`
`);return B===k&&(ct+=`
Q`),te(Ue,!0),rt({data:ct,filters:Ve(),objectId:Ue}),se("endobj"),De},He=y.__private__.putPages=function(){var F,Z,Ce=[];for(F=1;F<=cn;F++)Wt[F].objId=qn(),Wt[F].contentsObjId=qn();for(F=1;F<=cn;F++)Ce.push(Oe({number:F,data:je[F],objId:Wt[F].objId,contentsObjId:Wt[F].contentsObjId,mediaBox:Wt[F].mediaBox,cropBox:Wt[F].cropBox,bleedBox:Wt[F].bleedBox,trimBox:Wt[F].trimBox,artBox:Wt[F].artBox,userUnit:Wt[F].userUnit,rootDictionaryObjId:he,resourceDictionaryObjId:ge}));te(he,!0),se("<</Type /Pages");var De="/Kids [";for(Z=0;Z<cn;Z++)De+=Ce[Z]+" 0 R ";se(De+"]"),se("/Count "+cn),se(">>"),se("endobj"),Ln.publish("postPutPages")},Ke=function(F){Ln.publish("putFont",{font:F,out:se,newObject:Yt,putStream:rt}),F.isAlreadyPutted!==!0&&(F.objectNumber=Yt(),se("<<"),se("/Type /Font"),se("/BaseFont /"+R0(F.postScriptName)),se("/Subtype /Type1"),typeof F.encoding=="string"&&se("/Encoding /"+F.encoding),se("/FirstChar 32"),se("/LastChar 255"),se(">>"),se("endobj"))},_t=function(F){F.objectNumber=Yt();var Z=[];Z.push({key:"Type",value:"/XObject"}),Z.push({key:"Subtype",value:"/Form"}),Z.push({key:"BBox",value:"["+[L(F.x),L(F.y),L(F.x+F.width),L(F.y+F.height)].join(" ")+"]"}),Z.push({key:"Matrix",value:"["+F.matrix.toString()+"]"});var Ce=F.pages[1].join(`
`);rt({data:Ce,additionalKeyValues:Z,objectId:F.objectNumber}),se("endobj")},At=function(F,Z){Z||(Z=21);var Ce=Yt(),De=(function(yt,Kt){var en,_n=[],gn=1/(Kt-1);for(en=0;en<1;en+=gn)_n.push(en);if(_n.push(1),yt[0].offset!=0){var er={offset:0,color:yt[0].color};yt.unshift(er)}if(yt[yt.length-1].offset!=1){var zr={offset:1,color:yt[yt.length-1].color};yt.push(zr)}for(var Mr="",w=0,z=0;z<_n.length;z++){for(en=_n[z];en>yt[w+1].offset;)w++;var Q=yt[w].offset,me=(en-Q)/(yt[w+1].offset-Q),ze=yt[w].color,Qe=yt[w+1].color;Mr+=Y(Math.round((1-me)*ze[0]+me*Qe[0]).toString(16))+Y(Math.round((1-me)*ze[1]+me*Qe[1]).toString(16))+Y(Math.round((1-me)*ze[2]+me*Qe[2]).toString(16))}return Mr.trim()})(F.colors,Z),Ue=[];Ue.push({key:"FunctionType",value:"0"}),Ue.push({key:"Domain",value:"[0.0 1.0]"}),Ue.push({key:"Size",value:"["+Z+"]"}),Ue.push({key:"BitsPerSample",value:"8"}),Ue.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ue.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),rt({data:De,additionalKeyValues:Ue,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Ce}),se("endobj"),F.objectNumber=Yt(),se("<< /ShadingType "+F.type),se("/ColorSpace /DeviceRGB");var ct="/Coords ["+L(parseFloat(F.coords[0]))+" "+L(parseFloat(F.coords[1]))+" ";F.type===2?ct+=L(parseFloat(F.coords[2]))+" "+L(parseFloat(F.coords[3])):ct+=L(parseFloat(F.coords[2]))+" "+L(parseFloat(F.coords[3]))+" "+L(parseFloat(F.coords[4]))+" "+L(parseFloat(F.coords[5])),se(ct+="]"),F.matrix&&se("/Matrix ["+F.matrix.toString()+"]"),se("/Function "+Ce+" 0 R"),se("/Extend [true true]"),se(">>"),se("endobj")},Rt=function(F,Z){var Ce=qn(),De=Yt();Z.push({resourcesOid:Ce,objectOid:De}),F.objectNumber=De;var Ue=[];Ue.push({key:"Type",value:"/Pattern"}),Ue.push({key:"PatternType",value:"1"}),Ue.push({key:"PaintType",value:"1"}),Ue.push({key:"TilingType",value:"1"}),Ue.push({key:"BBox",value:"["+F.boundingBox.map(L).join(" ")+"]"}),Ue.push({key:"XStep",value:L(F.xStep)}),Ue.push({key:"YStep",value:L(F.yStep)}),Ue.push({key:"Resources",value:Ce+" 0 R"}),F.matrix&&Ue.push({key:"Matrix",value:"["+F.matrix.toString()+"]"}),rt({data:F.stream,additionalKeyValues:Ue,objectId:F.objectNumber}),se("endobj")},bt=function(F){for(var Z in F.objectNumber=Yt(),se("<<"),F)switch(Z){case"opacity":se("/ca "+P(F[Z]));break;case"stroke-opacity":se("/CA "+P(F[Z]))}se(">>"),se("endobj")},kt=function(F){te(F.resourcesOid,!0),se("<<"),se("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var Z in se("/Font <<"),Gt)Gt.hasOwnProperty(Z)&&(p===!1||p===!0&&g.hasOwnProperty(Z))&&se("/"+Z+" "+Gt[Z].objectNumber+" 0 R");se(">>")})(),(function(){if(Object.keys(ln).length>0){for(var Z in se("/Shading <<"),ln)ln.hasOwnProperty(Z)&&ln[Z]instanceof Od&&ln[Z].objectNumber>=0&&se("/"+Z+" "+ln[Z].objectNumber+" 0 R");Ln.publish("putShadingPatternDict"),se(">>")}})(),(function(Z){if(Object.keys(ln).length>0){for(var Ce in se("/Pattern <<"),ln)ln.hasOwnProperty(Ce)&&ln[Ce]instanceof y.TilingPattern&&ln[Ce].objectNumber>=0&&ln[Ce].objectNumber<Z&&se("/"+Ce+" "+ln[Ce].objectNumber+" 0 R");Ln.publish("putTilingPatternDict"),se(">>")}})(F.objectOid),(function(){if(Object.keys(pn).length>0){var Z;for(Z in se("/ExtGState <<"),pn)pn.hasOwnProperty(Z)&&pn[Z].objectNumber>=0&&se("/"+Z+" "+pn[Z].objectNumber+" 0 R");Ln.publish("putGStateDict"),se(">>")}})(),(function(){for(var Z in se("/XObject <<"),os)os.hasOwnProperty(Z)&&os[Z].objectNumber>=0&&se("/"+Z+" "+os[Z].objectNumber+" 0 R");Ln.publish("putXobjectDict"),se(">>")})(),se(">>"),se("endobj")},$t=function(F){mn[F.fontName]=mn[F.fontName]||{},mn[F.fontName][F.fontStyle]=F.id},mr=function(F,Z,Ce,De,Ue){var ct={id:"F"+(Object.keys(Gt).length+1).toString(10),postScriptName:F,fontName:Z,fontStyle:Ce,encoding:De,isStandardFont:Ue||!1,metadata:{}};return Ln.publish("addFont",{font:ct,instance:this}),Gt[ct.id]=ct,$t(ct),ct.id},zn=y.__private__.pdfEscape=y.pdfEscape=function(F,Z){return(function(Ce,De){var Ue,ct,yt,Kt,en,_n,gn,er,zr;if(yt=(De=De||{}).sourceEncoding||"Unicode",en=De.outputEncoding,(De.autoencode||en)&&Gt[vt].metadata&&Gt[vt].metadata[yt]&&Gt[vt].metadata[yt].encoding&&(Kt=Gt[vt].metadata[yt].encoding,!en&&Gt[vt].encoding&&(en=Gt[vt].encoding),!en&&Kt.codePages&&(en=Kt.codePages[0]),typeof en=="string"&&(en=Kt[en]),en)){for(gn=!1,_n=[],Ue=0,ct=Ce.length;Ue<ct;Ue++)(er=en[Ce.charCodeAt(Ue)])?_n.push(String.fromCharCode(er)):_n.push(Ce[Ue]),_n[Ue].charCodeAt(0)>>8&&(gn=!0);Ce=_n.join("")}for(Ue=Ce.length;gn===void 0&&Ue!==0;)Ce.charCodeAt(Ue-1)>>8&&(gn=!0),Ue--;if(!gn)return Ce;for(_n=De.noBOM?[]:[254,255],Ue=0,ct=Ce.length;Ue<ct;Ue++){if((zr=(er=Ce.charCodeAt(Ue))>>8)>>8)throw new Error("Character at position "+Ue+" of string '"+Ce+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");_n.push(zr),_n.push(er-(zr<<8))}return String.fromCharCode.apply(void 0,_n)})(F,Z).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},wr=y.__private__.beginPage=function(F){je[++cn]=[],Wt[cn]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(F[0]),topRightY:Number(F[1])}},ca(cn),pt(je[J])},zs=function(F,Z){var Ce,De,Ue;switch(n=Z||n,typeof F=="string"&&(Ce=N(F.toLowerCase()),Array.isArray(Ce)&&(De=Ce[0],Ue=Ce[1])),Array.isArray(F)&&(De=F[0]*wt,Ue=F[1]*wt),isNaN(De)&&(De=s[0],Ue=s[1]),(De>14400||Ue>14400)&&(ss.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),De=Math.min(14400,De),Ue=Math.min(14400,Ue)),s=[De,Ue],n.substr(0,1)){case"l":Ue>De&&(s=[Ue,De]);break;case"p":De>Ue&&(s=[Ue,De])}wr(s),yn(Di),se($i),Yi!==0&&se(Yi+" J"),Ss!==0&&se(Ss+" j"),Ln.publish("addPage",{pageNumber:cn})},Wi=function(F){F>0&&F<=cn&&(je.splice(F,1),Wt.splice(F,1),cn--,J>cn&&(J=cn),this.setPage(J))},ca=function(F){F>0&&F<=cn&&(J=F)},Ri=y.__private__.getNumberOfPages=y.getNumberOfPages=function(){return je.length-1},bo=function(F,Z,Ce){var De,Ue=void 0;return Ce=Ce||{},F=F!==void 0?F:Gt[vt].fontName,Z=Z!==void 0?Z:Gt[vt].fontStyle,De=F.toLowerCase(),mn[De]!==void 0&&mn[De][Z]!==void 0?Ue=mn[De][Z]:mn[F]!==void 0&&mn[F][Z]!==void 0?Ue=mn[F][Z]:Ce.disableWarning===!1&&ss.warn("Unable to look up font label for font '"+F+"', '"+Z+"'. Refer to getFontList() for available fonts."),Ue||Ce.noFallback||(Ue=mn.times[Z])==null&&(Ue=mn.times.normal),Ue},Zr=y.__private__.putInfo=function(){var F=Yt(),Z=function(De){return De};for(var Ce in d!==null&&(Z=es.encryptor(F,0)),se("<<"),se("/Producer ("+zn(Z("jsPDF "+hn.version))+")"),Bt)Bt.hasOwnProperty(Ce)&&Bt[Ce]&&se("/"+Ce.substr(0,1).toUpperCase()+Ce.substr(1)+" ("+zn(Z(Bt[Ce]))+")");se("/CreationDate ("+zn(Z(Se))+")"),se(">>"),se("endobj")},ei=y.__private__.putCatalog=function(F){var Z=(F=F||{}).rootDictionaryObjId||he;switch(Yt(),se("<<"),se("/Type /Catalog"),se("/Pages "+Z+" 0 R"),St||(St="fullwidth"),St){case"fullwidth":se("/OpenAction [3 0 R /FitH null]");break;case"fullheight":se("/OpenAction [3 0 R /FitV null]");break;case"fullpage":se("/OpenAction [3 0 R /Fit]");break;case"original":se("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Ce=""+St;Ce.substr(Ce.length-1)==="%"&&(St=parseInt(St)/100),typeof St=="number"&&se("/OpenAction [3 0 R /XYZ null null "+P(St)+"]")}switch(Zt||(Zt="continuous"),Zt){case"continuous":se("/PageLayout /OneColumn");break;case"single":se("/PageLayout /SinglePage");break;case"two":case"twoleft":se("/PageLayout /TwoColumnLeft");break;case"tworight":se("/PageLayout /TwoColumnRight")}jt&&se("/PageMode /"+jt),Ln.publish("putCatalog"),se(">>"),se("endobj")},ps=y.__private__.putTrailer=function(){se("trailer"),se("<<"),se("/Size "+(ne+1)),se("/Root "+ne+" 0 R"),se("/Info "+(ne-1)+" 0 R"),d!==null&&se("/Encrypt "+es.oid+" 0 R"),se("/ID [ <"+oe+"> <"+oe+"> ]"),se(">>")},Qn=y.__private__.putHeader=function(){se("%PDF-"+E),se("%")},wo=y.__private__.putXRef=function(){var F="0000000000";se("xref"),se("0 "+(ne+1)),se("0000000000 65535 f ");for(var Z=1;Z<=ne;Z++)typeof ye[Z]=="function"?se((F+ye[Z]()).slice(-10)+" 00000 n "):ye[Z]!==void 0?se((F+ye[Z]).slice(-10)+" 00000 n "):se("0000000000 00000 n ")},ua=y.__private__.buildDocument=function(){var F;ne=0,ue=0,pe=[],ye=[],Te=[],he=qn(),ge=qn(),pt(pe),Ln.publish("buildDocument"),Qn(),He(),(function(){Ln.publish("putAdditionalObjects");for(var Ce=0;Ce<Te.length;Ce++){var De=Te[Ce];te(De.objId,!0),se(De.content),se("endobj")}Ln.publish("postPutAdditionalObjects")})(),F=[],(function(){for(var Ce in Gt)Gt.hasOwnProperty(Ce)&&(p===!1||p===!0&&g.hasOwnProperty(Ce))&&Ke(Gt[Ce])})(),(function(){var Ce;for(Ce in pn)pn.hasOwnProperty(Ce)&&bt(pn[Ce])})(),(function(){for(var Ce in os)os.hasOwnProperty(Ce)&&_t(os[Ce])})(),(function(Ce){var De;for(De in ln)ln.hasOwnProperty(De)&&(ln[De]instanceof Od?At(ln[De]):ln[De]instanceof z0&&Rt(ln[De],Ce))})(F),Ln.publish("putResources"),F.forEach(kt),kt({resourcesOid:ge,objectOid:Number.MAX_SAFE_INTEGER}),Ln.publish("postPutResources"),d!==null&&(es.oid=Yt(),se("<<"),se("/Filter /Standard"),se("/V "+es.v),se("/R "+es.r),se("/U <"+es.toHexString(es.U)+">"),se("/O <"+es.toHexString(es.O)+">"),se("/P "+es.P),se(">>"),se("endobj")),Zr(),ei();var Z=ue;return wo(),ps(),se("startxref"),se(""+Z),se("%%EOF"),pt(je[J]),pe.join(`
`)},or=y.__private__.getBlob=function(F){return new Blob([it(F)],{type:"application/pdf"})},qo=y.output=y.__private__.output=($n=function(F,Z){switch(typeof(Z=Z||{})=="string"?Z={filename:Z}:Z.filename=Z.filename||"generated.pdf",F){case void 0:return ua();case"save":y.save(Z.filename);break;case"arraybuffer":return it(ua());case"blob":return or(ua());case"bloburi":case"bloburl":if(Dn.URL!==void 0&&typeof Dn.URL.createObjectURL=="function")return Dn.URL&&Dn.URL.createObjectURL(or(ua()))||void 0;ss.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Ce="",De=ua();try{Ce=lR(De)}catch{Ce=lR(unescape(encodeURIComponent(De)))}return"data:application/pdf;filename="+Z.filename+";base64,"+Ce;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Dn)==="[object Window]"){var Ue="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",ct=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';Z.pdfObjectUrl&&(Ue=Z.pdfObjectUrl,ct="");var yt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ue+'"'+ct+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(Z)+");<\/script></body></html>",Kt=Dn.open();return Kt!==null&&Kt.document.write(yt),Kt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Dn)==="[object Window]"){var en='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(Z.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+Z.filename+'" width="500px" height="400px" /></body></html>',_n=Dn.open();if(_n!==null){_n.document.write(en);var gn=this;_n.document.documentElement.querySelector("#pdfViewer").onload=function(){_n.document.title=Z.filename,_n.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(gn.output("bloburl"))}}return _n}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Dn)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var er='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",Z)+'"></iframe></body></html>',zr=Dn.open();if(zr!==null&&(zr.document.write(er),zr.document.title=Z.filename),zr||typeof safari>"u")return zr;break;case"datauri":case"dataurl":return Dn.document.location.href=this.output("datauristring",Z);default:return null}},$n.foo=function(){try{return $n.apply(this,arguments)}catch(Ce){var F=Ce.stack||"";~F.indexOf(" at ")&&(F=F.split(" at ")[1]);var Z="Error in function "+F.split(`
`)[0].split("<")[0]+": "+Ce.message;if(!Dn.console)throw new Error(Z);Dn.console.error(Z,Ce),Dn.alert&&alert(Z)}},$n.foo.bar=$n,$n.foo),Es=function(F){return Array.isArray(as)===!0&&as.indexOf(F)>-1};switch(r){case"pt":wt=1;break;case"mm":wt=72/25.4;break;case"cm":wt=72/2.54;break;case"in":wt=72;break;case"px":wt=Es("px_scaling")==1?.75:96/72;break;case"pc":case"em":wt=12;break;case"ex":wt=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);wt=r}var es=null;re(),Ie();var ms=y.__private__.getPageInfo=y.getPageInfo=function(F){if(isNaN(F)||F%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Wt[F].objId,pageNumber:F,pageContext:Wt[F]}},vl=y.__private__.getPageInfoByObjId=function(F){if(isNaN(F)||F%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var Z in Wt)if(Wt[Z].objId===F)break;return ms(Z)},zu=y.__private__.getCurrentPageInfo=y.getCurrentPageInfo=function(){return{objId:Wt[J].objId,pageNumber:J,pageContext:Wt[J]}};y.addPage=function(){return zs.apply(this,arguments),this},y.setPage=function(){return ca.apply(this,arguments),pt.call(this,je[J]),this},y.insertPage=function(F){return this.addPage(),this.movePage(J,F),this},y.movePage=function(F,Z){var Ce,De;if(F>Z){Ce=je[F],De=Wt[F];for(var Ue=F;Ue>Z;Ue--)je[Ue]=je[Ue-1],Wt[Ue]=Wt[Ue-1];je[Z]=Ce,Wt[Z]=De,this.setPage(Z)}else if(F<Z){Ce=je[F],De=Wt[F];for(var ct=F;ct<Z;ct++)je[ct]=je[ct+1],Wt[ct]=Wt[ct+1];je[Z]=Ce,Wt[Z]=De,this.setPage(Z)}return this},y.deletePage=function(){return Wi.apply(this,arguments),this},y.__private__.text=y.text=function(F,Z,Ce,De,Ue){var ct,yt,Kt,en,_n,gn,er,zr,Mr,w=(De=De||{}).scope||this;if(typeof F=="number"&&typeof Z=="number"&&(typeof Ce=="string"||Array.isArray(Ce))){var z=Ce;Ce=Z,Z=F,F=z}if(arguments[3]instanceof un==0?(Kt=arguments[4],en=arguments[5],Ur(er=arguments[3])==="object"&&er!==null||(typeof Kt=="string"&&(en=Kt,Kt=null),typeof er=="string"&&(en=er,er=null),typeof er=="number"&&(Kt=er,er=null),De={flags:er,angle:Kt,align:en})):(R("The transform parameter of text() with a Matrix value"),Mr=Ue),isNaN(Z)||isNaN(Ce)||F==null)throw new Error("Invalid arguments passed to jsPDF.text");if(F.length===0)return w;var Q,me="",ze=typeof De.lineHeightFactor=="number"?De.lineHeightFactor:So,Qe=w.internal.scaleFactor;function It(Tr){return Tr=Tr.split("	").join(Array(De.TabLen||9).join(" ")),zn(Tr,er)}function In(Tr){for(var fr,Wr=Tr.concat(),Cs=[],el=Wr.length;el--;)typeof(fr=Wr.shift())=="string"?Cs.push(fr):Array.isArray(Tr)&&(fr.length===1||fr[1]===void 0&&fr[2]===void 0)?Cs.push(fr[0]):Cs.push([fr[0],fr[1],fr[2]]);return Cs}function Gr(Tr,fr){var Wr;if(typeof Tr=="string")Wr=fr(Tr)[0];else if(Array.isArray(Tr)){for(var Cs,el,Io=Tr.concat(),Qc=[],fd=Io.length;fd--;)typeof(Cs=Io.shift())=="string"?Qc.push(fr(Cs)[0]):Array.isArray(Cs)&&typeof Cs[0]=="string"&&(el=fr(Cs[0],Cs[1],Cs[2]),Qc.push([el[0],el[1],el[2]]));Wr=Qc}return Wr}var Yn=!1,Cr=!0;if(typeof F=="string")Yn=!0;else if(Array.isArray(F)){var ni=F.concat();yt=[];for(var pi,Fr=ni.length;Fr--;)(typeof(pi=ni.shift())!="string"||Array.isArray(pi)&&typeof pi[0]!="string")&&(Cr=!1);Yn=Cr}if(Yn===!1)throw new Error('Type of text must be string or Array. "'+F+'" is not recognized.');typeof F=="string"&&(F=F.match(/[\r?\n]/)?F.split(/\r\n|\r|\n/g):[F]);var mi=tt/w.internal.scaleFactor,La=mi*(ze-1);switch(De.baseline){case"bottom":Ce-=La;break;case"top":Ce+=mi-La;break;case"hanging":Ce+=mi-2*La;break;case"middle":Ce+=mi/2-La}if((gn=De.maxWidth||0)>0&&(typeof F=="string"?F=w.splitTextToSize(F,gn):Object.prototype.toString.call(F)==="[object Array]"&&(F=F.reduce(function(Tr,fr){return Tr.concat(w.splitTextToSize(fr,gn))},[]))),ct={text:F,x:Z,y:Ce,options:De,mutex:{pdfEscape:zn,activeFontKey:vt,fonts:Gt,activeFontSize:tt}},Ln.publish("preProcessText",ct),F=ct.text,Kt=(De=ct.options).angle,Mr instanceof un==0&&Kt&&typeof Kt=="number"){Kt*=Math.PI/180,De.rotationDirection===0&&(Kt=-Kt),B===k&&(Kt=-Kt);var $o=Math.cos(Kt),Ko=Math.sin(Kt);Mr=new un($o,Ko,-Ko,$o,0,0)}else Kt&&Kt instanceof un&&(Mr=Kt);B!==k||Mr||(Mr=Dt),(_n=De.charSpace||Ki)!==void 0&&(me+=L(H(_n))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(zr=De.horizontalScale)!==void 0&&(me+=L(100*zr)+` Tz
`),De.lang;var Ji=-1,El=De.renderingMode!==void 0?De.renderingMode:De.stroke,Gu=w.internal.getCurrentPageInfo().pageContext;switch(El){case 0:case!1:case"fill":Ji=0;break;case 1:case!0:case"stroke":Ji=1;break;case 2:case"fillThenStroke":Ji=2;break;case 3:case"invisible":Ji=3;break;case 4:case"fillAndAddForClipping":Ji=4;break;case 5:case"strokeAndAddPathForClipping":Ji=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Ji=6;break;case 7:case"addToPathForClipping":Ji=7}var cd=Gu.usedRenderingMode!==void 0?Gu.usedRenderingMode:-1;Ji!==-1?me+=Ji+` Tr
`:cd!==-1&&(me+=`0 Tr
`),Ji!==-1&&(Gu.usedRenderingMode=Ji),en=De.align||"left";var Fa,Co=tt*ze,Sl=w.internal.pageSize.getWidth(),ud=Gt[vt];_n=De.charSpace||Ki,gn=De.maxWidth||0,er=Object.assign({autoencode:!0,noBOM:!0},De.flags);var No=[],ac=function(Tr){return w.getStringUnitWidth(Tr,{font:ud,charSpace:_n,fontSize:tt,doKerning:!1})*tt/Qe};if(Object.prototype.toString.call(F)==="[object Array]"){var da;yt=In(F),en!=="left"&&(Fa=yt.map(ac));var Qi,Yo=0;if(en==="right"){Z-=Fa[0],F=[],Fr=yt.length;for(var Xo=0;Xo<Fr;Xo++)Xo===0?(Qi=Ws(Z),da=Ps(Ce)):(Qi=H(Yo-Fa[Xo]),da=-Co),F.push([yt[Xo],Qi,da]),Yo=Fa[Xo]}else if(en==="center"){Z-=Fa[0]/2,F=[],Fr=yt.length;for(var Al=0;Al<Fr;Al++)Al===0?(Qi=Ws(Z),da=Ps(Ce)):(Qi=H((Yo-Fa[Al])/2),da=-Co),F.push([yt[Al],Qi,da]),Yo=Fa[Al]}else if(en==="left"){F=[],Fr=yt.length;for(var Wu=0;Wu<Fr;Wu++)F.push(yt[Wu])}else if(en==="justify"&&ud.encoding==="Identity-H"){F=[],Fr=yt.length,gn=gn!==0?gn:Sl;for(var $u=0,As=0;As<Fr;As++)if(da=As===0?Ps(Ce):-Co,Qi=As===0?Ws(Z):$u,As<Fr-1){var Dh=H((gn-Fa[As])/(yt[As].split(" ").length-1)),Jo=yt[As].split(" ");F.push([Jo[0]+" ",Qi,da]),$u=0;for(var Qo=1;Qo<Jo.length;Qo++){var gi=(ac(Jo[Qo-1]+" "+Jo[Qo])-ac(Jo[Qo]))*Qe+Dh;Qo==Jo.length-1?F.push([Jo[Qo],gi,0]):F.push([Jo[Qo]+" ",gi,0]),$u-=gi}}else F.push([yt[As],Qi,da]);F.push(["",$u,0])}else{if(en!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(F=[],Fr=yt.length,gn=gn!==0?gn:Sl,As=0;As<Fr;As++){da=As===0?Ps(Ce):-Co,Qi=As===0?Ws(Z):0;var Cl=yt[As].split(" ").length-1,Ku=Cl>0?(gn-Fa[As])/Cl:0;As<Fr-1?No.push(L(H(Ku))):No.push(0),F.push([yt[As],Qi,da])}}}(typeof De.R2L=="boolean"?De.R2L:Lt)===!0&&(F=Gr(F,function(Tr,fr,Wr){return[Tr.split("").reverse().join(""),fr,Wr]})),ct={text:F,x:Z,y:Ce,options:De,mutex:{pdfEscape:zn,activeFontKey:vt,fonts:Gt,activeFontSize:tt}},Ln.publish("postProcessText",ct),F=ct.text,Q=ct.mutex.isHex||!1;var Yu=Gt[vt].encoding;Yu!=="WinAnsiEncoding"&&Yu!=="StandardEncoding"||(F=Gr(F,function(Tr,fr,Wr){return[It(Tr),fr,Wr]})),yt=In(F),F=[];for(var Nl,Il,Zo,Jc=Array.isArray(yt[0])?1:0,Oa="",kl=function(Tr,fr,Wr){var Cs="";return Wr instanceof un?(Wr=typeof De.angle=="number"?Le(Wr,new un(1,0,0,1,Tr,fr)):Le(new un(1,0,0,1,Tr,fr),Wr),B===k&&(Wr=Le(new un(1,0,0,-1,0,0),Wr)),Cs=Wr.join(" ")+` Tm
`):Cs=L(Tr)+" "+L(fr)+` Td
`,Cs},Mi=0;Mi<yt.length;Mi++){switch(Oa="",Jc){case 1:Zo=(Q?"<":"(")+yt[Mi][0]+(Q?">":")"),Nl=parseFloat(yt[Mi][1]),Il=parseFloat(yt[Mi][2]);break;case 0:Zo=(Q?"<":"(")+yt[Mi]+(Q?">":")"),Nl=Ws(Z),Il=Ps(Ce)}No!==void 0&&No[Mi]!==void 0&&(Oa=No[Mi]+` Tw
`),Mi===0?F.push(Oa+kl(Nl,Il,Mr)+Zo):Jc===0?F.push(Oa+Zo):Jc===1&&F.push(Oa+kl(Nl,Il,Mr)+Zo)}F=Jc===0?F.join(` Tj
T* `):F.join(` Tj
`),F+=` Tj
`;var Za=`BT
/`;return Za+=vt+" "+tt+` Tf
`,Za+=L(tt*ze)+` TL
`,Za+=Da+`
`,Za+=me,Za+=F,se(Za+="ET"),g[vt]=!0,w};var Gc=y.__private__.clip=y.clip=function(F){return se(F==="evenodd"?"W*":"W"),this};y.clipEvenOdd=function(){return Gc("evenodd")},y.__private__.discardPath=y.discardPath=function(){return se("n"),this};var hi=y.__private__.isValidStyle=function(F){var Z=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(F)!==-1&&(Z=!0),Z};y.__private__.setDefaultPathOperation=y.setDefaultPathOperation=function(F){return hi(F)&&(f=F),this};var Wc=y.__private__.getStyle=y.getStyle=function(F){var Z=f;switch(F){case"D":case"S":Z="S";break;case"F":Z="f";break;case"FD":case"DF":Z="B";break;case"f":case"f*":case"B":case"B*":Z=F}return Z},To=y.close=function(){return se("h"),this};y.stroke=function(){return se("S"),this},y.fill=function(F){return Gs("f",F),this},y.fillEvenOdd=function(F){return Gs("f*",F),this},y.fillStroke=function(F){return Gs("B",F),this},y.fillStrokeEvenOdd=function(F){return Gs("B*",F),this};var Gs=function(F,Z){Ur(Z)==="object"?Kc(Z,F):se(F)},Ho=function(F){F===null||B===k&&F===void 0||(F=Wc(F),se(F))};function $c(F,Z,Ce,De,Ue){var ct=new z0(Z||this.boundingBox,Ce||this.xStep,De||this.yStep,this.gState,Ue||this.matrix);ct.stream=this.stream;var yt=F+"$$"+this.cloneIndex+++"$$";return Vt(yt,ct),ct}var Kc=function(F,Z){var Ce=Jn[F.key],De=ln[Ce];if(De instanceof Od)se("q"),se(tc(Z)),De.gState&&y.setGState(De.gState),se(F.matrix.toString()+" cm"),se("/"+Ce+" sh"),se("Q");else if(De instanceof z0){var Ue=new un(1,0,0,-1,0,Ma());F.matrix&&(Ue=Ue.multiply(F.matrix||Dt),Ce=$c.call(De,F.key,F.boundingBox,F.xStep,F.yStep,Ue).id),se("q"),se("/Pattern cs"),se("/"+Ce+" scn"),De.gState&&y.setGState(De.gState),se(Z),se("Q")}},tc=function(F){switch(F){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},nc=y.moveTo=function(F,Z){return se(L(H(F))+" "+L(ae(Z))+" m"),this},Eo=y.lineTo=function(F,Z){return se(L(H(F))+" "+L(ae(Z))+" l"),this},Pi=y.curveTo=function(F,Z,Ce,De,Ue,ct){return se([L(H(F)),L(ae(Z)),L(H(Ce)),L(ae(De)),L(H(Ue)),L(ae(ct)),"c"].join(" ")),this};y.__private__.line=y.line=function(F,Z,Ce,De,Ue){if(isNaN(F)||isNaN(Z)||isNaN(Ce)||isNaN(De)||!hi(Ue))throw new Error("Invalid arguments passed to jsPDF.line");return B===V?this.lines([[Ce-F,De-Z]],F,Z,[1,1],Ue||"S"):this.lines([[Ce-F,De-Z]],F,Z,[1,1]).stroke()},y.__private__.lines=y.lines=function(F,Z,Ce,De,Ue,ct){var yt,Kt,en,_n,gn,er,zr,Mr,w,z,Q,me;if(typeof F=="number"&&(me=Ce,Ce=Z,Z=F,F=me),De=De||[1,1],ct=ct||!1,isNaN(Z)||isNaN(Ce)||!Array.isArray(F)||!Array.isArray(De)||!hi(Ue)||typeof ct!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(nc(Z,Ce),yt=De[0],Kt=De[1],_n=F.length,z=Z,Q=Ce,en=0;en<_n;en++)(gn=F[en]).length===2?(z=gn[0]*yt+z,Q=gn[1]*Kt+Q,Eo(z,Q)):(er=gn[0]*yt+z,zr=gn[1]*Kt+Q,Mr=gn[2]*yt+z,w=gn[3]*Kt+Q,z=gn[4]*yt+z,Q=gn[5]*Kt+Q,Pi(er,zr,Mr,w,z,Q));return ct&&To(),Ho(Ue),this},y.path=function(F){for(var Z=0;Z<F.length;Z++){var Ce=F[Z],De=Ce.c;switch(Ce.op){case"m":nc(De[0],De[1]);break;case"l":Eo(De[0],De[1]);break;case"c":Pi.apply(this,De);break;case"h":To()}}return this},y.__private__.rect=y.rect=function(F,Z,Ce,De,Ue){if(isNaN(F)||isNaN(Z)||isNaN(Ce)||isNaN(De)||!hi(Ue))throw new Error("Invalid arguments passed to jsPDF.rect");return B===V&&(De=-De),se([L(H(F)),L(ae(Z)),L(H(Ce)),L(H(De)),"re"].join(" ")),Ho(Ue),this},y.__private__.triangle=y.triangle=function(F,Z,Ce,De,Ue,ct,yt){if(isNaN(F)||isNaN(Z)||isNaN(Ce)||isNaN(De)||isNaN(Ue)||isNaN(ct)||!hi(yt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Ce-F,De-Z],[Ue-Ce,ct-De],[F-Ue,Z-ct]],F,Z,[1,1],yt,!0),this},y.__private__.roundedRect=y.roundedRect=function(F,Z,Ce,De,Ue,ct,yt){if(isNaN(F)||isNaN(Z)||isNaN(Ce)||isNaN(De)||isNaN(Ue)||isNaN(ct)||!hi(yt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Kt=4/3*(Math.SQRT2-1);return Ue=Math.min(Ue,.5*Ce),ct=Math.min(ct,.5*De),this.lines([[Ce-2*Ue,0],[Ue*Kt,0,Ue,ct-ct*Kt,Ue,ct],[0,De-2*ct],[0,ct*Kt,-Ue*Kt,ct,-Ue,ct],[2*Ue-Ce,0],[-Ue*Kt,0,-Ue,-ct*Kt,-Ue,-ct],[0,2*ct-De],[0,-ct*Kt,Ue*Kt,-ct,Ue,-ct]],F+Ue,Z,[1,1],yt,!0),this},y.__private__.ellipse=y.ellipse=function(F,Z,Ce,De,Ue){if(isNaN(F)||isNaN(Z)||isNaN(Ce)||isNaN(De)||!hi(Ue))throw new Error("Invalid arguments passed to jsPDF.ellipse");var ct=4/3*(Math.SQRT2-1)*Ce,yt=4/3*(Math.SQRT2-1)*De;return nc(F+Ce,Z),Pi(F+Ce,Z-yt,F+ct,Z-De,F,Z-De),Pi(F-ct,Z-De,F-Ce,Z-yt,F-Ce,Z),Pi(F-Ce,Z+yt,F-ct,Z+De,F,Z+De),Pi(F+ct,Z+De,F+Ce,Z+yt,F+Ce,Z),Ho(Ue),this},y.__private__.circle=y.circle=function(F,Z,Ce,De){if(isNaN(F)||isNaN(Z)||isNaN(Ce)||!hi(De))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(F,Z,Ce,Ce,De)},y.setFont=function(F,Z,Ce){return Ce&&(Z=D(Z,Ce)),vt=bo(F,Z,{disableWarning:!1}),this};var Pa=y.__private__.getFont=y.getFont=function(){return Gt[bo.apply(y,arguments)]};y.__private__.getFontList=y.getFontList=function(){var F,Z,Ce={};for(F in mn)if(mn.hasOwnProperty(F))for(Z in Ce[F]=[],mn[F])mn[F].hasOwnProperty(Z)&&Ce[F].push(Z);return Ce},y.addFont=function(F,Z,Ce,De,Ue){var ct=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&ct.indexOf(arguments[3])!==-1?Ue=arguments[3]:arguments[3]&&ct.indexOf(arguments[3])==-1&&(Ce=D(Ce,De)),mr.call(this,F,Z,Ce,Ue=Ue||"Identity-H")};var So,Di=t.lineWidth||.200025,zo=y.__private__.getLineWidth=y.getLineWidth=function(){return Di},yn=y.__private__.setLineWidth=y.setLineWidth=function(F){return Di=F,se(L(H(F))+" w"),this};y.__private__.setLineDash=hn.API.setLineDash=hn.API.setLineDashPattern=function(F,Z){if(F=F||[],Z=Z||0,isNaN(Z)||!Array.isArray(F))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return F=F.map(function(Ce){return L(H(Ce))}).join(" "),Z=L(H(Z)),se("["+F+"] "+Z+" d"),this};var _l=y.__private__.getLineHeight=y.getLineHeight=function(){return tt*So};y.__private__.getLineHeight=y.getLineHeight=function(){return tt*So};var rc=y.__private__.setLineHeightFactor=y.setLineHeightFactor=function(F){return typeof(F=F||1.15)=="number"&&(So=F),this},Go=y.__private__.getLineHeightFactor=y.getLineHeightFactor=function(){return So};rc(t.lineHeight);var Ws=y.__private__.getHorizontalCoordinate=function(F){return H(F)},Ps=y.__private__.getVerticalCoordinate=function(F){return B===k?F:Wt[J].mediaBox.topRightY-Wt[J].mediaBox.bottomLeftY-H(F)},bl=y.__private__.getHorizontalCoordinateString=y.getHorizontalCoordinateString=function(F){return L(Ws(F))},Ar=y.__private__.getVerticalCoordinateString=y.getVerticalCoordinateString=function(F){return L(Ps(F))},$i=t.strokeColor||"0 G";y.__private__.getStrokeColor=y.getDrawColor=function(){return we($i)},y.__private__.setStrokeColor=y.setDrawColor=function(F,Z,Ce,De){return $i=Ee({ch1:F,ch2:Z,ch3:Ce,ch4:De,pdfColorType:"draw",precision:2}),se($i),this};var wl=t.fillColor||"0 g";y.__private__.getFillColor=y.getFillColor=function(){return we(wl)},y.__private__.setFillColor=y.setFillColor=function(F,Z,Ce,De){return wl=Ee({ch1:F,ch2:Z,ch3:Ce,ch4:De,pdfColorType:"fill",precision:2}),se(wl),this};var Da=t.textColor||"0 g",Yc=y.__private__.getTextColor=y.getTextColor=function(){return we(Da)};y.__private__.setTextColor=y.setTextColor=function(F,Z,Ce,De){return Da=Ee({ch1:F,ch2:Z,ch3:Ce,ch4:De,pdfColorType:"text",precision:3}),this};var Ki=t.charSpace,Ao=y.__private__.getCharSpace=y.getCharSpace=function(){return parseFloat(Ki||0)};y.__private__.setCharSpace=y.setCharSpace=function(F){if(isNaN(F))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Ki=F,this};var Yi=0;y.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},y.__private__.setLineCap=y.setLineCap=function(F){var Z=y.CapJoinStyles[F];if(Z===void 0)throw new Error("Line cap style of '"+F+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Yi=Z,se(Z+" J"),this};var Ss=0;y.__private__.setLineJoin=y.setLineJoin=function(F){var Z=y.CapJoinStyles[F];if(Z===void 0)throw new Error("Line join style of '"+F+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ss=Z,se(Z+" j"),this},y.__private__.setLineMiterLimit=y.__private__.setMiterLimit=y.setLineMiterLimit=y.setMiterLimit=function(F){if(F=F||0,isNaN(F))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return se(L(H(F))+" M"),this},y.GState=N2,y.setGState=function(F){(F=typeof F=="string"?pn[fn[F]]:Ka(null,F)).equals(ar)||(se("/"+F.id+" gs"),ar=F)};var Ka=function(F,Z){if(!F||!fn[F]){var Ce=!1;for(var De in pn)if(pn.hasOwnProperty(De)&&pn[De].equals(Z)){Ce=!0;break}if(Ce)Z=pn[De];else{var Ue="GS"+(Object.keys(pn).length+1).toString(10);pn[Ue]=Z,Z.id=Ue}return F&&(fn[F]=Z.id),Ln.publish("addGState",Z),Z}};y.addGState=function(F,Z){return Ka(F,Z),this},y.saveGraphicsState=function(){return se("q"),An.push({key:vt,size:tt,color:Da}),this},y.restoreGraphicsState=function(){se("Q");var F=An.pop();return vt=F.key,tt=F.size,Da=F.color,ar=null,this},y.setCurrentTransformationMatrix=function(F){return se(F.toString()+" cm"),this},y.comment=function(F){return se("#"+F),this};var ti=function(F,Z){var Ce=F||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Ce},set:function(ct){isNaN(ct)||(Ce=parseFloat(ct))}});var De=Z||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return De},set:function(ct){isNaN(ct)||(De=parseFloat(ct))}});var Ue="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ue},set:function(ct){Ue=ct.toString()}}),this},Ya=function(F,Z,Ce,De){ti.call(this,F,Z),this.type="rect";var Ue=Ce||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ue},set:function(yt){isNaN(yt)||(Ue=parseFloat(yt))}});var ct=De||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return ct},set:function(yt){isNaN(yt)||(ct=parseFloat(yt))}}),this},Wo=function(){this.page=cn,this.currentPage=J,this.pages=je.slice(0),this.pagesContext=Wt.slice(0),this.x=Et,this.y=Wn,this.matrix=qt,this.width=fa(J),this.height=sc(J),this.outputDestination=dt,this.id="",this.objectNumber=-1};Wo.prototype.restore=function(){cn=this.page,J=this.currentPage,Wt=this.pagesContext,je=this.pages,Et=this.x,Wn=this.y,qt=this.matrix,Tl(J,this.width),Xi(J,this.height),dt=this.outputDestination};var Xa=function(F,Z,Ce,De,Ue){Hr.push(new Wo),cn=J=0,je=[],Et=F,Wn=Z,qt=Ue,wr([Ce,De])};for(var Ja in y.beginFormObject=function(F,Z,Ce,De,Ue){return Xa(F,Z,Ce,De,Ue),this},y.endFormObject=function(F){return(function(Z){if(ki[Z])Hr.pop().restore();else{var Ce=new Wo,De="Xo"+(Object.keys(os).length+1).toString(10);Ce.id=De,ki[Z]=De,os[De]=Ce,Ln.publish("addFormObject",Ce),Hr.pop().restore()}})(F),this},y.doFormObject=function(F,Z){var Ce=os[ki[F]];return se("q"),se(Z.toString()+" cm"),se("/"+Ce.id+" Do"),se("Q"),this},y.getFormObject=function(F){var Z=os[ki[F]];return{x:Z.x,y:Z.y,width:Z.width,height:Z.height,matrix:Z.matrix}},y.save=function(F,Z){return F=F||"generated.pdf",(Z=Z||{}).returnPromise=Z.returnPromise||!1,Z.returnPromise===!1?(Pd(or(ua()),F),typeof Pd.unload=="function"&&Dn.setTimeout&&setTimeout(Pd.unload,911),this):new Promise(function(Ce,De){try{var Ue=Pd(or(ua()),F);typeof Pd.unload=="function"&&Dn.setTimeout&&setTimeout(Pd.unload,911),Ce(Ue)}catch(ct){De(ct.message)}})},hn.API)hn.API.hasOwnProperty(Ja)&&(Ja==="events"&&hn.API.events.length?(function(F,Z){var Ce,De,Ue;for(Ue=Z.length-1;Ue!==-1;Ue--)Ce=Z[Ue][0],De=Z[Ue][1],F.subscribe.apply(F,[Ce].concat(typeof De=="function"?[De]:De))})(Ln,hn.API.events):y[Ja]=hn.API[Ja]);function fa(F){return Wt[F].mediaBox.topRightX-Wt[F].mediaBox.bottomLeftX}function Tl(F,Z){Wt[F].mediaBox.topRightX=Z+Wt[F].mediaBox.bottomLeftX}function sc(F){return Wt[F].mediaBox.topRightY-Wt[F].mediaBox.bottomLeftY}function Xi(F,Z){Wt[F].mediaBox.topRightY=Z+Wt[F].mediaBox.bottomLeftY}var Qa=y.getPageWidth=function(F){return fa(F=F||J)/wt},Xc=y.setPageWidth=function(F,Z){Tl(F,Z*wt)},Ma=y.getPageHeight=function(F){return sc(F=F||J)/wt},ic=y.setPageHeight=function(F,Z){Xi(F,Z*wt)};return y.internal={pdfEscape:zn,getStyle:Wc,getFont:Pa,getFontSize:Ct,getCharSpace:Ao,getTextColor:Yc,getLineHeight:_l,getLineHeightFactor:Go,getLineWidth:zo,write:nt,getHorizontalCoordinate:Ws,getVerticalCoordinate:Ps,getCoordinateString:bl,getVerticalCoordinateString:Ar,collections:{},newObject:Yt,newAdditionalObject:be,newObjectDeferred:qn,newObjectDeferredBegin:te,getFilters:Ve,putStream:rt,events:Ln,scaleFactor:wt,pageSize:{getWidth:function(){return Qa(J)},setWidth:function(F){Xc(J,F)},getHeight:function(){return Ma(J)},setHeight:function(F){ic(J,F)}},encryptionOptions:d,encryption:es,getEncryptor:function(F){return d!==null?es.encryptor(F,0):function(Z){return Z}},output:qo,getNumberOfPages:Ri,get pages(){return je},out:se,f2:P,f3:M,getPageInfo:ms,getPageInfoByObjId:vl,getCurrentPageInfo:zu,getPDFVersion:b,Point:ti,Rectangle:Ya,Matrix:un,hasHotfix:Es},Object.defineProperty(y.internal.pageSize,"width",{get:function(){return Qa(J)},set:function(F){Xc(J,F)},enumerable:!0,configurable:!0}),Object.defineProperty(y.internal.pageSize,"height",{get:function(){return Ma(J)},set:function(F){ic(J,F)},enumerable:!0,configurable:!0}),(function(F){for(var Z=0,Ce=Pt.length;Z<Ce;Z++){var De=mr.call(this,F[Z][0],F[Z][1],F[Z][2],Pt[Z][3],!0);p===!1&&(g[De]=!0);var Ue=F[Z][0].split("-");$t({id:De,fontName:Ue[0],fontStyle:Ue[1]||""})}Ln.publish("addFonts",{fonts:Gt,dictionary:mn})}).call(y,Pt),vt="F1",zs(s,n),Ln.publish("initialized"),y}k0.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},k0.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},k0.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},k0.prototype.processOwnerPassword=function(t,e){return sT(rT(e).substr(0,5),t)},k0.prototype.encryptor=function(t,e){var n=rT(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return sT(n,r)}},N2.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||Ur(t)!==Ur(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},hn.API={events:[]},hn.version="3.0.4";var Vs=hn.API,_S=1,Th=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},_0=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Un=function(t){return t.toFixed(2)},Sf=function(t){return t.toFixed(5)};Vs.__acroform__={};var _o=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},dR=function(t){return t*_S},Tc=function(t){var e=new HO,n=nn.internal.getHeight(t)||0,r=nn.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Un(r)),Number(Un(n))],e},Vce=Vs.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},Uce=Vs.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},jce=Vs.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Xs=Vs.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return jce(t,e-1)},Js=Vs.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Vce(t,e-1)},Qs=Vs.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Uce(t,e-1)},qce=Vs.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,s=t[0],i=t[1],a=t[2],o=t[3],c={};return c.lowerLeft_X=n(s)||0,c.lowerLeft_Y=r(i+o)||0,c.upperRight_X=n(s+a)||0,c.upperRight_Y=r(i)||0,[Number(Un(c.lowerLeft_X)),Number(Un(c.lowerLeft_Y)),Number(Un(c.upperRight_X)),Number(Un(c.upperRight_Y))]},Hce=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=iT(t,n),s=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+s+" "+Un(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var i=Tc(t);return i.scope=t.scope,i.stream=e.join(`
`),i}},iT=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},s=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");s=t.multiline?s.map(function(P){return P.split(`
`)}):s.map(function(P){return[P]});var i=n,a=nn.internal.getHeight(t)||0;a=a<0?-a:a;var o=nn.internal.getWidth(t)||0;o=o<0?-o:o;var c=function(P,M,H){if(P+1<s.length){var ae=M+" "+s[P+1][0];return Qx(ae,t,H).width<=o-4}return!1};i++;e:for(;i>0;){e="",i--;var f,d,p=Qx("3",t,i).height,g=t.multiline?a-i:(a-p)/2,y=g+=2,E=0,b=0,A=0;if(i<=0){e=`(...) Tj
`,e+="% Width of Text: "+Qx(e,t,i=12).width+", FieldWidth:"+o+`
`;break}for(var N="",V=0,k=0;k<s.length;k++)if(s.hasOwnProperty(k)){var B=!1;if(s[k].length!==1&&A!==s[k].length-1){if((p+2)*(V+2)+2>a)continue e;N+=s[k][A],B=!0,b=k,k--}else{N=(N+=s[k][A]+" ").substr(N.length-1)==" "?N.substr(0,N.length-1):N;var W=parseInt(k),K=c(W,N,i),D=k>=s.length-1;if(K&&!D){N+=" ",A=0;continue}if(K||D){if(D)b=W;else if(t.multiline&&(p+2)*(V+2)+2>a)continue e}else{if(!t.multiline||(p+2)*(V+2)+2>a)continue e;b=W}}for(var L="",R=E;R<=b;R++){var q=s[R];if(t.multiline){if(R===b){L+=q[A]+" ",A=(A+1)%q.length;continue}if(R===E){L+=q[q.length-1]+" ";continue}}L+=q[0]+" "}switch(L=L.substr(L.length-1)==" "?L.substr(0,L.length-1):L,d=Qx(L,t,i).width,t.textAlign){case"right":f=o-d-2;break;case"center":f=(o-d)/2;break;default:f=2}e+=Un(f)+" "+Un(y)+` Td
`,e+="("+Th(L)+`) Tj
`,e+=-Un(f)+` 0 Td
`,y=-(i+2),d=0,E=B?b:b+1,V++,N=""}break}return r.text=e,r.fontSize=i,r},Qx=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),s=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:s}},zce={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Gce=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},Wce=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Zl.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(zce)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");_S=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new zO,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in r)if(r.hasOwnProperty(s)){var i=r[s];i.objId=void 0,i.hasAnnotation&&Gce(i,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(r,s){var i=!r;for(var a in r||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(a)){var o=r[a],c=[],f=o.Rect;if(o.Rect&&(o.Rect=qce(o.Rect,s)),s.internal.newObjectDeferredBegin(o.objId,!0),o.DA=nn.createDefaultAppearanceStream(o),Ur(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(c=o.getKeyValueListForStream()),o.Rect=f,o.hasAppearanceStream&&!o.appearanceStreamContent){var d=Hce(o);c.push({key:"AP",value:"<</N "+d+">>"}),s.internal.acroformPlugin.xForms.push(d)}if(o.appearanceStreamContent){var p="";for(var g in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(g)){var y=o.appearanceStreamContent[g];if(p+="/"+g+" ",p+="<<",Object.keys(y).length>=1||Array.isArray(y)){for(var a in y)if(y.hasOwnProperty(a)){var E=y[a];typeof E=="function"&&(E=E.call(s,o)),p+="/"+a+" "+E+" ",s.internal.acroformPlugin.xForms.indexOf(E)>=0||s.internal.acroformPlugin.xForms.push(E)}}else typeof(E=y)=="function"&&(E=E.call(s,o)),p+="/"+a+" "+E,s.internal.acroformPlugin.xForms.indexOf(E)>=0||s.internal.acroformPlugin.xForms.push(E);p+=">>"}c.push({key:"AP",value:`<<
`+p+">>"})}s.internal.putStream({additionalKeyValues:c,objectId:o.objId}),s.internal.out("endobj")}i&&(function(b,A){for(var N in b)if(b.hasOwnProperty(N)){var V=N,k=b[N];A.internal.newObjectDeferredBegin(k.objId,!0),Ur(k)==="object"&&typeof k.putStream=="function"&&k.putStream(),delete b[V]}})(s.internal.acroformPlugin.xForms,s)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},qO=Vs.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(a){return a};if(Array.isArray(t)){for(var s="[",i=0;i<t.length;i++)switch(i!==0&&(s+=" "),Ur(t[i])){case"boolean":case"number":case"object":s+=t[i].toString();break;case"string":t[i].substr(0,1)!=="/"?(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),s+="("+Th(r(t[i].toString()))+")"):s+=t[i].toString()}return s+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},$b=function(t,e,n){var r=function(s){return s};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),"("+Th(r(t))+")"},Ic=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Ic.prototype.toString=function(){return this.objId+" 0 R"},Ic.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Ic.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],s=this[r];s&&(Array.isArray(s)?t.push({key:r,value:qO(s,this.objId,this.scope)}):s instanceof Ic?(s.scope=this.scope,t.push({key:r,value:s.objId+" 0 R"})):typeof s!="function"&&t.push({key:r,value:s}))}return t};var HO=function(){Ic.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};_o(HO,Ic);var zO=function(){Ic.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+Th(n(t))+")"}},set:function(n){t=n}})};_o(zO,Ic);var Zl=function t(){Ic.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(N){if(isNaN(N))throw new Error('Invalid value "'+N+'" for attribute F supplied.');e=N}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Xs(e,3)},set:function(N){N?this.F=Js(e,3):this.F=Qs(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(N){if(isNaN(N))throw new Error('Invalid value "'+N+'" for attribute Ff supplied.');n=N}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(N){r=N!==void 0?N:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(N){r[0]=N}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(N){r[1]=N}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(N){r[2]=N}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(N){r[3]=N}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(N){switch(N){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=N;break;default:throw new Error('Invalid value "'+N+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof I2)return;i="FieldObject"+t.FieldNum++}var N=function(V){return V};return this.scope&&(N=this.scope.internal.getEncryptor(this.objId)),"("+Th(N(i))+")"},set:function(N){i=N.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(N){i=N}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(N){a=N}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(N){o=N}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(N){c=N}});var f=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return f===void 0?50/_S:f},set:function(N){f=N}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(N){d=N}});var p="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!p||this instanceof I2||this instanceof Yd))return $b(p,this.objId,this.scope)},set:function(N){N=N.toString(),p=N}});var g=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof Hi==0?$b(g,this.objId,this.scope):g},set:function(N){N=N.toString(),g=this instanceof Hi==0?N.substr(0,1)==="("?_0(N.substr(1,N.length-2)):_0(N):N}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Hi==1?_0(g.substr(1,g.length-1)):g},set:function(N){N=N.toString(),g=this instanceof Hi==1?"/"+N:N}});var y=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(y)return y},set:function(N){this.V=N}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(y)return this instanceof Hi==0?$b(y,this.objId,this.scope):y},set:function(N){N=N.toString(),y=this instanceof Hi==0?N.substr(0,1)==="("?_0(N.substr(1,N.length-2)):_0(N):N}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Hi==1?_0(y.substr(1,y.length-1)):y},set:function(N){N=N.toString(),y=this instanceof Hi==1?"/"+N:N}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var E,b=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return b},set:function(N){N=!!N,b=N}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(E)return E},set:function(N){E=N}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Xs(this.Ff,1)},set:function(N){N?this.Ff=Js(this.Ff,1):this.Ff=Qs(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Xs(this.Ff,2)},set:function(N){N?this.Ff=Js(this.Ff,2):this.Ff=Qs(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Xs(this.Ff,3)},set:function(N){N?this.Ff=Js(this.Ff,3):this.Ff=Qs(this.Ff,3)}});var A=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(A!==null)return A},set:function(N){if([0,1,2].indexOf(N)===-1)throw new Error('Invalid value "'+N+'" for attribute Q supplied.');A=N}}),Object.defineProperty(this,"textAlign",{get:function(){var N;switch(A){case 0:default:N="left";break;case 1:N="center";break;case 2:N="right"}return N},configurable:!0,enumerable:!0,set:function(N){switch(N){case"right":case 2:A=2;break;case"center":case 1:A=1;break;default:A=0}}})};_o(Zl,Ic);var rp=function(){Zl.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return qO(e,this.objId,this.scope)},set:function(n){var r,s;s=[],typeof(r=n)=="string"&&(s=(function(i,a,o){o||(o=1);for(var c,f=[];c=a.exec(i);)f.push(c[o]);return f})(r,/\((.*?)\)/g)),e=s}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Xs(this.Ff,18)},set:function(n){n?this.Ff=Js(this.Ff,18):this.Ff=Qs(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Xs(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=Js(this.Ff,19):this.Ff=Qs(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Xs(this.Ff,20)},set:function(n){n?(this.Ff=Js(this.Ff,20),e.sort()):this.Ff=Qs(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Xs(this.Ff,22)},set:function(n){n?this.Ff=Js(this.Ff,22):this.Ff=Qs(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Xs(this.Ff,23)},set:function(n){n?this.Ff=Js(this.Ff,23):this.Ff=Qs(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Xs(this.Ff,27)},set:function(n){n?this.Ff=Js(this.Ff,27):this.Ff=Qs(this.Ff,27)}}),this.hasAppearanceStream=!1};_o(rp,Zl);var sp=function(){rp.call(this),this.fontName="helvetica",this.combo=!1};_o(sp,rp);var ip=function(){sp.call(this),this.combo=!0};_o(ip,sp);var Vy=function(){ip.call(this),this.edit=!0};_o(Vy,ip);var Hi=function(){Zl.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Xs(this.Ff,15)},set:function(n){n?this.Ff=Js(this.Ff,15):this.Ff=Qs(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Xs(this.Ff,16)},set:function(n){n?this.Ff=Js(this.Ff,16):this.Ff=Qs(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Xs(this.Ff,17)},set:function(n){n?this.Ff=Js(this.Ff,17):this.Ff=Qs(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Xs(this.Ff,26)},set:function(n){n?this.Ff=Js(this.Ff,26):this.Ff=Qs(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(i){return i};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,s=[];for(r in s.push("<<"),e)s.push("/"+r+" ("+Th(n(e[r]))+")");return s.push(">>"),s.join(`
`)}},set:function(n){Ur(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};_o(Hi,Zl);var Uy=function(){Hi.call(this),this.pushButton=!0};_o(Uy,Hi);var ap=function(){Hi.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};_o(ap,Hi);var I2=function(){var t,e;Zl.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(s){t=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(s){e=s}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(o){return o};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var i,a=[];for(i in a.push("<<"),r)a.push("/"+i+" ("+Th(s(r[i]))+")");return a.push(">>"),a.join(`
`)},set:function(s){Ur(s)==="object"&&(r=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(s){typeof s=="string"&&(r.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(s){n=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(s){n="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=nn.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};_o(I2,Zl),ap.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},ap.prototype.createOption=function(t){var e=new I2;return e.Parent=this,e.optionName=t,this.Kids.push(e),$ce.call(this.scope,e),e};var jy=function(){Hi.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=nn.CheckBox.createAppearanceStream()};_o(jy,Hi);var Yd=function(){Zl.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Xs(this.Ff,13)},set:function(e){e?this.Ff=Js(this.Ff,13):this.Ff=Qs(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Xs(this.Ff,21)},set:function(e){e?this.Ff=Js(this.Ff,21):this.Ff=Qs(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Xs(this.Ff,23)},set:function(e){e?this.Ff=Js(this.Ff,23):this.Ff=Qs(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Xs(this.Ff,24)},set:function(e){e?this.Ff=Js(this.Ff,24):this.Ff=Qs(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Xs(this.Ff,25)},set:function(e){e?this.Ff=Js(this.Ff,25):this.Ff=Qs(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Xs(this.Ff,26)},set:function(e){e?this.Ff=Js(this.Ff,26):this.Ff=Qs(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};_o(Yd,Zl);var qy=function(){Yd.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Xs(this.Ff,14)},set:function(t){t?this.Ff=Js(this.Ff,14):this.Ff=Qs(this.Ff,14)}}),this.password=!0};_o(qy,Yd);var nn={CheckBox:{createAppearanceStream:function(){return{N:{On:nn.CheckBox.YesNormal},D:{On:nn.CheckBox.YesPushDown,Off:nn.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Tc(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,s=t.scope.__private__.encodeColorString(t.color),i=iT(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+Un(nn.internal.getWidth(t))+" "+Un(nn.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+Un(i.fontSize)+" Tf "+s),n.push("BT"),n.push(i.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=Tc(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),s=[],i=nn.internal.getHeight(t),a=nn.internal.getWidth(t),o=iT(t,t.caption);return s.push("1 g"),s.push("0 0 "+Un(a)+" "+Un(i)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+Un(a-1)+" "+Un(i-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+n+" "+Un(o.fontSize)+" Tf "+r),s.push(o.text),s.push("ET"),s.push("Q"),e.stream=s.join(`
`),e},OffPushDown:function(t){var e=Tc(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Un(nn.internal.getWidth(t))+" "+Un(nn.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:nn.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=nn.RadioButton.Circle.YesNormal,e.D[t]=nn.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Tc(t);e.scope=t.scope;var n=[],r=nn.internal.getWidth(t)<=nn.internal.getHeight(t)?nn.internal.getWidth(t)/4:nn.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var s=nn.internal.Bezier_C,i=Number((r*s).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+Sf(nn.internal.getWidth(t)/2)+" "+Sf(nn.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+i+" "+i+" "+r+" 0 "+r+" c"),n.push("-"+i+" "+r+" -"+r+" "+i+" -"+r+" 0 c"),n.push("-"+r+" -"+i+" -"+i+" -"+r+" 0 -"+r+" c"),n.push(i+" -"+r+" "+r+" -"+i+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Tc(t);e.scope=t.scope;var n=[],r=nn.internal.getWidth(t)<=nn.internal.getHeight(t)?nn.internal.getWidth(t)/4:nn.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var s=Number((2*r).toFixed(5)),i=Number((s*nn.internal.Bezier_C).toFixed(5)),a=Number((r*nn.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Sf(nn.internal.getWidth(t)/2)+" "+Sf(nn.internal.getHeight(t)/2)+" cm"),n.push(s+" 0 m"),n.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),n.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),n.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),n.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+Sf(nn.internal.getWidth(t)/2)+" "+Sf(nn.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),n.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),n.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),n.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Tc(t);e.scope=t.scope;var n=[],r=nn.internal.getWidth(t)<=nn.internal.getHeight(t)?nn.internal.getWidth(t)/4:nn.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var s=Number((2*r).toFixed(5)),i=Number((s*nn.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Sf(nn.internal.getWidth(t)/2)+" "+Sf(nn.internal.getHeight(t)/2)+" cm"),n.push(s+" 0 m"),n.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),n.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),n.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),n.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:nn.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=nn.RadioButton.Cross.YesNormal,e.D[t]=nn.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Tc(t);e.scope=t.scope;var n=[],r=nn.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+Un(nn.internal.getWidth(t)-2)+" "+Un(nn.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(Un(r.x1.x)+" "+Un(r.x1.y)+" m"),n.push(Un(r.x2.x)+" "+Un(r.x2.y)+" l"),n.push(Un(r.x4.x)+" "+Un(r.x4.y)+" m"),n.push(Un(r.x3.x)+" "+Un(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Tc(t);e.scope=t.scope;var n=nn.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+Un(nn.internal.getWidth(t))+" "+Un(nn.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Un(nn.internal.getWidth(t)-2)+" "+Un(nn.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(Un(n.x1.x)+" "+Un(n.x1.y)+" m"),r.push(Un(n.x2.x)+" "+Un(n.x2.y)+" l"),r.push(Un(n.x4.x)+" "+Un(n.x4.y)+" m"),r.push(Un(n.x3.x)+" "+Un(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=Tc(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Un(nn.internal.getWidth(t))+" "+Un(nn.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};nn.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=nn.internal.getWidth(t),n=nn.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},nn.internal.getWidth=function(t){var e=0;return Ur(t)==="object"&&(e=dR(t.Rect[2])),e},nn.internal.getHeight=function(t){var e=0;return Ur(t)==="object"&&(e=dR(t.Rect[3])),e};var $ce=Vs.addField=function(t){if(Wce(this,t),!(t instanceof Zl))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Vs.AcroFormChoiceField=rp,Vs.AcroFormListBox=sp,Vs.AcroFormComboBox=ip,Vs.AcroFormEditBox=Vy,Vs.AcroFormButton=Hi,Vs.AcroFormPushButton=Uy,Vs.AcroFormRadioButton=ap,Vs.AcroFormCheckBox=jy,Vs.AcroFormTextField=Yd,Vs.AcroFormPasswordField=qy,Vs.AcroFormAppearance=nn,Vs.AcroForm={ChoiceField:rp,ListBox:sp,ComboBox:ip,EditBox:Vy,Button:Hi,PushButton:Uy,RadioButton:ap,CheckBox:jy,TextField:Yd,PasswordField:qy,Appearance:nn},hn.AcroForm={ChoiceField:rp,ListBox:sp,ComboBox:ip,EditBox:Vy,Button:Hi,PushButton:Uy,RadioButton:ap,CheckBox:jy,TextField:Yd,PasswordField:qy,Appearance:nn};hn.AcroForm;function GO(t){return t.reduce(function(e,n,r){return e[n]=r,e},{})}(function(t){var e="addImage_";t.__addimage__={};var n="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},s=t.__addimage__.getImageFileTypeByImageData=function(P,M){var H,ae,Se,oe,ve,Ie=n;if((M=M||n)==="RGBA"||P.data!==void 0&&P.data instanceof Uint8ClampedArray&&"height"in P&&"width"in P)return"RGBA";if(K(P))for(ve in r)for(Se=r[ve],H=0;H<Se.length;H+=1){for(oe=!0,ae=0;ae<Se[H].length;ae+=1)if(Se[H][ae]!==void 0&&Se[H][ae]!==P[ae]){oe=!1;break}if(oe===!0){Ie=ve;break}}else for(ve in r)for(Se=r[ve],H=0;H<Se.length;H+=1){for(oe=!0,ae=0;ae<Se[H].length;ae+=1)if(Se[H][ae]!==void 0&&Se[H][ae]!==P.charCodeAt(ae)){oe=!1;break}if(oe===!0){Ie=ve;break}}return Ie===n&&M!==n&&(Ie=M),Ie},i=function P(M){for(var H=this.internal.write,ae=this.internal.putStream,Se=(0,this.internal.getFilters)();Se.indexOf("FlateEncode")!==-1;)Se.splice(Se.indexOf("FlateEncode"),1);M.objectId=this.internal.newObject();var oe=[];if(oe.push({key:"Type",value:"/XObject"}),oe.push({key:"Subtype",value:"/Image"}),oe.push({key:"Width",value:M.width}),oe.push({key:"Height",value:M.height}),M.colorSpace===N.INDEXED?oe.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(M.palette.length/3-1)+" "+("sMask"in M&&M.sMask!==void 0?M.objectId+2:M.objectId+1)+" 0 R]"}):(oe.push({key:"ColorSpace",value:"/"+M.colorSpace}),M.colorSpace===N.DEVICE_CMYK&&oe.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),oe.push({key:"BitsPerComponent",value:M.bitsPerComponent}),"decodeParameters"in M&&M.decodeParameters!==void 0&&oe.push({key:"DecodeParms",value:"<<"+M.decodeParameters+">>"}),"transparency"in M&&Array.isArray(M.transparency)&&M.transparency.length>0){for(var ve="",Ie=0,xe=M.transparency.length;Ie<xe;Ie++)ve+=M.transparency[Ie]+" "+M.transparency[Ie]+" ";oe.push({key:"Mask",value:"["+ve+"]"})}M.sMask!==void 0&&oe.push({key:"SMask",value:M.objectId+1+" 0 R"});var Re=M.filter!==void 0?["/"+M.filter]:void 0;if(ae({data:M.data,additionalKeyValues:oe,alreadyAppliedFilters:Re,objectId:M.objectId}),H("endobj"),"sMask"in M&&M.sMask!==void 0){var re,O=(re=M.sMaskBitsPerComponent)!==null&&re!==void 0?re:M.bitsPerComponent,J={width:M.width,height:M.height,colorSpace:"DeviceGray",bitsPerComponent:O,data:M.sMask};"filter"in M&&(J.decodeParameters="/Predictor ".concat(M.predictor," /Colors 1 /BitsPerComponent ").concat(O," /Columns ").concat(M.width),J.filter=M.filter),P.call(this,J)}if(M.colorSpace===N.INDEXED){var U=this.internal.newObject();ae({data:L(new Uint8Array(M.palette)),objectId:U}),H("endobj")}},a=function(){var P=this.internal.collections[e+"images"];for(var M in P)i.call(this,P[M])},o=function(){var P,M=this.internal.collections[e+"images"],H=this.internal.write;for(var ae in M)H("/I"+(P=M[ae]).index,P.objectId,"0","R")},c=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",o))},f=function(){var P=this.internal.collections[e+"images"];return c.call(this),P},d=function(){return Object.keys(this.internal.collections[e+"images"]).length},p=function(P){return typeof t["process"+P.toUpperCase()]=="function"},g=function(P){return Ur(P)==="object"&&P.nodeType===1},y=function(P,M){if(P.nodeName==="IMG"&&P.hasAttribute("src")){var H=""+P.getAttribute("src");if(H.indexOf("data:image/")===0)return By(unescape(H).split("base64,").pop());var ae=t.loadFile(H,!0);if(ae!==void 0)return ae}if(P.nodeName==="CANVAS"){if(P.width===0||P.height===0)throw new Error("Given canvas must have data. Canvas width: "+P.width+", height: "+P.height);var Se;switch(M){case"PNG":Se="image/png";break;case"WEBP":Se="image/webp";break;default:Se="image/jpeg"}return By(P.toDataURL(Se,1).split("base64,").pop())}},E=function(P){var M=this.internal.collections[e+"images"];if(M){for(var H in M)if(P===M[H].alias)return M[H]}},b=function(P,M,H){return P||M||(P=-96,M=-96),P<0&&(P=-1*H.width*72/P/this.internal.scaleFactor),M<0&&(M=-1*H.height*72/M/this.internal.scaleFactor),P===0&&(P=M*H.width/H.height),M===0&&(M=P*H.height/H.width),[P,M]},A=function(P,M,H,ae,Se,oe){var ve=b.call(this,H,ae,Se),Ie=this.internal.getCoordinateString,xe=this.internal.getVerticalCoordinateString,Re=f.call(this);if(H=ve[0],ae=ve[1],Re[Se.index]=Se,oe){oe*=Math.PI/180;var re=Math.cos(oe),O=Math.sin(oe),J=function(Y){return Y.toFixed(4)},U=[J(re),J(O),J(-1*O),J(re),0,0,"cm"]}this.internal.write("q"),oe?(this.internal.write([1,"0","0",1,Ie(P),xe(M+ae),"cm"].join(" ")),this.internal.write(U.join(" ")),this.internal.write([Ie(H),"0","0",Ie(ae),"0","0","cm"].join(" "))):this.internal.write([Ie(H),"0","0",Ie(ae),Ie(P),xe(M+ae),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Se.index+" Do"),this.internal.write("Q")},N=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var V=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},k=t.__addimage__.sHashCode=function(P){var M,H,ae=0;if(typeof P=="string")for(H=P.length,M=0;M<H;M++)ae=(ae<<5)-ae+P.charCodeAt(M),ae|=0;else if(K(P))for(H=P.byteLength/2,M=0;M<H;M++)ae=(ae<<5)-ae+P[M],ae|=0;return ae},B=t.__addimage__.validateStringAsBase64=function(P){(P=P||"").toString().trim();var M=!0;return P.length===0&&(M=!1),P.length%4!=0&&(M=!1),/^[A-Za-z0-9+/]+$/.test(P.substr(0,P.length-2))===!1&&(M=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(P.substr(-2))===!1&&(M=!1),M},W=t.__addimage__.extractImageFromDataUrl=function(P){if(P==null||!(P=P.trim()).startsWith("data:"))return null;var M=P.indexOf(",");return M<0?null:P.substring(0,M).trim().endsWith("base64")?P.substring(M+1):null};t.__addimage__.isArrayBuffer=function(P){return P instanceof ArrayBuffer};var K=t.__addimage__.isArrayBufferView=function(P){return P instanceof Int8Array||P instanceof Uint8Array||P instanceof Uint8ClampedArray||P instanceof Int16Array||P instanceof Uint16Array||P instanceof Int32Array||P instanceof Uint32Array||P instanceof Float32Array||P instanceof Float64Array},D=t.__addimage__.binaryStringToUint8Array=function(P){for(var M=P.length,H=new Uint8Array(M),ae=0;ae<M;ae++)H[ae]=P.charCodeAt(ae);return H},L=t.__addimage__.arrayBufferToBinaryString=function(P){for(var M="",H=K(P)?P:new Uint8Array(P),ae=0;ae<H.length;ae+=8192)M+=String.fromCharCode.apply(null,H.subarray(ae,ae+8192));return M};t.addImage=function(){var P,M,H,ae,Se,oe,ve,Ie,xe;if(typeof arguments[1]=="number"?(M=n,H=arguments[1],ae=arguments[2],Se=arguments[3],oe=arguments[4],ve=arguments[5],Ie=arguments[6],xe=arguments[7]):(M=arguments[1],H=arguments[2],ae=arguments[3],Se=arguments[4],oe=arguments[5],ve=arguments[6],Ie=arguments[7],xe=arguments[8]),Ur(P=arguments[0])==="object"&&!g(P)&&"imageData"in P){var Re=P;P=Re.imageData,M=Re.format||M||n,H=Re.x||H||0,ae=Re.y||ae||0,Se=Re.w||Re.width||Se,oe=Re.h||Re.height||oe,ve=Re.alias||ve,Ie=Re.compression||Ie,xe=Re.rotation||Re.angle||xe}var re=this.internal.getFilters();if(Ie===void 0&&re.indexOf("FlateEncode")!==-1&&(Ie="SLOW"),isNaN(H)||isNaN(ae))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var O=R.call(this,P,M,ve,Ie);return A.call(this,H,ae,Se,oe,O,xe),this};var R=function(P,M,H,ae){var Se,oe,ve;if(typeof P=="string"&&s(P)===n){P=unescape(P);var Ie=q(P,!1);(Ie!==""||(Ie=t.loadFile(P,!0))!==void 0)&&(P=Ie)}if(g(P)&&(P=y(P,M)),M=s(P,M),!p(M))throw new Error("addImage does not support files of type '"+M+"', please ensure that a plugin for '"+M+"' support is added.");if(((ve=H)==null||ve.length===0)&&(H=(function(xe){return typeof xe=="string"||K(xe)?k(xe):K(xe.data)?k(xe.data):null})(P)),(Se=E.call(this,H))||(P instanceof Uint8Array||M==="RGBA"||(oe=P,P=D(P)),Se=this["process"+M.toUpperCase()](P,d.call(this),H,(function(xe){return xe&&typeof xe=="string"&&(xe=xe.toUpperCase()),xe in t.image_compression?xe:V.NONE})(ae),oe)),!Se)throw new Error("An unknown error occurred whilst processing the image.");return Se},q=t.__addimage__.convertBase64ToBinaryString=function(P,M){M=typeof M!="boolean"||M;var H,ae="";if(typeof P=="string"){var Se;H=(Se=W(P))!==null&&Se!==void 0?Se:P;try{ae=By(H)}catch(oe){if(M)throw B(H)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+oe.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ae};t.getImageProperties=function(P){var M,H,ae="";if(g(P)&&(P=y(P)),typeof P=="string"&&s(P)===n&&((ae=q(P,!1))===""&&(ae=t.loadFile(P)||""),P=ae),H=s(P),!p(H))throw new Error("addImage does not support files of type '"+H+"', please ensure that a plugin for '"+H+"' support is added.");if(P instanceof Uint8Array||(P=D(P)),!(M=this["process"+H.toUpperCase()](P)))throw new Error("An unknown error occurred whilst processing the image");return M.fileType=H,M}})(hn.API),(function(t){var e=function(n){if(n!==void 0&&n!="")return!0};hn.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,s,i,a=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(n.objId),f=n.pageContext.annotations,d=!1,p=0;p<f.length&&!d;p++)switch((r=f[p]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var g=0;g<f.length;g++){r=f[g];var y=this.internal.pdfEscape,E=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var b=this.internal.newAdditionalObject(),A=this.internal.newAdditionalObject(),N=this.internal.getEncryptor(b.objId),V=r.title||"Note";i="<</Type /Annot /Subtype /Text "+(s="/Rect ["+a(r.bounds.x)+" "+o(r.bounds.y+r.bounds.h)+" "+a(r.bounds.x+r.bounds.w)+" "+o(r.bounds.y)+"] ")+"/Contents ("+y(N(r.contents))+")",i+=" /Popup "+A.objId+" 0 R",i+=" /P "+c.objId+" 0 R",i+=" /T ("+y(N(V))+") >>",b.content=i;var k=b.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+a(r.bounds.x+30)+" "+o(r.bounds.y+r.bounds.h)+" "+a(r.bounds.x+r.bounds.w+30)+" "+o(r.bounds.y)+"] ")+" /Parent "+k,r.open&&(i+=" /Open true"),i+=" >>",A.content=i,this.internal.write(b.objId,"0 R",A.objId,"0 R");break;case"freetext":s="/Rect ["+a(r.bounds.x)+" "+o(r.bounds.y)+" "+a(r.bounds.x+r.bounds.w)+" "+o(r.bounds.y+r.bounds.h)+"] ";var B=r.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+y(E(r.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+B+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(r.options.name){var W=this.annotations._nameMap[r.options.name];r.options.pageNumber=W.page,r.options.top=W.y}else r.options.top||(r.options.top=0);if(s="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",i="",r.options.url)i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+y(E(r.options.url))+") >>";else if(r.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,i+=" /FitV "+r.options.left+"]";break;default:var K=o(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),i+=" /XYZ "+r.options.left+" "+K+" "+r.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,s,i,a){var o=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,f=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:c(n),y:f(r),w:c(n+s),h:f(r+i)},options:a,type:"link"})},t.textWithLink=function(n,r,s,i){var a,o,c=this.getTextWidth(n),f=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){o=i.maxWidth;var d=this.splitTextToSize(n,o).length;a=Math.ceil(f*d)}else o=c,a=f;return this.text(n,r,s,i),s+=.2*f,i.align==="center"&&(r-=c/2),i.align==="right"&&(r-=c),this.link(r,s-f,o,a,i),c},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}})(hn.API),(function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];t.__arabicParser__={};var i=t.__arabicParser__.isInArabicSubstitutionA=function(b){return e[b.charCodeAt(0)]!==void 0},a=t.__arabicParser__.isArabicLetter=function(b){return typeof b=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(b)},o=t.__arabicParser__.isArabicEndLetter=function(b){return a(b)&&i(b)&&e[b.charCodeAt(0)].length<=2},c=t.__arabicParser__.isArabicAlfLetter=function(b){return a(b)&&s.indexOf(b.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(b){return a(b)&&i(b)&&e[b.charCodeAt(0)].length>=1};var f=t.__arabicParser__.arabicLetterHasFinalForm=function(b){return a(b)&&i(b)&&e[b.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(b){return a(b)&&i(b)&&e[b.charCodeAt(0)].length>=3};var d=t.__arabicParser__.arabicLetterHasMedialForm=function(b){return a(b)&&i(b)&&e[b.charCodeAt(0)].length==4},p=t.__arabicParser__.resolveLigatures=function(b){var A=0,N=n,V="",k=0;for(A=0;A<b.length;A+=1)N[b.charCodeAt(A)]!==void 0?(k++,typeof(N=N[b.charCodeAt(A)])=="number"&&(V+=String.fromCharCode(N),N=n,k=0),A===b.length-1&&(N=n,V+=b.charAt(A-(k-1)),A-=k-1,k=0)):(N=n,V+=b.charAt(A-k),A-=k,k=0);return V};t.__arabicParser__.isArabicDiacritic=function(b){return b!==void 0&&r[b.charCodeAt(0)]!==void 0};var g=t.__arabicParser__.getCorrectForm=function(b,A,N){return a(b)?i(b)===!1?-1:!f(b)||!a(A)&&!a(N)||!a(N)&&o(A)||o(b)&&!a(A)||o(b)&&c(A)||o(b)&&o(A)?0:d(b)&&a(A)&&!o(A)&&a(N)&&f(N)?3:o(b)||!a(N)?1:2:-1},y=function(b){var A=0,N=0,V=0,k="",B="",W="",K=(b=b||"").split("\\s+"),D=[];for(A=0;A<K.length;A+=1){for(D.push(""),N=0;N<K[A].length;N+=1)k=K[A][N],B=K[A][N-1],W=K[A][N+1],a(k)?(V=g(k,B,W),D[A]+=V!==-1?String.fromCharCode(e[k.charCodeAt(0)][V]):k):D[A]+=k;D[A]=p(D[A])}return D.join(" ")},E=t.__arabicParser__.processArabic=t.processArabic=function(){var b,A=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,N=[];if(Array.isArray(A)){var V=0;for(N=[],V=0;V<A.length;V+=1)Array.isArray(A[V])?N.push([y(A[V][0]),A[V][1],A[V][2]]):N.push([y(A[V])]);b=N}else b=y(A);return typeof arguments[0]=="string"?b:(arguments[0].text=b,arguments[0])};t.events.push(["preProcessText",E])})(hn.API),hn.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(o){n=o}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(o){r=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(o){s=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(o){i=o}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(o){a=o}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var s;if((n=n||"2d")!=="2d")return null;for(s in r)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=r[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(hn.API),(function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(b){c=b}});var f=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return f},set:function(b){f=b}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(b){d=b}});var p=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return p},set:function(b){p=b}});var g=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return g},set:function(b){g=b}});var y=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return y},set:function(b){y=b}});var E=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return E},set:function(b){E=b}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(c){return r.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},t.getTextDimensions=function(c,f){r.call(this);var d=(f=f||{}).fontSize||this.getFontSize(),p=f.font||this.getFont(),g=f.scaleFactor||this.internal.scaleFactor,y=0,E=0,b=0,A=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var N=f.maxWidth;N>0?typeof c=="string"?c=this.splitTextToSize(c,N):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(k,B){return k.concat(A.splitTextToSize(B,N))},[])):c=Array.isArray(c)?c:[c];for(var V=0;V<c.length;V++)y<(b=this.getStringUnitWidth(c[V],{font:p})*d)&&(y=b);return y!==0&&(E=c.length),{w:y/=g,h:Math.max((E*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/g,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var c=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new i(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=t.cell=function(){var c;c=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),r.call(this);var f=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,p=this.internal.__cell__.margins||e,g=this.internal.__cell__.tableHeaderRow,y=this.internal.__cell__.printHeaders;return f.lineNumber!==void 0&&(f.lineNumber===c.lineNumber?(c.x=(f.x||0)+(f.width||0),c.y=f.y||0):f.y+f.height+c.height+p.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=p.top,y&&g&&(this.printHeaderRow(c.lineNumber,!0),c.y+=g[0].height)):c.y=f.y+f.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,n===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-d,c.y+d,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+d,{align:"center",baseline:"top",maxWidth:c.width-d-d}):this.text(c.text,c.x+d,c.y+d,{align:"left",baseline:"top",maxWidth:c.width-d-d})),this.internal.__cell__.lastCell=c,this};t.table=function(c,f,d,p,g){if(r.call(this),!d)throw new Error("No data for PDF table.");var y,E,b,A,N=[],V=[],k=[],B={},W={},K=[],D=[],L=(g=g||{}).autoSize||!1,R=g.printHeaders!==!1,q=g.css&&g.css["font-size"]!==void 0?16*g.css["font-size"]:g.fontSize||12,P=g.margins||Object.assign({width:this.getPageWidth()},e),M=typeof g.padding=="number"?g.padding:3,H=g.headerBackgroundColor||"#c8c8c8",ae=g.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=R,this.internal.__cell__.margins=P,this.internal.__cell__.table_font_size=q,this.internal.__cell__.padding=M,this.internal.__cell__.headerBackgroundColor=H,this.internal.__cell__.headerTextColor=ae,this.setFontSize(q),p==null)V=N=Object.keys(d[0]),k=N.map(function(){return"left"});else if(Array.isArray(p)&&Ur(p[0])==="object")for(N=p.map(function(Re){return Re.name}),V=p.map(function(Re){return Re.prompt||Re.name||""}),k=p.map(function(Re){return Re.align||"left"}),y=0;y<p.length;y+=1)W[p[y].name]=.7499990551181103*p[y].width;else Array.isArray(p)&&typeof p[0]=="string"&&(V=N=p,k=N.map(function(){return"left"}));if(L||Array.isArray(p)&&typeof p[0]=="string")for(y=0;y<N.length;y+=1){for(B[A=N[y]]=d.map(function(Re){return Re[A]}),this.setFont(void 0,"bold"),K.push(this.getTextDimensions(V[y],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),E=B[A],this.setFont(void 0,"normal"),b=0;b<E.length;b+=1)K.push(this.getTextDimensions(E[b],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);W[A]=Math.max.apply(null,K)+M+M,K=[]}if(R){var Se={};for(y=0;y<N.length;y+=1)Se[N[y]]={},Se[N[y]].text=V[y],Se[N[y]].align=k[y];var oe=o.call(this,Se,W);D=N.map(function(Re){return new i(c,f,W[Re],oe,Se[Re].text,void 0,Se[Re].align)}),this.setTableHeaderRow(D),this.printHeaderRow(1,!1)}var ve=p.reduce(function(Re,re){return Re[re.name]=re.align,Re},{});for(y=0;y<d.length;y+=1){"rowStart"in g&&g.rowStart instanceof Function&&g.rowStart({row:y,data:d[y]},this);var Ie=o.call(this,d[y],W);for(b=0;b<N.length;b+=1){var xe=d[y][N[b]];"cellStart"in g&&g.cellStart instanceof Function&&g.cellStart({row:y,col:b,data:xe},this),a.call(this,new i(c,f,W[N[b]],Ie,xe,y+2,ve[N[b]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=f,this};var o=function(c,f){var d=this.internal.__cell__.padding,p=this.internal.__cell__.table_font_size,g=this.internal.scaleFactor;return Object.keys(c).map(function(y){var E=c[y];return this.splitTextToSize(E.hasOwnProperty("text")?E.text:E,f[y]-d-d)},this).map(function(y){return this.getLineHeightFactor()*y.length*p/g+d+d},this).reduce(function(y,E){return Math.max(y,E)},0)};t.setTableHeaderRow=function(c){r.call(this),this.internal.__cell__.tableHeaderRow=c},t.printHeaderRow=function(c,f){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var p=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(p[0],p[1],p[2],p[3],void 0,-1)}this.setFont(void 0,"bold");for(var g=[],y=0;y<this.internal.__cell__.tableHeaderRow.length;y+=1){d=this.internal.__cell__.tableHeaderRow[y].clone(),f&&(d.y=this.internal.__cell__.margins.top||0,g.push(d)),d.lineNumber=c;var E=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,d),this.setTextColor(E)}g.length>0&&this.setTableHeaderRow(g),this.setFont(void 0,"normal"),n=!1}})(hn.API);var WO={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},$O=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],aT=GO($O),KO=[100,200,300,400,500,600,700,800,900],Kce=GO(KO);function Kb(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=(function(i){return WO[i=i||"normal"]?i:"normal"})(t.style),r=(function(i){return i?typeof i=="number"?i>=100&&i<=900&&i%100==0?i:400:/^\d00$/.test(i)?parseInt(i):i==="bold"?700:400:400})(t.weight),s=(function(i){return typeof aT[i=i||"normal"]=="number"?i:"normal"})(t.stretch);return{family:e,style:n,weight:r,stretch:s,src:t.src||[],ref:t.ref||{name:e,style:[s,n,r].join(" ")}}}function hR(t,e,n,r){var s;for(s=n;s>=0&&s<e.length;s+=r)if(t[e[s]])return t[e[s]];for(s=n;s>=0&&s<e.length;s-=r)if(t[e[s]])return t[e[s]]}var Yce={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},pR={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function mR(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function gR(t){return t.trimLeft()}function Xce(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function Jce(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Zx,xR,yR,b0,ey,vR,_R,bR,Yb=["times"];function wR(t,e,n,r,s){var i=4,a=ER;switch(s){case hn.API.image_compression.FAST:i=1,a=TR;break;case hn.API.image_compression.MEDIUM:i=6,a=SR;break;case hn.API.image_compression.SLOW:i=9,a=AR}t=(function(c,f,d,p){for(var g,y=c.length/f,E=new Uint8Array(c.length+y),b=[Qce,TR,ER,SR,AR],A=0;A<y;A+=1){var N=A*f,V=c.subarray(N,N+f);if(p)E.set(p(V,d,g),N+A);else{for(var k=b.length,B=[],W=0;W<k;W+=1)B[W]=b[W](V,d,g);var K=eue(B.concat());E.set(B[K],N+A)}g=V}return E})(t,e,Math.ceil(n*r/8),a);var o=Z5(t,{level:i});return hn.API.__addimage__.arrayBufferToBinaryString(o)}function Qce(t){var e=Array.apply([],t);return e.unshift(0),e}function TR(t,e){var n=t.length,r=[];r[0]=1;for(var s=0;s<n;s+=1){var i=t[s-e]||0;r[s+1]=t[s]-i+256&255}return r}function ER(t,e,n){var r=t.length,s=[];s[0]=2;for(var i=0;i<r;i+=1){var a=n&&n[i]||0;s[i+1]=t[i]-a+256&255}return s}function SR(t,e,n){var r=t.length,s=[];s[0]=3;for(var i=0;i<r;i+=1){var a=t[i-e]||0,o=n&&n[i]||0;s[i+1]=t[i]+256-(a+o>>>1)&255}return s}function AR(t,e,n){var r=t.length,s=[];s[0]=4;for(var i=0;i<r;i+=1){var a=Zce(t[i-e]||0,n&&n[i]||0,n&&n[i-e]||0);s[i+1]=t[i]-a+256&255}return s}function Zce(t,e,n){if(t===e&&e===n)return t;var r=Math.abs(e-n),s=Math.abs(t-n),i=Math.abs(t+e-n-n);return r<=s&&r<=i?t:s<=i?e:n}function eue(t){var e=t.map(function(n){return n.reduce(function(r,s){return r+Math.abs(s)},0)});return e.indexOf(Math.min.apply(null,e))}function Xb(t,e,n){var r=e*n,s=Math.floor(r/8),i=16-(r-8*s+n),a=(1<<n)-1;return YO(t,s)>>i&a}function CR(t,e,n,r){var s=n*r,i=Math.floor(s/8),a=16-(s-8*i+r),o=(1<<r)-1,c=(e&o)<<a;(function(f,d,p){if(d+1<f.byteLength)f.setUint16(d,p,!1);else{var g=p>>8&255;f.setUint8(d,g)}})(t,i,YO(t,i)&~(o<<a)&65535|c)}function YO(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function tue(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,s=t[e++],i=s>>7,a=1<<1+(7&s);t[e++],t[e++];var o=null,c=null;i&&(o=e,c=a,e+=3*a);var f=!0,d=[],p=0,g=null,y=0,E=null;for(this.width=n,this.height=r;f&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,E=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((P=t[e++])>=0))throw Error("Invalid block size");if(P===0)break;e+=P}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var b=t[e++];p=t[e++]|t[e++]<<8,g=t[e++],1&b||(g=null),y=b>>2&7,e++;break;case 254:for(;;){if(!((P=t[e++])>=0))throw Error("Invalid block size");if(P===0)break;e+=P}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var A=t[e++]|t[e++]<<8,N=t[e++]|t[e++]<<8,V=t[e++]|t[e++]<<8,k=t[e++]|t[e++]<<8,B=t[e++],W=B>>6&1,K=1<<1+(7&B),D=o,L=c,R=!1;B>>7&&(R=!0,D=e,L=K,e+=3*K);var q=e;for(e++;;){var P;if(!((P=t[e++])>=0))throw Error("Invalid block size");if(P===0)break;e+=P}d.push({x:A,y:N,width:V,height:k,has_local_palette:R,palette_offset:D,palette_size:L,data_offset:q,data_length:e-q,transparent_index:g,interlaced:!!W,delay:p,disposal:y});break;case 59:f=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return E},this.frameInfo=function(M){if(M<0||M>=d.length)throw new Error("Frame index out of range.");return d[M]},this.decodeAndBlitFrameBGRA=function(M,H){var ae=this.frameInfo(M),Se=ae.width*ae.height,oe=new Uint8Array(Se);NR(t,ae.data_offset,oe,Se);var ve=ae.palette_offset,Ie=ae.transparent_index;Ie===null&&(Ie=256);var xe=ae.width,Re=n-xe,re=xe,O=4*(ae.y*n+ae.x),J=4*((ae.y+ae.height)*n+ae.x),U=O,Y=4*Re;ae.interlaced===!0&&(Y+=4*n*7);for(var ne=8,ye=0,pe=oe.length;ye<pe;++ye){var ue=oe[ye];if(re===0&&(re=xe,(U+=Y)>=J&&(Y=4*Re+4*n*(ne-1),U=O+(xe+Re)*(ne<<1),ne>>=1)),ue===Ie)U+=4;else{var Te=t[ve+3*ue],je=t[ve+3*ue+1],ce=t[ve+3*ue+2];H[U++]=ce,H[U++]=je,H[U++]=Te,H[U++]=255}--re}},this.decodeAndBlitFrameRGBA=function(M,H){var ae=this.frameInfo(M),Se=ae.width*ae.height,oe=new Uint8Array(Se);NR(t,ae.data_offset,oe,Se);var ve=ae.palette_offset,Ie=ae.transparent_index;Ie===null&&(Ie=256);var xe=ae.width,Re=n-xe,re=xe,O=4*(ae.y*n+ae.x),J=4*((ae.y+ae.height)*n+ae.x),U=O,Y=4*Re;ae.interlaced===!0&&(Y+=4*n*7);for(var ne=8,ye=0,pe=oe.length;ye<pe;++ye){var ue=oe[ye];if(re===0&&(re=xe,(U+=Y)>=J&&(Y=4*Re+4*n*(ne-1),U=O+(xe+Re)*(ne<<1),ne>>=1)),ue===Ie)U+=4;else{var Te=t[ve+3*ue],je=t[ve+3*ue+1],ce=t[ve+3*ue+2];H[U++]=Te,H[U++]=je,H[U++]=ce,H[U++]=255}--re}}}function NR(t,e,n,r){for(var s=t[e++],i=1<<s,a=i+1,o=a+1,c=s+1,f=(1<<c)-1,d=0,p=0,g=0,y=t[e++],E=new Int32Array(4096),b=null;;){for(;d<16&&y!==0;)p|=t[e++]<<d,d+=8,y===1?y=t[e++]:--y;if(d<c)break;var A=p&f;if(p>>=c,d-=c,A!==i){if(A===a)break;for(var N=A<o?A:b,V=0,k=N;k>i;)k=E[k]>>8,++V;var B=k;if(g+V+(N!==A?1:0)>r)return void ss.log("Warning, gif stream longer than expected.");n[g++]=B;var W=g+=V;for(N!==A&&(n[g++]=B),k=N;V--;)k=E[k],n[--W]=255&k,k>>=8;b!==null&&o<4096&&(E[o++]=b<<8|B,o>=f+1&&c<12&&(++c,f=f<<1|1)),b=A}else o=a+1,f=(1<<(c=s+1))-1,b=null}return g!==r&&ss.log("Warning, gif stream shorter than expected."),n}function Jb(t){var e,n,r,s,i,a=Math.floor,o=new Array(64),c=new Array(64),f=new Array(64),d=new Array(64),p=new Array(65535),g=new Array(65535),y=new Array(64),E=new Array(64),b=[],A=0,N=7,V=new Array(64),k=new Array(64),B=new Array(64),W=new Array(256),K=new Array(2048),D=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],L=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],R=[0,1,2,3,4,5,6,7,8,9,10,11],q=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],P=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],M=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],H=[0,1,2,3,4,5,6,7,8,9,10,11],ae=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Se=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function oe(O,J){for(var U=0,Y=0,ne=new Array,ye=1;ye<=16;ye++){for(var pe=1;pe<=O[ye];pe++)ne[J[Y]]=[],ne[J[Y]][0]=U,ne[J[Y]][1]=ye,Y++,U++;U*=2}return ne}function ve(O){for(var J=O[0],U=O[1]-1;U>=0;)J&1<<U&&(A|=1<<N),U--,--N<0&&(A==255?(Ie(255),Ie(0)):Ie(A),N=7,A=0)}function Ie(O){b.push(O)}function xe(O){Ie(O>>8&255),Ie(255&O)}function Re(O,J,U,Y,ne){for(var ye,pe=ne[0],ue=ne[240],Te=(function(tt,St){var Ct,Lt,jt,Qt,Zt,on,Sn,Bt,vt,wt,Et=0;for(vt=0;vt<8;++vt){Ct=tt[Et],Lt=tt[Et+1],jt=tt[Et+2],Qt=tt[Et+3],Zt=tt[Et+4],on=tt[Et+5],Sn=tt[Et+6];var Wn=Ct+(Bt=tt[Et+7]),qt=Ct-Bt,Gt=Lt+Sn,mn=Lt-Sn,An=jt+on,ln=jt-on,Jn=Qt+Zt,pn=Qt-Zt,fn=Wn+Jn,ar=Wn-Jn,cn=Gt+An,Wt=Gt-An;tt[Et]=fn+cn,tt[Et+4]=fn-cn;var Ln=.707106781*(Wt+ar);tt[Et+2]=ar+Ln,tt[Et+6]=ar-Ln;var as=.382683433*((fn=pn+ln)-(Wt=mn+qt)),os=.5411961*fn+as,ki=1.306562965*Wt+as,Hr=.707106781*(cn=ln+mn),un=qt+Hr,Le=qt-Hr;tt[Et+5]=Le+os,tt[Et+3]=Le-os,tt[Et+1]=un+ki,tt[Et+7]=un-ki,Et+=8}for(Et=0,vt=0;vt<8;++vt){Ct=tt[Et],Lt=tt[Et+8],jt=tt[Et+16],Qt=tt[Et+24],Zt=tt[Et+32],on=tt[Et+40],Sn=tt[Et+48];var Dt=Ct+(Bt=tt[Et+56]),Vt=Ct-Bt,$n=Lt+Sn,Yt=Lt-Sn,qn=jt+on,te=jt-on,be=Qt+Zt,he=Qt-Zt,ge=Dt+be,we=Dt-be,Ee=$n+qn,Ve=$n-qn;tt[Et]=ge+Ee,tt[Et+32]=ge-Ee;var rt=.707106781*(Ve+we);tt[Et+16]=we+rt,tt[Et+48]=we-rt;var Oe=.382683433*((ge=he+te)-(Ve=Yt+Vt)),He=.5411961*ge+Oe,Ke=1.306562965*Ve+Oe,_t=.707106781*(Ee=te+Yt),At=Vt+_t,Rt=Vt-_t;tt[Et+40]=Rt+He,tt[Et+24]=Rt-He,tt[Et+8]=At+Ke,tt[Et+56]=At-Ke,Et++}for(vt=0;vt<64;++vt)wt=tt[vt]*St[vt],y[vt]=wt>0?wt+.5|0:wt-.5|0;return y})(O,J),je=0;je<64;++je)E[D[je]]=Te[je];var ce=E[0]-U;U=E[0],ce==0?ve(Y[0]):(ve(Y[g[ye=32767+ce]]),ve(p[ye]));for(var dt=63;dt>0&&E[dt]==0;)dt--;if(dt==0)return ve(pe),U;for(var pt,se=1;se<=dt;){for(var nt=se;E[se]==0&&se<=dt;)++se;var it=se-nt;if(it>=16){pt=it>>4;for(var Pt=1;Pt<=pt;++Pt)ve(ue);it&=15}ye=32767+E[se],ve(ne[(it<<4)+g[ye]]),ve(p[ye]),se++}return dt!=63&&ve(pe),U}function re(O){O=Math.min(Math.max(O,1),100),i!=O&&((function(J){for(var U=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Y=0;Y<64;Y++){var ne=a((U[Y]*J+50)/100);ne=Math.min(Math.max(ne,1),255),o[D[Y]]=ne}for(var ye=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],pe=0;pe<64;pe++){var ue=a((ye[pe]*J+50)/100);ue=Math.min(Math.max(ue,1),255),c[D[pe]]=ue}for(var Te=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],je=0,ce=0;ce<8;ce++)for(var dt=0;dt<8;dt++)f[je]=1/(o[D[je]]*Te[ce]*Te[dt]*8),d[je]=1/(c[D[je]]*Te[ce]*Te[dt]*8),je++})(O<50?Math.floor(5e3/O):Math.floor(200-2*O)),i=O)}this.encode=function(O,J){J&&re(J),b=new Array,A=0,N=7,xe(65496),xe(65504),xe(16),Ie(74),Ie(70),Ie(73),Ie(70),Ie(0),Ie(1),Ie(1),Ie(0),xe(1),xe(1),Ie(0),Ie(0),(function(){xe(65499),xe(132),Ie(0);for(var Lt=0;Lt<64;Lt++)Ie(o[Lt]);Ie(1);for(var jt=0;jt<64;jt++)Ie(c[jt])})(),(function(Lt,jt){xe(65472),xe(17),Ie(8),xe(jt),xe(Lt),Ie(3),Ie(1),Ie(17),Ie(0),Ie(2),Ie(17),Ie(1),Ie(3),Ie(17),Ie(1)})(O.width,O.height),(function(){xe(65476),xe(418),Ie(0);for(var Lt=0;Lt<16;Lt++)Ie(L[Lt+1]);for(var jt=0;jt<=11;jt++)Ie(R[jt]);Ie(16);for(var Qt=0;Qt<16;Qt++)Ie(q[Qt+1]);for(var Zt=0;Zt<=161;Zt++)Ie(P[Zt]);Ie(1);for(var on=0;on<16;on++)Ie(M[on+1]);for(var Sn=0;Sn<=11;Sn++)Ie(H[Sn]);Ie(17);for(var Bt=0;Bt<16;Bt++)Ie(ae[Bt+1]);for(var vt=0;vt<=161;vt++)Ie(Se[vt])})(),xe(65498),xe(12),Ie(3),Ie(1),Ie(0),Ie(2),Ie(17),Ie(3),Ie(17),Ie(0),Ie(63),Ie(0);var U=0,Y=0,ne=0;A=0,N=7,this.encode.displayName="_encode_";for(var ye,pe,ue,Te,je,ce,dt,pt,se,nt=O.data,it=O.width,Pt=O.height,tt=4*it,St=0;St<Pt;){for(ye=0;ye<tt;){for(je=tt*St+ye,dt=-1,pt=0,se=0;se<64;se++)ce=je+(pt=se>>3)*tt+(dt=4*(7&se)),St+pt>=Pt&&(ce-=tt*(St+1+pt-Pt)),ye+dt>=tt&&(ce-=ye+dt-tt+4),pe=nt[ce++],ue=nt[ce++],Te=nt[ce++],V[se]=(K[pe]+K[ue+256|0]+K[Te+512|0]>>16)-128,k[se]=(K[pe+768|0]+K[ue+1024|0]+K[Te+1280|0]>>16)-128,B[se]=(K[pe+1280|0]+K[ue+1536|0]+K[Te+1792|0]>>16)-128;U=Re(V,f,U,e,r),Y=Re(k,d,Y,n,s),ne=Re(B,d,ne,n,s),ye+=32}St+=8}if(N>=0){var Ct=[];Ct[1]=N+1,Ct[0]=(1<<N+1)-1,ve(Ct)}return xe(65497),new Uint8Array(b)},t=t||50,(function(){for(var O=String.fromCharCode,J=0;J<256;J++)W[J]=O(J)})(),e=oe(L,R),n=oe(M,H),r=oe(q,P),s=oe(ae,Se),(function(){for(var O=1,J=2,U=1;U<=15;U++){for(var Y=O;Y<J;Y++)g[32767+Y]=U,p[32767+Y]=[],p[32767+Y][1]=U,p[32767+Y][0]=Y;for(var ne=-(J-1);ne<=-O;ne++)g[32767+ne]=U,p[32767+ne]=[],p[32767+ne][1]=U,p[32767+ne][0]=J-1+ne;O<<=1,J<<=1}})(),(function(){for(var O=0;O<256;O++)K[O]=19595*O,K[O+256|0]=38470*O,K[O+512|0]=7471*O+32768,K[O+768|0]=-11059*O,K[O+1024|0]=-21709*O,K[O+1280|0]=32768*O+8421375,K[O+1536|0]=-27439*O,K[O+1792|0]=-5329*O})(),re(t)}function Ul(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function IR(t){function e(R){if(!R)throw Error("assert :P")}function n(R,q,P){for(var M=0;4>M;M++)if(R[q+M]!=P.charCodeAt(M))return!0;return!1}function r(R,q,P,M,H){for(var ae=0;ae<H;ae++)R[q+ae]=P[M+ae]}function s(R,q,P,M){for(var H=0;H<M;H++)R[q+H]=P}function i(R){return new Int32Array(R)}function a(R,q){for(var P=[],M=0;M<R;M++)P.push(new q);return P}function o(R,q){var P=[];return(function M(H,ae,Se){for(var oe=Se[ae],ve=0;ve<oe&&(H.push(Se.length>ae+1?[]:new q),!(Se.length<ae+1));ve++)M(H[ve],ae+1,Se)})(P,0,R),P}var c=function(){var R=this;function q(_,C){for(var j=1<<C-1>>>0;_&j;)j>>>=1;return j?(_&j-1)+j:_}function P(_,C,j,G,ee){e(!(G%j));do _[C+(G-=j)]=ee;while(0<G)}function M(_,C,j,G,ee){if(e(2328>=ee),512>=ee)var ie=i(512);else if((ie=i(ee))==null)return 0;return(function(le,de,_e,Ne,Me,Ye){var Ae,Be,Ge=de,lt=1<<_e,We=i(16),at=i(16);for(e(Me!=0),e(Ne!=null),e(le!=null),e(0<_e),Be=0;Be<Me;++Be){if(15<Ne[Be])return 0;++We[Ne[Be]]}if(We[0]==Me)return 0;for(at[1]=0,Ae=1;15>Ae;++Ae){if(We[Ae]>1<<Ae)return 0;at[Ae+1]=at[Ae]+We[Ae]}for(Be=0;Be<Me;++Be)Ae=Ne[Be],0<Ne[Be]&&(Ye[at[Ae]++]=Be);if(at[15]==1)return(Ne=new H).g=0,Ne.value=Ye[0],P(le,Ge,1,lt,Ne),lt;var ft,Tt=-1,xt=lt-1,tn=0,Ht=1,Pn=1,Xt=1<<_e;for(Be=0,Ae=1,Me=2;Ae<=_e;++Ae,Me<<=1){if(Ht+=Pn<<=1,0>(Pn-=We[Ae]))return 0;for(;0<We[Ae];--We[Ae])(Ne=new H).g=Ae,Ne.value=Ye[Be++],P(le,Ge+tn,Me,Xt,Ne),tn=q(tn,Ae)}for(Ae=_e+1,Me=2;15>=Ae;++Ae,Me<<=1){if(Ht+=Pn<<=1,0>(Pn-=We[Ae]))return 0;for(;0<We[Ae];--We[Ae]){if(Ne=new H,(tn&xt)!=Tt){for(Ge+=Xt,ft=1<<(Tt=Ae)-_e;15>Tt&&!(0>=(ft-=We[Tt]));)++Tt,ft<<=1;lt+=Xt=1<<(ft=Tt-_e),le[de+(Tt=tn&xt)].g=ft+_e,le[de+Tt].value=Ge-de-Tt}Ne.g=Ae-_e,Ne.value=Ye[Be++],P(le,Ge+(tn>>_e),Me,Xt,Ne),tn=q(tn,Ae)}}return Ht!=2*at[15]-1?0:lt})(_,C,j,G,ee,ie)}function H(){this.value=this.g=0}function ae(){this.value=this.g=0}function Se(){this.G=a(5,H),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(ac,ae)}function oe(_,C,j,G){e(_!=null),e(C!=null),e(2147483648>G),_.Ca=254,_.I=0,_.b=-8,_.Ka=0,_.oa=C,_.pa=j,_.Jd=C,_.Yc=j+G,_.Zc=4<=G?j+G-4+1:j,pe(_)}function ve(_,C){for(var j=0;0<C--;)j|=Te(_,128)<<C;return j}function Ie(_,C){var j=ve(_,C);return ue(_)?-j:j}function xe(_,C,j,G){var ee,ie=0;for(e(_!=null),e(C!=null),e(4294967288>G),_.Sb=G,_.Ra=0,_.u=0,_.h=0,4<G&&(G=4),ee=0;ee<G;++ee)ie+=C[j+ee]<<8*ee;_.Ra=ie,_.bb=G,_.oa=C,_.pa=j}function Re(_){for(;8<=_.u&&_.bb<_.Sb;)_.Ra>>>=8,_.Ra+=_.oa[_.pa+_.bb]<<Yo-8>>>0,++_.bb,_.u-=8;Y(_)&&(_.h=1,_.u=0)}function re(_,C){if(e(0<=C),!_.h&&C<=Qi){var j=U(_)&da[C];return _.u+=C,Re(_),j}return _.h=1,_.u=0}function O(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function J(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function U(_){return _.Ra>>>(_.u&Yo-1)>>>0}function Y(_){return e(_.bb<=_.Sb),_.h||_.bb==_.Sb&&_.u>Yo}function ne(_,C){_.u=C,_.h=Y(_)}function ye(_){_.u>=Xo&&(e(_.u>=Xo),Re(_))}function pe(_){e(_!=null&&_.oa!=null),_.pa<_.Zc?(_.I=(_.oa[_.pa++]|_.I<<8)>>>0,_.b+=8):(e(_!=null&&_.oa!=null),_.pa<_.Yc?(_.b+=8,_.I=_.oa[_.pa++]|_.I<<8):_.Ka?_.b=0:(_.I<<=8,_.b+=8,_.Ka=1))}function ue(_){return ve(_,1)}function Te(_,C){var j=_.Ca;0>_.b&&pe(_);var G=_.b,ee=j*C>>>8,ie=(_.I>>>G>ee)+0;for(ie?(j-=ee,_.I-=ee+1<<G>>>0):j=ee+1,G=j,ee=0;256<=G;)ee+=8,G>>=8;return G=7^ee+Al[G],_.b-=G,_.Ca=(j<<G)-1,ie}function je(_,C,j){_[C+0]=j>>24&255,_[C+1]=j>>16&255,_[C+2]=j>>8&255,_[C+3]=255&j}function ce(_,C){return _[C+0]|_[C+1]<<8}function dt(_,C){return ce(_,C)|_[C+2]<<16}function pt(_,C){return ce(_,C)|ce(_,C+2)<<16}function se(_,C){var j=1<<C;return e(_!=null),e(0<C),_.X=i(j),_.X==null?0:(_.Mb=32-C,_.Xa=C,1)}function nt(_,C){e(_!=null),e(C!=null),e(_.Xa==C.Xa),r(C.X,0,_.X,0,1<<C.Xa)}function it(){this.X=[],this.Xa=this.Mb=0}function Pt(_,C,j,G){e(j!=null),e(G!=null);var ee=j[0],ie=G[0];return ee==0&&(ee=(_*ie+C/2)/C),ie==0&&(ie=(C*ee+_/2)/_),0>=ee||0>=ie?0:(j[0]=ee,G[0]=ie,1)}function tt(_,C){return _+(1<<C)-1>>>C}function St(_,C){return((4278255360&_)+(4278255360&C)>>>0&4278255360)+((16711935&_)+(16711935&C)>>>0&16711935)>>>0}function Ct(_,C){R[C]=function(j,G,ee,ie,le,de,_e){var Ne;for(Ne=0;Ne<le;++Ne){var Me=R[_](de[_e+Ne-1],ee,ie+Ne);de[_e+Ne]=St(j[G+Ne],Me)}}}function Lt(){this.ud=this.hd=this.jd=0}function jt(_,C){return((4278124286&(_^C))>>>1)+(_&C)>>>0}function Qt(_){return 0<=_&&256>_?_:0>_?0:255<_?255:void 0}function Zt(_,C){return Qt(_+(_-C+.5>>1))}function on(_,C,j){return Math.abs(C-j)-Math.abs(_-j)}function Sn(_,C,j,G,ee,ie,le){for(G=ie[le-1],j=0;j<ee;++j)ie[le+j]=G=St(_[C+j],G)}function Bt(_,C,j,G,ee){var ie;for(ie=0;ie<j;++ie){var le=_[C+ie],de=le>>8&255,_e=16711935&(_e=(_e=16711935&le)+((de<<16)+de));G[ee+ie]=(4278255360&le)+_e>>>0}}function vt(_,C){C.jd=255&_,C.hd=_>>8&255,C.ud=_>>16&255}function wt(_,C,j,G,ee,ie){var le;for(le=0;le<G;++le){var de=C[j+le],_e=de>>>8,Ne=de,Me=255&(Me=(Me=de>>>16)+((_.jd<<24>>24)*(_e<<24>>24)>>>5));Ne=255&(Ne=(Ne+=(_.hd<<24>>24)*(_e<<24>>24)>>>5)+((_.ud<<24>>24)*(Me<<24>>24)>>>5)),ee[ie+le]=(4278255360&de)+(Me<<16)+Ne}}function Et(_,C,j,G,ee){R[C]=function(ie,le,de,_e,Ne,Me,Ye,Ae,Be){for(_e=Ye;_e<Ae;++_e)for(Ye=0;Ye<Be;++Ye)Ne[Me++]=ee(de[G(ie[le++])])},R[_]=function(ie,le,de,_e,Ne,Me,Ye){var Ae=8>>ie.b,Be=ie.Ea,Ge=ie.K[0],lt=ie.w;if(8>Ae)for(ie=(1<<ie.b)-1,lt=(1<<Ae)-1;le<de;++le){var We,at=0;for(We=0;We<Be;++We)We&ie||(at=G(_e[Ne++])),Me[Ye++]=ee(Ge[at&lt]),at>>=Ae}else R["VP8LMapColor"+j](_e,Ne,Ge,lt,Me,Ye,le,de,Be)}}function Wn(_,C,j,G,ee){for(j=C+j;C<j;){var ie=_[C++];G[ee++]=ie>>16&255,G[ee++]=ie>>8&255,G[ee++]=255&ie}}function qt(_,C,j,G,ee){for(j=C+j;C<j;){var ie=_[C++];G[ee++]=ie>>16&255,G[ee++]=ie>>8&255,G[ee++]=255&ie,G[ee++]=ie>>24&255}}function Gt(_,C,j,G,ee){for(j=C+j;C<j;){var ie=(le=_[C++])>>16&240|le>>12&15,le=240&le|le>>28&15;G[ee++]=ie,G[ee++]=le}}function mn(_,C,j,G,ee){for(j=C+j;C<j;){var ie=(le=_[C++])>>16&248|le>>13&7,le=le>>5&224|le>>3&31;G[ee++]=ie,G[ee++]=le}}function An(_,C,j,G,ee){for(j=C+j;C<j;){var ie=_[C++];G[ee++]=255&ie,G[ee++]=ie>>8&255,G[ee++]=ie>>16&255}}function ln(_,C,j,G,ee,ie){if(ie==0)for(j=C+j;C<j;)je(G,((ie=_[C++])[0]>>24|ie[1]>>8&65280|ie[2]<<8&16711680|ie[3]<<24)>>>0),ee+=32;else r(G,ee,_,C,j)}function Jn(_,C){R[C][0]=R[_+"0"],R[C][1]=R[_+"1"],R[C][2]=R[_+"2"],R[C][3]=R[_+"3"],R[C][4]=R[_+"4"],R[C][5]=R[_+"5"],R[C][6]=R[_+"6"],R[C][7]=R[_+"7"],R[C][8]=R[_+"8"],R[C][9]=R[_+"9"],R[C][10]=R[_+"10"],R[C][11]=R[_+"11"],R[C][12]=R[_+"12"],R[C][13]=R[_+"13"],R[C][14]=R[_+"0"],R[C][15]=R[_+"0"]}function pn(_){return _==xd||_==Bh||_==Ju||_==Vh}function fn(){this.eb=[],this.size=this.A=this.fb=0}function ar(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function cn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new fn,this.f.kb=new ar,this.sd=null}function Wt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Ln(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function as(_){return alert("todo:WebPSamplerProcessPlane"),_.T}function os(_,C){var j=_.T,G=C.ba.f.RGBA,ee=G.eb,ie=G.fb+_.ka*G.A,le=vi[C.ba.S],de=_.y,_e=_.O,Ne=_.f,Me=_.N,Ye=_.ea,Ae=_.W,Be=C.cc,Ge=C.dc,lt=C.Mc,We=C.Nc,at=_.ka,ft=_.ka+_.T,Tt=_.U,xt=Tt+1>>1;for(at==0?le(de,_e,null,null,Ne,Me,Ye,Ae,Ne,Me,Ye,Ae,ee,ie,null,null,Tt):(le(C.ec,C.fc,de,_e,Be,Ge,lt,We,Ne,Me,Ye,Ae,ee,ie-G.A,ee,ie,Tt),++j);at+2<ft;at+=2)Be=Ne,Ge=Me,lt=Ye,We=Ae,Me+=_.Rc,Ae+=_.Rc,ie+=2*G.A,le(de,(_e+=2*_.fa)-_.fa,de,_e,Be,Ge,lt,We,Ne,Me,Ye,Ae,ee,ie-G.A,ee,ie,Tt);return _e+=_.fa,_.j+ft<_.o?(r(C.ec,C.fc,de,_e,Tt),r(C.cc,C.dc,Ne,Me,xt),r(C.Mc,C.Nc,Ye,Ae,xt),j--):1&ft||le(de,_e,null,null,Ne,Me,Ye,Ae,Ne,Me,Ye,Ae,ee,ie+G.A,null,null,Tt),j}function ki(_,C,j){var G=_.F,ee=[_.J];if(G!=null){var ie=_.U,le=C.ba.S,de=le==gd||le==Ju;C=C.ba.f.RGBA;var _e=[0],Ne=_.ka;_e[0]=_.T,_.Kb&&(Ne==0?--_e[0]:(--Ne,ee[0]-=_.width),_.j+_.ka+_.T==_.o&&(_e[0]=_.o-_.j-Ne));var Me=C.eb;Ne=C.fb+Ne*C.A,_=dd(G,ee[0],_.width,ie,_e,Me,Ne+(de?0:3),C.A),e(j==_e),_&&pn(le)&&Zc(Me,Ne,de,ie,_e,C.A)}return 0}function Hr(_){var C=_.ma,j=C.ba.S,G=11>j,ee=j==Fi||j==to||j==gd||j==Xu||j==12||pn(j);if(C.memory=null,C.Ib=null,C.Jb=null,C.Nd=null,!Sl(C.Oa,_,ee?11:12))return 0;if(ee&&pn(j)&&In(),_.da)alert("todo:use_scaling");else{if(G){if(C.Ib=as,_.Kb){if(j=_.U+1>>1,C.memory=i(_.U+2*j),C.memory==null)return 0;C.ec=C.memory,C.fc=0,C.cc=C.ec,C.dc=C.fc+_.U,C.Mc=C.cc,C.Nc=C.dc+j,C.Ib=os,In()}}else alert("todo:EmitYUV");ee&&(C.Jb=ki,G&&Qe())}if(G&&!hc){for(_=0;256>_;++_)_i[_]=89858*(_-128)+ef>>oo,Dv[_]=-22014*(_-128)+ef,H1[_]=-45773*(_-128),zh[_]=113618*(_-128)+ef>>oo;for(_=ru;_<dc;++_)C=76283*(_-16)+ef>>oo,Mv[_-ru]=Zr(C,255),Lv[_-ru]=Zr(C+8>>4,15);hc=1}return 1}function un(_){var C=_.ma,j=_.U,G=_.T;return e(!(1&_.ka)),0>=j||0>=G?0:(j=C.Ib(_,C),C.Jb!=null&&C.Jb(_,C,j),C.Dc+=j,1)}function Le(_){_.ma.memory=null}function Dt(_,C,j,G){return re(_,8)!=47?0:(C[0]=re(_,14)+1,j[0]=re(_,14)+1,G[0]=re(_,1),re(_,3)!=0?0:!_.h)}function Vt(_,C){if(4>_)return _+1;var j=_-2>>1;return(2+(1&_)<<j)+re(C,j)+1}function $n(_,C){return 120<C?C-120:1<=(j=((j=ro[C-1])>>4)*_+(8-(15&j)))?j:1;var j}function Yt(_,C,j){var G=U(j),ee=_[C+=255&G].g-8;return 0<ee&&(ne(j,j.u+8),G=U(j),C+=_[C].value,C+=G&(1<<ee)-1),ne(j,j.u+_[C].g),_[C].value}function qn(_,C,j){return j.g+=_.g,j.value+=_.value<<C>>>0,e(8>=j.g),_.g}function te(_,C,j){var G=_.xc;return e((C=G==0?0:_.vc[_.md*(j>>G)+(C>>G)])<_.Wb),_.Ya[C]}function be(_,C,j,G){var ee=_.ab,ie=_.c*C,le=_.C;C=le+C;var de=j,_e=G;for(G=_.Ta,j=_.Ua;0<ee--;){var Ne=_.gc[ee],Me=le,Ye=C,Ae=de,Be=_e,Ge=(_e=G,de=j,Ne.Ea);switch(e(Me<Ye),e(Ye<=Ne.nc),Ne.hc){case 2:As(Ae,Be,(Ye-Me)*Ge,_e,de);break;case 0:var lt=Me,We=Ye,at=_e,ft=de,Tt=(Xt=Ne).Ea;lt==0&&(Wu(Ae,Be,null,null,1,at,ft),Sn(Ae,Be+1,0,0,Tt-1,at,ft+1),Be+=Tt,ft+=Tt,++lt);for(var xt=1<<Xt.b,tn=xt-1,Ht=tt(Tt,Xt.b),Pn=Xt.K,Xt=Xt.w+(lt>>Xt.b)*Ht;lt<We;){var tr=Pn,ns=Xt,Bn=1;for($u(Ae,Be,at,ft-Tt,1,at,ft);Bn<Tt;){var zt=(Bn&~tn)+xt;zt>Tt&&(zt=Tt),(0,Cl[tr[ns++]>>8&15])(Ae,Be+ +Bn,at,ft+Bn-Tt,zt-Bn,at,ft+Bn),Bn=zt}Be+=Tt,ft+=Tt,++lt&tn||(Xt+=Ht)}Ye!=Ne.nc&&r(_e,de-Ge,_e,de+(Ye-Me-1)*Ge,Ge);break;case 1:for(Ge=Ae,We=Be,Tt=(Ae=Ne.Ea)-(ft=Ae&~(at=(Be=1<<Ne.b)-1)),lt=tt(Ae,Ne.b),xt=Ne.K,Ne=Ne.w+(Me>>Ne.b)*lt;Me<Ye;){for(tn=xt,Ht=Ne,Pn=new Lt,Xt=We+ft,tr=We+Ae;We<Xt;)vt(tn[Ht++],Pn),Ku(Pn,Ge,We,Be,_e,de),We+=Be,de+=Be;We<tr&&(vt(tn[Ht++],Pn),Ku(Pn,Ge,We,Tt,_e,de),We+=Tt,de+=Tt),++Me&at||(Ne+=lt)}break;case 3:if(Ae==_e&&Be==de&&0<Ne.b){for(We=_e,Ae=Ge=de+(Ye-Me)*Ge-(ft=(Ye-Me)*tt(Ne.Ea,Ne.b)),Be=_e,at=de,lt=[],ft=(Tt=ft)-1;0<=ft;--ft)lt[ft]=Be[at+ft];for(ft=Tt-1;0<=ft;--ft)We[Ae+ft]=lt[ft];Dh(Ne,Me,Ye,_e,Ge,_e,de)}else Dh(Ne,Me,Ye,Ae,Be,_e,de)}de=G,_e=j}_e!=j&&r(G,j,de,_e,ie)}function he(_,C){var j=_.V,G=_.Ba+_.c*_.C,ee=C-_.C;if(e(C<=_.l.o),e(16>=ee),0<ee){var ie=_.l,le=_.Ta,de=_.Ua,_e=ie.width;if(be(_,ee,j,G),ee=de=[de],e((j=_.C)<(G=C)),e(ie.v<ie.va),G>ie.o&&(G=ie.o),j<ie.j){var Ne=ie.j-j;j=ie.j,ee[0]+=Ne*_e}if(j>=G?j=0:(ee[0]+=4*ie.v,ie.ka=j-ie.j,ie.U=ie.va-ie.v,ie.T=G-j,j=1),j){if(de=de[0],11>(j=_.ca).S){var Me=j.f.RGBA,Ye=(G=j.S,ee=ie.U,ie=ie.T,Ne=Me.eb,Me.A),Ae=ie;for(Me=Me.fb+_.Ma*Me.A;0<Ae--;){var Be=le,Ge=de,lt=ee,We=Ne,at=Me;switch(G){case Fh:Yu(Be,Ge,lt,We,at);break;case Fi:Nl(Be,Ge,lt,We,at);break;case xd:Nl(Be,Ge,lt,We,at),Zc(We,at,0,lt,1,0);break;case Oh:Jc(Be,Ge,lt,We,at);break;case to:ln(Be,Ge,lt,We,at,1);break;case Bh:ln(Be,Ge,lt,We,at,1),Zc(We,at,0,lt,1,0);break;case gd:ln(Be,Ge,lt,We,at,0);break;case Ju:ln(Be,Ge,lt,We,at,0),Zc(We,at,1,lt,1,0);break;case Xu:Il(Be,Ge,lt,We,at);break;case Vh:Il(Be,Ge,lt,We,at),eo(We,at,lt,1,0);break;case oc:Zo(Be,Ge,lt,We,at);break;default:e(0)}de+=_e,Me+=Ye}_.Ma+=ie}else alert("todo:EmitRescaledRowsYUVA");e(_.Ma<=j.height)}}_.C=C,e(_.C<=_.i)}function ge(_){var C;if(0<_.ua)return 0;for(C=0;C<_.Wb;++C){var j=_.Ya[C].G,G=_.Ya[C].H;if(0<j[1][G[1]+0].g||0<j[2][G[2]+0].g||0<j[3][G[3]+0].g)return 0}return 1}function we(_,C,j,G,ee,ie){if(_.Z!=0){var le=_.qd,de=_.rd;for(e(Pl[_.Z]!=null);C<j;++C)Pl[_.Z](le,de,G,ee,G,ee,ie),le=G,de=ee,ee+=ie;_.qd=le,_.rd=de}}function Ee(_,C){var j=_.l.ma,G=j.Z==0||j.Z==1?_.l.j:_.C;if(G=_.C<G?G:_.C,e(C<=_.l.o),C>G){var ee=_.l.width,ie=j.ca,le=j.tb+ee*G,de=_.V,_e=_.Ba+_.c*G,Ne=_.gc;e(_.ab==1),e(Ne[0].hc==3),Qo(Ne[0],G,C,de,_e,ie,le),we(j,G,C,ie,le,ee)}_.C=_.Ma=C}function Ve(_,C,j,G,ee,ie,le){var de=_.$/G,_e=_.$%G,Ne=_.m,Me=_.s,Ye=j+_.$,Ae=Ye;ee=j+G*ee;var Be=j+G*ie,Ge=280+Me.ua,lt=_.Pb?de:16777216,We=0<Me.ua?Me.Wa:null,at=Me.wc,ft=Ye<Be?te(Me,_e,de):null;e(_.C<ie),e(Be<=ee);var Tt=!1;e:for(;;){for(;Tt||Ye<Be;){var xt=0;if(de>=lt){var tn=Ye-j;e((lt=_).Pb),lt.wd=lt.m,lt.xd=tn,0<lt.s.ua&&nt(lt.s.Wa,lt.s.vb),lt=de+lc}if(_e&at||(ft=te(Me,_e,de)),e(ft!=null),ft.Qb&&(C[Ye]=ft.qb,Tt=!0),!Tt)if(ye(Ne),ft.jc){xt=Ne,tn=C;var Ht=Ye,Pn=ft.pd[U(xt)&ac-1];e(ft.jc),256>Pn.g?(ne(xt,xt.u+Pn.g),tn[Ht]=Pn.value,xt=0):(ne(xt,xt.u+Pn.g-256),e(256<=Pn.value),xt=Pn.value),xt==0&&(Tt=!0)}else xt=Yt(ft.G[0],ft.H[0],Ne);if(Ne.h)break;if(Tt||256>xt){if(!Tt)if(ft.nd)C[Ye]=(ft.qb|xt<<8)>>>0;else{if(ye(Ne),Tt=Yt(ft.G[1],ft.H[1],Ne),ye(Ne),tn=Yt(ft.G[2],ft.H[2],Ne),Ht=Yt(ft.G[3],ft.H[3],Ne),Ne.h)break;C[Ye]=(Ht<<24|Tt<<16|xt<<8|tn)>>>0}if(Tt=!1,++Ye,++_e>=G&&(_e=0,++de,le!=null&&de<=ie&&!(de%16)&&le(_,de),We!=null))for(;Ae<Ye;)xt=C[Ae++],We.X[(506832829*xt&4294967295)>>>We.Mb]=xt}else if(280>xt){if(xt=Vt(xt-256,Ne),tn=Yt(ft.G[4],ft.H[4],Ne),ye(Ne),tn=$n(G,tn=Vt(tn,Ne)),Ne.h)break;if(Ye-j<tn||ee-Ye<xt)break e;for(Ht=0;Ht<xt;++Ht)C[Ye+Ht]=C[Ye+Ht-tn];for(Ye+=xt,_e+=xt;_e>=G;)_e-=G,++de,le!=null&&de<=ie&&!(de%16)&&le(_,de);if(e(Ye<=ee),_e&at&&(ft=te(Me,_e,de)),We!=null)for(;Ae<Ye;)xt=C[Ae++],We.X[(506832829*xt&4294967295)>>>We.Mb]=xt}else{if(!(xt<Ge))break e;for(Tt=xt-280,e(We!=null);Ae<Ye;)xt=C[Ae++],We.X[(506832829*xt&4294967295)>>>We.Mb]=xt;xt=Ye,e(!(Tt>>>(tn=We).Xa)),C[xt]=tn.X[Tt],Tt=!0}Tt||e(Ne.h==Y(Ne))}if(_.Pb&&Ne.h&&Ye<ee)e(_.m.h),_.a=5,_.m=_.wd,_.$=_.xd,0<_.s.ua&&nt(_.s.vb,_.s.Wa);else{if(Ne.h)break e;le?.(_,de>ie?ie:de),_.a=0,_.$=Ye-j}return 1}return _.a=3,0}function rt(_){e(_!=null),_.vc=null,_.yc=null,_.Ya=null;var C=_.Wa;C!=null&&(C.X=null),_.vb=null,e(_!=null)}function Oe(){var _=new _n;return _==null?null:(_.a=0,_.xb=Qp,Jn("Predictor","VP8LPredictors"),Jn("Predictor","VP8LPredictors_C"),Jn("PredictorAdd","VP8LPredictorsAdd"),Jn("PredictorAdd","VP8LPredictorsAdd_C"),As=Bt,Ku=wt,Yu=Wn,Nl=qt,Il=Gt,Zo=mn,Jc=An,R.VP8LMapColor32b=Jo,R.VP8LMapColor8b=gi,_)}function He(_,C,j,G,ee){var ie=1,le=[_],de=[C],_e=G.m,Ne=G.s,Me=null,Ye=0;e:for(;;){if(j)for(;ie&&re(_e,1);){var Ae=le,Be=de,Ge=G,lt=1,We=Ge.m,at=Ge.gc[Ge.ab],ft=re(We,2);if(Ge.Oc&1<<ft)ie=0;else{switch(Ge.Oc|=1<<ft,at.hc=ft,at.Ea=Ae[0],at.nc=Be[0],at.K=[null],++Ge.ab,e(4>=Ge.ab),ft){case 0:case 1:at.b=re(We,3)+2,lt=He(tt(at.Ea,at.b),tt(at.nc,at.b),0,Ge,at.K),at.K=at.K[0];break;case 3:var Tt,xt=re(We,8)+1,tn=16<xt?0:4<xt?1:2<xt?2:3;if(Ae[0]=tt(at.Ea,tn),at.b=tn,Tt=lt=He(xt,1,0,Ge,at.K)){var Ht,Pn=xt,Xt=at,tr=1<<(8>>Xt.b),ns=i(tr);if(ns==null)Tt=0;else{var Bn=Xt.K[0],zt=Xt.w;for(ns[0]=Xt.K[0][0],Ht=1;Ht<1*Pn;++Ht)ns[Ht]=St(Bn[zt+Ht],ns[Ht-1]);for(;Ht<4*tr;++Ht)ns[Ht]=0;Xt.K[0]=null,Xt.K[0]=ns,Tt=1}}lt=Tt;break;case 2:break;default:e(0)}ie=lt}}if(le=le[0],de=de[0],ie&&re(_e,1)&&!(ie=1<=(Ye=re(_e,4))&&11>=Ye)){G.a=3;break e}var Mt;if(Mt=ie)t:{var ls,En,Hn,Rr=G,$s=le,bi=de,$r=Ye,Ds=j,Oi=Rr.m,Ms=Rr.s,Xn=[null],gr=1,cs=0,Er=so[$r];n:for(;;){if(Ds&&re(Oi,1)){var Ks=re(Oi,3)+2,us=tt($s,Ks),xr=tt(bi,Ks),Is=us*xr;if(!He(us,xr,0,Rr,Xn))break n;for(Xn=Xn[0],Ms.xc=Ks,ls=0;ls<Is;++ls){var Pr=Xn[ls]>>8&65535;Xn[ls]=Pr,Pr>=gr&&(gr=Pr+1)}}if(Oi.h)break n;for(En=0;5>En;++En){var Ls=tu[En];!En&&0<$r&&(Ls+=1<<$r),cs<Ls&&(cs=Ls)}var Fs=a(gr*Er,H),Or=gr,dr=a(Or,Se);if(dr==null)var Bi=null;else e(65536>=Or),Bi=dr;var xs=i(cs);if(Bi==null||xs==null||Fs==null){Rr.a=1;break n}var vn=Fs;for(ls=Hn=0;ls<gr;++ls){var bn=Bi[ls],yr=bn.G,ha=bn.H,lo=0,ea=1,Os=0;for(En=0;5>En;++En){Ls=tu[En],yr[En]=vn,ha[En]=Hn,!En&&0<$r&&(Ls+=1<<$r);s:{var pc,mc=Ls,Wh=Rr,Kr=xs,em=vn,tm=Hn,$h=0,Dl=Wh.m,Fv=re(Dl,1);if(s(Kr,0,0,mc),Fv){var nm=re(Dl,1)+1,rm=re(Dl,1),Kh=re(Dl,rm==0?1:8);Kr[Kh]=1,nm==2&&(Kr[Kh=re(Dl,8)]=1);var ri=1}else{var ys=i(19),bd=re(Dl,4)+4;if(19<bd){Wh.a=3;var gc=0;break s}for(pc=0;pc<bd;++pc)ys[yd[pc]]=re(Dl,3);var nf=void 0,su=void 0,nl=Wh,Yh=ys,rf=mc,Xh=Kr,Jh=0,Ml=nl.m,sm=8,im=a(128,H);r:for(;M(im,0,7,Yh,19);){if(re(Ml,1)){var z1=2+2*re(Ml,3);if((nf=2+re(Ml,z1))>rf)break r}else nf=rf;for(su=0;su<rf&&nf--;){ye(Ml);var am=im[0+(127&U(Ml))];ne(Ml,Ml.u+am.g);var xc=am.value;if(16>xc)Xh[su++]=xc,xc!=0&&(sm=xc);else{var G1=xc==16,W1=xc-16,$1=Qu[W1],om=re(Ml,no[W1])+$1;if(su+om>rf)break r;for(var K1=G1?sm:0;0<om--;)Xh[su++]=K1}}Jh=1;break r}Jh||(nl.a=3),ri=Jh}(ri=ri&&!Dl.h)&&($h=M(em,tm,8,Kr,mc)),ri&&$h!=0?gc=$h:(Wh.a=3,gc=0)}if(gc==0)break n;if(ea&&Uh[En]==1&&(ea=vn[Hn].g==0),lo+=vn[Hn].g,Hn+=gc,3>=En){var iu,Qh=xs[0];for(iu=1;iu<Ls;++iu)xs[iu]>Qh&&(Qh=xs[iu]);Os+=Qh}}if(bn.nd=ea,bn.Qb=0,ea&&(bn.qb=(yr[3][ha[3]+0].value<<24|yr[1][ha[1]+0].value<<16|yr[2][ha[2]+0].value)>>>0,lo==0&&256>yr[0][ha[0]+0].value&&(bn.Qb=1,bn.qb+=yr[0][ha[0]+0].value<<8)),bn.jc=!bn.Qb&&6>Os,bn.jc){var wd,rl=bn;for(wd=0;wd<ac;++wd){var Ll=wd,Fl=rl.pd[Ll],Zh=rl.G[0][rl.H[0]+Ll];256<=Zh.value?(Fl.g=Zh.g+256,Fl.value=Zh.value):(Fl.g=0,Fl.value=0,Ll>>=qn(Zh,8,Fl),Ll>>=qn(rl.G[1][rl.H[1]+Ll],16,Fl),Ll>>=qn(rl.G[2][rl.H[2]+Ll],0,Fl),qn(rl.G[3][rl.H[3]+Ll],24,Fl))}}}Ms.vc=Xn,Ms.Wb=gr,Ms.Ya=Bi,Ms.yc=Fs,Mt=1;break t}Mt=0}if(!(ie=Mt)){G.a=3;break e}if(0<Ye){if(Ne.ua=1<<Ye,!se(Ne.Wa,Ye)){G.a=1,ie=0;break e}}else Ne.ua=0;var e0=G,au=le,Y1=de,sf=e0.s,af=sf.xc;if(e0.c=au,e0.i=Y1,sf.md=tt(au,af),sf.wc=af==0?-1:(1<<af)-1,j){G.xb=cc;break e}if((Me=i(le*de))==null){G.a=1,ie=0;break e}ie=(ie=Ve(G,Me,0,le,de,de,null))&&!_e.h;break e}return ie?(ee!=null?ee[0]=Me:(e(Me==null),e(j)),G.$=0,j||rt(Ne)):rt(Ne),ie}function Ke(_,C){var j=_.c*_.i,G=j+C+16*C;return e(_.c<=C),_.V=i(G),_.V==null?(_.Ta=null,_.Ua=0,_.a=1,0):(_.Ta=_.V,_.Ua=_.Ba+j+C,1)}function _t(_,C){var j=_.C,G=C-j,ee=_.V,ie=_.Ba+_.c*j;for(e(C<=_.l.o);0<G;){var le=16<G?16:G,de=_.l.ma,_e=_.l.width,Ne=_e*le,Me=de.ca,Ye=de.tb+_e*j,Ae=_.Ta,Be=_.Ua;be(_,le,ee,ie),Ba(Ae,Be,Me,Ye,Ne),we(de,j,j+le,Me,Ye,_e),G-=le,ee+=le*_.c,j+=le}e(j==C),_.C=_.Ma=C}function At(){this.ub=this.yd=this.td=this.Rb=0}function Rt(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function bt(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function kt(){this.Yb=(function(){var _=[];return(function C(j,G,ee){for(var ie=ee[G],le=0;le<ie&&(j.push(ee.length>G+1?[]:0),!(ee.length<G+1));le++)C(j[le],G+1,ee)})(_,0,[3,11]),_})()}function $t(){this.jb=i(3),this.Wc=o([4,8],kt),this.Xc=o([4,17],kt)}function mr(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function zn(){this.ld=this.La=this.dd=this.tc=0}function wr(){this.Na=this.la=0}function zs(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Wi(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function ca(){this.uc=this.M=this.Nb=0,this.wa=Array(new zn),this.Y=0,this.ya=Array(new Wi),this.aa=0,this.l=new ei}function Ri(){this.y=i(16),this.f=i(8),this.ea=i(8)}function bo(){this.cb=this.a=0,this.sc="",this.m=new O,this.Od=new At,this.Kc=new Rt,this.ed=new mr,this.Qa=new bt,this.Ic=this.$c=this.Aa=0,this.D=new ca,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,O),this.ia=0,this.pb=a(4,zs),this.Pa=new $t,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Ri),this.Hd=0,this.rb=Array(new wr),this.sb=0,this.wa=Array(new zn),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Wi),this.L=this.aa=0,this.gd=o([4,2],zn),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Zr(_,C){return 0>_?0:_>C?C:_}function ei(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function ps(){var _=new bo;return _!=null&&(_.a=0,_.sc="OK",_.cb=0,_.Xb=0,Va||(Va=or)),_}function Qn(_,C,j){return _.a==0&&(_.a=C,_.sc=j,_.cb=0),0}function wo(_,C,j){return 3<=j&&_[C+0]==157&&_[C+1]==1&&_[C+2]==42}function ua(_,C){if(_==null)return 0;if(_.a=0,_.sc="OK",C==null)return Qn(_,2,"null VP8Io passed to VP8GetHeaders()");var j=C.data,G=C.w,ee=C.ha;if(4>ee)return Qn(_,7,"Truncated header.");var ie=j[G+0]|j[G+1]<<8|j[G+2]<<16,le=_.Od;if(le.Rb=!(1&ie),le.td=ie>>1&7,le.yd=ie>>4&1,le.ub=ie>>5,3<le.td)return Qn(_,3,"Incorrect keyframe parameters.");if(!le.yd)return Qn(_,4,"Frame not displayable.");G+=3,ee-=3;var de=_.Kc;if(le.Rb){if(7>ee)return Qn(_,7,"cannot parse picture header");if(!wo(j,G,ee))return Qn(_,3,"Bad code word");de.c=16383&(j[G+4]<<8|j[G+3]),de.Td=j[G+4]>>6,de.i=16383&(j[G+6]<<8|j[G+5]),de.Ud=j[G+6]>>6,G+=7,ee-=7,_.za=de.c+15>>4,_.Ub=de.i+15>>4,C.width=de.c,C.height=de.i,C.Da=0,C.j=0,C.v=0,C.va=C.width,C.o=C.height,C.da=0,C.ib=C.width,C.hb=C.height,C.U=C.width,C.T=C.height,s((ie=_.Pa).jb,0,255,ie.jb.length),e((ie=_.Qa)!=null),ie.Cb=0,ie.Bb=0,ie.Fb=1,s(ie.Zb,0,0,ie.Zb.length),s(ie.Lb,0,0,ie.Lb)}if(le.ub>ee)return Qn(_,7,"bad partition length");oe(ie=_.m,j,G,le.ub),G+=le.ub,ee-=le.ub,le.Rb&&(de.Ld=ue(ie),de.Kd=ue(ie)),de=_.Qa;var _e,Ne=_.Pa;if(e(ie!=null),e(de!=null),de.Cb=ue(ie),de.Cb){if(de.Bb=ue(ie),ue(ie)){for(de.Fb=ue(ie),_e=0;4>_e;++_e)de.Zb[_e]=ue(ie)?Ie(ie,7):0;for(_e=0;4>_e;++_e)de.Lb[_e]=ue(ie)?Ie(ie,6):0}if(de.Bb)for(_e=0;3>_e;++_e)Ne.jb[_e]=ue(ie)?ve(ie,8):255}else de.Bb=0;if(ie.Ka)return Qn(_,3,"cannot parse segment header");if((de=_.ed).zd=ue(ie),de.Tb=ve(ie,6),de.wb=ve(ie,3),de.Pc=ue(ie),de.Pc&&ue(ie)){for(Ne=0;4>Ne;++Ne)ue(ie)&&(de.vd[Ne]=Ie(ie,6));for(Ne=0;4>Ne;++Ne)ue(ie)&&(de.od[Ne]=Ie(ie,6))}if(_.L=de.Tb==0?0:de.zd?1:2,ie.Ka)return Qn(_,3,"cannot parse filter header");var Me=ee;if(ee=_e=G,G=_e+Me,de=Me,_.Xb=(1<<ve(_.m,2))-1,Me<3*(Ne=_.Xb))j=7;else{for(_e+=3*Ne,de-=3*Ne,Me=0;Me<Ne;++Me){var Ye=j[ee+0]|j[ee+1]<<8|j[ee+2]<<16;Ye>de&&(Ye=de),oe(_.Jc[+Me],j,_e,Ye),_e+=Ye,de-=Ye,ee+=3}oe(_.Jc[+Ne],j,_e,de),j=_e<G?0:5}if(j!=0)return Qn(_,j,"cannot parse partitions");for(j=ve(_e=_.m,7),ee=ue(_e)?Ie(_e,4):0,G=ue(_e)?Ie(_e,4):0,de=ue(_e)?Ie(_e,4):0,Ne=ue(_e)?Ie(_e,4):0,_e=ue(_e)?Ie(_e,4):0,Me=_.Qa,Ye=0;4>Ye;++Ye){if(Me.Cb){var Ae=Me.Zb[Ye];Me.Fb||(Ae+=j)}else{if(0<Ye){_.pb[Ye]=_.pb[0];continue}Ae=j}var Be=_.pb[Ye];Be.Sc[0]=io[Zr(Ae+ee,127)],Be.Sc[1]=ao[Zr(Ae+0,127)],Be.Eb[0]=2*io[Zr(Ae+G,127)],Be.Eb[1]=101581*ao[Zr(Ae+de,127)]>>16,8>Be.Eb[1]&&(Be.Eb[1]=8),Be.Qc[0]=io[Zr(Ae+Ne,117)],Be.Qc[1]=ao[Zr(Ae+_e,127)],Be.lc=Ae+_e}if(!le.Rb)return Qn(_,4,"Not a key frame.");for(ue(ie),le=_.Pa,j=0;4>j;++j){for(ee=0;8>ee;++ee)for(G=0;3>G;++G)for(de=0;11>de;++de)Ne=Te(ie,ts[j][ee][G][de])?ve(ie,8):q1[j][ee][G][de],le.Wc[j][ee].Yb[G][de]=Ne;for(ee=0;17>ee;++ee)le.Xc[j][ee]=le.Wc[j][nr[ee]]}return _.kc=ue(ie),_.kc&&(_.Bd=ve(ie,8)),_.cb=1}function or(_,C,j,G,ee,ie,le){var de=C[ee].Yb[j];for(j=0;16>ee;++ee){if(!Te(_,de[j+0]))return ee;for(;!Te(_,de[j+1]);)if(de=C[++ee].Yb[0],j=0,ee==16)return 16;var _e=C[ee+1].Yb;if(Te(_,de[j+2])){var Ne=_,Me=0;if(Te(Ne,(Ae=de)[(Ye=j)+3]))if(Te(Ne,Ae[Ye+6])){for(de=0,Ye=2*(Me=Te(Ne,Ae[Ye+8]))+(Ae=Te(Ne,Ae[Ye+9+Me])),Me=0,Ae=j1[Ye];Ae[de];++de)Me+=Me+Te(Ne,Ae[de]);Me+=3+(8<<Ye)}else Te(Ne,Ae[Ye+7])?(Me=7+2*Te(Ne,165),Me+=Te(Ne,145)):Me=5+Te(Ne,159);else Me=Te(Ne,Ae[Ye+4])?3+Te(Ne,Ae[Ye+5]):2;de=_e[2]}else Me=1,de=_e[1];_e=le+Jp[ee],0>(Ne=_).b&&pe(Ne);var Ye,Ae=Ne.b,Be=(Ye=Ne.Ca>>1)-(Ne.I>>Ae)>>31;--Ne.b,Ne.Ca+=Be,Ne.Ca|=1,Ne.I-=(Ye+1&Be)<<Ae,ie[_e]=((Me^Be)-Be)*G[(0<ee)+0]}return 16}function qo(_){var C=_.rb[_.sb-1];C.la=0,C.Na=0,s(_.zc,0,0,_.zc.length),_.ja=0}function Es(_,C,j,G,ee){ee=_[C+j+32*G]+(ee>>3),_[C+j+32*G]=-256&ee?0>ee?0:255:ee}function es(_,C,j,G,ee,ie){Es(_,C,0,j,G+ee),Es(_,C,1,j,G+ie),Es(_,C,2,j,G-ie),Es(_,C,3,j,G-ee)}function ms(_){return(20091*_>>16)+_}function vl(_,C,j,G){var ee,ie=0,le=i(16);for(ee=0;4>ee;++ee){var de=_[C+0]+_[C+8],_e=_[C+0]-_[C+8],Ne=(35468*_[C+4]>>16)-ms(_[C+12]),Me=ms(_[C+4])+(35468*_[C+12]>>16);le[ie+0]=de+Me,le[ie+1]=_e+Ne,le[ie+2]=_e-Ne,le[ie+3]=de-Me,ie+=4,C++}for(ee=ie=0;4>ee;++ee)de=(_=le[ie+0]+4)+le[ie+8],_e=_-le[ie+8],Ne=(35468*le[ie+4]>>16)-ms(le[ie+12]),Es(j,G,0,0,de+(Me=ms(le[ie+4])+(35468*le[ie+12]>>16))),Es(j,G,1,0,_e+Ne),Es(j,G,2,0,_e-Ne),Es(j,G,3,0,de-Me),ie++,G+=32}function zu(_,C,j,G){var ee=_[C+0]+4,ie=35468*_[C+4]>>16,le=ms(_[C+4]),de=35468*_[C+1]>>16;es(j,G,0,ee+le,_=ms(_[C+1]),de),es(j,G,1,ee+ie,_,de),es(j,G,2,ee-ie,_,de),es(j,G,3,ee-le,_,de)}function Gc(_,C,j,G,ee){vl(_,C,j,G),ee&&vl(_,C+16,j,G+4)}function hi(_,C,j,G){kl(_,C+0,j,G,1),kl(_,C+32,j,G+128,1)}function Wc(_,C,j,G){var ee;for(_=_[C+0]+4,ee=0;4>ee;++ee)for(C=0;4>C;++C)Es(j,G,C,ee,_)}function To(_,C,j,G){_[C+0]&&Tr(_,C+0,j,G),_[C+16]&&Tr(_,C+16,j,G+4),_[C+32]&&Tr(_,C+32,j,G+128),_[C+48]&&Tr(_,C+48,j,G+128+4)}function Gs(_,C,j,G){var ee,ie=i(16);for(ee=0;4>ee;++ee){var le=_[C+0+ee]+_[C+12+ee],de=_[C+4+ee]+_[C+8+ee],_e=_[C+4+ee]-_[C+8+ee],Ne=_[C+0+ee]-_[C+12+ee];ie[0+ee]=le+de,ie[8+ee]=le-de,ie[4+ee]=Ne+_e,ie[12+ee]=Ne-_e}for(ee=0;4>ee;++ee)le=(_=ie[0+4*ee]+3)+ie[3+4*ee],de=ie[1+4*ee]+ie[2+4*ee],_e=ie[1+4*ee]-ie[2+4*ee],Ne=_-ie[3+4*ee],j[G+0]=le+de>>3,j[G+16]=Ne+_e>>3,j[G+32]=le-de>>3,j[G+48]=Ne-_e>>3,G+=64}function Ho(_,C,j){var G,ee=C-32,ie=Li,le=255-_[ee-1];for(G=0;G<j;++G){var de,_e=ie,Ne=le+_[C-1];for(de=0;de<j;++de)_[C+de]=_e[Ne+_[ee+de]];C+=32}}function $c(_,C){Ho(_,C,4)}function Kc(_,C){Ho(_,C,8)}function tc(_,C){Ho(_,C,16)}function nc(_,C){var j;for(j=0;16>j;++j)r(_,C+32*j,_,C-32,16)}function Eo(_,C){var j;for(j=16;0<j;--j)s(_,C,_[C-1],16),C+=32}function Pi(_,C,j){var G;for(G=0;16>G;++G)s(C,j+32*G,_,16)}function Pa(_,C){var j,G=16;for(j=0;16>j;++j)G+=_[C-1+32*j]+_[C+j-32];Pi(G>>5,_,C)}function So(_,C){var j,G=8;for(j=0;16>j;++j)G+=_[C-1+32*j];Pi(G>>4,_,C)}function Di(_,C){var j,G=8;for(j=0;16>j;++j)G+=_[C+j-32];Pi(G>>4,_,C)}function zo(_,C){Pi(128,_,C)}function yn(_,C,j){return _+2*C+j+2>>2}function _l(_,C){var j,G=C-32;for(G=new Uint8Array([yn(_[G-1],_[G+0],_[G+1]),yn(_[G+0],_[G+1],_[G+2]),yn(_[G+1],_[G+2],_[G+3]),yn(_[G+2],_[G+3],_[G+4])]),j=0;4>j;++j)r(_,C+32*j,G,0,G.length)}function rc(_,C){var j=_[C-1],G=_[C-1+32],ee=_[C-1+64],ie=_[C-1+96];je(_,C+0,16843009*yn(_[C-1-32],j,G)),je(_,C+32,16843009*yn(j,G,ee)),je(_,C+64,16843009*yn(G,ee,ie)),je(_,C+96,16843009*yn(ee,ie,ie))}function Go(_,C){var j,G=4;for(j=0;4>j;++j)G+=_[C+j-32]+_[C-1+32*j];for(G>>=3,j=0;4>j;++j)s(_,C+32*j,G,4)}function Ws(_,C){var j=_[C-1+0],G=_[C-1+32],ee=_[C-1+64],ie=_[C-1-32],le=_[C+0-32],de=_[C+1-32],_e=_[C+2-32],Ne=_[C+3-32];_[C+0+96]=yn(G,ee,_[C-1+96]),_[C+1+96]=_[C+0+64]=yn(j,G,ee),_[C+2+96]=_[C+1+64]=_[C+0+32]=yn(ie,j,G),_[C+3+96]=_[C+2+64]=_[C+1+32]=_[C+0+0]=yn(le,ie,j),_[C+3+64]=_[C+2+32]=_[C+1+0]=yn(de,le,ie),_[C+3+32]=_[C+2+0]=yn(_e,de,le),_[C+3+0]=yn(Ne,_e,de)}function Ps(_,C){var j=_[C+1-32],G=_[C+2-32],ee=_[C+3-32],ie=_[C+4-32],le=_[C+5-32],de=_[C+6-32],_e=_[C+7-32];_[C+0+0]=yn(_[C+0-32],j,G),_[C+1+0]=_[C+0+32]=yn(j,G,ee),_[C+2+0]=_[C+1+32]=_[C+0+64]=yn(G,ee,ie),_[C+3+0]=_[C+2+32]=_[C+1+64]=_[C+0+96]=yn(ee,ie,le),_[C+3+32]=_[C+2+64]=_[C+1+96]=yn(ie,le,de),_[C+3+64]=_[C+2+96]=yn(le,de,_e),_[C+3+96]=yn(de,_e,_e)}function bl(_,C){var j=_[C-1+0],G=_[C-1+32],ee=_[C-1+64],ie=_[C-1-32],le=_[C+0-32],de=_[C+1-32],_e=_[C+2-32],Ne=_[C+3-32];_[C+0+0]=_[C+1+64]=ie+le+1>>1,_[C+1+0]=_[C+2+64]=le+de+1>>1,_[C+2+0]=_[C+3+64]=de+_e+1>>1,_[C+3+0]=_e+Ne+1>>1,_[C+0+96]=yn(ee,G,j),_[C+0+64]=yn(G,j,ie),_[C+0+32]=_[C+1+96]=yn(j,ie,le),_[C+1+32]=_[C+2+96]=yn(ie,le,de),_[C+2+32]=_[C+3+96]=yn(le,de,_e),_[C+3+32]=yn(de,_e,Ne)}function Ar(_,C){var j=_[C+0-32],G=_[C+1-32],ee=_[C+2-32],ie=_[C+3-32],le=_[C+4-32],de=_[C+5-32],_e=_[C+6-32],Ne=_[C+7-32];_[C+0+0]=j+G+1>>1,_[C+1+0]=_[C+0+64]=G+ee+1>>1,_[C+2+0]=_[C+1+64]=ee+ie+1>>1,_[C+3+0]=_[C+2+64]=ie+le+1>>1,_[C+0+32]=yn(j,G,ee),_[C+1+32]=_[C+0+96]=yn(G,ee,ie),_[C+2+32]=_[C+1+96]=yn(ee,ie,le),_[C+3+32]=_[C+2+96]=yn(ie,le,de),_[C+3+64]=yn(le,de,_e),_[C+3+96]=yn(de,_e,Ne)}function $i(_,C){var j=_[C-1+0],G=_[C-1+32],ee=_[C-1+64],ie=_[C-1+96];_[C+0+0]=j+G+1>>1,_[C+2+0]=_[C+0+32]=G+ee+1>>1,_[C+2+32]=_[C+0+64]=ee+ie+1>>1,_[C+1+0]=yn(j,G,ee),_[C+3+0]=_[C+1+32]=yn(G,ee,ie),_[C+3+32]=_[C+1+64]=yn(ee,ie,ie),_[C+3+64]=_[C+2+64]=_[C+0+96]=_[C+1+96]=_[C+2+96]=_[C+3+96]=ie}function wl(_,C){var j=_[C-1+0],G=_[C-1+32],ee=_[C-1+64],ie=_[C-1+96],le=_[C-1-32],de=_[C+0-32],_e=_[C+1-32],Ne=_[C+2-32];_[C+0+0]=_[C+2+32]=j+le+1>>1,_[C+0+32]=_[C+2+64]=G+j+1>>1,_[C+0+64]=_[C+2+96]=ee+G+1>>1,_[C+0+96]=ie+ee+1>>1,_[C+3+0]=yn(de,_e,Ne),_[C+2+0]=yn(le,de,_e),_[C+1+0]=_[C+3+32]=yn(j,le,de),_[C+1+32]=_[C+3+64]=yn(G,j,le),_[C+1+64]=_[C+3+96]=yn(ee,G,j),_[C+1+96]=yn(ie,ee,G)}function Da(_,C){var j;for(j=0;8>j;++j)r(_,C+32*j,_,C-32,8)}function Yc(_,C){var j;for(j=0;8>j;++j)s(_,C,_[C-1],8),C+=32}function Ki(_,C,j){var G;for(G=0;8>G;++G)s(C,j+32*G,_,8)}function Ao(_,C){var j,G=8;for(j=0;8>j;++j)G+=_[C+j-32]+_[C-1+32*j];Ki(G>>4,_,C)}function Yi(_,C){var j,G=4;for(j=0;8>j;++j)G+=_[C+j-32];Ki(G>>3,_,C)}function Ss(_,C){var j,G=4;for(j=0;8>j;++j)G+=_[C-1+32*j];Ki(G>>3,_,C)}function Ka(_,C){Ki(128,_,C)}function ti(_,C,j){var G=_[C-j],ee=_[C+0],ie=3*(ee-G)+Rl[1020+_[C-2*j]-_[C+j]],le=md[112+(ie+4>>3)];_[C-j]=Li[255+G+md[112+(ie+3>>3)]],_[C+0]=Li[255+ee-le]}function Ya(_,C,j,G){var ee=_[C+0],ie=_[C+j];return xi[255+_[C-2*j]-_[C-j]]>G||xi[255+ie-ee]>G}function Wo(_,C,j,G){return 4*xi[255+_[C-j]-_[C+0]]+xi[255+_[C-2*j]-_[C+j]]<=G}function Xa(_,C,j,G,ee){var ie=_[C-3*j],le=_[C-2*j],de=_[C-j],_e=_[C+0],Ne=_[C+j],Me=_[C+2*j],Ye=_[C+3*j];return 4*xi[255+de-_e]+xi[255+le-Ne]>G?0:xi[255+_[C-4*j]-ie]<=ee&&xi[255+ie-le]<=ee&&xi[255+le-de]<=ee&&xi[255+Ye-Me]<=ee&&xi[255+Me-Ne]<=ee&&xi[255+Ne-_e]<=ee}function Ja(_,C,j,G){var ee=2*G+1;for(G=0;16>G;++G)Wo(_,C+G,j,ee)&&ti(_,C+G,j)}function fa(_,C,j,G){var ee=2*G+1;for(G=0;16>G;++G)Wo(_,C+G*j,1,ee)&&ti(_,C+G*j,1)}function Tl(_,C,j,G){var ee;for(ee=3;0<ee;--ee)Ja(_,C+=4*j,j,G)}function sc(_,C,j,G){var ee;for(ee=3;0<ee;--ee)fa(_,C+=4,j,G)}function Xi(_,C,j,G,ee,ie,le,de){for(ie=2*ie+1;0<ee--;){if(Xa(_,C,j,ie,le))if(Ya(_,C,j,de))ti(_,C,j);else{var _e=_,Ne=C,Me=j,Ye=_e[Ne-2*Me],Ae=_e[Ne-Me],Be=_e[Ne+0],Ge=_e[Ne+Me],lt=_e[Ne+2*Me],We=27*(ft=Rl[1020+3*(Be-Ae)+Rl[1020+Ye-Ge]])+63>>7,at=18*ft+63>>7,ft=9*ft+63>>7;_e[Ne-3*Me]=Li[255+_e[Ne-3*Me]+ft],_e[Ne-2*Me]=Li[255+Ye+at],_e[Ne-Me]=Li[255+Ae+We],_e[Ne+0]=Li[255+Be-We],_e[Ne+Me]=Li[255+Ge-at],_e[Ne+2*Me]=Li[255+lt-ft]}C+=G}}function Qa(_,C,j,G,ee,ie,le,de){for(ie=2*ie+1;0<ee--;){if(Xa(_,C,j,ie,le))if(Ya(_,C,j,de))ti(_,C,j);else{var _e=_,Ne=C,Me=j,Ye=_e[Ne-Me],Ae=_e[Ne+0],Be=_e[Ne+Me],Ge=md[112+(4+(lt=3*(Ae-Ye))>>3)],lt=md[112+(lt+3>>3)],We=Ge+1>>1;_e[Ne-2*Me]=Li[255+_e[Ne-2*Me]+We],_e[Ne-Me]=Li[255+Ye+lt],_e[Ne+0]=Li[255+Ae-Ge],_e[Ne+Me]=Li[255+Be-We]}C+=G}}function Xc(_,C,j,G,ee,ie){Xi(_,C,j,1,16,G,ee,ie)}function Ma(_,C,j,G,ee,ie){Xi(_,C,1,j,16,G,ee,ie)}function ic(_,C,j,G,ee,ie){var le;for(le=3;0<le;--le)Qa(_,C+=4*j,j,1,16,G,ee,ie)}function F(_,C,j,G,ee,ie){var le;for(le=3;0<le;--le)Qa(_,C+=4,1,j,16,G,ee,ie)}function Z(_,C,j,G,ee,ie,le,de){Xi(_,C,ee,1,8,ie,le,de),Xi(j,G,ee,1,8,ie,le,de)}function Ce(_,C,j,G,ee,ie,le,de){Xi(_,C,1,ee,8,ie,le,de),Xi(j,G,1,ee,8,ie,le,de)}function De(_,C,j,G,ee,ie,le,de){Qa(_,C+4*ee,ee,1,8,ie,le,de),Qa(j,G+4*ee,ee,1,8,ie,le,de)}function Ue(_,C,j,G,ee,ie,le,de){Qa(_,C+4,1,ee,8,ie,le,de),Qa(j,G+4,1,ee,8,ie,le,de)}function ct(){this.ba=new cn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Ln,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function yt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Kt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function en(){this.ua=0,this.Wa=new it,this.vb=new it,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Se,this.yc=new H}function _n(){this.xb=this.a=0,this.l=new ei,this.ca=new cn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new J,this.Pb=0,this.wd=new J,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new en,this.ab=0,this.gc=a(4,Kt),this.Oc=0}function gn(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new ei,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function er(_,C,j,G,ee,ie,le){for(_=_==null?0:_[C+0],C=0;C<le;++C)ee[ie+C]=_+j[G+C]&255,_=ee[ie+C]}function zr(_,C,j,G,ee,ie,le){var de;if(_==null)er(null,null,j,G,ee,ie,le);else for(de=0;de<le;++de)ee[ie+de]=_[C+de]+j[G+de]&255}function Mr(_,C,j,G,ee,ie,le){if(_==null)er(null,null,j,G,ee,ie,le);else{var de,_e=_[C+0],Ne=_e,Me=_e;for(de=0;de<le;++de)Ne=Me+(_e=_[C+de])-Ne,Me=j[G+de]+(-256&Ne?0>Ne?0:255:Ne)&255,Ne=_e,ee[ie+de]=Me}}function w(_,C,j,G){var ee=C.width,ie=C.o;if(e(_!=null&&C!=null),0>j||0>=G||j+G>ie)return null;if(!_.Cc){if(_.ga==null){var le;if(_.ga=new gn,(le=_.ga==null)||(le=C.width*C.o,e(_.Gb.length==0),_.Gb=i(le),_.Uc=0,_.Gb==null?le=0:(_.mb=_.Gb,_.nb=_.Uc,_.rc=null,le=1),le=!le),!le){le=_.ga;var de=_.Fa,_e=_.P,Ne=_.qc,Me=_.mb,Ye=_.nb,Ae=_e+1,Be=Ne-1,Ge=le.l;if(e(de!=null&&Me!=null&&C!=null),Pl[0]=null,Pl[1]=er,Pl[2]=zr,Pl[3]=Mr,le.ca=Me,le.tb=Ye,le.c=C.width,le.i=C.height,e(0<le.c&&0<le.i),1>=Ne)C=0;else if(le.$a=3&de[_e+0],le.Z=de[_e+0]>>2&3,le.Lc=de[_e+0]>>4&3,_e=de[_e+0]>>6&3,0>le.$a||1<le.$a||4<=le.Z||1<le.Lc||_e)C=0;else if(Ge.put=un,Ge.ac=Hr,Ge.bc=Le,Ge.ma=le,Ge.width=C.width,Ge.height=C.height,Ge.Da=C.Da,Ge.v=C.v,Ge.va=C.va,Ge.j=C.j,Ge.o=C.o,le.$a)e:{e(le.$a==1),C=Oe();t:for(;;){if(C==null){C=0;break e}if(e(le!=null),le.mc=C,C.c=le.c,C.i=le.i,C.l=le.l,C.l.ma=le,C.l.width=le.c,C.l.height=le.i,C.a=0,xe(C.m,de,Ae,Be),!He(le.c,le.i,1,C,null)||(C.ab==1&&C.gc[0].hc==3&&ge(C.s)?(le.ic=1,de=C.c*C.i,C.Ta=null,C.Ua=0,C.V=i(de),C.Ba=0,C.V==null?(C.a=1,C=0):C=1):(le.ic=0,C=Ke(C,le.c)),!C))break t;C=1;break e}le.mc=null,C=0}else C=Be>=le.c*le.i;le=!C}if(le)return null;_.ga.Lc!=1?_.Ga=0:G=ie-j}e(_.ga!=null),e(j+G<=ie);e:{if(C=(de=_.ga).c,ie=de.l.o,de.$a==0){if(Ae=_.rc,Be=_.Vc,Ge=_.Fa,_e=_.P+1+j*C,Ne=_.mb,Me=_.nb+j*C,e(_e<=_.P+_.qc),de.Z!=0)for(e(Pl[de.Z]!=null),le=0;le<G;++le)Pl[de.Z](Ae,Be,Ge,_e,Ne,Me,C),Ae=Ne,Be=Me,Me+=C,_e+=C;else for(le=0;le<G;++le)r(Ne,Me,Ge,_e,C),Ae=Ne,Be=Me,Me+=C,_e+=C;_.rc=Ae,_.Vc=Be}else{if(e(de.mc!=null),C=j+G,e((le=de.mc)!=null),e(C<=le.i),le.C>=C)C=1;else if(de.ic||Qe(),de.ic){de=le.V,Ae=le.Ba,Be=le.c;var lt=le.i,We=(Ge=1,_e=le.$/Be,Ne=le.$%Be,Me=le.m,Ye=le.s,le.$),at=Be*lt,ft=Be*C,Tt=Ye.wc,xt=We<ft?te(Ye,Ne,_e):null;e(We<=at),e(C<=lt),e(ge(Ye));t:for(;;){for(;!Me.h&&We<ft;){if(Ne&Tt||(xt=te(Ye,Ne,_e)),e(xt!=null),ye(Me),256>(lt=Yt(xt.G[0],xt.H[0],Me)))de[Ae+We]=lt,++We,++Ne>=Be&&(Ne=0,++_e<=C&&!(_e%16)&&Ee(le,_e));else{if(!(280>lt)){Ge=0;break t}lt=Vt(lt-256,Me);var tn,Ht=Yt(xt.G[4],xt.H[4],Me);if(ye(Me),!(We>=(Ht=$n(Be,Ht=Vt(Ht,Me)))&&at-We>=lt)){Ge=0;break t}for(tn=0;tn<lt;++tn)de[Ae+We+tn]=de[Ae+We+tn-Ht];for(We+=lt,Ne+=lt;Ne>=Be;)Ne-=Be,++_e<=C&&!(_e%16)&&Ee(le,_e);We<ft&&Ne&Tt&&(xt=te(Ye,Ne,_e))}e(Me.h==Y(Me))}Ee(le,_e>C?C:_e);break t}!Ge||Me.h&&We<at?(Ge=0,le.a=Me.h?5:3):le.$=We,C=Ge}else C=Ve(le,le.V,le.Ba,le.c,le.i,C,_t);if(!C){G=0;break e}}j+G>=ie&&(_.Cc=1),G=1}if(!G)return null;if(_.Cc&&((G=_.ga)!=null&&(G.mc=null),_.ga=null,0<_.Ga))return alert("todo:WebPDequantizeLevels"),null}return _.nb+j*ee}function z(_,C,j,G,ee,ie){for(;0<ee--;){var le,de=_,_e=C+(j?1:0),Ne=_,Me=C+(j?0:3);for(le=0;le<G;++le){var Ye=Ne[Me+4*le];Ye!=255&&(Ye*=32897,de[_e+4*le+0]=de[_e+4*le+0]*Ye>>23,de[_e+4*le+1]=de[_e+4*le+1]*Ye>>23,de[_e+4*le+2]=de[_e+4*le+2]*Ye>>23)}C+=ie}}function Q(_,C,j,G,ee){for(;0<G--;){var ie;for(ie=0;ie<j;++ie){var le=_[C+2*ie+0],de=15&(Ne=_[C+2*ie+1]),_e=4369*de,Ne=(240&Ne|Ne>>4)*_e>>16;_[C+2*ie+0]=(240&le|le>>4)*_e>>16&240|(15&le|le<<4)*_e>>16>>4&15,_[C+2*ie+1]=240&Ne|de}C+=ee}}function me(_,C,j,G,ee,ie,le,de){var _e,Ne,Me=255;for(Ne=0;Ne<ee;++Ne){for(_e=0;_e<G;++_e){var Ye=_[C+_e];ie[le+4*_e]=Ye,Me&=Ye}C+=j,le+=de}return Me!=255}function ze(_,C,j,G,ee){var ie;for(ie=0;ie<ee;++ie)j[G+ie]=_[C+ie]>>8}function Qe(){Zc=z,eo=Q,dd=me,Ba=ze}function It(_,C,j){R[_]=function(G,ee,ie,le,de,_e,Ne,Me,Ye,Ae,Be,Ge,lt,We,at,ft,Tt){var xt,tn=Tt-1>>1,Ht=de[_e+0]|Ne[Me+0]<<16,Pn=Ye[Ae+0]|Be[Ge+0]<<16;e(G!=null);var Xt=3*Ht+Pn+131074>>2;for(C(G[ee+0],255&Xt,Xt>>16,lt,We),ie!=null&&(Xt=3*Pn+Ht+131074>>2,C(ie[le+0],255&Xt,Xt>>16,at,ft)),xt=1;xt<=tn;++xt){var tr=de[_e+xt]|Ne[Me+xt]<<16,ns=Ye[Ae+xt]|Be[Ge+xt]<<16,Bn=Ht+tr+Pn+ns+524296,zt=Bn+2*(tr+Pn)>>3;Xt=zt+Ht>>1,Ht=(Bn=Bn+2*(Ht+ns)>>3)+tr>>1,C(G[ee+2*xt-1],255&Xt,Xt>>16,lt,We+(2*xt-1)*j),C(G[ee+2*xt-0],255&Ht,Ht>>16,lt,We+(2*xt-0)*j),ie!=null&&(Xt=Bn+Pn>>1,Ht=zt+ns>>1,C(ie[le+2*xt-1],255&Xt,Xt>>16,at,ft+(2*xt-1)*j),C(ie[le+2*xt+0],255&Ht,Ht>>16,at,ft+(2*xt+0)*j)),Ht=tr,Pn=ns}1&Tt||(Xt=3*Ht+Pn+131074>>2,C(G[ee+Tt-1],255&Xt,Xt>>16,lt,We+(Tt-1)*j),ie!=null&&(Xt=3*Pn+Ht+131074>>2,C(ie[le+Tt-1],255&Xt,Xt>>16,at,ft+(Tt-1)*j)))}}function In(){vi[Fh]=nu,vi[Fi]=Zu,vi[Oh]=Zp,vi[to]=qh,vi[gd]=uc,vi[Xu]=tl,vi[oc]=fc,vi[xd]=Zu,vi[Bh]=qh,vi[Ju]=uc,vi[Vh]=tl}function Gr(_){return _&-16384?0>_?0:255:_>>Hh}function Yn(_,C){return Gr((19077*_>>8)+(26149*C>>8)-14234)}function Cr(_,C,j){return Gr((19077*_>>8)-(6419*C>>8)-(13320*j>>8)+8708)}function ni(_,C){return Gr((19077*_>>8)+(33050*C>>8)-17685)}function pi(_,C,j,G,ee){G[ee+0]=Yn(_,j),G[ee+1]=Cr(_,C,j),G[ee+2]=ni(_,C)}function Fr(_,C,j,G,ee){G[ee+0]=ni(_,C),G[ee+1]=Cr(_,C,j),G[ee+2]=Yn(_,j)}function mi(_,C,j,G,ee){var ie=Cr(_,C,j);C=ie<<3&224|ni(_,C)>>3,G[ee+0]=248&Yn(_,j)|ie>>5,G[ee+1]=C}function La(_,C,j,G,ee){var ie=240&ni(_,C)|15;G[ee+0]=240&Yn(_,j)|Cr(_,C,j)>>4,G[ee+1]=ie}function $o(_,C,j,G,ee){G[ee+0]=255,pi(_,C,j,G,ee+1)}function Ko(_,C,j,G,ee){Fr(_,C,j,G,ee),G[ee+3]=255}function Ji(_,C,j,G,ee){pi(_,C,j,G,ee),G[ee+3]=255}function El(_,C,j){R[_]=function(G,ee,ie,le,de,_e,Ne,Me,Ye){for(var Ae=Me+(-2&Ye)*j;Me!=Ae;)C(G[ee+0],ie[le+0],de[_e+0],Ne,Me),C(G[ee+1],ie[le+0],de[_e+0],Ne,Me+j),ee+=2,++le,++_e,Me+=2*j;1&Ye&&C(G[ee+0],ie[le+0],de[_e+0],Ne,Me)}}function Gu(_,C,j){return j==0?_==0?C==0?6:5:C==0?4:0:j}function cd(_,C,j,G,ee){switch(_>>>30){case 3:kl(C,j,G,ee,0);break;case 2:Mi(C,j,G,ee);break;case 1:Tr(C,j,G,ee)}}function Fa(_,C){var j,G,ee=C.M,ie=C.Nb,le=_.oc,de=_.pc+40,_e=_.oc,Ne=_.pc+584,Me=_.oc,Ye=_.pc+600;for(j=0;16>j;++j)le[de+32*j-1]=129;for(j=0;8>j;++j)_e[Ne+32*j-1]=129,Me[Ye+32*j-1]=129;for(0<ee?le[de-1-32]=_e[Ne-1-32]=Me[Ye-1-32]=129:(s(le,de-32-1,127,21),s(_e,Ne-32-1,127,9),s(Me,Ye-32-1,127,9)),G=0;G<_.za;++G){var Ae=C.ya[C.aa+G];if(0<G){for(j=-1;16>j;++j)r(le,de+32*j-4,le,de+32*j+12,4);for(j=-1;8>j;++j)r(_e,Ne+32*j-4,_e,Ne+32*j+4,4),r(Me,Ye+32*j-4,Me,Ye+32*j+4,4)}var Be=_.Gd,Ge=_.Hd+G,lt=Ae.ad,We=Ae.Hc;if(0<ee&&(r(le,de-32,Be[Ge].y,0,16),r(_e,Ne-32,Be[Ge].f,0,8),r(Me,Ye-32,Be[Ge].ea,0,8)),Ae.Za){var at=le,ft=de-32+16;for(0<ee&&(G>=_.za-1?s(at,ft,Be[Ge].y[15],4):r(at,ft,Be[Ge+1].y,0,4)),j=0;4>j;j++)at[ft+128+j]=at[ft+256+j]=at[ft+384+j]=at[ft+0+j];for(j=0;16>j;++j,We<<=2)at=le,ft=de+Ns[j],gs[Ae.Ob[j]](at,ft),cd(We,lt,16*+j,at,ft)}else if(at=Gu(G,ee,Ae.Ob[0]),Zi[at](le,de),We!=0)for(j=0;16>j;++j,We<<=2)cd(We,lt,16*+j,le,de+Ns[j]);for(j=Ae.Gc,at=Gu(G,ee,Ae.Dd),ko[at](_e,Ne),ko[at](Me,Ye),We=lt,at=_e,ft=Ne,255&(Ae=0|j)&&(170&Ae?Za(We,256,at,ft):fr(We,256,at,ft)),Ae=Me,We=Ye,255&(j>>=8)&&(170&j?Za(lt,320,Ae,We):fr(lt,320,Ae,We)),ee<_.Ub-1&&(r(Be[Ge].y,0,le,de+480,16),r(Be[Ge].f,0,_e,Ne+224,8),r(Be[Ge].ea,0,Me,Ye+224,8)),j=8*ie*_.B,Be=_.sa,Ge=_.ta+16*G+16*ie*_.R,lt=_.qa,Ae=_.ra+8*G+j,We=_.Ha,at=_.Ia+8*G+j,j=0;16>j;++j)r(Be,Ge+j*_.R,le,de+32*j,16);for(j=0;8>j;++j)r(lt,Ae+j*_.B,_e,Ne+32*j,8),r(We,at+j*_.B,Me,Ye+32*j,8)}}function Co(_,C,j,G,ee,ie,le,de,_e){var Ne=[0],Me=[0],Ye=0,Ae=_e!=null?_e.kd:0,Be=_e??new yt;if(_==null||12>j)return 7;Be.data=_,Be.w=C,Be.ha=j,C=[C],j=[j],Be.gb=[Be.gb];e:{var Ge=C,lt=j,We=Be.gb;if(e(_!=null),e(lt!=null),e(We!=null),We[0]=0,12<=lt[0]&&!n(_,Ge[0],"RIFF")){if(n(_,Ge[0]+8,"WEBP")){We=3;break e}var at=pt(_,Ge[0]+4);if(12>at||4294967286<at){We=3;break e}if(Ae&&at>lt[0]-8){We=7;break e}We[0]=at,Ge[0]+=12,lt[0]-=12}We=0}if(We!=0)return We;for(at=0<Be.gb[0],j=j[0];;){e:{var ft=_;lt=C,We=j;var Tt=Ne,xt=Me,tn=Ge=[0];if((Xt=Ye=[Ye])[0]=0,8>We[0])We=7;else{if(!n(ft,lt[0],"VP8X")){if(pt(ft,lt[0]+4)!=10){We=3;break e}if(18>We[0]){We=7;break e}var Ht=pt(ft,lt[0]+8),Pn=1+dt(ft,lt[0]+12);if(2147483648<=Pn*(ft=1+dt(ft,lt[0]+15))){We=3;break e}tn!=null&&(tn[0]=Ht),Tt!=null&&(Tt[0]=Pn),xt!=null&&(xt[0]=ft),lt[0]+=18,We[0]-=18,Xt[0]=1}We=0}}if(Ye=Ye[0],Ge=Ge[0],We!=0)return We;if(lt=!!(2&Ge),!at&&Ye)return 3;if(ie!=null&&(ie[0]=!!(16&Ge)),le!=null&&(le[0]=lt),de!=null&&(de[0]=0),le=Ne[0],Ge=Me[0],Ye&&lt&&_e==null){We=0;break}if(4>j){We=7;break}if(at&&Ye||!at&&!Ye&&!n(_,C[0],"ALPH")){j=[j],Be.na=[Be.na],Be.P=[Be.P],Be.Sa=[Be.Sa];e:{Ht=_,We=C,at=j;var Xt=Be.gb;Tt=Be.na,xt=Be.P,tn=Be.Sa,Pn=22,e(Ht!=null),e(at!=null),ft=We[0];var tr=at[0];for(e(Tt!=null),e(tn!=null),Tt[0]=null,xt[0]=null,tn[0]=0;;){if(We[0]=ft,at[0]=tr,8>tr){We=7;break e}var ns=pt(Ht,ft+4);if(4294967286<ns){We=3;break e}var Bn=8+ns+1&-2;if(Pn+=Bn,0<Xt&&Pn>Xt){We=3;break e}if(!n(Ht,ft,"VP8 ")||!n(Ht,ft,"VP8L")){We=0;break e}if(tr[0]<Bn){We=7;break e}n(Ht,ft,"ALPH")||(Tt[0]=Ht,xt[0]=ft+8,tn[0]=ns),ft+=Bn,tr-=Bn}}if(j=j[0],Be.na=Be.na[0],Be.P=Be.P[0],Be.Sa=Be.Sa[0],We!=0)break}j=[j],Be.Ja=[Be.Ja],Be.xa=[Be.xa];e:if(Xt=_,We=C,at=j,Tt=Be.gb[0],xt=Be.Ja,tn=Be.xa,Ht=We[0],ft=!n(Xt,Ht,"VP8 "),Pn=!n(Xt,Ht,"VP8L"),e(Xt!=null),e(at!=null),e(xt!=null),e(tn!=null),8>at[0])We=7;else{if(ft||Pn){if(Xt=pt(Xt,Ht+4),12<=Tt&&Xt>Tt-12){We=3;break e}if(Ae&&Xt>at[0]-8){We=7;break e}xt[0]=Xt,We[0]+=8,at[0]-=8,tn[0]=Pn}else tn[0]=5<=at[0]&&Xt[Ht+0]==47&&!(Xt[Ht+4]>>5),xt[0]=at[0];We=0}if(j=j[0],Be.Ja=Be.Ja[0],Be.xa=Be.xa[0],C=C[0],We!=0)break;if(4294967286<Be.Ja)return 3;if(de==null||lt||(de[0]=Be.xa?2:1),le=[le],Ge=[Ge],Be.xa){if(5>j){We=7;break}de=le,Ae=Ge,lt=ie,_==null||5>j?_=0:5<=j&&_[C+0]==47&&!(_[C+4]>>5)?(at=[0],Xt=[0],Tt=[0],xe(xt=new J,_,C,j),Dt(xt,at,Xt,Tt)?(de!=null&&(de[0]=at[0]),Ae!=null&&(Ae[0]=Xt[0]),lt!=null&&(lt[0]=Tt[0]),_=1):_=0):_=0}else{if(10>j){We=7;break}de=Ge,_==null||10>j||!wo(_,C+3,j-3)?_=0:(Ae=_[C+0]|_[C+1]<<8|_[C+2]<<16,lt=16383&(_[C+7]<<8|_[C+6]),_=16383&(_[C+9]<<8|_[C+8]),1&Ae||3<(Ae>>1&7)||!(Ae>>4&1)||Ae>>5>=Be.Ja||!lt||!_?_=0:(le&&(le[0]=lt),de&&(de[0]=_),_=1))}if(!_||(le=le[0],Ge=Ge[0],Ye&&(Ne[0]!=le||Me[0]!=Ge)))return 3;_e!=null&&(_e[0]=Be,_e.offset=C-_e.w,e(4294967286>C-_e.w),e(_e.offset==_e.ha-j));break}return We==0||We==7&&Ye&&_e==null?(ie!=null&&(ie[0]|=Be.na!=null&&0<Be.na.length),G!=null&&(G[0]=le),ee!=null&&(ee[0]=Ge),0):We}function Sl(_,C,j){var G=C.width,ee=C.height,ie=0,le=0,de=G,_e=ee;if(C.Da=_!=null&&0<_.Da,C.Da&&(de=_.cd,_e=_.bd,ie=_.v,le=_.j,11>j||(ie&=-2,le&=-2),0>ie||0>le||0>=de||0>=_e||ie+de>G||le+_e>ee))return 0;if(C.v=ie,C.j=le,C.va=ie+de,C.o=le+_e,C.U=de,C.T=_e,C.da=_!=null&&0<_.da,C.da){if(!Pt(de,_e,j=[_.ib],ie=[_.hb]))return 0;C.ib=j[0],C.hb=ie[0]}return C.ob=_!=null&&_.ob,C.Kb=_==null||!_.Sd,C.da&&(C.ob=C.ib<3*G/4&&C.hb<3*ee/4,C.Kb=0),1}function ud(_){if(_==null)return 2;if(11>_.S){var C=_.f.RGBA;C.fb+=(_.height-1)*C.A,C.A=-C.A}else C=_.f.kb,_=_.height,C.O+=(_-1)*C.fa,C.fa=-C.fa,C.N+=(_-1>>1)*C.Ab,C.Ab=-C.Ab,C.W+=(_-1>>1)*C.Db,C.Db=-C.Db,C.F!=null&&(C.J+=(_-1)*C.lb,C.lb=-C.lb);return 0}function No(_,C,j,G){if(G==null||0>=_||0>=C)return 2;if(j!=null){if(j.Da){var ee=j.cd,ie=j.bd,le=-2&j.v,de=-2&j.j;if(0>le||0>de||0>=ee||0>=ie||le+ee>_||de+ie>C)return 2;_=ee,C=ie}if(j.da){if(!Pt(_,C,ee=[j.ib],ie=[j.hb]))return 2;_=ee[0],C=ie[0]}}G.width=_,G.height=C;e:{var _e=G.width,Ne=G.height;if(_=G.S,0>=_e||0>=Ne||!(_>=Fh&&13>_))_=2;else{if(0>=G.Rd&&G.sd==null){le=ie=ee=C=0;var Me=(de=_e*Gh[_])*Ne;if(11>_||(ie=(Ne+1)/2*(C=(_e+1)/2),_==12&&(le=(ee=_e)*Ne)),(Ne=i(Me+2*ie+le))==null){_=1;break e}G.sd=Ne,11>_?((_e=G.f.RGBA).eb=Ne,_e.fb=0,_e.A=de,_e.size=Me):((_e=G.f.kb).y=Ne,_e.O=0,_e.fa=de,_e.Fd=Me,_e.f=Ne,_e.N=0+Me,_e.Ab=C,_e.Cd=ie,_e.ea=Ne,_e.W=0+Me+ie,_e.Db=C,_e.Ed=ie,_==12&&(_e.F=Ne,_e.J=0+Me+2*ie),_e.Tc=le,_e.lb=ee)}if(C=1,ee=G.S,ie=G.width,le=G.height,ee>=Fh&&13>ee)if(11>ee)_=G.f.RGBA,C&=(de=Math.abs(_.A))*(le-1)+ie<=_.size,C&=de>=ie*Gh[ee],C&=_.eb!=null;else{_=G.f.kb,de=(ie+1)/2,Me=(le+1)/2,_e=Math.abs(_.fa),Ne=Math.abs(_.Ab);var Ye=Math.abs(_.Db),Ae=Math.abs(_.lb),Be=Ae*(le-1)+ie;C&=_e*(le-1)+ie<=_.Fd,C&=Ne*(Me-1)+de<=_.Cd,C=(C&=Ye*(Me-1)+de<=_.Ed)&_e>=ie&Ne>=de&Ye>=de,C&=_.y!=null,C&=_.f!=null,C&=_.ea!=null,ee==12&&(C&=Ae>=ie,C&=Be<=_.Tc,C&=_.F!=null)}else C=0;_=C?0:2}}return _!=0||j!=null&&j.fd&&(_=ud(G)),_}var ac=64,da=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Qi=24,Yo=32,Xo=8,Al=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ct("Predictor0","PredictorAdd0"),R.Predictor0=function(){return 4278190080},R.Predictor1=function(_){return _},R.Predictor2=function(_,C,j){return C[j+0]},R.Predictor3=function(_,C,j){return C[j+1]},R.Predictor4=function(_,C,j){return C[j-1]},R.Predictor5=function(_,C,j){return jt(jt(_,C[j+1]),C[j+0])},R.Predictor6=function(_,C,j){return jt(_,C[j-1])},R.Predictor7=function(_,C,j){return jt(_,C[j+0])},R.Predictor8=function(_,C,j){return jt(C[j-1],C[j+0])},R.Predictor9=function(_,C,j){return jt(C[j+0],C[j+1])},R.Predictor10=function(_,C,j){return jt(jt(_,C[j-1]),jt(C[j+0],C[j+1]))},R.Predictor11=function(_,C,j){var G=C[j+0];return 0>=on(G>>24&255,_>>24&255,(C=C[j-1])>>24&255)+on(G>>16&255,_>>16&255,C>>16&255)+on(G>>8&255,_>>8&255,C>>8&255)+on(255&G,255&_,255&C)?G:_},R.Predictor12=function(_,C,j){var G=C[j+0];return(Qt((_>>24&255)+(G>>24&255)-((C=C[j-1])>>24&255))<<24|Qt((_>>16&255)+(G>>16&255)-(C>>16&255))<<16|Qt((_>>8&255)+(G>>8&255)-(C>>8&255))<<8|Qt((255&_)+(255&G)-(255&C)))>>>0},R.Predictor13=function(_,C,j){var G=C[j-1];return(Zt((_=jt(_,C[j+0]))>>24&255,G>>24&255)<<24|Zt(_>>16&255,G>>16&255)<<16|Zt(_>>8&255,G>>8&255)<<8|Zt(255&_,255&G))>>>0};var Wu=R.PredictorAdd0;R.PredictorAdd1=Sn,Ct("Predictor2","PredictorAdd2"),Ct("Predictor3","PredictorAdd3"),Ct("Predictor4","PredictorAdd4"),Ct("Predictor5","PredictorAdd5"),Ct("Predictor6","PredictorAdd6"),Ct("Predictor7","PredictorAdd7"),Ct("Predictor8","PredictorAdd8"),Ct("Predictor9","PredictorAdd9"),Ct("Predictor10","PredictorAdd10"),Ct("Predictor11","PredictorAdd11"),Ct("Predictor12","PredictorAdd12"),Ct("Predictor13","PredictorAdd13");var $u=R.PredictorAdd2;Et("ColorIndexInverseTransform","MapARGB","32b",function(_){return _>>8&255},function(_){return _}),Et("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(_){return _},function(_){return _>>8&255});var As,Dh=R.ColorIndexInverseTransform,Jo=R.MapARGB,Qo=R.VP8LColorIndexInverseTransformAlpha,gi=R.MapAlpha,Cl=R.VP8LPredictorsAdd=[];Cl.length=16,(R.VP8LPredictors=[]).length=16,(R.VP8LPredictorsAdd_C=[]).length=16,(R.VP8LPredictors_C=[]).length=16;var Ku,Yu,Nl,Il,Zo,Jc,Oa,kl,Mi,Za,Tr,fr,Wr,Cs,el,Io,Qc,fd,Kp,B1,V1,U1,Yp,Xp,Zc,eo,dd,Ba,eu=i(511),Mh=i(2041),hd=i(225),pd=i(767),Lh=0,Rl=Mh,md=hd,Li=pd,xi=eu,Fh=0,Fi=1,Oh=2,to=3,gd=4,Xu=5,oc=6,xd=7,Bh=8,Ju=9,Vh=10,no=[2,3,7],Qu=[3,3,11],tu=[280,256,256,256,40],Uh=[0,1,1,1,0],yd=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],ro=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],so=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],lc=8,io=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],ao=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Va=null,j1=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Jp=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],jh=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],q1=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],yi=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],ts=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],nr=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Zi=[],gs=[],ko=[],cc=1,Qp=2,Pl=[],vi=[];It("UpsampleRgbLinePair",pi,3),It("UpsampleBgrLinePair",Fr,3),It("UpsampleRgbaLinePair",Ji,4),It("UpsampleBgraLinePair",Ko,4),It("UpsampleArgbLinePair",$o,4),It("UpsampleRgba4444LinePair",La,2),It("UpsampleRgb565LinePair",mi,2);var nu=R.UpsampleRgbLinePair,Zp=R.UpsampleBgrLinePair,Zu=R.UpsampleRgbaLinePair,qh=R.UpsampleBgraLinePair,uc=R.UpsampleArgbLinePair,tl=R.UpsampleRgba4444LinePair,fc=R.UpsampleRgb565LinePair,oo=16,ef=1<<oo-1,ru=-227,dc=482,Hh=6,hc=0,_i=i(256),zh=i(256),H1=i(256),Dv=i(256),Mv=i(dc-ru),Lv=i(dc-ru);El("YuvToRgbRow",pi,3),El("YuvToBgrRow",Fr,3),El("YuvToRgbaRow",Ji,4),El("YuvToBgraRow",Ko,4),El("YuvToArgbRow",$o,4),El("YuvToRgba4444Row",La,2),El("YuvToRgb565Row",mi,2);var Ns=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],tf=[0,2,8],vd=[8,7,6,4,4,2,2,2,1,1,1,1],_d=1;this.WebPDecodeRGBA=function(_,C,j,G,ee){var ie=Fi,le=new ct,de=new cn;le.ba=de,de.S=ie,de.width=[de.width],de.height=[de.height];var _e=de.width,Ne=de.height,Me=new Wt;if(Me==null||_==null)var Ye=2;else e(Me!=null),Ye=Co(_,C,j,Me.width,Me.height,Me.Pd,Me.Qd,Me.format,null);if(Ye!=0?_e=0:(_e!=null&&(_e[0]=Me.width[0]),Ne!=null&&(Ne[0]=Me.height[0]),_e=1),_e){de.width=de.width[0],de.height=de.height[0],G!=null&&(G[0]=de.width),ee!=null&&(ee[0]=de.height);e:{if(G=new ei,(ee=new yt).data=_,ee.w=C,ee.ha=j,ee.kd=1,C=[0],e(ee!=null),((_=Co(ee.data,ee.w,ee.ha,null,null,null,C,null,ee))==0||_==7)&&C[0]&&(_=4),(C=_)==0){if(e(le!=null),G.data=ee.data,G.w=ee.w+ee.offset,G.ha=ee.ha-ee.offset,G.put=un,G.ac=Hr,G.bc=Le,G.ma=le,ee.xa){if((_=Oe())==null){le=1;break e}if((function(Ae,Be){var Ge=[0],lt=[0],We=[0];t:for(;;){if(Ae==null)return 0;if(Be==null)return Ae.a=2,0;if(Ae.l=Be,Ae.a=0,xe(Ae.m,Be.data,Be.w,Be.ha),!Dt(Ae.m,Ge,lt,We)){Ae.a=3;break t}if(Ae.xb=Qp,Be.width=Ge[0],Be.height=lt[0],!He(Ge[0],lt[0],1,Ae,null))break t;return 1}return e(Ae.a!=0),0})(_,G)){if(G=(C=No(G.width,G.height,le.Oa,le.ba))==0){t:{G=_;n:for(;;){if(G==null){G=0;break t}if(e(G.s.yc!=null),e(G.s.Ya!=null),e(0<G.s.Wb),e((j=G.l)!=null),e((ee=j.ma)!=null),G.xb!=0){if(G.ca=ee.ba,G.tb=ee.tb,e(G.ca!=null),!Sl(ee.Oa,j,to)){G.a=2;break n}if(!Ke(G,j.width)||j.da)break n;if((j.da||pn(G.ca.S))&&Qe(),11>G.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),G.ca.f.kb.F!=null&&Qe()),G.Pb&&0<G.s.ua&&G.s.vb.X==null&&!se(G.s.vb,G.s.Wa.Xa)){G.a=1;break n}G.xb=0}if(!Ve(G,G.V,G.Ba,G.c,G.i,j.o,he))break n;ee.Dc=G.Ma,G=1;break t}e(G.a!=0),G=0}G=!G}G&&(C=_.a)}else C=_.a}else{if((_=new ps)==null){le=1;break e}if(_.Fa=ee.na,_.P=ee.P,_.qc=ee.Sa,ua(_,G)){if((C=No(G.width,G.height,le.Oa,le.ba))==0){if(_.Aa=0,j=le.Oa,e((ee=_)!=null),j!=null){if(0<(_e=0>(_e=j.Md)?0:100<_e?255:255*_e/100)){for(Ne=Me=0;4>Ne;++Ne)12>(Ye=ee.pb[Ne]).lc&&(Ye.ia=_e*vd[0>Ye.lc?0:Ye.lc]>>3),Me|=Ye.ia;Me&&(alert("todo:VP8InitRandom"),ee.ia=1)}ee.Ga=j.Id,100<ee.Ga?ee.Ga=100:0>ee.Ga&&(ee.Ga=0)}(function(Ae,Be){if(Ae==null)return 0;if(Be==null)return Qn(Ae,2,"NULL VP8Io parameter in VP8Decode().");if(!Ae.cb&&!ua(Ae,Be))return 0;if(e(Ae.cb),Be.ac==null||Be.ac(Be)){Be.ob&&(Ae.L=0);var Ge=tf[Ae.L];if(Ae.L==2?(Ae.yb=0,Ae.zb=0):(Ae.yb=Be.v-Ge>>4,Ae.zb=Be.j-Ge>>4,0>Ae.yb&&(Ae.yb=0),0>Ae.zb&&(Ae.zb=0)),Ae.Va=Be.o+15+Ge>>4,Ae.Hb=Be.va+15+Ge>>4,Ae.Hb>Ae.za&&(Ae.Hb=Ae.za),Ae.Va>Ae.Ub&&(Ae.Va=Ae.Ub),0<Ae.L){var lt=Ae.ed;for(Ge=0;4>Ge;++Ge){var We;if(Ae.Qa.Cb){var at=Ae.Qa.Lb[Ge];Ae.Qa.Fb||(at+=lt.Tb)}else at=lt.Tb;for(We=0;1>=We;++We){var ft=Ae.gd[Ge][We],Tt=at;if(lt.Pc&&(Tt+=lt.vd[0],We&&(Tt+=lt.od[0])),0<(Tt=0>Tt?0:63<Tt?63:Tt)){var xt=Tt;0<lt.wb&&(xt=4<lt.wb?xt>>2:xt>>1)>9-lt.wb&&(xt=9-lt.wb),1>xt&&(xt=1),ft.dd=xt,ft.tc=2*Tt+xt,ft.ld=40<=Tt?2:15<=Tt?1:0}else ft.tc=0;ft.La=We}}}Ge=0}else Qn(Ae,6,"Frame setup failed"),Ge=Ae.a;if(Ge=Ge==0){if(Ge){Ae.$c=0,0<Ae.Aa||(Ae.Ic=_d);t:{Ge=Ae.Ic,lt=4*(xt=Ae.za);var tn=32*xt,Ht=xt+1,Pn=0<Ae.L?xt*(0<Ae.Aa?2:1):0,Xt=(Ae.Aa==2?2:1)*xt;if((ft=lt+832+(We=3*(16*Ge+tf[Ae.L])/2*tn)+(at=Ae.Fa!=null&&0<Ae.Fa.length?Ae.Kc.c*Ae.Kc.i:0))!=ft)Ge=0;else{if(ft>Ae.Vb){if(Ae.Vb=0,Ae.Ec=i(ft),Ae.Fc=0,Ae.Ec==null){Ge=Qn(Ae,1,"no memory during frame initialization.");break t}Ae.Vb=ft}ft=Ae.Ec,Tt=Ae.Fc,Ae.Ac=ft,Ae.Bc=Tt,Tt+=lt,Ae.Gd=a(tn,Ri),Ae.Hd=0,Ae.rb=a(Ht+1,wr),Ae.sb=1,Ae.wa=Pn?a(Pn,zn):null,Ae.Y=0,Ae.D.Nb=0,Ae.D.wa=Ae.wa,Ae.D.Y=Ae.Y,0<Ae.Aa&&(Ae.D.Y+=xt),e(!0),Ae.oc=ft,Ae.pc=Tt,Tt+=832,Ae.ya=a(Xt,Wi),Ae.aa=0,Ae.D.ya=Ae.ya,Ae.D.aa=Ae.aa,Ae.Aa==2&&(Ae.D.aa+=xt),Ae.R=16*xt,Ae.B=8*xt,xt=(tn=tf[Ae.L])*Ae.R,tn=tn/2*Ae.B,Ae.sa=ft,Ae.ta=Tt+xt,Ae.qa=Ae.sa,Ae.ra=Ae.ta+16*Ge*Ae.R+tn,Ae.Ha=Ae.qa,Ae.Ia=Ae.ra+8*Ge*Ae.B+tn,Ae.$c=0,Tt+=We,Ae.mb=at?ft:null,Ae.nb=at?Tt:null,e(Tt+at<=Ae.Fc+Ae.Vb),qo(Ae),s(Ae.Ac,Ae.Bc,0,lt),Ge=1}}if(Ge){if(Be.ka=0,Be.y=Ae.sa,Be.O=Ae.ta,Be.f=Ae.qa,Be.N=Ae.ra,Be.ea=Ae.Ha,Be.Vd=Ae.Ia,Be.fa=Ae.R,Be.Rc=Ae.B,Be.F=null,Be.J=0,!Lh){for(Ge=-255;255>=Ge;++Ge)eu[255+Ge]=0>Ge?-Ge:Ge;for(Ge=-1020;1020>=Ge;++Ge)Mh[1020+Ge]=-128>Ge?-128:127<Ge?127:Ge;for(Ge=-112;112>=Ge;++Ge)hd[112+Ge]=-16>Ge?-16:15<Ge?15:Ge;for(Ge=-255;510>=Ge;++Ge)pd[255+Ge]=0>Ge?0:255<Ge?255:Ge;Lh=1}Oa=Gs,kl=Gc,Za=hi,Tr=Wc,fr=To,Mi=zu,Wr=Xc,Cs=Ma,el=Z,Io=Ce,Qc=ic,fd=F,Kp=De,B1=Ue,V1=Ja,U1=fa,Yp=Tl,Xp=sc,gs[0]=Go,gs[1]=$c,gs[2]=_l,gs[3]=rc,gs[4]=Ws,gs[5]=bl,gs[6]=Ps,gs[7]=Ar,gs[8]=wl,gs[9]=$i,Zi[0]=Pa,Zi[1]=tc,Zi[2]=nc,Zi[3]=Eo,Zi[4]=So,Zi[5]=Di,Zi[6]=zo,ko[0]=Ao,ko[1]=Kc,ko[2]=Da,ko[3]=Yc,ko[4]=Ss,ko[5]=Yi,ko[6]=Ka,Ge=1}else Ge=0}Ge&&(Ge=(function(tr,ns){for(tr.M=0;tr.M<tr.Va;++tr.M){var Bn,zt=tr.Jc[tr.M&tr.Xb],Mt=tr.m,ls=tr;for(Bn=0;Bn<ls.za;++Bn){var En=Mt,Hn=ls,Rr=Hn.Ac,$s=Hn.Bc+4*Bn,bi=Hn.zc,$r=Hn.ya[Hn.aa+Bn];if(Hn.Qa.Bb?$r.$b=Te(En,Hn.Pa.jb[0])?2+Te(En,Hn.Pa.jb[2]):Te(En,Hn.Pa.jb[1]):$r.$b=0,Hn.kc&&($r.Ad=Te(En,Hn.Bd)),$r.Za=!Te(En,145)+0,$r.Za){var Ds=$r.Ob,Oi=0;for(Hn=0;4>Hn;++Hn){var Ms,Xn=bi[0+Hn];for(Ms=0;4>Ms;++Ms){Xn=yi[Rr[$s+Ms]][Xn];for(var gr=jh[Te(En,Xn[0])];0<gr;)gr=jh[2*gr+Te(En,Xn[gr])];Xn=-gr,Rr[$s+Ms]=Xn}r(Ds,Oi,Rr,$s,4),Oi+=4,bi[0+Hn]=Xn}}else Xn=Te(En,156)?Te(En,128)?1:3:Te(En,163)?2:0,$r.Ob[0]=Xn,s(Rr,$s,Xn,4),s(bi,0,Xn,4);$r.Dd=Te(En,142)?Te(En,114)?Te(En,183)?1:3:2:0}if(ls.m.Ka)return Qn(tr,7,"Premature end-of-partition0 encountered.");for(;tr.ja<tr.za;++tr.ja){if(ls=zt,En=(Mt=tr).rb[Mt.sb-1],Rr=Mt.rb[Mt.sb+Mt.ja],Bn=Mt.ya[Mt.aa+Mt.ja],$s=Mt.kc?Bn.Ad:0)En.la=Rr.la=0,Bn.Za||(En.Na=Rr.Na=0),Bn.Hc=0,Bn.Gc=0,Bn.ia=0;else{var cs,Er;if(En=Rr,Rr=ls,$s=Mt.Pa.Xc,bi=Mt.ya[Mt.aa+Mt.ja],$r=Mt.pb[bi.$b],Hn=bi.ad,Ds=0,Oi=Mt.rb[Mt.sb-1],Xn=Ms=0,s(Hn,Ds,0,384),bi.Za)var Ks=0,us=$s[3];else{gr=i(16);var xr=En.Na+Oi.Na;if(xr=Va(Rr,$s[1],xr,$r.Eb,0,gr,0),En.Na=Oi.Na=(0<xr)+0,1<xr)Oa(gr,0,Hn,Ds);else{var Is=gr[0]+3>>3;for(gr=0;256>gr;gr+=16)Hn[Ds+gr]=Is}Ks=1,us=$s[0]}var Pr=15&En.la,Ls=15&Oi.la;for(gr=0;4>gr;++gr){var Fs=1&Ls;for(Is=Er=0;4>Is;++Is)Pr=Pr>>1|(Fs=(xr=Va(Rr,us,xr=Fs+(1&Pr),$r.Sc,Ks,Hn,Ds))>Ks)<<7,Er=Er<<2|(3<xr?3:1<xr?2:Hn[Ds+0]!=0),Ds+=16;Pr>>=4,Ls=Ls>>1|Fs<<7,Ms=(Ms<<8|Er)>>>0}for(us=Pr,Ks=Ls>>4,cs=0;4>cs;cs+=2){for(Er=0,Pr=En.la>>4+cs,Ls=Oi.la>>4+cs,gr=0;2>gr;++gr){for(Fs=1&Ls,Is=0;2>Is;++Is)xr=Fs+(1&Pr),Pr=Pr>>1|(Fs=0<(xr=Va(Rr,$s[2],xr,$r.Qc,0,Hn,Ds)))<<3,Er=Er<<2|(3<xr?3:1<xr?2:Hn[Ds+0]!=0),Ds+=16;Pr>>=2,Ls=Ls>>1|Fs<<5}Xn|=Er<<4*cs,us|=Pr<<4<<cs,Ks|=(240&Ls)<<cs}En.la=us,Oi.la=Ks,bi.Hc=Ms,bi.Gc=Xn,bi.ia=43690&Xn?0:$r.ia,$s=!(Ms|Xn)}if(0<Mt.L&&(Mt.wa[Mt.Y+Mt.ja]=Mt.gd[Bn.$b][Bn.Za],Mt.wa[Mt.Y+Mt.ja].La|=!$s),ls.Ka)return Qn(tr,7,"Premature end-of-file encountered.")}if(qo(tr),Mt=ns,ls=1,Bn=(zt=tr).D,En=0<zt.L&&zt.M>=zt.zb&&zt.M<=zt.Va,zt.Aa==0)t:{if(Bn.M=zt.M,Bn.uc=En,Fa(zt,Bn),ls=1,Bn=(Er=zt.D).Nb,En=(Xn=tf[zt.L])*zt.R,Rr=Xn/2*zt.B,gr=16*Bn*zt.R,Is=8*Bn*zt.B,$s=zt.sa,bi=zt.ta-En+gr,$r=zt.qa,Hn=zt.ra-Rr+Is,Ds=zt.Ha,Oi=zt.Ia-Rr+Is,Ls=(Pr=Er.M)==0,Ms=Pr>=zt.Va-1,zt.Aa==2&&Fa(zt,Er),Er.uc)for(Fs=(xr=zt).D.M,e(xr.D.uc),Er=xr.yb;Er<xr.Hb;++Er){Ks=Er,us=Fs;var Or=(dr=(Os=xr).D).Nb;cs=Os.R;var dr=dr.wa[dr.Y+Ks],Bi=Os.sa,xs=Os.ta+16*Or*cs+16*Ks,vn=dr.dd,bn=dr.tc;if(bn!=0)if(e(3<=bn),Os.L==1)0<Ks&&U1(Bi,xs,cs,bn+4),dr.La&&Xp(Bi,xs,cs,bn),0<us&&V1(Bi,xs,cs,bn+4),dr.La&&Yp(Bi,xs,cs,bn);else{var yr=Os.B,ha=Os.qa,lo=Os.ra+8*Or*yr+8*Ks,ea=Os.Ha,Os=Os.Ia+8*Or*yr+8*Ks;Or=dr.ld,0<Ks&&(Cs(Bi,xs,cs,bn+4,vn,Or),Io(ha,lo,ea,Os,yr,bn+4,vn,Or)),dr.La&&(fd(Bi,xs,cs,bn,vn,Or),B1(ha,lo,ea,Os,yr,bn,vn,Or)),0<us&&(Wr(Bi,xs,cs,bn+4,vn,Or),el(ha,lo,ea,Os,yr,bn+4,vn,Or)),dr.La&&(Qc(Bi,xs,cs,bn,vn,Or),Kp(ha,lo,ea,Os,yr,bn,vn,Or))}}if(zt.ia&&alert("todo:DitherRow"),Mt.put!=null){if(Er=16*Pr,Pr=16*(Pr+1),Ls?(Mt.y=zt.sa,Mt.O=zt.ta+gr,Mt.f=zt.qa,Mt.N=zt.ra+Is,Mt.ea=zt.Ha,Mt.W=zt.Ia+Is):(Er-=Xn,Mt.y=$s,Mt.O=bi,Mt.f=$r,Mt.N=Hn,Mt.ea=Ds,Mt.W=Oi),Ms||(Pr-=Xn),Pr>Mt.o&&(Pr=Mt.o),Mt.F=null,Mt.J=null,zt.Fa!=null&&0<zt.Fa.length&&Er<Pr&&(Mt.J=w(zt,Mt,Er,Pr-Er),Mt.F=zt.mb,Mt.F==null&&Mt.F.length==0)){ls=Qn(zt,3,"Could not decode alpha data.");break t}Er<Mt.j&&(Xn=Mt.j-Er,Er=Mt.j,e(!(1&Xn)),Mt.O+=zt.R*Xn,Mt.N+=zt.B*(Xn>>1),Mt.W+=zt.B*(Xn>>1),Mt.F!=null&&(Mt.J+=Mt.width*Xn)),Er<Pr&&(Mt.O+=Mt.v,Mt.N+=Mt.v>>1,Mt.W+=Mt.v>>1,Mt.F!=null&&(Mt.J+=Mt.v),Mt.ka=Er-Mt.j,Mt.U=Mt.va-Mt.v,Mt.T=Pr-Er,ls=Mt.put(Mt))}Bn+1!=zt.Ic||Ms||(r(zt.sa,zt.ta-En,$s,bi+16*zt.R,En),r(zt.qa,zt.ra-Rr,$r,Hn+8*zt.B,Rr),r(zt.Ha,zt.Ia-Rr,Ds,Oi+8*zt.B,Rr))}if(!ls)return Qn(tr,6,"Output aborted.")}return 1})(Ae,Be)),Be.bc!=null&&Be.bc(Be),Ge&=1}return Ge?(Ae.cb=0,Ge):0})(_,G)||(C=_.a)}}else C=_.a}C==0&&le.Oa!=null&&le.Oa.fd&&(C=ud(le.ba))}le=C}ie=le!=0?null:11>ie?de.f.RGBA.eb:de.f.kb.y}else ie=null;return ie};var Gh=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function f(R,q){for(var P="",M=0;M<4;M++)P+=String.fromCharCode(R[q++]);return P}function d(R,q){return R[q+0]|R[q+1]<<8}function p(R,q){return(R[q+0]|R[q+1]<<8|R[q+2]<<16)>>>0}function g(R,q){return(R[q+0]|R[q+1]<<8|R[q+2]<<16|R[q+3]<<24)>>>0}new c;var y=[0],E=[0],b=[],A=new c,N=t,V=(function(R,q){var P={},M=0,H=!1,ae=0,Se=0;if(P.frames=[],!(function(O,J){for(var U=0;U<4;U++)if(O[J+U]!="RIFF".charCodeAt(U))return!0;return!1})(R,q)){for(g(R,q+=4),q+=8;q<R.length;){var oe=f(R,q),ve=g(R,q+=4);q+=4;var Ie=ve+(1&ve);switch(oe){case"VP8 ":case"VP8L":P.frames[M]===void 0&&(P.frames[M]={}),(re=P.frames[M]).src_off=H?Se:q-8,re.src_size=ae+ve+8,M++,H&&(H=!1,ae=0,Se=0);break;case"VP8X":(re=P.header={}).feature_flags=R[q];var xe=q+4;re.canvas_width=1+p(R,xe),xe+=3,re.canvas_height=1+p(R,xe),xe+=3;break;case"ALPH":H=!0,ae=Ie+8,Se=q-8;break;case"ANIM":(re=P.header).bgcolor=g(R,q),xe=q+4,re.loop_count=d(R,xe),xe+=2;break;case"ANMF":var Re,re;(re=P.frames[M]={}).offset_x=2*p(R,q),q+=3,re.offset_y=2*p(R,q),q+=3,re.width=1+p(R,q),q+=3,re.height=1+p(R,q),q+=3,re.duration=p(R,q),q+=3,Re=R[q++],re.dispose=1&Re,re.blend=Re>>1&1}oe!="ANMF"&&(q+=Ie)}return P}})(N,0);V.response=N,V.rgbaoutput=!0,V.dataurl=!1;var k=V.header?V.header:null,B=V.frames?V.frames:null;if(k){k.loop_counter=k.loop_count,y=[k.canvas_height],E=[k.canvas_width];for(var W=0;W<B.length&&B[W].blend!=0;W++);}var K=B[0],D=A.WebPDecodeRGBA(N,K.src_off,K.src_size,E,y);K.rgba=D,K.imgwidth=E[0],K.imgheight=y[0];for(var L=0;L<E[0]*y[0]*4;L++)b[L]=D[L];return this.width=E,this.height=y,this.data=b,this}(function(t){var e,n,r,s,i,a,o,c,f,d=function(O){return O=O||{},this.isStrokeTransparent=O.isStrokeTransparent||!1,this.strokeOpacity=O.strokeOpacity||1,this.strokeStyle=O.strokeStyle||"#000000",this.fillStyle=O.fillStyle||"#000000",this.isFillTransparent=O.isFillTransparent||!1,this.fillOpacity=O.fillOpacity||1,this.font=O.font||"10px sans-serif",this.textBaseline=O.textBaseline||"alphabetic",this.textAlign=O.textAlign||"left",this.lineWidth=O.lineWidth||1,this.lineJoin=O.lineJoin||"miter",this.lineCap=O.lineCap||"butt",this.path=O.path||[],this.transform=O.transform!==void 0?O.transform.clone():new c,this.globalCompositeOperation=O.globalCompositeOperation||"normal",this.globalAlpha=O.globalAlpha||1,this.clip_path=O.clip_path||[],this.currentPoint=O.currentPoint||new a,this.miterLimit=O.miterLimit||10,this.lastPoint=O.lastPoint||new a,this.lineDashOffset=O.lineDashOffset||0,this.lineDash=O.lineDash||[],this.margin=O.margin||[0,0,0,0],this.prevPageLastElemOffset=O.prevPageLastElemOffset||0,this.ignoreClearRect=typeof O.ignoreClearRect!="boolean"||O.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new p(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,a=this.internal.Point,o=this.internal.Rectangle,c=this.internal.Matrix,f=new d}]);var p=function(O){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var J=O;Object.defineProperty(this,"pdf",{get:function(){return J}});var U=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return U},set:function(se){U=!!se}});var Y=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Y},set:function(se){Y=!!se}});var ne=0;Object.defineProperty(this,"posX",{get:function(){return ne},set:function(se){isNaN(se)||(ne=se)}});var ye=0;Object.defineProperty(this,"posY",{get:function(){return ye},set:function(se){isNaN(se)||(ye=se)}}),Object.defineProperty(this,"margin",{get:function(){return f.margin},set:function(se){var nt;typeof se=="number"?nt=[se,se,se,se]:((nt=new Array(4))[0]=se[0],nt[1]=se.length>=2?se[1]:nt[0],nt[2]=se.length>=3?se[2]:nt[0],nt[3]=se.length>=4?se[3]:nt[1]),f.margin=nt}});var pe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return pe},set:function(se){pe=se}});var ue=0;Object.defineProperty(this,"lastBreak",{get:function(){return ue},set:function(se){ue=se}});var Te=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Te},set:function(se){Te=se}}),Object.defineProperty(this,"ctx",{get:function(){return f},set:function(se){se instanceof d&&(f=se)}}),Object.defineProperty(this,"path",{get:function(){return f.path},set:function(se){f.path=se}});var je=[];Object.defineProperty(this,"ctxStack",{get:function(){return je},set:function(se){je=se}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(se){var nt;nt=g(se),this.ctx.fillStyle=nt.style,this.ctx.isFillTransparent=nt.a===0,this.ctx.fillOpacity=nt.a,this.pdf.setFillColor(nt.r,nt.g,nt.b,{a:nt.a}),this.pdf.setTextColor(nt.r,nt.g,nt.b,{a:nt.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(se){var nt=g(se);this.ctx.strokeStyle=nt.style,this.ctx.isStrokeTransparent=nt.a===0,this.ctx.strokeOpacity=nt.a,nt.a===0?this.pdf.setDrawColor(255,255,255):(nt.a,this.pdf.setDrawColor(nt.r,nt.g,nt.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(se){["butt","round","square"].indexOf(se)!==-1&&(this.ctx.lineCap=se,this.pdf.setLineCap(se))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(se){isNaN(se)||(this.ctx.lineWidth=se,this.pdf.setLineWidth(se))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(se){["bevel","round","miter"].indexOf(se)!==-1&&(this.ctx.lineJoin=se,this.pdf.setLineJoin(se))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(se){isNaN(se)||(this.ctx.miterLimit=se,this.pdf.setMiterLimit(se))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(se){this.ctx.textBaseline=se}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(se){["right","end","center","left","start"].indexOf(se)!==-1&&(this.ctx.textAlign=se)}});var ce=null,dt=null,pt=null;Object.defineProperty(this,"fontFaces",{get:function(){return pt},set:function(se){ce=null,dt=null,pt=se}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(se){var nt;if(this.ctx.font=se,(nt=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(se))!==null){var it=nt[1];nt[2];var Pt=nt[3],tt=nt[4];nt[5];var St=nt[6],Ct=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(tt)[2];tt=Math.floor(Ct==="px"?parseFloat(tt)*this.pdf.internal.scaleFactor:Ct==="em"?parseFloat(tt)*this.pdf.getFontSize():parseFloat(tt)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(tt);var Lt=(function(Et){var Wn,qt,Gt=[],mn=Et.trim();if(mn==="")return Yb;if(mn in pR)return[pR[mn]];for(;mn!=="";){switch(qt=null,Wn=(mn=gR(mn)).charAt(0)){case'"':case"'":qt=Xce(mn.substring(1),Wn);break;default:qt=Jce(mn)}if(qt===null||(Gt.push(qt[0]),(mn=gR(qt[1]))!==""&&mn.charAt(0)!==","))return Yb;mn=mn.replace(/^,/,"")}return Gt})(St);if(this.fontFaces){var jt=(function(Et,Wn){var qt=Et.getFontList(),Gt=JSON.stringify(qt);if(ce===null||dt!==Gt){var mn=(function(An){var ln=[];return Object.keys(An).forEach(function(Jn){An[Jn].forEach(function(pn){var fn=null;switch(pn){case"bold":fn={family:Jn,weight:"bold"};break;case"italic":fn={family:Jn,style:"italic"};break;case"bolditalic":fn={family:Jn,weight:"bold",style:"italic"};break;case"":case"normal":fn={family:Jn}}fn!==null&&(fn.ref={name:Jn,style:pn},ln.push(fn))})}),ln})(qt);ce=(function(An){for(var ln={},Jn=0;Jn<An.length;++Jn){var pn=Kb(An[Jn]),fn=pn.family,ar=pn.stretch,cn=pn.style,Wt=pn.weight;ln[fn]=ln[fn]||{},ln[fn][ar]=ln[fn][ar]||{},ln[fn][ar][cn]=ln[fn][ar][cn]||{},ln[fn][ar][cn][Wt]=pn}return ln})(mn.concat(Wn)),dt=Gt}return ce})(this.pdf,this.fontFaces),Qt=Lt.map(function(Et){return{family:Et,stretch:"normal",weight:Pt,style:it}}),Zt=(function(Et,Wn,qt){for(var Gt=(qt=qt||{}).defaultFontFamily||"times",mn=Object.assign({},Yce,qt.genericFontFamilies||{}),An=null,ln=null,Jn=0;Jn<Wn.length;++Jn)if(mn[(An=Kb(Wn[Jn])).family]&&(An.family=mn[An.family]),Et.hasOwnProperty(An.family)){ln=Et[An.family];break}if(!(ln=ln||Et[Gt]))throw new Error("Could not find a font-family for the rule '"+mR(An)+"' and default family '"+Gt+"'.");if(ln=(function(pn,fn){if(fn[pn])return fn[pn];var ar=aT[pn],cn=ar<=aT.normal?-1:1,Wt=hR(fn,$O,ar,cn);if(!Wt)throw new Error("Could not find a matching font-stretch value for "+pn);return Wt})(An.stretch,ln),ln=(function(pn,fn){if(fn[pn])return fn[pn];for(var ar=WO[pn],cn=0;cn<ar.length;++cn)if(fn[ar[cn]])return fn[ar[cn]];throw new Error("Could not find a matching font-style for "+pn)})(An.style,ln),!(ln=(function(pn,fn){if(fn[pn])return fn[pn];if(pn===400&&fn[500])return fn[500];if(pn===500&&fn[400])return fn[400];var ar=Kce[pn],cn=hR(fn,KO,ar,pn<400?-1:1);if(!cn)throw new Error("Could not find a matching font-weight for value "+pn);return cn})(An.weight,ln)))throw new Error("Failed to resolve a font for the rule '"+mR(An)+"'.");return ln})(jt,Qt);this.pdf.setFont(Zt.ref.name,Zt.ref.style)}else{var on="";(Pt==="bold"||parseInt(Pt,10)>=700||it==="bold")&&(on="bold"),it==="italic"&&(on+="italic"),on.length===0&&(on="normal");for(var Sn="",Bt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},vt=0;vt<Lt.length;vt++){if(this.pdf.internal.getFont(Lt[vt],on,{noFallback:!0,disableWarning:!0})!==void 0){Sn=Lt[vt];break}if(on==="bolditalic"&&this.pdf.internal.getFont(Lt[vt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Sn=Lt[vt],on="bold";else if(this.pdf.internal.getFont(Lt[vt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Sn=Lt[vt],on="normal";break}}if(Sn===""){for(var wt=0;wt<Lt.length;wt++)if(Bt[Lt[wt]]){Sn=Bt[Lt[wt]];break}}Sn=Sn===""?"Times":Sn,this.pdf.setFont(Sn,on)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(se){this.ctx.globalCompositeOperation=se}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(se){this.ctx.globalAlpha=se}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(se){this.ctx.lineDashOffset=se,re.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(se){this.ctx.lineDash=se,re.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(se){this.ctx.ignoreClearRect=!!se}})};p.prototype.setLineDash=function(O){this.lineDash=O},p.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},p.prototype.fill=function(){B.call(this,"fill",!1)},p.prototype.stroke=function(){B.call(this,"stroke",!1)},p.prototype.beginPath=function(){this.path=[{type:"begin"}]},p.prototype.moveTo=function(O,J){if(isNaN(O)||isNaN(J))throw ss.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var U=this.ctx.transform.applyToPoint(new a(O,J));this.path.push({type:"mt",x:U.x,y:U.y}),this.ctx.lastPoint=new a(O,J)},p.prototype.closePath=function(){var O=new a(0,0),J=0;for(J=this.path.length-1;J!==-1;J--)if(this.path[J].type==="begin"&&Ur(this.path[J+1])==="object"&&typeof this.path[J+1].x=="number"){O=new a(this.path[J+1].x,this.path[J+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(O.x,O.y)},p.prototype.lineTo=function(O,J){if(isNaN(O)||isNaN(J))throw ss.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var U=this.ctx.transform.applyToPoint(new a(O,J));this.path.push({type:"lt",x:U.x,y:U.y}),this.ctx.lastPoint=new a(U.x,U.y)},p.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),B.call(this,null,!0)},p.prototype.quadraticCurveTo=function(O,J,U,Y){if(isNaN(U)||isNaN(Y)||isNaN(O)||isNaN(J))throw ss.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ne=this.ctx.transform.applyToPoint(new a(U,Y)),ye=this.ctx.transform.applyToPoint(new a(O,J));this.path.push({type:"qct",x1:ye.x,y1:ye.y,x:ne.x,y:ne.y}),this.ctx.lastPoint=new a(ne.x,ne.y)},p.prototype.bezierCurveTo=function(O,J,U,Y,ne,ye){if(isNaN(ne)||isNaN(ye)||isNaN(O)||isNaN(J)||isNaN(U)||isNaN(Y))throw ss.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var pe=this.ctx.transform.applyToPoint(new a(ne,ye)),ue=this.ctx.transform.applyToPoint(new a(O,J)),Te=this.ctx.transform.applyToPoint(new a(U,Y));this.path.push({type:"bct",x1:ue.x,y1:ue.y,x2:Te.x,y2:Te.y,x:pe.x,y:pe.y}),this.ctx.lastPoint=new a(pe.x,pe.y)},p.prototype.arc=function(O,J,U,Y,ne,ye){if(isNaN(O)||isNaN(J)||isNaN(U)||isNaN(Y)||isNaN(ne))throw ss.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ye=!!ye,!this.ctx.transform.isIdentity){var pe=this.ctx.transform.applyToPoint(new a(O,J));O=pe.x,J=pe.y;var ue=this.ctx.transform.applyToPoint(new a(0,U)),Te=this.ctx.transform.applyToPoint(new a(0,0));U=Math.sqrt(Math.pow(ue.x-Te.x,2)+Math.pow(ue.y-Te.y,2))}Math.abs(ne-Y)>=2*Math.PI&&(Y=0,ne=2*Math.PI),this.path.push({type:"arc",x:O,y:J,radius:U,startAngle:Y,endAngle:ne,counterclockwise:ye})},p.prototype.arcTo=function(O,J,U,Y,ne){throw new Error("arcTo not implemented.")},p.prototype.rect=function(O,J,U,Y){if(isNaN(O)||isNaN(J)||isNaN(U)||isNaN(Y))throw ss.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(O,J),this.lineTo(O+U,J),this.lineTo(O+U,J+Y),this.lineTo(O,J+Y),this.lineTo(O,J),this.lineTo(O+U,J),this.lineTo(O,J)},p.prototype.fillRect=function(O,J,U,Y){if(isNaN(O)||isNaN(J)||isNaN(U)||isNaN(Y))throw ss.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!y.call(this)){var ne={};this.lineCap!=="butt"&&(ne.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ne.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(O,J,U,Y),this.fill(),ne.hasOwnProperty("lineCap")&&(this.lineCap=ne.lineCap),ne.hasOwnProperty("lineJoin")&&(this.lineJoin=ne.lineJoin)}},p.prototype.strokeRect=function(O,J,U,Y){if(isNaN(O)||isNaN(J)||isNaN(U)||isNaN(Y))throw ss.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");E.call(this)||(this.beginPath(),this.rect(O,J,U,Y),this.stroke())},p.prototype.clearRect=function(O,J,U,Y){if(isNaN(O)||isNaN(J)||isNaN(U)||isNaN(Y))throw ss.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(O,J,U,Y))},p.prototype.save=function(O){O=typeof O!="boolean"||O;for(var J=this.pdf.internal.getCurrentPageInfo().pageNumber,U=0;U<this.pdf.internal.getNumberOfPages();U++)this.pdf.setPage(U+1),this.pdf.internal.out("q");if(this.pdf.setPage(J),O){this.ctx.fontSize=this.pdf.internal.getFontSize();var Y=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Y}},p.prototype.restore=function(O){O=typeof O!="boolean"||O;for(var J=this.pdf.internal.getCurrentPageInfo().pageNumber,U=0;U<this.pdf.internal.getNumberOfPages();U++)this.pdf.setPage(U+1),this.pdf.internal.out("Q");this.pdf.setPage(J),O&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},p.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var g=function(O){var J,U,Y,ne;if(O.isCanvasGradient===!0&&(O=O.getColor()),!O)return{r:0,g:0,b:0,a:0,style:O};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(O))J=0,U=0,Y=0,ne=0;else{var ye=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(O);if(ye!==null)J=parseInt(ye[1]),U=parseInt(ye[2]),Y=parseInt(ye[3]),ne=1;else if((ye=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(O))!==null)J=parseInt(ye[1]),U=parseInt(ye[2]),Y=parseInt(ye[3]),ne=parseFloat(ye[4]);else{if(ne=1,typeof O=="string"&&O.charAt(0)!=="#"){var pe=new VO(O);O=pe.ok?pe.toHex():"#000000"}O.length===4?(J=O.substring(1,2),J+=J,U=O.substring(2,3),U+=U,Y=O.substring(3,4),Y+=Y):(J=O.substring(1,3),U=O.substring(3,5),Y=O.substring(5,7)),J=parseInt(J,16),U=parseInt(U,16),Y=parseInt(Y,16)}}return{r:J,g:U,b:Y,a:ne,style:O}},y=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},E=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};p.prototype.fillText=function(O,J,U,Y){if(isNaN(J)||isNaN(U)||typeof O!="string")throw ss.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Y=isNaN(Y)?void 0:Y,!y.call(this)){var ne=Ie(this.ctx.transform.rotation),ye=this.ctx.transform.scaleX;M.call(this,{text:O,x:J,y:U,scale:ye,angle:ne,align:this.textAlign,maxWidth:Y})}},p.prototype.strokeText=function(O,J,U,Y){if(isNaN(J)||isNaN(U)||typeof O!="string")throw ss.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!E.call(this)){Y=isNaN(Y)?void 0:Y;var ne=Ie(this.ctx.transform.rotation),ye=this.ctx.transform.scaleX;M.call(this,{text:O,x:J,y:U,scale:ye,renderingMode:"stroke",angle:ne,align:this.textAlign,maxWidth:Y})}},p.prototype.measureText=function(O){if(typeof O!="string")throw ss.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var J=this.pdf,U=this.pdf.internal.scaleFactor,Y=J.internal.getFontSize(),ne=J.getStringUnitWidth(O)*Y/J.internal.scaleFactor;return new function(ye){var pe=(ye=ye||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return pe}}),this}({width:ne*=Math.round(96*U/72*1e4)/1e4})},p.prototype.scale=function(O,J){if(isNaN(O)||isNaN(J))throw ss.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var U=new c(O,0,0,J,0,0);this.ctx.transform=this.ctx.transform.multiply(U)},p.prototype.rotate=function(O){if(isNaN(O))throw ss.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var J=new c(Math.cos(O),Math.sin(O),-Math.sin(O),Math.cos(O),0,0);this.ctx.transform=this.ctx.transform.multiply(J)},p.prototype.translate=function(O,J){if(isNaN(O)||isNaN(J))throw ss.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var U=new c(1,0,0,1,O,J);this.ctx.transform=this.ctx.transform.multiply(U)},p.prototype.transform=function(O,J,U,Y,ne,ye){if(isNaN(O)||isNaN(J)||isNaN(U)||isNaN(Y)||isNaN(ne)||isNaN(ye))throw ss.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var pe=new c(O,J,U,Y,ne,ye);this.ctx.transform=this.ctx.transform.multiply(pe)},p.prototype.setTransform=function(O,J,U,Y,ne,ye){O=isNaN(O)?1:O,J=isNaN(J)?0:J,U=isNaN(U)?0:U,Y=isNaN(Y)?1:Y,ne=isNaN(ne)?0:ne,ye=isNaN(ye)?0:ye,this.ctx.transform=new c(O,J,U,Y,ne,ye)};var b=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};p.prototype.drawImage=function(O,J,U,Y,ne,ye,pe,ue,Te){var je=this.pdf.getImageProperties(O),ce=1,dt=1,pt=1,se=1;Y!==void 0&&ue!==void 0&&(pt=ue/Y,se=Te/ne,ce=je.width/Y*ue/Y,dt=je.height/ne*Te/ne),ye===void 0&&(ye=J,pe=U,J=0,U=0),Y!==void 0&&ue===void 0&&(ue=Y,Te=ne),Y===void 0&&ue===void 0&&(ue=je.width,Te=je.height);var nt=this.ctx.transform.decompose(),it=Ie(nt.rotate.shx),Pt=new c,tt=(Pt=(Pt=(Pt=Pt.multiply(nt.translate)).multiply(nt.skew)).multiply(nt.scale)).applyToRectangle(new o(ye-J*pt,pe-U*se,Y*ce,ne*dt));if(this.autoPaging){for(var St,Ct=A.call(this,tt),Lt=[],jt=0;jt<Ct.length;jt+=1)Lt.indexOf(Ct[jt])===-1&&Lt.push(Ct[jt]);k(Lt);for(var Qt=Lt[0],Zt=Lt[Lt.length-1],on=Qt;on<Zt+1;on++){this.pdf.setPage(on);var Sn=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Bt=on===1?this.posY+this.margin[0]:this.margin[0],vt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],wt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Et=on===1?0:vt+(on-2)*wt;if(this.ctx.clip_path.length!==0){var Wn=this.path;St=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=V(St,this.posX+this.margin[3],-Et+Bt+this.ctx.prevPageLastElemOffset),W.call(this,"fill",!0),this.path=Wn}var qt=JSON.parse(JSON.stringify(tt));qt=V([qt],this.posX+this.margin[3],-Et+Bt+this.ctx.prevPageLastElemOffset)[0];var Gt=(on>Qt||on<Zt)&&b.call(this);Gt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Sn,wt,null).clip().discardPath()),this.pdf.addImage(O,"JPEG",qt.x,qt.y,qt.w,qt.h,null,null,it),Gt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(O,"JPEG",tt.x,tt.y,tt.w,tt.h,null,null,it)};var A=function(O,J,U){var Y=[];J=J||this.pdf.internal.pageSize.width,U=U||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ne=this.posY+this.ctx.prevPageLastElemOffset;switch(O.type){default:case"mt":case"lt":Y.push(Math.floor((O.y+ne)/U)+1);break;case"arc":Y.push(Math.floor((O.y+ne-O.radius)/U)+1),Y.push(Math.floor((O.y+ne+O.radius)/U)+1);break;case"qct":var ye=xe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,O.x1,O.y1,O.x,O.y);Y.push(Math.floor((ye.y+ne)/U)+1),Y.push(Math.floor((ye.y+ye.h+ne)/U)+1);break;case"bct":var pe=Re(this.ctx.lastPoint.x,this.ctx.lastPoint.y,O.x1,O.y1,O.x2,O.y2,O.x,O.y);Y.push(Math.floor((pe.y+ne)/U)+1),Y.push(Math.floor((pe.y+pe.h+ne)/U)+1);break;case"rect":Y.push(Math.floor((O.y+ne)/U)+1),Y.push(Math.floor((O.y+O.h+ne)/U)+1)}for(var ue=0;ue<Y.length;ue+=1)for(;this.pdf.internal.getNumberOfPages()<Y[ue];)N.call(this);return Y},N=function(){var O=this.fillStyle,J=this.strokeStyle,U=this.font,Y=this.lineCap,ne=this.lineWidth,ye=this.lineJoin;this.pdf.addPage(),this.fillStyle=O,this.strokeStyle=J,this.font=U,this.lineCap=Y,this.lineWidth=ne,this.lineJoin=ye},V=function(O,J,U){for(var Y=0;Y<O.length;Y++)switch(O[Y].type){case"bct":O[Y].x2+=J,O[Y].y2+=U;case"qct":O[Y].x1+=J,O[Y].y1+=U;default:O[Y].x+=J,O[Y].y+=U}return O},k=function(O){return O.sort(function(J,U){return J-U})},B=function(O,J){var U=this.fillStyle,Y=this.strokeStyle,ne=this.lineCap,ye=this.lineWidth,pe=Math.abs(ye*this.ctx.transform.scaleX),ue=this.lineJoin;if(this.autoPaging){for(var Te,je,ce=JSON.parse(JSON.stringify(this.path)),dt=JSON.parse(JSON.stringify(this.path)),pt=[],se=0;se<dt.length;se++)if(dt[se].x!==void 0)for(var nt=A.call(this,dt[se]),it=0;it<nt.length;it+=1)pt.indexOf(nt[it])===-1&&pt.push(nt[it]);for(var Pt=0;Pt<pt.length;Pt++)for(;this.pdf.internal.getNumberOfPages()<pt[Pt];)N.call(this);k(pt);for(var tt=pt[0],St=pt[pt.length-1],Ct=tt;Ct<St+1;Ct++){this.pdf.setPage(Ct),this.fillStyle=U,this.strokeStyle=Y,this.lineCap=ne,this.lineWidth=pe,this.lineJoin=ue;var Lt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],jt=Ct===1?this.posY+this.margin[0]:this.margin[0],Qt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Zt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],on=Ct===1?0:Qt+(Ct-2)*Zt;if(this.ctx.clip_path.length!==0){var Sn=this.path;Te=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=V(Te,this.posX+this.margin[3],-on+jt+this.ctx.prevPageLastElemOffset),W.call(this,O,!0),this.path=Sn}if(je=JSON.parse(JSON.stringify(ce)),this.path=V(je,this.posX+this.margin[3],-on+jt+this.ctx.prevPageLastElemOffset),J===!1||Ct===0){var Bt=(Ct>tt||Ct<St)&&b.call(this);Bt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Lt,Zt,null).clip().discardPath()),W.call(this,O,J),Bt&&this.pdf.restoreGraphicsState()}this.lineWidth=ye}this.path=ce}else this.lineWidth=pe,W.call(this,O,J),this.lineWidth=ye},W=function(O,J){if((O!=="stroke"||J||!E.call(this))&&(O==="stroke"||J||!y.call(this))){for(var U,Y,ne=[],ye=this.path,pe=0;pe<ye.length;pe++){var ue=ye[pe];switch(ue.type){case"begin":ne.push({begin:!0});break;case"close":ne.push({close:!0});break;case"mt":ne.push({start:ue,deltas:[],abs:[]});break;case"lt":var Te=ne.length;if(ye[pe-1]&&!isNaN(ye[pe-1].x)&&(U=[ue.x-ye[pe-1].x,ue.y-ye[pe-1].y],Te>0)){for(;Te>=0;Te--)if(ne[Te-1].close!==!0&&ne[Te-1].begin!==!0){ne[Te-1].deltas.push(U),ne[Te-1].abs.push(ue);break}}break;case"bct":U=[ue.x1-ye[pe-1].x,ue.y1-ye[pe-1].y,ue.x2-ye[pe-1].x,ue.y2-ye[pe-1].y,ue.x-ye[pe-1].x,ue.y-ye[pe-1].y],ne[ne.length-1].deltas.push(U);break;case"qct":var je=ye[pe-1].x+2/3*(ue.x1-ye[pe-1].x),ce=ye[pe-1].y+2/3*(ue.y1-ye[pe-1].y),dt=ue.x+2/3*(ue.x1-ue.x),pt=ue.y+2/3*(ue.y1-ue.y),se=ue.x,nt=ue.y;U=[je-ye[pe-1].x,ce-ye[pe-1].y,dt-ye[pe-1].x,pt-ye[pe-1].y,se-ye[pe-1].x,nt-ye[pe-1].y],ne[ne.length-1].deltas.push(U);break;case"arc":ne.push({deltas:[],abs:[],arc:!0}),Array.isArray(ne[ne.length-1].abs)&&ne[ne.length-1].abs.push(ue)}}Y=J?null:O==="stroke"?"stroke":"fill";for(var it=!1,Pt=0;Pt<ne.length;Pt++)if(ne[Pt].arc)for(var tt=ne[Pt].abs,St=0;St<tt.length;St++){var Ct=tt[St];Ct.type==="arc"?L.call(this,Ct.x,Ct.y,Ct.radius,Ct.startAngle,Ct.endAngle,Ct.counterclockwise,void 0,J,!it):H.call(this,Ct.x,Ct.y),it=!0}else if(ne[Pt].close===!0)this.pdf.internal.out("h"),it=!1;else if(ne[Pt].begin!==!0){var Lt=ne[Pt].start.x,jt=ne[Pt].start.y;ae.call(this,ne[Pt].deltas,Lt,jt),it=!0}Y&&R.call(this,Y),J&&q.call(this)}},K=function(O){var J=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,U=J*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return O-U;case"top":return O+J-U;case"hanging":return O+J-2*U;case"middle":return O+J/2-U;default:return O}},D=function(O){return O+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};p.prototype.createLinearGradient=function(){var O=function(){};return O.colorStops=[],O.addColorStop=function(J,U){this.colorStops.push([J,U])},O.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},O.isCanvasGradient=!0,O},p.prototype.createPattern=function(){return this.createLinearGradient()},p.prototype.createRadialGradient=function(){return this.createLinearGradient()};var L=function(O,J,U,Y,ne,ye,pe,ue,Te){for(var je=oe.call(this,U,Y,ne,ye),ce=0;ce<je.length;ce++){var dt=je[ce];ce===0&&(Te?P.call(this,dt.x1+O,dt.y1+J):H.call(this,dt.x1+O,dt.y1+J)),Se.call(this,O,J,dt.x2,dt.y2,dt.x3,dt.y3,dt.x4,dt.y4)}ue?q.call(this):R.call(this,pe)},R=function(O){switch(O){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},q=function(){this.pdf.clip(),this.pdf.discardPath()},P=function(O,J){this.pdf.internal.out(n(O)+" "+r(J)+" m")},M=function(O){var J;switch(O.align){case"right":case"end":J="right";break;case"center":J="center";break;default:J="left"}var U,Y,ne,ye=this.pdf.getTextDimensions(O.text),pe=K.call(this,O.y),ue=D.call(this,pe)-ye.h,Te=this.ctx.transform.applyToPoint(new a(O.x,pe));if(this.autoPaging){var je=this.ctx.transform.decompose(),ce=new c;ce=(ce=(ce=ce.multiply(je.translate)).multiply(je.skew)).multiply(je.scale);for(var dt=this.ctx.transform.applyToRectangle(new o(O.x,pe,ye.w,ye.h)),pt=ce.applyToRectangle(new o(O.x,ue,ye.w,ye.h)),se=A.call(this,pt),nt=[],it=0;it<se.length;it+=1)nt.indexOf(se[it])===-1&&nt.push(se[it]);k(nt);for(var Pt=nt[0],tt=nt[nt.length-1],St=Pt;St<tt+1;St++){this.pdf.setPage(St);var Ct=St===1?this.posY+this.margin[0]:this.margin[0],Lt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],jt=this.pdf.internal.pageSize.height-this.margin[2],Qt=jt-this.margin[0],Zt=this.pdf.internal.pageSize.width-this.margin[1],on=Zt-this.margin[3],Sn=St===1?0:Lt+(St-2)*Qt;if(this.ctx.clip_path.length!==0){var Bt=this.path;U=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=V(U,this.posX+this.margin[3],-1*Sn+Ct),W.call(this,"fill",!0),this.path=Bt}var vt=V([JSON.parse(JSON.stringify(pt))],this.posX+this.margin[3],-Sn+Ct+this.ctx.prevPageLastElemOffset)[0];O.scale>=.01&&(Y=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Y*O.scale),ne=this.lineWidth,this.lineWidth=ne*O.scale);var wt=this.autoPaging!=="text";if(wt||vt.y+vt.h<=jt){if(wt||vt.y>=Ct&&vt.x<=Zt){var Et=wt?O.text:this.pdf.splitTextToSize(O.text,O.maxWidth||Zt-vt.x)[0],Wn=V([JSON.parse(JSON.stringify(dt))],this.posX+this.margin[3],-Sn+Ct+this.ctx.prevPageLastElemOffset)[0],qt=wt&&(St>Pt||St<tt)&&b.call(this);qt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],on,Qt,null).clip().discardPath()),this.pdf.text(Et,Wn.x,Wn.y,{angle:O.angle,align:J,renderingMode:O.renderingMode}),qt&&this.pdf.restoreGraphicsState()}}else vt.y<jt&&(this.ctx.prevPageLastElemOffset+=jt-vt.y);O.scale>=.01&&(this.pdf.setFontSize(Y),this.lineWidth=ne)}}else O.scale>=.01&&(Y=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Y*O.scale),ne=this.lineWidth,this.lineWidth=ne*O.scale),this.pdf.text(O.text,Te.x+this.posX,Te.y+this.posY,{angle:O.angle,align:J,renderingMode:O.renderingMode,maxWidth:O.maxWidth}),O.scale>=.01&&(this.pdf.setFontSize(Y),this.lineWidth=ne)},H=function(O,J,U,Y){U=U||0,Y=Y||0,this.pdf.internal.out(n(O+U)+" "+r(J+Y)+" l")},ae=function(O,J,U){return this.pdf.lines(O,J,U,null,null)},Se=function(O,J,U,Y,ne,ye,pe,ue){this.pdf.internal.out([e(s(U+O)),e(i(Y+J)),e(s(ne+O)),e(i(ye+J)),e(s(pe+O)),e(i(ue+J)),"c"].join(" "))},oe=function(O,J,U,Y){for(var ne=2*Math.PI,ye=Math.PI/2;J>U;)J-=ne;var pe=Math.abs(U-J);pe<ne&&Y&&(pe=ne-pe);for(var ue=[],Te=Y?-1:1,je=J;pe>1e-5;){var ce=je+Te*Math.min(pe,ye);ue.push(ve.call(this,O,je,ce)),pe-=Math.abs(ce-je),je=ce}return ue},ve=function(O,J,U){var Y=(U-J)/2,ne=O*Math.cos(Y),ye=O*Math.sin(Y),pe=ne,ue=-ye,Te=pe*pe+ue*ue,je=Te+pe*ne+ue*ye,ce=4/3*(Math.sqrt(2*Te*je)-je)/(pe*ye-ue*ne),dt=pe-ce*ue,pt=ue+ce*pe,se=dt,nt=-pt,it=Y+J,Pt=Math.cos(it),tt=Math.sin(it);return{x1:O*Math.cos(J),y1:O*Math.sin(J),x2:dt*Pt-pt*tt,y2:dt*tt+pt*Pt,x3:se*Pt-nt*tt,y3:se*tt+nt*Pt,x4:O*Math.cos(U),y4:O*Math.sin(U)}},Ie=function(O){return 180*O/Math.PI},xe=function(O,J,U,Y,ne,ye){var pe=O+.5*(U-O),ue=J+.5*(Y-J),Te=ne+.5*(U-ne),je=ye+.5*(Y-ye),ce=Math.min(O,ne,pe,Te),dt=Math.max(O,ne,pe,Te),pt=Math.min(J,ye,ue,je),se=Math.max(J,ye,ue,je);return new o(ce,pt,dt-ce,se-pt)},Re=function(O,J,U,Y,ne,ye,pe,ue){var Te,je,ce,dt,pt,se,nt,it,Pt,tt,St,Ct,Lt,jt,Qt=U-O,Zt=Y-J,on=ne-U,Sn=ye-Y,Bt=pe-ne,vt=ue-ye;for(je=0;je<41;je++)Pt=(nt=(ce=O+(Te=je/40)*Qt)+Te*((pt=U+Te*on)-ce))+Te*(pt+Te*(ne+Te*Bt-pt)-nt),tt=(it=(dt=J+Te*Zt)+Te*((se=Y+Te*Sn)-dt))+Te*(se+Te*(ye+Te*vt-se)-it),je==0?(St=Pt,Ct=tt,Lt=Pt,jt=tt):(St=Math.min(St,Pt),Ct=Math.min(Ct,tt),Lt=Math.max(Lt,Pt),jt=Math.max(jt,tt));return new o(Math.round(St),Math.round(Ct),Math.round(Lt-St),Math.round(jt-Ct))},re=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var O,J,U=(O=this.ctx.lineDash,J=this.ctx.lineDashOffset,JSON.stringify({lineDash:O,lineDashOffset:J}));this.prevLineDash!==U&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=U)}}})(hn.API),(function(t){var e=function(a){var o,c,f,d,p,g,y,E,b,A;for(c=[],f=0,d=(a+=o="\0\0\0\0".slice(a.length%4||4)).length;d>f;f+=4)(p=(a.charCodeAt(f)<<24)+(a.charCodeAt(f+1)<<16)+(a.charCodeAt(f+2)<<8)+a.charCodeAt(f+3))!==0?(g=(p=((p=((p=((p=(p-(A=p%85))/85)-(b=p%85))/85)-(E=p%85))/85)-(y=p%85))/85)%85,c.push(g+33,y+33,E+33,b+33,A+33)):c.push(122);return(function(N,V){for(var k=V;k>0;k--)N.pop()})(c,o.length),String.fromCharCode.apply(String,c)+"~>"},n=function(a){var o,c,f,d,p,g=String,y="length",E=255,b="charCodeAt",A="slice",N="replace";for(a[A](-2),a=a[A](0,-2)[N](/\s/g,"")[N]("z","!!!!!"),f=[],d=0,p=(a+=o="uuuuu"[A](a[y]%5||5))[y];p>d;d+=5)c=52200625*(a[b](d)-33)+614125*(a[b](d+1)-33)+7225*(a[b](d+2)-33)+85*(a[b](d+3)-33)+(a[b](d+4)-33),f.push(E&c>>24,E&c>>16,E&c>>8,E&c);return(function(V,k){for(var B=k;B>0;B--)V.pop()})(f,o[y]),g.fromCharCode.apply(g,f)},r=function(a){return a.split("").map(function(o){return("0"+o.charCodeAt().toString(16)).slice(-2)}).join("")+">"},s=function(a){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),o.test(a)===!1)return"";for(var c="",f=0;f<a.length;f+=2)c+=String.fromCharCode("0x"+(a[f]+a[f+1]));return c},i=function(a){for(var o=new Uint8Array(a.length),c=a.length;c--;)o[c]=a.charCodeAt(c);return(o=Z5(o)).reduce(function(f,d){return f+String.fromCharCode(d)},"")};t.processDataByFilters=function(a,o){var c=0,f=a||"",d=[];for(typeof(o=o||[])=="string"&&(o=[o]),c=0;c<o.length;c+=1)switch(o[c]){case"ASCII85Decode":case"/ASCII85Decode":f=n(f),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":f=e(f),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":f=s(f),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":f=r(f),d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":f=i(f),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[c]+'" is not implemented')}return{data:f,reverseChain:d.reverse().join(" ")}}})(hn.API),(function(t){t.loadFile=function(e,n,r){return(function(s,i,a){i=i!==!1,a=typeof a=="function"?a:function(){};var o=void 0;try{o=(function(c,f,d){var p=new XMLHttpRequest,g=0,y=function(E){var b=E.length,A=[],N=String.fromCharCode;for(g=0;g<b;g+=1)A.push(N(255&E.charCodeAt(g)));return A.join("")};if(p.open("GET",c,!f),p.overrideMimeType("text/plain; charset=x-user-defined"),f===!1&&(p.onload=function(){p.status===200?d(y(this.responseText)):d(void 0)}),p.send(null),f&&p.status===200)return y(p.responseText)})(s,i,a)}catch{}return o})(e,n,r)},t.loadImageFile=t.loadFile})(hn.API),(function(t){function e(){return(Dn.html2canvas?Promise.resolve(Dn.html2canvas):Z0(()=>import("./html2canvas.esm-Ge7aVWlp.js"),[],import.meta.url)).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function n(){return(Dn.DOMPurify?Promise.resolve(Dn.DOMPurify):Z0(()=>import("./purify.es-C65SP4u9.js"),[],import.meta.url)).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var r=function(o){var c=Ur(o);return c==="undefined"?"undefined":c==="string"||o instanceof String?"string":c==="number"||o instanceof Number?"number":c==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":c==="object"?"object":"unknown"},s=function(o,c){var f=document.createElement(o);for(var d in c.className&&(f.className=c.className),c.innerHTML&&c.dompurify&&(f.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)f.style[d]=c.style[d];return f},i=function o(c,f){for(var d=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),p=c.firstChild;p;p=p.nextSibling)f!==!0&&p.nodeType===1&&p.nodeName==="SCRIPT"||d.appendChild(o(p,f));return c.nodeType===1&&(c.nodeName==="CANVAS"?(d.width=c.width,d.height=c.height,d.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(d.value=c.value),d.addEventListener("load",function(){d.scrollTop=c.scrollTop,d.scrollLeft=c.scrollLeft},!0)),d},a=function o(c){var f=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),d=o.convert(Promise.resolve(),f);return(d=d.setProgress(1,o,1,[o])).set(c)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(o,c){return o.__proto__=c||a.prototype,o},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(o,c){return this.then(function(){switch(c=c||(function(f){switch(r(f)){case"string":return"string";case"element":return f.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(o),c){case"string":return this.then(n).then(function(f){return this.set({src:s("div",{innerHTML:o,dompurify:f})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},a.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=i(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(c){var f=Object.assign({},this.opt.html2canvas);return delete f.onrendered,c(this.prop.container,f)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(c){var f=this.opt.jsPDF,d=this.opt.fontFaces,p=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,g=Object.assign({async:!0,allowTaint:!0,scale:p,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete g.onrendered,f.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,f.context2d.posX=this.opt.x,f.context2d.posY=this.opt.y,f.context2d.margin=this.opt.margin,f.context2d.fontFaces=d,d)for(var y=0;y<d.length;++y){var E=d[y],b=E.src.find(function(A){return A.format==="truetype"});b&&f.addFont(b.url,E.ref.name,E.ref.style)}return g.windowHeight=g.windowHeight||0,g.windowHeight=g.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):g.windowHeight,f.context2d.save(!0),c(this.prop.container,g)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(o,c,f){return(f=f||"pdf").toLowerCase()==="img"||f.toLowerCase()==="image"?this.outputImg(o,c):this.outputPdf(o,c)},a.prototype.outputPdf=function(o,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,c)})},a.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},a.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(o){if(r(o)!=="object")return this;var c=Object.keys(o||{}).map(function(f){if(f in a.template.prop)return function(){this.prop[f]=o[f]};switch(f){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[f]=o[f]}}},this);return this.then(function(){return this.thenList(c)})},a.prototype.get=function(o,c){return this.then(function(){var f=o in a.template.prop?this.prop[o]:this.opt[o];return c?c(f):f})},a.prototype.setMargin=function(o){return this.then(function(){switch(r(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},a.prototype.setPageSize=function(o){function c(f,d){return Math.floor(f*d/72*96)}return this.then(function(){(o=o||hn.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:c(o.inner.width,o.k),height:c(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},a.prototype.setProgress=function(o,c,f,d){return o!=null&&(this.progress.val=o),c!=null&&(this.progress.state=c),f!=null&&(this.progress.n=f),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(o,c,f,d){return this.setProgress(o?this.progress.val+o:null,c||null,f?this.progress.n+f:null,d?this.progress.stack.concat(d):null)},a.prototype.then=function(o,c){var f=this;return this.thenCore(o,c,function(d,p){return f.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(g){return f.updateProgress(null,d),g}).then(d,p).then(function(g){return f.updateProgress(1),g})})},a.prototype.thenCore=function(o,c,f){f=f||Promise.prototype.then;var d=this;o&&(o=o.bind(d)),c&&(c=c.bind(d));var p=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?d:a.convert(Object.assign({},d),Promise.prototype),g=f.call(p,o,c);return a.convert(g,d.__proto__)},a.prototype.thenExternal=function(o,c){return Promise.prototype.then.call(this,o,c)},a.prototype.thenList=function(o){var c=this;return o.forEach(function(f){c=c.thenCore(f)}),c},a.prototype.catch=function(o){o&&(o=o.bind(this));var c=Promise.prototype.catch.call(this,o);return a.convert(c,this)},a.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},a.prototype.error=function(o){return this.then(function(){throw new Error(o)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,hn.getPageSize=function(o,c,f){if(Ur(o)==="object"){var d=o;o=d.orientation,c=d.unit||c,f=d.format||f}c=c||"mm",f=f||"a4",o=(""+(o||"P")).toLowerCase();var p,g=(""+f).toLowerCase(),y={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":p=1;break;case"mm":p=72/25.4;break;case"cm":p=72/2.54;break;case"in":p=72;break;case"px":p=.75;break;case"pc":case"em":p=12;break;case"ex":p=6;break;default:throw"Invalid unit: "+c}var E,b=0,A=0;if(y.hasOwnProperty(g))b=y[g][1]/p,A=y[g][0]/p;else try{b=f[1],A=f[0]}catch{throw new Error("Invalid format: "+f)}if(o==="p"||o==="portrait")o="p",A>b&&(E=A,A=b,b=E);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",b>A&&(E=A,A=b,b=E)}return{width:A,height:b,unit:c,k:p,orientation:o}},t.html=function(o,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(Kb):null;var f=new a(c);return c.worker?f:f.from(o).doCallback()}})(hn.API),hn.API.addJS=function(t){return yR=t,this.internal.events.subscribe("postPutResources",function(){Zx=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Zx+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),xR=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+yR+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Zx!==void 0&&xR!==void 0&&this.internal.out("/Names <</JavaScript "+Zx+" 0 R>>")}),this},(function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=n.outline.render().split(/\r\n/),i=0;i<s.length;i++){var a=s[i],o=r.exec(a);if(o!=null){var c=o[1];n.internal.newObjectDeferredBegin(c,!1)}n.internal.write(a)}if(this.outline.createNamedDestinations){var f=this.internal.pages.length,d=[];for(i=0;i<f;i++){var p=n.internal.newObject();d.push(p);var g=n.internal.getPageInfo(i+1);n.internal.write("<< /D["+g.objId+" 0 R /XYZ null null null]>> endobj")}var y=n.internal.newObject();for(n.internal.write("<< /Names [ "),i=0;i<d.length;i++)n.internal.write("(page_"+(i+1)+")"+d[i]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+y+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var n=this;n.outline.root.children.length>0&&(n.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&n.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,s,i){var a={title:s,options:i,children:[]};return r==null&&(r=this.root),r.children.push(a),a},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var s=0;s<r.children.length;s++)this.genIds_r(r.children[s])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<r.children.length;i++){var a=r.children[i];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(r)),i>0&&this.line("/Prev "+this.makeRef(r.children[i-1])),i<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[i+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var o=this.count=this.count_r({count:0},a);if(o>0&&this.line("/Count "+o),a.options&&a.options.pageNumber){var c=n.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var f=0;f<r.children.length;f++)this.renderItems(r.children[f])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,s){for(var i=0;i<s.children.length;i++)r.count++,this.count_r(r,s.children[i]);return r.count}}])})(hn.API),(function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,s,i,a,o){var c,f=this.decode.DCT_DECODE,d=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=a||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,c=(function(p){for(var g,y=256*p.charCodeAt(4)+p.charCodeAt(5),E=p.length,b={width:0,height:0,numcomponents:1},A=4;A<E;A+=2){if(A+=y,e.indexOf(p.charCodeAt(A+1))!==-1){g=256*p.charCodeAt(A+5)+p.charCodeAt(A+6),b={width:256*p.charCodeAt(A+7)+p.charCodeAt(A+8),height:g,numcomponents:p.charCodeAt(A+9)};break}y=256*p.charCodeAt(A+2)+p.charCodeAt(A+3)}return b})(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n),c.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}d={data:n,width:c.width,height:c.height,colorSpace:o,bitsPerComponent:8,filter:f,index:r,alias:s}}return d}})(hn.API),hn.API.processPNG=function(t,e,n,r){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var s,i=Mce(t,{checkCrc:!0}),a=i.width,o=i.height,c=i.channels,f=i.palette,d=i.depth;s=f&&c===1?(function(L){for(var R=L.width,q=L.height,P=L.data,M=L.palette,H=L.depth,ae=!1,Se=[],oe=[],ve=void 0,Ie=!1,xe=0,Re=0;Re<M.length;Re++){var re=w6(M[Re],4),O=re[0],J=re[1],U=re[2],Y=re[3];Se.push(O,J,U),Y!=null&&(Y===0?(xe++,oe.length<1&&oe.push(Re)):Y<255&&(Ie=!0))}if(Ie||xe>1){ae=!0,oe=void 0;var ne=R*q;ve=new Uint8Array(ne);for(var ye=new DataView(P.buffer),pe=0;pe<ne;pe++){var ue=Xb(ye,pe,H),Te=w6(M[ue],4)[3];ve[pe]=Te}}else xe===0&&(oe=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:ae?8:void 0,colorBytes:P,alphaBytes:ve,needSMask:ae,palette:Se,mask:oe}})(i):c===2||c===4?(function(L){for(var R=L.data,q=L.width,P=L.height,M=L.channels,H=L.depth,ae=M===2?"DeviceGray":"DeviceRGB",Se=M-1,oe=q*P,ve=Se,Ie=oe*ve,xe=1*oe,Re=Math.ceil(Ie*H/8),re=Math.ceil(xe*H/8),O=new Uint8Array(Re),J=new Uint8Array(re),U=new DataView(R.buffer),Y=new DataView(O.buffer),ne=new DataView(J.buffer),ye=!1,pe=0;pe<oe;pe++){for(var ue=pe*M,Te=0;Te<ve;Te++)CR(Y,Xb(U,ue+Te,H),pe*ve+Te,H);var je=Xb(U,ue+ve,H);je<(1<<H)-1&&(ye=!0),CR(ne,je,1*pe,H)}return{colorSpace:ae,colorsPerPixel:Se,sMaskBitsPerComponent:ye?H:void 0,colorBytes:O,alphaBytes:J,needSMask:ye}})(i):(function(L){var R=L.data,q=L.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:q,colorsPerPixel:q==="DeviceGray"?1:3,colorBytes:R instanceof Uint16Array?(function(P){for(var M=P.length,H=new Uint8Array(2*M),ae=new DataView(H.buffer,H.byteOffset,H.byteLength),Se=0;Se<M;Se++)ae.setUint16(2*Se,P[Se],!1);return H})(R):R,needSMask:!1}})(i);var p,g,y,E=s,b=E.colorSpace,A=E.colorsPerPixel,N=E.sMaskBitsPerComponent,V=E.colorBytes,k=E.alphaBytes,B=E.needSMask,W=E.palette,K=E.mask,D=null;return r!==hn.API.image_compression.NONE&&typeof Z5=="function"?(D=(function(L){var R;switch(L){case hn.API.image_compression.FAST:R=11;break;case hn.API.image_compression.MEDIUM:R=13;break;case hn.API.image_compression.SLOW:R=14;break;default:R=12}return R})(r),p=this.decode.FLATE_DECODE,g="/Predictor ".concat(D," /Colors ").concat(A," /BitsPerComponent ").concat(d," /Columns ").concat(a),t=wR(V,Math.ceil(a*A*d/8),A,d,r),B&&(y=wR(k,Math.ceil(a*N/8),1,N,r))):(p=void 0,g=void 0,t=V,B&&(y=k)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(y&&this.__addimage__.isArrayBuffer(y)||this.__addimage__.isArrayBufferView(y))&&(y=this.__addimage__.arrayBufferToBinaryString(y)),{alias:n,data:t,index:e,filter:p,decodeParameters:g,transparency:K,palette:W,sMask:y,predictor:D,width:a,height:o,bitsPerComponent:d,sMaskBitsPerComponent:N,colorSpace:b}}},(function(t){t.processGIF89A=function(e,n,r,s){var i=new tue(e),a=i.width,o=i.height,c=[];i.decodeAndBlitFrameRGBA(0,c);var f={data:c,width:a,height:o},d=new Jb(100).encode(f,100);return t.processJPEG.call(this,d,n,r,s)},t.processGIF87A=t.processGIF89A})(hn.API),Ul.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:s,green:r,blue:n,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ul.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){ss.log("bit decode error:"+n)}},Ul.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,s=0;s<e;s++)for(var i=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+8*s*4,o=0;o<8&&8*s+o<this.width;o++){var c=this.palette[i>>7-o&1];this.data[a+4*o]=c.blue,this.data[a+4*o+1]=c.green,this.data[a+4*o+2]=c.red,this.data[a+4*o+3]=255}n!==0&&(this.pos+=4-n)}},Ul.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,s=0;s<t;s++){var i=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+2*s*4,o=i>>4,c=15&i,f=this.palette[o];if(this.data[a]=f.blue,this.data[a+1]=f.green,this.data[a+2]=f.red,this.data[a+3]=255,2*s+1>=this.width)break;f=this.palette[c],this.data[a+4]=f.blue,this.data[a+4+1]=f.green,this.data[a+4+2]=f.red,this.data[a+4+3]=255}e!==0&&(this.pos+=4-e)}},Ul.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var s=this.datav.getUint8(this.pos++,!0),i=n*this.width*4+4*r;if(s<this.palette.length){var a=this.palette[s];this.data[i]=a.red,this.data[i+1]=a.green,this.data[i+2]=a.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}t!==0&&(this.pos+=4-t)}},Ul.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(i&e)/e*255|0,o=(i>>5&e)/e*255|0,c=(i>>10&e)/e*255|0,f=i>>15?255:0,d=r*this.width*4+4*s;this.data[d]=c,this.data[d+1]=o,this.data[d+2]=a,this.data[d+3]=f}this.pos+=t}},Ul.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var s=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&e)/e*255|0,c=(a>>5&n)/n*255|0,f=(a>>11)/e*255|0,d=s*this.width*4+4*i;this.data[d]=f,this.data[d+1]=c,this.data[d+2]=o,this.data[d+3]=255}this.pos+=t}},Ul.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*n;this.data[a]=i,this.data[a+1]=s,this.data[a+2]=r,this.data[a+3]=255}this.pos+=this.width%4}},Ul.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*n;this.data[o]=i,this.data[o+1]=s,this.data[o+2]=r,this.data[o+3]=a}},Ul.prototype.getData=function(){return this.data},(function(t){t.processBMP=function(e,n,r,s){var i=new Ul(e,!1),a=i.width,o=i.height,c={data:i.getData(),width:a,height:o},f=new Jb(100).encode(c,100);return t.processJPEG.call(this,f,n,r,s)}})(hn.API),IR.prototype.getData=function(){return this.data},(function(t){t.processWEBP=function(e,n,r,s){var i=new IR(e),a=i.width,o=i.height,c={data:i.getData(),width:a,height:o},f=new Jb(100).encode(c,100);return t.processJPEG.call(this,f,n,r,s)}})(hn.API),hn.API.processRGBA=function(t,e,n){for(var r=t.data,s=r.length,i=new Uint8Array(s/4*3),a=new Uint8Array(s/4),o=0,c=0,f=0;f<s;f+=4){var d=r[f],p=r[f+1],g=r[f+2],y=r[f+3];i[o++]=d,i[o++]=p,i[o++]=g,a[c++]=y}var E=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:E,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},hn.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},b0=hn.API,ey=b0.getCharWidthsArray=function(t,e){var n,r,s=(e=e||{}).font||this.internal.getFont(),i=e.fontSize||this.internal.getFontSize(),a=e.charSpace||this.internal.getCharSpace(),o=e.widths?e.widths:s.metadata.Unicode.widths,c=o.fof?o.fof:1,f=e.kerning?e.kerning:s.metadata.Unicode.kerning,d=f.fof?f.fof:1,p=e.doKerning!==!1,g=0,y=t.length,E=0,b=o[0]||c,A=[];for(n=0;n<y;n++)r=t.charCodeAt(n),typeof s.metadata.widthOfString=="function"?A.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(r))+a*(1e3/i)||0)/1e3):(g=p&&Ur(f[r])==="object"&&!isNaN(parseInt(f[r][E],10))?f[r][E]/d:0,A.push((o[r]||b)/c+g)),E=r;return A},vR=b0.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),s=e.charSpace||this.internal.getCharSpace();return b0.processArabic&&(t=b0.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,s)/n:ey.apply(this,arguments).reduce(function(i,a){return i+a},0)},_R=function(t,e,n,r){for(var s=[],i=0,a=t.length,o=0;i!==a&&o+e[i]<n;)o+=e[i],i++;s.push(t.slice(0,i));var c=i;for(o=0;i!==a;)o+e[i]>r&&(s.push(t.slice(c,i)),o=0,c=i),o+=e[i],i++;return c!==i&&s.push(t.slice(c,i)),s},bR=function(t,e,n){n||(n={});var r,s,i,a,o,c,f,d=[],p=[d],g=n.textIndent||0,y=0,E=0,b=t.split(" "),A=ey.apply(this,[" ",n])[0];if(c=n.lineIndent===-1?b[0].length+2:n.lineIndent||0){var N=Array(c).join(" "),V=[];b.map(function(B){(B=B.split(/\s*\n/)).length>1?V=V.concat(B.map(function(W,K){return(K&&W.length?`
`:"")+W})):V.push(B[0])}),b=V,c=vR.apply(this,[N,n])}for(i=0,a=b.length;i<a;i++){var k=0;if(r=b[i],c&&r[0]==`
`&&(r=r.substr(1),k=1),g+y+(E=(s=ey.apply(this,[r,n])).reduce(function(B,W){return B+W},0))>e||k){if(E>e){for(o=_R.apply(this,[r,s,e-(g+y),e]),d.push(o.shift()),d=[o.pop()];o.length;)p.push([o.shift()]);E=s.slice(r.length-(d[0]?d[0].length:0)).reduce(function(B,W){return B+W},0)}else d=[r];p.push(d),g=E+c,y=A}else d.push(r),g+=y+E,y=A}return f=c?function(B,W){return(W?N:"")+B.join(" ")}:function(B){return B.join(" ")},p.map(f)},b0.splitTextToSize=function(t,e,n){var r,s=(n=n||{}).fontSize||this.internal.getFontSize(),i=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var p=this.internal.getFont(d.fontName,d.fontStyle),g="Unicode";return p.metadata[g]?{widths:p.metadata[g].widths||{0:1},kerning:p.metadata[g].kerning||{}}:{font:p.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var a=1*this.internal.scaleFactor*e/s;i.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/s:0,i.lineIndent=n.lineIndent;var o,c,f=[];for(o=0,c=r.length;o<c;o++)f=f.concat(bR.apply(this,[r[o],a,i]));return f},(function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",n="klmnopqrstuvwxyz",r={},s={},i=0;i<16;i++)r[n[i]]=e[i],s[e[i]]=n[i];var a=function(g){return"0x"+parseInt(g,10).toString(16)},o=t.__fontmetrics__.compress=function(g){var y,E,b,A,N=["{"];for(var V in g){if(y=g[V],isNaN(parseInt(V,10))?E="'"+V+"'":(V=parseInt(V,10),E=(E=a(V).slice(2)).slice(0,-1)+s[E.slice(-1)]),typeof y=="number")y<0?(b=a(y).slice(3),A="-"):(b=a(y).slice(2),A=""),b=A+b.slice(0,-1)+s[b.slice(-1)];else{if(Ur(y)!=="object")throw new Error("Don't know what to do with value type "+Ur(y)+".");b=o(y)}N.push(E+b)}return N.push("}"),N.join("")},c=t.__fontmetrics__.uncompress=function(g){if(typeof g!="string")throw new Error("Invalid argument passed to uncompress.");for(var y,E,b,A,N={},V=1,k=N,B=[],W="",K="",D=g.length-1,L=1;L<D;L+=1)(A=g[L])=="'"?y?(b=y.join(""),y=void 0):y=[]:y?y.push(A):A=="{"?(B.push([k,b]),k={},b=void 0):A=="}"?((E=B.pop())[0][E[1]]=k,b=void 0,k=E[0]):A=="-"?V=-1:b===void 0?r.hasOwnProperty(A)?(W+=r[A],b=parseInt(W,16)*V,V=1,W=""):W+=A:r.hasOwnProperty(A)?(K+=r[A],k[b]=parseInt(K,16)*V,V=1,b=void 0,K=""):K+=A;return N},f={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:f,"Courier-Bold":f,"Courier-BoldOblique":f,"Courier-Oblique":f,Helvetica:f,"Helvetica-Bold":f,"Helvetica-BoldOblique":f,"Helvetica-Oblique":f,"Times-Roman":f,"Times-Bold":f,"Times-BoldItalic":f,"Times-Italic":f}},p={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(g){var y=g.font,E=p.Unicode[y.postScriptName];E&&(y.metadata.Unicode={},y.metadata.Unicode.widths=E.widths,y.metadata.Unicode.kerning=E.kerning);var b=d.Unicode[y.postScriptName];b&&(y.metadata.Unicode.encoding=b,y.encoding=b.codePages[0])}])})(hn.API),(function(t){var e=function(n){for(var r=n.length,s=new Uint8Array(r),i=0;i<r;i++)s[i]=n.charCodeAt(i);return s};t.API.events.push(["addFont",function(n){var r=void 0,s=n.font,i=n.instance;if(!s.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(r=i.existsFileInVFS(s.postScriptName)===!1?i.loadFile(s.postScriptName):i.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(a,o){o=/^\x00\x01\x00\x00/.test(o)?e(o):e(By(o)),a.metadata=t.API.TTFFont.open(o),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(s,r)}}])})(hn),hn.API.addSvgAsImage=function(t,e,n,r,s,i,a,o){if(isNaN(e)||isNaN(n))throw ss.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(s))throw ss.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=r,c.height=s;var f=c.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,c.width,c.height);var d={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return(Dn.canvg?Promise.resolve(Dn.canvg):Z0(()=>import("./index.es-CBcQopns.js"),[],import.meta.url)).catch(function(g){return Promise.reject(new Error("Could not load canvg: "+g))}).then(function(g){return g.default?g.default:g}).then(function(g){return g.fromString(f,t,d)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(g){return g.render(d)}).then(function(){p.addImage(c.toDataURL("image/jpeg",1),e,n,r,s,a,o)})},hn.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var s=0;s<this.internal.pages[r].length;s++)this.internal.pages[r][s]=this.internal.pages[r][s].replace(e,n);return this},hn.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,s,i,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(a),c=[],f=0,d=0,p=0;function g(E,b){var A,N=!1;for(A=0;A<E.length;A+=1)E[A]===b&&(N=!0);return N}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var y=o.length;for(p=0;p<y;p+=1)n[o[p]].value=n[o[p]].defaultValue,n[o[p]].explicitSet=!1}if(Ur(t)==="object"){for(s in t)if(i=t[s],g(o,s)&&i!==void 0){if(n[s].type==="boolean"&&typeof i=="boolean")n[s].value=i;else if(n[s].type==="name"&&g(n[s].valueSet,i))n[s].value=i;else if(n[s].type==="integer"&&Number.isInteger(i))n[s].value=i;else if(n[s].type==="array"){for(f=0;f<i.length;f+=1)if(r=!0,i[f].length===1&&typeof i[f][0]=="number")c.push(String(i[f]-1));else if(i[f].length>1){for(d=0;d<i[f].length;d+=1)typeof i[f][d]!="number"&&(r=!1);r===!0&&c.push([i[f][0]-1,i[f][1]-1].join(" "))}n[s].value="["+c.join(" ")+"]"}else n[s].value=n[s].defaultValue;n[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var E,b=[];for(E in n)n[E].explicitSet===!0&&(n[E].type==="name"?b.push("/"+E+" /"+n[E].value):b.push("/"+E+" "+n[E].value));b.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+b.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},(function(t){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(r)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),f=i.length+a.length+o.length+s.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+f+" >>"),this.internal.write("stream"),this.internal.write(s+i+a+o+c),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(r,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}})(hn.API),(function(t){var e=t.API,n=e.pdfEscape16=function(i,a){for(var o,c=a.metadata.Unicode.widths,f=["","0","00","000","0000"],d=[""],p=0,g=i.length;p<g;++p){if(o=a.metadata.characterToGlyph(i.charCodeAt(p)),a.metadata.glyIdsUsed.push(o),a.metadata.toUnicode[o]=i.charCodeAt(p),c.indexOf(o)==-1&&(c.push(o),c.push([parseInt(a.metadata.widthOfGlyph(o),10)])),o=="0")return d.join("");o=o.toString(16),d.push(f[4-o.length],o)}return d.join("")},r=function(i){var a,o,c,f,d,p,g;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],p=0,g=(o=Object.keys(i).sort(function(y,E){return y-E})).length;p<g;p++)a=o[p],c.length>=100&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),i[a]!==void 0&&i[a]!==null&&typeof i[a].toString=="function"&&(f=("0000"+i[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),c.push("<"+a+"><"+f+">"));return c.length&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),d+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(i){(function(a){var o=a.font,c=a.out,f=a.newObject,d=a.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="Identity-H"){for(var p=o.metadata.Unicode.widths,g=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),y="",E=0;E<g.length;E++)y+=String.fromCharCode(g[E]);var b=f();d({data:y,addLength1:!0,objectId:b}),c("endobj");var A=f();d({data:r(o.metadata.toUnicode),addLength1:!0,objectId:A}),c("endobj");var N=f();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+R0(o.fontName)),c("/FontFile2 "+b+" 0 R"),c("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),c("/Flags "+o.metadata.flags),c("/StemV "+o.metadata.stemV),c("/ItalicAngle "+o.metadata.italicAngle),c("/Ascent "+o.metadata.ascender),c("/Descent "+o.metadata.decender),c("/CapHeight "+o.metadata.capHeight),c(">>"),c("endobj");var V=f();c("<<"),c("/Type /Font"),c("/BaseFont /"+R0(o.fontName)),c("/FontDescriptor "+N+" 0 R"),c("/W "+t.API.PDFObject.convert(p)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+o.encoding+")"),c(">>"),c(">>"),c("endobj"),o.objectNumber=f(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+A+" 0 R"),c("/BaseFont /"+R0(o.fontName)),c("/Encoding /"+o.encoding),c("/DescendantFonts ["+V+" 0 R]"),c(">>"),c("endobj"),o.isAlreadyPutted=!0}})(i)}]),e.events.push(["putFont",function(i){(function(a){var o=a.font,c=a.out,f=a.newObject,d=a.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var p=o.metadata.rawData,g="",y=0;y<p.length;y++)g+=String.fromCharCode(p[y]);var E=f();d({data:g,addLength1:!0,objectId:E}),c("endobj");var b=f();d({data:r(o.metadata.toUnicode),addLength1:!0,objectId:b}),c("endobj");var A=f();c("<<"),c("/Descent "+o.metadata.decender),c("/CapHeight "+o.metadata.capHeight),c("/StemV "+o.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+E+" 0 R"),c("/Flags 96"),c("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),c("/FontName /"+R0(o.fontName)),c("/ItalicAngle "+o.metadata.italicAngle),c("/Ascent "+o.metadata.ascender),c(">>"),c("endobj"),o.objectNumber=f();for(var N=0;N<o.metadata.hmtx.widths.length;N++)o.metadata.hmtx.widths[N]=parseInt(o.metadata.hmtx.widths[N]*(1e3/o.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+b+" 0 R/BaseFont/"+R0(o.fontName)+"/FontDescriptor "+A+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),c("endobj"),o.isAlreadyPutted=!0}})(i)}]);var s=function(i){var a,o=i.text||"",c=i.x,f=i.y,d=i.options||{},p=i.mutex||{},g=p.pdfEscape,y=p.activeFontKey,E=p.fonts,b=y,A="",N=0,V="",k=E[b].encoding;if(E[b].encoding!=="Identity-H")return{text:o,x:c,y:f,options:d,mutex:p};for(V=o,b=y,Array.isArray(o)&&(V=o[0]),N=0;N<V.length;N+=1)E[b].metadata.hasOwnProperty("cmap")&&(a=E[b].metadata.cmap.unicode.codeMap[V[N].charCodeAt(0)]),a||V[N].charCodeAt(0)<256&&E[b].metadata.hasOwnProperty("Unicode")?A+=V[N]:A+="";var B="";return parseInt(b.slice(1))<14||k==="WinAnsiEncoding"?B=g(A,b).split("").map(function(W){return W.charCodeAt(0).toString(16)}).join(""):k==="Identity-H"&&(B=n(A,E[b])),p.isHex=!0,{text:B,x:c,y:f,options:d,mutex:p}};e.events.push(["postProcessText",function(i){var a=i.text||"",o=[],c={text:a,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(a)){var f=0;for(f=0;f<a.length;f+=1)Array.isArray(a[f])&&a[f].length===3?o.push([s(Object.assign({},c,{text:a[f][0]})).text,a[f][1],a[f][2]]):o.push(s(Object.assign({},c,{text:a[f]})).text);i.text=o}else i.text=s(Object.assign({},c,{text:a})).text}])})(hn),(function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}})(hn.API),(function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var s,i,a,o,c,f,d,p=e,g=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],y=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],E={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},b={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},A=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],N=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),V=!1,k=0;this.__bidiEngine__={};var B=function(P){var M=P.charCodeAt(),H=M>>8,ae=b[H];return ae!==void 0?p[256*ae+(255&M)]:H===252||H===253?"AL":N.test(H)?"L":H===8?"R":"N"},W=function(P){for(var M,H=0;H<P.length;H++){if((M=B(P.charAt(H)))==="L")return!1;if(M==="R")return!0}return!1},K=function(P,M,H,ae){var Se,oe,ve,Ie,xe=M[ae];switch(xe){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":V=!1;break;case"N":case"AN":break;case"EN":V&&(xe="AN");break;case"AL":V=!0,xe="R";break;case"WS":case"BN":xe="N";break;case"CS":ae<1||ae+1>=M.length||(Se=H[ae-1])!=="EN"&&Se!=="AN"||(oe=M[ae+1])!=="EN"&&oe!=="AN"?xe="N":V&&(oe="AN"),xe=oe===Se?oe:"N";break;case"ES":xe=(Se=ae>0?H[ae-1]:"B")==="EN"&&ae+1<M.length&&M[ae+1]==="EN"?"EN":"N";break;case"ET":if(ae>0&&H[ae-1]==="EN"){xe="EN";break}if(V){xe="N";break}for(ve=ae+1,Ie=M.length;ve<Ie&&M[ve]==="ET";)ve++;xe=ve<Ie&&M[ve]==="EN"?"EN":"N";break;case"NSM":if(a&&!o){for(Ie=M.length,ve=ae+1;ve<Ie&&M[ve]==="NSM";)ve++;if(ve<Ie){var Re=P[ae],re=Re>=1425&&Re<=2303||Re===64286;if(Se=M[ve],re&&(Se==="R"||Se==="AL")){xe="R";break}}}xe=ae<1||(Se=M[ae-1])==="B"?"N":H[ae-1];break;case"B":V=!1,s=!0,xe=k;break;case"S":i=!0,xe="N"}return xe},D=function(P,M,H){var ae=P.split("");return H&&L(ae,H,{hiLevel:k}),ae.reverse(),M&&M.reverse(),ae.join("")},L=function(P,M,H){var ae,Se,oe,ve,Ie,xe=-1,Re=P.length,re=0,O=[],J=k?y:g,U=[];for(V=!1,s=!1,i=!1,Se=0;Se<Re;Se++)U[Se]=B(P[Se]);for(oe=0;oe<Re;oe++){if(Ie=re,O[oe]=K(P,U,O,oe),ae=240&(re=J[Ie][E[O[oe]]]),re&=15,M[oe]=ve=J[re][5],ae>0)if(ae===16){for(Se=xe;Se<oe;Se++)M[Se]=1;xe=-1}else xe=-1;if(J[re][6])xe===-1&&(xe=oe);else if(xe>-1){for(Se=xe;Se<oe;Se++)M[Se]=ve;xe=-1}U[oe]==="B"&&(M[oe]=0),H.hiLevel|=ve}i&&(function(Y,ne,ye){for(var pe=0;pe<ye;pe++)if(Y[pe]==="S"){ne[pe]=k;for(var ue=pe-1;ue>=0&&Y[ue]==="WS";ue--)ne[ue]=k}})(U,M,Re)},R=function(P,M,H,ae,Se){if(!(Se.hiLevel<P)){if(P===1&&k===1&&!s)return M.reverse(),void(H&&H.reverse());for(var oe,ve,Ie,xe,Re=M.length,re=0;re<Re;){if(ae[re]>=P){for(Ie=re+1;Ie<Re&&ae[Ie]>=P;)Ie++;for(xe=re,ve=Ie-1;xe<ve;xe++,ve--)oe=M[xe],M[xe]=M[ve],M[ve]=oe,H&&(oe=H[xe],H[xe]=H[ve],H[ve]=oe);re=Ie}re++}}},q=function(P,M,H){var ae=P.split(""),Se={hiLevel:k};return H||(H=[]),L(ae,H,Se),(function(oe,ve,Ie){if(Ie.hiLevel!==0&&d)for(var xe,Re=0;Re<oe.length;Re++)ve[Re]===1&&(xe=A.indexOf(oe[Re]))>=0&&(oe[Re]=A[xe+1])})(ae,H,Se),R(2,ae,M,H,Se),R(1,ae,M,H,Se),ae.join("")};return this.__bidiEngine__.doBidiReorder=function(P,M,H){if((function(Se,oe){if(oe)for(var ve=0;ve<Se.length;ve++)oe[ve]=ve;o===void 0&&(o=W(Se)),f===void 0&&(f=W(Se))})(P,M),a||!c||f)if(a&&c&&o^f)k=o?1:0,P=D(P,M,H);else if(!a&&c&&f)k=o?1:0,P=q(P,M,H),P=D(P,M);else if(!a||o||c||f){if(a&&!c&&o^f)P=D(P,M),o?(k=0,P=q(P,M,H)):(k=1,P=q(P,M,H),P=D(P,M));else if(a&&o&&!c&&f)k=1,P=q(P,M,H),P=D(P,M);else if(!a&&!c&&o^f){var ae=d;o?(k=1,P=q(P,M,H),k=0,d=!1,P=q(P,M,H),d=ae):(k=0,P=q(P,M,H),P=D(P,M),k=1,d=!1,P=q(P,M,H),d=ae,P=D(P,M))}}else k=0,P=q(P,M,H);else k=o?1:0,P=q(P,M,H);return P},this.__bidiEngine__.setOptions=function(P){P&&(a=P.isInputVisual,c=P.isOutputVisual,o=P.isInputRtl,f=P.isOutputRtl,d=P.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var s=r.text;r.x,r.y;var i=r.options||{};r.mutex,i.lang;var a=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,n.setOptions(i),Object.prototype.toString.call(s)==="[object Array]"){var o=0;for(a=[],o=0;o<s.length;o+=1)Object.prototype.toString.call(s[o])==="[object Array]"?a.push([n.doBidiReorder(s[o][0]),s[o][1],s[o][2]]):a.push([n.doBidiReorder(s[o])]);r.text=a}else r.text=n.doBidiReorder(s);n.setOptions({isInputVisual:!0})}])})(hn),hn.API.TTFFont=(function(){function t(e){var n;if(this.rawData=e,n=this.contents=new Zf(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new gue(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new nue(this.contents),this.head=new sue(this),this.name=new cue(this),this.cmap=new XO(this),this.toUnicode={},this.hhea=new iue(this),this.maxp=new uue(this),this.hmtx=new fue(this),this.post=new oue(this),this.os2=new aue(this),this.loca=new mue(this),this.glyf=new due(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,s,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,o,c,f;for(f=[],a=0,o=(c=this.bbox).length;a<o;a++)e=c[a],f.push(Math.round(e*this.scaleFactor));return f}).call(this),this.stemV=0,this.post.exists?(r=255&(s=this.post.italic_angle),32768&(n=s>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var s,i,a,o;for(a=0,i=0,o=(e=""+e).length;0<=o?i<o:i>o;i=0<=o?++i:--i)s=e.charCodeAt(i),a+=this.widthOfGlyph(this.characterToGlyph(s))+r*(1e3/n)||0;return a*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t})();var ec,Zf=(function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,s;for(s=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)s.push(this.writeByte(e.charCodeAt(n)));return s},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,s,i,a,o,c;return e=this.readByte(),n=this.readByte(),r=this.readByte(),s=this.readByte(),i=this.readByte(),a=this.readByte(),o=this.readByte(),c=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^s)+16777216*(255^i)+65536*(255^a)+256*(255^o)+(255^c)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*s+16777216*i+65536*a+256*o+c},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,s,i;for(i=[],r=0,s=e.length;r<s;r++)n=e[r],i.push(this.writeByte(n));return i},t})(),nue=(function(){var t;function e(n){var r,s,i;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},s=0,i=this.tableCount;0<=i?s<i:s>i;s=0<=i?++s:--s)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,s,i,a,o,c,f,d,p,g,y,E,b;for(b in y=Object.keys(n).length,c=Math.log(2),p=16*Math.floor(Math.log(y)/c),a=Math.floor(p/c),d=16*y-p,(s=new Zf).writeInt(this.scalarType),s.writeShort(y),s.writeShort(p),s.writeShort(a),s.writeShort(d),i=16*y,f=s.pos+i,o=null,E=[],n)for(g=n[b],s.writeString(b),s.writeInt(t(g)),s.writeInt(f),s.writeInt(g.length),E=E.concat(g),b==="head"&&(o=f),f+=g.length;f%4;)E.push(0),f++;return s.write(E),r=2981146554-t(s.data),s.pos=o+8,s.writeUInt32(r),s.data},t=function(n){var r,s,i,a;for(n=JO.call(n);n.length%4;)n.push(0);for(i=new Zf(n),s=0,r=0,a=n.length;r<a;r=r+=4)s+=i.readUInt32();return 4294967295&s},e})(),rue={}.hasOwnProperty,qc=function(t,e){for(var n in e)rue.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};ec=(function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t})();var sue=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return qc(t,ec),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var n;return(n=new Zf).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(e),n.writeShort(this.glyphDataFormat),n.data},t})(),kR=(function(){function t(e,n){var r,s,i,a,o,c,f,d,p,g,y,E,b,A,N,V,k;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),p=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=e.readByte();break;case 4:for(y=e.readUInt16(),g=y/2,e.pos+=6,i=(function(){var B,W;for(W=[],c=B=0;0<=g?B<g:B>g;c=0<=g?++B:--B)W.push(e.readUInt16());return W})(),e.pos+=2,b=(function(){var B,W;for(W=[],c=B=0;0<=g?B<g:B>g;c=0<=g?++B:--B)W.push(e.readUInt16());return W})(),f=(function(){var B,W;for(W=[],c=B=0;0<=g?B<g:B>g;c=0<=g?++B:--B)W.push(e.readUInt16());return W})(),d=(function(){var B,W;for(W=[],c=B=0;0<=g?B<g:B>g;c=0<=g?++B:--B)W.push(e.readUInt16());return W})(),s=(this.length-e.pos+this.offset)/2,o=(function(){var B,W;for(W=[],c=B=0;0<=s?B<s:B>s;c=0<=s?++B:--B)W.push(e.readUInt16());return W})(),c=N=0,k=i.length;N<k;c=++N)for(A=i[c],r=V=E=b[c];E<=A?V<=A:V>=A;r=E<=A?++V:--V)d[c]===0?a=r+f[c]:(a=o[d[c]/2+(r-E)-(g-c)]||0)!==0&&(a+=f[c]),this.codeMap[r]=65535&a}e.pos=p}return t.encode=function(e,n){var r,s,i,a,o,c,f,d,p,g,y,E,b,A,N,V,k,B,W,K,D,L,R,q,P,M,H,ae,Se,oe,ve,Ie,xe,Re,re,O,J,U,Y,ne,ye,pe,ue,Te,je,ce;switch(ae=new Zf,a=Object.keys(e).sort(function(dt,pt){return dt-pt}),n){case"macroman":for(b=0,A=(function(){var dt=[];for(E=0;E<256;++E)dt.push(0);return dt})(),V={0:0},i={},Se=0,xe=a.length;Se<xe;Se++)V[ue=e[s=a[Se]]]==null&&(V[ue]=++b),i[s]={old:e[s],new:V[e[s]]},A[s]=V[e[s]];return ae.writeUInt16(1),ae.writeUInt16(0),ae.writeUInt32(12),ae.writeUInt16(0),ae.writeUInt16(262),ae.writeUInt16(0),ae.write(A),{charMap:i,subtable:ae.data,maxGlyphID:b+1};case"unicode":for(M=[],p=[],k=0,V={},r={},N=f=null,oe=0,Re=a.length;oe<Re;oe++)V[W=e[s=a[oe]]]==null&&(V[W]=++k),r[s]={old:W,new:V[W]},o=V[W]-s,N!=null&&o===f||(N&&p.push(N),M.push(s),f=o),N=s;for(N&&p.push(N),p.push(65535),M.push(65535),q=2*(R=M.length),L=2*Math.pow(Math.log(R)/Math.LN2,2),g=Math.log(L/2)/Math.LN2,D=2*R-L,c=[],K=[],y=[],E=ve=0,re=M.length;ve<re;E=++ve){if(P=M[E],d=p[E],P===65535){c.push(0),K.push(0);break}if(P-(H=r[P].new)>=32768)for(c.push(0),K.push(2*(y.length+R-E)),s=Ie=P;P<=d?Ie<=d:Ie>=d;s=P<=d?++Ie:--Ie)y.push(r[s].new);else c.push(H-P),K.push(0)}for(ae.writeUInt16(3),ae.writeUInt16(1),ae.writeUInt32(12),ae.writeUInt16(4),ae.writeUInt16(16+8*R+2*y.length),ae.writeUInt16(0),ae.writeUInt16(q),ae.writeUInt16(L),ae.writeUInt16(g),ae.writeUInt16(D),ye=0,O=p.length;ye<O;ye++)s=p[ye],ae.writeUInt16(s);for(ae.writeUInt16(0),pe=0,J=M.length;pe<J;pe++)s=M[pe],ae.writeUInt16(s);for(Te=0,U=c.length;Te<U;Te++)o=c[Te],ae.writeUInt16(o);for(je=0,Y=K.length;je<Y;je++)B=K[je],ae.writeUInt16(B);for(ce=0,ne=y.length;ce<ne;ce++)b=y[ce],ae.writeUInt16(b);return{charMap:r,subtable:ae.data,maxGlyphID:k+1}}},t})(),XO=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return qc(t,ec),t.prototype.tag="cmap",t.prototype.parse=function(e){var n,r,s;for(e.pos=this.offset,this.version=e.readUInt16(),s=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=s?r<s:r>s;r=0<=s?++r:--r)n=new kR(e,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(e,n){var r,s;return n==null&&(n="macroman"),r=kR.encode(e,n),(s=new Zf).writeUInt16(0),s.writeUInt16(1),r.table=s.data.concat(r.subtable),r},t})(),iue=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return qc(t,ec),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t})(),aue=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return qc(t,ec),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var n,r;for(r=[],n=0;n<10;++n)r.push(e.readByte());return r})(),this.charRange=(function(){var n,r;for(r=[],n=0;n<4;++n)r.push(e.readInt());return r})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var n,r;for(r=[],n=0;n<2;n=++n)r.push(e.readInt());return r})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t})(),oue=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return qc(t,ec),t.prototype.tag="post",t.prototype.parse=function(e){var n,r,s;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var i;for(r=e.readUInt16(),this.glyphNameIndex=[],i=0;0<=r?i<r:i>r;i=0<=r?++i:--i)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],s=[];e.pos<this.offset+this.length;)n=e.readByte(),s.push(this.names.push(e.readString(n)));return s;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=(function(){var a,o,c;for(c=[],i=a=0,o=this.file.maxp.numGlyphs;0<=o?a<o:a>o;i=0<=o?++a:--a)c.push(e.readUInt32());return c}).call(this)}},t})(),lue=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},cue=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return qc(t,ec),t.prototype.tag="name",t.prototype.parse=function(e){var n,r,s,i,a,o,c,f,d,p,g;for(e.pos=this.offset,e.readShort(),n=e.readShort(),o=e.readShort(),r=[],i=0;0<=n?i<n:i>n;i=0<=n?++i:--i)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+o+e.readShort()});for(c={},i=d=0,p=r.length;d<p;i=++d)s=r[i],e.pos=s.offset,f=e.readString(s.length),a=new lue(f,s),c[g=s.nameID]==null&&(c[g]=[]),c[s.nameID].push(a);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},t})(),uue=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return qc(t,ec),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t})(),fue=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return qc(t,ec),t.prototype.tag="hmtx",t.prototype.parse=function(e){var n,r,s,i,a,o,c;for(e.pos=this.offset,this.metrics=[],n=0,o=this.file.hhea.numberOfMetrics;0<=o?n<o:n>o;n=0<=o?++n:--n)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var f,d;for(d=[],n=f=0;0<=s?f<s:f>s;n=0<=s?++f:--f)d.push(e.readInt16());return d})(),this.widths=(function(){var f,d,p,g;for(g=[],f=0,d=(p=this.metrics).length;f<d;f++)i=p[f],g.push(i.advance);return g}).call(this),r=this.widths[this.widths.length-1],c=[],n=a=0;0<=s?a<s:a>s;n=0<=s?++a:--a)c.push(this.widths.push(r));return c},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t})(),JO=[].slice,due=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return qc(t,ec),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var n,r,s,i,a,o,c,f,d,p;return e in this.cache?this.cache[e]:(i=this.file.loca,n=this.file.contents,r=i.indexOf(e),(s=i.lengthOf(e))===0?this.cache[e]=null:(n.pos=this.offset+r,a=(o=new Zf(n.read(s))).readShort(),f=o.readShort(),p=o.readShort(),c=o.readShort(),d=o.readShort(),this.cache[e]=a===-1?new pue(o,f,p,c,d):new hue(o,a,f,p,c,d),this.cache[e]))},t.prototype.encode=function(e,n,r){var s,i,a,o,c;for(a=[],i=[],o=0,c=n.length;o<c;o++)s=e[n[o]],i.push(a.length),s&&(a=a.concat(s.encode(r)));return i.push(a.length),{table:a,offsets:i}},t})(),hue=(function(){function t(e,n,r,s,i,a){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=s,this.xMax=i,this.yMax=a,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t})(),pue=(function(){function t(e,n,r,s,i){var a,o;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=s,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;o=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&o;)a.pos+=1&o?4:2,128&o?a.pos+=8:64&o?a.pos+=4:8&o&&(a.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new Zf(JO.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t})(),mue=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return qc(t,ec),t.prototype.tag="loca",t.prototype.parse=function(e){var n,r;return e.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var s,i;for(i=[],r=0,s=this.length;r<s;r+=2)i.push(2*e.readUInt16());return i}).call(this):(function(){var s,i;for(i=[],r=0,s=this.length;r<s;r+=4)i.push(e.readUInt32());return i}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,n){for(var r=new Uint32Array(this.offsets.length),s=0,i=0,a=0;a<r.length;++a)if(r[a]=s,i<n.length&&n[i]==a){++i,r[a]=s;var o=this.offsets[a],c=this.offsets[a+1]-o;c>0&&(s+=c)}for(var f=new Array(4*r.length),d=0;d<r.length;++d)f[4*d+3]=255&r[d],f[4*d+2]=(65280&r[d])>>8,f[4*d+1]=(16711680&r[d])>>16,f[4*d]=(4278190080&r[d])>>24;return f},t})(),gue=(function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,s,i;for(n in s=this.font.cmap.tables[0].codeMap,e={},i=this.subset)r=i[n],e[n]=s[r];return e},t.prototype.glyphsFor=function(e){var n,r,s,i,a,o,c;for(s={},a=0,o=e.length;a<o;a++)s[i=e[a]]=this.font.glyf.glyphFor(i);for(i in n=[],s)(r=s[i])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(i in c=this.glyphsFor(n))r=c[i],s[i]=r;return s},t.prototype.encode=function(e,n){var r,s,i,a,o,c,f,d,p,g,y,E,b,A,N;for(s in r=XO.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(e),y={0:0},N=r.charMap)y[(c=N[s]).old]=c.new;for(E in g=r.maxGlyphID,a)E in y||(y[E]=g++);return d=(function(V){var k,B;for(k in B={},V)B[V[k]]=k;return B})(y),p=Object.keys(d).sort(function(V,k){return V-k}),b=(function(){var V,k,B;for(B=[],V=0,k=p.length;V<k;V++)o=p[V],B.push(d[o]);return B})(),i=this.font.glyf.encode(a,b,y),f=this.font.loca.encode(i.offsets,b),A={cmap:this.font.cmap.raw(),glyf:i.table,loca:f,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(A["OS/2"]=this.font.os2.raw()),this.font.directory.encode(A)},t})();hn.API.PDFObject=(function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,s,i,a;if(Array.isArray(n))return"["+(function(){var o,c,f;for(f=[],o=0,c=n.length;o<c;o++)r=n[o],f.push(e.convert(r));return f})().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n?.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(s in i=["<<"],n)a=n[s],i.push("/"+s+" "+e.convert(a));return i.push(">>"),i.join(`
`)}return""+n},e})();const QO=ke.createContext(void 0);function xue({children:t}){const{user:e}=k1(),[n,r]=ke.useState(null),[s,i]=ke.useState(!0),[a,o]=ke.useState(!1),c=async()=>{if(!e){r(null),i(!1);return}try{o(!1);const d=await xee(j0(yu,"companies",e.uid));d.exists()?r(d.data()):r(null)}catch(d){console.error("Error fetching company:",d),d.code==="permission-denied"&&o(!0),r(null)}finally{i(!1)}};ke.useEffect(()=>{c()},[e]);const f=async d=>{if(e)try{await U5(j0(yu,"companies",e.uid),{...d,owner_uid:e.uid,owner_email:e.email,updated_at:wee()},{merge:!0}),await c()}catch(p){throw p.code==="permission-denied"?(o(!0),new Error("Permission denied. Please check Firestore Rules.")):p}};return m.jsx(QO.Provider,{value:{company:n,loading:s,permissionError:a,saveCompany:f,reloadCompany:c},children:t})}function Eh(){const t=ke.useContext(QO);if(t===void 0)throw new Error("useCompany must be used within a CompanyProvider");return t}function yue(t){t.CapacitorUtils.Synapse=new Proxy({},{get(e,n){return new Proxy({},{get(r,s){return(i,a,o)=>{const c=t.Capacitor.Plugins[n];if(c===void 0){o(new Error(`Capacitor plugin ${n} not found`));return}if(typeof c[s]!="function"){o(new Error(`Method ${s} not found in Capacitor plugin ${n}`));return}(async()=>{try{const f=await c[s](i);a(f)}catch(f){o(f)}})()}}})}})}function vue(t){t.CapacitorUtils.Synapse=new Proxy({},{get(e,n){return t.cordova.plugins[n]}})}function _ue(t=!1){typeof window>"u"||(window.CapacitorUtils=window.CapacitorUtils||{},window.Capacitor!==void 0&&!t?yue(window):window.cordova!==void 0&&vue(window))}var k2;(function(t){t.Documents="DOCUMENTS",t.Data="DATA",t.Library="LIBRARY",t.Cache="CACHE",t.External="EXTERNAL",t.ExternalStorage="EXTERNAL_STORAGE",t.ExternalCache="EXTERNAL_CACHE",t.LibraryNoCloud="LIBRARY_NO_CLOUD",t.Temporary="TEMPORARY"})(k2||(k2={}));var RR;(function(t){t.UTF8="utf8",t.ASCII="ascii",t.UTF16="utf16"})(RR||(RR={}));const Hy=Up("Filesystem",{web:()=>Z0(()=>import("./web-CKEpABRo.js"),[],import.meta.url).then(t=>new t.FilesystemWeb)});_ue();var w0={},Qb,PR;function bue(){return PR||(PR=1,Qb=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),Qb}var Zb={},Af={},DR;function Sh(){if(DR)return Af;DR=1;let t;const e=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return Af.getSymbolSize=function(r){if(!r)throw new Error('"version" cannot be null or undefined');if(r<1||r>40)throw new Error('"version" should be in range from 1 to 40');return r*4+17},Af.getSymbolTotalCodewords=function(r){return e[r]},Af.getBCHDigit=function(n){let r=0;for(;n!==0;)r++,n>>>=1;return r},Af.setToSJISFunction=function(r){if(typeof r!="function")throw new Error('"toSJISFunc" is not a valid function.');t=r},Af.isKanjiModeEnabled=function(){return typeof t<"u"},Af.toSJIS=function(r){return t(r)},Af}var ew={},MR;function bS(){return MR||(MR=1,(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+n)}}t.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},t.from=function(r,s){if(t.isValid(r))return r;try{return e(r)}catch{return s}}})(ew)),ew}var tw,LR;function wue(){if(LR)return tw;LR=1;function t(){this.buffer=[],this.length=0}return t.prototype={get:function(e){const n=Math.floor(e/8);return(this.buffer[n]>>>7-e%8&1)===1},put:function(e,n){for(let r=0;r<n;r++)this.putBit((e>>>n-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const n=Math.floor(this.length/8);this.buffer.length<=n&&this.buffer.push(0),e&&(this.buffer[n]|=128>>>this.length%8),this.length++}},tw=t,tw}var nw,FR;function Tue(){if(FR)return nw;FR=1;function t(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}return t.prototype.set=function(e,n,r,s){const i=e*this.size+n;this.data[i]=r,s&&(this.reservedBit[i]=!0)},t.prototype.get=function(e,n){return this.data[e*this.size+n]},t.prototype.xor=function(e,n,r){this.data[e*this.size+n]^=r},t.prototype.isReserved=function(e,n){return this.reservedBit[e*this.size+n]},nw=t,nw}var rw={},OR;function Eue(){return OR||(OR=1,(function(t){const e=Sh().getSymbolSize;t.getRowColCoords=function(r){if(r===1)return[];const s=Math.floor(r/7)+2,i=e(r),a=i===145?26:Math.ceil((i-13)/(2*s-2))*2,o=[i-7];for(let c=1;c<s-1;c++)o[c]=o[c-1]-a;return o.push(6),o.reverse()},t.getPositions=function(r){const s=[],i=t.getRowColCoords(r),a=i.length;for(let o=0;o<a;o++)for(let c=0;c<a;c++)o===0&&c===0||o===0&&c===a-1||o===a-1&&c===0||s.push([i[o],i[c]]);return s}})(rw)),rw}var sw={},BR;function Sue(){if(BR)return sw;BR=1;const t=Sh().getSymbolSize,e=7;return sw.getPositions=function(r){const s=t(r);return[[0,0],[s-e,0],[0,s-e]]},sw}var iw={},VR;function Aue(){return VR||(VR=1,(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(s){return s!=null&&s!==""&&!isNaN(s)&&s>=0&&s<=7},t.from=function(s){return t.isValid(s)?parseInt(s,10):void 0},t.getPenaltyN1=function(s){const i=s.size;let a=0,o=0,c=0,f=null,d=null;for(let p=0;p<i;p++){o=c=0,f=d=null;for(let g=0;g<i;g++){let y=s.get(p,g);y===f?o++:(o>=5&&(a+=e.N1+(o-5)),f=y,o=1),y=s.get(g,p),y===d?c++:(c>=5&&(a+=e.N1+(c-5)),d=y,c=1)}o>=5&&(a+=e.N1+(o-5)),c>=5&&(a+=e.N1+(c-5))}return a},t.getPenaltyN2=function(s){const i=s.size;let a=0;for(let o=0;o<i-1;o++)for(let c=0;c<i-1;c++){const f=s.get(o,c)+s.get(o,c+1)+s.get(o+1,c)+s.get(o+1,c+1);(f===4||f===0)&&a++}return a*e.N2},t.getPenaltyN3=function(s){const i=s.size;let a=0,o=0,c=0;for(let f=0;f<i;f++){o=c=0;for(let d=0;d<i;d++)o=o<<1&2047|s.get(f,d),d>=10&&(o===1488||o===93)&&a++,c=c<<1&2047|s.get(d,f),d>=10&&(c===1488||c===93)&&a++}return a*e.N3},t.getPenaltyN4=function(s){let i=0;const a=s.data.length;for(let c=0;c<a;c++)i+=s.data[c];return Math.abs(Math.ceil(i*100/a/5)-10)*e.N4};function n(r,s,i){switch(r){case t.Patterns.PATTERN000:return(s+i)%2===0;case t.Patterns.PATTERN001:return s%2===0;case t.Patterns.PATTERN010:return i%3===0;case t.Patterns.PATTERN011:return(s+i)%3===0;case t.Patterns.PATTERN100:return(Math.floor(s/2)+Math.floor(i/3))%2===0;case t.Patterns.PATTERN101:return s*i%2+s*i%3===0;case t.Patterns.PATTERN110:return(s*i%2+s*i%3)%2===0;case t.Patterns.PATTERN111:return(s*i%3+(s+i)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}t.applyMask=function(s,i){const a=i.size;for(let o=0;o<a;o++)for(let c=0;c<a;c++)i.isReserved(c,o)||i.xor(c,o,n(s,c,o))},t.getBestMask=function(s,i){const a=Object.keys(t.Patterns).length;let o=0,c=1/0;for(let f=0;f<a;f++){i(f),t.applyMask(f,s);const d=t.getPenaltyN1(s)+t.getPenaltyN2(s)+t.getPenaltyN3(s)+t.getPenaltyN4(s);t.applyMask(f,s),d<c&&(c=d,o=f)}return o}})(iw)),iw}var ty={},UR;function ZO(){if(UR)return ty;UR=1;const t=bS(),e=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],n=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return ty.getBlocksCount=function(s,i){switch(i){case t.L:return e[(s-1)*4+0];case t.M:return e[(s-1)*4+1];case t.Q:return e[(s-1)*4+2];case t.H:return e[(s-1)*4+3];default:return}},ty.getTotalCodewordsCount=function(s,i){switch(i){case t.L:return n[(s-1)*4+0];case t.M:return n[(s-1)*4+1];case t.Q:return n[(s-1)*4+2];case t.H:return n[(s-1)*4+3];default:return}},ty}var aw={},jm={},jR;function Cue(){if(jR)return jm;jR=1;const t=new Uint8Array(512),e=new Uint8Array(256);return(function(){let r=1;for(let s=0;s<255;s++)t[s]=r,e[r]=s,r<<=1,r&256&&(r^=285);for(let s=255;s<512;s++)t[s]=t[s-255]})(),jm.log=function(r){if(r<1)throw new Error("log("+r+")");return e[r]},jm.exp=function(r){return t[r]},jm.mul=function(r,s){return r===0||s===0?0:t[e[r]+e[s]]},jm}var qR;function Nue(){return qR||(qR=1,(function(t){const e=Cue();t.mul=function(r,s){const i=new Uint8Array(r.length+s.length-1);for(let a=0;a<r.length;a++)for(let o=0;o<s.length;o++)i[a+o]^=e.mul(r[a],s[o]);return i},t.mod=function(r,s){let i=new Uint8Array(r);for(;i.length-s.length>=0;){const a=i[0];for(let c=0;c<s.length;c++)i[c]^=e.mul(s[c],a);let o=0;for(;o<i.length&&i[o]===0;)o++;i=i.slice(o)}return i},t.generateECPolynomial=function(r){let s=new Uint8Array([1]);for(let i=0;i<r;i++)s=t.mul(s,new Uint8Array([1,e.exp(i)]));return s}})(aw)),aw}var ow,HR;function Iue(){if(HR)return ow;HR=1;const t=Nue();function e(n){this.genPoly=void 0,this.degree=n,this.degree&&this.initialize(this.degree)}return e.prototype.initialize=function(r){this.degree=r,this.genPoly=t.generateECPolynomial(this.degree)},e.prototype.encode=function(r){if(!this.genPoly)throw new Error("Encoder not initialized");const s=new Uint8Array(r.length+this.degree);s.set(r);const i=t.mod(s,this.genPoly),a=this.degree-i.length;if(a>0){const o=new Uint8Array(this.degree);return o.set(i,a),o}return i},ow=e,ow}var lw={},cw={},uw={},zR;function e9(){return zR||(zR=1,uw.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}),uw}var bc={},GR;function t9(){if(GR)return bc;GR=1;const t="[0-9]+",e="[A-Z $%*+\\-./:]+";let n="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";n=n.replace(/u/g,"\\u");const r="(?:(?![A-Z0-9 $%*+\\-./:]|"+n+`)(?:.|[\r
]))+`;bc.KANJI=new RegExp(n,"g"),bc.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),bc.BYTE=new RegExp(r,"g"),bc.NUMERIC=new RegExp(t,"g"),bc.ALPHANUMERIC=new RegExp(e,"g");const s=new RegExp("^"+n+"$"),i=new RegExp("^"+t+"$"),a=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return bc.testKanji=function(c){return s.test(c)},bc.testNumeric=function(c){return i.test(c)},bc.testAlphanumeric=function(c){return a.test(c)},bc}var WR;function Ah(){return WR||(WR=1,(function(t){const e=e9(),n=t9();t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(i,a){if(!i.ccBits)throw new Error("Invalid mode: "+i);if(!e.isValid(a))throw new Error("Invalid version: "+a);return a>=1&&a<10?i.ccBits[0]:a<27?i.ccBits[1]:i.ccBits[2]},t.getBestModeForData=function(i){return n.testNumeric(i)?t.NUMERIC:n.testAlphanumeric(i)?t.ALPHANUMERIC:n.testKanji(i)?t.KANJI:t.BYTE},t.toString=function(i){if(i&&i.id)return i.id;throw new Error("Invalid mode")},t.isValid=function(i){return i&&i.bit&&i.ccBits};function r(s){if(typeof s!="string")throw new Error("Param is not a string");switch(s.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+s)}}t.from=function(i,a){if(t.isValid(i))return i;try{return r(i)}catch{return a}}})(cw)),cw}var $R;function kue(){return $R||($R=1,(function(t){const e=Sh(),n=ZO(),r=bS(),s=Ah(),i=e9(),a=7973,o=e.getBCHDigit(a);function c(g,y,E){for(let b=1;b<=40;b++)if(y<=t.getCapacity(b,E,g))return b}function f(g,y){return s.getCharCountIndicator(g,y)+4}function d(g,y){let E=0;return g.forEach(function(b){const A=f(b.mode,y);E+=A+b.getBitsLength()}),E}function p(g,y){for(let E=1;E<=40;E++)if(d(g,E)<=t.getCapacity(E,y,s.MIXED))return E}t.from=function(y,E){return i.isValid(y)?parseInt(y,10):E},t.getCapacity=function(y,E,b){if(!i.isValid(y))throw new Error("Invalid QR Code version");typeof b>"u"&&(b=s.BYTE);const A=e.getSymbolTotalCodewords(y),N=n.getTotalCodewordsCount(y,E),V=(A-N)*8;if(b===s.MIXED)return V;const k=V-f(b,y);switch(b){case s.NUMERIC:return Math.floor(k/10*3);case s.ALPHANUMERIC:return Math.floor(k/11*2);case s.KANJI:return Math.floor(k/13);case s.BYTE:default:return Math.floor(k/8)}},t.getBestVersionForData=function(y,E){let b;const A=r.from(E,r.M);if(Array.isArray(y)){if(y.length>1)return p(y,A);if(y.length===0)return 1;b=y[0]}else b=y;return c(b.mode,b.getLength(),A)},t.getEncodedBits=function(y){if(!i.isValid(y)||y<7)throw new Error("Invalid QR Code version");let E=y<<12;for(;e.getBCHDigit(E)-o>=0;)E^=a<<e.getBCHDigit(E)-o;return y<<12|E}})(lw)),lw}var fw={},KR;function Rue(){if(KR)return fw;KR=1;const t=Sh(),e=1335,n=21522,r=t.getBCHDigit(e);return fw.getEncodedBits=function(i,a){const o=i.bit<<3|a;let c=o<<10;for(;t.getBCHDigit(c)-r>=0;)c^=e<<t.getBCHDigit(c)-r;return(o<<10|c)^n},fw}var dw={},hw,YR;function Pue(){if(YR)return hw;YR=1;const t=Ah();function e(n){this.mode=t.NUMERIC,this.data=n.toString()}return e.getBitsLength=function(r){return 10*Math.floor(r/3)+(r%3?r%3*3+1:0)},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(r){let s,i,a;for(s=0;s+3<=this.data.length;s+=3)i=this.data.substr(s,3),a=parseInt(i,10),r.put(a,10);const o=this.data.length-s;o>0&&(i=this.data.substr(s),a=parseInt(i,10),r.put(a,o*3+1))},hw=e,hw}var pw,XR;function Due(){if(XR)return pw;XR=1;const t=Ah(),e=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function n(r){this.mode=t.ALPHANUMERIC,this.data=r}return n.getBitsLength=function(s){return 11*Math.floor(s/2)+6*(s%2)},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(s){let i;for(i=0;i+2<=this.data.length;i+=2){let a=e.indexOf(this.data[i])*45;a+=e.indexOf(this.data[i+1]),s.put(a,11)}this.data.length%2&&s.put(e.indexOf(this.data[i]),6)},pw=n,pw}var mw,JR;function Mue(){if(JR)return mw;JR=1;const t=Ah();function e(n){this.mode=t.BYTE,typeof n=="string"?this.data=new TextEncoder().encode(n):this.data=new Uint8Array(n)}return e.getBitsLength=function(r){return r*8},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(n){for(let r=0,s=this.data.length;r<s;r++)n.put(this.data[r],8)},mw=e,mw}var gw,QR;function Lue(){if(QR)return gw;QR=1;const t=Ah(),e=Sh();function n(r){this.mode=t.KANJI,this.data=r}return n.getBitsLength=function(s){return s*13},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(r){let s;for(s=0;s<this.data.length;s++){let i=e.toSJIS(this.data[s]);if(i>=33088&&i<=40956)i-=33088;else if(i>=57408&&i<=60351)i-=49472;else throw new Error("Invalid SJIS character: "+this.data[s]+`
Make sure your charset is UTF-8`);i=(i>>>8&255)*192+(i&255),r.put(i,13)}},gw=n,gw}var xw={exports:{}},ZR;function Fue(){return ZR||(ZR=1,(function(t){var e={single_source_shortest_paths:function(n,r,s){var i={},a={};a[r]=0;var o=e.PriorityQueue.make();o.push(r,0);for(var c,f,d,p,g,y,E,b,A;!o.empty();){c=o.pop(),f=c.value,p=c.cost,g=n[f]||{};for(d in g)g.hasOwnProperty(d)&&(y=g[d],E=p+y,b=a[d],A=typeof a[d]>"u",(A||b>E)&&(a[d]=E,o.push(d,E),i[d]=f))}if(typeof s<"u"&&typeof a[s]>"u"){var N=["Could not find a path from ",r," to ",s,"."].join("");throw new Error(N)}return i},extract_shortest_path_from_predecessor_list:function(n,r){for(var s=[],i=r;i;)s.push(i),n[i],i=n[i];return s.reverse(),s},find_path:function(n,r,s){var i=e.single_source_shortest_paths(n,r,s);return e.extract_shortest_path_from_predecessor_list(i,s)},PriorityQueue:{make:function(n){var r=e.PriorityQueue,s={},i;n=n||{};for(i in r)r.hasOwnProperty(i)&&(s[i]=r[i]);return s.queue=[],s.sorter=n.sorter||r.default_sorter,s},default_sorter:function(n,r){return n.cost-r.cost},push:function(n,r){var s={value:n,cost:r};this.queue.push(s),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e})(xw)),xw.exports}var eP;function Oue(){return eP||(eP=1,(function(t){const e=Ah(),n=Pue(),r=Due(),s=Mue(),i=Lue(),a=t9(),o=Sh(),c=Fue();function f(N){return unescape(encodeURIComponent(N)).length}function d(N,V,k){const B=[];let W;for(;(W=N.exec(k))!==null;)B.push({data:W[0],index:W.index,mode:V,length:W[0].length});return B}function p(N){const V=d(a.NUMERIC,e.NUMERIC,N),k=d(a.ALPHANUMERIC,e.ALPHANUMERIC,N);let B,W;return o.isKanjiModeEnabled()?(B=d(a.BYTE,e.BYTE,N),W=d(a.KANJI,e.KANJI,N)):(B=d(a.BYTE_KANJI,e.BYTE,N),W=[]),V.concat(k,B,W).sort(function(D,L){return D.index-L.index}).map(function(D){return{data:D.data,mode:D.mode,length:D.length}})}function g(N,V){switch(V){case e.NUMERIC:return n.getBitsLength(N);case e.ALPHANUMERIC:return r.getBitsLength(N);case e.KANJI:return i.getBitsLength(N);case e.BYTE:return s.getBitsLength(N)}}function y(N){return N.reduce(function(V,k){const B=V.length-1>=0?V[V.length-1]:null;return B&&B.mode===k.mode?(V[V.length-1].data+=k.data,V):(V.push(k),V)},[])}function E(N){const V=[];for(let k=0;k<N.length;k++){const B=N[k];switch(B.mode){case e.NUMERIC:V.push([B,{data:B.data,mode:e.ALPHANUMERIC,length:B.length},{data:B.data,mode:e.BYTE,length:B.length}]);break;case e.ALPHANUMERIC:V.push([B,{data:B.data,mode:e.BYTE,length:B.length}]);break;case e.KANJI:V.push([B,{data:B.data,mode:e.BYTE,length:f(B.data)}]);break;case e.BYTE:V.push([{data:B.data,mode:e.BYTE,length:f(B.data)}])}}return V}function b(N,V){const k={},B={start:{}};let W=["start"];for(let K=0;K<N.length;K++){const D=N[K],L=[];for(let R=0;R<D.length;R++){const q=D[R],P=""+K+R;L.push(P),k[P]={node:q,lastCount:0},B[P]={};for(let M=0;M<W.length;M++){const H=W[M];k[H]&&k[H].node.mode===q.mode?(B[H][P]=g(k[H].lastCount+q.length,q.mode)-g(k[H].lastCount,q.mode),k[H].lastCount+=q.length):(k[H]&&(k[H].lastCount=q.length),B[H][P]=g(q.length,q.mode)+4+e.getCharCountIndicator(q.mode,V))}}W=L}for(let K=0;K<W.length;K++)B[W[K]].end=0;return{map:B,table:k}}function A(N,V){let k;const B=e.getBestModeForData(N);if(k=e.from(V,B),k!==e.BYTE&&k.bit<B.bit)throw new Error('"'+N+'" cannot be encoded with mode '+e.toString(k)+`.
 Suggested mode is: `+e.toString(B));switch(k===e.KANJI&&!o.isKanjiModeEnabled()&&(k=e.BYTE),k){case e.NUMERIC:return new n(N);case e.ALPHANUMERIC:return new r(N);case e.KANJI:return new i(N);case e.BYTE:return new s(N)}}t.fromArray=function(V){return V.reduce(function(k,B){return typeof B=="string"?k.push(A(B,null)):B.data&&k.push(A(B.data,B.mode)),k},[])},t.fromString=function(V,k){const B=p(V,o.isKanjiModeEnabled()),W=E(B),K=b(W,k),D=c.find_path(K.map,"start","end"),L=[];for(let R=1;R<D.length-1;R++)L.push(K.table[D[R]].node);return t.fromArray(y(L))},t.rawSplit=function(V){return t.fromArray(p(V,o.isKanjiModeEnabled()))}})(dw)),dw}var tP;function Bue(){if(tP)return Zb;tP=1;const t=Sh(),e=bS(),n=wue(),r=Tue(),s=Eue(),i=Sue(),a=Aue(),o=ZO(),c=Iue(),f=kue(),d=Rue(),p=Ah(),g=Oue();function y(K,D){const L=K.size,R=i.getPositions(D);for(let q=0;q<R.length;q++){const P=R[q][0],M=R[q][1];for(let H=-1;H<=7;H++)if(!(P+H<=-1||L<=P+H))for(let ae=-1;ae<=7;ae++)M+ae<=-1||L<=M+ae||(H>=0&&H<=6&&(ae===0||ae===6)||ae>=0&&ae<=6&&(H===0||H===6)||H>=2&&H<=4&&ae>=2&&ae<=4?K.set(P+H,M+ae,!0,!0):K.set(P+H,M+ae,!1,!0))}}function E(K){const D=K.size;for(let L=8;L<D-8;L++){const R=L%2===0;K.set(L,6,R,!0),K.set(6,L,R,!0)}}function b(K,D){const L=s.getPositions(D);for(let R=0;R<L.length;R++){const q=L[R][0],P=L[R][1];for(let M=-2;M<=2;M++)for(let H=-2;H<=2;H++)M===-2||M===2||H===-2||H===2||M===0&&H===0?K.set(q+M,P+H,!0,!0):K.set(q+M,P+H,!1,!0)}}function A(K,D){const L=K.size,R=f.getEncodedBits(D);let q,P,M;for(let H=0;H<18;H++)q=Math.floor(H/3),P=H%3+L-8-3,M=(R>>H&1)===1,K.set(q,P,M,!0),K.set(P,q,M,!0)}function N(K,D,L){const R=K.size,q=d.getEncodedBits(D,L);let P,M;for(P=0;P<15;P++)M=(q>>P&1)===1,P<6?K.set(P,8,M,!0):P<8?K.set(P+1,8,M,!0):K.set(R-15+P,8,M,!0),P<8?K.set(8,R-P-1,M,!0):P<9?K.set(8,15-P-1+1,M,!0):K.set(8,15-P-1,M,!0);K.set(R-8,8,1,!0)}function V(K,D){const L=K.size;let R=-1,q=L-1,P=7,M=0;for(let H=L-1;H>0;H-=2)for(H===6&&H--;;){for(let ae=0;ae<2;ae++)if(!K.isReserved(q,H-ae)){let Se=!1;M<D.length&&(Se=(D[M]>>>P&1)===1),K.set(q,H-ae,Se),P--,P===-1&&(M++,P=7)}if(q+=R,q<0||L<=q){q-=R,R=-R;break}}}function k(K,D,L){const R=new n;L.forEach(function(ae){R.put(ae.mode.bit,4),R.put(ae.getLength(),p.getCharCountIndicator(ae.mode,K)),ae.write(R)});const q=t.getSymbolTotalCodewords(K),P=o.getTotalCodewordsCount(K,D),M=(q-P)*8;for(R.getLengthInBits()+4<=M&&R.put(0,4);R.getLengthInBits()%8!==0;)R.putBit(0);const H=(M-R.getLengthInBits())/8;for(let ae=0;ae<H;ae++)R.put(ae%2?17:236,8);return B(R,K,D)}function B(K,D,L){const R=t.getSymbolTotalCodewords(D),q=o.getTotalCodewordsCount(D,L),P=R-q,M=o.getBlocksCount(D,L),H=R%M,ae=M-H,Se=Math.floor(R/M),oe=Math.floor(P/M),ve=oe+1,Ie=Se-oe,xe=new c(Ie);let Re=0;const re=new Array(M),O=new Array(M);let J=0;const U=new Uint8Array(K.buffer);for(let ue=0;ue<M;ue++){const Te=ue<ae?oe:ve;re[ue]=U.slice(Re,Re+Te),O[ue]=xe.encode(re[ue]),Re+=Te,J=Math.max(J,Te)}const Y=new Uint8Array(R);let ne=0,ye,pe;for(ye=0;ye<J;ye++)for(pe=0;pe<M;pe++)ye<re[pe].length&&(Y[ne++]=re[pe][ye]);for(ye=0;ye<Ie;ye++)for(pe=0;pe<M;pe++)Y[ne++]=O[pe][ye];return Y}function W(K,D,L,R){let q;if(Array.isArray(K))q=g.fromArray(K);else if(typeof K=="string"){let Se=D;if(!Se){const oe=g.rawSplit(K);Se=f.getBestVersionForData(oe,L)}q=g.fromString(K,Se||40)}else throw new Error("Invalid data");const P=f.getBestVersionForData(q,L);if(!P)throw new Error("The amount of data is too big to be stored in a QR Code");if(!D)D=P;else if(D<P)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+P+`.
`);const M=k(D,L,q),H=t.getSymbolSize(D),ae=new r(H);return y(ae,D),E(ae),b(ae,D),N(ae,L,0),D>=7&&A(ae,D),V(ae,M),isNaN(R)&&(R=a.getBestMask(ae,N.bind(null,ae,L))),a.applyMask(R,ae),N(ae,L,R),{modules:ae,version:D,errorCorrectionLevel:L,maskPattern:R,segments:q}}return Zb.create=function(D,L){if(typeof D>"u"||D==="")throw new Error("No input text");let R=e.M,q,P;return typeof L<"u"&&(R=e.from(L.errorCorrectionLevel,e.M),q=f.from(L.version),P=a.from(L.maskPattern),L.toSJISFunc&&t.setToSJISFunction(L.toSJISFunc)),W(D,q,R,P)},Zb}var yw={},vw={},nP;function n9(){return nP||(nP=1,(function(t){function e(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let r=n.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+n);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(i){return[i,i]}))),r.length===6&&r.push("F","F");const s=parseInt(r.join(""),16);return{r:s>>24&255,g:s>>16&255,b:s>>8&255,a:s&255,hex:"#"+r.slice(0,6).join("")}}t.getOptions=function(r){r||(r={}),r.color||(r.color={});const s=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,i=r.width&&r.width>=21?r.width:void 0,a=r.scale||4;return{width:i,scale:i?4:a,margin:s,color:{dark:e(r.color.dark||"#000000ff"),light:e(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},t.getScale=function(r,s){return s.width&&s.width>=r+s.margin*2?s.width/(r+s.margin*2):s.scale},t.getImageWidth=function(r,s){const i=t.getScale(r,s);return Math.floor((r+s.margin*2)*i)},t.qrToImageData=function(r,s,i){const a=s.modules.size,o=s.modules.data,c=t.getScale(a,i),f=Math.floor((a+i.margin*2)*c),d=i.margin*c,p=[i.color.light,i.color.dark];for(let g=0;g<f;g++)for(let y=0;y<f;y++){let E=(g*f+y)*4,b=i.color.light;if(g>=d&&y>=d&&g<f-d&&y<f-d){const A=Math.floor((g-d)/c),N=Math.floor((y-d)/c);b=p[o[A*a+N]?1:0]}r[E++]=b.r,r[E++]=b.g,r[E++]=b.b,r[E]=b.a}}})(vw)),vw}var rP;function Vue(){return rP||(rP=1,(function(t){const e=n9();function n(s,i,a){s.clearRect(0,0,i.width,i.height),i.style||(i.style={}),i.height=a,i.width=a,i.style.height=a+"px",i.style.width=a+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(i,a,o){let c=o,f=a;typeof c>"u"&&(!a||!a.getContext)&&(c=a,a=void 0),a||(f=r()),c=e.getOptions(c);const d=e.getImageWidth(i.modules.size,c),p=f.getContext("2d"),g=p.createImageData(d,d);return e.qrToImageData(g.data,i,c),n(p,f,d),p.putImageData(g,0,0),f},t.renderToDataURL=function(i,a,o){let c=o;typeof c>"u"&&(!a||!a.getContext)&&(c=a,a=void 0),c||(c={});const f=t.render(i,a,c),d=c.type||"image/png",p=c.rendererOpts||{};return f.toDataURL(d,p.quality)}})(yw)),yw}var _w={},sP;function Uue(){if(sP)return _w;sP=1;const t=n9();function e(s,i){const a=s.a/255,o=i+'="'+s.hex+'"';return a<1?o+" "+i+'-opacity="'+a.toFixed(2).slice(1)+'"':o}function n(s,i,a){let o=s+i;return typeof a<"u"&&(o+=" "+a),o}function r(s,i,a){let o="",c=0,f=!1,d=0;for(let p=0;p<s.length;p++){const g=Math.floor(p%i),y=Math.floor(p/i);!g&&!f&&(f=!0),s[p]?(d++,p>0&&g>0&&s[p-1]||(o+=f?n("M",g+a,.5+y+a):n("m",c,0),c=0,f=!1),g+1<i&&s[p+1]||(o+=n("h",d),d=0)):c++}return o}return _w.render=function(i,a,o){const c=t.getOptions(a),f=i.modules.size,d=i.modules.data,p=f+c.margin*2,g=c.color.light.a?"<path "+e(c.color.light,"fill")+' d="M0 0h'+p+"v"+p+'H0z"/>':"",y="<path "+e(c.color.dark,"stroke")+' d="'+r(d,f,c.margin)+'"/>',E='viewBox="0 0 '+p+" "+p+'"',A='<svg xmlns="http://www.w3.org/2000/svg" '+(c.width?'width="'+c.width+'" height="'+c.width+'" ':"")+E+' shape-rendering="crispEdges">'+g+y+`</svg>
`;return typeof o=="function"&&o(null,A),A},_w}var iP;function jue(){if(iP)return w0;iP=1;const t=bue(),e=Bue(),n=Vue(),r=Uue();function s(i,a,o,c,f){const d=[].slice.call(arguments,1),p=d.length,g=typeof d[p-1]=="function";if(!g&&!t())throw new Error("Callback required as last argument");if(g){if(p<2)throw new Error("Too few arguments provided");p===2?(f=o,o=a,a=c=void 0):p===3&&(a.getContext&&typeof f>"u"?(f=c,c=void 0):(f=c,c=o,o=a,a=void 0))}else{if(p<1)throw new Error("Too few arguments provided");return p===1?(o=a,a=c=void 0):p===2&&!a.getContext&&(c=o,o=a,a=void 0),new Promise(function(y,E){try{const b=e.create(o,c);y(i(b,a,c))}catch(b){E(b)}})}try{const y=e.create(o,c);f(null,i(y,a,c))}catch(y){f(y)}}return w0.create=e.create,w0.toCanvas=s.bind(null,n.render),w0.toDataURL=s.bind(null,n.renderToDataURL),w0.toString=s.bind(null,function(i,a,o){return r.render(i,o)}),w0}var que=jue();const Hue=mD(que);var oT;(function(t){t.Home="home",t.Work="work",t.Other="other",t.Custom="custom",t.Mobile="mobile",t.FaxWork="fax_work",t.FaxHome="fax_home",t.Pager="pager",t.Callback="callback",t.Car="car",t.CompanyMain="company_main",t.Isdn="isdn",t.Main="main",t.OtherFax="other_fax",t.Radio="radio",t.Telex="telex",t.TtyTdd="tty_tdd",t.WorkMobile="work_mobile",t.WorkPager="work_pager",t.Assistant="assistant",t.Mms="mms"})(oT||(oT={}));var aP;(function(t){t.Home="home",t.Work="work",t.Other="other",t.Custom="custom",t.Mobile="mobile"})(aP||(aP={}));var oP;(function(t){t.Home="home",t.Work="work",t.Other="other",t.Custom="custom"})(oP||(oP={}));const vg=Up("Contacts",{web:()=>Z0(()=>import("./web-CH7EjRdJ.js"),[],import.meta.url).then(t=>new t.ContactsWeb)}),zue=(t,e)=>{const n={};return t.items.forEach(r=>{const s=r.hsn||"N/A";n[s]||(n[s]={hsn:s,description:r.description,quantity:0,baseAmount:0,cgstAmount:0,sgstAmount:0,igstAmount:0,gstRate:r.gstRate||0}),n[s].quantity+=r.quantity,n[s].baseAmount+=r.baseAmount||0,n[s].cgstAmount+=r.cgstAmount||0,n[s].sgstAmount+=r.sgstAmount||0,n[s].igstAmount+=r.igstAmount||0}),Object.values(n)},T0=t=>{const e=["","One","Two","Three","Four","Five","Six","Seven","Eight","Nine","Ten","Eleven","Twelve","Thirteen","Fourteen","Fifteen","Sixteen","Seventeen","Eighteen","Nineteen"],n=["","","Twenty","Thirty","Forty","Fifty","Sixty","Seventy","Eighty","Ninety"],r=o=>o===0?"":o<20?e[o]:o<100?n[Math.floor(o/10)]+(o%10!==0?" "+e[o%10]:""):o<1e3?e[Math.floor(o/100)]+" Hundred"+(o%100!==0?" and "+r(o%100):""):o<1e5?r(Math.floor(o/1e3))+" Thousand"+(o%1e3!==0?" "+r(o%1e3):""):o<1e7?r(Math.floor(o/1e5))+" Lakh"+(o%1e5!==0?" "+r(o%1e5):""):r(Math.floor(o/1e7))+" Crore"+(o%1e7!==0?" "+r(o%1e7):""),s=Math.floor(Math.abs(t)),i=Math.round((Math.abs(t)-s)*100);let a=s===0?"Zero":r(s);return i>0&&(a+=" and "+r(i)+" Paise"),a+" Only"},r9=({invoice:t,onBack:e,onEdit:n,showPostSaveActions:r,onClosePostSaveActions:s})=>{const{company:i}=Eh(),[a,o]=ke.useState(!1),[c,f]=ke.useState(!1),[d,p]=ke.useState(V0),[g,y]=ke.useState(null),[E,b]=ke.useState(!1),[A,N]=ke.useState(!1),[V,k]=ke.useState(!1),[B,W]=ke.useState(!1),[K,D]=ke.useState(t.customerName?.toUpperCase()==="CASH"||t.customerName?.toUpperCase()==="CASH SALES"),[L,R]=ke.useState(""),[q,P]=ke.useState(!1),[M,H]=ke.useState(""),[ae,Se]=ke.useState("");ke.useEffect(()=>{let U;if(i?.name)U={name:i.name||"",address:i.address||"",phone:i.phone||"",email:i.email||"",state:i.state||"",gst:i.gst||"",gstin:i.gstin||i.gst||"",gst_enabled:i.gst_enabled??!0,show_hsn_summary:i.show_hsn_summary??!0,upiId:i.upiId||d?.upiId||""};else{const ne=et.getCompanyProfile();U={...ne,gstin:ne.gstin||ne.gst||"",gst_enabled:ne.gst_enabled??!0,show_hsn_summary:ne.show_hsn_summary??!0}}p(U);const Y=et.getCustomers().find(ne=>ne.id===t.customerId);if(y(Y||null),U.upiId&&t.total>0){const ne=`upi://pay?pa=${U.upiId}&pn=${encodeURIComponent(U.name)}&am=${t.total}&cu=INR`;Hue.toDataURL(ne,{margin:1,width:128},(ye,pe)=>{ye||R(pe)})}},[t,i,d?.upiId]),ke.useEffect(()=>{t.customerName.toUpperCase()==="CASH"&&D(!0);const U=et.getCustomers().find(Y=>Y.id===t.customerId);U&&U.phone&&H(U.phone)},[t.customerId,t.customerName]);const oe=()=>{s&&s(),setTimeout(()=>{window.print()},100)},ve=async(U,Y)=>{const ne=U.replace(/\D/g,"").slice(-10);if(ne.length<10)return alert("Please enter a valid phone number first.");if(!Y||Y.trim()==="")return alert("Please enter a name first.");try{if((await vg.checkPermissions()).contacts!=="granted"&&(await vg.requestPermissions()).contacts!=="granted")return alert("Contact Permission Denied. Please enable it in Settings.");const pe=Y.trim().split(/\s+/),ue=pe[0],Te=pe.slice(1).join(" ");await vg.createContact({contact:{firstName:ue,lastName:Te,phones:[{type:oT.Mobile,label:"mobile",number:`+91${ne}`}]}}),alert(`Contact "${Y}" saved directly to your phone!`)}catch(ye){console.error("Save Contact Error:",ye),alert("Failed to save contact. Please check app permissions.")}},Ie=(U,Y)=>{const ne=U.replace(/\D/g,"").slice(-10),ye=Y.trim()||t.customerName||"Customer";if(ne.length===10){let se=et.getCustomers().find(nt=>nt.phone===ne);if(se?se.name.toUpperCase().includes("CASH")&&(se.name=ye,et.updateCustomer(se),y(se)):(se={id:crypto.randomUUID(),name:ye,company:ye===t.customerName&&t.customerName||"",phone:ne,email:"",address:t.customerAddress||"",gstin:t.customerGstin||"",balance:0,notifications:[]},et.saveCustomer(se),y(se)),se){const nt={...t};nt.customerId=se.id,nt.customerName=se.name,et.updateInvoice(nt)}}const pe=`https://billbook-app.web.app/view/${t.id}`,ue=d.name||"My Business",Te=ye,je=t.items.map((pt,se)=>`${se+1}. ${pt.description} x ${pt.quantity} = ${Math.round(pt.totalAmount||pt.baseAmount||0)}`).join(`
`),ce=`*${ue}*
Invoice No: ${t.invoiceNumber}
Date: ${new Date(t.date).toLocaleDateString()}
Customer: ${Te}

*Items:*
${je}

*Total Amount: ${t.total.toFixed(2)}*

Thank you for your business!
View your bill here:
${pe}`,dt=encodeURIComponent(ce);window.open(`https://wa.me/91${ne}?text=${dt}`,"_blank"),P(!1)},xe=()=>{s&&s();const U=!t.customerName||t.customerName.toUpperCase().includes("CASH");Se(U?"":t.customerName),M&&M.length>=10?Ie(M,U?"":t.customerName):P(!0)},Re=()=>{et.deleteInvoice(t.id),e()},re=async()=>{o(!0);const U=T0(t.total),Y=`
      Invoice number ${t.invoiceNumber}.
      Dated ${t.date}.
      Billed to ${t.customerName}.
      Total amount is ${t.total} Rupees.
      ${U}.
      Thank you for your business.
    `;await Noe.generateSpeech(Y),o(!1)},O=()=>{if(g&&g.phone&&g.phone.length>=10)S2.shareInvoice(t,g,d);else{H("");const U=!t.customerName||t.customerName.toUpperCase().includes("CASH");Se(U?"":t.customerName),P(!0)}},J=async()=>{f(!0);try{const U=new hn({orientation:"portrait",unit:"mm",format:"a4"}),Y=210,ne=15,ye=Y-15;let pe=15;const ue={name:d.name||"Company Name",address:d.address||"",phone:d.phone||"",email:d.email||""};if(U.setFont("helvetica","bold"),U.setFontSize(18),U.text(ue.name,Y/2,pe,{align:"center"}),pe+=6,U.setFont("helvetica","normal"),U.setFontSize(9),U.setTextColor(80),U.text(ue.address,Y/2,pe,{align:"center"}),pe+=4,U.text(`Ph: ${ue.phone} | ${ue.email}`,Y/2,pe,{align:"center"}),pe+=4,t.gstEnabled&&d&&(d.gstin||d.gst)){U.setFont("helvetica","bold"),U.setFontSize(9),U.setTextColor(34,197,94);const vt=d.gstin||d.gst||"";U.text(`GSTIN: ${vt}`,Y/2,pe,{align:"center"}),pe+=4,U.setTextColor(0)}pe+=2,U.setDrawColor(0),U.setLineWidth(.5),U.line(ne,pe,ye,pe),pe+=7,U.setFont("helvetica","bold"),U.setFontSize(14),U.setTextColor(0),U.text("TAX INVOICE",Y/2,pe,{align:"center"}),pe+=10;const Te=pe;U.setFontSize(9),U.setFont("helvetica","bold"),U.text("Bill To:",ne,pe),pe+=4,U.setFont("helvetica","bold"),U.setFontSize(10),U.text(t.customerName||"Customer",ne,pe),pe+=4,U.setFont("helvetica","normal"),U.setFontSize(9);const je=U.splitTextToSize(t.customerAddress||"",80);U.text(je,ne,pe);let ce=Te;const dt=120,pt=5;U.setFont("helvetica","bold"),U.text("Invoice #:",dt,ce),U.setFont("helvetica","normal"),U.text(t.invoiceNumber||"-",dt+25,ce),ce+=pt,U.setFont("helvetica","bold"),U.text("Date:",dt,ce),U.setFont("helvetica","normal"),U.text(new Date(t.date).toLocaleDateString(),dt+25,ce),ce+=pt,U.setFont("helvetica","bold"),U.text("Mode:",dt,ce),U.setFont("helvetica","normal");const se=t.status==="PAID"?"Cash":"Credit";U.text(se,dt+25,ce),pe=Math.max(pe+je.length*4,ce)+8,U.setFillColor(245,247,250),U.rect(ne,pe,ye-ne,8,"F"),U.setFont("helvetica","bold"),U.setFontSize(8),U.setTextColor(60);const nt=t.items.some(vt=>vt.hsn),it={idx:ne+5,desc:ne+15,hsn:ne+60,qty:ye-(t.gstEnabled?75:65),rate:ye-(t.gstEnabled?45:35),gst:ye-20,amount:ye-5};U.text("#",it.idx,pe+5),U.text("DESCRIPTION",it.desc,pe+5),nt&&U.text("HSN",it.hsn,pe+5),U.text("QTY",it.qty,pe+5,{align:"right"}),U.text("RATE",it.rate,pe+5,{align:"right"}),t.gstEnabled&&U.text("GST%",it.gst,pe+5,{align:"right"}),U.text("AMOUNT",it.amount,pe+5,{align:"right"}),pe+=8,U.setFont("helvetica","normal"),U.setTextColor(0),U.setFontSize(9);const Pt=7,tt=U.internal.pageSize.getHeight();t.items.forEach((vt,wt)=>{pe>tt-30&&(U.addPage(),pe=20),U.text(`${wt+1}`,it.idx,pe+5),U.text(vt.description||"-",it.desc,pe+5),nt&&U.text(vt.hsn||"-",it.hsn,pe+5),U.text((vt.quantity||0).toString(),it.qty,pe+5,{align:"right"}),U.text(`Rs. ${(vt.rate||0).toFixed(2)}`,it.rate,pe+5,{align:"right"}),t.gstEnabled&&U.text(`${(vt.gstRate||0).toFixed(1)}%`,it.gst,pe+5,{align:"right"}),U.setFont("helvetica","bold");const Et=vt.totalAmount||vt.baseAmount||0;U.text(`Rs. ${Et.toFixed(2)}`,it.amount,pe+5,{align:"right"}),U.setFont("helvetica","normal"),U.setDrawColor(230),U.line(ne,pe+Pt,ye,pe+Pt),pe+=Pt}),pe+=4;const St=ye-45,Ct=ye-5;U.setFont("helvetica","bold"),U.text("Subtotal:",St,pe+5,{align:"right"}),U.setFont("helvetica","normal"),U.text(`Rs. ${(t.subtotal||0).toFixed(2)}`,Ct,pe+5,{align:"right"}),pe+=7;const Lt=(t.totalCgst||0)+(t.totalSgst||0)+(t.totalIgst||0);if(t.gstEnabled&&Lt>0&&((t.totalCgst||0)>0&&(U.setFont("helvetica","bold"),U.setTextColor(34,197,94),U.text("CGST:",St,pe+5,{align:"right"}),U.setFont("helvetica","normal"),U.text(`Rs. ${(t.totalCgst||0).toFixed(2)}`,Ct,pe+5,{align:"right"}),pe+=5),(t.totalSgst||0)>0&&(U.setFont("helvetica","bold"),U.text("SGST:",St,pe+5,{align:"right"}),U.setFont("helvetica","normal"),U.text(`Rs. ${(t.totalSgst||0).toFixed(2)}`,Ct,pe+5,{align:"right"}),pe+=5),(t.totalIgst||0)>0&&(U.setFont("helvetica","bold"),U.text("IGST:",St,pe+5,{align:"right"}),U.setFont("helvetica","normal"),U.text(`Rs. ${(t.totalIgst||0).toFixed(2)}`,Ct,pe+5,{align:"right"}),pe+=5),U.setTextColor(0),pe+=2),U.setDrawColor(0),U.line(ye-70,pe,ye,pe),pe+=2,t.roundUpTo&&t.roundUpTo>0&&(U.setFont("helvetica","normal"),U.setFontSize(9),U.text("Original:",St,pe+5,{align:"right"}),U.text(`${(t.total-(t.roundUpAmount||0)).toFixed(2)}`,Ct,pe+5,{align:"right"}),pe+=5,U.text("Round Off:",St,pe+5,{align:"right"}),U.text(`${(t.roundUpAmount||0).toFixed(2)}`,Ct,pe+5,{align:"right"}),pe+=5),U.setFont("helvetica","bold"),U.setFontSize(10),U.text("Total:",St,pe+5,{align:"right"}),U.text(`Rs. ${t.total.toFixed(2)}`,Ct,pe+5,{align:"right"}),pe+=8,A&&g){let vt=g.balance||0;t.status==="PENDING"&&(vt=(g.balance||0)-t.total),U.setFont("helvetica","normal"),U.setFontSize(9),U.setTextColor(80),U.text("Prev Balance:",St,pe+5,{align:"right"}),U.text(`Rs. ${vt.toFixed(2)}`,Ct,pe+5,{align:"right"}),pe+=8}t.gstEnabled&&d.show_hsn_summary!==!1&&(pe+=8,U.setFontSize(8),U.setFont("helvetica","bold"),U.text("HSN SUMMARY",ne,pe),pe+=5,zue(t,d).forEach(wt=>{U.setFont("helvetica","normal"),U.text(`${wt.hsn||"N/A"} - Taxable: ${(wt.baseAmount||0).toFixed(2)} - Tax: ${(wt.cgstAmount+wt.sgstAmount+wt.igstAmount).toFixed(2)}`,ne,pe),pe+=5})),U.setFont("helvetica","bold"),U.setFontSize(9),U.setTextColor(60),U.text("Amount in Words:",ne,pe),U.setTextColor(0),U.setFont("helvetica","normal");const jt=A&&g?g.balance||0:t.total,Qt=T0(jt),Zt=ne+35,on=Y-Zt-ye+50,Sn=U.splitTextToSize(Qt,on);U.text(Sn,Zt,pe);let Bt=Math.max(pe+20,tt-25);Bt>tt-20&&(U.addPage(),Bt=tt-25),L&&(U.setFontSize(8),U.setFont("helvetica","bold"),U.text("Scan to Pay:",ye-25,Bt-4,{align:"right"}),U.addImage(L,"PNG",ye-30,Bt,25,25)),U.setFontSize(8),U.setTextColor(0),U.setFont("helvetica","bold"),U.text("Terms:",ne,Bt),U.setFont("helvetica","normal"),U.text("Payment due within 30 days",ne,Bt+4),U.text(`For ${ue.name}`,ye-5,Bt+30,{align:"right"}),U.text("Authorized Signatory",ye-5,Bt+35,{align:"right"});try{if(Jg.isNativePlatform()){try{(await Hy.checkPermissions()).publicStorage!=="granted"&&await Hy.requestPermissions()}catch(Et){console.warn("Permission check failed:",Et)}const vt=U.output("datauristring").split(",")[1],wt=`Invoice-${t.invoiceNumber}.pdf`;await Hy.writeFile({path:wt,data:vt,directory:k2.Documents,recursive:!0}),alert(`Saved successfully to Documents folder as ${wt}`)}else{const vt=U.output("blob"),wt=URL.createObjectURL(vt);if(navigator.share&&navigator.canShare&&navigator.canShare({files:[new File([vt],`Invoice-${t.invoiceNumber}.pdf`,{type:"application/pdf"})]})){const Et=new File([vt],`Invoice-${t.invoiceNumber}.pdf`,{type:"application/pdf"});await navigator.share({files:[Et],title:`Invoice ${t.invoiceNumber}`,text:`Invoice from ${ue.name}`})}else U.save(`Invoice-${t.invoiceNumber}.pdf`);setTimeout(()=>URL.revokeObjectURL(wt),100)}}catch(vt){console.warn("PDF Save/Share failed:",vt),alert(`Error: FAILED TO SAVE. ${vt}`)}}catch(U){console.error("PDF Generation Error:",U),alert("Error: FAILED TO SAVE. Please check app permissions.")}finally{f(!1)}};return m.jsxs("div",{className:"flex flex-col h-full bg-slate-50 dark:bg-slate-900 absolute inset-0 z-40",children:[m.jsxs("div",{className:"sticky top-0 z-50 bg-white dark:bg-slate-900 border-b border-slate-200 dark:border-slate-800 px-4 h-16 flex items-center justify-between shadow-sm flex-shrink-0 print:hidden",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("button",{onClick:e,className:"p-2 -ml-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors","aria-label":"Back",children:m.jsx(Ru,{className:"w-6 h-6 text-slate-700 dark:text-slate-200"})}),m.jsxs("div",{className:"flex flex-col",children:[m.jsxs("h1",{className:"text-lg font-bold text-slate-800 dark:text-slate-100 leading-tight",children:["Invoice #",t.invoiceNumber]}),m.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded-full w-fit ${t.status==="PAID"?"bg-green-100 text-green-700":"bg-amber-100 text-amber-700"}`,children:t.status})]})]}),m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx("button",{onClick:()=>n(t),className:"p-2 rounded-full text-slate-600 hover:bg-slate-100 dark:text-slate-300 dark:hover:bg-slate-800","aria-label":"Edit",children:m.jsx(uM,{className:"w-5 h-5"})}),m.jsxs("div",{className:"relative",children:[m.jsx("button",{onClick:()=>W(!B),className:"p-2 rounded-full text-slate-600 hover:bg-slate-100 dark:text-slate-300 dark:hover:bg-slate-800","aria-label":"Options",children:m.jsx(nM,{className:"w-5 h-5"})}),B&&m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>W(!1)}),m.jsx("div",{className:"absolute right-0 mt-2 w-64 bg-white dark:bg-slate-800 rounded-xl shadow-xl border border-slate-100 dark:border-slate-700 z-50 overflow-hidden animate-in fade-in zoom-in-95 duration-100 origin-top-right",children:m.jsxs("div",{className:"p-1",children:[m.jsxs("button",{onClick:()=>{W(!1),O()},className:"w-full flex items-center gap-3 px-3 py-3 text-sm font-medium text-slate-700 dark:text-slate-200 hover:bg-slate-50 dark:hover:bg-slate-700 rounded-lg",children:[m.jsx(sg,{className:"w-4 h-4 text-green-500"})," Share on WhatsApp"]}),m.jsxs("button",{onClick:()=>{W(!1),J()},className:"w-full flex items-center gap-3 px-3 py-3 text-sm font-medium text-slate-700 dark:text-slate-200 hover:bg-slate-50 dark:hover:bg-slate-700 rounded-lg",children:[m.jsx(Dp,{className:"w-4 h-4 text-blue-500"})," Download PDF"]}),m.jsxs("button",{onClick:()=>{W(!1),oe()},className:"w-full flex items-center gap-3 px-3 py-3 text-sm font-medium text-slate-700 dark:text-slate-200 hover:bg-slate-50 dark:hover:bg-slate-700 rounded-lg",children:[m.jsx(db,{className:"w-4 h-4 text-slate-500"})," Print"]}),m.jsxs("button",{onClick:()=>{W(!1),re()},className:"w-full flex items-center gap-3 px-3 py-3 text-sm font-medium text-slate-700 dark:text-slate-200 hover:bg-slate-50 dark:hover:bg-slate-700 rounded-lg",children:[m.jsx(dW,{className:"w-4 h-4 text-purple-500"})," Read Aloud"]}),m.jsx("div",{className:"h-px bg-slate-100 dark:bg-slate-700 my-1"}),m.jsx("div",{className:"px-3 py-1.5 text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Settings"}),m.jsxs("button",{onClick:()=>N(!A),className:"w-full flex items-center justify-between px-3 py-3 text-sm text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700 rounded-lg",children:[m.jsx("span",{children:"Show Prev. Balance"}),A&&m.jsx(Lx,{className:"w-4 h-4 text-blue-600"})]}),m.jsxs("button",{onClick:()=>k(!V),className:"w-full flex items-center justify-between px-3 py-3 text-sm text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700 rounded-lg",children:[m.jsx("span",{children:"Attach Ledger"}),V&&m.jsx(Lx,{className:"w-4 h-4 text-blue-600"})]}),m.jsx("div",{className:"h-px bg-slate-100 dark:bg-slate-700 my-1"}),m.jsxs("button",{onClick:()=>{W(!1),D(!K)},className:"w-full flex items-center justify-between px-3 py-3 text-sm font-medium text-slate-700 dark:text-slate-200 hover:bg-slate-50 dark:hover:bg-slate-700 rounded-lg",children:[m.jsx("span",{children:"POS Mode (Thermal)"}),K&&m.jsx(Lx,{className:"w-4 h-4 text-blue-600"})]}),m.jsxs("button",{onClick:()=>{W(!1),b(!0)},className:"w-full flex items-center gap-3 px-3 py-3 text-sm font-medium text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg",children:[m.jsx(gh,{className:"w-4 h-4"})," Delete Invoice"]})]})})]})]})]})]}),m.jsxs("div",{className:`flex-1 overflow-y-auto overflow-x-hidden bg-slate-100 dark:bg-slate-950 p-4 pb-24 print:p-0 print:bg-white ${K?"print:hidden":""}`,children:[m.jsx("div",{className:"max-w-3xl mx-auto bg-white dark:bg-slate-900 shadow-xl rounded-sm print:shadow-none print:w-full overflow-hidden scale-100 md:scale-100 origin-top border dark:border-slate-800 print:border-none",children:m.jsxs("div",{id:"invoice-print",className:"p-6 md:p-10 text-slate-900 dark:text-slate-100 print:text-black",children:[m.jsxs("div",{className:"text-center mb-6",children:[m.jsx("h1",{className:"text-2xl md:text-3xl font-bold mb-1 uppercase text-slate-900 dark:text-slate-100",children:d.name}),m.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:d.address}),m.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:["Ph: ",d.phone]}),t.gstEnabled&&(d.gstin||d.gst)&&m.jsxs("p",{className:"text-sm text-green-700 dark:text-green-500 font-bold mt-1",children:["GSTIN: ",d.gstin||d.gst]})]}),m.jsx("div",{className:"border-b-2 border-slate-800 dark:border-slate-700 mb-6"}),m.jsxs("div",{className:"flex justify-between items-start mb-8",children:[m.jsxs("div",{className:"text-left",children:[m.jsx("h3",{className:"font-bold text-xs uppercase text-slate-400 mb-1",children:"Billed To"}),m.jsx("h2",{className:"text-lg font-bold text-slate-800 dark:text-slate-100",children:t.customerName}),m.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 whitespace-pre-wrap max-w-[200px]",children:t.customerAddress})]}),m.jsxs("div",{className:"text-right",children:[m.jsxs("div",{className:"mb-2",children:[m.jsx("span",{className:"block text-xs font-bold text-slate-400 uppercase",children:"Invoice No"}),m.jsxs("span",{className:"text-lg font-bold text-slate-800 dark:text-slate-100",children:["#",t.invoiceNumber]})]}),m.jsxs("div",{children:[m.jsx("span",{className:"block text-xs font-bold text-slate-400 uppercase",children:"Date"}),m.jsx("span",{className:"text-base font-medium text-slate-800 dark:text-slate-100",children:new Date(t.date).toLocaleDateString()})]})]})]}),m.jsx("div",{className:"mb-8 overflow-hidden rounded-lg border border-slate-200 dark:border-slate-700",children:m.jsxs("table",{className:"w-full text-sm",children:[m.jsx("thead",{className:"bg-slate-50 dark:bg-slate-800 text-slate-900 dark:text-slate-100 font-bold uppercase text-xs",children:m.jsxs("tr",{children:[m.jsx("th",{className:"py-3 px-4 text-left",children:"Item"}),m.jsx("th",{className:"py-3 px-4 text-center",children:"Qty"}),m.jsx("th",{className:"py-3 px-4 text-right",children:"Price"}),m.jsx("th",{className:"py-3 px-4 text-right",children:"Total"})]})}),m.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-800",children:t.items.map((U,Y)=>m.jsxs("tr",{children:[m.jsxs("td",{className:"py-3 px-4",children:[m.jsx("div",{className:"font-bold text-slate-800 dark:text-slate-200",children:U.description}),U.hsn&&m.jsxs("div",{className:"text-xs text-slate-400",children:["HSN: ",U.hsn]})]}),m.jsx("td",{className:"py-3 px-4 text-center font-medium dark:text-slate-300",children:U.quantity}),m.jsxs("td",{className:"py-3 px-4 text-right dark:text-slate-300",children:["",U.rate]}),m.jsxs("td",{className:"py-3 px-4 text-right font-bold dark:text-slate-100",children:["",(U.totalAmount||U.baseAmount||0).toFixed(2)]})]},Y))})]})}),m.jsx("div",{className:"flex justify-end mb-8",children:m.jsxs("div",{className:"w-full md:w-1/2 space-y-2",children:[m.jsxs("div",{className:"flex justify-between text-sm",children:[m.jsx("span",{className:"text-slate-500 dark:text-slate-400 font-medium",children:"Subtotal"}),m.jsxs("span",{className:"font-bold text-slate-800 dark:text-slate-200",children:["",t.subtotal.toFixed(2)]})]}),t.gstEnabled&&(t.totalCgst||0)+(t.totalSgst||0)+(t.totalIgst||0)>0&&m.jsxs(m.Fragment,{children:[(t.totalCgst||0)>0&&m.jsxs("div",{className:"flex justify-between text-sm",children:[m.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:"CGST"}),m.jsxs("span",{className:"font-medium dark:text-slate-300",children:["",(t.totalCgst||0).toFixed(2)]})]}),(t.totalSgst||0)>0&&m.jsxs("div",{className:"flex justify-between text-sm",children:[m.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:"SGST"}),m.jsxs("span",{className:"font-medium dark:text-slate-300",children:["",(t.totalSgst||0).toFixed(2)]})]}),(t.totalIgst||0)>0&&m.jsxs("div",{className:"flex justify-between text-sm",children:[m.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:"IGST"}),m.jsxs("span",{className:"font-medium dark:text-slate-300",children:["",(t.totalIgst||0).toFixed(2)]})]})]}),m.jsxs("div",{className:"border-t border-slate-200 dark:border-slate-700 pt-2 flex justify-between items-end",children:[m.jsx("span",{className:"text-base font-bold text-slate-900 dark:text-slate-100",children:"Total"}),m.jsxs("span",{className:"text-2xl font-black text-blue-600 dark:text-blue-400",children:["",t.total.toFixed(2)]})]}),m.jsxs("div",{className:"text-[10px] text-right text-slate-400 mt-1 italic",children:["(",T0(Math.round(t.total)),")"]})]})}),m.jsxs("div",{className:"mt-12 flex flex-col md:flex-row justify-between items-start gap-8",children:[m.jsx("div",{className:"flex-1",children:m.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 p-4 rounded-xl border border-slate-100 dark:border-slate-800",children:[m.jsx("p",{className:"font-bold uppercase text-xs mb-1 text-slate-400",children:"Terms & Conditions"}),m.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400 font-medium",children:"1. Goods once sold will not be taken back."}),m.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400 font-medium",children:"2. Interest @18% will be charged if not paid within 30 days."}),m.jsx("p",{className:"mt-4 font-bold uppercase text-slate-900 dark:text-slate-100",children:"Thank you for your business!"})]})}),L&&m.jsxs("div",{className:"flex flex-col items-center p-4 bg-slate-50 dark:bg-slate-800/30 rounded-2xl border border-slate-100 dark:border-slate-800",children:[m.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 mb-2",children:"Scan to Pay"}),m.jsx("img",{src:L,className:"w-24 h-24 mix-blend-multiply dark:mix-blend-normal",alt:"Payment QR"}),m.jsx("p",{className:"text-[10px] font-bold text-slate-600 dark:text-slate-300 mt-2",children:d.upiId})]}),m.jsxs("div",{className:"text-right flex flex-col items-end min-w-[150px]",children:[m.jsx("div",{className:"h-16 w-32 border-b border-slate-200 dark:border-slate-800 mb-2"}),m.jsxs("p",{className:"font-bold text-sm",children:["For ",d.name]}),m.jsx("p",{className:"text-[10px] font-medium text-slate-400 uppercase",children:"Authorized Signatory"})]})]})]})}),K&&m.jsxs("div",{className:"fixed inset-0 z-[60] bg-slate-800/90 backdrop-blur-sm flex justify-center overflow-y-auto print:hidden",children:[m.jsxs("button",{onClick:()=>D(!1),className:"fixed top-4 right-4 bg-white/10 text-white p-2 rounded-full hover:bg-white/20 z-[70]",children:[m.jsx("span",{className:"sr-only",children:"Close"}),m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),m.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})]}),m.jsxs("div",{className:"bg-white text-black w-[80mm] min-h-0 h-fit shadow-2xl my-8 mx-auto p-2 py-4 font-mono text-[10px] leading-tight",onClick:U=>U.stopPropagation(),children:[m.jsxs("div",{className:"text-center mb-4",children:[m.jsx("h1",{className:"text-xl font-bold uppercase",children:d.name}),m.jsx("p",{className:"text-[10px]",children:d.address}),m.jsxs("p",{className:"text-[10px]",children:["Ph: ",d.phone]}),t.gstEnabled&&(d.gstin||d.gst)&&m.jsxs("p",{className:"text-[10px] font-bold mt-1",children:["GSTIN: ",d.gstin||d.gst]})]}),m.jsx("div",{className:"border-b border-dashed border-black my-2"}),m.jsxs("div",{className:"flex justify-between text-[10px] mb-1",children:[m.jsx("span",{children:"Invoice No:"}),m.jsxs("span",{className:"font-bold",children:["#",t.invoiceNumber]})]}),m.jsxs("div",{className:"flex justify-between text-[10px] mb-1",children:[m.jsx("span",{children:"Date:"}),m.jsx("span",{children:new Date(t.date).toLocaleDateString()})]}),m.jsxs("div",{className:"flex justify-between text-[10px] mb-4",children:[m.jsx("span",{children:"Customer:"}),m.jsx("span",{className:"font-bold",children:t.customerName})]}),m.jsx("div",{className:"border-b border-dashed border-black my-2"}),m.jsxs("table",{className:"w-full text-[10px] mb-4",children:[m.jsx("thead",{children:m.jsxs("tr",{children:[m.jsx("th",{className:"text-left py-1",children:"Item"}),m.jsx("th",{className:"text-center py-1",children:"Qty"}),m.jsx("th",{className:"text-right py-1",children:"Rate"}),m.jsx("th",{className:"text-right py-1",children:"Total"})]})}),m.jsx("tbody",{children:t.items.map((U,Y)=>m.jsxs("tr",{children:[m.jsx("td",{className:"text-left py-1",children:U.description}),m.jsx("td",{className:"text-center py-1",children:U.quantity}),m.jsxs("td",{className:"text-right py-1",children:["",U.rate]}),m.jsxs("td",{className:"text-right py-1",children:["",(U.totalAmount||U.baseAmount||0).toFixed(2)]})]},Y))})]}),m.jsx("div",{className:"border-b border-dashed border-black my-2"}),m.jsxs("div",{className:"text-[10px] text-right space-y-1 mb-4",children:[m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{children:"Subtotal:"}),m.jsx("span",{children:t.subtotal.toFixed(2)})]}),t.gstEnabled&&(t.totalCgst||0)+(t.totalSgst||0)+(t.totalIgst||0)>0&&m.jsxs(m.Fragment,{children:[(t.totalCgst||0)>0&&m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{children:"CGST:"}),m.jsx("span",{children:(t.totalCgst||0).toFixed(2)})]}),(t.totalSgst||0)>0&&m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{children:"SGST:"}),m.jsx("span",{children:(t.totalSgst||0).toFixed(2)})]}),(t.totalIgst||0)>0&&m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{children:"IGST:"}),m.jsx("span",{children:(t.totalIgst||0).toFixed(2)})]})]}),m.jsxs("div",{className:"flex justify-between font-bold text-sm mt-2 pt-2 border-t border-dashed border-black",children:[m.jsx("span",{children:"TOTAL:"}),m.jsxs("span",{children:["",Math.round(t.total).toFixed(2)]})]}),m.jsxs("div",{className:"text-xs text-center mt-2 italic",children:["(",T0(Math.round(t.total)),")"]})]}),m.jsx("div",{className:"border-b border-dashed border-black my-2"}),L&&m.jsxs("div",{className:"flex flex-col items-center py-4",children:[m.jsx("p",{className:"text-[9px] font-black uppercase mb-1",children:"Scan to Pay"}),m.jsx("img",{src:L,className:"w-32 h-32",alt:"POS Payment QR"}),m.jsx("p",{className:"text-[8px] font-bold mt-1",children:d.upiId})]}),m.jsxs("div",{className:"text-center text-[9px] mt-4",children:[m.jsx("p",{className:"font-bold uppercase mb-1",children:"Thank you for your business!"}),m.jsx("p",{children:"Terms & Conditions Apply"})]}),m.jsxs("button",{onClick:oe,className:"w-full mt-4 py-4 bg-blue-600 text-white font-bold rounded-lg flex items-center justify-center gap-2 shadow-lg shadow-blue-500/20 active:scale-95 transition-transform print:hidden",children:[m.jsx(db,{className:"w-5 h-5"}),"Print Receipt"]}),m.jsx("button",{onClick:()=>D(!1),className:"w-full mt-2 py-3 bg-slate-100 text-slate-900 rounded-lg md:hidden print:hidden border border-slate-200",children:"Close View"})]})]}),Yee.createPortal(m.jsxs("div",{id:"print-mount",style:{display:"none"},children:[m.jsx("style",{children:`
                    @media print {
                        body > * { display: none !important; }
                        body > #print-mount { display: block !important; }
                        #print-mount {
                            position: absolute;
                            top: 0;
                            left: 0;
                            width: 100%;
                            height: auto;
                            background: white;
                            z-index: 9999;
                            -webkit-print-color-adjust: exact;
                            print-color-adjust: exact;
                        }
                        @page { margin: 0; size: auto; }
                    }
                `}),K?m.jsxs("div",{className:"bg-white text-black w-[80mm] font-mono text-[12px] leading-tight p-0 mx-auto",children:[m.jsxs("div",{className:"text-center mb-4",children:[m.jsx("h1",{className:"text-xl font-bold uppercase",children:d.name}),m.jsx("p",{className:"text-[10px]",children:d.address}),m.jsxs("p",{className:"text-[10px]",children:["Ph: ",d.phone]}),t.gstEnabled&&(d.gstin||d.gst)&&m.jsxs("p",{className:"text-[10px] font-bold mt-1",children:["GSTIN: ",d.gstin||d.gst]})]}),m.jsx("div",{className:"border-b border-dashed border-black my-2"}),m.jsxs("div",{className:"flex justify-between mb-1",children:[m.jsx("span",{children:"Invoice No:"}),m.jsxs("span",{className:"font-bold",children:["#",t.invoiceNumber]})]}),m.jsxs("div",{className:"flex justify-between mb-1",children:[m.jsx("span",{children:"Date:"}),m.jsx("span",{children:new Date(t.date).toLocaleDateString()})]}),m.jsxs("div",{className:"flex justify-between mb-4",children:[m.jsx("span",{children:"Customer:"}),m.jsx("span",{className:"font-bold",children:t.customerName})]}),m.jsx("div",{className:"border-b border-dashed border-black my-2"}),m.jsxs("table",{className:"w-full mb-4 text-left",children:[m.jsx("thead",{children:m.jsxs("tr",{children:[m.jsx("th",{className:"py-1 w-[40%]",children:"Item"}),m.jsx("th",{className:"py-1 text-center",children:"Qty"}),m.jsx("th",{className:"py-1 text-right",children:"Price"}),m.jsx("th",{className:"py-1 text-right",children:"Total"})]})}),m.jsx("tbody",{children:t.items.map((U,Y)=>m.jsxs("tr",{children:[m.jsx("td",{className:"py-1",children:U.description}),m.jsx("td",{className:"py-1 text-center",children:U.quantity}),m.jsx("td",{className:"py-1 text-right",children:U.rate}),m.jsx("td",{className:"py-1 text-right",children:(U.totalAmount||U.baseAmount||0).toFixed(2)})]},Y))})]}),m.jsx("div",{className:"border-b border-dashed border-black my-2"}),m.jsxs("div",{className:"text-right space-y-1 mb-4",children:[m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{children:"Subtotal:"}),m.jsx("span",{children:t.subtotal.toFixed(2)})]}),m.jsxs("div",{className:"flex justify-between font-bold text-sm mt-2 pt-2 border-t border-dashed border-black",children:[m.jsx("span",{children:"TOTAL:"}),m.jsxs("span",{children:["",Math.round(t.total).toFixed(2)]})]}),m.jsxs("div",{className:"text-[10px] text-center mt-2 italic",children:["(",T0(Math.round(t.total)),")"]})]}),m.jsx("div",{className:"border-b border-dashed border-black my-2"}),L&&m.jsxs("div",{className:"flex flex-col items-center py-4",children:[m.jsx("p",{className:"text-[9px] font-black uppercase mb-1",children:"Scan to Pay"}),m.jsx("img",{src:L,className:"w-32 h-32",alt:"Print QR"}),m.jsx("p",{className:"text-[8px] font-bold mt-1",children:d.upiId})]}),m.jsx("div",{className:"text-center text-[10px] mt-4",children:m.jsx("p",{className:"font-bold uppercase mb-1",children:"Thank you!"})})]}):m.jsxs("div",{className:"p-10 text-black max-w-[210mm] mx-auto bg-white",children:[m.jsxs("div",{className:"text-center mb-6",children:[m.jsx("h1",{className:"text-3xl font-bold mb-1 uppercase",children:d.name}),m.jsx("p",{className:"text-sm text-gray-600",children:d.address}),m.jsxs("p",{className:"text-sm text-gray-600",children:["Ph: ",d.phone]}),t.gstEnabled&&(d.gstin||d.gst)&&m.jsxs("p",{className:"text-sm font-bold mt-1",children:["GSTIN: ",d.gstin||d.gst]})]}),m.jsx("div",{className:"border-b-2 border-black mb-6"}),m.jsxs("div",{className:"flex justify-between items-start mb-8",children:[m.jsxs("div",{className:"text-left",children:[m.jsx("h3",{className:"font-bold text-xs uppercase text-gray-500 mb-1",children:"Billed To"}),m.jsx("h2",{className:"text-lg font-bold",children:t.customerName}),m.jsx("p",{className:"text-sm text-gray-600 whitespace-pre-wrap max-w-[250px]",children:t.customerAddress})]}),m.jsxs("div",{className:"text-right",children:[m.jsxs("div",{className:"mb-2",children:[m.jsx("span",{className:"block text-xs font-bold text-gray-500 uppercase",children:"Invoice No"}),m.jsxs("span",{className:"text-lg font-bold",children:["#",t.invoiceNumber]})]}),m.jsxs("div",{children:[m.jsx("span",{className:"block text-xs font-bold text-gray-500 uppercase",children:"Date"}),m.jsx("span",{className:"text-base font-medium",children:new Date(t.date).toLocaleDateString()})]})]})]}),m.jsxs("table",{className:"w-full text-sm mb-8 border-collapse",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"border-b border-black",children:[m.jsx("th",{className:"py-2 text-left",children:"Item"}),m.jsx("th",{className:"py-2 text-center",children:"Qty"}),m.jsx("th",{className:"py-2 text-right",children:"Price"}),m.jsx("th",{className:"py-2 text-right",children:"Total"})]})}),m.jsx("tbody",{children:t.items.map((U,Y)=>m.jsxs("tr",{className:"border-b border-gray-200",children:[m.jsx("td",{className:"py-3",children:U.description}),m.jsx("td",{className:"py-3 text-center",children:U.quantity}),m.jsxs("td",{className:"py-3 text-right",children:["",U.rate]}),m.jsxs("td",{className:"py-3 text-right font-bold",children:["",(U.totalAmount||U.baseAmount||0).toFixed(2)]})]},Y))})]}),m.jsx("div",{className:"flex justify-end mb-8",children:m.jsxs("div",{className:"w-1/2 space-y-2 text-right",children:[m.jsxs("div",{className:"flex justify-between text-sm",children:[m.jsx("span",{className:"text-gray-600 font-medium",children:"Subtotal"}),m.jsxs("span",{className:"font-bold",children:["",t.subtotal.toFixed(2)]})]}),m.jsxs("div",{className:"border-t border-black pt-2 flex justify-between items-end",children:[m.jsx("span",{className:"text-base font-bold",children:"Total"}),m.jsxs("span",{className:"text-2xl font-black",children:["",t.total.toFixed(2)]})]})]})}),m.jsxs("div",{className:"text-right text-[10px] italic mb-8 -mt-6",children:["(",T0(Math.round(t.total)),")"]}),m.jsxs("div",{className:"flex justify-between items-end mt-12 border-t pt-6",children:[m.jsxs("div",{className:"space-y-4",children:[L&&m.jsxs("div",{className:"flex flex-col items-center p-2 border border-gray-100 rounded",children:[m.jsx("p",{className:"text-[8px] font-bold uppercase mb-1 text-gray-400",children:"Scan to Pay"}),m.jsx("img",{src:L,className:"w-20 h-20",alt:"Print QR A4"}),m.jsx("p",{className:"text-[8px] font-bold mt-1",children:d.upiId})]}),m.jsxs("div",{className:"text-xs text-gray-500",children:[m.jsx("p",{className:"font-bold uppercase text-[10px] mb-1",children:"Terms:"}),m.jsx("p",{children:"1. Payment due within 30 days."}),m.jsx("p",{children:"2. Goods once sold will not be taken back."})]})]}),m.jsxs("div",{className:"text-right",children:[m.jsx("div",{className:"h-16 w-40 border-b border-gray-300 mb-2"}),m.jsxs("p",{className:"font-bold text-sm",children:["For ",d.name]}),m.jsx("p",{className:"text-xs text-gray-400 uppercase",children:"Authorized Signatory"})]})]}),m.jsx("div",{className:"text-center text-gray-400 text-[10px] mt-8",children:m.jsx("p",{className:"font-bold uppercase mb-1 tracking-widest",children:"Thank you for your business!"})})]})]}),document.body),E&&m.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-[60] p-4 print:hidden",children:m.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-2xl max-w-sm w-full animate-in zoom-in-95 duration-200",children:[m.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-2",children:"Delete Invoice?"}),m.jsx("p",{className:"text-sm text-slate-500 mb-6",children:"Are you sure you want to delete this invoice? This action cannot be undone."}),m.jsxs("div",{className:"flex gap-3",children:[m.jsx("button",{onClick:()=>b(!1),className:"flex-1 px-4 py-3 bg-slate-100 text-slate-700 rounded-xl hover:bg-slate-200 font-bold",children:"Cancel"}),m.jsx("button",{onClick:Re,className:"flex-1 px-4 py-3 bg-red-600 text-white rounded-xl hover:bg-red-700 font-bold",children:"Delete"})]})]})}),r&&m.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-md flex items-center justify-center z-[100] p-4 animate-in fade-in duration-200",children:m.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-[32px] p-6 w-full max-w-sm text-center shadow-2xl scale-100 animate-in zoom-in-95 duration-200",children:[m.jsx("div",{className:"w-20 h-20 bg-green-100 text-green-600 rounded-full flex items-center justify-center mx-auto mb-6 shadow-green-200 shadow-lg",children:m.jsx(Lx,{className:"w-10 h-10"})}),m.jsx("h2",{className:"text-2xl font-black text-slate-800 dark:text-slate-100 mb-2",children:"Invoice Saved!"}),m.jsxs("p",{className:"text-slate-500 font-medium mb-8",children:["",t.total,"  #",t.invoiceNumber]}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("button",{onClick:oe,className:"w-full py-5 rounded-2xl bg-blue-600 text-white font-black text-lg shadow-xl shadow-blue-500/30 active:scale-95 transition-transform flex items-center justify-center gap-3",children:[m.jsx(db,{className:"w-6 h-6"}),"Print Invoice"]}),m.jsxs("button",{onClick:xe,className:"w-full py-5 rounded-2xl bg-green-600 text-white font-black text-lg shadow-xl shadow-green-500/30 active:scale-95 transition-transform flex items-center justify-center gap-3",children:[m.jsx(sg,{className:"w-6 h-6"}),"Send on WhatsApp"]}),m.jsx("button",{onClick:s,className:"w-full py-4 font-bold text-slate-400 mt-2",children:"Close"})]})]})}),q&&m.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-[110] p-4",children:m.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-[24px] p-6 w-full max-w-sm shadow-xl",children:[m.jsx("h3",{className:"text-lg font-bold mb-4",children:"WhatsApp & Contact"}),m.jsxs("div",{className:"space-y-4 mb-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase mb-1 block",children:"Customer Name"}),m.jsx("input",{type:"text",value:ae,onChange:U=>Se(U.target.value),className:"w-full p-4 bg-slate-50 dark:bg-slate-800 border-none rounded-xl text-lg font-bold focus:ring-2 focus:ring-green-500 outline-none",placeholder:"Enter Name"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase mb-1 block",children:"Phone Number"}),m.jsx("input",{type:"tel",value:M,onChange:U=>{const Y=U.target.value;if(H(Y),Y.length>=10){const ne=Y.replace(/\D/g,"").slice(-10),ye=et.getCustomers().find(pe=>pe.phone.replace(/\D/g,"").slice(-10)===ne);ye&&!ae&&Se(ye.name)}},className:"w-full p-4 bg-slate-50 dark:bg-slate-800 border-none rounded-xl text-xl font-bold focus:ring-2 focus:ring-green-500 outline-none",placeholder:"9999999999",autoFocus:!0})]})]}),m.jsxs("button",{onClick:()=>Ie(M,ae),className:"w-full py-4 bg-green-600 text-white rounded-xl font-bold shadow-lg shadow-green-500/30 flex items-center justify-center gap-2 mb-3",children:[m.jsx(sg,{className:"w-5 h-5"}),"Send WhatsApp"]}),m.jsxs("button",{onClick:()=>ve(M,ae),className:"w-full py-4 bg-blue-50 text-blue-600 dark:bg-blue-900/20 dark:text-blue-400 rounded-xl font-bold flex items-center justify-center gap-2 mb-2",children:[m.jsx(hM,{className:"w-5 h-5"}),"Save to Phone"]}),m.jsx("button",{onClick:()=>P(!1),className:"w-full py-3 mt-2 text-slate-400 font-bold",children:"Cancel"})]})})]})]})},bw=(t,e)=>{const n=t?t.length:0,r=e?e.length:0;if(n===0)return r;if(r===0)return n;const s=new Array(r+1);for(let a=0;a<=r;++a){let o=s[a]=new Array(n+1);o[0]=a}const i=s[0];for(let a=1;a<=n;++a)i[a]=a;for(let a=1;a<=r;++a)for(let o=1;o<=n;++o)e.charAt(a-1)===t.charAt(o-1)?s[a][o]=s[a-1][o-1]:s[a][o]=Math.min(s[a-1][o-1],s[a][o-1],s[a-1][o])+1;return s[r][n]},lT=({options:t,value:e,onChange:n,onCreate:r,placeholder:s="Search...",className:i="",onKeyDown:a,inputRef:o,autoFocus:c})=>{const[f,d]=ke.useState(!1),[p,g]=ke.useState(""),y=ke.useRef(null);ke.useEffect(()=>{const k=t.find(B=>B.id===e);k?g(k.label):e||g("")},[e,t]),ke.useEffect(()=>{function k(B){if(y.current&&!y.current.contains(B.target)){d(!1);const W=t.find(K=>K.id===e);W?g(W.label):e===""&&g("")}}return document.addEventListener("mousedown",k),()=>document.removeEventListener("mousedown",k)},[y,e,t]);const E=ke.useMemo(()=>{if(!p)return t;const k=p.toLowerCase().trim(),B=k.length,W=B>5?2:B>2?1:0;return t.map(K=>{const L=K.label.toLowerCase(),R=K.subLabel||"",q=R.toLowerCase();let P=0;if(L===k)P=100;else if(L.startsWith(k))P=80;else if(L.split(/[\s-]+/).some(M=>M.startsWith(k)))P=70;else if(L.includes(k))P=60;else if(q.includes(k))P=50;else{const M=bw(k,L);if(M<=W)P=40-M;else{const H=L.split(/[\s-]+/);for(const ae of H){const Se=bw(k,ae);Se<=W&&(P=Math.max(P,35-Se))}if(R){const ae=q.split(/[\s-]+/);for(const Se of ae){const oe=bw(k,Se);oe<=W&&(P=Math.max(P,30-oe))}}}}return{...K,score:P}}).filter(K=>K.score>0).sort((K,D)=>(D.score||0)-(K.score||0))},[p,t]),[b,A]=ke.useState(-1),N=k=>{n(k),d(!1)},V=k=>{k.key==="ArrowDown"?(k.preventDefault(),A(B=>B<E.length-1?B+1:B)):k.key==="ArrowUp"?(k.preventDefault(),A(B=>B>-1?B-1:B)):k.key==="Enter"?b>=0&&b<E.length?(k.preventDefault(),N(E[b].id)):p&&!E.some(B=>B.label.toLowerCase()===p.trim().toLowerCase())?(k.preventDefault(),r(p),d(!1)):a&&a(k):k.key==="Escape"?d(!1):a&&a(k)};return ke.useEffect(()=>{A(-1)},[p]),m.jsxs("div",{ref:y,className:`relative ${i}`,children:[m.jsxs("div",{className:"relative",children:[m.jsx("input",{type:"text",className:"w-full rounded-md border border-slate-300 p-2 pl-8 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:s,value:p,onChange:k=>{g(k.target.value),d(!0),k.target.value===""&&n("")},onFocus:()=>d(!0),onKeyDown:V,ref:o,autoFocus:c}),m.jsx(iE,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-gray-400 pointer-events-none"})]}),f&&m.jsxs("div",{className:"absolute z-50 w-full mt-1 bg-white border border-slate-200 rounded-md shadow-lg max-h-60 overflow-y-auto",children:[E.map((k,B)=>m.jsxs("button",{type:"button",onClick:()=>N(k.id),className:`w-full text-left px-4 py-2 text-sm hover:bg-blue-50 focus:bg-blue-50 focus:outline-none border-b border-gray-50 last:border-0 ${b===B?"bg-blue-50":""}`,children:[m.jsx("div",{className:"font-medium text-slate-800",children:k.label}),k.subLabel&&m.jsx("div",{className:"text-xs text-slate-500",children:k.subLabel})]},k.id)),p&&!E.some(k=>k.label.toLowerCase()===p.trim().toLowerCase())&&m.jsxs("div",{className:"p-2 border-t border-slate-100",children:[E.length===0&&m.jsx("p",{className:"text-xs text-gray-500 px-2 py-1",children:"No results found."}),m.jsxs("button",{type:"button",onClick:()=>{r(p),d(!1)},className:"w-full text-left px-2 py-2 text-sm text-blue-600 hover:bg-blue-50 rounded flex items-center gap-2 font-medium",children:[m.jsx(Kf,{className:"w-4 h-4"}),' Create "',p,'"']})]})]})]})},lP=({onSave:t,onCancel:e,initialInvoice:n,startSmartCalc:r})=>{const{company:s}=Eh(),[i,a]=ke.useState([]),[o,c]=ke.useState([]),[f,d]=ke.useState(""),[p,g]=ke.useState(new Date().toISOString().split("T")[0]),[y,E]=ke.useState(""),[b,A]=ke.useState([]),N=s?.gst_enabled??!0,[V,k]=ke.useState("CREDIT"),[B,W]=ke.useState(s?.roundUpDefault??0),[K,D]=ke.useState(""),[L,R]=ke.useState(!1),[q,P]=ke.useState(""),[M,H]=ke.useState("");ke.useEffect(()=>{r&&!n&&R(!0)},[r,n]);const[ae,Se]=ke.useState(!1),[oe,ve]=ke.useState(!1),[Ie,xe]=ke.useState(""),[Re,re]=ke.useState(""),[O,J]=ke.useState(""),[U,Y]=ke.useState(""),[ne,ye]=ke.useState(""),[pe,ue]=ke.useState("0"),[Te,je]=ke.useState(""),[ce,dt]=ke.useState(null),pt=()=>n?n.invoiceNumber:f?et.generateInvoiceNumber(f,p):"---",[se,nt]=ke.useState(!1),[it,Pt]=ke.useState(!1);Ig.useRef({}),ke.useEffect(()=>{if(a(et.getCustomers()),c(et.getProducts()),n)d(n.customerId),g(n.date),E(n.dueDate),A(n.items.map(Le=>({...Le}))),k(n.status==="PAID"?"CASH":"CREDIT"),D(n.notes||"");else{const Le=new Date;Le.setDate(Le.getDate()+30),E(Le.toISOString().split("T")[0]),b.length===0&&tt()}},[n]);const tt=()=>{A([...b,{productId:"",description:"",quantity:1,rate:0,baseAmount:0,hsn:"",gstRate:0,cgstAmount:0,sgstAmount:0,igstAmount:0,totalAmount:0}])},St=(Le,Dt,Vt)=>{const $n=Le.quantity*Le.rate,Yt=Le.gstRate||0;(Dt?.state===Vt?.state?"INTRA_STATE":"INTER_STATE")==="INTRA_STATE"?(Le.cgstAmount=$n*(Yt/2)/100,Le.sgstAmount=$n*(Yt/2)/100,Le.igstAmount=0):(Le.cgstAmount=0,Le.sgstAmount=0,Le.igstAmount=$n*Yt/100),Le.baseAmount=$n,Le.totalAmount=$n+(Le.cgstAmount||0)+(Le.sgstAmount||0)+(Le.igstAmount||0),Le.baseAmount=$n,Le.totalAmount=$n+(Le.cgstAmount||0)+(Le.sgstAmount||0)+(Le.igstAmount||0)},Ct=()=>{if(b.filter(Oe=>Oe.productId).length===0){R(!1);return}let Le=f,Dt=i.find(Oe=>Oe.id===Le);if(!Le){let Oe=i.find(He=>He.name.toUpperCase()==="CASH");Oe||(Oe={id:crypto.randomUUID(),name:"CASH",company:"CASH SALES",phone:"",email:"",address:"",gstin:"",balance:0,notifications:[]},et.saveCustomer(Oe),a(et.getCustomers())),Dt=Oe,Le=Oe.id}if(!Dt)return;const Vt=b.filter(Oe=>Oe.productId).map(Oe=>({...Oe,quantity:Number(Oe.quantity)||1,rate:Number(Oe.rate)||0,baseAmount:Number(Oe.baseAmount)||0,gstRate:Number(Oe.gstRate)||0,cgstAmount:Number(Oe.cgstAmount)||0,sgstAmount:Number(Oe.sgstAmount)||0,igstAmount:Number(Oe.igstAmount)||0,totalAmount:Number(Oe.totalAmount)||0})),$n="PAID",Yt=Vt.reduce((Oe,He)=>Oe+(He.baseAmount||0),0),qn=Vt.reduce((Oe,He)=>Oe+(He.cgstAmount||0),0),te=Vt.reduce((Oe,He)=>Oe+(He.sgstAmount||0),0),be=Vt.reduce((Oe,He)=>Oe+(He.igstAmount||0),0),he=s,ge=(he?.state||"Delhi")===(Dt.state||"")?"INTRA_STATE":"INTER_STATE",we=Yt+qn+te+be;let Ee=we,Ve=0;B>0&&(Ee=Math.ceil(we/B)*B,Ve=Ee-we);const rt={id:crypto.randomUUID(),invoiceNumber:et.generateInvoiceNumber(Le,p),customerId:Le,customerName:Dt.company||Dt.name,customerAddress:Dt.address||"",customerState:Dt.state||"",customerGstin:Dt.gstin||"",supplierGstin:he?.gstin||"",taxType:ge,date:p,dueDate:y,items:Vt,subtotal:Math.round(Yt*100)/100,totalCgst:Math.round(qn*100)/100,totalSgst:Math.round(te*100)/100,totalIgst:Math.round(be*100)/100,gstEnabled:N&&Vt.some(Oe=>(Oe.gstRate||0)>0),roundUpTo:B,roundUpAmount:Math.round(Ve*100)/100,total:Math.round(Ee*100)/100,status:$n,paymentMode:"CASH",notes:K};t(rt,!0),R(!1)},[Lt,jt]=ke.useState(null),[Qt,Zt]=ke.useState(!1),on=Le=>{jt(Le),Zt(!0),Zs.light()},Sn=Le=>{const Dt=o.find(Vt=>Vt.id===Le);Dt&&(J(Dt.name),Y(Dt.price.toString()),ye(Dt.hsn||""),ue(Dt.gstRate?.toString()||"0"),je(Dt.id),ve(!0))},Bt=()=>{const Le=b.length;tt(),setTimeout(()=>on(Le),0)},vt=(Le,Dt,Vt)=>{nt(!0);const $n=[...b],Yt=$n[Le],qn=s,te=i.find(be=>be.id===f);if(Dt==="productId"){const be=o.find(he=>he.id===Vt);if(be){Yt.productId=be.id,Yt.description=be.name,Yt.hsn=be.hsn||"",Yt.gstRate=be.gstRate||0;let he=be.price;if(f){const ge=et.getLastSalePrice(f,be.id);ge!==null&&(he=ge)}Yt.rate=he,Yt.baseAmount=Yt.quantity*Yt.rate,N?St(Yt,qn,te):Yt.totalAmount=Yt.baseAmount}}else Dt==="quantity"||Dt==="rate"?(Dt==="quantity"&&(Yt.quantity=Number(Vt)),Dt==="rate"&&(Yt.rate=Number(Vt)),Yt.baseAmount=Yt.quantity*Yt.rate,N?St(Yt,qn,te):Yt.totalAmount=Yt.baseAmount):Dt==="gstRate"?(Yt.gstRate=Number(Vt),N&&St(Yt,qn,te)):Dt==="hsn"?Yt.hsn=Vt:Dt==="description"&&(Yt.description=Vt);A($n)},wt=Le=>{nt(!0),A(b.filter((Dt,Vt)=>Vt!==Le))},Et=Le=>{Zs.light(),H(""),Le==="C"?P(""):Le==="+"?q&&Wn():P(Dt=>Dt+Le)},Wn=()=>{const Le=o.find(Vt=>Vt.id===q);if(!Le){H("Item ID not found"),Zs.heavy();return}nt(!0);const Dt=b.findIndex(Vt=>Vt.productId===Le.id);if(Dt>-1)vt(Dt,"quantity",b[Dt].quantity+1);else{const Vt={productId:Le.id,description:Le.name,quantity:1,rate:Le.price,baseAmount:0,hsn:Le.hsn||"",gstRate:Le.gstRate||0,cgstAmount:0,sgstAmount:0,igstAmount:0,totalAmount:0},$n=s,Yt=i.find(te=>te.id===f);let qn=Le.price;if(f){const te=et.getLastSalePrice(f,Le.id);te!==null&&(qn=te)}Vt.rate=qn,Vt.baseAmount=Vt.quantity*Vt.rate,N?St(Vt,$n,Yt):Vt.totalAmount=Vt.baseAmount,A(te=>[...te.filter(be=>be.productId),Vt])}P(""),Zs.medium()},qt=Ig.useRef({}),Gt=(Le,Dt)=>{Le.key==="Enter"&&(Le.preventDefault(),Dt==="productId"?qt.current.quantity?.focus():Dt==="quantity"?qt.current.rate?.focus():Dt==="rate"&&(Zt(!1),setTimeout(Bt,300)))},mn=()=>b.reduce((Le,Dt)=>Le+(Dt.baseAmount||0),0),An=()=>b.reduce((Le,Dt)=>Le+(Dt.cgstAmount||0),0),ln=()=>b.reduce((Le,Dt)=>Le+(Dt.sgstAmount||0),0),Jn=()=>b.reduce((Le,Dt)=>Le+(Dt.igstAmount||0),0),pn=()=>{const Le=mn(),Dt=An(),Vt=ln(),$n=Jn();return Le+Dt+Vt+$n},fn=()=>{const Le=pn();return B===0?Le:Math.ceil(Le/B)*B},ar=()=>B===0?0:fn()-pn(),cn=Le=>{xe(Le),re(""),Se(!0)},Wt=()=>{const Le={id:crypto.randomUUID(),name:Ie,company:Ie,email:"",phone:Re,address:"",balance:0,notifications:[]};et.saveCustomer(Le),a(et.getCustomers()),d(Le.id),Se(!1)},Ln=(Le,Dt)=>{J(Le),Y(""),je(""),dt(Dt),ve(!0)},as=()=>{const Le={id:Te.trim()||crypto.randomUUID(),name:O,price:Number(U)||0,stock:100,category:"General",hsn:ne,gstRate:Number(pe)||0};if(et.saveProduct(Le),c(et.getProducts()),ce!==null){const Dt=[...b],Vt=Dt[ce];Vt.productId=Le.id,Vt.description=Le.name,Vt.rate=Le.price,Vt.quantity=1,Vt.gstRate=Le.gstRate||0,Vt.hsn=Le.hsn||"",St(Vt,s,i.find($n=>$n.id===f)),A(Dt)}ve(!1),J(""),Y(""),ye(""),ue("0"),je(""),dt(null)},os=()=>{if(n&&se&&!it){Pt(!0);return}const Le=i.find(Ve=>Ve.id===f);if(!Le)return alert("Select a customer");if(b.length===0)return alert("Add at least one item");for(let Ve=0;Ve<b.length;Ve++)if(!b[Ve].productId)return alert(`Please select a product for Item ${Ve+1}`);const Dt=b.map(Ve=>({...Ve,quantity:Number(Ve.quantity)||1,rate:Number(Ve.rate)||0,baseAmount:Number(Ve.baseAmount)||0,gstRate:Number(Ve.gstRate)||0,cgstAmount:Number(Ve.cgstAmount)||0,sgstAmount:Number(Ve.sgstAmount)||0,igstAmount:Number(Ve.igstAmount)||0,totalAmount:Number(Ve.totalAmount)||0})),Vt=V==="CASH"?"PAID":"PENDING",$n=mn(),Yt=An(),qn=ln(),te=Jn(),be=s,he=(be?.state||"Delhi")===(Le.state||"")?"INTRA_STATE":"INTER_STATE",ge=fn(),we=ar(),Ee={id:n?n.id:crypto.randomUUID(),invoiceNumber:n?n.invoiceNumber:et.generateInvoiceNumber(Le.id,p),customerId:Le.id,customerName:Le.company||Le.name,customerAddress:Le.address||"",customerState:Le.state||"",customerGstin:Le.gstin||"",supplierGstin:be?.gstin||"",taxType:he,date:p,dueDate:y,items:Dt,subtotal:Math.round($n*100)/100,totalCgst:Math.round(Yt*100)/100,totalSgst:Math.round(qn*100)/100,totalIgst:Math.round(te*100)/100,gstEnabled:N&&Dt.some(Ve=>(Ve.gstRate||0)>0),roundUpTo:B,roundUpAmount:Math.round(we*100)/100,total:Math.round(ge*100)/100,status:Vt,notes:K};t(Ee)},{scrollY:ki}=iG(),[Hr,un]=ke.useState(!1);return Vz(ki,"change",Le=>{un(Le>50)}),m.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900 min-h-screen pb-48",children:[it&&m.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-[100] p-4",children:m.jsxs(Mn.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"bg-white dark:bg-slate-800 rounded-[24px] shadow-2xl w-full max-w-sm p-6 text-center",children:[m.jsx("div",{className:"w-16 h-16 bg-amber-100 text-amber-600 rounded-full flex items-center justify-center mx-auto mb-4",children:m.jsx(p1,{className:"w-8 h-8"})}),m.jsx("h3",{className:"text-xl font-bold mb-2",children:"Save Changes?"}),m.jsx("p",{className:"text-slate-500 mb-6",children:"You are editing an existing invoice. This will update the customer balance and records."}),m.jsxs("div",{className:"flex gap-3",children:[m.jsx("button",{onClick:()=>Pt(!1),className:"flex-1 py-3 font-bold text-slate-500 hover:bg-slate-100 rounded-xl",children:"Cancel"}),m.jsx("button",{onClick:os,className:"flex-1 py-3 font-bold bg-blue-600 text-white rounded-xl shadow-lg shadow-blue-200",children:"Yes, Save"})]})]})}),m.jsx(Mn.div,{animate:{backgroundColor:Hr?"rgba(255, 255, 255, 0.8)":"rgba(255, 255, 255, 1)",backdropFilter:Hr?"blur(10px)":"blur(0px)"},className:"bg-white dark:bg-slate-900 sticky top-0 z-20 border-b border-slate-100 dark:border-slate-800 shadow-sm transition-colors",children:m.jsxs("div",{className:"flex items-center justify-between px-4 h-16 max-w-5xl mx-auto",children:[m.jsx("button",{onClick:e,className:"p-2 -ml-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-800",children:m.jsx(Ru,{className:"w-6 h-6 text-slate-700 dark:text-slate-200"})}),m.jsx("h1",{className:"text-xl font-bold text-slate-800 dark:text-slate-100 flex-1 ml-2",children:n?"Edit Invoice":"New Invoice"}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("div",{className:"hidden md:block text-sm font-medium text-slate-500 bg-slate-100 dark:bg-slate-800 px-3 py-1 rounded-full",children:pt()}),m.jsxs(Mn.button,{whileTap:{scale:.95},onClick:os,className:"bg-blue-600 text-white px-5 py-2 rounded-xl font-bold shadow-lg shadow-blue-500/30 flex items-center gap-2 active:bg-blue-700",children:[m.jsx(Jy,{className:"w-5 h-5"}),m.jsx("span",{children:"Save"})]})]})]})}),m.jsxs("div",{className:"max-w-5xl mx-auto space-y-6 pt-6 px-4",children:[m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-[24px] shadow-sm border border-slate-100 dark:border-slate-700",children:[m.jsx("h2",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider mb-4",children:"Bill To"}),m.jsx(lT,{options:i.map(Le=>({id:Le.id,label:Le.company,subLabel:Le.name})),value:f,onChange:Le=>{d(Le),nt(!0);const Dt=et.predictNextItem(Le);Dt&&b.length===1&&b[0].productId===""&&vt(0,"productId",Dt.id)},onCreate:cn,placeholder:"Search Customer..."}),f&&et.predictNextItem(f)&&m.jsxs("div",{className:"mt-3 flex items-center gap-2",children:[m.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"Suggested Product:"}),m.jsxs("button",{onClick:()=>{const Le=et.predictNextItem(f);Le&&tt();const Dt=b.findIndex(Vt=>Vt.productId==="");if(Dt!==-1&&Le)vt(Dt,"productId",Le.id);else if(Le){const Vt=b.length;tt(),setTimeout(()=>vt(Vt,"productId",Le.id),0)}Zs.light()},className:"text-xs font-bold text-blue-600 bg-blue-50 dark:bg-blue-900/30 px-2 py-1 rounded-lg border border-blue-100 dark:border-blue-800",children:["+ ",et.predictNextItem(f)?.name]})]}),m.jsxs("div",{className:"flex gap-4 mt-6",children:[m.jsxs("div",{className:"flex-1",children:[m.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Date"}),m.jsx("div",{className:"mt-1 relative bg-slate-50 dark:bg-slate-900 rounded-xl overflow-hidden border border-slate-200 dark:border-slate-700",children:m.jsx("input",{type:"date",value:p,onChange:Le=>{g(Le.target.value),nt(!0)},className:"w-full bg-transparent p-3 text-sm font-medium outline-none"})})]}),m.jsxs("div",{className:"flex-1",children:[m.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Due Date"}),m.jsx("div",{className:"mt-1 relative bg-slate-50 dark:bg-slate-900 rounded-xl overflow-hidden border border-slate-200 dark:border-slate-700",children:m.jsx("input",{type:"date",value:y,onChange:Le=>{E(Le.target.value),nt(!0)},className:"w-full bg-transparent p-3 text-sm font-medium outline-none"})})]})]})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-1.5 rounded-[24px] shadow-sm border border-slate-100 dark:border-slate-700 flex overflow-hidden",children:[m.jsxs("button",{onClick:()=>{k("CREDIT"),nt(!0)},className:`flex-1 py-3 px-4 rounded-[20px] flex items-center justify-center gap-2 transition-all ${V==="CREDIT"?"bg-red-50 text-red-600 shadow-sm font-extrabold":"text-slate-500 font-medium opacity-60"}`,children:[m.jsx(BG,{className:"w-5 h-5"})," Credit"]}),m.jsxs("button",{onClick:()=>{k("CASH"),nt(!0)},className:`flex-1 py-3 px-4 rounded-[20px] flex items-center justify-center gap-2 transition-all ${V==="CASH"?"bg-green-50 text-green-600 shadow-sm font-extrabold":"text-slate-500 font-medium opacity-60"}`,children:[m.jsx(e5,{className:"w-5 h-5"})," Cash"]})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"flex items-center justify-between px-2",children:[m.jsx("h2",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider",children:"Items List"}),m.jsxs("div",{className:"hidden md:flex gap-16 text-[10px] font-black text-slate-400 uppercase mr-32",children:[m.jsx("span",{children:"Product"}),m.jsx("span",{children:"Rate"}),m.jsx("span",{children:"Qty"}),m.jsx("span",{children:"Total"})]})]}),m.jsx("div",{className:"space-y-3",children:m.jsx(ku,{mode:"popLayout",children:b.filter(Le=>Le.productId).map((Le,Dt)=>m.jsxs(Mn.div,{layout:!0,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,x:-100},onClick:()=>on(b.indexOf(Le)),className:"bg-white dark:bg-slate-800 p-4 rounded-[24px] shadow-sm border border-slate-100 dark:border-slate-700 flex justify-between items-center active:scale-95 transition-all cursor-pointer",children:[m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsx("p",{className:"text-base font-bold text-slate-800 dark:text-slate-100 truncate",children:Le.description}),m.jsxs("p",{className:"text-xs text-slate-400 font-bold uppercase",children:[Le.quantity," Qty  ",Le.rate]})]}),m.jsxs("div",{className:"text-right",children:[m.jsxs("p",{className:"text-lg font-black text-blue-600",children:["",(Le.totalAmount||0).toFixed(0)]}),m.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase",children:"Incl. GST"})]})]},Dt))})}),m.jsxs("button",{onClick:Bt,className:"w-full py-6 rounded-[28px] border-2 border-dashed border-blue-200 dark:border-slate-800 bg-blue-50/30 dark:bg-slate-900/40 text-blue-600 dark:text-blue-400 font-black flex items-center justify-center gap-3 hover:bg-blue-50 dark:hover:bg-slate-800 transition-all active:scale-[0.98] group",children:[m.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-600 text-white flex items-center justify-center group-hover:scale-110 transition-transform shadow-lg shadow-blue-500/40",children:m.jsx(Kf,{className:"w-5 h-5"})}),m.jsx("span",{children:"Add Item"})]})]})]}),m.jsx(ku,{children:Qt&&Lt!==null&&m.jsxs("div",{className:"fixed inset-0 z-[100] flex flex-col justify-end",children:[m.jsx(Mn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>Zt(!1),className:"absolute inset-0 bg-slate-900/80 backdrop-blur-sm"}),m.jsxs(Mn.div,{initial:{y:"100%",borderRadius:"40px 40px 0 0"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",damping:25,stiffness:200},className:"relative bg-white dark:bg-slate-900 w-full max-h-[90vh] overflow-y-auto p-6 shadow-2xl pb-12",children:[m.jsx("div",{className:"w-12 h-1.5 bg-slate-200 dark:bg-slate-700 rounded-full mx-auto mb-8"}),m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2 block",children:"Item"}),m.jsx(lT,{options:o.map(Le=>({id:Le.id,label:Le.name})),value:b[Lt].productId,onChange:Le=>vt(Lt,"productId",Le),onCreate:Le=>Ln(Le,Lt),placeholder:"Search or Create Product...",className:"h-16 text-lg font-bold border-2 border-slate-100 dark:border-slate-800 rounded-2xl bg-slate-50 dark:bg-slate-950",autoFocus:!0,onKeyDown:Le=>Gt(Le,"productId"),inputRef:Le=>{qt.current.productId=Le}}),b[Lt].productId&&m.jsx("div",{className:"flex justify-end mt-1",children:m.jsx("button",{onClick:()=>Sn(b[Lt].productId),className:"text-[10px] font-bold text-blue-600 bg-blue-50 dark:bg-blue-900/30 px-2 py-1 rounded-lg flex items-center gap-1",children:"Edit Product Details"})})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{className:"bg-slate-50 dark:bg-slate-950 p-4 rounded-2xl border-2 border-slate-100 dark:border-slate-800",children:[m.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2 block",children:"Qty"}),m.jsx("input",{type:"number",className:"w-full bg-transparent text-2xl font-black text-blue-600 outline-none",value:b[Lt].quantity||"",onChange:Le=>vt(Lt,"quantity",Le.target.value),placeholder:"1",onKeyDown:Le=>Gt(Le,"quantity"),ref:Le=>{qt.current.quantity=Le}})]}),m.jsxs("div",{className:"bg-slate-50 dark:bg-slate-950 p-4 rounded-2xl border-2 border-slate-100 dark:border-slate-800",children:[m.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2 block",children:"Rate"}),m.jsx("input",{type:"number",className:"w-full bg-transparent text-2xl font-black text-slate-900 dark:text-slate-100 outline-none",value:b[Lt].rate||"",onChange:Le=>vt(Lt,"rate",Le.target.value),placeholder:"0.00",onKeyDown:Le=>Gt(Le,"rate"),ref:Le=>{qt.current.rate=Le}})]})]}),m.jsxs("div",{className:"flex gap-3 pt-2",children:[m.jsx("button",{onClick:()=>{Zt(!1),setTimeout(Bt,300)},className:"flex-1 bg-slate-100 dark:bg-slate-800 text-slate-900 dark:text-slate-100 py-5 rounded-[24px] font-black text-xs uppercase tracking-wider active:scale-95 transition-all border border-slate-200 dark:border-slate-700",children:"Save & Add Next"}),m.jsx("button",{onClick:()=>Zt(!1),className:"flex-1 bg-blue-600 text-white py-5 rounded-[24px] font-black text-xs uppercase tracking-wider shadow-lg shadow-blue-500/20 active:scale-95 transition-all",children:"Save & Done"}),m.jsx("button",{onClick:()=>{wt(Lt),Zt(!1)},className:"w-16 bg-red-50 dark:bg-red-900/20 text-red-600 flex items-center justify-center rounded-[24px] active:scale-95 transition-all",children:m.jsx(gh,{className:"w-6 h-6"})})]}),m.jsxs("div",{className:"bg-blue-600 p-6 rounded-[32px] text-white flex justify-between items-center shadow-xl shadow-blue-500/30",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-[10px] font-bold uppercase opacity-60",children:"Total Amount"}),m.jsxs("p",{className:"text-4xl font-black tracking-tighter",children:["",(b[Lt].totalAmount||0).toFixed(2).toLocaleString()]})]}),m.jsxs("div",{className:"text-right opacity-60",children:[m.jsx("p",{className:"text-[10px] font-bold uppercase",children:"Tax Incl."}),m.jsxs("p",{className:"text-xs font-bold",children:["GST ",b[Lt].gstRate,"%"]})]})]})]})]})]})}),m.jsx("div",{className:"max-w-5xl mx-auto px-4 pb-4 mt-6",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-[24px] shadow-sm border border-slate-100 dark:border-slate-700",children:[m.jsx("h2",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Additional Notes"}),m.jsx("textarea",{className:"w-full bg-slate-50 dark:bg-slate-900 border-none rounded-xl p-4 text-sm font-medium focus:ring-2 focus:ring-blue-500 outline-none resize-none",rows:3,value:K,onChange:Le=>{D(Le.target.value),nt(!0)},placeholder:"Terms & Conditions, Payment Instructions, etc."})]})}),m.jsx(Mn.div,{initial:{y:0},animate:{y:0,scale:Hr?.98:1,opacity:1},className:"fixed bottom-0 left-0 right-0 bg-white/80 dark:bg-slate-900/90 backdrop-blur-md border-t border-slate-200 dark:border-slate-700 p-4 pb-6 md:pb-4 z-30 shadow-[0_-5px_30px_rgba(0,0,0,0.1)]",children:m.jsxs("div",{className:"max-w-5xl mx-auto flex justify-between items-center px-4",children:[m.jsxs("div",{className:"flex flex-col",children:[m.jsx("span",{className:"text-[10px] text-slate-400 font-black uppercase tracking-widest",children:"Total Payable"}),m.jsxs("span",{className:"text-3xl font-black text-blue-600 tracking-tighter",children:["",fn().toLocaleString("en-IN")]})]}),m.jsxs("div",{className:"text-xs font-bold text-slate-400",children:[b.length," Items Added"]})]})}),L&&m.jsxs("div",{className:"fixed inset-0 bg-white dark:bg-slate-900 z-[60] flex flex-col",children:[m.jsxs("div",{className:"p-4 flex items-center justify-between border-b border-slate-100 dark:border-slate-800",children:[m.jsxs("h2",{className:"text-lg font-black flex items-center gap-2",children:[m.jsx(t5,{className:"w-5 h-5 text-emerald-500"}),"Smart Billing"]}),m.jsx("button",{onClick:()=>R(!1),className:"bg-slate-100 dark:bg-slate-800 p-2 rounded-full hover:bg-slate-200",children:m.jsx(Su,{className:"w-5 h-5"})})]}),m.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-2 bg-slate-50 dark:bg-slate-950",children:b.filter(Le=>Le.productId).length===0?m.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-400 opacity-50",children:[m.jsx(t5,{className:"w-16 h-16 mb-2"}),m.jsx("p",{className:"font-bold",children:"Enter Item ID & Press '+'"})]}):b.filter(Le=>Le.productId).slice().reverse().map((Le,Dt)=>m.jsxs(Mn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white dark:bg-slate-900 p-3 rounded-xl shadow-sm flex justify-between items-center border border-slate-100 dark:border-slate-800",onContextMenu:Vt=>{Vt.preventDefault(),window.confirm(`Remove ${Le.description}?`)&&wt(b.indexOf(Le))},children:[m.jsxs("div",{children:[m.jsx("p",{className:"font-bold text-sm text-slate-800 dark:text-slate-200 truncate max-w-[150px]",children:Le.description}),m.jsxs("p",{className:"text-xs text-slate-400",children:["ID: ",Le.productId," | ",Le.rate]})]}),m.jsx("div",{className:"flex items-center gap-3",children:m.jsx("div",{className:"text-right",children:m.jsxs("p",{className:"font-black text-blue-600",children:["x",Le.quantity]})})})]},Dt))}),m.jsxs("div",{className:"bg-white dark:bg-slate-900 p-4 pb-8 shadow-[0_-5px_30px_rgba(0,0,0,0.1)] rounded-t-[32px]",children:[m.jsxs("div",{className:"bg-slate-100 dark:bg-slate-800 rounded-2xl p-4 mb-4 flex flex-col items-end justify-center min-h-[80px]",children:[m.jsx("span",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:M||"ITEM ID"}),m.jsx("span",{className:`text-4xl font-mono font-black tracking-widest ${M?"text-red-500":"text-slate-800 dark:text-slate-100"}`,children:q||"0"})]}),m.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[[7,8,9].map(Le=>m.jsx("button",{onClick:()=>Et(Le.toString()),className:"h-16 rounded-2xl bg-slate-50 dark:bg-slate-800 text-2xl font-bold hover:bg-slate-100 active:scale-95 transition-all shadow-sm border border-slate-200 dark:border-slate-700",children:Le},Le)),m.jsx("button",{onClick:()=>Et("C"),className:"h-16 rounded-2xl bg-red-50 text-red-600 text-xl font-black hover:bg-red-100 active:scale-95 transition-all",children:"CLR"}),[4,5,6].map(Le=>m.jsx("button",{onClick:()=>Et(Le.toString()),className:"h-16 rounded-2xl bg-slate-50 dark:bg-slate-800 text-2xl font-bold hover:bg-slate-100 active:scale-95 transition-all shadow-sm border border-slate-200 dark:border-slate-700",children:Le},Le)),m.jsx("button",{onClick:Ct,className:"h-16 rounded-2xl bg-slate-100 text-slate-500 font-bold active:scale-95 transition-all flex items-center justify-center",children:m.jsx("span",{className:"text-xs font-black uppercase text-blue-600",children:"Done"})}),[1,2,3].map(Le=>m.jsx("button",{onClick:()=>Et(Le.toString()),className:"h-16 rounded-2xl bg-slate-50 dark:bg-slate-800 text-2xl font-bold hover:bg-slate-100 active:scale-95 transition-all shadow-sm border border-slate-200 dark:border-slate-700",children:Le},Le)),m.jsx("button",{onClick:()=>Et("+"),className:"row-span-2 h-full rounded-2xl bg-blue-600 text-white text-3xl font-black hover:bg-blue-700 active:scale-95 transition-all shadow-lg shadow-blue-500/30",children:"+"}),m.jsx("button",{onClick:()=>Et("0"),className:"col-span-2 h-16 rounded-2xl bg-slate-50 dark:bg-slate-800 text-2xl font-bold hover:bg-slate-100 active:scale-95 transition-all shadow-sm border border-slate-200 dark:border-slate-700",children:"0"}),m.jsx("button",{onClick:()=>Et("."),className:"h-16 rounded-2xl bg-slate-50 dark:bg-slate-800 text-2xl font-bold hover:bg-slate-100 active:scale-95 transition-all shadow-sm border border-slate-200 dark:border-slate-700",children:"."})]})]})]}),ae&&m.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:m.jsxs(Mn.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"bg-white dark:bg-slate-800 rounded-[24px] shadow-2xl w-full max-w-md overflow-hidden",children:[m.jsxs("div",{className:"p-6 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center",children:[m.jsx("h3",{className:"text-lg font-bold",children:"New Customer"}),m.jsx("button",{onClick:()=>Se(!1),className:"bg-slate-100 p-2 rounded-full",children:m.jsx(Su,{className:"w-5 h-5"})})]}),m.jsxs("div",{className:"p-6 space-y-4",children:[m.jsx("input",{type:"text",autoFocus:!0,placeholder:"Customer Name",className:"w-full p-4 bg-slate-50 rounded-xl font-bold outline-none focus:ring-2 focus:ring-blue-500",value:Ie,onChange:Le=>xe(Le.target.value)}),m.jsx("input",{type:"text",placeholder:"Phone Number",className:"w-full p-4 bg-slate-50 rounded-xl font-medium outline-none focus:ring-2 focus:ring-blue-500",value:Re,onChange:Le=>re(Le.target.value),onKeyDown:Le=>Le.key==="Enter"&&Wt()}),m.jsx("button",{onClick:Wt,className:"w-full bg-blue-600 text-white py-4 rounded-xl font-bold mt-4",children:"Save Customer"})]})]})}),oe&&m.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-[110] p-4",children:m.jsxs(Mn.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"bg-white dark:bg-slate-800 rounded-[24px] shadow-2xl w-full max-w-md overflow-hidden",children:[m.jsxs("div",{className:"p-6 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center",children:[m.jsx("h3",{className:"text-lg font-bold",children:"New Product"}),m.jsx("button",{onClick:()=>ve(!1),className:"bg-slate-100 p-2 rounded-full",children:m.jsx(Su,{className:"w-5 h-5"})})]}),m.jsxs("div",{className:"p-6 space-y-4",children:[m.jsx("input",{type:"text",autoFocus:!0,placeholder:"Product Name",className:"w-full p-4 bg-slate-50 rounded-xl font-bold outline-none focus:ring-2 focus:ring-blue-500",value:O,onChange:Le=>J(Le.target.value)}),m.jsx("input",{type:"text",placeholder:"Item ID (Optional, for Calculator)",className:"w-full p-4 bg-slate-50 rounded-xl font-medium outline-none focus:ring-2 focus:ring-blue-500 uppercase tracking-widest",value:Te,onChange:Le=>je(Le.target.value)}),m.jsx("input",{type:"number",placeholder:"Price / Rate",className:"w-full p-4 bg-slate-50 rounded-xl font-medium outline-none focus:ring-2 focus:ring-blue-500",value:U,onChange:Le=>Y(Le.target.value),onKeyDown:Le=>Le.key==="Enter"&&!N&&as()}),N&&m.jsxs("div",{className:"flex gap-4",children:[m.jsx("input",{type:"text",placeholder:"HSN",className:"flex-1 p-4 bg-slate-50 rounded-xl outline-none",value:ne,onChange:Le=>ye(Le.target.value)}),m.jsx("input",{type:"number",placeholder:"GST %",className:"w-24 p-4 bg-slate-50 rounded-xl outline-none",value:pe,onChange:Le=>ue(Le.target.value),onKeyDown:Le=>Le.key==="Enter"&&as()})]}),m.jsx("button",{onClick:as,className:"w-full bg-blue-600 text-white py-4 rounded-xl font-bold mt-4",children:"Save Product"})]})]})})]})},cP=({invoices:t,onView:e,onEdit:n,onDelete:r,onViewLedger:s})=>{const i=t||et.getInvoices(),[a,o]=ke.useState(""),[c,f]=ke.useState("ALL"),d=ke.useMemo(()=>i.filter(g=>{const y=g.customerName.toLowerCase().includes(a.toLowerCase())||g.invoiceNumber.toLowerCase().includes(a.toLowerCase()),E=c==="ALL"||g.status===c;return y&&E}).sort((g,y)=>new Date(y.date).getTime()-new Date(g.date).getTime()),[i,a,c]),p=g=>{confirm("Are you sure you want to delete this invoice?")&&(r?r(g):(et.deleteInvoice(g.id),window.location.reload()))};return m.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900 min-h-screen flex flex-col pb-32",children:[m.jsx("div",{className:"bg-slate-50/80 dark:bg-slate-900/80 backdrop-blur-xl sticky top-0 z-30 px-4 pt-6 pb-4",children:m.jsxs("div",{className:"max-w-5xl mx-auto",children:[m.jsxs("div",{className:"flex justify-between items-baseline mb-4",children:[m.jsx("h1",{className:"text-3xl font-black text-slate-900 dark:text-slate-100 tracking-tight",children:"Invoices"}),m.jsxs("p",{className:"text-slate-400 text-xs font-black uppercase tracking-widest",children:[d.length," Items"]})]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsxs("div",{className:"flex-1 bg-slate-200/50 dark:bg-slate-800/50 rounded-2xl px-4 py-3 flex items-center gap-3 border-none",children:[m.jsx(iE,{className:"w-4 h-4 text-slate-400"}),m.jsx("input",{type:"text",placeholder:"Search...",className:"bg-transparent flex-1 outline-none text-sm font-medium text-slate-700 dark:text-slate-200",value:a,onChange:g=>o(g.target.value)})]}),m.jsxs("select",{className:"bg-slate-200/50 dark:bg-slate-800/50 rounded-2xl px-4 py-3 outline-none border-none font-bold text-xs text-slate-600 dark:text-slate-300 appearance-none min-w-[100px]",value:c,onChange:g=>f(g.target.value),children:[m.jsx("option",{value:"ALL",children:"Status"}),m.jsx("option",{value:"PAID",children:"Paid"}),m.jsx("option",{value:"PENDING",children:"Pending"})]})]})]})}),m.jsxs("div",{className:"max-w-5xl mx-auto px-2 mt-4 space-y-2",children:[m.jsx(ku,{mode:"popLayout",children:d.map((g,y)=>m.jsxs("div",{className:"relative overflow-hidden rounded-2xl group",children:[m.jsx("div",{className:"absolute inset-0 bg-red-500 flex justify-end items-center px-6",children:m.jsx(gh,{className:"w-6 h-6 text-white"})}),m.jsxs(Mn.div,{drag:"x",dragConstraints:{left:-100,right:0},dragElastic:.05,onDragEnd:(E,b)=>{b.offset.x<-60&&(Zs.medium(),p(g))},initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-100},transition:{delay:y*.03},className:"bg-white dark:bg-slate-800 p-3 flex justify-between items-center shadow-sm border-b border-slate-100 dark:border-slate-700 relative z-10 cursor-pointer active:bg-slate-50 dark:active:bg-slate-700 transition-colors",onClick:()=>e&&e(g),children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-10 h-10 rounded-xl bg-blue-50 dark:bg-blue-900/30 flex items-center justify-center text-blue-600 dark:text-blue-400 font-bold text-sm",children:g.customerName.charAt(0)}),m.jsxs("div",{className:"overflow-hidden",children:[m.jsx("h3",{className:"font-bold text-slate-800 dark:text-slate-100 text-sm truncate max-w-[150px]",children:g.customerName}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsxs("span",{className:"text-[10px] text-slate-400 font-bold",children:["#",g.invoiceNumber]}),m.jsx("span",{className:"w-1 h-1 bg-slate-200 dark:bg-slate-700 rounded-full"}),m.jsx("span",{className:"text-[10px] text-slate-400 font-bold",children:new Date(g.date).toLocaleDateString("en-IN",{day:"2-digit",month:"short"})})]})]})]}),m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsxs("div",{className:"text-right",children:[m.jsxs("p",{className:"text-base font-black text-slate-900 dark:text-slate-100",children:["",g.total.toLocaleString("en-IN")]}),m.jsx("div",{className:`text-[9px] font-black uppercase tracking-tighter px-1.5 py-0.5 rounded-full inline-block ${g.status==="PAID"?"text-emerald-500 bg-emerald-50 dark:bg-emerald-900/10":"text-amber-500 bg-amber-50 dark:bg-amber-900/10"}`,children:g.status})]}),m.jsx(nM,{className:"w-4 h-4 text-slate-300"})]})]})]},g.id))}),d.length===0&&m.jsxs("div",{className:"text-center py-20",children:[m.jsx("div",{className:"w-16 h-16 bg-slate-100 dark:bg-slate-800 rounded-full flex items-center justify-center mx-auto mb-4 border-none",children:m.jsx(Eu,{className:"w-8 h-8 text-slate-300"})}),m.jsx("h3",{className:"text-slate-500 font-bold",children:"No results"}),m.jsx("p",{className:"text-slate-400 text-xs mt-1",children:"Adjust filters or search term"})]})]})]})},Gue=()=>{const[t,e]=ke.useState([]),[n,r]=ke.useState(""),[s,i]=ke.useState(!1),[a,o]=ke.useState({name:"",price:0,stock:0,category:"General"}),[c,f]=ke.useState(null);ke.useEffect(()=>{e(et.getProducts())},[]);const d=A=>{o(A),f(A.id),i(!0)},p=A=>{if(A.preventDefault(),!a.name||a.price===void 0)return;const N=a.id?.trim()||crypto.randomUUID(),V={id:N,name:a.name,price:Number(a.price),stock:Number(a.stock)||0,category:a.category||"General",gstRate:a.gstRate,hsn:a.hsn};c&&c!==N&&et.deleteProduct(c),et.saveProduct(V),e(et.getProducts()),i(!1),o({name:"",price:0,stock:0,category:"General"}),f(null)},g=A=>{if(window.confirm("Delete this product?")){const N=t.filter(V=>V.id!==A);e(N)}},y=t.filter(A=>A.name.toLowerCase().includes(n.toLowerCase())),E=t.reduce((A,N)=>A+N.price*N.stock,0),b=t.filter(A=>A.stock<=10).length;return m.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900 min-h-screen pb-20",children:[m.jsx("div",{className:"bg-white dark:bg-slate-900 pt-8 pb-6 px-4 md:px-8 border-b border-slate-100 dark:border-slate-800",children:m.jsxs("div",{className:"max-w-6xl mx-auto flex flex-col md:flex-row md:items-center justify-between gap-4",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-slate-100 tracking-tight",children:"Inventory"}),m.jsx("p",{className:"text-slate-500 text-sm font-medium mt-1",children:"Manage your stock and pricing"})]}),m.jsxs("button",{onClick:()=>{i(!0),f(null),o({name:"",price:0,stock:0,category:"General"})},className:"bg-blue-600 text-white px-6 py-3 rounded-2xl flex items-center justify-center gap-2 font-bold shadow-lg shadow-blue-200 active:scale-95 transition-transform",children:[m.jsx(Kf,{className:"w-5 h-5"})," Add Product"]})]})}),m.jsxs("div",{className:"max-w-6xl mx-auto p-4 md:p-8 space-y-8",children:[m.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-[28px] border border-slate-100 dark:border-slate-700 shadow-sm",children:[m.jsx(ig,{className:"w-6 h-6 text-blue-500 mb-3"}),m.jsx("p",{className:"text-2xl font-black text-slate-800 dark:text-slate-100",children:t.length}),m.jsx("p",{className:"text-[10px] uppercase font-bold text-slate-400 tracking-wider",children:"Total Items"})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-[28px] border border-slate-100 dark:border-slate-700 shadow-sm text-emerald-600",children:[m.jsx($0,{className:"w-6 h-6 mb-3"}),m.jsxs("p",{className:"text-2xl font-black",children:["",E.toLocaleString("en-IN")]}),m.jsx("p",{className:"text-[10px] uppercase font-bold opacity-60 tracking-wider",children:"Stock Value"})]}),m.jsxs("div",{className:`p-5 rounded-[28px] border shadow-sm ${b>0?"bg-orange-50 border-orange-100 text-orange-600":"bg-white border-slate-100 text-slate-400"}`,children:[m.jsx(dM,{className:"w-6 h-6 mb-3"}),m.jsx("p",{className:"text-2xl font-black",children:b}),m.jsx("p",{className:"text-[10px] uppercase font-bold opacity-60 tracking-wider",children:"Low Stock"})]})]}),m.jsxs("div",{className:"relative",children:[m.jsx(iE,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 w-5 h-5"}),m.jsx("input",{type:"text",placeholder:"Search products by name or category...",className:"w-full pl-12 pr-6 py-4 bg-white dark:bg-slate-800 border-none rounded-2xl shadow-sm focus:ring-2 focus:ring-blue-500 outline-none font-medium",value:n,onChange:A=>r(A.target.value)})]}),m.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:m.jsx(ku,{children:y.map(A=>m.jsxs(Mn.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"bg-white dark:bg-slate-800 p-5 rounded-[28px] border border-slate-100 dark:border-slate-700 shadow-sm relative group hover:border-blue-200 transition-colors",children:[m.jsxs("div",{className:"flex justify-between items-start mb-4",children:[m.jsx("div",{className:"w-12 h-12 rounded-2xl bg-slate-50 dark:bg-slate-700 flex items-center justify-center text-slate-400",children:m.jsx(ig,{className:"w-6 h-6"})}),m.jsxs("div",{className:"flex gap-1",children:[m.jsx("button",{onClick:()=>d(A),className:"p-2 text-slate-400 hover:text-blue-500 rounded-full hover:bg-blue-50",children:m.jsx(i5,{className:"w-4 h-4"})}),m.jsx("button",{onClick:()=>g(A.id),className:"p-2 text-slate-400 hover:text-red-500 rounded-full hover:bg-red-50",children:m.jsx(gh,{className:"w-4 h-4"})})]})]}),m.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-100 line-clamp-1",children:A.name}),m.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mb-4",children:A.category}),m.jsxs("div",{className:"flex items-end justify-between pt-4 border-t border-slate-50 dark:border-slate-700",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"Unit Price"}),m.jsxs("p",{className:"text-xl font-black text-blue-600",children:["",A.price.toFixed(2)]})]}),m.jsxs("div",{className:"text-right",children:[m.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"Stock"}),m.jsxs("span",{className:`text-sm font-black px-3 py-1 rounded-full ${A.stock>10?"bg-green-50 text-green-600":"bg-red-50 text-red-600"}`,children:[A.stock," Units"]})]})]})]},A.id))})}),y.length===0&&m.jsxs("div",{className:"text-center py-20",children:[m.jsx("div",{className:"w-20 h-20 bg-slate-100 dark:bg-slate-800 rounded-full flex items-center justify-center mx-auto mb-4",children:m.jsx(ig,{className:"w-10 h-10 text-slate-300"})}),m.jsx("h3",{className:"text-lg font-bold text-slate-600",children:"No products found"}),m.jsx("p",{className:"text-slate-400",children:"Add a product or try a different search"})]})]}),m.jsx(ku,{children:s&&m.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:m.jsxs(Mn.div,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},exit:{y:100,opacity:0},className:"bg-white dark:bg-slate-800 w-full max-w-lg rounded-[32px] overflow-hidden shadow-2xl",children:[m.jsxs("div",{className:"p-8 pb-0 flex justify-between items-center",children:[m.jsx("h2",{className:"text-2xl font-bold",children:a.id?"Edit Product":"New Product"}),m.jsx("button",{onClick:()=>i(!1),className:"w-10 h-10 bg-slate-100 rounded-full flex items-center justify-center",children:""})]}),m.jsxs("form",{onSubmit:p,className:"p-8 space-y-6",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-xs font-black text-slate-400 uppercase ml-2",children:"Item ID (For Smart Calc)"}),m.jsx("input",{className:"w-full p-4 bg-slate-50 dark:bg-slate-900 border-none rounded-2xl text-base font-bold text-slate-600 focus:ring-2 focus:ring-blue-500 outline-none font-mono",placeholder:"Auto-generated if empty",value:a.id||"",onChange:A=>o({...a,id:A.target.value})})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-xs font-black text-slate-400 uppercase ml-2",children:"Product Name"}),m.jsx("input",{required:!0,autoFocus:!0,className:"w-full p-4 bg-slate-50 dark:bg-slate-900 border-none rounded-2xl text-lg font-bold focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Enter Name...",value:a.name,onChange:A=>o({...a,name:A.target.value})})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-xs font-black text-slate-400 uppercase ml-2",children:"Sale Price"}),m.jsx("input",{required:!0,type:"number",className:"w-full p-4 bg-slate-50 dark:bg-slate-900 border-none rounded-2xl font-bold focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"",value:a.price||"",onChange:A=>o({...a,price:Number(A.target.value)})})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-xs font-black text-slate-400 uppercase ml-2",children:"Opening Stock"}),m.jsx("input",{required:!0,type:"number",className:"w-full p-4 bg-slate-50 dark:bg-slate-900 border-none rounded-2xl font-bold focus:ring-2 focus:ring-blue-500 outline-none",value:a.stock||"",onChange:A=>o({...a,stock:Number(A.target.value)})})]})]}),m.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white py-5 rounded-2xl font-black text-lg shadow-xl shadow-blue-200 active:scale-95 transition-transform",children:"Save Product"})]})]})})})]})},Wue=({onEditInvoice:t,onBack:e})=>{const[n,r]=ke.useState([]),[s,i]=ke.useState(null),[a,o]=ke.useState([]),[c,f]=ke.useState("HISTORY"),[d,p]=ke.useState(null),[g,y]=ke.useState(!1),[E,b]=ke.useState(""),[A,N]=ke.useState(new Date().toISOString().split("T")[0]),[V,k]=ke.useState("CASH"),[B,W]=ke.useState(""),[K,D]=ke.useState(""),[L,R]=ke.useState(""),[q,P]=ke.useState(!1),[M,H]=ke.useState({name:"",company:"",email:"",phone:"",address:"",state:"",gstin:""}),[ae,Se]=ke.useState(!1),[oe,ve]=ke.useState(null);ke.useEffect(()=>{r(et.getCustomers());const ue=new Date,Te=new Date(ue.getFullYear(),ue.getMonth(),1).toISOString().split("T")[0],je=new Date(ue.getFullYear(),ue.getMonth()+1,0).toISOString().split("T")[0];D(Te),R(je)},[]);const Ie=ue=>{const Te=et.getInvoices(),je=et.getPayments(),ce=Te.filter(se=>se.customerId===ue.id),dt=je.filter(se=>se.customerId===ue.id),pt=[...ce.map(se=>({id:se.id,date:se.date,type:"INVOICE",reference:se.invoiceNumber,amount:se.total,status:se.status,mode:se.status==="PAID"?"CASH":"CREDIT",data:se})),...dt.map(se=>({id:se.id,date:se.date,type:"PAYMENT",reference:se.reference||"Payment",amount:se.amount,mode:se.mode,data:se}))];pt.sort((se,nt)=>new Date(nt.date).getTime()-new Date(se.date).getTime()),o(pt),i(ue),f("HISTORY")},xe=ue=>{if(ue.preventDefault(),!s)return;const Te=Number(E);if(!Te||Te<=0)return alert("Enter valid amount");const je={id:crypto.randomUUID(),customerId:s.id,date:A,amount:Te,mode:V,note:B,reference:"PAY-"+Date.now().toString().slice(-6)};et.savePayment(je);const ce=et.getCustomers();r(ce);const dt=ce.find(pt=>pt.id===s.id)||null;i(dt),dt&&Ie(dt),y(!1),b(""),W(""),k("CASH")},Re=ue=>{if(!s)return;const Te=et.getCompanyProfile();ue.type==="INVOICE"?S2.shareInvoice(ue.data,s,Te):S2.sharePayment(ue.data,s,Te)},re=ue=>{switch(ue){case"PAID":return"bg-green-100 text-green-800";case"PENDING":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},O=()=>{if(!s)return;et.addNotification(s.id,{type:"REMINDER",title:"Payment Reminder Sent",message:`A payment reminder was sent to ${s.email}.`,date:new Date().toISOString().split("T")[0]}),alert(`Reminder sent to ${s.email}`);const ue=et.getCustomers(),Te=ue.find(je=>je.id===s.id)||null;r(ue),i(Te)},J=()=>{if(!s)return;const ue=et.getCompanyProfile(),Te=a.filter(se=>se.date>=K&&se.date<=L).sort((se,nt)=>new Date(se.date).getTime()-new Date(nt.date).getTime()),je=new hn;je.setFontSize(18),je.text("STATEMENT OF ACCOUNT",105,20,{align:"center"}),je.setFontSize(12),je.text(ue.name,105,30,{align:"center"}),je.setFontSize(10),je.text(`Customer: ${s.company}`,14,50),je.text(`Period: ${K} to ${L}`,14,56);let ce=70;je.setFillColor(240,240,240),je.rect(14,ce-6,182,8,"F"),je.setFont("helvetica","bold"),je.text("Date",16,ce),je.text("Details / Ref",45,ce),je.text("Debit",130,ce,{align:"right"}),je.text("Credit",160,ce,{align:"right"}),je.text("Mode",190,ce,{align:"right"}),je.setFont("helvetica","normal"),ce+=10;let dt=0,pt=0;Te.forEach(se=>{je.text(se.date,16,ce),je.text(se.type==="INVOICE"?`Inv: ${se.reference}`:`Pay: ${se.reference}`,45,ce),se.type==="INVOICE"?(je.text(se.amount.toFixed(2),130,ce,{align:"right"}),dt+=se.amount):je.text("-",130,ce,{align:"right"}),se.type==="PAYMENT"?(je.text(se.amount.toFixed(2),160,ce,{align:"right"}),pt+=se.amount):je.text("-",160,ce,{align:"right"}),je.text(se.mode||"-",190,ce,{align:"right"}),ce+=8,ce>280&&(je.addPage(),ce=20)}),ce+=5,je.line(14,ce,196,ce),ce+=8,je.setFont("helvetica","bold"),je.text("Totals:",100,ce),je.text(dt.toFixed(2),130,ce,{align:"right"}),je.text(pt.toFixed(2),160,ce,{align:"right"}),ce+=10,je.text("Current Outstanding Balance:",130,ce,{align:"right"}),je.text(`Rs. ${s.balance.toFixed(2)}`,160,ce,{align:"right"}),je.save(`Statement_${s.name}_${K}.pdf`)};if(s)return m.jsxs("div",{className:"p-4 md:p-6 bg-slate-50 min-h-full relative",children:[d&&m.jsx("div",{className:"fixed inset-0 z-50 bg-slate-100 overflow-y-auto",children:m.jsx(r9,{invoice:d,onBack:()=>p(null),onEdit:ue=>{p(null),t&&t(ue)}})}),m.jsx("div",{className:"flex justify-between items-center mb-6",children:m.jsxs("button",{onClick:()=>i(null),className:"flex items-center gap-2 text-slate-600 hover:text-slate-900 transition-colors",children:[m.jsx(Ru,{className:"w-4 h-4"})," Back to Customers"]})}),m.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-[28px] shadow-sm border border-slate-200 dark:border-slate-700 p-6 mb-6",children:m.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start gap-4",children:[m.jsxs("div",{className:"flex-1",children:[m.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100",children:s.company}),m.jsxs("div",{title:"Payment Behavior Score",className:`px-2 py-0.5 rounded-full text-[10px] font-black uppercase tracking-widest ${et.getCustomerBehaviorScore(s.id)>80?"bg-green-100 text-green-700":et.getCustomerBehaviorScore(s.id)>50?"bg-orange-100 text-orange-700":"bg-red-100 text-red-700"}`,children:["Score: ",et.getCustomerBehaviorScore(s.id),"%"]})]}),m.jsxs("div",{className:"flex flex-wrap gap-4 text-slate-600 dark:text-slate-400 mt-2",children:[m.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[m.jsx(Xy,{className:"w-4 h-4"})," ",s.email]}),m.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[m.jsx(yy,{className:"w-4 h-4"})," ",s.phone]}),m.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[m.jsx(oM,{className:"w-4 h-4"})," ",s.address]})]})]}),m.jsxs("div",{className:"flex flex-col items-end gap-3 w-full md:w-auto",children:[m.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 p-4 rounded-[20px] text-center min-w-[150px] border border-red-100 dark:border-red-900/30 w-full md:w-auto",children:[m.jsx("div",{className:"text-xs text-red-600 dark:text-red-400 uppercase font-bold tracking-wider mb-1",children:"Total Outstanding"}),m.jsxs("div",{className:"text-3xl font-black text-red-600 dark:text-red-400",children:["",s.balance.toLocaleString()]})]}),m.jsxs("div",{className:"flex gap-2 w-full md:w-auto",children:[m.jsxs("button",{onClick:()=>{const ue=prompt("Enter follow-up note (e.g., 'Called for payment', 'Agreed to pay by Monday')");if(ue){const Te={...s};Te.followUpHistory||(Te.followUpHistory=[]),Te.followUpHistory.unshift({date:new Date().toISOString().split("T")[0],note:ue}),et.updateCustomer(Te),i(Te),Zs.light()}},className:"flex-1 md:flex-none flex items-center justify-center gap-2 bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-200 px-4 py-2 rounded-xl font-bold hover:bg-slate-200 transition-colors",children:[m.jsx(sg,{className:"w-4 h-4"})," Follow-up"]}),m.jsxs("button",{onClick:()=>y(!0),className:"flex-1 md:flex-none flex items-center justify-center gap-2 bg-blue-600 text-white px-6 py-2 rounded-xl shadow-lg shadow-blue-500/30 hover:bg-blue-700 transition-colors font-bold",children:[m.jsx(e5,{className:"w-4 h-4"})," Receive Payment"]})]})]})]})}),m.jsxs("div",{className:"flex gap-4 border-b border-gray-200 mb-6 overflow-x-auto",children:[m.jsx("button",{onClick:()=>f("HISTORY"),className:`pb-2 px-2 text-sm font-medium transition-colors whitespace-nowrap ${c==="HISTORY"?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:"Transaction History"}),m.jsx("button",{onClick:()=>f("STATEMENT"),className:`pb-2 px-2 text-sm font-medium transition-colors whitespace-nowrap ${c==="STATEMENT"?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:"Account Statement"}),m.jsxs("button",{onClick:()=>f("NOTIFICATIONS"),className:`pb-2 px-2 text-sm font-medium transition-colors whitespace-nowrap flex items-center gap-2 ${c==="NOTIFICATIONS"?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:["Notifications & Logs",s.notifications&&s.notifications.length>0&&m.jsx("span",{className:"bg-red-500 text-white text-[10px] px-1.5 rounded-full",children:s.notifications.length})]})]}),m.jsxs("div",{className:"bg-white rounded-lg shadow border border-gray-200",children:[c==="HISTORY"&&m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full min-w-[700px]",children:[m.jsx("thead",{className:"bg-slate-50 border-b",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Date"}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Type / Ref"}),m.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Debit (Out)"}),m.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Credit (In)"}),m.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Mode"}),m.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Actions"})]})}),m.jsxs("tbody",{className:"divide-y divide-slate-200",children:[a.map(ue=>m.jsxs("tr",{className:`hover:bg-slate-50 transition-colors ${ue.type==="PAYMENT"?"bg-green-50/30":""}`,children:[m.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500",children:m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(rE,{className:"w-3 h-3"})," ",ue.date]})}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-slate-700",children:m.jsxs("div",{className:"flex flex-col",children:[m.jsx("span",{className:ue.type==="INVOICE"?"text-blue-600":"text-green-600",children:ue.type==="INVOICE"?`Inv #${ue.reference}`:`Pay: ${ue.mode}`}),m.jsx("span",{className:"text-xs text-gray-400",children:ue.data.id.slice(0,8)})]})}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right font-medium text-slate-900",children:ue.type==="INVOICE"?`${ue.amount.toFixed(2)}`:"-"}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right font-medium text-green-600",children:ue.type==="PAYMENT"?`${ue.amount.toFixed(2)}`:"-"}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center text-xs",children:m.jsx("span",{className:`px-2 py-1 rounded-full ${ue.type==="INVOICE"?re(ue.status):"bg-green-100 text-green-800"}`,children:ue.mode})}),m.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-center flex justify-center gap-2",children:[m.jsx("button",{onClick:()=>Re(ue),className:"text-green-500 hover:text-green-700",title:"Share on WhatsApp",children:m.jsx(sg,{className:"w-4 h-4"})}),ue.type==="INVOICE"&&m.jsx("button",{onClick:()=>p(ue.data),className:"text-slate-400 hover:text-blue-600",title:"View Details",children:m.jsx($G,{className:"w-4 h-4"})})]})]},ue.id)),a.length===0&&m.jsx("tr",{children:m.jsx("td",{colSpan:6,className:"px-6 py-12 text-center text-slate-500",children:m.jsxs("div",{className:"flex flex-col items-center justify-center",children:[m.jsx(Eu,{className:"w-12 h-12 text-gray-300 mb-2"}),m.jsx("p",{children:"No transactions found."})]})})})]})]})}),c==="STATEMENT"&&m.jsx("div",{className:"p-8",children:m.jsxs("div",{className:"max-w-2xl mx-auto",children:[m.jsxs("div",{className:"text-center mb-8",children:[m.jsx($0,{className:"w-12 h-12 text-blue-500 mx-auto mb-3"}),m.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"Generate Account Statement"}),m.jsx("p",{className:"text-slate-500",children:"Select a date range to download a PDF statement of all transactions."})]}),m.jsxs("div",{className:"bg-slate-50 p-6 rounded-lg border border-slate-200 grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Start Date"}),m.jsx("input",{type:"date",value:K,onChange:ue=>D(ue.target.value),className:"w-full border border-slate-300 rounded-md p-2"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"End Date"}),m.jsx("input",{type:"date",value:L,onChange:ue=>R(ue.target.value),className:"w-full border border-slate-300 rounded-md p-2"})]})]}),m.jsxs("button",{onClick:J,className:"w-full flex items-center justify-center gap-2 bg-slate-800 text-white py-3 rounded-lg hover:bg-slate-900 transition-all",children:[m.jsx(Dp,{className:"w-5 h-5"})," Download PDF Statement"]})]})}),c==="NOTIFICATIONS"&&m.jsxs("div",{className:"p-4 md:p-6",children:[m.jsx("h3",{className:"text-sm font-bold text-slate-500 uppercase tracking-wider mb-4",children:"Follow-up History"}),m.jsxs("div",{className:"space-y-3 mb-8",children:[(s.followUpHistory||[]).map((ue,Te)=>m.jsx("div",{className:"p-3 bg-blue-50/50 dark:bg-blue-900/10 border border-blue-100 dark:border-blue-900/30 rounded-xl",children:m.jsxs("div",{className:"flex justify-between items-center mb-1",children:[m.jsx("span",{className:"text-sm font-bold text-blue-700 dark:text-blue-400",children:ue.note}),m.jsx("span",{className:"text-[10px] text-slate-400 font-bold uppercase",children:ue.date})]})},Te)),(!s.followUpHistory||s.followUpHistory.length===0)&&m.jsx("p",{className:"text-xs text-slate-400 italic",children:"No follow-up notes logged yet."})]}),m.jsxs("div",{className:"flex justify-between items-center mb-6",children:[m.jsx("h3",{className:"text-sm font-bold text-slate-500 uppercase tracking-wider",children:"Activity Log & Notifications"}),m.jsxs("button",{onClick:O,className:"flex items-center gap-2 text-sm bg-indigo-50 text-indigo-600 px-3 py-2 rounded hover:bg-indigo-100",children:[m.jsx(vW,{className:"w-4 h-4"})," Send Payment Reminder"]})]}),m.jsxs("div",{className:"space-y-4",children:[(s.notifications||[]).map(ue=>m.jsxs("div",{className:"flex gap-4 p-4 bg-slate-50 rounded-lg border border-slate-100",children:[m.jsx("div",{className:`p-2 rounded-full h-fit ${ue.type==="INVOICE"?"bg-blue-100 text-blue-600":ue.type==="REMINDER"?"bg-orange-100 text-orange-600":ue.type==="PAYMENT"?"bg-green-100 text-green-600":"bg-gray-200 text-gray-600"}`,children:ue.type==="INVOICE"?m.jsx(Eu,{className:"w-5 h-5"}):ue.type==="REMINDER"?m.jsx(p1,{className:"w-5 h-5"}):ue.type==="PAYMENT"?m.jsx(e5,{className:"w-5 h-5"}):m.jsx(vG,{className:"w-5 h-5"})}),m.jsxs("div",{children:[m.jsx("h4",{className:"font-bold text-slate-800 text-sm",children:ue.title}),m.jsx("p",{className:"text-sm text-slate-600 mb-1",children:ue.message}),m.jsx("span",{className:"text-xs text-slate-400",children:ue.date})]})]},ue.id)),(!s.notifications||s.notifications.length===0)&&m.jsx("div",{className:"text-center py-10 text-gray-400",children:"No notifications yet."})]})]})]}),g&&m.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:m.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md p-6 animate-in fade-in zoom-in duration-200",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"Receive Payment"}),m.jsx("button",{onClick:()=>y(!1),children:m.jsx(Su,{className:"w-5 h-5 text-gray-400 hover:text-gray-600"})})]}),m.jsxs("form",{onSubmit:xe,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Amount ()"}),m.jsx("input",{type:"number",required:!0,value:E,onChange:ue=>b(ue.target.value),className:"w-full border border-slate-300 rounded-md p-2 text-lg font-bold",placeholder:"0.00"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),m.jsx("input",{type:"date",required:!0,value:A,onChange:ue=>N(ue.target.value),className:"w-full border border-slate-300 rounded-md p-2"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Mode"}),m.jsxs("select",{value:V,onChange:ue=>k(ue.target.value),className:"w-full border border-slate-300 rounded-md p-2",children:[m.jsx("option",{value:"CASH",children:"Cash"}),m.jsx("option",{value:"UPI",children:"UPI / Online"}),m.jsx("option",{value:"BANK_TRANSFER",children:"Bank Transfer"}),m.jsx("option",{value:"CHEQUE",children:"Cheque"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Note / Reference"}),m.jsx("input",{type:"text",value:B,onChange:ue=>W(ue.target.value),className:"w-full border border-slate-300 rounded-md p-2",placeholder:"Optional"})]}),m.jsx("button",{type:"submit",className:"w-full bg-green-600 text-white py-3 rounded-lg font-bold hover:bg-green-700 mt-2",children:"Save Payment"})]})]})})]});const U=ue=>{if(ue.preventDefault(),!M.name||!M.company||!M.email){alert("Please fill name, company, and email");return}const Te={id:crypto.randomUUID(),name:M.name,company:M.company,email:M.email,phone:M.phone,address:M.address,state:M.state,gstin:M.gstin,balance:0,notifications:[]};et.saveCustomer(Te),r(et.getCustomers()),P(!1),H({name:"",company:"",email:"",phone:"",address:"",state:"",gstin:""}),alert("Customer added successfully!")},Y=ue=>{ve({...ue}),Se(!0)},ne=ue=>{if(ue.preventDefault(),!!oe){if(!oe.name||!oe.company||!oe.email){alert("Please fill name, company, and email");return}et.updateCustomer(oe),r(et.getCustomers()),Se(!1),ve(null),alert("Customer updated successfully!")}},ye=ue=>{confirm("Are you sure you want to delete this customer? This will also affect all their invoices and payments.")&&(et.deleteCustomer(ue),r(et.getCustomers()),Se(!1),ve(null))},pe=()=>{const ue=et.getCompanyProfile();return!!(ue?.gst_enabled||ue?.gst)};return m.jsxs("div",{className:"p-4 md:p-6",children:[ae&&oe&&(()=>{const ue=pe();return m.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:m.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md p-6 animate-in fade-in zoom-in duration-200 max-h-[90vh] overflow-y-auto",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4 sticky top-0 bg-white",children:[m.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"Edit Customer"}),m.jsx("button",{onClick:()=>{Se(!1),ve(null)},className:"p-1",children:m.jsx(Su,{className:"w-5 h-5 text-gray-400 hover:text-gray-600"})})]}),m.jsxs("form",{onSubmit:ne,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Customer Name *"}),m.jsx("input",{type:"text",required:!0,value:oe.name,onChange:Te=>ve({...oe,name:Te.target.value}),className:"w-full border border-slate-300 rounded-md p-2 text-sm",placeholder:"Full name","data-testid":"input-edit-customer-name"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Company Name *"}),m.jsx("input",{type:"text",required:!0,value:oe.company,onChange:Te=>ve({...oe,company:Te.target.value}),className:"w-full border border-slate-300 rounded-md p-2 text-sm",placeholder:"Company name","data-testid":"input-edit-company-name"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email *"}),m.jsx("input",{type:"email",required:!0,value:oe.email,onChange:Te=>ve({...oe,email:Te.target.value}),className:"w-full border border-slate-300 rounded-md p-2 text-sm",placeholder:"email@example.com","data-testid":"input-edit-email"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),m.jsx("input",{type:"tel",value:oe.phone,onChange:Te=>ve({...oe,phone:Te.target.value}),className:"w-full border border-slate-300 rounded-md p-2 text-sm",placeholder:"10-digit number","data-testid":"input-edit-phone"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),m.jsx("textarea",{value:oe.address,onChange:Te=>ve({...oe,address:Te.target.value}),rows:2,className:"w-full border border-slate-300 rounded-md p-2 text-sm resize-none",placeholder:"Billing address","data-testid":"textarea-edit-address"})]}),ue&&m.jsxs(m.Fragment,{children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"State"}),m.jsx("input",{type:"text",value:oe.state||"",onChange:Te=>ve({...oe,state:Te.target.value}),className:"w-full border border-slate-300 rounded-md p-2 text-sm",placeholder:"State name","data-testid":"input-edit-state"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"GST Number (Optional)"}),m.jsx("input",{type:"text",value:oe.gstin||"",onChange:Te=>ve({...oe,gstin:Te.target.value}),className:"w-full border border-slate-300 rounded-md p-2 text-sm",placeholder:"15-digit GSTIN",maxLength:15,"data-testid":"input-edit-gstin"})]})]}),m.jsxs("div",{className:"flex gap-3",children:[m.jsx("button",{type:"submit",className:"flex-1 bg-blue-600 text-white py-2 rounded-lg font-bold hover:bg-blue-700","data-testid":"button-save-customer",children:"Save Changes"}),m.jsx("button",{type:"button",onClick:()=>ye(oe.id),className:"px-4 bg-red-50 text-red-600 py-2 rounded-lg font-bold hover:bg-red-100 flex items-center gap-2","data-testid":"button-delete-customer",children:m.jsx(gh,{className:"w-4 h-4"})})]})]})]})})})(),q&&(()=>{const ue=pe();return m.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:m.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md p-6 animate-in fade-in zoom-in duration-200 max-h-[90vh] overflow-y-auto",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4 sticky top-0 bg-white",children:[m.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"Add New Customer"}),m.jsx("button",{onClick:()=>P(!1),className:"p-1",children:m.jsx(Su,{className:"w-5 h-5 text-gray-400 hover:text-gray-600"})})]}),m.jsxs("form",{onSubmit:U,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Customer Name *"}),m.jsx("input",{type:"text",required:!0,value:M.name,onChange:Te=>H({...M,name:Te.target.value}),className:"w-full border border-slate-300 rounded-md p-2 text-sm",placeholder:"Full name","data-testid":"input-customer-name"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Company Name *"}),m.jsx("input",{type:"text",required:!0,value:M.company,onChange:Te=>H({...M,company:Te.target.value}),className:"w-full border border-slate-300 rounded-md p-2 text-sm",placeholder:"Company name","data-testid":"input-company-name"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email *"}),m.jsx("input",{type:"email",required:!0,value:M.email,onChange:Te=>H({...M,email:Te.target.value}),className:"w-full border border-slate-300 rounded-md p-2 text-sm",placeholder:"email@example.com","data-testid":"input-email"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),m.jsx("input",{type:"tel",value:M.phone,onChange:Te=>H({...M,phone:Te.target.value}),className:"w-full border border-slate-300 rounded-md p-2 text-sm",placeholder:"10-digit number","data-testid":"input-phone"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),m.jsx("textarea",{value:M.address,onChange:Te=>H({...M,address:Te.target.value}),rows:2,className:"w-full border border-slate-300 rounded-md p-2 text-sm resize-none",placeholder:"Billing address","data-testid":"textarea-address"})]}),ue&&m.jsxs(m.Fragment,{children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"State"}),m.jsx("input",{type:"text",value:M.state,onChange:Te=>H({...M,state:Te.target.value}),className:"w-full border border-slate-300 rounded-md p-2 text-sm",placeholder:"State name","data-testid":"input-state"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"GST Number (Optional)"}),m.jsx("input",{type:"text",value:M.gstin,onChange:Te=>H({...M,gstin:Te.target.value}),className:"w-full border border-slate-300 rounded-md p-2 text-sm",placeholder:"15-digit GSTIN",maxLength:15,"data-testid":"input-gstin"}),m.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Only visible when GST is enabled in Settings"})]})]}),m.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 rounded-lg font-bold hover:bg-blue-700","data-testid":"button-add-customer",children:"Add Customer"})]})]})})})(),m.jsxs("div",{className:"p-4 md:p-6 bg-slate-50 min-h-full",children:[m.jsxs("div",{className:"flex justify-between items-center mb-6",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[e&&m.jsx("button",{onClick:e,className:"p-2 -ml-2 rounded-full hover:bg-slate-200",children:m.jsx(Ru,{className:"w-6 h-6 text-slate-700"})}),m.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Customers"})]}),m.jsxs("button",{onClick:()=>P(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg flex items-center gap-2 hover:bg-blue-700 font-medium shadow-sm transition-all",children:[m.jsx(hM,{className:"w-5 h-5"}),m.jsx("span",{className:"hidden sm:inline",children:"Add Customer"})]})]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.map(ue=>m.jsxs("div",{onClick:()=>Ie(ue),className:"bg-white p-5 rounded-xl shadow-sm border border-slate-100 hover:shadow-md transition-all cursor-pointer group",children:[m.jsxs("div",{className:"flex justify-between items-start mb-3",children:[m.jsx("div",{className:"w-12 h-12 bg-blue-50 text-blue-600 rounded-full flex items-center justify-center font-bold text-lg group-hover:bg-blue-100 transition-colors",children:ue.company.charAt(0)}),m.jsx("button",{onClick:Te=>{Te.stopPropagation(),Y(ue)},className:"p-2 text-slate-400 hover:text-blue-600 hover:bg-slate-50 rounded-full transition-colors",children:m.jsx(uM,{className:"w-4 h-4"})})]}),m.jsx("h3",{className:"font-bold text-slate-800 text-lg mb-1 truncate",children:ue.company}),m.jsx("p",{className:"text-slate-500 text-sm mb-4 truncate",children:ue.name}),m.jsx("div",{className:"flex flex-col gap-2 border-t border-slate-50 pt-3",children:m.jsxs("div",{className:"flex items-center justify-between text-sm",children:[m.jsx("span",{className:"text-slate-500",children:"Balance"}),m.jsxs("span",{className:`font-bold ${ue.balance>0?"text-red-600":"text-green-600"}`,children:["",ue.balance.toLocaleString()]})]})})]},ue.id))})]})]})},$ue=()=>{const{company:t,saveCompany:e}=Eh(),[n,r]=ke.useState({name:"",address:"",phone:"",email:"",upiId:""}),[s,i]=ke.useState({apiKey:"",authDomain:"",projectId:"",storageBucket:"",messagingSenderId:"",appId:""}),[a,o]=ke.useState(!1),[c,f]=ke.useState(t?.gst_enabled??!0),[d,p]=ke.useState(t?.gst??""),[g,y]=ke.useState(t?.show_hsn_summary??!0),[E,b]=ke.useState(t?.roundUpDefault??0),[A,N]=ke.useState("IDLE"),[V,k]=ke.useState(!1),[B,W]=ke.useState(!1),[K,D]=ke.useState(""),[L,R]=ke.useState(null),q=ke.useRef(null);ke.useEffect(()=>{if(t)r({name:t.name||"",address:t.address||"",phone:t.phone||"",email:t.email||"",upiId:t.upiId||""}),f(t.gst_enabled??!0),p(t.gst||""),y(t.show_hsn_summary??!0),b(t.roundUpDefault??0);else{const re=et.getCompanyProfile();r(re)}const Re=et.getFirebaseConfig();Re&&i(Re),k(ir.isReady())},[t]);const P=(Re,re)=>{r(O=>({...O,[Re]:re})),o(!1)},M=(Re,re)=>{i(O=>({...O,[Re]:re})),R(null)},H=async Re=>{Re.preventDefault();try{await e({name:n.name,address:n.address,phone:n.phone,email:n.email,gst:d,gst_enabled:c,show_hsn_summary:g,roundUpDefault:E,upiId:n.upiId}),et.saveCompanyProfile(n),o(!0),setTimeout(()=>o(!1),3e3)}catch(re){console.error("Failed to save settings:",re),alert("Failed to save settings. Please try again.")}},ae=async Re=>{Re.preventDefault(),R({success:!1,message:"Initializing..."}),et.saveFirebaseConfig(s),ir.init(s);{k(!0);const re=await ir.testConnection();R(re),re.success&&confirm("Connection Successful! The app needs to reload to sync your data. Reload now?")&&window.location.reload()}},Se=()=>{const Re=["apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId"];let re=0;const O={...s};Re.forEach(J=>{const U=new RegExp(`${J}\\s*:\\s*["']([^"']+)["']`),Y=K.match(U);Y&&Y[1]&&(O[J]=Y[1],re++)}),re>0?(i(O),W(!1),D(""),alert(`Success! Auto-filled ${re} fields. Click 'Save & Connect' to finish.`)):alert("Could not find any configuration keys. Please paste the full 'firebaseConfig' code block.")},oe=()=>{alert(`PRIVACY POLICY

1. DATA COLLECTION
- We collect your profile information (Name, Business Name, Logo, Phone, Email) for invoice generation.
- We collect customer details (Name, GST, Phone, Address) provided by you.
- We save your local invoices and business data on your device using Browser Storage (LocalStorage/IndexedDB).

2. PERMISSIONS
- CONTACTS: Permission is used ONLY to save customer contact details to your phone's native address book for your convenience. We do not mass-read or upload your personal contacts to our servers.
- STORAGE: Required to save and share PDF invoices generated by the app.

3. CLOUD SYNC
- If you connect your own Firebase instance, your data is stored in your private cloud account. We do not have access to your private Firebase data.

4. SECURITY
- We implement AES-256 equivalent logic and follow industry-best practices (Clean Architecture) to ensure data safety.

5. THIRD PARTIES
- We NEVER share or sell your data to any third-party marketing companies. All data remains within your control.

6. COMPLIANCE
- This policy is designed to comply with India's IT Act, 2000 and DPDP Act, 2023.`)},ve=()=>{alert(`TERMS OF USE

1. USAGE
- This application is a tool for inventory and invoice management. You are responsible for the accuracy of invoices generated.

2. DATA
- You own all the data you create. BillBook is just a facilitator. 
- Data is stored locally on your device. Clearing browser history/cache may delete your data if not synced to cloud.

3. WARRANTY
- The application is provided 'AS IS'. We do not guarantee 100% uptime but strive for it.

4. LIMITATION OF LIABILITY
- Developers of BillBook are not liable for any financial losses, tax calculation errors, or data loss incidents.

5. GOVERNING LAW
- These terms are governed by Indian laws and subject to Jaipur jurisdiction.`)},Ie=()=>{const Re=et.exportAllData(),re="data:application/json;charset=utf-8,"+encodeURIComponent(Re),O=`billflow_backup_${new Date().toISOString().slice(0,10)}.json`,J=document.createElement("a");J.setAttribute("href",re),J.setAttribute("download",O),J.click()},xe=Re=>{const re=Re.target.files?.[0];if(!re)return;const O=new FileReader;O.onload=J=>{const U=J.target?.result;typeof U=="string"&&(et.importData(U)?(N("SUCCESS"),setTimeout(()=>window.location.reload(),1500)):N("ERROR"))},O.readAsText(re),q.current&&(q.current.value="")};return m.jsxs("div",{className:"p-4 md:p-6 max-w-4xl mx-auto pb-24",children:[m.jsx("h2",{className:"text-xl md:text-2xl font-bold text-slate-800 mb-2",children:"Settings"}),m.jsx("p",{className:"text-slate-500 mb-8",children:"Configure your company details and manage your data."}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[m.jsx("div",{className:"lg:col-span-2",children:m.jsxs("form",{onSubmit:H,className:"bg-white rounded-lg shadow-sm border border-slate-200 overflow-hidden",children:[m.jsx("div",{className:"px-6 py-4 border-b border-gray-100 bg-gray-50",children:m.jsxs("h3",{className:"text-lg font-medium text-slate-900 flex items-center gap-2",children:[m.jsx(eM,{className:"w-5 h-5 text-blue-600"})," Company Profile"]})}),m.jsxs("div",{className:"p-6 space-y-6",children:[m.jsxs("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[m.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[m.jsx("input",{type:"checkbox",checked:c,onChange:Re=>f(Re.target.checked),className:"w-4 h-4 rounded border-gray-300"}),m.jsx("span",{className:"text-sm font-medium text-blue-900",children:"Enable GST for Invoices"})]}),m.jsx("p",{className:"text-xs text-blue-700 mt-2",children:"When enabled, GST rate can be set per item in invoices"})]}),c&&m.jsxs(m.Fragment,{children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"GST Number"}),m.jsx("input",{type:"text",value:d,onChange:Re=>p(Re.target.value),placeholder:"Your GST Registration Number",className:"w-full rounded-md border border-slate-300 p-2.5 text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"})]}),m.jsxs("div",{children:[m.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[m.jsx("input",{type:"checkbox",checked:g,onChange:Re=>y(Re.target.checked),className:"w-4 h-4 rounded border-gray-300"}),m.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Show HSN Summary in Invoices"})]}),m.jsx("p",{className:"text-xs text-slate-500 mt-1 ml-7",children:"Display HSN-wise tax summary in invoice PDFs (Tally format)"})]})]}),m.jsxs("div",{className:"mt-6 pt-6 border-t",children:[m.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-3",children:"Default Round Up for All Bills"}),m.jsxs("div",{className:"space-y-2",children:[m.jsxs("label",{className:"flex items-center gap-2 p-3 rounded-lg border border-slate-200 hover:bg-slate-50 cursor-pointer",children:[m.jsx("input",{type:"radio",name:"roundUp",checked:E===0,onChange:()=>b(0)}),m.jsx("span",{className:"text-sm font-medium text-slate-700",children:"No Rounding"})]}),m.jsxs("label",{className:"flex items-center gap-2 p-3 rounded-lg border border-slate-200 hover:bg-slate-50 cursor-pointer",children:[m.jsx("input",{type:"radio",name:"roundUp",checked:E===10,onChange:()=>b(10)}),m.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Round to 10"})]}),m.jsxs("label",{className:"flex items-center gap-2 p-3 rounded-lg border border-slate-200 hover:bg-slate-50 cursor-pointer",children:[m.jsx("input",{type:"radio",name:"roundUp",checked:E===100,onChange:()=>b(100)}),m.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Round to 100"})]})]}),m.jsx("p",{className:"text-xs text-slate-500 mt-2",children:"This setting applies to all new invoices automatically"})]}),m.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Company Name"}),m.jsx("input",{type:"text",required:!0,value:n.name,onChange:Re=>P("name",Re.target.value),className:"w-full rounded-md border border-slate-300 p-2.5 text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Address"}),m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:m.jsx(oM,{className:"h-4 w-4 text-gray-400"})}),m.jsx("textarea",{required:!0,rows:3,value:n.address,onChange:Re=>P("address",Re.target.value),className:"w-full rounded-md border border-slate-300 pl-10 p-2.5 text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Phone Number"}),m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:m.jsx(yy,{className:"h-4 w-4 text-gray-400"})}),m.jsx("input",{type:"text",required:!0,value:n.phone,onChange:Re=>P("phone",Re.target.value),className:"w-full rounded-md border border-slate-300 pl-10 p-2.5 text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Email Address"}),m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:m.jsx(Xy,{className:"h-4 w-4 text-gray-400"})}),m.jsx("input",{type:"email",required:!0,value:n.email,onChange:Re=>P("email",Re.target.value),className:"w-full rounded-md border border-slate-300 pl-10 p-2.5 text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"})]})]})]}),m.jsxs("div",{className:"mt-4",children:[m.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"UPI ID (for Payments)"}),m.jsx("input",{type:"text",value:n.upiId||"",onChange:Re=>P("upiId",Re.target.value),placeholder:"e.g. 9876543210@upi or merchant@okaxis",className:"w-full rounded-md border border-slate-300 p-2.5 text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"}),m.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"This will generate a QR code on invoices for easy payment."})]})]})]}),m.jsxs("div",{className:"bg-gray-50 px-6 py-4 flex justify-between items-center",children:[m.jsx("div",{className:"text-sm text-green-600 font-medium",children:a&&"Settings saved successfully!"}),m.jsxs("button",{type:"submit",className:"flex items-center gap-2 px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 font-medium shadow-sm transition-colors",children:[m.jsx(Jy,{className:"w-4 h-4"})," Save Changes"]})]})]})}),m.jsx("div",{className:"lg:col-span-2",children:m.jsxs("form",{onSubmit:ae,className:"bg-white rounded-lg shadow-sm border border-slate-200 overflow-hidden",children:[m.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 bg-gray-50 flex justify-between items-center",children:[m.jsxs("h3",{className:"text-lg font-medium text-slate-900 flex items-center gap-2",children:[m.jsx(tM,{className:"w-5 h-5 text-orange-500"})," Cloud Sync (Firebase)"]}),V?m.jsxs("span",{className:"flex items-center gap-1 text-xs font-bold text-green-600 bg-green-100 px-2 py-1 rounded-full",children:[m.jsx(n5,{className:"w-3 h-3"})," Connected"]}):m.jsx("span",{className:"flex items-center gap-1 text-xs font-bold text-gray-500 bg-gray-100 px-2 py-1 rounded-full",children:"Not Configured"})]}),m.jsxs("div",{className:"p-6 space-y-4",children:[m.jsxs("div",{className:"flex gap-3 mb-6",children:[m.jsxs("button",{type:"button",onClick:()=>W(!0),className:"flex-1 bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 text-white p-3 rounded-lg shadow-md hover:shadow-lg transition-all flex items-center justify-center gap-2 font-bold text-sm",children:[m.jsx(hb,{className:"w-5 h-5"})," Super Auto-Fill Config"]}),m.jsxs("a",{href:"https://console.firebase.google.com/",target:"_blank",rel:"noopener noreferrer",className:"bg-slate-100 text-slate-700 p-3 rounded-lg hover:bg-slate-200 flex items-center gap-2 font-medium text-sm",children:[m.jsx(rM,{className:"w-4 h-4"})," Open Console"]})]}),m.jsxs("div",{className:"bg-blue-50 p-3 rounded text-xs text-blue-800 border border-blue-100 mb-4",children:["Manually enter keys below OR use the ",m.jsx("strong",{children:"Super Auto-Fill"})," button to paste your config code."]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-medium text-slate-700 mb-1",children:"API Key"}),m.jsx("input",{type:"text",className:"w-full border rounded p-2 text-xs",value:s.apiKey,onChange:Re=>M("apiKey",Re.target.value)})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-medium text-slate-700 mb-1",children:"Auth Domain"}),m.jsx("input",{type:"text",className:"w-full border rounded p-2 text-xs",value:s.authDomain,onChange:Re=>M("authDomain",Re.target.value)})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-medium text-slate-700 mb-1",children:"Project ID"}),m.jsx("input",{type:"text",className:"w-full border rounded p-2 text-xs",value:s.projectId,onChange:Re=>M("projectId",Re.target.value)})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-medium text-slate-700 mb-1",children:"Storage Bucket"}),m.jsx("input",{type:"text",className:"w-full border rounded p-2 text-xs",value:s.storageBucket,onChange:Re=>M("storageBucket",Re.target.value)})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-medium text-slate-700 mb-1",children:"Messaging Sender ID"}),m.jsx("input",{type:"text",className:"w-full border rounded p-2 text-xs",value:s.messagingSenderId,onChange:Re=>M("messagingSenderId",Re.target.value)})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-medium text-slate-700 mb-1",children:"App ID"}),m.jsx("input",{type:"text",className:"w-full border rounded p-2 text-xs",value:s.appId,onChange:Re=>M("appId",Re.target.value)})]})]}),L&&m.jsxs("div",{className:`p-3 rounded border text-sm flex items-start gap-2 ${L.success?"bg-green-50 border-green-200 text-green-800":"bg-red-50 border-red-200 text-red-800"}`,children:[L.success?m.jsx(jW,{className:"w-5 h-5 flex-shrink-0"}):m.jsx(VW,{className:"w-5 h-5 flex-shrink-0"}),m.jsxs("div",{children:[m.jsx("p",{className:"font-bold",children:L.success?"Connected":"Connection Failed"}),m.jsx("p",{className:"text-xs opacity-90",children:L.message})]})]})]}),m.jsx("div",{className:"bg-gray-50 px-6 py-4 flex justify-end items-center",children:m.jsxs("button",{type:"submit",className:"flex items-center gap-2 px-6 py-2 bg-orange-500 text-white rounded-md hover:bg-orange-600 font-medium shadow-sm transition-colors",children:[m.jsx(Jy,{className:"w-4 h-4"})," Save & Connect"]})})]})}),m.jsx("div",{className:"lg:col-span-2",children:m.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-[24px] shadow-sm border border-slate-200 dark:border-slate-800 overflow-hidden",children:[m.jsx("div",{className:"px-6 py-4 border-b border-gray-100 dark:border-slate-800 bg-gray-50 dark:bg-slate-900/50",children:m.jsxs("h3",{className:"text-lg font-bold text-slate-900 dark:text-slate-100 flex items-center gap-2",children:[m.jsx(UG,{className:"w-5 h-5 text-purple-600"})," Data Management"]})}),m.jsxs("div",{className:"p-6",children:[m.jsxs("div",{className:"p-4 bg-yellow-50 dark:bg-yellow-900/10 rounded-2xl border border-yellow-100 dark:border-yellow-900/20 mb-6 flex gap-3",children:[m.jsx(p1,{className:"w-5 h-5 text-yellow-600 flex-shrink-0 mt-0.5"}),m.jsxs("div",{className:"text-sm text-yellow-800 dark:text-yellow-200",children:[m.jsx("p",{className:"font-bold mb-1",children:"Important Note"}),"This application stores data in your browser. To prevent data loss, please download a backup regularly or before clearing your browser history."]})]}),m.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[m.jsxs("button",{onClick:Ie,className:"flex items-center justify-center gap-4 p-5 bg-slate-50 dark:bg-slate-800/50 rounded-2xl hover:bg-blue-50 dark:hover:bg-blue-900/10 transition-all group border border-dashed border-slate-300 dark:border-slate-700",children:[m.jsx("div",{className:"bg-blue-100 dark:bg-blue-900/30 p-3 rounded-2xl group-hover:scale-110 transition-transform",children:m.jsx(Dp,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),m.jsxs("div",{className:"text-left",children:[m.jsx("div",{className:"font-bold text-slate-800 dark:text-slate-200",children:"Backup Data"}),m.jsx("div",{className:"text-xs text-slate-500",children:"Secure JSON export"})]})]}),m.jsxs("button",{onClick:()=>q.current?.click(),className:"flex items-center justify-center gap-4 p-5 bg-slate-50 dark:bg-slate-800/50 rounded-2xl hover:bg-green-50 dark:hover:bg-green-900/10 transition-all group border border-dashed border-slate-300 dark:border-slate-700",children:[m.jsx("div",{className:"bg-green-100 dark:bg-green-900/30 p-3 rounded-2xl group-hover:scale-110 transition-transform",children:m.jsx($2,{className:"w-6 h-6 text-green-600 dark:text-green-400"})}),m.jsxs("div",{className:"text-left",children:[m.jsx("div",{className:"font-bold text-slate-800 dark:text-slate-200",children:"Restore Data"}),m.jsx("div",{className:"text-xs text-slate-500",children:"Import from file"})]}),m.jsx("input",{type:"file",ref:q,onChange:xe,accept:".json",className:"hidden"})]})]}),A==="SUCCESS"&&m.jsx("div",{className:"mt-4 p-3 bg-green-100 dark:bg-green-900/20 text-green-800 dark:text-green-400 rounded-xl text-center text-sm font-bold",children:"Data restored successfully!"})]})]})}),m.jsx("div",{className:"lg:col-span-2",children:m.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-[24px] shadow-sm border border-slate-200 dark:border-slate-800 p-6",children:[m.jsxs("h3",{className:"text-lg font-bold text-slate-900 dark:text-slate-100 mb-4 flex items-center gap-2",children:[m.jsx(yy,{className:"w-5 h-5 text-blue-600"})," Support & Contact"]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("a",{href:"mailto:lovneetrathi@gmail.com",className:"flex items-center gap-4 p-4 bg-slate-50 dark:bg-slate-800/50 rounded-2xl border border-slate-100 dark:border-slate-800 hover:border-blue-500 transition-all",children:[m.jsx("div",{className:"p-3 bg-blue-100 dark:bg-blue-900/30 rounded-xl",children:m.jsx(Xy,{className:"w-5 h-5 text-blue-600"})}),m.jsxs("div",{children:[m.jsx("p",{className:"text-xs text-slate-500 font-bold uppercase tracking-wider",children:"Email Us"}),m.jsx("p",{className:"text-sm font-bold text-slate-800 dark:text-slate-200",children:"lovneetrathi@gmail.com"})]})]}),m.jsxs("a",{href:"tel:+919413821007",className:"flex items-center gap-4 p-4 bg-slate-50 dark:bg-slate-800/50 rounded-2xl border border-slate-100 dark:border-slate-800 hover:border-green-500 transition-all",children:[m.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900/30 rounded-xl",children:m.jsx(yy,{className:"w-5 h-5 text-green-600"})}),m.jsxs("div",{children:[m.jsx("p",{className:"text-xs text-slate-500 font-bold uppercase tracking-wider",children:"Call Us"}),m.jsx("p",{className:"text-sm font-bold text-slate-800 dark:text-slate-200",children:"+91 9413821007"})]})]})]})]})}),m.jsx("div",{className:"lg:col-span-2",children:m.jsxs("div",{className:"bg-slate-100 dark:bg-slate-800/30 rounded-[24px] p-6 text-center",children:[m.jsx("h3",{className:"text-sm font-bold text-slate-400 uppercase tracking-widest mb-6 px-4 py-1 border border-slate-200 dark:border-slate-700 inline-block rounded-full",children:"Legal & Privacy"}),m.jsxs("div",{className:"flex flex-wrap justify-center gap-4 mb-8",children:[m.jsx("button",{onClick:oe,className:"px-6 py-2 bg-white dark:bg-slate-900 text-slate-600 dark:text-slate-400 rounded-full text-xs font-bold shadow-sm",children:"Privacy Policy"}),m.jsx("button",{onClick:ve,className:"px-6 py-2 bg-white dark:bg-slate-900 text-slate-600 dark:text-slate-400 rounded-full text-xs font-bold shadow-sm",children:"Terms of Use"}),m.jsx("button",{onClick:()=>alert(`Refund Policy:

BillBook is currently free to use. Should we introduce premium features, refunds will be processed via Google Play Store as per their standard policy. Contact support for any billing disputes.`),className:"px-6 py-2 bg-white dark:bg-slate-900 text-slate-600 dark:text-slate-400 rounded-full text-xs font-bold shadow-sm",children:"Refund Policy"})]}),m.jsxs("div",{className:"pt-6 border-t border-slate-200 dark:border-slate-800",children:[m.jsx("p",{className:"text-sm font-bold text-slate-800 dark:text-slate-200 italic",children:"BillBook - Version 1.3.4 (STABLE)"}),m.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Play Console Verified & Compliant"}),m.jsxs("div",{className:"mt-4 flex justify-center items-center gap-2 text-[10px] text-slate-400",children:[m.jsx(n5,{className:"w-3 h-3 text-green-500"})," Trusted for Play Console"]})]})]})})]}),B&&m.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:m.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl p-6 animate-in fade-in zoom-in duration-200",children:[m.jsxs("div",{className:"flex justify-between items-start mb-4",children:[m.jsxs("div",{children:[m.jsxs("h3",{className:"text-lg font-bold text-slate-900 flex items-center gap-2",children:[m.jsx(hb,{className:"w-5 h-5 text-purple-600"})," Smart Auto-Fill"]}),m.jsx("p",{className:"text-sm text-slate-500",children:"Paste the full code block from Firebase Console Project Settings."})]}),m.jsx("button",{onClick:()=>W(!1),children:m.jsx(RG,{className:"w-6 h-6 text-gray-400 hover:text-gray-600"})})]}),m.jsx("textarea",{value:K,onChange:Re=>D(Re.target.value),placeholder:`Example paste:
const firebaseConfig = {
  apiKey: "AIzaSy...",
  authDomain: "project.firebaseapp.com",
  projectId: "project-id",
  ...
};`,className:"w-full h-48 p-4 border border-slate-300 rounded-md font-mono text-xs bg-slate-50 focus:ring-2 focus:ring-purple-500 outline-none mb-4"}),m.jsxs("div",{className:"flex justify-end gap-3",children:[m.jsx("button",{onClick:()=>W(!1),className:"px-4 py-2 text-slate-600 hover:bg-slate-100 rounded font-medium",children:"Cancel"}),m.jsxs("button",{onClick:Se,className:"px-6 py-2 bg-purple-600 text-white rounded hover:bg-purple-700 font-bold shadow-md flex items-center gap-2",children:[m.jsx(hb,{className:"w-4 h-4"})," Parse & Fill"]})]})]})})]})},Kue=({initialDate:t})=>{const[e,n]=ke.useState(t||new Date().toISOString().split("T")[0]),[r,s]=ke.useState([]),[i,a]=ke.useState({totalSales:0,cashSales:0,creditSales:0,totalReceived:0,totalTransactions:0});ke.useEffect(()=>{const c=et.getInvoices()||[],f=et.getPayments()||[],d=c.filter(N=>N.date===e),p=f.filter(N=>N.date===e),g=d.reduce((N,V)=>N+V.total,0),y=d.filter(N=>N.status==="PAID").reduce((N,V)=>N+V.total,0),E=d.filter(N=>N.status==="PENDING").reduce((N,V)=>N+V.total,0),b=p.reduce((N,V)=>N+V.amount,0);a({totalSales:g,cashSales:y,creditSales:E,totalReceived:b+y,totalTransactions:d.length+p.length});const A=[...d.map(N=>({id:N.id,time:"Invoice",type:"SALE",party:N.customerName,amount:N.total,mode:N.status==="PAID"?"CASH":"CREDIT",ref:N.invoiceNumber})),...p.map(N=>{const V=et.getCustomers().find(k=>k.id===N.customerId);return{id:N.id,time:"Payment",type:"RECEIPT",party:V?.company||V?.name||"Customer",amount:N.amount,mode:N.mode,ref:N.reference||"N/A"}})];s(A)},[e]);const o=()=>{Zs.medium();try{const c=new hn("p","mm","a4"),f=et.getCompanyProfile(),d=c.internal.pageSize.getWidth();let p=20;c.setFontSize(22),c.setTextColor(30,41,59),c.text(f?.name||"Daybook",d/2,p,{align:"center"}),p+=10,c.setFontSize(10),c.setTextColor(100,116,139),c.text(`Transaction Summary for ${e}`,d/2,p,{align:"center"}),p+=15,c.save(`daybook-${e}.pdf`)}catch{alert("PDF Save failed")}};return m.jsx("div",{className:"p-4 md:p-8 bg-slate-50 dark:bg-slate-900 min-h-full pb-24",children:m.jsxs("div",{className:"max-w-5xl mx-auto",children:[m.jsxs("div",{className:"flex justify-between items-end mb-8",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-[10px] font-black text-blue-600 dark:text-blue-400 uppercase tracking-widest mb-1",children:"Accounting Ledger"}),m.jsx("h1",{className:"text-4xl font-black text-slate-900 dark:text-slate-100 tracking-tighter",children:"Day Book"})]}),m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-2 rounded-2xl border border-slate-200 dark:border-slate-700 shadow-sm flex items-center gap-2",children:[m.jsx(rE,{className:"w-4 h-4 text-slate-400"}),m.jsx("input",{type:"date",value:e,onChange:c=>n(c.target.value),className:"bg-transparent text-sm font-bold outline-none text-slate-700 dark:text-slate-200"})]}),m.jsx("button",{onClick:o,className:"bg-slate-900 dark:bg-blue-600 text-white p-3 rounded-2xl shadow-xl active:scale-95 transition-all",children:m.jsx(Dp,{className:"w-5 h-5"})})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[m.jsxs(Mn.div,{initial:{y:10,opacity:0},animate:{y:0,opacity:1},className:"bg-white dark:bg-slate-800 p-6 rounded-[32px] shadow-sm border border-slate-100 dark:border-slate-700",children:[m.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/30 w-10 h-10 rounded-xl flex items-center justify-center mb-4",children:m.jsx(bG,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),m.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mb-1",children:"Total Sales"}),m.jsxs("p",{className:"text-3xl font-black text-slate-900 dark:text-slate-100",children:["",i.totalSales.toLocaleString()]}),m.jsxs("p",{className:"text-[10px] font-bold text-slate-400 mt-2",children:["Cash: ",i.cashSales," | Credit: ",i.creditSales]})]}),m.jsxs(Mn.div,{initial:{y:10,opacity:0},animate:{y:0,opacity:1},transition:{delay:.1},className:"bg-emerald-600 p-6 rounded-[32px] shadow-lg shadow-emerald-500/20 text-white",children:[m.jsx("div",{className:"bg-white/20 w-10 h-10 rounded-xl flex items-center justify-center mb-4",children:m.jsx(FW,{className:"w-5 h-5 text-white"})}),m.jsx("p",{className:"text-xs font-bold uppercase tracking-widest mb-1 opacity-70",children:"Cash In Hand"}),m.jsxs("p",{className:"text-3xl font-black",children:["",i.totalReceived.toLocaleString()]}),m.jsx("p",{className:"text-[10px] font-bold mt-2 opacity-70",children:"From Sales & Payments Received"})]}),m.jsxs(Mn.div,{initial:{y:10,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},className:"bg-white dark:bg-slate-800 p-6 rounded-[32px] shadow-sm border border-slate-100 dark:border-slate-700",children:[m.jsx("div",{className:"bg-purple-50 dark:bg-purple-900/30 w-10 h-10 rounded-xl flex items-center justify-center mb-4",children:m.jsx(XG,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"})}),m.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mb-1",children:"Entries"}),m.jsx("p",{className:"text-3xl font-black text-slate-900 dark:text-slate-100",children:i.totalTransactions}),m.jsxs("p",{className:"text-[10px] font-bold text-slate-400 mt-2",children:["Activity for ",e]})]})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-[32px] shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden",children:[m.jsx("div",{className:"px-6 py-4 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center",children:m.jsx("h3",{className:"font-bold text-slate-800 dark:text-slate-100",children:"Transaction Register"})}),m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full",children:[m.jsx("thead",{className:"bg-slate-50 dark:bg-slate-900/50",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-slate-400 uppercase",children:"Type"}),m.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-slate-400 uppercase",children:"Party"}),m.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-slate-400 uppercase",children:"Reference"}),m.jsx("th",{className:"px-6 py-4 text-right text-[10px] font-black text-slate-400 uppercase",children:"Amount"}),m.jsx("th",{className:"px-6 py-4 text-center text-[10px] font-black text-slate-400 uppercase",children:"Mode"})]})}),m.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:r.map((c,f)=>m.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-900/50 transition-colors",children:[m.jsx("td",{className:"px-6 py-4",children:m.jsxs("div",{className:`inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-[10px] font-black uppercase ${c.type==="SALE"?"bg-blue-50 text-blue-600":"bg-emerald-50 text-emerald-600"}`,children:[c.type==="SALE"?m.jsx(gG,{className:"w-3 h-3"}):m.jsx(Qd,{className:"w-3 h-3"}),c.type]})}),m.jsx("td",{className:"px-6 py-4 text-sm font-bold text-slate-700 dark:text-slate-300",children:c.party}),m.jsx("td",{className:"px-6 py-4 text-xs font-medium text-slate-400",children:c.ref}),m.jsx("td",{className:"px-6 py-4 text-right",children:m.jsxs("p",{className:"text-sm font-black text-slate-900 dark:text-slate-100",children:["",c.amount.toLocaleString()]})}),m.jsx("td",{className:"px-6 py-4 text-center",children:m.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase",children:c.mode})})]},f))})]})})]})]})})},Yue=["Rent","Electricity","Salary","Tea/Snacks","Transportation","Marketing","Maintenance","Other"],Xue=({onBack:t})=>{const[e,n]=ke.useState([]),[r,s]=ke.useState(!1),[i,a]=ke.useState({date:new Date().toISOString().split("T")[0],category:"Other",paymentMode:"CASH"});ke.useEffect(()=>{n(et.getExpenses())},[]);const o=()=>{if(!i.amount||!i.category||!i.date){alert("Please fill all required fields");return}const d={id:crypto.randomUUID(),category:i.category,description:i.description||"",amount:Number(i.amount),date:i.date,paymentMode:i.paymentMode};et.saveExpense(d),n(et.getExpenses()),s(!1),a({date:new Date().toISOString().split("T")[0],category:"Other",paymentMode:"CASH"})},c=d=>{confirm("Are you sure you want to delete this expense?")&&(et.deleteExpense(d),n(et.getExpenses()))},f=e.reduce((d,p)=>d+p.amount,0);return m.jsxs("div",{className:"p-4 md:p-6 pb-24 md:pb-6 relative min-h-full",children:[m.jsxs("div",{className:"flex justify-between items-center mb-6",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[t&&m.jsx("button",{onClick:t,className:"md:hidden p-2 -ml-2 text-slate-500",children:m.jsx(Ru,{className:"w-5 h-5"})}),m.jsxs("div",{children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100",children:"Expenses"}),m.jsx("p",{className:"text-sm text-slate-500",children:"Track business costs"})]})]}),m.jsxs("button",{onClick:()=>s(!0),className:"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg flex items-center gap-2 shadow-sm transition-colors",children:[m.jsx(Kf,{className:"w-4 h-4"}),m.jsx("span",{className:"hidden md:inline",children:"Add Expense"})]})]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700",children:[m.jsx("p",{className:"text-slate-500 text-sm font-medium",children:"Total Expenses"}),m.jsxs("h3",{className:"text-3xl font-bold text-red-600 mt-1",children:["",f.toFixed(2)]})]})}),m.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden",children:e.length>0?m.jsx("div",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:e.map(d=>m.jsxs("div",{className:"p-4 hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors flex items-center justify-between group",children:[m.jsxs("div",{className:"flex items-start gap-4",children:[m.jsx("div",{className:"w-10 h-10 rounded-full bg-red-50 dark:bg-red-900/20 text-red-500 flex items-center justify-center flex-shrink-0",children:m.jsx(AW,{className:"w-5 h-5"})}),m.jsxs("div",{children:[m.jsx("h4",{className:"font-semibold text-slate-800 dark:text-slate-200",children:d.category}),m.jsx("p",{className:"text-sm text-slate-500",children:d.description||"No description"}),m.jsxs("div",{className:"flex items-center gap-3 mt-1 text-xs text-slate-400",children:[m.jsxs("span",{className:"flex items-center gap-1",children:[m.jsx(rE,{className:"w-3 h-3"})," ",d.date]}),m.jsx("span",{className:"uppercase border border-slate-200 dark:border-slate-600 px-1.5 py-0.5 rounded text-[10px]",children:d.paymentMode})]})]})]}),m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsxs("p",{className:"font-bold text-slate-800 dark:text-slate-200",children:["",d.amount.toFixed(2)]}),m.jsx("button",{onClick:()=>c(d.id),className:"p-2 text-slate-400 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-opacity",children:m.jsx(gh,{className:"w-4 h-4"})})]})]},d.id))}):m.jsxs("div",{className:"p-12 text-center text-slate-400",children:[m.jsx("div",{className:"w-16 h-16 bg-slate-100 dark:bg-slate-800 rounded-full flex items-center justify-center mx-auto mb-4",children:m.jsx(r5,{className:"w-8 h-8 text-slate-300"})}),m.jsx("p",{children:"No expenses recorded yet."})]})}),m.jsx(ku,{children:r&&m.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-end md:items-center justify-center p-4 backdrop-blur-sm",children:m.jsxs(Mn.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},className:"bg-white dark:bg-slate-800 w-full max-w-md rounded-2xl shadow-xl overflow-hidden",children:[m.jsxs("div",{className:"p-6 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center",children:[m.jsx("h3",{className:"font-bold text-lg text-slate-800 dark:text-slate-100",children:"Add New Expense"}),m.jsx("button",{onClick:()=>s(!1),className:"text-slate-400 hover:text-slate-600",children:"Close"})]}),m.jsxs("div",{className:"p-6 space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Date"}),m.jsx("input",{type:"date",value:i.date,onChange:d=>a({...i,date:d.target.value}),className:"w-full p-2 border border-slate-200 dark:border-slate-600 rounded-lg dark:bg-slate-700 dark:text-white"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Category"}),m.jsx("select",{value:i.category,onChange:d=>a({...i,category:d.target.value}),className:"w-full p-2 border border-slate-200 dark:border-slate-600 rounded-lg dark:bg-slate-700 dark:text-white",children:Yue.map(d=>m.jsx("option",{value:d,children:d},d))})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Amount ()"}),m.jsx("input",{type:"number",value:i.amount,onChange:d=>a({...i,amount:Number(d.target.value)}),placeholder:"0.00",className:"w-full p-2 border border-slate-200 dark:border-slate-600 rounded-lg dark:bg-slate-700 dark:text-white"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Description (Optional)"}),m.jsx("input",{type:"text",value:i.description,onChange:d=>a({...i,description:d.target.value}),placeholder:"Details...",className:"w-full p-2 border border-slate-200 dark:border-slate-600 rounded-lg dark:bg-slate-700 dark:text-white"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Payment Mode"}),m.jsx("div",{className:"flex gap-2",children:["CASH","UPI","BANK_TRANSFER"].map(d=>m.jsx("button",{onClick:()=>a({...i,paymentMode:d}),className:`flex-1 py-2 text-xs font-medium rounded-lg border ${i.paymentMode===d?"bg-blue-600 text-white border-blue-600":"bg-white text-slate-600 border-slate-200 hover:bg-slate-50"}`,children:d.replace("_"," ")},d))})]}),m.jsx("div",{className:"pt-4",children:m.jsx("button",{onClick:o,className:"w-full bg-blue-600 text-white py-3 rounded-lg font-bold hover:bg-blue-700 transition-colors",children:"Save Expense"})})]})]})})})]})},Jue=({onBack:t,initialPayment:e})=>{const[n,r]=ke.useState(et.getPayments()),[s]=ke.useState(et.getCustomers()),[i,a]=ke.useState(!1),[o,c]=ke.useState(null),[f,d]=ke.useState(""),[p,g]=ke.useState(""),[y,E]=ke.useState(new Date().toISOString().split("T")[0]),[b,A]=ke.useState("CASH"),[N,V]=ke.useState(""),[k,B]=ke.useState("");Ig.useEffect(()=>{e&&K(e)},[e]);const W=()=>{c(null),d(""),g(""),E(new Date().toISOString().split("T")[0]),A("CASH"),V(""),B(""),a(!0),Zs.light()},K=q=>{c(q),d(q.customerId),g(q.amount.toString()),E(q.date),A(q.mode),V(q.reference||""),B(q.note||""),a(!0),Zs.light()},D=q=>{confirm("Are you sure you want to delete this receipt?")&&(et.deletePayment(q),r(et.getPayments()),Zs.notification())},L=()=>{if(!f||!p)return alert("Please select customer and entering amount");const q={id:o?o.id:crypto.randomUUID(),customerId:f,date:y,amount:Number(p),mode:b,reference:N,note:k};o?et.updatePayment(q):et.savePayment(q),r(et.getPayments()),a(!1),Zs.success(),c(null),d(""),g(""),V(""),B("")},R=q=>s.find(P=>P.id===q)?.company||s.find(P=>P.id===q)?.name||"Unknown";return m.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900 min-h-screen flex flex-col",children:[m.jsxs("div",{className:"bg-white dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700 p-4 sticky top-0 z-10 flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("button",{onClick:t,className:"p-2 -ml-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-700",children:m.jsx(Ru,{className:"w-6 h-6 text-slate-600 dark:text-slate-300"})}),m.jsx("h1",{className:"text-xl font-bold text-slate-800 dark:text-slate-100",children:"Payment Receipts"})]}),m.jsxs("button",{onClick:W,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium flex items-center gap-2",children:[m.jsx(Kf,{className:"w-5 h-5"})," ",m.jsx("span",{className:"hidden sm:inline",children:"New Receipt"})]})]}),m.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3 pb-24",children:n.length===0?m.jsxs("div",{className:"text-center py-20 text-slate-400",children:[m.jsx(Qd,{className:"w-16 h-16 mx-auto mb-4 opacity-20"}),m.jsx("p",{children:"No payments received yet."})]}):n.slice().reverse().map(q=>m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl shadow-sm border border-slate-100 dark:border-slate-700 flex justify-between items-center group",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:"w-12 h-12 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center text-green-600 dark:text-green-400",children:m.jsx(Qd,{className:"w-6 h-6"})}),m.jsxs("div",{children:[m.jsx("h3",{className:"font-bold text-slate-800 dark:text-slate-200",children:R(q.customerId)}),m.jsxs("p",{className:"text-xs text-slate-500 font-medium flex items-center gap-2",children:[m.jsx("span",{children:new Date(q.date).toLocaleDateString()}),m.jsx("span",{className:"w-1 h-1 bg-slate-300 rounded-full"}),m.jsx("span",{className:"uppercase",children:q.mode})]})]})]}),m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:"text-right",children:m.jsxs("span",{className:"block text-lg font-bold text-green-600 dark:text-green-400",children:["+",q.amount.toLocaleString("en-IN")]})}),m.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[m.jsx("button",{onClick:()=>K(q),className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg text-slate-400 hover:text-blue-600",children:m.jsx(i5,{className:"w-4 h-4"})}),m.jsx("button",{onClick:()=>D(q.id),className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg text-slate-400 hover:text-red-600",children:m.jsx(gh,{className:"w-4 h-4"})})]}),m.jsx("div",{className:"md:hidden flex gap-1",children:m.jsx("button",{onClick:()=>K(q),className:"p-2 text-slate-400",children:m.jsx(i5,{className:"w-4 h-4"})})})]})]},q.id))}),i&&m.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-end sm:items-center justify-center p-0 sm:p-4 pb-safe",children:m.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-lg rounded-t-3xl sm:rounded-3xl p-6 shadow-2xl overflow-y-auto max-h-[90vh]",children:[m.jsxs("div",{className:"flex justify-between items-center mb-6",children:[m.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-100",children:o?"Edit Receipt":"Receive Payment"}),m.jsx("button",{onClick:()=>a(!1),className:"p-2 bg-slate-100 dark:bg-slate-800 rounded-full",children:m.jsx(Su,{className:"w-5 h-5"})})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase mb-1 block",children:"Customer"}),m.jsx(lT,{options:s.map(q=>({id:q.id,label:q.company,subLabel:q.name})),value:f,onChange:d,onCreate:()=>{},placeholder:"Select Customer"})]}),m.jsxs("div",{className:"flex gap-4",children:[m.jsxs("div",{className:"flex-1",children:[m.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase mb-1 block",children:"Amount"}),m.jsxs("div",{className:"relative",children:[m.jsx("span",{className:"absolute left-3 top-3.5 text-slate-400 font-bold",children:""}),m.jsx("input",{type:"number",className:"w-full bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl py-3 pl-8 pr-4 font-bold outline-none focus:ring-2 focus:ring-blue-500",value:p,onChange:q=>g(q.target.value),placeholder:"0.00"})]})]}),m.jsxs("div",{className:"flex-1",children:[m.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase mb-1 block",children:"Date"}),m.jsx("input",{type:"date",className:"w-full bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl py-3 px-4 font-medium outline-none focus:ring-2 focus:ring-blue-500",value:y,onChange:q=>E(q.target.value)})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase mb-1 block",children:"Payment Mode"}),m.jsx("div",{className:"grid grid-cols-4 gap-2",children:["CASH","UPI","BANK_TRANSFER","CHEQUE"].map(q=>m.jsx("button",{onClick:()=>A(q),className:`py-2 rounded-lg text-[10px] font-bold uppercase transition-colors border ${b===q?"bg-blue-600 text-white border-blue-600":"bg-slate-50 dark:bg-slate-800 text-slate-500 border-slate-200 dark:border-slate-700"}`,children:q.replace("_"," ")},q))})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase mb-1 block",children:"Reference / Note"}),m.jsx("input",{type:"text",className:"w-full bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl py-3 px-4 font-medium outline-none focus:ring-2 focus:ring-blue-500",value:N,onChange:q=>V(q.target.value),placeholder:"e.g. UPI Ref ID or Cheque No."})]}),m.jsxs("div",{className:"pt-4 flex gap-3",children:[m.jsx("button",{onClick:()=>a(!1),className:"flex-1 py-3.5 rounded-xl font-bold text-slate-500 bg-slate-100 hover:bg-slate-200",children:"Cancel"}),m.jsx("button",{onClick:L,className:"flex-1 py-3.5 rounded-xl font-bold text-white bg-blue-600 hover:bg-blue-700 shadow-lg shadow-blue-600/20",children:o?"Update Receipt":"Save Receipt"})]})]})]})})]})};var s9=1252,Que=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],wS={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},TS=function(t){Que.indexOf(t)!=-1&&(s9=wS[0]=t)};function Zue(){TS(1252)}var $l=function(t){TS(t)};function i9(){$l(1200),Zue()}function uP(t){for(var e=[],n=0,r=t.length;n<r;++n)e[n]=t.charCodeAt(n);return e}function efe(t){for(var e=[],n=0;n<t.length>>1;++n)e[n]=String.fromCharCode(t.charCodeAt(2*n)+(t.charCodeAt(2*n+1)<<8));return e.join("")}function a9(t){for(var e=[],n=0;n<t.length>>1;++n)e[n]=String.fromCharCode(t.charCodeAt(2*n+1)+(t.charCodeAt(2*n)<<8));return e.join("")}var Xm=function(t){var e=t.charCodeAt(0),n=t.charCodeAt(1);return e==255&&n==254?efe(t.slice(2)):e==254&&n==255?a9(t.slice(2)):e==65279?t.slice(1):t},ny=function(e){return String.fromCharCode(e)},fP=function(e){return String.fromCharCode(e)},t1,Bf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function dP(t){for(var e="",n=0,r=0,s=0,i=0,a=0,o=0,c=0,f=0;f<t.length;)n=t.charCodeAt(f++),i=n>>2,r=t.charCodeAt(f++),a=(n&3)<<4|r>>4,s=t.charCodeAt(f++),o=(r&15)<<2|s>>6,c=s&63,isNaN(r)?o=c=64:isNaN(s)&&(c=64),e+=Bf.charAt(i)+Bf.charAt(a)+Bf.charAt(o)+Bf.charAt(c);return e}function jo(t){var e="",n=0,r=0,s=0,i=0,a=0,o=0,c=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var f=0;f<t.length;)i=Bf.indexOf(t.charAt(f++)),a=Bf.indexOf(t.charAt(f++)),n=i<<2|a>>4,e+=String.fromCharCode(n),o=Bf.indexOf(t.charAt(f++)),r=(a&15)<<4|o>>2,o!==64&&(e+=String.fromCharCode(r)),c=Bf.indexOf(t.charAt(f++)),s=(o&3)<<6|c,c!==64&&(e+=String.fromCharCode(s));return e}var hr=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),Ch=(function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(e,n){return n?new Buffer(e,n):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}})();function ed(t){return hr?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function hP(t){return hr?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var Gl=function(e){return hr?Ch(e,"binary"):e.split("").map(function(n){return n.charCodeAt(0)&255})};function Nh(t){if(Array.isArray(t))return t.map(function(r){return String.fromCharCode(r)}).join("");for(var e=[],n=0;n<t.length;++n)e[n]=String.fromCharCode(t[n]);return e.join("")}function ES(t){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(t instanceof ArrayBuffer)return ES(new Uint8Array(t));for(var e=new Array(t.length),n=0;n<t.length;++n)e[n]=t[n];return e}var Mf=hr?function(t){return Buffer.concat(t.map(function(e){return Buffer.isBuffer(e)?e:Ch(e)}))}:function(t){if(typeof Uint8Array<"u"){var e=0,n=0;for(e=0;e<t.length;++e)n+=t[e].length;var r=new Uint8Array(n),s=0;for(e=0,n=0;e<t.length;n+=s,++e)if(s=t[e].length,t[e]instanceof Uint8Array)r.set(t[e],n);else{if(typeof t[e]=="string")throw"wtf";r.set(new Uint8Array(t[e]),n)}return r}return[].concat.apply([],t.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function tfe(t){for(var e=[],n=0,r=t.length+250,s=ed(t.length+255),i=0;i<t.length;++i){var a=t.charCodeAt(i);if(a<128)s[n++]=a;else if(a<2048)s[n++]=192|a>>6&31,s[n++]=128|a&63;else if(a>=55296&&a<57344){a=(a&1023)+64;var o=t.charCodeAt(++i)&1023;s[n++]=240|a>>8&7,s[n++]=128|a>>2&63,s[n++]=128|o>>6&15|(a&3)<<4,s[n++]=128|o&63}else s[n++]=224|a>>12&15,s[n++]=128|a>>6&63,s[n++]=128|a&63;n>r&&(e.push(s.slice(0,n)),n=0,s=ed(65535),r=65530)}return e.push(s.slice(0,n)),Mf(e)}var Wa=/\u0000/g,Jm=/[\u0001-\u0006]/g;function op(t){for(var e="",n=t.length-1;n>=0;)e+=t.charAt(n--);return e}function Kl(t,e){var n=""+t;return n.length>=e?n:js("0",e-n.length)+n}function SS(t,e){var n=""+t;return n.length>=e?n:js(" ",e-n.length)+n}function R2(t,e){var n=""+t;return n.length>=e?n:n+js(" ",e-n.length)}function nfe(t,e){var n=""+Math.round(t);return n.length>=e?n:js("0",e-n.length)+n}function rfe(t,e){var n=""+t;return n.length>=e?n:js("0",e-n.length)+n}var pP=Math.pow(2,32);function E0(t,e){if(t>pP||t<-pP)return nfe(t,e);var n=Math.round(t);return rfe(n,e)}function P2(t,e){return e=e||0,t.length>=7+e&&(t.charCodeAt(e)|32)===103&&(t.charCodeAt(e+1)|32)===101&&(t.charCodeAt(e+2)|32)===110&&(t.charCodeAt(e+3)|32)===101&&(t.charCodeAt(e+4)|32)===114&&(t.charCodeAt(e+5)|32)===97&&(t.charCodeAt(e+6)|32)===108}var mP=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],ww=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function sfe(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"/ "hh""mm""ss" "',t}var Gn={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},gP={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},ife={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function D2(t,e,n){for(var r=t<0?-1:1,s=t*r,i=0,a=1,o=0,c=1,f=0,d=0,p=Math.floor(s);f<e&&(p=Math.floor(s),o=p*a+i,d=p*f+c,!(s-p<5e-8));)s=1/(s-p),i=a,a=o,c=f,f=d;if(d>e&&(f>e?(d=c,o=i):(d=f,o=a)),!n)return[0,r*o,d];var g=Math.floor(r*o/d);return[g,r*o-g*d,d]}function qd(t,e,n){if(t>2958465||t<0)return null;var r=t|0,s=Math.floor(86400*(t-r)),i=0,a=[],o={D:r,T:s,u:86400*(t-r)-s,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),e&&e.date1904&&(r+=1462),o.u>.9999&&(o.u=0,++s==86400&&(o.T=s=0,++r,++o.D)),r===60)a=n?[1317,10,29]:[1900,2,29],i=3;else if(r===0)a=n?[1317,8,29]:[1900,1,0],i=6;else{r>60&&--r;var c=new Date(1900,0,1);c.setDate(c.getDate()+r-1),a=[c.getFullYear(),c.getMonth()+1,c.getDate()],i=c.getDay(),r<60&&(i=(i+6)%7),n&&(i=ffe(c,a))}return o.y=a[0],o.m=a[1],o.d=a[2],o.S=s%60,s=Math.floor(s/60),o.M=s%60,s=Math.floor(s/60),o.H=s,o.q=i,o}var o9=new Date(1899,11,31,0,0,0),afe=o9.getTime(),ofe=new Date(1900,2,1,0,0,0);function l9(t,e){var n=t.getTime();return e?n-=1461*24*60*60*1e3:t>=ofe&&(n+=1440*60*1e3),(n-(afe+(t.getTimezoneOffset()-o9.getTimezoneOffset())*6e4))/(1440*60*1e3)}function AS(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function lfe(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function cfe(t){var e=t<0?12:11,n=AS(t.toFixed(12));return n.length<=e||(n=t.toPrecision(10),n.length<=e)?n:t.toExponential(5)}function ufe(t){var e=AS(t.toFixed(11));return e.length>(t<0?12:11)||e==="0"||e==="-0"?t.toPrecision(6):e}function n1(t){var e=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),n;return e>=-4&&e<=-1?n=t.toPrecision(10+e):Math.abs(e)<=9?n=cfe(t):e===10?n=t.toFixed(10).substr(0,12):n=ufe(t),AS(lfe(n.toUpperCase()))}function hh(t,e){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):n1(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return xl(14,l9(t,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+t)}function ffe(t,e){e[0]-=581;var n=t.getDay();return t<60&&(n=(n+6)%7),n}function dfe(t,e,n,r){var s="",i=0,a=0,o=n.y,c,f=0;switch(t){case 98:o=n.y+543;case 121:switch(e.length){case 1:case 2:c=o%100,f=2;break;default:c=o%1e4,f=4;break}break;case 109:switch(e.length){case 1:case 2:c=n.m,f=e.length;break;case 3:return ww[n.m-1][1];case 5:return ww[n.m-1][0];default:return ww[n.m-1][2]}break;case 100:switch(e.length){case 1:case 2:c=n.d,f=e.length;break;case 3:return mP[n.q][0];default:return mP[n.q][1]}break;case 104:switch(e.length){case 1:case 2:c=1+(n.H+11)%12,f=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:c=n.H,f=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:c=n.M,f=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return n.u===0&&(e=="s"||e=="ss")?Kl(n.S,e.length):(r>=2?a=r===3?1e3:100:a=r===1?10:1,i=Math.round(a*(n.S+n.u)),i>=60*a&&(i=0),e==="s"?i===0?"0":""+i/a:(s=Kl(i,2+r),e==="ss"?s.substr(0,2):"."+s.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":c=n.D*24+n.H;break;case"[m]":case"[mm]":c=(n.D*24+n.H)*60+n.M;break;case"[s]":case"[ss]":c=((n.D*24+n.H)*60+n.M)*60+Math.round(n.S+n.u);break;default:throw"bad abstime format: "+e}f=e.length===3?1:2;break;case 101:c=o,f=1;break}var d=f>0?Kl(c,f):"";return d}function Vf(t){var e=3;if(t.length<=e)return t;for(var n=t.length%e,r=t.substr(0,n);n!=t.length;n+=e)r+=(r.length>0?",":"")+t.substr(n,e);return r}var c9=/%/g;function hfe(t,e,n){var r=e.replace(c9,""),s=e.length-r.length;return Cu(t,r,n*Math.pow(10,2*s))+js("%",s)}function pfe(t,e,n){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return Cu(t,e.substr(0,r),n/Math.pow(10,3*(e.length-r)))}function u9(t,e){var n,r=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+u9(t,-e);var s=t.indexOf(".");s===-1&&(s=t.indexOf("E"));var i=Math.floor(Math.log(e)*Math.LOG10E)%s;if(i<0&&(i+=s),n=(e/Math.pow(10,i)).toPrecision(r+1+(s+i)%s),n.indexOf("e")===-1){var a=Math.floor(Math.log(e)*Math.LOG10E);for(n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(a-n.length+i):n+="E+"+(a-i);n.substr(0,2)==="0.";)n=n.charAt(0)+n.substr(2,s)+"."+n.substr(2+s),n=n.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,c,f,d){return c+f+d.substr(0,(s+i)%s)+"."+d.substr(i)+"E"})}else n=e.toExponential(r);return t.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),t.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}var f9=/# (\?+)( ?)\/( ?)(\d+)/;function mfe(t,e,n){var r=parseInt(t[4],10),s=Math.round(e*r),i=Math.floor(s/r),a=s-i*r,o=r;return n+(i===0?"":""+i)+" "+(a===0?js(" ",t[1].length+1+t[4].length):SS(a,t[1].length)+t[2]+"/"+t[3]+Kl(o,t[4].length))}function gfe(t,e,n){return n+(e===0?"":""+e)+js(" ",t[1].length+2+t[4].length)}var d9=/^#*0*\.([0#]+)/,h9=/\).*[0#]/,p9=/\(###\) ###\\?-####/;function Ua(t){for(var e="",n,r=0;r!=t.length;++r)switch(n=t.charCodeAt(r)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(n)}return e}function xP(t,e){var n=Math.pow(10,e);return""+Math.round(t*n)/n}function yP(t,e){var n=t-Math.floor(t),r=Math.pow(10,e);return e<(""+Math.round(n*r)).length?0:Math.round(n*r)}function xfe(t,e){return e<(""+Math.round((t-Math.floor(t))*Math.pow(10,e))).length?1:0}function yfe(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function ol(t,e,n){if(t.charCodeAt(0)===40&&!e.match(h9)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?ol("n",r,n):"("+ol("n",r,-n)+")"}if(e.charCodeAt(e.length-1)===44)return pfe(t,e,n);if(e.indexOf("%")!==-1)return hfe(t,e,n);if(e.indexOf("E")!==-1)return u9(e,n);if(e.charCodeAt(0)===36)return"$"+ol(t,e.substr(e.charAt(1)==" "?2:1),n);var s,i,a,o,c=Math.abs(n),f=n<0?"-":"";if(e.match(/^00+$/))return f+E0(c,e.length);if(e.match(/^[#?]+$/))return s=E0(n,0),s==="0"&&(s=""),s.length>e.length?s:Ua(e.substr(0,e.length-s.length))+s;if(i=e.match(f9))return mfe(i,c,f);if(e.match(/^#+0+$/))return f+E0(c,e.length-e.indexOf("0"));if(i=e.match(d9))return s=xP(n,i[1].length).replace(/^([^\.]+)$/,"$1."+Ua(i[1])).replace(/\.$/,"."+Ua(i[1])).replace(/\.(\d*)$/,function(E,b){return"."+b+js("0",Ua(i[1]).length-b.length)}),e.indexOf("0.")!==-1?s:s.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),i=e.match(/^(0*)\.(#*)$/))return f+xP(c,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=e.match(/^#{1,3},##0(\.?)$/))return f+Vf(E0(c,0));if(i=e.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+ol(t,e,-n):Vf(""+(Math.floor(n)+xfe(n,i[1].length)))+"."+Kl(yP(n,i[1].length),i[1].length);if(i=e.match(/^#,#*,#0/))return ol(t,e.replace(/^#,#*,/,""),n);if(i=e.match(/^([0#]+)(\\?-([0#]+))+$/))return s=op(ol(t,e.replace(/[\\-]/g,""),n)),a=0,op(op(e.replace(/\\/g,"")).replace(/[0#]/g,function(E){return a<s.length?s.charAt(a++):E==="0"?"0":""}));if(e.match(p9))return s=ol(t,"##########",n),"("+s.substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var d="";if(i=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(i[4].length,7),o=D2(c,Math.pow(10,a)-1,!1),s=""+f,d=Cu("n",i[1],o[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),s+=d+i[2]+"/"+i[3],d=R2(o[2],a),d.length<i[4].length&&(d=Ua(i[4].substr(i[4].length-d.length))+d),s+=d,s;if(i=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(i[1].length,i[4].length),7),o=D2(c,Math.pow(10,a)-1,!0),f+(o[0]||(o[1]?"":"0"))+" "+(o[1]?SS(o[1],a)+i[2]+"/"+i[3]+R2(o[2],a):js(" ",2*a+1+i[2].length+i[3].length));if(i=e.match(/^[#0?]+$/))return s=E0(n,0),e.length<=s.length?s:Ua(e.substr(0,e.length-s.length))+s;if(i=e.match(/^([#0?]+)\.([#0]+)$/)){s=""+n.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),a=s.indexOf(".");var p=e.indexOf(".")-a,g=e.length-s.length-p;return Ua(e.substr(0,p)+s+e.substr(e.length-g))}if(i=e.match(/^00,000\.([#0]*0)$/))return a=yP(n,i[1].length),n<0?"-"+ol(t,e,-n):Vf(yfe(n)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(E){return"00,"+(E.length<3?Kl(0,3-E.length):"")+E})+"."+Kl(a,i[1].length);switch(e){case"###,##0.00":return ol(t,"#,##0.00",n);case"###,###":case"##,###":case"#,###":var y=Vf(E0(c,0));return y!=="0"?f+y:"";case"###,###.00":return ol(t,"###,##0.00",n).replace(/^0\./,".");case"#,###.00":return ol(t,"#,##0.00",n).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function vfe(t,e,n){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return Cu(t,e.substr(0,r),n/Math.pow(10,3*(e.length-r)))}function _fe(t,e,n){var r=e.replace(c9,""),s=e.length-r.length;return Cu(t,r,n*Math.pow(10,2*s))+js("%",s)}function m9(t,e){var n,r=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+m9(t,-e);var s=t.indexOf(".");s===-1&&(s=t.indexOf("E"));var i=Math.floor(Math.log(e)*Math.LOG10E)%s;if(i<0&&(i+=s),n=(e/Math.pow(10,i)).toPrecision(r+1+(s+i)%s),!n.match(/[Ee]/)){var a=Math.floor(Math.log(e)*Math.LOG10E);n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(a-n.length+i):n+="E+"+(a-i),n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,c,f,d){return c+f+d.substr(0,(s+i)%s)+"."+d.substr(i)+"E"})}else n=e.toExponential(r);return t.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),t.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}function Ec(t,e,n){if(t.charCodeAt(0)===40&&!e.match(h9)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?Ec("n",r,n):"("+Ec("n",r,-n)+")"}if(e.charCodeAt(e.length-1)===44)return vfe(t,e,n);if(e.indexOf("%")!==-1)return _fe(t,e,n);if(e.indexOf("E")!==-1)return m9(e,n);if(e.charCodeAt(0)===36)return"$"+Ec(t,e.substr(e.charAt(1)==" "?2:1),n);var s,i,a,o,c=Math.abs(n),f=n<0?"-":"";if(e.match(/^00+$/))return f+Kl(c,e.length);if(e.match(/^[#?]+$/))return s=""+n,n===0&&(s=""),s.length>e.length?s:Ua(e.substr(0,e.length-s.length))+s;if(i=e.match(f9))return gfe(i,c,f);if(e.match(/^#+0+$/))return f+Kl(c,e.length-e.indexOf("0"));if(i=e.match(d9))return s=(""+n).replace(/^([^\.]+)$/,"$1."+Ua(i[1])).replace(/\.$/,"."+Ua(i[1])),s=s.replace(/\.(\d*)$/,function(E,b){return"."+b+js("0",Ua(i[1]).length-b.length)}),e.indexOf("0.")!==-1?s:s.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),i=e.match(/^(0*)\.(#*)$/))return f+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=e.match(/^#{1,3},##0(\.?)$/))return f+Vf(""+c);if(i=e.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+Ec(t,e,-n):Vf(""+n)+"."+js("0",i[1].length);if(i=e.match(/^#,#*,#0/))return Ec(t,e.replace(/^#,#*,/,""),n);if(i=e.match(/^([0#]+)(\\?-([0#]+))+$/))return s=op(Ec(t,e.replace(/[\\-]/g,""),n)),a=0,op(op(e.replace(/\\/g,"")).replace(/[0#]/g,function(E){return a<s.length?s.charAt(a++):E==="0"?"0":""}));if(e.match(p9))return s=Ec(t,"##########",n),"("+s.substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var d="";if(i=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(i[4].length,7),o=D2(c,Math.pow(10,a)-1,!1),s=""+f,d=Cu("n",i[1],o[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),s+=d+i[2]+"/"+i[3],d=R2(o[2],a),d.length<i[4].length&&(d=Ua(i[4].substr(i[4].length-d.length))+d),s+=d,s;if(i=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(i[1].length,i[4].length),7),o=D2(c,Math.pow(10,a)-1,!0),f+(o[0]||(o[1]?"":"0"))+" "+(o[1]?SS(o[1],a)+i[2]+"/"+i[3]+R2(o[2],a):js(" ",2*a+1+i[2].length+i[3].length));if(i=e.match(/^[#0?]+$/))return s=""+n,e.length<=s.length?s:Ua(e.substr(0,e.length-s.length))+s;if(i=e.match(/^([#0]+)\.([#0]+)$/)){s=""+n.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),a=s.indexOf(".");var p=e.indexOf(".")-a,g=e.length-s.length-p;return Ua(e.substr(0,p)+s+e.substr(e.length-g))}if(i=e.match(/^00,000\.([#0]*0)$/))return n<0?"-"+Ec(t,e,-n):Vf(""+n).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(E){return"00,"+(E.length<3?Kl(0,3-E.length):"")+E})+"."+Kl(0,i[1].length);switch(e){case"###,###":case"##,###":case"#,###":var y=Vf(""+c);return y!=="0"?f+y:"";default:if(e.match(/\.[0#?]*$/))return Ec(t,e.slice(0,e.lastIndexOf(".")),n)+Ua(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function Cu(t,e,n){return(n|0)===n?Ec(t,e,n):ol(t,e,n)}function bfe(t){for(var e=[],n=!1,r=0,s=0;r<t.length;++r)switch(t.charCodeAt(r)){case 34:n=!n;break;case 95:case 42:case 92:++r;break;case 59:e[e.length]=t.substr(s,r-s),s=r+1}if(e[e.length]=t.substr(s),n===!0)throw new Error("Format |"+t+"| unterminated string ");return e}var g9=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Gp(t){for(var e=0,n="",r="";e<t.length;)switch(n=t.charAt(e)){case"G":P2(t,e)&&(e+=6),e++;break;case'"':for(;t.charCodeAt(++e)!==34&&e<t.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(t.charAt(e+1)==="1"||t.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(t.substr(e,3).toUpperCase()==="A/P"||t.substr(e,5).toUpperCase()==="AM/PM"||t.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(r=n;t.charAt(e++)!=="]"&&e<t.length;)r+=t.charAt(e);if(r.match(g9))return!0;break;case".":case"0":case"#":for(;e<t.length&&("0#?.,E+-%".indexOf(n=t.charAt(++e))>-1||n=="\\"&&t.charAt(e+1)=="-"&&"0#".indexOf(t.charAt(e+2))>-1););break;case"?":for(;t.charAt(++e)===n;);break;case"*":++e,(t.charAt(e)==" "||t.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<t.length&&"0123456789".indexOf(t.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function wfe(t,e,n,r){for(var s=[],i="",a=0,o="",c="t",f,d,p,g="H";a<t.length;)switch(o=t.charAt(a)){case"G":if(!P2(t,a))throw new Error("unrecognized character "+o+" in "+t);s[s.length]={t:"G",v:"General"},a+=7;break;case'"':for(i="";(p=t.charCodeAt(++a))!==34&&a<t.length;)i+=String.fromCharCode(p);s[s.length]={t:"t",v:i},++a;break;case"\\":var y=t.charAt(++a),E=y==="("||y===")"?y:"t";s[s.length]={t:E,v:y},++a;break;case"_":s[s.length]={t:"t",v:" "},a+=2;break;case"@":s[s.length]={t:"T",v:e},++a;break;case"B":case"b":if(t.charAt(a+1)==="1"||t.charAt(a+1)==="2"){if(f==null&&(f=qd(e,n,t.charAt(a+1)==="2"),f==null))return"";s[s.length]={t:"X",v:t.substr(a,2)},c=o,a+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||f==null&&(f=qd(e,n),f==null))return"";for(i=o;++a<t.length&&t.charAt(a).toLowerCase()===o;)i+=o;o==="m"&&c.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=g),s[s.length]={t:o,v:i},c=o;break;case"A":case"a":case"":var b={t:o,v:o};if(f==null&&(f=qd(e,n)),t.substr(a,3).toUpperCase()==="A/P"?(f!=null&&(b.v=f.H>=12?"P":"A"),b.t="T",g="h",a+=3):t.substr(a,5).toUpperCase()==="AM/PM"?(f!=null&&(b.v=f.H>=12?"PM":"AM"),b.t="T",a+=5,g="h"):t.substr(a,5).toUpperCase()==="/"?(f!=null&&(b.v=f.H>=12?"":""),b.t="T",a+=5,g="h"):(b.t="t",++a),f==null&&b.t==="T")return"";s[s.length]=b,c=o;break;case"[":for(i=o;t.charAt(a++)!=="]"&&a<t.length;)i+=t.charAt(a);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(g9)){if(f==null&&(f=qd(e,n),f==null))return"";s[s.length]={t:"Z",v:i.toLowerCase()},c=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",Gp(t)||(s[s.length]={t:"t",v:i}));break;case".":if(f!=null){for(i=o;++a<t.length&&(o=t.charAt(a))==="0";)i+=o;s[s.length]={t:"s",v:i};break}case"0":case"#":for(i=o;++a<t.length&&"0#?.,E+-%".indexOf(o=t.charAt(a))>-1;)i+=o;s[s.length]={t:"n",v:i};break;case"?":for(i=o;t.charAt(++a)===o;)i+=o;s[s.length]={t:o,v:i},c=o;break;case"*":++a,(t.charAt(a)==" "||t.charAt(a)=="*")&&++a;break;case"(":case")":s[s.length]={t:r===1?"t":o,v:o},++a;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=o;a<t.length&&"0123456789".indexOf(t.charAt(++a))>-1;)i+=t.charAt(a);s[s.length]={t:"D",v:i};break;case" ":s[s.length]={t:o,v:o},++a;break;case"$":s[s.length]={t:"t",v:"$"},++a;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+t);s[s.length]={t:"t",v:o},++a;break}var A=0,N=0,V;for(a=s.length-1,c="t";a>=0;--a)switch(s[a].t){case"h":case"H":s[a].t=g,c="h",A<1&&(A=1);break;case"s":(V=s[a].v.match(/\.0+$/))&&(N=Math.max(N,V[0].length-1)),A<3&&(A=3);case"d":case"y":case"M":case"e":c=s[a].t;break;case"m":c==="s"&&(s[a].t="M",A<2&&(A=2));break;case"X":break;case"Z":A<1&&s[a].v.match(/[Hh]/)&&(A=1),A<2&&s[a].v.match(/[Mm]/)&&(A=2),A<3&&s[a].v.match(/[Ss]/)&&(A=3)}switch(A){case 0:break;case 1:f.u>=.5&&(f.u=0,++f.S),f.S>=60&&(f.S=0,++f.M),f.M>=60&&(f.M=0,++f.H);break;case 2:f.u>=.5&&(f.u=0,++f.S),f.S>=60&&(f.S=0,++f.M);break}var k="",B;for(a=0;a<s.length;++a)switch(s[a].t){case"t":case"T":case" ":case"D":break;case"X":s[a].v="",s[a].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":s[a].v=dfe(s[a].t.charCodeAt(0),s[a].v,f,N),s[a].t="t";break;case"n":case"?":for(B=a+1;s[B]!=null&&((o=s[B].t)==="?"||o==="D"||(o===" "||o==="t")&&s[B+1]!=null&&(s[B+1].t==="?"||s[B+1].t==="t"&&s[B+1].v==="/")||s[a].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(s[B].v==="/"||s[B].v===" "&&s[B+1]!=null&&s[B+1].t=="?"));)s[a].v+=s[B].v,s[B]={v:"",t:";"},++B;k+=s[a].v,a=B-1;break;case"G":s[a].t="t",s[a].v=hh(e,n);break}var W="",K,D;if(k.length>0){k.charCodeAt(0)==40?(K=e<0&&k.charCodeAt(0)===45?-e:e,D=Cu("n",k,K)):(K=e<0&&r>1?-e:e,D=Cu("n",k,K),K<0&&s[0]&&s[0].t=="t"&&(D=D.substr(1),s[0].v="-"+s[0].v)),B=D.length-1;var L=s.length;for(a=0;a<s.length;++a)if(s[a]!=null&&s[a].t!="t"&&s[a].v.indexOf(".")>-1){L=a;break}var R=s.length;if(L===s.length&&D.indexOf("E")===-1){for(a=s.length-1;a>=0;--a)s[a]==null||"n?".indexOf(s[a].t)===-1||(B>=s[a].v.length-1?(B-=s[a].v.length,s[a].v=D.substr(B+1,s[a].v.length)):B<0?s[a].v="":(s[a].v=D.substr(0,B+1),B=-1),s[a].t="t",R=a);B>=0&&R<s.length&&(s[R].v=D.substr(0,B+1)+s[R].v)}else if(L!==s.length&&D.indexOf("E")===-1){for(B=D.indexOf(".")-1,a=L;a>=0;--a)if(!(s[a]==null||"n?".indexOf(s[a].t)===-1)){for(d=s[a].v.indexOf(".")>-1&&a===L?s[a].v.indexOf(".")-1:s[a].v.length-1,W=s[a].v.substr(d+1);d>=0;--d)B>=0&&(s[a].v.charAt(d)==="0"||s[a].v.charAt(d)==="#")&&(W=D.charAt(B--)+W);s[a].v=W,s[a].t="t",R=a}for(B>=0&&R<s.length&&(s[R].v=D.substr(0,B+1)+s[R].v),B=D.indexOf(".")+1,a=L;a<s.length;++a)if(!(s[a]==null||"n?(".indexOf(s[a].t)===-1&&a!==L)){for(d=s[a].v.indexOf(".")>-1&&a===L?s[a].v.indexOf(".")+1:0,W=s[a].v.substr(0,d);d<s[a].v.length;++d)B<D.length&&(W+=D.charAt(B++));s[a].v=W,s[a].t="t",R=a}}}for(a=0;a<s.length;++a)s[a]!=null&&"n?".indexOf(s[a].t)>-1&&(K=r>1&&e<0&&a>0&&s[a-1].v==="-"?-e:e,s[a].v=Cu(s[a].t,s[a].v,K),s[a].t="t");var q="";for(a=0;a!==s.length;++a)s[a]!=null&&(q+=s[a].v);return q}var vP=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function _P(t,e){if(e==null)return!1;var n=parseFloat(e[2]);switch(e[1]){case"=":if(t==n)return!0;break;case">":if(t>n)return!0;break;case"<":if(t<n)return!0;break;case"<>":if(t!=n)return!0;break;case">=":if(t>=n)return!0;break;case"<=":if(t<=n)return!0;break}return!1}function Tfe(t,e){var n=bfe(t),r=n.length,s=n[r-1].indexOf("@");if(r<4&&s>-1&&--r,n.length>4)throw new Error("cannot find right format for |"+n.join("|")+"|");if(typeof e!="number")return[4,n.length===4||s>-1?n[n.length-1]:"@"];switch(n.length){case 1:n=s>-1?["General","General","General",n[0]]:[n[0],n[0],n[0],"@"];break;case 2:n=s>-1?[n[0],n[0],n[0],n[1]]:[n[0],n[1],n[0],"@"];break;case 3:n=s>-1?[n[0],n[1],n[0],n[2]]:[n[0],n[1],n[2],"@"];break}var i=e>0?n[0]:e<0?n[1]:n[2];if(n[0].indexOf("[")===-1&&n[1].indexOf("[")===-1)return[r,i];if(n[0].match(/\[[=<>]/)!=null||n[1].match(/\[[=<>]/)!=null){var a=n[0].match(vP),o=n[1].match(vP);return _P(e,a)?[r,n[0]]:_P(e,o)?[r,n[1]]:[r,n[a!=null&&o!=null?2:1]]}return[r,i]}function xl(t,e,n){n==null&&(n={});var r="";switch(typeof t){case"string":t=="m/d/yy"&&n.dateNF?r=n.dateNF:r=t;break;case"number":t==14&&n.dateNF?r=n.dateNF:r=(n.table!=null?n.table:Gn)[t],r==null&&(r=n.table&&n.table[gP[t]]||Gn[gP[t]]),r==null&&(r=ife[t]||"General");break}if(P2(r,0))return hh(e,n);e instanceof Date&&(e=l9(e,n.date1904));var s=Tfe(r,e);if(P2(s[1]))return hh(e,n);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return wfe(s[1],e,n,s[0])}function Xd(t,e){if(typeof e!="number"){e=+e||-1;for(var n=0;n<392;++n){if(Gn[n]==null){e<0&&(e=n);continue}if(Gn[n]==t){e=n;break}}e<0&&(e=391)}return Gn[e]=t,e}function x9(){Gn=sfe()}var Efe={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},y9=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function Sfe(t){var e=typeof t=="number"?Gn[t]:t;return e=e.replace(y9,"(\\d+)"),new RegExp("^"+e+"$")}function Afe(t,e,n){var r=-1,s=-1,i=-1,a=-1,o=-1,c=-1;(e.match(y9)||[]).forEach(function(p,g){var y=parseInt(n[g+1],10);switch(p.toLowerCase().charAt(0)){case"y":r=y;break;case"d":i=y;break;case"h":a=y;break;case"s":c=y;break;case"m":a>=0?o=y:s=y;break}}),c>=0&&o==-1&&s>=0&&(o=s,s=-1);var f=(""+(r>=0?r:new Date().getFullYear())).slice(-4)+"-"+("00"+(s>=1?s:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);f.length==7&&(f="0"+f),f.length==8&&(f="20"+f);var d=("00"+(a>=0?a:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return a==-1&&o==-1&&c==-1?f:r==-1&&s==-1&&i==-1?d:f+"T"+d}var Cfe=(function(){var t={};t.version="1.2.0";function e(){for(var D=0,L=new Array(256),R=0;R!=256;++R)D=R,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,L[R]=D;return typeof Int32Array<"u"?new Int32Array(L):L}var n=e();function r(D){var L=0,R=0,q=0,P=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(q=0;q!=256;++q)P[q]=D[q];for(q=0;q!=256;++q)for(R=D[q],L=256+q;L<4096;L+=256)R=P[L]=R>>>8^D[R&255];var M=[];for(q=1;q!=16;++q)M[q-1]=typeof Int32Array<"u"?P.subarray(q*256,q*256+256):P.slice(q*256,q*256+256);return M}var s=r(n),i=s[0],a=s[1],o=s[2],c=s[3],f=s[4],d=s[5],p=s[6],g=s[7],y=s[8],E=s[9],b=s[10],A=s[11],N=s[12],V=s[13],k=s[14];function B(D,L){for(var R=L^-1,q=0,P=D.length;q<P;)R=R>>>8^n[(R^D.charCodeAt(q++))&255];return~R}function W(D,L){for(var R=L^-1,q=D.length-15,P=0;P<q;)R=k[D[P++]^R&255]^V[D[P++]^R>>8&255]^N[D[P++]^R>>16&255]^A[D[P++]^R>>>24]^b[D[P++]]^E[D[P++]]^y[D[P++]]^g[D[P++]]^p[D[P++]]^d[D[P++]]^f[D[P++]]^c[D[P++]]^o[D[P++]]^a[D[P++]]^i[D[P++]]^n[D[P++]];for(q+=15;P<q;)R=R>>>8^n[(R^D[P++])&255];return~R}function K(D,L){for(var R=L^-1,q=0,P=D.length,M=0,H=0;q<P;)M=D.charCodeAt(q++),M<128?R=R>>>8^n[(R^M)&255]:M<2048?(R=R>>>8^n[(R^(192|M>>6&31))&255],R=R>>>8^n[(R^(128|M&63))&255]):M>=55296&&M<57344?(M=(M&1023)+64,H=D.charCodeAt(q++)&1023,R=R>>>8^n[(R^(240|M>>8&7))&255],R=R>>>8^n[(R^(128|M>>2&63))&255],R=R>>>8^n[(R^(128|H>>6&15|(M&3)<<4))&255],R=R>>>8^n[(R^(128|H&63))&255]):(R=R>>>8^n[(R^(224|M>>12&15))&255],R=R>>>8^n[(R^(128|M>>6&63))&255],R=R>>>8^n[(R^(128|M&63))&255]);return~R}return t.table=n,t.bstr=B,t.buf=W,t.str=K,t})(),_r=(function(){var e={};e.version="1.2.1";function n(te,be){for(var he=te.split("/"),ge=be.split("/"),we=0,Ee=0,Ve=Math.min(he.length,ge.length);we<Ve;++we){if(Ee=he[we].length-ge[we].length)return Ee;if(he[we]!=ge[we])return he[we]<ge[we]?-1:1}return he.length-ge.length}function r(te){if(te.charAt(te.length-1)=="/")return te.slice(0,-1).indexOf("/")===-1?te:r(te.slice(0,-1));var be=te.lastIndexOf("/");return be===-1?te:te.slice(0,be+1)}function s(te){if(te.charAt(te.length-1)=="/")return s(te.slice(0,-1));var be=te.lastIndexOf("/");return be===-1?te:te.slice(be+1)}function i(te,be){typeof be=="string"&&(be=new Date(be));var he=be.getHours();he=he<<6|be.getMinutes(),he=he<<5|be.getSeconds()>>>1,te.write_shift(2,he);var ge=be.getFullYear()-1980;ge=ge<<4|be.getMonth()+1,ge=ge<<5|be.getDate(),te.write_shift(2,ge)}function a(te){var be=te.read_shift(2)&65535,he=te.read_shift(2)&65535,ge=new Date,we=he&31;he>>>=5;var Ee=he&15;he>>>=4,ge.setMilliseconds(0),ge.setFullYear(he+1980),ge.setMonth(Ee-1),ge.setDate(we);var Ve=be&31;be>>>=5;var rt=be&63;return be>>>=6,ge.setHours(be),ge.setMinutes(rt),ge.setSeconds(Ve<<1),ge}function o(te){ia(te,0);for(var be={},he=0;te.l<=te.length-4;){var ge=te.read_shift(2),we=te.read_shift(2),Ee=te.l+we,Ve={};switch(ge){case 21589:he=te.read_shift(1),he&1&&(Ve.mtime=te.read_shift(4)),we>5&&(he&2&&(Ve.atime=te.read_shift(4)),he&4&&(Ve.ctime=te.read_shift(4))),Ve.mtime&&(Ve.mt=new Date(Ve.mtime*1e3));break}te.l=Ee,be[ge]=Ve}return be}var c;function f(){return c||(c={})}function d(te,be){if(te[0]==80&&te[1]==75)return fn(te,be);if((te[0]|32)==109&&(te[1]|32)==105)return un(te,be);if(te.length<512)throw new Error("CFB file size "+te.length+" < 512");var he=3,ge=512,we=0,Ee=0,Ve=0,rt=0,Oe=0,He=[],Ke=te.slice(0,512);ia(Ke,0);var _t=p(Ke);switch(he=_t[0],he){case 3:ge=512;break;case 4:ge=4096;break;case 0:if(_t[1]==0)return fn(te,be);default:throw new Error("Major Version: Expected 3 or 4 saw "+he)}ge!==512&&(Ke=te.slice(0,ge),ia(Ke,28));var At=te.slice(0,ge);g(Ke,he);var Rt=Ke.read_shift(4,"i");if(he===3&&Rt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Rt);Ke.l+=4,Ve=Ke.read_shift(4,"i"),Ke.l+=4,Ke.chk("00100000","Mini Stream Cutoff Size: "),rt=Ke.read_shift(4,"i"),we=Ke.read_shift(4,"i"),Oe=Ke.read_shift(4,"i"),Ee=Ke.read_shift(4,"i");for(var bt=-1,kt=0;kt<109&&(bt=Ke.read_shift(4,"i"),!(bt<0));++kt)He[kt]=bt;var $t=y(te,ge);A(Oe,Ee,$t,ge,He);var mr=V($t,Ve,He,ge);mr[Ve].name="!Directory",we>0&&rt!==H&&(mr[rt].name="!MiniFAT"),mr[He[0]].name="!FAT",mr.fat_addrs=He,mr.ssz=ge;var zn={},wr=[],zs=[],Wi=[];k(Ve,mr,$t,wr,we,zn,zs,rt),E(zs,Wi,wr),wr.shift();var ca={FileIndex:zs,FullPaths:Wi};return be&&be.raw&&(ca.raw={header:At,sectors:$t}),ca}function p(te){if(te[te.l]==80&&te[te.l+1]==75)return[0,0];te.chk(ae,"Header Signature: "),te.l+=16;var be=te.read_shift(2,"u");return[te.read_shift(2,"u"),be]}function g(te,be){var he=9;switch(te.l+=2,he=te.read_shift(2)){case 9:if(be!=3)throw new Error("Sector Shift: Expected 9 saw "+he);break;case 12:if(be!=4)throw new Error("Sector Shift: Expected 12 saw "+he);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+he)}te.chk("0600","Mini Sector Shift: "),te.chk("000000000000","Reserved: ")}function y(te,be){for(var he=Math.ceil(te.length/be)-1,ge=[],we=1;we<he;++we)ge[we-1]=te.slice(we*be,(we+1)*be);return ge[he-1]=te.slice(he*be),ge}function E(te,be,he){for(var ge=0,we=0,Ee=0,Ve=0,rt=0,Oe=he.length,He=[],Ke=[];ge<Oe;++ge)He[ge]=Ke[ge]=ge,be[ge]=he[ge];for(;rt<Ke.length;++rt)ge=Ke[rt],we=te[ge].L,Ee=te[ge].R,Ve=te[ge].C,He[ge]===ge&&(we!==-1&&He[we]!==we&&(He[ge]=He[we]),Ee!==-1&&He[Ee]!==Ee&&(He[ge]=He[Ee])),Ve!==-1&&(He[Ve]=ge),we!==-1&&ge!=He[ge]&&(He[we]=He[ge],Ke.lastIndexOf(we)<rt&&Ke.push(we)),Ee!==-1&&ge!=He[ge]&&(He[Ee]=He[ge],Ke.lastIndexOf(Ee)<rt&&Ke.push(Ee));for(ge=1;ge<Oe;++ge)He[ge]===ge&&(Ee!==-1&&He[Ee]!==Ee?He[ge]=He[Ee]:we!==-1&&He[we]!==we&&(He[ge]=He[we]));for(ge=1;ge<Oe;++ge)if(te[ge].type!==0){if(rt=ge,rt!=He[rt])do rt=He[rt],be[ge]=be[rt]+"/"+be[ge];while(rt!==0&&He[rt]!==-1&&rt!=He[rt]);He[ge]=-1}for(be[0]+="/",ge=1;ge<Oe;++ge)te[ge].type!==2&&(be[ge]+="/")}function b(te,be,he){for(var ge=te.start,we=te.size,Ee=[],Ve=ge;he&&we>0&&Ve>=0;)Ee.push(be.slice(Ve*M,Ve*M+M)),we-=M,Ve=Bd(he,Ve*4);return Ee.length===0?Ei(0):Mf(Ee).slice(0,te.size)}function A(te,be,he,ge,we){var Ee=H;if(te===H){if(be!==0)throw new Error("DIFAT chain shorter than expected")}else if(te!==-1){var Ve=he[te],rt=(ge>>>2)-1;if(!Ve)return;for(var Oe=0;Oe<rt&&(Ee=Bd(Ve,Oe*4))!==H;++Oe)we.push(Ee);A(Bd(Ve,ge-4),be-1,he,ge,we)}}function N(te,be,he,ge,we){var Ee=[],Ve=[];we||(we=[]);var rt=ge-1,Oe=0,He=0;for(Oe=be;Oe>=0;){we[Oe]=!0,Ee[Ee.length]=Oe,Ve.push(te[Oe]);var Ke=he[Math.floor(Oe*4/ge)];if(He=Oe*4&rt,ge<4+He)throw new Error("FAT boundary crossed: "+Oe+" 4 "+ge);if(!te[Ke])break;Oe=Bd(te[Ke],He)}return{nodes:Ee,data:kP([Ve])}}function V(te,be,he,ge){var we=te.length,Ee=[],Ve=[],rt=[],Oe=[],He=ge-1,Ke=0,_t=0,At=0,Rt=0;for(Ke=0;Ke<we;++Ke)if(rt=[],At=Ke+be,At>=we&&(At-=we),!Ve[At]){Oe=[];var bt=[];for(_t=At;_t>=0;){bt[_t]=!0,Ve[_t]=!0,rt[rt.length]=_t,Oe.push(te[_t]);var kt=he[Math.floor(_t*4/ge)];if(Rt=_t*4&He,ge<4+Rt)throw new Error("FAT boundary crossed: "+_t+" 4 "+ge);if(!te[kt]||(_t=Bd(te[kt],Rt),bt[_t]))break}Ee[At]={nodes:rt,data:kP([Oe])}}return Ee}function k(te,be,he,ge,we,Ee,Ve,rt){for(var Oe=0,He=ge.length?2:0,Ke=be[te].data,_t=0,At=0,Rt;_t<Ke.length;_t+=128){var bt=Ke.slice(_t,_t+128);ia(bt,64),At=bt.read_shift(2),Rt=RS(bt,0,At-He),ge.push(Rt);var kt={name:Rt,type:bt.read_shift(1),color:bt.read_shift(1),L:bt.read_shift(4,"i"),R:bt.read_shift(4,"i"),C:bt.read_shift(4,"i"),clsid:bt.read_shift(16),state:bt.read_shift(4,"i"),start:0,size:0},$t=bt.read_shift(2)+bt.read_shift(2)+bt.read_shift(2)+bt.read_shift(2);$t!==0&&(kt.ct=B(bt,bt.l-8));var mr=bt.read_shift(2)+bt.read_shift(2)+bt.read_shift(2)+bt.read_shift(2);mr!==0&&(kt.mt=B(bt,bt.l-8)),kt.start=bt.read_shift(4,"i"),kt.size=bt.read_shift(4,"i"),kt.size<0&&kt.start<0&&(kt.size=kt.type=0,kt.start=H,kt.name=""),kt.type===5?(Oe=kt.start,we>0&&Oe!==H&&(be[Oe].name="!StreamData")):kt.size>=4096?(kt.storage="fat",be[kt.start]===void 0&&(be[kt.start]=N(he,kt.start,be.fat_addrs,be.ssz)),be[kt.start].name=kt.name,kt.content=be[kt.start].data.slice(0,kt.size)):(kt.storage="minifat",kt.size<0?kt.size=0:Oe!==H&&kt.start!==H&&be[Oe]&&(kt.content=b(kt,be[Oe].data,(be[rt]||{}).data))),kt.content&&ia(kt.content,0),Ee[Rt]=kt,Ve.push(kt)}}function B(te,be){return new Date((Fo(te,be+4)/1e7*Math.pow(2,32)+Fo(te,be)/1e7-11644473600)*1e3)}function W(te,be){return f(),d(c.readFileSync(te),be)}function K(te,be){var he=be&&be.type;switch(he||hr&&Buffer.isBuffer(te)&&(he="buffer"),he||"base64"){case"file":return W(te,be);case"base64":return d(Gl(jo(te)),be);case"binary":return d(Gl(te),be)}return d(te,be)}function D(te,be){var he=be||{},ge=he.root||"Root Entry";if(te.FullPaths||(te.FullPaths=[]),te.FileIndex||(te.FileIndex=[]),te.FullPaths.length!==te.FileIndex.length)throw new Error("inconsistent CFB structure");te.FullPaths.length===0&&(te.FullPaths[0]=ge+"/",te.FileIndex[0]={name:ge,type:5}),he.CLSID&&(te.FileIndex[0].clsid=he.CLSID),L(te)}function L(te){var be="Sh33tJ5";if(!_r.find(te,"/"+be)){var he=Ei(4);he[0]=55,he[1]=he[3]=50,he[2]=54,te.FileIndex.push({name:be,type:2,content:he,size:4,L:69,R:69,C:69}),te.FullPaths.push(te.FullPaths[0]+be),R(te)}}function R(te,be){D(te);for(var he=!1,ge=!1,we=te.FullPaths.length-1;we>=0;--we){var Ee=te.FileIndex[we];switch(Ee.type){case 0:ge?he=!0:(te.FileIndex.pop(),te.FullPaths.pop());break;case 1:case 2:case 5:ge=!0,isNaN(Ee.R*Ee.L*Ee.C)&&(he=!0),Ee.R>-1&&Ee.L>-1&&Ee.R==Ee.L&&(he=!0);break;default:he=!0;break}}if(!(!he&&!be)){var Ve=new Date(1987,1,19),rt=0,Oe=Object.create?Object.create(null):{},He=[];for(we=0;we<te.FullPaths.length;++we)Oe[te.FullPaths[we]]=!0,te.FileIndex[we].type!==0&&He.push([te.FullPaths[we],te.FileIndex[we]]);for(we=0;we<He.length;++we){var Ke=r(He[we][0]);ge=Oe[Ke],ge||(He.push([Ke,{name:s(Ke).replace("/",""),type:1,clsid:oe,ct:Ve,mt:Ve,content:null}]),Oe[Ke]=!0)}for(He.sort(function(Rt,bt){return n(Rt[0],bt[0])}),te.FullPaths=[],te.FileIndex=[],we=0;we<He.length;++we)te.FullPaths[we]=He[we][0],te.FileIndex[we]=He[we][1];for(we=0;we<He.length;++we){var _t=te.FileIndex[we],At=te.FullPaths[we];if(_t.name=s(At).replace("/",""),_t.L=_t.R=_t.C=-(_t.color=1),_t.size=_t.content?_t.content.length:0,_t.start=0,_t.clsid=_t.clsid||oe,we===0)_t.C=He.length>1?1:-1,_t.size=0,_t.type=5;else if(At.slice(-1)=="/"){for(rt=we+1;rt<He.length&&r(te.FullPaths[rt])!=At;++rt);for(_t.C=rt>=He.length?-1:rt,rt=we+1;rt<He.length&&r(te.FullPaths[rt])!=r(At);++rt);_t.R=rt>=He.length?-1:rt,_t.type=1}else r(te.FullPaths[we+1]||"")==r(At)&&(_t.R=we+1),_t.type=2}}}function q(te,be){var he=be||{};if(he.fileType=="mad")return Le(te,he);switch(R(te),he.fileType){case"zip":return cn(te,he)}var ge=(function(Rt){for(var bt=0,kt=0,$t=0;$t<Rt.FileIndex.length;++$t){var mr=Rt.FileIndex[$t];if(mr.content){var zn=mr.content.length;zn>0&&(zn<4096?bt+=zn+63>>6:kt+=zn+511>>9)}}for(var wr=Rt.FullPaths.length+3>>2,zs=bt+7>>3,Wi=bt+127>>7,ca=zs+kt+wr+Wi,Ri=ca+127>>7,bo=Ri<=109?0:Math.ceil((Ri-109)/127);ca+Ri+bo+127>>7>Ri;)bo=++Ri<=109?0:Math.ceil((Ri-109)/127);var Zr=[1,bo,Ri,Wi,wr,kt,bt,0];return Rt.FileIndex[0].size=bt<<6,Zr[7]=(Rt.FileIndex[0].start=Zr[0]+Zr[1]+Zr[2]+Zr[3]+Zr[4]+Zr[5])+(Zr[6]+7>>3),Zr})(te),we=Ei(ge[7]<<9),Ee=0,Ve=0;{for(Ee=0;Ee<8;++Ee)we.write_shift(1,Se[Ee]);for(Ee=0;Ee<8;++Ee)we.write_shift(2,0);for(we.write_shift(2,62),we.write_shift(2,3),we.write_shift(2,65534),we.write_shift(2,9),we.write_shift(2,6),Ee=0;Ee<3;++Ee)we.write_shift(2,0);for(we.write_shift(4,0),we.write_shift(4,ge[2]),we.write_shift(4,ge[0]+ge[1]+ge[2]+ge[3]-1),we.write_shift(4,0),we.write_shift(4,4096),we.write_shift(4,ge[3]?ge[0]+ge[1]+ge[2]-1:H),we.write_shift(4,ge[3]),we.write_shift(-4,ge[1]?ge[0]-1:H),we.write_shift(4,ge[1]),Ee=0;Ee<109;++Ee)we.write_shift(-4,Ee<ge[2]?ge[1]+Ee:-1)}if(ge[1])for(Ve=0;Ve<ge[1];++Ve){for(;Ee<236+Ve*127;++Ee)we.write_shift(-4,Ee<ge[2]?ge[1]+Ee:-1);we.write_shift(-4,Ve===ge[1]-1?H:Ve+1)}var rt=function(Rt){for(Ve+=Rt;Ee<Ve-1;++Ee)we.write_shift(-4,Ee+1);Rt&&(++Ee,we.write_shift(-4,H))};for(Ve=Ee=0,Ve+=ge[1];Ee<Ve;++Ee)we.write_shift(-4,ve.DIFSECT);for(Ve+=ge[2];Ee<Ve;++Ee)we.write_shift(-4,ve.FATSECT);rt(ge[3]),rt(ge[4]);for(var Oe=0,He=0,Ke=te.FileIndex[0];Oe<te.FileIndex.length;++Oe)Ke=te.FileIndex[Oe],Ke.content&&(He=Ke.content.length,!(He<4096)&&(Ke.start=Ve,rt(He+511>>9)));for(rt(ge[6]+7>>3);we.l&511;)we.write_shift(-4,ve.ENDOFCHAIN);for(Ve=Ee=0,Oe=0;Oe<te.FileIndex.length;++Oe)Ke=te.FileIndex[Oe],Ke.content&&(He=Ke.content.length,!(!He||He>=4096)&&(Ke.start=Ve,rt(He+63>>6)));for(;we.l&511;)we.write_shift(-4,ve.ENDOFCHAIN);for(Ee=0;Ee<ge[4]<<2;++Ee){var _t=te.FullPaths[Ee];if(!_t||_t.length===0){for(Oe=0;Oe<17;++Oe)we.write_shift(4,0);for(Oe=0;Oe<3;++Oe)we.write_shift(4,-1);for(Oe=0;Oe<12;++Oe)we.write_shift(4,0);continue}Ke=te.FileIndex[Ee],Ee===0&&(Ke.start=Ke.size?Ke.start-1:H);var At=Ee===0&&he.root||Ke.name;if(He=2*(At.length+1),we.write_shift(64,At,"utf16le"),we.write_shift(2,He),we.write_shift(1,Ke.type),we.write_shift(1,Ke.color),we.write_shift(-4,Ke.L),we.write_shift(-4,Ke.R),we.write_shift(-4,Ke.C),Ke.clsid)we.write_shift(16,Ke.clsid,"hex");else for(Oe=0;Oe<4;++Oe)we.write_shift(4,0);we.write_shift(4,Ke.state||0),we.write_shift(4,0),we.write_shift(4,0),we.write_shift(4,0),we.write_shift(4,0),we.write_shift(4,Ke.start),we.write_shift(4,Ke.size),we.write_shift(4,0)}for(Ee=1;Ee<te.FileIndex.length;++Ee)if(Ke=te.FileIndex[Ee],Ke.size>=4096)if(we.l=Ke.start+1<<9,hr&&Buffer.isBuffer(Ke.content))Ke.content.copy(we,we.l,0,Ke.size),we.l+=Ke.size+511&-512;else{for(Oe=0;Oe<Ke.size;++Oe)we.write_shift(1,Ke.content[Oe]);for(;Oe&511;++Oe)we.write_shift(1,0)}for(Ee=1;Ee<te.FileIndex.length;++Ee)if(Ke=te.FileIndex[Ee],Ke.size>0&&Ke.size<4096)if(hr&&Buffer.isBuffer(Ke.content))Ke.content.copy(we,we.l,0,Ke.size),we.l+=Ke.size+63&-64;else{for(Oe=0;Oe<Ke.size;++Oe)we.write_shift(1,Ke.content[Oe]);for(;Oe&63;++Oe)we.write_shift(1,0)}if(hr)we.l=we.length;else for(;we.l<we.length;)we.write_shift(1,0);return we}function P(te,be){var he=te.FullPaths.map(function(Oe){return Oe.toUpperCase()}),ge=he.map(function(Oe){var He=Oe.split("/");return He[He.length-(Oe.slice(-1)=="/"?2:1)]}),we=!1;be.charCodeAt(0)===47?(we=!0,be=he[0].slice(0,-1)+be):we=be.indexOf("/")!==-1;var Ee=be.toUpperCase(),Ve=we===!0?he.indexOf(Ee):ge.indexOf(Ee);if(Ve!==-1)return te.FileIndex[Ve];var rt=!Ee.match(Jm);for(Ee=Ee.replace(Wa,""),rt&&(Ee=Ee.replace(Jm,"!")),Ve=0;Ve<he.length;++Ve)if((rt?he[Ve].replace(Jm,"!"):he[Ve]).replace(Wa,"")==Ee||(rt?ge[Ve].replace(Jm,"!"):ge[Ve]).replace(Wa,"")==Ee)return te.FileIndex[Ve];return null}var M=64,H=-2,ae="d0cf11e0a1b11ae1",Se=[208,207,17,224,161,177,26,225],oe="00000000000000000000000000000000",ve={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:H,FREESECT:-1,HEADER_SIGNATURE:ae,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:oe,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function Ie(te,be,he){f();var ge=q(te,he);c.writeFileSync(be,ge)}function xe(te){for(var be=new Array(te.length),he=0;he<te.length;++he)be[he]=String.fromCharCode(te[he]);return be.join("")}function Re(te,be){var he=q(te,be);switch(be&&be.type||"buffer"){case"file":return f(),c.writeFileSync(be.filename,he),he;case"binary":return typeof he=="string"?he:xe(he);case"base64":return dP(typeof he=="string"?he:xe(he));case"buffer":if(hr)return Buffer.isBuffer(he)?he:Ch(he);case"array":return typeof he=="string"?Gl(he):he}return he}var re;function O(te){try{var be=te.InflateRaw,he=new be;if(he._processChunk(new Uint8Array([3,0]),he._finishFlushFlag),he.bytesRead)re=te;else throw new Error("zlib does not expose bytesRead")}catch(ge){console.error("cannot use native zlib: "+(ge.message||ge))}}function J(te,be){if(!re)return Jn(te,be);var he=re.InflateRaw,ge=new he,we=ge._processChunk(te.slice(te.l),ge._finishFlushFlag);return te.l+=ge.bytesRead,we}function U(te){return re?re.deflateRawSync(te):wt(te)}var Y=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ne=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],ye=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function pe(te){var be=(te<<1|te<<11)&139536|(te<<5|te<<15)&558144;return(be>>16|be>>8|be)&255}for(var ue=typeof Uint8Array<"u",Te=ue?new Uint8Array(256):[],je=0;je<256;++je)Te[je]=pe(je);function ce(te,be){var he=Te[te&255];return be<=8?he>>>8-be:(he=he<<8|Te[te>>8&255],be<=16?he>>>16-be:(he=he<<8|Te[te>>16&255],he>>>24-be))}function dt(te,be){var he=be&7,ge=be>>>3;return(te[ge]|(he<=6?0:te[ge+1]<<8))>>>he&3}function pt(te,be){var he=be&7,ge=be>>>3;return(te[ge]|(he<=5?0:te[ge+1]<<8))>>>he&7}function se(te,be){var he=be&7,ge=be>>>3;return(te[ge]|(he<=4?0:te[ge+1]<<8))>>>he&15}function nt(te,be){var he=be&7,ge=be>>>3;return(te[ge]|(he<=3?0:te[ge+1]<<8))>>>he&31}function it(te,be){var he=be&7,ge=be>>>3;return(te[ge]|(he<=1?0:te[ge+1]<<8))>>>he&127}function Pt(te,be,he){var ge=be&7,we=be>>>3,Ee=(1<<he)-1,Ve=te[we]>>>ge;return he<8-ge||(Ve|=te[we+1]<<8-ge,he<16-ge)||(Ve|=te[we+2]<<16-ge,he<24-ge)||(Ve|=te[we+3]<<24-ge),Ve&Ee}function tt(te,be,he){var ge=be&7,we=be>>>3;return ge<=5?te[we]|=(he&7)<<ge:(te[we]|=he<<ge&255,te[we+1]=(he&7)>>8-ge),be+3}function St(te,be,he){var ge=be&7,we=be>>>3;return he=(he&1)<<ge,te[we]|=he,be+1}function Ct(te,be,he){var ge=be&7,we=be>>>3;return he<<=ge,te[we]|=he&255,he>>>=8,te[we+1]=he,be+8}function Lt(te,be,he){var ge=be&7,we=be>>>3;return he<<=ge,te[we]|=he&255,he>>>=8,te[we+1]=he&255,te[we+2]=he>>>8,be+16}function jt(te,be){var he=te.length,ge=2*he>be?2*he:be+5,we=0;if(he>=be)return te;if(hr){var Ee=hP(ge);if(te.copy)te.copy(Ee);else for(;we<te.length;++we)Ee[we]=te[we];return Ee}else if(ue){var Ve=new Uint8Array(ge);if(Ve.set)Ve.set(te);else for(;we<he;++we)Ve[we]=te[we];return Ve}return te.length=ge,te}function Qt(te){for(var be=new Array(te),he=0;he<te;++he)be[he]=0;return be}function Zt(te,be,he){var ge=1,we=0,Ee=0,Ve=0,rt=0,Oe=te.length,He=ue?new Uint16Array(32):Qt(32);for(Ee=0;Ee<32;++Ee)He[Ee]=0;for(Ee=Oe;Ee<he;++Ee)te[Ee]=0;Oe=te.length;var Ke=ue?new Uint16Array(Oe):Qt(Oe);for(Ee=0;Ee<Oe;++Ee)He[we=te[Ee]]++,ge<we&&(ge=we),Ke[Ee]=0;for(He[0]=0,Ee=1;Ee<=ge;++Ee)He[Ee+16]=rt=rt+He[Ee-1]<<1;for(Ee=0;Ee<Oe;++Ee)rt=te[Ee],rt!=0&&(Ke[Ee]=He[rt+16]++);var _t=0;for(Ee=0;Ee<Oe;++Ee)if(_t=te[Ee],_t!=0)for(rt=ce(Ke[Ee],ge)>>ge-_t,Ve=(1<<ge+4-_t)-1;Ve>=0;--Ve)be[rt|Ve<<_t]=_t&15|Ee<<4;return ge}var on=ue?new Uint16Array(512):Qt(512),Sn=ue?new Uint16Array(32):Qt(32);if(!ue){for(var Bt=0;Bt<512;++Bt)on[Bt]=0;for(Bt=0;Bt<32;++Bt)Sn[Bt]=0}(function(){for(var te=[],be=0;be<32;be++)te.push(5);Zt(te,Sn,32);var he=[];for(be=0;be<=143;be++)he.push(8);for(;be<=255;be++)he.push(9);for(;be<=279;be++)he.push(7);for(;be<=287;be++)he.push(8);Zt(he,on,288)})();var vt=(function(){for(var be=ue?new Uint8Array(32768):[],he=0,ge=0;he<ye.length-1;++he)for(;ge<ye[he+1];++ge)be[ge]=he;for(;ge<32768;++ge)be[ge]=29;var we=ue?new Uint8Array(259):[];for(he=0,ge=0;he<ne.length-1;++he)for(;ge<ne[he+1];++ge)we[ge]=he;function Ee(rt,Oe){for(var He=0;He<rt.length;){var Ke=Math.min(65535,rt.length-He),_t=He+Ke==rt.length;for(Oe.write_shift(1,+_t),Oe.write_shift(2,Ke),Oe.write_shift(2,~Ke&65535);Ke-- >0;)Oe[Oe.l++]=rt[He++]}return Oe.l}function Ve(rt,Oe){for(var He=0,Ke=0,_t=ue?new Uint16Array(32768):[];Ke<rt.length;){var At=Math.min(65535,rt.length-Ke);if(At<10){for(He=tt(Oe,He,+(Ke+At==rt.length)),He&7&&(He+=8-(He&7)),Oe.l=He/8|0,Oe.write_shift(2,At),Oe.write_shift(2,~At&65535);At-- >0;)Oe[Oe.l++]=rt[Ke++];He=Oe.l*8;continue}He=tt(Oe,He,+(Ke+At==rt.length)+2);for(var Rt=0;At-- >0;){var bt=rt[Ke];Rt=(Rt<<5^bt)&32767;var kt=-1,$t=0;if((kt=_t[Rt])&&(kt|=Ke&-32768,kt>Ke&&(kt-=32768),kt<Ke))for(;rt[kt+$t]==rt[Ke+$t]&&$t<250;)++$t;if($t>2){bt=we[$t],bt<=22?He=Ct(Oe,He,Te[bt+1]>>1)-1:(Ct(Oe,He,3),He+=5,Ct(Oe,He,Te[bt-23]>>5),He+=3);var mr=bt<8?0:bt-4>>2;mr>0&&(Lt(Oe,He,$t-ne[bt]),He+=mr),bt=be[Ke-kt],He=Ct(Oe,He,Te[bt]>>3),He-=3;var zn=bt<4?0:bt-2>>1;zn>0&&(Lt(Oe,He,Ke-kt-ye[bt]),He+=zn);for(var wr=0;wr<$t;++wr)_t[Rt]=Ke&32767,Rt=(Rt<<5^rt[Ke])&32767,++Ke;At-=$t-1}else bt<=143?bt=bt+48:He=St(Oe,He,1),He=Ct(Oe,He,Te[bt]),_t[Rt]=Ke&32767,++Ke}He=Ct(Oe,He,0)-1}return Oe.l=(He+7)/8|0,Oe.l}return function(Oe,He){return Oe.length<8?Ee(Oe,He):Ve(Oe,He)}})();function wt(te){var be=Ei(50+Math.floor(te.length*1.1)),he=vt(te,be);return be.slice(0,he)}var Et=ue?new Uint16Array(32768):Qt(32768),Wn=ue?new Uint16Array(32768):Qt(32768),qt=ue?new Uint16Array(128):Qt(128),Gt=1,mn=1;function An(te,be){var he=nt(te,be)+257;be+=5;var ge=nt(te,be)+1;be+=5;var we=se(te,be)+4;be+=4;for(var Ee=0,Ve=ue?new Uint8Array(19):Qt(19),rt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Oe=1,He=ue?new Uint8Array(8):Qt(8),Ke=ue?new Uint8Array(8):Qt(8),_t=Ve.length,At=0;At<we;++At)Ve[Y[At]]=Ee=pt(te,be),Oe<Ee&&(Oe=Ee),He[Ee]++,be+=3;var Rt=0;for(He[0]=0,At=1;At<=Oe;++At)Ke[At]=Rt=Rt+He[At-1]<<1;for(At=0;At<_t;++At)(Rt=Ve[At])!=0&&(rt[At]=Ke[Rt]++);var bt=0;for(At=0;At<_t;++At)if(bt=Ve[At],bt!=0){Rt=Te[rt[At]]>>8-bt;for(var kt=(1<<7-bt)-1;kt>=0;--kt)qt[Rt|kt<<bt]=bt&7|At<<3}var $t=[];for(Oe=1;$t.length<he+ge;)switch(Rt=qt[it(te,be)],be+=Rt&7,Rt>>>=3){case 16:for(Ee=3+dt(te,be),be+=2,Rt=$t[$t.length-1];Ee-- >0;)$t.push(Rt);break;case 17:for(Ee=3+pt(te,be),be+=3;Ee-- >0;)$t.push(0);break;case 18:for(Ee=11+it(te,be),be+=7;Ee-- >0;)$t.push(0);break;default:$t.push(Rt),Oe<Rt&&(Oe=Rt);break}var mr=$t.slice(0,he),zn=$t.slice(he);for(At=he;At<286;++At)mr[At]=0;for(At=ge;At<30;++At)zn[At]=0;return Gt=Zt(mr,Et,286),mn=Zt(zn,Wn,30),be}function ln(te,be){if(te[0]==3&&!(te[1]&3))return[ed(be),2];for(var he=0,ge=0,we=hP(be||1<<18),Ee=0,Ve=we.length>>>0,rt=0,Oe=0;(ge&1)==0;){if(ge=pt(te,he),he+=3,ge>>>1)ge>>1==1?(rt=9,Oe=5):(he=An(te,he),rt=Gt,Oe=mn);else{he&7&&(he+=8-(he&7));var He=te[he>>>3]|te[(he>>>3)+1]<<8;if(he+=32,He>0)for(!be&&Ve<Ee+He&&(we=jt(we,Ee+He),Ve=we.length);He-- >0;)we[Ee++]=te[he>>>3],he+=8;continue}for(;;){!be&&Ve<Ee+32767&&(we=jt(we,Ee+32767),Ve=we.length);var Ke=Pt(te,he,rt),_t=ge>>>1==1?on[Ke]:Et[Ke];if(he+=_t&15,_t>>>=4,(_t>>>8&255)===0)we[Ee++]=_t;else{if(_t==256)break;_t-=257;var At=_t<8?0:_t-4>>2;At>5&&(At=0);var Rt=Ee+ne[_t];At>0&&(Rt+=Pt(te,he,At),he+=At),Ke=Pt(te,he,Oe),_t=ge>>>1==1?Sn[Ke]:Wn[Ke],he+=_t&15,_t>>>=4;var bt=_t<4?0:_t-2>>1,kt=ye[_t];for(bt>0&&(kt+=Pt(te,he,bt),he+=bt),!be&&Ve<Rt&&(we=jt(we,Rt+100),Ve=we.length);Ee<Rt;)we[Ee]=we[Ee-kt],++Ee}}}return be?[we,he+7>>>3]:[we.slice(0,Ee),he+7>>>3]}function Jn(te,be){var he=te.slice(te.l||0),ge=ln(he,be);return te.l+=ge[1],ge[0]}function pn(te,be){if(te)typeof console<"u"&&console.error(be);else throw new Error(be)}function fn(te,be){var he=te;ia(he,0);var ge=[],we=[],Ee={FileIndex:ge,FullPaths:we};D(Ee,{root:be.root});for(var Ve=he.length-4;(he[Ve]!=80||he[Ve+1]!=75||he[Ve+2]!=5||he[Ve+3]!=6)&&Ve>=0;)--Ve;he.l=Ve+4,he.l+=4;var rt=he.read_shift(2);he.l+=6;var Oe=he.read_shift(4);for(he.l=Oe,Ve=0;Ve<rt;++Ve){he.l+=20;var He=he.read_shift(4),Ke=he.read_shift(4),_t=he.read_shift(2),At=he.read_shift(2),Rt=he.read_shift(2);he.l+=8;var bt=he.read_shift(4),kt=o(he.slice(he.l+_t,he.l+_t+At));he.l+=_t+At+Rt;var $t=he.l;he.l=bt+4,ar(he,He,Ke,Ee,kt),he.l=$t}return Ee}function ar(te,be,he,ge,we){te.l+=2;var Ee=te.read_shift(2),Ve=te.read_shift(2),rt=a(te);if(Ee&8257)throw new Error("Unsupported ZIP encryption");for(var Oe=te.read_shift(4),He=te.read_shift(4),Ke=te.read_shift(4),_t=te.read_shift(2),At=te.read_shift(2),Rt="",bt=0;bt<_t;++bt)Rt+=String.fromCharCode(te[te.l++]);if(At){var kt=o(te.slice(te.l,te.l+At));(kt[21589]||{}).mt&&(rt=kt[21589].mt),((we||{})[21589]||{}).mt&&(rt=we[21589].mt)}te.l+=At;var $t=te.slice(te.l,te.l+He);switch(Ve){case 8:$t=J(te,Ke);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Ve)}var mr=!1;Ee&8&&(Oe=te.read_shift(4),Oe==134695760&&(Oe=te.read_shift(4),mr=!0),He=te.read_shift(4),Ke=te.read_shift(4)),He!=be&&pn(mr,"Bad compressed size: "+be+" != "+He),Ke!=he&&pn(mr,"Bad uncompressed size: "+he+" != "+Ke),Vt(ge,Rt,$t,{unsafe:!0,mt:rt})}function cn(te,be){var he=be||{},ge=[],we=[],Ee=Ei(1),Ve=he.compression?8:0,rt=0,Oe=0,He=0,Ke=0,_t=0,At=te.FullPaths[0],Rt=At,bt=te.FileIndex[0],kt=[],$t=0;for(Oe=1;Oe<te.FullPaths.length;++Oe)if(Rt=te.FullPaths[Oe].slice(At.length),bt=te.FileIndex[Oe],!(!bt.size||!bt.content||Rt=="Sh33tJ5")){var mr=Ke,zn=Ei(Rt.length);for(He=0;He<Rt.length;++He)zn.write_shift(1,Rt.charCodeAt(He)&127);zn=zn.slice(0,zn.l),kt[_t]=Cfe.buf(bt.content,0);var wr=bt.content;Ve==8&&(wr=U(wr)),Ee=Ei(30),Ee.write_shift(4,67324752),Ee.write_shift(2,20),Ee.write_shift(2,rt),Ee.write_shift(2,Ve),bt.mt?i(Ee,bt.mt):Ee.write_shift(4,0),Ee.write_shift(-4,kt[_t]),Ee.write_shift(4,wr.length),Ee.write_shift(4,bt.content.length),Ee.write_shift(2,zn.length),Ee.write_shift(2,0),Ke+=Ee.length,ge.push(Ee),Ke+=zn.length,ge.push(zn),Ke+=wr.length,ge.push(wr),Ee=Ei(46),Ee.write_shift(4,33639248),Ee.write_shift(2,0),Ee.write_shift(2,20),Ee.write_shift(2,rt),Ee.write_shift(2,Ve),Ee.write_shift(4,0),Ee.write_shift(-4,kt[_t]),Ee.write_shift(4,wr.length),Ee.write_shift(4,bt.content.length),Ee.write_shift(2,zn.length),Ee.write_shift(2,0),Ee.write_shift(2,0),Ee.write_shift(2,0),Ee.write_shift(2,0),Ee.write_shift(4,0),Ee.write_shift(4,mr),$t+=Ee.l,we.push(Ee),$t+=zn.length,we.push(zn),++_t}return Ee=Ei(22),Ee.write_shift(4,101010256),Ee.write_shift(2,0),Ee.write_shift(2,0),Ee.write_shift(2,_t),Ee.write_shift(2,_t),Ee.write_shift(4,$t),Ee.write_shift(4,Ke),Ee.write_shift(2,0),Mf([Mf(ge),Mf(we),Ee])}var Wt={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Ln(te,be){if(te.ctype)return te.ctype;var he=te.name||"",ge=he.match(/\.([^\.]+)$/);return ge&&Wt[ge[1]]||be&&(ge=(he=be).match(/[\.\\]([^\.\\])+$/),ge&&Wt[ge[1]])?Wt[ge[1]]:"application/octet-stream"}function as(te){for(var be=dP(te),he=[],ge=0;ge<be.length;ge+=76)he.push(be.slice(ge,ge+76));return he.join(`\r
`)+`\r
`}function os(te){var be=te.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(He){var Ke=He.charCodeAt(0).toString(16).toUpperCase();return"="+(Ke.length==1?"0"+Ke:Ke)});be=be.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),be.charAt(0)==`
`&&(be="=0D"+be.slice(1)),be=be.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var he=[],ge=be.split(`\r
`),we=0;we<ge.length;++we){var Ee=ge[we];if(Ee.length==0){he.push("");continue}for(var Ve=0;Ve<Ee.length;){var rt=76,Oe=Ee.slice(Ve,Ve+rt);Oe.charAt(rt-1)=="="?rt--:Oe.charAt(rt-2)=="="?rt-=2:Oe.charAt(rt-3)=="="&&(rt-=3),Oe=Ee.slice(Ve,Ve+rt),Ve+=rt,Ve<Ee.length&&(Oe+="="),he.push(Oe)}}return he.join(`\r
`)}function ki(te){for(var be=[],he=0;he<te.length;++he){for(var ge=te[he];he<=te.length&&ge.charAt(ge.length-1)=="=";)ge=ge.slice(0,ge.length-1)+te[++he];be.push(ge)}for(var we=0;we<be.length;++we)be[we]=be[we].replace(/[=][0-9A-Fa-f]{2}/g,function(Ee){return String.fromCharCode(parseInt(Ee.slice(1),16))});return Gl(be.join(`\r
`))}function Hr(te,be,he){for(var ge="",we="",Ee="",Ve,rt=0;rt<10;++rt){var Oe=be[rt];if(!Oe||Oe.match(/^\s*$/))break;var He=Oe.match(/^(.*?):\s*([^\s].*)$/);if(He)switch(He[1].toLowerCase()){case"content-location":ge=He[2].trim();break;case"content-type":Ee=He[2].trim();break;case"content-transfer-encoding":we=He[2].trim();break}}switch(++rt,we.toLowerCase()){case"base64":Ve=Gl(jo(be.slice(rt).join("")));break;case"quoted-printable":Ve=ki(be.slice(rt));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+we)}var Ke=Vt(te,ge.slice(he.length),Ve,{unsafe:!0});Ee&&(Ke.ctype=Ee)}function un(te,be){if(xe(te.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var he=be&&be.root||"",ge=(hr&&Buffer.isBuffer(te)?te.toString("binary"):xe(te)).split(`\r
`),we=0,Ee="";for(we=0;we<ge.length;++we)if(Ee=ge[we],!!/^Content-Location:/i.test(Ee)&&(Ee=Ee.slice(Ee.indexOf("file")),he||(he=Ee.slice(0,Ee.lastIndexOf("/")+1)),Ee.slice(0,he.length)!=he))for(;he.length>0&&(he=he.slice(0,he.length-1),he=he.slice(0,he.lastIndexOf("/")+1),Ee.slice(0,he.length)!=he););var Ve=(ge[1]||"").match(/boundary="(.*?)"/);if(!Ve)throw new Error("MAD cannot find boundary");var rt="--"+(Ve[1]||""),Oe=[],He=[],Ke={FileIndex:Oe,FullPaths:He};D(Ke);var _t,At=0;for(we=0;we<ge.length;++we){var Rt=ge[we];Rt!==rt&&Rt!==rt+"--"||(At++&&Hr(Ke,ge.slice(_t,we),he),_t=we)}return Ke}function Le(te,be){var he=be||{},ge=he.boundary||"SheetJS";ge="------="+ge;for(var we=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+ge.slice(2)+'"',"","",""],Ee=te.FullPaths[0],Ve=Ee,rt=te.FileIndex[0],Oe=1;Oe<te.FullPaths.length;++Oe)if(Ve=te.FullPaths[Oe].slice(Ee.length),rt=te.FileIndex[Oe],!(!rt.size||!rt.content||Ve=="Sh33tJ5")){Ve=Ve.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function($t){return"_x"+$t.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function($t){return"_u"+$t.charCodeAt(0).toString(16)+"_"});for(var He=rt.content,Ke=hr&&Buffer.isBuffer(He)?He.toString("binary"):xe(He),_t=0,At=Math.min(1024,Ke.length),Rt=0,bt=0;bt<=At;++bt)(Rt=Ke.charCodeAt(bt))>=32&&Rt<128&&++_t;var kt=_t>=At*4/5;we.push(ge),we.push("Content-Location: "+(he.root||"file:///C:/SheetJS/")+Ve),we.push("Content-Transfer-Encoding: "+(kt?"quoted-printable":"base64")),we.push("Content-Type: "+Ln(rt,Ve)),we.push(""),we.push(kt?os(Ke):as(Ke))}return we.push(ge+`--\r
`),we.join(`\r
`)}function Dt(te){var be={};return D(be,te),be}function Vt(te,be,he,ge){var we=ge&&ge.unsafe;we||D(te);var Ee=!we&&_r.find(te,be);if(!Ee){var Ve=te.FullPaths[0];be.slice(0,Ve.length)==Ve?Ve=be:(Ve.slice(-1)!="/"&&(Ve+="/"),Ve=(Ve+be).replace("//","/")),Ee={name:s(be),type:2},te.FileIndex.push(Ee),te.FullPaths.push(Ve),we||_r.utils.cfb_gc(te)}return Ee.content=he,Ee.size=he?he.length:0,ge&&(ge.CLSID&&(Ee.clsid=ge.CLSID),ge.mt&&(Ee.mt=ge.mt),ge.ct&&(Ee.ct=ge.ct)),Ee}function $n(te,be){D(te);var he=_r.find(te,be);if(he){for(var ge=0;ge<te.FileIndex.length;++ge)if(te.FileIndex[ge]==he)return te.FileIndex.splice(ge,1),te.FullPaths.splice(ge,1),!0}return!1}function Yt(te,be,he){D(te);var ge=_r.find(te,be);if(ge){for(var we=0;we<te.FileIndex.length;++we)if(te.FileIndex[we]==ge)return te.FileIndex[we].name=s(he),te.FullPaths[we]=he,!0}return!1}function qn(te){R(te,!0)}return e.find=P,e.read=K,e.parse=d,e.write=Re,e.writeFile=Ie,e.utils={cfb_new:Dt,cfb_add:Vt,cfb_del:$n,cfb_mov:Yt,cfb_gc:qn,ReadShift:_g,CheckField:U9,prep_blob:ia,bconcat:Mf,use_zlib:O,_deflateRaw:wt,_inflateRaw:Jn,consts:ve},e})();function Nfe(t){if(typeof Deno<"u")return Deno.readFileSync(t);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var e=File(t);e.open("r"),e.encoding="binary";var n=e.read();return e.close(),n}catch(r){if(!r.message||!r.message.match(/onstruct/))throw r}throw new Error("Cannot access file "+t)}function jc(t){for(var e=Object.keys(t),n=[],r=0;r<e.length;++r)Object.prototype.hasOwnProperty.call(t,e[r])&&n.push(e[r]);return n}function CS(t){for(var e=[],n=jc(t),r=0;r!==n.length;++r)e[t[n[r]]]=n[r];return e}var M2=new Date(1899,11,30,0,0,0);function $a(t,e){var n=t.getTime(),r=M2.getTime()+(t.getTimezoneOffset()-M2.getTimezoneOffset())*6e4;return(n-r)/(1440*60*1e3)}var v9=new Date,Ife=M2.getTime()+(v9.getTimezoneOffset()-M2.getTimezoneOffset())*6e4,bP=v9.getTimezoneOffset();function Iv(t){var e=new Date;return e.setTime(t*24*60*60*1e3+Ife),e.getTimezoneOffset()!==bP&&e.setTime(e.getTime()+(e.getTimezoneOffset()-bP)*6e4),e}function kfe(t){var e=0,n=0,r=!1,s=t.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!s)throw new Error("|"+t+"| is not an ISO8601 Duration");for(var i=1;i!=s.length;++i)if(s[i]){switch(n=1,i>3&&(r=!0),s[i].slice(s[i].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+s[i].slice(s[i].length-1));case"D":n*=24;case"H":n*=60;case"M":if(r)n*=60;else throw new Error("Unsupported ISO Duration Field: M")}e+=n*parseInt(s[i],10)}return e}var wP=new Date("2017-02-19T19:06:09.000Z"),_9=isNaN(wP.getFullYear())?new Date("2/19/17"):wP,Rfe=_9.getFullYear()==2017;function zi(t,e){var n=new Date(t);if(Rfe)return e>0?n.setTime(n.getTime()+n.getTimezoneOffset()*60*1e3):e<0&&n.setTime(n.getTime()-n.getTimezoneOffset()*60*1e3),n;if(t instanceof Date)return t;if(_9.getFullYear()==1917&&!isNaN(n.getFullYear())){var r=n.getFullYear();return t.indexOf(""+r)>-1||n.setFullYear(n.getFullYear()+100),n}var s=t.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+s[0],+s[1]-1,+s[2],+s[3]||0,+s[4]||0,+s[5]||0);return t.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function ph(t,e){if(hr&&Buffer.isBuffer(t)){if(e){if(t[0]==255&&t[1]==254)return Zm(t.slice(2).toString("utf16le"));if(t[1]==254&&t[2]==255)return Zm(a9(t.slice(2).toString("binary")))}return t.toString("binary")}if(typeof TextDecoder<"u")try{if(e){if(t[0]==255&&t[1]==254)return Zm(new TextDecoder("utf-16le").decode(t.slice(2)));if(t[0]==254&&t[1]==255)return Zm(new TextDecoder("utf-16be").decode(t.slice(2)))}var n={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[]/g,function(i){return n[i]||i})}catch{}for(var r=[],s=0;s!=t.length;++s)r.push(String.fromCharCode(t[s]));return r.join("")}function oa(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=oa(t[n]));return e}function js(t,e){for(var n="";n.length<e;)n+=t;return n}function Yl(t){var e=Number(t);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(t))return e;var n=1,r=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return n*=100,""});return!isNaN(e=Number(r))||(r=r.replace(/[(](.*)[)]/,function(s,i){return n=-n,i}),!isNaN(e=Number(r)))?e/n:e}var Pfe=["january","february","march","april","may","june","july","august","september","october","november","december"];function Np(t){var e=new Date(t),n=new Date(NaN),r=e.getYear(),s=e.getMonth(),i=e.getDate();if(isNaN(i))return n;var a=t.toLowerCase();if(a.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(a=a.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),a.length>3&&Pfe.indexOf(a)==-1)return n}else if(a.match(/[a-z]/))return n;return r<0||r>8099?n:(s>0||i>1)&&r!=101?e:t.match(/[^-0-9:,\/\\]/)?n:e}var Dfe=(function(){var t="abacaba".split(/(:?b)/i).length==5;return function(n,r,s){if(t||typeof r=="string")return n.split(r);for(var i=n.split(r),a=[i[0]],o=1;o<i.length;++o)a.push(s),a.push(i[o]);return a}})();function b9(t){return t?t.content&&t.type?ph(t.content,!0):t.data?Xm(t.data):t.asNodeBuffer&&hr?Xm(t.asNodeBuffer().toString("binary")):t.asBinary?Xm(t.asBinary()):t._data&&t._data.getContent?Xm(ph(Array.prototype.slice.call(t._data.getContent(),0))):null:null}function w9(t){if(!t)return null;if(t.data)return uP(t.data);if(t.asNodeBuffer&&hr)return t.asNodeBuffer();if(t._data&&t._data.getContent){var e=t._data.getContent();return typeof e=="string"?uP(e):Array.prototype.slice.call(e)}return t.content&&t.type?t.content:null}function Mfe(t){return t&&t.name.slice(-4)===".bin"?w9(t):b9(t)}function cl(t,e){for(var n=t.FullPaths||jc(t.files),r=e.toLowerCase().replace(/[\/]/g,"\\"),s=r.replace(/\\/g,"/"),i=0;i<n.length;++i){var a=n[i].replace(/^Root Entry[\/]/,"").toLowerCase();if(r==a||s==a)return t.files?t.files[n[i]]:t.FileIndex[i]}return null}function NS(t,e){var n=cl(t,e);if(n==null)throw new Error("Cannot find file "+e+" in zip");return n}function li(t,e,n){if(!n)return Mfe(NS(t,e));if(!e)return null;try{return li(t,e)}catch{return null}}function Oo(t,e,n){if(!n)return b9(NS(t,e));if(!e)return null;try{return Oo(t,e)}catch{return null}}function Lfe(t,e,n){return w9(NS(t,e))}function TP(t){for(var e=t.FullPaths||jc(t.files),n=[],r=0;r<e.length;++r)e[r].slice(-1)!="/"&&n.push(e[r].replace(/^Root Entry[\/]/,""));return n.sort()}function Ffe(t,e,n){if(t.FullPaths){if(typeof n=="string"){var r;return hr?r=Ch(n):r=tfe(n),_r.utils.cfb_add(t,e,r)}_r.utils.cfb_add(t,e,n)}else t.file(e,n)}function T9(t,e){switch(e.type){case"base64":return _r.read(t,{type:"base64"});case"binary":return _r.read(t,{type:"binary"});case"buffer":case"array":return _r.read(t,{type:"buffer"})}throw new Error("Unrecognized type "+e.type)}function Qm(t,e){if(t.charAt(0)=="/")return t.slice(1);var n=e.split("/");e.slice(-1)!="/"&&n.pop();for(var r=t.split("/");r.length!==0;){var s=r.shift();s===".."?n.pop():s!=="."&&n.push(s)}return n.join("/")}var E9=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,Ofe=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,EP=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,Bfe=/<[^>]*>/g,Ra=E9.match(EP)?EP:Bfe,Vfe=/<\w*:/,Ufe=/<(\/?)\w+:/;function Rn(t,e,n){for(var r={},s=0,i=0;s!==t.length&&!((i=t.charCodeAt(s))===32||i===10||i===13);++s);if(e||(r[0]=t.slice(0,s)),s===t.length)return r;var a=t.match(Ofe),o=0,c="",f=0,d="",p="",g=1;if(a)for(f=0;f!=a.length;++f){for(p=a[f],i=0;i!=p.length&&p.charCodeAt(i)!==61;++i);for(d=p.slice(0,i).trim();p.charCodeAt(i+1)==32;)++i;for(g=(s=p.charCodeAt(i+1))==34||s==39?1:0,c=p.slice(i+1+g,p.length-g),o=0;o!=d.length&&d.charCodeAt(o)!==58;++o);if(o===d.length)d.indexOf("_")>0&&(d=d.slice(0,d.indexOf("_"))),r[d]=c,r[d.toLowerCase()]=c;else{var y=(o===5&&d.slice(0,5)==="xmlns"?"xmlns":"")+d.slice(o+1);if(r[y]&&d.slice(o-3,o)=="ext")continue;r[y]=c,r[y.toLowerCase()]=c}}return r}function Hc(t){return t.replace(Ufe,"<$1")}var S9={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},jfe=CS(S9),Sr=(function(){var t=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,e=/_x([\da-fA-F]{4})_/ig;return function n(r){var s=r+"",i=s.indexOf("<![CDATA[");if(i==-1)return s.replace(t,function(o,c){return S9[o]||String.fromCharCode(parseInt(c,o.indexOf("x")>-1?16:10))||o}).replace(e,function(o,c){return String.fromCharCode(parseInt(c,16))});var a=s.indexOf("]]>");return n(s.slice(0,i))+s.slice(i+9,a)+n(s.slice(a+3))}})(),qfe=/[&<>'"]/g,Hfe=/[\u0000-\u001f]/g;function IS(t){var e=t+"";return e.replace(qfe,function(n){return jfe[n]}).replace(/\n/g,"<br/>").replace(Hfe,function(n){return"&#x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+";"})}var SP=(function(){var t=/&#(\d+);/g;function e(n,r){return String.fromCharCode(parseInt(r,10))}return function(r){return r.replace(t,e)}})();function ws(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function Tw(t){for(var e="",n=0,r=0,s=0,i=0,a=0,o=0;n<t.length;){if(r=t.charCodeAt(n++),r<128){e+=String.fromCharCode(r);continue}if(s=t.charCodeAt(n++),r>191&&r<224){a=(r&31)<<6,a|=s&63,e+=String.fromCharCode(a);continue}if(i=t.charCodeAt(n++),r<240){e+=String.fromCharCode((r&15)<<12|(s&63)<<6|i&63);continue}a=t.charCodeAt(n++),o=((r&7)<<18|(s&63)<<12|(i&63)<<6|a&63)-65536,e+=String.fromCharCode(55296+(o>>>10&1023)),e+=String.fromCharCode(56320+(o&1023))}return e}function AP(t){var e=ed(2*t.length),n,r,s=1,i=0,a=0,o;for(r=0;r<t.length;r+=s)s=1,(o=t.charCodeAt(r))<128?n=o:o<224?(n=(o&31)*64+(t.charCodeAt(r+1)&63),s=2):o<240?(n=(o&15)*4096+(t.charCodeAt(r+1)&63)*64+(t.charCodeAt(r+2)&63),s=3):(s=4,n=(o&7)*262144+(t.charCodeAt(r+1)&63)*4096+(t.charCodeAt(r+2)&63)*64+(t.charCodeAt(r+3)&63),n-=65536,a=55296+(n>>>10&1023),n=56320+(n&1023)),a!==0&&(e[i++]=a&255,e[i++]=a>>>8,a=0),e[i++]=n%256,e[i++]=n>>>8;return e.slice(0,i).toString("ucs2")}function CP(t){return Ch(t,"binary").toString("utf8")}var ry="foo bar baz",is=hr&&(CP(ry)==Tw(ry)&&CP||AP(ry)==Tw(ry)&&AP)||Tw,Zm=hr?function(t){return Ch(t,"utf8").toString("binary")}:function(t){for(var e=[],n=0,r=0,s=0;n<t.length;)switch(r=t.charCodeAt(n++),!0){case r<128:e.push(String.fromCharCode(r));break;case r<2048:e.push(String.fromCharCode(192+(r>>6))),e.push(String.fromCharCode(128+(r&63)));break;case(r>=55296&&r<57344):r-=55296,s=t.charCodeAt(n++)-56320+(r<<10),e.push(String.fromCharCode(240+(s>>18&7))),e.push(String.fromCharCode(144+(s>>12&63))),e.push(String.fromCharCode(128+(s>>6&63))),e.push(String.fromCharCode(128+(s&63)));break;default:e.push(String.fromCharCode(224+(r>>12))),e.push(String.fromCharCode(128+(r>>6&63))),e.push(String.fromCharCode(128+(r&63)))}return e.join("")},r1=(function(){var t={};return function(n,r){var s=n+"|"+(r||"");return t[s]?t[s]:t[s]=new RegExp("<(?:\\w+:)?"+n+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+n+">",r||"")}})(),A9=(function(){var t=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(n){for(var r=n.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),s=0;s<t.length;++s)r=r.replace(t[s][0],t[s][1]);return r}})(),zfe=(function(){var t={};return function(n){return t[n]!==void 0?t[n]:t[n]=new RegExp("<(?:vt:)?"+n+">([\\s\\S]*?)</(?:vt:)?"+n+">","g")}})(),Gfe=/<\/?(?:vt:)?variant>/g,Wfe=/<(?:vt:)([^>]*)>([\s\S]*)</;function NP(t,e){var n=Rn(t),r=t.match(zfe(n.baseType))||[],s=[];if(r.length!=n.size){if(e.WTF)throw new Error("unexpected vector length "+r.length+" != "+n.size);return s}return r.forEach(function(i){var a=i.replace(Gfe,"").match(Wfe);a&&s.push({v:is(a[2]),t:a[1]})}),s}var $fe=/(^\s|\s$|\n)/;function Kfe(t){return jc(t).map(function(e){return" "+e+'="'+t[e]+'"'}).join("")}function Yfe(t,e,n){return"<"+t+(n!=null?Kfe(n):"")+(e!=null?(e.match($fe)?' xml:space="preserve"':"")+">"+e+"</"+t:"/")+">"}function kS(t){if(hr&&Buffer.isBuffer(t))return t.toString("utf8");if(typeof t=="string")return t;if(typeof Uint8Array<"u"&&t instanceof Uint8Array)return is(Nh(ES(t)));throw new Error("Bad input format: expected Buffer or string")}var s1=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,Xfe={CT:"http://schemas.openxmlformats.org/package/2006/content-types"},Jfe=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function Qfe(t,e){for(var n=1-2*(t[e+7]>>>7),r=((t[e+7]&127)<<4)+(t[e+6]>>>4&15),s=t[e+6]&15,i=5;i>=0;--i)s=s*256+t[e+i];return r==2047?s==0?n*(1/0):NaN:(r==0?r=-1022:(r-=1023,s+=Math.pow(2,52)),n*Math.pow(2,r-52)*s)}function Zfe(t,e,n){var r=(e<0||1/e==-1/0?1:0)<<7,s=0,i=0,a=r?-e:e;isFinite(a)?a==0?s=i=0:(s=Math.floor(Math.log(a)/Math.LN2),i=a*Math.pow(2,52-s),s<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?s=-1022:(i-=Math.pow(2,52),s+=1023)):(s=2047,i=isNaN(e)?26985:0);for(var o=0;o<=5;++o,i/=256)t[n+o]=i&255;t[n+6]=(s&15)<<4|i&15,t[n+7]=s>>4|r}var IP=function(t){for(var e=[],n=10240,r=0;r<t[0].length;++r)if(t[0][r])for(var s=0,i=t[0][r].length;s<i;s+=n)e.push.apply(e,t[0][r].slice(s,s+n));return e},kP=hr?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(e){return Buffer.isBuffer(e)?e:Ch(e)})):IP(t)}:IP,RP=function(t,e,n){for(var r=[],s=e;s<n;s+=2)r.push(String.fromCharCode(Tu(t,s)));return r.join("").replace(Wa,"")},RS=hr?function(t,e,n){return Buffer.isBuffer(t)?t.toString("utf16le",e,n).replace(Wa,""):RP(t,e,n)}:RP,PP=function(t,e,n){for(var r=[],s=e;s<e+n;++s)r.push(("0"+t[s].toString(16)).slice(-2));return r.join("")},C9=hr?function(t,e,n){return Buffer.isBuffer(t)?t.toString("hex",e,e+n):PP(t,e,n)}:PP,DP=function(t,e,n){for(var r=[],s=e;s<n;s++)r.push(String.fromCharCode(P0(t,s)));return r.join("")},P1=hr?function(e,n,r){return Buffer.isBuffer(e)?e.toString("utf8",n,r):DP(e,n,r)}:DP,N9=function(t,e){var n=Fo(t,e);return n>0?P1(t,e+4,e+4+n-1):""},I9=N9,k9=function(t,e){var n=Fo(t,e);return n>0?P1(t,e+4,e+4+n-1):""},R9=k9,P9=function(t,e){var n=2*Fo(t,e);return n>0?P1(t,e+4,e+4+n-1):""},D9=P9,M9=function(e,n){var r=Fo(e,n);return r>0?RS(e,n+4,n+4+r):""},L9=M9,F9=function(t,e){var n=Fo(t,e);return n>0?P1(t,e+4,e+4+n):""},O9=F9,B9=function(t,e){return Qfe(t,e)},L2=B9,V9=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};hr&&(I9=function(e,n){if(!Buffer.isBuffer(e))return N9(e,n);var r=e.readUInt32LE(n);return r>0?e.toString("utf8",n+4,n+4+r-1):""},R9=function(e,n){if(!Buffer.isBuffer(e))return k9(e,n);var r=e.readUInt32LE(n);return r>0?e.toString("utf8",n+4,n+4+r-1):""},D9=function(e,n){if(!Buffer.isBuffer(e))return P9(e,n);var r=2*e.readUInt32LE(n);return e.toString("utf16le",n+4,n+4+r-1)},L9=function(e,n){if(!Buffer.isBuffer(e))return M9(e,n);var r=e.readUInt32LE(n);return e.toString("utf16le",n+4,n+4+r)},O9=function(e,n){if(!Buffer.isBuffer(e))return F9(e,n);var r=e.readUInt32LE(n);return e.toString("utf8",n+4,n+4+r)},L2=function(e,n){return Buffer.isBuffer(e)?e.readDoubleLE(n):B9(e,n)},V9=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var P0=function(t,e){return t[e]},Tu=function(t,e){return t[e+1]*256+t[e]},ede=function(t,e){var n=t[e+1]*256+t[e];return n<32768?n:(65535-n+1)*-1},Fo=function(t,e){return t[e+3]*(1<<24)+(t[e+2]<<16)+(t[e+1]<<8)+t[e]},Bd=function(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]},tde=function(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]};function _g(t,e){var n="",r,s,i=[],a,o,c,f;switch(e){case"dbcs":if(f=this.l,hr&&Buffer.isBuffer(this))n=this.slice(this.l,this.l+2*t).toString("utf16le");else for(c=0;c<t;++c)n+=String.fromCharCode(Tu(this,f)),f+=2;t*=2;break;case"utf8":n=P1(this,this.l,this.l+t);break;case"utf16le":t*=2,n=RS(this,this.l,this.l+t);break;case"wstr":return _g.call(this,t,"dbcs");case"lpstr-ansi":n=I9(this,this.l),t=4+Fo(this,this.l);break;case"lpstr-cp":n=R9(this,this.l),t=4+Fo(this,this.l);break;case"lpwstr":n=D9(this,this.l),t=4+2*Fo(this,this.l);break;case"lpp4":t=4+Fo(this,this.l),n=L9(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+Fo(this,this.l),n=O9(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,n="";(a=P0(this,this.l+t++))!==0;)i.push(ny(a));n=i.join("");break;case"_wstr":for(t=0,n="";(a=Tu(this,this.l+t))!==0;)i.push(ny(a)),t+=2;t+=2,n=i.join("");break;case"dbcs-cont":for(n="",f=this.l,c=0;c<t;++c){if(this.lens&&this.lens.indexOf(f)!==-1)return a=P0(this,f),this.l=f+1,o=_g.call(this,t-c,a?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push(ny(Tu(this,f))),f+=2}n=i.join(""),t*=2;break;case"cpstr":case"sbcs-cont":for(n="",f=this.l,c=0;c!=t;++c){if(this.lens&&this.lens.indexOf(f)!==-1)return a=P0(this,f),this.l=f+1,o=_g.call(this,t-c,a?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push(ny(P0(this,f))),f+=1}n=i.join("");break;default:switch(t){case 1:return r=P0(this,this.l),this.l++,r;case 2:return r=(e==="i"?ede:Tu)(this,this.l),this.l+=2,r;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(r=(t>0?Bd:tde)(this,this.l),this.l+=4,r):(s=Fo(this,this.l),this.l+=4,s);case 8:case-8:if(e==="f")return t==8?s=L2(this,this.l):s=L2([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,s;t=8;case 16:n=C9(this,this.l,t);break}}return this.l+=t,n}var nde=function(t,e,n){t[n]=e&255,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24&255},rde=function(t,e,n){t[n]=e&255,t[n+1]=e>>8&255,t[n+2]=e>>16&255,t[n+3]=e>>24&255},sde=function(t,e,n){t[n]=e&255,t[n+1]=e>>>8&255};function ide(t,e,n){var r=0,s=0;if(n==="dbcs"){for(s=0;s!=e.length;++s)sde(this,e.charCodeAt(s),this.l+2*s);r=2*e.length}else if(n==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),s=0;s!=e.length;++s)this[this.l+s]=e.charCodeAt(s)&255;r=e.length}else if(n==="hex"){for(;s<t;++s)this[this.l++]=parseInt(e.slice(2*s,2*s+2),16)||0;return this}else if(n==="utf16le"){var i=Math.min(this.l+t,this.length);for(s=0;s<Math.min(e.length,t);++s){var a=e.charCodeAt(s);this[this.l++]=a&255,this[this.l++]=a>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(t){case 1:r=1,this[this.l]=e&255;break;case 2:r=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:r=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:r=4,nde(this,e,this.l);break;case 8:if(r=8,n==="f"){Zfe(this,e,this.l);break}case 16:break;case-4:r=4,rde(this,e,this.l);break}return this.l+=r,this}function U9(t,e){var n=C9(this,this.l,t.length>>1);if(n!==t)throw new Error(e+"Expected "+t+" saw "+n);this.l+=t.length>>1}function ia(t,e){t.l=e,t.read_shift=_g,t.chk=U9,t.write_shift=ide}function ka(t,e){t.l+=e}function Ei(t){var e=ed(t);return ia(e,0),e}function Hu(t,e,n){if(t){var r,s,i;ia(t,t.l||0);for(var a=t.length,o=0,c=0;t.l<a;){o=t.read_shift(1),o&128&&(o=(o&127)+((t.read_shift(1)&127)<<7));var f=j2[o]||j2[65535];for(r=t.read_shift(1),i=r&127,s=1;s<4&&r&128;++s)i+=((r=t.read_shift(1))&127)<<7*s;c=t.l+i;var d=f.f&&f.f(t,i,n);if(t.l=c,e(d,f,o))return}}}function cT(){var t=[],e=hr?256:2048,n=function(f){var d=Ei(f);return ia(d,0),d},r=n(e),s=function(){r&&(r.length>r.l&&(r=r.slice(0,r.l),r.l=r.length),r.length>0&&t.push(r),r=null)},i=function(f){return r&&f<r.length-r.l?r:(s(),r=n(Math.max(f+1,e)))},a=function(){return s(),Mf(t)},o=function(f){s(),r=f,r.l==null&&(r.l=r.length),i(e)};return{next:i,push:o,end:a,_bufs:t}}function bg(t,e,n){var r=oa(t);if(e.s?(r.cRel&&(r.c+=e.s.c),r.rRel&&(r.r+=e.s.r)):(r.cRel&&(r.c+=e.c),r.rRel&&(r.r+=e.r)),!n||n.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function MP(t,e,n){var r=oa(t);return r.s=bg(r.s,e.s,n),r.e=bg(r.e,e.s,n),r}function wg(t,e){if(t.cRel&&t.c<0)for(t=oa(t);t.c<0;)t.c+=e>8?16384:256;if(t.rRel&&t.r<0)for(t=oa(t);t.r<0;)t.r+=e>8?1048576:e>5?65536:16384;var n=jn(t);return!t.cRel&&t.cRel!=null&&(n=lde(n)),!t.rRel&&t.rRel!=null&&(n=ade(n)),n}function Ew(t,e){return t.s.r==0&&!t.s.rRel&&t.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+Ai(t.s.c)+":"+(t.e.cRel?"":"$")+Ai(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(e.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+la(t.s.r)+":"+(t.e.rRel?"":"$")+la(t.e.r):wg(t.s,e.biff)+":"+wg(t.e,e.biff)}function PS(t){return parseInt(ode(t),10)-1}function la(t){return""+(t+1)}function ade(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function ode(t){return t.replace(/\$(\d+)$/,"$1")}function DS(t){for(var e=cde(t),n=0,r=0;r!==e.length;++r)n=26*n+e.charCodeAt(r)-64;return n-1}function Ai(t){if(t<0)throw new Error("invalid column "+t);var e="";for(++t;t;t=Math.floor((t-1)/26))e=String.fromCharCode((t-1)%26+65)+e;return e}function lde(t){return t.replace(/^([A-Z])/,"$$$1")}function cde(t){return t.replace(/^\$([A-Z])/,"$1")}function ude(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function za(t){for(var e=0,n=0,r=0;r<t.length;++r){var s=t.charCodeAt(r);s>=48&&s<=57?e=10*e+(s-48):s>=65&&s<=90&&(n=26*n+(s-64))}return{c:n-1,r:e-1}}function jn(t){for(var e=t.c+1,n="";e;e=(e-1)/26|0)n=String.fromCharCode((e-1)%26+65)+n;return n+(t.r+1)}function Wp(t){var e=t.indexOf(":");return e==-1?{s:za(t),e:za(t)}:{s:za(t.slice(0,e)),e:za(t.slice(e+1))}}function br(t,e){return typeof e>"u"||typeof e=="number"?br(t.s,t.e):(typeof t!="string"&&(t=jn(t)),typeof e!="string"&&(e=jn(e)),t==e?t:t+":"+e)}function Hs(t){var e={s:{c:0,r:0},e:{c:0,r:0}},n=0,r=0,s=0,i=t.length;for(n=0;r<i&&!((s=t.charCodeAt(r)-64)<1||s>26);++r)n=26*n+s;for(e.s.c=--n,n=0;r<i&&!((s=t.charCodeAt(r)-48)<0||s>9);++r)n=10*n+s;if(e.s.r=--n,r===i||s!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++r,n=0;r!=i&&!((s=t.charCodeAt(r)-64)<1||s>26);++r)n=26*n+s;for(e.e.c=--n,n=0;r!=i&&!((s=t.charCodeAt(r)-48)<0||s>9);++r)n=10*n+s;return e.e.r=--n,e}function LP(t,e){var n=t.t=="d"&&e instanceof Date;if(t.z!=null)try{return t.w=xl(t.z,n?$a(e):e)}catch{}try{return t.w=xl((t.XF||{}).numFmtId||(n?14:0),n?$a(e):e)}catch{return""+e}}function Ou(t,e,n){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&n&&n.dateNF&&(t.z=n.dateNF),t.t=="e"?Rh[t.v]||t.v:e==null?LP(t,t.v):LP(t,e))}function ld(t,e){var n=e&&e.sheet?e.sheet:"Sheet1",r={};return r[n]=t,{SheetNames:[n],Sheets:r}}function j9(t,e,n){var r=n||{},s=t?Array.isArray(t):r.dense,i=t||(s?[]:{}),a=0,o=0;if(i&&r.origin!=null){if(typeof r.origin=="number")a=r.origin;else{var c=typeof r.origin=="string"?za(r.origin):r.origin;a=c.r,o=c.c}i["!ref"]||(i["!ref"]="A1:A1")}var f={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var d=Hs(i["!ref"]);f.s.c=d.s.c,f.s.r=d.s.r,f.e.c=Math.max(f.e.c,d.e.c),f.e.r=Math.max(f.e.r,d.e.r),a==-1&&(f.e.r=a=d.e.r+1)}for(var p=0;p!=e.length;++p)if(e[p]){if(!Array.isArray(e[p]))throw new Error("aoa_to_sheet expects an array of arrays");for(var g=0;g!=e[p].length;++g)if(!(typeof e[p][g]>"u")){var y={v:e[p][g]},E=a+p,b=o+g;if(f.s.r>E&&(f.s.r=E),f.s.c>b&&(f.s.c=b),f.e.r<E&&(f.e.r=E),f.e.c<b&&(f.e.c=b),e[p][g]&&typeof e[p][g]=="object"&&!Array.isArray(e[p][g])&&!(e[p][g]instanceof Date))y=e[p][g];else if(Array.isArray(y.v)&&(y.f=e[p][g][1],y.v=y.v[0]),y.v===null)if(y.f)y.t="n";else if(r.nullError)y.t="e",y.v=0;else if(r.sheetStubs)y.t="z";else continue;else typeof y.v=="number"?y.t="n":typeof y.v=="boolean"?y.t="b":y.v instanceof Date?(y.z=r.dateNF||Gn[14],r.cellDates?(y.t="d",y.w=xl(y.z,$a(y.v))):(y.t="n",y.v=$a(y.v),y.w=xl(y.z,y.v))):y.t="s";if(s)i[E]||(i[E]=[]),i[E][b]&&i[E][b].z&&(y.z=i[E][b].z),i[E][b]=y;else{var A=jn({c:b,r:E});i[A]&&i[A].z&&(y.z=i[A].z),i[A]=y}}}return f.s.c<1e7&&(i["!ref"]=br(f)),i}function $p(t,e){return j9(null,t,e)}function fde(t){return t.read_shift(4,"i")}function Ia(t){var e=t.read_shift(4);return e===0?"":t.read_shift(e,"dbcs")}function dde(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function MS(t,e){var n=t.l,r=t.read_shift(1),s=Ia(t),i=[],a={t:s,h:s};if((r&1)!==0){for(var o=t.read_shift(4),c=0;c!=o;++c)i.push(dde(t));a.r=i}else a.r=[{ich:0,ifnt:0}];return t.l=n+e,a}var hde=MS;function yl(t){var e=t.read_shift(4),n=t.read_shift(2);return n+=t.read_shift(1)<<16,t.l++,{c:e,iStyleRef:n}}function Ih(t){var e=t.read_shift(2);return e+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:e}}var pde=Ia;function LS(t){var e=t.read_shift(4);return e===0||e===4294967295?"":t.read_shift(e,"dbcs")}var mde=Ia,uT=LS;function FS(t){var e=t.slice(t.l,t.l+4),n=e[0]&1,r=e[0]&2;t.l+=4;var s=r===0?L2([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):Bd(e,0)>>2;return n?s/100:s}function q9(t){var e={s:{},e:{}};return e.s.r=t.read_shift(4),e.e.r=t.read_shift(4),e.s.c=t.read_shift(4),e.e.c=t.read_shift(4),e}var kh=q9;function Ea(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function gde(t){var e={},n=t.read_shift(1),r=n>>>1,s=t.read_shift(1),i=t.read_shift(2,"i"),a=t.read_shift(1),o=t.read_shift(1),c=t.read_shift(1);switch(t.l++,r){case 0:e.auto=1;break;case 1:e.index=s;var f=Jd[s];f&&(e.rgb=a1(f));break;case 2:e.rgb=a1([a,o,c]);break;case 3:e.theme=s;break}return i!=0&&(e.tint=i>0?i/32767:i/32768),e}function xde(t){var e=t.read_shift(1);t.l++;var n={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return n}function H9(t,e){var n={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},r=t.read_shift(4);switch(r){case 0:return"";case 4294967295:case 4294967294:return n[t.read_shift(4)]||""}if(r>400)throw new Error("Unsupported Clipboard: "+r.toString(16));return t.l-=4,t.read_shift(0,e==1?"lpstr":"lpwstr")}function yde(t){return H9(t,1)}function vde(t){return H9(t,2)}var OS=2,go=3,sy=11,FP=12,F2=19,iy=64,_de=65,bde=71,wde=4108,Tde=4126,qi=80,z9=81,Ede=[qi,z9],Sde={1:{n:"CodePage",t:OS},2:{n:"Category",t:qi},3:{n:"PresentationFormat",t:qi},4:{n:"ByteCount",t:go},5:{n:"LineCount",t:go},6:{n:"ParagraphCount",t:go},7:{n:"SlideCount",t:go},8:{n:"NoteCount",t:go},9:{n:"HiddenCount",t:go},10:{n:"MultimediaClipCount",t:go},11:{n:"ScaleCrop",t:sy},12:{n:"HeadingPairs",t:wde},13:{n:"TitlesOfParts",t:Tde},14:{n:"Manager",t:qi},15:{n:"Company",t:qi},16:{n:"LinksUpToDate",t:sy},17:{n:"CharacterCount",t:go},19:{n:"SharedDoc",t:sy},22:{n:"HyperlinksChanged",t:sy},23:{n:"AppVersion",t:go,p:"version"},24:{n:"DigSig",t:_de},26:{n:"ContentType",t:qi},27:{n:"ContentStatus",t:qi},28:{n:"Language",t:qi},29:{n:"Version",t:qi},255:{},2147483648:{n:"Locale",t:F2},2147483651:{n:"Behavior",t:F2},1919054434:{}},Ade={1:{n:"CodePage",t:OS},2:{n:"Title",t:qi},3:{n:"Subject",t:qi},4:{n:"Author",t:qi},5:{n:"Keywords",t:qi},6:{n:"Comments",t:qi},7:{n:"Template",t:qi},8:{n:"LastAuthor",t:qi},9:{n:"RevNumber",t:qi},10:{n:"EditTime",t:iy},11:{n:"LastPrinted",t:iy},12:{n:"CreatedDate",t:iy},13:{n:"ModifiedDate",t:iy},14:{n:"PageCount",t:go},15:{n:"WordCount",t:go},16:{n:"CharCount",t:go},17:{n:"Thumbnail",t:bde},18:{n:"Application",t:qi},19:{n:"DocSecurity",t:go},255:{},2147483648:{n:"Locale",t:F2},2147483651:{n:"Behavior",t:F2},1919054434:{}},OP={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},Cde=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function Nde(t){return t.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var Ide=Nde([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Jd=oa(Ide),Rh={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},G9={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},BP={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function kde(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function Rde(t){var e=kde();if(!t||!t.match)return e;var n={};if((t.match(Ra)||[]).forEach(function(r){var s=Rn(r);switch(s[0].replace(Vfe,"<")){case"<?xml":break;case"<Types":e.xmlns=s["xmlns"+(s[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":n[s.Extension]=s.ContentType;break;case"<Override":e[BP[s.ContentType]]!==void 0&&e[BP[s.ContentType]].push(s.PartName);break}}),e.xmlns!==Xfe.CT)throw new Error("Unknown Namespace: "+e.xmlns);return e.calcchain=e.calcchains.length>0?e.calcchains[0]:"",e.sst=e.strs.length>0?e.strs[0]:"",e.style=e.styles.length>0?e.styles[0]:"",e.defaults=n,delete e.calcchains,e}var G0={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function fT(t){var e=t.lastIndexOf("/");return t.slice(0,e+1)+"_rels/"+t.slice(e+1)+".rels"}function Tg(t,e){var n={"!id":{}};if(!t)return n;e.charAt(0)!=="/"&&(e="/"+e);var r={};return(t.match(Ra)||[]).forEach(function(s){var i=Rn(s);if(i[0]==="<Relationship"){var a={};a.Type=i.Type,a.Target=i.Target,a.Id=i.Id,i.TargetMode&&(a.TargetMode=i.TargetMode);var o=i.TargetMode==="External"?i.Target:Qm(i.Target,e);n[o]=a,r[i.Id]=a}}),n["!id"]=r,n}var Pde="application/vnd.oasis.opendocument.spreadsheet";function Dde(t,e){for(var n=kS(t),r,s;r=s1.exec(n);)switch(r[3]){case"manifest":break;case"file-entry":if(s=Rn(r[0],!1),s.path=="/"&&s.type!==Pde)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(e&&e.WTF)throw r}}var Eg=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],Mde=(function(){for(var t=new Array(Eg.length),e=0;e<Eg.length;++e){var n=Eg[e],r="(?:"+n[0].slice(0,n[0].indexOf(":"))+":)"+n[0].slice(n[0].indexOf(":")+1);t[e]=new RegExp("<"+r+"[^>]*>([\\s\\S]*?)</"+r+">")}return t})();function W9(t){var e={};t=is(t);for(var n=0;n<Eg.length;++n){var r=Eg[n],s=t.match(Mde[n]);s!=null&&s.length>0&&(e[r[1]]=Sr(s[1])),r[2]==="date"&&e[r[1]]&&(e[r[1]]=zi(e[r[1]]))}return e}var Lde=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function $9(t,e,n,r){var s=[];if(typeof t=="string")s=NP(t,r);else for(var i=0;i<t.length;++i)s=s.concat(t[i].map(function(d){return{v:d}}));var a=typeof e=="string"?NP(e,r).map(function(d){return d.v}):e,o=0,c=0;if(a.length>0)for(var f=0;f!==s.length;f+=2){switch(c=+s[f+1].v,s[f].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":n.Worksheets=c,n.SheetNames=a.slice(o,o+c);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":n.NamedRanges=c,n.DefinedNames=a.slice(o,o+c);break;case"Charts":case"Diagramme":n.Chartsheets=c,n.ChartNames=a.slice(o,o+c);break}o+=c}}function Fde(t,e,n){var r={};return e||(e={}),t=is(t),Lde.forEach(function(s){var i=(t.match(r1(s[0]))||[])[1];switch(s[2]){case"string":i&&(e[s[1]]=Sr(i));break;case"bool":e[s[1]]=i==="true";break;case"raw":var a=t.match(new RegExp("<"+s[0]+"[^>]*>([\\s\\S]*?)</"+s[0]+">"));a&&a.length>0&&(r[s[1]]=a[1]);break}}),r.HeadingPairs&&r.TitlesOfParts&&$9(r.HeadingPairs,r.TitlesOfParts,e,n),e}var Ode=/<[^>]+>[^<]*/g;function Bde(t,e){var n={},r="",s=t.match(Ode);if(s)for(var i=0;i!=s.length;++i){var a=s[i],o=Rn(a);switch(o[0]){case"<?xml":break;case"<Properties":break;case"<property":r=Sr(o.name);break;case"</property>":r=null;break;default:if(a.indexOf("<vt:")===0){var c=a.split(">"),f=c[0].slice(4),d=c[1];switch(f){case"lpstr":case"bstr":case"lpwstr":n[r]=Sr(d);break;case"bool":n[r]=ws(d);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":n[r]=parseInt(d,10);break;case"r4":case"r8":case"decimal":n[r]=parseFloat(d);break;case"filetime":case"date":n[r]=zi(d);break;case"cy":case"error":n[r]=Sr(d);break;default:if(f.slice(-1)=="/")break;e.WTF&&typeof console<"u"&&console.warn("Unexpected",a,f,c)}}else if(a.slice(0,2)!=="</"){if(e.WTF)throw new Error(a)}}}return n}var Vde={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},Sw;function Ude(t,e,n){Sw||(Sw=CS(Vde)),e=Sw[e]||e,t[e]=n}function BS(t){var e=t.read_shift(4),n=t.read_shift(4);return new Date((n/1e7*Math.pow(2,32)+e/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function K9(t,e,n){var r=t.l,s=t.read_shift(0,"lpstr-cp");if(n)for(;t.l-r&3;)++t.l;return s}function Y9(t,e,n){var r=t.read_shift(0,"lpwstr");return r}function X9(t,e,n){return e===31?Y9(t):K9(t,e,n)}function dT(t,e,n){return X9(t,e,n===!1?0:4)}function jde(t,e){if(!e)throw new Error("VtUnalignedString must have positive length");return X9(t,e,0)}function qde(t){for(var e=t.read_shift(4),n=[],r=0;r!=e;++r){var s=t.l;n[r]=t.read_shift(0,"lpwstr").replace(Wa,""),t.l-s&2&&(t.l+=2)}return n}function Hde(t){for(var e=t.read_shift(4),n=[],r=0;r!=e;++r)n[r]=t.read_shift(0,"lpstr-cp").replace(Wa,"");return n}function zde(t){var e=t.l,n=O2(t,z9);t[t.l]==0&&t[t.l+1]==0&&t.l-e&2&&(t.l+=2);var r=O2(t,go);return[n,r]}function Gde(t){for(var e=t.read_shift(4),n=[],r=0;r<e/2;++r)n.push(zde(t));return n}function VP(t,e){for(var n=t.read_shift(4),r={},s=0;s!=n;++s){var i=t.read_shift(4),a=t.read_shift(4);r[i]=t.read_shift(a,e===1200?"utf16le":"utf8").replace(Wa,"").replace(Jm,"!"),e===1200&&a%2&&(t.l+=2)}return t.l&3&&(t.l=t.l>>3<<2),r}function J9(t){var e=t.read_shift(4),n=t.slice(t.l,t.l+e);return t.l+=e,(e&3)>0&&(t.l+=4-(e&3)&3),n}function Wde(t){var e={};return e.Size=t.read_shift(4),t.l+=e.Size+3-(e.Size-1)%4,e}function O2(t,e,n){var r=t.read_shift(2),s,i=n||{};if(t.l+=2,e!==FP&&r!==e&&Ede.indexOf(e)===-1&&!((e&65534)==4126&&(r&65534)==4126))throw new Error("Expected type "+e+" saw "+r);switch(e===FP?r:e){case 2:return s=t.read_shift(2,"i"),i.raw||(t.l+=2),s;case 3:return s=t.read_shift(4,"i"),s;case 11:return t.read_shift(4)!==0;case 19:return s=t.read_shift(4),s;case 30:return K9(t,r,4).replace(Wa,"");case 31:return Y9(t);case 64:return BS(t);case 65:return J9(t);case 71:return Wde(t);case 80:return dT(t,r,!i.raw).replace(Wa,"");case 81:return jde(t,r).replace(Wa,"");case 4108:return Gde(t);case 4126:case 4127:return r==4127?qde(t):Hde(t);default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+r)}}function UP(t,e){var n=t.l,r=t.read_shift(4),s=t.read_shift(4),i=[],a=0,o=0,c=-1,f={};for(a=0;a!=s;++a){var d=t.read_shift(4),p=t.read_shift(4);i[a]=[d,p+n]}i.sort(function(V,k){return V[1]-k[1]});var g={};for(a=0;a!=s;++a){if(t.l!==i[a][1]){var y=!0;if(a>0&&e)switch(e[i[a-1][0]].t){case 2:t.l+2===i[a][1]&&(t.l+=2,y=!1);break;case 80:t.l<=i[a][1]&&(t.l=i[a][1],y=!1);break;case 4108:t.l<=i[a][1]&&(t.l=i[a][1],y=!1);break}if((!e||a==0)&&t.l<=i[a][1]&&(y=!1,t.l=i[a][1]),y)throw new Error("Read Error: Expected address "+i[a][1]+" at "+t.l+" :"+a)}if(e){var E=e[i[a][0]];if(g[E.n]=O2(t,E.t,{raw:!0}),E.p==="version"&&(g[E.n]=String(g[E.n]>>16)+"."+("0000"+String(g[E.n]&65535)).slice(-4)),E.n=="CodePage")switch(g[E.n]){case 0:g[E.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:$l(o=g[E.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+g[E.n])}}else if(i[a][0]===1){if(o=g.CodePage=O2(t,OS),$l(o),c!==-1){var b=t.l;t.l=i[c][1],f=VP(t,o),t.l=b}}else if(i[a][0]===0){if(o===0){c=a,t.l=i[a+1][1];continue}f=VP(t,o)}else{var A=f[i[a][0]],N;switch(t[t.l]){case 65:t.l+=4,N=J9(t);break;case 30:t.l+=4,N=dT(t,t[t.l-4]).replace(/\u0000+$/,"");break;case 31:t.l+=4,N=dT(t,t[t.l-4]).replace(/\u0000+$/,"");break;case 3:t.l+=4,N=t.read_shift(4,"i");break;case 19:t.l+=4,N=t.read_shift(4);break;case 5:t.l+=4,N=t.read_shift(8,"f");break;case 11:t.l+=4,N=Ys(t,4);break;case 64:t.l+=4,N=zi(BS(t));break;default:throw new Error("unparsed value: "+t[t.l])}g[A]=N}}return t.l=n+r,g}function jP(t,e,n){var r=t.content;if(!r)return{};ia(r,0);var s,i,a,o,c=0;r.chk("feff","Byte Order: "),r.read_shift(2);var f=r.read_shift(4),d=r.read_shift(16);if(d!==_r.utils.consts.HEADER_CLSID&&d!==n)throw new Error("Bad PropertySet CLSID "+d);if(s=r.read_shift(4),s!==1&&s!==2)throw new Error("Unrecognized #Sets: "+s);if(i=r.read_shift(16),o=r.read_shift(4),s===1&&o!==r.l)throw new Error("Length mismatch: "+o+" !== "+r.l);s===2&&(a=r.read_shift(16),c=r.read_shift(4));var p=UP(r,e),g={SystemIdentifier:f};for(var y in p)g[y]=p[y];if(g.FMTID=i,s===1)return g;if(c-r.l==2&&(r.l+=2),r.l!==c)throw new Error("Length mismatch 2: "+r.l+" !== "+c);var E;try{E=UP(r,null)}catch{}for(y in E)g[y]=E[y];return g.FMTID=[i,a],g}function Cf(t,e){return t.read_shift(e),null}function $de(t,e,n){for(var r=[],s=t.l+e;t.l<s;)r.push(n(t,s-t.l));if(s!==t.l)throw new Error("Slurp error");return r}function Ys(t,e){return t.read_shift(e)===1}function ci(t){return t.read_shift(2,"u")}function Q9(t,e){return $de(t,e,ci)}function Kde(t){var e=t.read_shift(1),n=t.read_shift(1);return n===1?e:e===1}function D1(t,e,n){var r=t.read_shift(n&&n.biff>=12?2:1),s="sbcs-cont";if(n&&n.biff>=8,!n||n.biff==8){var i=t.read_shift(1);i&&(s="dbcs-cont")}else n.biff==12&&(s="wstr");n.biff>=2&&n.biff<=5&&(s="cpstr");var a=r?t.read_shift(r,s):"";return a}function Yde(t){var e=t.read_shift(2),n=t.read_shift(1),r=n&4,s=n&8,i=1+(n&1),a=0,o,c={};s&&(a=t.read_shift(2)),r&&(o=t.read_shift(4));var f=i==2?"dbcs-cont":"sbcs-cont",d=e===0?"":t.read_shift(e,f);return s&&(t.l+=4*a),r&&(t.l+=o),c.t=d,s||(c.raw="<t>"+c.t+"</t>",c.r=c.t),c}function mh(t,e,n){var r;if(n){if(n.biff>=2&&n.biff<=5)return t.read_shift(e,"cpstr");if(n.biff>=12)return t.read_shift(e,"dbcs-cont")}var s=t.read_shift(1);return s===0?r=t.read_shift(e,"sbcs-cont"):r=t.read_shift(e,"dbcs-cont"),r}function M1(t,e,n){var r=t.read_shift(n&&n.biff==2?1:2);return r===0?(t.l++,""):mh(t,r,n)}function Ph(t,e,n){if(n.biff>5)return M1(t,e,n);var r=t.read_shift(1);return r===0?(t.l++,""):t.read_shift(r,n.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function Xde(t){var e=t.read_shift(1);t.l++;var n=t.read_shift(2);return t.l+=2,[e,n]}function Jde(t){var e=t.read_shift(4),n=t.l,r=!1;e>24&&(t.l+=e-24,t.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(r=!0),t.l=n);var s=t.read_shift((r?e-24:e)>>1,"utf16le").replace(Wa,"");return r&&(t.l+=24),s}function Qde(t){for(var e=t.read_shift(2),n="";e-- >0;)n+="../";var r=t.read_shift(0,"lpstr-ansi");if(t.l+=2,t.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var s=t.read_shift(4);if(s===0)return n+r.replace(/\\/g,"/");var i=t.read_shift(4);if(t.read_shift(2)!=3)throw new Error("Bad FileMoniker");var a=t.read_shift(i>>1,"utf16le").replace(Wa,"");return n+a}function Zde(t,e){var n=t.read_shift(16);switch(n){case"e0c9ea79f9bace118c8200aa004ba90b":return Jde(t);case"0303000000000000c000000000000046":return Qde(t);default:throw new Error("Unsupported Moniker "+n)}}function ay(t){var e=t.read_shift(4),n=e>0?t.read_shift(e,"utf16le").replace(Wa,""):"";return n}function ehe(t,e){var n=t.l+e,r=t.read_shift(4);if(r!==2)throw new Error("Unrecognized streamVersion: "+r);var s=t.read_shift(2);t.l+=2;var i,a,o,c,f="",d,p;s&16&&(i=ay(t,n-t.l)),s&128&&(a=ay(t,n-t.l)),(s&257)===257&&(o=ay(t,n-t.l)),(s&257)===1&&(c=Zde(t,n-t.l)),s&8&&(f=ay(t,n-t.l)),s&32&&(d=t.read_shift(16)),s&64&&(p=BS(t)),t.l=n;var g=a||o||c||"";g&&f&&(g+="#"+f),g||(g="#"+f),s&2&&g.charAt(0)=="/"&&g.charAt(1)!="/"&&(g="file://"+g);var y={Target:g};return d&&(y.guid=d),p&&(y.time=p),i&&(y.Tooltip=i),y}function Z9(t){var e=t.read_shift(1),n=t.read_shift(1),r=t.read_shift(1),s=t.read_shift(1);return[e,n,r,s]}function eB(t,e){var n=Z9(t);return n[3]=0,n}function zc(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(2);return{r:e,c:n,ixfe:r}}function the(t){var e=t.read_shift(2),n=t.read_shift(2);return t.l+=8,{type:e,flags:n}}function nhe(t,e,n){return e===0?"":Ph(t,e,n)}function rhe(t,e,n){var r=n.biff>8?4:2,s=t.read_shift(r),i=t.read_shift(r,"i"),a=t.read_shift(r,"i");return[s,i,a]}function tB(t){var e=t.read_shift(2),n=FS(t);return[e,n]}function she(t,e,n){t.l+=4,e-=4;var r=t.l+e,s=D1(t,e,n),i=t.read_shift(2);if(r-=t.l,i!==r)throw new Error("Malformed AddinUdf: padding = "+r+" != "+i);return t.l+=i,s}function kv(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(2),s=t.read_shift(2);return{s:{c:r,r:e},e:{c:s,r:n}}}function nB(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(1),s=t.read_shift(1);return{s:{c:r,r:e},e:{c:s,r:n}}}var ihe=nB;function rB(t){t.l+=4;var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(2);return t.l+=12,[n,e,r]}function ahe(t){var e={};return t.l+=4,t.l+=16,e.fSharedNote=t.read_shift(2),t.l+=4,e}function ohe(t){var e={};return t.l+=4,t.cf=t.read_shift(2),e}function _a(t){t.l+=2,t.l+=t.read_shift(2)}var lhe={0:_a,4:_a,5:_a,6:_a,7:ohe,8:_a,9:_a,10:_a,11:_a,12:_a,13:ahe,14:_a,15:_a,16:_a,17:_a,18:_a,19:_a,20:_a,21:rB};function che(t,e){for(var n=t.l+e,r=[];t.l<n;){var s=t.read_shift(2);t.l-=2;try{r.push(lhe[s](t,n-t.l))}catch{return t.l=n,r}}return t.l!=n&&(t.l=n),r}function oy(t,e){var n={BIFFVer:0,dt:0};switch(n.BIFFVer=t.read_shift(2),e-=2,e>=2&&(n.dt=t.read_shift(2),t.l-=2),n.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(e>6)throw new Error("Unexpected BIFF Ver "+n.BIFFVer)}return t.read_shift(e),n}function uhe(t,e){return e===0||t.read_shift(2),1200}function fhe(t,e,n){if(n.enc)return t.l+=e,"";var r=t.l,s=Ph(t,0,n);return t.read_shift(e+r-t.l),s}function dhe(t,e,n){var r=n&&n.biff==8||e==2?t.read_shift(2):(t.l+=e,0);return{fDialog:r&16,fBelow:r&64,fRight:r&128}}function hhe(t,e,n){var r=t.read_shift(4),s=t.read_shift(1)&3,i=t.read_shift(1);switch(i){case 0:i="Worksheet";break;case 1:i="Macrosheet";break;case 2:i="Chartsheet";break;case 6:i="VBAModule";break}var a=D1(t,0,n);return a.length===0&&(a="Sheet1"),{pos:r,hs:s,dt:i,name:a}}function phe(t,e){for(var n=t.l+e,r=t.read_shift(4),s=t.read_shift(4),i=[],a=0;a!=s&&t.l<n;++a)i.push(Yde(t));return i.Count=r,i.Unique=s,i}function mhe(t,e){var n={};return n.dsst=t.read_shift(2),t.l+=e-2,n}function ghe(t){var e={};e.r=t.read_shift(2),e.c=t.read_shift(2),e.cnt=t.read_shift(2)-e.c;var n=t.read_shift(2);t.l+=4;var r=t.read_shift(1);return t.l+=3,r&7&&(e.level=r&7),r&32&&(e.hidden=!0),r&64&&(e.hpt=n/20),e}function xhe(t){var e=the(t);if(e.type!=2211)throw new Error("Invalid Future Record "+e.type);var n=t.read_shift(4);return n!==0}function yhe(t){return t.read_shift(2),t.read_shift(4)}function qP(t,e,n){var r=0;n&&n.biff==2||(r=t.read_shift(2));var s=t.read_shift(2);n&&n.biff==2&&(r=1-(s>>15),s&=32767);var i={Unsynced:r&1,DyZero:(r&2)>>1,ExAsc:(r&4)>>2,ExDsc:(r&8)>>3};return[i,s]}function vhe(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(2),s=t.read_shift(2),i=t.read_shift(2),a=t.read_shift(2),o=t.read_shift(2),c=t.read_shift(2),f=t.read_shift(2);return{Pos:[e,n],Dim:[r,s],Flags:i,CurTab:a,FirstTab:o,Selected:c,TabRatio:f}}function _he(t,e,n){if(n&&n.biff>=2&&n.biff<5)return{};var r=t.read_shift(2);return{RTL:r&64}}function bhe(){}function whe(t,e,n){var r={dyHeight:t.read_shift(2),fl:t.read_shift(2)};switch(n&&n.biff||8){case 2:break;case 3:case 4:t.l+=2;break;default:t.l+=10;break}return r.name=D1(t,0,n),r}function The(t){var e=zc(t);return e.isst=t.read_shift(4),e}function Ehe(t,e,n){n.biffguess&&n.biff==2&&(n.biff=5);var r=t.l+e,s=zc(t);n.biff==2&&t.l++;var i=M1(t,r-t.l,n);return s.val=i,s}function She(t,e,n){var r=t.read_shift(2),s=Ph(t,0,n);return[r,s]}var Ahe=Ph;function HP(t,e,n){var r=t.l+e,s=n.biff==8||!n.biff?4:2,i=t.read_shift(s),a=t.read_shift(s),o=t.read_shift(2),c=t.read_shift(2);return t.l=r,{s:{r:i,c:o},e:{r:a,c}}}function Che(t){var e=t.read_shift(2),n=t.read_shift(2),r=tB(t);return{r:e,c:n,ixfe:r[0],rknum:r[1]}}function Nhe(t,e){for(var n=t.l+e-2,r=t.read_shift(2),s=t.read_shift(2),i=[];t.l<n;)i.push(tB(t));if(t.l!==n)throw new Error("MulRK read error");var a=t.read_shift(2);if(i.length!=a-s+1)throw new Error("MulRK length mismatch");return{r,c:s,C:a,rkrec:i}}function Ihe(t,e){for(var n=t.l+e-2,r=t.read_shift(2),s=t.read_shift(2),i=[];t.l<n;)i.push(t.read_shift(2));if(t.l!==n)throw new Error("MulBlank read error");var a=t.read_shift(2);if(i.length!=a-s+1)throw new Error("MulBlank length mismatch");return{r,c:s,C:a,ixfe:i}}function khe(t,e,n,r){var s={},i=t.read_shift(4),a=t.read_shift(4),o=t.read_shift(4),c=t.read_shift(2);return s.patternType=Cde[o>>26],r.cellStyles&&(s.alc=i&7,s.fWrap=i>>3&1,s.alcV=i>>4&7,s.fJustLast=i>>7&1,s.trot=i>>8&255,s.cIndent=i>>16&15,s.fShrinkToFit=i>>20&1,s.iReadOrder=i>>22&2,s.fAtrNum=i>>26&1,s.fAtrFnt=i>>27&1,s.fAtrAlc=i>>28&1,s.fAtrBdr=i>>29&1,s.fAtrPat=i>>30&1,s.fAtrProt=i>>31&1,s.dgLeft=a&15,s.dgRight=a>>4&15,s.dgTop=a>>8&15,s.dgBottom=a>>12&15,s.icvLeft=a>>16&127,s.icvRight=a>>23&127,s.grbitDiag=a>>30&3,s.icvTop=o&127,s.icvBottom=o>>7&127,s.icvDiag=o>>14&127,s.dgDiag=o>>21&15,s.icvFore=c&127,s.icvBack=c>>7&127,s.fsxButton=c>>14&1),s}function Rhe(t,e,n){var r={};return r.ifnt=t.read_shift(2),r.numFmtId=t.read_shift(2),r.flags=t.read_shift(2),r.fStyle=r.flags>>2&1,e-=6,r.data=khe(t,e,r.fStyle,n),r}function Phe(t){t.l+=4;var e=[t.read_shift(2),t.read_shift(2)];if(e[0]!==0&&e[0]--,e[1]!==0&&e[1]--,e[0]>7||e[1]>7)throw new Error("Bad Gutters: "+e.join("|"));return e}function zP(t,e,n){var r=zc(t);(n.biff==2||e==9)&&++t.l;var s=Kde(t);return r.val=s,r.t=s===!0||s===!1?"b":"e",r}function Dhe(t,e,n){n.biffguess&&n.biff==2&&(n.biff=5);var r=zc(t),s=Ea(t);return r.val=s,r}var GP=nhe;function Mhe(t,e,n){var r=t.l+e,s=t.read_shift(2),i=t.read_shift(2);if(n.sbcch=i,i==1025||i==14849)return[i,s];if(i<1||i>255)throw new Error("Unexpected SupBook type: "+i);for(var a=mh(t,i),o=[];r>t.l;)o.push(M1(t));return[i,s,a,o]}function WP(t,e,n){var r=t.read_shift(2),s,i={fBuiltIn:r&1,fWantAdvise:r>>>1&1,fWantPict:r>>>2&1,fOle:r>>>3&1,fOleLink:r>>>4&1,cf:r>>>5&1023,fIcon:r>>>15&1};return n.sbcch===14849&&(s=she(t,e-2,n)),i.body=s||t.read_shift(e-2),typeof s=="string"&&(i.Name=s),i}var Lhe=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function $P(t,e,n){var r=t.l+e,s=t.read_shift(2),i=t.read_shift(1),a=t.read_shift(1),o=t.read_shift(n&&n.biff==2?1:2),c=0;(!n||n.biff>=5)&&(n.biff!=5&&(t.l+=2),c=t.read_shift(2),n.biff==5&&(t.l+=2),t.l+=4);var f=mh(t,a,n);s&32&&(f=Lhe[f.charCodeAt(0)]);var d=r-t.l;n&&n.biff==2&&--d;var p=r==t.l||o===0||!(d>0)?[]:gge(t,d,n,o);return{chKey:i,Name:f,itab:c,rgce:p}}function sB(t,e,n){if(n.biff<8)return Fhe(t,e,n);for(var r=[],s=t.l+e,i=t.read_shift(n.biff>8?4:2);i--!==0;)r.push(rhe(t,n.biff>8?12:6,n));if(t.l!=s)throw new Error("Bad ExternSheet: "+t.l+" != "+s);return r}function Fhe(t,e,n){t[t.l+1]==3&&t[t.l]++;var r=D1(t,e,n);return r.charCodeAt(0)==3?r.slice(1):r}function Ohe(t,e,n){if(n.biff<8){t.l+=e;return}var r=t.read_shift(2),s=t.read_shift(2),i=mh(t,r,n),a=mh(t,s,n);return[i,a]}function Bhe(t,e,n){var r=nB(t);t.l++;var s=t.read_shift(1);return e-=8,[xge(t,e,n),s,r]}function KP(t,e,n){var r=ihe(t);switch(n.biff){case 2:t.l++,e-=7;break;case 3:case 4:t.l+=2,e-=8;break;default:t.l+=6,e-=12}return[r,pge(t,e,n)]}function Vhe(t){var e=t.read_shift(4)!==0,n=t.read_shift(4)!==0,r=t.read_shift(4);return[e,n,r]}function Uhe(t,e,n){if(!(n.biff<8)){var r=t.read_shift(2),s=t.read_shift(2),i=t.read_shift(2),a=t.read_shift(2),o=Ph(t,0,n);return n.biff<8&&t.read_shift(1),[{r,c:s},o,a,i]}}function jhe(t,e,n){return Uhe(t,e,n)}function qhe(t,e){for(var n=[],r=t.read_shift(2);r--;)n.push(kv(t));return n}function Hhe(t,e,n){if(n&&n.biff<8)return Ghe(t,e,n);var r=rB(t),s=che(t,e-22,r[1]);return{cmo:r,ft:s}}var zhe={8:function(t,e){var n=t.l+e;t.l+=10;var r=t.read_shift(2);t.l+=4,t.l+=2,t.l+=2,t.l+=2,t.l+=4;var s=t.read_shift(1);return t.l+=s,t.l=n,{fmt:r}}};function Ghe(t,e,n){t.l+=4;var r=t.read_shift(2),s=t.read_shift(2),i=t.read_shift(2);t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=6,e-=36;var a=[];return a.push((zhe[r]||ka)(t,e,n)),{cmo:[s,r,i],ft:a}}function Whe(t,e,n){var r=t.l,s="";try{t.l+=4;var i=(n.lastobj||{cmo:[0,0]}).cmo[1],a;[0,5,7,11,12,14].indexOf(i)==-1?t.l+=6:a=Xde(t,6,n);var o=t.read_shift(2);t.read_shift(2),ci(t,2);var c=t.read_shift(2);t.l+=c;for(var f=1;f<t.lens.length-1;++f){if(t.l-r!=t.lens[f])throw new Error("TxO: bad continue record");var d=t[t.l],p=mh(t,t.lens[f+1]-t.lens[f]-1);if(s+=p,s.length>=(d?o:2*o))break}if(s.length!==o&&s.length!==o*2)throw new Error("cchText: "+o+" != "+s.length);return t.l=r+e,{t:s}}catch{return t.l=r+e,{t:s}}}function $he(t,e){var n=kv(t);t.l+=16;var r=ehe(t,e-24);return[n,r]}function Khe(t,e){t.read_shift(2);var n=kv(t),r=t.read_shift((e-10)/2,"dbcs-cont");return r=r.replace(Wa,""),[n,r]}function Yhe(t){var e=[0,0],n;return n=t.read_shift(2),e[0]=OP[n]||n,n=t.read_shift(2),e[1]=OP[n]||n,e}function Xhe(t){for(var e=t.read_shift(2),n=[];e-- >0;)n.push(eB(t));return n}function Jhe(t){for(var e=t.read_shift(2),n=[];e-- >0;)n.push(eB(t));return n}function Qhe(t){t.l+=2;var e={cxfs:0,crc:0};return e.cxfs=t.read_shift(2),e.crc=t.read_shift(4),e}function iB(t,e,n){if(!n.cellStyles)return ka(t,e);var r=n&&n.biff>=12?4:2,s=t.read_shift(r),i=t.read_shift(r),a=t.read_shift(r),o=t.read_shift(r),c=t.read_shift(2);r==2&&(t.l+=2);var f={s,e:i,w:a,ixfe:o,flags:c};return(n.biff>=5||!n.biff)&&(f.level=c>>8&7),f}function Zhe(t,e){var n={};return e<32||(t.l+=16,n.header=Ea(t),n.footer=Ea(t),t.l+=2),n}function e0e(t,e,n){var r={area:!1};if(n.biff!=5)return t.l+=e,r;var s=t.read_shift(1);return t.l+=3,s&16&&(r.area=!0),r}var t0e=zc,n0e=Q9,r0e=M1;function s0e(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(4),s={fmt:e,env:n,len:r,data:t.slice(t.l,t.l+r)};return t.l+=r,s}function i0e(t,e,n){n.biffguess&&n.biff==5&&(n.biff=2);var r=zc(t);++t.l;var s=Ph(t,e-7,n);return r.t="str",r.val=s,r}function a0e(t){var e=zc(t);++t.l;var n=Ea(t);return e.t="n",e.val=n,e}function o0e(t){var e=zc(t);++t.l;var n=t.read_shift(2);return e.t="n",e.val=n,e}function l0e(t){var e=t.read_shift(1);return e===0?(t.l++,""):t.read_shift(e,"sbcs-cont")}function c0e(t,e){t.l+=6,t.l+=2,t.l+=1,t.l+=3,t.l+=1,t.l+=e-13}function u0e(t,e,n){var r=t.l+e,s=zc(t),i=t.read_shift(2),a=mh(t,i,n);return t.l=r,s.t="str",s.val=a,s}var f0e=[2,3,48,49,131,139,140,245],YP=(function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=CS({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function n(o,c){var f=[],d=ed(1);switch(c.type){case"base64":d=Gl(jo(o));break;case"binary":d=Gl(o);break;case"buffer":case"array":d=o;break}ia(d,0);var p=d.read_shift(1),g=!!(p&136),y=!1,E=!1;switch(p){case 2:break;case 3:break;case 48:y=!0,g=!0;break;case 49:y=!0,g=!0;break;case 131:break;case 139:break;case 140:E=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+p.toString(16))}var b=0,A=521;p==2&&(b=d.read_shift(2)),d.l+=3,p!=2&&(b=d.read_shift(4)),b>1048576&&(b=1e6),p!=2&&(A=d.read_shift(2));var N=d.read_shift(2),V=c.codepage||1252;p!=2&&(d.l+=16,d.read_shift(1),d[d.l]!==0&&(V=t[d[d.l]]),d.l+=1,d.l+=2),E&&(d.l+=36);for(var k=[],B={},W=Math.min(d.length,p==2?521:A-10-(y?264:0)),K=E?32:11;d.l<W&&d[d.l]!=13;)switch(B={},B.name=t1.utils.decode(V,d.slice(d.l,d.l+K)).replace(/[\u0000\r\n].*$/g,""),d.l+=K,B.type=String.fromCharCode(d.read_shift(1)),p!=2&&!E&&(B.offset=d.read_shift(4)),B.len=d.read_shift(1),p==2&&(B.offset=d.read_shift(2)),B.dec=d.read_shift(1),B.name.length&&k.push(B),p!=2&&(d.l+=E?13:14),B.type){case"B":(!y||B.len!=8)&&c.WTF&&console.log("Skipping "+B.name+":"+B.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+B.name+":"+B.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+B.type)}if(d[d.l]!==13&&(d.l=A-1),d.read_shift(1)!==13)throw new Error("DBF Terminator not found "+d.l+" "+d[d.l]);d.l=A;var D=0,L=0;for(f[0]=[],L=0;L!=k.length;++L)f[0][L]=k[L].name;for(;b-- >0;){if(d[d.l]===42){d.l+=N;continue}for(++d.l,f[++D]=[],L=0,L=0;L!=k.length;++L){var R=d.slice(d.l,d.l+k[L].len);d.l+=k[L].len,ia(R,0);var q=t1.utils.decode(V,R);switch(k[L].type){case"C":q.trim().length&&(f[D][L]=q.replace(/\s+$/,""));break;case"D":q.length===8?f[D][L]=new Date(+q.slice(0,4),+q.slice(4,6)-1,+q.slice(6,8)):f[D][L]=q;break;case"F":f[D][L]=parseFloat(q.trim());break;case"+":case"I":f[D][L]=E?R.read_shift(-4,"i")^2147483648:R.read_shift(4,"i");break;case"L":switch(q.trim().toUpperCase()){case"Y":case"T":f[D][L]=!0;break;case"N":case"F":f[D][L]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+q+"|")}break;case"M":if(!g)throw new Error("DBF Unexpected MEMO for type "+p.toString(16));f[D][L]="##MEMO##"+(E?parseInt(q.trim(),10):R.read_shift(4));break;case"N":q=q.replace(/\u0000/g,"").trim(),q&&q!="."&&(f[D][L]=+q||0);break;case"@":f[D][L]=new Date(R.read_shift(-8,"f")-621356832e5);break;case"T":f[D][L]=new Date((R.read_shift(4)-2440588)*864e5+R.read_shift(4));break;case"Y":f[D][L]=R.read_shift(4,"i")/1e4+R.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":f[D][L]=-R.read_shift(-8,"f");break;case"B":if(y&&k[L].len==8){f[D][L]=R.read_shift(8,"f");break}case"G":case"P":R.l+=k[L].len;break;case"0":if(k[L].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+k[L].type)}}}if(p!=2&&d.l<d.length&&d[d.l++]!=26)throw new Error("DBF EOF Marker missing "+(d.l-1)+" of "+d.length+" "+d[d.l-1].toString(16));return c&&c.sheetRows&&(f=f.slice(0,c.sheetRows)),c.DBF=k,f}function r(o,c){var f=c||{};f.dateNF||(f.dateNF="yyyymmdd");var d=$p(n(o,f),f);return d["!cols"]=f.DBF.map(function(p){return{wch:p.len,DBF:p}}),delete f.DBF,d}function s(o,c){try{return ld(r(o,c),c)}catch(f){if(c&&c.WTF)throw f}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function a(o,c){var f=c||{};if(+f.codepage>=0&&$l(+f.codepage),f.type=="string")throw new Error("Cannot write DBF to JS string");var d=cT(),p=vT(o,{header:1,raw:!0,cellDates:!0}),g=p[0],y=p.slice(1),E=o["!cols"]||[],b=0,A=0,N=0,V=1;for(b=0;b<g.length;++b){if(((E[b]||{}).DBF||{}).name){g[b]=E[b].DBF.name,++N;continue}if(g[b]!=null){if(++N,typeof g[b]=="number"&&(g[b]=g[b].toString(10)),typeof g[b]!="string")throw new Error("DBF Invalid column name "+g[b]+" |"+typeof g[b]+"|");if(g.indexOf(g[b])!==b){for(A=0;A<1024;++A)if(g.indexOf(g[b]+"_"+A)==-1){g[b]+="_"+A;break}}}}var k=Hs(o["!ref"]),B=[],W=[],K=[];for(b=0;b<=k.e.c-k.s.c;++b){var D="",L="",R=0,q=[];for(A=0;A<y.length;++A)y[A][b]!=null&&q.push(y[A][b]);if(q.length==0||g[b]==null){B[b]="?";continue}for(A=0;A<q.length;++A){switch(typeof q[A]){case"number":L="B";break;case"string":L="C";break;case"boolean":L="L";break;case"object":L=q[A]instanceof Date?"D":"C";break;default:L="C"}R=Math.max(R,String(q[A]).length),D=D&&D!=L?"C":L}R>250&&(R=250),L=((E[b]||{}).DBF||{}).type,L=="C"&&E[b].DBF.len>R&&(R=E[b].DBF.len),D=="B"&&L=="N"&&(D="N",K[b]=E[b].DBF.dec,R=E[b].DBF.len),W[b]=D=="C"||L=="N"?R:i[D]||0,V+=W[b],B[b]=D}var P=d.next(32);for(P.write_shift(4,318902576),P.write_shift(4,y.length),P.write_shift(2,296+32*N),P.write_shift(2,V),b=0;b<4;++b)P.write_shift(4,0);for(P.write_shift(4,0|(+e[s9]||3)<<8),b=0,A=0;b<g.length;++b)if(g[b]!=null){var M=d.next(32),H=(g[b].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);M.write_shift(1,H,"sbcs"),M.write_shift(1,B[b]=="?"?"C":B[b],"sbcs"),M.write_shift(4,A),M.write_shift(1,W[b]||i[B[b]]||0),M.write_shift(1,K[b]||0),M.write_shift(1,2),M.write_shift(4,0),M.write_shift(1,0),M.write_shift(4,0),M.write_shift(4,0),A+=W[b]||i[B[b]]||0}var ae=d.next(264);for(ae.write_shift(4,13),b=0;b<65;++b)ae.write_shift(4,0);for(b=0;b<y.length;++b){var Se=d.next(V);for(Se.write_shift(1,0),A=0;A<g.length;++A)if(g[A]!=null)switch(B[A]){case"L":Se.write_shift(1,y[b][A]==null?63:y[b][A]?84:70);break;case"B":Se.write_shift(8,y[b][A]||0,"f");break;case"N":var oe="0";for(typeof y[b][A]=="number"&&(oe=y[b][A].toFixed(K[A]||0)),N=0;N<W[A]-oe.length;++N)Se.write_shift(1,32);Se.write_shift(1,oe,"sbcs");break;case"D":y[b][A]?(Se.write_shift(4,("0000"+y[b][A].getFullYear()).slice(-4),"sbcs"),Se.write_shift(2,("00"+(y[b][A].getMonth()+1)).slice(-2),"sbcs"),Se.write_shift(2,("00"+y[b][A].getDate()).slice(-2),"sbcs")):Se.write_shift(8,"00000000","sbcs");break;case"C":var ve=String(y[b][A]!=null?y[b][A]:"").slice(0,W[A]);for(Se.write_shift(1,ve,"sbcs"),N=0;N<W[A]-ve.length;++N)Se.write_shift(1,32);break}}return d.next(1).write_shift(1,26),d.end()}return{to_workbook:s,to_sheet:r,from_sheet:a}})(),d0e=(function(){var t={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+jc(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),n=function(g,y){var E=t[y];return typeof E=="number"?fP(E):E},r=function(g,y,E){var b=y.charCodeAt(0)-32<<4|E.charCodeAt(0)-48;return b==59?g:fP(b)};t["|"]=254;function s(g,y){switch(y.type){case"base64":return i(jo(g),y);case"binary":return i(g,y);case"buffer":return i(hr&&Buffer.isBuffer(g)?g.toString("binary"):Nh(g),y);case"array":return i(ph(g),y)}throw new Error("Unrecognized type "+y.type)}function i(g,y){var E=g.split(/[\n\r]+/),b=-1,A=-1,N=0,V=0,k=[],B=[],W=null,K={},D=[],L=[],R=[],q=0,P;for(+y.codepage>=0&&$l(+y.codepage);N!==E.length;++N){q=0;var M=E[N].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(e,n),H=M.replace(/;;/g,"\0").split(";").map(function(Y){return Y.replace(/\u0000/g,";")}),ae=H[0],Se;if(M.length>0)switch(ae){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":H[1].charAt(0)=="P"&&B.push(M.slice(3).replace(/;;/g,";"));break;case"C":var oe=!1,ve=!1,Ie=!1,xe=!1,Re=-1,re=-1;for(V=1;V<H.length;++V)switch(H[V].charAt(0)){case"A":break;case"X":A=parseInt(H[V].slice(1))-1,ve=!0;break;case"Y":for(b=parseInt(H[V].slice(1))-1,ve||(A=0),P=k.length;P<=b;++P)k[P]=[];break;case"K":Se=H[V].slice(1),Se.charAt(0)==='"'?Se=Se.slice(1,Se.length-1):Se==="TRUE"?Se=!0:Se==="FALSE"?Se=!1:isNaN(Yl(Se))?isNaN(Np(Se).getDate())||(Se=zi(Se)):(Se=Yl(Se),W!==null&&Gp(W)&&(Se=Iv(Se))),oe=!0;break;case"E":xe=!0;var O=lp(H[V].slice(1),{r:b,c:A});k[b][A]=[k[b][A],O];break;case"S":Ie=!0,k[b][A]=[k[b][A],"S5S"];break;case"G":break;case"R":Re=parseInt(H[V].slice(1))-1;break;case"C":re=parseInt(H[V].slice(1))-1;break;default:if(y&&y.WTF)throw new Error("SYLK bad record "+M)}if(oe&&(k[b][A]&&k[b][A].length==2?k[b][A][0]=Se:k[b][A]=Se,W=null),Ie){if(xe)throw new Error("SYLK shared formula cannot have own formula");var J=Re>-1&&k[Re][re];if(!J||!J[1])throw new Error("SYLK shared formula cannot find base");k[b][A][1]=mB(J[1],{r:b-Re,c:A-re})}break;case"F":var U=0;for(V=1;V<H.length;++V)switch(H[V].charAt(0)){case"X":A=parseInt(H[V].slice(1))-1,++U;break;case"Y":for(b=parseInt(H[V].slice(1))-1,P=k.length;P<=b;++P)k[P]=[];break;case"M":q=parseInt(H[V].slice(1))/20;break;case"F":break;case"G":break;case"P":W=B[parseInt(H[V].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(R=H[V].slice(1).split(" "),P=parseInt(R[0],10);P<=parseInt(R[1],10);++P)q=parseInt(R[2],10),L[P-1]=q===0?{hidden:!0}:{wch:q},Ip(L[P-1]);break;case"C":A=parseInt(H[V].slice(1))-1,L[A]||(L[A]={});break;case"R":b=parseInt(H[V].slice(1))-1,D[b]||(D[b]={}),q>0?(D[b].hpt=q,D[b].hpx=o1(q)):q===0&&(D[b].hidden=!0);break;default:if(y&&y.WTF)throw new Error("SYLK bad record "+M)}U<1&&(W=null);break;default:if(y&&y.WTF)throw new Error("SYLK bad record "+M)}}return D.length>0&&(K["!rows"]=D),L.length>0&&(K["!cols"]=L),y&&y.sheetRows&&(k=k.slice(0,y.sheetRows)),[k,K]}function a(g,y){var E=s(g,y),b=E[0],A=E[1],N=$p(b,y);return jc(A).forEach(function(V){N[V]=A[V]}),N}function o(g,y){return ld(a(g,y),y)}function c(g,y,E,b){var A="C;Y"+(E+1)+";X"+(b+1)+";K";switch(g.t){case"n":A+=g.v||0,g.f&&!g.F&&(A+=";E"+Qpe(g.f,{r:E,c:b}));break;case"b":A+=g.v?"TRUE":"FALSE";break;case"e":A+=g.w||g.v;break;case"d":A+='"'+(g.w||g.v)+'"';break;case"s":A+='"'+g.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return A}function f(g,y){y.forEach(function(E,b){var A="F;W"+(b+1)+" "+(b+1)+" ";E.hidden?A+="0":(typeof E.width=="number"&&!E.wpx&&(E.wpx=V2(E.width)),typeof E.wpx=="number"&&!E.wch&&(E.wch=U2(E.wpx)),typeof E.wch=="number"&&(A+=Math.round(E.wch))),A.charAt(A.length-1)!=" "&&g.push(A)})}function d(g,y){y.forEach(function(E,b){var A="F;";E.hidden?A+="M0;":E.hpt?A+="M"+20*E.hpt+";":E.hpx&&(A+="M"+20*dB(E.hpx)+";"),A.length>2&&g.push(A+"R"+(b+1))})}function p(g,y){var E=["ID;PWXL;N;E"],b=[],A=Hs(g["!ref"]),N,V=Array.isArray(g),k=`\r
`;E.push("P;PGeneral"),E.push("F;P0;DG0G8;M255"),g["!cols"]&&f(E,g["!cols"]),g["!rows"]&&d(E,g["!rows"]),E.push("B;Y"+(A.e.r-A.s.r+1)+";X"+(A.e.c-A.s.c+1)+";D"+[A.s.c,A.s.r,A.e.c,A.e.r].join(" "));for(var B=A.s.r;B<=A.e.r;++B)for(var W=A.s.c;W<=A.e.c;++W){var K=jn({r:B,c:W});N=V?(g[B]||[])[W]:g[K],!(!N||N.v==null&&(!N.f||N.F))&&b.push(c(N,g,B,W))}return E.join(k)+k+b.join(k)+k+"E"+k}return{to_workbook:o,to_sheet:a,from_sheet:p}})(),h0e=(function(){function t(i,a){switch(a.type){case"base64":return e(jo(i),a);case"binary":return e(i,a);case"buffer":return e(hr&&Buffer.isBuffer(i)?i.toString("binary"):Nh(i),a);case"array":return e(ph(i),a)}throw new Error("Unrecognized type "+a.type)}function e(i,a){for(var o=i.split(`
`),c=-1,f=-1,d=0,p=[];d!==o.length;++d){if(o[d].trim()==="BOT"){p[++c]=[],f=0;continue}if(!(c<0)){var g=o[d].trim().split(","),y=g[0],E=g[1];++d;for(var b=o[d]||"";(b.match(/["]/g)||[]).length&1&&d<o.length-1;)b+=`
`+o[++d];switch(b=b.trim(),+y){case-1:if(b==="BOT"){p[++c]=[],f=0;continue}else if(b!=="EOD")throw new Error("Unrecognized DIF special command "+b);break;case 0:b==="TRUE"?p[c][f]=!0:b==="FALSE"?p[c][f]=!1:isNaN(Yl(E))?isNaN(Np(E).getDate())?p[c][f]=E:p[c][f]=zi(E):p[c][f]=Yl(E),++f;break;case 1:b=b.slice(1,b.length-1),b=b.replace(/""/g,'"'),b&&b.match(/^=".*"$/)&&(b=b.slice(2,-1)),p[c][f++]=b!==""?b:null;break}if(b==="EOD")break}}return a&&a.sheetRows&&(p=p.slice(0,a.sheetRows)),p}function n(i,a){return $p(t(i,a),a)}function r(i,a){return ld(n(i,a),a)}var s=(function(){var i=function(c,f,d,p,g){c.push(f),c.push(d+","+p),c.push('"'+g.replace(/"/g,'""')+'"')},a=function(c,f,d,p){c.push(f+","+d),c.push(f==1?'"'+p.replace(/"/g,'""')+'"':p)};return function(c){var f=[],d=Hs(c["!ref"]),p,g=Array.isArray(c);i(f,"TABLE",0,1,"sheetjs"),i(f,"VECTORS",0,d.e.r-d.s.r+1,""),i(f,"TUPLES",0,d.e.c-d.s.c+1,""),i(f,"DATA",0,0,"");for(var y=d.s.r;y<=d.e.r;++y){a(f,-1,0,"BOT");for(var E=d.s.c;E<=d.e.c;++E){var b=jn({r:y,c:E});if(p=g?(c[y]||[])[E]:c[b],!p){a(f,1,0,"");continue}switch(p.t){case"n":var A=p.w;!A&&p.v!=null&&(A=p.v),A==null?p.f&&!p.F?a(f,1,0,"="+p.f):a(f,1,0,""):a(f,0,A,"V");break;case"b":a(f,0,p.v?1:0,p.v?"TRUE":"FALSE");break;case"s":a(f,1,0,isNaN(p.v)?p.v:'="'+p.v+'"');break;case"d":p.w||(p.w=xl(p.z||Gn[14],$a(zi(p.v)))),a(f,0,p.w,"V");break;default:a(f,1,0,"")}}}a(f,-1,0,"EOD");var N=`\r
`,V=f.join(N);return V}})();return{to_workbook:r,to_sheet:n,from_sheet:s}})(),p0e=(function(){function t(p){return p.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(p){return p.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function n(p,g){for(var y=p.split(`
`),E=-1,b=-1,A=0,N=[];A!==y.length;++A){var V=y[A].trim().split(":");if(V[0]==="cell"){var k=za(V[1]);if(N.length<=k.r)for(E=N.length;E<=k.r;++E)N[E]||(N[E]=[]);switch(E=k.r,b=k.c,V[2]){case"t":N[E][b]=t(V[3]);break;case"v":N[E][b]=+V[3];break;case"vtf":var B=V[V.length-1];case"vtc":switch(V[3]){case"nl":N[E][b]=!!+V[4];break;default:N[E][b]=+V[4];break}V[2]=="vtf"&&(N[E][b]=[N[E][b],B])}}}return g&&g.sheetRows&&(N=N.slice(0,g.sheetRows)),N}function r(p,g){return $p(n(p,g),g)}function s(p,g){return ld(r(p,g),g)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),a=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function f(p){if(!p||!p["!ref"])return"";for(var g=[],y=[],E,b="",A=Wp(p["!ref"]),N=Array.isArray(p),V=A.s.r;V<=A.e.r;++V)for(var k=A.s.c;k<=A.e.c;++k)if(b=jn({r:V,c:k}),E=N?(p[V]||[])[k]:p[b],!(!E||E.v==null||E.t==="z")){switch(y=["cell",b,"t"],E.t){case"s":case"str":y.push(e(E.v));break;case"n":E.f?(y[2]="vtf",y[3]="n",y[4]=E.v,y[5]=e(E.f)):(y[2]="v",y[3]=E.v);break;case"b":y[2]="vt"+(E.f?"f":"c"),y[3]="nl",y[4]=E.v?"1":"0",y[5]=e(E.f||(E.v?"TRUE":"FALSE"));break;case"d":var B=$a(zi(E.v));y[2]="vtc",y[3]="nd",y[4]=""+B,y[5]=E.w||xl(E.z||Gn[14],B);break;case"e":continue}g.push(y.join(":"))}return g.push("sheet:c:"+(A.e.c-A.s.c+1)+":r:"+(A.e.r-A.s.r+1)+":tvf:1"),g.push("valueformat:1:text-wiki"),g.join(`
`)}function d(p){return[i,a,o,a,f(p),c].join(`
`)}return{to_workbook:s,to_sheet:r,from_sheet:d}})(),i1=(function(){function t(d,p,g,y,E){E.raw?p[g][y]=d:d===""||(d==="TRUE"?p[g][y]=!0:d==="FALSE"?p[g][y]=!1:isNaN(Yl(d))?isNaN(Np(d).getDate())?p[g][y]=d:p[g][y]=zi(d):p[g][y]=Yl(d))}function e(d,p){var g=p||{},y=[];if(!d||d.length===0)return y;for(var E=d.split(/[\r\n]/),b=E.length-1;b>=0&&E[b].length===0;)--b;for(var A=10,N=0,V=0;V<=b;++V)N=E[V].indexOf(" "),N==-1?N=E[V].length:N++,A=Math.max(A,N);for(V=0;V<=b;++V){y[V]=[];var k=0;for(t(E[V].slice(0,A).trim(),y,V,k,g),k=1;k<=(E[V].length-A)/10+1;++k)t(E[V].slice(A+(k-1)*10,A+k*10).trim(),y,V,k,g)}return g.sheetRows&&(y=y.slice(0,g.sheetRows)),y}var n={44:",",9:"	",59:";",124:"|"},r={44:3,9:2,59:1,124:0};function s(d){for(var p={},g=!1,y=0,E=0;y<d.length;++y)(E=d.charCodeAt(y))==34?g=!g:!g&&E in n&&(p[E]=(p[E]||0)+1);E=[];for(y in p)Object.prototype.hasOwnProperty.call(p,y)&&E.push([p[y],y]);if(!E.length){p=r;for(y in p)Object.prototype.hasOwnProperty.call(p,y)&&E.push([p[y],y])}return E.sort(function(b,A){return b[0]-A[0]||r[b[1]]-r[A[1]]}),n[E.pop()[1]]||44}function i(d,p){var g=p||{},y="",E=g.dense?[]:{},b={s:{c:0,r:0},e:{c:0,r:0}};d.slice(0,4)=="sep="?d.charCodeAt(5)==13&&d.charCodeAt(6)==10?(y=d.charAt(4),d=d.slice(7)):d.charCodeAt(5)==13||d.charCodeAt(5)==10?(y=d.charAt(4),d=d.slice(6)):y=s(d.slice(0,1024)):g&&g.FS?y=g.FS:y=s(d.slice(0,1024));var A=0,N=0,V=0,k=0,B=0,W=y.charCodeAt(0),K=!1,D=0,L=d.charCodeAt(0);d=d.replace(/\r\n/mg,`
`);var R=g.dateNF!=null?Sfe(g.dateNF):null;function q(){var P=d.slice(k,B),M={};if(P.charAt(0)=='"'&&P.charAt(P.length-1)=='"'&&(P=P.slice(1,-1).replace(/""/g,'"')),P.length===0)M.t="z";else if(g.raw)M.t="s",M.v=P;else if(P.trim().length===0)M.t="s",M.v=P;else if(P.charCodeAt(0)==61)P.charCodeAt(1)==34&&P.charCodeAt(P.length-1)==34?(M.t="s",M.v=P.slice(2,-1).replace(/""/g,'"')):eme(P)?(M.t="n",M.f=P.slice(1)):(M.t="s",M.v=P);else if(P=="TRUE")M.t="b",M.v=!0;else if(P=="FALSE")M.t="b",M.v=!1;else if(!isNaN(V=Yl(P)))M.t="n",g.cellText!==!1&&(M.w=P),M.v=V;else if(!isNaN(Np(P).getDate())||R&&P.match(R)){M.z=g.dateNF||Gn[14];var H=0;R&&P.match(R)&&(P=Afe(P,g.dateNF,P.match(R)||[]),H=1),g.cellDates?(M.t="d",M.v=zi(P,H)):(M.t="n",M.v=$a(zi(P,H))),g.cellText!==!1&&(M.w=xl(M.z,M.v instanceof Date?$a(M.v):M.v)),g.cellNF||delete M.z}else M.t="s",M.v=P;if(M.t=="z"||(g.dense?(E[A]||(E[A]=[]),E[A][N]=M):E[jn({c:N,r:A})]=M),k=B+1,L=d.charCodeAt(k),b.e.c<N&&(b.e.c=N),b.e.r<A&&(b.e.r=A),D==W)++N;else if(N=0,++A,g.sheetRows&&g.sheetRows<=A)return!0}e:for(;B<d.length;++B)switch(D=d.charCodeAt(B)){case 34:L===34&&(K=!K);break;case W:case 10:case 13:if(!K&&q())break e;break}return B-k>0&&q(),E["!ref"]=br(b),E}function a(d,p){return!(p&&p.PRN)||p.FS||d.slice(0,4)=="sep="||d.indexOf("	")>=0||d.indexOf(",")>=0||d.indexOf(";")>=0?i(d,p):$p(e(d,p),p)}function o(d,p){var g="",y=p.type=="string"?[0,0,0,0]:WS(d,p);switch(p.type){case"base64":g=jo(d);break;case"binary":g=d;break;case"buffer":p.codepage==65001?g=d.toString("utf8"):p.codepage&&typeof t1<"u"||(g=hr&&Buffer.isBuffer(d)?d.toString("binary"):Nh(d));break;case"array":g=ph(d);break;case"string":g=d;break;default:throw new Error("Unrecognized type "+p.type)}return y[0]==239&&y[1]==187&&y[2]==191?g=is(g.slice(3)):p.type!="string"&&p.type!="buffer"&&p.codepage==65001?g=is(g):p.type=="binary"&&typeof t1<"u",g.slice(0,19)=="socialcalc:version:"?p0e.to_sheet(p.type=="string"?g:is(g),p):a(g,p)}function c(d,p){return ld(o(d,p),p)}function f(d){for(var p=[],g=Hs(d["!ref"]),y,E=Array.isArray(d),b=g.s.r;b<=g.e.r;++b){for(var A=[],N=g.s.c;N<=g.e.c;++N){var V=jn({r:b,c:N});if(y=E?(d[b]||[])[N]:d[V],!y||y.v==null){A.push("          ");continue}for(var k=(y.w||(Ou(y),y.w)||"").slice(0,10);k.length<10;)k+=" ";A.push(k+(N===0?" ":""))}p.push(A.join(""))}return p.join(`
`)}return{to_workbook:c,to_sheet:o,from_sheet:f}})();function m0e(t,e){var n=e||{},r=!!n.WTF;n.WTF=!0;try{var s=d0e.to_workbook(t,n);return n.WTF=r,s}catch(i){if(n.WTF=r,!i.message.match(/SYLK bad record ID/)&&r)throw i;return i1.to_workbook(t,e)}}var Sg=(function(){function t(O,J,U){if(O){ia(O,O.l||0);for(var Y=U.Enum||Re;O.l<O.length;){var ne=O.read_shift(2),ye=Y[ne]||Y[65535],pe=O.read_shift(2),ue=O.l+pe,Te=ye.f&&ye.f(O,pe,U);if(O.l=ue,J(Te,ye,ne))return}}}function e(O,J){switch(J.type){case"base64":return n(Gl(jo(O)),J);case"binary":return n(Gl(O),J);case"buffer":case"array":return n(O,J)}throw"Unsupported type "+J.type}function n(O,J){if(!O)return O;var U=J||{},Y=U.dense?[]:{},ne="Sheet1",ye="",pe=0,ue={},Te=[],je=[],ce={s:{r:0,c:0},e:{r:0,c:0}},dt=U.sheetRows||0;if(O[2]==0&&(O[3]==8||O[3]==9)&&O.length>=16&&O[14]==5&&O[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(O[2]==2)U.Enum=Re,t(O,function(it,Pt,tt){switch(tt){case 0:U.vers=it,it>=4096&&(U.qpro=!0);break;case 6:ce=it;break;case 204:it&&(ye=it);break;case 222:ye=it;break;case 15:case 51:U.qpro||(it[1].v=it[1].v.slice(1));case 13:case 14:case 16:tt==14&&(it[2]&112)==112&&(it[2]&15)>1&&(it[2]&15)<15&&(it[1].z=U.dateNF||Gn[14],U.cellDates&&(it[1].t="d",it[1].v=Iv(it[1].v))),U.qpro&&it[3]>pe&&(Y["!ref"]=br(ce),ue[ne]=Y,Te.push(ne),Y=U.dense?[]:{},ce={s:{r:0,c:0},e:{r:0,c:0}},pe=it[3],ne=ye||"Sheet"+(pe+1),ye="");var St=U.dense?(Y[it[0].r]||[])[it[0].c]:Y[jn(it[0])];if(St){St.t=it[1].t,St.v=it[1].v,it[1].z!=null&&(St.z=it[1].z),it[1].f!=null&&(St.f=it[1].f);break}U.dense?(Y[it[0].r]||(Y[it[0].r]=[]),Y[it[0].r][it[0].c]=it[1]):Y[jn(it[0])]=it[1];break}},U);else if(O[2]==26||O[2]==14)U.Enum=re,O[2]==14&&(U.qpro=!0,O.l=0),t(O,function(it,Pt,tt){switch(tt){case 204:ne=it;break;case 22:it[1].v=it[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(it[3]>pe&&(Y["!ref"]=br(ce),ue[ne]=Y,Te.push(ne),Y=U.dense?[]:{},ce={s:{r:0,c:0},e:{r:0,c:0}},pe=it[3],ne="Sheet"+(pe+1)),dt>0&&it[0].r>=dt)break;U.dense?(Y[it[0].r]||(Y[it[0].r]=[]),Y[it[0].r][it[0].c]=it[1]):Y[jn(it[0])]=it[1],ce.e.c<it[0].c&&(ce.e.c=it[0].c),ce.e.r<it[0].r&&(ce.e.r=it[0].r);break;case 27:it[14e3]&&(je[it[14e3][0]]=it[14e3][1]);break;case 1537:je[it[0]]=it[1],it[0]==pe&&(ne=it[1]);break}},U);else throw new Error("Unrecognized LOTUS BOF "+O[2]);if(Y["!ref"]=br(ce),ue[ye||ne]=Y,Te.push(ye||ne),!je.length)return{SheetNames:Te,Sheets:ue};for(var pt={},se=[],nt=0;nt<je.length;++nt)ue[Te[nt]]?(se.push(je[nt]||Te[nt]),pt[je[nt]]=ue[je[nt]]||ue[Te[nt]]):(se.push(je[nt]),pt[je[nt]]={"!ref":"A1"});return{SheetNames:se,Sheets:pt}}function r(O,J){var U=J||{};if(+U.codepage>=0&&$l(+U.codepage),U.type=="string")throw new Error("Cannot write WK1 to JS string");var Y=cT(),ne=Hs(O["!ref"]),ye=Array.isArray(O),pe=[];ql(Y,0,i(1030)),ql(Y,6,c(ne));for(var ue=Math.min(ne.e.r,8191),Te=ne.s.r;Te<=ue;++Te)for(var je=la(Te),ce=ne.s.c;ce<=ne.e.c;++ce){Te===ne.s.r&&(pe[ce]=Ai(ce));var dt=pe[ce]+je,pt=ye?(O[Te]||[])[ce]:O[dt];if(!(!pt||pt.t=="z"))if(pt.t=="n")(pt.v|0)==pt.v&&pt.v>=-32768&&pt.v<=32767?ql(Y,13,y(Te,ce,pt.v)):ql(Y,14,b(Te,ce,pt.v));else{var se=Ou(pt);ql(Y,15,p(Te,ce,se.slice(0,239)))}}return ql(Y,1),Y.end()}function s(O,J){var U=J||{};if(+U.codepage>=0&&$l(+U.codepage),U.type=="string")throw new Error("Cannot write WK3 to JS string");var Y=cT();ql(Y,0,a(O));for(var ne=0,ye=0;ne<O.SheetNames.length;++ne)(O.Sheets[O.SheetNames[ne]]||{})["!ref"]&&ql(Y,27,xe(O.SheetNames[ne],ye++));var pe=0;for(ne=0;ne<O.SheetNames.length;++ne){var ue=O.Sheets[O.SheetNames[ne]];if(!(!ue||!ue["!ref"])){for(var Te=Hs(ue["!ref"]),je=Array.isArray(ue),ce=[],dt=Math.min(Te.e.r,8191),pt=Te.s.r;pt<=dt;++pt)for(var se=la(pt),nt=Te.s.c;nt<=Te.e.c;++nt){pt===Te.s.r&&(ce[nt]=Ai(nt));var it=ce[nt]+se,Pt=je?(ue[pt]||[])[nt]:ue[it];if(!(!Pt||Pt.t=="z"))if(Pt.t=="n")ql(Y,23,q(pt,nt,pe,Pt.v));else{var tt=Ou(Pt);ql(Y,22,D(pt,nt,pe,tt.slice(0,239)))}}++pe}}return ql(Y,1),Y.end()}function i(O){var J=Ei(2);return J.write_shift(2,O),J}function a(O){var J=Ei(26);J.write_shift(2,4096),J.write_shift(2,4),J.write_shift(4,0);for(var U=0,Y=0,ne=0,ye=0;ye<O.SheetNames.length;++ye){var pe=O.SheetNames[ye],ue=O.Sheets[pe];if(!(!ue||!ue["!ref"])){++ne;var Te=Wp(ue["!ref"]);U<Te.e.r&&(U=Te.e.r),Y<Te.e.c&&(Y=Te.e.c)}}return U>8191&&(U=8191),J.write_shift(2,U),J.write_shift(1,ne),J.write_shift(1,Y),J.write_shift(2,0),J.write_shift(2,0),J.write_shift(1,1),J.write_shift(1,2),J.write_shift(4,0),J.write_shift(4,0),J}function o(O,J,U){var Y={s:{c:0,r:0},e:{c:0,r:0}};return J==8&&U.qpro?(Y.s.c=O.read_shift(1),O.l++,Y.s.r=O.read_shift(2),Y.e.c=O.read_shift(1),O.l++,Y.e.r=O.read_shift(2),Y):(Y.s.c=O.read_shift(2),Y.s.r=O.read_shift(2),J==12&&U.qpro&&(O.l+=2),Y.e.c=O.read_shift(2),Y.e.r=O.read_shift(2),J==12&&U.qpro&&(O.l+=2),Y.s.c==65535&&(Y.s.c=Y.e.c=Y.s.r=Y.e.r=0),Y)}function c(O){var J=Ei(8);return J.write_shift(2,O.s.c),J.write_shift(2,O.s.r),J.write_shift(2,O.e.c),J.write_shift(2,O.e.r),J}function f(O,J,U){var Y=[{c:0,r:0},{t:"n",v:0},0,0];return U.qpro&&U.vers!=20768?(Y[0].c=O.read_shift(1),Y[3]=O.read_shift(1),Y[0].r=O.read_shift(2),O.l+=2):(Y[2]=O.read_shift(1),Y[0].c=O.read_shift(2),Y[0].r=O.read_shift(2)),Y}function d(O,J,U){var Y=O.l+J,ne=f(O,J,U);if(ne[1].t="s",U.vers==20768){O.l++;var ye=O.read_shift(1);return ne[1].v=O.read_shift(ye,"utf8"),ne}return U.qpro&&O.l++,ne[1].v=O.read_shift(Y-O.l,"cstr"),ne}function p(O,J,U){var Y=Ei(7+U.length);Y.write_shift(1,255),Y.write_shift(2,J),Y.write_shift(2,O),Y.write_shift(1,39);for(var ne=0;ne<Y.length;++ne){var ye=U.charCodeAt(ne);Y.write_shift(1,ye>=128?95:ye)}return Y.write_shift(1,0),Y}function g(O,J,U){var Y=f(O,J,U);return Y[1].v=O.read_shift(2,"i"),Y}function y(O,J,U){var Y=Ei(7);return Y.write_shift(1,255),Y.write_shift(2,J),Y.write_shift(2,O),Y.write_shift(2,U,"i"),Y}function E(O,J,U){var Y=f(O,J,U);return Y[1].v=O.read_shift(8,"f"),Y}function b(O,J,U){var Y=Ei(13);return Y.write_shift(1,255),Y.write_shift(2,J),Y.write_shift(2,O),Y.write_shift(8,U,"f"),Y}function A(O,J,U){var Y=O.l+J,ne=f(O,J,U);if(ne[1].v=O.read_shift(8,"f"),U.qpro)O.l=Y;else{var ye=O.read_shift(2);B(O.slice(O.l,O.l+ye),ne),O.l+=ye}return ne}function N(O,J,U){var Y=J&32768;return J&=-32769,J=(Y?O:0)+(J>=8192?J-16384:J),(Y?"":"$")+(U?Ai(J):la(J))}var V={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},k=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function B(O,J){ia(O,0);for(var U=[],Y=0,ne="",ye="",pe="",ue="";O.l<O.length;){var Te=O[O.l++];switch(Te){case 0:U.push(O.read_shift(8,"f"));break;case 1:ye=N(J[0].c,O.read_shift(2),!0),ne=N(J[0].r,O.read_shift(2),!1),U.push(ye+ne);break;case 2:{var je=N(J[0].c,O.read_shift(2),!0),ce=N(J[0].r,O.read_shift(2),!1);ye=N(J[0].c,O.read_shift(2),!0),ne=N(J[0].r,O.read_shift(2),!1),U.push(je+ce+":"+ye+ne)}break;case 3:if(O.l<O.length){console.error("WK1 premature formula end");return}break;case 4:U.push("("+U.pop()+")");break;case 5:U.push(O.read_shift(2));break;case 6:{for(var dt="";Te=O[O.l++];)dt+=String.fromCharCode(Te);U.push('"'+dt.replace(/"/g,'""')+'"')}break;case 8:U.push("-"+U.pop());break;case 23:U.push("+"+U.pop());break;case 22:U.push("NOT("+U.pop()+")");break;case 20:case 21:ue=U.pop(),pe=U.pop(),U.push(["AND","OR"][Te-20]+"("+pe+","+ue+")");break;default:if(Te<32&&k[Te])ue=U.pop(),pe=U.pop(),U.push(pe+k[Te]+ue);else if(V[Te]){if(Y=V[Te][1],Y==69&&(Y=O[O.l++]),Y>U.length){console.error("WK1 bad formula parse 0x"+Te.toString(16)+":|"+U.join("|")+"|");return}var pt=U.slice(-Y);U.length-=Y,U.push(V[Te][0]+"("+pt.join(",")+")")}else return Te<=7?console.error("WK1 invalid opcode "+Te.toString(16)):Te<=24?console.error("WK1 unsupported op "+Te.toString(16)):Te<=30?console.error("WK1 invalid opcode "+Te.toString(16)):Te<=115?console.error("WK1 unsupported function opcode "+Te.toString(16)):console.error("WK1 unrecognized opcode "+Te.toString(16))}}U.length==1?J[1].f=""+U[0]:console.error("WK1 bad formula parse |"+U.join("|")+"|")}function W(O){var J=[{c:0,r:0},{t:"n",v:0},0];return J[0].r=O.read_shift(2),J[3]=O[O.l++],J[0].c=O[O.l++],J}function K(O,J){var U=W(O);return U[1].t="s",U[1].v=O.read_shift(J-4,"cstr"),U}function D(O,J,U,Y){var ne=Ei(6+Y.length);ne.write_shift(2,O),ne.write_shift(1,U),ne.write_shift(1,J),ne.write_shift(1,39);for(var ye=0;ye<Y.length;++ye){var pe=Y.charCodeAt(ye);ne.write_shift(1,pe>=128?95:pe)}return ne.write_shift(1,0),ne}function L(O,J){var U=W(O);U[1].v=O.read_shift(2);var Y=U[1].v>>1;if(U[1].v&1)switch(Y&7){case 0:Y=(Y>>3)*5e3;break;case 1:Y=(Y>>3)*500;break;case 2:Y=(Y>>3)/20;break;case 3:Y=(Y>>3)/200;break;case 4:Y=(Y>>3)/2e3;break;case 5:Y=(Y>>3)/2e4;break;case 6:Y=(Y>>3)/16;break;case 7:Y=(Y>>3)/64;break}return U[1].v=Y,U}function R(O,J){var U=W(O),Y=O.read_shift(4),ne=O.read_shift(4),ye=O.read_shift(2);if(ye==65535)return Y===0&&ne===3221225472?(U[1].t="e",U[1].v=15):Y===0&&ne===3489660928?(U[1].t="e",U[1].v=42):U[1].v=0,U;var pe=ye&32768;return ye=(ye&32767)-16446,U[1].v=(1-pe*2)*(ne*Math.pow(2,ye+32)+Y*Math.pow(2,ye)),U}function q(O,J,U,Y){var ne=Ei(14);if(ne.write_shift(2,O),ne.write_shift(1,U),ne.write_shift(1,J),Y==0)return ne.write_shift(4,0),ne.write_shift(4,0),ne.write_shift(2,65535),ne;var ye=0,pe=0,ue=0,Te=0;return Y<0&&(ye=1,Y=-Y),pe=Math.log2(Y)|0,Y/=Math.pow(2,pe-31),Te=Y>>>0,(Te&2147483648)==0&&(Y/=2,++pe,Te=Y>>>0),Y-=Te,Te|=2147483648,Te>>>=0,Y*=Math.pow(2,32),ue=Y>>>0,ne.write_shift(4,ue),ne.write_shift(4,Te),pe+=16383+(ye?32768:0),ne.write_shift(2,pe),ne}function P(O,J){var U=R(O);return O.l+=J-14,U}function M(O,J){var U=W(O),Y=O.read_shift(4);return U[1].v=Y>>6,U}function H(O,J){var U=W(O),Y=O.read_shift(8,"f");return U[1].v=Y,U}function ae(O,J){var U=H(O);return O.l+=J-10,U}function Se(O,J){return O[O.l+J-1]==0?O.read_shift(J,"cstr"):""}function oe(O,J){var U=O[O.l++];U>J-1&&(U=J-1);for(var Y="";Y.length<U;)Y+=String.fromCharCode(O[O.l++]);return Y}function ve(O,J,U){if(!(!U.qpro||J<21)){var Y=O.read_shift(1);O.l+=17,O.l+=1,O.l+=2;var ne=O.read_shift(J-21,"cstr");return[Y,ne]}}function Ie(O,J){for(var U={},Y=O.l+J;O.l<Y;){var ne=O.read_shift(2);if(ne==14e3){for(U[ne]=[0,""],U[ne][0]=O.read_shift(2);O[O.l];)U[ne][1]+=String.fromCharCode(O[O.l]),O.l++;O.l++}}return U}function xe(O,J){var U=Ei(5+O.length);U.write_shift(2,14e3),U.write_shift(2,J);for(var Y=0;Y<O.length;++Y){var ne=O.charCodeAt(Y);U[U.l++]=ne>127?95:ne}return U[U.l++]=0,U}var Re={0:{n:"BOF",f:ci},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:g},14:{n:"NUMBER",f:E},15:{n:"LABEL",f:d},16:{n:"FORMULA",f:A},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:d},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:Se},222:{n:"SHEETNAMELP",f:oe},65535:{n:""}},re={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:K},23:{n:"NUMBER17",f:R},24:{n:"NUMBER18",f:L},25:{n:"FORMULA19",f:P},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:Ie},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:M},38:{n:"??"},39:{n:"NUMBER27",f:H},40:{n:"FORMULA28",f:ae},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:Se},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:ve},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:r,book_to_wk3:s,to_workbook:e}})();function g0e(t){var e={},n=t.match(Ra),r=0,s=!1;if(n)for(;r!=n.length;++r){var i=Rn(n[r]);switch(i[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!i.val)break;case"<shadow>":case"<shadow/>":e.shadow=1;break;case"</shadow>":break;case"<charset":if(i.val=="1")break;e.cp=wS[parseInt(i.val,10)];break;case"<outline":if(!i.val)break;case"<outline>":case"<outline/>":e.outline=1;break;case"</outline>":break;case"<rFont":e.name=i.val;break;case"<sz":e.sz=i.val;break;case"<strike":if(!i.val)break;case"<strike>":case"<strike/>":e.strike=1;break;case"</strike>":break;case"<u":if(!i.val)break;switch(i.val){case"double":e.uval="double";break;case"singleAccounting":e.uval="single-accounting";break;case"doubleAccounting":e.uval="double-accounting";break}case"<u>":case"<u/>":e.u=1;break;case"</u>":break;case"<b":if(i.val=="0")break;case"<b>":case"<b/>":e.b=1;break;case"</b>":break;case"<i":if(i.val=="0")break;case"<i>":case"<i/>":e.i=1;break;case"</i>":break;case"<color":i.rgb&&(e.color=i.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":e.family=i.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":e.valign=i.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(i[0].charCodeAt(1)!==47&&!s)throw new Error("Unrecognized rich format "+i[0])}}return e}var x0e=(function(){var t=r1("t"),e=r1("rPr");function n(i){var a=i.match(t);if(!a)return{t:"s",v:""};var o={t:"s",v:Sr(a[1])},c=i.match(e);return c&&(o.s=g0e(c[1])),o}var r=/<(?:\w+:)?r>/g,s=/<\/(?:\w+:)?r>/;return function(a){return a.replace(r,"").split(s).map(n).filter(function(o){return o.v})}})(),y0e=(function(){var e=/(\r\n|\n)/g;function n(s,i,a){var o=[];s.u&&o.push("text-decoration: underline;"),s.uval&&o.push("text-underline-style:"+s.uval+";"),s.sz&&o.push("font-size:"+s.sz+"pt;"),s.outline&&o.push("text-effect: outline;"),s.shadow&&o.push("text-shadow: auto;"),i.push('<span style="'+o.join("")+'">'),s.b&&(i.push("<b>"),a.push("</b>")),s.i&&(i.push("<i>"),a.push("</i>")),s.strike&&(i.push("<s>"),a.push("</s>"));var c=s.valign||"";return c=="superscript"||c=="super"?c="sup":c=="subscript"&&(c="sub"),c!=""&&(i.push("<"+c+">"),a.push("</"+c+">")),a.push("</span>"),s}function r(s){var i=[[],s.v,[]];return s.v?(s.s&&n(s.s,i[0],i[2]),i[0].join("")+i[1].replace(e,"<br/>")+i[2].join("")):""}return function(i){return i.map(r).join("")}})(),v0e=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,_0e=/<(?:\w+:)?r>/,b0e=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function VS(t,e){var n=e?e.cellHTML:!0,r={};return t?(t.match(/^\s*<(?:\w+:)?t[^>]*>/)?(r.t=Sr(is(t.slice(t.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),r.r=is(t),n&&(r.h=IS(r.t))):t.match(_0e)&&(r.r=is(t),r.t=Sr(is((t.replace(b0e,"").match(v0e)||[]).join("").replace(Ra,""))),n&&(r.h=y0e(x0e(r.r)))),r):{t:""}}var w0e=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,T0e=/<(?:\w+:)?(?:si|sstItem)>/g,E0e=/<\/(?:\w+:)?(?:si|sstItem)>/;function S0e(t,e){var n=[],r="";if(!t)return n;var s=t.match(w0e);if(s){r=s[2].replace(T0e,"").split(E0e);for(var i=0;i!=r.length;++i){var a=VS(r[i].trim(),e);a!=null&&(n[n.length]=a)}s=Rn(s[1]),n.Count=s.count,n.Unique=s.uniqueCount}return n}function A0e(t){return[t.read_shift(4),t.read_shift(4)]}function C0e(t,e){var n=[],r=!1;return Hu(t,function(i,a,o){switch(o){case 159:n.Count=i[0],n.Unique=i[1];break;case 19:n.push(i);break;case 160:return!0;case 35:r=!0;break;case 36:r=!1;break;default:if(a.T,!r||e.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}}),n}function aB(t){for(var e=[],n=t.split(""),r=0;r<n.length;++r)e[r]=n[r].charCodeAt(0);return e}function Nu(t,e){var n={};return n.Major=t.read_shift(2),n.Minor=t.read_shift(2),e>=4&&(t.l+=e-4),n}function N0e(t){var e={};return e.id=t.read_shift(0,"lpp4"),e.R=Nu(t,4),e.U=Nu(t,4),e.W=Nu(t,4),e}function I0e(t){for(var e=t.read_shift(4),n=t.l+e-4,r={},s=t.read_shift(4),i=[];s-- >0;)i.push({t:t.read_shift(4),v:t.read_shift(0,"lpp4")});if(r.name=t.read_shift(0,"lpp4"),r.comps=i,t.l!=n)throw new Error("Bad DataSpaceMapEntry: "+t.l+" != "+n);return r}function k0e(t){var e=[];t.l+=4;for(var n=t.read_shift(4);n-- >0;)e.push(I0e(t));return e}function R0e(t){var e=[];t.l+=4;for(var n=t.read_shift(4);n-- >0;)e.push(t.read_shift(0,"lpp4"));return e}function P0e(t){var e={};return t.read_shift(4),t.l+=4,e.id=t.read_shift(0,"lpp4"),e.name=t.read_shift(0,"lpp4"),e.R=Nu(t,4),e.U=Nu(t,4),e.W=Nu(t,4),e}function D0e(t){var e=P0e(t);if(e.ename=t.read_shift(0,"8lpp4"),e.blksz=t.read_shift(4),e.cmode=t.read_shift(4),t.read_shift(4)!=4)throw new Error("Bad !Primary record");return e}function oB(t,e){var n=t.l+e,r={};r.Flags=t.read_shift(4)&63,t.l+=4,r.AlgID=t.read_shift(4);var s=!1;switch(r.AlgID){case 26126:case 26127:case 26128:s=r.Flags==36;break;case 26625:s=r.Flags==4;break;case 0:s=r.Flags==16||r.Flags==4||r.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+r.AlgID}if(!s)throw new Error("Encryption Flags/AlgID mismatch");return r.AlgIDHash=t.read_shift(4),r.KeySize=t.read_shift(4),r.ProviderType=t.read_shift(4),t.l+=8,r.CSPName=t.read_shift(n-t.l>>1,"utf16le"),t.l=n,r}function lB(t,e){var n={},r=t.l+e;return t.l+=4,n.Salt=t.slice(t.l,t.l+16),t.l+=16,n.Verifier=t.slice(t.l,t.l+16),t.l+=16,t.read_shift(4),n.VerifierHash=t.slice(t.l,r),t.l=r,n}function M0e(t){var e=Nu(t);switch(e.Minor){case 2:return[e.Minor,L0e(t)];case 3:return[e.Minor,F0e()];case 4:return[e.Minor,O0e(t)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+e.Minor)}function L0e(t){var e=t.read_shift(4);if((e&63)!=36)throw new Error("EncryptionInfo mismatch");var n=t.read_shift(4),r=oB(t,n),s=lB(t,t.length-t.l);return{t:"Std",h:r,v:s}}function F0e(){throw new Error("File is password-protected: ECMA-376 Extensible")}function O0e(t){var e=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];t.l+=4;var n=t.read_shift(t.length-t.l,"utf8"),r={};return n.replace(Ra,function(i){var a=Rn(i);switch(Hc(a[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":e.forEach(function(o){r[o]=a[o]});break;case"<dataIntegrity":r.encryptedHmacKey=a.encryptedHmacKey,r.encryptedHmacValue=a.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":r.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":r.uri=a.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":r.encs.push(a);break;default:throw a[0]}}),r}function B0e(t,e){var n={},r=n.EncryptionVersionInfo=Nu(t,4);if(e-=4,r.Minor!=2)throw new Error("unrecognized minor version code: "+r.Minor);if(r.Major>4||r.Major<2)throw new Error("unrecognized major version code: "+r.Major);n.Flags=t.read_shift(4),e-=4;var s=t.read_shift(4);return e-=4,n.EncryptionHeader=oB(t,s),e-=s,n.EncryptionVerifier=lB(t,e),n}function V0e(t){var e={},n=e.EncryptionVersionInfo=Nu(t,4);if(n.Major!=1||n.Minor!=1)throw"unrecognized version code "+n.Major+" : "+n.Minor;return e.Salt=t.read_shift(16),e.EncryptedVerifier=t.read_shift(16),e.EncryptedVerifierHash=t.read_shift(16),e}function U0e(t){var e=0,n,r=aB(t),s=r.length+1,i,a,o,c,f;for(n=ed(s),n[0]=r.length,i=1;i!=s;++i)n[i]=r[i-1];for(i=s-1;i>=0;--i)a=n[i],o=(e&16384)===0?0:1,c=e<<1&32767,f=o|c,e=f^a;return e^52811}var cB=(function(){var t=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],e=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],n=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],r=function(a){return(a/2|a*128)&255},s=function(a,o){return r(a^o)},i=function(a){for(var o=e[a.length-1],c=104,f=a.length-1;f>=0;--f)for(var d=a[f],p=0;p!=7;++p)d&64&&(o^=n[c]),d*=2,--c;return o};return function(a){for(var o=aB(a),c=i(o),f=o.length,d=ed(16),p=0;p!=16;++p)d[p]=0;var g,y,E;for((f&1)===1&&(g=c>>8,d[f]=s(t[0],g),--f,g=c&255,y=o[o.length-1],d[f]=s(y,g));f>0;)--f,g=c>>8,d[f]=s(o[f],g),--f,g=c&255,d[f]=s(o[f],g);for(f=15,E=15-o.length;E>0;)g=c>>8,d[f]=s(t[E],g),--f,--E,g=c&255,d[f]=s(o[f],g),--f,--E;return d}})(),j0e=function(t,e,n,r,s){s||(s=e),r||(r=cB(t));var i,a;for(i=0;i!=e.length;++i)a=e[i],a^=r[n],a=(a>>5|a<<3)&255,s[i]=a,++n;return[s,n,r]},q0e=function(t){var e=0,n=cB(t);return function(r){var s=j0e("",r,e,n);return e=s[1],s[0]}};function H0e(t,e,n,r){var s={key:ci(t),verificationBytes:ci(t)};return n.password&&(s.verifier=U0e(n.password)),r.valid=s.verificationBytes===s.verifier,r.valid&&(r.insitu=q0e(n.password)),s}function z0e(t,e,n){var r=n||{};return r.Info=t.read_shift(2),t.l-=2,r.Info===1?r.Data=V0e(t):r.Data=B0e(t,e),r}function G0e(t,e,n){var r={Type:n.biff>=8?t.read_shift(2):0};return r.Type?z0e(t,e-2,r):H0e(t,n.biff>=8?e:e-2,n,r),r}var W0e=(function(){function t(s,i){switch(i.type){case"base64":return e(jo(s),i);case"binary":return e(s,i);case"buffer":return e(hr&&Buffer.isBuffer(s)?s.toString("binary"):Nh(s),i);case"array":return e(ph(s),i)}throw new Error("Unrecognized type "+i.type)}function e(s,i){var a=i||{},o=a.dense?[]:{},c=s.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var f={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(d,p){Array.isArray(o)&&(o[p]=[]);for(var g=/\\\w+\b/g,y=0,E,b=-1;E=g.exec(d);){switch(E[0]){case"\\cell":var A=d.slice(y,g.lastIndex-E[0].length);if(A[0]==" "&&(A=A.slice(1)),++b,A.length){var N={v:A,t:"s"};Array.isArray(o)?o[p][b]=N:o[jn({r:p,c:b})]=N}break}y=g.lastIndex}b>f.e.c&&(f.e.c=b)}),o["!ref"]=br(f),o}function n(s,i){return ld(t(s,i),i)}function r(s){for(var i=["{\\rtf1\\ansi"],a=Hs(s["!ref"]),o,c=Array.isArray(s),f=a.s.r;f<=a.e.r;++f){i.push("\\trowd\\trautofit1");for(var d=a.s.c;d<=a.e.c;++d)i.push("\\cellx"+(d+1));for(i.push("\\pard\\intbl"),d=a.s.c;d<=a.e.c;++d){var p=jn({r:f,c:d});o=c?(s[f]||[])[d]:s[p],!(!o||o.v==null&&(!o.f||o.F))&&(i.push(" "+(o.w||(Ou(o),o.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:n,to_sheet:t,from_sheet:r}})();function $0e(t){var e=t.slice(t[0]==="#"?1:0).slice(0,6);return[parseInt(e.slice(0,2),16),parseInt(e.slice(2,4),16),parseInt(e.slice(4,6),16)]}function a1(t){for(var e=0,n=1;e!=3;++e)n=n*256+(t[e]>255?255:t[e]<0?0:t[e]);return n.toString(16).toUpperCase().slice(1)}function K0e(t){var e=t[0]/255,n=t[1]/255,r=t[2]/255,s=Math.max(e,n,r),i=Math.min(e,n,r),a=s-i;if(a===0)return[0,0,e];var o=0,c=0,f=s+i;switch(c=a/(f>1?2-f:f),s){case e:o=((n-r)/a+6)%6;break;case n:o=(r-e)/a+2;break;case r:o=(e-n)/a+4;break}return[o/6,c,f/2]}function Y0e(t){var e=t[0],n=t[1],r=t[2],s=n*2*(r<.5?r:1-r),i=r-s/2,a=[i,i,i],o=6*e,c;if(n!==0)switch(o|0){case 0:case 6:c=s*o,a[0]+=s,a[1]+=c;break;case 1:c=s*(2-o),a[0]+=c,a[1]+=s;break;case 2:c=s*(o-2),a[1]+=s,a[2]+=c;break;case 3:c=s*(4-o),a[1]+=c,a[2]+=s;break;case 4:c=s*(o-4),a[2]+=s,a[0]+=c;break;case 5:c=s*(6-o),a[2]+=c,a[0]+=s;break}for(var f=0;f!=3;++f)a[f]=Math.round(a[f]*255);return a}function B2(t,e){if(e===0)return t;var n=K0e($0e(t));return e<0?n[2]=n[2]*(1+e):n[2]=1-(1-n[2])*(1-e),a1(Y0e(n))}var uB=6,X0e=15,J0e=1,ja=uB;function V2(t){return Math.floor((t+Math.round(128/ja)/256)*ja)}function U2(t){return Math.floor((t-5)/ja*100+.5)/100}function hT(t){return Math.round((t*ja+5)/ja*256)/256}function Aw(t){return hT(U2(V2(t)))}function US(t){var e=Math.abs(t-Aw(t)),n=ja;if(e>.005)for(ja=J0e;ja<X0e;++ja)Math.abs(t-Aw(t))<=e&&(e=Math.abs(t-Aw(t)),n=ja);ja=n}function Ip(t){t.width?(t.wpx=V2(t.width),t.wch=U2(t.wpx),t.MDW=ja):t.wpx?(t.wch=U2(t.wpx),t.width=hT(t.wch),t.MDW=ja):typeof t.wch=="number"&&(t.width=hT(t.wch),t.wpx=V2(t.width),t.MDW=ja),t.customWidth&&delete t.customWidth}var Q0e=96,fB=Q0e;function dB(t){return t*96/fB}function o1(t){return t*fB/96}var Z0e={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function epe(t,e,n,r){e.Borders=[];var s={},i=!1;(t[0].match(Ra)||[]).forEach(function(a){var o=Rn(a);switch(Hc(o[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":s={},o.diagonalUp&&(s.diagonalUp=ws(o.diagonalUp)),o.diagonalDown&&(s.diagonalDown=ws(o.diagonalDown)),e.Borders.push(s);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(r&&r.WTF&&!i)throw new Error("unrecognized "+o[0]+" in borders")}})}function tpe(t,e,n,r){e.Fills=[];var s={},i=!1;(t[0].match(Ra)||[]).forEach(function(a){var o=Rn(a);switch(Hc(o[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":s={},e.Fills.push(s);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":e.Fills.push(s),s={};break;case"<patternFill":case"<patternFill>":o.patternType&&(s.patternType=o.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":s.bgColor||(s.bgColor={}),o.indexed&&(s.bgColor.indexed=parseInt(o.indexed,10)),o.theme&&(s.bgColor.theme=parseInt(o.theme,10)),o.tint&&(s.bgColor.tint=parseFloat(o.tint)),o.rgb&&(s.bgColor.rgb=o.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":s.fgColor||(s.fgColor={}),o.theme&&(s.fgColor.theme=parseInt(o.theme,10)),o.tint&&(s.fgColor.tint=parseFloat(o.tint)),o.rgb!=null&&(s.fgColor.rgb=o.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(r&&r.WTF&&!i)throw new Error("unrecognized "+o[0]+" in fills")}})}function npe(t,e,n,r){e.Fonts=[];var s={},i=!1;(t[0].match(Ra)||[]).forEach(function(a){var o=Rn(a);switch(Hc(o[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":e.Fonts.push(s),s={};break;case"<name":o.val&&(s.name=is(o.val));break;case"<name/>":case"</name>":break;case"<b":s.bold=o.val?ws(o.val):1;break;case"<b/>":s.bold=1;break;case"<i":s.italic=o.val?ws(o.val):1;break;case"<i/>":s.italic=1;break;case"<u":switch(o.val){case"none":s.underline=0;break;case"single":s.underline=1;break;case"double":s.underline=2;break;case"singleAccounting":s.underline=33;break;case"doubleAccounting":s.underline=34;break}break;case"<u/>":s.underline=1;break;case"<strike":s.strike=o.val?ws(o.val):1;break;case"<strike/>":s.strike=1;break;case"<outline":s.outline=o.val?ws(o.val):1;break;case"<outline/>":s.outline=1;break;case"<shadow":s.shadow=o.val?ws(o.val):1;break;case"<shadow/>":s.shadow=1;break;case"<condense":s.condense=o.val?ws(o.val):1;break;case"<condense/>":s.condense=1;break;case"<extend":s.extend=o.val?ws(o.val):1;break;case"<extend/>":s.extend=1;break;case"<sz":o.val&&(s.sz=+o.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":o.val&&(s.vertAlign=o.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":o.val&&(s.family=parseInt(o.val,10));break;case"<family/>":case"</family>":break;case"<scheme":o.val&&(s.scheme=o.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(o.val=="1")break;o.codepage=wS[parseInt(o.val,10)];break;case"<color":if(s.color||(s.color={}),o.auto&&(s.color.auto=ws(o.auto)),o.rgb)s.color.rgb=o.rgb.slice(-6);else if(o.indexed){s.color.index=parseInt(o.indexed,10);var c=Jd[s.color.index];s.color.index==81&&(c=Jd[1]),c||(c=Jd[1]),s.color.rgb=c[0].toString(16)+c[1].toString(16)+c[2].toString(16)}else o.theme&&(s.color.theme=parseInt(o.theme,10),o.tint&&(s.color.tint=parseFloat(o.tint)),o.theme&&n.themeElements&&n.themeElements.clrScheme&&(s.color.rgb=B2(n.themeElements.clrScheme[s.color.theme].rgb,s.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(r&&r.WTF&&!i)throw new Error("unrecognized "+o[0]+" in fonts")}})}function rpe(t,e,n){e.NumberFmt=[];for(var r=jc(Gn),s=0;s<r.length;++s)e.NumberFmt[r[s]]=Gn[r[s]];var i=t[0].match(Ra);if(i)for(s=0;s<i.length;++s){var a=Rn(i[s]);switch(Hc(a[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var o=Sr(is(a.formatCode)),c=parseInt(a.numFmtId,10);if(e.NumberFmt[c]=o,c>0){if(c>392){for(c=392;c>60&&e.NumberFmt[c]!=null;--c);e.NumberFmt[c]=o}Xd(o,c)}}break;case"</numFmt>":break;default:if(n.WTF)throw new Error("unrecognized "+a[0]+" in numFmts")}}}var ly=["numFmtId","fillId","fontId","borderId","xfId"],cy=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function spe(t,e,n){e.CellXf=[];var r,s=!1;(t[0].match(Ra)||[]).forEach(function(i){var a=Rn(i),o=0;switch(Hc(a[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(r=a,delete r[0],o=0;o<ly.length;++o)r[ly[o]]&&(r[ly[o]]=parseInt(r[ly[o]],10));for(o=0;o<cy.length;++o)r[cy[o]]&&(r[cy[o]]=ws(r[cy[o]]));if(e.NumberFmt&&r.numFmtId>392){for(o=392;o>60;--o)if(e.NumberFmt[r.numFmtId]==e.NumberFmt[o]){r.numFmtId=o;break}}e.CellXf.push(r);break;case"</xf>":break;case"<alignment":case"<alignment/>":var c={};a.vertical&&(c.vertical=a.vertical),a.horizontal&&(c.horizontal=a.horizontal),a.textRotation!=null&&(c.textRotation=a.textRotation),a.indent&&(c.indent=a.indent),a.wrapText&&(c.wrapText=ws(a.wrapText)),r.alignment=c;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":s=!0;break;case"</AlternateContent>":s=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+a[0]+" in cellXfs")}})}var ipe=(function(){var e=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,n=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,r=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,s=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,i=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(o,c,f){var d={};if(!o)return d;o=o.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var p;return(p=o.match(e))&&rpe(p,d,f),(p=o.match(s))&&npe(p,d,c,f),(p=o.match(r))&&tpe(p,d,c,f),(p=o.match(i))&&epe(p,d,c,f),(p=o.match(n))&&spe(p,d,f),d}})();function ape(t,e){var n=t.read_shift(2),r=Ia(t);return[n,r]}function ope(t,e,n){var r={};r.sz=t.read_shift(2)/20;var s=xde(t);s.fItalic&&(r.italic=1),s.fCondense&&(r.condense=1),s.fExtend&&(r.extend=1),s.fShadow&&(r.shadow=1),s.fOutline&&(r.outline=1),s.fStrikeout&&(r.strike=1);var i=t.read_shift(2);switch(i===700&&(r.bold=1),t.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript";break}var a=t.read_shift(1);a!=0&&(r.underline=a);var o=t.read_shift(1);o>0&&(r.family=o);var c=t.read_shift(1);switch(c>0&&(r.charset=c),t.l++,r.color=gde(t),t.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor";break}return r.name=Ia(t),r}var lpe=ka;function cpe(t,e){var n=t.l+e,r=t.read_shift(2),s=t.read_shift(2);return t.l=n,{ixfe:r,numFmtId:s}}var upe=ka;function fpe(t,e,n){var r={};r.NumberFmt=[];for(var s in Gn)r.NumberFmt[s]=Gn[s];r.CellXf=[],r.Fonts=[];var i=[],a=!1;return Hu(t,function(c,f,d){switch(d){case 44:r.NumberFmt[c[0]]=c[1],Xd(c[1],c[0]);break;case 43:r.Fonts.push(c),c.color.theme!=null&&e&&e.themeElements&&e.themeElements.clrScheme&&(c.color.rgb=B2(e.themeElements.clrScheme[c.color.theme].rgb,c.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:i[i.length-1]==617&&r.CellXf.push(c);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:a=!0;break;case 36:a=!1;break;case 37:i.push(d),a=!0;break;case 38:i.pop(),a=!1;break;default:if(f.T>0)i.push(d);else if(f.T<0)i.pop();else if(!a||n.WTF&&i[i.length-1]!=37)throw new Error("Unexpected record 0x"+d.toString(16))}}),r}var dpe=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function hpe(t,e,n){e.themeElements.clrScheme=[];var r={};(t[0].match(Ra)||[]).forEach(function(s){var i=Rn(s);switch(i[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":r.rgb=i.val;break;case"<a:sysClr":r.rgb=i.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":i[0].charAt(1)==="/"?(e.themeElements.clrScheme[dpe.indexOf(i[0])]=r,r={}):r.name=i[0].slice(3,i[0].length-1);break;default:if(n&&n.WTF)throw new Error("Unrecognized "+i[0]+" in clrScheme")}})}function ppe(){}function mpe(){}var gpe=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,xpe=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,ype=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function vpe(t,e,n){e.themeElements={};var r;[["clrScheme",gpe,hpe],["fontScheme",xpe,ppe],["fmtScheme",ype,mpe]].forEach(function(s){if(!(r=t.match(s[1])))throw new Error(s[0]+" not found in themeElements");s[2](r,e,n)})}var _pe=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function hB(t,e){(!t||t.length===0)&&(t=bpe());var n,r={};if(!(n=t.match(_pe)))throw new Error("themeElements not found in theme");return vpe(n[0],r,e),r.raw=t,r}function bpe(t,e){var n=[E9];return n[n.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',n[n.length]="<a:themeElements>",n[n.length]='<a:clrScheme name="Office">',n[n.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',n[n.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',n[n.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',n[n.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',n[n.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',n[n.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',n[n.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',n[n.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',n[n.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',n[n.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',n[n.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',n[n.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',n[n.length]="</a:clrScheme>",n[n.length]='<a:fontScheme name="Office">',n[n.length]="<a:majorFont>",n[n.length]='<a:latin typeface="Cambria"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Times New Roman"/>',n[n.length]='<a:font script="Hebr" typeface="Times New Roman"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="MoolBoran"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Times New Roman"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:majorFont>",n[n.length]="<a:minorFont>",n[n.length]='<a:latin typeface="Calibri"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Arial"/>',n[n.length]='<a:font script="Hebr" typeface="Arial"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="DaunPenh"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Arial"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:minorFont>",n[n.length]="</a:fontScheme>",n[n.length]='<a:fmtScheme name="Office">',n[n.length]="<a:fillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="1"/>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="0"/>',n[n.length]="</a:gradFill>",n[n.length]="</a:fillStyleLst>",n[n.length]="<a:lnStyleLst>",n[n.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]="</a:lnStyleLst>",n[n.length]="<a:effectStyleLst>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',n[n.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',n[n.length]="</a:effectStyle>",n[n.length]="</a:effectStyleLst>",n[n.length]="<a:bgFillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]="</a:bgFillStyleLst>",n[n.length]="</a:fmtScheme>",n[n.length]="</a:themeElements>",n[n.length]="<a:objectDefaults>",n[n.length]="<a:spDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',n[n.length]="</a:spDef>",n[n.length]="<a:lnDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',n[n.length]="</a:lnDef>",n[n.length]="</a:objectDefaults>",n[n.length]="<a:extraClrSchemeLst/>",n[n.length]="</a:theme>",n.join("")}function wpe(t,e,n){var r=t.l+e,s=t.read_shift(4);if(s!==124226){if(!n.cellStyles){t.l=r;return}var i=t.slice(t.l);t.l=r;var a;try{a=T9(i,{type:"array"})}catch{return}var o=Oo(a,"theme/theme/theme1.xml",!0);if(o)return hB(o,n)}}function Tpe(t){return t.read_shift(4)}function Epe(t){var e={};switch(e.xclrType=t.read_shift(2),e.nTintShade=t.read_shift(2),e.xclrType){case 0:t.l+=4;break;case 1:e.xclrValue=Spe(t,4);break;case 2:e.xclrValue=Z9(t);break;case 3:e.xclrValue=Tpe(t);break;case 4:t.l+=4;break}return t.l+=8,e}function Spe(t,e){return ka(t,e)}function Ape(t,e){return ka(t,e)}function Cpe(t){var e=t.read_shift(2),n=t.read_shift(2)-4,r=[e];switch(e){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:r[1]=Epe(t);break;case 6:r[1]=Ape(t,n);break;case 14:case 15:r[1]=t.read_shift(n===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+e+" "+n)}return r}function Npe(t,e){var n=t.l+e;t.l+=2;var r=t.read_shift(2);t.l+=2;for(var s=t.read_shift(2),i=[];s-- >0;)i.push(Cpe(t,n-t.l));return{ixfe:r,ext:i}}function Ipe(t,e){e.forEach(function(n){n[0]})}function kpe(t,e){return{flags:t.read_shift(4),version:t.read_shift(4),name:Ia(t)}}function Rpe(t){for(var e=[],n=t.read_shift(4);n-- >0;)e.push([t.read_shift(4),t.read_shift(4)]);return e}function Ppe(t){return t.l+=4,t.read_shift(4)!=0}function Dpe(t,e,n){var r={Types:[],Cell:[],Value:[]},s=n||{},i=[],a=!1,o=2;return Hu(t,function(c,f,d){switch(d){case 335:r.Types.push({name:c.name});break;case 51:c.forEach(function(p){o==1?r.Cell.push({type:r.Types[p[0]-1].name,index:p[1]}):o==0&&r.Value.push({type:r.Types[p[0]-1].name,index:p[1]})});break;case 337:o=c?1:0;break;case 338:o=2;break;case 35:i.push(d),a=!0;break;case 36:i.pop(),a=!1;break;default:if(!f.T){if(!a||s.WTF&&i[i.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}}),r}function Mpe(t,e,n){var r={Types:[],Cell:[],Value:[]};if(!t)return r;var s=!1,i=2,a;return t.replace(Ra,function(o){var c=Rn(o);switch(Hc(c[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":r.Types.push({name:c.name});break;case"</metadataType>":break;case"<futureMetadata":for(var f=0;f<r.Types.length;++f)r.Types[f].name==c.name&&(a=r.Types[f]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":i==1?r.Cell.push({type:r.Types[c.t-1].name,index:+c.v}):i==0&&r.Value.push({type:r.Types[c.t-1].name,index:+c.v});break;case"</rc>":break;case"<cellMetadata":i=1;break;case"</cellMetadata>":i=2;break;case"<valueMetadata":i=0;break;case"</valueMetadata>":i=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;case"<rvb":if(!a)break;a.offsets||(a.offsets=[]),a.offsets.push(+c.i);break;default:if(!s&&n.WTF)throw new Error("unrecognized "+c[0]+" in metadata")}return o}),r}function Lpe(t){var e=[];if(!t)return e;var n=1;return(t.match(Ra)||[]).forEach(function(r){var s=Rn(r);switch(s[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete s[0],s.i?n=s.i:s.i=n,e.push(s);break}}),e}function Fpe(t){var e={};e.i=t.read_shift(4);var n={};n.r=t.read_shift(4),n.c=t.read_shift(4),e.r=jn(n);var r=t.read_shift(1);return r&2&&(e.l="1"),r&8&&(e.a="1"),e}function Ope(t,e,n){var r=[];return Hu(t,function(i,a,o){switch(o){case 63:r.push(i);break;default:if(!a.T)throw new Error("Unexpected record 0x"+o.toString(16))}}),r}function Bpe(t,e,n,r){if(!t)return t;var s=r||{},i=!1;Hu(t,function(o,c,f){switch(f){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:i=!0;break;case 36:i=!1;break;default:if(!c.T){if(!i||s.WTF)throw new Error("Unexpected record 0x"+f.toString(16))}}},s)}function Vpe(t,e){if(!t)return"??";var n=(t.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return e["!id"][n].Target}function XP(t,e,n,r){var s=Array.isArray(t),i;e.forEach(function(a){var o=za(a.ref);if(s?(t[o.r]||(t[o.r]=[]),i=t[o.r][o.c]):i=t[a.ref],!i){i={t:"z"},s?t[o.r][o.c]=i:t[a.ref]=i;var c=Hs(t["!ref"]||"BDWGO1000001:A1");c.s.r>o.r&&(c.s.r=o.r),c.e.r<o.r&&(c.e.r=o.r),c.s.c>o.c&&(c.s.c=o.c),c.e.c<o.c&&(c.e.c=o.c);var f=br(c);f!==t["!ref"]&&(t["!ref"]=f)}i.c||(i.c=[]);var d={a:a.author,t:a.t,r:a.r,T:n};a.h&&(d.h=a.h);for(var p=i.c.length-1;p>=0;--p){if(!n&&i.c[p].T)return;n&&!i.c[p].T&&i.c.splice(p,1)}if(n&&r){for(p=0;p<r.length;++p)if(d.a==r[p].id){d.a=r[p].name||d.a;break}}i.c.push(d)})}function Upe(t,e){if(t.match(/<(?:\w+:)?comments *\/>/))return[];var n=[],r=[],s=t.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);s&&s[1]&&s[1].split(/<\/\w*:?author>/).forEach(function(a){if(!(a===""||a.trim()==="")){var o=a.match(/<(?:\w+:)?author[^>]*>(.*)/);o&&n.push(o[1])}});var i=t.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return i&&i[1]&&i[1].split(/<\/\w*:?comment>/).forEach(function(a){if(!(a===""||a.trim()==="")){var o=a.match(/<(?:\w+:)?comment[^>]*>/);if(o){var c=Rn(o[0]),f={author:c.authorId&&n[c.authorId]||"sheetjsghost",ref:c.ref,guid:c.guid},d=za(c.ref);if(!(e.sheetRows&&e.sheetRows<=d.r)){var p=a.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),g=!!p&&!!p[1]&&VS(p[1])||{r:"",t:"",h:""};f.r=g.r,g.r=="<t></t>"&&(g.t=g.h=""),f.t=(g.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.cellHTML&&(f.h=g.h),r.push(f)}}}}),r}function jpe(t,e){var n=[],r=!1,s={},i=0;return t.replace(Ra,function(o,c){var f=Rn(o);switch(Hc(f[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":s={author:f.personId,guid:f.id,ref:f.ref,T:1};break;case"</threadedComment>":s.t!=null&&n.push(s);break;case"<text>":case"<text":i=c+o.length;break;case"</text>":s.t=t.slice(i,c).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":r=!0;break;case"</mentions>":r=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(!r&&e.WTF)throw new Error("unrecognized "+f[0]+" in threaded comments")}return o}),n}function qpe(t,e){var n=[],r=!1;return t.replace(Ra,function(i){var a=Rn(i);switch(Hc(a[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":n.push({name:a.displayname,id:a.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(!r&&e.WTF)throw new Error("unrecognized "+a[0]+" in threaded comments")}return i}),n}function Hpe(t){var e={};e.iauthor=t.read_shift(4);var n=kh(t);return e.rfx=n.s,e.ref=jn(n.s),t.l+=16,e}var zpe=Ia;function Gpe(t,e){var n=[],r=[],s={},i=!1;return Hu(t,function(o,c,f){switch(f){case 632:r.push(o);break;case 635:s=o;break;case 637:s.t=o.t,s.h=o.h,s.r=o.r;break;case 636:if(s.author=r[s.iauthor],delete s.iauthor,e.sheetRows&&s.rfx&&e.sheetRows<=s.rfx.r)break;s.t||(s.t=""),delete s.rfx,n.push(s);break;case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:break;case 38:break;default:if(!c.T){if(!i||e.WTF)throw new Error("Unexpected record 0x"+f.toString(16))}}}),n}var Wpe="application/vnd.ms-office.vbaProject";function $pe(t){var e=_r.utils.cfb_new({root:"R"});return t.FullPaths.forEach(function(n,r){if(!(n.slice(-1)==="/"||!n.match(/_VBA_PROJECT_CUR/))){var s=n.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");_r.utils.cfb_add(e,s,t.FileIndex[r].content)}}),_r.write(e)}function Kpe(){return{"!type":"dialog"}}function Ype(){return{"!type":"dialog"}}function Xpe(){return{"!type":"macro"}}function Jpe(){return{"!type":"macro"}}var lp=(function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function n(r,s,i,a){var o=!1,c=!1;i.length==0?c=!0:i.charAt(0)=="["&&(c=!0,i=i.slice(1,-1)),a.length==0?o=!0:a.charAt(0)=="["&&(o=!0,a=a.slice(1,-1));var f=i.length>0?parseInt(i,10)|0:0,d=a.length>0?parseInt(a,10)|0:0;return o?d+=e.c:--d,c?f+=e.r:--f,s+(o?"":"$")+Ai(d)+(c?"":"$")+la(f)}return function(s,i){return e=i,s.replace(t,n)}})(),pB=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,Qpe=(function(){return function(e,n){return e.replace(pB,function(r,s,i,a,o,c){var f=DS(a)-(i?0:n.c),d=PS(c)-(o?0:n.r),p=d==0?"":o?d+1:"["+d+"]",g=f==0?"":i?f+1:"["+f+"]";return s+"R"+p+"C"+g})}})();function mB(t,e){return t.replace(pB,function(n,r,s,i,a,o){return r+(s=="$"?s+i:Ai(DS(i)+e.c))+(a=="$"?a+o:la(PS(o)+e.r))})}function Zpe(t,e,n){var r=Wp(e),s=r.s,i=za(n),a={r:i.r-s.r,c:i.c-s.c};return mB(t,a)}function eme(t){return t.length!=1}function JP(t){return t.replace(/_xlfn\./g,"")}function ai(t){t.l+=1}function td(t,e){var n=t.read_shift(2);return[n&16383,n>>14&1,n>>15&1]}function gB(t,e,n){var r=2;if(n){if(n.biff>=2&&n.biff<=5)return xB(t);n.biff==12&&(r=4)}var s=t.read_shift(r),i=t.read_shift(r),a=td(t),o=td(t);return{s:{r:s,c:a[0],cRel:a[1],rRel:a[2]},e:{r:i,c:o[0],cRel:o[1],rRel:o[2]}}}function xB(t){var e=td(t),n=td(t),r=t.read_shift(1),s=t.read_shift(1);return{s:{r:e[0],c:r,cRel:e[1],rRel:e[2]},e:{r:n[0],c:s,cRel:n[1],rRel:n[2]}}}function tme(t,e,n){if(n.biff<8)return xB(t);var r=t.read_shift(n.biff==12?4:2),s=t.read_shift(n.biff==12?4:2),i=td(t),a=td(t);return{s:{r,c:i[0],cRel:i[1],rRel:i[2]},e:{r:s,c:a[0],cRel:a[1],rRel:a[2]}}}function yB(t,e,n){if(n&&n.biff>=2&&n.biff<=5)return nme(t);var r=t.read_shift(n&&n.biff==12?4:2),s=td(t);return{r,c:s[0],cRel:s[1],rRel:s[2]}}function nme(t){var e=td(t),n=t.read_shift(1);return{r:e[0],c:n,cRel:e[1],rRel:e[2]}}function rme(t){var e=t.read_shift(2),n=t.read_shift(2);return{r:e,c:n&255,fQuoted:!!(n&16384),cRel:n>>15,rRel:n>>15}}function sme(t,e,n){var r=n&&n.biff?n.biff:8;if(r>=2&&r<=5)return ime(t);var s=t.read_shift(r>=12?4:2),i=t.read_shift(2),a=(i&16384)>>14,o=(i&32768)>>15;if(i&=16383,o==1)for(;s>524287;)s-=1048576;if(a==1)for(;i>8191;)i=i-16384;return{r:s,c:i,cRel:a,rRel:o}}function ime(t){var e=t.read_shift(2),n=t.read_shift(1),r=(e&32768)>>15,s=(e&16384)>>14;return e&=16383,r==1&&e>=8192&&(e=e-16384),s==1&&n>=128&&(n=n-256),{r:e,c:n,cRel:s,rRel:r}}function ame(t,e,n){var r=(t[t.l++]&96)>>5,s=gB(t,n.biff>=2&&n.biff<=5?6:8,n);return[r,s]}function ome(t,e,n){var r=(t[t.l++]&96)>>5,s=t.read_shift(2,"i"),i=8;if(n)switch(n.biff){case 5:t.l+=12,i=6;break;case 12:i=12;break}var a=gB(t,i,n);return[r,s,a]}function lme(t,e,n){var r=(t[t.l++]&96)>>5;return t.l+=n&&n.biff>8?12:n.biff<8?6:8,[r]}function cme(t,e,n){var r=(t[t.l++]&96)>>5,s=t.read_shift(2),i=8;if(n)switch(n.biff){case 5:t.l+=12,i=6;break;case 12:i=12;break}return t.l+=i,[r,s]}function ume(t,e,n){var r=(t[t.l++]&96)>>5,s=tme(t,e-1,n);return[r,s]}function fme(t,e,n){var r=(t[t.l++]&96)>>5;return t.l+=n.biff==2?6:n.biff==12?14:7,[r]}function QP(t){var e=t[t.l+1]&1,n=1;return t.l+=4,[e,n]}function dme(t,e,n){t.l+=2;for(var r=t.read_shift(n&&n.biff==2?1:2),s=[],i=0;i<=r;++i)s.push(t.read_shift(n&&n.biff==2?1:2));return s}function hme(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=2,[r,t.read_shift(n&&n.biff==2?1:2)]}function pme(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=2,[r,t.read_shift(n&&n.biff==2?1:2)]}function mme(t){var e=t[t.l+1]&255?1:0;return t.l+=2,[e,t.read_shift(2)]}function gme(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=n&&n.biff==2?3:4,[r]}function vB(t){var e=t.read_shift(1),n=t.read_shift(1);return[e,n]}function xme(t){return t.read_shift(2),vB(t)}function yme(t){return t.read_shift(2),vB(t)}function vme(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var s=yB(t,0,n);return[r,s]}function _me(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var s=sme(t,0,n);return[r,s]}function bme(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var s=t.read_shift(2);n&&n.biff==5&&(t.l+=12);var i=yB(t,0,n);return[r,s,i]}function wme(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var s=t.read_shift(n&&n.biff<=3?1:2);return[Tge[s],wB[s],r]}function Tme(t,e,n){var r=t[t.l++],s=t.read_shift(1),i=n&&n.biff<=3?[r==88?-1:0,t.read_shift(1)]:Eme(t);return[s,(i[0]===0?wB:wge)[i[1]]]}function Eme(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function Sme(t,e,n){t.l+=n&&n.biff==2?3:4}function Ame(t,e,n){if(t.l++,n&&n.biff==12)return[t.read_shift(4,"i"),0];var r=t.read_shift(2),s=t.read_shift(n&&n.biff==2?1:2);return[r,s]}function Cme(t){return t.l++,Rh[t.read_shift(1)]}function Nme(t){return t.l++,t.read_shift(2)}function Ime(t){return t.l++,t.read_shift(1)!==0}function kme(t){return t.l++,Ea(t)}function Rme(t,e,n){return t.l++,D1(t,e-1,n)}function Pme(t,e){var n=[t.read_shift(1)];if(e==12)switch(n[0]){case 2:n[0]=4;break;case 4:n[0]=16;break;case 0:n[0]=1;break;case 1:n[0]=2;break}switch(n[0]){case 4:n[1]=Ys(t,1)?"TRUE":"FALSE",e!=12&&(t.l+=7);break;case 37:case 16:n[1]=Rh[t[t.l]],t.l+=e==12?4:8;break;case 0:t.l+=8;break;case 1:n[1]=Ea(t);break;case 2:n[1]=Ph(t,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+n[0])}return n}function Dme(t,e,n){for(var r=t.read_shift(n.biff==12?4:2),s=[],i=0;i!=r;++i)s.push((n.biff==12?kh:kv)(t));return s}function Mme(t,e,n){var r=0,s=0;n.biff==12?(r=t.read_shift(4),s=t.read_shift(4)):(s=1+t.read_shift(1),r=1+t.read_shift(2)),n.biff>=2&&n.biff<8&&(--r,--s==0&&(s=256));for(var i=0,a=[];i!=r&&(a[i]=[]);++i)for(var o=0;o!=s;++o)a[i][o]=Pme(t,n.biff);return a}function Lme(t,e,n){var r=t.read_shift(1)>>>5&3,s=!n||n.biff>=8?4:2,i=t.read_shift(s);switch(n.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[r,0,i]}function Fme(t,e,n){if(n.biff==5)return Ome(t);var r=t.read_shift(1)>>>5&3,s=t.read_shift(2),i=t.read_shift(4);return[r,s,i]}function Ome(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2,"i");t.l+=8;var r=t.read_shift(2);return t.l+=12,[e,n,r]}function Bme(t,e,n){var r=t.read_shift(1)>>>5&3;t.l+=n&&n.biff==2?3:4;var s=t.read_shift(n&&n.biff==2?1:2);return[r,s]}function Vme(t,e,n){var r=t.read_shift(1)>>>5&3,s=t.read_shift(n&&n.biff==2?1:2);return[r,s]}function Ume(t,e,n){var r=t.read_shift(1)>>>5&3;return t.l+=4,n.biff<8&&t.l--,n.biff==12&&(t.l+=2),[r]}function jme(t,e,n){var r=(t[t.l++]&96)>>5,s=t.read_shift(2),i=4;if(n)switch(n.biff){case 5:i=15;break;case 12:i=6;break}return t.l+=i,[r,s]}var qme=ka,Hme=ka,zme=ka;function L1(t,e,n){return t.l+=2,[rme(t)]}function jS(t){return t.l+=6,[]}var Gme=L1,Wme=jS,$me=jS,Kme=L1;function _B(t){return t.l+=2,[ci(t),t.read_shift(2)&1]}var Yme=L1,Xme=_B,Jme=jS,Qme=L1,Zme=L1,ege=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function tge(t){t.l+=2;var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(4),s=t.read_shift(2),i=t.read_shift(2),a=ege[n>>2&31];return{ixti:e,coltype:n&3,rt:a,idx:r,c:s,C:i}}function nge(t){return t.l+=2,[t.read_shift(4)]}function rge(t,e,n){return t.l+=5,t.l+=2,t.l+=n.biff==2?1:4,["PTGSHEET"]}function sge(t,e,n){return t.l+=n.biff==2?4:5,["PTGENDSHEET"]}function ige(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2);return[e,n]}function age(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2);return[e,n]}function oge(t){return t.l+=4,[0,0]}var ZP={1:{n:"PtgExp",f:Ame},2:{n:"PtgTbl",f:zme},3:{n:"PtgAdd",f:ai},4:{n:"PtgSub",f:ai},5:{n:"PtgMul",f:ai},6:{n:"PtgDiv",f:ai},7:{n:"PtgPower",f:ai},8:{n:"PtgConcat",f:ai},9:{n:"PtgLt",f:ai},10:{n:"PtgLe",f:ai},11:{n:"PtgEq",f:ai},12:{n:"PtgGe",f:ai},13:{n:"PtgGt",f:ai},14:{n:"PtgNe",f:ai},15:{n:"PtgIsect",f:ai},16:{n:"PtgUnion",f:ai},17:{n:"PtgRange",f:ai},18:{n:"PtgUplus",f:ai},19:{n:"PtgUminus",f:ai},20:{n:"PtgPercent",f:ai},21:{n:"PtgParen",f:ai},22:{n:"PtgMissArg",f:ai},23:{n:"PtgStr",f:Rme},26:{n:"PtgSheet",f:rge},27:{n:"PtgEndSheet",f:sge},28:{n:"PtgErr",f:Cme},29:{n:"PtgBool",f:Ime},30:{n:"PtgInt",f:Nme},31:{n:"PtgNum",f:kme},32:{n:"PtgArray",f:fme},33:{n:"PtgFunc",f:wme},34:{n:"PtgFuncVar",f:Tme},35:{n:"PtgName",f:Lme},36:{n:"PtgRef",f:vme},37:{n:"PtgArea",f:ame},38:{n:"PtgMemArea",f:Bme},39:{n:"PtgMemErr",f:qme},40:{n:"PtgMemNoMem",f:Hme},41:{n:"PtgMemFunc",f:Vme},42:{n:"PtgRefErr",f:Ume},43:{n:"PtgAreaErr",f:lme},44:{n:"PtgRefN",f:_me},45:{n:"PtgAreaN",f:ume},46:{n:"PtgMemAreaN",f:ige},47:{n:"PtgMemNoMemN",f:age},57:{n:"PtgNameX",f:Fme},58:{n:"PtgRef3d",f:bme},59:{n:"PtgArea3d",f:ome},60:{n:"PtgRefErr3d",f:jme},61:{n:"PtgAreaErr3d",f:cme},255:{}},lge={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},cge={1:{n:"PtgElfLel",f:_B},2:{n:"PtgElfRw",f:Qme},3:{n:"PtgElfCol",f:Gme},6:{n:"PtgElfRwV",f:Zme},7:{n:"PtgElfColV",f:Kme},10:{n:"PtgElfRadical",f:Yme},11:{n:"PtgElfRadicalS",f:Jme},13:{n:"PtgElfColS",f:Wme},15:{n:"PtgElfColSV",f:$me},16:{n:"PtgElfRadicalLel",f:Xme},25:{n:"PtgList",f:tge},29:{n:"PtgSxName",f:nge},255:{}},uge={0:{n:"PtgAttrNoop",f:oge},1:{n:"PtgAttrSemi",f:gme},2:{n:"PtgAttrIf",f:pme},4:{n:"PtgAttrChoose",f:dme},8:{n:"PtgAttrGoto",f:hme},16:{n:"PtgAttrSum",f:Sme},32:{n:"PtgAttrBaxcel",f:QP},33:{n:"PtgAttrBaxcel",f:QP},64:{n:"PtgAttrSpace",f:xme},65:{n:"PtgAttrSpaceSemi",f:yme},128:{n:"PtgAttrIfError",f:mme},255:{}};function F1(t,e,n,r){if(r.biff<8)return ka(t,e);for(var s=t.l+e,i=[],a=0;a!==n.length;++a)switch(n[a][0]){case"PtgArray":n[a][1]=Mme(t,0,r),i.push(n[a][1]);break;case"PtgMemArea":n[a][2]=Dme(t,n[a][1],r),i.push(n[a][2]);break;case"PtgExp":r&&r.biff==12&&(n[a][1][1]=t.read_shift(4),i.push(n[a][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+n[a][0]}return e=s-t.l,e!==0&&i.push(ka(t,e)),i}function O1(t,e,n){for(var r=t.l+e,s,i,a=[];r!=t.l;)e=r-t.l,i=t[t.l],s=ZP[i]||ZP[lge[i]],(i===24||i===25)&&(s=(i===24?cge:uge)[t[t.l+1]]),!s||!s.f?ka(t,e):a.push([s.n,s.f(t,e,n)]);return a}function fge(t){for(var e=[],n=0;n<t.length;++n){for(var r=t[n],s=[],i=0;i<r.length;++i){var a=r[i];if(a)switch(a[0]){case 2:s.push('"'+a[1].replace(/"/g,'""')+'"');break;default:s.push(a[1])}else s.push("")}e.push(s.join(","))}return e.join(";")}var dge={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function hge(t,e){if(!t&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function bB(t,e,n){if(!t)return"SH33TJSERR0";if(n.biff>8&&(!t.XTI||!t.XTI[e]))return t.SheetNames[e];if(!t.XTI)return"SH33TJSERR6";var r=t.XTI[e];if(n.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":t.XTI[e-1];if(!r)return"SH33TJSERR1";var s="";if(n.biff>8)switch(t[r[0]][0]){case 357:return s=r[1]==-1?"#REF":t.SheetNames[r[1]],r[1]==r[2]?s:s+":"+t.SheetNames[r[2]];case 358:return n.SID!=null?t.SheetNames[n.SID]:"SH33TJSSAME"+t[r[0]][0];case 355:default:return"SH33TJSSRC"+t[r[0]][0]}switch(t[r[0]][0][0]){case 1025:return s=r[1]==-1?"#REF":t.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?s:s+":"+t.SheetNames[r[2]];case 14849:return t[r[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return t[r[0]][0][3]?(s=r[1]==-1?"#REF":t[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?s:s+":"+t[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function eD(t,e,n){var r=bB(t,e,n);return r=="#REF"?r:hge(r,n)}function wa(t,e,n,r,s){var i=s&&s.biff||8,a={s:{c:0,r:0}},o=[],c,f,d,p=0,g=0,y,E="";if(!t[0]||!t[0][0])return"";for(var b=-1,A="",N=0,V=t[0].length;N<V;++N){var k=t[0][N];switch(k[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=o.pop(),f=o.pop(),b>=0){switch(t[0][b][1][0]){case 0:A=js(" ",t[0][b][1][1]);break;case 1:A=js("\r",t[0][b][1][1]);break;default:if(A="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][b][1][0])}f=f+A,b=-1}o.push(f+dge[k[0]]+c);break;case"PtgIsect":c=o.pop(),f=o.pop(),o.push(f+" "+c);break;case"PtgUnion":c=o.pop(),f=o.pop(),o.push(f+","+c);break;case"PtgRange":c=o.pop(),f=o.pop(),o.push(f+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":d=bg(k[1][1],a,s),o.push(wg(d,i));break;case"PtgRefN":d=n?bg(k[1][1],n,s):k[1][1],o.push(wg(d,i));break;case"PtgRef3d":p=k[1][1],d=bg(k[1][2],a,s),E=eD(r,p,s),o.push(E+"!"+wg(d,i));break;case"PtgFunc":case"PtgFuncVar":var B=k[1][0],W=k[1][1];B||(B=0),B&=127;var K=B==0?[]:o.slice(-B);o.length-=B,W==="User"&&(W=K.shift()),o.push(W+"("+K.join(",")+")");break;case"PtgBool":o.push(k[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(k[1]);break;case"PtgNum":o.push(String(k[1]));break;case"PtgStr":o.push('"'+k[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(k[1]);break;case"PtgAreaN":y=MP(k[1][1],n?{s:n}:a,s),o.push(Ew(y,s));break;case"PtgArea":y=MP(k[1][1],a,s),o.push(Ew(y,s));break;case"PtgArea3d":p=k[1][1],y=k[1][2],E=eD(r,p,s),o.push(E+"!"+Ew(y,s));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":g=k[1][2];var D=(r.names||[])[g-1]||(r[0]||[])[g],L=D?D.Name:"SH33TJSNAME"+String(g);L&&L.slice(0,6)=="_xlfn."&&!s.xlfn&&(L=L.slice(6)),o.push(L);break;case"PtgNameX":var R=k[1][1];g=k[1][2];var q;if(s.biff<=5)R<0&&(R=-R),r[R]&&(q=r[R][g]);else{var P="";if(((r[R]||[])[0]||[])[0]==14849||(((r[R]||[])[0]||[])[0]==1025?r[R][g]&&r[R][g].itab>0&&(P=r.SheetNames[r[R][g].itab-1]+"!"):P=r.SheetNames[g-1]+"!"),r[R]&&r[R][g])P+=r[R][g].Name;else if(r[0]&&r[0][g])P+=r[0][g].Name;else{var M=(bB(r,R,s)||"").split(";;");M[g-1]?P=M[g-1]:P+="SH33TJSERRX"}o.push(P);break}q||(q={Name:"SH33TJSERRY"}),o.push(q.Name);break;case"PtgParen":var H="(",ae=")";if(b>=0){switch(A="",t[0][b][1][0]){case 2:H=js(" ",t[0][b][1][1])+H;break;case 3:H=js("\r",t[0][b][1][1])+H;break;case 4:ae=js(" ",t[0][b][1][1])+ae;break;case 5:ae=js("\r",t[0][b][1][1])+ae;break;default:if(s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][b][1][0])}b=-1}o.push(H+o.pop()+ae);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":d={c:k[1][1],r:k[1][0]};var Se={c:n.c,r:n.r};if(r.sharedf[jn(d)]){var oe=r.sharedf[jn(d)];o.push(wa(oe,a,Se,r,s))}else{var ve=!1;for(c=0;c!=r.arrayf.length;++c)if(f=r.arrayf[c],!(d.c<f[0].s.c||d.c>f[0].e.c)&&!(d.r<f[0].s.r||d.r>f[0].e.r)){o.push(wa(f[1],a,Se,r,s)),ve=!0;break}ve||o.push(k[1])}break;case"PtgArray":o.push("{"+fge(k[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":b=N;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+k[1].idx+"[#"+k[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(k));default:throw new Error("Unrecognized Formula Token: "+String(k))}var Ie=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(s.biff!=3&&b>=0&&Ie.indexOf(t[0][N][0])==-1){k=t[0][b];var xe=!0;switch(k[1][0]){case 4:xe=!1;case 0:A=js(" ",k[1][1]);break;case 5:xe=!1;case 1:A=js("\r",k[1][1]);break;default:if(A="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+k[1][0])}o.push((xe?A:"")+o.pop()+(xe?"":A)),b=-1}}if(o.length>1&&s.WTF)throw new Error("bad formula stack");return o[0]}function pge(t,e,n){var r=t.l+e,s=n.biff==2?1:2,i,a=t.read_shift(s);if(a==65535)return[[],ka(t,e-2)];var o=O1(t,a,n);return e!==a+s&&(i=F1(t,e-a-s,o,n)),t.l=r,[o,i]}function mge(t,e,n){var r=t.l+e,s=n.biff==2?1:2,i,a=t.read_shift(s);if(a==65535)return[[],ka(t,e-2)];var o=O1(t,a,n);return e!==a+s&&(i=F1(t,e-a-s,o,n)),t.l=r,[o,i]}function gge(t,e,n,r){var s=t.l+e,i=O1(t,r,n),a;return s!==t.l&&(a=F1(t,s-t.l,i,n)),[i,a]}function xge(t,e,n){var r=t.l+e,s,i=t.read_shift(2),a=O1(t,i,n);return i==65535?[[],ka(t,e-2)]:(e!==i+2&&(s=F1(t,r-i-2,a,n)),[a,s])}function yge(t){var e;if(Tu(t,t.l+6)!==65535)return[Ea(t),"n"];switch(t[t.l]){case 0:return t.l+=8,["String","s"];case 1:return e=t[t.l+2]===1,t.l+=8,[e,"b"];case 2:return e=t[t.l+2],t.l+=8,[e,"e"];case 3:return t.l+=8,["","s"]}return[]}function Cw(t,e,n){var r=t.l+e,s=zc(t);n.biff==2&&++t.l;var i=yge(t),a=t.read_shift(1);n.biff!=2&&(t.read_shift(1),n.biff>=5&&t.read_shift(4));var o=mge(t,r-t.l,n);return{cell:s,val:i[0],formula:o,shared:a>>3&1,tt:i[1]}}function Rv(t,e,n){var r=t.read_shift(4),s=O1(t,r,n),i=t.read_shift(4),a=i>0?F1(t,i,s,n):null;return[s,a]}var vge=Rv,Pv=Rv,_ge=Rv,bge=Rv,wge={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},wB={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},Tge={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function tD(t){return t.slice(0,3)=="of:"&&(t=t.slice(3)),t.charCodeAt(0)==61&&(t=t.slice(1),t.charCodeAt(0)==61&&(t=t.slice(1))),t=t.replace(/COM\.MICROSOFT\./g,""),t=t.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(e,n){return n.replace(/\./g,"")}),t=t.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),t.replace(/[;~]/g,",").replace(/\|/g,";")}function Nw(t){var e=t.split(":"),n=e[0].split(".")[0];return[n,e[0].split(".")[1]+(e.length>1?":"+(e[1].split(".")[1]||e[1].split(".")[0]):"")]}var Ag={},cp={};function Cg(t,e){if(t){var n=[.7,.7,.75,.75,.3,.3];e=="xlml"&&(n=[1,1,1,1,.5,.5]),t.left==null&&(t.left=n[0]),t.right==null&&(t.right=n[1]),t.top==null&&(t.top=n[2]),t.bottom==null&&(t.bottom=n[3]),t.header==null&&(t.header=n[4]),t.footer==null&&(t.footer=n[5])}}function TB(t,e,n,r,s,i){try{r.cellNF&&(t.z=Gn[e])}catch(o){if(r.WTF)throw o}if(!(t.t==="z"&&!r.cellStyles)){if(t.t==="d"&&typeof t.v=="string"&&(t.v=zi(t.v)),(!r||r.cellText!==!1)&&t.t!=="z")try{if(Gn[e]==null&&Xd(Efe[e]||"General",e),t.t==="e")t.w=t.w||Rh[t.v];else if(e===0)if(t.t==="n")(t.v|0)===t.v?t.w=t.v.toString(10):t.w=n1(t.v);else if(t.t==="d"){var a=$a(t.v);(a|0)===a?t.w=a.toString(10):t.w=n1(a)}else{if(t.v===void 0)return"";t.w=hh(t.v,cp)}else t.t==="d"?t.w=xl(e,$a(t.v),cp):t.w=xl(e,t.v,cp)}catch(o){if(r.WTF)throw o}if(r.cellStyles&&n!=null)try{t.s=i.Fills[n],t.s.fgColor&&t.s.fgColor.theme&&!t.s.fgColor.rgb&&(t.s.fgColor.rgb=B2(s.themeElements.clrScheme[t.s.fgColor.theme].rgb,t.s.fgColor.tint||0),r.WTF&&(t.s.fgColor.raw_rgb=s.themeElements.clrScheme[t.s.fgColor.theme].rgb)),t.s.bgColor&&t.s.bgColor.theme&&(t.s.bgColor.rgb=B2(s.themeElements.clrScheme[t.s.bgColor.theme].rgb,t.s.bgColor.tint||0),r.WTF&&(t.s.bgColor.raw_rgb=s.themeElements.clrScheme[t.s.bgColor.theme].rgb))}catch(o){if(r.WTF&&i.Fills)throw o}}}function Ege(t,e){var n=Hs(e);n.s.r<=n.e.r&&n.s.c<=n.e.c&&n.s.r>=0&&n.s.c>=0&&(t["!ref"]=br(n))}var Sge=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,Age=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,Cge=/<(?:\w:)?hyperlink [^>]*>/mg,Nge=/"(\w*:\w*)"/,Ige=/<(?:\w:)?col\b[^>]*[\/]?>/g,kge=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,Rge=/<(?:\w:)?pageMargins[^>]*\/>/g,EB=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,Pge=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,Dge=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function Mge(t,e,n,r,s,i,a){if(!t)return t;r||(r={"!id":{}});var o=e.dense?[]:{},c={s:{r:2e6,c:2e6},e:{r:0,c:0}},f="",d="",p=t.match(Age);p?(f=t.slice(0,p.index),d=t.slice(p.index+p[0].length)):f=d=t;var g=f.match(EB);g?qS(g[0],o,s,n):(g=f.match(Pge))&&Lge(g[0],g[1]||"",o,s,n);var y=(f.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(y>0){var E=f.slice(y,y+50).match(Nge);E&&Ege(o,E[1])}var b=f.match(Dge);b&&b[1]&&jge(b[1],s);var A=[];if(e.cellStyles){var N=f.match(Ige);N&&Bge(A,N)}p&&qge(p[1],o,e,c,i,a);var V=d.match(kge);V&&(o["!autofilter"]=Vge(V[0]));var k=[],B=d.match(Sge);if(B)for(y=0;y!=B.length;++y)k[y]=Hs(B[y].slice(B[y].indexOf('"')+1));var W=d.match(Cge);W&&Fge(o,W,r);var K=d.match(Rge);if(K&&(o["!margins"]=Oge(Rn(K[0]))),!o["!ref"]&&c.e.c>=c.s.c&&c.e.r>=c.s.r&&(o["!ref"]=br(c)),e.sheetRows>0&&o["!ref"]){var D=Hs(o["!ref"]);e.sheetRows<=+D.e.r&&(D.e.r=e.sheetRows-1,D.e.r>c.e.r&&(D.e.r=c.e.r),D.e.r<D.s.r&&(D.s.r=D.e.r),D.e.c>c.e.c&&(D.e.c=c.e.c),D.e.c<D.s.c&&(D.s.c=D.e.c),o["!fullref"]=o["!ref"],o["!ref"]=br(D))}return A.length>0&&(o["!cols"]=A),k.length>0&&(o["!merges"]=k),o}function qS(t,e,n,r){var s=Rn(t);n.Sheets[r]||(n.Sheets[r]={}),s.codeName&&(n.Sheets[r].CodeName=Sr(is(s.codeName)))}function Lge(t,e,n,r,s){qS(t.slice(0,t.indexOf(">")),n,r,s)}function Fge(t,e,n){for(var r=Array.isArray(t),s=0;s!=e.length;++s){var i=Rn(is(e[s]),!0);if(!i.ref)return;var a=((n||{})["!id"]||[])[i.id];a?(i.Target=a.Target,i.location&&(i.Target+="#"+Sr(i.location))):(i.Target="#"+Sr(i.location),a={Target:i.Target,TargetMode:"Internal"}),i.Rel=a,i.tooltip&&(i.Tooltip=i.tooltip,delete i.tooltip);for(var o=Hs(i.ref),c=o.s.r;c<=o.e.r;++c)for(var f=o.s.c;f<=o.e.c;++f){var d=jn({c:f,r:c});r?(t[c]||(t[c]=[]),t[c][f]||(t[c][f]={t:"z",v:void 0}),t[c][f].l=i):(t[d]||(t[d]={t:"z",v:void 0}),t[d].l=i)}}}function Oge(t){var e={};return["left","right","top","bottom","header","footer"].forEach(function(n){t[n]&&(e[n]=parseFloat(t[n]))}),e}function Bge(t,e){for(var n=!1,r=0;r!=e.length;++r){var s=Rn(e[r],!0);s.hidden&&(s.hidden=ws(s.hidden));var i=parseInt(s.min,10)-1,a=parseInt(s.max,10)-1;for(s.outlineLevel&&(s.level=+s.outlineLevel||0),delete s.min,delete s.max,s.width=+s.width,!n&&s.width&&(n=!0,US(s.width)),Ip(s);i<=a;)t[i++]=oa(s)}}function Vge(t){var e={ref:(t.match(/ref="([^"]*)"/)||[])[1]};return e}var Uge=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function jge(t,e){e.Views||(e.Views=[{}]),(t.match(Uge)||[]).forEach(function(n,r){var s=Rn(n);e.Views[r]||(e.Views[r]={}),+s.zoomScale&&(e.Views[r].zoom=+s.zoomScale),ws(s.rightToLeft)&&(e.Views[r].RTL=!0)})}var qge=(function(){var t=/<(?:\w+:)?c[ \/>]/,e=/<\/(?:\w+:)?row>/,n=/r=["']([^"']*)["']/,r=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,s=/ref=["']([^"']*)["']/,i=r1("v"),a=r1("f");return function(c,f,d,p,g,y){for(var E=0,b="",A=[],N=[],V=0,k=0,B=0,W="",K,D,L=0,R=0,q,P,M=0,H=0,ae=Array.isArray(y.CellXf),Se,oe=[],ve=[],Ie=Array.isArray(f),xe=[],Re={},re=!1,O=!!d.sheetStubs,J=c.split(e),U=0,Y=J.length;U!=Y;++U){b=J[U].trim();var ne=b.length;if(ne!==0){var ye=0;e:for(E=0;E<ne;++E)switch(b[E]){case">":if(b[E-1]!="/"){++E;break e}if(d&&d.cellStyles){if(D=Rn(b.slice(ye,E),!0),L=D.r!=null?parseInt(D.r,10):L+1,R=-1,d.sheetRows&&d.sheetRows<L)continue;Re={},re=!1,D.ht&&(re=!0,Re.hpt=parseFloat(D.ht),Re.hpx=o1(Re.hpt)),D.hidden=="1"&&(re=!0,Re.hidden=!0),D.outlineLevel!=null&&(re=!0,Re.level=+D.outlineLevel),re&&(xe[L-1]=Re)}break;case"<":ye=E;break}if(ye>=E)break;if(D=Rn(b.slice(ye,E),!0),L=D.r!=null?parseInt(D.r,10):L+1,R=-1,!(d.sheetRows&&d.sheetRows<L)){p.s.r>L-1&&(p.s.r=L-1),p.e.r<L-1&&(p.e.r=L-1),d&&d.cellStyles&&(Re={},re=!1,D.ht&&(re=!0,Re.hpt=parseFloat(D.ht),Re.hpx=o1(Re.hpt)),D.hidden=="1"&&(re=!0,Re.hidden=!0),D.outlineLevel!=null&&(re=!0,Re.level=+D.outlineLevel),re&&(xe[L-1]=Re)),A=b.slice(E).split(t);for(var pe=0;pe!=A.length&&A[pe].trim().charAt(0)=="<";++pe);for(A=A.slice(pe),E=0;E!=A.length;++E)if(b=A[E].trim(),b.length!==0){if(N=b.match(n),V=E,k=0,B=0,b="<c "+(b.slice(0,1)=="<"?">":"")+b,N!=null&&N.length===2){for(V=0,W=N[1],k=0;k!=W.length&&!((B=W.charCodeAt(k)-64)<1||B>26);++k)V=26*V+B;--V,R=V}else++R;for(k=0;k!=b.length&&b.charCodeAt(k)!==62;++k);if(++k,D=Rn(b.slice(0,k),!0),D.r||(D.r=jn({r:L-1,c:R})),W=b.slice(k),K={t:""},(N=W.match(i))!=null&&N[1]!==""&&(K.v=Sr(N[1])),d.cellFormula){if((N=W.match(a))!=null&&N[1]!==""){if(K.f=Sr(is(N[1])).replace(/\r\n/g,`
`),d.xlfn||(K.f=JP(K.f)),N[0].indexOf('t="array"')>-1)K.F=(W.match(s)||[])[1],K.F.indexOf(":")>-1&&oe.push([Hs(K.F),K.F]);else if(N[0].indexOf('t="shared"')>-1){P=Rn(N[0]);var ue=Sr(is(N[1]));d.xlfn||(ue=JP(ue)),ve[parseInt(P.si,10)]=[P,ue,D.r]}}else(N=W.match(/<f[^>]*\/>/))&&(P=Rn(N[0]),ve[P.si]&&(K.f=Zpe(ve[P.si][1],ve[P.si][2],D.r)));var Te=za(D.r);for(k=0;k<oe.length;++k)Te.r>=oe[k][0].s.r&&Te.r<=oe[k][0].e.r&&Te.c>=oe[k][0].s.c&&Te.c<=oe[k][0].e.c&&(K.F=oe[k][1])}if(D.t==null&&K.v===void 0)if(K.f||K.F)K.v=0,K.t="n";else if(O)K.t="z";else continue;else K.t=D.t||"n";switch(p.s.c>R&&(p.s.c=R),p.e.c<R&&(p.e.c=R),K.t){case"n":if(K.v==""||K.v==null){if(!O)continue;K.t="z"}else K.v=parseFloat(K.v);break;case"s":if(typeof K.v>"u"){if(!O)continue;K.t="z"}else q=Ag[parseInt(K.v,10)],K.v=q.t,K.r=q.r,d.cellHTML&&(K.h=q.h);break;case"str":K.t="s",K.v=K.v!=null?is(K.v):"",d.cellHTML&&(K.h=IS(K.v));break;case"inlineStr":N=W.match(r),K.t="s",N!=null&&(q=VS(N[1]))?(K.v=q.t,d.cellHTML&&(K.h=q.h)):K.v="";break;case"b":K.v=ws(K.v);break;case"d":d.cellDates?K.v=zi(K.v,1):(K.v=$a(zi(K.v,1)),K.t="n");break;case"e":(!d||d.cellText!==!1)&&(K.w=K.v),K.v=G9[K.v];break}if(M=H=0,Se=null,ae&&D.s!==void 0&&(Se=y.CellXf[D.s],Se!=null&&(Se.numFmtId!=null&&(M=Se.numFmtId),d.cellStyles&&Se.fillId!=null&&(H=Se.fillId))),TB(K,M,H,d,g,y),d.cellDates&&ae&&K.t=="n"&&Gp(Gn[M])&&(K.t="d",K.v=Iv(K.v)),D.cm&&d.xlmeta){var je=(d.xlmeta.Cell||[])[+D.cm-1];je&&je.type=="XLDAPR"&&(K.D=!0)}if(Ie){var ce=za(D.r);f[ce.r]||(f[ce.r]=[]),f[ce.r][ce.c]=K}else f[D.r]=K}}}}xe.length>0&&(f["!rows"]=xe)}})();function Hge(t,e){var n={},r=t.l+e;n.r=t.read_shift(4),t.l+=4;var s=t.read_shift(2);t.l+=1;var i=t.read_shift(1);return t.l=r,i&7&&(n.level=i&7),i&16&&(n.hidden=!0),i&32&&(n.hpt=s/20),n}var zge=kh;function Gge(){}function Wge(t,e){var n={},r=t[t.l];return++t.l,n.above=!(r&64),n.left=!(r&128),t.l+=18,n.name=pde(t),n}function $ge(t){var e=yl(t);return[e]}function Kge(t){var e=Ih(t);return[e]}function Yge(t){var e=yl(t),n=t.read_shift(1);return[e,n,"b"]}function Xge(t){var e=Ih(t),n=t.read_shift(1);return[e,n,"b"]}function Jge(t){var e=yl(t),n=t.read_shift(1);return[e,n,"e"]}function Qge(t){var e=Ih(t),n=t.read_shift(1);return[e,n,"e"]}function Zge(t){var e=yl(t),n=t.read_shift(4);return[e,n,"s"]}function e1e(t){var e=Ih(t),n=t.read_shift(4);return[e,n,"s"]}function t1e(t){var e=yl(t),n=Ea(t);return[e,n,"n"]}function SB(t){var e=Ih(t),n=Ea(t);return[e,n,"n"]}function n1e(t){var e=yl(t),n=FS(t);return[e,n,"n"]}function r1e(t){var e=Ih(t),n=FS(t);return[e,n,"n"]}function s1e(t){var e=yl(t),n=MS(t);return[e,n,"is"]}function i1e(t){var e=yl(t),n=Ia(t);return[e,n,"str"]}function a1e(t){var e=Ih(t),n=Ia(t);return[e,n,"str"]}function o1e(t,e,n){var r=t.l+e,s=yl(t);s.r=n["!row"];var i=t.read_shift(1),a=[s,i,"b"];if(n.cellFormula){t.l+=2;var o=Pv(t,r-t.l,n);a[3]=wa(o,null,s,n.supbooks,n)}else t.l=r;return a}function l1e(t,e,n){var r=t.l+e,s=yl(t);s.r=n["!row"];var i=t.read_shift(1),a=[s,i,"e"];if(n.cellFormula){t.l+=2;var o=Pv(t,r-t.l,n);a[3]=wa(o,null,s,n.supbooks,n)}else t.l=r;return a}function c1e(t,e,n){var r=t.l+e,s=yl(t);s.r=n["!row"];var i=Ea(t),a=[s,i,"n"];if(n.cellFormula){t.l+=2;var o=Pv(t,r-t.l,n);a[3]=wa(o,null,s,n.supbooks,n)}else t.l=r;return a}function u1e(t,e,n){var r=t.l+e,s=yl(t);s.r=n["!row"];var i=Ia(t),a=[s,i,"str"];if(n.cellFormula){t.l+=2;var o=Pv(t,r-t.l,n);a[3]=wa(o,null,s,n.supbooks,n)}else t.l=r;return a}var f1e=kh;function d1e(t,e){var n=t.l+e,r=kh(t),s=LS(t),i=Ia(t),a=Ia(t),o=Ia(t);t.l=n;var c={rfx:r,relId:s,loc:i,display:o};return a&&(c.Tooltip=a),c}function h1e(){}function p1e(t,e,n){var r=t.l+e,s=q9(t),i=t.read_shift(1),a=[s];if(a[2]=i,n.cellFormula){var o=vge(t,r-t.l,n);a[1]=o}else t.l=r;return a}function m1e(t,e,n){var r=t.l+e,s=kh(t),i=[s];if(n.cellFormula){var a=bge(t,r-t.l,n);i[1]=a,t.l=r}else t.l=r;return i}var g1e=["left","right","top","bottom","header","footer"];function x1e(t){var e={};return g1e.forEach(function(n){e[n]=Ea(t)}),e}function y1e(t){var e=t.read_shift(2);return t.l+=28,{RTL:e&32}}function v1e(){}function _1e(){}function b1e(t,e,n,r,s,i,a){if(!t)return t;var o=e||{};r||(r={"!id":{}});var c=o.dense?[]:{},f,d={s:{r:2e6,c:2e6},e:{r:0,c:0}},p=!1,g=!1,y,E,b,A,N,V,k,B,W,K=[];o.biff=12,o["!row"]=0;var D=0,L=!1,R=[],q={},P=o.supbooks||s.supbooks||[[]];if(P.sharedf=q,P.arrayf=R,P.SheetNames=s.SheetNames||s.Sheets.map(function(Ie){return Ie.name}),!o.supbooks&&(o.supbooks=P,s.Names))for(var M=0;M<s.Names.length;++M)P[0][M+1]=s.Names[M];var H=[],ae=[],Se=!1;j2[16]={n:"BrtShortReal",f:SB};var oe;if(Hu(t,function(xe,Re,re){if(!g)switch(re){case 148:f=xe;break;case 0:y=xe,o.sheetRows&&o.sheetRows<=y.r&&(g=!0),B=la(A=y.r),o["!row"]=y.r,(xe.hidden||xe.hpt||xe.level!=null)&&(xe.hpt&&(xe.hpx=o1(xe.hpt)),ae[xe.r]=xe);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(E={t:xe[2]},xe[2]){case"n":E.v=xe[1];break;case"s":k=Ag[xe[1]],E.v=k.t,E.r=k.r;break;case"b":E.v=!!xe[1];break;case"e":E.v=xe[1],o.cellText!==!1&&(E.w=Rh[E.v]);break;case"str":E.t="s",E.v=xe[1];break;case"is":E.t="s",E.v=xe[1].t;break}if((b=a.CellXf[xe[0].iStyleRef])&&TB(E,b.numFmtId,null,o,i,a),N=xe[0].c==-1?N+1:xe[0].c,o.dense?(c[A]||(c[A]=[]),c[A][N]=E):c[Ai(N)+B]=E,o.cellFormula){for(L=!1,D=0;D<R.length;++D){var O=R[D];y.r>=O[0].s.r&&y.r<=O[0].e.r&&N>=O[0].s.c&&N<=O[0].e.c&&(E.F=br(O[0]),L=!0)}!L&&xe.length>3&&(E.f=xe[3])}if(d.s.r>y.r&&(d.s.r=y.r),d.s.c>N&&(d.s.c=N),d.e.r<y.r&&(d.e.r=y.r),d.e.c<N&&(d.e.c=N),o.cellDates&&b&&E.t=="n"&&Gp(Gn[b.numFmtId])){var J=qd(E.v);J&&(E.t="d",E.v=new Date(J.y,J.m-1,J.d,J.H,J.M,J.S,J.u))}oe&&(oe.type=="XLDAPR"&&(E.D=!0),oe=void 0);break;case 1:case 12:if(!o.sheetStubs||p)break;E={t:"z",v:void 0},N=xe[0].c==-1?N+1:xe[0].c,o.dense?(c[A]||(c[A]=[]),c[A][N]=E):c[Ai(N)+B]=E,d.s.r>y.r&&(d.s.r=y.r),d.s.c>N&&(d.s.c=N),d.e.r<y.r&&(d.e.r=y.r),d.e.c<N&&(d.e.c=N),oe&&(oe.type=="XLDAPR"&&(E.D=!0),oe=void 0);break;case 176:K.push(xe);break;case 49:oe=((o.xlmeta||{}).Cell||[])[xe-1];break;case 494:var U=r["!id"][xe.relId];for(U?(xe.Target=U.Target,xe.loc&&(xe.Target+="#"+xe.loc),xe.Rel=U):xe.relId==""&&(xe.Target="#"+xe.loc),A=xe.rfx.s.r;A<=xe.rfx.e.r;++A)for(N=xe.rfx.s.c;N<=xe.rfx.e.c;++N)o.dense?(c[A]||(c[A]=[]),c[A][N]||(c[A][N]={t:"z",v:void 0}),c[A][N].l=xe):(V=jn({c:N,r:A}),c[V]||(c[V]={t:"z",v:void 0}),c[V].l=xe);break;case 426:if(!o.cellFormula)break;R.push(xe),W=o.dense?c[A][N]:c[Ai(N)+B],W.f=wa(xe[1],d,{r:y.r,c:N},P,o),W.F=br(xe[0]);break;case 427:if(!o.cellFormula)break;q[jn(xe[0].s)]=xe[1],W=o.dense?c[A][N]:c[Ai(N)+B],W.f=wa(xe[1],d,{r:y.r,c:N},P,o);break;case 60:if(!o.cellStyles)break;for(;xe.e>=xe.s;)H[xe.e--]={width:xe.w/256,hidden:!!(xe.flags&1),level:xe.level},Se||(Se=!0,US(xe.w/256)),Ip(H[xe.e+1]);break;case 161:c["!autofilter"]={ref:br(xe)};break;case 476:c["!margins"]=xe;break;case 147:s.Sheets[n]||(s.Sheets[n]={}),xe.name&&(s.Sheets[n].CodeName=xe.name),(xe.above||xe.left)&&(c["!outline"]={above:xe.above,left:xe.left});break;case 137:s.Views||(s.Views=[{}]),s.Views[0]||(s.Views[0]={}),xe.RTL&&(s.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:p=!0;break;case 36:p=!1;break;case 37:p=!0;break;case 38:p=!1;break;default:if(!Re.T){if(!p||o.WTF)throw new Error("Unexpected record 0x"+re.toString(16))}}},o),delete o.supbooks,delete o["!row"],!c["!ref"]&&(d.s.r<2e6||f&&(f.e.r>0||f.e.c>0||f.s.r>0||f.s.c>0))&&(c["!ref"]=br(f||d)),o.sheetRows&&c["!ref"]){var ve=Hs(c["!ref"]);o.sheetRows<=+ve.e.r&&(ve.e.r=o.sheetRows-1,ve.e.r>d.e.r&&(ve.e.r=d.e.r),ve.e.r<ve.s.r&&(ve.s.r=ve.e.r),ve.e.c>d.e.c&&(ve.e.c=d.e.c),ve.e.c<ve.s.c&&(ve.s.c=ve.e.c),c["!fullref"]=c["!ref"],c["!ref"]=br(ve))}return K.length>0&&(c["!merges"]=K),H.length>0&&(c["!cols"]=H),ae.length>0&&(c["!rows"]=ae),c}function w1e(t){var e=[],n=t.match(/^<c:numCache>/),r;(t.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(i){var a=i.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);a&&(e[+a[1]]=n?+a[2]:a[2])});var s=Sr((t.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(t.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(i){r=i.replace(/<.*?>/g,"")}),[e,s,r]}function T1e(t,e,n,r,s,i){var a=i||{"!type":"chart"};if(!t)return i;var o=0,c=0,f="A",d={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(t.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(p){var g=w1e(p);d.s.r=d.s.c=0,d.e.c=o,f=Ai(o),g[0].forEach(function(y,E){a[f+la(E)]={t:"n",v:y,z:g[1]},c=E}),d.e.r<c&&(d.e.r=c),++o}),o>0&&(a["!ref"]=br(d)),a}function E1e(t,e,n,r,s){if(!t)return t;r||(r={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},a,o=t.match(EB);return o&&qS(o[0],i,s,n),(a=t.match(/drawing r:id="(.*?)"/))&&(i["!rel"]=a[1]),r["!id"][i["!rel"]]&&(i["!drawel"]=r["!id"][i["!rel"]]),i}function S1e(t,e){t.l+=10;var n=Ia(t);return{name:n}}function A1e(t,e,n,r,s){if(!t)return t;r||(r={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},a=!1;return Hu(t,function(c,f,d){switch(d){case 550:i["!rel"]=c;break;case 651:s.Sheets[n]||(s.Sheets[n]={}),c.name&&(s.Sheets[n].CodeName=c.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:a=!0;break;case 36:a=!1;break;case 37:break;case 38:break;default:if(!(f.T>0)){if(!(f.T<0)){if(!a||e.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}}},e),r["!id"][i["!rel"]]&&(i["!drawel"]=r["!id"][i["!rel"]]),i}var AB=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],C1e=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],N1e=[],I1e=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function nD(t,e){for(var n=0;n!=t.length;++n)for(var r=t[n],s=0;s!=e.length;++s){var i=e[s];if(r[i[0]]==null)r[i[0]]=i[1];else switch(i[2]){case"bool":typeof r[i[0]]=="string"&&(r[i[0]]=ws(r[i[0]]));break;case"int":typeof r[i[0]]=="string"&&(r[i[0]]=parseInt(r[i[0]],10));break}}}function rD(t,e){for(var n=0;n!=e.length;++n){var r=e[n];if(t[r[0]]==null)t[r[0]]=r[1];else switch(r[2]){case"bool":typeof t[r[0]]=="string"&&(t[r[0]]=ws(t[r[0]]));break;case"int":typeof t[r[0]]=="string"&&(t[r[0]]=parseInt(t[r[0]],10));break}}}function CB(t){rD(t.WBProps,AB),rD(t.CalcPr,I1e),nD(t.WBView,C1e),nD(t.Sheets,N1e),cp.date1904=ws(t.WBProps.date1904)}var k1e="][*?/\\".split("");function R1e(t,e){if(t.length>31)throw new Error("Sheet names cannot exceed 31 chars");var n=!0;return k1e.forEach(function(r){if(t.indexOf(r)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),n}var P1e=/<\w+:workbook/;function D1e(t,e){if(!t)throw new Error("Could not find file");var n={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},r=!1,s="xmlns",i={},a=0;if(t.replace(Ra,function(c,f){var d=Rn(c);switch(Hc(d[0])){case"<?xml":break;case"<workbook":c.match(P1e)&&(s="xmlns"+c.match(/<(\w+):/)[1]),n.xmlns=d[s];break;case"</workbook>":break;case"<fileVersion":delete d[0],n.AppVersion=d;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":AB.forEach(function(p){if(d[p[0]]!=null)switch(p[2]){case"bool":n.WBProps[p[0]]=ws(d[p[0]]);break;case"int":n.WBProps[p[0]]=parseInt(d[p[0]],10);break;default:n.WBProps[p[0]]=d[p[0]]}}),d.codeName&&(n.WBProps.CodeName=is(d.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete d[0],n.WBView.push(d);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(d.state){case"hidden":d.Hidden=1;break;case"veryHidden":d.Hidden=2;break;default:d.Hidden=0}delete d.state,d.name=Sr(is(d.name)),delete d[0],n.Sheets.push(d);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":r=!0;break;case"</definedNames>":r=!1;break;case"<definedName":i={},i.Name=is(d.name),d.comment&&(i.Comment=d.comment),d.localSheetId&&(i.Sheet=+d.localSheetId),ws(d.hidden||"0")&&(i.Hidden=!0),a=f+c.length;break;case"</definedName>":i.Ref=Sr(is(t.slice(a,f))),n.Names.push(i);break;case"<definedName/>":break;case"<calcPr":delete d[0],n.CalcPr=d;break;case"<calcPr/>":delete d[0],n.CalcPr=d;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":r=!0;break;case"</AlternateContent>":r=!1;break;case"<revisionPtr":break;default:if(!r&&e.WTF)throw new Error("unrecognized "+d[0]+" in workbook")}return c}),Jfe.indexOf(n.xmlns)===-1)throw new Error("Unknown Namespace: "+n.xmlns);return CB(n),n}function M1e(t,e){var n={};return n.Hidden=t.read_shift(4),n.iTabID=t.read_shift(4),n.strRelID=uT(t),n.name=Ia(t),n}function L1e(t,e){var n={},r=t.read_shift(4);n.defaultThemeVersion=t.read_shift(4);var s=e>8?Ia(t):"";return s.length>0&&(n.CodeName=s),n.autoCompressPictures=!!(r&65536),n.backupFile=!!(r&64),n.checkCompatibility=!!(r&4096),n.date1904=!!(r&1),n.filterPrivacy=!!(r&8),n.hidePivotFieldList=!!(r&1024),n.promptedSolutions=!!(r&16),n.publishItems=!!(r&2048),n.refreshAllConnections=!!(r&262144),n.saveExternalLinkValues=!!(r&128),n.showBorderUnselectedTables=!!(r&4),n.showInkAnnotation=!!(r&32),n.showObjects=["all","placeholders","none"][r>>13&3],n.showPivotChartFilter=!!(r&32768),n.updateLinks=["userSet","never","always"][r>>8&3],n}function F1e(t,e){var n={};return t.read_shift(4),n.ArchID=t.read_shift(4),t.l+=e-8,n}function O1e(t,e,n){var r=t.l+e;t.l+=4,t.l+=1;var s=t.read_shift(4),i=mde(t),a=_ge(t,0,n),o=LS(t);t.l=r;var c={Name:i,Ptg:a};return s<268435455&&(c.Sheet=s),o&&(c.Comment=o),c}function B1e(t,e){var n={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},r=[],s=!1;e||(e={}),e.biff=12;var i=[],a=[[]];return a.SheetNames=[],a.XTI=[],j2[16]={n:"BrtFRTArchID$",f:F1e},Hu(t,function(c,f,d){switch(d){case 156:a.SheetNames.push(c.name),n.Sheets.push(c);break;case 153:n.WBProps=c;break;case 39:c.Sheet!=null&&(e.SID=c.Sheet),c.Ref=wa(c.Ptg,null,null,a,e),delete e.SID,delete c.Ptg,i.push(c);break;case 1036:break;case 357:case 358:case 355:case 667:a[0].length?a.push([d,c]):a[0]=[d,c],a[a.length-1].XTI=[];break;case 362:a.length===0&&(a[0]=[],a[0].XTI=[]),a[a.length-1].XTI=a[a.length-1].XTI.concat(c),a.XTI=a.XTI.concat(c);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:r.push(d),s=!0;break;case 36:r.pop(),s=!1;break;case 37:r.push(d),s=!0;break;case 38:r.pop(),s=!1;break;case 16:break;default:if(!f.T){if(!s||e.WTF&&r[r.length-1]!=37&&r[r.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}},e),CB(n),n.Names=i,n.supbooks=a,n}function V1e(t,e,n){return e.slice(-4)===".bin"?B1e(t,n):D1e(t,n)}function U1e(t,e,n,r,s,i,a,o){return e.slice(-4)===".bin"?b1e(t,r,n,s,i,a,o):Mge(t,r,n,s,i,a,o)}function j1e(t,e,n,r,s,i,a,o){return e.slice(-4)===".bin"?A1e(t,r,n,s,i):E1e(t,r,n,s,i)}function q1e(t,e,n,r,s,i,a,o){return e.slice(-4)===".bin"?Xpe():Jpe()}function H1e(t,e,n,r,s,i,a,o){return e.slice(-4)===".bin"?Kpe():Ype()}function z1e(t,e,n,r){return e.slice(-4)===".bin"?fpe(t,n,r):ipe(t,n,r)}function G1e(t,e,n){return hB(t,n)}function W1e(t,e,n){return e.slice(-4)===".bin"?C0e(t,n):S0e(t,n)}function $1e(t,e,n){return e.slice(-4)===".bin"?Gpe(t,n):Upe(t,n)}function K1e(t,e,n){return e.slice(-4)===".bin"?Ope(t):Lpe(t)}function Y1e(t,e,n,r){return n.slice(-4)===".bin"?Bpe(t,e,n,r):void 0}function X1e(t,e,n){return e.slice(-4)===".bin"?Dpe(t,e,n):Mpe(t,e,n)}var NB=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,IB=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function jl(t,e){var n=t.split(/\s+/),r=[];if(r[0]=n[0],n.length===1)return r;var s=t.match(NB),i,a,o,c;if(s)for(c=0;c!=s.length;++c)i=s[c].match(IB),(a=i[1].indexOf(":"))===-1?r[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?o="xmlns"+i[1].slice(6):o=i[1].slice(a+1),r[o]=i[2].slice(1,i[2].length-1));return r}function J1e(t){var e=t.split(/\s+/),n={};if(e.length===1)return n;var r=t.match(NB),s,i,a,o;if(r)for(o=0;o!=r.length;++o)s=r[o].match(IB),(i=s[1].indexOf(":"))===-1?n[s[1]]=s[2].slice(1,s[2].length-1):(s[1].slice(0,6)==="xmlns:"?a="xmlns"+s[1].slice(6):a=s[1].slice(i+1),n[a]=s[2].slice(1,s[2].length-1));return n}var Ng;function Q1e(t,e){var n=Ng[t]||Sr(t);return n==="General"?hh(e):xl(n,e)}function Z1e(t,e,n,r){var s=r;switch((n[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":s=ws(r);break;case"i2":case"int":s=parseInt(r,10);break;case"r4":case"float":s=parseFloat(r);break;case"date":case"dateTime.tz":s=zi(r);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+n[0])}t[Sr(e)]=s}function exe(t,e,n){if(t.t!=="z"){if(!n||n.cellText!==!1)try{t.t==="e"?t.w=t.w||Rh[t.v]:e==="General"?t.t==="n"?(t.v|0)===t.v?t.w=t.v.toString(10):t.w=n1(t.v):t.w=hh(t.v):t.w=Q1e(e||"General",t.v)}catch(i){if(n.WTF)throw i}try{var r=Ng[e]||e||"General";if(n.cellNF&&(t.z=r),n.cellDates&&t.t=="n"&&Gp(r)){var s=qd(t.v);s&&(t.t="d",t.v=new Date(s.y,s.m-1,s.d,s.H,s.M,s.S,s.u))}}catch(i){if(n.WTF)throw i}}}function txe(t,e,n){if(n.cellStyles&&e.Interior){var r=e.Interior;r.Pattern&&(r.patternType=Z0e[r.Pattern]||r.Pattern)}t[e.ID]=e}function nxe(t,e,n,r,s,i,a,o,c,f){var d="General",p=r.StyleID,g={};f=f||{};var y=[],E=0;for(p===void 0&&o&&(p=o.StyleID),p===void 0&&a&&(p=a.StyleID);i[p]!==void 0&&(i[p].nf&&(d=i[p].nf),i[p].Interior&&y.push(i[p].Interior),!!i[p].Parent);)p=i[p].Parent;switch(n.Type){case"Boolean":r.t="b",r.v=ws(t);break;case"String":r.t="s",r.r=SP(Sr(t)),r.v=t.indexOf("<")>-1?Sr(e||t).replace(/<.*?>/g,""):r.r;break;case"DateTime":t.slice(-1)!="Z"&&(t+="Z"),r.v=(zi(t)-new Date(Date.UTC(1899,11,30)))/(1440*60*1e3),r.v!==r.v?r.v=Sr(t):r.v<60&&(r.v=r.v-1),(!d||d=="General")&&(d="yyyy-mm-dd");case"Number":r.v===void 0&&(r.v=+t),r.t||(r.t="n");break;case"Error":r.t="e",r.v=G9[t],f.cellText!==!1&&(r.w=t);break;default:t==""&&e==""?r.t="z":(r.t="s",r.v=SP(e||t));break}if(exe(r,d,f),f.cellFormula!==!1)if(r.Formula){var b=Sr(r.Formula);b.charCodeAt(0)==61&&(b=b.slice(1)),r.f=lp(b,s),delete r.Formula,r.ArrayRange=="RC"?r.F=lp("RC:RC",s):r.ArrayRange&&(r.F=lp(r.ArrayRange,s),c.push([Hs(r.F),r.F]))}else for(E=0;E<c.length;++E)s.r>=c[E][0].s.r&&s.r<=c[E][0].e.r&&s.c>=c[E][0].s.c&&s.c<=c[E][0].e.c&&(r.F=c[E][1]);f.cellStyles&&(y.forEach(function(A){!g.patternType&&A.patternType&&(g.patternType=A.patternType)}),r.s=g),r.StyleID!==void 0&&(r.ixfe=r.StyleID)}function rxe(t){t.t=t.v||"",t.t=t.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.v=t.w=t.ixfe=void 0}function Iw(t,e){var n=e||{};x9();var r=Xm(kS(t));(n.type=="binary"||n.type=="array"||n.type=="base64")&&(r=is(r));var s=r.slice(0,1024).toLowerCase(),i=!1;if(s=s.replace(/".*?"/g,""),(s.indexOf(">")&1023)>Math.min(s.indexOf(",")&1023,s.indexOf(";")&1023)){var a=oa(n);return a.type="string",i1.to_workbook(r,a)}if(s.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(Pt){s.indexOf("<"+Pt)>=0&&(i=!0)}),i)return dxe(r,n);Ng={"General Number":"General","General Date":Gn[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":Gn[15],"Short Date":Gn[14],"Long Time":Gn[19],"Medium Time":Gn[18],"Short Time":Gn[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:Gn[2],Standard:Gn[4],Percent:Gn[10],Scientific:Gn[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var o,c=[],f,d={},p=[],g=n.dense?[]:{},y="",E={},b={},A=jl('<Data ss:Type="String">'),N=0,V=0,k=0,B={s:{r:2e6,c:2e6},e:{r:0,c:0}},W={},K={},D="",L=0,R=[],q={},P={},M=0,H=[],ae=[],Se={},oe=[],ve,Ie=!1,xe=[],Re=[],re={},O=0,J=0,U={Sheets:[],WBProps:{date1904:!1}},Y={};s1.lastIndex=0,r=r.replace(/<!--([\s\S]*?)-->/mg,"");for(var ne="";o=s1.exec(r);)switch(o[3]=(ne=o[3]).toLowerCase()){case"data":if(ne=="data"){if(o[1]==="/"){if((f=c.pop())[0]!==o[3])throw new Error("Bad state: "+f.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&c.push([o[3],!0]);break}if(c[c.length-1][1])break;o[1]==="/"?nxe(r.slice(N,o.index),D,A,c[c.length-1][0]=="comment"?Se:E,{c:V,r:k},W,oe[V],b,xe,n):(D="",A=jl(o[0]),N=o.index+o[0].length);break;case"cell":if(o[1]==="/")if(ae.length>0&&(E.c=ae),(!n.sheetRows||n.sheetRows>k)&&E.v!==void 0&&(n.dense?(g[k]||(g[k]=[]),g[k][V]=E):g[Ai(V)+la(k)]=E),E.HRef&&(E.l={Target:Sr(E.HRef)},E.HRefScreenTip&&(E.l.Tooltip=E.HRefScreenTip),delete E.HRef,delete E.HRefScreenTip),(E.MergeAcross||E.MergeDown)&&(O=V+(parseInt(E.MergeAcross,10)|0),J=k+(parseInt(E.MergeDown,10)|0),R.push({s:{c:V,r:k},e:{c:O,r:J}})),!n.sheetStubs)E.MergeAcross?V=O+1:++V;else if(E.MergeAcross||E.MergeDown){for(var ye=V;ye<=O;++ye)for(var pe=k;pe<=J;++pe)(ye>V||pe>k)&&(n.dense?(g[pe]||(g[pe]=[]),g[pe][ye]={t:"z"}):g[Ai(ye)+la(pe)]={t:"z"});V=O+1}else++V;else E=J1e(o[0]),E.Index&&(V=+E.Index-1),V<B.s.c&&(B.s.c=V),V>B.e.c&&(B.e.c=V),o[0].slice(-2)==="/>"&&++V,ae=[];break;case"row":o[1]==="/"||o[0].slice(-2)==="/>"?(k<B.s.r&&(B.s.r=k),k>B.e.r&&(B.e.r=k),o[0].slice(-2)==="/>"&&(b=jl(o[0]),b.Index&&(k=+b.Index-1)),V=0,++k):(b=jl(o[0]),b.Index&&(k=+b.Index-1),re={},(b.AutoFitHeight=="0"||b.Height)&&(re.hpx=parseInt(b.Height,10),re.hpt=dB(re.hpx),Re[k]=re),b.Hidden=="1"&&(re.hidden=!0,Re[k]=re));break;case"worksheet":if(o[1]==="/"){if((f=c.pop())[0]!==o[3])throw new Error("Bad state: "+f.join("|"));p.push(y),B.s.r<=B.e.r&&B.s.c<=B.e.c&&(g["!ref"]=br(B),n.sheetRows&&n.sheetRows<=B.e.r&&(g["!fullref"]=g["!ref"],B.e.r=n.sheetRows-1,g["!ref"]=br(B))),R.length&&(g["!merges"]=R),oe.length>0&&(g["!cols"]=oe),Re.length>0&&(g["!rows"]=Re),d[y]=g}else B={s:{r:2e6,c:2e6},e:{r:0,c:0}},k=V=0,c.push([o[3],!1]),f=jl(o[0]),y=Sr(f.Name),g=n.dense?[]:{},R=[],xe=[],Re=[],Y={name:y,Hidden:0},U.Sheets.push(Y);break;case"table":if(o[1]==="/"){if((f=c.pop())[0]!==o[3])throw new Error("Bad state: "+f.join("|"))}else{if(o[0].slice(-2)=="/>")break;c.push([o[3],!1]),oe=[],Ie=!1}break;case"style":o[1]==="/"?txe(W,K,n):K=jl(o[0]);break;case"numberformat":K.nf=Sr(jl(o[0]).Format||"General"),Ng[K.nf]&&(K.nf=Ng[K.nf]);for(var ue=0;ue!=392&&Gn[ue]!=K.nf;++ue);if(ue==392){for(ue=57;ue!=392;++ue)if(Gn[ue]==null){Xd(K.nf,ue);break}}break;case"column":if(c[c.length-1][0]!=="table")break;if(ve=jl(o[0]),ve.Hidden&&(ve.hidden=!0,delete ve.Hidden),ve.Width&&(ve.wpx=parseInt(ve.Width,10)),!Ie&&ve.wpx>10){Ie=!0,ja=uB;for(var Te=0;Te<oe.length;++Te)oe[Te]&&Ip(oe[Te])}Ie&&Ip(ve),oe[ve.Index-1||oe.length]=ve;for(var je=0;je<+ve.Span;++je)oe[oe.length]=oa(ve);break;case"namedrange":if(o[1]==="/")break;U.Names||(U.Names=[]);var ce=Rn(o[0]),dt={Name:ce.Name,Ref:lp(ce.RefersTo.slice(1),{r:0,c:0})};U.Sheets.length>0&&(dt.Sheet=U.Sheets.length-1),U.Names.push(dt);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(o[0].slice(-2)==="/>")break;o[1]==="/"?D+=r.slice(L,o.index):L=o.index+o[0].length;break;case"interior":if(!n.cellStyles)break;K.Interior=jl(o[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(o[0].slice(-2)==="/>")break;o[1]==="/"?Ude(q,ne,r.slice(M,o.index)):M=o.index+o[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(o[1]==="/"){if((f=c.pop())[0]!==o[3])throw new Error("Bad state: "+f.join("|"))}else c.push([o[3],!1]);break;case"comment":if(o[1]==="/"){if((f=c.pop())[0]!==o[3])throw new Error("Bad state: "+f.join("|"));rxe(Se),ae.push(Se)}else c.push([o[3],!1]),f=jl(o[0]),Se={a:f.Author};break;case"autofilter":if(o[1]==="/"){if((f=c.pop())[0]!==o[3])throw new Error("Bad state: "+f.join("|"))}else if(o[0].charAt(o[0].length-2)!=="/"){var pt=jl(o[0]);g["!autofilter"]={ref:lp(pt.Range).replace(/\$/g,"")},c.push([o[3],!0])}break;case"name":break;case"datavalidation":if(o[1]==="/"){if((f=c.pop())[0]!==o[3])throw new Error("Bad state: "+f.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&c.push([o[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(o[1]==="/"){if((f=c.pop())[0]!==o[3])throw new Error("Bad state: "+f.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&c.push([o[3],!0]);break;case"null":break;default:if(c.length==0&&o[3]=="document"||c.length==0&&o[3]=="uof")return cD(r,n);var se=!0;switch(c[c.length-1][0]){case"officedocumentsettings":switch(o[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:se=!1}break;case"componentoptions":switch(o[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:se=!1}break;case"excelworkbook":switch(o[3]){case"date1904":U.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:se=!1}break;case"workbookoptions":switch(o[3]){case"owcversion":break;case"height":break;case"width":break;default:se=!1}break;case"worksheetoptions":switch(o[3]){case"visible":if(o[0].slice(-2)!=="/>")if(o[1]==="/")switch(r.slice(M,o.index)){case"SheetHidden":Y.Hidden=1;break;case"SheetVeryHidden":Y.Hidden=2;break}else M=o.index+o[0].length;break;case"header":g["!margins"]||Cg(g["!margins"]={},"xlml"),isNaN(+Rn(o[0]).Margin)||(g["!margins"].header=+Rn(o[0]).Margin);break;case"footer":g["!margins"]||Cg(g["!margins"]={},"xlml"),isNaN(+Rn(o[0]).Margin)||(g["!margins"].footer=+Rn(o[0]).Margin);break;case"pagemargins":var nt=Rn(o[0]);g["!margins"]||Cg(g["!margins"]={},"xlml"),isNaN(+nt.Top)||(g["!margins"].top=+nt.Top),isNaN(+nt.Left)||(g["!margins"].left=+nt.Left),isNaN(+nt.Right)||(g["!margins"].right=+nt.Right),isNaN(+nt.Bottom)||(g["!margins"].bottom=+nt.Bottom);break;case"displayrighttoleft":U.Views||(U.Views=[]),U.Views[0]||(U.Views[0]={}),U.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":g["!outline"]||(g["!outline"]={}),g["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":g["!outline"]||(g["!outline"]={}),g["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:se=!1}break;case"pivottable":case"pivotcache":switch(o[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:se=!1}break;case"pagebreaks":switch(o[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:se=!1}break;case"autofilter":switch(o[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:se=!1}break;case"querytable":switch(o[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:se=!1}break;case"datavalidation":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:se=!1}break;case"sorting":case"conditionalformatting":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:se=!1}break;case"mapinfo":case"schema":case"data":switch(o[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:se=!1}break;case"smarttags":break;default:se=!1;break}if(se||o[3].match(/!\[CDATA/))break;if(!c[c.length-1][1])throw"Unrecognized tag: "+o[3]+"|"+c.join("|");if(c[c.length-1][0]==="customdocumentproperties"){if(o[0].slice(-2)==="/>")break;o[1]==="/"?Z1e(P,ne,H,r.slice(M,o.index)):(H=o,M=o.index+o[0].length);break}if(n.WTF)throw"Unrecognized tag: "+o[3]+"|"+c.join("|")}var it={};return!n.bookSheets&&!n.bookProps&&(it.Sheets=d),it.SheetNames=p,it.Workbook=U,it.SSF=oa(Gn),it.Props=q,it.Custprops=P,it}function pT(t,e){switch(GS(e=e||{}),e.type||"base64"){case"base64":return Iw(jo(t),e);case"binary":case"buffer":case"file":return Iw(t,e);case"array":return Iw(Nh(t),e)}}function sxe(t){var e={},n=t.content;if(n.l=28,e.AnsiUserType=n.read_shift(0,"lpstr-ansi"),e.AnsiClipboardFormat=yde(n),n.length-n.l<=4)return e;var r=n.read_shift(4);if(r==0||r>40||(n.l-=4,e.Reserved1=n.read_shift(0,"lpstr-ansi"),n.length-n.l<=4)||(r=n.read_shift(4),r!==1907505652)||(e.UnicodeClipboardFormat=vde(n),r=n.read_shift(4),r==0||r>40))return e;n.l-=4,e.Reserved2=n.read_shift(0,"lpwstr")}var ixe=[60,1084,2066,2165,2175];function axe(t,e,n,r,s){var i=r,a=[],o=n.slice(n.l,n.l+i);if(s&&s.enc&&s.enc.insitu&&o.length>0)switch(t){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:s.enc.insitu(o)}a.push(o),n.l+=i;for(var c=Tu(n,n.l),f=mT[c],d=0;f!=null&&ixe.indexOf(c)>-1;)i=Tu(n,n.l+2),d=n.l+4,c==2066?d+=4:(c==2165||c==2175)&&(d+=12),o=n.slice(d,n.l+4+i),a.push(o),n.l+=4+i,f=mT[c=Tu(n,n.l)];var p=Mf(a);ia(p,0);var g=0;p.lens=[];for(var y=0;y<a.length;++y)p.lens.push(g),g+=a[y].length;if(p.length<r)throw"XLS Record 0x"+t.toString(16)+" Truncated: "+p.length+" < "+r;return e.f(p,p.length,s)}function wc(t,e,n){if(t.t!=="z"&&t.XF){var r=0;try{r=t.z||t.XF.numFmtId||0,e.cellNF&&(t.z=Gn[r])}catch(i){if(e.WTF)throw i}if(!e||e.cellText!==!1)try{t.t==="e"?t.w=t.w||Rh[t.v]:r===0||r=="General"?t.t==="n"?(t.v|0)===t.v?t.w=t.v.toString(10):t.w=n1(t.v):t.w=hh(t.v):t.w=xl(r,t.v,{date1904:!!n,dateNF:e&&e.dateNF})}catch(i){if(e.WTF)throw i}if(e.cellDates&&r&&t.t=="n"&&Gp(Gn[r]||String(r))){var s=qd(t.v);s&&(t.t="d",t.v=new Date(s.y,s.m-1,s.d,s.H,s.M,s.S,s.u))}}}function uy(t,e,n){return{v:t,ixfe:e,t:n}}function oxe(t,e){var n={opts:{}},r={},s=e.dense?[]:{},i={},a={},o=null,c=[],f="",d={},p,g="",y,E,b,A,N={},V=[],k,B,W=[],K=[],D={Sheets:[],WBProps:{date1904:!1},Views:[{}]},L={},R=function(wt){return wt<8?Jd[wt]:wt<64&&K[wt-8]||Jd[wt]},q=function(wt,Et,Wn){var qt=Et.XF.data;if(!(!qt||!qt.patternType||!Wn||!Wn.cellStyles)){Et.s={},Et.s.patternType=qt.patternType;var Gt;(Gt=a1(R(qt.icvFore)))&&(Et.s.fgColor={rgb:Gt}),(Gt=a1(R(qt.icvBack)))&&(Et.s.bgColor={rgb:Gt})}},P=function(wt,Et,Wn){if(!(re>1)&&!(Wn.sheetRows&&wt.r>=Wn.sheetRows)){if(Wn.cellStyles&&Et.XF&&Et.XF.data&&q(wt,Et,Wn),delete Et.ixfe,delete Et.XF,p=wt,g=jn(wt),(!a||!a.s||!a.e)&&(a={s:{r:0,c:0},e:{r:0,c:0}}),wt.r<a.s.r&&(a.s.r=wt.r),wt.c<a.s.c&&(a.s.c=wt.c),wt.r+1>a.e.r&&(a.e.r=wt.r+1),wt.c+1>a.e.c&&(a.e.c=wt.c+1),Wn.cellFormula&&Et.f){for(var qt=0;qt<V.length;++qt)if(!(V[qt][0].s.c>wt.c||V[qt][0].s.r>wt.r)&&!(V[qt][0].e.c<wt.c||V[qt][0].e.r<wt.r)){Et.F=br(V[qt][0]),(V[qt][0].s.c!=wt.c||V[qt][0].s.r!=wt.r)&&delete Et.f,Et.f&&(Et.f=""+wa(V[qt][1],a,wt,xe,M));break}}Wn.dense?(s[wt.r]||(s[wt.r]=[]),s[wt.r][wt.c]=Et):s[g]=Et}},M={enc:!1,sbcch:0,snames:[],sharedf:N,arrayf:V,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!e&&!!e.cellStyles,WTF:!!e&&!!e.wtf};e.password&&(M.password=e.password);var H,ae=[],Se=[],oe=[],ve=[],Ie=!1,xe=[];xe.SheetNames=M.snames,xe.sharedf=M.sharedf,xe.arrayf=M.arrayf,xe.names=[],xe.XTI=[];var Re=0,re=0,O=0,J=[],U=[],Y;M.codepage=1200,$l(1200);for(var ne=!1;t.l<t.length-1;){var ye=t.l,pe=t.read_shift(2);if(pe===0&&Re===10)break;var ue=t.l===t.length?0:t.read_shift(2),Te=mT[pe];if(Te&&Te.f){if(e.bookSheets&&Re===133&&pe!==133)break;if(Re=pe,Te.r===2||Te.r==12){var je=t.read_shift(2);if(ue-=2,!M.enc&&je!==pe&&((je&255)<<8|je>>8)!==pe)throw new Error("rt mismatch: "+je+"!="+pe);Te.r==12&&(t.l+=10,ue-=10)}var ce={};if(pe===10?ce=Te.f(t,ue,M):ce=axe(pe,Te,t,ue,M),re==0&&[9,521,1033,2057].indexOf(Re)===-1)continue;switch(pe){case 34:n.opts.Date1904=D.WBProps.date1904=ce;break;case 134:n.opts.WriteProtect=!0;break;case 47:if(M.enc||(t.l=0),M.enc=ce,!e.password)throw new Error("File is password-protected");if(ce.valid==null)throw new Error("Encryption scheme unsupported");if(!ce.valid)throw new Error("Password is incorrect");break;case 92:M.lastuser=ce;break;case 66:var dt=Number(ce);switch(dt){case 21010:dt=1200;break;case 32768:dt=1e4;break;case 32769:dt=1252;break}$l(M.codepage=dt),ne=!0;break;case 317:M.rrtabid=ce;break;case 25:M.winlocked=ce;break;case 439:n.opts.RefreshAll=ce;break;case 12:n.opts.CalcCount=ce;break;case 16:n.opts.CalcDelta=ce;break;case 17:n.opts.CalcIter=ce;break;case 13:n.opts.CalcMode=ce;break;case 14:n.opts.CalcPrecision=ce;break;case 95:n.opts.CalcSaveRecalc=ce;break;case 15:M.CalcRefMode=ce;break;case 2211:n.opts.FullCalc=ce;break;case 129:ce.fDialog&&(s["!type"]="dialog"),ce.fBelow||((s["!outline"]||(s["!outline"]={})).above=!0),ce.fRight||((s["!outline"]||(s["!outline"]={})).left=!0);break;case 224:W.push(ce);break;case 430:xe.push([ce]),xe[xe.length-1].XTI=[];break;case 35:case 547:xe[xe.length-1].push(ce);break;case 24:case 536:Y={Name:ce.Name,Ref:wa(ce.rgce,a,null,xe,M)},ce.itab>0&&(Y.Sheet=ce.itab-1),xe.names.push(Y),xe[0]||(xe[0]=[],xe[0].XTI=[]),xe[xe.length-1].push(ce),ce.Name=="_xlnm._FilterDatabase"&&ce.itab>0&&ce.rgce&&ce.rgce[0]&&ce.rgce[0][0]&&ce.rgce[0][0][0]=="PtgArea3d"&&(U[ce.itab-1]={ref:br(ce.rgce[0][0][1][2])});break;case 22:M.ExternCount=ce;break;case 23:xe.length==0&&(xe[0]=[],xe[0].XTI=[]),xe[xe.length-1].XTI=xe[xe.length-1].XTI.concat(ce),xe.XTI=xe.XTI.concat(ce);break;case 2196:if(M.biff<8)break;Y!=null&&(Y.Comment=ce[1]);break;case 18:s["!protect"]=ce;break;case 19:ce!==0&&M.WTF&&console.error("Password verifier: "+ce);break;case 133:i[ce.pos]=ce,M.snames.push(ce.name);break;case 10:{if(--re)break;if(a.e){if(a.e.r>0&&a.e.c>0){if(a.e.r--,a.e.c--,s["!ref"]=br(a),e.sheetRows&&e.sheetRows<=a.e.r){var pt=a.e.r;a.e.r=e.sheetRows-1,s["!fullref"]=s["!ref"],s["!ref"]=br(a),a.e.r=pt}a.e.r++,a.e.c++}ae.length>0&&(s["!merges"]=ae),Se.length>0&&(s["!objects"]=Se),oe.length>0&&(s["!cols"]=oe),ve.length>0&&(s["!rows"]=ve),D.Sheets.push(L)}f===""?d=s:r[f]=s,s=e.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(M.biff===8&&(M.biff={9:2,521:3,1033:4}[pe]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[ce.BIFFVer]||8),M.biffguess=ce.BIFFVer==0,ce.BIFFVer==0&&ce.dt==4096&&(M.biff=5,ne=!0,$l(M.codepage=28591)),M.biff==8&&ce.BIFFVer==0&&ce.dt==16&&(M.biff=2),re++)break;if(s=e.dense?[]:{},M.biff<8&&!ne&&(ne=!0,$l(M.codepage=e.codepage||1252)),M.biff<5||ce.BIFFVer==0&&ce.dt==4096){f===""&&(f="Sheet1"),a={s:{r:0,c:0},e:{r:0,c:0}};var se={pos:t.l-ue,name:f};i[se.pos]=se,M.snames.push(f)}else f=(i[ye]||{name:""}).name;ce.dt==32&&(s["!type"]="chart"),ce.dt==64&&(s["!type"]="macro"),ae=[],Se=[],M.arrayf=V=[],oe=[],ve=[],Ie=!1,L={Hidden:(i[ye]||{hs:0}).hs,name:f}}break;case 515:case 3:case 2:s["!type"]=="chart"&&(e.dense?(s[ce.r]||[])[ce.c]:s[jn({c:ce.c,r:ce.r})])&&++ce.c,k={ixfe:ce.ixfe,XF:W[ce.ixfe]||{},v:ce.val,t:"n"},O>0&&(k.z=J[k.ixfe>>8&63]),wc(k,e,n.opts.Date1904),P({c:ce.c,r:ce.r},k,e);break;case 5:case 517:k={ixfe:ce.ixfe,XF:W[ce.ixfe],v:ce.val,t:ce.t},O>0&&(k.z=J[k.ixfe>>8&63]),wc(k,e,n.opts.Date1904),P({c:ce.c,r:ce.r},k,e);break;case 638:k={ixfe:ce.ixfe,XF:W[ce.ixfe],v:ce.rknum,t:"n"},O>0&&(k.z=J[k.ixfe>>8&63]),wc(k,e,n.opts.Date1904),P({c:ce.c,r:ce.r},k,e);break;case 189:for(var nt=ce.c;nt<=ce.C;++nt){var it=ce.rkrec[nt-ce.c][0];k={ixfe:it,XF:W[it],v:ce.rkrec[nt-ce.c][1],t:"n"},O>0&&(k.z=J[k.ixfe>>8&63]),wc(k,e,n.opts.Date1904),P({c:nt,r:ce.r},k,e)}break;case 6:case 518:case 1030:{if(ce.val=="String"){o=ce;break}if(k=uy(ce.val,ce.cell.ixfe,ce.tt),k.XF=W[k.ixfe],e.cellFormula){var Pt=ce.formula;if(Pt&&Pt[0]&&Pt[0][0]&&Pt[0][0][0]=="PtgExp"){var tt=Pt[0][0][1][0],St=Pt[0][0][1][1],Ct=jn({r:tt,c:St});N[Ct]?k.f=""+wa(ce.formula,a,ce.cell,xe,M):k.F=((e.dense?(s[tt]||[])[St]:s[Ct])||{}).F}else k.f=""+wa(ce.formula,a,ce.cell,xe,M)}O>0&&(k.z=J[k.ixfe>>8&63]),wc(k,e,n.opts.Date1904),P(ce.cell,k,e),o=ce}break;case 7:case 519:if(o)o.val=ce,k=uy(ce,o.cell.ixfe,"s"),k.XF=W[k.ixfe],e.cellFormula&&(k.f=""+wa(o.formula,a,o.cell,xe,M)),O>0&&(k.z=J[k.ixfe>>8&63]),wc(k,e,n.opts.Date1904),P(o.cell,k,e),o=null;else throw new Error("String record expects Formula");break;case 33:case 545:{V.push(ce);var Lt=jn(ce[0].s);if(y=e.dense?(s[ce[0].s.r]||[])[ce[0].s.c]:s[Lt],e.cellFormula&&y){if(!o||!Lt||!y)break;y.f=""+wa(ce[1],a,ce[0],xe,M),y.F=br(ce[0])}}break;case 1212:{if(!e.cellFormula)break;if(g){if(!o)break;N[jn(o.cell)]=ce[0],y=e.dense?(s[o.cell.r]||[])[o.cell.c]:s[jn(o.cell)],(y||{}).f=""+wa(ce[0],a,p,xe,M)}}break;case 253:k=uy(c[ce.isst].t,ce.ixfe,"s"),c[ce.isst].h&&(k.h=c[ce.isst].h),k.XF=W[k.ixfe],O>0&&(k.z=J[k.ixfe>>8&63]),wc(k,e,n.opts.Date1904),P({c:ce.c,r:ce.r},k,e);break;case 513:e.sheetStubs&&(k={ixfe:ce.ixfe,XF:W[ce.ixfe],t:"z"},O>0&&(k.z=J[k.ixfe>>8&63]),wc(k,e,n.opts.Date1904),P({c:ce.c,r:ce.r},k,e));break;case 190:if(e.sheetStubs)for(var jt=ce.c;jt<=ce.C;++jt){var Qt=ce.ixfe[jt-ce.c];k={ixfe:Qt,XF:W[Qt],t:"z"},O>0&&(k.z=J[k.ixfe>>8&63]),wc(k,e,n.opts.Date1904),P({c:jt,r:ce.r},k,e)}break;case 214:case 516:case 4:k=uy(ce.val,ce.ixfe,"s"),k.XF=W[k.ixfe],O>0&&(k.z=J[k.ixfe>>8&63]),wc(k,e,n.opts.Date1904),P({c:ce.c,r:ce.r},k,e);break;case 0:case 512:re===1&&(a=ce);break;case 252:c=ce;break;case 1054:if(M.biff==4){J[O++]=ce[1];for(var Zt=0;Zt<O+163&&Gn[Zt]!=ce[1];++Zt);Zt>=163&&Xd(ce[1],O+163)}else Xd(ce[1],ce[0]);break;case 30:{J[O++]=ce;for(var on=0;on<O+163&&Gn[on]!=ce;++on);on>=163&&Xd(ce,O+163)}break;case 229:ae=ae.concat(ce);break;case 93:Se[ce.cmo[0]]=M.lastobj=ce;break;case 438:M.lastobj.TxO=ce;break;case 127:M.lastobj.ImData=ce;break;case 440:for(A=ce[0].s.r;A<=ce[0].e.r;++A)for(b=ce[0].s.c;b<=ce[0].e.c;++b)y=e.dense?(s[A]||[])[b]:s[jn({c:b,r:A})],y&&(y.l=ce[1]);break;case 2048:for(A=ce[0].s.r;A<=ce[0].e.r;++A)for(b=ce[0].s.c;b<=ce[0].e.c;++b)y=e.dense?(s[A]||[])[b]:s[jn({c:b,r:A})],y&&y.l&&(y.l.Tooltip=ce[1]);break;case 28:{if(M.biff<=5&&M.biff>=2)break;y=e.dense?(s[ce[0].r]||[])[ce[0].c]:s[jn(ce[0])];var Sn=Se[ce[2]];y||(e.dense?(s[ce[0].r]||(s[ce[0].r]=[]),y=s[ce[0].r][ce[0].c]={t:"z"}):y=s[jn(ce[0])]={t:"z"},a.e.r=Math.max(a.e.r,ce[0].r),a.s.r=Math.min(a.s.r,ce[0].r),a.e.c=Math.max(a.e.c,ce[0].c),a.s.c=Math.min(a.s.c,ce[0].c)),y.c||(y.c=[]),E={a:ce[1],t:Sn.TxO.t},y.c.push(E)}break;case 2173:Ipe(W[ce.ixfe],ce.ext);break;case 125:{if(!M.cellStyles)break;for(;ce.e>=ce.s;)oe[ce.e--]={width:ce.w/256,level:ce.level||0,hidden:!!(ce.flags&1)},Ie||(Ie=!0,US(ce.w/256)),Ip(oe[ce.e+1])}break;case 520:{var Bt={};ce.level!=null&&(ve[ce.r]=Bt,Bt.level=ce.level),ce.hidden&&(ve[ce.r]=Bt,Bt.hidden=!0),ce.hpt&&(ve[ce.r]=Bt,Bt.hpt=ce.hpt,Bt.hpx=o1(ce.hpt))}break;case 38:case 39:case 40:case 41:s["!margins"]||Cg(s["!margins"]={}),s["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[pe]]=ce;break;case 161:s["!margins"]||Cg(s["!margins"]={}),s["!margins"].header=ce.header,s["!margins"].footer=ce.footer;break;case 574:ce.RTL&&(D.Views[0].RTL=!0);break;case 146:K=ce;break;case 2198:H=ce;break;case 140:B=ce;break;case 442:f?L.CodeName=ce||L.name:D.WBProps.CodeName=ce||"ThisWorkbook";break}}else Te||console.error("Missing Info for XLS Record 0x"+pe.toString(16)),t.l+=ue}return n.SheetNames=jc(i).sort(function(vt,wt){return Number(vt)-Number(wt)}).map(function(vt){return i[vt].name}),e.bookSheets||(n.Sheets=r),!n.SheetNames.length&&d["!ref"]?(n.SheetNames.push("Sheet1"),n.Sheets&&(n.Sheets.Sheet1=d)):n.Preamble=d,n.Sheets&&U.forEach(function(vt,wt){n.Sheets[n.SheetNames[wt]]["!autofilter"]=vt}),n.Strings=c,n.SSF=oa(Gn),M.enc&&(n.Encryption=M.enc),H&&(n.Themes=H),n.Metadata={},B!==void 0&&(n.Metadata.Country=B),xe.names.length>0&&(D.Names=xe.names),n.Workbook=D,n}var sD={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function lxe(t,e,n){var r=_r.find(t,"/!DocumentSummaryInformation");if(r&&r.size>0)try{var s=jP(r,Sde,sD.DSI);for(var i in s)e[i]=s[i]}catch(f){if(n.WTF)throw f}var a=_r.find(t,"/!SummaryInformation");if(a&&a.size>0)try{var o=jP(a,Ade,sD.SI);for(var c in o)e[c]==null&&(e[c]=o[c])}catch(f){if(n.WTF)throw f}e.HeadingPairs&&e.TitlesOfParts&&($9(e.HeadingPairs,e.TitlesOfParts,e,n),delete e.HeadingPairs,delete e.TitlesOfParts)}function kB(t,e){e||(e={}),GS(e),i9(),e.codepage&&TS(e.codepage);var n,r;if(t.FullPaths){if(_r.find(t,"/encryption"))throw new Error("File is password-protected");n=_r.find(t,"!CompObj"),r=_r.find(t,"/Workbook")||_r.find(t,"/Book")}else{switch(e.type){case"base64":t=Gl(jo(t));break;case"binary":t=Gl(t);break;case"buffer":break;case"array":Array.isArray(t)||(t=Array.prototype.slice.call(t));break}ia(t,0),r={content:t}}var s,i;if(n&&sxe(n),e.bookProps&&!e.bookSheets)s={};else{var a=hr?"buffer":"array";if(r&&r.content)s=oxe(r.content,e);else if((i=_r.find(t,"PerfectOffice_MAIN"))&&i.content)s=Sg.to_workbook(i.content,(e.type=a,e));else if((i=_r.find(t,"NativeContent_MAIN"))&&i.content)s=Sg.to_workbook(i.content,(e.type=a,e));else throw(i=_r.find(t,"MN0"))&&i.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");e.bookVBA&&t.FullPaths&&_r.find(t,"/_VBA_PROJECT_CUR/VBA/dir")&&(s.vbaraw=$pe(t))}var o={};return t.FullPaths&&lxe(t,o,e),s.Props=s.Custprops=o,e.bookFiles&&(s.cfb=t),s}var j2={0:{f:Hge},1:{f:$ge},2:{f:n1e},3:{f:Jge},4:{f:Yge},5:{f:t1e},6:{f:i1e},7:{f:Zge},8:{f:u1e},9:{f:c1e},10:{f:o1e},11:{f:l1e},12:{f:Kge},13:{f:r1e},14:{f:Qge},15:{f:Xge},16:{f:SB},17:{f:a1e},18:{f:e1e},19:{f:MS},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:O1e},40:{},42:{},43:{f:ope},44:{f:ape},45:{f:lpe},46:{f:upe},47:{f:cpe},48:{},49:{f:fde},50:{},51:{f:Rpe},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:iB},62:{f:s1e},63:{f:Fpe},64:{f:v1e},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:ka,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:y1e},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:Wge},148:{f:zge,p:16},151:{f:h1e},152:{},153:{f:L1e},154:{},155:{},156:{f:M1e},157:{},158:{},159:{T:1,f:A0e},160:{T:-1},161:{T:1,f:kh},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:f1e},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:kpe},336:{T:-1},337:{f:Ppe,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:uT},357:{},358:{},359:{},360:{T:1},361:{},362:{f:sB},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:p1e},427:{f:m1e},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:x1e},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:Gge},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:d1e},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:uT},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:zpe},633:{T:1},634:{T:-1},635:{T:1,f:Hpe},636:{T:-1},637:{f:hde},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:S1e},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:_1e},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},mT={6:{f:Cw},10:{f:Cf},12:{f:ci},13:{f:ci},14:{f:Ys},15:{f:Ys},16:{f:Ea},17:{f:Ys},18:{f:Ys},19:{f:ci},20:{f:GP},21:{f:GP},23:{f:sB},24:{f:$P},25:{f:Ys},26:{},27:{},28:{f:jhe},29:{},34:{f:Ys},35:{f:WP},38:{f:Ea},39:{f:Ea},40:{f:Ea},41:{f:Ea},42:{f:Ys},43:{f:Ys},47:{f:G0e},49:{f:whe},51:{f:ci},60:{},61:{f:vhe},64:{f:Ys},65:{f:bhe},66:{f:ci},77:{},80:{},81:{},82:{},85:{f:ci},89:{},90:{},91:{},92:{f:fhe},93:{f:Hhe},94:{},95:{f:Ys},96:{},97:{},99:{f:Ys},125:{f:iB},128:{f:Phe},129:{f:dhe},130:{f:ci},131:{f:Ys},132:{f:Ys},133:{f:hhe},134:{},140:{f:Yhe},141:{f:ci},144:{},146:{f:Jhe},151:{},152:{},153:{},154:{},155:{},156:{f:ci},157:{},158:{},160:{f:n0e},161:{f:Zhe},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:Nhe},190:{f:Ihe},193:{f:Cf},197:{},198:{},199:{},200:{},201:{},202:{f:Ys},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:ci},220:{},221:{f:Ys},222:{},224:{f:Rhe},225:{f:uhe},226:{f:Cf},227:{},229:{f:qhe},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:phe},253:{f:The},255:{f:mhe},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:Q9},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:Ys},353:{f:Cf},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:Mhe},431:{f:Ys},432:{},433:{},434:{},437:{},438:{f:Whe},439:{f:Ys},440:{f:$he},441:{},442:{f:M1},443:{},444:{f:ci},445:{},446:{},448:{f:Cf},449:{f:yhe,r:2},450:{f:Cf},512:{f:HP},513:{f:t0e},515:{f:Dhe},516:{f:Ehe},517:{f:zP},519:{f:r0e},520:{f:ghe},523:{},545:{f:KP},549:{f:qP},566:{},574:{f:_he},638:{f:Che},659:{},1048:{},1054:{f:She},1084:{},1212:{f:Bhe},2048:{f:Khe},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:oy},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:Cf},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:Qhe,r:12},2173:{f:Npe,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:Ys,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:Ohe,r:12},2197:{},2198:{f:wpe,r:12},2199:{},2200:{},2201:{},2202:{f:Vhe,r:12},2203:{f:Cf},2204:{},2205:{},2206:{},2207:{},2211:{f:xhe},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:ci},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:e0e},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:Xhe},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:HP},1:{},2:{f:o0e},3:{f:a0e},4:{f:i0e},5:{f:zP},7:{f:l0e},8:{},9:{f:oy},11:{},22:{f:ci},30:{f:Ahe},31:{},32:{},33:{f:KP},36:{},37:{f:qP},50:{f:c0e},62:{},52:{},67:{},68:{f:ci},69:{},86:{},126:{},127:{f:s0e},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:u0e},223:{},234:{},354:{},421:{},518:{f:Cw},521:{f:oy},536:{f:$P},547:{f:WP},561:{},579:{},1030:{f:Cw},1033:{f:oy},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function ql(t,e,n,r){var s=e;if(!isNaN(s)){var i=(n||[]).length||0,a=t.next(4);a.write_shift(2,s),a.write_shift(2,i),i>0&&V9(n)&&t.push(n)}}function iD(t,e){var n=e||{},r=n.dense?[]:{};t=t.replace(/<!--.*?-->/g,"");var s=t.match(/<table/i);if(!s)throw new Error("Invalid HTML: could not find <table>");var i=t.match(/<\/table/i),a=s.index,o=i&&i.index||t.length,c=Dfe(t.slice(a,o),/(:?<tr[^>]*>)/i,"<tr>"),f=-1,d=0,p=0,g=0,y={s:{r:1e7,c:1e7},e:{r:0,c:0}},E=[];for(a=0;a<c.length;++a){var b=c[a].trim(),A=b.slice(0,3).toLowerCase();if(A=="<tr"){if(++f,n.sheetRows&&n.sheetRows<=f){--f;break}d=0;continue}if(!(A!="<td"&&A!="<th")){var N=b.split(/<\/t[dh]>/i);for(o=0;o<N.length;++o){var V=N[o].trim();if(V.match(/<t[dh]/i)){for(var k=V,B=0;k.charAt(0)=="<"&&(B=k.indexOf(">"))>-1;)k=k.slice(B+1);for(var W=0;W<E.length;++W){var K=E[W];K.s.c==d&&K.s.r<f&&f<=K.e.r&&(d=K.e.c+1,W=-1)}var D=Rn(V.slice(0,V.indexOf(">")));g=D.colspan?+D.colspan:1,((p=+D.rowspan)>1||g>1)&&E.push({s:{r:f,c:d},e:{r:f+(p||1)-1,c:d+g-1}});var L=D.t||D["data-t"]||"";if(!k.length){d+=g;continue}if(k=A9(k),y.s.r>f&&(y.s.r=f),y.e.r<f&&(y.e.r=f),y.s.c>d&&(y.s.c=d),y.e.c<d&&(y.e.c=d),!k.length){d+=g;continue}var R={t:"s",v:k};n.raw||!k.trim().length||L=="s"||(k==="TRUE"?R={t:"b",v:!0}:k==="FALSE"?R={t:"b",v:!1}:isNaN(Yl(k))?isNaN(Np(k).getDate())||(R={t:"d",v:zi(k)},n.cellDates||(R={t:"n",v:$a(R.v)}),R.z=n.dateNF||Gn[14]):R={t:"n",v:Yl(k)}),n.dense?(r[f]||(r[f]=[]),r[f][d]=R):r[jn({r:f,c:d})]=R,d+=g}}}}return r["!ref"]=br(y),E.length&&(r["!merges"]=E),r}function cxe(t,e,n,r){for(var s=t["!merges"]||[],i=[],a=e.s.c;a<=e.e.c;++a){for(var o=0,c=0,f=0;f<s.length;++f)if(!(s[f].s.r>n||s[f].s.c>a)&&!(s[f].e.r<n||s[f].e.c<a)){if(s[f].s.r<n||s[f].s.c<a){o=-1;break}o=s[f].e.r-s[f].s.r+1,c=s[f].e.c-s[f].s.c+1;break}if(!(o<0)){var d=jn({r:n,c:a}),p=r.dense?(t[n]||[])[a]:t[d],g=p&&p.v!=null&&(p.h||IS(p.w||(Ou(p),p.w)||""))||"",y={};o>1&&(y.rowspan=o),c>1&&(y.colspan=c),r.editable?g='<span contenteditable="true">'+g+"</span>":p&&(y["data-t"]=p&&p.t||"z",p.v!=null&&(y["data-v"]=p.v),p.z!=null&&(y["data-z"]=p.z),p.l&&(p.l.Target||"#").charAt(0)!="#"&&(g='<a href="'+p.l.Target+'">'+g+"</a>")),y.id=(r.id||"sjs")+"-"+d,i.push(Yfe("td",g,y))}}var E="<tr>";return E+i.join("")+"</tr>"}var uxe='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',fxe="</body></html>";function dxe(t,e){var n=t.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!n||n.length==0)throw new Error("Invalid HTML: could not find <table>");if(n.length==1)return ld(iD(n[0],e),e);var r=$S();return n.forEach(function(s,i){KS(r,iD(s,e),"Sheet"+(i+1))}),r}function hxe(t,e,n){var r=[];return r.join("")+"<table"+(n&&n.id?' id="'+n.id+'"':"")+">"}function pxe(t,e){var n=e||{},r=n.header!=null?n.header:uxe,s=n.footer!=null?n.footer:fxe,i=[r],a=Wp(t["!ref"]);n.dense=Array.isArray(t),i.push(hxe(t,a,n));for(var o=a.s.r;o<=a.e.r;++o)i.push(cxe(t,a,o,n));return i.push("</table>"+s),i.join("")}function RB(t,e,n){var r=n||{},s=0,i=0;if(r.origin!=null)if(typeof r.origin=="number")s=r.origin;else{var a=typeof r.origin=="string"?za(r.origin):r.origin;s=a.r,i=a.c}var o=e.getElementsByTagName("tr"),c=Math.min(r.sheetRows||1e7,o.length),f={s:{r:0,c:0},e:{r:s,c:i}};if(t["!ref"]){var d=Wp(t["!ref"]);f.s.r=Math.min(f.s.r,d.s.r),f.s.c=Math.min(f.s.c,d.s.c),f.e.r=Math.max(f.e.r,d.e.r),f.e.c=Math.max(f.e.c,d.e.c),s==-1&&(f.e.r=s=d.e.r+1)}var p=[],g=0,y=t["!rows"]||(t["!rows"]=[]),E=0,b=0,A=0,N=0,V=0,k=0;for(t["!cols"]||(t["!cols"]=[]);E<o.length&&b<c;++E){var B=o[E];if(aD(B)){if(r.display)continue;y[b]={hidden:!0}}var W=B.children;for(A=N=0;A<W.length;++A){var K=W[A];if(!(r.display&&aD(K))){var D=K.hasAttribute("data-v")?K.getAttribute("data-v"):K.hasAttribute("v")?K.getAttribute("v"):A9(K.innerHTML),L=K.getAttribute("data-z")||K.getAttribute("z");for(g=0;g<p.length;++g){var R=p[g];R.s.c==N+i&&R.s.r<b+s&&b+s<=R.e.r&&(N=R.e.c+1-i,g=-1)}k=+K.getAttribute("colspan")||1,((V=+K.getAttribute("rowspan")||1)>1||k>1)&&p.push({s:{r:b+s,c:N+i},e:{r:b+s+(V||1)-1,c:N+i+(k||1)-1}});var q={t:"s",v:D},P=K.getAttribute("data-t")||K.getAttribute("t")||"";D!=null&&(D.length==0?q.t=P||"z":r.raw||D.trim().length==0||P=="s"||(D==="TRUE"?q={t:"b",v:!0}:D==="FALSE"?q={t:"b",v:!1}:isNaN(Yl(D))?isNaN(Np(D).getDate())||(q={t:"d",v:zi(D)},r.cellDates||(q={t:"n",v:$a(q.v)}),q.z=r.dateNF||Gn[14]):q={t:"n",v:Yl(D)})),q.z===void 0&&L!=null&&(q.z=L);var M="",H=K.getElementsByTagName("A");if(H&&H.length)for(var ae=0;ae<H.length&&!(H[ae].hasAttribute("href")&&(M=H[ae].getAttribute("href"),M.charAt(0)!="#"));++ae);M&&M.charAt(0)!="#"&&(q.l={Target:M}),r.dense?(t[b+s]||(t[b+s]=[]),t[b+s][N+i]=q):t[jn({c:N+i,r:b+s})]=q,f.e.c<N+i&&(f.e.c=N+i),N+=k}}++b}return p.length&&(t["!merges"]=(t["!merges"]||[]).concat(p)),f.e.r=Math.max(f.e.r,b-1+s),t["!ref"]=br(f),b>=c&&(t["!fullref"]=br((f.e.r=o.length-E+b-1+s,f))),t}function PB(t,e){var n=e||{},r=n.dense?[]:{};return RB(r,t,e)}function mxe(t,e){return ld(PB(t,e),e)}function aD(t){var e="",n=gxe(t);return n&&(e=n(t).getPropertyValue("display")),e||(e=t.style&&t.style.display),e==="none"}function gxe(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function xxe(t){var e=t.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(r,s){return Array(parseInt(s,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),n=Sr(e.replace(/<[^>]*>/g,""));return[n]}var oD={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function DB(t,e){var n=e||{},r=kS(t),s=[],i,a,o={name:""},c="",f=0,d,p,g={},y=[],E=n.dense?[]:{},b,A,N={value:""},V="",k=0,B=[],W=-1,K=-1,D={s:{r:1e6,c:1e7},e:{r:0,c:0}},L=0,R={},q=[],P={},M=0,H=0,ae=[],Se=1,oe=1,ve=[],Ie={Names:[]},xe={},Re=["",""],re=[],O={},J="",U=0,Y=!1,ne=!1,ye=0;for(s1.lastIndex=0,r=r.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");b=s1.exec(r);)switch(b[3]=b[3].replace(/_.*$/,"")){case"table":case"":b[1]==="/"?(D.e.c>=D.s.c&&D.e.r>=D.s.r?E["!ref"]=br(D):E["!ref"]="A1:A1",n.sheetRows>0&&n.sheetRows<=D.e.r&&(E["!fullref"]=E["!ref"],D.e.r=n.sheetRows-1,E["!ref"]=br(D)),q.length&&(E["!merges"]=q),ae.length&&(E["!rows"]=ae),d.name=d.||d.name,typeof JSON<"u"&&JSON.stringify(d),y.push(d.name),g[d.name]=E,ne=!1):b[0].charAt(b[0].length-2)!=="/"&&(d=Rn(b[0],!1),W=K=-1,D.s.r=D.s.c=1e7,D.e.r=D.e.c=0,E=n.dense?[]:{},q=[],ae=[],ne=!0);break;case"table-row-group":b[1]==="/"?--L:++L;break;case"table-row":case"":if(b[1]==="/"){W+=Se,Se=1;break}if(p=Rn(b[0],!1),p.?W=p.-1:W==-1&&(W=0),Se=+p["number-rows-repeated"]||1,Se<10)for(ye=0;ye<Se;++ye)L>0&&(ae[W+ye]={level:L});K=-1;break;case"covered-table-cell":b[1]!=="/"&&++K,n.sheetStubs&&(n.dense?(E[W]||(E[W]=[]),E[W][K]={t:"z"}):E[jn({r:W,c:K})]={t:"z"}),V="",B=[];break;case"table-cell":case"":if(b[0].charAt(b[0].length-2)==="/")++K,N=Rn(b[0],!1),oe=parseInt(N["number-columns-repeated"]||"1",10),A={t:"z",v:null},N.formula&&n.cellFormula!=!1&&(A.f=tD(Sr(N.formula))),(N.||N["value-type"])=="string"&&(A.t="s",A.v=Sr(N["string-value"]||""),n.dense?(E[W]||(E[W]=[]),E[W][K]=A):E[jn({r:W,c:K})]=A),K+=oe-1;else if(b[1]!=="/"){++K,V="",k=0,B=[],oe=1;var pe=Se?W+Se-1:W;if(K>D.e.c&&(D.e.c=K),K<D.s.c&&(D.s.c=K),W<D.s.r&&(D.s.r=W),pe>D.e.r&&(D.e.r=pe),N=Rn(b[0],!1),re=[],O={},A={t:N.||N["value-type"],v:null},n.cellFormula)if(N.formula&&(N.formula=Sr(N.formula)),N["number-matrix-columns-spanned"]&&N["number-matrix-rows-spanned"]&&(M=parseInt(N["number-matrix-rows-spanned"],10)||0,H=parseInt(N["number-matrix-columns-spanned"],10)||0,P={s:{r:W,c:K},e:{r:W+M-1,c:K+H-1}},A.F=br(P),ve.push([P,A.F])),N.formula)A.f=tD(N.formula);else for(ye=0;ye<ve.length;++ye)W>=ve[ye][0].s.r&&W<=ve[ye][0].e.r&&K>=ve[ye][0].s.c&&K<=ve[ye][0].e.c&&(A.F=ve[ye][1]);switch((N["number-columns-spanned"]||N["number-rows-spanned"])&&(M=parseInt(N["number-rows-spanned"],10)||0,H=parseInt(N["number-columns-spanned"],10)||0,P={s:{r:W,c:K},e:{r:W+M-1,c:K+H-1}},q.push(P)),N["number-columns-repeated"]&&(oe=parseInt(N["number-columns-repeated"],10)),A.t){case"boolean":A.t="b",A.v=ws(N["boolean-value"]);break;case"float":A.t="n",A.v=parseFloat(N.value);break;case"percentage":A.t="n",A.v=parseFloat(N.value);break;case"currency":A.t="n",A.v=parseFloat(N.value);break;case"date":A.t="d",A.v=zi(N["date-value"]),n.cellDates||(A.t="n",A.v=$a(A.v)),A.z="m/d/yy";break;case"time":A.t="n",A.v=kfe(N["time-value"])/86400,n.cellDates&&(A.t="d",A.v=Iv(A.v)),A.z="HH:MM:SS";break;case"number":A.t="n",A.v=parseFloat(N.);break;default:if(A.t==="string"||A.t==="text"||!A.t)A.t="s",N["string-value"]!=null&&(V=Sr(N["string-value"]),B=[]);else throw new Error("Unsupported value type "+A.t)}}else{if(Y=!1,A.t==="s"&&(A.v=V||"",B.length&&(A.R=B),Y=k==0),xe.Target&&(A.l=xe),re.length>0&&(A.c=re,re=[]),V&&n.cellText!==!1&&(A.w=V),Y&&(A.t="z",delete A.v),(!Y||n.sheetStubs)&&!(n.sheetRows&&n.sheetRows<=W))for(var ue=0;ue<Se;++ue){if(oe=parseInt(N["number-columns-repeated"]||"1",10),n.dense)for(E[W+ue]||(E[W+ue]=[]),E[W+ue][K]=ue==0?A:oa(A);--oe>0;)E[W+ue][K+oe]=oa(A);else for(E[jn({r:W+ue,c:K})]=A;--oe>0;)E[jn({r:W+ue,c:K+oe})]=oa(A);D.e.c<=K&&(D.e.c=K)}oe=parseInt(N["number-columns-repeated"]||"1",10),K+=oe-1,oe=0,A={},V="",B=[]}xe={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(b[1]==="/"){if((i=s.pop())[0]!==b[3])throw"Bad state: "+i}else b[0].charAt(b[0].length-2)!=="/"&&s.push([b[3],!0]);break;case"annotation":if(b[1]==="/"){if((i=s.pop())[0]!==b[3])throw"Bad state: "+i;O.t=V,B.length&&(O.R=B),O.a=J,re.push(O)}else b[0].charAt(b[0].length-2)!=="/"&&s.push([b[3],!1]);J="",U=0,V="",k=0,B=[];break;case"creator":b[1]==="/"?J=r.slice(U,b.index):U=b.index+b[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(b[1]==="/"){if((i=s.pop())[0]!==b[3])throw"Bad state: "+i}else b[0].charAt(b[0].length-2)!=="/"&&s.push([b[3],!1]);V="",k=0,B=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(b[1]==="/"){if(R[o.name]=c,(i=s.pop())[0]!==b[3])throw"Bad state: "+i}else b[0].charAt(b[0].length-2)!=="/"&&(c="",o=Rn(b[0],!1),s.push([b[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(s[s.length-1][0]){case"time-style":case"date-style":a=Rn(b[0],!1),c+=oD[b[3]][a.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(s[s.length-1][0]){case"time-style":case"date-style":a=Rn(b[0],!1),c+=oD[b[3]][a.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(b[0].slice(-2)==="/>")break;if(b[1]==="/")switch(s[s.length-1][0]){case"number-style":case"date-style":case"time-style":c+=r.slice(f,b.index);break}else f=b.index+b[0].length;break;case"named-range":a=Rn(b[0],!1),Re=Nw(a["cell-range-address"]);var Te={Name:a.name,Ref:Re[0]+"!"+Re[1]};ne&&(Te.Sheet=y.length),Ie.Names.push(Te);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(s[s.length-1][0])>-1)break;if(b[1]==="/"&&(!N||!N["string-value"])){var je=xxe(r.slice(k,b.index));V=(V.length>0?V+`
`:"")+je[0]}else Rn(b[0],!1),k=b.index+b[0].length;break;case"s":break;case"database-range":if(b[1]==="/")break;try{Re=Nw(Rn(b[0])["target-range-address"]),g[Re[0]]["!autofilter"]={ref:Re[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(b[1]!=="/"){if(xe=Rn(b[0],!1),!xe.href)break;xe.Target=Sr(xe.href),delete xe.href,xe.Target.charAt(0)=="#"&&xe.Target.indexOf(".")>-1?(Re=Nw(xe.Target.slice(1)),xe.Target="#"+Re[0]+"!"+Re[1]):xe.Target.match(/^\.\.[\\\/]/)&&(xe.Target=xe.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(b[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(n.WTF)throw new Error(b)}}var ce={Sheets:g,SheetNames:y,Workbook:Ie};return n.bookSheets&&delete ce.Sheets,ce}function lD(t,e){e=e||{},cl(t,"META-INF/manifest.xml")&&Dde(li(t,"META-INF/manifest.xml"),e);var n=Oo(t,"content.xml");if(!n)throw new Error("Missing content.xml in ODS / UOF file");var r=DB(is(n),e);return cl(t,"meta.xml")&&(r.Props=W9(li(t,"meta.xml"))),r}function cD(t,e){return DB(t,e)}function HS(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function gT(t){return typeof TextDecoder<"u"?new TextDecoder().decode(t):is(Nh(t))}function xT(t){var e=t.reduce(function(s,i){return s+i.length},0),n=new Uint8Array(e),r=0;return t.forEach(function(s){n.set(s,r),r+=s.length}),n}function uD(t){return t-=t>>1&1431655765,t=(t&858993459)+(t>>2&858993459),(t+(t>>4)&252645135)*16843009>>>24}function yxe(t,e){for(var n=(t[e+15]&127)<<7|t[e+14]>>1,r=t[e+14]&1,s=e+13;s>=e;--s)r=r*256+t[s];return(t[e+15]&128?-r:r)*Math.pow(10,n-6176)}function l1(t,e){var n=e?e[0]:0,r=t[n]&127;e:if(t[n++]>=128&&(r|=(t[n]&127)<<7,t[n++]<128||(r|=(t[n]&127)<<14,t[n++]<128)||(r|=(t[n]&127)<<21,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,28),++n,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,35),++n,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,42),++n,t[n++]<128)))break e;return e&&(e[0]=n),r}function Ci(t){var e=0,n=t[e]&127;e:if(t[e++]>=128){if(n|=(t[e]&127)<<7,t[e++]<128||(n|=(t[e]&127)<<14,t[e++]<128)||(n|=(t[e]&127)<<21,t[e++]<128))break e;n|=(t[e]&127)<<28}return n}function Ca(t){for(var e=[],n=[0];n[0]<t.length;){var r=n[0],s=l1(t,n),i=s&7;s=Math.floor(s/8);var a=0,o;if(s==0)break;switch(i){case 0:{for(var c=n[0];t[n[0]++]>=128;);o=t.slice(c,n[0])}break;case 5:a=4,o=t.slice(n[0],n[0]+a),n[0]+=a;break;case 1:a=8,o=t.slice(n[0],n[0]+a),n[0]+=a;break;case 2:a=l1(t,n),o=t.slice(n[0],n[0]+a),n[0]+=a;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(s," at offset ").concat(r))}var f={data:o,type:i};e[s]==null?e[s]=[f]:e[s].push(f)}return e}function zS(t,e){return t?.map(function(n){return e(n.data)})||[]}function vxe(t){for(var e,n=[],r=[0];r[0]<t.length;){var s=l1(t,r),i=Ca(t.slice(r[0],r[0]+s));r[0]+=s;var a={id:Ci(i[1][0].data),messages:[]};i[2].forEach(function(o){var c=Ca(o.data),f=Ci(c[3][0].data);a.messages.push({meta:c,data:t.slice(r[0],r[0]+f)}),r[0]+=f}),(e=i[3])!=null&&e[0]&&(a.merge=Ci(i[3][0].data)>>>0>0),n.push(a)}return n}function _xe(t,e){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var n=[0],r=l1(e,n),s=[];n[0]<e.length;){var i=e[n[0]]&3;if(i==0){var a=e[n[0]++]>>2;if(a<60)++a;else{var o=a-59;a=e[n[0]],o>1&&(a|=e[n[0]+1]<<8),o>2&&(a|=e[n[0]+2]<<16),o>3&&(a|=e[n[0]+3]<<24),a>>>=0,a++,n[0]+=o}s.push(e.slice(n[0],n[0]+a)),n[0]+=a;continue}else{var c=0,f=0;if(i==1?(f=(e[n[0]]>>2&7)+4,c=(e[n[0]++]&224)<<3,c|=e[n[0]++]):(f=(e[n[0]++]>>2)+1,i==2?(c=e[n[0]]|e[n[0]+1]<<8,n[0]+=2):(c=(e[n[0]]|e[n[0]+1]<<8|e[n[0]+2]<<16|e[n[0]+3]<<24)>>>0,n[0]+=4)),s=[xT(s)],c==0)throw new Error("Invalid offset 0");if(c>s[0].length)throw new Error("Invalid offset beyond length");if(f>=c)for(s.push(s[0].slice(-c)),f-=c;f>=s[s.length-1].length;)s.push(s[s.length-1]),f-=s[s.length-1].length;s.push(s[0].slice(-c,-c+f))}}var d=xT(s);if(d.length!=r)throw new Error("Unexpected length: ".concat(d.length," != ").concat(r));return d}function bxe(t){for(var e=[],n=0;n<t.length;){var r=t[n++],s=t[n]|t[n+1]<<8|t[n+2]<<16;n+=3,e.push(_xe(r,t.slice(n,n+s))),n+=s}if(n!==t.length)throw new Error("data is not a valid framed stream!");return xT(e)}function wxe(t,e,n,r){var s=HS(t),i=s.getUint32(4,!0),a=(r>1?12:8)+uD(i&(r>1?3470:398))*4,o=-1,c=-1,f=NaN,d=new Date(2001,0,1);i&512&&(o=s.getUint32(a,!0),a+=4),a+=uD(i&(r>1?12288:4096))*4,i&16&&(c=s.getUint32(a,!0),a+=4),i&32&&(f=s.getFloat64(a,!0),a+=8),i&64&&(d.setTime(d.getTime()+s.getFloat64(a,!0)*1e3),a+=8);var p;switch(t[2]){case 0:break;case 2:p={t:"n",v:f};break;case 3:p={t:"s",v:e[c]};break;case 5:p={t:"d",v:d};break;case 6:p={t:"b",v:f>0};break;case 7:p={t:"n",v:f/86400};break;case 8:p={t:"e",v:0};break;case 9:if(o>-1)p={t:"s",v:n[o]};else if(c>-1)p={t:"s",v:e[c]};else if(!isNaN(f))p={t:"n",v:f};else throw new Error("Unsupported cell type ".concat(t.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(t.slice(0,4)))}return p}function Txe(t,e,n){var r=HS(t),s=r.getUint32(8,!0),i=12,a=-1,o=-1,c=NaN,f=NaN,d=new Date(2001,0,1);s&1&&(c=yxe(t,i),i+=16),s&2&&(f=r.getFloat64(i,!0),i+=8),s&4&&(d.setTime(d.getTime()+r.getFloat64(i,!0)*1e3),i+=8),s&8&&(o=r.getUint32(i,!0),i+=4),s&16&&(a=r.getUint32(i,!0),i+=4);var p;switch(t[1]){case 0:break;case 2:p={t:"n",v:c};break;case 3:p={t:"s",v:e[o]};break;case 5:p={t:"d",v:d};break;case 6:p={t:"b",v:f>0};break;case 7:p={t:"n",v:f/86400};break;case 8:p={t:"e",v:0};break;case 9:if(a>-1)p={t:"s",v:n[a]};else throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(s&31," : ").concat(t.slice(0,4)));break;case 10:p={t:"n",v:c};break;default:throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(s&31," : ").concat(t.slice(0,4)))}return p}function Exe(t,e,n){switch(t[0]){case 0:case 1:case 2:case 3:return wxe(t,e,n,t[0]);case 5:return Txe(t,e,n);default:throw new Error("Unsupported payload version ".concat(t[0]))}}function Wf(t){var e=Ca(t);return l1(e[1][0].data)}function fD(t,e){var n=Ca(e.data),r=Ci(n[1][0].data),s=n[3],i=[];return(s||[]).forEach(function(a){var o=Ca(a.data),c=Ci(o[1][0].data)>>>0;switch(r){case 1:i[c]=gT(o[3][0].data);break;case 8:{var f=t[Wf(o[9][0].data)][0],d=Ca(f.data),p=t[Wf(d[1][0].data)][0],g=Ci(p.meta[1][0].data);if(g!=2001)throw new Error("2000 unexpected reference to ".concat(g));var y=Ca(p.data);i[c]=y[3].map(function(E){return gT(E.data)}).join("")}break}}),i}function Sxe(t,e){var n,r,s,i,a,o,c,f,d,p,g,y,E,b,A=Ca(t),N=Ci(A[1][0].data)>>>0,V=Ci(A[2][0].data)>>>0,k=((r=(n=A[8])==null?void 0:n[0])==null?void 0:r.data)&&Ci(A[8][0].data)>0||!1,B,W;if((i=(s=A[7])==null?void 0:s[0])!=null&&i.data&&e!=0)B=(o=(a=A[7])==null?void 0:a[0])==null?void 0:o.data,W=(f=(c=A[6])==null?void 0:c[0])==null?void 0:f.data;else if((p=(d=A[4])==null?void 0:d[0])!=null&&p.data&&e!=1)B=(y=(g=A[4])==null?void 0:g[0])==null?void 0:y.data,W=(b=(E=A[3])==null?void 0:E[0])==null?void 0:b.data;else throw"NUMBERS Tile missing ".concat(e," cell storage");for(var K=k?4:1,D=HS(B),L=[],R=0;R<B.length/2;++R){var q=D.getUint16(R*2,!0);q<65535&&L.push([R,q])}if(L.length!=V)throw"Expected ".concat(V," cells, found ").concat(L.length);var P=[];for(R=0;R<L.length-1;++R)P[L[R][0]]=W.subarray(L[R][1]*K,L[R+1][1]*K);return L.length>=1&&(P[L[L.length-1][0]]=W.subarray(L[L.length-1][1]*K)),{R:N,cells:P}}function Axe(t,e){var n,r=Ca(e.data),s=(n=r?.[7])!=null&&n[0]?Ci(r[7][0].data)>>>0>0?1:0:-1,i=zS(r[5],function(a){return Sxe(a,s)});return{nrows:Ci(r[4][0].data)>>>0,data:i.reduce(function(a,o){return a[o.R]||(a[o.R]=[]),o.cells.forEach(function(c,f){if(a[o.R][f])throw new Error("Duplicate cell r=".concat(o.R," c=").concat(f));a[o.R][f]=c}),a},[])}}function Cxe(t,e,n){var r,s=Ca(e.data),i={s:{r:0,c:0},e:{r:0,c:0}};if(i.e.r=(Ci(s[6][0].data)>>>0)-1,i.e.r<0)throw new Error("Invalid row varint ".concat(s[6][0].data));if(i.e.c=(Ci(s[7][0].data)>>>0)-1,i.e.c<0)throw new Error("Invalid col varint ".concat(s[7][0].data));n["!ref"]=br(i);var a=Ca(s[4][0].data),o=fD(t,t[Wf(a[4][0].data)][0]),c=(r=a[17])!=null&&r[0]?fD(t,t[Wf(a[17][0].data)][0]):[],f=Ca(a[3][0].data),d=0;f[1].forEach(function(p){var g=Ca(p.data),y=t[Wf(g[2][0].data)][0],E=Ci(y.meta[1][0].data);if(E!=6002)throw new Error("6001 unexpected reference to ".concat(E));var b=Axe(t,y);b.data.forEach(function(A,N){A.forEach(function(V,k){var B=jn({r:d+N,c:k}),W=Exe(V,o,c);W&&(n[B]=W)})}),d+=b.nrows})}function Nxe(t,e){var n=Ca(e.data),r={"!ref":"A1"},s=t[Wf(n[2][0].data)],i=Ci(s[0].meta[1][0].data);if(i!=6001)throw new Error("6000 unexpected reference to ".concat(i));return Cxe(t,s[0],r),r}function Ixe(t,e){var n,r=Ca(e.data),s={name:(n=r[1])!=null&&n[0]?gT(r[1][0].data):"",sheets:[]},i=zS(r[2],Wf);return i.forEach(function(a){t[a].forEach(function(o){var c=Ci(o.meta[1][0].data);c==6e3&&s.sheets.push(Nxe(t,o))})}),s}function kxe(t,e){var n=$S(),r=Ca(e.data),s=zS(r[1],Wf);if(s.forEach(function(i){t[i].forEach(function(a){var o=Ci(a.meta[1][0].data);if(o==2){var c=Ixe(t,a);c.sheets.forEach(function(f,d){KS(n,f,d==0?c.name:c.name+"_"+d,!0)})}})}),n.SheetNames.length==0)throw new Error("Empty NUMBERS file");return n}function kw(t){var e,n,r,s,i={},a=[];if(t.FullPaths.forEach(function(c){if(c.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),t.FileIndex.forEach(function(c){if(c.name.match(/\.iwa$/)){var f;try{f=bxe(c.content)}catch(p){return console.log("?? "+c.content.length+" "+(p.message||p))}var d;try{d=vxe(f)}catch(p){return console.log("## "+(p.message||p))}d.forEach(function(p){i[p.id]=p.messages,a.push(p.id)})}}),!a.length)throw new Error("File has no messages");var o=((s=(r=(n=(e=i?.[1])==null?void 0:e[0])==null?void 0:n.meta)==null?void 0:r[1])==null?void 0:s[0].data)&&Ci(i[1][0].meta[1][0].data)==1&&i[1][0];if(o||a.forEach(function(c){i[c].forEach(function(f){var d=Ci(f.meta[1][0].data)>>>0;if(d==1)if(!o)o=f;else throw new Error("Document has multiple roots")})}),!o)throw new Error("Cannot find Document root");return kxe(i,o)}function Rxe(t){return function(n){for(var r=0;r!=t.length;++r){var s=t[r];n[s[0]]===void 0&&(n[s[0]]=s[1]),s[2]==="n"&&(n[s[0]]=Number(n[s[0]]))}}}function GS(t){Rxe([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(t)}function Pxe(t){return G0.WS.indexOf(t)>-1?"sheet":t==G0.CS?"chart":t==G0.DS?"dialog":t==G0.MS?"macro":t&&t.length?t:"sheet"}function Dxe(t,e){if(!t)return 0;try{t=e.map(function(r){return r.id||(r.id=r.strRelID),[r.name,t["!id"][r.id].Target,Pxe(t["!id"][r.id].Type)]})}catch{return null}return!t||t.length===0?null:t}function Mxe(t,e,n,r,s,i,a,o,c,f,d,p){try{i[r]=Tg(Oo(t,n,!0),e);var g=li(t,e),y;switch(o){case"sheet":y=U1e(g,e,s,c,i[r],f,d,p);break;case"chart":if(y=j1e(g,e,s,c,i[r],f,d,p),!y||!y["!drawel"])break;var E=Qm(y["!drawel"].Target,e),b=fT(E),A=Vpe(Oo(t,E,!0),Tg(Oo(t,b,!0),E)),N=Qm(A,E),V=fT(N);y=T1e(Oo(t,N,!0),N,c,Tg(Oo(t,V,!0),N),f,y);break;case"macro":y=q1e(g,e,s,c,i[r],f,d,p);break;case"dialog":y=H1e(g,e,s,c,i[r],f,d,p);break;default:throw new Error("Unrecognized sheet type "+o)}a[r]=y;var k=[];i&&i[r]&&jc(i[r]).forEach(function(B){var W="";if(i[r][B].Type==G0.CMNT){W=Qm(i[r][B].Target,e);var K=$1e(li(t,W,!0),W,c);if(!K||!K.length)return;XP(y,K,!1)}i[r][B].Type==G0.TCMNT&&(W=Qm(i[r][B].Target,e),k=k.concat(jpe(li(t,W,!0),c)))}),k&&k.length&&XP(y,k,!0,c.people||[])}catch(B){if(c.WTF)throw B}}function al(t){return t.charAt(0)=="/"?t.slice(1):t}function Lxe(t,e){if(x9(),e=e||{},GS(e),cl(t,"META-INF/manifest.xml")||cl(t,"objectdata.xml"))return lD(t,e);if(cl(t,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof kw<"u"){if(t.FileIndex)return kw(t);var n=_r.utils.cfb_new();return TP(t).forEach(function(ae){Ffe(n,ae,Lfe(t,ae))}),kw(n)}throw new Error("Unsupported NUMBERS file")}if(!cl(t,"[Content_Types].xml"))throw cl(t,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):cl(t,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var r=TP(t),s=Rde(Oo(t,"[Content_Types].xml")),i=!1,a,o;if(s.workbooks.length===0&&(o="xl/workbook.xml",li(t,o,!0)&&s.workbooks.push(o)),s.workbooks.length===0){if(o="xl/workbook.bin",!li(t,o,!0))throw new Error("Could not find workbook");s.workbooks.push(o),i=!0}s.workbooks[0].slice(-3)=="bin"&&(i=!0);var c={},f={};if(!e.bookSheets&&!e.bookProps){if(Ag=[],s.sst)try{Ag=W1e(li(t,al(s.sst)),s.sst,e)}catch(ae){if(e.WTF)throw ae}e.cellStyles&&s.themes.length&&(c=G1e(Oo(t,s.themes[0].replace(/^\//,""),!0)||"",s.themes[0],e)),s.style&&(f=z1e(li(t,al(s.style)),s.style,c,e))}s.links.map(function(ae){try{var Se=Tg(Oo(t,fT(al(ae))),ae);return Y1e(li(t,al(ae)),Se,ae,e)}catch{}});var d=V1e(li(t,al(s.workbooks[0])),s.workbooks[0],e),p={},g="";s.coreprops.length&&(g=li(t,al(s.coreprops[0]),!0),g&&(p=W9(g)),s.extprops.length!==0&&(g=li(t,al(s.extprops[0]),!0),g&&Fde(g,p,e)));var y={};(!e.bookSheets||e.bookProps)&&s.custprops.length!==0&&(g=Oo(t,al(s.custprops[0]),!0),g&&(y=Bde(g,e)));var E={};if((e.bookSheets||e.bookProps)&&(d.Sheets?a=d.Sheets.map(function(Se){return Se.name}):p.Worksheets&&p.SheetNames.length>0&&(a=p.SheetNames),e.bookProps&&(E.Props=p,E.Custprops=y),e.bookSheets&&typeof a<"u"&&(E.SheetNames=a),e.bookSheets?E.SheetNames:e.bookProps))return E;a={};var b={};e.bookDeps&&s.calcchain&&(b=K1e(li(t,al(s.calcchain)),s.calcchain));var A=0,N={},V,k;{var B=d.Sheets;p.Worksheets=B.length,p.SheetNames=[];for(var W=0;W!=B.length;++W)p.SheetNames[W]=B[W].name}var K=i?"bin":"xml",D=s.workbooks[0].lastIndexOf("/"),L=(s.workbooks[0].slice(0,D+1)+"_rels/"+s.workbooks[0].slice(D+1)+".rels").replace(/^\//,"");cl(t,L)||(L="xl/_rels/workbook."+K+".rels");var R=Tg(Oo(t,L,!0),L.replace(/_rels.*/,"s5s"));(s.metadata||[]).length>=1&&(e.xlmeta=X1e(li(t,al(s.metadata[0])),s.metadata[0],e)),(s.people||[]).length>=1&&(e.people=qpe(li(t,al(s.people[0])),e)),R&&(R=Dxe(R,d.Sheets));var q=li(t,"xl/worksheets/sheet.xml",!0)?1:0;e:for(A=0;A!=p.Worksheets;++A){var P="sheet";if(R&&R[A]?(V="xl/"+R[A][1].replace(/[\/]?xl\//,""),cl(t,V)||(V=R[A][1]),cl(t,V)||(V=L.replace(/_rels\/.*$/,"")+R[A][1]),P=R[A][2]):(V="xl/worksheets/sheet"+(A+1-q)+"."+K,V=V.replace(/sheet0\./,"sheet.")),k=V.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),e&&e.sheets!=null)switch(typeof e.sheets){case"number":if(A!=e.sheets)continue e;break;case"string":if(p.SheetNames[A].toLowerCase()!=e.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(e.sheets)){for(var M=!1,H=0;H!=e.sheets.length;++H)typeof e.sheets[H]=="number"&&e.sheets[H]==A&&(M=1),typeof e.sheets[H]=="string"&&e.sheets[H].toLowerCase()==p.SheetNames[A].toLowerCase()&&(M=1);if(!M)continue e}}Mxe(t,V,k,p.SheetNames[A],A,N,a,P,e,d,c,f)}return E={Directory:s,Workbook:d,Props:p,Custprops:y,Deps:b,Sheets:a,SheetNames:p.SheetNames,Strings:Ag,Styles:f,Themes:c,SSF:oa(Gn)},e&&e.bookFiles&&(t.files?(E.keys=r,E.files=t.files):(E.keys=[],E.files={},t.FullPaths.forEach(function(ae,Se){ae=ae.replace(/^Root Entry[\/]/,""),E.keys.push(ae),E.files[ae]=t.FileIndex[Se]}))),e&&e.bookVBA&&(s.vba.length>0?E.vbaraw=li(t,al(s.vba[0]),!0):s.defaults&&s.defaults.bin===Wpe&&(E.vbaraw=li(t,"xl/vbaProject.bin",!0))),E}function Fxe(t,e){var n=e||{},r="Workbook",s=_r.find(t,r);try{if(r="/!DataSpaces/Version",s=_r.find(t,r),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+r);if(N0e(s.content),r="/!DataSpaces/DataSpaceMap",s=_r.find(t,r),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+r);var i=k0e(s.content);if(i.length!==1||i[0].comps.length!==1||i[0].comps[0].t!==0||i[0].name!=="StrongEncryptionDataSpace"||i[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+r);if(r="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",s=_r.find(t,r),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+r);var a=R0e(s.content);if(a.length!=1||a[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+r);if(r="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",s=_r.find(t,r),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+r);D0e(s.content)}catch{}if(r="/EncryptionInfo",s=_r.find(t,r),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+r);var o=M0e(s.content);if(r="/EncryptedPackage",s=_r.find(t,r),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+r);if(o[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(o[1],s.content,n.password||"",n);if(o[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(o[1],s.content,n.password||"",n);throw new Error("File is password-protected")}function WS(t,e){var n="";switch((e||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":n=jo(t.slice(0,12));break;case"binary":n=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[n.charCodeAt(0),n.charCodeAt(1),n.charCodeAt(2),n.charCodeAt(3),n.charCodeAt(4),n.charCodeAt(5),n.charCodeAt(6),n.charCodeAt(7)]}function Oxe(t,e){return _r.find(t,"EncryptedPackage")?Fxe(t,e):kB(t,e)}function Bxe(t,e){var n,r=t,s=e||{};return s.type||(s.type=hr&&Buffer.isBuffer(t)?"buffer":"base64"),n=T9(r,s),Lxe(n,s)}function MB(t,e){var n=0;e:for(;n<t.length;)switch(t.charCodeAt(n)){case 10:case 13:case 32:++n;break;case 60:return pT(t.slice(n),e);default:break e}return i1.to_workbook(t,e)}function Vxe(t,e){var n="",r=WS(t,e);switch(e.type){case"base64":n=jo(t);break;case"binary":n=t;break;case"buffer":n=t.toString("binary");break;case"array":n=ph(t);break;default:throw new Error("Unrecognized type "+e.type)}return r[0]==239&&r[1]==187&&r[2]==191&&(n=is(n)),e.type="binary",MB(n,e)}function Uxe(t,e){var n=t;return e.type=="base64"&&(n=jo(n)),n=t1.utils.decode(1200,n.slice(2),"str"),e.type="binary",MB(n,e)}function jxe(t){return t.match(/[^\x00-\x7F]/)?Zm(t):t}function Rw(t,e,n,r){return r?(n.type="string",i1.to_workbook(t,n)):i1.to_workbook(e,n)}function yT(t,e){i9();var n=e||{};if(typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer)return yT(new Uint8Array(t),(n=oa(n),n.type="array",n));typeof Uint8Array<"u"&&t instanceof Uint8Array&&!n.type&&(n.type=typeof Deno<"u"?"buffer":"array");var r=t,s=[0,0,0,0],i=!1;if(n.cellStyles&&(n.cellNF=!0,n.sheetStubs=!0),cp={},n.dateNF&&(cp.dateNF=n.dateNF),n.type||(n.type=hr&&Buffer.isBuffer(t)?"buffer":"base64"),n.type=="file"&&(n.type=hr?"buffer":"binary",r=Nfe(t),typeof Uint8Array<"u"&&!hr&&(n.type="array")),n.type=="string"&&(i=!0,n.type="binary",n.codepage=65001,r=jxe(t)),n.type=="array"&&typeof Uint8Array<"u"&&t instanceof Uint8Array&&typeof ArrayBuffer<"u"){var a=new ArrayBuffer(3),o=new Uint8Array(a);if(o.foo="bar",!o.foo)return n=oa(n),n.type="array",yT(ES(r),n)}switch((s=WS(r,n))[0]){case 208:if(s[1]===207&&s[2]===17&&s[3]===224&&s[4]===161&&s[5]===177&&s[6]===26&&s[7]===225)return Oxe(_r.read(r,n),n);break;case 9:if(s[1]<=8)return kB(r,n);break;case 60:return pT(r,n);case 73:if(s[1]===73&&s[2]===42&&s[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(s[1]===68)return m0e(r,n);break;case 84:if(s[1]===65&&s[2]===66&&s[3]===76)return h0e.to_workbook(r,n);break;case 80:return s[1]===75&&s[2]<9&&s[3]<9?Bxe(r,n):Rw(t,r,n,i);case 239:return s[3]===60?pT(r,n):Rw(t,r,n,i);case 255:if(s[1]===254)return Uxe(r,n);if(s[1]===0&&s[2]===2&&s[3]===0)return Sg.to_workbook(r,n);break;case 0:if(s[1]===0&&(s[2]>=2&&s[3]===0||s[2]===0&&(s[3]===8||s[3]===9)))return Sg.to_workbook(r,n);break;case 3:case 131:case 139:case 140:return YP.to_workbook(r,n);case 123:if(s[1]===92&&s[2]===114&&s[3]===116)return W0e.to_workbook(r,n);break;case 10:case 13:case 32:return Vxe(r,n);case 137:if(s[1]===80&&s[2]===78&&s[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return f0e.indexOf(s[0])>-1&&s[2]<=12&&s[3]<=31?YP.to_workbook(r,n):Rw(t,r,n,i)}function qxe(t,e,n,r,s,i,a,o){var c=la(n),f=o.defval,d=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),p=!0,g=s===1?[]:{};if(s!==1)if(Object.defineProperty)try{Object.defineProperty(g,"__rowNum__",{value:n,enumerable:!1})}catch{g.__rowNum__=n}else g.__rowNum__=n;if(!a||t[n])for(var y=e.s.c;y<=e.e.c;++y){var E=a?t[n][y]:t[r[y]+c];if(E===void 0||E.t===void 0){if(f===void 0)continue;i[y]!=null&&(g[i[y]]=f);continue}var b=E.v;switch(E.t){case"z":if(b==null)break;continue;case"e":b=b==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+E.t)}if(i[y]!=null){if(b==null)if(E.t=="e"&&b===null)g[i[y]]=null;else if(f!==void 0)g[i[y]]=f;else if(d&&b===null)g[i[y]]=null;else continue;else g[i[y]]=d&&(E.t!=="n"||E.t==="n"&&o.rawNumbers!==!1)?b:Ou(E,b,o);b!=null&&(p=!1)}}return{row:g,isempty:p}}function vT(t,e){if(t==null||t["!ref"]==null)return[];var n={t:"n",v:0},r=0,s=1,i=[],a=0,o="",c={s:{r:0,c:0},e:{r:0,c:0}},f=e||{},d=f.range!=null?f.range:t["!ref"];switch(f.header===1?r=1:f.header==="A"?r=2:Array.isArray(f.header)?r=3:f.header==null&&(r=0),typeof d){case"string":c=Hs(d);break;case"number":c=Hs(t["!ref"]),c.s.r=d;break;default:c=d}r>0&&(s=0);var p=la(c.s.r),g=[],y=[],E=0,b=0,A=Array.isArray(t),N=c.s.r,V=0,k={};A&&!t[N]&&(t[N]=[]);var B=f.skipHidden&&t["!cols"]||[],W=f.skipHidden&&t["!rows"]||[];for(V=c.s.c;V<=c.e.c;++V)if(!(B[V]||{}).hidden)switch(g[V]=Ai(V),n=A?t[N][V]:t[g[V]+p],r){case 1:i[V]=V-c.s.c;break;case 2:i[V]=g[V];break;case 3:i[V]=f.header[V-c.s.c];break;default:if(n==null&&(n={w:"__EMPTY",t:"s"}),o=a=Ou(n,null,f),b=k[a]||0,!b)k[a]=1;else{do o=a+"_"+b++;while(k[o]);k[a]=b,k[o]=1}i[V]=o}for(N=c.s.r+s;N<=c.e.r;++N)if(!(W[N]||{}).hidden){var K=qxe(t,c,N,g,r,i,A,f);(K.isempty===!1||(r===1?f.blankrows!==!1:f.blankrows))&&(y[E++]=K.row)}return y.length=E,y}var dD=/"/g;function Hxe(t,e,n,r,s,i,a,o){for(var c=!0,f=[],d="",p=la(n),g=e.s.c;g<=e.e.c;++g)if(r[g]){var y=o.dense?(t[n]||[])[g]:t[r[g]+p];if(y==null)d="";else if(y.v!=null){c=!1,d=""+(o.rawNumbers&&y.t=="n"?y.v:Ou(y,null,o));for(var E=0,b=0;E!==d.length;++E)if((b=d.charCodeAt(E))===s||b===i||b===34||o.forceQuotes){d='"'+d.replace(dD,'""')+'"';break}d=="ID"&&(d='"ID"')}else y.f!=null&&!y.F?(c=!1,d="="+y.f,d.indexOf(",")>=0&&(d='"'+d.replace(dD,'""')+'"')):d="";f.push(d)}return o.blankrows===!1&&c?null:f.join(a)}function LB(t,e){var n=[],r=e??{};if(t==null||t["!ref"]==null)return"";var s=Hs(t["!ref"]),i=r.FS!==void 0?r.FS:",",a=i.charCodeAt(0),o=r.RS!==void 0?r.RS:`
`,c=o.charCodeAt(0),f=new RegExp((i=="|"?"\\|":i)+"+$"),d="",p=[];r.dense=Array.isArray(t);for(var g=r.skipHidden&&t["!cols"]||[],y=r.skipHidden&&t["!rows"]||[],E=s.s.c;E<=s.e.c;++E)(g[E]||{}).hidden||(p[E]=Ai(E));for(var b=0,A=s.s.r;A<=s.e.r;++A)(y[A]||{}).hidden||(d=Hxe(t,s,A,p,a,c,i,r),d!=null&&(r.strip&&(d=d.replace(f,"")),(d||r.blankrows!==!1)&&n.push((b++?o:"")+d)));return delete r.dense,n.join("")}function zxe(t,e){e||(e={}),e.FS="	",e.RS=`
`;var n=LB(t,e);return n}function Gxe(t){var e="",n,r="";if(t==null||t["!ref"]==null)return[];var s=Hs(t["!ref"]),i="",a=[],o,c=[],f=Array.isArray(t);for(o=s.s.c;o<=s.e.c;++o)a[o]=Ai(o);for(var d=s.s.r;d<=s.e.r;++d)for(i=la(d),o=s.s.c;o<=s.e.c;++o)if(e=a[o]+i,n=f?(t[d]||[])[o]:t[e],r="",n!==void 0){if(n.F!=null){if(e=n.F,!n.f)continue;r=n.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(n.f!=null)r=n.f;else{if(n.t=="z")continue;if(n.t=="n"&&n.v!=null)r=""+n.v;else if(n.t=="b")r=n.v?"TRUE":"FALSE";else if(n.w!==void 0)r="'"+n.w;else{if(n.v===void 0)continue;n.t=="s"?r="'"+n.v:r=""+n.v}}c[c.length]=e+"="+r}return c}function FB(t,e,n){var r=n||{},s=+!r.skipHeader,i=t||{},a=0,o=0;if(i&&r.origin!=null)if(typeof r.origin=="number")a=r.origin;else{var c=typeof r.origin=="string"?za(r.origin):r.origin;a=c.r,o=c.c}var f,d={s:{c:0,r:0},e:{c:o,r:a+e.length-1+s}};if(i["!ref"]){var p=Hs(i["!ref"]);d.e.c=Math.max(d.e.c,p.e.c),d.e.r=Math.max(d.e.r,p.e.r),a==-1&&(a=p.e.r+1,d.e.r=a+e.length-1+s)}else a==-1&&(a=0,d.e.r=e.length-1+s);var g=r.header||[],y=0;e.forEach(function(b,A){jc(b).forEach(function(N){(y=g.indexOf(N))==-1&&(g[y=g.length]=N);var V=b[N],k="z",B="",W=jn({c:o+y,r:a+A+s});f=c1(i,W),V&&typeof V=="object"&&!(V instanceof Date)?i[W]=V:(typeof V=="number"?k="n":typeof V=="boolean"?k="b":typeof V=="string"?k="s":V instanceof Date?(k="d",r.cellDates||(k="n",V=$a(V)),B=r.dateNF||Gn[14]):V===null&&r.nullError&&(k="e",V=0),f?(f.t=k,f.v=V,delete f.w,delete f.R,B&&(f.z=B)):i[W]=f={t:k,v:V},B&&(f.z=B))})}),d.e.c=Math.max(d.e.c,o+g.length-1);var E=la(a);if(s)for(y=0;y<g.length;++y)i[Ai(y+o)+E]={t:"s",v:g[y]};return i["!ref"]=br(d),i}function Wxe(t,e){return FB(null,t,e)}function c1(t,e,n){if(typeof e=="string"){if(Array.isArray(t)){var r=za(e);return t[r.r]||(t[r.r]=[]),t[r.r][r.c]||(t[r.r][r.c]={t:"z"})}return t[e]||(t[e]={t:"z"})}return typeof e!="number"?c1(t,jn(e)):c1(t,jn({r:e,c:n||0}))}function $xe(t,e){if(typeof e=="number"){if(e>=0&&t.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var n=t.SheetNames.indexOf(e);if(n>-1)return n;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function $S(){return{SheetNames:[],Sheets:{}}}function KS(t,e,n,r){var s=1;if(!n)for(;s<=65535&&t.SheetNames.indexOf(n="Sheet"+s)!=-1;++s,n=void 0);if(!n||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&t.SheetNames.indexOf(n)>=0){var i=n.match(/(^.*?)(\d+)$/);s=i&&+i[2]||0;var a=i&&i[1]||n;for(++s;s<=65535&&t.SheetNames.indexOf(n=a+s)!=-1;++s);}if(R1e(n),t.SheetNames.indexOf(n)>=0)throw new Error("Worksheet with name |"+n+"| already exists!");return t.SheetNames.push(n),t.Sheets[n]=e,n}function Kxe(t,e,n){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var r=$xe(t,e);switch(t.Workbook.Sheets[r]||(t.Workbook.Sheets[r]={}),n){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+n)}t.Workbook.Sheets[r].Hidden=n}function Yxe(t,e){return t.z=e,t}function OB(t,e,n){return e?(t.l={Target:e},n&&(t.l.Tooltip=n)):delete t.l,t}function Xxe(t,e,n){return OB(t,"#"+e,n)}function Jxe(t,e,n){t.c||(t.c=[]),t.c.push({t:e,a:n||"SheetJS"})}function Qxe(t,e,n,r){for(var s=typeof e!="string"?e:Hs(e),i=typeof e=="string"?e:br(e),a=s.s.r;a<=s.e.r;++a)for(var o=s.s.c;o<=s.e.c;++o){var c=c1(t,a,o);c.t="n",c.F=i,delete c.v,a==s.s.r&&o==s.s.c&&(c.f=n,r&&(c.D=!0))}return t}var hD={encode_col:Ai,encode_row:la,encode_cell:jn,encode_range:br,decode_col:DS,decode_row:PS,split_cell:ude,decode_cell:za,decode_range:Wp,format_cell:Ou,sheet_add_aoa:j9,sheet_add_json:FB,sheet_add_dom:RB,aoa_to_sheet:$p,json_to_sheet:Wxe,table_to_sheet:PB,table_to_book:mxe,sheet_to_csv:LB,sheet_to_txt:zxe,sheet_to_json:vT,sheet_to_html:pxe,sheet_to_formulae:Gxe,sheet_to_row_object_array:vT,sheet_get_cell:c1,book_new:$S,book_append_sheet:KS,book_set_sheet_visibility:Kxe,cell_set_number_format:Yxe,cell_set_hyperlink:OB,cell_set_internal_link:Xxe,cell_add_comment:Jxe,sheet_set_array_formula:Qxe,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const pD=({onClose:t,onImportComplete:e})=>{const{company:n}=Eh(),[r,s]=ke.useState(!1),[i,a]=ke.useState({type:"idle",message:""}),[o,c]=ke.useState({products:0,customers:0}),f=async g=>new Promise((y,E)=>{const b=new FileReader;b.onload=A=>{try{const N=new Uint8Array(A.target?.result),V=yT(N,{type:"array"}),k={products:[],customers:[]};if(V.SheetNames.includes("Products")){const B=hD.sheet_to_json(V.Sheets.Products);k.products=B.map(W=>({id:Math.random().toString(36).substr(2,9),name:W["Product Name"]||W.Name||"",price:parseFloat(W.Price||W.Rate||0),stock:parseInt(W.Stock||W.Quantity||0),category:W.Category||"",hsn:n?.gst_enabled&&(W.HSN||W["HSN Code"])||"",gstRate:n?.gst_enabled?parseFloat(W["GST Rate"]||W.GSTRATE||0):0}))}if(V.SheetNames.includes("Customers")){const B=hD.sheet_to_json(V.Sheets.Customers);k.customers=B.map(W=>({id:Math.random().toString(36).substr(2,9),name:W["Customer Name"]||W.Name||"",company:W.Company||"",email:W.Email||"",phone:W.Phone||W.Mobile||"",address:W.Address||"",state:n?.gst_enabled&&W.State||"",gstin:n?.gst_enabled&&W.GSTIN||"",balance:0,notifications:[]}))}y(k)}catch(N){E(N)}},b.onerror=()=>E(new Error("Failed to read file")),b.readAsArrayBuffer(g)}),d=g=>{const y={products:[],customers:[]};try{const b=new DOMParser().parseFromString(g,"text/xml");if(b.getElementsByTagName("parsererror").length>0)throw new Error("Invalid XML format");const A=b.getElementsByTagName("ITEM");for(let V=0;V<A.length;V++){const k=A[V],B=k.getElementsByTagName("NAME")[0]?.textContent||"",W=n?.gst_enabled&&k.getElementsByTagName("HSNCODE")[0]?.textContent||"",K=n?.gst_enabled?parseFloat(k.getElementsByTagName("GSTRATE")[0]?.textContent||"0"):0;B&&y.products.push({id:Math.random().toString(36).substr(2,9),name:B,price:0,stock:0,category:"Imported",hsn:W,gstRate:K})}const N=b.getElementsByTagName("LEDGER");for(let V=0;V<N.length;V++){const k=N[V],B=k.getElementsByTagName("NAME")[0]?.textContent||"",W=k.getElementsByTagName("ADDRESS")[0]?.textContent||"",K=n?.gst_enabled&&k.getElementsByTagName("STATE")[0]?.textContent||"",D=n?.gst_enabled&&k.getElementsByTagName("GSTIN")[0]?.textContent||"",L=k.getElementsByTagName("PHONE")[0]?.textContent||"",R=k.getElementsByTagName("EMAIL")[0]?.textContent||"";B&&!["Sales","Purchase","Duty","Tax"].includes(B)&&y.customers.push({id:Math.random().toString(36).substr(2,9),name:B,company:"",email:R||"",phone:L||"",address:W||"",state:K||"",gstin:D||"",balance:0,notifications:[]})}}catch(E){throw new Error("Failed to parse Tally XML: "+E.message)}return y},p=async g=>{const y=g.target.files?.[0];if(y){s(!0),a({type:"idle",message:""});try{let E;if(y.name.endsWith(".xlsx")||y.name.endsWith(".xls"))E=await f(y);else if(y.name.endsWith(".xml")){const b=await y.text();E=d(b)}else throw new Error("Unsupported file format. Use .xlsx, .xls, or .xml");E.products.length>0&&E.products.forEach(b=>{et.saveProduct(b)}),E.customers.length>0&&E.customers.forEach(b=>{et.saveCustomer(b)}),c({products:E.products.length,customers:E.customers.length}),a({type:"success",message:`Successfully imported ${E.products.length} products and ${E.customers.length} customers!`}),setTimeout(()=>{e(),t()},2e3)}catch(E){a({type:"error",message:E.message||"Import failed. Please check the file format."})}finally{s(!1)}}};return m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:m.jsxs("div",{className:"bg-white rounded-lg shadow-lg max-w-md w-full p-6",children:[m.jsx("h2",{className:"text-xl font-bold text-slate-900 mb-4",children:"Import Data"}),m.jsxs("div",{className:"space-y-4",children:[m.jsx("div",{className:"border-2 border-dashed border-blue-200 rounded-lg p-6 text-center hover:bg-blue-50 transition-colors",children:m.jsxs("label",{className:"cursor-pointer flex flex-col items-center gap-2",children:[m.jsx($2,{className:"w-8 h-8 text-blue-500"}),m.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Drop or click to upload"}),m.jsx("span",{className:"text-xs text-slate-500",children:".xlsx, .xls, or Tally .xml"}),m.jsx("input",{type:"file",accept:".xlsx,.xls,.xml",onChange:p,disabled:r,className:"hidden","data-testid":"file-input-import"})]})}),i.type==="success"&&m.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 flex gap-3",children:[m.jsx(n5,{className:"w-5 h-5 text-green-600 flex-shrink-0"}),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm font-medium text-green-900",children:i.message}),m.jsxs("p",{className:"text-xs text-green-700 mt-1",children:[o.products," products, ",o.customers," customers"]})]})]}),i.type==="error"&&m.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex gap-3",children:[m.jsx(p1,{className:"w-5 h-5 text-red-600 flex-shrink-0"}),m.jsx("p",{className:"text-sm font-medium text-red-900",children:i.message})]}),r&&m.jsxs("div",{className:"flex items-center justify-center gap-2 py-4",children:[m.jsx(iM,{className:"w-5 h-5 text-blue-600 animate-spin"}),m.jsx("span",{className:"text-sm text-slate-600",children:"Processing..."})]}),m.jsx("div",{className:`rounded-lg p-3 ${n?.gst_enabled?"bg-blue-50 border border-blue-200":"bg-amber-50 border border-amber-200"}`,children:m.jsxs("p",{className:`text-xs ${n?.gst_enabled?"text-blue-900":"text-amber-900"}`,children:[m.jsx("span",{className:"font-medium",children:"Supported formats:"}),m.jsx("br",{})," Excel: Products sheet with Name, Price, Stock",n?.gst_enabled?", HSN, GST Rate":"",m.jsx("br",{})," Excel: Customers sheet with Name, Email, Phone, Address",n?.gst_enabled?", State, GSTIN":"",m.jsx("br",{})," Tally XML: Extract ITEM and LEDGER masters",!n?.gst_enabled&&m.jsxs(m.Fragment,{children:[m.jsx("br",{}),m.jsx("br",{}),m.jsx("span",{className:"font-medium",children:" GST is currently disabled"})," - GST fields will be ignored"]})]})})]}),m.jsx("button",{onClick:t,disabled:r,className:"w-full mt-6 px-4 py-2 border border-slate-300 rounded-md text-slate-700 hover:bg-slate-50 font-medium transition-colors disabled:opacity-50","data-testid":"button-close-import",children:"Close"})]})})},Zxe=({customerId:t,onBack:e,onViewInvoice:n,onEditPayment:r})=>{const s=et.getCustomers().find(b=>b.id===t),i=et.getInvoices().filter(b=>b.customerId===t),a=et.getPayments().filter(b=>b.customerId===t),[o,c]=ke.useState({from:new Date(new Date().getFullYear(),new Date().getMonth(),1).toISOString().split("T")[0],to:new Date().toISOString().split("T")[0]}),{debitItems:f,creditItems:d,openingBalance:p}=ke.useMemo(()=>{const b=i.filter(B=>B.date<o.from).reduce((B,W)=>B+W.total,0),A=a.filter(B=>B.date<o.from).reduce((B,W)=>B+W.amount,0),N=b-A,V=i.filter(B=>B.date>=o.from&&B.date<=o.to).map(B=>({id:B.id,date:B.date,description:"To Sales",reference:B.invoiceNumber,amount:B.total,original:B,type:"INVOICE"})).sort((B,W)=>new Date(B.date).getTime()-new Date(W.date).getTime()),k=a.filter(B=>B.date>=o.from&&B.date<=o.to).map(B=>({id:B.id,date:B.date,description:"By Receipt",reference:B.mode,amount:B.amount,original:B,type:"PAYMENT"})).sort((B,W)=>new Date(B.date).getTime()-new Date(W.date).getTime());return{debitItems:V,creditItems:k,openingBalance:N}},[i,a,o]),g=ke.useMemo(()=>{const b=f.reduce((k,B)=>k+B.amount,0),A=d.reduce((k,B)=>k+B.amount,0),N=p>0?p+b:b,V=p<0?Math.abs(p)+A:A;return{totalDebit:N,totalCredit:V,balance:p+b-A}},[f,d,p]),y=b=>{Zs.light(),b.type==="INVOICE"?n(b.original):r(b.original)},E=()=>{if(!s)return;const b=new hn("l","mm","a4"),A=12,N=b.internal.pageSize.getWidth(),k=(N-A*2)/2;let B=20;b.setFontSize(22),b.setTextColor(40,40,40),b.text(`${s.company||s.name}`.toUpperCase(),N/2,B,{align:"center"}),B+=10,b.setFontSize(14),b.setTextColor(100,100,100),b.text("LEDGER ACCOUNT",N/2,B,{align:"center"}),B+=8,b.setFontSize(10),b.text(`Period: ${o.from} to ${o.to}`,N/2,B,{align:"center"}),B+=12,b.setDrawColor(0),b.setLineWidth(.5),b.line(A,B,N-A,B),B+=7,b.setFont("helvetica","bold"),b.setFontSize(11),b.text("Dr.",A,B-9),b.text("Date",A+2,B),b.text("Particulars",A+25,B),b.text("Ref",A+85,B),b.text("Amount (Rs.)",A+k-5,B,{align:"right"}),b.text("Cr.",N-A-5,B-9),b.text("Date",A+k+5,B),b.text("Particulars",A+k+28,B),b.text("Ref",A+k+88,B),b.text("Amount (Rs.)",N-A-2,B,{align:"right"}),B+=3,b.line(A,B,N-A,B),b.line(N/2,B-10,N/2,200),B+=8,b.setFontSize(10),p!==0&&(p>0?(b.text(o.from,A+2,B),b.text("To Opening Balance (b/d)",A+25,B),b.text(p.toLocaleString(),A+k-5,B,{align:"right"})):(b.text(o.from,A+k+5,B),b.text("By Opening Balance (b/d)",A+k+28,B),b.text(Math.abs(p).toLocaleString(),N-A-2,B,{align:"right"})),B+=8),b.setFont("helvetica","normal");const W=Math.max(f.length,d.length);for(let D=0;D<W;D++){if(B>180&&(b.addPage(),B=20,b.line(N/2,B,N/2,200)),f[D]){b.text(f[D].date,A+2,B),b.text(f[D].description,A+25,B);const L=f[D].reference.toString();b.text(L.length>20?L.substring(0,18)+"..":L,A+85,B),b.text(f[D].amount.toLocaleString(),A+k-5,B,{align:"right"})}if(d[D]){b.text(d[D].date,A+k+5,B),b.text(d[D].description,A+k+28,B);const L=d[D].reference.toString();b.text(L.length>20?L.substring(0,18)+"..":L,A+k+88,B),b.text(d[D].amount.toLocaleString(),N-A-2,B,{align:"right"})}B+=8}B=Math.max(B,180),b.setLineWidth(.3),b.line(A,B,N-A,B),B+=8,b.setFont("helvetica","bold"),b.text("Total Dr.",A+25,B),b.text("Rs. "+g.totalDebit.toLocaleString(),A+k-5,B,{align:"right"}),b.text("Total Cr.",A+k+28,B),b.text("Rs. "+g.totalCredit.toLocaleString(),N-A-2,B,{align:"right"}),B+=12,b.setFontSize(12);const K=`Net Closing Balance: Rs. ${Math.abs(g.balance).toLocaleString()} (${g.balance>=0?"Dr.":"Cr."})`;if(b.text(K,N-A,B,{align:"right"}),Jg.isNativePlatform())try{const D=b.output("datauristring").split(",")[1],L=`${s.name}-Ledger-${o.from}.pdf`;Hy.writeFile({path:L,data:D,directory:k2.Documents}).then(()=>{alert(`Saved to Documents: ${L}`)}).catch(R=>alert(`Save Failed: ${R}`))}catch(D){alert("Native Save Error: "+D)}else b.save(`${s.name}-Ledger-${o.from}.pdf`)};return s?m.jsxs("div",{className:"bg-slate-50 dark:bg-black min-h-screen pb-24 font-['Outfit']",children:[m.jsx("div",{className:"sticky top-0 z-20 bg-white/80 dark:bg-black/80 backdrop-blur-md border-b border-slate-200 dark:border-gray-800 p-4",children:m.jsxs("div",{className:"max-w-6xl mx-auto flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("button",{onClick:e,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full transition-colors",children:m.jsx(Ru,{className:"w-6 h-6"})}),m.jsxs("div",{children:[m.jsx("h1",{className:"text-xl font-bold",children:"Ledger Account (T-Shape)"}),m.jsx("p",{className:"text-sm text-slate-500 font-medium",children:s.company||s.name})]})]}),m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsxs("div",{className:"hidden md:flex bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700 p-1",children:[m.jsx("input",{type:"date",className:"bg-transparent border-none text-xs font-bold p-2",value:o.from,onChange:b=>c({...o,from:b.target.value})}),m.jsx("div",{className:"self-center px-1 text-slate-400",children:""}),m.jsx("input",{type:"date",className:"bg-transparent border-none text-xs font-bold p-2",value:o.to,onChange:b=>c({...o,to:b.target.value})})]}),m.jsxs("button",{onClick:E,className:"bg-slate-900 dark:bg-white dark:text-black text-white px-5 py-2.5 rounded-2xl flex items-center gap-2 font-black shadow-xl active:scale-95 transition-all",children:[m.jsx(Dp,{className:"w-5 h-5"})," Export PDF"]})]})]})}),m.jsxs("div",{className:"max-w-6xl mx-auto p-4 space-y-6",children:[m.jsxs("div",{className:"md:hidden grid grid-cols-2 gap-4",children:[m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-3 rounded-2xl border border-slate-100",children:[m.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase mb-1",children:"From"}),m.jsx("input",{type:"date",className:"w-full bg-transparent font-bold text-sm",value:o.from,onChange:b=>c({...o,from:b.target.value})})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-3 rounded-2xl border border-slate-100",children:[m.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase mb-1",children:"To"}),m.jsx("input",{type:"date",className:"w-full bg-transparent font-bold text-sm",value:o.to,onChange:b=>c({...o,to:b.target.value})})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[m.jsxs("div",{className:"bg-white dark:bg-gray-900 p-5 rounded-[32px] border border-slate-100 dark:border-gray-800 shadow-sm relative overflow-hidden group",children:[m.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:scale-110 transition-transform",children:m.jsx(r5,{className:"w-12 h-12"})}),m.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mb-1",children:"Total Debits (Dr.)"}),m.jsxs("p",{className:"text-3xl font-black text-slate-900 dark:text-slate-100",children:["",g.totalDebit.toLocaleString()]})]}),m.jsxs("div",{className:"bg-white dark:bg-gray-900 p-5 rounded-[32px] border border-slate-100 dark:border-gray-800 shadow-sm text-emerald-600 relative overflow-hidden group",children:[m.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:scale-110 transition-transform",children:m.jsx(r5,{className:"w-12 h-12"})}),m.jsx("p",{className:"text-xs font-bold opacity-60 uppercase tracking-widest mb-1",children:"Total Credits (Cr.)"}),m.jsxs("p",{className:"text-3xl font-black",children:["",g.totalCredit.toLocaleString()]})]}),m.jsxs("div",{className:`${g.balance>=0?"bg-red-600":"bg-emerald-600"} p-5 rounded-[32px] shadow-lg shadow-blue-500/20 text-white relative overflow-hidden group`,children:[m.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-20 group-hover:scale-110 transition-transform",children:m.jsx(Eu,{className:"w-12 h-12"})}),m.jsx("p",{className:"text-xs font-bold opacity-80 uppercase tracking-widest mb-1",children:"Closing Balance"}),m.jsxs("p",{className:"text-3xl font-black",children:["",Math.abs(g.balance).toLocaleString()]}),m.jsx("p",{className:"text-[10px] font-bold mt-1 uppercase opacity-70",children:g.balance>=0?"Debit Balance":"Credit Balance"})]})]}),m.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-[40px] shadow-xl border border-slate-100 dark:border-gray-800 overflow-hidden",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 divide-y md:divide-y-0 md:divide-x divide-slate-200 dark:divide-gray-800",children:[m.jsxs("div",{children:[m.jsxs("div",{className:"bg-slate-50 dark:bg-black/40 px-6 py-4 border-b border-slate-200 dark:border-gray-800 flex justify-between items-center",children:[m.jsx("span",{className:"text-xs font-black text-slate-400 uppercase tracking-tighter",children:"Debit (Dr.)"}),m.jsx("span",{className:"text-[10px] font-bold text-slate-400 px-2 py-1 bg-slate-100 dark:bg-slate-800 rounded-lg",children:"To Sales Account"})]}),m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full text-left",children:[m.jsx("thead",{className:"text-[10px] font-black text-slate-400 uppercase border-b border-slate-100 dark:border-slate-800",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-6 py-3",children:"Date"}),m.jsx("th",{className:"px-6 py-3",children:"Reference"}),m.jsx("th",{className:"px-6 py-3 text-right",children:"Amount"})]})}),m.jsxs("tbody",{className:"divide-y divide-slate-50 dark:divide-slate-800",children:[p>0&&m.jsxs("tr",{className:"bg-blue-50/30 dark:bg-blue-900/10 italic",children:[m.jsx("td",{className:"px-6 py-4 text-xs font-bold text-slate-400",children:o.from}),m.jsx("td",{className:"px-6 py-4 text-[10px] font-bold text-blue-600 uppercase",children:"To Opening Balance (b/d)"}),m.jsxs("td",{className:"px-6 py-4 text-right font-black text-blue-700",children:["",p.toLocaleString()]})]}),f.map(b=>m.jsxs("tr",{onClick:()=>y(b),className:"hover:bg-slate-50 dark:hover:bg-slate-900/30 cursor-pointer active:bg-slate-100 transition-colors",children:[m.jsx("td",{className:"px-6 py-4 text-xs font-bold text-slate-500",children:b.date}),m.jsx("td",{className:"px-6 py-4",children:m.jsx("div",{className:"text-[10px] font-bold text-slate-400 uppercase group-hover:text-blue-500",children:b.reference})}),m.jsxs("td",{className:"px-6 py-4 text-right font-black text-slate-800 dark:text-slate-100",children:["",b.amount.toLocaleString()]})]},b.id)),f.length===0&&p<=0&&m.jsx("tr",{children:m.jsx("td",{colSpan:3,className:"px-6 py-12 text-center text-xs text-slate-400 italic",children:"No debit entries"})})]})]})})]}),m.jsxs("div",{children:[m.jsxs("div",{className:"bg-slate-50 dark:bg-black/40 px-6 py-4 border-b border-slate-200 dark:border-gray-800 flex justify-between items-center text-emerald-600",children:[m.jsx("span",{className:"text-xs font-black uppercase tracking-tighter opacity-70",children:"Credit (Cr.)"}),m.jsx("span",{className:"text-[10px] font-bold opacity-70 px-2 py-1 bg-emerald-50 dark:bg-emerald-900/20 rounded-lg",children:"By Receipt Account"})]}),m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full text-left",children:[m.jsx("thead",{className:"text-[10px] font-black text-slate-400 uppercase border-b border-slate-100 dark:border-slate-800",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-6 py-3",children:"Date"}),m.jsx("th",{className:"px-6 py-3",children:"Reference"}),m.jsx("th",{className:"px-6 py-3 text-right",children:"Amount"})]})}),m.jsxs("tbody",{className:"divide-y divide-slate-50 dark:divide-slate-800",children:[p<0&&m.jsxs("tr",{className:"bg-emerald-50/30 dark:bg-emerald-900/10 italic",children:[m.jsx("td",{className:"px-6 py-4 text-xs font-bold text-slate-400",children:o.from}),m.jsx("td",{className:"px-6 py-4 text-[10px] font-bold text-emerald-600 uppercase",children:"By Opening Balance (b/d)"}),m.jsxs("td",{className:"px-6 py-4 text-right font-black text-emerald-700",children:["",Math.abs(p).toLocaleString()]})]}),d.map(b=>m.jsxs("tr",{onClick:()=>y(b),className:"hover:bg-slate-50 dark:hover:bg-slate-900/30 cursor-pointer active:bg-slate-100 transition-colors",children:[m.jsx("td",{className:"px-6 py-4 text-xs font-bold text-slate-500",children:b.date}),m.jsx("td",{className:"px-6 py-4",children:m.jsx("div",{className:"text-[10px] font-bold text-slate-400 uppercase group-hover:text-emerald-500",children:b.reference})}),m.jsxs("td",{className:"px-6 py-4 text-right font-black text-emerald-600",children:["",b.amount.toLocaleString()]})]},b.id)),d.length===0&&p>=0&&m.jsx("tr",{children:m.jsx("td",{colSpan:3,className:"px-6 py-12 text-center text-xs text-slate-400 italic",children:"No credit entries"})})]})]})})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 border-t border-slate-200 dark:border-gray-800 bg-slate-50 dark:bg-black/40",children:[m.jsxs("div",{className:"px-6 py-4 flex justify-between items-center border-b md:border-b-0 md:border-r border-slate-200 dark:border-slate-700",children:[m.jsx("span",{className:"text-xs font-black text-slate-800 dark:text-slate-100",children:"TOTAL DEBIT"}),m.jsxs("span",{className:"text-lg font-black text-slate-900 dark:text-slate-100",children:["",g.totalDebit.toLocaleString()]})]}),m.jsxs("div",{className:"px-6 py-4 flex justify-between items-center text-emerald-600",children:[m.jsx("span",{className:"text-xs font-black",children:"TOTAL CREDIT"}),m.jsxs("span",{className:"text-lg font-black",children:["",g.totalCredit.toLocaleString()]})]})]})]})]})]}):null},eye=({invoices:t,onViewInvoice:e,onViewCustomerLedger:n,onViewDaybook:r,onQuickShare:s,onCreateInvoice:i,onOpenReports:a,onAddCustomer:o,onOpenSmartCalc:c})=>{const{company:f}=Eh(),[d,p]=Ig.useState("ALL"),g=Ig.useMemo(()=>{const V=new Date,k=V.toISOString().split("T")[0],B=V.toISOString().slice(0,7);return t.filter(W=>d==="TODAY"?W.date===k:d==="MONTH"?W.date.startsWith(B):!0)},[t,d]),y=g.reduce((V,k)=>V+k.total,0),E=g.filter(V=>V.status==="PENDING").length,b=et.getProducts().length;et.getCustomers().length;const A={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.05}}},N={hidden:{opacity:0,y:10},show:{opacity:1,y:0}};return m.jsxs("div",{className:"pb-32 md:pb-6 bg-slate-50 dark:bg-slate-900/50 min-h-screen font-sans",children:[m.jsx("div",{className:"pt-16 pb-6 px-6 bg-transparent sticky top-0 z-10 transition-all",children:m.jsxs("div",{className:"max-w-5xl mx-auto flex justify-between items-end",children:[m.jsxs("div",{className:"overflow-hidden flex-1",children:[m.jsxs("p",{className:"text-[10px] font-black text-blue-600 dark:text-blue-400 uppercase tracking-[0.2em] mb-1 px-1",children:["Business Growth  ",new Date().toLocaleDateString("en-IN",{day:"numeric",month:"short"})]}),m.jsx("h1",{className:"text-3xl md:text-5xl font-black text-slate-900 dark:text-slate-100 tracking-tighter truncate uppercase italic leading-none",children:f?.name||"Dashboard"})]}),m.jsxs("div",{className:"flex gap-3 flex-shrink-0 ml-4",children:[m.jsx(Mn.button,{whileTap:{scale:.9},onClick:c,className:"w-12 h-12 rounded-2xl bg-white dark:bg-slate-800 border-none flex items-center justify-center text-slate-700 dark:text-slate-300 shadow-sm hover:shadow-md transition-all active:bg-slate-50",children:m.jsx(t5,{className:"w-6 h-6 text-primary"})}),m.jsx("div",{className:"w-12 h-12 rounded-2xl bg-white dark:bg-slate-800 p-1 shadow-sm border-none overflow-hidden",children:m.jsx("img",{src:"/logo.png",className:"w-full h-full object-contain rounded-xl",alt:"Firm Logo"})})]})]})}),m.jsxs(Mn.div,{variants:A,initial:"hidden",animate:"show",className:"px-4 md:px-8 max-w-5xl mx-auto space-y-6",children:[m.jsx(Mn.div,{variants:N,className:"flex gap-2 pb-2 overflow-x-auto no-scrollbar mask-gradient-right",children:[{id:"ALL",label:"Overview"},{id:"TODAY",label:"Today"},{id:"MONTH",label:"Monthly"}].map(V=>m.jsx("button",{onClick:()=>p(V.id),className:`px-5 py-2 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all whitespace-nowrap border-none shadow-sm ${d===V.id?"bg-slate-900 text-white dark:bg-white dark:text-slate-900":"bg-white dark:bg-slate-800 text-slate-500 dark:text-slate-400"}`,children:V.label},V.id))}),m.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[m.jsxs(Mn.div,{variants:N,className:"bg-white dark:bg-slate-800 p-5 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-800/50",children:[m.jsx("div",{className:"w-8 h-8 bg-blue-50 dark:bg-blue-900/20 rounded-lg flex items-center justify-center mb-3",children:m.jsx(qG,{className:"w-4 h-4 text-blue-600"})}),m.jsx("span",{className:"block text-[10px] font-bold text-slate-400 mb-1 uppercase tracking-widest",children:"Revenue"}),m.jsxs("span",{className:"text-xl font-black text-slate-900 dark:text-white leading-none",children:["",y.toLocaleString("en-IN")]})]}),m.jsxs(Mn.div,{variants:N,className:"bg-white dark:bg-slate-800 p-5 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-800/50",children:[m.jsx("div",{className:"w-8 h-8 bg-orange-50 dark:bg-orange-900/20 rounded-lg flex items-center justify-center mb-3",children:m.jsx(Eu,{className:"w-4 h-4 text-orange-600"})}),m.jsx("span",{className:"block text-[10px] font-bold text-slate-400 mb-1 uppercase tracking-widest",children:"Pending"}),m.jsxs("span",{className:"text-xl font-black text-slate-900 dark:text-white leading-none",children:[E," Bills"]})]}),m.jsxs(Mn.div,{variants:N,className:"bg-white dark:bg-slate-800 p-5 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-800/50",children:[m.jsx("div",{className:"w-8 h-8 bg-indigo-50 dark:bg-indigo-900/20 rounded-lg flex items-center justify-center mb-3",children:m.jsx(ig,{className:"w-4 h-4 text-indigo-600"})}),m.jsx("span",{className:"block text-[10px] font-bold text-slate-400 mb-1 uppercase tracking-widest",children:"Stock Items"}),m.jsxs("span",{className:"text-xl font-black text-slate-900 dark:text-white leading-none",children:[b," SKU"]})]}),m.jsxs(Mn.div,{variants:N,className:"bg-white dark:bg-slate-800 p-5 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-800/50",children:[m.jsx("div",{className:"w-8 h-8 bg-emerald-50 dark:bg-emerald-900/20 rounded-lg flex items-center justify-center mb-3",children:m.jsx($0,{className:"w-4 h-4 text-emerald-600"})}),m.jsx("span",{className:"block text-[10px] font-bold text-slate-400 mb-1 uppercase tracking-widest",children:"Status"}),m.jsx("span",{className:"text-xl font-black text-emerald-600 italic leading-none",children:"Healthy"})]})]}),m.jsxs(Mn.div,{variants:N,className:"grid grid-cols-2 sm:flex sm:flex-wrap gap-3",children:[m.jsxs("button",{onClick:i,className:"flex-1 min-w-[140px] bg-white dark:bg-slate-800 hover:bg-primary hover:text-white dark:hover:bg-primary active:scale-95 transition-all p-4 rounded-3xl flex flex-col items-center gap-2 shadow-sm border border-slate-100 dark:border-slate-800/50",children:[m.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",children:m.jsx(Kf,{className:"w-6 h-6 text-primary"})}),m.jsx("span",{className:"text-xs font-bold",children:"New Bill"})]}),m.jsxs("button",{onClick:()=>r(new Date().toISOString().split("T")[0]),className:"flex-1 min-w-[140px] bg-white dark:bg-slate-800 hover:bg-green-500 hover:text-white dark:hover:bg-green-500 active:scale-95 transition-all p-4 rounded-3xl flex flex-col items-center gap-2 shadow-sm border border-slate-100 dark:border-slate-800/50",children:[m.jsx("div",{className:"w-10 h-10 rounded-full bg-green-500/10 flex items-center justify-center",children:m.jsx(Qd,{className:"w-6 h-6 text-green-600"})}),m.jsx("span",{className:"text-xs font-bold",children:"Daybook"})]}),m.jsxs("button",{onClick:a,className:"flex-1 min-w-[140px] bg-white dark:bg-slate-800 hover:bg-orange-500 hover:text-white dark:hover:bg-orange-500 active:scale-95 transition-all p-4 rounded-3xl flex flex-col items-center gap-2 shadow-sm border border-slate-100 dark:border-slate-800/50",children:[m.jsx("div",{className:"w-10 h-10 rounded-full bg-orange-500/10 flex items-center justify-center",children:m.jsx(Eu,{className:"w-6 h-6 text-orange-500"})}),m.jsx("span",{className:"text-xs font-bold",children:"Analytics"})]}),m.jsxs("button",{onClick:o,className:"flex-1 min-w-[140px] bg-white dark:bg-slate-800 hover:bg-purple-500 hover:text-white dark:hover:bg-purple-500 active:scale-95 transition-all p-4 rounded-3xl flex flex-col items-center gap-2 shadow-sm border border-slate-100 dark:border-slate-800/50",children:[m.jsx("div",{className:"w-10 h-10 rounded-full bg-purple-500/10 flex items-center justify-center",children:m.jsx(aE,{className:"w-6 h-6 text-purple-500"})}),m.jsx("span",{className:"text-xs font-bold",children:"Customers"})]})]}),m.jsxs(Mn.div,{variants:N,className:"bg-white dark:bg-slate-800/40 rounded-[32px] p-6 lg:p-8 border border-slate-100 dark:border-slate-800/50 mb-10",children:[m.jsxs("div",{className:"flex justify-between items-center mb-6 px-2",children:[m.jsx("h3",{className:"text-2xl font-black text-slate-900 dark:text-slate-100 tracking-tighter italic uppercase",children:"Recent Activity"}),t.length>0&&m.jsx("button",{onClick:()=>{},className:"text-xs font-black uppercase tracking-widest text-primary hover:bg-primary/5 px-4 py-2 rounded-full",children:"Explore"})]}),m.jsx("div",{className:"space-y-3",children:t.length===0?m.jsxs("div",{className:"py-12 flex flex-col items-center justify-center text-center px-6",children:[m.jsx("div",{className:"w-20 h-20 bg-slate-100 dark:bg-slate-800 rounded-full flex items-center justify-center mb-4",children:m.jsx(Eu,{className:"w-10 h-10 text-slate-300"})}),m.jsx("h4",{className:"text-lg font-bold text-slate-900 dark:text-slate-100 mb-1",children:"No bills yet"}),m.jsx("p",{className:"text-sm text-slate-500 mb-6 max-w-[240px]",children:"Create your first invoice to see your business growth here."}),m.jsxs("button",{onClick:i,className:"bg-primary text-white px-8 py-3 rounded-full font-bold shadow-lg shadow-primary/20 flex items-center gap-2 active:scale-95 transition-all",children:[m.jsx(Kf,{className:"w-5 h-5 text-white"}),"Make First Bill"]})]}):[...t].sort((V,k)=>new Date(k.date).getTime()-new Date(V.date).getTime()).slice(0,8).map(V=>m.jsxs("div",{onClick:()=>e(V),className:"group flex items-center justify-between p-3 rounded-2xl hover:bg-slate-50 dark:hover:bg-slate-800 transition-all cursor-pointer border border-transparent hover:border-slate-100 dark:hover:border-slate-800 active:scale-[0.98]",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-10 h-10 rounded-xl bg-slate-100 dark:bg-slate-800 flex items-center justify-center text-sm font-black text-slate-400 dark:text-slate-600 group-hover:bg-primary group-hover:text-white transition-all",children:V.customerName.charAt(0)}),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm font-bold text-slate-900 dark:text-slate-100 truncate max-w-[120px]",children:V.customerName}),m.jsxs("p",{className:"text-[10px] text-slate-400 font-bold opacity-60",children:["#",V.invoiceNumber,"  ",new Date(V.date).toLocaleDateString("en-IN",{day:"2-digit",month:"short"})]})]})]}),m.jsxs("div",{className:"text-right",children:[m.jsxs("p",{className:"text-base font-black text-slate-900 dark:text-slate-100",children:["",V.total.toLocaleString("en-IN")]}),m.jsx("p",{className:`text-[9px] font-black uppercase px-2 py-0.5 rounded-full inline-block ${V.status==="PAID"?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":"bg-orange-100 text-orange-700 dark:bg-orange-900/10 dark:text-orange-400"}`,children:V.status})]})]},V.id))})]})]})]})},tye=({onBack:t,onViewLedger:e})=>{const n=et.getInvoices(),r=et.getExpenses(),s=ke.useMemo(()=>{const i=n.reduce((f,d)=>f+d.total,0),a=r.reduce((f,d)=>f+d.amount,0),o=i-a,c={};return[...n,...r].forEach(f=>{const p=new Date(("status"in f,f.date)).toLocaleString("default",{month:"short",year:"2-digit"});c[p]||(c[p]={sales:0,expenses:0}),"total"in f?c[p].sales+=f.total:c[p].expenses+=f.amount}),{totalSales:i,totalExpenses:a,netProfit:o,monthlyData:c}},[n,r]);return m.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900 min-h-full pb-20",children:[m.jsxs("div",{className:"sticky top-0 z-10 bg-slate-50 dark:bg-slate-900 px-4 py-4 flex items-center gap-4",children:[m.jsx("button",{onClick:t,className:"p-2 -ml-2 rounded-full hover:bg-slate-200 dark:hover:bg-slate-800 transition-colors",children:m.jsx(Ru,{className:"w-6 h-6 text-slate-700 dark:text-slate-200"})}),m.jsx("h1",{className:"text-2xl font-normal text-slate-800 dark:text-slate-100",children:"Reports"})]}),m.jsxs("div",{className:"px-4 max-w-4xl mx-auto space-y-6",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[m.jsxs(Mn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-blue-100 dark:bg-blue-900/30 p-6 rounded-[24px] text-blue-900 dark:text-blue-100",children:[m.jsxs("div",{className:"flex items-start justify-between mb-4",children:[m.jsx("div",{className:"p-3 bg-white/50 dark:bg-white/10 rounded-2xl",children:m.jsx($0,{className:"w-6 h-6"})}),m.jsx("span",{className:"text-xs font-bold uppercase tracking-wider opacity-60",children:"Revenue"})]}),m.jsxs("h3",{className:"text-3xl font-normal",children:["",s.totalSales.toLocaleString("en-IN")]})]}),m.jsxs(Mn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-red-100 dark:bg-red-900/30 p-6 rounded-[24px] text-red-900 dark:text-red-100",children:[m.jsxs("div",{className:"flex items-start justify-between mb-4",children:[m.jsx("div",{className:"p-3 bg-white/50 dark:bg-white/10 rounded-2xl",children:m.jsx(IW,{className:"w-6 h-6"})}),m.jsx("span",{className:"text-xs font-bold uppercase tracking-wider opacity-60",children:"Expenses"})]}),m.jsxs("h3",{className:"text-3xl font-normal",children:["",s.totalExpenses.toLocaleString("en-IN")]})]}),m.jsxs(Mn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-emerald-100 dark:bg-emerald-900/30 p-6 rounded-[24px] text-emerald-900 dark:text-emerald-100",children:[m.jsxs("div",{className:"flex items-start justify-between mb-4",children:[m.jsx("div",{className:"p-3 bg-white/50 dark:bg-white/10 rounded-2xl",children:m.jsx($0,{className:"w-6 h-6"})}),m.jsx("span",{className:"text-xs font-bold uppercase tracking-wider opacity-60",children:"Net Profit"})]}),m.jsxs("h3",{className:"text-3xl font-normal",children:["",s.netProfit.toLocaleString("en-IN")]})]})]}),m.jsxs(Mn.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.35},className:"bg-blue-600 text-white rounded-[32px] p-8 shadow-xl shadow-blue-500/20",children:[m.jsxs("div",{className:"flex justify-between items-start mb-6",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"text-xl font-bold",children:"Collection Performance"}),m.jsx("p",{className:"text-blue-100 text-sm opacity-80",children:"How effectively are you collecting payments?"})]}),m.jsx("div",{className:"bg-white/20 p-2 rounded-xl",children:m.jsx($0,{className:"w-6 h-6 text-white"})})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-8",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-xs font-bold uppercase tracking-wider opacity-60 mb-1",children:"Total Receivables"}),m.jsxs("p",{className:"text-3xl font-black",children:["",et.getCustomers().reduce((i,a)=>i+a.balance,0).toLocaleString()]})]}),m.jsxs("div",{className:"text-right",children:[m.jsx("p",{className:"text-xs font-bold uppercase tracking-wider opacity-60 mb-1",children:"Recovery Rate"}),m.jsxs("p",{className:"text-3xl font-black",children:[Math.round(s.totalSales/(s.totalSales+et.getCustomers().reduce((i,a)=>i+a.balance,0))*100),"%"]})]})]}),m.jsx("div",{className:"h-4 bg-white/20 rounded-full overflow-hidden",children:m.jsx(Mn.div,{initial:{width:0},animate:{width:`${Math.round(s.totalSales/(s.totalSales+et.getCustomers().reduce((i,a)=>i+a.balance,0))*100)}%`},className:"h-full bg-white rounded-full shadow-lg"})}),m.jsx("p",{className:"text-[10px] mt-2 font-bold opacity-60",children:"Calculated based on lifetime sales vs current outstanding balance."})]}),m.jsxs(Mn.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"bg-white dark:bg-slate-800 rounded-[24px] p-6 shadow-sm border border-slate-100 dark:border-slate-700",children:[m.jsxs("div",{className:"flex justify-between items-center mb-6",children:[m.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-100",children:"Monthly Performance"}),m.jsxs("button",{className:"text-blue-600 text-sm font-medium flex items-center gap-1 hover:bg-blue-50 px-3 py-1 rounded-full transition-colors",children:[m.jsx(Dp,{className:"w-4 h-4"})," Export CSV"]})]}),m.jsx("div",{className:"space-y-4",children:Object.keys(s.monthlyData).map((i,a)=>m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:"w-16 text-sm font-bold text-slate-500 dark:text-slate-400",children:i}),m.jsxs("div",{className:"flex-1 space-y-1",children:[m.jsx("div",{className:"h-2 w-full bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden",children:m.jsx(Mn.div,{initial:{width:0},animate:{width:`${s.monthlyData[i].sales/s.totalSales*100}%`},className:"h-full bg-blue-500 rounded-full"})}),m.jsx("div",{className:"h-1.5 w-full bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden opacity-70",children:m.jsx(Mn.div,{initial:{width:0},animate:{width:`${(s.monthlyData[i].sales-s.monthlyData[i].expenses)/s.totalSales*100}%`},className:"h-full bg-emerald-500 rounded-full"})})]}),m.jsxs("div",{className:"text-right min-w-[80px]",children:[m.jsxs("div",{className:"text-sm font-bold text-slate-800 dark:text-slate-200",children:["",s.monthlyData[i].sales.toLocaleString("en-IN",{notation:"compact"})]}),m.jsxs("div",{className:"text-xs text-emerald-600 font-medium",children:["",(s.monthlyData[i].sales-s.monthlyData[i].expenses).toLocaleString("en-IN",{notation:"compact"})]})]})]},i))})]}),m.jsxs(Mn.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"bg-white dark:bg-slate-800 rounded-[24px] p-6 shadow-sm border border-slate-100 dark:border-slate-700",children:[m.jsx("h3",{className:"text-lg font-bold mb-4",children:"Customer Ledger Reports"}),m.jsx("p",{className:"text-sm text-slate-500 mb-6",children:"Select a customer to view their detailed transaction history with custom date filters."}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:et.getCustomers().slice(0,6).map(i=>m.jsxs("button",{onClick:()=>e(i.id),className:"flex items-center justify-between p-4 bg-slate-50 dark:bg-slate-900 rounded-2xl border border-slate-100 dark:border-slate-800 hover:border-blue-200 transition-colors",children:[m.jsxs("div",{className:"text-left",children:[m.jsx("p",{className:"font-bold text-slate-800 dark:text-slate-100",children:i.company||i.name}),m.jsxs("p",{className:"text-xs text-slate-500",children:["Balance: ",i.balance.toLocaleString()]})]}),m.jsx(Ru,{className:"w-5 h-5 text-slate-300 rotate-180"})]},i.id))})]})]})]})},nye=()=>{const{company:t,saveCompany:e,loading:n}=Eh(),[r,s]=ke.useState(""),[i,a]=ke.useState(""),[o,c]=ke.useState(""),[f,d]=ke.useState(!0),[p,g]=ke.useState(""),[y,E]=ke.useState(!1);ke.useEffect(()=>{t&&(s(t.name||""),a(t.address||""),c(t.gst||""),d(t.gst_enabled??!0))},[t]);const b=async A=>{if(A.preventDefault(),!r.trim()){g("Company name is required");return}g(""),E(!0);try{await e({name:r,address:i,gst:o,gst_enabled:f})}catch(N){g(N.message||"Failed to save company details")}finally{E(!1)}};return n?m.jsx("div",{className:"fixed inset-0 bg-slate-50 flex items-center justify-center z-50",children:m.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):m.jsx("div",{className:"fixed inset-0 bg-slate-900/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:m.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md overflow-hidden",children:[m.jsxs("div",{className:"bg-blue-600 p-4 flex items-center gap-3",children:[m.jsx("div",{className:"bg-white/20 p-2 rounded-lg",children:m.jsx(eM,{className:"w-6 h-6 text-white"})}),m.jsxs("div",{children:[m.jsx("h2",{className:"text-lg font-bold text-white",children:"Company Details"}),m.jsx("p",{className:"text-blue-100 text-xs",children:"Please complete your profile to continue"})]})]}),m.jsxs("form",{onSubmit:b,className:"p-6 space-y-4",children:[p&&m.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-md flex items-center gap-2 text-sm",children:[m.jsx(p1,{className:"w-4 h-4 flex-shrink-0"}),p]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Company Name *"}),m.jsx("input",{type:"text",value:r,onChange:A=>s(A.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g. Acme Corp"})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Address"}),m.jsx("textarea",{value:i,onChange:A=>a(A.target.value),rows:3,className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Full business address"})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-sm font-medium text-slate-700",children:"GST / Tax ID"}),m.jsx("input",{type:"text",value:o,onChange:A=>c(A.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Optional"})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("input",{type:"checkbox",id:"gstEnabled",checked:f,onChange:A=>d(A.target.checked),className:"rounded border-slate-300 text-blue-600 focus:ring-blue-500"}),m.jsx("label",{htmlFor:"gstEnabled",className:"text-sm text-slate-700",children:"Enable GST calculations"})]}),m.jsx("div",{className:"pt-4",children:m.jsx("button",{type:"submit",disabled:y,className:"w-full flex justify-center items-center gap-2 py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:y?m.jsx(m.Fragment,{children:"Processing..."}):m.jsxs(m.Fragment,{children:[m.jsx(Jy,{className:"w-4 h-4"})," Save & Continue"]})})})]})]})})},rye=()=>{const{signIn:t,signUp:e}=k1(),[n,r]=ke.useState(!0),[s,i]=ke.useState(""),[a,o]=ke.useState(""),[c,f]=ke.useState(""),[d,p]=ke.useState(!1),g=async y=>{y.preventDefault(),f(""),p(!0);try{n?await t(s,a):await e(s,a)}catch(E){console.error("Auth Error:",E);let b="Authentication failed.";(E.code?.includes("auth/invalid-email")||E.message?.includes("auth/invalid-email"))&&(b="Invalid email address."),(E.code?.includes("auth/user-not-found")||E.code?.includes("auth/invalid-credential"))&&(b="Invalid email or password."),E.code?.includes("auth/wrong-password")&&(b="Incorrect password."),E.code?.includes("auth/email-already-in-use")&&(b="Email already registered."),E.code?.includes("auth/weak-password")&&(b="Password should be at least 6 characters."),E.code?.includes("auth/network-request-failed")&&(b="Network error. Check your connection."),f(b)}finally{p(!1)}};return m.jsxs("div",{className:"min-h-screen bg-slate-900 relative flex items-center justify-center p-4 overflow-hidden",children:[m.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-900 via-blue-900 to-slate-900"}),m.jsx(Mn.div,{animate:{scale:[1,1.2,1],rotate:[0,90,0],opacity:[.3,.5,.3]},transition:{duration:10,repeat:1/0},className:"absolute top-[-10%] left-[-10%] w-[500px] h-[500px] rounded-full bg-blue-600/20 blur-[100px]"}),m.jsx(Mn.div,{animate:{scale:[1,1.1,1],x:[0,50,0],opacity:[.2,.4,.2]},transition:{duration:15,repeat:1/0},className:"absolute bottom-[-10%] right-[-10%] w-[600px] h-[600px] rounded-full bg-indigo-600/20 blur-[120px]"}),m.jsx(Mn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md relative z-10",children:m.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl shadow-2xl overflow-hidden",children:[m.jsxs("div",{className:"p-8 pb-6 text-center border-b border-white/10",children:[m.jsx(Mn.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200,damping:15},className:"inline-flex p-4 bg-gradient-to-tr from-blue-500 to-indigo-600 rounded-2xl shadow-lg mb-4 group",children:m.jsx(sE,{className:"w-8 h-8 text-white group-hover:rotate-12 transition-transform duration-300"})}),m.jsx("h2",{className:"text-3xl font-bold text-white mb-2 tracking-tight",children:"BillFlow"}),m.jsx("p",{className:"text-blue-200 text-sm font-medium",children:"Smart Invoicing & Business Management"}),m.jsx("p",{className:"text-slate-400 text-xs mt-1",children:"by Lavneet Rathi"})]}),m.jsxs("div",{className:"p-8 pt-6 bg-white/95 backdrop-blur-sm",children:[m.jsxs("div",{className:"mb-6 flex p-1 bg-slate-100 rounded-xl relative",children:[m.jsx(Mn.div,{className:"absolute top-1 bottom-1 bg-white rounded-lg shadow-sm",initial:!1,animate:{left:n?"4px":"50%",width:"calc(50% - 4px)"}}),m.jsx("button",{onClick:()=>{r(!0),f("")},className:`flex-1 relative z-10 text-sm font-bold py-2 rounded-lg transition-colors ${n?"text-blue-700":"text-slate-500 hover:text-slate-700"}`,children:"Sign In"}),m.jsx("button",{onClick:()=>{r(!1),f("")},className:`flex-1 relative z-10 text-sm font-bold py-2 rounded-lg transition-colors ${n?"text-slate-500 hover:text-slate-700":"text-blue-700"}`,children:"Sign Up"})]}),m.jsx(ku,{mode:"wait",children:m.jsxs(Mn.form,{initial:{opacity:0,x:n?-20:20},animate:{opacity:1,x:0},exit:{opacity:0,x:n?20:-20},transition:{duration:.2},className:"space-y-5",onSubmit:g,children:[c&&m.jsxs(Mn.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-xl flex items-start gap-3 text-sm",children:[m.jsx(dM,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),m.jsx("span",{children:c})]}),m.jsxs("div",{className:"space-y-1",children:[m.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider ml-1",children:"Email"}),m.jsxs("div",{className:"relative group",children:[m.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:m.jsx(Xy,{className:"h-5 w-5 text-slate-400 group-focus-within:text-blue-500 transition-colors"})}),m.jsx("input",{type:"email",required:!0,value:s,onChange:y=>i(y.target.value),placeholder:"your@email.com",className:"block w-full pl-10 pr-3 py-3 border border-slate-200 rounded-xl text-slate-800 placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all bg-slate-50 focus:bg-white"})]})]}),m.jsxs("div",{className:"space-y-1",children:[m.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider ml-1",children:"Password"}),m.jsxs("div",{className:"relative group",children:[m.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:m.jsx(nW,{className:"h-5 w-5 text-slate-400 group-focus-within:text-blue-500 transition-colors"})}),m.jsx("input",{type:"password",required:!0,minLength:6,value:a,onChange:y=>o(y.target.value),placeholder:"",className:"block w-full pl-10 pr-3 py-3 border border-slate-200 rounded-xl text-slate-800 placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all bg-slate-50 focus:bg-white"})]})]}),m.jsx("button",{type:"submit",disabled:d,className:`w-full flex justify-center items-center gap-2 py-3.5 px-4 rounded-xl text-sm font-bold text-white transition-all shadow-lg hover:shadow-blue-500/30 active:scale-[0.98] ${d?"bg-slate-400 cursor-not-allowed":"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700"}`,children:d?"Processing...":m.jsxs(m.Fragment,{children:[n?"Sign In":"Create Account",m.jsx(pG,{className:"w-4 h-4"})]})})]},n?"login":"signup")}),m.jsxs("div",{className:"mt-8 pt-6 border-t border-slate-100 text-center",children:[m.jsx("p",{className:"text-xs text-slate-400",children:n?"Don't have an account yet?":"Already have an account?"}),m.jsx("button",{onClick:()=>{r(!n),f("")},className:"text-sm font-bold text-blue-600 hover:text-blue-700 mt-1 hover:underline",children:n?"Sign up for free":"Log in to existing account"})]})]})]})})]})},sye=()=>{const t=`rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    
    // Allow user to read/write their own company profile
    match /companies/{userId} {
      allow read, write: if request.auth != null && request.auth.uid == userId;
    }
    
    // Allow user to read/write their own data in 'users' collection
    match /users/{userId}/{document=**} {
      allow read, write: if request.auth != null && request.auth.uid == userId;
    }
    
  }
}`,e=()=>{navigator.clipboard.writeText(t),alert("Rules copied to clipboard!")};return m.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-sm flex items-center justify-center z-[100] p-4",children:m.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl overflow-hidden border border-red-200",children:[m.jsxs("div",{className:"bg-red-50 p-6 border-b border-red-100 flex items-start gap-4",children:[m.jsx("div",{className:"bg-red-100 p-3 rounded-full",children:m.jsx(wW,{className:"w-8 h-8 text-red-600"})}),m.jsxs("div",{children:[m.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"Database Permission Error"}),m.jsxs("p",{className:"text-slate-600 mt-1",children:["The application cannot access the database. This usually happens when ",m.jsx("strong",{children:"Firestore Security Rules"})," are missing or incorrect."]})]})]}),m.jsxs("div",{className:"p-6 space-y-6",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"text-sm font-semibold text-slate-900 uppercase tracking-wider mb-3",children:"Action Required: Update Firebase Rules"}),m.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-slate-600 text-sm mb-4",children:[m.jsxs("li",{children:["Go to your ",m.jsx("strong",{children:"Firebase Console"})," > ",m.jsx("strong",{children:"Firestore Database"})," > ",m.jsx("strong",{children:"Rules"})," tab."]}),m.jsx("li",{children:"Replace the existing rules with the code below."}),m.jsxs("li",{children:["Click ",m.jsx("strong",{children:"Publish"}),"."]})]})]}),m.jsxs("div",{className:"relative",children:[m.jsx("pre",{className:"bg-slate-900 text-slate-50 p-4 rounded-lg text-xs font-mono overflow-x-auto leading-relaxed border border-slate-700",children:t}),m.jsxs("button",{onClick:e,className:"absolute top-2 right-2 bg-white/10 hover:bg-white/20 text-white px-3 py-1.5 rounded text-xs font-medium flex items-center gap-2 transition-colors",children:[m.jsx(FG,{className:"w-3 h-3"})," Copy"]})]}),m.jsxs("div",{className:"flex justify-end gap-3",children:[m.jsxs("a",{href:"https://console.firebase.google.com",target:"_blank",rel:"noreferrer",className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium text-sm transition-colors",children:["Open Firebase Console ",m.jsx(rM,{className:"w-4 h-4"})]}),m.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-slate-100 text-slate-700 rounded-lg hover:bg-slate-200 font-medium text-sm transition-colors",children:"I've Updated Rules, Reload App"})]})]})]})})},iye=()=>{const{user:t,loading:e}=k1(),{company:n,loading:r,permissionError:s}=Eh(),{theme:i,setTheme:a}=D7(),[o,c]=ke.useState(rn.DASHBOARD),[f,d]=ke.useState(null),[p,g]=ke.useState(null),[y,E]=ke.useState(null),[b,A]=ke.useState([]),[N,V]=ke.useState(!0),[k,B]=ke.useState(!1),[W,K]=ke.useState(!1),[D,L]=ke.useState(null),[R,q]=ke.useState(null),[P,M]=ke.useState(!1),[H,ae]=ke.useState(!1),[Se,oe]=ke.useState(!1);ke.useEffect(()=>{(async()=>{await et.init(t?.uid||null),A(et.getInvoices());const ne=!!et.getFirebaseConfig(),ye=ir.isReady();B(ne&&ye),V(!1)})()},[t]),ke.useEffect(()=>{N||(async()=>{try{(await vg.checkPermissions()).contacts!=="granted"&&await vg.requestPermissions()}catch(ne){console.warn("Permission request error on startup:",ne)}})()},[N]),ke.useEffect(()=>{N||A(et.getInvoices())},[o,N]);const ve=Y=>{d(Y),c(rn.VIEW_INVOICE)},Ie=Y=>{E(Y),c(rn.CUSTOMER_LEDGER)},xe=Y=>{g(Y),c(rn.EDIT_INVOICE)},Re=(Y,ne=!1)=>{o===rn.EDIT_INVOICE?et.updateInvoice(Y):et.saveInvoice(Y),A(et.getInvoices()),d(Y),oe(ne),c(rn.VIEW_INVOICE),g(null)},re=Y=>{const ne=et.getCustomers().find(pe=>pe.id===Y.customerId),ye=et.getCompanyProfile();S2.shareInvoice(Y,ne,ye)},O=Y=>{L(Y),c(rn.DAYBOOK)};if(e||t&&r||N)return m.jsxs("div",{className:"flex h-screen w-full items-center justify-center bg-white dark:bg-slate-950 flex-col gap-6 animate-pulse",children:[m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"w-20 h-20 rounded-3xl bg-blue-600 flex items-center justify-center shadow-2xl shadow-blue-500/20 rotate-12",children:m.jsx(s5,{className:"w-10 h-10 text-white -rotate-12"})}),m.jsx("div",{className:"absolute -bottom-2 -right-2 w-8 h-8 rounded-full bg-emerald-500 border-4 border-white dark:border-slate-950 flex items-center justify-center",children:m.jsx("div",{className:"w-2 h-2 rounded-full bg-white animate-ping"})})]}),m.jsxs("div",{className:"text-center",children:[m.jsx("h1",{className:"text-2xl font-black text-slate-900 dark:text-white tracking-tighter uppercase italic",children:"BillBook"}),m.jsx("p",{className:"text-slate-400 text-[10px] font-black uppercase tracking-[0.2em] mt-1",children:"Initializing Secure Session"})]})]});if(s)return m.jsx(sye,{});if(!t)return m.jsx(rye,{});if(!n)return m.jsx(nye,{});if(N)return m.jsxs("div",{className:"flex h-screen w-full items-center justify-center bg-slate-50 flex-col gap-4",children:[m.jsx(iM,{className:"w-10 h-10 text-blue-600 animate-spin"}),m.jsx("p",{className:"text-slate-500 font-medium",children:"Loading Data..."})]});const J=()=>{g(null),ae(!1),c(rn.CREATE_INVOICE)},U=()=>{g(null),ae(!0),c(rn.CREATE_INVOICE)};return m.jsxs("div",{className:"flex h-screen bg-slate-50 dark:bg-slate-900 overflow-hidden font-sans flex-col md:flex-row",children:[m.jsxs("div",{className:`
          fixed inset-0 z-[100] md:relative md:z-auto
          ${P?"flex":"hidden md:flex"}
        `,children:[m.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-md md:hidden",onClick:()=>M(!1)}),m.jsx("div",{className:"relative h-full animate-in slide-in-from-left duration-300",children:m.jsx($ee,{currentView:o,onClose:()=>M(!1),onChangeView:Y=>{Y===rn.CREATE_INVOICE&&(g(null),ae(!1)),Y===rn.IMPORT?K(!0):c(Y),M(!1)},isCloudConnected:k||!!t})})]}),m.jsxs("main",{className:"flex-1 overflow-y-auto h-full relative w-full scroll-smooth bg-slate-50 dark:bg-slate-900",children:[!["VIEW_INVOICE","CREATE_INVOICE","EDIT_INVOICE"].includes(o)&&m.jsxs("div",{className:"md:hidden sticky top-0 z-30 bg-white/80 dark:bg-slate-950/80 backdrop-blur-md px-4 h-16 flex items-center justify-between border-b border-slate-200/50 dark:border-slate-800/50 shadow-sm",children:[m.jsx("button",{onClick:()=>M(!0),className:"p-2 -ml-2 rounded-xl text-slate-600 dark:text-slate-400 active:bg-slate-100 dark:active:bg-slate-800",children:m.jsx(s5,{className:"w-6 h-6"})}),m.jsxs("div",{className:"flex-1 text-center px-4 overflow-hidden",children:[m.jsx("h2",{className:"text-sm font-black text-slate-900 dark:text-slate-100 uppercase tracking-tighter truncate leading-tight",children:n?.name||"BillBook"}),m.jsx("p",{className:"text-[9px] text-blue-600 dark:text-blue-400 font-black uppercase tracking-widest leading-tight",children:o.replace("_"," ")})]}),m.jsx("button",{onClick:()=>{a(i==="dark"?"light":"dark"),Zs.medium()},className:"p-2 -mr-2 rounded-xl text-slate-600 dark:text-slate-400 active:bg-slate-100 dark:active:bg-slate-800",children:i==="dark"?m.jsx(fM,{className:"w-6 h-6 text-yellow-500"}):m.jsx(lM,{className:"w-6 h-6 text-blue-600"})})]}),m.jsx(ku,{mode:"wait",children:m.jsxs(Mn.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"w-full h-full",children:[o===rn.DASHBOARD&&m.jsx(eye,{invoices:b,onViewInvoice:ve,onViewCustomerLedger:Ie,onViewDaybook:O,onQuickShare:re,onCreateInvoice:J,onOpenReports:()=>c(rn.REPORTS),onAddCustomer:()=>c(rn.CUSTOMERS),onOpenSmartCalc:U}),o===rn.INVOICES&&m.jsx(cP,{invoices:b,onView:ve,onEdit:xe,onViewLedger:Ie,onDelete:Y=>{et.deleteInvoice(Y.id),A(et.getInvoices())}}),o===rn.ALL_INVOICES&&m.jsx(cP,{invoices:b,onView:ve,onEdit:xe,onViewLedger:Ie,onDelete:Y=>{et.deleteInvoice(Y.id),A(et.getInvoices())}}),o===rn.DAYBOOK&&m.jsx(Kue,{initialDate:D}),o===rn.INVENTORY&&m.jsx(Gue,{}),o===rn.EXPENSES&&m.jsx(Xue,{onBack:()=>c(rn.DASHBOARD)}),o===rn.PAYMENTS&&m.jsx(Jue,{onBack:()=>{c(rn.DASHBOARD),q(null)},initialPayment:R}),o===rn.REPORTS&&m.jsx(tye,{onBack:()=>c(rn.DASHBOARD),onViewLedger:Ie}),o===rn.CUSTOMERS&&m.jsx(Wue,{onEditInvoice:xe,onBack:()=>c(rn.DASHBOARD)}),o===rn.SETTINGS&&m.jsx($ue,{}),o===rn.IMPORT&&m.jsx(pD,{onClose:()=>c(rn.DASHBOARD),onImportComplete:()=>{}}),o===rn.CUSTOMER_LEDGER&&y&&m.jsx(Zxe,{customerId:y,onBack:()=>c(rn.DASHBOARD),onViewInvoice:ve,onEditPayment:Y=>{q(Y),c(rn.PAYMENTS)}}),o===rn.CREATE_INVOICE&&m.jsx(lP,{onSave:Re,onCancel:()=>c(rn.INVOICES),startSmartCalc:H}),o===rn.EDIT_INVOICE&&p&&m.jsx(lP,{onSave:Re,onCancel:()=>c(rn.INVOICES),initialInvoice:p}),o===rn.VIEW_INVOICE&&f&&m.jsx(r9,{invoice:f,onBack:()=>c(rn.INVOICES),onEdit:xe,showPostSaveActions:Se,onClosePostSaveActions:()=>oe(!1)})]},o)})]}),m.jsx("div",{className:"md:hidden",children:m.jsx(Kee,{currentView:o,onChangeView:Y=>{Y===rn.CREATE_INVOICE&&(g(null),ae(!1)),Y===rn.IMPORT?K(!0):c(Y)}})}),W&&o!==rn.IMPORT&&m.jsx(pD,{onClose:()=>K(!1),onImportComplete:()=>{A(et.getInvoices()),c(rn.INVENTORY)}})]})},aye=()=>m.jsx(See,{children:m.jsx(xue,{children:m.jsx(iye,{})})});ZV.createRoot(document.getElementById("root")).render(m.jsx(Iee,{attribute:"class",defaultTheme:"system",enableSystem:!0,children:m.jsx(aye,{})}));export{RR as E,q0 as I,q3 as N,oS as W,Ur as _,zee as b,oye as c,mD as g};
