(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var aye=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function yD(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Kb={exports:{}},Om={};var f4;function $V(){if(f4)return Om;f4=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,s){var a=null;if(s!==void 0&&(a=""+s),i.key!==void 0&&(a=""+i.key),"key"in i){s={};for(var o in i)o!=="key"&&(s[o]=i[o])}else s=i;return i=s.ref,{$$typeof:t,type:r,key:a,ref:i!==void 0?i:null,props:s}}return Om.Fragment=e,Om.jsx=n,Om.jsxs=n,Om}var d4;function KV(){return d4||(d4=1,Kb.exports=$V()),Kb.exports}var p=KV(),Yb={exports:{}},Bm={},Xb={exports:{}},Jb={};var h4;function YV(){return h4||(h4=1,(function(t){function e(fe,xe){var Ne=fe.length;fe.push(xe);e:for(;0<Ne;){var me=Ne-1>>>1,Re=fe[me];if(0<i(Re,xe))fe[me]=xe,fe[Ne]=Re,Ne=me;else break e}}function n(fe){return fe.length===0?null:fe[0]}function r(fe){if(fe.length===0)return null;var xe=fe[0],Ne=fe.pop();if(Ne!==xe){fe[0]=Ne;e:for(var me=0,Re=fe.length,re=Re>>>1;me<re;){var B=2*(me+1)-1,Y=fe[B],X=B+1,Q=fe[X];if(0>i(Y,Ne))X<Re&&0>i(Q,Y)?(fe[me]=Q,fe[X]=Ne,me=X):(fe[me]=Y,fe[B]=Ne,me=B);else if(X<Re&&0>i(Q,Ne))fe[me]=Q,fe[X]=Ne,me=X;else break e}}return xe}function i(fe,xe){var Ne=fe.sortIndex-xe.sortIndex;return Ne!==0?Ne:fe.id-xe.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var c=[],f=[],d=1,m=null,g=3,y=!1,E=!1,_=!1,A=!1,C=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function F(fe){for(var xe=n(f);xe!==null;){if(xe.callback===null)r(f);else if(xe.startTime<=fe)r(f),xe.sortIndex=xe.expirationTime,e(c,xe);else break;xe=n(f)}}function z(fe){if(_=!1,F(fe),!E)if(n(c)!==null)E=!0,W||(W=!0,M());else{var xe=n(f);xe!==null&&Ae(z,xe.startTime-fe)}}var W=!1,D=-1,L=5,k=-1;function q(){return A?!0:!(t.unstable_now()-k<L)}function P(){if(A=!1,W){var fe=t.unstable_now();k=fe;var xe=!0;try{e:{E=!1,_&&(_=!1,V(D),D=-1),y=!0;var Ne=g;try{t:{for(F(fe),m=n(c);m!==null&&!(m.expirationTime>fe&&q());){var me=m.callback;if(typeof me=="function"){m.callback=null,g=m.priorityLevel;var Re=me(m.expirationTime<=fe);if(fe=t.unstable_now(),typeof Re=="function"){m.callback=Re,F(fe),xe=!0;break t}m===n(c)&&r(c),F(fe)}else r(c);m=n(c)}if(m!==null)xe=!0;else{var re=n(f);re!==null&&Ae(z,re.startTime-fe),xe=!1}}break e}finally{m=null,g=Ne,y=!1}xe=void 0}}finally{xe?M():W=!1}}}var M;if(typeof R=="function")M=function(){R(P)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,ae=j.port2;j.port1.onmessage=P,M=function(){ae.postMessage(null)}}else M=function(){C(P,0)};function Ae(fe,xe){D=C(function(){fe(t.unstable_now())},xe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(fe){fe.callback=null},t.unstable_forceFrameRate=function(fe){0>fe||125<fe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<fe?Math.floor(1e3/fe):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_next=function(fe){switch(g){case 1:case 2:case 3:var xe=3;break;default:xe=g}var Ne=g;g=xe;try{return fe()}finally{g=Ne}},t.unstable_requestPaint=function(){A=!0},t.unstable_runWithPriority=function(fe,xe){switch(fe){case 1:case 2:case 3:case 4:case 5:break;default:fe=3}var Ne=g;g=fe;try{return xe()}finally{g=Ne}},t.unstable_scheduleCallback=function(fe,xe,Ne){var me=t.unstable_now();switch(typeof Ne=="object"&&Ne!==null?(Ne=Ne.delay,Ne=typeof Ne=="number"&&0<Ne?me+Ne:me):Ne=me,fe){case 1:var Re=-1;break;case 2:Re=250;break;case 5:Re=1073741823;break;case 4:Re=1e4;break;default:Re=5e3}return Re=Ne+Re,fe={id:d++,callback:xe,priorityLevel:fe,startTime:Ne,expirationTime:Re,sortIndex:-1},Ne>me?(fe.sortIndex=Ne,e(f,fe),n(c)===null&&fe===n(f)&&(_?(V(D),D=-1):_=!0,Ae(z,Ne-me))):(fe.sortIndex=Re,e(c,fe),E||y||(E=!0,W||(W=!0,M()))),fe},t.unstable_shouldYield=q,t.unstable_wrapCallback=function(fe){var xe=g;return function(){var Ne=g;g=xe;try{return fe.apply(this,arguments)}finally{g=Ne}}}})(Jb)),Jb}var p4;function XV(){return p4||(p4=1,Xb.exports=YV()),Xb.exports}var Qb={exports:{}},Vn={};var m4;function JV(){if(m4)return Vn;m4=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),a=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),g=Symbol.iterator;function y(re){return re===null||typeof re!="object"?null:(re=g&&re[g]||re["@@iterator"],typeof re=="function"?re:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,A={};function C(re,B,Y){this.props=re,this.context=B,this.refs=A,this.updater=Y||E}C.prototype.isReactComponent={},C.prototype.setState=function(re,B){if(typeof re!="object"&&typeof re!="function"&&re!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,re,B,"setState")},C.prototype.forceUpdate=function(re){this.updater.enqueueForceUpdate(this,re,"forceUpdate")};function V(){}V.prototype=C.prototype;function R(re,B,Y){this.props=re,this.context=B,this.refs=A,this.updater=Y||E}var F=R.prototype=new V;F.constructor=R,_(F,C.prototype),F.isPureReactComponent=!0;var z=Array.isArray;function W(){}var D={H:null,A:null,T:null,S:null},L=Object.prototype.hasOwnProperty;function k(re,B,Y){var X=Y.ref;return{$$typeof:t,type:re,key:B,ref:X!==void 0?X:null,props:Y}}function q(re,B){return k(re.type,B,re.props)}function P(re){return typeof re=="object"&&re!==null&&re.$$typeof===t}function M(re){var B={"=":"=0",":":"=2"};return"$"+re.replace(/[=:]/g,function(Y){return B[Y]})}var j=/\/+/g;function ae(re,B){return typeof re=="object"&&re!==null&&re.key!=null?M(""+re.key):B.toString(36)}function Ae(re){switch(re.status){case"fulfilled":return re.value;case"rejected":throw re.reason;default:switch(typeof re.status=="string"?re.then(W,W):(re.status="pending",re.then(function(B){re.status==="pending"&&(re.status="fulfilled",re.value=B)},function(B){re.status==="pending"&&(re.status="rejected",re.reason=B)})),re.status){case"fulfilled":return re.value;case"rejected":throw re.reason}}throw re}function fe(re,B,Y,X,Q){var ce=typeof re;(ce==="undefined"||ce==="boolean")&&(re=null);var _e=!1;if(re===null)_e=!0;else switch(ce){case"bigint":case"string":case"number":_e=!0;break;case"object":switch(re.$$typeof){case t:case e:_e=!0;break;case d:return _e=re._init,fe(_e(re._payload),B,Y,X,Q)}}if(_e)return Q=Q(re),_e=X===""?"."+ae(re,0):X,z(Q)?(Y="",_e!=null&&(Y=_e.replace(j,"$&/")+"/"),fe(Q,B,Y,"",function(Ce){return Ce})):Q!=null&&(P(Q)&&(Q=q(Q,Y+(Q.key==null||re&&re.key===Q.key?"":(""+Q.key).replace(j,"$&/")+"/")+_e)),B.push(Q)),1;_e=0;var Pe=X===""?".":X+":";if(z(re))for(var Z=0;Z<re.length;Z++)X=re[Z],ce=Pe+ae(X,Z),_e+=fe(X,B,Y,ce,Q);else if(Z=y(re),typeof Z=="function")for(re=Z.call(re),Z=0;!(X=re.next()).done;)X=X.value,ce=Pe+ae(X,Z++),_e+=fe(X,B,Y,ce,Q);else if(ce==="object"){if(typeof re.then=="function")return fe(Ae(re),B,Y,X,Q);throw B=String(re),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(re).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.")}return _e}function xe(re,B,Y){if(re==null)return re;var X=[],Q=0;return fe(re,X,"","",function(ce){return B.call(Y,ce,Q++)}),X}function Ne(re){if(re._status===-1){var B=re._result;B=B(),B.then(function(Y){(re._status===0||re._status===-1)&&(re._status=1,re._result=Y)},function(Y){(re._status===0||re._status===-1)&&(re._status=2,re._result=Y)}),re._status===-1&&(re._status=0,re._result=B)}if(re._status===1)return re._result.default;throw re._result}var me=typeof reportError=="function"?reportError:function(re){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var B=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof re=="object"&&re!==null&&typeof re.message=="string"?String(re.message):String(re),error:re});if(!window.dispatchEvent(B))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",re);return}console.error(re)},Re={map:xe,forEach:function(re,B,Y){xe(re,function(){B.apply(this,arguments)},Y)},count:function(re){var B=0;return xe(re,function(){B++}),B},toArray:function(re){return xe(re,function(B){return B})||[]},only:function(re){if(!P(re))throw Error("React.Children.only expected to receive a single React element child.");return re}};return Vn.Activity=m,Vn.Children=Re,Vn.Component=C,Vn.Fragment=n,Vn.Profiler=i,Vn.PureComponent=R,Vn.StrictMode=r,Vn.Suspense=c,Vn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Vn.__COMPILER_RUNTIME={__proto__:null,c:function(re){return D.H.useMemoCache(re)}},Vn.cache=function(re){return function(){return re.apply(null,arguments)}},Vn.cacheSignal=function(){return null},Vn.cloneElement=function(re,B,Y){if(re==null)throw Error("The argument must be a React element, but you passed "+re+".");var X=_({},re.props),Q=re.key;if(B!=null)for(ce in B.key!==void 0&&(Q=""+B.key),B)!L.call(B,ce)||ce==="key"||ce==="__self"||ce==="__source"||ce==="ref"&&B.ref===void 0||(X[ce]=B[ce]);var ce=arguments.length-2;if(ce===1)X.children=Y;else if(1<ce){for(var _e=Array(ce),Pe=0;Pe<ce;Pe++)_e[Pe]=arguments[Pe+2];X.children=_e}return k(re.type,Q,X)},Vn.createContext=function(re){return re={$$typeof:a,_currentValue:re,_currentValue2:re,_threadCount:0,Provider:null,Consumer:null},re.Provider=re,re.Consumer={$$typeof:s,_context:re},re},Vn.createElement=function(re,B,Y){var X,Q={},ce=null;if(B!=null)for(X in B.key!==void 0&&(ce=""+B.key),B)L.call(B,X)&&X!=="key"&&X!=="__self"&&X!=="__source"&&(Q[X]=B[X]);var _e=arguments.length-2;if(_e===1)Q.children=Y;else if(1<_e){for(var Pe=Array(_e),Z=0;Z<_e;Z++)Pe[Z]=arguments[Z+2];Q.children=Pe}if(re&&re.defaultProps)for(X in _e=re.defaultProps,_e)Q[X]===void 0&&(Q[X]=_e[X]);return k(re,ce,Q)},Vn.createRef=function(){return{current:null}},Vn.forwardRef=function(re){return{$$typeof:o,render:re}},Vn.isValidElement=P,Vn.lazy=function(re){return{$$typeof:d,_payload:{_status:-1,_result:re},_init:Ne}},Vn.memo=function(re,B){return{$$typeof:f,type:re,compare:B===void 0?null:B}},Vn.startTransition=function(re){var B=D.T,Y={};D.T=Y;try{var X=re(),Q=D.S;Q!==null&&Q(Y,X),typeof X=="object"&&X!==null&&typeof X.then=="function"&&X.then(W,me)}catch(ce){me(ce)}finally{B!==null&&Y.types!==null&&(B.types=Y.types),D.T=B}},Vn.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Vn.use=function(re){return D.H.use(re)},Vn.useActionState=function(re,B,Y){return D.H.useActionState(re,B,Y)},Vn.useCallback=function(re,B){return D.H.useCallback(re,B)},Vn.useContext=function(re){return D.H.useContext(re)},Vn.useDebugValue=function(){},Vn.useDeferredValue=function(re,B){return D.H.useDeferredValue(re,B)},Vn.useEffect=function(re,B){return D.H.useEffect(re,B)},Vn.useEffectEvent=function(re){return D.H.useEffectEvent(re)},Vn.useId=function(){return D.H.useId()},Vn.useImperativeHandle=function(re,B,Y){return D.H.useImperativeHandle(re,B,Y)},Vn.useInsertionEffect=function(re,B){return D.H.useInsertionEffect(re,B)},Vn.useLayoutEffect=function(re,B){return D.H.useLayoutEffect(re,B)},Vn.useMemo=function(re,B){return D.H.useMemo(re,B)},Vn.useOptimistic=function(re,B){return D.H.useOptimistic(re,B)},Vn.useReducer=function(re,B,Y){return D.H.useReducer(re,B,Y)},Vn.useRef=function(re){return D.H.useRef(re)},Vn.useState=function(re){return D.H.useState(re)},Vn.useSyncExternalStore=function(re,B,Y){return D.H.useSyncExternalStore(re,B,Y)},Vn.useTransition=function(){return D.H.useTransition()},Vn.version="19.2.0",Vn}var g4;function bT(){return g4||(g4=1,Qb.exports=JV()),Qb.exports}var Zb={exports:{}},ma={};var x4;function QV(){if(x4)return ma;x4=1;var t=bT();function e(c){var f="https://react.dev/errors/"+c;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)f+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+c+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(c,f,d){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:m==null?null:""+m,children:c,containerInfo:f,implementation:d}}var a=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(c,f){if(c==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return ma.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,ma.createPortal=function(c,f){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return s(c,f,null,d)},ma.flushSync=function(c){var f=a.T,d=r.p;try{if(a.T=null,r.p=2,c)return c()}finally{a.T=f,r.p=d,r.d.f()}},ma.preconnect=function(c,f){typeof c=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(c,f))},ma.prefetchDNS=function(c){typeof c=="string"&&r.d.D(c)},ma.preinit=function(c,f){if(typeof c=="string"&&f&&typeof f.as=="string"){var d=f.as,m=o(d,f.crossOrigin),g=typeof f.integrity=="string"?f.integrity:void 0,y=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;d==="style"?r.d.S(c,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:m,integrity:g,fetchPriority:y}):d==="script"&&r.d.X(c,{crossOrigin:m,integrity:g,fetchPriority:y,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},ma.preinitModule=function(c,f){if(typeof c=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var d=o(f.as,f.crossOrigin);r.d.M(c,{crossOrigin:d,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(c)},ma.preload=function(c,f){if(typeof c=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var d=f.as,m=o(d,f.crossOrigin);r.d.L(c,d,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},ma.preloadModule=function(c,f){if(typeof c=="string")if(f){var d=o(f.as,f.crossOrigin);r.d.m(c,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:d,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(c)},ma.requestFormReset=function(c){r.d.r(c)},ma.unstable_batchedUpdates=function(c,f){return c(f)},ma.useFormState=function(c,f,d){return a.H.useFormState(c,f,d)},ma.useFormStatus=function(){return a.H.useHostTransitionStatus()},ma.version="19.2.0",ma}var y4;function vD(){if(y4)return Zb.exports;y4=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Zb.exports=QV(),Zb.exports}var v4;function ZV(){if(v4)return Bm;v4=1;var t=XV(),e=bT(),n=vD();function r(l){var u="https://react.dev/errors/"+l;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)u+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function s(l){var u=l,h=l;if(l.alternate)for(;u.return;)u=u.return;else{l=u;do u=l,(u.flags&4098)!==0&&(h=u.return),l=u.return;while(l)}return u.tag===3?h:null}function a(l){if(l.tag===13){var u=l.memoizedState;if(u===null&&(l=l.alternate,l!==null&&(u=l.memoizedState)),u!==null)return u.dehydrated}return null}function o(l){if(l.tag===31){var u=l.memoizedState;if(u===null&&(l=l.alternate,l!==null&&(u=l.memoizedState)),u!==null)return u.dehydrated}return null}function c(l){if(s(l)!==l)throw Error(r(188))}function f(l){var u=l.alternate;if(!u){if(u=s(l),u===null)throw Error(r(188));return u!==l?null:l}for(var h=l,x=u;;){var S=h.return;if(S===null)break;var I=S.alternate;if(I===null){if(x=S.return,x!==null){h=x;continue}break}if(S.child===I.child){for(I=S.child;I;){if(I===h)return c(S),l;if(I===x)return c(S),u;I=I.sibling}throw Error(r(188))}if(h.return!==x.return)h=S,x=I;else{for(var K=!1,ue=S.child;ue;){if(ue===h){K=!0,h=S,x=I;break}if(ue===x){K=!0,x=S,h=I;break}ue=ue.sibling}if(!K){for(ue=I.child;ue;){if(ue===h){K=!0,h=I,x=S;break}if(ue===x){K=!0,x=I,h=S;break}ue=ue.sibling}if(!K)throw Error(r(189))}}if(h.alternate!==x)throw Error(r(190))}if(h.tag!==3)throw Error(r(188));return h.stateNode.current===h?l:u}function d(l){var u=l.tag;if(u===5||u===26||u===27||u===6)return l;for(l=l.child;l!==null;){if(u=d(l),u!==null)return u;l=l.sibling}return null}var m=Object.assign,g=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),V=Symbol.for("react.consumer"),R=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),q=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function M(l){return l===null||typeof l!="object"?null:(l=P&&l[P]||l["@@iterator"],typeof l=="function"?l:null)}var j=Symbol.for("react.client.reference");function ae(l){if(l==null)return null;if(typeof l=="function")return l.$$typeof===j?null:l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case _:return"Fragment";case C:return"Profiler";case A:return"StrictMode";case z:return"Suspense";case W:return"SuspenseList";case k:return"Activity"}if(typeof l=="object")switch(l.$$typeof){case E:return"Portal";case R:return l.displayName||"Context";case V:return(l._context.displayName||"Context")+".Consumer";case F:var u=l.render;return l=l.displayName,l||(l=u.displayName||u.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case D:return u=l.displayName||null,u!==null?u:ae(l.type)||"Memo";case L:u=l._payload,l=l._init;try{return ae(l(u))}catch{}}return null}var Ae=Array.isArray,fe=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,xe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ne={pending:!1,data:null,method:null,action:null},me=[],Re=-1;function re(l){return{current:l}}function B(l){0>Re||(l.current=me[Re],me[Re]=null,Re--)}function Y(l,u){Re++,me[Re]=l.current,l.current=u}var X=re(null),Q=re(null),ce=re(null),_e=re(null);function Pe(l,u){switch(Y(ce,u),Y(Q,l),Y(X,null),u.nodeType){case 9:case 11:l=(l=u.documentElement)&&(l=l.namespaceURI)?MN(l):0;break;default:if(l=u.tagName,u=u.namespaceURI)u=MN(u),l=LN(u,l);else switch(l){case"svg":l=1;break;case"math":l=2;break;default:l=0}}B(X),Y(X,l)}function Z(){B(X),B(Q),B(ce)}function Ce(l){l.memoizedState!==null&&Y(_e,l);var u=X.current,h=LN(u,l.type);u!==h&&(Y(Q,l),Y(X,h))}function qe(l){Q.current===l&&(B(X),B(Q)),_e.current===l&&(B(_e),Dm._currentValue=Ne)}var ee,Ie;function Ye(l){if(ee===void 0)try{throw Error()}catch(h){var u=h.stack.trim().match(/\n( *(at )?)/);ee=u&&u[1]||"",Ie=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ee+l+Ie}var oe=!1;function rt(l,u){if(!l||oe)return"";oe=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var x={DetermineComponentFrameRoot:function(){try{if(u){var xt=function(){throw Error()};if(Object.defineProperty(xt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(xt,[])}catch(ot){var nt=ot}Reflect.construct(l,[],xt)}else{try{xt.call()}catch(ot){nt=ot}l.call(xt.prototype)}}else{try{throw Error()}catch(ot){nt=ot}(xt=l())&&typeof xt.catch=="function"&&xt.catch(function(){})}}catch(ot){if(ot&&nt&&typeof ot.stack=="string")return[ot.stack,nt.stack]}return[null,null]}};x.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var S=Object.getOwnPropertyDescriptor(x.DetermineComponentFrameRoot,"name");S&&S.configurable&&Object.defineProperty(x.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var I=x.DetermineComponentFrameRoot(),K=I[0],ue=I[1];if(K&&ue){var De=K.split(`
`),Ze=ue.split(`
`);for(S=x=0;x<De.length&&!De[x].includes("DetermineComponentFrameRoot");)x++;for(;S<Ze.length&&!Ze[S].includes("DetermineComponentFrameRoot");)S++;if(x===De.length||S===Ze.length)for(x=De.length-1,S=Ze.length-1;1<=x&&0<=S&&De[x]!==Ze[S];)S--;for(;1<=x&&0<=S;x--,S--)if(De[x]!==Ze[S]){if(x!==1||S!==1)do if(x--,S--,0>S||De[x]!==Ze[S]){var ht=`
`+De[x].replace(" at new "," at ");return l.displayName&&ht.includes("<anonymous>")&&(ht=ht.replace("<anonymous>",l.displayName)),ht}while(1<=x&&0<=S);break}}}finally{oe=!1,Error.prepareStackTrace=h}return(h=l?l.displayName||l.name:"")?Ye(h):""}function st(l,u){switch(l.tag){case 26:case 27:case 5:return Ye(l.type);case 16:return Ye("Lazy");case 13:return l.child!==u&&u!==null?Ye("Suspense Fallback"):Ye("Suspense");case 19:return Ye("SuspenseList");case 0:case 15:return rt(l.type,!1);case 11:return rt(l.type.render,!1);case 1:return rt(l.type,!0);case 31:return Ye("Activity");default:return""}}function ft(l){try{var u="",h=null;do u+=st(l,h),h=l,l=l.return;while(l);return u}catch(x){return`
Error generating stack: `+x.message+`
`+x.stack}}var tt=Object.prototype.hasOwnProperty,wt=t.unstable_scheduleCallback,At=t.unstable_cancelCallback,Pt=t.unstable_shouldYield,jt=t.unstable_requestPaint,Zt=t.unstable_now,Gt=t.unstable_getCurrentPriorityLevel,Wt=t.unstable_ImmediatePriority,Nn=t.unstable_UserBlockingPriority,en=t.unstable_NormalPriority,Ft=t.unstable_LowPriority,Rt=t.unstable_IdlePriority,Nt=t.log,qn=t.unstable_setDisableYieldValue,Bt=null,Ct=null;function zt(l){if(typeof Nt=="function"&&qn(l),Ct&&typeof Ct.setStrictMode=="function")try{Ct.setStrictMode(Bt,l)}catch{}}var xn=Math.clz32?Math.clz32:gn,cn=Math.log,Jn=Math.LN2;function gn(l){return l>>>=0,l===0?32:31-(cn(l)/Jn|0)|0}var dn=256,ar=262144,un=4194304;function Yt(l){var u=l&42;if(u!==0)return u;switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return l&261888;case 262144:case 524288:case 1048576:case 2097152:return l&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return l&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return l}}function Ln(l,u,h){var x=l.pendingLanes;if(x===0)return 0;var S=0,I=l.suspendedLanes,K=l.pingedLanes;l=l.warmLanes;var ue=x&134217727;return ue!==0?(x=ue&~I,x!==0?S=Yt(x):(K&=ue,K!==0?S=Yt(K):h||(h=ue&~l,h!==0&&(S=Yt(h))))):(ue=x&~I,ue!==0?S=Yt(ue):K!==0?S=Yt(K):h||(h=x&~l,h!==0&&(S=Yt(h)))),S===0?0:u!==0&&u!==S&&(u&I)===0&&(I=S&-S,h=u&-u,I>=h||I===32&&(h&4194048)!==0)?u:S}function oi(l,u){return(l.pendingLanes&~(l.suspendedLanes&~l.pingedLanes)&u)===0}function li(l,u){switch(l){case 1:case 2:case 4:case 8:case 64:return u+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Rs(){var l=un;return un<<=1,(un&62914560)===0&&(un=4194304),l}function Zr(l){for(var u=[],h=0;31>h;h++)u.push(l);return u}function hn(l,u){l.pendingLanes|=u,u!==268435456&&(l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0)}function Le(l,u,h,x,S,I){var K=l.pendingLanes;l.pendingLanes=h,l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0,l.expiredLanes&=h,l.entangledLanes&=h,l.errorRecoveryDisabledLanes&=h,l.shellSuspendCounter=0;var ue=l.entanglements,De=l.expirationTimes,Ze=l.hiddenUpdates;for(h=K&~h;0<h;){var ht=31-xn(h),xt=1<<ht;ue[ht]=0,De[ht]=-1;var nt=Ze[ht];if(nt!==null)for(Ze[ht]=null,ht=0;ht<nt.length;ht++){var ot=nt[ht];ot!==null&&(ot.lane&=-536870913)}h&=~xt}x!==0&&Lt(l,x,0),I!==0&&S===0&&l.tag!==0&&(l.suspendedLanes|=I&~(K&~u))}function Lt(l,u,h){l.pendingLanes|=u,l.suspendedLanes&=~u;var x=31-xn(u);l.entangledLanes|=u,l.entanglements[x]=l.entanglements[x]|1073741824|h&261930}function qt(l,u){var h=l.entangledLanes|=u;for(l=l.entanglements;h;){var x=31-xn(h),S=1<<x;S&u|l[x]&u&&(l[x]|=u),h&=~S}}function $n(l,u){var h=u&-u;return h=(h&42)!==0?1:tn(h),(h&(l.suspendedLanes|u))!==0?0:h}function tn(l){switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=128;break;case 268435456:l=134217728;break;default:l=0}return l}function Hn(l){return l&=-l,2<l?8<l?(l&134217727)!==0?32:268435456:8:2}function ie(){var l=xe.p;return l!==0?l:(l=window.event,l===void 0?32:i4(l.type))}function ve(l,u){var h=xe.p;try{return xe.p=l,u()}finally{xe.p=h}}var he=Math.random().toString(36).slice(2),ge="__reactFiber$"+he,be="__reactProps$"+he,we="__reactContainer$"+he,Ue="__reactEvents$"+he,at="__reactListeners$"+he,Be="__reactHandles$"+he,ze="__reactResources$"+he,Xe="__reactMarker$"+he;function bt(l){delete l[ge],delete l[be],delete l[Ue],delete l[at],delete l[Be]}function St(l){var u=l[ge];if(u)return u;for(var h=l.parentNode;h;){if(u=h[we]||h[ge]){if(h=u.alternate,u.child!==null||h!==null&&h.child!==null)for(l=qN(l);l!==null;){if(h=l[ge])return h;l=qN(l)}return u}l=h,h=l.parentNode}return null}function Mt(l){if(l=l[ge]||l[we]){var u=l.tag;if(u===5||u===6||u===13||u===31||u===26||u===27||u===3)return l}return null}function _t(l){var u=l.tag;if(u===5||u===26||u===27||u===6)return l.stateNode;throw Error(r(33))}function Dt(l){var u=l[ze];return u||(u=l[ze]={hoistableStyles:new Map,hoistableScripts:new Map}),u}function Xt(l){l[Xe]=!0}var mr=new Set,Gn={};function wr(l,u){Gi(l,u),Gi(l+"Capture",u)}function Gi(l,u){for(Gn[l]=u,l=0;l<u.length;l++)mr.add(u[l])}var $s=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ua={},Ps={};function wo(l){return tt.call(Ps,l)?!0:tt.call(ua,l)?!1:$s.test(l)?Ps[l]=!0:(ua[l]=!0,!1)}function ei(l,u,h){if(wo(u))if(h===null)l.removeAttribute(u);else{switch(typeof h){case"undefined":case"function":case"symbol":l.removeAttribute(u);return;case"boolean":var x=u.toLowerCase().slice(0,5);if(x!=="data-"&&x!=="aria-"){l.removeAttribute(u);return}}l.setAttribute(u,""+h)}}function ts(l,u,h){if(h===null)l.removeAttribute(u);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(u);return}l.setAttribute(u,""+h)}}function mi(l,u,h,x){if(x===null)l.removeAttribute(h);else{switch(typeof x){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(h);return}l.setAttributeNS(u,h,""+x)}}function Qn(l){switch(typeof l){case"bigint":case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function To(l){var u=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function fa(l,u,h){var x=Object.getOwnPropertyDescriptor(l.constructor.prototype,u);if(!l.hasOwnProperty(u)&&typeof x<"u"&&typeof x.get=="function"&&typeof x.set=="function"){var S=x.get,I=x.set;return Object.defineProperty(l,u,{configurable:!0,get:function(){return S.call(this)},set:function(K){h=""+K,I.call(this,K)}}),Object.defineProperty(l,u,{enumerable:x.enumerable}),{getValue:function(){return h},setValue:function(K){h=""+K},stopTracking:function(){l._valueTracker=null,delete l[u]}}}}function or(l){if(!l._valueTracker){var u=To(l)?"checked":"value";l._valueTracker=fa(l,u,""+l[u])}}function Ho(l){if(!l)return!1;var u=l._valueTracker;if(!u)return!0;var h=u.getValue(),x="";return l&&(x=To(l)?l.checked?"true":"false":l.value),l=x,l!==h?(u.setValue(l),!0):!1}function Si(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}var ti=/[\n"\\]/g;function gi(l){return l.replace(ti,function(u){return"\\"+u.charCodeAt(0).toString(16)+" "})}function bl(l,u,h,x,S,I,K,ue){l.name="",K!=null&&typeof K!="function"&&typeof K!="symbol"&&typeof K!="boolean"?l.type=K:l.removeAttribute("type"),u!=null?K==="number"?(u===0&&l.value===""||l.value!=u)&&(l.value=""+Qn(u)):l.value!==""+Qn(u)&&(l.value=""+Qn(u)):K!=="submit"&&K!=="reset"||l.removeAttribute("value"),u!=null?$c(l,K,Qn(u)):h!=null?$c(l,K,Qn(h)):x!=null&&l.removeAttribute("value"),S==null&&I!=null&&(l.defaultChecked=!!I),S!=null&&(l.checked=S&&typeof S!="function"&&typeof S!="symbol"),ue!=null&&typeof ue!="function"&&typeof ue!="symbol"&&typeof ue!="boolean"?l.name=""+Qn(ue):l.removeAttribute("name")}function Ku(l,u,h,x,S,I,K,ue){if(I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"&&(l.type=I),u!=null||h!=null){if(!(I!=="submit"&&I!=="reset"||u!=null)){or(l);return}h=h!=null?""+Qn(h):"",u=u!=null?""+Qn(u):h,ue||u===l.value||(l.value=u),l.defaultValue=u}x=x??S,x=typeof x!="function"&&typeof x!="symbol"&&!!x,l.checked=ue?l.checked:!!x,l.defaultChecked=!!x,K!=null&&typeof K!="function"&&typeof K!="symbol"&&typeof K!="boolean"&&(l.name=K),or(l)}function $c(l,u,h){u==="number"&&Si(l.ownerDocument)===l||l.defaultValue===""+h||(l.defaultValue=""+h)}function ps(l,u,h,x){if(l=l.options,u){u={};for(var S=0;S<h.length;S++)u["$"+h[S]]=!0;for(h=0;h<l.length;h++)S=u.hasOwnProperty("$"+l[h].value),l[h].selected!==S&&(l[h].selected=S),S&&x&&(l[h].defaultSelected=!0)}else{for(h=""+Qn(h),u=null,S=0;S<l.length;S++){if(l[S].value===h){l[S].selected=!0,x&&(l[S].defaultSelected=!0);return}u!==null||l[S].disabled||(u=l[S])}u!==null&&(u.selected=!0)}}function Kc(l,u,h){if(u!=null&&(u=""+Qn(u),u!==l.value&&(l.value=u),h==null)){l.defaultValue!==u&&(l.defaultValue=u);return}l.defaultValue=h!=null?""+Qn(h):""}function Eo(l,u,h,x){if(u==null){if(x!=null){if(h!=null)throw Error(r(92));if(Ae(x)){if(1<x.length)throw Error(r(93));x=x[0]}h=x}h==null&&(h=""),u=h}h=Qn(u),l.defaultValue=h,x=l.textContent,x===h&&x!==""&&x!==null&&(l.value=x),or(l)}function Wi(l,u){if(u){var h=l.firstChild;if(h&&h===l.lastChild&&h.nodeType===3){h.nodeValue=u;return}}l.textContent=u}var zo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Yc(l,u,h){var x=u.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?x?l.setProperty(u,""):u==="float"?l.cssFloat="":l[u]="":x?l.setProperty(u,h):typeof h!="number"||h===0||zo.has(u)?u==="float"?l.cssFloat=h:l[u]=(""+h).trim():l[u]=h+"px"}function Xc(l,u,h){if(u!=null&&typeof u!="object")throw Error(r(62));if(l=l.style,h!=null){for(var x in h)!h.hasOwnProperty(x)||u!=null&&u.hasOwnProperty(x)||(x.indexOf("--")===0?l.setProperty(x,""):x==="float"?l.cssFloat="":l[x]="");for(var S in u)x=u[S],u.hasOwnProperty(S)&&h[S]!==x&&Yc(l,S,x)}else for(var I in u)u.hasOwnProperty(I)&&Yc(l,I,u[I])}function rc(l){if(l.indexOf("-")===-1)return!1;switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ic=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),So=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ds(l){return So.test(""+l)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":l}function Da(){}var Ao=null;function Ms(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var Go=null,bn=null;function _l(l){var u=Mt(l);if(u&&(l=u.stateNode)){var h=l[be]||null;e:switch(l=u.stateNode,u.type){case"input":if(bl(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),u=h.name,h.type==="radio"&&u!=null){for(h=l;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+gi(""+u)+'"][type="radio"]'),u=0;u<h.length;u++){var x=h[u];if(x!==l&&x.form===l.form){var S=x[be]||null;if(!S)throw Error(r(90));bl(x,S.value,S.defaultValue,S.defaultValue,S.checked,S.defaultChecked,S.type,S.name)}}for(u=0;u<h.length;u++)x=h[u],x.form===l.form&&Ho(x)}break e;case"textarea":Kc(l,h.value,h.defaultValue);break e;case"select":u=h.value,u!=null&&ps(l,!!h.multiple,u,!1)}}}var sc=!1;function Wo(l,u,h){if(sc)return l(u,h);sc=!0;try{var x=l(u);return x}finally{if(sc=!1,(Go!==null||bn!==null)&&(fx(),Go&&(u=Go,l=bn,bn=Go=null,_l(u),l)))for(u=0;u<l.length;u++)_l(l[u])}}function $i(l,u){var h=l.stateNode;if(h===null)return null;var x=h[be]||null;if(x===null)return null;h=x[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(x=!x.disabled)||(l=l.type,x=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!x;break e;default:l=!1}if(l)return null;if(h&&typeof h!="function")throw Error(r(231,u,typeof h));return h}var Di=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wl=!1;if(Di)try{var Ar={};Object.defineProperty(Ar,"passive",{get:function(){wl=!0}}),window.addEventListener("test",Ar,Ar),window.removeEventListener("test",Ar,Ar)}catch{wl=!1}var Ks=null,Tl=null,Ma=null;function Jc(){if(Ma)return Ma;var l,u=Tl,h=u.length,x,S="value"in Ks?Ks.value:Ks.textContent,I=S.length;for(l=0;l<h&&u[l]===S[l];l++);var K=h-l;for(x=1;x<=K&&u[h-x]===S[I-x];x++);return Ma=S.slice(l,1<x?1-x:void 0)}function Ys(l){var u=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&u===13&&(l=13)):l=u,l===10&&(l=13),32<=l||l===13?l:0}function No(){return!0}function Xs(){return!1}function Ai(l){function u(h,x,S,I,K){this._reactName=h,this._targetInst=S,this.type=x,this.nativeEvent=I,this.target=K,this.currentTarget=null;for(var ue in l)l.hasOwnProperty(ue)&&(h=l[ue],this[ue]=h?h(I):I[ue]);return this.isDefaultPrevented=(I.defaultPrevented!=null?I.defaultPrevented:I.returnValue===!1)?No:Xs,this.isPropagationStopped=Xs,this}return m(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=No)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=No)},persist:function(){},isPersistent:No}),u}var Ya={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ns=Ai(Ya),Xa=m({},Ya,{view:0,detail:0}),$o=Ai(Xa),Ja,Qa,da,El=m({},Xa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wn,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==da&&(da&&l.type==="mousemove"?(Ja=l.screenX-da.screenX,Qa=l.screenY-da.screenY):Qa=Ja=0,da=l),Ja)},movementY:function(l){return"movementY"in l?l.movementY:Qa}}),ac=Ai(El),Js=m({},El,{dataTransfer:0}),Za=Ai(Js),Qc=m({},Xa,{relatedTarget:0}),La=Ai(Qc),oc=m({},Ya,{animationName:0,elapsedTime:0,pseudoElement:0}),O=Ai(oc),te=m({},Ya,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),Ee=Ai(te),Me=m({},Ya,{data:0}),je=Ai(Me),dt={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sn(l){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(l):(l=Jt[l])?!!u[l]:!1}function wn(){return sn}var yn=m({},Xa,{key:function(l){if(l.key){var u=dt[l.key]||l.key;if(u!=="Unidentified")return u}return l.type==="keypress"?(l=Ys(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?vt[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wn,charCode:function(l){return l.type==="keypress"?Ys(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?Ys(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),er=Ai(yn),zr=m({},El,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mr=Ai(zr),w=m({},Xa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wn}),H=Ai(w),J=m({},Ya,{propertyName:0,elapsedTime:0,pseudoElement:0}),pe=Ai(J),Ge=m({},El,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),et=Ai(Ge),kt=m({},Ya,{newState:0,oldState:0}),kn=Ai(kt),Gr=[9,13,27,32],Yn=Di&&"CompositionEvent"in window,Nr=null;Di&&"documentMode"in document&&(Nr=document.documentMode);var rs=Di&&"TextEvent"in window&&!Nr,ms=Di&&(!Yn||Nr&&8<Nr&&11>=Nr),Fr=" ",gs=!1;function Fa(l,u){switch(l){case"keyup":return Gr.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ko(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var Yo=!1;function Qs(l,u){switch(l){case"compositionend":return Ko(u);case"keypress":return u.which!==32?null:(gs=!0,Fr);case"textInput":return l=u.data,l===Fr&&gs?null:l;default:return null}}function Sl(l,u){if(Yo)return l==="compositionend"||!Yn&&Fa(l,u)?(l=Jc(),Ma=Tl=Ks=null,Yo=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return ms&&u.locale!=="ko"?null:u.data;default:return null}}var Yu={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hd(l){var u=l&&l.nodeName&&l.nodeName.toLowerCase();return u==="input"?!!Yu[l.type]:u==="textarea"}function Oa(l,u,h,x){Go?bn?bn.push(x):bn=[x]:Go=x,u=yx(u,"onChange"),0<u.length&&(h=new ns("onChange","change",null,h,x),l.push({event:h,listeners:u}))}var Co=null,Al=null;function pd(l){CN(l,0)}function Io(l){var u=_t(l);if(Ho(u))return l}function lc(l,u){if(l==="change")return u}var ha=!1;if(Di){var Zs;if(Di){var Xo="oninput"in document;if(!Xo){var Jo=document.createElement("div");Jo.setAttribute("oninput","return;"),Xo=typeof Jo.oninput=="function"}Zs=Xo}else Zs=!1;ha=Zs&&(!document.documentMode||9<document.documentMode)}function Nl(){Co&&(Co.detachEvent("onpropertychange",Xu),Al=Co=null)}function Xu(l){if(l.propertyName==="value"&&Io(Al)){var u=[];Oa(u,Al,l,Ms(l)),Wo(pd,u)}}function Ju(l,u,h){l==="focusin"?(Nl(),Co=u,Al=h,Co.attachEvent("onpropertychange",Xu)):l==="focusout"&&Nl()}function Ni(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return Io(Al)}function Uh(l,u){if(l==="click")return Io(u)}function Qo(l,u){if(l==="input"||l==="change")return Io(u)}function Zo(l,u){return l===u&&(l!==0||1/l===1/u)||l!==l&&u!==u}var xs=typeof Object.is=="function"?Object.is:Zo;function Cl(l,u){if(xs(l,u))return!0;if(typeof l!="object"||l===null||typeof u!="object"||u===null)return!1;var h=Object.keys(l),x=Object.keys(u);if(h.length!==x.length)return!1;for(x=0;x<h.length;x++){var S=h[x];if(!tt.call(u,S)||!xs(l[S],u[S]))return!1}return!0}function Qu(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function Zu(l,u){var h=Qu(l);l=0;for(var x;h;){if(h.nodeType===3){if(x=l+h.textContent.length,l<=u&&x>=u)return{node:h,offset:u-l};l=x}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=Qu(h)}}function Il(l,u){return l&&u?l===u?!0:l&&l.nodeType===3?!1:u&&u.nodeType===3?Il(l,u.parentNode):"contains"in l?l.contains(u):l.compareDocumentPosition?!!(l.compareDocumentPosition(u)&16):!1:!1}function kl(l){l=l!=null&&l.ownerDocument!=null&&l.ownerDocument.defaultView!=null?l.ownerDocument.defaultView:window;for(var u=Si(l.document);u instanceof l.HTMLIFrameElement;){try{var h=typeof u.contentWindow.location.href=="string"}catch{h=!1}if(h)l=u.contentWindow;else break;u=Si(l.document)}return u}function el(l){var u=l&&l.nodeName&&l.nodeName.toLowerCase();return u&&(u==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||u==="textarea"||l.contentEditable==="true")}var Zc=Di&&"documentMode"in document&&11>=document.documentMode,Ba=null,Rl=null,Ls=null,eo=!1;function Tr(l,u,h){var x=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;eo||Ba==null||Ba!==Si(x)||(x=Ba,"selectionStart"in x&&el(x)?x={start:x.selectionStart,end:x.selectionEnd}:(x=(x.ownerDocument&&x.ownerDocument.defaultView||window).getSelection(),x={anchorNode:x.anchorNode,anchorOffset:x.anchorOffset,focusNode:x.focusNode,focusOffset:x.focusOffset}),Ls&&Cl(Ls,x)||(Ls=x,x=yx(Rl,"onSelect"),0<x.length&&(u=new ns("onSelect","select",null,u,h),l.push({event:u,listeners:x}),u.target=Ba)))}function fr(l,u){var h={};return h[l.toLowerCase()]=u.toLowerCase(),h["Webkit"+l]="webkit"+u,h["Moz"+l]="moz"+u,h}var Wr={animationend:fr("Animation","AnimationEnd"),animationiteration:fr("Animation","AnimationIteration"),animationstart:fr("Animation","AnimationStart"),transitionrun:fr("Transition","TransitionRun"),transitionstart:fr("Transition","TransitionStart"),transitioncancel:fr("Transition","TransitionCancel"),transitionend:fr("Transition","TransitionEnd")},Ci={},tl={};Di&&(tl=document.createElement("div").style,"AnimationEvent"in window||(delete Wr.animationend.animation,delete Wr.animationiteration.animation,delete Wr.animationstart.animation),"TransitionEvent"in window||delete Wr.transitionend.transition);function ko(l){if(Ci[l])return Ci[l];if(!Wr[l])return l;var u=Wr[l],h;for(h in u)if(u.hasOwnProperty(h)&&h in tl)return Ci[l]=u[h];return l}var eu=ko("animationend"),md=ko("animationiteration"),nm=ko("animationstart"),j1=ko("transitionrun"),q1=ko("transitionstart"),H1=ko("transitioncancel"),rm=ko("transitionend"),im=new Map,tu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");tu.push("scrollEnd");function to(l,u){im.set(l,u),wr(u,[l])}var gd=typeof reportError=="function"?reportError:function(l){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var u=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof l=="object"&&l!==null&&typeof l.message=="string"?String(l.message):String(l),error:l});if(!window.dispatchEvent(u))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",l);return}console.error(l)},Va=[],nu=0,jh=0;function xd(){for(var l=nu,u=jh=nu=0;u<l;){var h=Va[u];Va[u++]=null;var x=Va[u];Va[u++]=null;var S=Va[u];Va[u++]=null;var I=Va[u];if(Va[u++]=null,x!==null&&S!==null){var K=x.pending;K===null?S.next=S:(S.next=K.next,K.next=S),x.pending=S}I!==0&&vd(h,S,I)}}function yd(l,u,h,x){Va[nu++]=l,Va[nu++]=u,Va[nu++]=h,Va[nu++]=x,jh|=x,l.lanes|=x,l=l.alternate,l!==null&&(l.lanes|=x)}function qh(l,u,h,x){return yd(l,u,h,x),Fs(l)}function Pl(l,u){return yd(l,null,null,u),Fs(l)}function vd(l,u,h){l.lanes|=h;var x=l.alternate;x!==null&&(x.lanes|=h);for(var S=!1,I=l.return;I!==null;)I.childLanes|=h,x=I.alternate,x!==null&&(x.childLanes|=h),I.tag===22&&(l=I.stateNode,l===null||l._visibility&1||(S=!0)),l=I,I=I.return;return l.tag===3?(I=l.stateNode,S&&u!==null&&(S=31-xn(h),l=I.hiddenUpdates,x=l[S],x===null?l[S]=[u]:x.push(u),u.lane=h|536870912),I):null}function Fs(l){if(50<Am)throw Am=0,yb=null,Error(r(185));for(var u=l.return;u!==null;)l=u,u=l.return;return l.tag===3?l.stateNode:null}var ys={};function Hh(l,u,h,x){this.tag=l,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Os(l,u,h,x){return new Hh(l,u,h,x)}function zh(l){return l=l.prototype,!(!l||!l.isReactComponent)}function no(l,u){var h=l.alternate;return h===null?(h=Os(l.tag,u,l.key,l.mode),h.elementType=l.elementType,h.type=l.type,h.stateNode=l.stateNode,h.alternate=l,l.alternate=h):(h.pendingProps=u,h.type=l.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=l.flags&65011712,h.childLanes=l.childLanes,h.lanes=l.lanes,h.child=l.child,h.memoizedProps=l.memoizedProps,h.memoizedState=l.memoizedState,h.updateQueue=l.updateQueue,u=l.dependencies,h.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},h.sibling=l.sibling,h.index=l.index,h.ref=l.ref,h.refCleanup=l.refCleanup,h}function bd(l,u){l.flags&=65011714;var h=l.alternate;return h===null?(l.childLanes=0,l.lanes=u,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=h.childLanes,l.lanes=h.lanes,l.child=h.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=h.memoizedProps,l.memoizedState=h.memoizedState,l.updateQueue=h.updateQueue,l.type=h.type,u=h.dependencies,l.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),l}function ef(l,u,h,x,S,I){var K=0;if(x=l,typeof l=="function")zh(l)&&(K=1);else if(typeof l=="string")K=LV(l,h,X.current)?26:l==="html"||l==="head"||l==="body"?27:5;else e:switch(l){case k:return l=Os(31,h,u,S),l.elementType=k,l.lanes=I,l;case _:return cc(h.children,S,I,u);case A:K=8,S|=24;break;case C:return l=Os(12,h,u,S|2),l.elementType=C,l.lanes=I,l;case z:return l=Os(13,h,u,S),l.elementType=z,l.lanes=I,l;case W:return l=Os(19,h,u,S),l.elementType=W,l.lanes=I,l;default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case R:K=10;break e;case V:K=9;break e;case F:K=11;break e;case D:K=14;break e;case L:K=16,x=null;break e}K=29,h=Error(r(130,l===null?"null":typeof l,"")),x=null}return u=Os(K,h,u,S),u.elementType=l,u.type=x,u.lanes=I,u}function cc(l,u,h,x){return l=Os(7,l,x,u),l.lanes=h,l}function _d(l,u,h){return l=Os(6,l,null,u),l.lanes=h,l}function Gh(l){var u=Os(18,null,null,0);return u.stateNode=l,u}function tf(l,u,h){return u=Os(4,l.children!==null?l.children:[],l.key,u),u.lanes=h,u.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},u}var Wh=new WeakMap;function ro(l,u){if(typeof l=="object"&&l!==null){var h=Wh.get(l);return h!==void 0?h:(u={value:l,source:u,stack:ft(u)},Wh.set(l,u),u)}return{value:l,source:u,stack:ft(u)}}var nf=[],ru=0,$h=null,wd=0,io=[],so=0,uc=null,ao=1,oo="";function Ua(l,u){nf[ru++]=wd,nf[ru++]=$h,$h=l,wd=u}function z1(l,u,h){io[so++]=ao,io[so++]=oo,io[so++]=uc,uc=l;var x=ao;l=oo;var S=32-xn(x)-1;x&=~(1<<S),h+=1;var I=32-xn(u)+S;if(30<I){var K=S-S%5;I=(x&(1<<K)-1).toString(32),x>>=K,S-=K,ao=1<<32-xn(u)+S|h<<S|x,oo=I+l}else ao=1<<I|h<<S|x,oo=l}function sm(l){l.return!==null&&(Ua(l,1),z1(l,1,0))}function Kh(l){for(;l===$h;)$h=nf[--ru],nf[ru]=null,wd=nf[--ru],nf[ru]=null;for(;l===uc;)uc=io[--so],io[so]=null,oo=io[--so],io[so]=null,ao=io[--so],io[so]=null}function G1(l,u){io[so++]=ao,io[so++]=oo,io[so++]=uc,ao=u.id,oo=u.overflow,uc=l}var vs=null,ni=null,nr=!1,ea=null,xi=!1,Ro=Error(r(519));function fc(l){var u=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw rf(ro(u,l)),Ro}function am(l){var u=l.stateNode,h=l.type,x=l.memoizedProps;switch(u[ge]=l,u[be]=x,h){case"dialog":ir("cancel",u),ir("close",u);break;case"iframe":case"object":case"embed":ir("load",u);break;case"video":case"audio":for(h=0;h<Cm.length;h++)ir(Cm[h],u);break;case"source":ir("error",u);break;case"img":case"image":case"link":ir("error",u),ir("load",u);break;case"details":ir("toggle",u);break;case"input":ir("invalid",u),Ku(u,x.value,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name,!0);break;case"select":ir("invalid",u);break;case"textarea":ir("invalid",u),Eo(u,x.value,x.defaultValue,x.children)}h=x.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||u.textContent===""+h||x.suppressHydrationWarning===!0||PN(u.textContent,h)?(x.popover!=null&&(ir("beforetoggle",u),ir("toggle",u)),x.onScroll!=null&&ir("scroll",u),x.onScrollEnd!=null&&ir("scrollend",u),x.onClick!=null&&(u.onclick=Da),u=!0):u=!1,u||fc(l,!0)}function Dl(l){for(vs=l.return;vs;)switch(vs.tag){case 5:case 31:case 13:xi=!1;return;case 27:case 3:xi=!0;return;default:vs=vs.return}}function bs(l){if(l!==vs)return!1;if(!nr)return Dl(l),nr=!0,!1;var u=l.tag,h;if((h=u!==3&&u!==27)&&((h=u===5)&&(h=l.type,h=!(h!=="form"&&h!=="button")||Db(l.type,l.memoizedProps)),h=!h),h&&ni&&fc(l),Dl(l),u===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(317));ni=jN(l)}else if(u===31){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(317));ni=jN(l)}else u===27?(u=ni,yf(l.type)?(l=Bb,Bb=null,ni=l):ni=u):ni=vs?sl(l.stateNode.nextSibling):null;return!0}function iu(){ni=vs=null,nr=!1}function om(){var l=ea;return l!==null&&(po===null?po=l:po.push.apply(po,l),ea=null),l}function rf(l){ea===null?ea=[l]:ea.push(l)}var Yh=re(null),dc=null,nl=null;function hc(l,u,h){Y(Yh,u._currentValue),u._currentValue=h}function lo(l){l._currentValue=Yh.current,B(Yh)}function sf(l,u,h){for(;l!==null;){var x=l.alternate;if((l.childLanes&u)!==u?(l.childLanes|=u,x!==null&&(x.childLanes|=u)):x!==null&&(x.childLanes&u)!==u&&(x.childLanes|=u),l===h)break;l=l.return}}function su(l,u,h,x){var S=l.child;for(S!==null&&(S.return=l);S!==null;){var I=S.dependencies;if(I!==null){var K=S.child;I=I.firstContext;e:for(;I!==null;){var ue=I;I=S;for(var De=0;De<u.length;De++)if(ue.context===u[De]){I.lanes|=h,ue=I.alternate,ue!==null&&(ue.lanes|=h),sf(I.return,h,l),x||(K=null);break e}I=ue.next}}else if(S.tag===18){if(K=S.return,K===null)throw Error(r(341));K.lanes|=h,I=K.alternate,I!==null&&(I.lanes|=h),sf(K,h,l),K=null}else K=S.child;if(K!==null)K.return=S;else for(K=S;K!==null;){if(K===l){K=null;break}if(S=K.sibling,S!==null){S.return=K.return,K=S;break}K=K.return}S=K}}function pc(l,u,h,x){l=null;for(var S=u,I=!1;S!==null;){if(!I){if((S.flags&524288)!==0)I=!0;else if((S.flags&262144)!==0)break}if(S.tag===10){var K=S.alternate;if(K===null)throw Error(r(387));if(K=K.memoizedProps,K!==null){var ue=S.type;xs(S.pendingProps.value,K.value)||(l!==null?l.push(ue):l=[ue])}}else if(S===_e.current){if(K=S.alternate,K===null)throw Error(r(387));K.memoizedState.memoizedState!==S.memoizedState.memoizedState&&(l!==null?l.push(Dm):l=[Dm])}S=S.return}l!==null&&su(u,l,h,x),u.flags|=262144}function Xh(l){for(l=l.firstContext;l!==null;){if(!xs(l.context._currentValue,l.memoizedValue))return!0;l=l.next}return!1}function mc(l){dc=l,nl=null,l=l.dependencies,l!==null&&(l.firstContext=null)}function _s(l){return W1(dc,l)}function Jh(l,u){return dc===null&&mc(l),W1(l,u)}function W1(l,u){var h=u._currentValue;if(u={context:u,memoizedValue:h,next:null},nl===null){if(l===null)throw Error(r(308));nl=u,l.dependencies={lanes:0,firstContext:u},l.flags|=524288}else nl=nl.next=u;return h}var Ov=typeof AbortController<"u"?AbortController:function(){var l=[],u=this.signal={aborted:!1,addEventListener:function(h,x){l.push(x)}};this.abort=function(){u.aborted=!0,l.forEach(function(h){return h()})}},Bv=t.unstable_scheduleCallback,Vv=t.unstable_NormalPriority,Ii={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function af(){return{controller:new Ov,data:new Map,refCount:0}}function Td(l){l.refCount--,l.refCount===0&&Bv(Vv,function(){l.controller.abort()})}var Ed=null,Qh=0,b=0,N=null;function U(l,u){if(Ed===null){var h=Ed=[];Qh=0,b=Eb(),N={status:"pending",value:void 0,then:function(x){h.push(x)}}}return Qh++,u.then(G,G),u}function G(){if(--Qh===0&&Ed!==null){N!==null&&(N.status="fulfilled");var l=Ed;Ed=null,b=0,N=null;for(var u=0;u<l.length;u++)(0,l[u])()}}function ne(l,u){var h=[],x={status:"pending",value:null,reason:null,then:function(S){h.push(S)}};return l.then(function(){x.status="fulfilled",x.value=u;for(var S=0;S<h.length;S++)(0,h[S])(u)},function(S){for(x.status="rejected",x.reason=S,S=0;S<h.length;S++)(0,h[S])(void 0)}),x}var se=fe.S;fe.S=function(l,u){nN=Zt(),typeof u=="object"&&u!==null&&typeof u.then=="function"&&U(l,u),se!==null&&se(l,u)};var le=re(null);function de(){var l=le.current;return l!==null?l:ii.pooledCache}function ye(l,u){u===null?Y(le,le.current):Y(le,u.pool)}function Se(){var l=de();return l===null?null:{parent:Ii._currentValue,pool:l}}var Fe=Error(r(460)),Je=Error(r(474)),Te=Error(r(542)),Ve={then:function(){}};function We(l){return l=l.status,l==="fulfilled"||l==="rejected"}function ut(l,u,h){switch(h=l[h],h===void 0?l.push(u):h!==u&&(u.then(Da,Da),u=h),u.status){case"fulfilled":return u.value;case"rejected":throw l=u.reason,Tt(l),l;default:if(typeof u.status=="string")u.then(Da,Da);else{if(l=ii,l!==null&&100<l.shellSuspendCounter)throw Error(r(482));l=u,l.status="pending",l.then(function(x){if(u.status==="pending"){var S=u;S.status="fulfilled",S.value=x}},function(x){if(u.status==="pending"){var S=u;S.status="rejected",S.reason=x}})}switch(u.status){case"fulfilled":return u.value;case"rejected":throw l=u.reason,Tt(l),l}throw lt=u,Fe}}function $e(l){try{var u=l._init;return u(l._payload)}catch(h){throw h!==null&&typeof h=="object"&&typeof h.then=="function"?(lt=h,Fe):h}}var lt=null;function pt(){if(lt===null)throw Error(r(459));var l=lt;return lt=null,l}function Tt(l){if(l===Fe||l===Te)throw Error(r(483))}var yt=null,an=0;function $t(l){var u=an;return an+=1,yt===null&&(yt=[]),ut(yt,l,u)}function Dn(l,u){u=u.props.ref,l.ref=u!==void 0?u:null}function nn(l,u){throw u.$$typeof===g?Error(r(525)):(l=Object.prototype.toString.call(u),Error(r(31,l==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":l)))}function tr(l){function u(He,Oe){if(l){var Qe=He.deletions;Qe===null?(He.deletions=[Oe],He.flags|=16):Qe.push(Oe)}}function h(He,Oe){if(!l)return null;for(;Oe!==null;)u(He,Oe),Oe=Oe.sibling;return null}function x(He){for(var Oe=new Map;He!==null;)He.key!==null?Oe.set(He.key,He):Oe.set(He.index,He),He=He.sibling;return Oe}function S(He,Oe){return He=no(He,Oe),He.index=0,He.sibling=null,He}function I(He,Oe,Qe){return He.index=Qe,l?(Qe=He.alternate,Qe!==null?(Qe=Qe.index,Qe<Oe?(He.flags|=67108866,Oe):Qe):(He.flags|=67108866,Oe)):(He.flags|=1048576,Oe)}function K(He){return l&&He.alternate===null&&(He.flags|=67108866),He}function ue(He,Oe,Qe,mt){return Oe===null||Oe.tag!==6?(Oe=_d(Qe,He.mode,mt),Oe.return=He,Oe):(Oe=S(Oe,Qe),Oe.return=He,Oe)}function De(He,Oe,Qe,mt){var En=Qe.type;return En===_?ht(He,Oe,Qe.props.children,mt,Qe.key):Oe!==null&&(Oe.elementType===En||typeof En=="object"&&En!==null&&En.$$typeof===L&&$e(En)===Oe.type)?(Oe=S(Oe,Qe.props),Dn(Oe,Qe),Oe.return=He,Oe):(Oe=ef(Qe.type,Qe.key,Qe.props,null,He.mode,mt),Dn(Oe,Qe),Oe.return=He,Oe)}function Ze(He,Oe,Qe,mt){return Oe===null||Oe.tag!==4||Oe.stateNode.containerInfo!==Qe.containerInfo||Oe.stateNode.implementation!==Qe.implementation?(Oe=tf(Qe,He.mode,mt),Oe.return=He,Oe):(Oe=S(Oe,Qe.children||[]),Oe.return=He,Oe)}function ht(He,Oe,Qe,mt,En){return Oe===null||Oe.tag!==7?(Oe=cc(Qe,He.mode,mt,En),Oe.return=He,Oe):(Oe=S(Oe,Qe),Oe.return=He,Oe)}function xt(He,Oe,Qe){if(typeof Oe=="string"&&Oe!==""||typeof Oe=="number"||typeof Oe=="bigint")return Oe=_d(""+Oe,He.mode,Qe),Oe.return=He,Oe;if(typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case y:return Qe=ef(Oe.type,Oe.key,Oe.props,null,He.mode,Qe),Dn(Qe,Oe),Qe.return=He,Qe;case E:return Oe=tf(Oe,He.mode,Qe),Oe.return=He,Oe;case L:return Oe=$e(Oe),xt(He,Oe,Qe)}if(Ae(Oe)||M(Oe))return Oe=cc(Oe,He.mode,Qe,null),Oe.return=He,Oe;if(typeof Oe.then=="function")return xt(He,$t(Oe),Qe);if(Oe.$$typeof===R)return xt(He,Jh(He,Oe),Qe);nn(He,Oe)}return null}function nt(He,Oe,Qe,mt){var En=Oe!==null?Oe.key:null;if(typeof Qe=="string"&&Qe!==""||typeof Qe=="number"||typeof Qe=="bigint")return En!==null?null:ue(He,Oe,""+Qe,mt);if(typeof Qe=="object"&&Qe!==null){switch(Qe.$$typeof){case y:return Qe.key===En?De(He,Oe,Qe,mt):null;case E:return Qe.key===En?Ze(He,Oe,Qe,mt):null;case L:return Qe=$e(Qe),nt(He,Oe,Qe,mt)}if(Ae(Qe)||M(Qe))return En!==null?null:ht(He,Oe,Qe,mt,null);if(typeof Qe.then=="function")return nt(He,Oe,$t(Qe),mt);if(Qe.$$typeof===R)return nt(He,Oe,Jh(He,Qe),mt);nn(He,Qe)}return null}function ot(He,Oe,Qe,mt,En){if(typeof mt=="string"&&mt!==""||typeof mt=="number"||typeof mt=="bigint")return He=He.get(Qe)||null,ue(Oe,He,""+mt,En);if(typeof mt=="object"&&mt!==null){switch(mt.$$typeof){case y:return He=He.get(mt.key===null?Qe:mt.key)||null,De(Oe,He,mt,En);case E:return He=He.get(mt.key===null?Qe:mt.key)||null,Ze(Oe,He,mt,En);case L:return mt=$e(mt),ot(He,Oe,Qe,mt,En)}if(Ae(mt)||M(mt))return He=He.get(Qe)||null,ht(Oe,He,mt,En,null);if(typeof mt.then=="function")return ot(He,Oe,Qe,$t(mt),En);if(mt.$$typeof===R)return ot(He,Oe,Qe,Jh(Oe,mt),En);nn(Oe,mt)}return null}function rn(He,Oe,Qe,mt){for(var En=null,Cr=null,pn=Oe,Kn=Oe=0,cr=null;pn!==null&&Kn<Qe.length;Kn++){pn.index>Kn?(cr=pn,pn=null):cr=pn.sibling;var Ir=nt(He,pn,Qe[Kn],mt);if(Ir===null){pn===null&&(pn=cr);break}l&&pn&&Ir.alternate===null&&u(He,pn),Oe=I(Ir,Oe,Kn),Cr===null?En=Ir:Cr.sibling=Ir,Cr=Ir,pn=cr}if(Kn===Qe.length)return h(He,pn),nr&&Ua(He,Kn),En;if(pn===null){for(;Kn<Qe.length;Kn++)pn=xt(He,Qe[Kn],mt),pn!==null&&(Oe=I(pn,Oe,Kn),Cr===null?En=pn:Cr.sibling=pn,Cr=pn);return nr&&Ua(He,Kn),En}for(pn=x(pn);Kn<Qe.length;Kn++)cr=ot(pn,He,Kn,Qe[Kn],mt),cr!==null&&(l&&cr.alternate!==null&&pn.delete(cr.key===null?Kn:cr.key),Oe=I(cr,Oe,Kn),Cr===null?En=cr:Cr.sibling=cr,Cr=cr);return l&&pn.forEach(function(Tf){return u(He,Tf)}),nr&&Ua(He,Kn),En}function Cn(He,Oe,Qe,mt){if(Qe==null)throw Error(r(151));for(var En=null,Cr=null,pn=Oe,Kn=Oe=0,cr=null,Ir=Qe.next();pn!==null&&!Ir.done;Kn++,Ir=Qe.next()){pn.index>Kn?(cr=pn,pn=null):cr=pn.sibling;var Tf=nt(He,pn,Ir.value,mt);if(Tf===null){pn===null&&(pn=cr);break}l&&pn&&Tf.alternate===null&&u(He,pn),Oe=I(Tf,Oe,Kn),Cr===null?En=Tf:Cr.sibling=Tf,Cr=Tf,pn=cr}if(Ir.done)return h(He,pn),nr&&Ua(He,Kn),En;if(pn===null){for(;!Ir.done;Kn++,Ir=Qe.next())Ir=xt(He,Ir.value,mt),Ir!==null&&(Oe=I(Ir,Oe,Kn),Cr===null?En=Ir:Cr.sibling=Ir,Cr=Ir);return nr&&Ua(He,Kn),En}for(pn=x(pn);!Ir.done;Kn++,Ir=Qe.next())Ir=ot(pn,He,Kn,Ir.value,mt),Ir!==null&&(l&&Ir.alternate!==null&&pn.delete(Ir.key===null?Kn:Ir.key),Oe=I(Ir,Oe,Kn),Cr===null?En=Ir:Cr.sibling=Ir,Cr=Ir);return l&&pn.forEach(function(WV){return u(He,WV)}),nr&&Ua(He,Kn),En}function Xr(He,Oe,Qe,mt){if(typeof Qe=="object"&&Qe!==null&&Qe.type===_&&Qe.key===null&&(Qe=Qe.props.children),typeof Qe=="object"&&Qe!==null){switch(Qe.$$typeof){case y:e:{for(var En=Qe.key;Oe!==null;){if(Oe.key===En){if(En=Qe.type,En===_){if(Oe.tag===7){h(He,Oe.sibling),mt=S(Oe,Qe.props.children),mt.return=He,He=mt;break e}}else if(Oe.elementType===En||typeof En=="object"&&En!==null&&En.$$typeof===L&&$e(En)===Oe.type){h(He,Oe.sibling),mt=S(Oe,Qe.props),Dn(mt,Qe),mt.return=He,He=mt;break e}h(He,Oe);break}else u(He,Oe);Oe=Oe.sibling}Qe.type===_?(mt=cc(Qe.props.children,He.mode,mt,Qe.key),mt.return=He,He=mt):(mt=ef(Qe.type,Qe.key,Qe.props,null,He.mode,mt),Dn(mt,Qe),mt.return=He,He=mt)}return K(He);case E:e:{for(En=Qe.key;Oe!==null;){if(Oe.key===En)if(Oe.tag===4&&Oe.stateNode.containerInfo===Qe.containerInfo&&Oe.stateNode.implementation===Qe.implementation){h(He,Oe.sibling),mt=S(Oe,Qe.children||[]),mt.return=He,He=mt;break e}else{h(He,Oe);break}else u(He,Oe);Oe=Oe.sibling}mt=tf(Qe,He.mode,mt),mt.return=He,He=mt}return K(He);case L:return Qe=$e(Qe),Xr(He,Oe,Qe,mt)}if(Ae(Qe))return rn(He,Oe,Qe,mt);if(M(Qe)){if(En=M(Qe),typeof En!="function")throw Error(r(150));return Qe=En.call(Qe),Cn(He,Oe,Qe,mt)}if(typeof Qe.then=="function")return Xr(He,Oe,$t(Qe),mt);if(Qe.$$typeof===R)return Xr(He,Oe,Jh(He,Qe),mt);nn(He,Qe)}return typeof Qe=="string"&&Qe!==""||typeof Qe=="number"||typeof Qe=="bigint"?(Qe=""+Qe,Oe!==null&&Oe.tag===6?(h(He,Oe.sibling),mt=S(Oe,Qe),mt.return=He,He=mt):(h(He,Oe),mt=_d(Qe,He.mode,mt),mt.return=He,He=mt),K(He)):h(He,Oe)}return function(He,Oe,Qe,mt){try{an=0;var En=Xr(He,Oe,Qe,mt);return yt=null,En}catch(pn){if(pn===Fe||pn===Te)throw pn;var Cr=Os(29,pn,null,He.mode);return Cr.lanes=mt,Cr.return=He,Cr}finally{}}}var ri=tr(!0),Bn=tr(!1),Kt=!1;function Ot(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ci(l,u){l=l.updateQueue,u.updateQueue===l&&(u.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,callbacks:null})}function An(l){return{lane:l,tag:0,payload:null,callback:null,next:null}}function zn(l,u,h){var x=l.updateQueue;if(x===null)return null;if(x=x.shared,(Dr&2)!==0){var S=x.pending;return S===null?u.next=u:(u.next=S.next,S.next=u),x.pending=u,u=Fs(l),vd(l,null,h),u}return yd(l,x,u,h),Fs(l)}function Rr(l,u,h){if(u=u.updateQueue,u!==null&&(u=u.shared,(h&4194048)!==0)){var x=u.lanes;x&=l.pendingLanes,h|=x,u.lanes=h,qt(l,h)}}function Ki(l,u){var h=l.updateQueue,x=l.alternate;if(x!==null&&(x=x.updateQueue,h===x)){var S=null,I=null;if(h=h.firstBaseUpdate,h!==null){do{var K={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};I===null?S=I=K:I=I.next=K,h=h.next}while(h!==null);I===null?S=I=u:I=I.next=u}else S=I=u;h={baseState:x.baseState,firstBaseUpdate:S,lastBaseUpdate:I,shared:x.shared,callbacks:x.callbacks},l.updateQueue=h;return}l=h.lastBaseUpdate,l===null?h.firstBaseUpdate=u:l.next=u,h.lastBaseUpdate=u}var ws=!1;function $r(){if(ws){var l=N;if(l!==null)throw l}}function Mi(l,u,h,x){ws=!1;var S=l.updateQueue;Kt=!1;var I=S.firstBaseUpdate,K=S.lastBaseUpdate,ue=S.shared.pending;if(ue!==null){S.shared.pending=null;var De=ue,Ze=De.next;De.next=null,K===null?I=Ze:K.next=Ze,K=De;var ht=l.alternate;ht!==null&&(ht=ht.updateQueue,ue=ht.lastBaseUpdate,ue!==K&&(ue===null?ht.firstBaseUpdate=Ze:ue.next=Ze,ht.lastBaseUpdate=De))}if(I!==null){var xt=S.baseState;K=0,ht=Ze=De=null,ue=I;do{var nt=ue.lane&-536870913,ot=nt!==ue.lane;if(ot?(lr&nt)===nt:(x&nt)===nt){nt!==0&&nt===b&&(ws=!0),ht!==null&&(ht=ht.next={lane:0,tag:ue.tag,payload:ue.payload,callback:null,next:null});e:{var rn=l,Cn=ue;nt=u;var Xr=h;switch(Cn.tag){case 1:if(rn=Cn.payload,typeof rn=="function"){xt=rn.call(Xr,xt,nt);break e}xt=rn;break e;case 3:rn.flags=rn.flags&-65537|128;case 0:if(rn=Cn.payload,nt=typeof rn=="function"?rn.call(Xr,xt,nt):rn,nt==null)break e;xt=m({},xt,nt);break e;case 2:Kt=!0}}nt=ue.callback,nt!==null&&(l.flags|=64,ot&&(l.flags|=8192),ot=S.callbacks,ot===null?S.callbacks=[nt]:ot.push(nt))}else ot={lane:nt,tag:ue.tag,payload:ue.payload,callback:ue.callback,next:null},ht===null?(Ze=ht=ot,De=xt):ht=ht.next=ot,K|=nt;if(ue=ue.next,ue===null){if(ue=S.shared.pending,ue===null)break;ot=ue,ue=ot.next,ot.next=null,S.lastBaseUpdate=ot,S.shared.pending=null}}while(!0);ht===null&&(De=xt),S.baseState=De,S.firstBaseUpdate=Ze,S.lastBaseUpdate=ht,I===null&&(S.shared.lanes=0),hf|=K,l.lanes=K,l.memoizedState=xt}}function Bs(l,u){if(typeof l!="function")throw Error(r(191,l));l.call(u)}function Li(l,u){var h=l.callbacks;if(h!==null)for(l.callbacks=null,l=0;l<h.length;l++)Bs(h[l],u)}var Xn=re(null),gr=re(0);function ui(l,u){l=mu,Y(gr,l),Y(Xn,u),mu=l|u.baseLanes}function Er(){Y(gr,mu),Y(Xn,Xn.current)}function Yi(){mu=gr.current,B(Xn),B(gr)}var fi=re(null),xr=null;function ki(l){var u=l.alternate;Y(dr,dr.current&1),Y(fi,l),xr===null&&(u===null||Xn.current!==null||u.memoizedState!==null)&&(xr=l)}function Pr(l){Y(dr,dr.current),Y(fi,l),xr===null&&(xr=l)}function Fi(l){l.tag===22?(Y(dr,dr.current),Y(fi,l),xr===null&&(xr=l)):Oi()}function Oi(){Y(dr,dr.current),Y(fi,fi.current)}function Or(l){B(fi),xr===l&&(xr=null),B(dr)}var dr=re(0);function Vs(l){for(var u=l;u!==null;){if(u.tag===13){var h=u.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||Fb(h)||Ob(h)))return u}else if(u.tag===19&&(u.memoizedProps.revealOrder==="forwards"||u.memoizedProps.revealOrder==="backwards"||u.memoizedProps.revealOrder==="unstable_legacy-backwards"||u.memoizedProps.revealOrder==="together")){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var yi=0,_n=null,Tn=null,yr=null,pa=!1,co=!1,ta=!1,Bi=0,gc=0,xc=null,Zh=0;function Kr(){throw Error(r(321))}function lm(l,u){if(u===null)return!1;for(var h=0;h<u.length&&h<l.length;h++)if(!xs(l[h],u[h]))return!1;return!0}function cm(l,u,h,x,S,I){return yi=I,_n=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,fe.H=l===null||l.memoizedState===null?hA:$v,ta=!1,I=h(x,S),ta=!1,co&&(I=Ml(u,h,x,S)),e0(l),I}function e0(l){fe.H=xm;var u=Tn!==null&&Tn.next!==null;if(yi=0,yr=Tn=_n=null,pa=!1,gc=0,xc=null,u)throw Error(r(300));l===null||ss||(l=l.dependencies,l!==null&&Xh(l)&&(ss=!0))}function Ml(l,u,h,x){_n=l;var S=0;do{if(co&&(xc=null),gc=0,co=!1,25<=S)throw Error(r(301));if(S+=1,yr=Tn=null,l.updateQueue!=null){var I=l.updateQueue;I.lastEffect=null,I.events=null,I.stores=null,I.memoCache!=null&&(I.memoCache.index=0)}fe.H=pA,I=u(h,x)}while(co);return I}function Uv(){var l=fe.H,u=l.useState()[0];return u=typeof u.then=="function"?yc(u):u,l=l.useState()[0],(Tn!==null?Tn.memoizedState:null)!==l&&(_n.flags|=1024),u}function um(){var l=Bi!==0;return Bi=0,l}function fm(l,u,h){u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~h}function t0(l){if(pa){for(l=l.memoizedState;l!==null;){var u=l.queue;u!==null&&(u.pending=null),l=l.next}pa=!1}yi=0,yr=Tn=_n=null,co=!1,gc=Bi=0,xc=null}function is(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yr===null?_n.memoizedState=yr=l:yr=yr.next=l,yr}function vi(){if(Tn===null){var l=_n.alternate;l=l!==null?l.memoizedState:null}else l=Tn.next;var u=yr===null?_n.memoizedState:yr.next;if(u!==null)yr=u,Tn=l;else{if(l===null)throw _n.alternate===null?Error(r(467)):Error(r(310));Tn=l,l={memoizedState:Tn.memoizedState,baseState:Tn.baseState,baseQueue:Tn.baseQueue,queue:Tn.queue,next:null},yr===null?_n.memoizedState=yr=l:yr=yr.next=l}return yr}function Sd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function yc(l){var u=gc;return gc+=1,xc===null&&(xc=[]),l=ut(xc,l,u),u=_n,(yr===null?u.memoizedState:yr.next)===null&&(u=u.alternate,fe.H=u===null||u.memoizedState===null?hA:$v),l}function of(l){if(l!==null&&typeof l=="object"){if(typeof l.then=="function")return yc(l);if(l.$$typeof===R)return _s(l)}throw Error(r(438,String(l)))}function au(l){var u=null,h=_n.updateQueue;if(h!==null&&(u=h.memoCache),u==null){var x=_n.alternate;x!==null&&(x=x.updateQueue,x!==null&&(x=x.memoCache,x!=null&&(u={data:x.data.map(function(S){return S.slice()}),index:0})))}if(u==null&&(u={data:[],index:0}),h===null&&(h=Sd(),_n.updateQueue=h),h.memoCache=u,h=u.data[u.index],h===void 0)for(h=u.data[u.index]=Array(l),x=0;x<l;x++)h[x]=q;return u.index++,h}function rl(l,u){return typeof u=="function"?u(l):u}function n0(l){var u=vi();return lf(u,Tn,l)}function lf(l,u,h){var x=l.queue;if(x===null)throw Error(r(311));x.lastRenderedReducer=h;var S=l.baseQueue,I=x.pending;if(I!==null){if(S!==null){var K=S.next;S.next=I.next,I.next=K}u.baseQueue=S=I,x.pending=null}if(I=l.baseState,S===null)l.memoizedState=I;else{u=S.next;var ue=K=null,De=null,Ze=u,ht=!1;do{var xt=Ze.lane&-536870913;if(xt!==Ze.lane?(lr&xt)===xt:(yi&xt)===xt){var nt=Ze.revertLane;if(nt===0)De!==null&&(De=De.next={lane:0,revertLane:0,gesture:null,action:Ze.action,hasEagerState:Ze.hasEagerState,eagerState:Ze.eagerState,next:null}),xt===b&&(ht=!0);else if((yi&nt)===nt){Ze=Ze.next,nt===b&&(ht=!0);continue}else xt={lane:0,revertLane:Ze.revertLane,gesture:null,action:Ze.action,hasEagerState:Ze.hasEagerState,eagerState:Ze.eagerState,next:null},De===null?(ue=De=xt,K=I):De=De.next=xt,_n.lanes|=nt,hf|=nt;xt=Ze.action,ta&&h(I,xt),I=Ze.hasEagerState?Ze.eagerState:h(I,xt)}else nt={lane:xt,revertLane:Ze.revertLane,gesture:Ze.gesture,action:Ze.action,hasEagerState:Ze.hasEagerState,eagerState:Ze.eagerState,next:null},De===null?(ue=De=nt,K=I):De=De.next=nt,_n.lanes|=xt,hf|=xt;Ze=Ze.next}while(Ze!==null&&Ze!==u);if(De===null?K=I:De.next=ue,!xs(I,l.memoizedState)&&(ss=!0,ht&&(h=N,h!==null)))throw h;l.memoizedState=I,l.baseState=K,l.baseQueue=De,x.lastRenderedState=I}return S===null&&(x.lanes=0),[l.memoizedState,x.dispatch]}function r0(l){var u=vi(),h=u.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=l;var x=h.dispatch,S=h.pending,I=u.memoizedState;if(S!==null){h.pending=null;var K=S=S.next;do I=l(I,K.action),K=K.next;while(K!==S);xs(I,u.memoizedState)||(ss=!0),u.memoizedState=I,u.baseQueue===null&&(u.baseState=I),h.lastRenderedState=I}return[I,x]}function i0(l,u,h){var x=_n,S=vi(),I=nr;if(I){if(h===void 0)throw Error(r(407));h=h()}else h=u();var K=!xs((Tn||S).memoizedState,h);if(K&&(S.memoizedState=h,ss=!0),S=S.queue,jv(hm.bind(null,x,S,l),[l]),S.getSnapshot!==u||K||yr!==null&&yr.memoizedState.tag&1){if(x.flags|=2048,lu(9,{destroy:void 0},dm.bind(null,x,S,h,u),null),ii===null)throw Error(r(349));I||(yi&127)!==0||Ll(x,u,h)}return h}function Ll(l,u,h){l.flags|=16384,l={getSnapshot:u,value:h},u=_n.updateQueue,u===null?(u=Sd(),_n.updateQueue=u,u.stores=[l]):(h=u.stores,h===null?u.stores=[l]:h.push(l))}function dm(l,u,h,x){u.value=h,u.getSnapshot=x,$1(u)&&pm(l)}function hm(l,u,h){return h(function(){$1(u)&&pm(l)})}function $1(l){var u=l.getSnapshot;l=l.value;try{var h=u();return!xs(l,h)}catch{return!0}}function pm(l){var u=Pl(l,2);u!==null&&mo(u,l,2)}function vc(l){var u=is();if(typeof l=="function"){var h=l;if(l=h(),ta){zt(!0);try{h()}finally{zt(!1)}}}return u.memoizedState=u.baseState=l,u.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rl,lastRenderedState:l},u}function K1(l,u,h,x){return l.baseState=h,lf(l,Tn,typeof x=="function"?x:rl)}function Y1(l,u,h,x,S){if(Z1(l))throw Error(r(485));if(l=u.action,l!==null){var I={payload:S,action:l,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(K){I.listeners.push(K)}};fe.T!==null?h(!0):I.isTransition=!1,x(I),h=u.pending,h===null?(I.next=u.pending=I,X1(u,I)):(I.next=h.next,u.pending=h.next=I)}}function X1(l,u){var h=u.action,x=u.payload,S=l.state;if(u.isTransition){var I=fe.T,K={};fe.T=K;try{var ue=h(S,x),De=fe.S;De!==null&&De(K,ue),mm(l,u,ue)}catch(Ze){ou(l,u,Ze)}finally{I!==null&&K.types!==null&&(I.types=K.types),fe.T=I}}else try{I=h(S,x),mm(l,u,I)}catch(Ze){ou(l,u,Ze)}}function mm(l,u,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(x){J1(l,u,x)},function(x){return ou(l,u,x)}):J1(l,u,h)}function J1(l,u,h){u.status="fulfilled",u.value=h,s0(u),l.state=h,u=l.pending,u!==null&&(h=u.next,h===u?l.pending=null:(h=h.next,u.next=h,X1(l,h)))}function ou(l,u,h){var x=l.pending;if(l.pending=null,x!==null){x=x.next;do u.status="rejected",u.reason=h,s0(u),u=u.next;while(u!==x)}l.action=null}function s0(l){l=l.listeners;for(var u=0;u<l.length;u++)(0,l[u])()}function Ad(l,u){return u}function il(l,u){if(nr){var h=ii.formState;if(h!==null){e:{var x=_n;if(nr){if(ni){t:{for(var S=ni,I=xi;S.nodeType!==8;){if(!I){S=null;break t}if(S=sl(S.nextSibling),S===null){S=null;break t}}I=S.data,S=I==="F!"||I==="F"?S:null}if(S){ni=sl(S.nextSibling),x=S.data==="F!";break e}}fc(x)}x=!1}x&&(u=h[0])}}return h=is(),h.memoizedState=h.baseState=u,x={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ad,lastRenderedState:u},h.queue=x,h=uA.bind(null,_n,x),x.dispatch=h,x=vc(!1),I=Wv.bind(null,_n,!1,x.queue),x=is(),S={state:u,dispatch:null,action:l,pending:null},x.queue=S,h=Y1.bind(null,_n,S,I,h),S.dispatch=h,x.memoizedState=l,[u,h,!1]}function Fl(l){var u=vi();return Ol(u,Tn,l)}function Ol(l,u,h){if(u=lf(l,u,Ad)[0],l=n0(rl)[0],typeof u=="object"&&u!==null&&typeof u.then=="function")try{var x=yc(u)}catch(K){throw K===Fe?Te:K}else x=u;u=vi();var S=u.queue,I=S.dispatch;return h!==u.memoizedState&&(_n.flags|=2048,lu(9,{destroy:void 0},a0.bind(null,S,h),null)),[x,I,l]}function a0(l,u){l.action=u}function o0(l){var u=vi(),h=Tn;if(h!==null)return Ol(u,h,l);vi(),u=u.memoizedState,h=vi();var x=h.queue.dispatch;return h.memoizedState=l,[u,x,!1]}function lu(l,u,h,x){return l={tag:l,create:h,deps:x,inst:u,next:null},u=_n.updateQueue,u===null&&(u=Sd(),_n.updateQueue=u),h=u.lastEffect,h===null?u.lastEffect=l.next=l:(x=h.next,h.next=l,l.next=x,u.lastEffect=l),l}function Q1(){return vi().memoizedState}function cf(l,u,h,x){var S=is();_n.flags|=l,S.memoizedState=lu(1|u,{destroy:void 0},h,x===void 0?null:x)}function uf(l,u,h,x){var S=vi();x=x===void 0?null:x;var I=S.memoizedState.inst;Tn!==null&&x!==null&&lm(x,Tn.memoizedState.deps)?S.memoizedState=lu(u,I,h,x):(_n.flags|=l,S.memoizedState=lu(1|u,I,h,x))}function XS(l,u){cf(8390656,8,l,u)}function jv(l,u){uf(2048,8,l,u)}function UB(l){_n.flags|=4;var u=_n.updateQueue;if(u===null)u=Sd(),_n.updateQueue=u,u.events=[l];else{var h=u.events;h===null?u.events=[l]:h.push(l)}}function JS(l){var u=vi().memoizedState;return UB({ref:u,nextImpl:l}),function(){if((Dr&2)!==0)throw Error(r(440));return u.impl.apply(void 0,arguments)}}function QS(l,u){return uf(4,2,l,u)}function ZS(l,u){return uf(4,4,l,u)}function eA(l,u){if(typeof u=="function"){l=l();var h=u(l);return function(){typeof h=="function"?h():u(null)}}if(u!=null)return l=l(),u.current=l,function(){u.current=null}}function tA(l,u,h){h=h!=null?h.concat([l]):null,uf(4,4,eA.bind(null,u,l),h)}function qv(){}function nA(l,u){var h=vi();u=u===void 0?null:u;var x=h.memoizedState;return u!==null&&lm(u,x[1])?x[0]:(h.memoizedState=[l,u],l)}function rA(l,u){var h=vi();u=u===void 0?null:u;var x=h.memoizedState;if(u!==null&&lm(u,x[1]))return x[0];if(x=l(),ta){zt(!0);try{l()}finally{zt(!1)}}return h.memoizedState=[x,u],x}function Hv(l,u,h){return h===void 0||(yi&1073741824)!==0&&(lr&261930)===0?l.memoizedState=u:(l.memoizedState=h,l=iN(),_n.lanes|=l,hf|=l,h)}function iA(l,u,h,x){return xs(h,u)?h:Xn.current!==null?(l=Hv(l,h,x),xs(l,u)||(ss=!0),l):(yi&42)===0||(yi&1073741824)!==0&&(lr&261930)===0?(ss=!0,l.memoizedState=h):(l=iN(),_n.lanes|=l,hf|=l,u)}function sA(l,u,h,x,S){var I=xe.p;xe.p=I!==0&&8>I?I:8;var K=fe.T,ue={};fe.T=ue,Wv(l,!1,u,h);try{var De=S(),Ze=fe.S;if(Ze!==null&&Ze(ue,De),De!==null&&typeof De=="object"&&typeof De.then=="function"){var ht=ne(De,x);gm(l,u,ht,Mo(l))}else gm(l,u,x,Mo(l))}catch(xt){gm(l,u,{then:function(){},status:"rejected",reason:xt},Mo())}finally{xe.p=I,K!==null&&ue.types!==null&&(K.types=ue.types),fe.T=K}}function jB(){}function zv(l,u,h,x){if(l.tag!==5)throw Error(r(476));var S=aA(l).queue;sA(l,S,u,Ne,h===null?jB:function(){return oA(l),h(x)})}function aA(l){var u=l.memoizedState;if(u!==null)return u;u={memoizedState:Ne,baseState:Ne,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rl,lastRenderedState:Ne},next:null};var h={};return u.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rl,lastRenderedState:h},next:null},l.memoizedState=u,l=l.alternate,l!==null&&(l.memoizedState=u),u}function oA(l){var u=aA(l);u.next===null&&(u=l.alternate.memoizedState),gm(l,u.next.queue,{},Mo())}function Gv(){return _s(Dm)}function lA(){return vi().memoizedState}function cA(){return vi().memoizedState}function qB(l){for(var u=l.return;u!==null;){switch(u.tag){case 24:case 3:var h=Mo();l=An(h);var x=zn(u,l,h);x!==null&&(mo(x,u,h),Rr(x,u,h)),u={cache:af()},l.payload=u;return}u=u.return}}function HB(l,u,h){var x=Mo();h={lane:x,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},Z1(l)?fA(u,h):(h=qh(l,u,h,x),h!==null&&(mo(h,l,x),dA(h,u,x)))}function uA(l,u,h){var x=Mo();gm(l,u,h,x)}function gm(l,u,h,x){var S={lane:x,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null};if(Z1(l))fA(u,S);else{var I=l.alternate;if(l.lanes===0&&(I===null||I.lanes===0)&&(I=u.lastRenderedReducer,I!==null))try{var K=u.lastRenderedState,ue=I(K,h);if(S.hasEagerState=!0,S.eagerState=ue,xs(ue,K))return yd(l,u,S,0),ii===null&&xd(),!1}catch{}finally{}if(h=qh(l,u,S,x),h!==null)return mo(h,l,x),dA(h,u,x),!0}return!1}function Wv(l,u,h,x){if(x={lane:2,revertLane:Eb(),gesture:null,action:x,hasEagerState:!1,eagerState:null,next:null},Z1(l)){if(u)throw Error(r(479))}else u=qh(l,h,x,2),u!==null&&mo(u,l,2)}function Z1(l){var u=l.alternate;return l===_n||u!==null&&u===_n}function fA(l,u){co=pa=!0;var h=l.pending;h===null?u.next=u:(u.next=h.next,h.next=u),l.pending=u}function dA(l,u,h){if((h&4194048)!==0){var x=u.lanes;x&=l.pendingLanes,h|=x,u.lanes=h,qt(l,h)}}var xm={readContext:_s,use:of,useCallback:Kr,useContext:Kr,useEffect:Kr,useImperativeHandle:Kr,useLayoutEffect:Kr,useInsertionEffect:Kr,useMemo:Kr,useReducer:Kr,useRef:Kr,useState:Kr,useDebugValue:Kr,useDeferredValue:Kr,useTransition:Kr,useSyncExternalStore:Kr,useId:Kr,useHostTransitionStatus:Kr,useFormState:Kr,useActionState:Kr,useOptimistic:Kr,useMemoCache:Kr,useCacheRefresh:Kr};xm.useEffectEvent=Kr;var hA={readContext:_s,use:of,useCallback:function(l,u){return is().memoizedState=[l,u===void 0?null:u],l},useContext:_s,useEffect:XS,useImperativeHandle:function(l,u,h){h=h!=null?h.concat([l]):null,cf(4194308,4,eA.bind(null,u,l),h)},useLayoutEffect:function(l,u){return cf(4194308,4,l,u)},useInsertionEffect:function(l,u){cf(4,2,l,u)},useMemo:function(l,u){var h=is();u=u===void 0?null:u;var x=l();if(ta){zt(!0);try{l()}finally{zt(!1)}}return h.memoizedState=[x,u],x},useReducer:function(l,u,h){var x=is();if(h!==void 0){var S=h(u);if(ta){zt(!0);try{h(u)}finally{zt(!1)}}}else S=u;return x.memoizedState=x.baseState=S,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:S},x.queue=l,l=l.dispatch=HB.bind(null,_n,l),[x.memoizedState,l]},useRef:function(l){var u=is();return l={current:l},u.memoizedState=l},useState:function(l){l=vc(l);var u=l.queue,h=uA.bind(null,_n,u);return u.dispatch=h,[l.memoizedState,h]},useDebugValue:qv,useDeferredValue:function(l,u){var h=is();return Hv(h,l,u)},useTransition:function(){var l=vc(!1);return l=sA.bind(null,_n,l.queue,!0,!1),is().memoizedState=l,[!1,l]},useSyncExternalStore:function(l,u,h){var x=_n,S=is();if(nr){if(h===void 0)throw Error(r(407));h=h()}else{if(h=u(),ii===null)throw Error(r(349));(lr&127)!==0||Ll(x,u,h)}S.memoizedState=h;var I={value:h,getSnapshot:u};return S.queue=I,XS(hm.bind(null,x,I,l),[l]),x.flags|=2048,lu(9,{destroy:void 0},dm.bind(null,x,I,h,u),null),h},useId:function(){var l=is(),u=ii.identifierPrefix;if(nr){var h=oo,x=ao;h=(x&~(1<<32-xn(x)-1)).toString(32)+h,u="_"+u+"R_"+h,h=Bi++,0<h&&(u+="H"+h.toString(32)),u+="_"}else h=Zh++,u="_"+u+"r_"+h.toString(32)+"_";return l.memoizedState=u},useHostTransitionStatus:Gv,useFormState:il,useActionState:il,useOptimistic:function(l){var u=is();u.memoizedState=u.baseState=l;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return u.queue=h,u=Wv.bind(null,_n,!0,h),h.dispatch=u,[l,u]},useMemoCache:au,useCacheRefresh:function(){return is().memoizedState=qB.bind(null,_n)},useEffectEvent:function(l){var u=is(),h={impl:l};return u.memoizedState=h,function(){if((Dr&2)!==0)throw Error(r(440));return h.impl.apply(void 0,arguments)}}},$v={readContext:_s,use:of,useCallback:nA,useContext:_s,useEffect:jv,useImperativeHandle:tA,useInsertionEffect:QS,useLayoutEffect:ZS,useMemo:rA,useReducer:n0,useRef:Q1,useState:function(){return n0(rl)},useDebugValue:qv,useDeferredValue:function(l,u){var h=vi();return iA(h,Tn.memoizedState,l,u)},useTransition:function(){var l=n0(rl)[0],u=vi().memoizedState;return[typeof l=="boolean"?l:yc(l),u]},useSyncExternalStore:i0,useId:lA,useHostTransitionStatus:Gv,useFormState:Fl,useActionState:Fl,useOptimistic:function(l,u){var h=vi();return K1(h,Tn,l,u)},useMemoCache:au,useCacheRefresh:cA};$v.useEffectEvent=JS;var pA={readContext:_s,use:of,useCallback:nA,useContext:_s,useEffect:jv,useImperativeHandle:tA,useInsertionEffect:QS,useLayoutEffect:ZS,useMemo:rA,useReducer:r0,useRef:Q1,useState:function(){return r0(rl)},useDebugValue:qv,useDeferredValue:function(l,u){var h=vi();return Tn===null?Hv(h,l,u):iA(h,Tn.memoizedState,l,u)},useTransition:function(){var l=r0(rl)[0],u=vi().memoizedState;return[typeof l=="boolean"?l:yc(l),u]},useSyncExternalStore:i0,useId:lA,useHostTransitionStatus:Gv,useFormState:o0,useActionState:o0,useOptimistic:function(l,u){var h=vi();return Tn!==null?K1(h,Tn,l,u):(h.baseState=l,[l,h.queue.dispatch])},useMemoCache:au,useCacheRefresh:cA};pA.useEffectEvent=JS;function Kv(l,u,h,x){u=l.memoizedState,h=h(x,u),h=h==null?u:m({},u,h),l.memoizedState=h,l.lanes===0&&(l.updateQueue.baseState=h)}var Yv={enqueueSetState:function(l,u,h){l=l._reactInternals;var x=Mo(),S=An(x);S.payload=u,h!=null&&(S.callback=h),u=zn(l,S,x),u!==null&&(mo(u,l,x),Rr(u,l,x))},enqueueReplaceState:function(l,u,h){l=l._reactInternals;var x=Mo(),S=An(x);S.tag=1,S.payload=u,h!=null&&(S.callback=h),u=zn(l,S,x),u!==null&&(mo(u,l,x),Rr(u,l,x))},enqueueForceUpdate:function(l,u){l=l._reactInternals;var h=Mo(),x=An(h);x.tag=2,u!=null&&(x.callback=u),u=zn(l,x,h),u!==null&&(mo(u,l,h),Rr(u,l,h))}};function mA(l,u,h,x,S,I,K){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(x,I,K):u.prototype&&u.prototype.isPureReactComponent?!Cl(h,x)||!Cl(S,I):!0}function gA(l,u,h,x){l=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(h,x),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(h,x),u.state!==l&&Yv.enqueueReplaceState(u,u.state,null)}function Nd(l,u){var h=u;if("ref"in u){h={};for(var x in u)x!=="ref"&&(h[x]=u[x])}if(l=l.defaultProps){h===u&&(h=m({},h));for(var S in l)h[S]===void 0&&(h[S]=l[S])}return h}function xA(l){gd(l)}function yA(l){console.error(l)}function vA(l){gd(l)}function ex(l,u){try{var h=l.onUncaughtError;h(u.value,{componentStack:u.stack})}catch(x){setTimeout(function(){throw x})}}function bA(l,u,h){try{var x=l.onCaughtError;x(h.value,{componentStack:h.stack,errorBoundary:u.tag===1?u.stateNode:null})}catch(S){setTimeout(function(){throw S})}}function Xv(l,u,h){return h=An(h),h.tag=3,h.payload={element:null},h.callback=function(){ex(l,u)},h}function _A(l){return l=An(l),l.tag=3,l}function wA(l,u,h,x){var S=h.type.getDerivedStateFromError;if(typeof S=="function"){var I=x.value;l.payload=function(){return S(I)},l.callback=function(){bA(u,h,x)}}var K=h.stateNode;K!==null&&typeof K.componentDidCatch=="function"&&(l.callback=function(){bA(u,h,x),typeof S!="function"&&(pf===null?pf=new Set([this]):pf.add(this));var ue=x.stack;this.componentDidCatch(x.value,{componentStack:ue!==null?ue:""})})}function zB(l,u,h,x,S){if(h.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){if(u=h.alternate,u!==null&&pc(u,h,S,!0),h=fi.current,h!==null){switch(h.tag){case 31:case 13:return xr===null?dx():h.alternate===null&&Vi===0&&(Vi=3),h.flags&=-257,h.flags|=65536,h.lanes=S,x===Ve?h.flags|=16384:(u=h.updateQueue,u===null?h.updateQueue=new Set([x]):u.add(x),_b(l,x,S)),!1;case 22:return h.flags|=65536,x===Ve?h.flags|=16384:(u=h.updateQueue,u===null?(u={transitions:null,markerInstances:null,retryQueue:new Set([x])},h.updateQueue=u):(h=u.retryQueue,h===null?u.retryQueue=new Set([x]):h.add(x)),_b(l,x,S)),!1}throw Error(r(435,h.tag))}return _b(l,x,S),dx(),!1}if(nr)return u=fi.current,u!==null?((u.flags&65536)===0&&(u.flags|=256),u.flags|=65536,u.lanes=S,x!==Ro&&(l=Error(r(422),{cause:x}),rf(ro(l,h)))):(x!==Ro&&(u=Error(r(423),{cause:x}),rf(ro(u,h))),l=l.current.alternate,l.flags|=65536,S&=-S,l.lanes|=S,x=ro(x,h),S=Xv(l.stateNode,x,S),Ki(l,S),Vi!==4&&(Vi=2)),!1;var I=Error(r(520),{cause:x});if(I=ro(I,h),Sm===null?Sm=[I]:Sm.push(I),Vi!==4&&(Vi=2),u===null)return!0;x=ro(x,h),h=u;do{switch(h.tag){case 3:return h.flags|=65536,l=S&-S,h.lanes|=l,l=Xv(h.stateNode,x,l),Ki(h,l),!1;case 1:if(u=h.type,I=h.stateNode,(h.flags&128)===0&&(typeof u.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(pf===null||!pf.has(I))))return h.flags|=65536,S&=-S,h.lanes|=S,S=_A(S),wA(S,l,h,x),Ki(h,S),!1}h=h.return}while(h!==null);return!1}var Jv=Error(r(461)),ss=!1;function na(l,u,h,x){u.child=l===null?Bn(u,null,h,x):ri(u,l.child,h,x)}function TA(l,u,h,x,S){h=h.render;var I=u.ref;if("ref"in x){var K={};for(var ue in x)ue!=="ref"&&(K[ue]=x[ue])}else K=x;return mc(u),x=cm(l,u,h,K,I,S),ue=um(),l!==null&&!ss?(fm(l,u,S),cu(l,u,S)):(nr&&ue&&sm(u),u.flags|=1,na(l,u,x,S),u.child)}function EA(l,u,h,x,S){if(l===null){var I=h.type;return typeof I=="function"&&!zh(I)&&I.defaultProps===void 0&&h.compare===null?(u.tag=15,u.type=I,SA(l,u,I,x,S)):(l=ef(h.type,null,x,u,u.mode,S),l.ref=u.ref,l.return=u,u.child=l)}if(I=l.child,!sb(l,S)){var K=I.memoizedProps;if(h=h.compare,h=h!==null?h:Cl,h(K,x)&&l.ref===u.ref)return cu(l,u,S)}return u.flags|=1,l=no(I,x),l.ref=u.ref,l.return=u,u.child=l}function SA(l,u,h,x,S){if(l!==null){var I=l.memoizedProps;if(Cl(I,x)&&l.ref===u.ref)if(ss=!1,u.pendingProps=x=I,sb(l,S))(l.flags&131072)!==0&&(ss=!0);else return u.lanes=l.lanes,cu(l,u,S)}return Qv(l,u,h,x,S)}function AA(l,u,h,x){var S=x.children,I=l!==null?l.memoizedState:null;if(l===null&&u.stateNode===null&&(u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),x.mode==="hidden"){if((u.flags&128)!==0){if(I=I!==null?I.baseLanes|h:h,l!==null){for(x=u.child=l.child,S=0;x!==null;)S=S|x.lanes|x.childLanes,x=x.sibling;x=S&~I}else x=0,u.child=null;return NA(l,u,I,h,x)}if((h&536870912)!==0)u.memoizedState={baseLanes:0,cachePool:null},l!==null&&ye(u,I!==null?I.cachePool:null),I!==null?ui(u,I):Er(),Fi(u);else return x=u.lanes=536870912,NA(l,u,I!==null?I.baseLanes|h:h,h,x)}else I!==null?(ye(u,I.cachePool),ui(u,I),Oi(),u.memoizedState=null):(l!==null&&ye(u,null),Er(),Oi());return na(l,u,S,h),u.child}function ym(l,u){return l!==null&&l.tag===22||u.stateNode!==null||(u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.sibling}function NA(l,u,h,x,S){var I=de();return I=I===null?null:{parent:Ii._currentValue,pool:I},u.memoizedState={baseLanes:h,cachePool:I},l!==null&&ye(u,null),Er(),Fi(u),l!==null&&pc(l,u,x,!0),u.childLanes=S,null}function tx(l,u){return u=rx({mode:u.mode,children:u.children},l.mode),u.ref=l.ref,l.child=u,u.return=l,u}function CA(l,u,h){return ri(u,l.child,null,h),l=tx(u,u.pendingProps),l.flags|=2,Or(u),u.memoizedState=null,l}function GB(l,u,h){var x=u.pendingProps,S=(u.flags&128)!==0;if(u.flags&=-129,l===null){if(nr){if(x.mode==="hidden")return l=tx(u,x),u.lanes=536870912,ym(null,l);if(Pr(u),(l=ni)?(l=UN(l,xi),l=l!==null&&l.data==="&"?l:null,l!==null&&(u.memoizedState={dehydrated:l,treeContext:uc!==null?{id:ao,overflow:oo}:null,retryLane:536870912,hydrationErrors:null},h=Gh(l),h.return=u,u.child=h,vs=u,ni=null)):l=null,l===null)throw fc(u);return u.lanes=536870912,null}return tx(u,x)}var I=l.memoizedState;if(I!==null){var K=I.dehydrated;if(Pr(u),S)if(u.flags&256)u.flags&=-257,u=CA(l,u,h);else if(u.memoizedState!==null)u.child=l.child,u.flags|=128,u=null;else throw Error(r(558));else if(ss||pc(l,u,h,!1),S=(h&l.childLanes)!==0,ss||S){if(x=ii,x!==null&&(K=$n(x,h),K!==0&&K!==I.retryLane))throw I.retryLane=K,Pl(l,K),mo(x,l,K),Jv;dx(),u=CA(l,u,h)}else l=I.treeContext,ni=sl(K.nextSibling),vs=u,nr=!0,ea=null,xi=!1,l!==null&&G1(u,l),u=tx(u,x),u.flags|=4096;return u}return l=no(l.child,{mode:x.mode,children:x.children}),l.ref=u.ref,u.child=l,l.return=u,l}function nx(l,u){var h=u.ref;if(h===null)l!==null&&l.ref!==null&&(u.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(r(284));(l===null||l.ref!==h)&&(u.flags|=4194816)}}function Qv(l,u,h,x,S){return mc(u),h=cm(l,u,h,x,void 0,S),x=um(),l!==null&&!ss?(fm(l,u,S),cu(l,u,S)):(nr&&x&&sm(u),u.flags|=1,na(l,u,h,S),u.child)}function IA(l,u,h,x,S,I){return mc(u),u.updateQueue=null,h=Ml(u,x,h,S),e0(l),x=um(),l!==null&&!ss?(fm(l,u,I),cu(l,u,I)):(nr&&x&&sm(u),u.flags|=1,na(l,u,h,I),u.child)}function kA(l,u,h,x,S){if(mc(u),u.stateNode===null){var I=ys,K=h.contextType;typeof K=="object"&&K!==null&&(I=_s(K)),I=new h(x,I),u.memoizedState=I.state!==null&&I.state!==void 0?I.state:null,I.updater=Yv,u.stateNode=I,I._reactInternals=u,I=u.stateNode,I.props=x,I.state=u.memoizedState,I.refs={},Ot(u),K=h.contextType,I.context=typeof K=="object"&&K!==null?_s(K):ys,I.state=u.memoizedState,K=h.getDerivedStateFromProps,typeof K=="function"&&(Kv(u,h,K,x),I.state=u.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof I.getSnapshotBeforeUpdate=="function"||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(K=I.state,typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount(),K!==I.state&&Yv.enqueueReplaceState(I,I.state,null),Mi(u,x,I,S),$r(),I.state=u.memoizedState),typeof I.componentDidMount=="function"&&(u.flags|=4194308),x=!0}else if(l===null){I=u.stateNode;var ue=u.memoizedProps,De=Nd(h,ue);I.props=De;var Ze=I.context,ht=h.contextType;K=ys,typeof ht=="object"&&ht!==null&&(K=_s(ht));var xt=h.getDerivedStateFromProps;ht=typeof xt=="function"||typeof I.getSnapshotBeforeUpdate=="function",ue=u.pendingProps!==ue,ht||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(ue||Ze!==K)&&gA(u,I,x,K),Kt=!1;var nt=u.memoizedState;I.state=nt,Mi(u,x,I,S),$r(),Ze=u.memoizedState,ue||nt!==Ze||Kt?(typeof xt=="function"&&(Kv(u,h,xt,x),Ze=u.memoizedState),(De=Kt||mA(u,h,De,x,nt,Ze,K))?(ht||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount()),typeof I.componentDidMount=="function"&&(u.flags|=4194308)):(typeof I.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=x,u.memoizedState=Ze),I.props=x,I.state=Ze,I.context=K,x=De):(typeof I.componentDidMount=="function"&&(u.flags|=4194308),x=!1)}else{I=u.stateNode,ci(l,u),K=u.memoizedProps,ht=Nd(h,K),I.props=ht,xt=u.pendingProps,nt=I.context,Ze=h.contextType,De=ys,typeof Ze=="object"&&Ze!==null&&(De=_s(Ze)),ue=h.getDerivedStateFromProps,(Ze=typeof ue=="function"||typeof I.getSnapshotBeforeUpdate=="function")||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(K!==xt||nt!==De)&&gA(u,I,x,De),Kt=!1,nt=u.memoizedState,I.state=nt,Mi(u,x,I,S),$r();var ot=u.memoizedState;K!==xt||nt!==ot||Kt||l!==null&&l.dependencies!==null&&Xh(l.dependencies)?(typeof ue=="function"&&(Kv(u,h,ue,x),ot=u.memoizedState),(ht=Kt||mA(u,h,ht,x,nt,ot,De)||l!==null&&l.dependencies!==null&&Xh(l.dependencies))?(Ze||typeof I.UNSAFE_componentWillUpdate!="function"&&typeof I.componentWillUpdate!="function"||(typeof I.componentWillUpdate=="function"&&I.componentWillUpdate(x,ot,De),typeof I.UNSAFE_componentWillUpdate=="function"&&I.UNSAFE_componentWillUpdate(x,ot,De)),typeof I.componentDidUpdate=="function"&&(u.flags|=4),typeof I.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof I.componentDidUpdate!="function"||K===l.memoizedProps&&nt===l.memoizedState||(u.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||K===l.memoizedProps&&nt===l.memoizedState||(u.flags|=1024),u.memoizedProps=x,u.memoizedState=ot),I.props=x,I.state=ot,I.context=De,x=ht):(typeof I.componentDidUpdate!="function"||K===l.memoizedProps&&nt===l.memoizedState||(u.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||K===l.memoizedProps&&nt===l.memoizedState||(u.flags|=1024),x=!1)}return I=x,nx(l,u),x=(u.flags&128)!==0,I||x?(I=u.stateNode,h=x&&typeof h.getDerivedStateFromError!="function"?null:I.render(),u.flags|=1,l!==null&&x?(u.child=ri(u,l.child,null,S),u.child=ri(u,null,h,S)):na(l,u,h,S),u.memoizedState=I.state,l=u.child):l=cu(l,u,S),l}function RA(l,u,h,x){return iu(),u.flags|=256,na(l,u,h,x),u.child}var Zv={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function eb(l){return{baseLanes:l,cachePool:Se()}}function tb(l,u,h){return l=l!==null?l.childLanes&~h:0,u&&(l|=Do),l}function PA(l,u,h){var x=u.pendingProps,S=!1,I=(u.flags&128)!==0,K;if((K=I)||(K=l!==null&&l.memoizedState===null?!1:(dr.current&2)!==0),K&&(S=!0,u.flags&=-129),K=(u.flags&32)!==0,u.flags&=-33,l===null){if(nr){if(S?ki(u):Oi(),(l=ni)?(l=UN(l,xi),l=l!==null&&l.data!=="&"?l:null,l!==null&&(u.memoizedState={dehydrated:l,treeContext:uc!==null?{id:ao,overflow:oo}:null,retryLane:536870912,hydrationErrors:null},h=Gh(l),h.return=u,u.child=h,vs=u,ni=null)):l=null,l===null)throw fc(u);return Ob(l)?u.lanes=32:u.lanes=536870912,null}var ue=x.children;return x=x.fallback,S?(Oi(),S=u.mode,ue=rx({mode:"hidden",children:ue},S),x=cc(x,S,h,null),ue.return=u,x.return=u,ue.sibling=x,u.child=ue,x=u.child,x.memoizedState=eb(h),x.childLanes=tb(l,K,h),u.memoizedState=Zv,ym(null,x)):(ki(u),nb(u,ue))}var De=l.memoizedState;if(De!==null&&(ue=De.dehydrated,ue!==null)){if(I)u.flags&256?(ki(u),u.flags&=-257,u=rb(l,u,h)):u.memoizedState!==null?(Oi(),u.child=l.child,u.flags|=128,u=null):(Oi(),ue=x.fallback,S=u.mode,x=rx({mode:"visible",children:x.children},S),ue=cc(ue,S,h,null),ue.flags|=2,x.return=u,ue.return=u,x.sibling=ue,u.child=x,ri(u,l.child,null,h),x=u.child,x.memoizedState=eb(h),x.childLanes=tb(l,K,h),u.memoizedState=Zv,u=ym(null,x));else if(ki(u),Ob(ue)){if(K=ue.nextSibling&&ue.nextSibling.dataset,K)var Ze=K.dgst;K=Ze,x=Error(r(419)),x.stack="",x.digest=K,rf({value:x,source:null,stack:null}),u=rb(l,u,h)}else if(ss||pc(l,u,h,!1),K=(h&l.childLanes)!==0,ss||K){if(K=ii,K!==null&&(x=$n(K,h),x!==0&&x!==De.retryLane))throw De.retryLane=x,Pl(l,x),mo(K,l,x),Jv;Fb(ue)||dx(),u=rb(l,u,h)}else Fb(ue)?(u.flags|=192,u.child=l.child,u=null):(l=De.treeContext,ni=sl(ue.nextSibling),vs=u,nr=!0,ea=null,xi=!1,l!==null&&G1(u,l),u=nb(u,x.children),u.flags|=4096);return u}return S?(Oi(),ue=x.fallback,S=u.mode,De=l.child,Ze=De.sibling,x=no(De,{mode:"hidden",children:x.children}),x.subtreeFlags=De.subtreeFlags&65011712,Ze!==null?ue=no(Ze,ue):(ue=cc(ue,S,h,null),ue.flags|=2),ue.return=u,x.return=u,x.sibling=ue,u.child=x,ym(null,x),x=u.child,ue=l.child.memoizedState,ue===null?ue=eb(h):(S=ue.cachePool,S!==null?(De=Ii._currentValue,S=S.parent!==De?{parent:De,pool:De}:S):S=Se(),ue={baseLanes:ue.baseLanes|h,cachePool:S}),x.memoizedState=ue,x.childLanes=tb(l,K,h),u.memoizedState=Zv,ym(l.child,x)):(ki(u),h=l.child,l=h.sibling,h=no(h,{mode:"visible",children:x.children}),h.return=u,h.sibling=null,l!==null&&(K=u.deletions,K===null?(u.deletions=[l],u.flags|=16):K.push(l)),u.child=h,u.memoizedState=null,h)}function nb(l,u){return u=rx({mode:"visible",children:u},l.mode),u.return=l,l.child=u}function rx(l,u){return l=Os(22,l,null,u),l.lanes=0,l}function rb(l,u,h){return ri(u,l.child,null,h),l=nb(u,u.pendingProps.children),l.flags|=2,u.memoizedState=null,l}function DA(l,u,h){l.lanes|=u;var x=l.alternate;x!==null&&(x.lanes|=u),sf(l.return,u,h)}function ib(l,u,h,x,S,I){var K=l.memoizedState;K===null?l.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:x,tail:h,tailMode:S,treeForkCount:I}:(K.isBackwards=u,K.rendering=null,K.renderingStartTime=0,K.last=x,K.tail=h,K.tailMode=S,K.treeForkCount=I)}function MA(l,u,h){var x=u.pendingProps,S=x.revealOrder,I=x.tail;x=x.children;var K=dr.current,ue=(K&2)!==0;if(ue?(K=K&1|2,u.flags|=128):K&=1,Y(dr,K),na(l,u,x,h),x=nr?wd:0,!ue&&l!==null&&(l.flags&128)!==0)e:for(l=u.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&DA(l,h,u);else if(l.tag===19)DA(l,h,u);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===u)break e;for(;l.sibling===null;){if(l.return===null||l.return===u)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}switch(S){case"forwards":for(h=u.child,S=null;h!==null;)l=h.alternate,l!==null&&Vs(l)===null&&(S=h),h=h.sibling;h=S,h===null?(S=u.child,u.child=null):(S=h.sibling,h.sibling=null),ib(u,!1,S,h,I,x);break;case"backwards":case"unstable_legacy-backwards":for(h=null,S=u.child,u.child=null;S!==null;){if(l=S.alternate,l!==null&&Vs(l)===null){u.child=S;break}l=S.sibling,S.sibling=h,h=S,S=l}ib(u,!0,h,null,I,x);break;case"together":ib(u,!1,null,null,void 0,x);break;default:u.memoizedState=null}return u.child}function cu(l,u,h){if(l!==null&&(u.dependencies=l.dependencies),hf|=u.lanes,(h&u.childLanes)===0)if(l!==null){if(pc(l,u,h,!1),(h&u.childLanes)===0)return null}else return null;if(l!==null&&u.child!==l.child)throw Error(r(153));if(u.child!==null){for(l=u.child,h=no(l,l.pendingProps),u.child=h,h.return=u;l.sibling!==null;)l=l.sibling,h=h.sibling=no(l,l.pendingProps),h.return=u;h.sibling=null}return u.child}function sb(l,u){return(l.lanes&u)!==0?!0:(l=l.dependencies,!!(l!==null&&Xh(l)))}function WB(l,u,h){switch(u.tag){case 3:Pe(u,u.stateNode.containerInfo),hc(u,Ii,l.memoizedState.cache),iu();break;case 27:case 5:Ce(u);break;case 4:Pe(u,u.stateNode.containerInfo);break;case 10:hc(u,u.type,u.memoizedProps.value);break;case 31:if(u.memoizedState!==null)return u.flags|=128,Pr(u),null;break;case 13:var x=u.memoizedState;if(x!==null)return x.dehydrated!==null?(ki(u),u.flags|=128,null):(h&u.child.childLanes)!==0?PA(l,u,h):(ki(u),l=cu(l,u,h),l!==null?l.sibling:null);ki(u);break;case 19:var S=(l.flags&128)!==0;if(x=(h&u.childLanes)!==0,x||(pc(l,u,h,!1),x=(h&u.childLanes)!==0),S){if(x)return MA(l,u,h);u.flags|=128}if(S=u.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),Y(dr,dr.current),x)break;return null;case 22:return u.lanes=0,AA(l,u,h,u.pendingProps);case 24:hc(u,Ii,l.memoizedState.cache)}return cu(l,u,h)}function LA(l,u,h){if(l!==null)if(l.memoizedProps!==u.pendingProps)ss=!0;else{if(!sb(l,h)&&(u.flags&128)===0)return ss=!1,WB(l,u,h);ss=(l.flags&131072)!==0}else ss=!1,nr&&(u.flags&1048576)!==0&&z1(u,wd,u.index);switch(u.lanes=0,u.tag){case 16:e:{var x=u.pendingProps;if(l=$e(u.elementType),u.type=l,typeof l=="function")zh(l)?(x=Nd(l,x),u.tag=1,u=kA(null,u,l,x,h)):(u.tag=0,u=Qv(null,u,l,x,h));else{if(l!=null){var S=l.$$typeof;if(S===F){u.tag=11,u=TA(null,u,l,x,h);break e}else if(S===D){u.tag=14,u=EA(null,u,l,x,h);break e}}throw u=ae(l)||l,Error(r(306,u,""))}}return u;case 0:return Qv(l,u,u.type,u.pendingProps,h);case 1:return x=u.type,S=Nd(x,u.pendingProps),kA(l,u,x,S,h);case 3:e:{if(Pe(u,u.stateNode.containerInfo),l===null)throw Error(r(387));x=u.pendingProps;var I=u.memoizedState;S=I.element,ci(l,u),Mi(u,x,null,h);var K=u.memoizedState;if(x=K.cache,hc(u,Ii,x),x!==I.cache&&su(u,[Ii],h,!0),$r(),x=K.element,I.isDehydrated)if(I={element:x,isDehydrated:!1,cache:K.cache},u.updateQueue.baseState=I,u.memoizedState=I,u.flags&256){u=RA(l,u,x,h);break e}else if(x!==S){S=ro(Error(r(424)),u),rf(S),u=RA(l,u,x,h);break e}else{switch(l=u.stateNode.containerInfo,l.nodeType){case 9:l=l.body;break;default:l=l.nodeName==="HTML"?l.ownerDocument.body:l}for(ni=sl(l.firstChild),vs=u,nr=!0,ea=null,xi=!0,h=Bn(u,null,x,h),u.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling}else{if(iu(),x===S){u=cu(l,u,h);break e}na(l,u,x,h)}u=u.child}return u;case 26:return nx(l,u),l===null?(h=WN(u.type,null,u.pendingProps,null))?u.memoizedState=h:nr||(h=u.type,l=u.pendingProps,x=vx(ce.current).createElement(h),x[ge]=u,x[be]=l,ra(x,h,l),Xt(x),u.stateNode=x):u.memoizedState=WN(u.type,l.memoizedProps,u.pendingProps,l.memoizedState),null;case 27:return Ce(u),l===null&&nr&&(x=u.stateNode=HN(u.type,u.pendingProps,ce.current),vs=u,xi=!0,S=ni,yf(u.type)?(Bb=S,ni=sl(x.firstChild)):ni=S),na(l,u,u.pendingProps.children,h),nx(l,u),l===null&&(u.flags|=4194304),u.child;case 5:return l===null&&nr&&((S=x=ni)&&(x=wV(x,u.type,u.pendingProps,xi),x!==null?(u.stateNode=x,vs=u,ni=sl(x.firstChild),xi=!1,S=!0):S=!1),S||fc(u)),Ce(u),S=u.type,I=u.pendingProps,K=l!==null?l.memoizedProps:null,x=I.children,Db(S,I)?x=null:K!==null&&Db(S,K)&&(u.flags|=32),u.memoizedState!==null&&(S=cm(l,u,Uv,null,null,h),Dm._currentValue=S),nx(l,u),na(l,u,x,h),u.child;case 6:return l===null&&nr&&((l=h=ni)&&(h=TV(h,u.pendingProps,xi),h!==null?(u.stateNode=h,vs=u,ni=null,l=!0):l=!1),l||fc(u)),null;case 13:return PA(l,u,h);case 4:return Pe(u,u.stateNode.containerInfo),x=u.pendingProps,l===null?u.child=ri(u,null,x,h):na(l,u,x,h),u.child;case 11:return TA(l,u,u.type,u.pendingProps,h);case 7:return na(l,u,u.pendingProps,h),u.child;case 8:return na(l,u,u.pendingProps.children,h),u.child;case 12:return na(l,u,u.pendingProps.children,h),u.child;case 10:return x=u.pendingProps,hc(u,u.type,x.value),na(l,u,x.children,h),u.child;case 9:return S=u.type._context,x=u.pendingProps.children,mc(u),S=_s(S),x=x(S),u.flags|=1,na(l,u,x,h),u.child;case 14:return EA(l,u,u.type,u.pendingProps,h);case 15:return SA(l,u,u.type,u.pendingProps,h);case 19:return MA(l,u,h);case 31:return GB(l,u,h);case 22:return AA(l,u,h,u.pendingProps);case 24:return mc(u),x=_s(Ii),l===null?(S=de(),S===null&&(S=ii,I=af(),S.pooledCache=I,I.refCount++,I!==null&&(S.pooledCacheLanes|=h),S=I),u.memoizedState={parent:x,cache:S},Ot(u),hc(u,Ii,S)):((l.lanes&h)!==0&&(ci(l,u),Mi(u,null,null,h),$r()),S=l.memoizedState,I=u.memoizedState,S.parent!==x?(S={parent:x,cache:x},u.memoizedState=S,u.lanes===0&&(u.memoizedState=u.updateQueue.baseState=S),hc(u,Ii,x)):(x=I.cache,hc(u,Ii,x),x!==S.cache&&su(u,[Ii],h,!0))),na(l,u,u.pendingProps.children,h),u.child;case 29:throw u.pendingProps}throw Error(r(156,u.tag))}function uu(l){l.flags|=4}function ab(l,u,h,x,S){if((u=(l.mode&32)!==0)&&(u=!1),u){if(l.flags|=16777216,(S&335544128)===S)if(l.stateNode.complete)l.flags|=8192;else if(lN())l.flags|=8192;else throw lt=Ve,Je}else l.flags&=-16777217}function FA(l,u){if(u.type!=="stylesheet"||(u.state.loading&4)!==0)l.flags&=-16777217;else if(l.flags|=16777216,!JN(u))if(lN())l.flags|=8192;else throw lt=Ve,Je}function ix(l,u){u!==null&&(l.flags|=4),l.flags&16384&&(u=l.tag!==22?Rs():536870912,l.lanes|=u,f0|=u)}function vm(l,u){if(!nr)switch(l.tailMode){case"hidden":u=l.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?l.tail=null:h.sibling=null;break;case"collapsed":h=l.tail;for(var x=null;h!==null;)h.alternate!==null&&(x=h),h=h.sibling;x===null?u||l.tail===null?l.tail=null:l.tail.sibling=null:x.sibling=null}}function di(l){var u=l.alternate!==null&&l.alternate.child===l.child,h=0,x=0;if(u)for(var S=l.child;S!==null;)h|=S.lanes|S.childLanes,x|=S.subtreeFlags&65011712,x|=S.flags&65011712,S.return=l,S=S.sibling;else for(S=l.child;S!==null;)h|=S.lanes|S.childLanes,x|=S.subtreeFlags,x|=S.flags,S.return=l,S=S.sibling;return l.subtreeFlags|=x,l.childLanes=h,u}function $B(l,u,h){var x=u.pendingProps;switch(Kh(u),u.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return di(u),null;case 1:return di(u),null;case 3:return h=u.stateNode,x=null,l!==null&&(x=l.memoizedState.cache),u.memoizedState.cache!==x&&(u.flags|=2048),lo(Ii),Z(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(l===null||l.child===null)&&(bs(u)?uu(u):l===null||l.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,om())),di(u),null;case 26:var S=u.type,I=u.memoizedState;return l===null?(uu(u),I!==null?(di(u),FA(u,I)):(di(u),ab(u,S,null,x,h))):I?I!==l.memoizedState?(uu(u),di(u),FA(u,I)):(di(u),u.flags&=-16777217):(l=l.memoizedProps,l!==x&&uu(u),di(u),ab(u,S,l,x,h)),null;case 27:if(qe(u),h=ce.current,S=u.type,l!==null&&u.stateNode!=null)l.memoizedProps!==x&&uu(u);else{if(!x){if(u.stateNode===null)throw Error(r(166));return di(u),null}l=X.current,bs(u)?am(u):(l=HN(S,x,h),u.stateNode=l,uu(u))}return di(u),null;case 5:if(qe(u),S=u.type,l!==null&&u.stateNode!=null)l.memoizedProps!==x&&uu(u);else{if(!x){if(u.stateNode===null)throw Error(r(166));return di(u),null}if(I=X.current,bs(u))am(u);else{var K=vx(ce.current);switch(I){case 1:I=K.createElementNS("http://www.w3.org/2000/svg",S);break;case 2:I=K.createElementNS("http://www.w3.org/1998/Math/MathML",S);break;default:switch(S){case"svg":I=K.createElementNS("http://www.w3.org/2000/svg",S);break;case"math":I=K.createElementNS("http://www.w3.org/1998/Math/MathML",S);break;case"script":I=K.createElement("div"),I.innerHTML="<script><\/script>",I=I.removeChild(I.firstChild);break;case"select":I=typeof x.is=="string"?K.createElement("select",{is:x.is}):K.createElement("select"),x.multiple?I.multiple=!0:x.size&&(I.size=x.size);break;default:I=typeof x.is=="string"?K.createElement(S,{is:x.is}):K.createElement(S)}}I[ge]=u,I[be]=x;e:for(K=u.child;K!==null;){if(K.tag===5||K.tag===6)I.appendChild(K.stateNode);else if(K.tag!==4&&K.tag!==27&&K.child!==null){K.child.return=K,K=K.child;continue}if(K===u)break e;for(;K.sibling===null;){if(K.return===null||K.return===u)break e;K=K.return}K.sibling.return=K.return,K=K.sibling}u.stateNode=I;e:switch(ra(I,S,x),S){case"button":case"input":case"select":case"textarea":x=!!x.autoFocus;break e;case"img":x=!0;break e;default:x=!1}x&&uu(u)}}return di(u),ab(u,u.type,l===null?null:l.memoizedProps,u.pendingProps,h),null;case 6:if(l&&u.stateNode!=null)l.memoizedProps!==x&&uu(u);else{if(typeof x!="string"&&u.stateNode===null)throw Error(r(166));if(l=ce.current,bs(u)){if(l=u.stateNode,h=u.memoizedProps,x=null,S=vs,S!==null)switch(S.tag){case 27:case 5:x=S.memoizedProps}l[ge]=u,l=!!(l.nodeValue===h||x!==null&&x.suppressHydrationWarning===!0||PN(l.nodeValue,h)),l||fc(u,!0)}else l=vx(l).createTextNode(x),l[ge]=u,u.stateNode=l}return di(u),null;case 31:if(h=u.memoizedState,l===null||l.memoizedState!==null){if(x=bs(u),h!==null){if(l===null){if(!x)throw Error(r(318));if(l=u.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(557));l[ge]=u}else iu(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;di(u),l=!1}else h=om(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=h),l=!0;if(!l)return u.flags&256?(Or(u),u):(Or(u),null);if((u.flags&128)!==0)throw Error(r(558))}return di(u),null;case 13:if(x=u.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(S=bs(u),x!==null&&x.dehydrated!==null){if(l===null){if(!S)throw Error(r(318));if(S=u.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(r(317));S[ge]=u}else iu(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;di(u),S=!1}else S=om(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=S),S=!0;if(!S)return u.flags&256?(Or(u),u):(Or(u),null)}return Or(u),(u.flags&128)!==0?(u.lanes=h,u):(h=x!==null,l=l!==null&&l.memoizedState!==null,h&&(x=u.child,S=null,x.alternate!==null&&x.alternate.memoizedState!==null&&x.alternate.memoizedState.cachePool!==null&&(S=x.alternate.memoizedState.cachePool.pool),I=null,x.memoizedState!==null&&x.memoizedState.cachePool!==null&&(I=x.memoizedState.cachePool.pool),I!==S&&(x.flags|=2048)),h!==l&&h&&(u.child.flags|=8192),ix(u,u.updateQueue),di(u),null);case 4:return Z(),l===null&&Cb(u.stateNode.containerInfo),di(u),null;case 10:return lo(u.type),di(u),null;case 19:if(B(dr),x=u.memoizedState,x===null)return di(u),null;if(S=(u.flags&128)!==0,I=x.rendering,I===null)if(S)vm(x,!1);else{if(Vi!==0||l!==null&&(l.flags&128)!==0)for(l=u.child;l!==null;){if(I=Vs(l),I!==null){for(u.flags|=128,vm(x,!1),l=I.updateQueue,u.updateQueue=l,ix(u,l),u.subtreeFlags=0,l=h,h=u.child;h!==null;)bd(h,l),h=h.sibling;return Y(dr,dr.current&1|2),nr&&Ua(u,x.treeForkCount),u.child}l=l.sibling}x.tail!==null&&Zt()>cx&&(u.flags|=128,S=!0,vm(x,!1),u.lanes=4194304)}else{if(!S)if(l=Vs(I),l!==null){if(u.flags|=128,S=!0,l=l.updateQueue,u.updateQueue=l,ix(u,l),vm(x,!0),x.tail===null&&x.tailMode==="hidden"&&!I.alternate&&!nr)return di(u),null}else 2*Zt()-x.renderingStartTime>cx&&h!==536870912&&(u.flags|=128,S=!0,vm(x,!1),u.lanes=4194304);x.isBackwards?(I.sibling=u.child,u.child=I):(l=x.last,l!==null?l.sibling=I:u.child=I,x.last=I)}return x.tail!==null?(l=x.tail,x.rendering=l,x.tail=l.sibling,x.renderingStartTime=Zt(),l.sibling=null,h=dr.current,Y(dr,S?h&1|2:h&1),nr&&Ua(u,x.treeForkCount),l):(di(u),null);case 22:case 23:return Or(u),Yi(),x=u.memoizedState!==null,l!==null?l.memoizedState!==null!==x&&(u.flags|=8192):x&&(u.flags|=8192),x?(h&536870912)!==0&&(u.flags&128)===0&&(di(u),u.subtreeFlags&6&&(u.flags|=8192)):di(u),h=u.updateQueue,h!==null&&ix(u,h.retryQueue),h=null,l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(h=l.memoizedState.cachePool.pool),x=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(x=u.memoizedState.cachePool.pool),x!==h&&(u.flags|=2048),l!==null&&B(le),null;case 24:return h=null,l!==null&&(h=l.memoizedState.cache),u.memoizedState.cache!==h&&(u.flags|=2048),lo(Ii),di(u),null;case 25:return null;case 30:return null}throw Error(r(156,u.tag))}function KB(l,u){switch(Kh(u),u.tag){case 1:return l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 3:return lo(Ii),Z(),l=u.flags,(l&65536)!==0&&(l&128)===0?(u.flags=l&-65537|128,u):null;case 26:case 27:case 5:return qe(u),null;case 31:if(u.memoizedState!==null){if(Or(u),u.alternate===null)throw Error(r(340));iu()}return l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 13:if(Or(u),l=u.memoizedState,l!==null&&l.dehydrated!==null){if(u.alternate===null)throw Error(r(340));iu()}return l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 19:return B(dr),null;case 4:return Z(),null;case 10:return lo(u.type),null;case 22:case 23:return Or(u),Yi(),l!==null&&B(le),l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 24:return lo(Ii),null;case 25:return null;default:return null}}function OA(l,u){switch(Kh(u),u.tag){case 3:lo(Ii),Z();break;case 26:case 27:case 5:qe(u);break;case 4:Z();break;case 31:u.memoizedState!==null&&Or(u);break;case 13:Or(u);break;case 19:B(dr);break;case 10:lo(u.type);break;case 22:case 23:Or(u),Yi(),l!==null&&B(le);break;case 24:lo(Ii)}}function bm(l,u){try{var h=u.updateQueue,x=h!==null?h.lastEffect:null;if(x!==null){var S=x.next;h=S;do{if((h.tag&l)===l){x=void 0;var I=h.create,K=h.inst;x=I(),K.destroy=x}h=h.next}while(h!==S)}}catch(ue){Vr(u,u.return,ue)}}function ff(l,u,h){try{var x=u.updateQueue,S=x!==null?x.lastEffect:null;if(S!==null){var I=S.next;x=I;do{if((x.tag&l)===l){var K=x.inst,ue=K.destroy;if(ue!==void 0){K.destroy=void 0,S=u;var De=h,Ze=ue;try{Ze()}catch(ht){Vr(S,De,ht)}}}x=x.next}while(x!==I)}}catch(ht){Vr(u,u.return,ht)}}function BA(l){var u=l.updateQueue;if(u!==null){var h=l.stateNode;try{Li(u,h)}catch(x){Vr(l,l.return,x)}}}function VA(l,u,h){h.props=Nd(l.type,l.memoizedProps),h.state=l.memoizedState;try{h.componentWillUnmount()}catch(x){Vr(l,u,x)}}function _m(l,u){try{var h=l.ref;if(h!==null){switch(l.tag){case 26:case 27:case 5:var x=l.stateNode;break;case 30:x=l.stateNode;break;default:x=l.stateNode}typeof h=="function"?l.refCleanup=h(x):h.current=x}}catch(S){Vr(l,u,S)}}function bc(l,u){var h=l.ref,x=l.refCleanup;if(h!==null)if(typeof x=="function")try{x()}catch(S){Vr(l,u,S)}finally{l.refCleanup=null,l=l.alternate,l!=null&&(l.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(S){Vr(l,u,S)}else h.current=null}function UA(l){var u=l.type,h=l.memoizedProps,x=l.stateNode;try{e:switch(u){case"button":case"input":case"select":case"textarea":h.autoFocus&&x.focus();break e;case"img":h.src?x.src=h.src:h.srcSet&&(x.srcset=h.srcSet)}}catch(S){Vr(l,l.return,S)}}function ob(l,u,h){try{var x=l.stateNode;gV(x,l.type,h,u),x[be]=u}catch(S){Vr(l,l.return,S)}}function jA(l){return l.tag===5||l.tag===3||l.tag===26||l.tag===27&&yf(l.type)||l.tag===4}function lb(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||jA(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.tag===27&&yf(l.type)||l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function cb(l,u,h){var x=l.tag;if(x===5||x===6)l=l.stateNode,u?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(l,u):(u=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,u.appendChild(l),h=h._reactRootContainer,h!=null||u.onclick!==null||(u.onclick=Da));else if(x!==4&&(x===27&&yf(l.type)&&(h=l.stateNode,u=null),l=l.child,l!==null))for(cb(l,u,h),l=l.sibling;l!==null;)cb(l,u,h),l=l.sibling}function sx(l,u,h){var x=l.tag;if(x===5||x===6)l=l.stateNode,u?h.insertBefore(l,u):h.appendChild(l);else if(x!==4&&(x===27&&yf(l.type)&&(h=l.stateNode),l=l.child,l!==null))for(sx(l,u,h),l=l.sibling;l!==null;)sx(l,u,h),l=l.sibling}function qA(l){var u=l.stateNode,h=l.memoizedProps;try{for(var x=l.type,S=u.attributes;S.length;)u.removeAttributeNode(S[0]);ra(u,x,h),u[ge]=l,u[be]=h}catch(I){Vr(l,l.return,I)}}var fu=!1,as=!1,ub=!1,HA=typeof WeakSet=="function"?WeakSet:Set,Us=null;function YB(l,u){if(l=l.containerInfo,Rb=Ax,l=kl(l),el(l)){if("selectionStart"in l)var h={start:l.selectionStart,end:l.selectionEnd};else e:{h=(h=l.ownerDocument)&&h.defaultView||window;var x=h.getSelection&&h.getSelection();if(x&&x.rangeCount!==0){h=x.anchorNode;var S=x.anchorOffset,I=x.focusNode;x=x.focusOffset;try{h.nodeType,I.nodeType}catch{h=null;break e}var K=0,ue=-1,De=-1,Ze=0,ht=0,xt=l,nt=null;t:for(;;){for(var ot;xt!==h||S!==0&&xt.nodeType!==3||(ue=K+S),xt!==I||x!==0&&xt.nodeType!==3||(De=K+x),xt.nodeType===3&&(K+=xt.nodeValue.length),(ot=xt.firstChild)!==null;)nt=xt,xt=ot;for(;;){if(xt===l)break t;if(nt===h&&++Ze===S&&(ue=K),nt===I&&++ht===x&&(De=K),(ot=xt.nextSibling)!==null)break;xt=nt,nt=xt.parentNode}xt=ot}h=ue===-1||De===-1?null:{start:ue,end:De}}else h=null}h=h||{start:0,end:0}}else h=null;for(Pb={focusedElem:l,selectionRange:h},Ax=!1,Us=u;Us!==null;)if(u=Us,l=u.child,(u.subtreeFlags&1028)!==0&&l!==null)l.return=u,Us=l;else for(;Us!==null;){switch(u=Us,I=u.alternate,l=u.flags,u.tag){case 0:if((l&4)!==0&&(l=u.updateQueue,l=l!==null?l.events:null,l!==null))for(h=0;h<l.length;h++)S=l[h],S.ref.impl=S.nextImpl;break;case 11:case 15:break;case 1:if((l&1024)!==0&&I!==null){l=void 0,h=u,S=I.memoizedProps,I=I.memoizedState,x=h.stateNode;try{var rn=Nd(h.type,S);l=x.getSnapshotBeforeUpdate(rn,I),x.__reactInternalSnapshotBeforeUpdate=l}catch(Cn){Vr(h,h.return,Cn)}}break;case 3:if((l&1024)!==0){if(l=u.stateNode.containerInfo,h=l.nodeType,h===9)Lb(l);else if(h===1)switch(l.nodeName){case"HEAD":case"HTML":case"BODY":Lb(l);break;default:l.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((l&1024)!==0)throw Error(r(163))}if(l=u.sibling,l!==null){l.return=u.return,Us=l;break}Us=u.return}}function zA(l,u,h){var x=h.flags;switch(h.tag){case 0:case 11:case 15:hu(l,h),x&4&&bm(5,h);break;case 1:if(hu(l,h),x&4)if(l=h.stateNode,u===null)try{l.componentDidMount()}catch(K){Vr(h,h.return,K)}else{var S=Nd(h.type,u.memoizedProps);u=u.memoizedState;try{l.componentDidUpdate(S,u,l.__reactInternalSnapshotBeforeUpdate)}catch(K){Vr(h,h.return,K)}}x&64&&BA(h),x&512&&_m(h,h.return);break;case 3:if(hu(l,h),x&64&&(l=h.updateQueue,l!==null)){if(u=null,h.child!==null)switch(h.child.tag){case 27:case 5:u=h.child.stateNode;break;case 1:u=h.child.stateNode}try{Li(l,u)}catch(K){Vr(h,h.return,K)}}break;case 27:u===null&&x&4&&qA(h);case 26:case 5:hu(l,h),u===null&&x&4&&UA(h),x&512&&_m(h,h.return);break;case 12:hu(l,h);break;case 31:hu(l,h),x&4&&$A(l,h);break;case 13:hu(l,h),x&4&&KA(l,h),x&64&&(l=h.memoizedState,l!==null&&(l=l.dehydrated,l!==null&&(h=iV.bind(null,h),EV(l,h))));break;case 22:if(x=h.memoizedState!==null||fu,!x){u=u!==null&&u.memoizedState!==null||as,S=fu;var I=as;fu=x,(as=u)&&!I?pu(l,h,(h.subtreeFlags&8772)!==0):hu(l,h),fu=S,as=I}break;case 30:break;default:hu(l,h)}}function GA(l){var u=l.alternate;u!==null&&(l.alternate=null,GA(u)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(u=l.stateNode,u!==null&&bt(u)),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}var bi=null,uo=!1;function du(l,u,h){for(h=h.child;h!==null;)WA(l,u,h),h=h.sibling}function WA(l,u,h){if(Ct&&typeof Ct.onCommitFiberUnmount=="function")try{Ct.onCommitFiberUnmount(Bt,h)}catch{}switch(h.tag){case 26:as||bc(h,u),du(l,u,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:as||bc(h,u);var x=bi,S=uo;yf(h.type)&&(bi=h.stateNode,uo=!1),du(l,u,h),km(h.stateNode),bi=x,uo=S;break;case 5:as||bc(h,u);case 6:if(x=bi,S=uo,bi=null,du(l,u,h),bi=x,uo=S,bi!==null)if(uo)try{(bi.nodeType===9?bi.body:bi.nodeName==="HTML"?bi.ownerDocument.body:bi).removeChild(h.stateNode)}catch(I){Vr(h,u,I)}else try{bi.removeChild(h.stateNode)}catch(I){Vr(h,u,I)}break;case 18:bi!==null&&(uo?(l=bi,BN(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,h.stateNode),v0(l)):BN(bi,h.stateNode));break;case 4:x=bi,S=uo,bi=h.stateNode.containerInfo,uo=!0,du(l,u,h),bi=x,uo=S;break;case 0:case 11:case 14:case 15:ff(2,h,u),as||ff(4,h,u),du(l,u,h);break;case 1:as||(bc(h,u),x=h.stateNode,typeof x.componentWillUnmount=="function"&&VA(h,u,x)),du(l,u,h);break;case 21:du(l,u,h);break;case 22:as=(x=as)||h.memoizedState!==null,du(l,u,h),as=x;break;default:du(l,u,h)}}function $A(l,u){if(u.memoizedState===null&&(l=u.alternate,l!==null&&(l=l.memoizedState,l!==null))){l=l.dehydrated;try{v0(l)}catch(h){Vr(u,u.return,h)}}}function KA(l,u){if(u.memoizedState===null&&(l=u.alternate,l!==null&&(l=l.memoizedState,l!==null&&(l=l.dehydrated,l!==null))))try{v0(l)}catch(h){Vr(u,u.return,h)}}function XB(l){switch(l.tag){case 31:case 13:case 19:var u=l.stateNode;return u===null&&(u=l.stateNode=new HA),u;case 22:return l=l.stateNode,u=l._retryCache,u===null&&(u=l._retryCache=new HA),u;default:throw Error(r(435,l.tag))}}function ax(l,u){var h=XB(l);u.forEach(function(x){if(!h.has(x)){h.add(x);var S=sV.bind(null,l,x);x.then(S,S)}})}function fo(l,u){var h=u.deletions;if(h!==null)for(var x=0;x<h.length;x++){var S=h[x],I=l,K=u,ue=K;e:for(;ue!==null;){switch(ue.tag){case 27:if(yf(ue.type)){bi=ue.stateNode,uo=!1;break e}break;case 5:bi=ue.stateNode,uo=!1;break e;case 3:case 4:bi=ue.stateNode.containerInfo,uo=!0;break e}ue=ue.return}if(bi===null)throw Error(r(160));WA(I,K,S),bi=null,uo=!1,I=S.alternate,I!==null&&(I.return=null),S.return=null}if(u.subtreeFlags&13886)for(u=u.child;u!==null;)YA(u,l),u=u.sibling}var Bl=null;function YA(l,u){var h=l.alternate,x=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:fo(u,l),ho(l),x&4&&(ff(3,l,l.return),bm(3,l),ff(5,l,l.return));break;case 1:fo(u,l),ho(l),x&512&&(as||h===null||bc(h,h.return)),x&64&&fu&&(l=l.updateQueue,l!==null&&(x=l.callbacks,x!==null&&(h=l.shared.hiddenCallbacks,l.shared.hiddenCallbacks=h===null?x:h.concat(x))));break;case 26:var S=Bl;if(fo(u,l),ho(l),x&512&&(as||h===null||bc(h,h.return)),x&4){var I=h!==null?h.memoizedState:null;if(x=l.memoizedState,h===null)if(x===null)if(l.stateNode===null){e:{x=l.type,h=l.memoizedProps,S=S.ownerDocument||S;t:switch(x){case"title":I=S.getElementsByTagName("title")[0],(!I||I[Xe]||I[ge]||I.namespaceURI==="http://www.w3.org/2000/svg"||I.hasAttribute("itemprop"))&&(I=S.createElement(x),S.head.insertBefore(I,S.querySelector("head > title"))),ra(I,x,h),I[ge]=l,Xt(I),x=I;break e;case"link":var K=YN("link","href",S).get(x+(h.href||""));if(K){for(var ue=0;ue<K.length;ue++)if(I=K[ue],I.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&I.getAttribute("rel")===(h.rel==null?null:h.rel)&&I.getAttribute("title")===(h.title==null?null:h.title)&&I.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){K.splice(ue,1);break t}}I=S.createElement(x),ra(I,x,h),S.head.appendChild(I);break;case"meta":if(K=YN("meta","content",S).get(x+(h.content||""))){for(ue=0;ue<K.length;ue++)if(I=K[ue],I.getAttribute("content")===(h.content==null?null:""+h.content)&&I.getAttribute("name")===(h.name==null?null:h.name)&&I.getAttribute("property")===(h.property==null?null:h.property)&&I.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&I.getAttribute("charset")===(h.charSet==null?null:h.charSet)){K.splice(ue,1);break t}}I=S.createElement(x),ra(I,x,h),S.head.appendChild(I);break;default:throw Error(r(468,x))}I[ge]=l,Xt(I),x=I}l.stateNode=x}else XN(S,l.type,l.stateNode);else l.stateNode=KN(S,x,l.memoizedProps);else I!==x?(I===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):I.count--,x===null?XN(S,l.type,l.stateNode):KN(S,x,l.memoizedProps)):x===null&&l.stateNode!==null&&ob(l,l.memoizedProps,h.memoizedProps)}break;case 27:fo(u,l),ho(l),x&512&&(as||h===null||bc(h,h.return)),h!==null&&x&4&&ob(l,l.memoizedProps,h.memoizedProps);break;case 5:if(fo(u,l),ho(l),x&512&&(as||h===null||bc(h,h.return)),l.flags&32){S=l.stateNode;try{Wi(S,"")}catch(rn){Vr(l,l.return,rn)}}x&4&&l.stateNode!=null&&(S=l.memoizedProps,ob(l,S,h!==null?h.memoizedProps:S)),x&1024&&(ub=!0);break;case 6:if(fo(u,l),ho(l),x&4){if(l.stateNode===null)throw Error(r(162));x=l.memoizedProps,h=l.stateNode;try{h.nodeValue=x}catch(rn){Vr(l,l.return,rn)}}break;case 3:if(wx=null,S=Bl,Bl=bx(u.containerInfo),fo(u,l),Bl=S,ho(l),x&4&&h!==null&&h.memoizedState.isDehydrated)try{v0(u.containerInfo)}catch(rn){Vr(l,l.return,rn)}ub&&(ub=!1,XA(l));break;case 4:x=Bl,Bl=bx(l.stateNode.containerInfo),fo(u,l),ho(l),Bl=x;break;case 12:fo(u,l),ho(l);break;case 31:fo(u,l),ho(l),x&4&&(x=l.updateQueue,x!==null&&(l.updateQueue=null,ax(l,x)));break;case 13:fo(u,l),ho(l),l.child.flags&8192&&l.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(lx=Zt()),x&4&&(x=l.updateQueue,x!==null&&(l.updateQueue=null,ax(l,x)));break;case 22:S=l.memoizedState!==null;var De=h!==null&&h.memoizedState!==null,Ze=fu,ht=as;if(fu=Ze||S,as=ht||De,fo(u,l),as=ht,fu=Ze,ho(l),x&8192)e:for(u=l.stateNode,u._visibility=S?u._visibility&-2:u._visibility|1,S&&(h===null||De||fu||as||Cd(l)),h=null,u=l;;){if(u.tag===5||u.tag===26){if(h===null){De=h=u;try{if(I=De.stateNode,S)K=I.style,typeof K.setProperty=="function"?K.setProperty("display","none","important"):K.display="none";else{ue=De.stateNode;var xt=De.memoizedProps.style,nt=xt!=null&&xt.hasOwnProperty("display")?xt.display:null;ue.style.display=nt==null||typeof nt=="boolean"?"":(""+nt).trim()}}catch(rn){Vr(De,De.return,rn)}}}else if(u.tag===6){if(h===null){De=u;try{De.stateNode.nodeValue=S?"":De.memoizedProps}catch(rn){Vr(De,De.return,rn)}}}else if(u.tag===18){if(h===null){De=u;try{var ot=De.stateNode;S?VN(ot,!0):VN(De.stateNode,!1)}catch(rn){Vr(De,De.return,rn)}}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===l)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break e;for(;u.sibling===null;){if(u.return===null||u.return===l)break e;h===u&&(h=null),u=u.return}h===u&&(h=null),u.sibling.return=u.return,u=u.sibling}x&4&&(x=l.updateQueue,x!==null&&(h=x.retryQueue,h!==null&&(x.retryQueue=null,ax(l,h))));break;case 19:fo(u,l),ho(l),x&4&&(x=l.updateQueue,x!==null&&(l.updateQueue=null,ax(l,x)));break;case 30:break;case 21:break;default:fo(u,l),ho(l)}}function ho(l){var u=l.flags;if(u&2){try{for(var h,x=l.return;x!==null;){if(jA(x)){h=x;break}x=x.return}if(h==null)throw Error(r(160));switch(h.tag){case 27:var S=h.stateNode,I=lb(l);sx(l,I,S);break;case 5:var K=h.stateNode;h.flags&32&&(Wi(K,""),h.flags&=-33);var ue=lb(l);sx(l,ue,K);break;case 3:case 4:var De=h.stateNode.containerInfo,Ze=lb(l);cb(l,Ze,De);break;default:throw Error(r(161))}}catch(ht){Vr(l,l.return,ht)}l.flags&=-3}u&4096&&(l.flags&=-4097)}function XA(l){if(l.subtreeFlags&1024)for(l=l.child;l!==null;){var u=l;XA(u),u.tag===5&&u.flags&1024&&u.stateNode.reset(),l=l.sibling}}function hu(l,u){if(u.subtreeFlags&8772)for(u=u.child;u!==null;)zA(l,u.alternate,u),u=u.sibling}function Cd(l){for(l=l.child;l!==null;){var u=l;switch(u.tag){case 0:case 11:case 14:case 15:ff(4,u,u.return),Cd(u);break;case 1:bc(u,u.return);var h=u.stateNode;typeof h.componentWillUnmount=="function"&&VA(u,u.return,h),Cd(u);break;case 27:km(u.stateNode);case 26:case 5:bc(u,u.return),Cd(u);break;case 22:u.memoizedState===null&&Cd(u);break;case 30:Cd(u);break;default:Cd(u)}l=l.sibling}}function pu(l,u,h){for(h=h&&(u.subtreeFlags&8772)!==0,u=u.child;u!==null;){var x=u.alternate,S=l,I=u,K=I.flags;switch(I.tag){case 0:case 11:case 15:pu(S,I,h),bm(4,I);break;case 1:if(pu(S,I,h),x=I,S=x.stateNode,typeof S.componentDidMount=="function")try{S.componentDidMount()}catch(Ze){Vr(x,x.return,Ze)}if(x=I,S=x.updateQueue,S!==null){var ue=x.stateNode;try{var De=S.shared.hiddenCallbacks;if(De!==null)for(S.shared.hiddenCallbacks=null,S=0;S<De.length;S++)Bs(De[S],ue)}catch(Ze){Vr(x,x.return,Ze)}}h&&K&64&&BA(I),_m(I,I.return);break;case 27:qA(I);case 26:case 5:pu(S,I,h),h&&x===null&&K&4&&UA(I),_m(I,I.return);break;case 12:pu(S,I,h);break;case 31:pu(S,I,h),h&&K&4&&$A(S,I);break;case 13:pu(S,I,h),h&&K&4&&KA(S,I);break;case 22:I.memoizedState===null&&pu(S,I,h),_m(I,I.return);break;case 30:break;default:pu(S,I,h)}u=u.sibling}}function fb(l,u){var h=null;l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(h=l.memoizedState.cachePool.pool),l=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(l=u.memoizedState.cachePool.pool),l!==h&&(l!=null&&l.refCount++,h!=null&&Td(h))}function db(l,u){l=null,u.alternate!==null&&(l=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==l&&(u.refCount++,l!=null&&Td(l))}function Vl(l,u,h,x){if(u.subtreeFlags&10256)for(u=u.child;u!==null;)JA(l,u,h,x),u=u.sibling}function JA(l,u,h,x){var S=u.flags;switch(u.tag){case 0:case 11:case 15:Vl(l,u,h,x),S&2048&&bm(9,u);break;case 1:Vl(l,u,h,x);break;case 3:Vl(l,u,h,x),S&2048&&(l=null,u.alternate!==null&&(l=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==l&&(u.refCount++,l!=null&&Td(l)));break;case 12:if(S&2048){Vl(l,u,h,x),l=u.stateNode;try{var I=u.memoizedProps,K=I.id,ue=I.onPostCommit;typeof ue=="function"&&ue(K,u.alternate===null?"mount":"update",l.passiveEffectDuration,-0)}catch(De){Vr(u,u.return,De)}}else Vl(l,u,h,x);break;case 31:Vl(l,u,h,x);break;case 13:Vl(l,u,h,x);break;case 23:break;case 22:I=u.stateNode,K=u.alternate,u.memoizedState!==null?I._visibility&2?Vl(l,u,h,x):wm(l,u):I._visibility&2?Vl(l,u,h,x):(I._visibility|=2,l0(l,u,h,x,(u.subtreeFlags&10256)!==0||!1)),S&2048&&fb(K,u);break;case 24:Vl(l,u,h,x),S&2048&&db(u.alternate,u);break;default:Vl(l,u,h,x)}}function l0(l,u,h,x,S){for(S=S&&((u.subtreeFlags&10256)!==0||!1),u=u.child;u!==null;){var I=l,K=u,ue=h,De=x,Ze=K.flags;switch(K.tag){case 0:case 11:case 15:l0(I,K,ue,De,S),bm(8,K);break;case 23:break;case 22:var ht=K.stateNode;K.memoizedState!==null?ht._visibility&2?l0(I,K,ue,De,S):wm(I,K):(ht._visibility|=2,l0(I,K,ue,De,S)),S&&Ze&2048&&fb(K.alternate,K);break;case 24:l0(I,K,ue,De,S),S&&Ze&2048&&db(K.alternate,K);break;default:l0(I,K,ue,De,S)}u=u.sibling}}function wm(l,u){if(u.subtreeFlags&10256)for(u=u.child;u!==null;){var h=l,x=u,S=x.flags;switch(x.tag){case 22:wm(h,x),S&2048&&fb(x.alternate,x);break;case 24:wm(h,x),S&2048&&db(x.alternate,x);break;default:wm(h,x)}u=u.sibling}}var Tm=8192;function c0(l,u,h){if(l.subtreeFlags&Tm)for(l=l.child;l!==null;)QA(l,u,h),l=l.sibling}function QA(l,u,h){switch(l.tag){case 26:c0(l,u,h),l.flags&Tm&&l.memoizedState!==null&&FV(h,Bl,l.memoizedState,l.memoizedProps);break;case 5:c0(l,u,h);break;case 3:case 4:var x=Bl;Bl=bx(l.stateNode.containerInfo),c0(l,u,h),Bl=x;break;case 22:l.memoizedState===null&&(x=l.alternate,x!==null&&x.memoizedState!==null?(x=Tm,Tm=16777216,c0(l,u,h),Tm=x):c0(l,u,h));break;default:c0(l,u,h)}}function ZA(l){var u=l.alternate;if(u!==null&&(l=u.child,l!==null)){u.child=null;do u=l.sibling,l.sibling=null,l=u;while(l!==null)}}function Em(l){var u=l.deletions;if((l.flags&16)!==0){if(u!==null)for(var h=0;h<u.length;h++){var x=u[h];Us=x,tN(x,l)}ZA(l)}if(l.subtreeFlags&10256)for(l=l.child;l!==null;)eN(l),l=l.sibling}function eN(l){switch(l.tag){case 0:case 11:case 15:Em(l),l.flags&2048&&ff(9,l,l.return);break;case 3:Em(l);break;case 12:Em(l);break;case 22:var u=l.stateNode;l.memoizedState!==null&&u._visibility&2&&(l.return===null||l.return.tag!==13)?(u._visibility&=-3,ox(l)):Em(l);break;default:Em(l)}}function ox(l){var u=l.deletions;if((l.flags&16)!==0){if(u!==null)for(var h=0;h<u.length;h++){var x=u[h];Us=x,tN(x,l)}ZA(l)}for(l=l.child;l!==null;){switch(u=l,u.tag){case 0:case 11:case 15:ff(8,u,u.return),ox(u);break;case 22:h=u.stateNode,h._visibility&2&&(h._visibility&=-3,ox(u));break;default:ox(u)}l=l.sibling}}function tN(l,u){for(;Us!==null;){var h=Us;switch(h.tag){case 0:case 11:case 15:ff(8,h,u);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var x=h.memoizedState.cachePool.pool;x!=null&&x.refCount++}break;case 24:Td(h.memoizedState.cache)}if(x=h.child,x!==null)x.return=h,Us=x;else e:for(h=l;Us!==null;){x=Us;var S=x.sibling,I=x.return;if(GA(x),x===h){Us=null;break e}if(S!==null){S.return=I,Us=S;break e}Us=I}}}var JB={getCacheForType:function(l){var u=_s(Ii),h=u.data.get(l);return h===void 0&&(h=l(),u.data.set(l,h)),h},cacheSignal:function(){return _s(Ii).controller.signal}},QB=typeof WeakMap=="function"?WeakMap:Map,Dr=0,ii=null,rr=null,lr=0,Br=0,Po=null,df=!1,u0=!1,hb=!1,mu=0,Vi=0,hf=0,Id=0,pb=0,Do=0,f0=0,Sm=null,po=null,mb=!1,lx=0,nN=0,cx=1/0,ux=null,pf=null,Ts=0,mf=null,d0=null,gu=0,gb=0,xb=null,rN=null,Am=0,yb=null;function Mo(){return(Dr&2)!==0&&lr!==0?lr&-lr:fe.T!==null?Eb():ie()}function iN(){if(Do===0)if((lr&536870912)===0||nr){var l=ar;ar<<=1,(ar&3932160)===0&&(ar=262144),Do=l}else Do=536870912;return l=fi.current,l!==null&&(l.flags|=32),Do}function mo(l,u,h){(l===ii&&(Br===2||Br===9)||l.cancelPendingCommit!==null)&&(h0(l,0),gf(l,lr,Do,!1)),hn(l,h),((Dr&2)===0||l!==ii)&&(l===ii&&((Dr&2)===0&&(Id|=h),Vi===4&&gf(l,lr,Do,!1)),_c(l))}function sN(l,u,h){if((Dr&6)!==0)throw Error(r(327));var x=!h&&(u&127)===0&&(u&l.expiredLanes)===0||oi(l,u),S=x?tV(l,u):bb(l,u,!0),I=x;do{if(S===0){u0&&!x&&gf(l,u,0,!1);break}else{if(h=l.current.alternate,I&&!ZB(h)){S=bb(l,u,!1),I=!1;continue}if(S===2){if(I=u,l.errorRecoveryDisabledLanes&I)var K=0;else K=l.pendingLanes&-536870913,K=K!==0?K:K&536870912?536870912:0;if(K!==0){u=K;e:{var ue=l;S=Sm;var De=ue.current.memoizedState.isDehydrated;if(De&&(h0(ue,K).flags|=256),K=bb(ue,K,!1),K!==2){if(hb&&!De){ue.errorRecoveryDisabledLanes|=I,Id|=I,S=4;break e}I=po,po=S,I!==null&&(po===null?po=I:po.push.apply(po,I))}S=K}if(I=!1,S!==2)continue}}if(S===1){h0(l,0),gf(l,u,0,!0);break}e:{switch(x=l,I=S,I){case 0:case 1:throw Error(r(345));case 4:if((u&4194048)!==u)break;case 6:gf(x,u,Do,!df);break e;case 2:po=null;break;case 3:case 5:break;default:throw Error(r(329))}if((u&62914560)===u&&(S=lx+300-Zt(),10<S)){if(gf(x,u,Do,!df),Ln(x,0,!0)!==0)break e;gu=u,x.timeoutHandle=FN(aN.bind(null,x,h,po,ux,mb,u,Do,Id,f0,df,I,"Throttled",-0,0),S);break e}aN(x,h,po,ux,mb,u,Do,Id,f0,df,I,null,-0,0)}}break}while(!0);_c(l)}function aN(l,u,h,x,S,I,K,ue,De,Ze,ht,xt,nt,ot){if(l.timeoutHandle=-1,xt=u.subtreeFlags,xt&8192||(xt&16785408)===16785408){xt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Da},QA(u,I,xt);var rn=(I&62914560)===I?lx-Zt():(I&4194048)===I?nN-Zt():0;if(rn=OV(xt,rn),rn!==null){gu=I,l.cancelPendingCommit=rn(pN.bind(null,l,u,I,h,x,S,K,ue,De,ht,xt,null,nt,ot)),gf(l,I,K,!Ze);return}}pN(l,u,I,h,x,S,K,ue,De)}function ZB(l){for(var u=l;;){var h=u.tag;if((h===0||h===11||h===15)&&u.flags&16384&&(h=u.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var x=0;x<h.length;x++){var S=h[x],I=S.getSnapshot;S=S.value;try{if(!xs(I(),S))return!1}catch{return!1}}if(h=u.child,u.subtreeFlags&16384&&h!==null)h.return=u,u=h;else{if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function gf(l,u,h,x){u&=~pb,u&=~Id,l.suspendedLanes|=u,l.pingedLanes&=~u,x&&(l.warmLanes|=u),x=l.expirationTimes;for(var S=u;0<S;){var I=31-xn(S),K=1<<I;x[I]=-1,S&=~K}h!==0&&Lt(l,h,u)}function fx(){return(Dr&6)===0?(Nm(0),!1):!0}function vb(){if(rr!==null){if(Br===0)var l=rr.return;else l=rr,nl=dc=null,t0(l),yt=null,an=0,l=rr;for(;l!==null;)OA(l.alternate,l),l=l.return;rr=null}}function h0(l,u){var h=l.timeoutHandle;h!==-1&&(l.timeoutHandle=-1,vV(h)),h=l.cancelPendingCommit,h!==null&&(l.cancelPendingCommit=null,h()),gu=0,vb(),ii=l,rr=h=no(l.current,null),lr=u,Br=0,Po=null,df=!1,u0=oi(l,u),hb=!1,f0=Do=pb=Id=hf=Vi=0,po=Sm=null,mb=!1,(u&8)!==0&&(u|=u&32);var x=l.entangledLanes;if(x!==0)for(l=l.entanglements,x&=u;0<x;){var S=31-xn(x),I=1<<S;u|=l[S],x&=~I}return mu=u,xd(),h}function oN(l,u){_n=null,fe.H=xm,u===Fe||u===Te?(u=pt(),Br=3):u===Je?(u=pt(),Br=4):Br=u===Jv?8:u!==null&&typeof u=="object"&&typeof u.then=="function"?6:1,Po=u,rr===null&&(Vi=1,ex(l,ro(u,l.current)))}function lN(){var l=fi.current;return l===null?!0:(lr&4194048)===lr?xr===null:(lr&62914560)===lr||(lr&536870912)!==0?l===xr:!1}function cN(){var l=fe.H;return fe.H=xm,l===null?xm:l}function uN(){var l=fe.A;return fe.A=JB,l}function dx(){Vi=4,df||(lr&4194048)!==lr&&fi.current!==null||(u0=!0),(hf&134217727)===0&&(Id&134217727)===0||ii===null||gf(ii,lr,Do,!1)}function bb(l,u,h){var x=Dr;Dr|=2;var S=cN(),I=uN();(ii!==l||lr!==u)&&(ux=null,h0(l,u)),u=!1;var K=Vi;e:do try{if(Br!==0&&rr!==null){var ue=rr,De=Po;switch(Br){case 8:vb(),K=6;break e;case 3:case 2:case 9:case 6:fi.current===null&&(u=!0);var Ze=Br;if(Br=0,Po=null,p0(l,ue,De,Ze),h&&u0){K=0;break e}break;default:Ze=Br,Br=0,Po=null,p0(l,ue,De,Ze)}}eV(),K=Vi;break}catch(ht){oN(l,ht)}while(!0);return u&&l.shellSuspendCounter++,nl=dc=null,Dr=x,fe.H=S,fe.A=I,rr===null&&(ii=null,lr=0,xd()),K}function eV(){for(;rr!==null;)fN(rr)}function tV(l,u){var h=Dr;Dr|=2;var x=cN(),S=uN();ii!==l||lr!==u?(ux=null,cx=Zt()+500,h0(l,u)):u0=oi(l,u);e:do try{if(Br!==0&&rr!==null){u=rr;var I=Po;t:switch(Br){case 1:Br=0,Po=null,p0(l,u,I,1);break;case 2:case 9:if(We(I)){Br=0,Po=null,dN(u);break}u=function(){Br!==2&&Br!==9||ii!==l||(Br=7),_c(l)},I.then(u,u);break e;case 3:Br=7;break e;case 4:Br=5;break e;case 7:We(I)?(Br=0,Po=null,dN(u)):(Br=0,Po=null,p0(l,u,I,7));break;case 5:var K=null;switch(rr.tag){case 26:K=rr.memoizedState;case 5:case 27:var ue=rr;if(K?JN(K):ue.stateNode.complete){Br=0,Po=null;var De=ue.sibling;if(De!==null)rr=De;else{var Ze=ue.return;Ze!==null?(rr=Ze,hx(Ze)):rr=null}break t}}Br=0,Po=null,p0(l,u,I,5);break;case 6:Br=0,Po=null,p0(l,u,I,6);break;case 8:vb(),Vi=6;break e;default:throw Error(r(462))}}nV();break}catch(ht){oN(l,ht)}while(!0);return nl=dc=null,fe.H=x,fe.A=S,Dr=h,rr!==null?0:(ii=null,lr=0,xd(),Vi)}function nV(){for(;rr!==null&&!Pt();)fN(rr)}function fN(l){var u=LA(l.alternate,l,mu);l.memoizedProps=l.pendingProps,u===null?hx(l):rr=u}function dN(l){var u=l,h=u.alternate;switch(u.tag){case 15:case 0:u=IA(h,u,u.pendingProps,u.type,void 0,lr);break;case 11:u=IA(h,u,u.pendingProps,u.type.render,u.ref,lr);break;case 5:t0(u);default:OA(h,u),u=rr=bd(u,mu),u=LA(h,u,mu)}l.memoizedProps=l.pendingProps,u===null?hx(l):rr=u}function p0(l,u,h,x){nl=dc=null,t0(u),yt=null,an=0;var S=u.return;try{if(zB(l,S,u,h,lr)){Vi=1,ex(l,ro(h,l.current)),rr=null;return}}catch(I){if(S!==null)throw rr=S,I;Vi=1,ex(l,ro(h,l.current)),rr=null;return}u.flags&32768?(nr||x===1?l=!0:u0||(lr&536870912)!==0?l=!1:(df=l=!0,(x===2||x===9||x===3||x===6)&&(x=fi.current,x!==null&&x.tag===13&&(x.flags|=16384))),hN(u,l)):hx(u)}function hx(l){var u=l;do{if((u.flags&32768)!==0){hN(u,df);return}l=u.return;var h=$B(u.alternate,u,mu);if(h!==null){rr=h;return}if(u=u.sibling,u!==null){rr=u;return}rr=u=l}while(u!==null);Vi===0&&(Vi=5)}function hN(l,u){do{var h=KB(l.alternate,l);if(h!==null){h.flags&=32767,rr=h;return}if(h=l.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!u&&(l=l.sibling,l!==null)){rr=l;return}rr=l=h}while(l!==null);Vi=6,rr=null}function pN(l,u,h,x,S,I,K,ue,De){l.cancelPendingCommit=null;do px();while(Ts!==0);if((Dr&6)!==0)throw Error(r(327));if(u!==null){if(u===l.current)throw Error(r(177));if(I=u.lanes|u.childLanes,I|=jh,Le(l,h,I,K,ue,De),l===ii&&(rr=ii=null,lr=0),d0=u,mf=l,gu=h,gb=I,xb=S,rN=x,(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?(l.callbackNode=null,l.callbackPriority=0,aV(en,function(){return vN(),null})):(l.callbackNode=null,l.callbackPriority=0),x=(u.flags&13878)!==0,(u.subtreeFlags&13878)!==0||x){x=fe.T,fe.T=null,S=xe.p,xe.p=2,K=Dr,Dr|=4;try{YB(l,u,h)}finally{Dr=K,xe.p=S,fe.T=x}}Ts=1,mN(),gN(),xN()}}function mN(){if(Ts===1){Ts=0;var l=mf,u=d0,h=(u.flags&13878)!==0;if((u.subtreeFlags&13878)!==0||h){h=fe.T,fe.T=null;var x=xe.p;xe.p=2;var S=Dr;Dr|=4;try{YA(u,l);var I=Pb,K=kl(l.containerInfo),ue=I.focusedElem,De=I.selectionRange;if(K!==ue&&ue&&ue.ownerDocument&&Il(ue.ownerDocument.documentElement,ue)){if(De!==null&&el(ue)){var Ze=De.start,ht=De.end;if(ht===void 0&&(ht=Ze),"selectionStart"in ue)ue.selectionStart=Ze,ue.selectionEnd=Math.min(ht,ue.value.length);else{var xt=ue.ownerDocument||document,nt=xt&&xt.defaultView||window;if(nt.getSelection){var ot=nt.getSelection(),rn=ue.textContent.length,Cn=Math.min(De.start,rn),Xr=De.end===void 0?Cn:Math.min(De.end,rn);!ot.extend&&Cn>Xr&&(K=Xr,Xr=Cn,Cn=K);var He=Zu(ue,Cn),Oe=Zu(ue,Xr);if(He&&Oe&&(ot.rangeCount!==1||ot.anchorNode!==He.node||ot.anchorOffset!==He.offset||ot.focusNode!==Oe.node||ot.focusOffset!==Oe.offset)){var Qe=xt.createRange();Qe.setStart(He.node,He.offset),ot.removeAllRanges(),Cn>Xr?(ot.addRange(Qe),ot.extend(Oe.node,Oe.offset)):(Qe.setEnd(Oe.node,Oe.offset),ot.addRange(Qe))}}}}for(xt=[],ot=ue;ot=ot.parentNode;)ot.nodeType===1&&xt.push({element:ot,left:ot.scrollLeft,top:ot.scrollTop});for(typeof ue.focus=="function"&&ue.focus(),ue=0;ue<xt.length;ue++){var mt=xt[ue];mt.element.scrollLeft=mt.left,mt.element.scrollTop=mt.top}}Ax=!!Rb,Pb=Rb=null}finally{Dr=S,xe.p=x,fe.T=h}}l.current=u,Ts=2}}function gN(){if(Ts===2){Ts=0;var l=mf,u=d0,h=(u.flags&8772)!==0;if((u.subtreeFlags&8772)!==0||h){h=fe.T,fe.T=null;var x=xe.p;xe.p=2;var S=Dr;Dr|=4;try{zA(l,u.alternate,u)}finally{Dr=S,xe.p=x,fe.T=h}}Ts=3}}function xN(){if(Ts===4||Ts===3){Ts=0,jt();var l=mf,u=d0,h=gu,x=rN;(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?Ts=5:(Ts=0,d0=mf=null,yN(l,l.pendingLanes));var S=l.pendingLanes;if(S===0&&(pf=null),Hn(h),u=u.stateNode,Ct&&typeof Ct.onCommitFiberRoot=="function")try{Ct.onCommitFiberRoot(Bt,u,void 0,(u.current.flags&128)===128)}catch{}if(x!==null){u=fe.T,S=xe.p,xe.p=2,fe.T=null;try{for(var I=l.onRecoverableError,K=0;K<x.length;K++){var ue=x[K];I(ue.value,{componentStack:ue.stack})}}finally{fe.T=u,xe.p=S}}(gu&3)!==0&&px(),_c(l),S=l.pendingLanes,(h&261930)!==0&&(S&42)!==0?l===yb?Am++:(Am=0,yb=l):Am=0,Nm(0)}}function yN(l,u){(l.pooledCacheLanes&=u)===0&&(u=l.pooledCache,u!=null&&(l.pooledCache=null,Td(u)))}function px(){return mN(),gN(),xN(),vN()}function vN(){if(Ts!==5)return!1;var l=mf,u=gb;gb=0;var h=Hn(gu),x=fe.T,S=xe.p;try{xe.p=32>h?32:h,fe.T=null,h=xb,xb=null;var I=mf,K=gu;if(Ts=0,d0=mf=null,gu=0,(Dr&6)!==0)throw Error(r(331));var ue=Dr;if(Dr|=4,eN(I.current),JA(I,I.current,K,h),Dr=ue,Nm(0,!1),Ct&&typeof Ct.onPostCommitFiberRoot=="function")try{Ct.onPostCommitFiberRoot(Bt,I)}catch{}return!0}finally{xe.p=S,fe.T=x,yN(l,u)}}function bN(l,u,h){u=ro(h,u),u=Xv(l.stateNode,u,2),l=zn(l,u,2),l!==null&&(hn(l,2),_c(l))}function Vr(l,u,h){if(l.tag===3)bN(l,l,h);else for(;u!==null;){if(u.tag===3){bN(u,l,h);break}else if(u.tag===1){var x=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(pf===null||!pf.has(x))){l=ro(h,l),h=_A(2),x=zn(u,h,2),x!==null&&(wA(h,x,u,l),hn(x,2),_c(x));break}}u=u.return}}function _b(l,u,h){var x=l.pingCache;if(x===null){x=l.pingCache=new QB;var S=new Set;x.set(u,S)}else S=x.get(u),S===void 0&&(S=new Set,x.set(u,S));S.has(h)||(hb=!0,S.add(h),l=rV.bind(null,l,u,h),u.then(l,l))}function rV(l,u,h){var x=l.pingCache;x!==null&&x.delete(u),l.pingedLanes|=l.suspendedLanes&h,l.warmLanes&=~h,ii===l&&(lr&h)===h&&(Vi===4||Vi===3&&(lr&62914560)===lr&&300>Zt()-lx?(Dr&2)===0&&h0(l,0):pb|=h,f0===lr&&(f0=0)),_c(l)}function _N(l,u){u===0&&(u=Rs()),l=Pl(l,u),l!==null&&(hn(l,u),_c(l))}function iV(l){var u=l.memoizedState,h=0;u!==null&&(h=u.retryLane),_N(l,h)}function sV(l,u){var h=0;switch(l.tag){case 31:case 13:var x=l.stateNode,S=l.memoizedState;S!==null&&(h=S.retryLane);break;case 19:x=l.stateNode;break;case 22:x=l.stateNode._retryCache;break;default:throw Error(r(314))}x!==null&&x.delete(u),_N(l,h)}function aV(l,u){return wt(l,u)}var mx=null,m0=null,wb=!1,gx=!1,Tb=!1,xf=0;function _c(l){l!==m0&&l.next===null&&(m0===null?mx=m0=l:m0=m0.next=l),gx=!0,wb||(wb=!0,lV())}function Nm(l,u){if(!Tb&&gx){Tb=!0;do for(var h=!1,x=mx;x!==null;){if(l!==0){var S=x.pendingLanes;if(S===0)var I=0;else{var K=x.suspendedLanes,ue=x.pingedLanes;I=(1<<31-xn(42|l)+1)-1,I&=S&~(K&~ue),I=I&201326741?I&201326741|1:I?I|2:0}I!==0&&(h=!0,SN(x,I))}else I=lr,I=Ln(x,x===ii?I:0,x.cancelPendingCommit!==null||x.timeoutHandle!==-1),(I&3)===0||oi(x,I)||(h=!0,SN(x,I));x=x.next}while(h);Tb=!1}}function oV(){wN()}function wN(){gx=wb=!1;var l=0;xf!==0&&yV()&&(l=xf);for(var u=Zt(),h=null,x=mx;x!==null;){var S=x.next,I=TN(x,u);I===0?(x.next=null,h===null?mx=S:h.next=S,S===null&&(m0=h)):(h=x,(l!==0||(I&3)!==0)&&(gx=!0)),x=S}Ts!==0&&Ts!==5||Nm(l),xf!==0&&(xf=0)}function TN(l,u){for(var h=l.suspendedLanes,x=l.pingedLanes,S=l.expirationTimes,I=l.pendingLanes&-62914561;0<I;){var K=31-xn(I),ue=1<<K,De=S[K];De===-1?((ue&h)===0||(ue&x)!==0)&&(S[K]=li(ue,u)):De<=u&&(l.expiredLanes|=ue),I&=~ue}if(u=ii,h=lr,h=Ln(l,l===u?h:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),x=l.callbackNode,h===0||l===u&&(Br===2||Br===9)||l.cancelPendingCommit!==null)return x!==null&&x!==null&&At(x),l.callbackNode=null,l.callbackPriority=0;if((h&3)===0||oi(l,h)){if(u=h&-h,u===l.callbackPriority)return u;switch(x!==null&&At(x),Hn(h)){case 2:case 8:h=Nn;break;case 32:h=en;break;case 268435456:h=Rt;break;default:h=en}return x=EN.bind(null,l),h=wt(h,x),l.callbackPriority=u,l.callbackNode=h,u}return x!==null&&x!==null&&At(x),l.callbackPriority=2,l.callbackNode=null,2}function EN(l,u){if(Ts!==0&&Ts!==5)return l.callbackNode=null,l.callbackPriority=0,null;var h=l.callbackNode;if(px()&&l.callbackNode!==h)return null;var x=lr;return x=Ln(l,l===ii?x:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),x===0?null:(sN(l,x,u),TN(l,Zt()),l.callbackNode!=null&&l.callbackNode===h?EN.bind(null,l):null)}function SN(l,u){if(px())return null;sN(l,u,!0)}function lV(){bV(function(){(Dr&6)!==0?wt(Wt,oV):wN()})}function Eb(){if(xf===0){var l=b;l===0&&(l=dn,dn<<=1,(dn&261888)===0&&(dn=256)),xf=l}return xf}function AN(l){return l==null||typeof l=="symbol"||typeof l=="boolean"?null:typeof l=="function"?l:Ds(""+l)}function NN(l,u){var h=u.ownerDocument.createElement("input");return h.name=u.name,h.value=u.value,l.id&&h.setAttribute("form",l.id),u.parentNode.insertBefore(h,u),l=new FormData(l),h.parentNode.removeChild(h),l}function cV(l,u,h,x,S){if(u==="submit"&&h&&h.stateNode===S){var I=AN((S[be]||null).action),K=x.submitter;K&&(u=(u=K[be]||null)?AN(u.formAction):K.getAttribute("formAction"),u!==null&&(I=u,K=null));var ue=new ns("action","action",null,x,S);l.push({event:ue,listeners:[{instance:null,listener:function(){if(x.defaultPrevented){if(xf!==0){var De=K?NN(S,K):new FormData(S);zv(h,{pending:!0,data:De,method:S.method,action:I},null,De)}}else typeof I=="function"&&(ue.preventDefault(),De=K?NN(S,K):new FormData(S),zv(h,{pending:!0,data:De,method:S.method,action:I},I,De))},currentTarget:S}]})}}for(var Sb=0;Sb<tu.length;Sb++){var Ab=tu[Sb],uV=Ab.toLowerCase(),fV=Ab[0].toUpperCase()+Ab.slice(1);to(uV,"on"+fV)}to(eu,"onAnimationEnd"),to(md,"onAnimationIteration"),to(nm,"onAnimationStart"),to("dblclick","onDoubleClick"),to("focusin","onFocus"),to("focusout","onBlur"),to(j1,"onTransitionRun"),to(q1,"onTransitionStart"),to(H1,"onTransitionCancel"),to(rm,"onTransitionEnd"),Gi("onMouseEnter",["mouseout","mouseover"]),Gi("onMouseLeave",["mouseout","mouseover"]),Gi("onPointerEnter",["pointerout","pointerover"]),Gi("onPointerLeave",["pointerout","pointerover"]),wr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),wr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),wr("onBeforeInput",["compositionend","keypress","textInput","paste"]),wr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),wr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),wr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cm="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dV=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Cm));function CN(l,u){u=(u&4)!==0;for(var h=0;h<l.length;h++){var x=l[h],S=x.event;x=x.listeners;e:{var I=void 0;if(u)for(var K=x.length-1;0<=K;K--){var ue=x[K],De=ue.instance,Ze=ue.currentTarget;if(ue=ue.listener,De!==I&&S.isPropagationStopped())break e;I=ue,S.currentTarget=Ze;try{I(S)}catch(ht){gd(ht)}S.currentTarget=null,I=De}else for(K=0;K<x.length;K++){if(ue=x[K],De=ue.instance,Ze=ue.currentTarget,ue=ue.listener,De!==I&&S.isPropagationStopped())break e;I=ue,S.currentTarget=Ze;try{I(S)}catch(ht){gd(ht)}S.currentTarget=null,I=De}}}}function ir(l,u){var h=u[Ue];h===void 0&&(h=u[Ue]=new Set);var x=l+"__bubble";h.has(x)||(IN(u,l,2,!1),h.add(x))}function Nb(l,u,h){var x=0;u&&(x|=4),IN(h,l,x,u)}var xx="_reactListening"+Math.random().toString(36).slice(2);function Cb(l){if(!l[xx]){l[xx]=!0,mr.forEach(function(h){h!=="selectionchange"&&(dV.has(h)||Nb(h,!1,l),Nb(h,!0,l))});var u=l.nodeType===9?l:l.ownerDocument;u===null||u[xx]||(u[xx]=!0,Nb("selectionchange",!1,u))}}function IN(l,u,h,x){switch(i4(u)){case 2:var S=UV;break;case 8:S=jV;break;default:S=Hb}h=S.bind(null,u,h,l),S=void 0,!wl||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(S=!0),x?S!==void 0?l.addEventListener(u,h,{capture:!0,passive:S}):l.addEventListener(u,h,!0):S!==void 0?l.addEventListener(u,h,{passive:S}):l.addEventListener(u,h,!1)}function Ib(l,u,h,x,S){var I=x;if((u&1)===0&&(u&2)===0&&x!==null)e:for(;;){if(x===null)return;var K=x.tag;if(K===3||K===4){var ue=x.stateNode.containerInfo;if(ue===S)break;if(K===4)for(K=x.return;K!==null;){var De=K.tag;if((De===3||De===4)&&K.stateNode.containerInfo===S)return;K=K.return}for(;ue!==null;){if(K=St(ue),K===null)return;if(De=K.tag,De===5||De===6||De===26||De===27){x=I=K;continue e}ue=ue.parentNode}}x=x.return}Wo(function(){var Ze=I,ht=Ms(h),xt=[];e:{var nt=im.get(l);if(nt!==void 0){var ot=ns,rn=l;switch(l){case"keypress":if(Ys(h)===0)break e;case"keydown":case"keyup":ot=er;break;case"focusin":rn="focus",ot=La;break;case"focusout":rn="blur",ot=La;break;case"beforeblur":case"afterblur":ot=La;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ot=ac;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ot=Za;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ot=H;break;case eu:case md:case nm:ot=O;break;case rm:ot=pe;break;case"scroll":case"scrollend":ot=$o;break;case"wheel":ot=et;break;case"copy":case"cut":case"paste":ot=Ee;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ot=Mr;break;case"toggle":case"beforetoggle":ot=kn}var Cn=(u&4)!==0,Xr=!Cn&&(l==="scroll"||l==="scrollend"),He=Cn?nt!==null?nt+"Capture":null:nt;Cn=[];for(var Oe=Ze,Qe;Oe!==null;){var mt=Oe;if(Qe=mt.stateNode,mt=mt.tag,mt!==5&&mt!==26&&mt!==27||Qe===null||He===null||(mt=$i(Oe,He),mt!=null&&Cn.push(Im(Oe,mt,Qe))),Xr)break;Oe=Oe.return}0<Cn.length&&(nt=new ot(nt,rn,null,h,ht),xt.push({event:nt,listeners:Cn}))}}if((u&7)===0){e:{if(nt=l==="mouseover"||l==="pointerover",ot=l==="mouseout"||l==="pointerout",nt&&h!==Ao&&(rn=h.relatedTarget||h.fromElement)&&(St(rn)||rn[we]))break e;if((ot||nt)&&(nt=ht.window===ht?ht:(nt=ht.ownerDocument)?nt.defaultView||nt.parentWindow:window,ot?(rn=h.relatedTarget||h.toElement,ot=Ze,rn=rn?St(rn):null,rn!==null&&(Xr=s(rn),Cn=rn.tag,rn!==Xr||Cn!==5&&Cn!==27&&Cn!==6)&&(rn=null)):(ot=null,rn=Ze),ot!==rn)){if(Cn=ac,mt="onMouseLeave",He="onMouseEnter",Oe="mouse",(l==="pointerout"||l==="pointerover")&&(Cn=Mr,mt="onPointerLeave",He="onPointerEnter",Oe="pointer"),Xr=ot==null?nt:_t(ot),Qe=rn==null?nt:_t(rn),nt=new Cn(mt,Oe+"leave",ot,h,ht),nt.target=Xr,nt.relatedTarget=Qe,mt=null,St(ht)===Ze&&(Cn=new Cn(He,Oe+"enter",rn,h,ht),Cn.target=Qe,Cn.relatedTarget=Xr,mt=Cn),Xr=mt,ot&&rn)t:{for(Cn=hV,He=ot,Oe=rn,Qe=0,mt=He;mt;mt=Cn(mt))Qe++;mt=0;for(var En=Oe;En;En=Cn(En))mt++;for(;0<Qe-mt;)He=Cn(He),Qe--;for(;0<mt-Qe;)Oe=Cn(Oe),mt--;for(;Qe--;){if(He===Oe||Oe!==null&&He===Oe.alternate){Cn=He;break t}He=Cn(He),Oe=Cn(Oe)}Cn=null}else Cn=null;ot!==null&&kN(xt,nt,ot,Cn,!1),rn!==null&&Xr!==null&&kN(xt,Xr,rn,Cn,!0)}}e:{if(nt=Ze?_t(Ze):window,ot=nt.nodeName&&nt.nodeName.toLowerCase(),ot==="select"||ot==="input"&&nt.type==="file")var Cr=lc;else if(hd(nt))if(ha)Cr=Qo;else{Cr=Ni;var pn=Ju}else ot=nt.nodeName,!ot||ot.toLowerCase()!=="input"||nt.type!=="checkbox"&&nt.type!=="radio"?Ze&&rc(Ze.elementType)&&(Cr=lc):Cr=Uh;if(Cr&&(Cr=Cr(l,Ze))){Oa(xt,Cr,h,ht);break e}pn&&pn(l,nt,Ze),l==="focusout"&&Ze&&nt.type==="number"&&Ze.memoizedProps.value!=null&&$c(nt,"number",nt.value)}switch(pn=Ze?_t(Ze):window,l){case"focusin":(hd(pn)||pn.contentEditable==="true")&&(Ba=pn,Rl=Ze,Ls=null);break;case"focusout":Ls=Rl=Ba=null;break;case"mousedown":eo=!0;break;case"contextmenu":case"mouseup":case"dragend":eo=!1,Tr(xt,h,ht);break;case"selectionchange":if(Zc)break;case"keydown":case"keyup":Tr(xt,h,ht)}var Kn;if(Yn)e:{switch(l){case"compositionstart":var cr="onCompositionStart";break e;case"compositionend":cr="onCompositionEnd";break e;case"compositionupdate":cr="onCompositionUpdate";break e}cr=void 0}else Yo?Fa(l,h)&&(cr="onCompositionEnd"):l==="keydown"&&h.keyCode===229&&(cr="onCompositionStart");cr&&(ms&&h.locale!=="ko"&&(Yo||cr!=="onCompositionStart"?cr==="onCompositionEnd"&&Yo&&(Kn=Jc()):(Ks=ht,Tl="value"in Ks?Ks.value:Ks.textContent,Yo=!0)),pn=yx(Ze,cr),0<pn.length&&(cr=new je(cr,l,null,h,ht),xt.push({event:cr,listeners:pn}),Kn?cr.data=Kn:(Kn=Ko(h),Kn!==null&&(cr.data=Kn)))),(Kn=rs?Qs(l,h):Sl(l,h))&&(cr=yx(Ze,"onBeforeInput"),0<cr.length&&(pn=new je("onBeforeInput","beforeinput",null,h,ht),xt.push({event:pn,listeners:cr}),pn.data=Kn)),cV(xt,l,Ze,h,ht)}CN(xt,u)})}function Im(l,u,h){return{instance:l,listener:u,currentTarget:h}}function yx(l,u){for(var h=u+"Capture",x=[];l!==null;){var S=l,I=S.stateNode;if(S=S.tag,S!==5&&S!==26&&S!==27||I===null||(S=$i(l,h),S!=null&&x.unshift(Im(l,S,I)),S=$i(l,u),S!=null&&x.push(Im(l,S,I))),l.tag===3)return x;l=l.return}return[]}function hV(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5&&l.tag!==27);return l||null}function kN(l,u,h,x,S){for(var I=u._reactName,K=[];h!==null&&h!==x;){var ue=h,De=ue.alternate,Ze=ue.stateNode;if(ue=ue.tag,De!==null&&De===x)break;ue!==5&&ue!==26&&ue!==27||Ze===null||(De=Ze,S?(Ze=$i(h,I),Ze!=null&&K.unshift(Im(h,Ze,De))):S||(Ze=$i(h,I),Ze!=null&&K.push(Im(h,Ze,De)))),h=h.return}K.length!==0&&l.push({event:u,listeners:K})}var pV=/\r\n?/g,mV=/\u0000|\uFFFD/g;function RN(l){return(typeof l=="string"?l:""+l).replace(pV,`
`).replace(mV,"")}function PN(l,u){return u=RN(u),RN(l)===u}function Yr(l,u,h,x,S,I){switch(h){case"children":typeof x=="string"?u==="body"||u==="textarea"&&x===""||Wi(l,x):(typeof x=="number"||typeof x=="bigint")&&u!=="body"&&Wi(l,""+x);break;case"className":ts(l,"class",x);break;case"tabIndex":ts(l,"tabindex",x);break;case"dir":case"role":case"viewBox":case"width":case"height":ts(l,h,x);break;case"style":Xc(l,x,I);break;case"data":if(u!=="object"){ts(l,"data",x);break}case"src":case"href":if(x===""&&(u!=="a"||h!=="href")){l.removeAttribute(h);break}if(x==null||typeof x=="function"||typeof x=="symbol"||typeof x=="boolean"){l.removeAttribute(h);break}x=Ds(""+x),l.setAttribute(h,x);break;case"action":case"formAction":if(typeof x=="function"){l.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof I=="function"&&(h==="formAction"?(u!=="input"&&Yr(l,u,"name",S.name,S,null),Yr(l,u,"formEncType",S.formEncType,S,null),Yr(l,u,"formMethod",S.formMethod,S,null),Yr(l,u,"formTarget",S.formTarget,S,null)):(Yr(l,u,"encType",S.encType,S,null),Yr(l,u,"method",S.method,S,null),Yr(l,u,"target",S.target,S,null)));if(x==null||typeof x=="symbol"||typeof x=="boolean"){l.removeAttribute(h);break}x=Ds(""+x),l.setAttribute(h,x);break;case"onClick":x!=null&&(l.onclick=Da);break;case"onScroll":x!=null&&ir("scroll",l);break;case"onScrollEnd":x!=null&&ir("scrollend",l);break;case"dangerouslySetInnerHTML":if(x!=null){if(typeof x!="object"||!("__html"in x))throw Error(r(61));if(h=x.__html,h!=null){if(S.children!=null)throw Error(r(60));l.innerHTML=h}}break;case"multiple":l.multiple=x&&typeof x!="function"&&typeof x!="symbol";break;case"muted":l.muted=x&&typeof x!="function"&&typeof x!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(x==null||typeof x=="function"||typeof x=="boolean"||typeof x=="symbol"){l.removeAttribute("xlink:href");break}h=Ds(""+x),l.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":x!=null&&typeof x!="function"&&typeof x!="symbol"?l.setAttribute(h,""+x):l.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":x&&typeof x!="function"&&typeof x!="symbol"?l.setAttribute(h,""):l.removeAttribute(h);break;case"capture":case"download":x===!0?l.setAttribute(h,""):x!==!1&&x!=null&&typeof x!="function"&&typeof x!="symbol"?l.setAttribute(h,x):l.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":x!=null&&typeof x!="function"&&typeof x!="symbol"&&!isNaN(x)&&1<=x?l.setAttribute(h,x):l.removeAttribute(h);break;case"rowSpan":case"start":x==null||typeof x=="function"||typeof x=="symbol"||isNaN(x)?l.removeAttribute(h):l.setAttribute(h,x);break;case"popover":ir("beforetoggle",l),ir("toggle",l),ei(l,"popover",x);break;case"xlinkActuate":mi(l,"http://www.w3.org/1999/xlink","xlink:actuate",x);break;case"xlinkArcrole":mi(l,"http://www.w3.org/1999/xlink","xlink:arcrole",x);break;case"xlinkRole":mi(l,"http://www.w3.org/1999/xlink","xlink:role",x);break;case"xlinkShow":mi(l,"http://www.w3.org/1999/xlink","xlink:show",x);break;case"xlinkTitle":mi(l,"http://www.w3.org/1999/xlink","xlink:title",x);break;case"xlinkType":mi(l,"http://www.w3.org/1999/xlink","xlink:type",x);break;case"xmlBase":mi(l,"http://www.w3.org/XML/1998/namespace","xml:base",x);break;case"xmlLang":mi(l,"http://www.w3.org/XML/1998/namespace","xml:lang",x);break;case"xmlSpace":mi(l,"http://www.w3.org/XML/1998/namespace","xml:space",x);break;case"is":ei(l,"is",x);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=ic.get(h)||h,ei(l,h,x))}}function kb(l,u,h,x,S,I){switch(h){case"style":Xc(l,x,I);break;case"dangerouslySetInnerHTML":if(x!=null){if(typeof x!="object"||!("__html"in x))throw Error(r(61));if(h=x.__html,h!=null){if(S.children!=null)throw Error(r(60));l.innerHTML=h}}break;case"children":typeof x=="string"?Wi(l,x):(typeof x=="number"||typeof x=="bigint")&&Wi(l,""+x);break;case"onScroll":x!=null&&ir("scroll",l);break;case"onScrollEnd":x!=null&&ir("scrollend",l);break;case"onClick":x!=null&&(l.onclick=Da);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Gn.hasOwnProperty(h))e:{if(h[0]==="o"&&h[1]==="n"&&(S=h.endsWith("Capture"),u=h.slice(2,S?h.length-7:void 0),I=l[be]||null,I=I!=null?I[h]:null,typeof I=="function"&&l.removeEventListener(u,I,S),typeof x=="function")){typeof I!="function"&&I!==null&&(h in l?l[h]=null:l.hasAttribute(h)&&l.removeAttribute(h)),l.addEventListener(u,x,S);break e}h in l?l[h]=x:x===!0?l.setAttribute(h,""):ei(l,h,x)}}}function ra(l,u,h){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ir("error",l),ir("load",l);var x=!1,S=!1,I;for(I in h)if(h.hasOwnProperty(I)){var K=h[I];if(K!=null)switch(I){case"src":x=!0;break;case"srcSet":S=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,u));default:Yr(l,u,I,K,h,null)}}S&&Yr(l,u,"srcSet",h.srcSet,h,null),x&&Yr(l,u,"src",h.src,h,null);return;case"input":ir("invalid",l);var ue=I=K=S=null,De=null,Ze=null;for(x in h)if(h.hasOwnProperty(x)){var ht=h[x];if(ht!=null)switch(x){case"name":S=ht;break;case"type":K=ht;break;case"checked":De=ht;break;case"defaultChecked":Ze=ht;break;case"value":I=ht;break;case"defaultValue":ue=ht;break;case"children":case"dangerouslySetInnerHTML":if(ht!=null)throw Error(r(137,u));break;default:Yr(l,u,x,ht,h,null)}}Ku(l,I,ue,De,Ze,K,S,!1);return;case"select":ir("invalid",l),x=K=I=null;for(S in h)if(h.hasOwnProperty(S)&&(ue=h[S],ue!=null))switch(S){case"value":I=ue;break;case"defaultValue":K=ue;break;case"multiple":x=ue;default:Yr(l,u,S,ue,h,null)}u=I,h=K,l.multiple=!!x,u!=null?ps(l,!!x,u,!1):h!=null&&ps(l,!!x,h,!0);return;case"textarea":ir("invalid",l),I=S=x=null;for(K in h)if(h.hasOwnProperty(K)&&(ue=h[K],ue!=null))switch(K){case"value":x=ue;break;case"defaultValue":S=ue;break;case"children":I=ue;break;case"dangerouslySetInnerHTML":if(ue!=null)throw Error(r(91));break;default:Yr(l,u,K,ue,h,null)}Eo(l,x,S,I);return;case"option":for(De in h)if(h.hasOwnProperty(De)&&(x=h[De],x!=null))switch(De){case"selected":l.selected=x&&typeof x!="function"&&typeof x!="symbol";break;default:Yr(l,u,De,x,h,null)}return;case"dialog":ir("beforetoggle",l),ir("toggle",l),ir("cancel",l),ir("close",l);break;case"iframe":case"object":ir("load",l);break;case"video":case"audio":for(x=0;x<Cm.length;x++)ir(Cm[x],l);break;case"image":ir("error",l),ir("load",l);break;case"details":ir("toggle",l);break;case"embed":case"source":case"link":ir("error",l),ir("load",l);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ze in h)if(h.hasOwnProperty(Ze)&&(x=h[Ze],x!=null))switch(Ze){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,u));default:Yr(l,u,Ze,x,h,null)}return;default:if(rc(u)){for(ht in h)h.hasOwnProperty(ht)&&(x=h[ht],x!==void 0&&kb(l,u,ht,x,h,void 0));return}}for(ue in h)h.hasOwnProperty(ue)&&(x=h[ue],x!=null&&Yr(l,u,ue,x,h,null))}function gV(l,u,h,x){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var S=null,I=null,K=null,ue=null,De=null,Ze=null,ht=null;for(ot in h){var xt=h[ot];if(h.hasOwnProperty(ot)&&xt!=null)switch(ot){case"checked":break;case"value":break;case"defaultValue":De=xt;default:x.hasOwnProperty(ot)||Yr(l,u,ot,null,x,xt)}}for(var nt in x){var ot=x[nt];if(xt=h[nt],x.hasOwnProperty(nt)&&(ot!=null||xt!=null))switch(nt){case"type":I=ot;break;case"name":S=ot;break;case"checked":Ze=ot;break;case"defaultChecked":ht=ot;break;case"value":K=ot;break;case"defaultValue":ue=ot;break;case"children":case"dangerouslySetInnerHTML":if(ot!=null)throw Error(r(137,u));break;default:ot!==xt&&Yr(l,u,nt,ot,x,xt)}}bl(l,K,ue,De,Ze,ht,I,S);return;case"select":ot=K=ue=nt=null;for(I in h)if(De=h[I],h.hasOwnProperty(I)&&De!=null)switch(I){case"value":break;case"multiple":ot=De;default:x.hasOwnProperty(I)||Yr(l,u,I,null,x,De)}for(S in x)if(I=x[S],De=h[S],x.hasOwnProperty(S)&&(I!=null||De!=null))switch(S){case"value":nt=I;break;case"defaultValue":ue=I;break;case"multiple":K=I;default:I!==De&&Yr(l,u,S,I,x,De)}u=ue,h=K,x=ot,nt!=null?ps(l,!!h,nt,!1):!!x!=!!h&&(u!=null?ps(l,!!h,u,!0):ps(l,!!h,h?[]:"",!1));return;case"textarea":ot=nt=null;for(ue in h)if(S=h[ue],h.hasOwnProperty(ue)&&S!=null&&!x.hasOwnProperty(ue))switch(ue){case"value":break;case"children":break;default:Yr(l,u,ue,null,x,S)}for(K in x)if(S=x[K],I=h[K],x.hasOwnProperty(K)&&(S!=null||I!=null))switch(K){case"value":nt=S;break;case"defaultValue":ot=S;break;case"children":break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(r(91));break;default:S!==I&&Yr(l,u,K,S,x,I)}Kc(l,nt,ot);return;case"option":for(var rn in h)if(nt=h[rn],h.hasOwnProperty(rn)&&nt!=null&&!x.hasOwnProperty(rn))switch(rn){case"selected":l.selected=!1;break;default:Yr(l,u,rn,null,x,nt)}for(De in x)if(nt=x[De],ot=h[De],x.hasOwnProperty(De)&&nt!==ot&&(nt!=null||ot!=null))switch(De){case"selected":l.selected=nt&&typeof nt!="function"&&typeof nt!="symbol";break;default:Yr(l,u,De,nt,x,ot)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Cn in h)nt=h[Cn],h.hasOwnProperty(Cn)&&nt!=null&&!x.hasOwnProperty(Cn)&&Yr(l,u,Cn,null,x,nt);for(Ze in x)if(nt=x[Ze],ot=h[Ze],x.hasOwnProperty(Ze)&&nt!==ot&&(nt!=null||ot!=null))switch(Ze){case"children":case"dangerouslySetInnerHTML":if(nt!=null)throw Error(r(137,u));break;default:Yr(l,u,Ze,nt,x,ot)}return;default:if(rc(u)){for(var Xr in h)nt=h[Xr],h.hasOwnProperty(Xr)&&nt!==void 0&&!x.hasOwnProperty(Xr)&&kb(l,u,Xr,void 0,x,nt);for(ht in x)nt=x[ht],ot=h[ht],!x.hasOwnProperty(ht)||nt===ot||nt===void 0&&ot===void 0||kb(l,u,ht,nt,x,ot);return}}for(var He in h)nt=h[He],h.hasOwnProperty(He)&&nt!=null&&!x.hasOwnProperty(He)&&Yr(l,u,He,null,x,nt);for(xt in x)nt=x[xt],ot=h[xt],!x.hasOwnProperty(xt)||nt===ot||nt==null&&ot==null||Yr(l,u,xt,nt,x,ot)}function DN(l){switch(l){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function xV(){if(typeof performance.getEntriesByType=="function"){for(var l=0,u=0,h=performance.getEntriesByType("resource"),x=0;x<h.length;x++){var S=h[x],I=S.transferSize,K=S.initiatorType,ue=S.duration;if(I&&ue&&DN(K)){for(K=0,ue=S.responseEnd,x+=1;x<h.length;x++){var De=h[x],Ze=De.startTime;if(Ze>ue)break;var ht=De.transferSize,xt=De.initiatorType;ht&&DN(xt)&&(De=De.responseEnd,K+=ht*(De<ue?1:(ue-Ze)/(De-Ze)))}if(--x,u+=8*(I+K)/(S.duration/1e3),l++,10<l)break}}if(0<l)return u/l/1e6}return navigator.connection&&(l=navigator.connection.downlink,typeof l=="number")?l:5}var Rb=null,Pb=null;function vx(l){return l.nodeType===9?l:l.ownerDocument}function MN(l){switch(l){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function LN(l,u){if(l===0)switch(u){case"svg":return 1;case"math":return 2;default:return 0}return l===1&&u==="foreignObject"?0:l}function Db(l,u){return l==="textarea"||l==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.children=="bigint"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var Mb=null;function yV(){var l=window.event;return l&&l.type==="popstate"?l===Mb?!1:(Mb=l,!0):(Mb=null,!1)}var FN=typeof setTimeout=="function"?setTimeout:void 0,vV=typeof clearTimeout=="function"?clearTimeout:void 0,ON=typeof Promise=="function"?Promise:void 0,bV=typeof queueMicrotask=="function"?queueMicrotask:typeof ON<"u"?function(l){return ON.resolve(null).then(l).catch(_V)}:FN;function _V(l){setTimeout(function(){throw l})}function yf(l){return l==="head"}function BN(l,u){var h=u,x=0;do{var S=h.nextSibling;if(l.removeChild(h),S&&S.nodeType===8)if(h=S.data,h==="/$"||h==="/&"){if(x===0){l.removeChild(S),v0(u);return}x--}else if(h==="$"||h==="$?"||h==="$~"||h==="$!"||h==="&")x++;else if(h==="html")km(l.ownerDocument.documentElement);else if(h==="head"){h=l.ownerDocument.head,km(h);for(var I=h.firstChild;I;){var K=I.nextSibling,ue=I.nodeName;I[Xe]||ue==="SCRIPT"||ue==="STYLE"||ue==="LINK"&&I.rel.toLowerCase()==="stylesheet"||h.removeChild(I),I=K}}else h==="body"&&km(l.ownerDocument.body);h=S}while(h);v0(u)}function VN(l,u){var h=l;l=0;do{var x=h.nextSibling;if(h.nodeType===1?u?(h._stashedDisplay=h.style.display,h.style.display="none"):(h.style.display=h._stashedDisplay||"",h.getAttribute("style")===""&&h.removeAttribute("style")):h.nodeType===3&&(u?(h._stashedText=h.nodeValue,h.nodeValue=""):h.nodeValue=h._stashedText||""),x&&x.nodeType===8)if(h=x.data,h==="/$"){if(l===0)break;l--}else h!=="$"&&h!=="$?"&&h!=="$~"&&h!=="$!"||l++;h=x}while(h)}function Lb(l){var u=l.firstChild;for(u&&u.nodeType===10&&(u=u.nextSibling);u;){var h=u;switch(u=u.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":Lb(h),bt(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}l.removeChild(h)}}function wV(l,u,h,x){for(;l.nodeType===1;){var S=h;if(l.nodeName.toLowerCase()!==u.toLowerCase()){if(!x&&(l.nodeName!=="INPUT"||l.type!=="hidden"))break}else if(x){if(!l[Xe])switch(u){case"meta":if(!l.hasAttribute("itemprop"))break;return l;case"link":if(I=l.getAttribute("rel"),I==="stylesheet"&&l.hasAttribute("data-precedence"))break;if(I!==S.rel||l.getAttribute("href")!==(S.href==null||S.href===""?null:S.href)||l.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin)||l.getAttribute("title")!==(S.title==null?null:S.title))break;return l;case"style":if(l.hasAttribute("data-precedence"))break;return l;case"script":if(I=l.getAttribute("src"),(I!==(S.src==null?null:S.src)||l.getAttribute("type")!==(S.type==null?null:S.type)||l.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin))&&I&&l.hasAttribute("async")&&!l.hasAttribute("itemprop"))break;return l;default:return l}}else if(u==="input"&&l.type==="hidden"){var I=S.name==null?null:""+S.name;if(S.type==="hidden"&&l.getAttribute("name")===I)return l}else return l;if(l=sl(l.nextSibling),l===null)break}return null}function TV(l,u,h){if(u==="")return null;for(;l.nodeType!==3;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!h||(l=sl(l.nextSibling),l===null))return null;return l}function UN(l,u){for(;l.nodeType!==8;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!u||(l=sl(l.nextSibling),l===null))return null;return l}function Fb(l){return l.data==="$?"||l.data==="$~"}function Ob(l){return l.data==="$!"||l.data==="$?"&&l.ownerDocument.readyState!=="loading"}function EV(l,u){var h=l.ownerDocument;if(l.data==="$~")l._reactRetry=u;else if(l.data!=="$?"||h.readyState!=="loading")u();else{var x=function(){u(),h.removeEventListener("DOMContentLoaded",x)};h.addEventListener("DOMContentLoaded",x),l._reactRetry=x}}function sl(l){for(;l!=null;l=l.nextSibling){var u=l.nodeType;if(u===1||u===3)break;if(u===8){if(u=l.data,u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"||u==="F!"||u==="F")break;if(u==="/$"||u==="/&")return null}}return l}var Bb=null;function jN(l){l=l.nextSibling;for(var u=0;l;){if(l.nodeType===8){var h=l.data;if(h==="/$"||h==="/&"){if(u===0)return sl(l.nextSibling);u--}else h!=="$"&&h!=="$!"&&h!=="$?"&&h!=="$~"&&h!=="&"||u++}l=l.nextSibling}return null}function qN(l){l=l.previousSibling;for(var u=0;l;){if(l.nodeType===8){var h=l.data;if(h==="$"||h==="$!"||h==="$?"||h==="$~"||h==="&"){if(u===0)return l;u--}else h!=="/$"&&h!=="/&"||u++}l=l.previousSibling}return null}function HN(l,u,h){switch(u=vx(h),l){case"html":if(l=u.documentElement,!l)throw Error(r(452));return l;case"head":if(l=u.head,!l)throw Error(r(453));return l;case"body":if(l=u.body,!l)throw Error(r(454));return l;default:throw Error(r(451))}}function km(l){for(var u=l.attributes;u.length;)l.removeAttributeNode(u[0]);bt(l)}var al=new Map,zN=new Set;function bx(l){return typeof l.getRootNode=="function"?l.getRootNode():l.nodeType===9?l:l.ownerDocument}var xu=xe.d;xe.d={f:SV,r:AV,D:NV,C:CV,L:IV,m:kV,X:PV,S:RV,M:DV};function SV(){var l=xu.f(),u=fx();return l||u}function AV(l){var u=Mt(l);u!==null&&u.tag===5&&u.type==="form"?oA(u):xu.r(l)}var g0=typeof document>"u"?null:document;function GN(l,u,h){var x=g0;if(x&&typeof u=="string"&&u){var S=gi(u);S='link[rel="'+l+'"][href="'+S+'"]',typeof h=="string"&&(S+='[crossorigin="'+h+'"]'),zN.has(S)||(zN.add(S),l={rel:l,crossOrigin:h,href:u},x.querySelector(S)===null&&(u=x.createElement("link"),ra(u,"link",l),Xt(u),x.head.appendChild(u)))}}function NV(l){xu.D(l),GN("dns-prefetch",l,null)}function CV(l,u){xu.C(l,u),GN("preconnect",l,u)}function IV(l,u,h){xu.L(l,u,h);var x=g0;if(x&&l&&u){var S='link[rel="preload"][as="'+gi(u)+'"]';u==="image"&&h&&h.imageSrcSet?(S+='[imagesrcset="'+gi(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(S+='[imagesizes="'+gi(h.imageSizes)+'"]')):S+='[href="'+gi(l)+'"]';var I=S;switch(u){case"style":I=x0(l);break;case"script":I=y0(l)}al.has(I)||(l=m({rel:"preload",href:u==="image"&&h&&h.imageSrcSet?void 0:l,as:u},h),al.set(I,l),x.querySelector(S)!==null||u==="style"&&x.querySelector(Rm(I))||u==="script"&&x.querySelector(Pm(I))||(u=x.createElement("link"),ra(u,"link",l),Xt(u),x.head.appendChild(u)))}}function kV(l,u){xu.m(l,u);var h=g0;if(h&&l){var x=u&&typeof u.as=="string"?u.as:"script",S='link[rel="modulepreload"][as="'+gi(x)+'"][href="'+gi(l)+'"]',I=S;switch(x){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":I=y0(l)}if(!al.has(I)&&(l=m({rel:"modulepreload",href:l},u),al.set(I,l),h.querySelector(S)===null)){switch(x){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(Pm(I)))return}x=h.createElement("link"),ra(x,"link",l),Xt(x),h.head.appendChild(x)}}}function RV(l,u,h){xu.S(l,u,h);var x=g0;if(x&&l){var S=Dt(x).hoistableStyles,I=x0(l);u=u||"default";var K=S.get(I);if(!K){var ue={loading:0,preload:null};if(K=x.querySelector(Rm(I)))ue.loading=5;else{l=m({rel:"stylesheet",href:l,"data-precedence":u},h),(h=al.get(I))&&Vb(l,h);var De=K=x.createElement("link");Xt(De),ra(De,"link",l),De._p=new Promise(function(Ze,ht){De.onload=Ze,De.onerror=ht}),De.addEventListener("load",function(){ue.loading|=1}),De.addEventListener("error",function(){ue.loading|=2}),ue.loading|=4,_x(K,u,x)}K={type:"stylesheet",instance:K,count:1,state:ue},S.set(I,K)}}}function PV(l,u){xu.X(l,u);var h=g0;if(h&&l){var x=Dt(h).hoistableScripts,S=y0(l),I=x.get(S);I||(I=h.querySelector(Pm(S)),I||(l=m({src:l,async:!0},u),(u=al.get(S))&&Ub(l,u),I=h.createElement("script"),Xt(I),ra(I,"link",l),h.head.appendChild(I)),I={type:"script",instance:I,count:1,state:null},x.set(S,I))}}function DV(l,u){xu.M(l,u);var h=g0;if(h&&l){var x=Dt(h).hoistableScripts,S=y0(l),I=x.get(S);I||(I=h.querySelector(Pm(S)),I||(l=m({src:l,async:!0,type:"module"},u),(u=al.get(S))&&Ub(l,u),I=h.createElement("script"),Xt(I),ra(I,"link",l),h.head.appendChild(I)),I={type:"script",instance:I,count:1,state:null},x.set(S,I))}}function WN(l,u,h,x){var S=(S=ce.current)?bx(S):null;if(!S)throw Error(r(446));switch(l){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(u=x0(h.href),h=Dt(S).hoistableStyles,x=h.get(u),x||(x={type:"style",instance:null,count:0,state:null},h.set(u,x)),x):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){l=x0(h.href);var I=Dt(S).hoistableStyles,K=I.get(l);if(K||(S=S.ownerDocument||S,K={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},I.set(l,K),(I=S.querySelector(Rm(l)))&&!I._p&&(K.instance=I,K.state.loading=5),al.has(l)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},al.set(l,h),I||MV(S,l,h,K.state))),u&&x===null)throw Error(r(528,""));return K}if(u&&x!==null)throw Error(r(529,""));return null;case"script":return u=h.async,h=h.src,typeof h=="string"&&u&&typeof u!="function"&&typeof u!="symbol"?(u=y0(h),h=Dt(S).hoistableScripts,x=h.get(u),x||(x={type:"script",instance:null,count:0,state:null},h.set(u,x)),x):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,l))}}function x0(l){return'href="'+gi(l)+'"'}function Rm(l){return'link[rel="stylesheet"]['+l+"]"}function $N(l){return m({},l,{"data-precedence":l.precedence,precedence:null})}function MV(l,u,h,x){l.querySelector('link[rel="preload"][as="style"]['+u+"]")?x.loading=1:(u=l.createElement("link"),x.preload=u,u.addEventListener("load",function(){return x.loading|=1}),u.addEventListener("error",function(){return x.loading|=2}),ra(u,"link",h),Xt(u),l.head.appendChild(u))}function y0(l){return'[src="'+gi(l)+'"]'}function Pm(l){return"script[async]"+l}function KN(l,u,h){if(u.count++,u.instance===null)switch(u.type){case"style":var x=l.querySelector('style[data-href~="'+gi(h.href)+'"]');if(x)return u.instance=x,Xt(x),x;var S=m({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return x=(l.ownerDocument||l).createElement("style"),Xt(x),ra(x,"style",S),_x(x,h.precedence,l),u.instance=x;case"stylesheet":S=x0(h.href);var I=l.querySelector(Rm(S));if(I)return u.state.loading|=4,u.instance=I,Xt(I),I;x=$N(h),(S=al.get(S))&&Vb(x,S),I=(l.ownerDocument||l).createElement("link"),Xt(I);var K=I;return K._p=new Promise(function(ue,De){K.onload=ue,K.onerror=De}),ra(I,"link",x),u.state.loading|=4,_x(I,h.precedence,l),u.instance=I;case"script":return I=y0(h.src),(S=l.querySelector(Pm(I)))?(u.instance=S,Xt(S),S):(x=h,(S=al.get(I))&&(x=m({},h),Ub(x,S)),l=l.ownerDocument||l,S=l.createElement("script"),Xt(S),ra(S,"link",x),l.head.appendChild(S),u.instance=S);case"void":return null;default:throw Error(r(443,u.type))}else u.type==="stylesheet"&&(u.state.loading&4)===0&&(x=u.instance,u.state.loading|=4,_x(x,h.precedence,l));return u.instance}function _x(l,u,h){for(var x=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),S=x.length?x[x.length-1]:null,I=S,K=0;K<x.length;K++){var ue=x[K];if(ue.dataset.precedence===u)I=ue;else if(I!==S)break}I?I.parentNode.insertBefore(l,I.nextSibling):(u=h.nodeType===9?h.head:h,u.insertBefore(l,u.firstChild))}function Vb(l,u){l.crossOrigin==null&&(l.crossOrigin=u.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=u.referrerPolicy),l.title==null&&(l.title=u.title)}function Ub(l,u){l.crossOrigin==null&&(l.crossOrigin=u.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=u.referrerPolicy),l.integrity==null&&(l.integrity=u.integrity)}var wx=null;function YN(l,u,h){if(wx===null){var x=new Map,S=wx=new Map;S.set(h,x)}else S=wx,x=S.get(h),x||(x=new Map,S.set(h,x));if(x.has(l))return x;for(x.set(l,null),h=h.getElementsByTagName(l),S=0;S<h.length;S++){var I=h[S];if(!(I[Xe]||I[ge]||l==="link"&&I.getAttribute("rel")==="stylesheet")&&I.namespaceURI!=="http://www.w3.org/2000/svg"){var K=I.getAttribute(u)||"";K=l+K;var ue=x.get(K);ue?ue.push(I):x.set(K,[I])}}return x}function XN(l,u,h){l=l.ownerDocument||l,l.head.insertBefore(h,u==="title"?l.querySelector("head > title"):null)}function LV(l,u,h){if(h===1||u.itemProp!=null)return!1;switch(l){case"meta":case"title":return!0;case"style":if(typeof u.precedence!="string"||typeof u.href!="string"||u.href==="")break;return!0;case"link":if(typeof u.rel!="string"||typeof u.href!="string"||u.href===""||u.onLoad||u.onError)break;switch(u.rel){case"stylesheet":return l=u.disabled,typeof u.precedence=="string"&&l==null;default:return!0}case"script":if(u.async&&typeof u.async!="function"&&typeof u.async!="symbol"&&!u.onLoad&&!u.onError&&u.src&&typeof u.src=="string")return!0}return!1}function JN(l){return!(l.type==="stylesheet"&&(l.state.loading&3)===0)}function FV(l,u,h,x){if(h.type==="stylesheet"&&(typeof x.media!="string"||matchMedia(x.media).matches!==!1)&&(h.state.loading&4)===0){if(h.instance===null){var S=x0(x.href),I=u.querySelector(Rm(S));if(I){u=I._p,u!==null&&typeof u=="object"&&typeof u.then=="function"&&(l.count++,l=Tx.bind(l),u.then(l,l)),h.state.loading|=4,h.instance=I,Xt(I);return}I=u.ownerDocument||u,x=$N(x),(S=al.get(S))&&Vb(x,S),I=I.createElement("link"),Xt(I);var K=I;K._p=new Promise(function(ue,De){K.onload=ue,K.onerror=De}),ra(I,"link",x),h.instance=I}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(h,u),(u=h.state.preload)&&(h.state.loading&3)===0&&(l.count++,h=Tx.bind(l),u.addEventListener("load",h),u.addEventListener("error",h))}}var jb=0;function OV(l,u){return l.stylesheets&&l.count===0&&Sx(l,l.stylesheets),0<l.count||0<l.imgCount?function(h){var x=setTimeout(function(){if(l.stylesheets&&Sx(l,l.stylesheets),l.unsuspend){var I=l.unsuspend;l.unsuspend=null,I()}},6e4+u);0<l.imgBytes&&jb===0&&(jb=62500*xV());var S=setTimeout(function(){if(l.waitingForImages=!1,l.count===0&&(l.stylesheets&&Sx(l,l.stylesheets),l.unsuspend)){var I=l.unsuspend;l.unsuspend=null,I()}},(l.imgBytes>jb?50:800)+u);return l.unsuspend=h,function(){l.unsuspend=null,clearTimeout(x),clearTimeout(S)}}:null}function Tx(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Sx(this,this.stylesheets);else if(this.unsuspend){var l=this.unsuspend;this.unsuspend=null,l()}}}var Ex=null;function Sx(l,u){l.stylesheets=null,l.unsuspend!==null&&(l.count++,Ex=new Map,u.forEach(BV,l),Ex=null,Tx.call(l))}function BV(l,u){if(!(u.state.loading&4)){var h=Ex.get(l);if(h)var x=h.get(null);else{h=new Map,Ex.set(l,h);for(var S=l.querySelectorAll("link[data-precedence],style[data-precedence]"),I=0;I<S.length;I++){var K=S[I];(K.nodeName==="LINK"||K.getAttribute("media")!=="not all")&&(h.set(K.dataset.precedence,K),x=K)}x&&h.set(null,x)}S=u.instance,K=S.getAttribute("data-precedence"),I=h.get(K)||x,I===x&&h.set(null,S),h.set(K,S),this.count++,x=Tx.bind(this),S.addEventListener("load",x),S.addEventListener("error",x),I?I.parentNode.insertBefore(S,I.nextSibling):(l=l.nodeType===9?l.head:l,l.insertBefore(S,l.firstChild)),u.state.loading|=4}}var Dm={$$typeof:R,Provider:null,Consumer:null,_currentValue:Ne,_currentValue2:Ne,_threadCount:0};function VV(l,u,h,x,S,I,K,ue,De){this.tag=1,this.containerInfo=l,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Zr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zr(0),this.hiddenUpdates=Zr(null),this.identifierPrefix=x,this.onUncaughtError=S,this.onCaughtError=I,this.onRecoverableError=K,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=De,this.incompleteTransitions=new Map}function QN(l,u,h,x,S,I,K,ue,De,Ze,ht,xt){return l=new VV(l,u,h,K,De,Ze,ht,xt,ue),u=1,I===!0&&(u|=24),I=Os(3,null,null,u),l.current=I,I.stateNode=l,u=af(),u.refCount++,l.pooledCache=u,u.refCount++,I.memoizedState={element:x,isDehydrated:h,cache:u},Ot(I),l}function ZN(l){return l?(l=ys,l):ys}function e4(l,u,h,x,S,I){S=ZN(S),x.context===null?x.context=S:x.pendingContext=S,x=An(u),x.payload={element:h},I=I===void 0?null:I,I!==null&&(x.callback=I),h=zn(l,x,u),h!==null&&(mo(h,l,u),Rr(h,l,u))}function t4(l,u){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var h=l.retryLane;l.retryLane=h!==0&&h<u?h:u}}function qb(l,u){t4(l,u),(l=l.alternate)&&t4(l,u)}function n4(l){if(l.tag===13||l.tag===31){var u=Pl(l,67108864);u!==null&&mo(u,l,67108864),qb(l,67108864)}}function r4(l){if(l.tag===13||l.tag===31){var u=Mo();u=tn(u);var h=Pl(l,u);h!==null&&mo(h,l,u),qb(l,u)}}var Ax=!0;function UV(l,u,h,x){var S=fe.T;fe.T=null;var I=xe.p;try{xe.p=2,Hb(l,u,h,x)}finally{xe.p=I,fe.T=S}}function jV(l,u,h,x){var S=fe.T;fe.T=null;var I=xe.p;try{xe.p=8,Hb(l,u,h,x)}finally{xe.p=I,fe.T=S}}function Hb(l,u,h,x){if(Ax){var S=zb(x);if(S===null)Ib(l,u,x,Nx,h),s4(l,x);else if(HV(S,l,u,h,x))x.stopPropagation();else if(s4(l,x),u&4&&-1<qV.indexOf(l)){for(;S!==null;){var I=Mt(S);if(I!==null)switch(I.tag){case 3:if(I=I.stateNode,I.current.memoizedState.isDehydrated){var K=Yt(I.pendingLanes);if(K!==0){var ue=I;for(ue.pendingLanes|=2,ue.entangledLanes|=2;K;){var De=1<<31-xn(K);ue.entanglements[1]|=De,K&=~De}_c(I),(Dr&6)===0&&(cx=Zt()+500,Nm(0))}}break;case 31:case 13:ue=Pl(I,2),ue!==null&&mo(ue,I,2),fx(),qb(I,2)}if(I=zb(x),I===null&&Ib(l,u,x,Nx,h),I===S)break;S=I}S!==null&&x.stopPropagation()}else Ib(l,u,x,null,h)}}function zb(l){return l=Ms(l),Gb(l)}var Nx=null;function Gb(l){if(Nx=null,l=St(l),l!==null){var u=s(l);if(u===null)l=null;else{var h=u.tag;if(h===13){if(l=a(u),l!==null)return l;l=null}else if(h===31){if(l=o(u),l!==null)return l;l=null}else if(h===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;l=null}else u!==l&&(l=null)}}return Nx=l,null}function i4(l){switch(l){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Gt()){case Wt:return 2;case Nn:return 8;case en:case Ft:return 32;case Rt:return 268435456;default:return 32}default:return 32}}var Wb=!1,vf=null,bf=null,_f=null,Mm=new Map,Lm=new Map,wf=[],qV="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function s4(l,u){switch(l){case"focusin":case"focusout":vf=null;break;case"dragenter":case"dragleave":bf=null;break;case"mouseover":case"mouseout":_f=null;break;case"pointerover":case"pointerout":Mm.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lm.delete(u.pointerId)}}function Fm(l,u,h,x,S,I){return l===null||l.nativeEvent!==I?(l={blockedOn:u,domEventName:h,eventSystemFlags:x,nativeEvent:I,targetContainers:[S]},u!==null&&(u=Mt(u),u!==null&&n4(u)),l):(l.eventSystemFlags|=x,u=l.targetContainers,S!==null&&u.indexOf(S)===-1&&u.push(S),l)}function HV(l,u,h,x,S){switch(u){case"focusin":return vf=Fm(vf,l,u,h,x,S),!0;case"dragenter":return bf=Fm(bf,l,u,h,x,S),!0;case"mouseover":return _f=Fm(_f,l,u,h,x,S),!0;case"pointerover":var I=S.pointerId;return Mm.set(I,Fm(Mm.get(I)||null,l,u,h,x,S)),!0;case"gotpointercapture":return I=S.pointerId,Lm.set(I,Fm(Lm.get(I)||null,l,u,h,x,S)),!0}return!1}function a4(l){var u=St(l.target);if(u!==null){var h=s(u);if(h!==null){if(u=h.tag,u===13){if(u=a(h),u!==null){l.blockedOn=u,ve(l.priority,function(){r4(h)});return}}else if(u===31){if(u=o(h),u!==null){l.blockedOn=u,ve(l.priority,function(){r4(h)});return}}else if(u===3&&h.stateNode.current.memoizedState.isDehydrated){l.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}l.blockedOn=null}function Cx(l){if(l.blockedOn!==null)return!1;for(var u=l.targetContainers;0<u.length;){var h=zb(l.nativeEvent);if(h===null){h=l.nativeEvent;var x=new h.constructor(h.type,h);Ao=x,h.target.dispatchEvent(x),Ao=null}else return u=Mt(h),u!==null&&n4(u),l.blockedOn=h,!1;u.shift()}return!0}function o4(l,u,h){Cx(l)&&h.delete(u)}function zV(){Wb=!1,vf!==null&&Cx(vf)&&(vf=null),bf!==null&&Cx(bf)&&(bf=null),_f!==null&&Cx(_f)&&(_f=null),Mm.forEach(o4),Lm.forEach(o4)}function Ix(l,u){l.blockedOn===u&&(l.blockedOn=null,Wb||(Wb=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,zV)))}var kx=null;function l4(l){kx!==l&&(kx=l,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){kx===l&&(kx=null);for(var u=0;u<l.length;u+=3){var h=l[u],x=l[u+1],S=l[u+2];if(typeof x!="function"){if(Gb(x||h)===null)continue;break}var I=Mt(h);I!==null&&(l.splice(u,3),u-=3,zv(I,{pending:!0,data:S,method:h.method,action:x},x,S))}}))}function v0(l){function u(De){return Ix(De,l)}vf!==null&&Ix(vf,l),bf!==null&&Ix(bf,l),_f!==null&&Ix(_f,l),Mm.forEach(u),Lm.forEach(u);for(var h=0;h<wf.length;h++){var x=wf[h];x.blockedOn===l&&(x.blockedOn=null)}for(;0<wf.length&&(h=wf[0],h.blockedOn===null);)a4(h),h.blockedOn===null&&wf.shift();if(h=(l.ownerDocument||l).$$reactFormReplay,h!=null)for(x=0;x<h.length;x+=3){var S=h[x],I=h[x+1],K=S[be]||null;if(typeof I=="function")K||l4(h);else if(K){var ue=null;if(I&&I.hasAttribute("formAction")){if(S=I,K=I[be]||null)ue=K.formAction;else if(Gb(S)!==null)continue}else ue=K.action;typeof ue=="function"?h[x+1]=ue:(h.splice(x,3),x-=3),l4(h)}}}function c4(){function l(I){I.canIntercept&&I.info==="react-transition"&&I.intercept({handler:function(){return new Promise(function(K){return S=K})},focusReset:"manual",scroll:"manual"})}function u(){S!==null&&(S(),S=null),x||setTimeout(h,20)}function h(){if(!x&&!navigation.transition){var I=navigation.currentEntry;I&&I.url!=null&&navigation.navigate(I.url,{state:I.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var x=!1,S=null;return navigation.addEventListener("navigate",l),navigation.addEventListener("navigatesuccess",u),navigation.addEventListener("navigateerror",u),setTimeout(h,100),function(){x=!0,navigation.removeEventListener("navigate",l),navigation.removeEventListener("navigatesuccess",u),navigation.removeEventListener("navigateerror",u),S!==null&&(S(),S=null)}}}function $b(l){this._internalRoot=l}Rx.prototype.render=$b.prototype.render=function(l){var u=this._internalRoot;if(u===null)throw Error(r(409));var h=u.current,x=Mo();e4(h,x,l,u,null,null)},Rx.prototype.unmount=$b.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var u=l.containerInfo;e4(l.current,2,null,l,null,null),fx(),u[we]=null}};function Rx(l){this._internalRoot=l}Rx.prototype.unstable_scheduleHydration=function(l){if(l){var u=ie();l={blockedOn:null,target:l,priority:u};for(var h=0;h<wf.length&&u!==0&&u<wf[h].priority;h++);wf.splice(h,0,l),h===0&&a4(l)}};var u4=e.version;if(u4!=="19.2.0")throw Error(r(527,u4,"19.2.0"));xe.findDOMNode=function(l){var u=l._reactInternals;if(u===void 0)throw typeof l.render=="function"?Error(r(188)):(l=Object.keys(l).join(","),Error(r(268,l)));return l=f(u),l=l!==null?d(l):null,l=l===null?null:l.stateNode,l};var GV={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:fe,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Px=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Px.isDisabled&&Px.supportsFiber)try{Bt=Px.inject(GV),Ct=Px}catch{}}return Bm.createRoot=function(l,u){if(!i(l))throw Error(r(299));var h=!1,x="",S=xA,I=yA,K=vA;return u!=null&&(u.unstable_strictMode===!0&&(h=!0),u.identifierPrefix!==void 0&&(x=u.identifierPrefix),u.onUncaughtError!==void 0&&(S=u.onUncaughtError),u.onCaughtError!==void 0&&(I=u.onCaughtError),u.onRecoverableError!==void 0&&(K=u.onRecoverableError)),u=QN(l,1,!1,null,null,h,x,null,S,I,K,c4),l[we]=u.current,Cb(l),new $b(u)},Bm.hydrateRoot=function(l,u,h){if(!i(l))throw Error(r(299));var x=!1,S="",I=xA,K=yA,ue=vA,De=null;return h!=null&&(h.unstable_strictMode===!0&&(x=!0),h.identifierPrefix!==void 0&&(S=h.identifierPrefix),h.onUncaughtError!==void 0&&(I=h.onUncaughtError),h.onCaughtError!==void 0&&(K=h.onCaughtError),h.onRecoverableError!==void 0&&(ue=h.onRecoverableError),h.formState!==void 0&&(De=h.formState)),u=QN(l,1,!0,u,h??null,x,S,De,I,K,ue,c4),u.context=ZN(null),h=u.current,x=Mo(),x=tn(x),S=An(x),S.callback=null,zn(h,S,x),h=x,u.current.lanes=h,hn(u,h),_c(u),l[we]=u.current,Cb(l),new Rx(u)},Bm.version="19.2.0",Bm}var b4;function eU(){if(b4)return Yb.exports;b4=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Yb.exports=ZV(),Yb.exports}var tU=eU(),ke=bT();const Z0=yD(ke),_T=ke.createContext({});function G2(t){const e=ke.useRef(null);return e.current===null&&(e.current=t()),e.current}const wT=typeof window<"u",TT=wT?ke.useLayoutEffect:ke.useEffect,W2=ke.createContext(null);function ET(t,e){t.indexOf(e)===-1&&t.push(e)}function ST(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Vc=(t,e,n)=>n>e?e:n<t?t:n;let Lg=()=>{};const Du={},bD=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function _D(t){return typeof t=="object"&&t!==null}const wD=t=>/^0[^.\s]+$/u.test(t);function AT(t){let e;return()=>(e===void 0&&(e=t()),e)}const bo=t=>t,nU=(t,e)=>n=>e(t(n)),p1=(...t)=>t.reduce(nU),yp=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class NT{constructor(){this.subscriptions=[]}add(e){return ET(this.subscriptions,e),()=>ST(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const a=this.subscriptions[s];a&&a(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Pc=t=>t*1e3,hl=t=>t/1e3;function CT(t,e){return e?t*(1e3/e):0}const TD=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,rU=1e-7,iU=12;function sU(t,e,n,r,i){let s,a,o=0;do a=e+(n-e)/2,s=TD(a,r,i)-t,s>0?n=a:e=a;while(Math.abs(s)>rU&&++o<iU);return a}function m1(t,e,n,r){if(t===e&&n===r)return bo;const i=s=>sU(s,0,1,t,n);return s=>s===0||s===1?s:TD(i(s),e,r)}const ED=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,SD=t=>e=>1-t(1-e),AD=m1(.33,1.53,.69,.99),IT=SD(AD),ND=ED(IT),CD=t=>(t*=2)<1?.5*IT(t):.5*(2-Math.pow(2,-10*(t-1))),kT=t=>1-Math.sin(Math.acos(t)),ID=SD(kT),kD=ED(kT),aU=m1(.42,0,1,1),oU=m1(0,0,.58,1),RD=m1(.42,0,.58,1),lU=t=>Array.isArray(t)&&typeof t[0]!="number",PD=t=>Array.isArray(t)&&typeof t[0]=="number",cU={linear:bo,easeIn:aU,easeInOut:RD,easeOut:oU,circIn:kT,circInOut:kD,circOut:ID,backIn:IT,backInOut:ND,backOut:AD,anticipate:CD},uU=t=>typeof t=="string",_4=t=>{if(PD(t)){Lg(t.length===4);const[e,n,r,i]=t;return m1(e,n,r,i)}else if(uU(t))return cU[t];return t},Dx=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function fU(t,e){let n=new Set,r=new Set,i=!1,s=!1;const a=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function c(d){a.has(d)&&(f.schedule(d),t()),d(o)}const f={schedule:(d,m=!1,g=!1)=>{const E=g&&i?n:r;return m&&a.add(d),E.has(d)||E.add(d),d},cancel:d=>{r.delete(d),a.delete(d)},process:d=>{if(o=d,i){s=!0;return}i=!0,[n,r]=[r,n],n.forEach(c),n.clear(),i=!1,s&&(s=!1,f.process(d))}};return f}const dU=40;function DD(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,a=Dx.reduce((R,F)=>(R[F]=fU(s),R),{}),{setup:o,read:c,resolveKeyframes:f,preUpdate:d,update:m,preRender:g,render:y,postRender:E}=a,_=()=>{const R=Du.useManualTiming?i.timestamp:performance.now();n=!1,Du.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(R-i.timestamp,dU),1)),i.timestamp=R,i.isProcessing=!0,o.process(i),c.process(i),f.process(i),d.process(i),m.process(i),g.process(i),y.process(i),E.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(_))},A=()=>{n=!0,r=!0,i.isProcessing||t(_)};return{schedule:Dx.reduce((R,F)=>{const z=a[F];return R[F]=(W,D=!1,L=!1)=>(n||A(),z.schedule(W,D,L)),R},{}),cancel:R=>{for(let F=0;F<Dx.length;F++)a[Dx[F]].cancel(R)},state:i,steps:a}}const{schedule:Jr,cancel:Uc,state:js,steps:e_}=DD(typeof requestAnimationFrame<"u"?requestAnimationFrame:bo,!0);let hy;function hU(){hy=void 0}const yo={now:()=>(hy===void 0&&yo.set(js.isProcessing||Du.useManualTiming?js.timestamp:performance.now()),hy),set:t=>{hy=t,queueMicrotask(hU)}},MD=t=>e=>typeof e=="string"&&e.startsWith(t),RT=MD("--"),pU=MD("var(--"),PT=t=>pU(t)?mU.test(t.split("/*")[0].trim()):!1,mU=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Bp={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Fg={...Bp,transform:t=>Vc(0,1,t)},Mx={...Bp,default:1},lg=t=>Math.round(t*1e5)/1e5,DT=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function gU(t){return t==null}const xU=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,MT=(t,e)=>n=>!!(typeof n=="string"&&xU.test(n)&&n.startsWith(t)||e&&!gU(n)&&Object.prototype.hasOwnProperty.call(n,e)),LD=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,a,o]=r.match(DT);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(a),alpha:o!==void 0?parseFloat(o):1}},yU=t=>Vc(0,255,t),t_={...Bp,transform:t=>Math.round(yU(t))},Hd={test:MT("rgb","red"),parse:LD("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+t_.transform(t)+", "+t_.transform(e)+", "+t_.transform(n)+", "+lg(Fg.transform(r))+")"};function vU(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Mw={test:MT("#"),parse:vU,transform:Hd.transform},g1=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Pf=g1("deg"),Dc=g1("%"),Rn=g1("px"),bU=g1("vh"),_U=g1("vw"),w4={...Dc,parse:t=>Dc.parse(t)/100,transform:t=>Dc.transform(t*100)},U0={test:MT("hsl","hue"),parse:LD("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Dc.transform(lg(e))+", "+Dc.transform(lg(n))+", "+lg(Fg.transform(r))+")"},fs={test:t=>Hd.test(t)||Mw.test(t)||U0.test(t),parse:t=>Hd.test(t)?Hd.parse(t):U0.test(t)?U0.parse(t):Mw.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Hd.transform(t):U0.transform(t),getAnimatableNone:t=>{const e=fs.parse(t);return e.alpha=0,fs.transform(e)}},wU=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function TU(t){return isNaN(t)&&typeof t=="string"&&(t.match(DT)?.length||0)+(t.match(wU)?.length||0)>0}const FD="number",OD="color",EU="var",SU="var(",T4="${}",AU=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Og(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const o=e.replace(AU,c=>(fs.test(c)?(r.color.push(s),i.push(OD),n.push(fs.parse(c))):c.startsWith(SU)?(r.var.push(s),i.push(EU),n.push(c)):(r.number.push(s),i.push(FD),n.push(parseFloat(c))),++s,T4)).split(T4);return{values:n,split:o,indexes:r,types:i}}function BD(t){return Og(t).values}function VD(t){const{split:e,types:n}=Og(t),r=e.length;return i=>{let s="";for(let a=0;a<r;a++)if(s+=e[a],i[a]!==void 0){const o=n[a];o===FD?s+=lg(i[a]):o===OD?s+=fs.transform(i[a]):s+=i[a]}return s}}const NU=t=>typeof t=="number"?0:fs.test(t)?fs.getAnimatableNone(t):t;function CU(t){const e=BD(t);return VD(t)(e.map(NU))}const Qf={test:TU,parse:BD,createTransformer:VD,getAnimatableNone:CU};function n_(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function IU({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,a=0;if(!e)i=s=a=n;else{const o=n<.5?n*(1+e):n+e-n*e,c=2*n-o;i=n_(c,o,t+1/3),s=n_(c,o,t),a=n_(c,o,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(a*255),alpha:r}}function Wy(t,e){return n=>n>0?e:t}const Ri=(t,e,n)=>t+(e-t)*n,r_=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},kU=[Mw,Hd,U0],RU=t=>kU.find(e=>e.test(t));function E4(t){const e=RU(t);if(!e)return!1;let n=e.parse(t);return e===U0&&(n=IU(n)),n}const S4=(t,e)=>{const n=E4(t),r=E4(e);if(!n||!r)return Wy(t,e);const i={...n};return s=>(i.red=r_(n.red,r.red,s),i.green=r_(n.green,r.green,s),i.blue=r_(n.blue,r.blue,s),i.alpha=Ri(n.alpha,r.alpha,s),Hd.transform(i))},Lw=new Set(["none","hidden"]);function PU(t,e){return Lw.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function DU(t,e){return n=>Ri(t,e,n)}function LT(t){return typeof t=="number"?DU:typeof t=="string"?PT(t)?Wy:fs.test(t)?S4:FU:Array.isArray(t)?UD:typeof t=="object"?fs.test(t)?S4:MU:Wy}function UD(t,e){const n=[...t],r=n.length,i=t.map((s,a)=>LT(s)(s,e[a]));return s=>{for(let a=0;a<r;a++)n[a]=i[a](s);return n}}function MU(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=LT(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function LU(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const s=e.types[i],a=t.indexes[s][r[s]],o=t.values[a]??0;n[i]=o,r[s]++}return n}const FU=(t,e)=>{const n=Qf.createTransformer(e),r=Og(t),i=Og(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Lw.has(t)&&!i.values.length||Lw.has(e)&&!r.values.length?PU(t,e):p1(UD(LU(r,i),i.values),n):Wy(t,e)};function jD(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Ri(t,e,n):LT(t)(t,e)}const OU=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Jr.update(e,n),stop:()=>Uc(e),now:()=>js.isProcessing?js.timestamp:yo.now()}},qD=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=Math.round(t(s/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},$y=2e4;function FT(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<$y;)e+=n,r=t.next(e);return e>=$y?1/0:e}function BU(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(FT(r),$y);return{type:"keyframes",ease:s=>r.next(i*s).value/e,duration:hl(i)}}const VU=5;function HD(t,e,n){const r=Math.max(e-VU,0);return CT(n-t(r),e-r)}const ji={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},i_=.001;function UU({duration:t=ji.duration,bounce:e=ji.bounce,velocity:n=ji.velocity,mass:r=ji.mass}){let i,s,a=1-e;a=Vc(ji.minDamping,ji.maxDamping,a),t=Vc(ji.minDuration,ji.maxDuration,hl(t)),a<1?(i=f=>{const d=f*a,m=d*t,g=d-n,y=Fw(f,a),E=Math.exp(-m);return i_-g/y*E},s=f=>{const m=f*a*t,g=m*n+n,y=Math.pow(a,2)*Math.pow(f,2)*t,E=Math.exp(-m),_=Fw(Math.pow(f,2),a);return(-i(f)+i_>0?-1:1)*((g-y)*E)/_}):(i=f=>{const d=Math.exp(-f*t),m=(f-n)*t+1;return-i_+d*m},s=f=>{const d=Math.exp(-f*t),m=(n-f)*(t*t);return d*m});const o=5/t,c=qU(i,s,o);if(t=Pc(t),isNaN(c))return{stiffness:ji.stiffness,damping:ji.damping,duration:t};{const f=Math.pow(c,2)*r;return{stiffness:f,damping:a*2*Math.sqrt(r*f),duration:t}}}const jU=12;function qU(t,e,n){let r=n;for(let i=1;i<jU;i++)r=r-t(r)/e(r);return r}function Fw(t,e){return t*Math.sqrt(1-e*e)}const HU=["duration","bounce"],zU=["stiffness","damping","mass"];function A4(t,e){return e.some(n=>t[n]!==void 0)}function GU(t){let e={velocity:ji.velocity,stiffness:ji.stiffness,damping:ji.damping,mass:ji.mass,isResolvedFromDuration:!1,...t};if(!A4(t,zU)&&A4(t,HU))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*Vc(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:ji.mass,stiffness:i,damping:s}}else{const n=UU(t);e={...e,...n,mass:ji.mass},e.isResolvedFromDuration=!0}return e}function Ky(t=ji.visualDuration,e=ji.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],o={done:!1,value:s},{stiffness:c,damping:f,mass:d,duration:m,velocity:g,isResolvedFromDuration:y}=GU({...n,velocity:-hl(n.velocity||0)}),E=g||0,_=f/(2*Math.sqrt(c*d)),A=a-s,C=hl(Math.sqrt(c/d)),V=Math.abs(A)<5;r||(r=V?ji.restSpeed.granular:ji.restSpeed.default),i||(i=V?ji.restDelta.granular:ji.restDelta.default);let R;if(_<1){const z=Fw(C,_);R=W=>{const D=Math.exp(-_*C*W);return a-D*((E+_*C*A)/z*Math.sin(z*W)+A*Math.cos(z*W))}}else if(_===1)R=z=>a-Math.exp(-C*z)*(A+(E+C*A)*z);else{const z=C*Math.sqrt(_*_-1);R=W=>{const D=Math.exp(-_*C*W),L=Math.min(z*W,300);return a-D*((E+_*C*A)*Math.sinh(L)+z*A*Math.cosh(L))/z}}const F={calculatedDuration:y&&m||null,next:z=>{const W=R(z);if(y)o.done=z>=m;else{let D=z===0?E:0;_<1&&(D=z===0?Pc(E):HD(R,z,W));const L=Math.abs(D)<=r,k=Math.abs(a-W)<=i;o.done=L&&k}return o.value=o.done?a:W,o},toString:()=>{const z=Math.min(FT(F),$y),W=qD(D=>F.next(z*D).value,z,30);return z+"ms "+W},toTransition:()=>{}};return F}Ky.applyToOptions=t=>{const e=BU(t,100,Ky);return t.ease=e.ease,t.duration=Pc(e.duration),t.type="keyframes",t};function Ow({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:a,min:o,max:c,restDelta:f=.5,restSpeed:d}){const m=t[0],g={done:!1,value:m},y=L=>o!==void 0&&L<o||c!==void 0&&L>c,E=L=>o===void 0?c:c===void 0||Math.abs(o-L)<Math.abs(c-L)?o:c;let _=n*e;const A=m+_,C=a===void 0?A:a(A);C!==A&&(_=C-m);const V=L=>-_*Math.exp(-L/r),R=L=>C+V(L),F=L=>{const k=V(L),q=R(L);g.done=Math.abs(k)<=f,g.value=g.done?C:q};let z,W;const D=L=>{y(g.value)&&(z=L,W=Ky({keyframes:[g.value,E(g.value)],velocity:HD(R,L,g.value),damping:i,stiffness:s,restDelta:f,restSpeed:d}))};return D(0),{calculatedDuration:null,next:L=>{let k=!1;return!W&&z===void 0&&(k=!0,F(L),D(L)),z!==void 0&&L>=z?W.next(L-z):(!k&&F(L),g)}}}function WU(t,e,n){const r=[],i=n||Du.mix||jD,s=t.length-1;for(let a=0;a<s;a++){let o=i(t[a],t[a+1]);if(e){const c=Array.isArray(e)?e[a]||bo:e;o=p1(c,o)}r.push(o)}return r}function zD(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(Lg(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=WU(e,r,i),c=o.length,f=d=>{if(a&&d<t[0])return e[0];let m=0;if(c>1)for(;m<t.length-2&&!(d<t[m+1]);m++);const g=yp(t[m],t[m+1],d);return o[m](g)};return n?d=>f(Vc(t[0],t[s-1],d)):f}function $U(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=yp(0,e,r);t.push(Ri(n,1,i))}}function GD(t){const e=[0];return $U(e,t.length-1),e}function KU(t,e){return t.map(n=>n*e)}function YU(t,e){return t.map(()=>e||RD).splice(0,t.length-1)}function cg({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=lU(r)?r.map(_4):_4(r),s={done:!1,value:e[0]},a=KU(n&&n.length===e.length?n:GD(e),t),o=zD(a,e,{ease:Array.isArray(i)?i:YU(e,i)});return{calculatedDuration:t,next:c=>(s.value=o(c),s.done=c>=t,s)}}const XU=t=>t!==null;function OT(t,{repeat:e,repeatType:n="loop"},r,i=1){const s=t.filter(XU),o=i<0||e&&n!=="loop"&&e%2===1?0:s.length-1;return!o||r===void 0?s[o]:r}const JU={decay:Ow,inertia:Ow,tween:cg,keyframes:cg,spring:Ky};function WD(t){typeof t.type=="string"&&(t.type=JU[t.type])}class BT{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const QU=t=>t/100;class VT extends BT{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==yo.now()&&this.tick(yo.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;WD(e);const{type:n=cg,repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:a=0}=e;let{keyframes:o}=e;const c=n||cg;c!==cg&&typeof o[0]!="number"&&(this.mixKeyframes=p1(QU,jD(o[0],o[1])),o=[0,100]);const f=c({...e,keyframes:o});s==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...o].reverse(),velocity:-a})),f.calculatedDuration===null&&(f.calculatedDuration=FT(f));const{calculatedDuration:d}=f;this.calculatedDuration=d,this.resolvedDuration=d+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=f}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:s,mirroredGenerator:a,resolvedDuration:o,calculatedDuration:c}=this;if(this.startTime===null)return r.next(0);const{delay:f=0,keyframes:d,repeat:m,repeatType:g,repeatDelay:y,type:E,onUpdate:_,finalKeyframe:A}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const C=this.currentTime-f*(this.playbackSpeed>=0?1:-1),V=this.playbackSpeed>=0?C<0:C>i;this.currentTime=Math.max(C,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let R=this.currentTime,F=r;if(m){const L=Math.min(this.currentTime,i)/o;let k=Math.floor(L),q=L%1;!q&&L>=1&&(q=1),q===1&&k--,k=Math.min(k,m+1),!!(k%2)&&(g==="reverse"?(q=1-q,y&&(q-=y/o)):g==="mirror"&&(F=a)),R=Vc(0,1,q)*o}const z=V?{done:!1,value:d[0]}:F.next(R);s&&(z.value=s(z.value));let{done:W}=z;!V&&c!==null&&(W=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const D=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&W);return D&&E!==Ow&&(z.value=OT(d,this.options,A,this.speed)),_&&_(z.value),D&&this.finish(),z}then(e,n){return this.finished.then(e,n)}get duration(){return hl(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+hl(e)}get time(){return hl(this.currentTime)}set time(e){e=Pc(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(yo.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=hl(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=OU,startTime:n}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(yo.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function ZU(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const zd=t=>t*180/Math.PI,Bw=t=>{const e=zd(Math.atan2(t[1],t[0]));return Vw(e)},ej={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Bw,rotateZ:Bw,skewX:t=>zd(Math.atan(t[1])),skewY:t=>zd(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Vw=t=>(t=t%360,t<0&&(t+=360),t),N4=Bw,C4=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),I4=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),tj={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:C4,scaleY:I4,scale:t=>(C4(t)+I4(t))/2,rotateX:t=>Vw(zd(Math.atan2(t[6],t[5]))),rotateY:t=>Vw(zd(Math.atan2(-t[2],t[0]))),rotateZ:N4,rotate:N4,skewX:t=>zd(Math.atan(t[4])),skewY:t=>zd(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Uw(t){return t.includes("scale")?1:0}function jw(t,e){if(!t||t==="none")return Uw(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=tj,i=n;else{const o=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=ej,i=o}if(!i)return Uw(e);const s=r[e],a=i[1].split(",").map(rj);return typeof s=="function"?s(a):a[s]}const nj=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return jw(n,e)};function rj(t){return parseFloat(t.trim())}const Vp=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Up=new Set(Vp),k4=t=>t===Bp||t===Rn,ij=new Set(["x","y","z"]),sj=Vp.filter(t=>!ij.has(t));function aj(t){const e=[];return sj.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Kd={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>jw(e,"x"),y:(t,{transform:e})=>jw(e,"y")};Kd.translateX=Kd.x;Kd.translateY=Kd.y;const Yd=new Set;let qw=!1,Hw=!1,zw=!1;function $D(){if(Hw){const t=Array.from(Yd).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=aj(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,a])=>{r.getValue(s)?.set(a)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Hw=!1,qw=!1,Yd.forEach(t=>t.complete(zw)),Yd.clear()}function KD(){Yd.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Hw=!0)})}function oj(){zw=!0,KD(),$D(),zw=!1}class UT{constructor(e,n,r,i,s,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(Yd.add(this),qw||(qw=!0,Jr.read(KD),Jr.resolveKeyframes($D))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const s=i?.get(),a=e[e.length-1];if(s!==void 0)e[0]=s;else if(r&&n){const o=r.readValue(n,a);o!=null&&(e[0]=o)}e[0]===void 0&&(e[0]=a),i&&s===void 0&&i.set(e[0])}ZU(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Yd.delete(this)}cancel(){this.state==="scheduled"&&(Yd.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const lj=t=>t.startsWith("--");function cj(t,e,n){lj(e)?t.style.setProperty(e,n):t.style[e]=n}const YD=AT(()=>window.ScrollTimeline!==void 0),uj={};function fj(t,e){const n=AT(t);return()=>uj[e]??n()}const XD=fj(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Xm=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,R4={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Xm([0,.65,.55,1]),circOut:Xm([.55,0,1,.45]),backIn:Xm([.31,.01,.66,-.59]),backOut:Xm([.33,1.53,.69,.99])};function JD(t,e){if(t)return typeof t=="function"?XD()?qD(t,e):"ease-out":PD(t)?Xm(t):Array.isArray(t)?t.map(n=>JD(n,e)||R4.easeOut):R4[t]}function dj(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:a="loop",ease:o="easeOut",times:c}={},f=void 0){const d={[e]:n};c&&(d.offset=c);const m=JD(o,i);Array.isArray(m)&&(d.easing=m);const g={delay:r,duration:i,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:s+1,direction:a==="reverse"?"alternate":"normal"};return f&&(g.pseudoElement=f),t.animate(d,g)}function QD(t){return typeof t=="function"&&"applyToOptions"in t}function hj({type:t,...e}){return QD(t)&&XD()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class pj extends BT{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:s,allowFlatten:a=!1,finalKeyframe:o,onComplete:c}=e;this.isPseudoElement=!!s,this.allowFlatten=a,this.options=e,Lg(typeof e.type!="string");const f=hj(e);this.animation=dj(n,r,i,f,s),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const d=OT(i,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(d):cj(n,r,d),this.animation.cancel()}c?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return hl(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+hl(e)}get time(){return hl(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Pc(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&YD()?(this.animation.timeline=e,bo):n(this)}}const ZD={anticipate:CD,backInOut:ND,circInOut:kD};function mj(t){return t in ZD}function gj(t){typeof t.ease=="string"&&mj(t.ease)&&(t.ease=ZD[t.ease])}const P4=10;class xj extends pj{constructor(e){gj(e),WD(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:s,...a}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const o=new VT({...a,autoplay:!1}),c=Pc(this.finishedTime??this.time);n.setWithVelocity(o.sample(c-P4).value,o.sample(c).value,P4),o.stop()}}const D4=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Qf.test(t)||t==="0")&&!t.startsWith("url("));function yj(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function vj(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],a=D4(i,e),o=D4(s,e);return!a||!o?!1:yj(t)||(n==="spring"||QD(n))&&r}function Gw(t){t.duration=0,t.type="keyframes"}const bj=new Set(["opacity","clipPath","filter","transform"]),_j=AT(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function wj(t){const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:s,type:a}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:f}=e.owner.getProps();return _j()&&n&&bj.has(n)&&(n!=="transform"||!f)&&!c&&!r&&i!=="mirror"&&s!==0&&a!=="inertia"}const Tj=40;class Ej extends BT{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:a="loop",keyframes:o,name:c,motionValue:f,element:d,...m}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=yo.now();const g={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:a,name:c,motionValue:f,element:d,...m},y=d?.KeyframeResolver||UT;this.keyframeResolver=new y(o,(E,_,A)=>this.onKeyframesResolved(E,_,g,!A),c,f,d),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:s,type:a,velocity:o,delay:c,isHandoff:f,onUpdate:d}=r;this.resolvedAt=yo.now(),vj(e,s,a,o)||((Du.instantAnimations||!c)&&d?.(OT(e,r,n)),e[0]=e[e.length-1],Gw(r),r.repeat=0);const g={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>Tj?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},y=!f&&wj(g)?new xj({...g,element:g.motionValue.owner.current}):new VT(g);y.finished.then(()=>this.notifyFinished()).catch(bo),this.pendingTimeline&&(this.stopTimeline=y.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=y}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),oj()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const Sj=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Aj(t){const e=Sj.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function e8(t,e,n=1){const[r,i]=Aj(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const a=s.trim();return bD(a)?parseFloat(a):a}return PT(i)?e8(i,e,n+1):i}function jT(t,e){return t?.[e]??t?.default??t}const t8=new Set(["width","height","top","left","right","bottom",...Vp]),Nj={test:t=>t==="auto",parse:t=>t},n8=t=>e=>e.test(t),r8=[Bp,Rn,Dc,Pf,_U,bU,Nj],M4=t=>r8.find(n8(t));function Cj(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||wD(t):!0}const Ij=new Set(["brightness","contrast","saturate","opacity"]);function kj(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(DT)||[];if(!r)return t;const i=n.replace(r,"");let s=Ij.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const Rj=/\b([a-z-]*)\(.*?\)/gu,Ww={...Qf,getAnimatableNone:t=>{const e=t.match(Rj);return e?e.map(kj).join(" "):t}},L4={...Bp,transform:Math.round},Pj={rotate:Pf,rotateX:Pf,rotateY:Pf,rotateZ:Pf,scale:Mx,scaleX:Mx,scaleY:Mx,scaleZ:Mx,skew:Pf,skewX:Pf,skewY:Pf,distance:Rn,translateX:Rn,translateY:Rn,translateZ:Rn,x:Rn,y:Rn,z:Rn,perspective:Rn,transformPerspective:Rn,opacity:Fg,originX:w4,originY:w4,originZ:Rn},qT={borderWidth:Rn,borderTopWidth:Rn,borderRightWidth:Rn,borderBottomWidth:Rn,borderLeftWidth:Rn,borderRadius:Rn,radius:Rn,borderTopLeftRadius:Rn,borderTopRightRadius:Rn,borderBottomRightRadius:Rn,borderBottomLeftRadius:Rn,width:Rn,maxWidth:Rn,height:Rn,maxHeight:Rn,top:Rn,right:Rn,bottom:Rn,left:Rn,padding:Rn,paddingTop:Rn,paddingRight:Rn,paddingBottom:Rn,paddingLeft:Rn,margin:Rn,marginTop:Rn,marginRight:Rn,marginBottom:Rn,marginLeft:Rn,backgroundPositionX:Rn,backgroundPositionY:Rn,...Pj,zIndex:L4,fillOpacity:Fg,strokeOpacity:Fg,numOctaves:L4},Dj={...qT,color:fs,backgroundColor:fs,outlineColor:fs,fill:fs,stroke:fs,borderColor:fs,borderTopColor:fs,borderRightColor:fs,borderBottomColor:fs,borderLeftColor:fs,filter:Ww,WebkitFilter:Ww},i8=t=>Dj[t];function s8(t,e){let n=i8(t);return n!==Ww&&(n=Qf),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const Mj=new Set(["auto","none","0"]);function Lj(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!Mj.has(s)&&Og(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=s8(n,i)}class Fj extends UT{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let f=e[c];if(typeof f=="string"&&(f=f.trim(),PT(f))){const d=e8(f,n.current);d!==void 0&&(e[c]=d),c===e.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!t8.has(r)||e.length!==2)return;const[i,s]=e,a=M4(i),o=M4(s);if(a!==o)if(k4(a)&&k4(o))for(let c=0;c<e.length;c++){const f=e[c];typeof f=="string"&&(e[c]=parseFloat(f))}else Kd[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||Cj(e[i]))&&r.push(i);r.length&&Lj(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Kd[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,a=r[s];r[s]=Kd[n](e.measureViewportBox(),window.getComputedStyle(e.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),this.removedTransforms?.length&&this.removedTransforms.forEach(([o,c])=>{e.getValue(o).set(c)}),this.resolveNoneKeyframes()}}function a8(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){const i=document.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const o8=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function HT(t){return _D(t)&&"offsetHeight"in t}const F4=30,Oj=t=>!isNaN(parseFloat(t));class Bj{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const i=yo.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const s of this.dependents)s.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=yo.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Oj(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new NT);const r=this.events[e].add(n);return e==="change"?()=>{r(),Jr.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=yo.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>F4)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,F4);return CT(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Cc(t,e){return new Bj(t,e)}const{schedule:zT}=DD(queueMicrotask,!1),zl={x:!1,y:!1};function l8(){return zl.x||zl.y}function Vj(t){return t==="x"||t==="y"?zl[t]?null:(zl[t]=!0,()=>{zl[t]=!1}):zl.x||zl.y?null:(zl.x=zl.y=!0,()=>{zl.x=zl.y=!1})}function c8(t,e){const n=a8(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function O4(t){return!(t.pointerType==="touch"||l8())}function Uj(t,e,n={}){const[r,i,s]=c8(t,n),a=o=>{if(!O4(o))return;const{target:c}=o,f=e(c,o);if(typeof f!="function"||!c)return;const d=m=>{O4(m)&&(f(m),c.removeEventListener("pointerleave",d))};c.addEventListener("pointerleave",d,i)};return r.forEach(o=>{o.addEventListener("pointerenter",a,i)}),s}const u8=(t,e)=>e?t===e?!0:u8(t,e.parentElement):!1,GT=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,jj=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function qj(t){return jj.has(t.tagName)||t.tabIndex!==-1}const py=new WeakSet;function B4(t){return e=>{e.key==="Enter"&&t(e)}}function s_(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Hj=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=B4(()=>{if(py.has(n))return;s_(n,"down");const i=B4(()=>{s_(n,"up")}),s=()=>s_(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function V4(t){return GT(t)&&!l8()}function zj(t,e,n={}){const[r,i,s]=c8(t,n),a=o=>{const c=o.currentTarget;if(!V4(o))return;py.add(c);const f=e(c,o),d=(y,E)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",g),py.has(c)&&py.delete(c),V4(y)&&typeof f=="function"&&f(y,{success:E})},m=y=>{d(y,c===window||c===document||n.useGlobalTarget||u8(c,y.target))},g=y=>{d(y,!1)};window.addEventListener("pointerup",m,i),window.addEventListener("pointercancel",g,i)};return r.forEach(o=>{(n.useGlobalTarget?window:o).addEventListener("pointerdown",a,i),HT(o)&&(o.addEventListener("focus",f=>Hj(f,i)),!qj(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),s}function WT(t){return _D(t)&&"ownerSVGElement"in t}const my=new WeakMap;let gy;const f8=(t,e,n)=>(r,i)=>i&&i[0]?i[0][t+"Size"]:WT(r)&&"getBBox"in r?r.getBBox()[e]:r[n],Gj=f8("inline","width","offsetWidth"),Wj=f8("block","height","offsetHeight");function $j({target:t,borderBoxSize:e}){my.get(t)?.forEach(n=>{n(t,{get width(){return Gj(t,e)},get height(){return Wj(t,e)}})})}function Kj(t){t.forEach($j)}function Yj(){typeof ResizeObserver>"u"||(gy=new ResizeObserver(Kj))}function Xj(t,e){gy||Yj();const n=a8(t);return n.forEach(r=>{let i=my.get(r);i||(i=new Set,my.set(r,i)),i.add(e),gy?.observe(r)}),()=>{n.forEach(r=>{const i=my.get(r);i?.delete(e),i?.size||gy?.unobserve(r)})}}const xy=new Set;let j0;function Jj(){j0=()=>{const t={get width(){return window.innerWidth},get height(){return window.innerHeight}};xy.forEach(e=>e(t))},window.addEventListener("resize",j0)}function Qj(t){return xy.add(t),j0||Jj(),()=>{xy.delete(t),!xy.size&&typeof j0=="function"&&(window.removeEventListener("resize",j0),j0=void 0)}}function Zj(t,e){return typeof t=="function"?Qj(t):Xj(t,e)}function d8(t,e){let n;const r=()=>{const{currentTime:i}=e,a=(i===null?0:i.value)/100;n!==a&&t(a),n=a};return Jr.preUpdate(r,!0),()=>Uc(r)}function eq(t){return WT(t)&&t.tagName==="svg"}const Aa=t=>!!(t&&t.getVelocity),tq=[...r8,fs,Qf],nq=t=>tq.find(n8(t)),$T=ke.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function U4(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function rq(...t){return e=>{let n=!1;const r=t.map(i=>{const s=U4(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():U4(t[i],null)}}}}function iq(...t){return ke.useCallback(rq(...t),t)}class sq extends ke.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=HT(r)&&r.offsetWidth||0,s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft,s.right=i-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function aq({children:t,isPresent:e,anchorX:n,root:r}){const i=ke.useId(),s=ke.useRef(null),a=ke.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=ke.useContext($T),c=iq(s,t?.ref);return ke.useInsertionEffect(()=>{const{width:f,height:d,top:m,left:g,right:y}=a.current;if(e||!s.current||!f||!d)return;const E=n==="left"?`left: ${g}`:`right: ${y}`;s.current.dataset.motionPopId=i;const _=document.createElement("style");o&&(_.nonce=o);const A=r??document.head;return A.appendChild(_),_.sheet&&_.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${f}px !important;
            height: ${d}px !important;
            ${E}px !important;
            top: ${m}px !important;
          }
        `),()=>{A.contains(_)&&A.removeChild(_)}},[e]),p.jsx(sq,{isPresent:e,childRef:s,sizeRef:a,children:ke.cloneElement(t,{ref:c})})}const oq=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:a,anchorX:o,root:c})=>{const f=G2(lq),d=ke.useId();let m=!0,g=ke.useMemo(()=>(m=!1,{id:d,initial:e,isPresent:n,custom:i,onExitComplete:y=>{f.set(y,!0);for(const E of f.values())if(!E)return;r&&r()},register:y=>(f.set(y,!1),()=>f.delete(y))}),[n,f,r]);return s&&m&&(g={...g}),ke.useMemo(()=>{f.forEach((y,E)=>f.set(E,!1))},[n]),ke.useEffect(()=>{!n&&!f.size&&r&&r()},[n]),a==="popLayout"&&(t=p.jsx(aq,{isPresent:n,anchorX:o,root:c,children:t})),p.jsx(W2.Provider,{value:g,children:t})};function lq(){return new Map}function h8(t=!0){const e=ke.useContext(W2);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=ke.useId();ke.useEffect(()=>{if(t)return i(s)},[t]);const a=ke.useCallback(()=>t&&r&&r(s),[s,r,t]);return!n&&r?[!1,a]:[!0]}const Lx=t=>t.key||"";function j4(t){const e=[];return ke.Children.forEach(t,n=>{ke.isValidElement(n)&&e.push(n)}),e}const Ji=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:a=!1,anchorX:o="left",root:c})=>{const[f,d]=h8(a),m=ke.useMemo(()=>j4(t),[t]),g=a&&!f?[]:m.map(Lx),y=ke.useRef(!0),E=ke.useRef(m),_=G2(()=>new Map),[A,C]=ke.useState(m),[V,R]=ke.useState(m);TT(()=>{y.current=!1,E.current=m;for(let W=0;W<V.length;W++){const D=Lx(V[W]);g.includes(D)?_.delete(D):_.get(D)!==!0&&_.set(D,!1)}},[V,g.length,g.join("-")]);const F=[];if(m!==A){let W=[...m];for(let D=0;D<V.length;D++){const L=V[D],k=Lx(L);g.includes(k)||(W.splice(D,0,L),F.push(L))}return s==="wait"&&F.length&&(W=F),R(j4(W)),C(m),null}const{forceRender:z}=ke.useContext(_T);return p.jsx(p.Fragment,{children:V.map(W=>{const D=Lx(W),L=a&&!f?!1:m===V||g.includes(D),k=()=>{if(_.has(D))_.set(D,!0);else return;let q=!0;_.forEach(P=>{P||(q=!1)}),q&&(z?.(),R(E.current),a&&d?.(),r&&r())};return p.jsx(oq,{isPresent:L,initial:!y.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:s,root:c,onExitComplete:L?void 0:k,anchorX:o,children:W},D)})})},p8=ke.createContext({strict:!1}),q4={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},vp={};for(const t in q4)vp[t]={isEnabled:e=>q4[t].some(n=>!!e[n])};function cq(t){for(const e in t)vp[e]={...vp[e],...t[e]}}const uq=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Yy(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||uq.has(t)}let m8=t=>!Yy(t);function fq(t){typeof t=="function"&&(m8=e=>e.startsWith("on")?!Yy(e):t(e))}try{fq(require("@emotion/is-prop-valid").default)}catch{}function dq(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(m8(i)||n===!0&&Yy(i)||!e&&!Yy(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}const $2=ke.createContext({});function K2(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Bg(t){return typeof t=="string"||Array.isArray(t)}const KT=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],YT=["initial",...KT];function Y2(t){return K2(t.animate)||YT.some(e=>Bg(t[e]))}function g8(t){return!!(Y2(t)||t.variants)}function hq(t,e){if(Y2(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Bg(n)?n:void 0,animate:Bg(r)?r:void 0}}return t.inherit!==!1?e:{}}function pq(t){const{initial:e,animate:n}=hq(t,ke.useContext($2));return ke.useMemo(()=>({initial:e,animate:n}),[H4(e),H4(n)])}function H4(t){return Array.isArray(t)?t.join(" "):t}const Vg={};function mq(t){for(const e in t)Vg[e]=t[e],RT(e)&&(Vg[e].isCSSVariable=!0)}function x8(t,{layout:e,layoutId:n}){return Up.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Vg[t]||t==="opacity")}const gq={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},xq=Vp.length;function yq(t,e,n){let r="",i=!0;for(let s=0;s<xq;s++){const a=Vp[s],o=t[a];if(o===void 0)continue;let c=!0;if(typeof o=="number"?c=o===(a.startsWith("scale")?1:0):c=parseFloat(o)===0,!c||n){const f=o8(o,qT[a]);if(!c){i=!1;const d=gq[a]||a;r+=`${d}(${f}) `}n&&(e[a]=f)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function XT(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let a=!1,o=!1;for(const c in e){const f=e[c];if(Up.has(c)){a=!0;continue}else if(RT(c)){i[c]=f;continue}else{const d=o8(f,qT[c]);c.startsWith("origin")?(o=!0,s[c]=d):r[c]=d}}if(e.transform||(a||n?r.transform=yq(e,t.transform,n):r.transform&&(r.transform="none")),o){const{originX:c="50%",originY:f="50%",originZ:d=0}=s;r.transformOrigin=`${c} ${f} ${d}`}}const JT=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function y8(t,e,n){for(const r in e)!Aa(e[r])&&!x8(r,n)&&(t[r]=e[r])}function vq({transformTemplate:t},e){return ke.useMemo(()=>{const n=JT();return XT(n,e,t),Object.assign({},n.vars,n.style)},[e])}function bq(t,e){const n=t.style||{},r={};return y8(r,n,t),Object.assign(r,vq(t,e)),r}function _q(t,e){const n={},r=bq(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const wq={offset:"stroke-dashoffset",array:"stroke-dasharray"},Tq={offset:"strokeDashoffset",array:"strokeDasharray"};function Eq(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?wq:Tq;t[s.offset]=Rn.transform(-r);const a=Rn.transform(e),o=Rn.transform(n);t[s.array]=`${a} ${o}`}function v8(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:s=1,pathOffset:a=0,...o},c,f,d){if(XT(t,o,f),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:m,style:g}=t;m.transform&&(g.transform=m.transform,delete m.transform),(g.transform||m.transformOrigin)&&(g.transformOrigin=m.transformOrigin??"50% 50%",delete m.transformOrigin),g.transform&&(g.transformBox=d?.transformBox??"fill-box",delete m.transformBox),e!==void 0&&(m.x=e),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),i!==void 0&&Eq(m,i,s,a,!1)}const b8=()=>({...JT(),attrs:{}}),_8=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Sq(t,e,n,r){const i=ke.useMemo(()=>{const s=b8();return v8(s,e,_8(r),t.transformTemplate,t.style),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};y8(s,t.style,t),i.style={...s,...i.style}}return i}const Aq=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function QT(t){return typeof t!="string"||t.includes("-")?!1:!!(Aq.indexOf(t)>-1||/[A-Z]/u.test(t))}function Nq(t,e,n,{latestValues:r},i,s=!1){const o=(QT(t)?Sq:_q)(e,r,i,t),c=dq(e,typeof t=="string",s),f=t!==ke.Fragment?{...c,...o,ref:n}:{},{children:d}=e,m=ke.useMemo(()=>Aa(d)?d.get():d,[d]);return ke.createElement(t,{...f,children:m})}function z4(t){const e=[{},{}];return t?.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function ZT(t,e,n,r){if(typeof e=="function"){const[i,s]=z4(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=z4(r);e=e(n!==void 0?n:t.custom,i,s)}return e}function yy(t){return Aa(t)?t.get():t}function Cq({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:Iq(n,r,i,t),renderState:e()}}function Iq(t,e,n,r){const i={},s=r(t,{});for(const g in s)i[g]=yy(s[g]);let{initial:a,animate:o}=t;const c=Y2(t),f=g8(t);e&&f&&!c&&t.inherit!==!1&&(a===void 0&&(a=e.initial),o===void 0&&(o=e.animate));let d=n?n.initial===!1:!1;d=d||a===!1;const m=d?o:a;if(m&&typeof m!="boolean"&&!K2(m)){const g=Array.isArray(m)?m:[m];for(let y=0;y<g.length;y++){const E=ZT(t,g[y]);if(E){const{transitionEnd:_,transition:A,...C}=E;for(const V in C){let R=C[V];if(Array.isArray(R)){const F=d?R.length-1:0;R=R[F]}R!==null&&(i[V]=R)}for(const V in _)i[V]=_[V]}}}return i}const w8=t=>(e,n)=>{const r=ke.useContext($2),i=ke.useContext(W2),s=()=>Cq(t,e,r,i);return n?s():G2(s)};function eE(t,e,n){const{style:r}=t,i={};for(const s in r)(Aa(r[s])||e.style&&Aa(e.style[s])||x8(s,t)||n?.getValue(s)?.liveStyle!==void 0)&&(i[s]=r[s]);return i}const kq=w8({scrapeMotionValuesFromProps:eE,createRenderState:JT});function T8(t,e,n){const r=eE(t,e,n);for(const i in t)if(Aa(t[i])||Aa(e[i])){const s=Vp.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}const Rq=w8({scrapeMotionValuesFromProps:T8,createRenderState:b8}),Pq=Symbol.for("motionComponentSymbol");function q0(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Dq(t,e,n){return ke.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):q0(n)&&(n.current=r))},[e])}const tE=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Mq="framerAppearId",E8="data-"+tE(Mq),S8=ke.createContext({});function Lq(t,e,n,r,i){const{visualElement:s}=ke.useContext($2),a=ke.useContext(p8),o=ke.useContext(W2),c=ke.useContext($T).reducedMotion,f=ke.useRef(null);r=r||a.renderer,!f.current&&r&&(f.current=r(t,{visualState:e,parent:s,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:c}));const d=f.current,m=ke.useContext(S8);d&&!d.projection&&i&&(d.type==="html"||d.type==="svg")&&Fq(f.current,n,i,m);const g=ke.useRef(!1);ke.useInsertionEffect(()=>{d&&g.current&&d.update(n,o)});const y=n[E8],E=ke.useRef(!!y&&!window.MotionHandoffIsComplete?.(y)&&window.MotionHasOptimisedAnimation?.(y));return TT(()=>{d&&(g.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),E.current&&d.animationState&&d.animationState.animateChanges())}),ke.useEffect(()=>{d&&(!E.current&&d.animationState&&d.animationState.animateChanges(),E.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(y)}),E.current=!1),d.enteringChildren=void 0)}),d}function Fq(t,e,n,r){const{layoutId:i,layout:s,drag:a,dragConstraints:o,layoutScroll:c,layoutRoot:f,layoutCrossfade:d}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:A8(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!a||o&&q0(o),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:d,layoutScroll:c,layoutRoot:f})}function A8(t){if(t)return t.options.allowProjection!==!1?t.projection:A8(t.parent)}function a_(t,{forwardMotionProps:e=!1}={},n,r){n&&cq(n);const i=QT(t)?Rq:kq;function s(o,c){let f;const d={...ke.useContext($T),...o,layoutId:Oq(o)},{isStatic:m}=d,g=pq(o),y=i(o,m);if(!m&&wT){Bq();const E=Vq(d);f=E.MeasureLayout,g.visualElement=Lq(t,y,d,r,E.ProjectionNode)}return p.jsxs($2.Provider,{value:g,children:[f&&g.visualElement?p.jsx(f,{visualElement:g.visualElement,...d}):null,Nq(t,o,Dq(y,g.visualElement,c),y,m,e)]})}s.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const a=ke.forwardRef(s);return a[Pq]=t,a}function Oq({layoutId:t}){const e=ke.useContext(_T).id;return e&&t!==void 0?e+"-"+t:t}function Bq(t,e){ke.useContext(p8).strict}function Vq(t){const{drag:e,layout:n}=vp;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function Uq(t,e){if(typeof Proxy>"u")return a_;const n=new Map,r=(s,a)=>a_(s,a,t,e),i=(s,a)=>r(s,a);return new Proxy(i,{get:(s,a)=>a==="create"?r:(n.has(a)||n.set(a,a_(a,void 0,t,e)),n.get(a))})}function N8({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function jq({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function qq(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function o_(t){return t===void 0||t===1}function $w({scale:t,scaleX:e,scaleY:n}){return!o_(t)||!o_(e)||!o_(n)}function Pd(t){return $w(t)||C8(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function C8(t){return G4(t.x)||G4(t.y)}function G4(t){return t&&t!=="0%"}function Xy(t,e,n){const r=t-n,i=e*r;return n+i}function W4(t,e,n,r,i){return i!==void 0&&(t=Xy(t,i,r)),Xy(t,n,r)+e}function Kw(t,e=0,n=1,r,i){t.min=W4(t.min,e,n,r,i),t.max=W4(t.max,e,n,r,i)}function I8(t,{x:e,y:n}){Kw(t.x,e.translate,e.scale,e.originPoint),Kw(t.y,n.translate,n.scale,n.originPoint)}const $4=.999999999999,K4=1.0000000000001;function Hq(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,a;for(let o=0;o<i;o++){s=n[o],a=s.projectionDelta;const{visualElement:c}=s.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&z0(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,I8(t,a)),r&&Pd(s.latestValues)&&z0(t,s.latestValues))}e.x<K4&&e.x>$4&&(e.x=1),e.y<K4&&e.y>$4&&(e.y=1)}function H0(t,e){t.min=t.min+e,t.max=t.max+e}function Y4(t,e,n,r,i=.5){const s=Ri(t.min,t.max,i);Kw(t,e,n,s,r)}function z0(t,e){Y4(t.x,e.x,e.scaleX,e.scale,e.originX),Y4(t.y,e.y,e.scaleY,e.scale,e.originY)}function k8(t,e){return N8(qq(t.getBoundingClientRect(),e))}function zq(t,e,n){const r=k8(t,n),{scroll:i}=e;return i&&(H0(r.x,i.offset.x),H0(r.y,i.offset.y)),r}const X4=()=>({translate:0,scale:1,origin:0,originPoint:0}),G0=()=>({x:X4(),y:X4()}),J4=()=>({min:0,max:0}),Es=()=>({x:J4(),y:J4()}),Yw={current:null},R8={current:!1};function Gq(){if(R8.current=!0,!!wT)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Yw.current=t.matches;t.addEventListener("change",e),e()}else Yw.current=!1}const Wq=new WeakMap;function $q(t,e,n){for(const r in e){const i=e[r],s=n[r];if(Aa(i))t.addValue(r,i);else if(Aa(s))t.addValue(r,Cc(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const a=t.getValue(r);a.liveStyle===!0?a.jump(i):a.hasAnimated||a.set(i)}else{const a=t.getStaticValue(r);t.addValue(r,Cc(a!==void 0?a:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const Q4=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Kq{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=UT,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=yo.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,Jr.render(this.render,!1,!0))};const{latestValues:c,renderState:f}=a;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=f,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.blockInitialAnimation=!!s,this.isControllingVariants=Y2(n),this.isVariantNode=g8(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...m}=this.scrapeMotionValuesFromProps(n,{},this);for(const g in m){const y=m[g];c[g]!==void 0&&Aa(y)&&y.set(c[g])}}mount(e){this.current=e,Wq.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),R8.current||Gq(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Yw.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Uc(this.notifyUpdate),Uc(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Up.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&Jr.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s&&s(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in vp){const n=vp[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Es()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Q4.length;r++){const i=Q4[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,a=e[s];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=$q(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Cc(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(bD(r)||wD(r))?r=parseFloat(r):!nq(r)&&Qf.test(n)&&(r=s8(e,n)),this.setBaseTarget(e,Aa(r)?r.get():r)),Aa(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const s=ZT(this.props,n,this.presenceContext?.custom);s&&(r=s[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Aa(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new NT),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){zT.render(this.render)}}class P8 extends Kq{constructor(){super(...arguments),this.KeyframeResolver=Fj}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Aa(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function D8(t,{style:e,vars:n},r,i){const s=t.style;let a;for(a in e)s[a]=e[a];i?.applyProjectionStyles(s,r);for(a in n)s.setProperty(a,n[a])}function Yq(t){return window.getComputedStyle(t)}class Xq extends P8{constructor(){super(...arguments),this.type="html",this.renderInstance=D8}readValueFromInstance(e,n){if(Up.has(n))return this.projection?.isProjecting?Uw(n):nj(e,n);{const r=Yq(e),i=(RT(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return k8(e,n)}build(e,n,r){XT(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return eE(e,n,r)}}const M8=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Jq(t,e,n,r){D8(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(M8.has(i)?i:tE(i),e.attrs[i])}class Qq extends P8{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Es}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Up.has(n)){const r=i8(n);return r&&r.default||0}return n=M8.has(n)?n:tE(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return T8(e,n,r)}build(e,n,r){v8(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){Jq(e,n,r,i)}mount(e){this.isSVGTag=_8(e.tagName),super.mount(e)}}const Zq=(t,e)=>QT(t)?new Qq(e):new Xq(e,{allowProjection:t!==ke.Fragment});function ep(t,e,n){const r=t.getProps();return ZT(r,e,n!==void 0?n:r.custom,t)}const Xw=t=>Array.isArray(t);function eH(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Cc(n))}function tH(t){return Xw(t)?t[t.length-1]||0:t}function nH(t,e){const n=ep(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const a in s){const o=tH(s[a]);eH(t,a,o)}}function rH(t){return!!(Aa(t)&&t.add)}function Jw(t,e){const n=t.getValue("willChange");if(rH(n))return n.add(e);if(!n&&Du.WillChange){const r=new Du.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function L8(t){return t.props[E8]}const iH=t=>t!==null;function sH(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(iH),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return i[s]}const aH={type:"spring",stiffness:500,damping:25,restSpeed:10},oH=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),lH={type:"keyframes",duration:.8},cH={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},uH=(t,{keyframes:e})=>e.length>2?lH:Up.has(t)?t.startsWith("scale")?oH(e[1]):aH:cH;function fH({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:a,repeatDelay:o,from:c,elapsed:f,...d}){return!!Object.keys(d).length}const nE=(t,e,n,r={},i,s)=>a=>{const o=jT(r,t)||{},c=o.delay||r.delay||0;let{elapsed:f=0}=r;f=f-Pc(c);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...o,delay:-f,onUpdate:g=>{e.set(g),o.onUpdate&&o.onUpdate(g)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:t,motionValue:e,element:s?void 0:i};fH(o)||Object.assign(d,uH(t,d)),d.duration&&(d.duration=Pc(d.duration)),d.repeatDelay&&(d.repeatDelay=Pc(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let m=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(Gw(d),d.delay===0&&(m=!0)),(Du.instantAnimations||Du.skipAnimations)&&(m=!0,Gw(d),d.delay=0),d.allowFlatten=!o.type&&!o.ease,m&&!s&&e.get()!==void 0){const g=sH(d.keyframes,o);if(g!==void 0){Jr.update(()=>{d.onUpdate(g),d.onComplete()});return}}return o.isSync?new VT(d):new Ej(d)};function dH({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function F8(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:a,...o}=e;r&&(s=r);const c=[],f=i&&t.animationState&&t.animationState.getState()[i];for(const d in o){const m=t.getValue(d,t.latestValues[d]??null),g=o[d];if(g===void 0||f&&dH(f,d))continue;const y={delay:n,...jT(s||{},d)},E=m.get();if(E!==void 0&&!m.isAnimating&&!Array.isArray(g)&&g===E&&!y.velocity)continue;let _=!1;if(window.MotionHandoffAnimation){const C=L8(t);if(C){const V=window.MotionHandoffAnimation(C,d,Jr);V!==null&&(y.startTime=V,_=!0)}}Jw(t,d),m.start(nE(d,m,g,t.shouldReduceMotion&&t8.has(d)?{type:!1}:y,t,_));const A=m.animation;A&&c.push(A)}return a&&Promise.all(c).then(()=>{Jr.update(()=>{a&&nH(t,a)})}),c}function O8(t,e,n,r=0,i=1){const s=Array.from(t).sort((f,d)=>f.sortNodePosition(d)).indexOf(e),a=t.size,o=(a-1)*r;return typeof n=="function"?n(s,a):i===1?s*r:o-s*r}function Qw(t,e,n={}){const r=ep(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(F8(t,r,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:f=0,staggerChildren:d,staggerDirection:m}=i;return hH(t,e,c,f,d,m,n)}:()=>Promise.resolve(),{when:o}=i;if(o){const[c,f]=o==="beforeChildren"?[s,a]:[a,s];return c().then(()=>f())}else return Promise.all([s(),a(n.delay)])}function hH(t,e,n=0,r=0,i=0,s=1,a){const o=[];for(const c of t.variantChildren)c.notify("AnimationStart",e),o.push(Qw(c,e,{...a,delay:n+(typeof r=="function"?0:r)+O8(t.variantChildren,c,r,i,s)}).then(()=>c.notify("AnimationComplete",e)));return Promise.all(o)}function pH(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>Qw(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=Qw(t,e,n);else{const i=typeof e=="function"?ep(t,e,n.custom):e;r=Promise.all(F8(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function B8(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const mH=YT.length;function V8(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?V8(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<mH;n++){const r=YT[n],i=t.props[r];(Bg(i)||i===!1)&&(e[r]=i)}return e}const gH=[...KT].reverse(),xH=KT.length;function yH(t){return e=>Promise.all(e.map(({animation:n,options:r})=>pH(t,n,r)))}function vH(t){let e=yH(t),n=Z4(),r=!0;const i=c=>(f,d)=>{const m=ep(t,d,c==="exit"?t.presenceContext?.custom:void 0);if(m){const{transition:g,transitionEnd:y,...E}=m;f={...f,...E,...y}}return f};function s(c){e=c(t)}function a(c){const{props:f}=t,d=V8(t.parent)||{},m=[],g=new Set;let y={},E=1/0;for(let A=0;A<xH;A++){const C=gH[A],V=n[C],R=f[C]!==void 0?f[C]:d[C],F=Bg(R),z=C===c?V.isActive:null;z===!1&&(E=A);let W=R===d[C]&&R!==f[C]&&F;if(W&&r&&t.manuallyAnimateOnMount&&(W=!1),V.protectedKeys={...y},!V.isActive&&z===null||!R&&!V.prevProp||K2(R)||typeof R=="boolean")continue;const D=bH(V.prevProp,R);let L=D||C===c&&V.isActive&&!W&&F||A>E&&F,k=!1;const q=Array.isArray(R)?R:[R];let P=q.reduce(i(C),{});z===!1&&(P={});const{prevResolvedValues:M={}}=V,j={...M,...P},ae=xe=>{L=!0,g.has(xe)&&(k=!0,g.delete(xe)),V.needsAnimating[xe]=!0;const Ne=t.getValue(xe);Ne&&(Ne.liveStyle=!1)};for(const xe in j){const Ne=P[xe],me=M[xe];if(y.hasOwnProperty(xe))continue;let Re=!1;Xw(Ne)&&Xw(me)?Re=!B8(Ne,me):Re=Ne!==me,Re?Ne!=null?ae(xe):g.add(xe):Ne!==void 0&&g.has(xe)?ae(xe):V.protectedKeys[xe]=!0}V.prevProp=R,V.prevResolvedValues=P,V.isActive&&(y={...y,...P}),r&&t.blockInitialAnimation&&(L=!1);const Ae=W&&D;L&&(!Ae||k)&&m.push(...q.map(xe=>{const Ne={type:C};if(typeof xe=="string"&&r&&!Ae&&t.manuallyAnimateOnMount&&t.parent){const{parent:me}=t,Re=ep(me,xe);if(me.enteringChildren&&Re){const{delayChildren:re}=Re.transition||{};Ne.delay=O8(me.enteringChildren,t,re)}}return{animation:xe,options:Ne}}))}if(g.size){const A={};if(typeof f.initial!="boolean"){const C=ep(t,Array.isArray(f.initial)?f.initial[0]:f.initial);C&&C.transition&&(A.transition=C.transition)}g.forEach(C=>{const V=t.getBaseTarget(C),R=t.getValue(C);R&&(R.liveStyle=!0),A[C]=V??null}),m.push({animation:A})}let _=!!m.length;return r&&(f.initial===!1||f.initial===f.animate)&&!t.manuallyAnimateOnMount&&(_=!1),r=!1,_?e(m):Promise.resolve()}function o(c,f){if(n[c].isActive===f)return Promise.resolve();t.variantChildren?.forEach(m=>m.animationState?.setActive(c,f)),n[c].isActive=f;const d=a(c);for(const m in n)n[m].protectedKeys={};return d}return{animateChanges:a,setActive:o,setAnimateFunction:s,getState:()=>n,reset:()=>{n=Z4()}}}function bH(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!B8(e,t):!1}function kd(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Z4(){return{animate:kd(!0),whileInView:kd(),whileHover:kd(),whileTap:kd(),whileDrag:kd(),whileFocus:kd(),exit:kd()}}class ad{constructor(e){this.isMounted=!1,this.node=e}update(){}}class _H extends ad{constructor(e){super(e),e.animationState||(e.animationState=vH(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();K2(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let wH=0;class TH extends ad{constructor(){super(...arguments),this.id=wH++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const EH={animation:{Feature:_H},exit:{Feature:TH}};function Ug(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function x1(t){return{point:{x:t.pageX,y:t.pageY}}}const SH=t=>e=>GT(e)&&t(e,x1(e));function ug(t,e,n,r){return Ug(t,e,SH(n),r)}const U8=1e-4,AH=1-U8,NH=1+U8,j8=.01,CH=0-j8,IH=0+j8;function za(t){return t.max-t.min}function kH(t,e,n){return Math.abs(t-e)<=n}function eC(t,e,n,r=.5){t.origin=r,t.originPoint=Ri(e.min,e.max,t.origin),t.scale=za(n)/za(e),t.translate=Ri(n.min,n.max,t.origin)-t.originPoint,(t.scale>=AH&&t.scale<=NH||isNaN(t.scale))&&(t.scale=1),(t.translate>=CH&&t.translate<=IH||isNaN(t.translate))&&(t.translate=0)}function fg(t,e,n,r){eC(t.x,e.x,n.x,r?r.originX:void 0),eC(t.y,e.y,n.y,r?r.originY:void 0)}function tC(t,e,n){t.min=n.min+e.min,t.max=t.min+za(e)}function RH(t,e,n){tC(t.x,e.x,n.x),tC(t.y,e.y,n.y)}function nC(t,e,n){t.min=e.min-n.min,t.max=t.min+za(e)}function Jy(t,e,n){nC(t.x,e.x,n.x),nC(t.y,e.y,n.y)}function cl(t){return[t("x"),t("y")]}const q8=({current:t})=>t?t.ownerDocument.defaultView:null,rC=(t,e)=>Math.abs(t-e);function PH(t,e){const n=rC(t.x,e.x),r=rC(t.y,e.y);return Math.sqrt(n**2+r**2)}class H8{constructor(e,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:s=!1,distanceThreshold:a=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=c_(this.lastMoveEventInfo,this.history),y=this.startEvent!==null,E=PH(g.offset,{x:0,y:0})>=this.distanceThreshold;if(!y&&!E)return;const{point:_}=g,{timestamp:A}=js;this.history.push({..._,timestamp:A});const{onStart:C,onMove:V}=this.handlers;y||(C&&C(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),V&&V(this.lastMoveEvent,g)},this.handlePointerMove=(g,y)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=l_(y,this.transformPagePoint),Jr.update(this.updatePoint,!0)},this.handlePointerUp=(g,y)=>{this.end();const{onEnd:E,onSessionEnd:_,resumeAnimation:A}=this.handlers;if(this.dragSnapToOrigin&&A&&A(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=c_(g.type==="pointercancel"?this.lastMoveEventInfo:l_(y,this.transformPagePoint),this.history);this.startEvent&&E&&E(g,C),_&&_(g,C)},!GT(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=a,this.contextWindow=i||window;const o=x1(e),c=l_(o,this.transformPagePoint),{point:f}=c,{timestamp:d}=js;this.history=[{...f,timestamp:d}];const{onSessionStart:m}=n;m&&m(e,c_(c,this.history)),this.removeListeners=p1(ug(this.contextWindow,"pointermove",this.handlePointerMove),ug(this.contextWindow,"pointerup",this.handlePointerUp),ug(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Uc(this.updatePoint)}}function l_(t,e){return e?{point:e(t.point)}:t}function iC(t,e){return{x:t.x-e.x,y:t.y-e.y}}function c_({point:t},e){return{point:t,delta:iC(t,z8(e)),offset:iC(t,DH(e)),velocity:MH(e,.1)}}function DH(t){return t[0]}function z8(t){return t[t.length-1]}function MH(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=z8(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Pc(e)));)n--;if(!r)return{x:0,y:0};const s=hl(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const a={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function LH(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Ri(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Ri(n,t,r.max):Math.min(t,n)),t}function sC(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function FH(t,{top:e,left:n,bottom:r,right:i}){return{x:sC(t.x,n,i),y:sC(t.y,e,r)}}function aC(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function OH(t,e){return{x:aC(t.x,e.x),y:aC(t.y,e.y)}}function BH(t,e){let n=.5;const r=za(t),i=za(e);return i>r?n=yp(e.min,e.max-r,t.min):r>i&&(n=yp(t.min,t.max-i,e.min)),Vc(0,1,n)}function VH(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Zw=.35;function UH(t=Zw){return t===!1?t=0:t===!0&&(t=Zw),{x:oC(t,"left","right"),y:oC(t,"top","bottom")}}function oC(t,e,n){return{min:lC(t,e),max:lC(t,n)}}function lC(t,e){return typeof t=="number"?t:t[e]||0}const jH=new WeakMap;class qH{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Es(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=m=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(x1(m).point)},a=(m,g)=>{const{drag:y,dragPropagation:E,onDragStart:_}=this.getProps();if(y&&!E&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Vj(y),!this.openDragLock))return;this.latestPointerEvent=m,this.latestPanInfo=g,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),cl(C=>{let V=this.getAxisMotionValue(C).get()||0;if(Dc.test(V)){const{projection:R}=this.visualElement;if(R&&R.layout){const F=R.layout.layoutBox[C];F&&(V=za(F)*(parseFloat(V)/100))}}this.originPoint[C]=V}),_&&Jr.postRender(()=>_(m,g)),Jw(this.visualElement,"transform");const{animationState:A}=this.visualElement;A&&A.setActive("whileDrag",!0)},o=(m,g)=>{this.latestPointerEvent=m,this.latestPanInfo=g;const{dragPropagation:y,dragDirectionLock:E,onDirectionLock:_,onDrag:A}=this.getProps();if(!y&&!this.openDragLock)return;const{offset:C}=g;if(E&&this.currentDirection===null){this.currentDirection=HH(C),this.currentDirection!==null&&_&&_(this.currentDirection);return}this.updateAxis("x",g.point,C),this.updateAxis("y",g.point,C),this.visualElement.render(),A&&A(m,g)},c=(m,g)=>{this.latestPointerEvent=m,this.latestPanInfo=g,this.stop(m,g),this.latestPointerEvent=null,this.latestPanInfo=null},f=()=>cl(m=>this.getAnimationState(m)==="paused"&&this.getAxisMotionValue(m).animation?.play()),{dragSnapToOrigin:d}=this.getProps();this.panSession=new H8(e,{onSessionStart:s,onStart:a,onMove:o,onSessionEnd:c,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:r,contextWindow:q8(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,i=n||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!i||!r)return;const{velocity:a}=i;this.startAnimation(a);const{onDragEnd:o}=this.getProps();o&&Jr.postRender(()=>o(r,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Fx(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=LH(a,this.constraints[e],this.elastic[e])),s.set(a)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,i=this.constraints;e&&q0(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=FH(r.layoutBox,e):this.constraints=!1,this.elastic=UH(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&cl(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=VH(r.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!q0(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=zq(r,i.root,this.visualElement.getTransformPagePoint());let a=OH(i.layout.layoutBox,s);if(n){const o=n(jq(a));this.hasMutatedConstraints=!!o,o&&(a=N8(o))}return a}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),c=this.constraints||{},f=cl(d=>{if(!Fx(d,n,this.currentDirection))return;let m=c&&c[d]||{};a&&(m={min:0,max:0});const g=i?200:1e6,y=i?40:1e7,E={type:"inertia",velocity:r?e[d]:0,bounceStiffness:g,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...s,...m};return this.startAxisValueAnimation(d,E)});return Promise.all(f).then(o)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Jw(this.visualElement,e),r.start(nE(e,r,0,n,this.visualElement,!1))}stopAnimation(){cl(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){cl(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){cl(n=>{const{drag:r}=this.getProps();if(!Fx(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:a,max:o}=i.layout.layoutBox[n];s.set(e[n]-Ri(a,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!q0(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};cl(a=>{const o=this.getAxisMotionValue(a);if(o&&this.constraints!==!1){const c=o.get();i[a]=BH({min:c,max:c},this.constraints[a])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),cl(a=>{if(!Fx(a,e,null))return;const o=this.getAxisMotionValue(a),{min:c,max:f}=this.constraints[a];o.set(Ri(c,f,i[a]))})}addListeners(){if(!this.visualElement.current)return;jH.set(this.visualElement,this);const e=this.visualElement.current,n=ug(e,"pointerdown",c=>{const{drag:f,dragListener:d=!0}=this.getProps();f&&d&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();q0(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Jr.read(r);const a=Ug(window,"resize",()=>this.scalePositionWithinConstraints()),o=i.addEventListener("didUpdate",(({delta:c,hasLayoutChanged:f})=>{this.isDragging&&f&&(cl(d=>{const m=this.getAxisMotionValue(d);m&&(this.originPoint[d]+=c[d].translate,m.set(m.get()+c[d].translate))}),this.visualElement.render())}));return()=>{a(),n(),s(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:a=Zw,dragMomentum:o=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:a,dragMomentum:o}}}function Fx(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function HH(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class zH extends ad{constructor(e){super(e),this.removeGroupControls=bo,this.removeListeners=bo,this.controls=new qH(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||bo}unmount(){this.removeGroupControls(),this.removeListeners()}}const cC=t=>(e,n)=>{t&&Jr.postRender(()=>t(e,n))};class GH extends ad{constructor(){super(...arguments),this.removePointerDownListener=bo}onPointerDown(e){this.session=new H8(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:q8(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:cC(e),onStart:cC(n),onMove:r,onEnd:(s,a)=>{delete this.session,i&&Jr.postRender(()=>i(s,a))}}}mount(){this.removePointerDownListener=ug(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const vy={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function uC(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Vm={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Rn.test(t))t=parseFloat(t);else return t;const n=uC(t,e.target.x),r=uC(t,e.target.y);return`${n}% ${r}%`}},WH={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Qf.parse(t);if(i.length>5)return r;const s=Qf.createTransformer(t),a=typeof i[0]!="number"?1:0,o=n.x.scale*e.x,c=n.y.scale*e.y;i[0+a]/=o,i[1+a]/=c;const f=Ri(o,c,.5);return typeof i[2+a]=="number"&&(i[2+a]/=f),typeof i[3+a]=="number"&&(i[3+a]/=f),s(i)}};let u_=!1;class $H extends ke.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;mq(KH),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),u_&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),vy.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,{projection:a}=r;return a&&(a.isPresent=s,u_=!0,i||e.layoutDependency!==n||n===void 0||e.isPresent!==s?a.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?a.promote():a.relegate()||Jr.postRender(()=>{const o=a.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),zT.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;u_=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function G8(t){const[e,n]=h8(),r=ke.useContext(_T);return p.jsx($H,{...t,layoutGroup:r,switchLayoutGroup:ke.useContext(S8),isPresent:e,safeToRemove:n})}const KH={borderRadius:{...Vm,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Vm,borderTopRightRadius:Vm,borderBottomLeftRadius:Vm,borderBottomRightRadius:Vm,boxShadow:WH};function YH(t,e,n){const r=Aa(t)?t:Cc(t);return r.start(nE("",r,e,n)),r.animation}const XH=(t,e)=>t.depth-e.depth;class JH{constructor(){this.children=[],this.isDirty=!1}add(e){ET(this.children,e),this.isDirty=!0}remove(e){ST(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(XH),this.isDirty=!1,this.children.forEach(e)}}function QH(t,e){const n=yo.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(Uc(r),t(s-e))};return Jr.setup(r,!0),()=>Uc(r)}const W8=["TopLeft","TopRight","BottomLeft","BottomRight"],ZH=W8.length,fC=t=>typeof t=="string"?parseFloat(t):t,dC=t=>typeof t=="number"||Rn.test(t);function ez(t,e,n,r,i,s){i?(t.opacity=Ri(0,n.opacity??1,tz(r)),t.opacityExit=Ri(e.opacity??1,0,nz(r))):s&&(t.opacity=Ri(e.opacity??1,n.opacity??1,r));for(let a=0;a<ZH;a++){const o=`border${W8[a]}Radius`;let c=hC(e,o),f=hC(n,o);if(c===void 0&&f===void 0)continue;c||(c=0),f||(f=0),c===0||f===0||dC(c)===dC(f)?(t[o]=Math.max(Ri(fC(c),fC(f),r),0),(Dc.test(f)||Dc.test(c))&&(t[o]+="%")):t[o]=f}(e.rotate||n.rotate)&&(t.rotate=Ri(e.rotate||0,n.rotate||0,r))}function hC(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const tz=$8(0,.5,ID),nz=$8(.5,.95,bo);function $8(t,e,n){return r=>r<t?0:r>e?1:n(yp(t,e,r))}function pC(t,e){t.min=e.min,t.max=e.max}function Ul(t,e){pC(t.x,e.x),pC(t.y,e.y)}function mC(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function gC(t,e,n,r,i){return t-=e,t=Xy(t,1/n,r),i!==void 0&&(t=Xy(t,1/i,r)),t}function rz(t,e=0,n=1,r=.5,i,s=t,a=t){if(Dc.test(e)&&(e=parseFloat(e),e=Ri(a.min,a.max,e/100)-a.min),typeof e!="number")return;let o=Ri(s.min,s.max,r);t===s&&(o-=e),t.min=gC(t.min,e,n,o,i),t.max=gC(t.max,e,n,o,i)}function xC(t,e,[n,r,i],s,a){rz(t,e[n],e[r],e[i],e.scale,s,a)}const iz=["x","scaleX","originX"],sz=["y","scaleY","originY"];function yC(t,e,n,r){xC(t.x,e,iz,n?n.x:void 0,r?r.x:void 0),xC(t.y,e,sz,n?n.y:void 0,r?r.y:void 0)}function vC(t){return t.translate===0&&t.scale===1}function K8(t){return vC(t.x)&&vC(t.y)}function bC(t,e){return t.min===e.min&&t.max===e.max}function az(t,e){return bC(t.x,e.x)&&bC(t.y,e.y)}function _C(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function Y8(t,e){return _C(t.x,e.x)&&_C(t.y,e.y)}function wC(t){return za(t.x)/za(t.y)}function TC(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class oz{constructor(){this.members=[]}add(e){ET(this.members,e),e.scheduleRender()}remove(e){if(ST(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function lz(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,a=n?.z||0;if((i||s||a)&&(r=`translate3d(${i}px, ${s}px, ${a}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:f,rotate:d,rotateX:m,rotateY:g,skewX:y,skewY:E}=n;f&&(r=`perspective(${f}px) ${r}`),d&&(r+=`rotate(${d}deg) `),m&&(r+=`rotateX(${m}deg) `),g&&(r+=`rotateY(${g}deg) `),y&&(r+=`skewX(${y}deg) `),E&&(r+=`skewY(${E}deg) `)}const o=t.x.scale*e.x,c=t.y.scale*e.y;return(o!==1||c!==1)&&(r+=`scale(${o}, ${c})`),r||"none"}const f_=["","X","Y","Z"],cz=1e3;let uz=0;function d_(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function X8(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=L8(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Jr,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&X8(r)}function J8({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(a={},o=e?.()){this.id=uz++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(hz),this.nodes.forEach(xz),this.nodes.forEach(yz),this.nodes.forEach(pz)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new JH)}addEventListener(a,o){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new NT),this.eventHandlers.get(a).add(o)}notifyListeners(a,...o){const c=this.eventHandlers.get(a);c&&c.notify(...o)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=WT(a)&&!eq(a),this.instance=a;const{layoutId:o,layout:c,visualElement:f}=this.options;if(f&&!f.current&&f.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||o)&&(this.isLayoutDirty=!0),t){let d,m=0;const g=()=>this.root.updateBlockedByResize=!1;Jr.read(()=>{m=window.innerWidth}),t(a,()=>{const y=window.innerWidth;y!==m&&(m=y,this.root.updateBlockedByResize=!0,d&&d(),d=QH(g,250),vy.hasAnimatedSinceResize&&(vy.hasAnimatedSinceResize=!1,this.nodes.forEach(AC)))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&f&&(o||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:m,hasRelativeLayoutChanged:g,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const E=this.options.transition||f.getDefaultTransition()||Tz,{onLayoutAnimationStart:_,onLayoutAnimationComplete:A}=f.getProps(),C=!this.targetLayout||!Y8(this.targetLayout,y),V=!m&&g;if(this.options.layoutRoot||this.resumeFrom||V||m&&(C||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const R={...jT(E,"layout"),onPlay:_,onComplete:A};(f.shouldReduceMotion||this.options.layoutRoot)&&(R.delay=0,R.type=!1),this.startAnimation(R),this.setAnimationOrigin(d,V)}else m||AC(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Uc(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(vz),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&X8(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const m=this.path[d];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:o,layout:c}=this.options;if(o===void 0&&!c)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(EC);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(SC);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(gz),this.nodes.forEach(fz),this.nodes.forEach(dz)):this.nodes.forEach(SC),this.clearAllSnapshots();const o=yo.now();js.delta=Vc(0,1e3/60,o-js.timestamp),js.timestamp=o,js.isProcessing=!0,e_.update.process(js),e_.preRender.process(js),e_.render.process(js),js.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,zT.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(mz),this.sharedNodes.forEach(bz)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Jr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Jr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!za(this.snapshot.measuredBox.x)&&!za(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Es(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(o=!1),o&&this.instance){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!K8(this.projectionDelta),c=this.getTransformTemplate(),f=c?c(this.latestValues,""):void 0,d=f!==this.prevTransformTemplateValue;a&&this.instance&&(o||Pd(this.latestValues)||d)&&(i(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const o=this.measurePageBox();let c=this.removeElementScroll(o);return a&&(c=this.removeTransform(c)),Ez(c),{animationId:this.root.animationId,measuredBox:o,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:a}=this.options;if(!a)return Es();const o=a.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(Sz))){const{scroll:f}=this.root;f&&(H0(o.x,f.offset.x),H0(o.y,f.offset.y))}return o}removeElementScroll(a){const o=Es();if(Ul(o,a),this.scroll?.wasRoot)return o;for(let c=0;c<this.path.length;c++){const f=this.path[c],{scroll:d,options:m}=f;f!==this.root&&d&&m.layoutScroll&&(d.wasRoot&&Ul(o,a),H0(o.x,d.offset.x),H0(o.y,d.offset.y))}return o}applyTransform(a,o=!1){const c=Es();Ul(c,a);for(let f=0;f<this.path.length;f++){const d=this.path[f];!o&&d.options.layoutScroll&&d.scroll&&d!==d.root&&z0(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Pd(d.latestValues)&&z0(c,d.latestValues)}return Pd(this.latestValues)&&z0(c,this.latestValues),c}removeTransform(a){const o=Es();Ul(o,a);for(let c=0;c<this.path.length;c++){const f=this.path[c];if(!f.instance||!Pd(f.latestValues))continue;$w(f.latestValues)&&f.updateSnapshot();const d=Es(),m=f.measurePageBox();Ul(d,m),yC(o,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,d)}return Pd(this.latestValues)&&yC(o,this.latestValues),o}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==js.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==o;if(!(a||c&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:m}=this.options;if(!this.layout||!(d||m))return;this.resolvedRelativeTargetAt=js.timestamp;const g=this.getClosestProjectingParent();g&&this.linkedParentVersion!==g.layoutVersion&&!g.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(g&&g.layout?this.createRelativeTarget(g,this.layout.layoutBox,g.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Es(),this.targetWithTransforms=Es()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),RH(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ul(this.target,this.layout.layoutBox),I8(this.target,this.targetDelta)):Ul(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?this.createRelativeTarget(g,this.target,g.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||$w(this.parent.latestValues)||C8(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(a,o,c){this.relativeParent=a,this.linkedParentVersion=a.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Es(),this.relativeTargetOrigin=Es(),Jy(this.relativeTargetOrigin,o,c),Ul(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const a=this.getLead(),o=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(c=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===js.timestamp&&(c=!1),c)return;const{layout:f,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||d))return;Ul(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,g=this.treeScale.y;Hq(this.layoutCorrected,this.treeScale,this.path,o),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Es());const{target:y}=a;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(mC(this.prevProjectionDelta.x,this.projectionDelta.x),mC(this.prevProjectionDelta.y,this.projectionDelta.y)),fg(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==g||!TC(this.projectionDelta.x,this.prevProjectionDelta.x)||!TC(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){if(this.options.visualElement?.scheduleRender(),a){const o=this.getStack();o&&o.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=G0(),this.projectionDelta=G0(),this.projectionDeltaWithTransform=G0()}setAnimationOrigin(a,o=!1){const c=this.snapshot,f=c?c.latestValues:{},d={...this.latestValues},m=G0();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const g=Es(),y=c?c.source:void 0,E=this.layout?this.layout.source:void 0,_=y!==E,A=this.getStack(),C=!A||A.members.length<=1,V=!!(_&&!C&&this.options.crossfade===!0&&!this.path.some(wz));this.animationProgress=0;let R;this.mixTargetDelta=F=>{const z=F/1e3;NC(m.x,a.x,z),NC(m.y,a.y,z),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Jy(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),_z(this.relativeTarget,this.relativeTargetOrigin,g,z),R&&az(this.relativeTarget,R)&&(this.isProjectionDirty=!1),R||(R=Es()),Ul(R,this.relativeTarget)),_&&(this.animationValues=d,ez(d,f,this.latestValues,z,V,C)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=z},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Uc(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Jr.update(()=>{vy.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Cc(0)),this.currentAnimation=YH(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:o=>{this.mixTargetDelta(o),a.onUpdate&&a.onUpdate(o)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(cz),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:o,target:c,layout:f,latestValues:d}=a;if(!(!o||!c||!f)){if(this!==a&&this.layout&&f&&Q8(this.options.animationType,this.layout.layoutBox,f.layoutBox)){c=this.target||Es();const m=za(this.layout.layoutBox.x);c.x.min=a.target.x.min,c.x.max=c.x.min+m;const g=za(this.layout.layoutBox.y);c.y.min=a.target.y.min,c.y.max=c.y.min+g}Ul(o,c),z0(o,d),fg(this.projectionDeltaWithTransform,this.layoutCorrected,o,d)}}registerSharedNode(a,o){this.sharedNodes.has(a)||this.sharedNodes.set(a,new oz),this.sharedNodes.get(a).add(o);const f=o.options.initialPromotionConfig;o.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(o):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){const{layoutId:a}=this.options;return a?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:a}=this.options;return a?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:o,preserveFollowOpacity:c}={}){const f=this.getStack();f&&f.promote(this,c),a&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let o=!1;const{latestValues:c}=a;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(o=!0),!o)return;const f={};c.z&&d_("z",a,f,this.animationValues);for(let d=0;d<f_.length;d++)d_(`rotate${f_[d]}`,a,f,this.animationValues),d_(`skew${f_[d]}`,a,f,this.animationValues);a.render();for(const d in f)a.setStaticValue(d,f[d]),this.animationValues&&(this.animationValues[d]=f[d]);a.scheduleRender()}applyProjectionStyles(a,o){if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=yy(o?.pointerEvents)||"",a.transform=c?c(this.latestValues,""):"none";return}const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){this.options.layoutId&&(a.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,a.pointerEvents=yy(o?.pointerEvents)||""),this.hasProjected&&!Pd(this.latestValues)&&(a.transform=c?c({},""):"none",this.hasProjected=!1);return}a.visibility="";const d=f.animationValues||f.latestValues;this.applyTransformsToTarget();let m=lz(this.projectionDeltaWithTransform,this.treeScale,d);c&&(m=c(d,m)),a.transform=m;const{x:g,y}=this.projectionDelta;a.transformOrigin=`${g.origin*100}% ${y.origin*100}% 0`,f.animationValues?a.opacity=f===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:a.opacity=f===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const E in Vg){if(d[E]===void 0)continue;const{correct:_,applyTo:A,isCSSVariable:C}=Vg[E],V=m==="none"?d[E]:_(d[E],f);if(A){const R=A.length;for(let F=0;F<R;F++)a[A[F]]=V}else C?this.options.visualElement.renderState.vars[E]=V:a[E]=V}this.options.layoutId&&(a.pointerEvents=f===this?yy(o?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>a.currentAnimation?.stop()),this.root.nodes.forEach(EC),this.root.sharedNodes.clear()}}}function fz(t){t.updateLayout()}function dz(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=t.layout,{animationType:i}=t.options,s=e.source!==t.layout.source;i==="size"?cl(d=>{const m=s?e.measuredBox[d]:e.layoutBox[d],g=za(m);m.min=n[d].min,m.max=m.min+g}):Q8(i,e.layoutBox,n)&&cl(d=>{const m=s?e.measuredBox[d]:e.layoutBox[d],g=za(n[d]);m.max=m.min+g,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+g)});const a=G0();fg(a,n,e.layoutBox);const o=G0();s?fg(o,t.applyTransform(r,!0),e.measuredBox):fg(o,n,e.layoutBox);const c=!K8(a);let f=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:m,layout:g}=d;if(m&&g){const y=Es();Jy(y,e.layoutBox,m.layoutBox);const E=Es();Jy(E,n,g.layoutBox),Y8(y,E)||(f=!0),d.options.layoutRoot&&(t.relativeTarget=E,t.relativeTargetOrigin=y,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:o,layoutDelta:a,hasLayoutChanged:c,hasRelativeLayoutChanged:f})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function hz(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function pz(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function mz(t){t.clearSnapshot()}function EC(t){t.clearMeasurements()}function SC(t){t.isLayoutDirty=!1}function gz(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function AC(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function xz(t){t.resolveTargetDelta()}function yz(t){t.calcProjection()}function vz(t){t.resetSkewAndRotation()}function bz(t){t.removeLeadSnapshot()}function NC(t,e,n){t.translate=Ri(e.translate,0,n),t.scale=Ri(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function CC(t,e,n,r){t.min=Ri(e.min,n.min,r),t.max=Ri(e.max,n.max,r)}function _z(t,e,n,r){CC(t.x,e.x,n.x,r),CC(t.y,e.y,n.y,r)}function wz(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Tz={duration:.45,ease:[.4,0,.1,1]},IC=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),kC=IC("applewebkit/")&&!IC("chrome/")?Math.round:bo;function RC(t){t.min=kC(t.min),t.max=kC(t.max)}function Ez(t){RC(t.x),RC(t.y)}function Q8(t,e,n){return t==="position"||t==="preserve-aspect"&&!kH(wC(e),wC(n),.2)}function Sz(t){return t!==t.root&&t.scroll?.wasRoot}const Az=J8({attachResizeListener:(t,e)=>Ug(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),h_={current:void 0},Z8=J8({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!h_.current){const t=new Az({});t.mount(window),t.setOptions({layoutScroll:!0}),h_.current=t}return h_.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Nz={pan:{Feature:GH},drag:{Feature:zH,ProjectionNode:Z8,MeasureLayout:G8}};function PC(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&Jr.postRender(()=>s(e,x1(e)))}class Cz extends ad{mount(){const{current:e}=this.node;e&&(this.unmount=Uj(e,(n,r)=>(PC(this.node,r,"Start"),i=>PC(this.node,i,"End"))))}unmount(){}}class Iz extends ad{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=p1(Ug(this.node.current,"focus",()=>this.onFocus()),Ug(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function DC(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&Jr.postRender(()=>s(e,x1(e)))}class kz extends ad{mount(){const{current:e}=this.node;e&&(this.unmount=zj(e,(n,r)=>(DC(this.node,r,"Start"),(i,{success:s})=>DC(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const e5=new WeakMap,p_=new WeakMap,Rz=t=>{const e=e5.get(t.target);e&&e(t)},Pz=t=>{t.forEach(Rz)};function Dz({root:t,...e}){const n=t||document;p_.has(n)||p_.set(n,{});const r=p_.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(Pz,{root:t,...e})),r[i]}function Mz(t,e,n){const r=Dz(e);return e5.set(t,n),r.observe(t),()=>{e5.delete(t),r.unobserve(t)}}const Lz={some:0,all:1};class Fz extends ad{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:Lz[i]},o=c=>{const{isIntersecting:f}=c;if(this.isInView===f||(this.isInView=f,s&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:d,onViewportLeave:m}=this.node.getProps(),g=f?d:m;g&&g(c)};return Mz(this.node.current,a,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Oz(e,n))&&this.startObserver()}unmount(){}}function Oz({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Bz={inView:{Feature:Fz},tap:{Feature:kz},focus:{Feature:Iz},hover:{Feature:Cz}},Vz={layout:{ProjectionNode:Z8,MeasureLayout:G8}},Uz={...EH,...Bz,...Nz,...Vz},Et=Uq(Uz,Zq);function jz(t,e,n){ke.useInsertionEffect(()=>t.on(e,n),[t,e,n])}const qz=50,MC=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),Hz=()=>({time:0,x:MC(),y:MC()}),zz={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function LC(t,e,n,r){const i=n[e],{length:s,position:a}=zz[e],o=i.current,c=n.time;i.current=t[`scroll${a}`],i.scrollLength=t[`scroll${s}`]-t[`client${s}`],i.offset.length=0,i.offset[0]=0,i.offset[1]=i.scrollLength,i.progress=yp(0,i.scrollLength,i.current);const f=r-c;i.velocity=f>qz?0:CT(i.current-o,f)}function Gz(t,e,n){LC(t,"x",e,n),LC(t,"y",e,n),e.time=n}function Wz(t,e){const n={x:0,y:0};let r=t;for(;r&&r!==e;)if(HT(r))n.x+=r.offsetLeft,n.y+=r.offsetTop,r=r.offsetParent;else if(r.tagName==="svg"){const i=r.getBoundingClientRect();r=r.parentElement;const s=r.getBoundingClientRect();n.x+=i.left-s.left,n.y+=i.top-s.top}else if(r instanceof SVGGraphicsElement){const{x:i,y:s}=r.getBBox();n.x+=i,n.y+=s;let a=null,o=r.parentNode;for(;!a;)o.tagName==="svg"&&(a=o),o=r.parentNode;r=a}else break;return n}const t5={start:0,center:.5,end:1};function FC(t,e,n=0){let r=0;if(t in t5&&(t=t5[t]),typeof t=="string"){const i=parseFloat(t);t.endsWith("px")?r=i:t.endsWith("%")?t=i/100:t.endsWith("vw")?r=i/100*document.documentElement.clientWidth:t.endsWith("vh")?r=i/100*document.documentElement.clientHeight:t=i}return typeof t=="number"&&(r=e*t),n+r}const $z=[0,0];function Kz(t,e,n,r){let i=Array.isArray(t)?t:$z,s=0,a=0;return typeof t=="number"?i=[t,t]:typeof t=="string"&&(t=t.trim(),t.includes(" ")?i=t.split(" "):i=[t,t5[t]?t:"0"]),s=FC(i[0],n,r),a=FC(i[1],e),s-a}const Yz={All:[[0,0],[1,1]]},Xz={x:0,y:0};function Jz(t){return"getBBox"in t&&t.tagName!=="svg"?t.getBBox():{width:t.clientWidth,height:t.clientHeight}}function Qz(t,e,n){const{offset:r=Yz.All}=n,{target:i=t,axis:s="y"}=n,a=s==="y"?"height":"width",o=i!==t?Wz(i,t):Xz,c=i===t?{width:t.scrollWidth,height:t.scrollHeight}:Jz(i),f={width:t.clientWidth,height:t.clientHeight};e[s].offset.length=0;let d=!e[s].interpolate;const m=r.length;for(let g=0;g<m;g++){const y=Kz(r[g],f[a],c[a],o[s]);!d&&y!==e[s].interpolatorOffsets[g]&&(d=!0),e[s].offset[g]=y}d&&(e[s].interpolate=zD(e[s].offset,GD(r),{clamp:!1}),e[s].interpolatorOffsets=[...e[s].offset]),e[s].progress=Vc(0,1,e[s].interpolate(e[s].current))}function Zz(t,e=t,n){if(n.x.targetOffset=0,n.y.targetOffset=0,e!==t){let r=e;for(;r&&r!==t;)n.x.targetOffset+=r.offsetLeft,n.y.targetOffset+=r.offsetTop,r=r.offsetParent}n.x.targetLength=e===t?e.scrollWidth:e.clientWidth,n.y.targetLength=e===t?e.scrollHeight:e.clientHeight,n.x.containerLength=t.clientWidth,n.y.containerLength=t.clientHeight}function eG(t,e,n,r={}){return{measure:i=>{Zz(t,r.target,n),Gz(t,n,i),(r.offset||r.target)&&Qz(t,n,r)},notify:()=>e(n)}}const Um=new WeakMap,OC=new WeakMap,m_=new WeakMap,BC=t=>t===document.scrollingElement?window:t;function eM(t,{container:e=document.scrollingElement,...n}={}){if(!e)return bo;let r=m_.get(e);r||(r=new Set,m_.set(e,r));const i=Hz(),s=eG(e,t,i,n);if(r.add(s),!Um.has(e)){const o=()=>{for(const m of r)m.measure(js.timestamp);Jr.preUpdate(c)},c=()=>{for(const m of r)m.notify()},f=()=>Jr.read(o);Um.set(e,f);const d=BC(e);window.addEventListener("resize",f,{passive:!0}),e!==document.documentElement&&OC.set(e,Zj(e,f)),d.addEventListener("scroll",f,{passive:!0}),f()}const a=Um.get(e);return Jr.read(a,!1,!0),()=>{Uc(a);const o=m_.get(e);if(!o||(o.delete(s),o.size))return;const c=Um.get(e);Um.delete(e),c&&(BC(e).removeEventListener("scroll",c),OC.get(e)?.(),window.removeEventListener("resize",c))}}const VC=new Map;function tG(t){const e={value:0},n=eM(r=>{e.value=r[t.axis].progress*100},t);return{currentTime:e,cancel:n}}function tM({source:t,container:e,...n}){const{axis:r}=n;t&&(e=t);const i=VC.get(e)??new Map;VC.set(e,i);const s=n.target??"self",a=i.get(s)??{},o=r+(n.offset??[]).join(",");return a[o]||(a[o]=!n.target&&YD()?new ScrollTimeline({source:e,axis:r}):tG({container:e,...n})),a[o]}function nG(t,e){const n=tM(e);return t.attachTimeline({timeline:e.target?void 0:n,observe:r=>(r.pause(),d8(i=>{r.time=r.iterationDuration*i},n))})}function rG(t){return t.length===2}function iG(t,e){return rG(t)?eM(n=>{t(n[e.axis].progress,n)},e):d8(t,tM(e))}function sG(t,{axis:e="y",container:n=document.scrollingElement,...r}={}){if(!n)return bo;const i={axis:e,container:n,...r};return typeof t=="function"?iG(t,i):nG(t,i)}const aG=()=>({scrollX:Cc(0),scrollY:Cc(0),scrollXProgress:Cc(0),scrollYProgress:Cc(0)}),Ox=t=>t?!t.current:!1;function oG({container:t,target:e,...n}={}){const r=G2(aG),i=ke.useRef(null),s=ke.useRef(!1),a=ke.useCallback(()=>(i.current=sG((o,{x:c,y:f})=>{r.scrollX.set(c.current),r.scrollXProgress.set(c.progress),r.scrollY.set(f.current),r.scrollYProgress.set(f.progress)},{...n,container:t?.current||void 0,target:e?.current||void 0}),()=>{i.current?.()}),[t,e,JSON.stringify(n.offset)]);return TT(()=>{if(s.current=!1,Ox(t)||Ox(e)){s.current=!0;return}else return a()},[a]),ke.useEffect(()=>{if(s.current)return Lg(!Ox(t)),Lg(!Ox(e)),a()},[a]),r}var Qt=(t=>(t.DASHBOARD="DASHBOARD",t.INVOICES="INVOICES",t.ALL_INVOICES="ALL_INVOICES",t.CREATE_INVOICE="CREATE_INVOICE",t.EDIT_INVOICE="EDIT_INVOICE",t.INVENTORY="INVENTORY",t.CUSTOMERS="CUSTOMERS",t.VIEW_INVOICE="VIEW_INVOICE",t.CUSTOMER_LEDGER="CUSTOMER_LEDGER",t.SETTINGS="SETTINGS",t.DAYBOOK="DAYBOOK",t.IMPORT="IMPORT",t.EXPENSES="EXPENSES",t.REPORTS="REPORTS",t.PAYMENTS="PAYMENTS",t))(Qt||{});const W0={name:"ABC Trading Company",address:"123, Market Road, Delhi - 110001",phone:"9876543210",email:"info@abctrading.com",state:"Delhi",gst_enabled:!0};const lG=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),cG=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),UC=t=>{const e=cG(t);return e.charAt(0).toUpperCase()+e.slice(1)},nM=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),uG=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var fG={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const dG=ke.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:a,...o},c)=>ke.createElement("svg",{ref:c,...fG,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:nM("lucide",i),...!s&&!uG(o)&&{"aria-hidden":"true"},...o},[...a.map(([f,d])=>ke.createElement(f,d)),...Array.isArray(s)?s:[s]]));const fn=(t,e)=>{const n=ke.forwardRef(({className:r,...i},s)=>ke.createElement(dG,{ref:s,iconNode:e,className:nM(`lucide-${lG(UC(t))}`,`lucide-${t}`,r),...i}));return n.displayName=UC(t),n};const hG=[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]],ih=fn("arrow-down-left",hG);const pG=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Mu=fn("arrow-left",pG);const mG=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],gG=fn("arrow-right",mG);const xG=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],yG=fn("arrow-up-right",xG);const vG=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],rM=fn("banknote",vG);const bG=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],_G=fn("briefcase",bG);const wG=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],iM=fn("building-2",wG);const TG=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],n5=fn("calculator",TG);const EG=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],sM=fn("calendar",EG);const SG=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],AG=fn("check",SG);const NG=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],wu=fn("chevron-right",NG);const CG=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],X2=fn("circle-alert",CG);const IG=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],dg=fn("circle-check-big",IG);const kG=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],RG=fn("circle-plus",kG);const PG=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],DG=fn("circle-x",PG);const MG=[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5.782 5.782A7 7 0 0 0 9 19h8.5a4.5 4.5 0 0 0 1.307-.193",key:"yfwify"}],["path",{d:"M21.532 16.5A4.5 4.5 0 0 0 17.5 10h-1.79A7.008 7.008 0 0 0 10 5.07",key:"jlfiyv"}]],LG=fn("cloud-off",MG);const FG=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],aM=fn("cloud",FG);const OG=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],BG=fn("copy",OG);const VG=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],UG=fn("credit-card",VG);const jG=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],qG=fn("database",jG);const HG=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],jp=fn("download",HG);const zG=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],rE=fn("ellipsis-vertical",zG);const GG=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],oM=fn("external-link",GG);const WG=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],iE=fn("eye",WG);const $G=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Cu=fn("file-text",$G);const KG=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],YG=fn("funnel",KG);const XG=[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]],r5=fn("indian-rupee",XG);const JG=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],lM=fn("layout-dashboard",JG);const QG=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],cM=fn("loader-circle",QG);const ZG=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],uM=fn("log-out",ZG);const eW=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],tW=fn("lock",eW);const nW=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Qy=fn("mail",nW);const rW=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],fM=fn("map-pin",rW);const iW=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],i5=fn("menu",iW);const sW=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],Gd=fn("message-circle",sW);const aW=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],dM=fn("moon",aW);const oW=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],zf=fn("package",oW);const lW=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],s5=fn("pen",lW);const cW=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],by=fn("phone",cW);const uW=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],fW=fn("play",uW);const dW=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Th=fn("plus",dW);const hW=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],g_=fn("printer",hW);const pW=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],sE=fn("receipt",pW);const mW=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Zy=fn("save",mW);const gW=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],aE=fn("search",gW);const xW=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],hM=fn("settings",xW);const yW=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],vW=fn("shield-alert",yW);const bW=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],oE=fn("square-pen",bW);const _W=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],pM=fn("sun",_W);const wW=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],TW=fn("tag",wW);const EW=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Lu=fn("trash-2",EW);const SW=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],AW=fn("trending-down",SW);const NW=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],tp=fn("trending-up",NW);const CW=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],mM=fn("triangle-alert",CW);const IW=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],J2=fn("upload",IW);const kW=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],e2=fn("user-plus",kW);const RW=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Xd=fn("users",RW);const PW=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],jC=fn("user",PW);const DW=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],MW=fn("wallet",DW);const LW=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],qC=fn("wand-sparkles",LW);const FW=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],OW=fn("wifi-off",FW);const BW=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],VW=fn("wifi",BW);const UW=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Iu=fn("x",UW),jW=()=>{};var HC={};const gM=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},qW=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],a=t[n++],o=t[n++],c=((i&7)<<18|(s&63)<<12|(a&63)<<6|o&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const s=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},xM={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,o=a?t[i+1]:0,c=i+2<t.length,f=c?t[i+2]:0,d=s>>2,m=(s&3)<<4|o>>4;let g=(o&15)<<2|f>>6,y=f&63;c||(y=64,a||(g=64)),r.push(n[d],n[m],n[g],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(gM(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):qW(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],o=i<t.length?n[t.charAt(i)]:0;++i;const f=i<t.length?n[t.charAt(i)]:64;++i;const m=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||o==null||f==null||m==null)throw new HW;const g=s<<2|o>>4;if(r.push(g),f!==64){const y=o<<4&240|f>>2;if(r.push(y),m!==64){const E=f<<6&192|m;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class HW extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const zW=function(t){const e=gM(t);return xM.encodeByteArray(e,!0)},t2=function(t){return zW(t).replace(/\./g,"")},yM=function(t){try{return xM.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function vM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const GW=()=>vM().__FIREBASE_DEFAULTS__,WW=()=>{if(typeof process>"u"||typeof HC>"u")return;const t=HC.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},$W=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&yM(t[1]);return e&&JSON.parse(e)},Q2=()=>{try{return jW()||GW()||WW()||$W()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},bM=t=>Q2()?.emulatorHosts?.[t],KW=t=>{const e=bM(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},_M=()=>Q2()?.config,wM=t=>Q2()?.[`_${t}`];class YW{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function qp(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function TM(t){return(await fetch(t,{credentials:"include"})).ok}function XW(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[t2(JSON.stringify(n)),t2(JSON.stringify(a)),""].join(".")}const hg={};function JW(){const t={prod:[],emulator:[]};for(const e of Object.keys(hg))hg[e]?t.emulator.push(e):t.prod.push(e);return t}function QW(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let zC=!1;function EM(t,e){if(typeof window>"u"||typeof document>"u"||!qp(window.location.host)||hg[t]===e||hg[t]||zC)return;hg[t]=e;function n(g){return`__firebase__banner__${g}`}const r="__firebase__banner",s=JW().prod.length>0;function a(){const g=document.getElementById(r);g&&g.remove()}function o(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function c(g,y){g.setAttribute("width","24"),g.setAttribute("id",y),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function f(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{zC=!0,a()},g}function d(g,y){g.setAttribute("id",y),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function m(){const g=QW(r),y=n("text"),E=document.getElementById(y)||document.createElement("span"),_=n("learnmore"),A=document.getElementById(_)||document.createElement("a"),C=n("preprendIcon"),V=document.getElementById(C)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const R=g.element;o(R),d(A,_);const F=f();c(V,C),R.append(V,E,A,F),document.body.appendChild(R)}s?(E.innerText="Preview backend disconnected.",V.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(V.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}function Is(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ZW(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Is())}function SM(){const t=Q2()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function e$(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function t$(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function n$(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function r$(){const t=Is();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function AM(){return!SM()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function NM(){return!SM()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function CM(){try{return typeof indexedDB=="object"}catch{return!1}}function i$(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}const s$="FirebaseError";class qu extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=s$,Object.setPrototypeOf(this,qu.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,y1.prototype.create)}}class y1{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?a$(s,r):"Error",o=`${this.serviceName}: ${a} (${i}).`;return new qu(i,o,r)}}function a$(t,e){return t.replace(o$,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const o$=/\{\$([^}]+)}/g;function l$(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function sh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],a=e[i];if(GC(s)&&GC(a)){if(!sh(s,a))return!1}else if(s!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function GC(t){return t!==null&&typeof t=="object"}function v1(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Jm(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Qm(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function c$(t,e){const n=new u$(t,e);return n.subscribe.bind(n)}class u${constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");f$(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=x_),i.error===void 0&&(i.error=x_),i.complete===void 0&&(i.complete=x_);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function f$(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function x_(){}function Ws(t){return t&&t._delegate?t._delegate:t}class ah{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Dd="[DEFAULT]";class d${constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new YW;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(p$(e))try{this.getOrInitializeService({instanceIdentifier:Dd})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Dd){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Dd){return this.instances.has(e)}getOptions(e=Dd){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);r===o&&a.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:h$(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Dd){return this.component?this.component.multipleInstances?e:Dd:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function h$(t){return t===Dd?void 0:t}function p$(t){return t.instantiationMode==="EAGER"}class m${constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new d$(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var ur;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ur||(ur={}));const g$={debug:ur.DEBUG,verbose:ur.VERBOSE,info:ur.INFO,warn:ur.WARN,error:ur.ERROR,silent:ur.SILENT},x$=ur.INFO,y$={[ur.DEBUG]:"log",[ur.VERBOSE]:"log",[ur.INFO]:"info",[ur.WARN]:"warn",[ur.ERROR]:"error"},v$=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=y$[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class lE{constructor(e){this.name=e,this._logLevel=x$,this._logHandler=v$,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ur))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?g$[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ur.DEBUG,...e),this._logHandler(this,ur.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ur.VERBOSE,...e),this._logHandler(this,ur.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ur.INFO,...e),this._logHandler(this,ur.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ur.WARN,...e),this._logHandler(this,ur.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ur.ERROR,...e),this._logHandler(this,ur.ERROR,...e)}}const b$=(t,e)=>e.some(n=>t instanceof n);let WC,$C;function _$(){return WC||(WC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function w$(){return $C||($C=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const IM=new WeakMap,a5=new WeakMap,kM=new WeakMap,y_=new WeakMap,cE=new WeakMap;function T$(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(Gf(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&IM.set(n,t)}).catch(()=>{}),cE.set(e,t),e}function E$(t){if(a5.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});a5.set(t,e)}let o5={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return a5.get(t);if(e==="objectStoreNames")return t.objectStoreNames||kM.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Gf(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function S$(t){o5=t(o5)}function A$(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(v_(this),e,...n);return kM.set(r,e.sort?e.sort():[e]),Gf(r)}:w$().includes(t)?function(...e){return t.apply(v_(this),e),Gf(IM.get(this))}:function(...e){return Gf(t.apply(v_(this),e))}}function N$(t){return typeof t=="function"?A$(t):(t instanceof IDBTransaction&&E$(t),b$(t,_$())?new Proxy(t,o5):t)}function Gf(t){if(t instanceof IDBRequest)return T$(t);if(y_.has(t))return y_.get(t);const e=N$(t);return e!==t&&(y_.set(t,e),cE.set(e,t)),e}const v_=t=>cE.get(t);function C$(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),o=Gf(a);return r&&a.addEventListener("upgradeneeded",c=>{r(Gf(a.result),c.oldVersion,c.newVersion,Gf(a.transaction),c)}),n&&a.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),o.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),o}const I$=["get","getKey","getAll","getAllKeys","count"],k$=["put","add","delete","clear"],b_=new Map;function KC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(b_.get(e))return b_.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=k$.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||I$.includes(n)))return;const s=async function(a,...o){const c=this.transaction(a,i?"readwrite":"readonly");let f=c.store;return r&&(f=f.index(o.shift())),(await Promise.all([f[n](...o),i&&c.done]))[0]};return b_.set(e,s),s}S$(t=>({...t,get:(e,n,r)=>KC(e,n)||t.get(e,n,r),has:(e,n)=>!!KC(e,n)||t.has(e,n)}));class R${constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(P$(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function P$(t){return t.getComponent()?.type==="VERSION"}const l5="@firebase/app",YC="0.14.6";const Fu=new lE("@firebase/app"),D$="@firebase/app-compat",M$="@firebase/analytics-compat",L$="@firebase/analytics",F$="@firebase/app-check-compat",O$="@firebase/app-check",B$="@firebase/auth",V$="@firebase/auth-compat",U$="@firebase/database",j$="@firebase/data-connect",q$="@firebase/database-compat",H$="@firebase/functions",z$="@firebase/functions-compat",G$="@firebase/installations",W$="@firebase/installations-compat",$$="@firebase/messaging",K$="@firebase/messaging-compat",Y$="@firebase/performance",X$="@firebase/performance-compat",J$="@firebase/remote-config",Q$="@firebase/remote-config-compat",Z$="@firebase/storage",eK="@firebase/storage-compat",tK="@firebase/firestore",nK="@firebase/ai",rK="@firebase/firestore-compat",iK="firebase",sK="12.6.0";const c5="[DEFAULT]",aK={[l5]:"fire-core",[D$]:"fire-core-compat",[L$]:"fire-analytics",[M$]:"fire-analytics-compat",[O$]:"fire-app-check",[F$]:"fire-app-check-compat",[B$]:"fire-auth",[V$]:"fire-auth-compat",[U$]:"fire-rtdb",[j$]:"fire-data-connect",[q$]:"fire-rtdb-compat",[H$]:"fire-fn",[z$]:"fire-fn-compat",[G$]:"fire-iid",[W$]:"fire-iid-compat",[$$]:"fire-fcm",[K$]:"fire-fcm-compat",[Y$]:"fire-perf",[X$]:"fire-perf-compat",[J$]:"fire-rc",[Q$]:"fire-rc-compat",[Z$]:"fire-gcs",[eK]:"fire-gcs-compat",[tK]:"fire-fst",[rK]:"fire-fst-compat",[nK]:"fire-vertex","fire-js":"fire-js",[iK]:"fire-js-all"};const jg=new Map,oK=new Map,u5=new Map;function XC(t,e){try{t.container.addComponent(e)}catch(n){Fu.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function bp(t){const e=t.name;if(u5.has(e))return Fu.debug(`There were multiple attempts to register component ${e}.`),!1;u5.set(e,t);for(const n of jg.values())XC(n,t);for(const n of oK.values())XC(n,t);return!0}function uE(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function fl(t){return t==null?!1:t.settings!==void 0}const lK={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Wf=new y1("app","Firebase",lK);class cK{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ah("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Wf.create("app-deleted",{appName:this._name})}}const Hp=sK;function RM(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:c5,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Wf.create("bad-app-name",{appName:String(i)});if(n||(n=_M()),!n)throw Wf.create("no-options");const s=jg.get(i);if(s){if(sh(n,s.options)&&sh(r,s.config))return s;throw Wf.create("duplicate-app",{appName:i})}const a=new m$(i);for(const c of u5.values())a.addComponent(c);const o=new cK(n,r,a);return jg.set(i,o),o}function fE(t=c5){const e=jg.get(t);if(!e&&t===c5&&_M())return RM();if(!e)throw Wf.create("no-app",{appName:t});return e}function uK(){return Array.from(jg.values())}function $f(t,e,n){let r=aK[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const a=[`Unable to register library "${r}" with version "${e}":`];i&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Fu.warn(a.join(" "));return}bp(new ah(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const fK="firebase-heartbeat-database",dK=1,qg="firebase-heartbeat-store";let __=null;function PM(){return __||(__=C$(fK,dK,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(qg)}catch(n){console.warn(n)}}}}).catch(t=>{throw Wf.create("idb-open",{originalErrorMessage:t.message})})),__}async function hK(t){try{const n=(await PM()).transaction(qg),r=await n.objectStore(qg).get(DM(t));return await n.done,r}catch(e){if(e instanceof qu)Fu.warn(e.message);else{const n=Wf.create("idb-get",{originalErrorMessage:e?.message});Fu.warn(n.message)}}}async function JC(t,e){try{const r=(await PM()).transaction(qg,"readwrite");await r.objectStore(qg).put(e,DM(t)),await r.done}catch(n){if(n instanceof qu)Fu.warn(n.message);else{const r=Wf.create("idb-set",{originalErrorMessage:n?.message});Fu.warn(r.message)}}}function DM(t){return`${t.name}!${t.options.appId}`}const pK=1024,mK=30;class gK{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new yK(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=QC();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>mK){const i=vK(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Fu.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=QC(),{heartbeatsToSend:n,unsentEntries:r}=xK(this._heartbeatsCache.heartbeats),i=t2(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return Fu.warn(e),""}}}function QC(){return new Date().toISOString().substring(0,10)}function xK(t,e=pK){const n=[];let r=t.slice();for(const i of t){const s=n.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),ZC(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),ZC(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class yK{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return CM()?i$().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await hK(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return JC(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return JC(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function ZC(t){return t2(JSON.stringify({version:2,heartbeats:t})).length}function vK(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function bK(t){bp(new ah("platform-logger",e=>new R$(e),"PRIVATE")),bp(new ah("heartbeat",e=>new gK(e),"PRIVATE")),$f(l5,YC,t),$f(l5,YC,"esm2020"),$f("fire-js","")}bK("");function MM(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const _K=MM,LM=new y1("auth","Firebase",MM());const n2=new lE("@firebase/auth");function wK(t,...e){n2.logLevel<=ur.WARN&&n2.warn(`Auth (${Hp}): ${t}`,...e)}function _y(t,...e){n2.logLevel<=ur.ERROR&&n2.error(`Auth (${Hp}): ${t}`,...e)}function Ql(t,...e){throw dE(t,...e)}function Mc(t,...e){return dE(t,...e)}function FM(t,e,n){const r={..._K(),[e]:n};return new y1("auth","Firebase",r).create(e,{appName:t.name})}function ku(t){return FM(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function dE(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return LM.create(t,...e)}function In(t,e,...n){if(!t)throw dE(e,...n)}function Tu(t){const e="INTERNAL ASSERTION FAILED: "+t;throw _y(e),new Error(e)}function Ou(t,e){t||Tu(e)}function f5(){return typeof self<"u"&&self.location?.href||""}function TK(){return eI()==="http:"||eI()==="https:"}function eI(){return typeof self<"u"&&self.location?.protocol||null}function EK(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(TK()||t$()||"connection"in navigator)?navigator.onLine:!0}function SK(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class b1{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ou(n>e,"Short delay should be less than long delay!"),this.isMobile=ZW()||n$()}get(){return EK()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function hE(t,e){Ou(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class OM{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Tu("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Tu("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Tu("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const AK={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const NK=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],CK=new b1(3e4,6e4);function od(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function ld(t,e,n,r,i={}){return BM(t,i,async()=>{let s={},a={};r&&(e==="GET"?a=r:s={body:JSON.stringify(r)});const o=v1({key:t.config.apiKey,...a}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const f={method:e,headers:c,...s};return e$()||(f.referrerPolicy="no-referrer"),t.emulatorConfig&&qp(t.emulatorConfig.host)&&(f.credentials="include"),OM.fetch()(await VM(t,t.config.apiHost,n,o),f)})}async function BM(t,e,n){t._canInitEmulator=!1;const r={...AK,...e};try{const i=new kK(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw Bx(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const o=s.ok?a.errorMessage:a.error.message,[c,f]=o.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Bx(t,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw Bx(t,"email-already-in-use",a);if(c==="USER_DISABLED")throw Bx(t,"user-disabled",a);const d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw FM(t,d,f);Ql(t,d)}}catch(i){if(i instanceof qu)throw i;Ql(t,"network-request-failed",{message:String(i)})}}async function _1(t,e,n,r,i={}){const s=await ld(t,e,n,r,i);return"mfaPendingCredential"in s&&Ql(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function VM(t,e,n,r){const i=`${e}${n}?${r}`,s=t,a=s.config.emulator?hE(t.config,i):`${t.config.apiScheme}://${i}`;return NK.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(a).toString():a}function IK(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class kK{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Mc(this.auth,"network-request-failed")),CK.get())})}}function Bx(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Mc(t,e,r);return i.customData._tokenResponse=n,i}function tI(t){return t!==void 0&&t.enterprise!==void 0}class RK{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return IK(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function PK(t,e){return ld(t,"GET","/v2/recaptchaConfig",od(t,e))}async function DK(t,e){return ld(t,"POST","/v1/accounts:delete",e)}async function r2(t,e){return ld(t,"POST","/v1/accounts:lookup",e)}function pg(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function MK(t,e=!1){const n=Ws(t),r=await n.getIdToken(e),i=pE(r);In(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s?.sign_in_provider;return{claims:i,token:r,authTime:pg(w_(i.auth_time)),issuedAtTime:pg(w_(i.iat)),expirationTime:pg(w_(i.exp)),signInProvider:a||null,signInSecondFactor:s?.sign_in_second_factor||null}}function w_(t){return Number(t)*1e3}function pE(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return _y("JWT malformed, contained fewer than 3 sections"),null;try{const i=yM(n);return i?JSON.parse(i):(_y("Failed to decode base64 JWT payload"),null)}catch(i){return _y("Caught error parsing JWT payload as JSON",i?.toString()),null}}function nI(t){const e=pE(t);return In(e,"internal-error"),In(typeof e.exp<"u","internal-error"),In(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Hg(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof qu&&LK(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function LK({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class FK{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class d5{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=pg(this.lastLoginAt),this.creationTime=pg(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function i2(t){const e=t.auth,n=await t.getIdToken(),r=await Hg(t,r2(e,{idToken:n}));In(r?.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const s=i.providerUserInfo?.length?UM(i.providerUserInfo):[],a=BK(t.providerData,s),o=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!a?.length,f=o?c:!1,d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new d5(i.createdAt,i.lastLoginAt),isAnonymous:f};Object.assign(t,d)}async function OK(t){const e=Ws(t);await i2(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function BK(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function UM(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function VK(t,e){const n=await BM(t,{},async()=>{const r=v1({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,a=await VM(t,i,"/v1/token",`key=${s}`),o=await t._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:o,body:r};return t.emulatorConfig&&qp(t.emulatorConfig.host)&&(c.credentials="include"),OM.fetch()(a,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function UK(t,e){return ld(t,"POST","/v2/accounts:revokeToken",od(t,e))}class np{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){In(e.idToken,"internal-error"),In(typeof e.idToken<"u","internal-error"),In(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):nI(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){In(e.length!==0,"internal-error");const n=nI(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(In(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await VK(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,a=new np;return r&&(In(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(In(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(In(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new np,this.toJSON())}_performRefresh(){return Tu("not implemented")}}function Ef(t,e){In(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Kl{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new FK(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new d5(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Hg(this,this.stsTokenManager.getToken(this.auth,e));return In(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return MK(this,e)}reload(){return OK(this)}_assign(e){this!==e&&(In(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Kl({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){In(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await i2(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(fl(this.auth.app))return Promise.reject(ku(this.auth));const e=await this.getIdToken();return await Hg(this,DK(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,a=n.photoURL??void 0,o=n.tenantId??void 0,c=n._redirectEventId??void 0,f=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:m,emailVerified:g,isAnonymous:y,providerData:E,stsTokenManager:_}=n;In(m&&_,e,"internal-error");const A=np.fromJSON(this.name,_);In(typeof m=="string",e,"internal-error"),Ef(r,e.name),Ef(i,e.name),In(typeof g=="boolean",e,"internal-error"),In(typeof y=="boolean",e,"internal-error"),Ef(s,e.name),Ef(a,e.name),Ef(o,e.name),Ef(c,e.name),Ef(f,e.name),Ef(d,e.name);const C=new Kl({uid:m,auth:e,email:i,emailVerified:g,displayName:r,isAnonymous:y,photoURL:a,phoneNumber:s,tenantId:o,stsTokenManager:A,createdAt:f,lastLoginAt:d});return E&&Array.isArray(E)&&(C.providerData=E.map(V=>({...V}))),c&&(C._redirectEventId=c),C}static async _fromIdTokenResponse(e,n,r=!1){const i=new np;i.updateFromServerResponse(n);const s=new Kl({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await i2(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];In(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?UM(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!s?.length,o=new np;o.updateFromIdToken(r);const c=new Kl({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new d5(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(c,f),c}}const rI=new Map;function Eu(t){Ou(t instanceof Function,"Expected a class definition");let e=rI.get(t);return e?(Ou(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,rI.set(t,e),e)}class jM{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}jM.type="NONE";const iI=jM;function wy(t,e,n){return`firebase:${t}:${e}:${n}`}class rp{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=wy(this.userKey,i.apiKey,s),this.fullPersistenceKey=wy("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await r2(this.auth,{idToken:e}).catch(()=>{});return n?Kl._fromGetAccountInfoResponse(this.auth,n,e):null}return Kl._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new rp(Eu(iI),e,r);const i=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let s=i[0]||Eu(iI);const a=wy(r,e.config.apiKey,e.name);let o=null;for(const f of n)try{const d=await f._get(a);if(d){let m;if(typeof d=="string"){const g=await r2(e,{idToken:d}).catch(()=>{});if(!g)break;m=await Kl._fromGetAccountInfoResponse(e,g,d)}else m=Kl._fromJSON(e,d);f!==s&&(o=m),s=f;break}}catch{}const c=i.filter(f=>f._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new rp(s,e,r):(s=c[0],o&&await s._set(a,o.toJSON()),await Promise.all(n.map(async f=>{if(f!==s)try{await f._remove(a)}catch{}})),new rp(s,e,r))}}function sI(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(GM(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(qM(e))return"Firefox";if(e.includes("silk/"))return"Silk";if($M(e))return"Blackberry";if(KM(e))return"Webos";if(HM(e))return"Safari";if((e.includes("chrome/")||zM(e))&&!e.includes("edge/"))return"Chrome";if(WM(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function qM(t=Is()){return/firefox\//i.test(t)}function HM(t=Is()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function zM(t=Is()){return/crios\//i.test(t)}function GM(t=Is()){return/iemobile/i.test(t)}function WM(t=Is()){return/android/i.test(t)}function $M(t=Is()){return/blackberry/i.test(t)}function KM(t=Is()){return/webos/i.test(t)}function mE(t=Is()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function jK(t=Is()){return mE(t)&&!!window.navigator?.standalone}function qK(){return r$()&&document.documentMode===10}function YM(t=Is()){return mE(t)||WM(t)||KM(t)||$M(t)||/windows phone/i.test(t)||GM(t)}function XM(t,e=[]){let n;switch(t){case"Browser":n=sI(Is());break;case"Worker":n=`${sI(Is())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Hp}/${r}`}class HK{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((a,o)=>{try{const c=e(s);a(c)}catch(c){o(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function zK(t,e={}){return ld(t,"GET","/v2/passwordPolicy",od(t,e))}const GK=6;class WK{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??GK,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}class $K{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new aI(this),this.idTokenSubscription=new aI(this),this.beforeStateQueue=new HK(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=LM,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Eu(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await rp.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await r2(this,{idToken:e}),r=await Kl._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(fl(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=this.redirectUser?._redirectEventId,a=r?._redirectEventId,o=await this.tryRedirectSignIn(e);(!s||s===a)&&o?.user&&(r=o.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return In(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await i2(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=SK()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(fl(this.app))return Promise.reject(ku(this));const n=e?Ws(e):null;return n&&In(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&In(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return fl(this.app)?Promise.reject(ku(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return fl(this.app)?Promise.reject(ku(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Eu(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await zK(this),n=new WK(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new y1("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await UK(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Eu(e)||this._popupRedirectResolver;In(n,this,"argument-error"),this.redirectPersistenceManager=await rp.create(this,[Eu(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(In(o,this,"internal-error"),o.then(()=>{a||s(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,i);return()=>{a=!0,c()}}else{const c=e.addObserver(n);return()=>{a=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return In(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=XM(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(fl(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&wK(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Eh(t){return Ws(t)}class aI{constructor(e){this.auth=e,this.observer=null,this.addObserver=c$(n=>this.observer=n)}get next(){return In(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Z2={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function KK(t){Z2=t}function JM(t){return Z2.loadJS(t)}function YK(){return Z2.recaptchaEnterpriseScript}function XK(){return Z2.gapiScript}function JK(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class QK{constructor(){this.enterprise=new ZK}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class ZK{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const eY="recaptcha-enterprise",QM="NO_RECAPTCHA";class tY{constructor(e){this.type=eY,this.auth=Eh(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,o)=>{PK(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const f=new RK(c);return s.tenantId==null?s._agentRecaptchaConfig=f:s._tenantRecaptchaConfigs[s.tenantId]=f,a(f.siteKey)}}).catch(c=>{o(c)})})}function i(s,a,o){const c=window.grecaptcha;tI(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(f=>{a(f)}).catch(()=>{a(QM)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new QK().execute("siteKey",{action:"verify"}):new Promise((s,a)=>{r(this.auth).then(o=>{if(!n&&tI(window.grecaptcha))i(o,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let c=YK();c.length!==0&&(c+=o),JM(c).then(()=>{i(o,s,a)}).catch(f=>{a(f)})}}).catch(o=>{a(o)})})}}async function oI(t,e,n,r=!1,i=!1){const s=new tY(t);let a;if(i)a=QM;else try{a=await s.verify(n)}catch{a=await s.verify(n,!0)}const o={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in o){const c=o.phoneEnrollmentInfo.phoneNumber,f=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:f,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const c=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return r?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function h5(t,e,n,r,i){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await oI(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await oI(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(s)})}function nY(t,e){const n=uE(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(sh(s,e??{}))return i;Ql(i,"already-initialized")}return n.initialize({options:e})}function rY(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Eu);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function iY(t,e,n){const r=Eh(t);In(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=ZM(e),{host:a,port:o}=sY(e),c=o===null?"":`:${o}`,f={url:`${s}//${a}${c}/`},d=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){In(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),In(sh(f,r.config.emulator)&&sh(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,qp(a)?(TM(`${s}//${a}${c}`),EM("Auth",!0)):aY()}function ZM(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function sY(t){const e=ZM(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:lI(r.substr(s.length+1))}}else{const[s,a]=r.split(":");return{host:s,port:lI(a)}}}function lI(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function aY(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class gE{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Tu("not implemented")}_getIdTokenResponse(e){return Tu("not implemented")}_linkToIdToken(e,n){return Tu("not implemented")}_getReauthenticationResolver(e){return Tu("not implemented")}}async function oY(t,e){return ld(t,"POST","/v1/accounts:signUp",e)}async function lY(t,e){return _1(t,"POST","/v1/accounts:signInWithPassword",od(t,e))}async function cY(t,e){return _1(t,"POST","/v1/accounts:signInWithEmailLink",od(t,e))}async function uY(t,e){return _1(t,"POST","/v1/accounts:signInWithEmailLink",od(t,e))}class zg extends gE{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new zg(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new zg(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return h5(e,n,"signInWithPassword",lY);case"emailLink":return cY(e,{email:this._email,oobCode:this._password});default:Ql(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return h5(e,r,"signUpPassword",oY);case"emailLink":return uY(e,{idToken:n,email:this._email,oobCode:this._password});default:Ql(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function ip(t,e){return _1(t,"POST","/v1/accounts:signInWithIdp",od(t,e))}const fY="http://localhost";class oh extends gE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new oh(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ql("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const a=new oh(r,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return ip(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ip(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ip(e,n)}buildRequest(){const e={requestUri:fY,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=v1(n)}return e}}function dY(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function hY(t){const e=Jm(Qm(t)).link,n=e?Jm(Qm(e)).deep_link_id:null,r=Jm(Qm(t)).deep_link_id;return(r?Jm(Qm(r)).link:null)||r||n||e||t}class xE{constructor(e){const n=Jm(Qm(e)),r=n.apiKey??null,i=n.oobCode??null,s=dY(n.mode??null);In(r&&i&&s,"argument-error"),this.apiKey=r,this.operation=s,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=hY(e);try{return new xE(n)}catch{return null}}}class zp{constructor(){this.providerId=zp.PROVIDER_ID}static credential(e,n){return zg._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=xE.parseLink(n);return In(r,"argument-error"),zg._fromEmailAndCode(e,r.code,r.tenantId)}}zp.PROVIDER_ID="password";zp.EMAIL_PASSWORD_SIGN_IN_METHOD="password";zp.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class eL{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class w1 extends eL{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Df extends w1{constructor(){super("facebook.com")}static credential(e){return oh._fromParams({providerId:Df.PROVIDER_ID,signInMethod:Df.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Df.credentialFromTaggedObject(e)}static credentialFromError(e){return Df.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Df.credential(e.oauthAccessToken)}catch{return null}}}Df.FACEBOOK_SIGN_IN_METHOD="facebook.com";Df.PROVIDER_ID="facebook.com";class Mf extends w1{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return oh._fromParams({providerId:Mf.PROVIDER_ID,signInMethod:Mf.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Mf.credentialFromTaggedObject(e)}static credentialFromError(e){return Mf.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Mf.credential(n,r)}catch{return null}}}Mf.GOOGLE_SIGN_IN_METHOD="google.com";Mf.PROVIDER_ID="google.com";class Lf extends w1{constructor(){super("github.com")}static credential(e){return oh._fromParams({providerId:Lf.PROVIDER_ID,signInMethod:Lf.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Lf.credentialFromTaggedObject(e)}static credentialFromError(e){return Lf.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Lf.credential(e.oauthAccessToken)}catch{return null}}}Lf.GITHUB_SIGN_IN_METHOD="github.com";Lf.PROVIDER_ID="github.com";class Ff extends w1{constructor(){super("twitter.com")}static credential(e,n){return oh._fromParams({providerId:Ff.PROVIDER_ID,signInMethod:Ff.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ff.credentialFromTaggedObject(e)}static credentialFromError(e){return Ff.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ff.credential(n,r)}catch{return null}}}Ff.TWITTER_SIGN_IN_METHOD="twitter.com";Ff.PROVIDER_ID="twitter.com";async function pY(t,e){return _1(t,"POST","/v1/accounts:signUp",od(t,e))}class lh{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Kl._fromIdTokenResponse(e,r,i),a=cI(r);return new lh({user:s,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=cI(r);return new lh({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function cI(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class s2 extends qu{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,s2.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new s2(e,n,r,i)}}function tL(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?s2._fromErrorAndOperation(t,s,e,r):s})}async function mY(t,e,n=!1){const r=await Hg(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return lh._forOperation(t,"link",r)}async function gY(t,e,n=!1){const{auth:r}=t;if(fl(r.app))return Promise.reject(ku(r));const i="reauthenticate";try{const s=await Hg(t,tL(r,i,e,t),n);In(s.idToken,r,"internal-error");const a=pE(s.idToken);In(a,r,"internal-error");const{sub:o}=a;return In(t.uid===o,r,"user-mismatch"),lh._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&Ql(r,"user-mismatch"),s}}async function nL(t,e,n=!1){if(fl(t.app))return Promise.reject(ku(t));const r="signIn",i=await tL(t,r,e),s=await lh._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function xY(t,e){return nL(Eh(t),e)}async function rL(t){const e=Eh(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function yY(t,e,n){if(fl(t.app))return Promise.reject(ku(t));const r=Eh(t),a=await h5(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",pY).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&rL(t),c}),o=await lh._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(o.user),o}function vY(t,e,n){return fl(t.app)?Promise.reject(ku(t)):xY(Ws(t),zp.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&rL(t),r})}function bY(t,e,n,r){return Ws(t).onIdTokenChanged(e,n,r)}function _Y(t,e,n){return Ws(t).beforeAuthStateChanged(e,n)}function wY(t,e,n,r){return Ws(t).onAuthStateChanged(e,n,r)}function TY(t){return Ws(t).signOut()}const a2="__sak";class iL{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(a2,"1"),this.storage.removeItem(a2),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const EY=1e3,SY=10;class sL extends iL{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=YM(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,o,c)=>{this.notifyListeners(a,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);qK()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,SY):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},EY)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}sL.type="LOCAL";const AY=sL;class aL extends iL{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}aL.type="SESSION";const oL=aL;function NY(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class ev{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new ev(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,a=this.handlersMap[i];if(!a?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const o=Array.from(a).map(async f=>f(n.origin,s)),c=await NY(o);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ev.receivers=[];function yE(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}class CY{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((o,c)=>{const f=yE("",20);i.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(m){const g=m;if(g.data.eventId===f)switch(g.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),o(g.data.response);break;default:clearTimeout(d),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}function Lc(){return window}function IY(t){Lc().location.href=t}function lL(){return typeof Lc().WorkerGlobalScope<"u"&&typeof Lc().importScripts=="function"}async function kY(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function RY(){return navigator?.serviceWorker?.controller||null}function PY(){return lL()?self:null}const cL="firebaseLocalStorageDb",DY=1,o2="firebaseLocalStorage",uL="fbase_key";class T1{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function tv(t,e){return t.transaction([o2],e?"readwrite":"readonly").objectStore(o2)}function MY(){const t=indexedDB.deleteDatabase(cL);return new T1(t).toPromise()}function p5(){const t=indexedDB.open(cL,DY);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(o2,{keyPath:uL})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(o2)?e(r):(r.close(),await MY(),e(await p5()))})})}async function uI(t,e,n){const r=tv(t,!0).put({[uL]:e,value:n});return new T1(r).toPromise()}async function LY(t,e){const n=tv(t,!1).get(e),r=await new T1(n).toPromise();return r===void 0?null:r.value}function fI(t,e){const n=tv(t,!0).delete(e);return new T1(n).toPromise()}const FY=800,OY=3;class fL{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await p5(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>OY)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return lL()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ev._getInstance(PY()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await kY(),!this.activeServiceWorker)return;this.sender=new CY(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||RY()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await p5();return await uI(e,a2,"1"),await fI(e,a2),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>uI(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>LY(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>fI(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=tv(i,!1).getAll();return new T1(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),FY)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}fL.type="LOCAL";const BY=fL;new b1(3e4,6e4);function VY(t,e){return e?Eu(e):(In(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class vE extends gE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ip(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ip(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ip(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function UY(t){return nL(t.auth,new vE(t),t.bypassAuthState)}function jY(t){const{auth:e,user:n}=t;return In(n,e,"internal-error"),gY(n,new vE(t),t.bypassAuthState)}async function qY(t){const{auth:e,user:n}=t;return In(n,e,"internal-error"),mY(n,new vE(t),t.bypassAuthState)}class dL{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:a,type:o}=e;if(a){this.reject(a);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(c))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return UY;case"linkViaPopup":case"linkViaRedirect":return qY;case"reauthViaPopup":case"reauthViaRedirect":return jY;default:Ql(this.auth,"internal-error")}}resolve(e){Ou(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ou(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const HY=new b1(2e3,1e4);class $0 extends dL{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,$0.currentPopupAction&&$0.currentPopupAction.cancel(),$0.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return In(e,this.auth,"internal-error"),e}async onExecution(){Ou(this.filter.length===1,"Popup operations only handle one event");const e=yE();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Mc(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Mc(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,$0.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Mc(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,HY.get())};e()}}$0.currentPopupAction=null;const zY="pendingRedirect",Ty=new Map;class GY extends dL{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Ty.get(this.auth._key());if(!e){try{const r=await WY(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Ty.set(this.auth._key(),e)}return this.bypassAuthState||Ty.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function WY(t,e){const n=YY(e),r=KY(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function $Y(t,e){Ty.set(t._key(),e)}function KY(t){return Eu(t._redirectPersistence)}function YY(t){return wy(zY,t.config.apiKey,t.name)}async function XY(t,e,n=!1){if(fl(t.app))return Promise.reject(ku(t));const r=Eh(t),i=VY(r,e),a=await new GY(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}const JY=600*1e3;class QY{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!ZY(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!hL(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Mc(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=JY&&this.cachedEventUids.clear(),this.cachedEventUids.has(dI(e))}saveEventToCache(e){this.cachedEventUids.add(dI(e)),this.lastProcessedEventTime=Date.now()}}function dI(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function hL({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function ZY(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return hL(t);default:return!1}}async function eX(t,e={}){return ld(t,"GET","/v1/projects",e)}const tX=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,nX=/^https?/;async function rX(t){if(t.config.emulator)return;const{authorizedDomains:e}=await eX(t);for(const n of e)try{if(iX(n))return}catch{}Ql(t,"unauthorized-domain")}function iX(t){const e=f5(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!nX.test(n))return!1;if(tX.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const sX=new b1(3e4,6e4);function hI(){const t=Lc().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function aX(t){return new Promise((e,n)=>{function r(){hI(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{hI(),n(Mc(t,"network-request-failed"))},timeout:sX.get()})}if(Lc().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Lc().gapi?.load)r();else{const i=JK("iframefcb");return Lc()[i]=()=>{gapi.load?r():n(Mc(t,"network-request-failed"))},JM(`${XK()}?onload=${i}`).catch(s=>n(s))}}).catch(e=>{throw Ey=null,e})}let Ey=null;function oX(t){return Ey=Ey||aX(t),Ey}const lX=new b1(5e3,15e3),cX="__/auth/iframe",uX="emulator/auth/iframe",fX={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},dX=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function hX(t){const e=t.config;In(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?hE(e,uX):`https://${t.config.authDomain}/${cX}`,r={apiKey:e.apiKey,appName:t.name,v:Hp},i=dX.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${v1(r).slice(1)}`}async function pX(t){const e=await oX(t),n=Lc().gapi;return In(n,t,"internal-error"),e.open({where:document.body,url:hX(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:fX,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const a=Mc(t,"network-request-failed"),o=Lc().setTimeout(()=>{s(a)},lX.get());function c(){Lc().clearTimeout(o),i(r)}r.ping(c).then(c,()=>{s(a)})}))}const mX={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},gX=500,xX=600,yX="_blank",vX="http://localhost";class pI{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function bX(t,e,n,r=gX,i=xX){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const c={...mX,width:r.toString(),height:i.toString(),top:s,left:a},f=Is().toLowerCase();n&&(o=zM(f)?yX:n),qM(f)&&(e=e||vX,c.scrollbars="yes");const d=Object.entries(c).reduce((g,[y,E])=>`${g}${y}=${E},`,"");if(jK(f)&&o!=="_self")return _X(e||"",o),new pI(null);const m=window.open(e||"",o,d);In(m,t,"popup-blocked");try{m.focus()}catch{}return new pI(m)}function _X(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const wX="__/auth/handler",TX="emulator/auth/handler",EX=encodeURIComponent("fac");async function mI(t,e,n,r,i,s){In(t.config.authDomain,t,"auth-domain-config-required"),In(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Hp,eventId:i};if(e instanceof eL){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",l$(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,m]of Object.entries({}))a[d]=m}if(e instanceof w1){const d=e.getScopes().filter(m=>m!=="");d.length>0&&(a.scopes=d.join(","))}t.tenantId&&(a.tid=t.tenantId);const o=a;for(const d of Object.keys(o))o[d]===void 0&&delete o[d];const c=await t._getAppCheckToken(),f=c?`#${EX}=${encodeURIComponent(c)}`:"";return`${SX(t)}?${v1(o).slice(1)}${f}`}function SX({config:t}){return t.emulator?hE(t,TX):`https://${t.authDomain}/${wX}`}const T_="webStorageSupport";class AX{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=oL,this._completeRedirectFn=XY,this._overrideRedirectResult=$Y}async _openPopup(e,n,r,i){Ou(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const s=await mI(e,n,r,f5(),i);return bX(e,s,yE())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await mI(e,n,r,f5(),i);return IY(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Ou(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await pX(e),r=new QY(e);return n.register("authEvent",i=>(In(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(T_,{type:T_},i=>{const s=i?.[0]?.[T_];s!==void 0&&n(!!s),Ql(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=rX(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return YM()||HM()||mE()}}const NX=AX;var gI="@firebase/auth",xI="1.11.1";class CX{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){In(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function IX(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function kX(t){bp(new ah("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;In(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:a,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:XM(t)},f=new $K(r,i,s,c);return rY(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),bp(new ah("auth-internal",e=>{const n=Eh(e.getProvider("auth").getImmediate());return(r=>new CX(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),$f(gI,xI,IX(t)),$f(gI,xI,"esm2020")}const RX=300,PX=wM("authIdTokenMaxAge")||RX;let yI=null;const DX=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>PX)return;const i=n?.token;yI!==i&&(yI=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function MX(t=fE()){const e=uE(t,"auth");if(e.isInitialized())return e.getImmediate();const n=nY(t,{popupRedirectResolver:NX,persistence:[BY,AY,oL]}),r=wM("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const a=DX(s.toString());_Y(n,a,()=>a(n.currentUser)),bY(n,o=>a(o))}}const i=bM("auth");return i&&iY(n,`http://${i}`),n}function LX(){return document.getElementsByTagName("head")?.[0]??document}KK({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Mc("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",LX().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});kX("Browser");var FX="firebase",OX="12.6.0";$f(FX,OX,"app");var vI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Kf,pL;(function(){var t;function e(D,L){function k(){}k.prototype=L.prototype,D.F=L.prototype,D.prototype=new k,D.prototype.constructor=D,D.D=function(q,P,M){for(var j=Array(arguments.length-2),ae=2;ae<arguments.length;ae++)j[ae-2]=arguments[ae];return L.prototype[P].apply(q,j)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,L,k){k||(k=0);const q=Array(16);if(typeof L=="string")for(var P=0;P<16;++P)q[P]=L.charCodeAt(k++)|L.charCodeAt(k++)<<8|L.charCodeAt(k++)<<16|L.charCodeAt(k++)<<24;else for(P=0;P<16;++P)q[P]=L[k++]|L[k++]<<8|L[k++]<<16|L[k++]<<24;L=D.g[0],k=D.g[1],P=D.g[2];let M=D.g[3],j;j=L+(M^k&(P^M))+q[0]+3614090360&4294967295,L=k+(j<<7&4294967295|j>>>25),j=M+(P^L&(k^P))+q[1]+3905402710&4294967295,M=L+(j<<12&4294967295|j>>>20),j=P+(k^M&(L^k))+q[2]+606105819&4294967295,P=M+(j<<17&4294967295|j>>>15),j=k+(L^P&(M^L))+q[3]+3250441966&4294967295,k=P+(j<<22&4294967295|j>>>10),j=L+(M^k&(P^M))+q[4]+4118548399&4294967295,L=k+(j<<7&4294967295|j>>>25),j=M+(P^L&(k^P))+q[5]+1200080426&4294967295,M=L+(j<<12&4294967295|j>>>20),j=P+(k^M&(L^k))+q[6]+2821735955&4294967295,P=M+(j<<17&4294967295|j>>>15),j=k+(L^P&(M^L))+q[7]+4249261313&4294967295,k=P+(j<<22&4294967295|j>>>10),j=L+(M^k&(P^M))+q[8]+1770035416&4294967295,L=k+(j<<7&4294967295|j>>>25),j=M+(P^L&(k^P))+q[9]+2336552879&4294967295,M=L+(j<<12&4294967295|j>>>20),j=P+(k^M&(L^k))+q[10]+4294925233&4294967295,P=M+(j<<17&4294967295|j>>>15),j=k+(L^P&(M^L))+q[11]+2304563134&4294967295,k=P+(j<<22&4294967295|j>>>10),j=L+(M^k&(P^M))+q[12]+1804603682&4294967295,L=k+(j<<7&4294967295|j>>>25),j=M+(P^L&(k^P))+q[13]+4254626195&4294967295,M=L+(j<<12&4294967295|j>>>20),j=P+(k^M&(L^k))+q[14]+2792965006&4294967295,P=M+(j<<17&4294967295|j>>>15),j=k+(L^P&(M^L))+q[15]+1236535329&4294967295,k=P+(j<<22&4294967295|j>>>10),j=L+(P^M&(k^P))+q[1]+4129170786&4294967295,L=k+(j<<5&4294967295|j>>>27),j=M+(k^P&(L^k))+q[6]+3225465664&4294967295,M=L+(j<<9&4294967295|j>>>23),j=P+(L^k&(M^L))+q[11]+643717713&4294967295,P=M+(j<<14&4294967295|j>>>18),j=k+(M^L&(P^M))+q[0]+3921069994&4294967295,k=P+(j<<20&4294967295|j>>>12),j=L+(P^M&(k^P))+q[5]+3593408605&4294967295,L=k+(j<<5&4294967295|j>>>27),j=M+(k^P&(L^k))+q[10]+38016083&4294967295,M=L+(j<<9&4294967295|j>>>23),j=P+(L^k&(M^L))+q[15]+3634488961&4294967295,P=M+(j<<14&4294967295|j>>>18),j=k+(M^L&(P^M))+q[4]+3889429448&4294967295,k=P+(j<<20&4294967295|j>>>12),j=L+(P^M&(k^P))+q[9]+568446438&4294967295,L=k+(j<<5&4294967295|j>>>27),j=M+(k^P&(L^k))+q[14]+3275163606&4294967295,M=L+(j<<9&4294967295|j>>>23),j=P+(L^k&(M^L))+q[3]+4107603335&4294967295,P=M+(j<<14&4294967295|j>>>18),j=k+(M^L&(P^M))+q[8]+1163531501&4294967295,k=P+(j<<20&4294967295|j>>>12),j=L+(P^M&(k^P))+q[13]+2850285829&4294967295,L=k+(j<<5&4294967295|j>>>27),j=M+(k^P&(L^k))+q[2]+4243563512&4294967295,M=L+(j<<9&4294967295|j>>>23),j=P+(L^k&(M^L))+q[7]+1735328473&4294967295,P=M+(j<<14&4294967295|j>>>18),j=k+(M^L&(P^M))+q[12]+2368359562&4294967295,k=P+(j<<20&4294967295|j>>>12),j=L+(k^P^M)+q[5]+4294588738&4294967295,L=k+(j<<4&4294967295|j>>>28),j=M+(L^k^P)+q[8]+2272392833&4294967295,M=L+(j<<11&4294967295|j>>>21),j=P+(M^L^k)+q[11]+1839030562&4294967295,P=M+(j<<16&4294967295|j>>>16),j=k+(P^M^L)+q[14]+4259657740&4294967295,k=P+(j<<23&4294967295|j>>>9),j=L+(k^P^M)+q[1]+2763975236&4294967295,L=k+(j<<4&4294967295|j>>>28),j=M+(L^k^P)+q[4]+1272893353&4294967295,M=L+(j<<11&4294967295|j>>>21),j=P+(M^L^k)+q[7]+4139469664&4294967295,P=M+(j<<16&4294967295|j>>>16),j=k+(P^M^L)+q[10]+3200236656&4294967295,k=P+(j<<23&4294967295|j>>>9),j=L+(k^P^M)+q[13]+681279174&4294967295,L=k+(j<<4&4294967295|j>>>28),j=M+(L^k^P)+q[0]+3936430074&4294967295,M=L+(j<<11&4294967295|j>>>21),j=P+(M^L^k)+q[3]+3572445317&4294967295,P=M+(j<<16&4294967295|j>>>16),j=k+(P^M^L)+q[6]+76029189&4294967295,k=P+(j<<23&4294967295|j>>>9),j=L+(k^P^M)+q[9]+3654602809&4294967295,L=k+(j<<4&4294967295|j>>>28),j=M+(L^k^P)+q[12]+3873151461&4294967295,M=L+(j<<11&4294967295|j>>>21),j=P+(M^L^k)+q[15]+530742520&4294967295,P=M+(j<<16&4294967295|j>>>16),j=k+(P^M^L)+q[2]+3299628645&4294967295,k=P+(j<<23&4294967295|j>>>9),j=L+(P^(k|~M))+q[0]+4096336452&4294967295,L=k+(j<<6&4294967295|j>>>26),j=M+(k^(L|~P))+q[7]+1126891415&4294967295,M=L+(j<<10&4294967295|j>>>22),j=P+(L^(M|~k))+q[14]+2878612391&4294967295,P=M+(j<<15&4294967295|j>>>17),j=k+(M^(P|~L))+q[5]+4237533241&4294967295,k=P+(j<<21&4294967295|j>>>11),j=L+(P^(k|~M))+q[12]+1700485571&4294967295,L=k+(j<<6&4294967295|j>>>26),j=M+(k^(L|~P))+q[3]+2399980690&4294967295,M=L+(j<<10&4294967295|j>>>22),j=P+(L^(M|~k))+q[10]+4293915773&4294967295,P=M+(j<<15&4294967295|j>>>17),j=k+(M^(P|~L))+q[1]+2240044497&4294967295,k=P+(j<<21&4294967295|j>>>11),j=L+(P^(k|~M))+q[8]+1873313359&4294967295,L=k+(j<<6&4294967295|j>>>26),j=M+(k^(L|~P))+q[15]+4264355552&4294967295,M=L+(j<<10&4294967295|j>>>22),j=P+(L^(M|~k))+q[6]+2734768916&4294967295,P=M+(j<<15&4294967295|j>>>17),j=k+(M^(P|~L))+q[13]+1309151649&4294967295,k=P+(j<<21&4294967295|j>>>11),j=L+(P^(k|~M))+q[4]+4149444226&4294967295,L=k+(j<<6&4294967295|j>>>26),j=M+(k^(L|~P))+q[11]+3174756917&4294967295,M=L+(j<<10&4294967295|j>>>22),j=P+(L^(M|~k))+q[2]+718787259&4294967295,P=M+(j<<15&4294967295|j>>>17),j=k+(M^(P|~L))+q[9]+3951481745&4294967295,D.g[0]=D.g[0]+L&4294967295,D.g[1]=D.g[1]+(P+(j<<21&4294967295|j>>>11))&4294967295,D.g[2]=D.g[2]+P&4294967295,D.g[3]=D.g[3]+M&4294967295}r.prototype.v=function(D,L){L===void 0&&(L=D.length);const k=L-this.blockSize,q=this.C;let P=this.h,M=0;for(;M<L;){if(P==0)for(;M<=k;)i(this,D,M),M+=this.blockSize;if(typeof D=="string"){for(;M<L;)if(q[P++]=D.charCodeAt(M++),P==this.blockSize){i(this,q),P=0;break}}else for(;M<L;)if(q[P++]=D[M++],P==this.blockSize){i(this,q),P=0;break}}this.h=P,this.o+=L},r.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var L=1;L<D.length-8;++L)D[L]=0;L=this.o*8;for(var k=D.length-8;k<D.length;++k)D[k]=L&255,L/=256;for(this.v(D),D=Array(16),L=0,k=0;k<4;++k)for(let q=0;q<32;q+=8)D[L++]=this.g[k]>>>q&255;return D};function s(D,L){var k=o;return Object.prototype.hasOwnProperty.call(k,D)?k[D]:k[D]=L(D)}function a(D,L){this.h=L;const k=[];let q=!0;for(let P=D.length-1;P>=0;P--){const M=D[P]|0;q&&M==L||(k[P]=M,q=!1)}this.g=k}var o={};function c(D){return-128<=D&&D<128?s(D,function(L){return new a([L|0],L<0?-1:0)}):new a([D|0],D<0?-1:0)}function f(D){if(isNaN(D)||!isFinite(D))return m;if(D<0)return A(f(-D));const L=[];let k=1;for(let q=0;D>=k;q++)L[q]=D/k|0,k*=4294967296;return new a(L,0)}function d(D,L){if(D.length==0)throw Error("number format error: empty string");if(L=L||10,L<2||36<L)throw Error("radix out of range: "+L);if(D.charAt(0)=="-")return A(d(D.substring(1),L));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const k=f(Math.pow(L,8));let q=m;for(let M=0;M<D.length;M+=8){var P=Math.min(8,D.length-M);const j=parseInt(D.substring(M,M+P),L);P<8?(P=f(Math.pow(L,P)),q=q.j(P).add(f(j))):(q=q.j(k),q=q.add(f(j)))}return q}var m=c(0),g=c(1),y=c(16777216);t=a.prototype,t.m=function(){if(_(this))return-A(this).m();let D=0,L=1;for(let k=0;k<this.g.length;k++){const q=this.i(k);D+=(q>=0?q:4294967296+q)*L,L*=4294967296}return D},t.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(E(this))return"0";if(_(this))return"-"+A(this).toString(D);const L=f(Math.pow(D,6));var k=this;let q="";for(;;){const P=F(k,L).g;k=C(k,P.j(L));let M=((k.g.length>0?k.g[0]:k.h)>>>0).toString(D);if(k=P,E(k))return M+q;for(;M.length<6;)M="0"+M;q=M+q}},t.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function E(D){if(D.h!=0)return!1;for(let L=0;L<D.g.length;L++)if(D.g[L]!=0)return!1;return!0}function _(D){return D.h==-1}t.l=function(D){return D=C(this,D),_(D)?-1:E(D)?0:1};function A(D){const L=D.g.length,k=[];for(let q=0;q<L;q++)k[q]=~D.g[q];return new a(k,~D.h).add(g)}t.abs=function(){return _(this)?A(this):this},t.add=function(D){const L=Math.max(this.g.length,D.g.length),k=[];let q=0;for(let P=0;P<=L;P++){let M=q+(this.i(P)&65535)+(D.i(P)&65535),j=(M>>>16)+(this.i(P)>>>16)+(D.i(P)>>>16);q=j>>>16,M&=65535,j&=65535,k[P]=j<<16|M}return new a(k,k[k.length-1]&-2147483648?-1:0)};function C(D,L){return D.add(A(L))}t.j=function(D){if(E(this)||E(D))return m;if(_(this))return _(D)?A(this).j(A(D)):A(A(this).j(D));if(_(D))return A(this.j(A(D)));if(this.l(y)<0&&D.l(y)<0)return f(this.m()*D.m());const L=this.g.length+D.g.length,k=[];for(var q=0;q<2*L;q++)k[q]=0;for(q=0;q<this.g.length;q++)for(let P=0;P<D.g.length;P++){const M=this.i(q)>>>16,j=this.i(q)&65535,ae=D.i(P)>>>16,Ae=D.i(P)&65535;k[2*q+2*P]+=j*Ae,V(k,2*q+2*P),k[2*q+2*P+1]+=M*Ae,V(k,2*q+2*P+1),k[2*q+2*P+1]+=j*ae,V(k,2*q+2*P+1),k[2*q+2*P+2]+=M*ae,V(k,2*q+2*P+2)}for(D=0;D<L;D++)k[D]=k[2*D+1]<<16|k[2*D];for(D=L;D<2*L;D++)k[D]=0;return new a(k,0)};function V(D,L){for(;(D[L]&65535)!=D[L];)D[L+1]+=D[L]>>>16,D[L]&=65535,L++}function R(D,L){this.g=D,this.h=L}function F(D,L){if(E(L))throw Error("division by zero");if(E(D))return new R(m,m);if(_(D))return L=F(A(D),L),new R(A(L.g),A(L.h));if(_(L))return L=F(D,A(L)),new R(A(L.g),L.h);if(D.g.length>30){if(_(D)||_(L))throw Error("slowDivide_ only works with positive integers.");for(var k=g,q=L;q.l(D)<=0;)k=z(k),q=z(q);var P=W(k,1),M=W(q,1);for(q=W(q,2),k=W(k,2);!E(q);){var j=M.add(q);j.l(D)<=0&&(P=P.add(k),M=j),q=W(q,1),k=W(k,1)}return L=C(D,P.j(L)),new R(P,L)}for(P=m;D.l(L)>=0;){for(k=Math.max(1,Math.floor(D.m()/L.m())),q=Math.ceil(Math.log(k)/Math.LN2),q=q<=48?1:Math.pow(2,q-48),M=f(k),j=M.j(L);_(j)||j.l(D)>0;)k-=q,M=f(k),j=M.j(L);E(M)&&(M=g),P=P.add(M),D=C(D,j)}return new R(P,D)}t.B=function(D){return F(this,D).h},t.and=function(D){const L=Math.max(this.g.length,D.g.length),k=[];for(let q=0;q<L;q++)k[q]=this.i(q)&D.i(q);return new a(k,this.h&D.h)},t.or=function(D){const L=Math.max(this.g.length,D.g.length),k=[];for(let q=0;q<L;q++)k[q]=this.i(q)|D.i(q);return new a(k,this.h|D.h)},t.xor=function(D){const L=Math.max(this.g.length,D.g.length),k=[];for(let q=0;q<L;q++)k[q]=this.i(q)^D.i(q);return new a(k,this.h^D.h)};function z(D){const L=D.g.length+1,k=[];for(let q=0;q<L;q++)k[q]=D.i(q)<<1|D.i(q-1)>>>31;return new a(k,D.h)}function W(D,L){const k=L>>5;L%=32;const q=D.g.length-k,P=[];for(let M=0;M<q;M++)P[M]=L>0?D.i(M+k)>>>L|D.i(M+k+1)<<32-L:D.i(M+k);return new a(P,D.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,pL=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.B,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=f,a.fromString=d,Kf=a}).apply(typeof vI<"u"?vI:typeof self<"u"?self:typeof window<"u"?window:{});var Vx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var mL,Zm,gL,Sy,m5,xL,yL,vL;(function(){var t,e=Object.defineProperty;function n(w){w=[typeof globalThis=="object"&&globalThis,w,typeof window=="object"&&window,typeof self=="object"&&self,typeof Vx=="object"&&Vx];for(var H=0;H<w.length;++H){var J=w[H];if(J&&J.Math==Math)return J}throw Error("Cannot find global object")}var r=n(this);function i(w,H){if(H)e:{var J=r;w=w.split(".");for(var pe=0;pe<w.length-1;pe++){var Ge=w[pe];if(!(Ge in J))break e;J=J[Ge]}w=w[w.length-1],pe=J[w],H=H(pe),H!=pe&&H!=null&&e(J,w,{configurable:!0,writable:!0,value:H})}}i("Symbol.dispose",function(w){return w||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(w){return w||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(w){return w||function(H){var J=[],pe;for(pe in H)Object.prototype.hasOwnProperty.call(H,pe)&&J.push([pe,H[pe]]);return J}});var s=s||{},a=this||self;function o(w){var H=typeof w;return H=="object"&&w!=null||H=="function"}function c(w,H,J){return w.call.apply(w.bind,arguments)}function f(w,H,J){return f=c,f.apply(null,arguments)}function d(w,H){var J=Array.prototype.slice.call(arguments,1);return function(){var pe=J.slice();return pe.push.apply(pe,arguments),w.apply(this,pe)}}function m(w,H){function J(){}J.prototype=H.prototype,w.Z=H.prototype,w.prototype=new J,w.prototype.constructor=w,w.Ob=function(pe,Ge,et){for(var kt=Array(arguments.length-2),kn=2;kn<arguments.length;kn++)kt[kn-2]=arguments[kn];return H.prototype[Ge].apply(pe,kt)}}var g=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?w=>w&&AsyncContext.Snapshot.wrap(w):w=>w;function y(w){const H=w.length;if(H>0){const J=Array(H);for(let pe=0;pe<H;pe++)J[pe]=w[pe];return J}return[]}function E(w,H){for(let pe=1;pe<arguments.length;pe++){const Ge=arguments[pe];var J=typeof Ge;if(J=J!="object"?J:Ge?Array.isArray(Ge)?"array":J:"null",J=="array"||J=="object"&&typeof Ge.length=="number"){J=w.length||0;const et=Ge.length||0;w.length=J+et;for(let kt=0;kt<et;kt++)w[J+kt]=Ge[kt]}else w.push(Ge)}}class _{constructor(H,J){this.i=H,this.j=J,this.h=0,this.g=null}get(){let H;return this.h>0?(this.h--,H=this.g,this.g=H.next,H.next=null):H=this.i(),H}}function A(w){a.setTimeout(()=>{throw w},0)}function C(){var w=D;let H=null;return w.g&&(H=w.g,w.g=w.g.next,w.g||(w.h=null),H.next=null),H}class V{constructor(){this.h=this.g=null}add(H,J){const pe=R.get();pe.set(H,J),this.h?this.h.next=pe:this.g=pe,this.h=pe}}var R=new _(()=>new F,w=>w.reset());class F{constructor(){this.next=this.g=this.h=null}set(H,J){this.h=H,this.g=J,this.next=null}reset(){this.next=this.g=this.h=null}}let z,W=!1,D=new V,L=()=>{const w=Promise.resolve(void 0);z=()=>{w.then(k)}};function k(){for(var w;w=C();){try{w.h.call(w.g)}catch(J){A(J)}var H=R;H.j(w),H.h<100&&(H.h++,w.next=H.g,H.g=w)}W=!1}function q(){this.u=this.u,this.C=this.C}q.prototype.u=!1,q.prototype.dispose=function(){this.u||(this.u=!0,this.N())},q.prototype[Symbol.dispose]=function(){this.dispose()},q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function P(w,H){this.type=w,this.g=this.target=H,this.defaultPrevented=!1}P.prototype.h=function(){this.defaultPrevented=!0};var M=(function(){if(!a.addEventListener||!Object.defineProperty)return!1;var w=!1,H=Object.defineProperty({},"passive",{get:function(){w=!0}});try{const J=()=>{};a.addEventListener("test",J,H),a.removeEventListener("test",J,H)}catch{}return w})();function j(w){return/^[\s\xa0]*$/.test(w)}function ae(w,H){P.call(this,w?w.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,w&&this.init(w,H)}m(ae,P),ae.prototype.init=function(w,H){const J=this.type=w.type,pe=w.changedTouches&&w.changedTouches.length?w.changedTouches[0]:null;this.target=w.target||w.srcElement,this.g=H,H=w.relatedTarget,H||(J=="mouseover"?H=w.fromElement:J=="mouseout"&&(H=w.toElement)),this.relatedTarget=H,pe?(this.clientX=pe.clientX!==void 0?pe.clientX:pe.pageX,this.clientY=pe.clientY!==void 0?pe.clientY:pe.pageY,this.screenX=pe.screenX||0,this.screenY=pe.screenY||0):(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0),this.button=w.button,this.key=w.key||"",this.ctrlKey=w.ctrlKey,this.altKey=w.altKey,this.shiftKey=w.shiftKey,this.metaKey=w.metaKey,this.pointerId=w.pointerId||0,this.pointerType=w.pointerType,this.state=w.state,this.i=w,w.defaultPrevented&&ae.Z.h.call(this)},ae.prototype.h=function(){ae.Z.h.call(this);const w=this.i;w.preventDefault?w.preventDefault():w.returnValue=!1};var Ae="closure_listenable_"+(Math.random()*1e6|0),fe=0;function xe(w,H,J,pe,Ge){this.listener=w,this.proxy=null,this.src=H,this.type=J,this.capture=!!pe,this.ha=Ge,this.key=++fe,this.da=this.fa=!1}function Ne(w){w.da=!0,w.listener=null,w.proxy=null,w.src=null,w.ha=null}function me(w,H,J){for(const pe in w)H.call(J,w[pe],pe,w)}function Re(w,H){for(const J in w)H.call(void 0,w[J],J,w)}function re(w){const H={};for(const J in w)H[J]=w[J];return H}const B="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Y(w,H){let J,pe;for(let Ge=1;Ge<arguments.length;Ge++){pe=arguments[Ge];for(J in pe)w[J]=pe[J];for(let et=0;et<B.length;et++)J=B[et],Object.prototype.hasOwnProperty.call(pe,J)&&(w[J]=pe[J])}}function X(w){this.src=w,this.g={},this.h=0}X.prototype.add=function(w,H,J,pe,Ge){const et=w.toString();w=this.g[et],w||(w=this.g[et]=[],this.h++);const kt=ce(w,H,pe,Ge);return kt>-1?(H=w[kt],J||(H.fa=!1)):(H=new xe(H,this.src,et,!!pe,Ge),H.fa=J,w.push(H)),H};function Q(w,H){const J=H.type;if(J in w.g){var pe=w.g[J],Ge=Array.prototype.indexOf.call(pe,H,void 0),et;(et=Ge>=0)&&Array.prototype.splice.call(pe,Ge,1),et&&(Ne(H),w.g[J].length==0&&(delete w.g[J],w.h--))}}function ce(w,H,J,pe){for(let Ge=0;Ge<w.length;++Ge){const et=w[Ge];if(!et.da&&et.listener==H&&et.capture==!!J&&et.ha==pe)return Ge}return-1}var _e="closure_lm_"+(Math.random()*1e6|0),Pe={};function Z(w,H,J,pe,Ge){if(Array.isArray(H)){for(let et=0;et<H.length;et++)Z(w,H[et],J,pe,Ge);return null}return J=ft(J),w&&w[Ae]?w.J(H,J,o(pe)?!!pe.capture:!1,Ge):Ce(w,H,J,!1,pe,Ge)}function Ce(w,H,J,pe,Ge,et){if(!H)throw Error("Invalid event type");const kt=o(Ge)?!!Ge.capture:!!Ge;let kn=rt(w);if(kn||(w[_e]=kn=new X(w)),J=kn.add(H,J,pe,kt,et),J.proxy)return J;if(pe=qe(),J.proxy=pe,pe.src=w,pe.listener=J,w.addEventListener)M||(Ge=kt),Ge===void 0&&(Ge=!1),w.addEventListener(H.toString(),pe,Ge);else if(w.attachEvent)w.attachEvent(Ye(H.toString()),pe);else if(w.addListener&&w.removeListener)w.addListener(pe);else throw Error("addEventListener and attachEvent are unavailable.");return J}function qe(){function w(J){return H.call(w.src,w.listener,J)}const H=oe;return w}function ee(w,H,J,pe,Ge){if(Array.isArray(H))for(var et=0;et<H.length;et++)ee(w,H[et],J,pe,Ge);else pe=o(pe)?!!pe.capture:!!pe,J=ft(J),w&&w[Ae]?(w=w.i,et=String(H).toString(),et in w.g&&(H=w.g[et],J=ce(H,J,pe,Ge),J>-1&&(Ne(H[J]),Array.prototype.splice.call(H,J,1),H.length==0&&(delete w.g[et],w.h--)))):w&&(w=rt(w))&&(H=w.g[H.toString()],w=-1,H&&(w=ce(H,J,pe,Ge)),(J=w>-1?H[w]:null)&&Ie(J))}function Ie(w){if(typeof w!="number"&&w&&!w.da){var H=w.src;if(H&&H[Ae])Q(H.i,w);else{var J=w.type,pe=w.proxy;H.removeEventListener?H.removeEventListener(J,pe,w.capture):H.detachEvent?H.detachEvent(Ye(J),pe):H.addListener&&H.removeListener&&H.removeListener(pe),(J=rt(H))?(Q(J,w),J.h==0&&(J.src=null,H[_e]=null)):Ne(w)}}}function Ye(w){return w in Pe?Pe[w]:Pe[w]="on"+w}function oe(w,H){if(w.da)w=!0;else{H=new ae(H,this);const J=w.listener,pe=w.ha||w.src;w.fa&&Ie(w),w=J.call(pe,H)}return w}function rt(w){return w=w[_e],w instanceof X?w:null}var st="__closure_events_fn_"+(Math.random()*1e9>>>0);function ft(w){return typeof w=="function"?w:(w[st]||(w[st]=function(H){return w.handleEvent(H)}),w[st])}function tt(){q.call(this),this.i=new X(this),this.M=this,this.G=null}m(tt,q),tt.prototype[Ae]=!0,tt.prototype.removeEventListener=function(w,H,J,pe){ee(this,w,H,J,pe)};function wt(w,H){var J,pe=w.G;if(pe)for(J=[];pe;pe=pe.G)J.push(pe);if(w=w.M,pe=H.type||H,typeof H=="string")H=new P(H,w);else if(H instanceof P)H.target=H.target||w;else{var Ge=H;H=new P(pe,w),Y(H,Ge)}Ge=!0;let et,kt;if(J)for(kt=J.length-1;kt>=0;kt--)et=H.g=J[kt],Ge=At(et,pe,!0,H)&&Ge;if(et=H.g=w,Ge=At(et,pe,!0,H)&&Ge,Ge=At(et,pe,!1,H)&&Ge,J)for(kt=0;kt<J.length;kt++)et=H.g=J[kt],Ge=At(et,pe,!1,H)&&Ge}tt.prototype.N=function(){if(tt.Z.N.call(this),this.i){var w=this.i;for(const H in w.g){const J=w.g[H];for(let pe=0;pe<J.length;pe++)Ne(J[pe]);delete w.g[H],w.h--}}this.G=null},tt.prototype.J=function(w,H,J,pe){return this.i.add(String(w),H,!1,J,pe)},tt.prototype.K=function(w,H,J,pe){return this.i.add(String(w),H,!0,J,pe)};function At(w,H,J,pe){if(H=w.i.g[String(H)],!H)return!0;H=H.concat();let Ge=!0;for(let et=0;et<H.length;++et){const kt=H[et];if(kt&&!kt.da&&kt.capture==J){const kn=kt.listener,Gr=kt.ha||kt.src;kt.fa&&Q(w.i,kt),Ge=kn.call(Gr,pe)!==!1&&Ge}}return Ge&&!pe.defaultPrevented}function Pt(w,H){if(typeof w!="function")if(w&&typeof w.handleEvent=="function")w=f(w.handleEvent,w);else throw Error("Invalid listener argument");return Number(H)>2147483647?-1:a.setTimeout(w,H||0)}function jt(w){w.g=Pt(()=>{w.g=null,w.i&&(w.i=!1,jt(w))},w.l);const H=w.h;w.h=null,w.m.apply(null,H)}class Zt extends q{constructor(H,J){super(),this.m=H,this.l=J,this.h=null,this.i=!1,this.g=null}j(H){this.h=arguments,this.g?this.i=!0:jt(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Gt(w){q.call(this),this.h=w,this.g={}}m(Gt,q);var Wt=[];function Nn(w){me(w.g,function(H,J){this.g.hasOwnProperty(J)&&Ie(H)},w),w.g={}}Gt.prototype.N=function(){Gt.Z.N.call(this),Nn(this)},Gt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var en=a.JSON.stringify,Ft=a.JSON.parse,Rt=class{stringify(w){return a.JSON.stringify(w,void 0)}parse(w){return a.JSON.parse(w,void 0)}};function Nt(){}function qn(){}var Bt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ct(){P.call(this,"d")}m(Ct,P);function zt(){P.call(this,"c")}m(zt,P);var xn={},cn=null;function Jn(){return cn=cn||new tt}xn.Ia="serverreachability";function gn(w){P.call(this,xn.Ia,w)}m(gn,P);function dn(w){const H=Jn();wt(H,new gn(H))}xn.STAT_EVENT="statevent";function ar(w,H){P.call(this,xn.STAT_EVENT,w),this.stat=H}m(ar,P);function un(w){const H=Jn();wt(H,new ar(H,w))}xn.Ja="timingevent";function Yt(w,H){P.call(this,xn.Ja,w),this.size=H}m(Yt,P);function Ln(w,H){if(typeof w!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){w()},H)}function oi(){this.g=!0}oi.prototype.ua=function(){this.g=!1};function li(w,H,J,pe,Ge,et){w.info(function(){if(w.g)if(et){var kt="",kn=et.split("&");for(let Yn=0;Yn<kn.length;Yn++){var Gr=kn[Yn].split("=");if(Gr.length>1){const Nr=Gr[0];Gr=Gr[1];const rs=Nr.split("_");kt=rs.length>=2&&rs[1]=="type"?kt+(Nr+"="+Gr+"&"):kt+(Nr+"=redacted&")}}}else kt=null;else kt=et;return"XMLHTTP REQ ("+pe+") [attempt "+Ge+"]: "+H+`
`+J+`
`+kt})}function Rs(w,H,J,pe,Ge,et,kt){w.info(function(){return"XMLHTTP RESP ("+pe+") [ attempt "+Ge+"]: "+H+`
`+J+`
`+et+" "+kt})}function Zr(w,H,J,pe){w.info(function(){return"XMLHTTP TEXT ("+H+"): "+Le(w,J)+(pe?" "+pe:"")})}function hn(w,H){w.info(function(){return"TIMEOUT: "+H})}oi.prototype.info=function(){};function Le(w,H){if(!w.g)return H;if(!H)return null;try{const et=JSON.parse(H);if(et){for(w=0;w<et.length;w++)if(Array.isArray(et[w])){var J=et[w];if(!(J.length<2)){var pe=J[1];if(Array.isArray(pe)&&!(pe.length<1)){var Ge=pe[0];if(Ge!="noop"&&Ge!="stop"&&Ge!="close")for(let kt=1;kt<pe.length;kt++)pe[kt]=""}}}}return en(et)}catch{return H}}var Lt={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},qt={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},$n;function tn(){}m(tn,Nt),tn.prototype.g=function(){return new XMLHttpRequest},$n=new tn;function Hn(w){return encodeURIComponent(String(w))}function ie(w){var H=1;w=w.split(":");const J=[];for(;H>0&&w.length;)J.push(w.shift()),H--;return w.length&&J.push(w.join(":")),J}function ve(w,H,J,pe){this.j=w,this.i=H,this.l=J,this.S=pe||1,this.V=new Gt(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new he}function he(){this.i=null,this.g="",this.h=!1}var ge={},be={};function we(w,H,J){w.M=1,w.A=Ho(mi(H)),w.u=J,w.R=!0,Ue(w,null)}function Ue(w,H){w.F=Date.now(),Xe(w),w.B=mi(w.A);var J=w.B,pe=w.S;Array.isArray(pe)||(pe=[String(pe)]),rc(J.i,"t",pe),w.C=0,J=w.j.L,w.h=new he,w.g=Jt(w.j,J?H:null,!w.u),w.P>0&&(w.O=new Zt(f(w.Y,w,w.g),w.P)),H=w.V,J=w.g,pe=w.ba;var Ge="readystatechange";Array.isArray(Ge)||(Ge&&(Wt[0]=Ge.toString()),Ge=Wt);for(let et=0;et<Ge.length;et++){const kt=Z(J,Ge[et],pe||H.handleEvent,!1,H.h||H);if(!kt)break;H.g[kt.key]=kt}H=w.J?re(w.J):{},w.u?(w.v||(w.v="POST"),H["Content-Type"]="application/x-www-form-urlencoded",w.g.ea(w.B,w.v,w.u,H)):(w.v="GET",w.g.ea(w.B,w.v,null,H)),dn(),li(w.i,w.v,w.B,w.l,w.S,w.u)}ve.prototype.ba=function(w){w=w.target;const H=this.O;H&&Xs(w)==3?H.j():this.Y(w)},ve.prototype.Y=function(w){try{if(w==this.g)e:{const kn=Xs(this.g),Gr=this.g.ya(),Yn=this.g.ca();if(!(kn<3)&&(kn!=3||this.g&&(this.h.h||this.g.la()||Ai(this.g)))){this.K||kn!=4||Gr==7||(Gr==8||Yn<=0?dn(3):dn(2)),St(this);var H=this.g.ca();this.X=H;var J=at(this);if(this.o=H==200,Rs(this.i,this.v,this.B,this.l,this.S,kn,H),this.o){if(this.U&&!this.L){t:{if(this.g){var pe,Ge=this.g;if((pe=Ge.g?Ge.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!j(pe)){var et=pe;break t}}et=null}if(w=et)Zr(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Dt(this,w);else{this.o=!1,this.m=3,un(12),_t(this),Mt(this);break e}}if(this.R){w=!0;let Nr;for(;!this.K&&this.C<J.length;)if(Nr=ze(this,J),Nr==be){kn==4&&(this.m=4,un(14),w=!1),Zr(this.i,this.l,null,"[Incomplete Response]");break}else if(Nr==ge){this.m=4,un(15),Zr(this.i,this.l,J,"[Invalid Chunk]"),w=!1;break}else Zr(this.i,this.l,Nr,null),Dt(this,Nr);if(Be(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),kn!=4||J.length!=0||this.h.h||(this.m=1,un(16),w=!1),this.o=this.o&&w,!w)Zr(this.i,this.l,J,"[Invalid Chunked Response]"),_t(this),Mt(this);else if(J.length>0&&!this.W){this.W=!0;var kt=this.j;kt.g==this&&kt.aa&&!kt.P&&(kt.j.info("Great, no buffering proxy detected. Bytes received: "+J.length),oc(kt),kt.P=!0,un(11))}}else Zr(this.i,this.l,J,null),Dt(this,J);kn==4&&_t(this),this.o&&!this.K&&(kn==4?Ee(this.j,this):(this.o=!1,Xe(this)))}else Ya(this.g),H==400&&J.indexOf("Unknown SID")>0?(this.m=3,un(12)):(this.m=0,un(13)),_t(this),Mt(this)}}}catch{}finally{}};function at(w){if(!Be(w))return w.g.la();const H=Ai(w.g);if(H==="")return"";let J="";const pe=H.length,Ge=Xs(w.g)==4;if(!w.h.i){if(typeof TextDecoder>"u")return _t(w),Mt(w),"";w.h.i=new a.TextDecoder}for(let et=0;et<pe;et++)w.h.h=!0,J+=w.h.i.decode(H[et],{stream:!(Ge&&et==pe-1)});return H.length=0,w.h.g+=J,w.C=0,w.h.g}function Be(w){return w.g?w.v=="GET"&&w.M!=2&&w.j.Aa:!1}function ze(w,H){var J=w.C,pe=H.indexOf(`
`,J);return pe==-1?be:(J=Number(H.substring(J,pe)),isNaN(J)?ge:(pe+=1,pe+J>H.length?be:(H=H.slice(pe,pe+J),w.C=pe+J,H)))}ve.prototype.cancel=function(){this.K=!0,_t(this)};function Xe(w){w.T=Date.now()+w.H,bt(w,w.H)}function bt(w,H){if(w.D!=null)throw Error("WatchDog timer not null");w.D=Ln(f(w.aa,w),H)}function St(w){w.D&&(a.clearTimeout(w.D),w.D=null)}ve.prototype.aa=function(){this.D=null;const w=Date.now();w-this.T>=0?(hn(this.i,this.B),this.M!=2&&(dn(),un(17)),_t(this),this.m=2,Mt(this)):bt(this,this.T-w)};function Mt(w){w.j.I==0||w.K||Ee(w.j,w)}function _t(w){St(w);var H=w.O;H&&typeof H.dispose=="function"&&H.dispose(),w.O=null,Nn(w.V),w.g&&(H=w.g,w.g=null,H.abort(),H.dispose())}function Dt(w,H){try{var J=w.j;if(J.I!=0&&(J.g==w||Gi(J.h,w))){if(!w.L&&Gi(J.h,w)&&J.I==3){try{var pe=J.Ba.g.parse(H)}catch{pe=null}if(Array.isArray(pe)&&pe.length==3){var Ge=pe;if(Ge[0]==0){e:if(!J.v){if(J.g)if(J.g.F+3e3<w.F)te(J),Ja(J);else break e;La(J),un(18)}}else J.xa=Ge[1],0<J.xa-J.K&&Ge[2]<37500&&J.F&&J.A==0&&!J.C&&(J.C=Ln(f(J.Va,J),6e3));wr(J.h)<=1&&J.ta&&(J.ta=void 0)}else je(J,11)}else if((w.L||J.g==w)&&te(J),!j(H))for(Ge=J.Ba.g.parse(H),H=0;H<Ge.length;H++){let Yn=Ge[H];const Nr=Yn[0];if(!(Nr<=J.K))if(J.K=Nr,Yn=Yn[1],J.I==2)if(Yn[0]=="c"){J.M=Yn[1],J.ba=Yn[2];const rs=Yn[3];rs!=null&&(J.ka=rs,J.j.info("VER="+J.ka));const ms=Yn[4];ms!=null&&(J.za=ms,J.j.info("SVER="+J.za));const Fr=Yn[5];Fr!=null&&typeof Fr=="number"&&Fr>0&&(pe=1.5*Fr,J.O=pe,J.j.info("backChannelRequestTimeoutMs_="+pe)),pe=J;const gs=w.g;if(gs){const Fa=gs.g?gs.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Fa){var et=pe.h;et.g||Fa.indexOf("spdy")==-1&&Fa.indexOf("quic")==-1&&Fa.indexOf("h2")==-1||(et.j=et.l,et.g=new Set,et.h&&($s(et,et.h),et.h=null))}if(pe.G){const Ko=gs.g?gs.g.getResponseHeader("X-HTTP-Session-Id"):null;Ko&&(pe.wa=Ko,or(pe.J,pe.G,Ko))}}J.I=3,J.l&&J.l.ra(),J.aa&&(J.T=Date.now()-w.F,J.j.info("Handshake RTT: "+J.T+"ms")),pe=J;var kt=w;if(pe.na=vt(pe,pe.L?pe.ba:null,pe.W),kt.L){ua(pe.h,kt);var kn=kt,Gr=pe.O;Gr&&(kn.H=Gr),kn.D&&(St(kn),Xe(kn)),pe.g=kt}else Qc(pe);J.i.length>0&&da(J)}else Yn[0]!="stop"&&Yn[0]!="close"||je(J,7);else J.I==3&&(Yn[0]=="stop"||Yn[0]=="close"?Yn[0]=="stop"?je(J,7):$o(J):Yn[0]!="noop"&&J.l&&J.l.qa(Yn),J.A=0)}}dn(4)}catch{}}var Xt=class{constructor(w,H){this.g=w,this.map=H}};function mr(w){this.l=w||10,a.PerformanceNavigationTiming?(w=a.performance.getEntriesByType("navigation"),w=w.length>0&&(w[0].nextHopProtocol=="hq"||w[0].nextHopProtocol=="h2")):w=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=w?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Gn(w){return w.h?!0:w.g?w.g.size>=w.j:!1}function wr(w){return w.h?1:w.g?w.g.size:0}function Gi(w,H){return w.h?w.h==H:w.g?w.g.has(H):!1}function $s(w,H){w.g?w.g.add(H):w.h=H}function ua(w,H){w.h&&w.h==H?w.h=null:w.g&&w.g.has(H)&&w.g.delete(H)}mr.prototype.cancel=function(){if(this.i=Ps(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const w of this.g.values())w.cancel();this.g.clear()}};function Ps(w){if(w.h!=null)return w.i.concat(w.h.G);if(w.g!=null&&w.g.size!==0){let H=w.i;for(const J of w.g.values())H=H.concat(J.G);return H}return y(w.i)}var wo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ei(w,H){if(w){w=w.split("&");for(let J=0;J<w.length;J++){const pe=w[J].indexOf("=");let Ge,et=null;pe>=0?(Ge=w[J].substring(0,pe),et=w[J].substring(pe+1)):Ge=w[J],H(Ge,et?decodeURIComponent(et.replace(/\+/g," ")):"")}}}function ts(w){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let H;w instanceof ts?(this.l=w.l,Qn(this,w.j),this.o=w.o,this.g=w.g,To(this,w.u),this.h=w.h,fa(this,ic(w.i)),this.m=w.m):w&&(H=String(w).match(wo))?(this.l=!1,Qn(this,H[1]||"",!0),this.o=Si(H[2]||""),this.g=Si(H[3]||"",!0),To(this,H[4]),this.h=Si(H[5]||"",!0),fa(this,H[6]||"",!0),this.m=Si(H[7]||"")):(this.l=!1,this.i=new Eo(null,this.l))}ts.prototype.toString=function(){const w=[];var H=this.j;H&&w.push(ti(H,bl,!0),":");var J=this.g;return(J||H=="file")&&(w.push("//"),(H=this.o)&&w.push(ti(H,bl,!0),"@"),w.push(Hn(J).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),J=this.u,J!=null&&w.push(":",String(J))),(J=this.h)&&(this.g&&J.charAt(0)!="/"&&w.push("/"),w.push(ti(J,J.charAt(0)=="/"?$c:Ku,!0))),(J=this.i.toString())&&w.push("?",J),(J=this.m)&&w.push("#",ti(J,Kc)),w.join("")},ts.prototype.resolve=function(w){const H=mi(this);let J=!!w.j;J?Qn(H,w.j):J=!!w.o,J?H.o=w.o:J=!!w.g,J?H.g=w.g:J=w.u!=null;var pe=w.h;if(J)To(H,w.u);else if(J=!!w.h){if(pe.charAt(0)!="/")if(this.g&&!this.h)pe="/"+pe;else{var Ge=H.h.lastIndexOf("/");Ge!=-1&&(pe=H.h.slice(0,Ge+1)+pe)}if(Ge=pe,Ge==".."||Ge==".")pe="";else if(Ge.indexOf("./")!=-1||Ge.indexOf("/.")!=-1){pe=Ge.lastIndexOf("/",0)==0,Ge=Ge.split("/");const et=[];for(let kt=0;kt<Ge.length;){const kn=Ge[kt++];kn=="."?pe&&kt==Ge.length&&et.push(""):kn==".."?((et.length>1||et.length==1&&et[0]!="")&&et.pop(),pe&&kt==Ge.length&&et.push("")):(et.push(kn),pe=!0)}pe=et.join("/")}else pe=Ge}return J?H.h=pe:J=w.i.toString()!=="",J?fa(H,ic(w.i)):J=!!w.m,J&&(H.m=w.m),H};function mi(w){return new ts(w)}function Qn(w,H,J){w.j=J?Si(H,!0):H,w.j&&(w.j=w.j.replace(/:$/,""))}function To(w,H){if(H){if(H=Number(H),isNaN(H)||H<0)throw Error("Bad port number "+H);w.u=H}else w.u=null}function fa(w,H,J){H instanceof Eo?(w.i=H,Ds(w.i,w.l)):(J||(H=ti(H,ps)),w.i=new Eo(H,w.l))}function or(w,H,J){w.i.set(H,J)}function Ho(w){return or(w,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),w}function Si(w,H){return w?H?decodeURI(w.replace(/%25/g,"%2525")):decodeURIComponent(w):""}function ti(w,H,J){return typeof w=="string"?(w=encodeURI(w).replace(H,gi),J&&(w=w.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w):null}function gi(w){return w=w.charCodeAt(0),"%"+(w>>4&15).toString(16)+(w&15).toString(16)}var bl=/[#\/\?@]/g,Ku=/[#\?:]/g,$c=/[#\?]/g,ps=/[#\?@]/g,Kc=/#/g;function Eo(w,H){this.h=this.g=null,this.i=w||null,this.j=!!H}function Wi(w){w.g||(w.g=new Map,w.h=0,w.i&&ei(w.i,function(H,J){w.add(decodeURIComponent(H.replace(/\+/g," ")),J)}))}t=Eo.prototype,t.add=function(w,H){Wi(this),this.i=null,w=So(this,w);let J=this.g.get(w);return J||this.g.set(w,J=[]),J.push(H),this.h+=1,this};function zo(w,H){Wi(w),H=So(w,H),w.g.has(H)&&(w.i=null,w.h-=w.g.get(H).length,w.g.delete(H))}function Yc(w,H){return Wi(w),H=So(w,H),w.g.has(H)}t.forEach=function(w,H){Wi(this),this.g.forEach(function(J,pe){J.forEach(function(Ge){w.call(H,Ge,pe,this)},this)},this)};function Xc(w,H){Wi(w);let J=[];if(typeof H=="string")Yc(w,H)&&(J=J.concat(w.g.get(So(w,H))));else for(w=Array.from(w.g.values()),H=0;H<w.length;H++)J=J.concat(w[H]);return J}t.set=function(w,H){return Wi(this),this.i=null,w=So(this,w),Yc(this,w)&&(this.h-=this.g.get(w).length),this.g.set(w,[H]),this.h+=1,this},t.get=function(w,H){return w?(w=Xc(this,w),w.length>0?String(w[0]):H):H};function rc(w,H,J){zo(w,H),J.length>0&&(w.i=null,w.g.set(So(w,H),y(J)),w.h+=J.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const w=[],H=Array.from(this.g.keys());for(let pe=0;pe<H.length;pe++){var J=H[pe];const Ge=Hn(J);J=Xc(this,J);for(let et=0;et<J.length;et++){let kt=Ge;J[et]!==""&&(kt+="="+Hn(J[et])),w.push(kt)}}return this.i=w.join("&")};function ic(w){const H=new Eo;return H.i=w.i,w.g&&(H.g=new Map(w.g),H.h=w.h),H}function So(w,H){return H=String(H),w.j&&(H=H.toLowerCase()),H}function Ds(w,H){H&&!w.j&&(Wi(w),w.i=null,w.g.forEach(function(J,pe){const Ge=pe.toLowerCase();pe!=Ge&&(zo(this,pe),rc(this,Ge,J))},w)),w.j=H}function Da(w,H){const J=new oi;if(a.Image){const pe=new Image;pe.onload=d(Ms,J,"TestLoadImage: loaded",!0,H,pe),pe.onerror=d(Ms,J,"TestLoadImage: error",!1,H,pe),pe.onabort=d(Ms,J,"TestLoadImage: abort",!1,H,pe),pe.ontimeout=d(Ms,J,"TestLoadImage: timeout",!1,H,pe),a.setTimeout(function(){pe.ontimeout&&pe.ontimeout()},1e4),pe.src=w}else H(!1)}function Ao(w,H){const J=new oi,pe=new AbortController,Ge=setTimeout(()=>{pe.abort(),Ms(J,"TestPingServer: timeout",!1,H)},1e4);fetch(w,{signal:pe.signal}).then(et=>{clearTimeout(Ge),et.ok?Ms(J,"TestPingServer: ok",!0,H):Ms(J,"TestPingServer: server error",!1,H)}).catch(()=>{clearTimeout(Ge),Ms(J,"TestPingServer: error",!1,H)})}function Ms(w,H,J,pe,Ge){try{Ge&&(Ge.onload=null,Ge.onerror=null,Ge.onabort=null,Ge.ontimeout=null),pe(J)}catch{}}function Go(){this.g=new Rt}function bn(w){this.i=w.Sb||null,this.h=w.ab||!1}m(bn,Nt),bn.prototype.g=function(){return new _l(this.i,this.h)};function _l(w,H){tt.call(this),this.H=w,this.o=H,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}m(_l,tt),t=_l.prototype,t.open=function(w,H){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=w,this.D=H,this.readyState=1,$i(this)},t.send=function(w){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const H={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};w&&(H.body=w),(this.H||a).fetch(new Request(this.D,H)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Wo(this)),this.readyState=0},t.Pa=function(w){if(this.g&&(this.l=w,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=w.headers,this.readyState=2,$i(this)),this.g&&(this.readyState=3,$i(this),this.g)))if(this.responseType==="arraybuffer")w.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in w){if(this.j=w.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;sc(this)}else w.text().then(this.Oa.bind(this),this.ga.bind(this))};function sc(w){w.j.read().then(w.Ma.bind(w)).catch(w.ga.bind(w))}t.Ma=function(w){if(this.g){if(this.o&&w.value)this.response.push(w.value);else if(!this.o){var H=w.value?w.value:new Uint8Array(0);(H=this.B.decode(H,{stream:!w.done}))&&(this.response=this.responseText+=H)}w.done?Wo(this):$i(this),this.readyState==3&&sc(this)}},t.Oa=function(w){this.g&&(this.response=this.responseText=w,Wo(this))},t.Na=function(w){this.g&&(this.response=w,Wo(this))},t.ga=function(){this.g&&Wo(this)};function Wo(w){w.readyState=4,w.l=null,w.j=null,w.B=null,$i(w)}t.setRequestHeader=function(w,H){this.A.append(w,H)},t.getResponseHeader=function(w){return this.h&&this.h.get(w.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const w=[],H=this.h.entries();for(var J=H.next();!J.done;)J=J.value,w.push(J[0]+": "+J[1]),J=H.next();return w.join(`\r
`)};function $i(w){w.onreadystatechange&&w.onreadystatechange.call(w)}Object.defineProperty(_l.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(w){this.m=w?"include":"same-origin"}});function Di(w){let H="";return me(w,function(J,pe){H+=pe,H+=":",H+=J,H+=`\r
`}),H}function wl(w,H,J){e:{for(pe in J){var pe=!1;break e}pe=!0}pe||(J=Di(J),typeof w=="string"?J!=null&&Hn(J):or(w,H,J))}function Ar(w){tt.call(this),this.headers=new Map,this.L=w||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}m(Ar,tt);var Ks=/^https?$/i,Tl=["POST","PUT"];t=Ar.prototype,t.Fa=function(w){this.H=w},t.ea=function(w,H,J,pe){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+w);H=H?H.toUpperCase():"GET",this.D=w,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():$n.g(),this.g.onreadystatechange=g(f(this.Ca,this));try{this.B=!0,this.g.open(H,String(w),!0),this.B=!1}catch(et){Ma(this,et);return}if(w=J||"",J=new Map(this.headers),pe)if(Object.getPrototypeOf(pe)===Object.prototype)for(var Ge in pe)J.set(Ge,pe[Ge]);else if(typeof pe.keys=="function"&&typeof pe.get=="function")for(const et of pe.keys())J.set(et,pe.get(et));else throw Error("Unknown input type for opt_headers: "+String(pe));pe=Array.from(J.keys()).find(et=>et.toLowerCase()=="content-type"),Ge=a.FormData&&w instanceof a.FormData,!(Array.prototype.indexOf.call(Tl,H,void 0)>=0)||pe||Ge||J.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[et,kt]of J)this.g.setRequestHeader(et,kt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(w),this.v=!1}catch(et){Ma(this,et)}};function Ma(w,H){w.h=!1,w.g&&(w.j=!0,w.g.abort(),w.j=!1),w.l=H,w.o=5,Jc(w),No(w)}function Jc(w){w.A||(w.A=!0,wt(w,"complete"),wt(w,"error"))}t.abort=function(w){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=w||7,wt(this,"complete"),wt(this,"abort"),No(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),No(this,!0)),Ar.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Ys(this):this.Xa())},t.Xa=function(){Ys(this)};function Ys(w){if(w.h&&typeof s<"u"){if(w.v&&Xs(w)==4)setTimeout(w.Ca.bind(w),0);else if(wt(w,"readystatechange"),Xs(w)==4){w.h=!1;try{const et=w.ca();e:switch(et){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var H=!0;break e;default:H=!1}var J;if(!(J=H)){var pe;if(pe=et===0){let kt=String(w.D).match(wo)[1]||null;!kt&&a.self&&a.self.location&&(kt=a.self.location.protocol.slice(0,-1)),pe=!Ks.test(kt?kt.toLowerCase():"")}J=pe}if(J)wt(w,"complete"),wt(w,"success");else{w.o=6;try{var Ge=Xs(w)>2?w.g.statusText:""}catch{Ge=""}w.l=Ge+" ["+w.ca()+"]",Jc(w)}}finally{No(w)}}}}function No(w,H){if(w.g){w.m&&(clearTimeout(w.m),w.m=null);const J=w.g;w.g=null,H||wt(w,"ready");try{J.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Xs(w){return w.g?w.g.readyState:0}t.ca=function(){try{return Xs(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(w){if(this.g){var H=this.g.responseText;return w&&H.indexOf(w)==0&&(H=H.substring(w.length)),Ft(H)}};function Ai(w){try{if(!w.g)return null;if("response"in w.g)return w.g.response;switch(w.F){case"":case"text":return w.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in w.g)return w.g.mozResponseArrayBuffer}return null}catch{return null}}function Ya(w){const H={};w=(w.g&&Xs(w)>=2&&w.g.getAllResponseHeaders()||"").split(`\r
`);for(let pe=0;pe<w.length;pe++){if(j(w[pe]))continue;var J=ie(w[pe]);const Ge=J[0];if(J=J[1],typeof J!="string")continue;J=J.trim();const et=H[Ge]||[];H[Ge]=et,et.push(J)}Re(H,function(pe){return pe.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ns(w,H,J){return J&&J.internalChannelParams&&J.internalChannelParams[w]||H}function Xa(w){this.za=0,this.i=[],this.j=new oi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ns("failFast",!1,w),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ns("baseRetryDelayMs",5e3,w),this.Za=ns("retryDelaySeedMs",1e4,w),this.Ta=ns("forwardChannelMaxRetries",2,w),this.va=ns("forwardChannelRequestTimeoutMs",2e4,w),this.ma=w&&w.xmlHttpFactory||void 0,this.Ua=w&&w.Rb||void 0,this.Aa=w&&w.useFetchStreams||!1,this.O=void 0,this.L=w&&w.supportsCrossDomainXhr||!1,this.M="",this.h=new mr(w&&w.concurrentRequestLimit),this.Ba=new Go,this.S=w&&w.fastHandshake||!1,this.R=w&&w.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=w&&w.Pb||!1,w&&w.ua&&this.j.ua(),w&&w.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&w&&w.detectBufferingProxy||!1,this.ia=void 0,w&&w.longPollingTimeout&&w.longPollingTimeout>0&&(this.ia=w.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Xa.prototype,t.ka=8,t.I=1,t.connect=function(w,H,J,pe){un(0),this.W=w,this.H=H||{},J&&pe!==void 0&&(this.H.OSID=J,this.H.OAID=pe),this.F=this.X,this.J=vt(this,null,this.W),da(this)};function $o(w){if(Qa(w),w.I==3){var H=w.V++,J=mi(w.J);if(or(J,"SID",w.M),or(J,"RID",H),or(J,"TYPE","terminate"),Js(w,J),H=new ve(w,w.j,H),H.M=2,H.A=Ho(mi(J)),J=!1,a.navigator&&a.navigator.sendBeacon)try{J=a.navigator.sendBeacon(H.A.toString(),"")}catch{}!J&&a.Image&&(new Image().src=H.A,J=!0),J||(H.g=Jt(H.j,null),H.g.ea(H.A)),H.F=Date.now(),Xe(H)}dt(w)}function Ja(w){w.g&&(oc(w),w.g.cancel(),w.g=null)}function Qa(w){Ja(w),w.v&&(a.clearTimeout(w.v),w.v=null),te(w),w.h.cancel(),w.m&&(typeof w.m=="number"&&a.clearTimeout(w.m),w.m=null)}function da(w){if(!Gn(w.h)&&!w.m){w.m=!0;var H=w.Ea;z||L(),W||(z(),W=!0),D.add(H,w),w.D=0}}function El(w,H){return wr(w.h)>=w.h.j-(w.m?1:0)?!1:w.m?(w.i=H.G.concat(w.i),!0):w.I==1||w.I==2||w.D>=(w.Sa?0:w.Ta)?!1:(w.m=Ln(f(w.Ea,w,H),Me(w,w.D)),w.D++,!0)}t.Ea=function(w){if(this.m)if(this.m=null,this.I==1){if(!w){this.V=Math.floor(Math.random()*1e5),w=this.V++;const Ge=new ve(this,this.j,w);let et=this.o;if(this.U&&(et?(et=re(et),Y(et,this.U)):et=this.U),this.u!==null||this.R||(Ge.J=et,et=null),this.S)e:{for(var H=0,J=0;J<this.i.length;J++){t:{var pe=this.i[J];if("__data__"in pe.map&&(pe=pe.map.__data__,typeof pe=="string")){pe=pe.length;break t}pe=void 0}if(pe===void 0)break;if(H+=pe,H>4096){H=J;break e}if(H===4096||J===this.i.length-1){H=J+1;break e}}H=1e3}else H=1e3;H=Za(this,Ge,H),J=mi(this.J),or(J,"RID",w),or(J,"CVER",22),this.G&&or(J,"X-HTTP-Session-Id",this.G),Js(this,J),et&&(this.R?H="headers="+Hn(Di(et))+"&"+H:this.u&&wl(J,this.u,et)),$s(this.h,Ge),this.Ra&&or(J,"TYPE","init"),this.S?(or(J,"$req",H),or(J,"SID","null"),Ge.U=!0,we(Ge,J,null)):we(Ge,J,H),this.I=2}}else this.I==3&&(w?ac(this,w):this.i.length==0||Gn(this.h)||ac(this))};function ac(w,H){var J;H?J=H.l:J=w.V++;const pe=mi(w.J);or(pe,"SID",w.M),or(pe,"RID",J),or(pe,"AID",w.K),Js(w,pe),w.u&&w.o&&wl(pe,w.u,w.o),J=new ve(w,w.j,J,w.D+1),w.u===null&&(J.J=w.o),H&&(w.i=H.G.concat(w.i)),H=Za(w,J,1e3),J.H=Math.round(w.va*.5)+Math.round(w.va*.5*Math.random()),$s(w.h,J),we(J,pe,H)}function Js(w,H){w.H&&me(w.H,function(J,pe){or(H,pe,J)}),w.l&&me({},function(J,pe){or(H,pe,J)})}function Za(w,H,J){J=Math.min(w.i.length,J);const pe=w.l?f(w.l.Ka,w.l,w):null;e:{var Ge=w.i;let kn=-1;for(;;){const Gr=["count="+J];kn==-1?J>0?(kn=Ge[0].g,Gr.push("ofs="+kn)):kn=0:Gr.push("ofs="+kn);let Yn=!0;for(let Nr=0;Nr<J;Nr++){var et=Ge[Nr].g;const rs=Ge[Nr].map;if(et-=kn,et<0)kn=Math.max(0,Ge[Nr].g-100),Yn=!1;else try{et="req"+et+"_"||"";try{var kt=rs instanceof Map?rs:Object.entries(rs);for(const[ms,Fr]of kt){let gs=Fr;o(Fr)&&(gs=en(Fr)),Gr.push(et+ms+"="+encodeURIComponent(gs))}}catch(ms){throw Gr.push(et+"type="+encodeURIComponent("_badmap")),ms}}catch{pe&&pe(rs)}}if(Yn){kt=Gr.join("&");break e}}kt=void 0}return w=w.i.splice(0,J),H.G=w,kt}function Qc(w){if(!w.g&&!w.v){w.Y=1;var H=w.Da;z||L(),W||(z(),W=!0),D.add(H,w),w.A=0}}function La(w){return w.g||w.v||w.A>=3?!1:(w.Y++,w.v=Ln(f(w.Da,w),Me(w,w.A)),w.A++,!0)}t.Da=function(){if(this.v=null,O(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var w=4*this.T;this.j.info("BP detection timer enabled: "+w),this.B=Ln(f(this.Wa,this),w)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,un(10),Ja(this),O(this))};function oc(w){w.B!=null&&(a.clearTimeout(w.B),w.B=null)}function O(w){w.g=new ve(w,w.j,"rpc",w.Y),w.u===null&&(w.g.J=w.o),w.g.P=0;var H=mi(w.na);or(H,"RID","rpc"),or(H,"SID",w.M),or(H,"AID",w.K),or(H,"CI",w.F?"0":"1"),!w.F&&w.ia&&or(H,"TO",w.ia),or(H,"TYPE","xmlhttp"),Js(w,H),w.u&&w.o&&wl(H,w.u,w.o),w.O&&(w.g.H=w.O);var J=w.g;w=w.ba,J.M=1,J.A=Ho(mi(H)),J.u=null,J.R=!0,Ue(J,w)}t.Va=function(){this.C!=null&&(this.C=null,Ja(this),La(this),un(19))};function te(w){w.C!=null&&(a.clearTimeout(w.C),w.C=null)}function Ee(w,H){var J=null;if(w.g==H){te(w),oc(w),w.g=null;var pe=2}else if(Gi(w.h,H))J=H.G,ua(w.h,H),pe=1;else return;if(w.I!=0){if(H.o)if(pe==1){J=H.u?H.u.length:0,H=Date.now()-H.F;var Ge=w.D;pe=Jn(),wt(pe,new Yt(pe,J)),da(w)}else Qc(w);else if(Ge=H.m,Ge==3||Ge==0&&H.X>0||!(pe==1&&El(w,H)||pe==2&&La(w)))switch(J&&J.length>0&&(H=w.h,H.i=H.i.concat(J)),Ge){case 1:je(w,5);break;case 4:je(w,10);break;case 3:je(w,6);break;default:je(w,2)}}}function Me(w,H){let J=w.Qa+Math.floor(Math.random()*w.Za);return w.isActive()||(J*=2),J*H}function je(w,H){if(w.j.info("Error code "+H),H==2){var J=f(w.bb,w),pe=w.Ua;const Ge=!pe;pe=new ts(pe||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Qn(pe,"https"),Ho(pe),Ge?Da(pe.toString(),J):Ao(pe.toString(),J)}else un(2);w.I=0,w.l&&w.l.pa(H),dt(w),Qa(w)}t.bb=function(w){w?(this.j.info("Successfully pinged google.com"),un(2)):(this.j.info("Failed to ping google.com"),un(1))};function dt(w){if(w.I=0,w.ja=[],w.l){const H=Ps(w.h);(H.length!=0||w.i.length!=0)&&(E(w.ja,H),E(w.ja,w.i),w.h.i.length=0,y(w.i),w.i.length=0),w.l.oa()}}function vt(w,H,J){var pe=J instanceof ts?mi(J):new ts(J);if(pe.g!="")H&&(pe.g=H+"."+pe.g),To(pe,pe.u);else{var Ge=a.location;pe=Ge.protocol,H=H?H+"."+Ge.hostname:Ge.hostname,Ge=+Ge.port;const et=new ts(null);pe&&Qn(et,pe),H&&(et.g=H),Ge&&To(et,Ge),J&&(et.h=J),pe=et}return J=w.G,H=w.wa,J&&H&&or(pe,J,H),or(pe,"VER",w.ka),Js(w,pe),pe}function Jt(w,H,J){if(H&&!w.L)throw Error("Can't create secondary domain capable XhrIo object.");return H=w.Aa&&!w.ma?new Ar(new bn({ab:J})):new Ar(w.ma),H.Fa(w.L),H}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function sn(){}t=sn.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function wn(){}wn.prototype.g=function(w,H){return new yn(w,H)};function yn(w,H){tt.call(this),this.g=new Xa(H),this.l=w,this.h=H&&H.messageUrlParams||null,w=H&&H.messageHeaders||null,H&&H.clientProtocolHeaderRequired&&(w?w["X-Client-Protocol"]="webchannel":w={"X-Client-Protocol":"webchannel"}),this.g.o=w,w=H&&H.initMessageHeaders||null,H&&H.messageContentType&&(w?w["X-WebChannel-Content-Type"]=H.messageContentType:w={"X-WebChannel-Content-Type":H.messageContentType}),H&&H.sa&&(w?w["X-WebChannel-Client-Profile"]=H.sa:w={"X-WebChannel-Client-Profile":H.sa}),this.g.U=w,(w=H&&H.Qb)&&!j(w)&&(this.g.u=w),this.A=H&&H.supportsCrossDomainXhr||!1,this.v=H&&H.sendRawJson||!1,(H=H&&H.httpSessionIdParam)&&!j(H)&&(this.g.G=H,w=this.h,w!==null&&H in w&&(w=this.h,H in w&&delete w[H])),this.j=new Mr(this)}m(yn,tt),yn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},yn.prototype.close=function(){$o(this.g)},yn.prototype.o=function(w){var H=this.g;if(typeof w=="string"){var J={};J.__data__=w,w=J}else this.v&&(J={},J.__data__=en(w),w=J);H.i.push(new Xt(H.Ya++,w)),H.I==3&&da(H)},yn.prototype.N=function(){this.g.l=null,delete this.j,$o(this.g),delete this.g,yn.Z.N.call(this)};function er(w){Ct.call(this),w.__headers__&&(this.headers=w.__headers__,this.statusCode=w.__status__,delete w.__headers__,delete w.__status__);var H=w.__sm__;if(H){e:{for(const J in H){w=J;break e}w=void 0}(this.i=w)&&(w=this.i,H=H!==null&&w in H?H[w]:void 0),this.data=H}else this.data=w}m(er,Ct);function zr(){zt.call(this),this.status=1}m(zr,zt);function Mr(w){this.g=w}m(Mr,sn),Mr.prototype.ra=function(){wt(this.g,"a")},Mr.prototype.qa=function(w){wt(this.g,new er(w))},Mr.prototype.pa=function(w){wt(this.g,new zr)},Mr.prototype.oa=function(){wt(this.g,"b")},wn.prototype.createWebChannel=wn.prototype.g,yn.prototype.send=yn.prototype.o,yn.prototype.open=yn.prototype.m,yn.prototype.close=yn.prototype.close,vL=function(){return new wn},yL=function(){return Jn()},xL=xn,m5={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Lt.NO_ERROR=0,Lt.TIMEOUT=8,Lt.HTTP_ERROR=6,Sy=Lt,qt.COMPLETE="complete",gL=qt,qn.EventType=Bt,Bt.OPEN="a",Bt.CLOSE="b",Bt.ERROR="c",Bt.MESSAGE="d",tt.prototype.listen=tt.prototype.J,Zm=qn,Ar.prototype.listenOnce=Ar.prototype.K,Ar.prototype.getLastError=Ar.prototype.Ha,Ar.prototype.getLastErrorCode=Ar.prototype.ya,Ar.prototype.getStatus=Ar.prototype.ca,Ar.prototype.getResponseJson=Ar.prototype.La,Ar.prototype.getResponseText=Ar.prototype.la,Ar.prototype.send=Ar.prototype.ea,Ar.prototype.setWithCredentials=Ar.prototype.Fa,mL=Ar}).apply(typeof Vx<"u"?Vx:typeof self<"u"?self:typeof window<"u"?window:{});const bI="@firebase/firestore",_I="4.9.2";class ia{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ia.UNAUTHENTICATED=new ia(null),ia.GOOGLE_CREDENTIALS=new ia("google-credentials-uid"),ia.FIRST_PARTY=new ia("first-party-uid"),ia.MOCK_USER=new ia("mock-user");let Gp="12.3.0";const ch=new lE("@firebase/firestore");function P0(){return ch.logLevel}function It(t,...e){if(ch.logLevel<=ur.DEBUG){const n=e.map(bE);ch.debug(`Firestore (${Gp}): ${t}`,...n)}}function Ha(t,...e){if(ch.logLevel<=ur.ERROR){const n=e.map(bE);ch.error(`Firestore (${Gp}): ${t}`,...n)}}function uh(t,...e){if(ch.logLevel<=ur.WARN){const n=e.map(bE);ch.warn(`Firestore (${Gp}): ${t}`,...n)}}function bE(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function ln(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,bL(t,r,n)}function bL(t,e,n){let r=`FIRESTORE (${Gp}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Ha(r),new Error(r)}function vn(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||bL(e,i,r)}function On(t,e){return t}const gt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Vt extends qu{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Fc{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class _L{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class BX{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(ia.UNAUTHENTICATED)))}shutdown(){}}class VX{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class UX{constructor(e){this.t=e,this.currentUser=ia.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){vn(this.o===void 0,42304);let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let s=new Fc;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Fc,e.enqueueRetryable((()=>i(this.currentUser)))};const a=()=>{const c=s;e.enqueueRetryable((async()=>{await c.promise,await i(this.currentUser)}))},o=c=>{It("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit((c=>o(c))),setTimeout((()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?o(c):(It("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Fc)}}),0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(It("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(vn(typeof r.accessToken=="string",31837,{l:r}),new _L(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return vn(e===null||typeof e=="string",2055,{h:e}),new ia(e)}}class jX{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=ia.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class qX{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new jX(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(ia.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class wI{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class HX{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,fl(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){vn(this.o===void 0,3512);const r=s=>{s.error!=null&&It("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.m;return this.m=s.token,It("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>r(s)))};const i=s=>{It("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((s=>i(s))),setTimeout((()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):It("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new wI(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(vn(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new wI(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function zX(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class _E{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=zX(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function Fn(t,e){return t<e?-1:t>e?1:0}function g5(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return E_(i)===E_(s)?Fn(i,s):E_(i)?1:-1}return Fn(t.length,e.length)}const GX=55296,WX=57343;function E_(t){const e=t.charCodeAt(0);return e>=GX&&e<=WX}function _p(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}function wL(t){return t+"\0"}const TI="__name__";class Nc{constructor(e,n,r){n===void 0?n=0:n>e.length&&ln(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ln(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Nc.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Nc?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=Nc.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return Fn(e.length,n.length)}static compareSegments(e,n){const r=Nc.isNumericId(e),i=Nc.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Nc.extractNumericId(e).compare(Nc.extractNumericId(n)):g5(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Kf.fromString(e.substring(4,e.length-2))}}class Lr extends Nc{construct(e,n,r){return new Lr(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Vt(gt.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new Lr(n)}static emptyPath(){return new Lr([])}}const $X=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pi extends Nc{construct(e,n,r){return new Pi(e,n,r)}static isValidIdentifier(e){return $X.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pi.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===TI}static keyField(){return new Pi([TI])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Vt(gt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const o=e[i];if(o==="\\"){if(i+1===e.length)throw new Vt(gt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Vt(gt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else o==="`"?(a=!a,i++):o!=="."||a?(r+=o,i++):(s(),i++)}if(s(),a)throw new Vt(gt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Pi(n)}static emptyPath(){return new Pi([])}}class Ut{constructor(e){this.path=e}static fromPath(e){return new Ut(Lr.fromString(e))}static fromName(e){return new Ut(Lr.fromString(e).popFirst(5))}static empty(){return new Ut(Lr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Lr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Lr.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ut(new Lr(e.slice()))}}function TL(t,e,n){if(!n)throw new Vt(gt.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function KX(t,e,n,r){if(e===!0&&r===!0)throw new Vt(gt.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function EI(t){if(!Ut.isDocumentKey(t))throw new Vt(gt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function SI(t){if(Ut.isDocumentKey(t))throw new Vt(gt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function EL(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function wE(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ln(12329,{type:typeof t})}function jc(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Vt(gt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=wE(t);throw new Vt(gt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function ds(t,e){const n={typeString:t};return e&&(n.value=e),n}function E1(t,e){if(!EL(t))throw new Vt(gt.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const a=t[r];if(i&&typeof a!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&a!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new Vt(gt.INVALID_ARGUMENT,n);return!0}const AI=-62135596800,NI=1e6;class jr{static now(){return jr.fromMillis(Date.now())}static fromDate(e){return jr.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*NI);return new jr(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Vt(gt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Vt(gt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<AI)throw new Vt(gt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Vt(gt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/NI}_compareTo(e){return this.seconds===e.seconds?Fn(this.nanoseconds,e.nanoseconds):Fn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:jr._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(E1(e,jr._jsonSchema))return new jr(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-AI;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}jr._jsonSchemaVersion="firestore/timestamp/1.0",jr._jsonSchema={type:ds("string",jr._jsonSchemaVersion),seconds:ds("number"),nanoseconds:ds("number")};class Sn{static fromTimestamp(e){return new Sn(e)}static min(){return new Sn(new jr(0,0))}static max(){return new Sn(new jr(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Gg=-1;class l2{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function x5(t){return t.fields.find((e=>e.kind===2))}function Md(t){return t.fields.filter((e=>e.kind!==2))}l2.UNKNOWN_ID=-1;class Ay{constructor(e,n){this.fieldPath=e,this.kind=n}}class Wg{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Wg(0,jo.min())}}function YX(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Sn.fromTimestamp(r===1e9?new jr(n+1,0):new jr(n,r));return new jo(i,Ut.empty(),e)}function SL(t){return new jo(t.readTime,t.key,Gg)}class jo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new jo(Sn.min(),Ut.empty(),Gg)}static max(){return new jo(Sn.max(),Ut.empty(),Gg)}}function TE(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ut.comparator(t.documentKey,e.documentKey),n!==0?n:Fn(t.largestBatchId,e.largestBatchId))}const AL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class NL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Sh(t){if(t.code!==gt.FAILED_PRECONDITION||t.message!==AL)throw t;It("LocalStore","Unexpectedly lost primary lease")}class Ke{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ln(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Ke(((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof Ke?n:Ke.resolve(n)}catch(n){return Ke.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):Ke.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):Ke.reject(n)}static resolve(e){return new Ke(((n,r)=>{n(e)}))}static reject(e){return new Ke(((n,r)=>{r(e)}))}static waitFor(e){return new Ke(((n,r)=>{let i=0,s=0,a=!1;e.forEach((o=>{++i,o.next((()=>{++s,a&&s===i&&n()}),(c=>r(c)))})),a=!0,s===i&&n()}))}static or(e){let n=Ke.resolve(!1);for(const r of e)n=n.next((i=>i?Ke.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,s)=>{r.push(n.call(this,i,s))})),this.waitFor(r)}static mapArray(e,n){return new Ke(((r,i)=>{const s=e.length,a=new Array(s);let o=0;for(let c=0;c<s;c++){const f=c;n(e[f]).next((d=>{a[f]=d,++o,o===s&&r(a)}),(d=>i(d)))}}))}static doWhile(e,n){return new Ke(((r,i)=>{const s=()=>{e()===!0?n().next((()=>{s()}),i):r()};s()}))}}const Fo="SimpleDb";class nv{static open(e,n,r,i){try{return new nv(n,e.transaction(i,r))}catch(s){throw new mg(n,s)}}constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.S=new Fc,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{n.error?this.S.reject(new mg(e,n.error)):this.S.resolve()},this.transaction.onerror=r=>{const i=EE(r.target.error);this.S.reject(new mg(e,i))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(It(Fo,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new JX(n)}}class Yf{static delete(e){return It(Fo,"Removing database:",e),Od(vM().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!CM())return!1;if(Yf.F())return!0;const e=Is(),n=Yf.M(e),r=0<n&&n<10,i=CL(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static F(){return typeof process<"u"&&process.__PRIVATE_env?.__PRIVATE_USE_MOCK_PERSISTENCE==="YES"}static O(e,n){return e.store(n)}static M(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,n,r){this.name=e,this.version=n,this.N=r,this.B=null,Yf.M(Is())===12.2&&Ha("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(It(Fo,"Opening database:",this.name),this.db=await new Promise(((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const a=s.target.result;n(a)},i.onblocked=()=>{r(new mg(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const a=s.target.error;a.name==="VersionError"?r(new Vt(gt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a.name==="InvalidStateError"?r(new Vt(gt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a)):r(new mg(e,a))},i.onupgradeneeded=s=>{It(Fo,'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const a=s.target.result;this.N.k(a,i.transaction,s.oldVersion,this.version).next((()=>{It(Fo,"Database upgrade to version "+this.version+" complete")}))}}))),this.q&&(this.db.onversionchange=n=>this.q(n)),this.db}$(e){this.q=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let a=0;for(;;){++a;try{this.db=await this.L(e);const o=nv.open(this.db,e,s?"readonly":"readwrite",r),c=i(o).next((f=>(o.C(),f))).catch((f=>(o.abort(f),Ke.reject(f)))).toPromise();return c.catch((()=>{})),await o.D,c}catch(o){const c=o,f=c.name!=="FirebaseError"&&a<3;if(It(Fo,"Transaction failed with error:",c.message,"Retrying:",f),this.close(),!f)return Promise.reject(c)}}}close(){this.db&&this.db.close(),this.db=void 0}}function CL(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class XX{constructor(e){this.U=e,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(e){this.U=e}done(){this.K=!0}j(e){this.W=e}delete(){return Od(this.U.delete())}}class mg extends Vt{constructor(e,n){super(gt.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function cd(t){return t.name==="IndexedDbTransactionError"}class JX{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(It(Fo,"PUT",this.store.name,e,n),r=this.store.put(n,e)):(It(Fo,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Od(r)}add(e){return It(Fo,"ADD",this.store.name,e,e),Od(this.store.add(e))}get(e){return Od(this.store.get(e)).next((n=>(n===void 0&&(n=null),It(Fo,"GET",this.store.name,e,n),n)))}delete(e){return It(Fo,"DELETE",this.store.name,e),Od(this.store.delete(e))}count(){return It(Fo,"COUNT",this.store.name),Od(this.store.count())}J(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(r.range);return new Ke(((a,o)=>{s.onerror=c=>{o(c.target.error)},s.onsuccess=c=>{a(c.target.result)}}))}{const s=this.cursor(r),a=[];return this.H(s,((o,c)=>{a.push(c)})).next((()=>a))}}Y(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new Ke(((i,s)=>{r.onerror=a=>{s(a.target.error)},r.onsuccess=a=>{i(a.target.result)}}))}Z(e,n){It(Fo,"DELETE ALL",this.store.name);const r=this.options(e,n);r.X=!1;const i=this.cursor(r);return this.H(i,((s,a,o)=>o.delete()))}ee(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.H(i,n)}te(e){const n=this.cursor({});return new Ke(((r,i)=>{n.onerror=s=>{const a=EE(s.target.error);i(a)},n.onsuccess=s=>{const a=s.target.result;a?e(a.primaryKey,a.value).next((o=>{o?a.continue():r()})):r()}}))}H(e,n){const r=[];return new Ke(((i,s)=>{e.onerror=a=>{s(a.target.error)},e.onsuccess=a=>{const o=a.target.result;if(!o)return void i();const c=new XX(o),f=n(o.primaryKey,o.value,c);if(f instanceof Ke){const d=f.catch((m=>(c.done(),Ke.reject(m))));r.push(d)}c.isDone?i():c.G===null?o.continue():o.continue(c.G)}})).next((()=>Ke.waitFor(r)))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Od(t){return new Ke(((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=EE(r.target.error);n(i)}}))}let CI=!1;function EE(t){const e=Yf.M(Is());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new Vt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return CI||(CI=!0,setTimeout((()=>{throw r}),0)),r}}return t}const gg="IndexBackfiller";class QX{constructor(e,n){this.asyncQueue=e,this.ne=n,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){It(gg,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const n=await this.ne.ie();It(gg,`Documents written: ${n}`)}catch(n){cd(n)?It(gg,"Ignoring IndexedDB error during index backfill: ",n):await Sh(n)}await this.re(6e4)}))}}class ZX{constructor(e,n){this.localStore=e,this.persistence=n}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(n=>this.se(n,e)))}se(e,n){const r=new Set;let i=n,s=!0;return Ke.doWhile((()=>s===!0&&i>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((a=>{if(a!==null&&!r.has(a))return It(gg,`Processing collection: ${a}`),this.oe(e,a,i).next((o=>{i-=o,r.add(a)}));s=!1})))).next((()=>n-i))}oe(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next((i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next((s=>{const a=s.changes;return this.localStore.indexManager.updateIndexEntries(e,a).next((()=>this._e(i,s))).next((o=>(It(gg,`Updating offset: ${o}`),this.localStore.indexManager.updateCollectionGroup(e,n,o)))).next((()=>a.size))}))))}_e(e,n){let r=e;return n.changes.forEach(((i,s)=>{const a=SL(s);TE(a,r)>0&&(r=a)})),new jo(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}class pl{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}pl.ce=-1;const Jd=-1;function rv(t){return t==null}function $g(t){return t===0&&1/t==-1/0}function eJ(t){return typeof t=="number"&&Number.isInteger(t)&&!$g(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const c2="";function Ia(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=II(e)),e=tJ(t.get(n),e);return II(e)}function tJ(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case c2:n+="";break;default:n+=s}}return n}function II(t){return t+c2+""}function Ic(t){const e=t.length;if(vn(e>=2,64408,{path:t}),e===2)return vn(t.charAt(0)===c2&&t.charAt(1)==="",56145,{path:t}),Lr.emptyPath();const n=e-2,r=[];let i="";for(let s=0;s<e;){const a=t.indexOf(c2,s);switch((a<0||a>n)&&ln(50515,{path:t}),t.charAt(a+1)){case"":const o=t.substring(s,a);let c;i.length===0?c=o:(i+=o,c=i,i=""),r.push(c);break;case"":i+=t.substring(s,a),i+="\0";break;case"":i+=t.substring(s,a+1);break;default:ln(61167,{path:t})}s=a+2}return new Lr(r)}const Ld="remoteDocuments",S1="owner",b0="owner",Kg="mutationQueues",nJ="userId",Gl="mutations",kI="batchId",Wd="userMutationsIndex",RI=["userId","batchId"];function Ny(t,e){return[t,Ia(e)]}function IL(t,e,n){return[t,Ia(e),n]}const rJ={},wp="documentMutations",u2="remoteDocumentsV14",iJ=["prefixPath","collectionGroup","readTime","documentId"],Cy="documentKeyIndex",sJ=["prefixPath","collectionGroup","documentId"],kL="collectionGroupIndex",aJ=["collectionGroup","readTime","prefixPath","documentId"],Yg="remoteDocumentGlobal",y5="remoteDocumentGlobalKey",Tp="targets",RL="queryTargetsIndex",oJ=["canonicalId","targetId"],Ep="targetDocuments",lJ=["targetId","path"],SE="documentTargetsIndex",cJ=["path","targetId"],f2="targetGlobalKey",Qd="targetGlobal",Xg="collectionParents",uJ=["collectionId","parent"],Sp="clientMetadata",fJ="clientId",iv="bundles",dJ="bundleId",sv="namedQueries",hJ="name",AE="indexConfiguration",pJ="indexId",v5="collectionGroupIndex",mJ="collectionGroup",xg="indexState",gJ=["indexId","uid"],PL="sequenceNumberIndex",xJ=["uid","sequenceNumber"],yg="indexEntries",yJ=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],DL="documentKeyIndex",vJ=["indexId","uid","orderedDocumentKey"],av="documentOverlays",bJ=["userId","collectionPath","documentId"],b5="collectionPathOverlayIndex",_J=["userId","collectionPath","largestBatchId"],ML="collectionGroupOverlayIndex",wJ=["userId","collectionGroup","largestBatchId"],NE="globals",TJ="name",LL=[Kg,Gl,wp,Ld,Tp,S1,Qd,Ep,Sp,Yg,Xg,iv,sv],EJ=[...LL,av],FL=[Kg,Gl,wp,u2,Tp,S1,Qd,Ep,Sp,Yg,Xg,iv,sv,av],OL=FL,CE=[...OL,AE,xg,yg],SJ=CE,BL=[...CE,NE],AJ=BL;class _5 extends NL{constructor(e,n){super(),this.le=e,this.currentSequenceNumber=n}}function ks(t,e){const n=On(t);return Yf.O(n.le,e)}function PI(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ud(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function VL(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Ei{constructor(e,n){this.comparator=e,this.root=n||sa.EMPTY}insert(e,n){return new Ei(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,sa.BLACK,null,null))}remove(e){return new Ei(this.comparator,this.root.remove(e,this.comparator).copy(null,null,sa.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ux(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ux(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ux(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ux(this.root,e,this.comparator,!0)}}class Ux{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class sa{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??sa.RED,this.left=i??sa.EMPTY,this.right=s??sa.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new sa(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return sa.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return sa.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,sa.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,sa.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ln(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ln(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ln(27949);return e+(this.isRed()?0:1)}}sa.EMPTY=null,sa.RED=!0,sa.BLACK=!1;sa.EMPTY=new class{constructor(){this.size=0}get key(){throw ln(57766)}get value(){throw ln(16141)}get color(){throw ln(16727)}get left(){throw ln(29726)}get right(){throw ln(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new sa(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Hr{constructor(e){this.comparator=e,this.data=new Ei(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new DI(this.data.getIterator())}getIteratorFrom(e){return new DI(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Hr)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Hr(this.comparator);return n.data=e,n}}class DI{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function _0(t){return t.hasNext()?t.getNext():void 0}class vo{constructor(e){this.fields=e,e.sort(Pi.comparator)}static empty(){return new vo([])}unionWith(e){let n=new Hr(Pi.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new vo(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return _p(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class UL extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class hs{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new UL("Invalid base64 string: "+s):s}})(e);return new hs(n)}static fromUint8Array(e){const n=(function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s})(e);return new hs(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}hs.EMPTY_BYTE_STRING=new hs("");const NJ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Bu(t){if(vn(!!t,39018),typeof t=="string"){let e=0;const n=NJ.exec(t);if(vn(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:wi(t.seconds),nanos:wi(t.nanos)}}function wi(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Vu(t){return typeof t=="string"?hs.fromBase64String(t):hs.fromUint8Array(t)}const jL="server_timestamp",qL="__type__",HL="__previous_value__",zL="__local_write_time__";function IE(t){return(t?.mapValue?.fields||{})[qL]?.stringValue===jL}function ov(t){const e=t.mapValue.fields[HL];return IE(e)?ov(e):e}function Jg(t){const e=Bu(t.mapValue.fields[zL].timestampValue);return new jr(e.seconds,e.nanos)}class CJ{constructor(e,n,r,i,s,a,o,c,f,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=c,this.useFetchStreams=f,this.isUsingEmulator=d}}const d2="(default)";class fh{constructor(e,n){this.projectId=e,this.database=n||d2}static empty(){return new fh("","")}get isDefaultDatabase(){return this.database===d2}isEqual(e){return e instanceof fh&&e.projectId===this.projectId&&e.database===this.database}}const kE="__type__",GL="__max__",Vf={mapValue:{fields:{__type__:{stringValue:GL}}}},RE="__vector__",Ap="value",Iy={nullValue:"NULL_VALUE"};function Zf(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?IE(t)?4:WL(t)?9007199254740991:lv(t)?10:11:ln(28295,{value:t})}function qc(t,e){if(t===e)return!0;const n=Zf(t);if(n!==Zf(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Jg(t).isEqual(Jg(e));case 3:return(function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=Bu(i.timestampValue),o=Bu(s.timestampValue);return a.seconds===o.seconds&&a.nanos===o.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,s){return Vu(i.bytesValue).isEqual(Vu(s.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,s){return wi(i.geoPointValue.latitude)===wi(s.geoPointValue.latitude)&&wi(i.geoPointValue.longitude)===wi(s.geoPointValue.longitude)})(t,e);case 2:return(function(i,s){if("integerValue"in i&&"integerValue"in s)return wi(i.integerValue)===wi(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=wi(i.doubleValue),o=wi(s.doubleValue);return a===o?$g(a)===$g(o):isNaN(a)&&isNaN(o)}return!1})(t,e);case 9:return _p(t.arrayValue.values||[],e.arrayValue.values||[],qc);case 10:case 11:return(function(i,s){const a=i.mapValue.fields||{},o=s.mapValue.fields||{};if(PI(a)!==PI(o))return!1;for(const c in a)if(a.hasOwnProperty(c)&&(o[c]===void 0||!qc(a[c],o[c])))return!1;return!0})(t,e);default:return ln(52216,{left:t})}}function Qg(t,e){return(t.values||[]).find((n=>qc(n,e)))!==void 0}function ed(t,e){if(t===e)return 0;const n=Zf(t),r=Zf(e);if(n!==r)return Fn(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Fn(t.booleanValue,e.booleanValue);case 2:return(function(s,a){const o=wi(s.integerValue||s.doubleValue),c=wi(a.integerValue||a.doubleValue);return o<c?-1:o>c?1:o===c?0:isNaN(o)?isNaN(c)?0:-1:1})(t,e);case 3:return MI(t.timestampValue,e.timestampValue);case 4:return MI(Jg(t),Jg(e));case 5:return g5(t.stringValue,e.stringValue);case 6:return(function(s,a){const o=Vu(s),c=Vu(a);return o.compareTo(c)})(t.bytesValue,e.bytesValue);case 7:return(function(s,a){const o=s.split("/"),c=a.split("/");for(let f=0;f<o.length&&f<c.length;f++){const d=Fn(o[f],c[f]);if(d!==0)return d}return Fn(o.length,c.length)})(t.referenceValue,e.referenceValue);case 8:return(function(s,a){const o=Fn(wi(s.latitude),wi(a.latitude));return o!==0?o:Fn(wi(s.longitude),wi(a.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return LI(t.arrayValue,e.arrayValue);case 10:return(function(s,a){const o=s.fields||{},c=a.fields||{},f=o[Ap]?.arrayValue,d=c[Ap]?.arrayValue,m=Fn(f?.values?.length||0,d?.values?.length||0);return m!==0?m:LI(f,d)})(t.mapValue,e.mapValue);case 11:return(function(s,a){if(s===Vf.mapValue&&a===Vf.mapValue)return 0;if(s===Vf.mapValue)return 1;if(a===Vf.mapValue)return-1;const o=s.fields||{},c=Object.keys(o),f=a.fields||{},d=Object.keys(f);c.sort(),d.sort();for(let m=0;m<c.length&&m<d.length;++m){const g=g5(c[m],d[m]);if(g!==0)return g;const y=ed(o[c[m]],f[d[m]]);if(y!==0)return y}return Fn(c.length,d.length)})(t.mapValue,e.mapValue);default:throw ln(23264,{he:n})}}function MI(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Fn(t,e);const n=Bu(t),r=Bu(e),i=Fn(n.seconds,r.seconds);return i!==0?i:Fn(n.nanos,r.nanos)}function LI(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=ed(n[i],r[i]);if(s)return s}return Fn(n.length,r.length)}function Np(t){return w5(t)}function w5(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Bu(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Vu(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Ut.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=w5(s);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const a of r)s?s=!1:i+=",",i+=`${a}:${w5(n.fields[a])}`;return i+"}"})(t.mapValue):ln(61005,{value:t})}function ky(t){switch(Zf(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ov(t);return e?16+ky(e):16;case 5:return 2*t.stringValue.length;case 6:return Vu(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,s)=>i+ky(s)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return ud(r.fields,((s,a)=>{i+=s.length+ky(a)})),i})(t.mapValue);default:throw ln(13486,{value:t})}}function PE(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function T5(t){return!!t&&"integerValue"in t}function Zg(t){return!!t&&"arrayValue"in t}function FI(t){return!!t&&"nullValue"in t}function OI(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ry(t){return!!t&&"mapValue"in t}function lv(t){return(t?.mapValue?.fields||{})[kE]?.stringValue===RE}function vg(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return ud(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=vg(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=vg(t.arrayValue.values[n]);return e}return{...t}}function WL(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===GL}const $L={mapValue:{fields:{[kE]:{stringValue:RE},[Ap]:{arrayValue:{}}}}};function IJ(t){return"nullValue"in t?Iy:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?PE(fh.empty(),Ut.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?lv(t)?$L:{mapValue:{}}:ln(35942,{value:t})}function kJ(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?PE(fh.empty(),Ut.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?$L:"mapValue"in t?lv(t)?{mapValue:{}}:Vf:ln(61959,{value:t})}function BI(t,e){const n=ed(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function VI(t,e){const n=ed(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}class Ea{constructor(e){this.value=e}static empty(){return new Ea({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ry(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=vg(n)}setAll(e){let n=Pi.emptyPath(),r={},i=[];e.forEach(((a,o)=>{if(!n.isImmediateParentOf(o)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=o.popLast()}a?r[o.lastSegment()]=vg(a):i.push(o.lastSegment())}));const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Ry(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return qc(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Ry(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ud(n,((i,s)=>e[i]=s));for(const i of r)delete e[i]}clone(){return new Ea(vg(this.value))}}function KL(t){const e=[];return ud(t.fields,((n,r)=>{const i=new Pi([n]);if(Ry(r)){const s=KL(r.mapValue).fields;if(s.length===0)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)})),new vo(e)}class Hi{constructor(e,n,r,i,s,a,o){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=a,this.documentState=o}static newInvalidDocument(e){return new Hi(e,0,Sn.min(),Sn.min(),Sn.min(),Ea.empty(),0)}static newFoundDocument(e,n,r,i){return new Hi(e,1,n,Sn.min(),r,i,0)}static newNoDocument(e,n){return new Hi(e,2,n,Sn.min(),Sn.min(),Ea.empty(),0)}static newUnknownDocument(e,n){return new Hi(e,3,n,Sn.min(),Sn.min(),Ea.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Sn.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ea.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ea.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Sn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Hi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Hi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Cp{constructor(e,n){this.position=e,this.inclusive=n}}function UI(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],a=t.position[i];if(s.field.isKeyField()?r=Ut.comparator(Ut.fromName(a.referenceValue),n.key):r=ed(a,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function jI(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!qc(t.position[n],e.position[n]))return!1;return!0}class h2{constructor(e,n="asc"){this.field=e,this.dir=n}}function RJ(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class YL{}class pr extends YL{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new PJ(e,n,r):n==="array-contains"?new LJ(e,r):n==="in"?new tF(e,r):n==="not-in"?new FJ(e,r):n==="array-contains-any"?new OJ(e,r):new pr(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new DJ(e,r):new MJ(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ed(n,this.value)):n!==null&&Zf(this.value)===Zf(n)&&this.matchesComparison(ed(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ln(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Qr extends YL{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Qr(e,n)}matches(e){return Ip(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Ip(t){return t.op==="and"}function E5(t){return t.op==="or"}function DE(t){return XL(t)&&Ip(t)}function XL(t){for(const e of t.filters)if(e instanceof Qr)return!1;return!0}function S5(t){if(t instanceof pr)return t.field.canonicalString()+t.op.toString()+Np(t.value);if(DE(t))return t.filters.map((e=>S5(e))).join(",");{const e=t.filters.map((n=>S5(n))).join(",");return`${t.op}(${e})`}}function JL(t,e){return t instanceof pr?(function(r,i){return i instanceof pr&&r.op===i.op&&r.field.isEqual(i.field)&&qc(r.value,i.value)})(t,e):t instanceof Qr?(function(r,i){return i instanceof Qr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((s,a,o)=>s&&JL(a,i.filters[o])),!0):!1})(t,e):void ln(19439)}function QL(t,e){const n=t.filters.concat(e);return Qr.create(n,t.op)}function ZL(t){return t instanceof pr?(function(n){return`${n.field.canonicalString()} ${n.op} ${Np(n.value)}`})(t):t instanceof Qr?(function(n){return n.op.toString()+" {"+n.getFilters().map(ZL).join(" ,")+"}"})(t):"Filter"}class PJ extends pr{constructor(e,n,r){super(e,n,r),this.key=Ut.fromName(r.referenceValue)}matches(e){const n=Ut.comparator(e.key,this.key);return this.matchesComparison(n)}}class DJ extends pr{constructor(e,n){super(e,"in",n),this.keys=eF("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class MJ extends pr{constructor(e,n){super(e,"not-in",n),this.keys=eF("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function eF(t,e){return(e.arrayValue?.values||[]).map((n=>Ut.fromName(n.referenceValue)))}class LJ extends pr{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Zg(n)&&Qg(n.arrayValue,this.value)}}class tF extends pr{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Qg(this.value.arrayValue,n)}}class FJ extends pr{constructor(e,n){super(e,"not-in",n)}matches(e){if(Qg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Qg(this.value.arrayValue,n)}}class OJ extends pr{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Zg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Qg(this.value.arrayValue,r)))}}class BJ{constructor(e,n=null,r=[],i=[],s=null,a=null,o=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=a,this.endAt=o,this.Te=null}}function A5(t,e=null,n=[],r=[],i=null,s=null,a=null){return new BJ(t,e,n,r,i,s,a)}function dh(t){const e=On(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>S5(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(s){return s.field.canonicalString()+s.dir})(r))).join(","),rv(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Np(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Np(r))).join(",")),e.Te=n}return e.Te}function A1(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!RJ(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!JL(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!jI(t.startAt,e.startAt)&&jI(t.endAt,e.endAt)}function p2(t){return Ut.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function m2(t,e){return t.filters.filter((n=>n instanceof pr&&n.field.isEqual(e)))}function qI(t,e,n){let r=Iy,i=!0;for(const s of m2(t,e)){let a=Iy,o=!0;switch(s.op){case"<":case"<=":a=IJ(s.value);break;case"==":case"in":case">=":a=s.value;break;case">":a=s.value,o=!1;break;case"!=":case"not-in":a=Iy}BI({value:r,inclusive:i},{value:a,inclusive:o})<0&&(r=a,i=o)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const a=n.position[s];BI({value:r,inclusive:i},{value:a,inclusive:n.inclusive})<0&&(r=a,i=n.inclusive);break}}return{value:r,inclusive:i}}function HI(t,e,n){let r=Vf,i=!0;for(const s of m2(t,e)){let a=Vf,o=!0;switch(s.op){case">=":case">":a=kJ(s.value),o=!1;break;case"==":case"in":case"<=":a=s.value;break;case"<":a=s.value,o=!1;break;case"!=":case"not-in":a=Vf}VI({value:r,inclusive:i},{value:a,inclusive:o})>0&&(r=a,i=o)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const a=n.position[s];VI({value:r,inclusive:i},{value:a,inclusive:n.inclusive})>0&&(r=a,i=n.inclusive);break}}return{value:r,inclusive:i}}class cv{constructor(e,n=null,r=[],i=[],s=null,a="F",o=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=a,this.startAt=o,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function VJ(t,e,n,r,i,s,a,o){return new cv(t,e,n,r,i,s,a,o)}function uv(t){return new cv(t)}function zI(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function UJ(t){return t.collectionGroup!==null}function bg(t){const e=On(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let o=new Hr(Pi.comparator);return a.filters.forEach((c=>{c.getFlattenedFilters().forEach((f=>{f.isInequality()&&(o=o.add(f.field))}))})),o})(e).forEach((s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new h2(s,r))})),n.has(Pi.keyField().canonicalString())||e.Ie.push(new h2(Pi.keyField(),r))}return e.Ie}function ml(t){const e=On(t);return e.Ee||(e.Ee=jJ(e,bg(t))),e.Ee}function jJ(t,e){if(t.limitType==="F")return A5(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const s=i.dir==="desc"?"asc":"desc";return new h2(i.field,s)}));const n=t.endAt?new Cp(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Cp(t.startAt.position,t.startAt.inclusive):null;return A5(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function N5(t,e,n){return new cv(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function fv(t,e){return A1(ml(t),ml(e))&&t.limitType===e.limitType}function nF(t){return`${dh(ml(t))}|lt:${t.limitType}`}function D0(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>ZL(i))).join(", ")}]`),rv(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(a){return`${a.field.canonicalString()} (${a.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>Np(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>Np(i))).join(",")),`Target(${r})`})(ml(t))}; limitType=${t.limitType})`}function N1(t,e){return e.isFoundDocument()&&(function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Ut.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)})(t,e)&&(function(r,i){for(const s of bg(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(a,o,c){const f=UI(a,o,c);return a.inclusive?f<=0:f<0})(r.startAt,bg(r),i)||r.endAt&&!(function(a,o,c){const f=UI(a,o,c);return a.inclusive?f>=0:f>0})(r.endAt,bg(r),i))})(t,e)}function qJ(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function rF(t){return(e,n)=>{let r=!1;for(const i of bg(t)){const s=HJ(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function HJ(t,e,n){const r=t.field.isKeyField()?Ut.comparator(e.key,n.key):(function(s,a,o){const c=a.data.field(s),f=o.data.field(s);return c!==null&&f!==null?ed(c,f):ln(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ln(19790,{direction:t.dir})}}class Hu{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ud(this.inner,((n,r)=>{for(const[i,s]of r)e(i,s)}))}isEmpty(){return VL(this.inner)}size(){return this.innerSize}}const zJ=new Ei(Ut.comparator);function Vo(){return zJ}const iF=new Ei(Ut.comparator);function eg(...t){let e=iF;for(const n of t)e=e.insert(n.key,n);return e}function sF(t){let e=iF;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function kc(){return _g()}function aF(){return _g()}function _g(){return new Hu((t=>t.toString()),((t,e)=>t.isEqual(e)))}const GJ=new Ei(Ut.comparator),WJ=new Hr(Ut.comparator);function Zn(...t){let e=WJ;for(const n of t)e=e.add(n);return e}const $J=new Hr(Fn);function KJ(){return $J}function ME(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$g(e)?"-0":e}}function oF(t){return{integerValue:""+t}}function YJ(t,e){return eJ(e)?oF(e):ME(t,e)}class dv{constructor(){this._=void 0}}function XJ(t,e,n){return t instanceof kp?(function(i,s){const a={fields:{[qL]:{stringValue:jL},[zL]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&IE(s)&&(s=ov(s)),s&&(a.fields[HL]=s),{mapValue:a}})(n,e):t instanceof Rp?cF(t,e):t instanceof Pp?uF(t,e):(function(i,s){const a=lF(i,s),o=GI(a)+GI(i.Ae);return T5(a)&&T5(i.Ae)?oF(o):ME(i.serializer,o)})(t,e)}function JJ(t,e,n){return t instanceof Rp?cF(t,e):t instanceof Pp?uF(t,e):n}function lF(t,e){return t instanceof e1?(function(r){return T5(r)||(function(s){return!!s&&"doubleValue"in s})(r)})(e)?e:{integerValue:0}:null}class kp extends dv{}class Rp extends dv{constructor(e){super(),this.elements=e}}function cF(t,e){const n=fF(e);for(const r of t.elements)n.some((i=>qc(i,r)))||n.push(r);return{arrayValue:{values:n}}}class Pp extends dv{constructor(e){super(),this.elements=e}}function uF(t,e){let n=fF(e);for(const r of t.elements)n=n.filter((i=>!qc(i,r)));return{arrayValue:{values:n}}}class e1 extends dv{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function GI(t){return wi(t.integerValue||t.doubleValue)}function fF(t){return Zg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class dF{constructor(e,n){this.field=e,this.transform=n}}function QJ(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof Rp&&i instanceof Rp||r instanceof Pp&&i instanceof Pp?_p(r.elements,i.elements,qc):r instanceof e1&&i instanceof e1?qc(r.Ae,i.Ae):r instanceof kp&&i instanceof kp})(t.transform,e.transform)}class ZJ{constructor(e,n){this.version=e,this.transformResults=n}}class oa{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new oa}static exists(e){return new oa(void 0,e)}static updateTime(e){return new oa(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Py(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class hv{}function hF(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new C1(t.key,oa.none()):new Wp(t.key,t.data,oa.none());{const n=t.data,r=Ea.empty();let i=new Hr(Pi.comparator);for(let s of e.fields)if(!i.has(s)){let a=n.field(s);a===null&&s.length>1&&(s=s.popLast(),a=n.field(s)),a===null?r.delete(s):r.set(s,a),i=i.add(s)}return new zu(t.key,r,new vo(i.toArray()),oa.none())}}function eQ(t,e,n){t instanceof Wp?(function(i,s,a){const o=i.value.clone(),c=$I(i.fieldTransforms,s,a.transformResults);o.setAll(c),s.convertToFoundDocument(a.version,o).setHasCommittedMutations()})(t,e,n):t instanceof zu?(function(i,s,a){if(!Py(i.precondition,s))return void s.convertToUnknownDocument(a.version);const o=$I(i.fieldTransforms,s,a.transformResults),c=s.data;c.setAll(pF(i)),c.setAll(o),s.convertToFoundDocument(a.version,c).setHasCommittedMutations()})(t,e,n):(function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()})(0,e,n)}function wg(t,e,n,r){return t instanceof Wp?(function(s,a,o,c){if(!Py(s.precondition,a))return o;const f=s.value.clone(),d=KI(s.fieldTransforms,c,a);return f.setAll(d),a.convertToFoundDocument(a.version,f).setHasLocalMutations(),null})(t,e,n,r):t instanceof zu?(function(s,a,o,c){if(!Py(s.precondition,a))return o;const f=KI(s.fieldTransforms,c,a),d=a.data;return d.setAll(pF(s)),d.setAll(f),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),o===null?null:o.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((m=>m.field)))})(t,e,n,r):(function(s,a,o){return Py(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):o})(t,e,n)}function tQ(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=lF(r.transform,i||null);s!=null&&(n===null&&(n=Ea.empty()),n.set(r.field,s))}return n||null}function WI(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&_p(r,i,((s,a)=>QJ(s,a)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Wp extends hv{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class zu extends hv{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function pF(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function $I(t,e,n){const r=new Map;vn(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const s=t[i],a=s.transform,o=e.data.field(s.field);r.set(s.field,JJ(a,o,n[i]))}return r}function KI(t,e,n){const r=new Map;for(const i of t){const s=i.transform,a=n.data.field(i.field);r.set(i.field,XJ(s,a,e))}return r}class C1 extends hv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class mF extends hv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class LE{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&eQ(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=wg(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=wg(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=aF();return this.mutations.forEach((i=>{const s=e.get(i.key),a=s.overlayedDocument;let o=this.applyToLocalView(a,s.mutatedFields);o=n.has(i.key)?null:o;const c=hF(a,o);c!==null&&r.set(i.key,c),a.isValidDocument()||a.convertToNoDocument(Sn.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Zn())}isEqual(e){return this.batchId===e.batchId&&_p(this.mutations,e.mutations,((n,r)=>WI(n,r)))&&_p(this.baseMutations,e.baseMutations,((n,r)=>WI(n,r)))}}class FE{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){vn(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return GJ})();const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,r[a].version);return new FE(e,n,r,i)}}class OE{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class nQ{constructor(e,n){this.count=e,this.unchangedNames=n}}var ls,vr;function rQ(t){switch(t){case gt.OK:return ln(64938);case gt.CANCELLED:case gt.UNKNOWN:case gt.DEADLINE_EXCEEDED:case gt.RESOURCE_EXHAUSTED:case gt.INTERNAL:case gt.UNAVAILABLE:case gt.UNAUTHENTICATED:return!1;case gt.INVALID_ARGUMENT:case gt.NOT_FOUND:case gt.ALREADY_EXISTS:case gt.PERMISSION_DENIED:case gt.FAILED_PRECONDITION:case gt.ABORTED:case gt.OUT_OF_RANGE:case gt.UNIMPLEMENTED:case gt.DATA_LOSS:return!0;default:return ln(15467,{code:t})}}function gF(t){if(t===void 0)return Ha("GRPC error has no .code"),gt.UNKNOWN;switch(t){case ls.OK:return gt.OK;case ls.CANCELLED:return gt.CANCELLED;case ls.UNKNOWN:return gt.UNKNOWN;case ls.DEADLINE_EXCEEDED:return gt.DEADLINE_EXCEEDED;case ls.RESOURCE_EXHAUSTED:return gt.RESOURCE_EXHAUSTED;case ls.INTERNAL:return gt.INTERNAL;case ls.UNAVAILABLE:return gt.UNAVAILABLE;case ls.UNAUTHENTICATED:return gt.UNAUTHENTICATED;case ls.INVALID_ARGUMENT:return gt.INVALID_ARGUMENT;case ls.NOT_FOUND:return gt.NOT_FOUND;case ls.ALREADY_EXISTS:return gt.ALREADY_EXISTS;case ls.PERMISSION_DENIED:return gt.PERMISSION_DENIED;case ls.FAILED_PRECONDITION:return gt.FAILED_PRECONDITION;case ls.ABORTED:return gt.ABORTED;case ls.OUT_OF_RANGE:return gt.OUT_OF_RANGE;case ls.UNIMPLEMENTED:return gt.UNIMPLEMENTED;case ls.DATA_LOSS:return gt.DATA_LOSS;default:return ln(39323,{code:t})}}(vr=ls||(ls={}))[vr.OK=0]="OK",vr[vr.CANCELLED=1]="CANCELLED",vr[vr.UNKNOWN=2]="UNKNOWN",vr[vr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",vr[vr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",vr[vr.NOT_FOUND=5]="NOT_FOUND",vr[vr.ALREADY_EXISTS=6]="ALREADY_EXISTS",vr[vr.PERMISSION_DENIED=7]="PERMISSION_DENIED",vr[vr.UNAUTHENTICATED=16]="UNAUTHENTICATED",vr[vr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",vr[vr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",vr[vr.ABORTED=10]="ABORTED",vr[vr.OUT_OF_RANGE=11]="OUT_OF_RANGE",vr[vr.UNIMPLEMENTED=12]="UNIMPLEMENTED",vr[vr.INTERNAL=13]="INTERNAL",vr[vr.UNAVAILABLE=14]="UNAVAILABLE",vr[vr.DATA_LOSS=15]="DATA_LOSS";function iQ(){return new TextEncoder}const sQ=new Kf([4294967295,4294967295],0);function YI(t){const e=iQ().encode(t),n=new pL;return n.update(e),new Uint8Array(n.digest())}function XI(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Kf([n,r],0),new Kf([i,s],0)]}class BE{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new tg(`Invalid padding: ${n}`);if(r<0)throw new tg(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new tg(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new tg(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Kf.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Kf.fromNumber(r)));return i.compare(sQ)===1&&(i=new Kf([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=YI(e),[r,i]=XI(n);for(let s=0;s<this.hashCount;s++){const a=this.ye(r,i,s);if(!this.we(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new BE(s,i,n);return r.forEach((o=>a.insert(o))),a}insert(e){if(this.ge===0)return;const n=YI(e),[r,i]=XI(n);for(let s=0;s<this.hashCount;s++){const a=this.ye(r,i,s);this.Se(a)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class tg extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class pv{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,I1.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new pv(Sn.min(),i,new Ei(Fn),Vo(),Zn())}}class I1{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new I1(r,n,Zn(),Zn(),Zn())}}class Dy{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class xF{constructor(e,n){this.targetId=e,this.Ce=n}}class yF{constructor(e,n,r=hs.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class JI{constructor(){this.ve=0,this.Fe=QI(),this.Me=hs.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Zn(),n=Zn(),r=Zn();return this.Fe.forEach(((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ln(38017,{changeType:s})}})),new I1(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=QI()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,vn(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class aQ{constructor(e){this.Ge=e,this.ze=new Map,this.je=Vo(),this.Je=jx(),this.He=jx(),this.Ye=new Ei(Fn)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:ln(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if(p2(s))if(r===0){const a=new Ut(s.path);this.et(n,a,Hi.newNoDocument(a,Sn.min()))}else vn(r===1,20013,{expectedCount:r});else{const a=this._t(n);if(a!==r){const o=this.ut(e),c=o?this.ct(o,e,a):1;if(c!==0){this.it(n);const f=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,f)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let a,o;try{a=Vu(r).toUint8Array()}catch(c){if(c instanceof UL)return uh("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{o=new BE(a,i,s)}catch(c){return uh(c instanceof tg?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return o.ge===0?null:o}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((s=>{const a=this.Ge.ht(),o=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(o)||(this.et(n,s,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((s,a)=>{const o=this.ot(a);if(o){if(s.current&&p2(o.target)){const c=new Ut(o.target.path);this.It(c).has(a)||this.Et(a,c)||this.et(a,c,Hi.newNoDocument(c,e))}s.Be&&(n.set(a,s.ke()),s.qe())}}));let r=Zn();this.He.forEach(((s,a)=>{let o=!0;a.forEachWhile((c=>{const f=this.ot(c);return!f||f.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)})),o&&(r=r.add(s))})),this.je.forEach(((s,a)=>a.setReadTime(e)));const i=new pv(e,n,this.Ye,this.je,r);return this.je=Vo(),this.Je=jx(),this.He=jx(),this.Ye=new Ei(Fn),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new JI,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Hr(Fn),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Hr(Fn),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||It("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new JI),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function jx(){return new Ei(Ut.comparator)}function QI(){return new Ei(Ut.comparator)}const oQ={asc:"ASCENDING",desc:"DESCENDING"},lQ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},cQ={and:"AND",or:"OR"};class uQ{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function C5(t,e){return t.useProto3Json||rv(e)?e:{value:e}}function Dp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function vF(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function fQ(t,e){return Dp(t,e.toTimestamp())}function Wa(t){return vn(!!t,49232),Sn.fromTimestamp((function(n){const r=Bu(n);return new jr(r.seconds,r.nanos)})(t))}function VE(t,e){return I5(t,e).canonicalString()}function I5(t,e){const n=(function(i){return new Lr(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function bF(t){const e=Lr.fromString(t);return vn(IF(e),10190,{key:e.toString()}),e}function g2(t,e){return VE(t.databaseId,e.path)}function Zd(t,e){const n=bF(e);if(n.get(1)!==t.databaseId.projectId)throw new Vt(gt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Vt(gt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ut(TF(n))}function _F(t,e){return VE(t.databaseId,e)}function wF(t){const e=bF(t);return e.length===4?Lr.emptyPath():TF(e)}function k5(t){return new Lr(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function TF(t){return vn(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function ZI(t,e,n){return{name:g2(t,e),fields:n.value.mapValue.fields}}function dQ(t,e,n){const r=Zd(t,e.name),i=Wa(e.updateTime),s=e.createTime?Wa(e.createTime):Sn.min(),a=new Ea({mapValue:{fields:e.fields}}),o=Hi.newFoundDocument(r,i,s,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function hQ(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:ln(39313,{state:f})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=(function(f,d){return f.useProto3Json?(vn(d===void 0||typeof d=="string",58123),hs.fromBase64String(d||"")):(vn(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),hs.fromUint8Array(d||new Uint8Array))})(t,e.targetChange.resumeToken),a=e.targetChange.cause,o=a&&(function(f){const d=f.code===void 0?gt.UNKNOWN:gF(f.code);return new Vt(d,f.message||"")})(a);n=new yF(r,i,s,o||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Zd(t,r.document.name),s=Wa(r.document.updateTime),a=r.document.createTime?Wa(r.document.createTime):Sn.min(),o=new Ea({mapValue:{fields:r.document.fields}}),c=Hi.newFoundDocument(i,s,a,o),f=r.targetIds||[],d=r.removedTargetIds||[];n=new Dy(f,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Zd(t,r.document),s=r.readTime?Wa(r.readTime):Sn.min(),a=Hi.newNoDocument(i,s),o=r.removedTargetIds||[];n=new Dy([],o,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Zd(t,r.document),s=r.removedTargetIds||[];n=new Dy([],s,i,null)}else{if(!("filter"in e))return ln(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,a=new nQ(i,s),o=r.targetId;n=new xF(o,a)}}return n}function x2(t,e){let n;if(e instanceof Wp)n={update:ZI(t,e.key,e.value)};else if(e instanceof C1)n={delete:g2(t,e.key)};else if(e instanceof zu)n={update:ZI(t,e.key,e.data),updateMask:vQ(e.fieldMask)};else{if(!(e instanceof mF))return ln(16599,{Vt:e.type});n={verify:g2(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(s,a){const o=a.transform;if(o instanceof kp)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Rp)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Pp)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof e1)return{fieldPath:a.field.canonicalString(),increment:o.Ae};throw ln(20930,{transform:a.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,s){return s.updateTime!==void 0?{updateTime:fQ(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ln(27497)})(t,e.precondition)),n}function R5(t,e){const n=e.currentDocument?(function(s){return s.updateTime!==void 0?oa.updateTime(Wa(s.updateTime)):s.exists!==void 0?oa.exists(s.exists):oa.none()})(e.currentDocument):oa.none(),r=e.updateTransforms?e.updateTransforms.map((i=>(function(a,o){let c=null;if("setToServerValue"in o)vn(o.setToServerValue==="REQUEST_TIME",16630,{proto:o}),c=new kp;else if("appendMissingElements"in o){const d=o.appendMissingElements.values||[];c=new Rp(d)}else if("removeAllFromArray"in o){const d=o.removeAllFromArray.values||[];c=new Pp(d)}else"increment"in o?c=new e1(a,o.increment):ln(16584,{proto:o});const f=Pi.fromServerFormat(o.fieldPath);return new dF(f,c)})(t,i))):[];if(e.update){e.update.name;const i=Zd(t,e.update.name),s=new Ea({mapValue:{fields:e.update.fields}});if(e.updateMask){const a=(function(c){const f=c.fieldPaths||[];return new vo(f.map((d=>Pi.fromServerFormat(d))))})(e.updateMask);return new zu(i,s,a,n,r)}return new Wp(i,s,n,r)}if(e.delete){const i=Zd(t,e.delete);return new C1(i,n)}if(e.verify){const i=Zd(t,e.verify);return new mF(i,n)}return ln(1463,{proto:e})}function pQ(t,e){return t&&t.length>0?(vn(e!==void 0,14353),t.map((n=>(function(i,s){let a=i.updateTime?Wa(i.updateTime):Wa(s);return a.isEqual(Sn.min())&&(a=Wa(s)),new ZJ(a,i.transformResults||[])})(n,e)))):[]}function EF(t,e){return{documents:[_F(t,e.path)]}}function SF(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=_F(t,i);const s=(function(f){if(f.length!==0)return CF(Qr.create(f,"and"))})(e.filters);s&&(n.structuredQuery.where=s);const a=(function(f){if(f.length!==0)return f.map((d=>(function(g){return{field:M0(g.field),direction:gQ(g.dir)}})(d)))})(e.orderBy);a&&(n.structuredQuery.orderBy=a);const o=C5(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(e.endAt)),{ft:n,parent:i}}function AF(t){let e=wF(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){vn(r===1,65062);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=(function(m){const g=NF(m);return g instanceof Qr&&DE(g)?g.getFilters():[g]})(n.where));let a=[];n.orderBy&&(a=(function(m){return m.map((g=>(function(E){return new h2(L0(E.field),(function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(E.direction))})(g)))})(n.orderBy));let o=null;n.limit&&(o=(function(m){let g;return g=typeof m=="object"?m.value:m,rv(g)?null:g})(n.limit));let c=null;n.startAt&&(c=(function(m){const g=!!m.before,y=m.values||[];return new Cp(y,g)})(n.startAt));let f=null;return n.endAt&&(f=(function(m){const g=!m.before,y=m.values||[];return new Cp(y,g)})(n.endAt)),VJ(e,i,a,s,o,"F",c,f)}function mQ(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ln(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function NF(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=L0(n.unaryFilter.field);return pr.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=L0(n.unaryFilter.field);return pr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=L0(n.unaryFilter.field);return pr.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=L0(n.unaryFilter.field);return pr.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ln(61313);default:return ln(60726)}})(t):t.fieldFilter!==void 0?(function(n){return pr.create(L0(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ln(58110);default:return ln(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Qr.create(n.compositeFilter.filters.map((r=>NF(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ln(1026)}})(n.compositeFilter.op))})(t):ln(30097,{filter:t})}function gQ(t){return oQ[t]}function xQ(t){return lQ[t]}function yQ(t){return cQ[t]}function M0(t){return{fieldPath:t.canonicalString()}}function L0(t){return Pi.fromServerFormat(t.fieldPath)}function CF(t){return t instanceof pr?(function(n){if(n.op==="=="){if(OI(n.value))return{unaryFilter:{field:M0(n.field),op:"IS_NAN"}};if(FI(n.value))return{unaryFilter:{field:M0(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(OI(n.value))return{unaryFilter:{field:M0(n.field),op:"IS_NOT_NAN"}};if(FI(n.value))return{unaryFilter:{field:M0(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:M0(n.field),op:xQ(n.op),value:n.value}}})(t):t instanceof Qr?(function(n){const r=n.getFilters().map((i=>CF(i)));return r.length===1?r[0]:{compositeFilter:{op:yQ(n.op),filters:r}}})(t):ln(54877,{filter:t})}function vQ(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function IF(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class Su{constructor(e,n,r,i,s=Sn.min(),a=Sn.min(),o=hs.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=c}withSequenceNumber(e){return new Su(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Su(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Su(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Su(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class kF{constructor(e){this.yt=e}}function bQ(t,e){let n;if(e.document)n=dQ(t.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Ut.fromSegments(e.noDocument.path),i=ph(e.noDocument.readTime);n=Hi.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return ln(56709);{const r=Ut.fromSegments(e.unknownDocument.path),i=ph(e.unknownDocument.version);n=Hi.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime((function(i){const s=new jr(i[0],i[1]);return Sn.fromTimestamp(s)})(e.readTime)),n}function e3(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:y2(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=(function(s,a){return{name:g2(s,a.key),fields:a.data.value.mapValue.fields,updateTime:Dp(s,a.version.toTimestamp()),createTime:Dp(s,a.createTime.toTimestamp())}})(t.yt,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:hh(e.version)};else{if(!e.isUnknownDocument())return ln(57904,{document:e});r.unknownDocument={path:n.path.toArray(),version:hh(e.version)}}return r}function y2(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function hh(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function ph(t){const e=new jr(t.seconds,t.nanoseconds);return Sn.fromTimestamp(e)}function Bd(t,e){const n=(e.baseMutations||[]).map((s=>R5(t.yt,s)));for(let s=0;s<e.mutations.length-1;++s){const a=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const o=e.mutations[s+1];a.updateTransforms=o.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const r=e.mutations.map((s=>R5(t.yt,s))),i=jr.fromMillis(e.localWriteTimeMs);return new LE(e.batchId,i,n,r)}function ng(t){const e=ph(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?ph(t.lastLimboFreeSnapshotVersion):Sn.min();let r;return r=(function(s){return s.documents!==void 0})(t.query)?(function(s){const a=s.documents.length;return vn(a===1,1966,{count:a}),ml(uv(wF(s.documents[0])))})(t.query):(function(s){return ml(AF(s))})(t.query),new Su(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,hs.fromBase64String(t.resumeToken))}function RF(t,e){const n=hh(e.snapshotVersion),r=hh(e.lastLimboFreeSnapshotVersion);let i;i=p2(e.target)?EF(t.yt,e.target):SF(t.yt,e.target).ft;const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:dh(e.target),readTime:n,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function PF(t){const e=AF({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?N5(e,e.limit,"L"):e}function S_(t,e){return new OE(e.largestBatchId,R5(t.yt,e.overlayMutation))}function t3(t,e){const n=e.path.lastSegment();return[t,Ia(e.path.popLast()),n]}function n3(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:hh(r.readTime),documentKey:Ia(r.documentKey.path),largestBatchId:r.largestBatchId}}class _Q{getBundleMetadata(e,n){return r3(e).get(n).next((r=>{if(r)return(function(s){return{id:s.bundleId,createTime:ph(s.createTime),version:s.version}})(r)}))}saveBundleMetadata(e,n){return r3(e).put((function(i){return{bundleId:i.id,createTime:hh(Wa(i.createTime)),version:i.version}})(n))}getNamedQuery(e,n){return i3(e).get(n).next((r=>{if(r)return(function(s){return{name:s.name,query:PF(s.bundledQuery),readTime:ph(s.readTime)}})(r)}))}saveNamedQuery(e,n){return i3(e).put((function(i){return{name:i.name,readTime:hh(Wa(i.readTime)),bundledQuery:i.bundledQuery}})(n))}}function r3(t){return ks(t,iv)}function i3(t){return ks(t,sv)}class mv{constructor(e,n){this.serializer=e,this.userId=n}static wt(e,n){const r=n.uid||"";return new mv(e,r)}getOverlay(e,n){return jm(e).get(t3(this.userId,n)).next((r=>r?S_(this.serializer,r):null))}getOverlays(e,n){const r=kc();return Ke.forEach(n,(i=>this.getOverlay(e,i).next((s=>{s!==null&&r.set(i,s)})))).next((()=>r))}saveOverlays(e,n,r){const i=[];return r.forEach(((s,a)=>{const o=new OE(n,a);i.push(this.St(e,o))})),Ke.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach((a=>i.add(Ia(a.getCollectionPath()))));const s=[];return i.forEach((a=>{const o=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,r+1],!1,!0);s.push(jm(e).Z(b5,o))})),Ke.waitFor(s)}getOverlaysForCollection(e,n,r){const i=kc(),s=Ia(n),a=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return jm(e).J(b5,a).next((o=>{for(const c of o){const f=S_(this.serializer,c);i.set(f.getKey(),f)}return i}))}getOverlaysForCollectionGroup(e,n,r,i){const s=kc();let a;const o=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return jm(e).ee({index:ML,range:o},((c,f,d)=>{const m=S_(this.serializer,f);s.size()<i||m.largestBatchId===a?(s.set(m.getKey(),m),a=m.largestBatchId):d.done()})).next((()=>s))}St(e,n){return jm(e).put((function(i,s,a){const[o,c,f]=t3(s,a.mutation.key);return{userId:s,collectionPath:c,documentId:f,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:x2(i.yt,a.mutation)}})(this.serializer,this.userId,n))}}function jm(t){return ks(t,av)}class wQ{bt(e){return ks(e,NE)}getSessionToken(e){return this.bt(e).get("sessionToken").next((n=>{const r=n?.value;return r?hs.fromUint8Array(r):hs.EMPTY_BYTE_STRING}))}setSessionToken(e,n){return this.bt(e).put({name:"sessionToken",value:n.toUint8Array()})}}class Vd{constructor(){}Dt(e,n){this.Ct(e,n),n.vt()}Ct(e,n){if("nullValue"in e)this.Ft(n,5);else if("booleanValue"in e)this.Ft(n,10),n.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(n,15),n.Mt(wi(e.integerValue));else if("doubleValue"in e){const r=wi(e.doubleValue);isNaN(r)?this.Ft(n,13):(this.Ft(n,15),$g(r)?n.Mt(0):n.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(n,20),typeof r=="string"&&(r=Bu(r)),n.xt(`${r.seconds||""}`),n.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,n),this.Nt(n);else if("bytesValue"in e)this.Ft(n,30),n.Bt(Vu(e.bytesValue)),this.Nt(n);else if("referenceValue"in e)this.Lt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ft(n,45),n.Mt(r.latitude||0),n.Mt(r.longitude||0)}else"mapValue"in e?WL(e)?this.Ft(n,Number.MAX_SAFE_INTEGER):lv(e)?this.kt(e.mapValue,n):(this.qt(e.mapValue,n),this.Nt(n)):"arrayValue"in e?(this.Qt(e.arrayValue,n),this.Nt(n)):ln(19022,{$t:e})}Ot(e,n){this.Ft(n,25),this.Ut(e,n)}Ut(e,n){n.xt(e)}qt(e,n){const r=e.fields||{};this.Ft(n,55);for(const i of Object.keys(r))this.Ot(i,n),this.Ct(r[i],n)}kt(e,n){const r=e.fields||{};this.Ft(n,53);const i=Ap,s=r[i].arrayValue?.values?.length||0;this.Ft(n,15),n.Mt(wi(s)),this.Ot(i,n),this.Ct(r[i],n)}Qt(e,n){const r=e.values||[];this.Ft(n,50);for(const i of r)this.Ct(i,n)}Lt(e,n){this.Ft(n,37),Ut.fromName(e).path.forEach((r=>{this.Ft(n,60),this.Ut(r,n)}))}Ft(e,n){e.Mt(n)}Nt(e){e.Mt(2)}}Vd.Kt=new Vd;const w0=255;function TQ(t){if(t===0)return 8;let e=0;return t>>4||(e+=4,t<<=4),t>>6||(e+=2,t<<=2),t>>7||(e+=1),e}function s3(t){const e=64-(function(r){let i=0;for(let s=0;s<8;++s){const a=TQ(255&r[s]);if(i+=a,a!==8)break}return i})(t);return Math.ceil(e/8)}class EQ{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Gt(r.value),r=n.next();this.zt()}jt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Jt(r.value),r=n.next();this.Ht()}Yt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const i=n.codePointAt(0);this.Gt(240|i>>>18),this.Gt(128|63&i>>>12),this.Gt(128|63&i>>>6),this.Gt(128|63&i)}}this.zt()}Zt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Jt(r);else if(r<2048)this.Jt(960|r>>>6),this.Jt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Jt(480|r>>>12),this.Jt(128|63&r>>>6),this.Jt(128|63&r);else{const i=n.codePointAt(0);this.Jt(240|i>>>18),this.Jt(128|63&i>>>12),this.Jt(128|63&i>>>6),this.Jt(128|63&i)}}this.Ht()}Xt(e){const n=this.en(e),r=s3(n);this.tn(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}nn(e){const n=this.en(e),r=s3(n);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}rn(){this.sn(w0),this.sn(255)}_n(){this.an(w0),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const n=(function(s){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,s,!1),new Uint8Array(a.buffer)})(e),r=!!(128&n[0]);n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Gt(e){const n=255&e;n===0?(this.sn(0),this.sn(255)):n===w0?(this.sn(w0),this.sn(0)):this.sn(n)}Jt(e){const n=255&e;n===0?(this.an(0),this.an(255)):n===w0?(this.an(w0),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class SQ{constructor(e){this.cn=e}Bt(e){this.cn.Wt(e)}xt(e){this.cn.Yt(e)}Mt(e){this.cn.Xt(e)}vt(){this.cn.rn()}}class AQ{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class qm{constructor(){this.cn=new EQ,this.ln=new SQ(this.cn),this.hn=new AQ(this.cn)}seed(e){this.cn.seed(e)}Pn(e){return e===0?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}}class Ud{constructor(e,n,r,i){this.Tn=e,this.In=n,this.En=r,this.dn=i}An(){const e=this.dn.length,n=e===0||this.dn[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.dn,0),n!==e?r.set([0],this.dn.length):++r[r.length-1],new Ud(this.Tn,this.In,this.En,r)}Rn(e,n,r){return{indexId:this.Tn,uid:e,arrayValue:My(this.En),directionalValue:My(this.dn),orderedDocumentKey:My(n),documentKey:r.path.toArray()}}Vn(e,n,r){const i=this.Rn(e,n,r);return[i.indexId,i.uid,i.arrayValue,i.directionalValue,i.orderedDocumentKey,i.documentKey]}}function Sf(t,e){let n=t.Tn-e.Tn;return n!==0?n:(n=a3(t.En,e.En),n!==0?n:(n=a3(t.dn,e.dn),n!==0?n:Ut.comparator(t.In,e.In)))}function a3(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}function My(t){return NM()?(function(n){let r="";for(let i=0;i<n.length;i++)r+=String.fromCharCode(n[i]);return r})(t):t}function o3(t){return typeof t!="string"?t:(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(t)}class l3{constructor(e){this.mn=new Hr(((n,r)=>Pi.comparator(n.field,r.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.fn=e.orderBy,this.gn=[];for(const n of e.filters){const r=n;r.isInequality()?this.mn=this.mn.add(r):this.gn.push(r)}}get pn(){return this.mn.size>1}yn(e){if(vn(e.collectionGroup===this.collectionId,49279),this.pn)return!1;const n=x5(e);if(n!==void 0&&!this.wn(n))return!1;const r=Md(e);let i=new Set,s=0,a=0;for(;s<r.length&&this.wn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.mn.size>0){const o=this.mn.getIterator().getNext();if(!i.has(o.field.canonicalString())){const c=r[s];if(!this.Sn(o,c)||!this.bn(this.fn[a++],c))return!1}++s}for(;s<r.length;++s){const o=r[s];if(a>=this.fn.length||!this.bn(this.fn[a++],o))return!1}return!0}Dn(){if(this.pn)return null;let e=new Hr(Pi.comparator);const n=[];for(const r of this.gn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new Ay(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new Ay(r.field,0))}for(const r of this.fn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new Ay(r.field,r.dir==="asc"?0:1)));return new l2(l2.UNKNOWN_ID,this.collectionId,n,Wg.empty())}wn(e){for(const n of this.gn)if(this.Sn(n,e))return!0;return!1}Sn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}bn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}function DF(t){if(vn(t instanceof pr||t instanceof Qr,20012),t instanceof pr){if(t instanceof tF){const n=t.value.arrayValue?.values?.map((r=>pr.create(t.field,"==",r)))||[];return Qr.create(n,"or")}return t}const e=t.filters.map((n=>DF(n)));return Qr.create(e,t.op)}function NQ(t){if(t.getFilters().length===0)return[];const e=M5(DF(t));return vn(MF(e),7391),P5(e)||D5(e)?[e]:e.getFilters()}function P5(t){return t instanceof pr}function D5(t){return t instanceof Qr&&DE(t)}function MF(t){return P5(t)||D5(t)||(function(n){if(n instanceof Qr&&E5(n)){for(const r of n.getFilters())if(!P5(r)&&!D5(r))return!1;return!0}return!1})(t)}function M5(t){if(vn(t instanceof pr||t instanceof Qr,34018),t instanceof pr)return t;if(t.filters.length===1)return M5(t.filters[0]);const e=t.filters.map((r=>M5(r)));let n=Qr.create(e,t.op);return n=v2(n),MF(n)?n:(vn(n instanceof Qr,64498),vn(Ip(n),40251),vn(n.filters.length>1,57927),n.filters.reduce(((r,i)=>UE(r,i))))}function UE(t,e){let n;return vn(t instanceof pr||t instanceof Qr,38388),vn(e instanceof pr||e instanceof Qr,25473),n=t instanceof pr?e instanceof pr?(function(i,s){return Qr.create([i,s],"and")})(t,e):c3(t,e):e instanceof pr?c3(e,t):(function(i,s){if(vn(i.filters.length>0&&s.filters.length>0,48005),Ip(i)&&Ip(s))return QL(i,s.getFilters());const a=E5(i)?i:s,o=E5(i)?s:i,c=a.filters.map((f=>UE(f,o)));return Qr.create(c,"or")})(t,e),v2(n)}function c3(t,e){if(Ip(e))return QL(e,t.getFilters());{const n=e.filters.map((r=>UE(t,r)));return Qr.create(n,"or")}}function v2(t){if(vn(t instanceof pr||t instanceof Qr,11850),t instanceof pr)return t;const e=t.getFilters();if(e.length===1)return v2(e[0]);if(XL(t))return t;const n=e.map((i=>v2(i))),r=[];return n.forEach((i=>{i instanceof pr?r.push(i):i instanceof Qr&&(i.op===t.op?r.push(...i.filters):r.push(i))})),r.length===1?r[0]:Qr.create(r,t.op)}class CQ{constructor(){this.Cn=new jE}addToCollectionParentIndex(e,n){return this.Cn.add(n),Ke.resolve()}getCollectionParents(e,n){return Ke.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Ke.resolve()}deleteFieldIndex(e,n){return Ke.resolve()}deleteAllFieldIndexes(e){return Ke.resolve()}createTargetIndexes(e,n){return Ke.resolve()}getDocumentsMatchingTarget(e,n){return Ke.resolve(null)}getIndexType(e,n){return Ke.resolve(0)}getFieldIndexes(e,n){return Ke.resolve([])}getNextCollectionGroupToUpdate(e){return Ke.resolve(null)}getMinOffset(e,n){return Ke.resolve(jo.min())}getMinOffsetFromCollectionGroup(e,n){return Ke.resolve(jo.min())}updateCollectionGroup(e,n,r){return Ke.resolve()}updateIndexEntries(e,n){return Ke.resolve()}}class jE{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Hr(Lr.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Hr(Lr.comparator)).toArray()}}const u3="IndexedDbIndexManager",qx=new Uint8Array(0);class IQ{constructor(e,n){this.databaseId=n,this.vn=new jE,this.Fn=new Hu((r=>dh(r)),((r,i)=>A1(r,i))),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.vn.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener((()=>{this.vn.add(n)}));const s={collectionId:r,parent:Ia(i)};return f3(e).put(s)}return Ke.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[wL(n),""],!1,!0);return f3(e).J(i).next((s=>{for(const a of s){if(a.collectionId!==n)break;r.push(Ic(a.parent))}return r}))}addFieldIndex(e,n){const r=Hm(e),i=(function(o){return{indexId:o.indexId,collectionGroup:o.collectionGroup,fields:o.fields.map((c=>[c.fieldPath.canonicalString(),c.kind]))}})(n);delete i.indexId;const s=r.add(i);if(n.indexState){const a=E0(e);return s.next((o=>{a.put(n3(o,this.uid,n.indexState.sequenceNumber,n.indexState.offset))}))}return s.next()}deleteFieldIndex(e,n){const r=Hm(e),i=E0(e),s=T0(e);return r.delete(n.indexId).next((()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))).next((()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const n=Hm(e),r=T0(e),i=E0(e);return n.Z().next((()=>r.Z())).next((()=>i.Z()))}createTargetIndexes(e,n){return Ke.forEach(this.Mn(n),(r=>this.getIndexType(e,r).next((i=>{if(i===0||i===1){const s=new l3(r).Dn();if(s!=null)return this.addFieldIndex(e,s)}}))))}getDocumentsMatchingTarget(e,n){const r=T0(e);let i=!0;const s=new Map;return Ke.forEach(this.Mn(n),(a=>this.xn(e,a).next((o=>{i&&(i=!!o),s.set(a,o)})))).next((()=>{if(i){let a=Zn();const o=[];return Ke.forEach(s,((c,f)=>{It(u3,`Using index ${(function(R){return`id=${R.indexId}|cg=${R.collectionGroup}|f=${R.fields.map((F=>`${F.fieldPath}:${F.kind}`)).join(",")}`})(c)} to execute ${dh(n)}`);const d=(function(R,F){const z=x5(F);if(z===void 0)return null;for(const W of m2(R,z.fieldPath))switch(W.op){case"array-contains-any":return W.value.arrayValue.values||[];case"array-contains":return[W.value]}return null})(f,c),m=(function(R,F){const z=new Map;for(const W of Md(F))for(const D of m2(R,W.fieldPath))switch(D.op){case"==":case"in":z.set(W.fieldPath.canonicalString(),D.value);break;case"not-in":case"!=":return z.set(W.fieldPath.canonicalString(),D.value),Array.from(z.values())}return null})(f,c),g=(function(R,F){const z=[];let W=!0;for(const D of Md(F)){const L=D.kind===0?qI(R,D.fieldPath,R.startAt):HI(R,D.fieldPath,R.startAt);z.push(L.value),W&&(W=L.inclusive)}return new Cp(z,W)})(f,c),y=(function(R,F){const z=[];let W=!0;for(const D of Md(F)){const L=D.kind===0?HI(R,D.fieldPath,R.endAt):qI(R,D.fieldPath,R.endAt);z.push(L.value),W&&(W=L.inclusive)}return new Cp(z,W)})(f,c),E=this.On(c,f,g),_=this.On(c,f,y),A=this.Nn(c,f,m),C=this.Bn(c.indexId,d,E,g.inclusive,_,y.inclusive,A);return Ke.forEach(C,(V=>r.Y(V,n.limit).next((R=>{R.forEach((F=>{const z=Ut.fromSegments(F.documentKey);a.has(z)||(a=a.add(z),o.push(z))}))}))))})).next((()=>o))}return Ke.resolve(null)}))}Mn(e){let n=this.Fn.get(e);return n||(e.filters.length===0?n=[e]:n=NQ(Qr.create(e.filters,"and")).map((r=>A5(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt))),this.Fn.set(e,n),n)}Bn(e,n,r,i,s,a,o){const c=(n!=null?n.length:1)*Math.max(r.length,s.length),f=c/(n!=null?n.length:1),d=[];for(let m=0;m<c;++m){const g=n?this.Ln(n[m/f]):qx,y=this.kn(e,g,r[m%f],i),E=this.qn(e,g,s[m%f],a),_=o.map((A=>this.kn(e,g,A,!0)));d.push(...this.createRange(y,E,_))}return d}kn(e,n,r,i){const s=new Ud(e,Ut.empty(),n,r);return i?s:s.An()}qn(e,n,r,i){const s=new Ud(e,Ut.empty(),n,r);return i?s.An():s}xn(e,n){const r=new l3(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next((s=>{let a=null;for(const o of s)r.yn(o)&&(!a||o.fields.length>a.fields.length)&&(a=o);return a}))}getIndexType(e,n){let r=2;const i=this.Mn(n);return Ke.forEach(i,(s=>this.xn(e,s).next((a=>{a?r!==0&&a.fields.length<(function(c){let f=new Hr(Pi.comparator),d=!1;for(const m of c.filters)for(const g of m.getFlattenedFilters())g.field.isKeyField()||(g.op==="array-contains"||g.op==="array-contains-any"?d=!0:f=f.add(g.field));for(const m of c.orderBy)m.field.isKeyField()||(f=f.add(m.field));return f.size+(d?1:0)})(s)&&(r=1):r=0})))).next((()=>(function(a){return a.limit!==null})(n)&&i.length>1&&r===2?1:r))}Qn(e,n){const r=new qm;for(const i of Md(e)){const s=n.data.field(i.fieldPath);if(s==null)return null;const a=r.Pn(i.kind);Vd.Kt.Dt(s,a)}return r.un()}Ln(e){const n=new qm;return Vd.Kt.Dt(e,n.Pn(0)),n.un()}$n(e,n){const r=new qm;return Vd.Kt.Dt(PE(this.databaseId,n),r.Pn((function(s){const a=Md(s);return a.length===0?0:a[a.length-1].kind})(e))),r.un()}Nn(e,n,r){if(r===null)return[];let i=[];i.push(new qm);let s=0;for(const a of Md(e)){const o=r[s++];for(const c of i)if(this.Un(n,a.fieldPath)&&Zg(o))i=this.Kn(i,a,o);else{const f=c.Pn(a.kind);Vd.Kt.Dt(o,f)}}return this.Wn(i)}On(e,n,r){return this.Nn(e,n,r.position)}Wn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].un();return n}Kn(e,n,r){const i=[...e],s=[];for(const a of r.arrayValue.values||[])for(const o of i){const c=new qm;c.seed(o.un()),Vd.Kt.Dt(a,c.Pn(n.kind)),s.push(c)}return s}Un(e,n){return!!e.filters.find((r=>r instanceof pr&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in")))}getFieldIndexes(e,n){const r=Hm(e),i=E0(e);return(n?r.J(v5,IDBKeyRange.bound(n,n)):r.J()).next((s=>{const a=[];return Ke.forEach(s,(o=>i.get([o.indexId,this.uid]).next((c=>{a.push((function(d,m){const g=m?new Wg(m.sequenceNumber,new jo(ph(m.readTime),new Ut(Ic(m.documentKey)),m.largestBatchId)):Wg.empty(),y=d.fields.map((([E,_])=>new Ay(Pi.fromServerFormat(E),_)));return new l2(d.indexId,d.collectionGroup,y,g)})(o,c))})))).next((()=>a))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((n=>n.length===0?null:(n.sort(((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:Fn(r.collectionGroup,i.collectionGroup)})),n[0].collectionGroup)))}updateCollectionGroup(e,n,r){const i=Hm(e),s=E0(e);return this.Gn(e).next((a=>i.J(v5,IDBKeyRange.bound(n,n)).next((o=>Ke.forEach(o,(c=>s.put(n3(c.indexId,this.uid,a,r))))))))}updateIndexEntries(e,n){const r=new Map;return Ke.forEach(n,((i,s)=>{const a=r.get(i.collectionGroup);return(a?Ke.resolve(a):this.getFieldIndexes(e,i.collectionGroup)).next((o=>(r.set(i.collectionGroup,o),Ke.forEach(o,(c=>this.zn(e,i,c).next((f=>{const d=this.jn(s,c);return f.isEqual(d)?Ke.resolve():this.Jn(e,s,c,f,d)})))))))}))}Hn(e,n,r,i){return T0(e).put(i.Rn(this.uid,this.$n(r,n.key),n.key))}Yn(e,n,r,i){return T0(e).delete(i.Vn(this.uid,this.$n(r,n.key),n.key))}zn(e,n,r){const i=T0(e);let s=new Hr(Sf);return i.ee({index:DL,range:IDBKeyRange.only([r.indexId,this.uid,My(this.$n(r,n))])},((a,o)=>{s=s.add(new Ud(r.indexId,n,o3(o.arrayValue),o3(o.directionalValue)))})).next((()=>s))}jn(e,n){let r=new Hr(Sf);const i=this.Qn(n,e);if(i==null)return r;const s=x5(n);if(s!=null){const a=e.data.field(s.fieldPath);if(Zg(a))for(const o of a.arrayValue.values||[])r=r.add(new Ud(n.indexId,e.key,this.Ln(o),i))}else r=r.add(new Ud(n.indexId,e.key,qx,i));return r}Jn(e,n,r,i,s){It(u3,"Updating index entries for document '%s'",n.key);const a=[];return(function(c,f,d,m,g){const y=c.getIterator(),E=f.getIterator();let _=_0(y),A=_0(E);for(;_||A;){let C=!1,V=!1;if(_&&A){const R=d(_,A);R<0?V=!0:R>0&&(C=!0)}else _!=null?V=!0:C=!0;C?(m(A),A=_0(E)):V?(g(_),_=_0(y)):(_=_0(y),A=_0(E))}})(i,s,Sf,(o=>{a.push(this.Hn(e,n,r,o))}),(o=>{a.push(this.Yn(e,n,r,o))})),Ke.waitFor(a)}Gn(e){let n=1;return E0(e).ee({index:PL,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((r,i,s)=>{s.done(),n=i.sequenceNumber+1})).next((()=>n))}createRange(e,n,r){r=r.sort(((a,o)=>Sf(a,o))).filter(((a,o,c)=>!o||Sf(a,c[o-1])!==0));const i=[];i.push(e);for(const a of r){const o=Sf(a,e),c=Sf(a,n);if(o===0)i[0]=e.An();else if(o>0&&c<0)i.push(a),i.push(a.An());else if(c>0)break}i.push(n);const s=[];for(let a=0;a<i.length;a+=2){if(this.Zn(i[a],i[a+1]))return[];const o=i[a].Vn(this.uid,qx,Ut.empty()),c=i[a+1].Vn(this.uid,qx,Ut.empty());s.push(IDBKeyRange.bound(o,c))}return s}Zn(e,n){return Sf(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(d3)}getMinOffset(e,n){return Ke.mapArray(this.Mn(n),(r=>this.xn(e,r).next((i=>i||ln(44426))))).next(d3)}}function f3(t){return ks(t,Xg)}function T0(t){return ks(t,yg)}function Hm(t){return ks(t,AE)}function E0(t){return ks(t,xg)}function d3(t){vn(t.length!==0,28825);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;TE(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new jo(e.readTime,e.documentKey,n)}const h3={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},LF=41943040;class wa{static withCacheSize(e){return new wa(e,wa.DEFAULT_COLLECTION_PERCENTILE,wa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}function FF(t,e,n){const r=t.store(Gl),i=t.store(wp),s=[],a=IDBKeyRange.only(n.batchId);let o=0;const c=r.ee({range:a},((d,m,g)=>(o++,g.delete())));s.push(c.next((()=>{vn(o===1,47070,{batchId:n.batchId})})));const f=[];for(const d of n.mutations){const m=IL(e,d.key.path,n.batchId);s.push(i.delete(m)),f.push(d.key)}return Ke.waitFor(s).next((()=>f))}function b2(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw ln(14731);e=t.noDocument}return JSON.stringify(e).length}wa.DEFAULT_COLLECTION_PERCENTILE=10,wa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,wa.DEFAULT=new wa(LF,wa.DEFAULT_COLLECTION_PERCENTILE,wa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),wa.DISABLED=new wa(-1,0,0);class gv{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Xn={}}static wt(e,n,r,i){vn(e.uid!=="",64387);const s=e.isAuthenticated()?e.uid:"";return new gv(s,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Af(e).ee({index:Wd,range:r},((i,s,a)=>{n=!1,a.done()})).next((()=>n))}addMutationBatch(e,n,r,i){const s=F0(e),a=Af(e);return a.add({}).next((o=>{vn(typeof o=="number",49019);const c=new LE(o,n,r,i),f=(function(y,E,_){const A=_.baseMutations.map((V=>x2(y.yt,V))),C=_.mutations.map((V=>x2(y.yt,V)));return{userId:E,batchId:_.batchId,localWriteTimeMs:_.localWriteTime.toMillis(),baseMutations:A,mutations:C}})(this.serializer,this.userId,c),d=[];let m=new Hr(((g,y)=>Fn(g.canonicalString(),y.canonicalString())));for(const g of i){const y=IL(this.userId,g.key.path,o);m=m.add(g.key.path.popLast()),d.push(a.put(f)),d.push(s.put(y,rJ))}return m.forEach((g=>{d.push(this.indexManager.addToCollectionParentIndex(e,g))})),e.addOnCommittedListener((()=>{this.Xn[o]=c.keys()})),Ke.waitFor(d).next((()=>c))}))}lookupMutationBatch(e,n){return Af(e).get(n).next((r=>r?(vn(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:n}),Bd(this.serializer,r)):null))}er(e,n){return this.Xn[n]?Ke.resolve(this.Xn[n]):this.lookupMutationBatch(e,n).next((r=>{if(r){const i=r.keys();return this.Xn[n]=i,i}return null}))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return Af(e).ee({index:Wd,range:i},((a,o,c)=>{o.userId===this.userId&&(vn(o.batchId>=r,47524,{tr:r}),s=Bd(this.serializer,o)),c.done()})).next((()=>s))}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=Jd;return Af(e).ee({index:Wd,range:n,reverse:!0},((i,s,a)=>{r=s.batchId,a.done()})).next((()=>r))}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,Jd],[this.userId,Number.POSITIVE_INFINITY]);return Af(e).J(Wd,n).next((r=>r.map((i=>Bd(this.serializer,i)))))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=Ny(this.userId,n.path),i=IDBKeyRange.lowerBound(r),s=[];return F0(e).ee({range:i},((a,o,c)=>{const[f,d,m]=a,g=Ic(d);if(f===this.userId&&n.path.isEqual(g))return Af(e).get(m).next((y=>{if(!y)throw ln(61480,{nr:a,batchId:m});vn(y.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:y.userId,batchId:m}),s.push(Bd(this.serializer,y))}));c.done()})).next((()=>s))}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Hr(Fn);const i=[];return n.forEach((s=>{const a=Ny(this.userId,s.path),o=IDBKeyRange.lowerBound(a),c=F0(e).ee({range:o},((f,d,m)=>{const[g,y,E]=f,_=Ic(y);g===this.userId&&s.path.isEqual(_)?r=r.add(E):m.done()}));i.push(c)})),Ke.waitFor(i).next((()=>this.rr(e,r)))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,s=Ny(this.userId,r),a=IDBKeyRange.lowerBound(s);let o=new Hr(Fn);return F0(e).ee({range:a},((c,f,d)=>{const[m,g,y]=c,E=Ic(g);m===this.userId&&r.isPrefixOf(E)?E.length===i&&(o=o.add(y)):d.done()})).next((()=>this.rr(e,o)))}rr(e,n){const r=[],i=[];return n.forEach((s=>{i.push(Af(e).get(s).next((a=>{if(a===null)throw ln(35274,{batchId:s});vn(a.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:a.userId,batchId:s}),r.push(Bd(this.serializer,a))})))})),Ke.waitFor(i).next((()=>r))}removeMutationBatch(e,n){return FF(e.le,this.userId,n).next((r=>(e.addOnCommittedListener((()=>{this.ir(n.batchId)})),Ke.forEach(r,(i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))))}ir(e){delete this.Xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((n=>{if(!n)return Ke.resolve();const r=IDBKeyRange.lowerBound((function(a){return[a]})(this.userId)),i=[];return F0(e).ee({range:r},((s,a,o)=>{if(s[0]===this.userId){const c=Ic(s[1]);i.push(c)}else o.done()})).next((()=>{vn(i.length===0,56720,{sr:i.map((s=>s.canonicalString()))})}))}))}containsKey(e,n){return OF(e,this.userId,n)}_r(e){return BF(e).get(this.userId).next((n=>n||{userId:this.userId,lastAcknowledgedBatchId:Jd,lastStreamToken:""}))}}function OF(t,e,n){const r=Ny(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let a=!1;return F0(t).ee({range:s,X:!0},((o,c,f)=>{const[d,m,g]=o;d===e&&m===i&&(a=!0),f.done()})).next((()=>a))}function Af(t){return ks(t,Gl)}function F0(t){return ks(t,wp)}function BF(t){return ks(t,Kg)}class mh{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new mh(0)}static cr(){return new mh(-1)}}class kQ{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.lr(e).next((n=>{const r=new mh(n.highestTargetId);return n.highestTargetId=r.next(),this.hr(e,n).next((()=>n.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.lr(e).next((n=>Sn.fromTimestamp(new jr(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.lr(e).next((n=>n.highestListenSequenceNumber))}setTargetsMetadata(e,n,r){return this.lr(e).next((i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.hr(e,i))))}addTargetData(e,n){return this.Pr(e,n).next((()=>this.lr(e).next((r=>(r.targetCount+=1,this.Tr(n,r),this.hr(e,r))))))}updateTargetData(e,n){return this.Pr(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next((()=>S0(e).delete(n.targetId))).next((()=>this.lr(e))).next((r=>(vn(r.targetCount>0,8065),r.targetCount-=1,this.hr(e,r))))}removeTargets(e,n,r){let i=0;const s=[];return S0(e).ee(((a,o)=>{const c=ng(o);c.sequenceNumber<=n&&r.get(c.targetId)===null&&(i++,s.push(this.removeTargetData(e,c)))})).next((()=>Ke.waitFor(s))).next((()=>i))}forEachTarget(e,n){return S0(e).ee(((r,i)=>{const s=ng(i);n(s)}))}lr(e){return p3(e).get(f2).next((n=>(vn(n!==null,2888),n)))}hr(e,n){return p3(e).put(f2,n)}Pr(e,n){return S0(e).put(RF(this.serializer,n))}Tr(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.lr(e).next((n=>n.targetCount))}getTargetData(e,n){const r=dh(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return S0(e).ee({range:i,index:RL},((a,o,c)=>{const f=ng(o);A1(n,f.target)&&(s=f,c.done())})).next((()=>s))}addMatchingKeys(e,n,r){const i=[],s=Of(e);return n.forEach((a=>{const o=Ia(a.path);i.push(s.put({targetId:r,path:o})),i.push(this.referenceDelegate.addReference(e,r,a))})),Ke.waitFor(i)}removeMatchingKeys(e,n,r){const i=Of(e);return Ke.forEach(n,(s=>{const a=Ia(s.path);return Ke.waitFor([i.delete([r,a]),this.referenceDelegate.removeReference(e,r,s)])}))}removeMatchingKeysForTargetId(e,n){const r=Of(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Of(e);let s=Zn();return i.ee({range:r,X:!0},((a,o,c)=>{const f=Ic(a[1]),d=new Ut(f);s=s.add(d)})).next((()=>s))}containsKey(e,n){const r=Ia(n.path),i=IDBKeyRange.bound([r],[wL(r)],!1,!0);let s=0;return Of(e).ee({index:SE,X:!0,range:i},(([a,o],c,f)=>{a!==0&&(s++,f.done())})).next((()=>s>0))}At(e,n){return S0(e).get(n).next((r=>r?ng(r):null))}}function S0(t){return ks(t,Tp)}function p3(t){return ks(t,Qd)}function Of(t){return ks(t,Ep)}const m3="LruGarbageCollector",RQ=1048576;function g3([t,e],[n,r]){const i=Fn(t,n);return i===0?Fn(e,r):i}class PQ{constructor(e){this.Ir=e,this.buffer=new Hr(g3),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();g3(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class VF{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){It(m3,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){cd(n)?It(m3,"Ignoring IndexedDB error during garbage collection: ",n):await Sh(n)}await this.Vr(3e5)}))}}class DQ{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return Ke.resolve(pl.ce);const r=new PQ(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(It("LruGarbageCollector","Garbage collection skipped; disabled"),Ke.resolve(h3)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(It("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),h3):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,s,a,o,c,f;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((m=>(m>this.params.maximumSequenceNumbersToCollect?(It("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),i=this.params.maximumSequenceNumbersToCollect):i=m,a=Date.now(),this.nthSequenceNumber(e,i)))).next((m=>(r=m,o=Date.now(),this.removeTargets(e,r,n)))).next((m=>(s=m,c=Date.now(),this.removeOrphanedDocuments(e,r)))).next((m=>(f=Date.now(),P0()<=ur.DEBUG&&It("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-d}ms
	Determined least recently used ${i} in `+(o-a)+`ms
	Removed ${s} targets in `+(c-o)+`ms
	Removed ${m} documents in `+(f-c)+`ms
Total Duration: ${f-d}ms`),Ke.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:m}))))}}function UF(t,e){return new DQ(t,e)}class MQ{constructor(e,n){this.db=e,this.garbageCollector=UF(this,n)}gr(e){const n=this.wr(e);return this.db.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}pr(e,n){return this.Sr(e,((r,i)=>n(i)))}addReference(e,n,r){return Hx(e,r)}removeReference(e,n,r){return Hx(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return Hx(e,n)}br(e,n){return(function(i,s){let a=!1;return BF(i).te((o=>OF(i,o,s).next((c=>(c&&(a=!0),Ke.resolve(!c)))))).next((()=>a))})(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.Sr(e,((a,o)=>{if(o<=n){const c=this.br(e,a).next((f=>{if(!f)return s++,r.getEntry(e,a).next((()=>(r.removeEntry(a,Sn.min()),Of(e).delete((function(m){return[0,Ia(m.path)]})(a)))))}));i.push(c)}})).next((()=>Ke.waitFor(i))).next((()=>r.apply(e))).next((()=>s))}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return Hx(e,n)}Sr(e,n){const r=Of(e);let i,s=pl.ce;return r.ee({index:SE},(([a,o],{path:c,sequenceNumber:f})=>{a===0?(s!==pl.ce&&n(new Ut(Ic(i)),s),s=f,i=c):s=pl.ce})).next((()=>{s!==pl.ce&&n(new Ut(Ic(i)),s)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Hx(t,e){return Of(t).put((function(r,i){return{targetId:0,path:Ia(r.path),sequenceNumber:i}})(e,t.currentSequenceNumber))}class jF{constructor(){this.changes=new Hu((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Hi.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Ke.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class LQ{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Rd(e).put(r)}removeEntry(e,n,r){return Rd(e).delete((function(s,a){const o=s.path.toArray();return[o.slice(0,o.length-2),o[o.length-2],y2(a),o[o.length-1]]})(n,r))}updateMetadata(e,n){return this.getMetadata(e).next((r=>(r.byteSize+=n,this.Dr(e,r))))}getEntry(e,n){let r=Hi.newInvalidDocument(n);return Rd(e).ee({index:Cy,range:IDBKeyRange.only(zm(n))},((i,s)=>{r=this.Cr(n,s)})).next((()=>r))}vr(e,n){let r={size:0,document:Hi.newInvalidDocument(n)};return Rd(e).ee({index:Cy,range:IDBKeyRange.only(zm(n))},((i,s)=>{r={document:this.Cr(n,s),size:b2(s)}})).next((()=>r))}getEntries(e,n){let r=Vo();return this.Fr(e,n,((i,s)=>{const a=this.Cr(i,s);r=r.insert(i,a)})).next((()=>r))}Mr(e,n){let r=Vo(),i=new Ei(Ut.comparator);return this.Fr(e,n,((s,a)=>{const o=this.Cr(s,a);r=r.insert(s,o),i=i.insert(s,b2(a))})).next((()=>({documents:r,Or:i})))}Fr(e,n,r){if(n.isEmpty())return Ke.resolve();let i=new Hr(v3);n.forEach((c=>i=i.add(c)));const s=IDBKeyRange.bound(zm(i.first()),zm(i.last())),a=i.getIterator();let o=a.getNext();return Rd(e).ee({index:Cy,range:s},((c,f,d)=>{const m=Ut.fromSegments([...f.prefixPath,f.collectionGroup,f.documentId]);for(;o&&v3(o,m)<0;)r(o,null),o=a.getNext();o&&o.isEqual(m)&&(r(o,f),o=a.hasNext()?a.getNext():null),o?d.j(zm(o)):d.done()})).next((()=>{for(;o;)r(o,null),o=a.hasNext()?a.getNext():null}))}getDocumentsMatchingQuery(e,n,r,i,s){const a=n.path,o=[a.popLast().toArray(),a.lastSegment(),y2(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],c=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Rd(e).J(IDBKeyRange.bound(o,c,!0)).next((f=>{s?.incrementDocumentReadCount(f.length);let d=Vo();for(const m of f){const g=this.Cr(Ut.fromSegments(m.prefixPath.concat(m.collectionGroup,m.documentId)),m);g.isFoundDocument()&&(N1(n,g)||i.has(g.key))&&(d=d.insert(g.key,g))}return d}))}getAllFromCollectionGroup(e,n,r,i){let s=Vo();const a=y3(n,r),o=y3(n,jo.max());return Rd(e).ee({index:kL,range:IDBKeyRange.bound(a,o,!0)},((c,f,d)=>{const m=this.Cr(Ut.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);s=s.insert(m.key,m),s.size===i&&d.done()})).next((()=>s))}newChangeBuffer(e){return new FQ(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((n=>n.byteSize))}getMetadata(e){return x3(e).get(y5).next((n=>(vn(!!n,20021),n)))}Dr(e,n){return x3(e).put(y5,n)}Cr(e,n){if(n){const r=bQ(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(Sn.min())))return r}return Hi.newInvalidDocument(e)}}function qF(t){return new LQ(t)}class FQ extends jF{constructor(e,n){super(),this.Nr=e,this.trackRemovals=n,this.Br=new Hu((r=>r.toString()),((r,i)=>r.isEqual(i)))}applyChanges(e){const n=[];let r=0,i=new Hr(((s,a)=>Fn(s.canonicalString(),a.canonicalString())));return this.changes.forEach(((s,a)=>{const o=this.Br.get(s);if(n.push(this.Nr.removeEntry(e,s,o.readTime)),a.isValidDocument()){const c=e3(this.Nr.serializer,a);i=i.add(s.path.popLast());const f=b2(c);r+=f-o.size,n.push(this.Nr.addEntry(e,s,c))}else if(r-=o.size,this.trackRemovals){const c=e3(this.Nr.serializer,a.convertToNoDocument(Sn.min()));n.push(this.Nr.addEntry(e,s,c))}})),i.forEach((s=>{n.push(this.Nr.indexManager.addToCollectionParentIndex(e,s))})),n.push(this.Nr.updateMetadata(e,r)),Ke.waitFor(n)}getFromCache(e,n){return this.Nr.vr(e,n).next((r=>(this.Br.set(n,{size:r.size,readTime:r.document.readTime}),r.document)))}getAllFromCache(e,n){return this.Nr.Mr(e,n).next((({documents:r,Or:i})=>(i.forEach(((s,a)=>{this.Br.set(s,{size:a,readTime:r.get(s).readTime})})),r)))}}function x3(t){return ks(t,Yg)}function Rd(t){return ks(t,u2)}function zm(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function y3(t,e){const n=e.documentKey.path.toArray();return[t,y2(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function v3(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=Fn(n[s],r[s]),i)return i;return i=Fn(n.length,r.length),i||(i=Fn(n[n.length-2],r[r.length-2]),i||Fn(n[n.length-1],r[r.length-1]))}class OQ{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class HF{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&wg(r.mutation,i,vo.empty(),jr.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Zn()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Zn()){const i=kc();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((s=>{let a=eg();return s.forEach(((o,c)=>{a=a.insert(o,c.overlayedDocument)})),a}))))}getOverlayedDocuments(e,n){const r=kc();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Zn())))}populateOverlays(e,n,r){const i=[];return r.forEach((s=>{n.has(s)||i.push(s)})),this.documentOverlayCache.getOverlays(e,i).next((s=>{s.forEach(((a,o)=>{n.set(a,o)}))}))}computeViews(e,n,r,i){let s=Vo();const a=_g(),o=(function(){return _g()})();return n.forEach(((c,f)=>{const d=r.get(f.key);i.has(f.key)&&(d===void 0||d.mutation instanceof zu)?s=s.insert(f.key,f):d!==void 0?(a.set(f.key,d.mutation.getFieldMask()),wg(d.mutation,f,d.mutation.getFieldMask(),jr.now())):a.set(f.key,vo.empty())})),this.recalculateAndSaveOverlays(e,s).next((c=>(c.forEach(((f,d)=>a.set(f,d))),n.forEach(((f,d)=>o.set(f,new OQ(d,a.get(f)??null)))),o)))}recalculateAndSaveOverlays(e,n){const r=_g();let i=new Ei(((a,o)=>a-o)),s=Zn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((a=>{for(const o of a)o.keys().forEach((c=>{const f=n.get(c);if(f===null)return;let d=r.get(c)||vo.empty();d=o.applyToLocalView(f,d),r.set(c,d);const m=(i.get(o.batchId)||Zn()).add(c);i=i.insert(o.batchId,m)}))})).next((()=>{const a=[],o=i.getReverseIterator();for(;o.hasNext();){const c=o.getNext(),f=c.key,d=c.value,m=aF();d.forEach((g=>{if(!s.has(g)){const y=hF(n.get(g),r.get(g));y!==null&&m.set(g,y),s=s.add(g)}})),a.push(this.documentOverlayCache.saveOverlays(e,f,m))}return Ke.waitFor(a)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(a){return Ut.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):UJ(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):Ke.resolve(kc());let o=Gg,c=s;return a.next((f=>Ke.forEach(f,((d,m)=>(o<m.largestBatchId&&(o=m.largestBatchId),s.get(d)?Ke.resolve():this.remoteDocumentCache.getEntry(e,d).next((g=>{c=c.insert(d,g)}))))).next((()=>this.populateOverlays(e,f,s))).next((()=>this.computeViews(e,c,f,Zn()))).next((d=>({batchId:o,changes:sF(d)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ut(n)).next((r=>{let i=eg();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let a=eg();return this.indexManager.getCollectionParents(e,s).next((o=>Ke.forEach(o,(c=>{const f=(function(m,g){return new cv(g,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)})(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next((d=>{d.forEach(((m,g)=>{a=a.insert(m,g)}))}))})).next((()=>a))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i)))).next((a=>{s.forEach(((c,f)=>{const d=f.getKey();a.get(d)===null&&(a=a.insert(d,Hi.newInvalidDocument(d)))}));let o=eg();return a.forEach(((c,f)=>{const d=s.get(c);d!==void 0&&wg(d.mutation,f,vo.empty(),jr.now()),N1(n,f)&&(o=o.insert(c,f))})),o}))}}class BQ{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return Ke.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Wa(i.createTime)}})(n)),Ke.resolve()}getNamedQuery(e,n){return Ke.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:PF(i.bundledQuery),readTime:Wa(i.readTime)}})(n)),Ke.resolve()}}class VQ{constructor(){this.overlays=new Ei(Ut.comparator),this.qr=new Map}getOverlay(e,n){return Ke.resolve(this.overlays.get(n))}getOverlays(e,n){const r=kc();return Ke.forEach(n,(i=>this.getOverlay(e,i).next((s=>{s!==null&&r.set(i,s)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,s)=>{this.St(e,n,s)})),Ke.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((s=>this.overlays=this.overlays.remove(s))),this.qr.delete(r)),Ke.resolve()}getOverlaysForCollection(e,n,r){const i=kc(),s=n.length+1,a=new Ut(n.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const c=o.getNext().value,f=c.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return Ke.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ei(((f,d)=>f-d));const a=this.overlays.getIterator();for(;a.hasNext();){const f=a.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let d=s.get(f.largestBatchId);d===null&&(d=kc(),s=s.insert(f.largestBatchId,d)),d.set(f.getKey(),f)}}const o=kc(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach(((f,d)=>o.set(f,d))),!(o.size()>=i)););return Ke.resolve(o)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new OE(n,r));let s=this.qr.get(n);s===void 0&&(s=Zn(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}}class UQ{constructor(){this.sessionToken=hs.EMPTY_BYTE_STRING}getSessionToken(e){return Ke.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Ke.resolve()}}class qE{constructor(){this.Qr=new Hr(qs.$r),this.Ur=new Hr(qs.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new qs(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new qs(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new Ut(new Lr([])),r=new qs(n,e),i=new qs(n,e+1),s=[];return this.Ur.forEachInRange([r,i],(a=>{this.Gr(a),s.push(a.key)})),s}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Ut(new Lr([])),r=new qs(n,e),i=new qs(n,e+1);let s=Zn();return this.Ur.forEachInRange([r,i],(a=>{s=s.add(a.key)})),s}containsKey(e){const n=new qs(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class qs{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Ut.comparator(e.key,n.key)||Fn(e.Yr,n.Yr)}static Kr(e,n){return Fn(e.Yr,n.Yr)||Ut.comparator(e.key,n.key)}}class jQ{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Hr(qs.$r)}checkEmpty(e){return Ke.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new LE(s,n,r,i);this.mutationQueue.push(a);for(const o of i)this.Zr=this.Zr.add(new qs(o.key,s)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return Ke.resolve(a)}lookupMutationBatch(e,n){return Ke.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),s=i<0?0:i;return Ke.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Ke.resolve(this.mutationQueue.length===0?Jd:this.tr-1)}getAllMutationBatches(e){return Ke.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new qs(n,0),i=new qs(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],(a=>{const o=this.Xr(a.Yr);s.push(o)})),Ke.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Hr(Fn);return n.forEach((i=>{const s=new qs(i,0),a=new qs(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,a],(o=>{r=r.add(o.Yr)}))})),Ke.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Ut.isDocumentKey(s)||(s=s.child(""));const a=new qs(new Ut(s),0);let o=new Hr(Fn);return this.Zr.forEachWhile((c=>{const f=c.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(o=o.add(c.Yr)),!0)}),a),Ke.resolve(this.ti(o))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){vn(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Ke.forEach(n.mutations,(i=>{const s=new qs(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new qs(n,0),i=this.Zr.firstAfterOrEqual(r);return Ke.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ke.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class qQ{constructor(e){this.ri=e,this.docs=(function(){return new Ei(Ut.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,a=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Ke.resolve(r?r.document.mutableCopy():Hi.newInvalidDocument(n))}getEntries(e,n){let r=Vo();return n.forEach((i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Hi.newInvalidDocument(i))})),Ke.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Vo();const a=n.path,o=new Ut(a.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(o);for(;c.hasNext();){const{key:f,value:{document:d}}=c.getNext();if(!a.isPrefixOf(f.path))break;f.path.length>a.length+1||TE(SL(d),r)<=0||(i.has(d.key)||N1(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return Ke.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ln(9500)}ii(e,n){return Ke.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new HQ(this)}getSize(e){return Ke.resolve(this.size)}}class HQ extends jF{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),Ke.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class zQ{constructor(e){this.persistence=e,this.si=new Hu((n=>dh(n)),A1),this.lastRemoteSnapshotVersion=Sn.min(),this.highestTargetId=0,this.oi=0,this._i=new qE,this.targetCount=0,this.ai=mh.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),Ke.resolve()}getLastRemoteSnapshotVersion(e){return Ke.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ke.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Ke.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),Ke.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new mh(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,Ke.resolve()}updateTargetData(e,n){return this.Pr(n),Ke.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Ke.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.si.forEach(((a,o)=>{o.sequenceNumber<=n&&r.get(o.targetId)===null&&(this.si.delete(a),s.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)})),Ke.waitFor(s).next((()=>i))}getTargetCount(e){return Ke.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return Ke.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),Ke.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach((a=>{s.push(i.markPotentiallyOrphaned(e,a))})),Ke.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),Ke.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return Ke.resolve(r)}containsKey(e,n){return Ke.resolve(this._i.containsKey(n))}}class HE{constructor(e,n){this.ui={},this.overlays={},this.ci=new pl(0),this.li=!1,this.li=!0,this.hi=new UQ,this.referenceDelegate=e(this),this.Pi=new zQ(this),this.indexManager=new CQ,this.remoteDocumentCache=(function(i){return new qQ(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new kF(n),this.Ii=new BQ(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new VQ,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new jQ(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){It("MemoryPersistence","Starting transaction:",e);const i=new GQ(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((s=>this.referenceDelegate.di(i).next((()=>s)))).toPromise().then((s=>(i.raiseOnCommittedEvent(),s)))}Ai(e,n){return Ke.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class GQ extends NL{constructor(e){super(),this.currentSequenceNumber=e}}class xv{constructor(e){this.persistence=e,this.Ri=new qE,this.Vi=null}static mi(e){return new xv(e)}get fi(){if(this.Vi)return this.Vi;throw ln(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),Ke.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),Ke.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),Ke.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((s=>this.fi.add(s.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ke.forEach(this.fi,(r=>{const i=Ut.fromPath(r);return this.gi(e,i).next((s=>{s||n.removeEntry(i,Sn.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return Ke.or([()=>Ke.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class _2{constructor(e,n){this.persistence=e,this.pi=new Hu((r=>Ia(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=UF(this,n)}static mi(e,n){return new _2(e,n)}Ei(){}di(e){return Ke.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return Ke.forEach(this.pi,((r,i)=>this.br(e,r,i).next((s=>s?Ke.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,(a=>this.br(e,a,n).next((o=>{o||(r++,s.removeEntry(a,Sn.min()))})))).next((()=>s.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),Ke.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Ke.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Ke.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),Ke.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ky(e.data.value)),n}br(e,n,r){return Ke.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return Ke.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class WQ{constructor(e){this.serializer=e}k(e,n,r,i){const s=new nv("createOrUpgrade",n);r<1&&i>=1&&((function(c){c.createObjectStore(S1)})(e),(function(c){c.createObjectStore(Kg,{keyPath:nJ}),c.createObjectStore(Gl,{keyPath:kI,autoIncrement:!0}).createIndex(Wd,RI,{unique:!0}),c.createObjectStore(wp)})(e),b3(e),(function(c){c.createObjectStore(Ld)})(e));let a=Ke.resolve();return r<3&&i>=3&&(r!==0&&((function(c){c.deleteObjectStore(Ep),c.deleteObjectStore(Tp),c.deleteObjectStore(Qd)})(e),b3(e)),a=a.next((()=>(function(c){const f=c.store(Qd),d={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Sn.min().toTimestamp(),targetCount:0};return f.put(f2,d)})(s)))),r<4&&i>=4&&(r!==0&&(a=a.next((()=>(function(c,f){return f.store(Gl).J().next((m=>{c.deleteObjectStore(Gl),c.createObjectStore(Gl,{keyPath:kI,autoIncrement:!0}).createIndex(Wd,RI,{unique:!0});const g=f.store(Gl),y=m.map((E=>g.put(E)));return Ke.waitFor(y)}))})(e,s)))),a=a.next((()=>{(function(c){c.createObjectStore(Sp,{keyPath:fJ})})(e)}))),r<5&&i>=5&&(a=a.next((()=>this.yi(s)))),r<6&&i>=6&&(a=a.next((()=>((function(c){c.createObjectStore(Yg)})(e),this.wi(s))))),r<7&&i>=7&&(a=a.next((()=>this.Si(s)))),r<8&&i>=8&&(a=a.next((()=>this.bi(e,s)))),r<9&&i>=9&&(a=a.next((()=>{(function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")})(e)}))),r<10&&i>=10&&(a=a.next((()=>this.Di(s)))),r<11&&i>=11&&(a=a.next((()=>{(function(c){c.createObjectStore(iv,{keyPath:dJ})})(e),(function(c){c.createObjectStore(sv,{keyPath:hJ})})(e)}))),r<12&&i>=12&&(a=a.next((()=>{(function(c){const f=c.createObjectStore(av,{keyPath:bJ});f.createIndex(b5,_J,{unique:!1}),f.createIndex(ML,wJ,{unique:!1})})(e)}))),r<13&&i>=13&&(a=a.next((()=>(function(c){const f=c.createObjectStore(u2,{keyPath:iJ});f.createIndex(Cy,sJ),f.createIndex(kL,aJ)})(e))).next((()=>this.Ci(e,s))).next((()=>e.deleteObjectStore(Ld)))),r<14&&i>=14&&(a=a.next((()=>this.Fi(e,s)))),r<15&&i>=15&&(a=a.next((()=>(function(c){c.createObjectStore(AE,{keyPath:pJ,autoIncrement:!0}).createIndex(v5,mJ,{unique:!1}),c.createObjectStore(xg,{keyPath:gJ}).createIndex(PL,xJ,{unique:!1}),c.createObjectStore(yg,{keyPath:yJ}).createIndex(DL,vJ,{unique:!1})})(e)))),r<16&&i>=16&&(a=a.next((()=>{n.objectStore(xg).clear()})).next((()=>{n.objectStore(yg).clear()}))),r<17&&i>=17&&(a=a.next((()=>{(function(c){c.createObjectStore(NE,{keyPath:TJ})})(e)}))),r<18&&i>=18&&NM()&&(a=a.next((()=>{n.objectStore(xg).clear()})).next((()=>{n.objectStore(yg).clear()}))),a}wi(e){let n=0;return e.store(Ld).ee(((r,i)=>{n+=b2(i)})).next((()=>{const r={byteSize:n};return e.store(Yg).put(y5,r)}))}yi(e){const n=e.store(Kg),r=e.store(Gl);return n.J().next((i=>Ke.forEach(i,(s=>{const a=IDBKeyRange.bound([s.userId,Jd],[s.userId,s.lastAcknowledgedBatchId]);return r.J(Wd,a).next((o=>Ke.forEach(o,(c=>{vn(c.userId===s.userId,18650,"Cannot process batch from unexpected user",{batchId:c.batchId});const f=Bd(this.serializer,c);return FF(e,s.userId,f).next((()=>{}))}))))}))))}Si(e){const n=e.store(Ep),r=e.store(Ld);return e.store(Qd).get(f2).next((i=>{const s=[];return r.ee(((a,o)=>{const c=new Lr(a),f=(function(m){return[0,Ia(m)]})(c);s.push(n.get(f).next((d=>d?Ke.resolve():(m=>n.put({targetId:0,path:Ia(m),sequenceNumber:i.highestListenSequenceNumber}))(c))))})).next((()=>Ke.waitFor(s)))}))}bi(e,n){e.createObjectStore(Xg,{keyPath:uJ});const r=n.store(Xg),i=new jE,s=a=>{if(i.add(a)){const o=a.lastSegment(),c=a.popLast();return r.put({collectionId:o,parent:Ia(c)})}};return n.store(Ld).ee({X:!0},((a,o)=>{const c=new Lr(a);return s(c.popLast())})).next((()=>n.store(wp).ee({X:!0},(([a,o,c],f)=>{const d=Ic(o);return s(d.popLast())}))))}Di(e){const n=e.store(Tp);return n.ee(((r,i)=>{const s=ng(i),a=RF(this.serializer,s);return n.put(a)}))}Ci(e,n){const r=n.store(Ld),i=[];return r.ee(((s,a)=>{const o=n.store(u2),c=(function(m){return m.document?new Ut(Lr.fromString(m.document.name).popFirst(5)):m.noDocument?Ut.fromSegments(m.noDocument.path):m.unknownDocument?Ut.fromSegments(m.unknownDocument.path):ln(36783)})(a).path.toArray(),f={prefixPath:c.slice(0,c.length-2),collectionGroup:c[c.length-2],documentId:c[c.length-1],readTime:a.readTime||[0,0],unknownDocument:a.unknownDocument,noDocument:a.noDocument,document:a.document,hasCommittedMutations:!!a.hasCommittedMutations};i.push(o.put(f))})).next((()=>Ke.waitFor(i)))}Fi(e,n){const r=n.store(Gl),i=qF(this.serializer),s=new HE(xv.mi,this.serializer.yt);return r.J().next((a=>{const o=new Map;return a.forEach((c=>{let f=o.get(c.userId)??Zn();Bd(this.serializer,c).keys().forEach((d=>f=f.add(d))),o.set(c.userId,f)})),Ke.forEach(o,((c,f)=>{const d=new ia(f),m=mv.wt(this.serializer,d),g=s.getIndexManager(d),y=gv.wt(d,this.serializer,g,s.referenceDelegate);return new HF(i,y,m,g).recalculateAndSaveOverlaysForDocumentKeys(new _5(n,pl.ce),c).next()}))}))}}function b3(t){t.createObjectStore(Ep,{keyPath:lJ}).createIndex(SE,cJ,{unique:!0}),t.createObjectStore(Tp,{keyPath:"targetId"}).createIndex(RL,oJ,{unique:!0}),t.createObjectStore(Qd)}const Nf="IndexedDbPersistence",A_=18e5,N_=5e3,C_="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",$Q="main";class zE{constructor(e,n,r,i,s,a,o,c,f,d,m=18){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Mi=s,this.window=a,this.document=o,this.xi=f,this.Oi=d,this.Ni=m,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=g=>Promise.resolve(),!zE.v())throw new Vt(gt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new MQ(this,i),this.$i=n+$Q,this.serializer=new kF(c),this.Ui=new Yf(this.$i,this.Ni,new WQ(this.serializer)),this.hi=new wQ,this.Pi=new kQ(this.referenceDelegate,this.serializer),this.remoteDocumentCache=qF(this.serializer),this.Ii=new _Q,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,d===!1&&Ha(Nf,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Vt(gt.FAILED_PRECONDITION,C_);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Pi.getHighestSequenceNumber(e)))})).then((e=>{this.ci=new pl(e,this.xi)})).then((()=>{this.li=!0})).catch((e=>(this.Ui&&this.Ui.close(),Promise.reject(e))))}Ji(e){return this.Qi=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ui.$((async n=>{n.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Mi.enqueueAndForget((async()=>{this.started&&await this.Wi()})))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>zx(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Hi(e).next((n=>{n||(this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))))}))})).next((()=>this.Yi(e))).next((n=>this.isPrimary&&!n?this.Zi(e).next((()=>!1)):!!n&&this.Xi(e).next((()=>!0)))))).catch((e=>{if(cd(e))return It(Nf,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return It(Nf,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Mi.enqueueRetryable((()=>this.Qi(e))),this.isPrimary=e}))}Hi(e){return Gm(e).get(b0).next((n=>Ke.resolve(this.es(n))))}ts(e){return zx(e).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.rs(this.qi,A_)){this.qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(n=>{const r=ks(n,Sp);return r.J().next((i=>{const s=this.ss(i,A_),a=i.filter((o=>s.indexOf(o)===-1));return Ke.forEach(a,(o=>r.delete(o.clientId))).next((()=>a))}))})).catch((()=>[]));if(this.Ki)for(const n of e)this.Ki.removeItem(this._s(n.clientId))}}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Wi().then((()=>this.ns())).then((()=>this.ji()))))}es(e){return!!e&&e.ownerId===this.clientId}Yi(e){return this.Oi?Ke.resolve(!0):Gm(e).get(b0).next((n=>{if(n!==null&&this.rs(n.leaseTimestampMs,N_)&&!this.us(n.ownerId)){if(this.es(n)&&this.networkEnabled)return!0;if(!this.es(n)){if(!n.allowTabSynchronization)throw new Vt(gt.FAILED_PRECONDITION,C_);return!1}}return!(!this.networkEnabled||!this.inForeground)||zx(e).J().next((r=>this.ss(r,N_).find((i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,a=!this.inForeground&&i.inForeground,o=this.networkEnabled===i.networkEnabled;if(s||a&&o)return!0}return!1}))===void 0))})).next((n=>(this.isPrimary!==n&&It(Nf,`Client ${n?"is":"is not"} eligible for a primary lease.`),n)))}async shutdown(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),await this.Ui.runTransaction("shutdown","readwrite",[S1,Sp],(e=>{const n=new _5(e,pl.ce);return this.Zi(n).next((()=>this.ts(n)))})),this.Ui.close(),this.Ps()}ss(e,n){return e.filter((r=>this.rs(r.updateTimeMs,n)&&!this.us(r.clientId)))}Ts(){return this.runTransaction("getActiveClients","readonly",(e=>zx(e).J().next((n=>this.ss(n,A_).map((r=>r.clientId))))))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(e,n){return gv.wt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new IQ(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return mv.wt(this.serializer,e)}getBundleCache(){return this.Ii}runTransaction(e,n,r){It(Nf,"Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",s=(function(c){return c===18?AJ:c===17?BL:c===16?SJ:c===15?CE:c===14?OL:c===13?FL:c===12?EJ:c===11?LL:void ln(60245)})(this.Ni);let a;return this.Ui.runTransaction(e,i,s,(o=>(a=new _5(o,this.ci?this.ci.next():pl.ce),n==="readwrite-primary"?this.Hi(a).next((c=>!!c||this.Yi(a))).next((c=>{if(!c)throw Ha(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))),new Vt(gt.FAILED_PRECONDITION,AL);return r(a)})).next((c=>this.Xi(a).next((()=>c)))):this.Is(a).next((()=>r(a)))))).then((o=>(a.raiseOnCommittedEvent(),o)))}Is(e){return Gm(e).get(b0).next((n=>{if(n!==null&&this.rs(n.leaseTimestampMs,N_)&&!this.us(n.ownerId)&&!this.es(n)&&!(this.Oi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new Vt(gt.FAILED_PRECONDITION,C_)}))}Xi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Gm(e).put(b0,n)}static v(){return Yf.v()}Zi(e){const n=Gm(e);return n.get(b0).next((r=>this.es(r)?(It(Nf,"Releasing primary lease."),n.delete(b0)):Ke.resolve()))}rs(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(Ha(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Li=()=>{this.Mi.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.Wi())))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground=this.document.visibilityState==="visible")}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){typeof this.window?.addEventListener=="function"&&(this.Bi=()=>{this.cs();const e=/(?:Version|Mobile)\/1[456]/;AM()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(e){try{const n=this.Ki?.getItem(this._s(e))!==null;return It(Nf,`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(n){return Ha(Nf,"Failed to get zombied client id.",n),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(e){Ha("Failed to set zombie client id.",e)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch{}}_s(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Gm(t){return ks(t,S1)}function zx(t){return ks(t,Sp)}function KQ(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}class GE{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=Zn(),i=Zn();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new GE(e,n.fromCache,r,i)}}class YQ{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class zF{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return AM()?8:CL(Is())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ys(e,n).next((a=>{s.result=a})).next((()=>{if(!s.result)return this.ws(e,n,i,r).next((a=>{s.result=a}))})).next((()=>{if(s.result)return;const a=new YQ;return this.Ss(e,n,a).next((o=>{if(s.result=o,this.Vs)return this.bs(e,n,a,o.size)}))})).next((()=>s.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(P0()<=ur.DEBUG&&It("QueryEngine","SDK will not create cache indexes for query:",D0(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Ke.resolve()):(P0()<=ur.DEBUG&&It("QueryEngine","Query:",D0(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(P0()<=ur.DEBUG&&It("QueryEngine","The SDK decides to create cache indexes for query:",D0(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ml(n))):Ke.resolve())}ys(e,n){if(zI(n))return Ke.resolve(null);let r=ml(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=N5(n,null,"F"),r=ml(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((s=>{const a=Zn(...s);return this.ps.getDocuments(e,a).next((o=>this.indexManager.getMinOffset(e,r).next((c=>{const f=this.Ds(n,o);return this.Cs(n,f,a,c.readTime)?this.ys(e,N5(n,null,"F")):this.vs(e,f,n,c)}))))})))))}ws(e,n,r,i){return zI(n)||i.isEqual(Sn.min())?Ke.resolve(null):this.ps.getDocuments(e,r).next((s=>{const a=this.Ds(n,s);return this.Cs(n,a,r,i)?Ke.resolve(null):(P0()<=ur.DEBUG&&It("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),D0(n)),this.vs(e,a,n,YX(i,Gg)).next((o=>o)))}))}Ds(e,n){let r=new Hr(rF(e));return n.forEach(((i,s)=>{N1(e,s)&&(r=r.add(s))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,n,r){return P0()<=ur.DEBUG&&It("QueryEngine","Using full collection scan to execute query:",D0(n)),this.ps.getDocumentsMatchingQuery(e,n,jo.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((s=>(n.forEach((a=>{s=s.insert(a.key,a)})),s)))}}const WE="LocalStore",XQ=3e8;class JQ{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new Ei(Fn),this.xs=new Hu((s=>dh(s)),A1),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new HF(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function GF(t,e,n,r){return new JQ(t,e,n,r)}async function WF(t,e){const n=On(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((s=>(i=s,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((s=>{const a=[],o=[];let c=Zn();for(const f of i){a.push(f.batchId);for(const d of f.mutations)c=c.add(d.key)}for(const f of s){o.push(f.batchId);for(const d of f.mutations)c=c.add(d.key)}return n.localDocuments.getDocuments(r,c).next((f=>({Ls:f,removedBatchIds:a,addedBatchIds:o})))}))}))}function QQ(t,e){const n=On(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(o,c,f,d){const m=f.batch,g=m.keys();let y=Ke.resolve();return g.forEach((E=>{y=y.next((()=>d.getEntry(c,E))).next((_=>{const A=f.docVersions.get(E);vn(A!==null,48541),_.version.compareTo(A)<0&&(m.applyToRemoteDocument(_,f),_.isValidDocument()&&(_.setReadTime(f.commitVersion),d.addEntry(_)))}))})),y.next((()=>o.mutationQueue.removeMutationBatch(c,m)))})(n,r,e,s).next((()=>s.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(o){let c=Zn();for(let f=0;f<o.mutationResults.length;++f)o.mutationResults[f].transformResults.length>0&&(c=c.add(o.batch.mutations[f].key));return c})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function $F(t){const e=On(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function ZQ(t,e){const n=On(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const a=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const o=[];e.targetChanges.forEach(((d,m)=>{const g=i.get(m);if(!g)return;o.push(n.Pi.removeMatchingKeys(s,d.removedDocuments,m).next((()=>n.Pi.addMatchingKeys(s,d.addedDocuments,m))));let y=g.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(m)!==null?y=y.withResumeToken(hs.EMPTY_BYTE_STRING,Sn.min()).withLastLimboFreeSnapshotVersion(Sn.min()):d.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(d.resumeToken,r)),i=i.insert(m,y),(function(_,A,C){return _.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=XQ?!0:C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0})(g,y,d)&&o.push(n.Pi.updateTargetData(s,y))}));let c=Vo(),f=Zn();if(e.documentUpdates.forEach((d=>{e.resolvedLimboDocuments.has(d)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))})),o.push(eZ(s,a,e.documentUpdates).next((d=>{c=d.ks,f=d.qs}))),!r.isEqual(Sn.min())){const d=n.Pi.getLastRemoteSnapshotVersion(s).next((m=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r)));o.push(d)}return Ke.waitFor(o).next((()=>a.apply(s))).next((()=>n.localDocuments.getLocalViewOfDocuments(s,c,f))).next((()=>c))})).then((s=>(n.Ms=i,s)))}function eZ(t,e,n){let r=Zn(),i=Zn();return n.forEach((s=>r=r.add(s))),e.getEntries(t,r).next((s=>{let a=Vo();return n.forEach(((o,c)=>{const f=s.get(o);c.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(o)),c.isNoDocument()&&c.version.isEqual(Sn.min())?(e.removeEntry(o,c.readTime),a=a.insert(o,c)):!f.isValidDocument()||c.version.compareTo(f.version)>0||c.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(c),a=a.insert(o,c)):It(WE,"Ignoring outdated watch update for ",o,". Current version:",f.version," Watch version:",c.version)})),{ks:a,qs:i}}))}function tZ(t,e){const n=On(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Jd),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function nZ(t,e){const n=On(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((s=>s?(i=s,Ke.resolve(i)):n.Pi.allocateTargetId(r).next((a=>(i=new Su(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function L5(t,e,n){const r=On(t),i=r.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(a=>r.persistence.referenceDelegate.removeTarget(a,i)))}catch(a){if(!cd(a))throw a;It(WE,`Failed to update sequence numbers for target ${e}: ${a}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function _3(t,e,n){const r=On(t);let i=Sn.min(),s=Zn();return r.persistence.runTransaction("Execute query","readwrite",(a=>(function(c,f,d){const m=On(c),g=m.xs.get(d);return g!==void 0?Ke.resolve(m.Ms.get(g)):m.Pi.getTargetData(f,d)})(r,a,ml(e)).next((o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(a,o.targetId).next((c=>{s=c}))})).next((()=>r.Fs.getDocumentsMatchingQuery(a,e,n?i:Sn.min(),n?s:Zn()))).next((o=>(rZ(r,qJ(e),o),{documents:o,Qs:s})))))}function rZ(t,e,n){let r=t.Os.get(e)||Sn.min();n.forEach(((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)})),t.Os.set(e,r)}class w3{constructor(){this.activeTargetIds=KJ()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class KF{constructor(){this.Mo=new w3,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new w3,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class iZ{Oo(e){}shutdown(){}}const T3="ConnectivityMonitor";class E3{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){It(T3,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){It(T3,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Gx=null;function F5(){return Gx===null?Gx=(function(){return 268435456+Math.round(2147483648*Math.random())})():Gx++,"0x"+Gx.toString(16)}const I_="RestConnection",sZ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class aZ{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===d2?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,s){const a=F5(),o=this.zo(e,n.toUriEncodedString());It(I_,`Sending RPC '${e}' ${a}:`,o,r);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,i,s);const{host:f}=new URL(o),d=qp(f);return this.Jo(e,o,c,r,d).then((m=>(It(I_,`Received RPC '${e}' ${a}: `,m),m)),(m=>{throw uh(I_,`RPC '${e}' ${a} failed with error: `,m,"url: ",o,"request:",r),m}))}Ho(e,n,r,i,s,a){return this.Go(e,n,r,i,s)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Gp})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,s)=>e[s]=i)),r&&r.headers.forEach(((i,s)=>e[s]=i))}zo(e,n){const r=sZ[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}class oZ{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const ga="WebChannelConnection";class lZ extends aZ{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const a=F5();return new Promise(((o,c)=>{const f=new mL;f.setWithCredentials(!0),f.listenOnce(gL.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case Sy.NO_ERROR:const m=f.getResponseJson();It(ga,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(m)),o(m);break;case Sy.TIMEOUT:It(ga,`RPC '${e}' ${a} timed out`),c(new Vt(gt.DEADLINE_EXCEEDED,"Request time out"));break;case Sy.HTTP_ERROR:const g=f.getStatus();if(It(ga,`RPC '${e}' ${a} failed with status:`,g,"response text:",f.getResponseText()),g>0){let y=f.getResponseJson();Array.isArray(y)&&(y=y[0]);const E=y?.error;if(E&&E.status&&E.message){const _=(function(C){const V=C.toLowerCase().replace(/_/g,"-");return Object.values(gt).indexOf(V)>=0?V:gt.UNKNOWN})(E.status);c(new Vt(_,E.message))}else c(new Vt(gt.UNKNOWN,"Server responded with status "+f.getStatus()))}else c(new Vt(gt.UNAVAILABLE,"Connection failed."));break;default:ln(9055,{l_:e,streamId:a,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{It(ga,`RPC '${e}' ${a} completed.`)}}));const d=JSON.stringify(i);It(ga,`RPC '${e}' ${a} sending request:`,i),f.send(n,"POST",d,r,15)}))}T_(e,n,r){const i=F5(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=vL(),o=yL(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(c.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const d=s.join("");It(ga,`Creating RPC '${e}' stream ${i}: ${d}`,c);const m=a.createWebChannel(d,c);this.I_(m);let g=!1,y=!1;const E=new oZ({Yo:A=>{y?It(ga,`Not sending because RPC '${e}' stream ${i} is closed:`,A):(g||(It(ga,`Opening RPC '${e}' stream ${i} transport.`),m.open(),g=!0),It(ga,`RPC '${e}' stream ${i} sending:`,A),m.send(A))},Zo:()=>m.close()}),_=(A,C,V)=>{A.listen(C,(R=>{try{V(R)}catch(F){setTimeout((()=>{throw F}),0)}}))};return _(m,Zm.EventType.OPEN,(()=>{y||(It(ga,`RPC '${e}' stream ${i} transport opened.`),E.o_())})),_(m,Zm.EventType.CLOSE,(()=>{y||(y=!0,It(ga,`RPC '${e}' stream ${i} transport closed`),E.a_(),this.E_(m))})),_(m,Zm.EventType.ERROR,(A=>{y||(y=!0,uh(ga,`RPC '${e}' stream ${i} transport errored. Name:`,A.name,"Message:",A.message),E.a_(new Vt(gt.UNAVAILABLE,"The operation could not be completed")))})),_(m,Zm.EventType.MESSAGE,(A=>{if(!y){const C=A.data[0];vn(!!C,16349);const V=C,R=V?.error||V[0]?.error;if(R){It(ga,`RPC '${e}' stream ${i} received error:`,R);const F=R.status;let z=(function(L){const k=ls[L];if(k!==void 0)return gF(k)})(F),W=R.message;z===void 0&&(z=gt.INTERNAL,W="Unknown error status: "+F+" with message "+R.message),y=!0,E.a_(new Vt(z,W)),m.close()}else It(ga,`RPC '${e}' stream ${i} received:`,C),E.u_(C)}})),_(o,xL.STAT_EVENT,(A=>{A.stat===m5.PROXY?It(ga,`RPC '${e}' stream ${i} detected buffering proxy`):A.stat===m5.NOPROXY&&It(ga,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{E.__()}),0),E}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function cZ(){return typeof window<"u"?window:null}function Ly(){return typeof document<"u"?document:null}function yv(t){return new uQ(t,!0)}class YF{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&It("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const S3="PersistentStream";class XF{constructor(e,n,r,i,s,a,o,c){this.Mi=e,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new YF(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===gt.RESOURCE_EXHAUSTED?(Ha(n.toString()),Ha("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===gt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new Vt(gt.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return It(S3,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(It(S3,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class uZ extends XF{constructor(e,n,r,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=hQ(this.serializer,e),r=(function(s){if(!("targetChange"in s))return Sn.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?Sn.min():a.readTime?Wa(a.readTime):Sn.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=k5(this.serializer),n.addTarget=(function(s,a){let o;const c=a.target;if(o=p2(c)?{documents:EF(s,c)}:{query:SF(s,c).ft},o.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){o.resumeToken=vF(s,a.resumeToken);const f=C5(s,a.expectedCount);f!==null&&(o.expectedCount=f)}else if(a.snapshotVersion.compareTo(Sn.min())>0){o.readTime=Dp(s,a.snapshotVersion.toTimestamp());const f=C5(s,a.expectedCount);f!==null&&(o.expectedCount=f)}return o})(this.serializer,e);const r=mQ(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=k5(this.serializer),n.removeTarget=e,this.q_(n)}}class fZ extends XF{constructor(e,n,r,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return vn(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,vn(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){vn(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=pQ(e.writeResults,e.commitTime),r=Wa(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=k5(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>x2(this.serializer,r)))};this.q_(n)}}class dZ{}class hZ extends dZ{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Vt(gt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,a])=>this.connection.Go(e,I5(n,r),i,s,a))).catch((s=>{throw s.name==="FirebaseError"?(s.code===gt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Vt(gt.UNKNOWN,s.toString())}))}Ho(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,o])=>this.connection.Ho(e,I5(n,r),i,a,o,s))).catch((a=>{throw a.name==="FirebaseError"?(a.code===gt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Vt(gt.UNKNOWN,a.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class pZ{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ha(n),this.aa=!1):It("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const gh="RemoteStore";class mZ{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo((a=>{r.enqueueAndForget((async()=>{Ah(this)&&(It(gh,"Restarting streams for network reachability change."),await(async function(c){const f=On(c);f.Ea.add(4),await k1(f),f.Ra.set("Unknown"),f.Ea.delete(4),await vv(f)})(this))}))})),this.Ra=new pZ(r,i)}}async function vv(t){if(Ah(t))for(const e of t.da)await e(!0)}async function k1(t){for(const e of t.da)await e(!1)}function JF(t,e){const n=On(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),XE(n)?YE(n):$p(n).O_()&&KE(n,e))}function $E(t,e){const n=On(t),r=$p(n);n.Ia.delete(e),r.O_()&&QF(n,e),n.Ia.size===0&&(r.O_()?r.L_():Ah(n)&&n.Ra.set("Unknown"))}function KE(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Sn.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}$p(t).Y_(e)}function QF(t,e){t.Va.Ue(e),$p(t).Z_(e)}function YE(t){t.Va=new aQ({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),$p(t).start(),t.Ra.ua()}function XE(t){return Ah(t)&&!$p(t).x_()&&t.Ia.size>0}function Ah(t){return On(t).Ea.size===0}function ZF(t){t.Va=void 0}async function gZ(t){t.Ra.set("Online")}async function xZ(t){t.Ia.forEach(((e,n)=>{KE(t,e)}))}async function yZ(t,e){ZF(t),XE(t)?(t.Ra.ha(e),YE(t)):t.Ra.set("Unknown")}async function vZ(t,e,n){if(t.Ra.set("Online"),e instanceof yF&&e.state===2&&e.cause)try{await(async function(i,s){const a=s.cause;for(const o of s.targetIds)i.Ia.has(o)&&(await i.remoteSyncer.rejectListen(o,a),i.Ia.delete(o),i.Va.removeTarget(o))})(t,e)}catch(r){It(gh,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await w2(t,r)}else if(e instanceof Dy?t.Va.Ze(e):e instanceof xF?t.Va.st(e):t.Va.tt(e),!n.isEqual(Sn.min()))try{const r=await $F(t.localStore);n.compareTo(r)>=0&&await(function(s,a){const o=s.Va.Tt(a);return o.targetChanges.forEach(((c,f)=>{if(c.resumeToken.approximateByteSize()>0){const d=s.Ia.get(f);d&&s.Ia.set(f,d.withResumeToken(c.resumeToken,a))}})),o.targetMismatches.forEach(((c,f)=>{const d=s.Ia.get(c);if(!d)return;s.Ia.set(c,d.withResumeToken(hs.EMPTY_BYTE_STRING,d.snapshotVersion)),QF(s,c);const m=new Su(d.target,c,f,d.sequenceNumber);KE(s,m)})),s.remoteSyncer.applyRemoteEvent(o)})(t,n)}catch(r){It(gh,"Failed to raise snapshot:",r),await w2(t,r)}}async function w2(t,e,n){if(!cd(e))throw e;t.Ea.add(1),await k1(t),t.Ra.set("Offline"),n||(n=()=>$F(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{It(gh,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await vv(t)}))}function e7(t,e){return e().catch((n=>w2(t,n,e)))}async function R1(t){const e=On(t),n=td(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Jd;for(;bZ(e);)try{const i=await tZ(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,_Z(e,i)}catch(i){await w2(e,i)}t7(e)&&n7(e)}function bZ(t){return Ah(t)&&t.Ta.length<10}function _Z(t,e){t.Ta.push(e);const n=td(t);n.O_()&&n.X_&&n.ea(e.mutations)}function t7(t){return Ah(t)&&!td(t).x_()&&t.Ta.length>0}function n7(t){td(t).start()}async function wZ(t){td(t).ra()}async function TZ(t){const e=td(t);for(const n of t.Ta)e.ea(n.mutations)}async function EZ(t,e,n){const r=t.Ta.shift(),i=FE.from(r,e,n);await e7(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await R1(t)}async function SZ(t,e){e&&td(t).X_&&await(async function(r,i){if((function(a){return rQ(a)&&a!==gt.ABORTED})(i.code)){const s=r.Ta.shift();td(r).B_(),await e7(r,(()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i))),await R1(r)}})(t,e),t7(t)&&n7(t)}async function A3(t,e){const n=On(t);n.asyncQueue.verifyOperationInProgress(),It(gh,"RemoteStore received new credentials");const r=Ah(n);n.Ea.add(3),await k1(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await vv(n)}async function AZ(t,e){const n=On(t);e?(n.Ea.delete(2),await vv(n)):e||(n.Ea.add(2),await k1(n),n.Ra.set("Unknown"))}function $p(t){return t.ma||(t.ma=(function(n,r,i){const s=On(n);return s.sa(),new uZ(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Xo:gZ.bind(null,t),t_:xZ.bind(null,t),r_:yZ.bind(null,t),H_:vZ.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),XE(t)?YE(t):t.Ra.set("Unknown")):(await t.ma.stop(),ZF(t))}))),t.ma}function td(t){return t.fa||(t.fa=(function(n,r,i){const s=On(n);return s.sa(),new fZ(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:wZ.bind(null,t),r_:SZ.bind(null,t),ta:TZ.bind(null,t),na:EZ.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await R1(t)):(await t.fa.stop(),t.Ta.length>0&&(It(gh,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class JE{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Fc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((a=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const a=Date.now()+r,o=new JE(e,n,a,i,s);return o.start(r),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Vt(gt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function QE(t,e){if(Ha("AsyncQueue",`${e}: ${t}`),cd(t))return new Vt(gt.UNAVAILABLE,`${e}: ${t}`);throw t}class sp{static emptySet(e){return new sp(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ut.comparator(n.key,r.key):(n,r)=>Ut.comparator(n.key,r.key),this.keyedMap=eg(),this.sortedSet=new Ei(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof sp)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new sp;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class N3{constructor(){this.ga=new Ei(Ut.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ln(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Mp{constructor(e,n,r,i,s,a,o,c,f){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=c,this.hasCachedResults=f}static fromInitialDocuments(e,n,r,i,s){const a=[];return n.forEach((o=>{a.push({type:0,doc:o})})),new Mp(e,n,sp.emptySet(n),a,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&fv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class NZ{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class CZ{constructor(){this.queries=C3(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=On(n),s=i.queries;i.queries=C3(),s.forEach(((a,o)=>{for(const c of o.Sa)c.onError(r)}))})(this,new Vt(gt.ABORTED,"Firestore shutting down"))}}function C3(){return new Hu((t=>nF(t)),fv)}async function r7(t,e){const n=On(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.ba()&&e.Da()&&(r=2):(s=new NZ,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const o=QE(a,`Initialization of query '${D0(e.query)}' failed`);return void e.onError(o)}n.queries.set(i,s),s.Sa.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&ZE(n)}async function i7(t,e){const n=On(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const a=s.Sa.indexOf(e);a>=0&&(s.Sa.splice(a,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function IZ(t,e){const n=On(t);let r=!1;for(const i of e){const s=i.query,a=n.queries.get(s);if(a){for(const o of a.Sa)o.Fa(i)&&(r=!0);a.wa=i}}r&&ZE(n)}function kZ(t,e,n){const r=On(t),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(e)}function ZE(t){t.Ca.forEach((e=>{e.next()}))}var O5,I3;(I3=O5||(O5={})).Ma="default",I3.Cache="cache";class s7{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Mp(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Mp.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==O5.Cache}}class a7{constructor(e){this.key=e}}class o7{constructor(e){this.key=e}}class RZ{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Zn(),this.mutatedKeys=Zn(),this.eu=rF(e),this.tu=new sp(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new N3,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,a=i,o=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((d,m)=>{const g=i.get(d),y=N1(this.query,m)?m:null,E=!!g&&this.mutatedKeys.has(g.key),_=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let A=!1;g&&y?g.data.isEqual(y.data)?E!==_&&(r.track({type:3,doc:y}),A=!0):this.su(g,y)||(r.track({type:2,doc:y}),A=!0,(c&&this.eu(y,c)>0||f&&this.eu(y,f)<0)&&(o=!0)):!g&&y?(r.track({type:0,doc:y}),A=!0):g&&!y&&(r.track({type:1,doc:g}),A=!0,(c||f)&&(o=!0)),A&&(y?(a=a.add(y),s=_?s.add(d):s.delete(d)):(a=a.delete(d),s=s.delete(d)))})),this.query.limit!==null)for(;a.size>this.query.limit;){const d=this.query.limitType==="F"?a.last():a.first();a=a.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{tu:a,iu:r,Cs:o,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort(((d,m)=>(function(y,E){const _=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ln(20277,{Rt:A})}};return _(y)-_(E)})(d.type,m.type)||this.eu(d.doc,m.doc))),this.ou(r),i=i??!1;const o=n&&!i?this._u():[],c=this.Xa.size===0&&this.current&&!i?1:0,f=c!==this.Za;return this.Za=c,a.length!==0||f?{snapshot:new Mp(this.query,e.tu,s,a,e.mutatedKeys,c===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new N3,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Zn(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new o7(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new a7(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=Zn();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Mp.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const eS="SyncEngine";class PZ{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class DZ{constructor(e){this.key=e,this.hu=!1}}class MZ{constructor(e,n,r,i,s,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new Hu((o=>nF(o)),fv),this.Iu=new Map,this.Eu=new Set,this.du=new Ei(Ut.comparator),this.Au=new Map,this.Ru=new qE,this.Vu={},this.mu=new Map,this.fu=mh.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function LZ(t,e,n=!0){const r=h7(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await l7(r,e,n,!0),i}async function FZ(t,e){const n=h7(t);await l7(n,e,!0,!1)}async function l7(t,e,n,r){const i=await nZ(t.localStore,ml(e)),s=i.targetId,a=t.sharedClientState.addLocalQueryTarget(s,n);let o;return r&&(o=await OZ(t,e,s,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&JF(t.remoteStore,i),o}async function OZ(t,e,n,r,i){t.pu=(m,g,y)=>(async function(_,A,C,V){let R=A.view.ru(C);R.Cs&&(R=await _3(_.localStore,A.query,!1).then((({documents:D})=>A.view.ru(D,R))));const F=V&&V.targetChanges.get(A.targetId),z=V&&V.targetMismatches.get(A.targetId)!=null,W=A.view.applyChanges(R,_.isPrimaryClient,F,z);return R3(_,A.targetId,W.au),W.snapshot})(t,m,g,y);const s=await _3(t.localStore,e,!0),a=new RZ(e,s.Qs),o=a.ru(s.documents),c=I1.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),f=a.applyChanges(o,t.isPrimaryClient,c);R3(t,n,f.au);const d=new PZ(e,n,a);return t.Tu.set(e,d),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),f.snapshot}async function BZ(t,e,n){const r=On(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter((a=>!fv(a,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await L5(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&$E(r.remoteStore,i.targetId),B5(r,i.targetId)})).catch(Sh)):(B5(r,i.targetId),await L5(r.localStore,i.targetId,!0))}async function VZ(t,e){const n=On(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),$E(n.remoteStore,r.targetId))}async function UZ(t,e,n){const r=p7(t);try{const i=await(function(a,o){const c=On(a),f=jr.now(),d=o.reduce(((y,E)=>y.add(E.key)),Zn());let m,g;return c.persistence.runTransaction("Locally write mutations","readwrite",(y=>{let E=Vo(),_=Zn();return c.Ns.getEntries(y,d).next((A=>{E=A,E.forEach(((C,V)=>{V.isValidDocument()||(_=_.add(C))}))})).next((()=>c.localDocuments.getOverlayedDocuments(y,E))).next((A=>{m=A;const C=[];for(const V of o){const R=tQ(V,m.get(V.key).overlayedDocument);R!=null&&C.push(new zu(V.key,R,KL(R.value.mapValue),oa.exists(!0)))}return c.mutationQueue.addMutationBatch(y,f,C,o)})).next((A=>{g=A;const C=A.applyToLocalDocumentSet(m,_);return c.documentOverlayCache.saveOverlays(y,A.batchId,C)}))})).then((()=>({batchId:g.batchId,changes:sF(m)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(a,o,c){let f=a.Vu[a.currentUser.toKey()];f||(f=new Ei(Fn)),f=f.insert(o,c),a.Vu[a.currentUser.toKey()]=f})(r,i.batchId,n),await P1(r,i.changes),await R1(r.remoteStore)}catch(i){const s=QE(i,"Failed to persist write");n.reject(s)}}async function c7(t,e){const n=On(t);try{const r=await ZQ(n.localStore,e);e.targetChanges.forEach(((i,s)=>{const a=n.Au.get(s);a&&(vn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?a.hu=!0:i.modifiedDocuments.size>0?vn(a.hu,14607):i.removedDocuments.size>0&&(vn(a.hu,42227),a.hu=!1))})),await P1(n,r,e)}catch(r){await Sh(r)}}function k3(t,e,n){const r=On(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((s,a)=>{const o=a.view.va(e);o.snapshot&&i.push(o.snapshot)})),(function(a,o){const c=On(a);c.onlineState=o;let f=!1;c.queries.forEach(((d,m)=>{for(const g of m.Sa)g.va(o)&&(f=!0)})),f&&ZE(c)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function jZ(t,e,n){const r=On(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let a=new Ei(Ut.comparator);a=a.insert(s,Hi.newNoDocument(s,Sn.min()));const o=Zn().add(s),c=new pv(Sn.min(),new Map,new Ei(Fn),a,o);await c7(r,c),r.du=r.du.remove(s),r.Au.delete(e),tS(r)}else await L5(r.localStore,e,!1).then((()=>B5(r,e,n))).catch(Sh)}async function qZ(t,e){const n=On(t),r=e.batch.batchId;try{const i=await QQ(n.localStore,e);f7(n,r,null),u7(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await P1(n,i)}catch(i){await Sh(i)}}async function HZ(t,e,n){const r=On(t);try{const i=await(function(a,o){const c=On(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let d;return c.mutationQueue.lookupMutationBatch(f,o).next((m=>(vn(m!==null,37113),d=m.keys(),c.mutationQueue.removeMutationBatch(f,m)))).next((()=>c.mutationQueue.performConsistencyCheck(f))).next((()=>c.documentOverlayCache.removeOverlaysForBatchId(f,d,o))).next((()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,d))).next((()=>c.localDocuments.getDocuments(f,d)))}))})(r.localStore,e);f7(r,e,n),u7(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await P1(r,i)}catch(i){await Sh(i)}}function u7(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function f7(t,e,n){const r=On(t);let i=r.Vu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function B5(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||d7(t,r)}))}function d7(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&($E(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),tS(t))}function R3(t,e,n){for(const r of n)r instanceof a7?(t.Ru.addReference(r.key,e),zZ(t,r)):r instanceof o7?(It(eS,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||d7(t,r.key)):ln(19791,{wu:r})}function zZ(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(It(eS,"New document in limbo: "+n),t.Eu.add(r),tS(t))}function tS(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Ut(Lr.fromString(e)),r=t.fu.next();t.Au.set(r,new DZ(n)),t.du=t.du.insert(n,r),JF(t.remoteStore,new Su(ml(uv(n.path)),r,"TargetPurposeLimboResolution",pl.ce))}}async function P1(t,e,n){const r=On(t),i=[],s=[],a=[];r.Tu.isEmpty()||(r.Tu.forEach(((o,c)=>{a.push(r.pu(c,e,n).then((f=>{if((f||n)&&r.isPrimaryClient){const d=f?!f.fromCache:n?.targetChanges.get(c.targetId)?.current;r.sharedClientState.updateQueryState(c.targetId,d?"current":"not-current")}if(f){i.push(f);const d=GE.As(c.targetId,f);s.push(d)}})))})),await Promise.all(a),r.Pu.H_(i),await(async function(c,f){const d=On(c);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",(m=>Ke.forEach(f,(g=>Ke.forEach(g.Es,(y=>d.persistence.referenceDelegate.addReference(m,g.targetId,y))).next((()=>Ke.forEach(g.ds,(y=>d.persistence.referenceDelegate.removeReference(m,g.targetId,y)))))))))}catch(m){if(!cd(m))throw m;It(WE,"Failed to update sequence numbers: "+m)}for(const m of f){const g=m.targetId;if(!m.fromCache){const y=d.Ms.get(g),E=y.snapshotVersion,_=y.withLastLimboFreeSnapshotVersion(E);d.Ms=d.Ms.insert(g,_)}}})(r.localStore,s))}async function GZ(t,e){const n=On(t);if(!n.currentUser.isEqual(e)){It(eS,"User change. New user:",e.toKey());const r=await WF(n.localStore,e);n.currentUser=e,(function(s,a){s.mu.forEach((o=>{o.forEach((c=>{c.reject(new Vt(gt.CANCELLED,a))}))})),s.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await P1(n,r.Ls)}}function WZ(t,e){const n=On(t),r=n.Au.get(e);if(r&&r.hu)return Zn().add(r.key);{let i=Zn();const s=n.Iu.get(e);if(!s)return i;for(const a of s){const o=n.Tu.get(a);i=i.unionWith(o.view.nu)}return i}}function h7(t){const e=On(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=c7.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=WZ.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=jZ.bind(null,e),e.Pu.H_=IZ.bind(null,e.eventManager),e.Pu.yu=kZ.bind(null,e.eventManager),e}function p7(t){const e=On(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=qZ.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=HZ.bind(null,e),e}class t1{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=yv(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return GF(this.persistence,new zF,e.initialUser,this.serializer)}Cu(e){return new HE(xv.mi,this.serializer)}Du(e){return new KF}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}t1.provider={build:()=>new t1};class $Z extends t1{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){vn(this.persistence.referenceDelegate instanceof _2,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new VF(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?wa.withCacheSize(this.cacheSizeBytes):wa.DEFAULT;return new HE((r=>_2.mi(r,n)),this.serializer)}}class KZ extends t1{constructor(e,n,r){super(),this.xu=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await p7(this.xu.syncEngine),await R1(this.xu.remoteStore),await this.persistence.Ji((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return GF(this.persistence,new zF,e.initialUser,this.serializer)}Fu(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new VF(r,e.asyncQueue,n)}Mu(e,n){const r=new ZX(n,this.persistence);return new QX(e.asyncQueue,r)}Cu(e){const n=KQ(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?wa.withCacheSize(this.cacheSizeBytes):wa.DEFAULT;return new zE(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,cZ(),Ly(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new KF}}class T2{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>k3(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=GZ.bind(null,this.syncEngine),await AZ(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new CZ})()}createDatastore(e){const n=yv(e.databaseInfo.databaseId),r=(function(s){return new lZ(s)})(e.databaseInfo);return(function(s,a,o,c){return new hZ(s,a,o,c)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,s,a,o){return new mZ(r,i,s,a,o)})(this.localStore,this.datastore,e.asyncQueue,(n=>k3(this.syncEngine,n,0)),(function(){return E3.v()?new E3:new iZ})())}createSyncEngine(e,n){return(function(i,s,a,o,c,f,d){const m=new MZ(i,s,a,o,c,f);return d&&(m.gu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=On(n);It(gh,"RemoteStore shutting down."),r.Ea.add(5),await k1(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}T2.provider={build:()=>new T2};class m7{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ha("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const nd="FirestoreClient";class YZ{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ia.UNAUTHENTICATED,this.clientId=_E.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,(async a=>{It(nd,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a})),this.appCheckCredentials.start(r,(a=>(It(nd,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Fc;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=QE(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function k_(t,e){t.asyncQueue.verifyOperationInProgress(),It(nd,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await WF(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function P3(t,e){t.asyncQueue.verifyOperationInProgress();const n=await XZ(t);It(nd,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>A3(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>A3(e.remoteStore,i))),t._onlineComponents=e}async function XZ(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){It(nd,"Using user provided OfflineComponentProvider");try{await k_(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===gt.FAILED_PRECONDITION||i.code===gt.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;uh("Error using user provided cache. Falling back to memory cache: "+n),await k_(t,new t1)}}else It(nd,"Using default OfflineComponentProvider"),await k_(t,new $Z(void 0));return t._offlineComponents}async function g7(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(It(nd,"Using user provided OnlineComponentProvider"),await P3(t,t._uninitializedComponentsProvider._online)):(It(nd,"Using default OnlineComponentProvider"),await P3(t,new T2))),t._onlineComponents}function JZ(t){return g7(t).then((e=>e.syncEngine))}async function x7(t){const e=await g7(t),n=e.eventManager;return n.onListen=LZ.bind(null,e.syncEngine),n.onUnlisten=BZ.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=FZ.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=VZ.bind(null,e.syncEngine),n}function QZ(t,e,n={}){const r=new Fc;return t.asyncQueue.enqueueAndForget((async()=>(function(s,a,o,c,f){const d=new m7({next:g=>{d.Nu(),a.enqueueAndForget((()=>i7(s,m)));const y=g.docs.has(o);!y&&g.fromCache?f.reject(new Vt(gt.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&g.fromCache&&c&&c.source==="server"?f.reject(new Vt(gt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(g)},error:g=>f.reject(g)}),m=new s7(uv(o.path),d,{includeMetadataChanges:!0,qa:!0});return r7(s,m)})(await x7(t),t.asyncQueue,e,n,r))),r.promise}function ZZ(t,e,n={}){const r=new Fc;return t.asyncQueue.enqueueAndForget((async()=>(function(s,a,o,c,f){const d=new m7({next:g=>{d.Nu(),a.enqueueAndForget((()=>i7(s,m))),g.fromCache&&c.source==="server"?f.reject(new Vt(gt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(g)},error:g=>f.reject(g)}),m=new s7(o,d,{includeMetadataChanges:!0,qa:!0});return r7(s,m)})(await x7(t),t.asyncQueue,e,n,r))),r.promise}function y7(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const D3=new Map;const v7="firestore.googleapis.com",M3=!0;class L3{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Vt(gt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=v7,this.ssl=M3}else this.host=e.host,this.ssl=e.ssl??M3;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=LF;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<RQ)throw new Vt(gt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}KX("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=y7(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Vt(gt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Vt(gt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Vt(gt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class bv{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new L3({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Vt(gt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Vt(gt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new L3(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new BX;switch(r.type){case"firstParty":return new qX(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Vt(gt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=D3.get(n);r&&(It("ComponentProvider","Removing Datastore"),D3.delete(n),r.terminate())})(this),Promise.resolve()}}function eee(t,e,n,r={}){t=jc(t,bv);const i=qp(e),s=t._getSettings(),a={...s,emulatorOptions:t._getEmulatorOptions()},o=`${e}:${n}`;i&&(TM(`https://${o}`),EM("Firestore",!0)),s.host!==v7&&s.host!==o&&uh("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...s,host:o,ssl:i,emulatorOptions:r};if(!sh(c,a)&&(t._setSettings(c),r.mockUserToken)){let f,d;if(typeof r.mockUserToken=="string")f=r.mockUserToken,d=ia.MOCK_USER;else{f=XW(r.mockUserToken,t._app?.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new Vt(gt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new ia(m)}t._authCredentials=new VX(new _L(f,d))}}class _v{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new _v(this.firestore,e,this._query)}}class As{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xf(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new As(this.firestore,e,this._key)}toJSON(){return{type:As._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(E1(n,As._jsonSchema))return new As(e,r||null,new Ut(Lr.fromString(n.referencePath)))}}As._jsonSchemaVersion="firestore/documentReference/1.0",As._jsonSchema={type:ds("string",As._jsonSchemaVersion),referencePath:ds("string")};class Xf extends _v{constructor(e,n,r){super(e,n,uv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new As(this.firestore,null,new Ut(e))}withConverter(e){return new Xf(this.firestore,e,this._path)}}function tee(t,e,...n){if(t=Ws(t),TL("collection","path",e),t instanceof bv){const r=Lr.fromString(e,...n);return SI(r),new Xf(t,null,r)}{if(!(t instanceof As||t instanceof Xf))throw new Vt(gt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Lr.fromString(e,...n));return SI(r),new Xf(t.firestore,null,r)}}function K0(t,e,...n){if(t=Ws(t),arguments.length===1&&(e=_E.newId()),TL("doc","path",e),t instanceof bv){const r=Lr.fromString(e,...n);return EI(r),new As(t,null,new Ut(r))}{if(!(t instanceof As||t instanceof Xf))throw new Vt(gt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Lr.fromString(e,...n));return EI(r),new As(t.firestore,t instanceof Xf?t.converter:null,new Ut(r))}}const F3="AsyncQueue";class O3{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new YF(this,"async_queue_retry"),this._c=()=>{const r=Ly();r&&It(F3,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Ly();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Ly();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Fc;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!cd(e))throw e;It(F3,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Ha("INTERNAL UNHANDLED ERROR: ",B3(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=JE.createAndSchedule(this,e,n,r,(s=>this.hc(s)));return this.tc.push(i),i}uc(){this.nc&&ln(47125,{Pc:B3(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function B3(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Nh extends bv{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new O3,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new O3(e),this._firestoreClient=void 0,await e}}}function nee(t,e){const n=typeof t=="object"?t:fE(),r=typeof t=="string"?t:d2,i=uE(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=KW("firestore");s&&eee(i,...s)}return i}function wv(t){if(t._terminated)throw new Vt(gt.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||b7(t),t._firestoreClient}function b7(t){const e=t._freezeSettings(),n=(function(i,s,a,o){return new CJ(i,s,a,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,y7(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new YZ(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(i){const s=i?._online.build();return{_offline:i?._offline.build(s),_online:s}})(t._componentsProvider))}function ree(t,e){uh("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings();return iee(t,T2.provider,{build:r=>new KZ(r,n.cacheSizeBytes,e?.forceOwnership)}),Promise.resolve()}function iee(t,e,n){if((t=jc(t,Nh))._firestoreClient||t._terminated)throw new Vt(gt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new Vt(gt.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:n},b7(t)}class dl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new dl(hs.fromBase64String(e))}catch(n){throw new Vt(gt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new dl(hs.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:dl._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(E1(e,dl._jsonSchema))return dl.fromBase64String(e.bytes)}}dl._jsonSchemaVersion="firestore/bytes/1.0",dl._jsonSchema={type:ds("string",dl._jsonSchemaVersion),bytes:ds("string")};class Tv{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Vt(gt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ev{constructor(e){this._methodName=e}}class Oc{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Vt(gt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Vt(gt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Fn(this._lat,e._lat)||Fn(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Oc._jsonSchemaVersion}}static fromJSON(e){if(E1(e,Oc._jsonSchema))return new Oc(e.latitude,e.longitude)}}Oc._jsonSchemaVersion="firestore/geoPoint/1.0",Oc._jsonSchema={type:ds("string",Oc._jsonSchemaVersion),latitude:ds("number"),longitude:ds("number")};class Bc{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Bc._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(E1(e,Bc._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Bc(e.vectorValues);throw new Vt(gt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Bc._jsonSchemaVersion="firestore/vectorValue/1.0",Bc._jsonSchema={type:ds("string",Bc._jsonSchemaVersion),vectorValues:ds("object")};const see=/^__.*__$/;class aee{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new zu(e,this.data,this.fieldMask,n,this.fieldTransforms):new Wp(e,this.data,n,this.fieldTransforms)}}class _7{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new zu(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function w7(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ln(40011,{Ac:t})}}class nS{constructor(e,n,r,i,s,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new nS({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return E2(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(w7(this.Ac)&&see.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class oee{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||yv(e)}Cc(e,n,r,i=!1){return new nS({Ac:e,methodName:n,Dc:r,path:Pi.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function T7(t){const e=t._freezeSettings(),n=yv(t._databaseId);return new oee(t._databaseId,!!e.ignoreUndefinedProperties,n)}function E7(t,e,n,r,i,s={}){const a=t.Cc(s.merge||s.mergeFields?2:0,e,n,i);iS("Data must be an object, but it was:",a,r);const o=S7(r,a);let c,f;if(s.merge)c=new vo(a.fieldMask),f=a.fieldTransforms;else if(s.mergeFields){const d=[];for(const m of s.mergeFields){const g=V5(e,m,n);if(!a.contains(g))throw new Vt(gt.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);N7(d,g)||d.push(g)}c=new vo(d),f=a.fieldTransforms.filter((m=>c.covers(m.field)))}else c=null,f=a.fieldTransforms;return new aee(new Ea(o),c,f)}class Sv extends Ev{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Sv}}class rS extends Ev{_toFieldTransform(e){return new dF(e.path,new kp)}isEqual(e){return e instanceof rS}}function lee(t,e,n,r){const i=t.Cc(1,e,n);iS("Data must be an object, but it was:",i,r);const s=[],a=Ea.empty();ud(r,((c,f)=>{const d=sS(e,c,n);f=Ws(f);const m=i.yc(d);if(f instanceof Sv)s.push(d);else{const g=Av(f,m);g!=null&&(s.push(d),a.set(d,g))}}));const o=new vo(s);return new _7(a,o,i.fieldTransforms)}function cee(t,e,n,r,i,s){const a=t.Cc(1,e,n),o=[V5(e,r,n)],c=[i];if(s.length%2!=0)throw new Vt(gt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<s.length;g+=2)o.push(V5(e,s[g])),c.push(s[g+1]);const f=[],d=Ea.empty();for(let g=o.length-1;g>=0;--g)if(!N7(f,o[g])){const y=o[g];let E=c[g];E=Ws(E);const _=a.yc(y);if(E instanceof Sv)f.push(y);else{const A=Av(E,_);A!=null&&(f.push(y),d.set(y,A))}}const m=new vo(f);return new _7(d,m,a.fieldTransforms)}function Av(t,e){if(A7(t=Ws(t)))return iS("Unsupported field value:",e,t),S7(t,e);if(t instanceof Ev)return(function(r,i){if(!w7(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const s=[];let a=0;for(const o of r){let c=Av(o,i.wc(a));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),a++}return{arrayValue:{values:s}}})(t,e)}return(function(r,i){if((r=Ws(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return YJ(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=jr.fromDate(r);return{timestampValue:Dp(i.serializer,s)}}if(r instanceof jr){const s=new jr(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Dp(i.serializer,s)}}if(r instanceof Oc)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof dl)return{bytesValue:vF(i.serializer,r._byteString)};if(r instanceof As){const s=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(s))throw i.Sc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:VE(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Bc)return(function(a,o){return{mapValue:{fields:{[kE]:{stringValue:RE},[Ap]:{arrayValue:{values:a.toArray().map((f=>{if(typeof f!="number")throw o.Sc("VectorValues must only contain numeric values.");return ME(o.serializer,f)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${wE(r)}`)})(t,e)}function S7(t,e){const n={};return VL(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ud(t,((r,i)=>{const s=Av(i,e.mc(r));s!=null&&(n[r]=s)})),{mapValue:{fields:n}}}function A7(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof jr||t instanceof Oc||t instanceof dl||t instanceof As||t instanceof Ev||t instanceof Bc)}function iS(t,e,n){if(!A7(n)||!EL(n)){const r=wE(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function V5(t,e,n){if((e=Ws(e))instanceof Tv)return e._internalPath;if(typeof e=="string")return sS(t,e);throw E2("Field path arguments must be of type string or ",t,!1,void 0,n)}const uee=new RegExp("[~\\*/\\[\\]]");function sS(t,e,n){if(e.search(uee)>=0)throw E2(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Tv(...e.split("."))._internalPath}catch{throw E2(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function E2(t,e,n,r,i){const s=r&&!r.isEmpty(),a=i!==void 0;let o=`Function ${e}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let c="";return(s||a)&&(c+=" (found",s&&(c+=` in field ${r}`),a&&(c+=` in document ${i}`),c+=")"),new Vt(gt.INVALID_ARGUMENT,o+t+c)}function N7(t,e){return t.some((n=>n.isEqual(e)))}class C7{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new As(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new fee(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(I7("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class fee extends C7{data(){return super.data()}}function I7(t,e){return typeof e=="string"?sS(t,e):e instanceof Tv?e._internalPath:e._delegate._internalPath}function dee(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Vt(gt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class hee{convertValue(e,n="none"){switch(Zf(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Vu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ln(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ud(e,((i,s)=>{r[i]=this.convertValue(s,n)})),r}convertVectorValue(e){const n=e.fields?.[Ap].arrayValue?.values?.map((r=>wi(r.doubleValue)));return new Bc(n)}convertGeoPoint(e){return new Oc(wi(e.latitude),wi(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=ov(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Jg(e));default:return null}}convertTimestamp(e){const n=Bu(e);return new jr(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Lr.fromString(e);vn(IF(r),9688,{name:e});const i=new fh(r.get(1),r.get(3)),s=new Ut(r.popFirst(5));return i.isEqual(n)||Ha(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}function k7(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class rg{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class eh extends C7{constructor(e,n,r,i,s,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Fy(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(I7("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Vt(gt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=eh._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}eh._jsonSchemaVersion="firestore/documentSnapshot/1.0",eh._jsonSchema={type:ds("string",eh._jsonSchemaVersion),bundleSource:ds("string","DocumentSnapshot"),bundleName:ds("string"),bundle:ds("string")};class Fy extends eh{data(e={}){return super.data(e)}}class ap{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new rg(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Fy(this._firestore,this._userDataWriter,r.key,r,new rg(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Vt(gt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map((o=>{const c=new Fy(i._firestore,i._userDataWriter,o.doc.key,o.doc,new rg(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:c,oldIndex:-1,newIndex:a++}}))}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((o=>s||o.type!==3)).map((o=>{const c=new Fy(i._firestore,i._userDataWriter,o.doc.key,o.doc,new rg(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,d=-1;return o.type!==0&&(f=a.indexOf(o.doc.key),a=a.delete(o.doc.key)),o.type!==1&&(a=a.add(o.doc),d=a.indexOf(o.doc.key)),{type:pee(o.type),doc:c,oldIndex:f,newIndex:d}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Vt(gt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ap._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=_E.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function pee(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ln(61501,{type:t})}}function mee(t){t=jc(t,As);const e=jc(t.firestore,Nh);return QZ(wv(e),t._key).then((n=>yee(e,t,n)))}ap._jsonSchemaVersion="firestore/querySnapshot/1.0",ap._jsonSchema={type:ds("string",ap._jsonSchemaVersion),bundleSource:ds("string","QuerySnapshot"),bundleName:ds("string"),bundle:ds("string")};class R7 extends hee{constructor(e){super(),this.firestore=e}convertBytes(e){return new dl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new As(this.firestore,null,n)}}function gee(t){t=jc(t,_v);const e=jc(t.firestore,Nh),n=wv(e),r=new R7(e);return dee(t._query),ZZ(n,t._query).then((i=>new ap(e,r,t,i)))}function U5(t,e,n){t=jc(t,As);const r=jc(t.firestore,Nh),i=k7(t.converter,e,n);return aS(r,[E7(T7(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,oa.none())])}function xee(t){return aS(jc(t.firestore,Nh),[new C1(t._key,oa.none())])}function aS(t,e){return(function(r,i){const s=new Fc;return r.asyncQueue.enqueueAndForget((async()=>UZ(await JZ(r),i,s))),s.promise})(wv(t),e)}function yee(t,e,n){const r=n.docs.get(e._key),i=new R7(t);return new eh(t,i,e._key,r,new rg(n.hasPendingWrites,n.fromCache),e.converter)}class vee{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=T7(e)}set(e,n,r){this._verifyNotCommitted();const i=R_(e,this._firestore),s=k7(i.converter,n,r),a=E7(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(a.toMutation(i._key,oa.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=R_(e,this._firestore);let a;return a=typeof(n=Ws(n))=="string"||n instanceof Tv?cee(this._dataReader,"WriteBatch.update",s._key,n,r,i):lee(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(a.toMutation(s._key,oa.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=R_(e,this._firestore);return this._mutations=this._mutations.concat(new C1(n._key,oa.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Vt(gt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function R_(t,e){if((t=Ws(t)).firestore!==e)throw new Vt(gt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function bee(){return new rS("serverTimestamp")}function _ee(t){return wv(t=jc(t,Nh)),new vee(t,(e=>aS(t,e)))}(function(e,n=!0){(function(i){Gp=i})(Hp),bp(new ah("firestore",((r,{instanceIdentifier:i,options:s})=>{const a=r.getProvider("app").getImmediate(),o=new Nh(new UX(r.getProvider("auth-internal")),new HX(a,r.getProvider("app-check-internal")),(function(f,d){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Vt(gt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fh(f.options.projectId,d)})(a,i),a);return s={useFetchStreams:n,...s},o._setSettings(s),o}),"PUBLIC").setMultipleInstances(!0)),$f(bI,_I,e),$f(bI,_I,"esm2020")})();const wee={apiKey:"AIzaSyDOhuszbQuXpMO0WY-FXzkyY8dABjj4MHg",authDomain:"sample-firebase-ai-app-1f72d.firebaseapp.com",projectId:"sample-firebase-ai-app-1f72d",storageBucket:"sample-firebase-ai-app-1f72d.firebasestorage.app",messagingSenderId:"231225025529",appId:"1:231225025529:web:e079fe0aa1be713625d328"},P7=uK().length?fE():RM(wee),Wx=MX(P7),bu=nee(P7);typeof window<"u"&&ree(bu).catch(t=>{t.code==="failed-precondition"?console.warn("Multiple tabs open, persistence can only be enabled in one tab at a time."):t.code==="unimplemented"&&console.warn("The current browser does not support persistence.")});const D7=ke.createContext(void 0);function Tee({children:t}){const[e,n]=ke.useState(null),[r,i]=ke.useState(!0);ke.useEffect(()=>(console.log("Setting up auth state listener..."),wY(Wx,f=>{console.log("Auth state changed. User:",f?`${f.email}`:"null"),n(f),i(!1)})),[]);const s=async(c,f)=>{await vY(Wx,c,f)},a=async(c,f)=>{await yY(Wx,c,f)},o=async()=>{await TY(Wx)};return p.jsx(D7.Provider,{value:{user:e,loading:r,signIn:s,signUp:a,signOut:o},children:t})}function D1(){const t=ke.useContext(D7);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}var Eee=(t,e,n,r,i,s,a,o)=>{let c=document.documentElement,f=["light","dark"];function d(y){(Array.isArray(t)?t:[t]).forEach(E=>{let _=E==="class",A=_&&s?i.map(C=>s[C]||C):i;_?(c.classList.remove(...A),c.classList.add(s&&s[y]?s[y]:y)):c.setAttribute(E,y)}),m(y)}function m(y){o&&f.includes(y)&&(c.style.colorScheme=y)}function g(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(r)d(r);else try{let y=localStorage.getItem(e)||n,E=a&&y==="system"?g():y;d(E)}catch{}},V3=["light","dark"],M7="(prefers-color-scheme: dark)",See=typeof window>"u",oS=ke.createContext(void 0),Aee={setTheme:t=>{},themes:[]},L7=()=>{var t;return(t=ke.useContext(oS))!=null?t:Aee},Nee=t=>ke.useContext(oS)?ke.createElement(ke.Fragment,null,t.children):ke.createElement(Iee,{...t}),Cee=["light","dark"],Iee=({forcedTheme:t,disableTransitionOnChange:e=!1,enableSystem:n=!0,enableColorScheme:r=!0,storageKey:i="theme",themes:s=Cee,defaultTheme:a=n?"system":"light",attribute:o="data-theme",value:c,children:f,nonce:d,scriptProps:m})=>{let[g,y]=ke.useState(()=>Ree(i,a)),[E,_]=ke.useState(()=>g==="system"?P_():g),A=c?Object.values(c):s,C=ke.useCallback(z=>{let W=z;if(!W)return;z==="system"&&n&&(W=P_());let D=c?c[W]:W,L=e?Pee(d):null,k=document.documentElement,q=P=>{P==="class"?(k.classList.remove(...A),D&&k.classList.add(D)):P.startsWith("data-")&&(D?k.setAttribute(P,D):k.removeAttribute(P))};if(Array.isArray(o)?o.forEach(q):q(o),r){let P=V3.includes(a)?a:null,M=V3.includes(W)?W:P;k.style.colorScheme=M}L?.()},[d]),V=ke.useCallback(z=>{let W=typeof z=="function"?z(g):z;y(W);try{localStorage.setItem(i,W)}catch{}},[g]),R=ke.useCallback(z=>{let W=P_(z);_(W),g==="system"&&n&&!t&&C("system")},[g,t]);ke.useEffect(()=>{let z=window.matchMedia(M7);return z.addListener(R),R(z),()=>z.removeListener(R)},[R]),ke.useEffect(()=>{let z=W=>{W.key===i&&(W.newValue?y(W.newValue):V(a))};return window.addEventListener("storage",z),()=>window.removeEventListener("storage",z)},[V]),ke.useEffect(()=>{C(t??g)},[t,g]);let F=ke.useMemo(()=>({theme:g,setTheme:V,forcedTheme:t,resolvedTheme:g==="system"?E:g,themes:n?[...s,"system"]:s,systemTheme:n?E:void 0}),[g,V,t,E,n,s]);return ke.createElement(oS.Provider,{value:F},ke.createElement(kee,{forcedTheme:t,storageKey:i,attribute:o,enableSystem:n,enableColorScheme:r,defaultTheme:a,value:c,themes:s,nonce:d,scriptProps:m}),f)},kee=ke.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:i,defaultTheme:s,value:a,themes:o,nonce:c,scriptProps:f})=>{let d=JSON.stringify([n,e,s,t,o,a,r,i]).slice(1,-1);return ke.createElement("script",{...f,suppressHydrationWarning:!0,nonce:typeof window>"u"?c:"",dangerouslySetInnerHTML:{__html:`(${Eee.toString()})(${d})`}})}),Ree=(t,e)=>{if(See)return;let n;try{n=localStorage.getItem(t)||void 0}catch{}return n||e},Pee=t=>{let e=document.createElement("style");return t&&e.setAttribute("nonce",t),e.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(e)},1)}},P_=t=>(t||(t=window.matchMedia(M7)),t.matches?"dark":"light");const Dee="modulepreload",Mee=function(t,e){return new URL(t,e).href},U3={},op=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let f=function(d){return Promise.all(d.map(m=>Promise.resolve(m).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};const a=document.getElementsByTagName("link"),o=document.querySelector("meta[property=csp-nonce]"),c=o?.nonce||o?.getAttribute("nonce");i=f(n.map(d=>{if(d=Mee(d,r),d in U3)return;U3[d]=!0;const m=d.endsWith(".css"),g=m?'[rel="stylesheet"]':"";if(r)for(let E=a.length-1;E>=0;E--){const _=a[E];if(_.href===d&&(!m||_.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${d}"]${g}`))return;const y=document.createElement("link");if(y.rel=m?"stylesheet":Dee,m||(y.as="script"),y.crossOrigin="",y.href=d,c&&y.setAttribute("nonce",c),document.head.appendChild(y),m)return new Promise((E,_)=>{y.addEventListener("load",E),y.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${d}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return i.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return e().catch(s)})};var Lp;(function(t){t.Unimplemented="UNIMPLEMENTED",t.Unavailable="UNAVAILABLE"})(Lp||(Lp={}));class D_ extends Error{constructor(e,n,r){super(e),this.message=e,this.code=n,this.data=r}}const Lee=t=>{var e,n;return t?.androidBridge?"android":!((n=(e=t?.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||n===void 0)&&n.bridge?"ios":"web"},Fee=t=>{const e=t.CapacitorCustomPlatform||null,n=t.Capacitor||{},r=n.Plugins=n.Plugins||{},i=()=>e!==null?e.name:Lee(t),s=()=>i()!=="web",a=m=>{const g=f.get(m);return!!(g?.platforms.has(i())||o(m))},o=m=>{var g;return(g=n.PluginHeaders)===null||g===void 0?void 0:g.find(y=>y.name===m)},c=m=>t.console.error(m),f=new Map,d=(m,g={})=>{const y=f.get(m);if(y)return console.warn(`Capacitor plugin "${m}" already registered. Cannot register plugins twice.`),y.proxy;const E=i(),_=o(m);let A;const C=async()=>(!A&&E in g?A=typeof g[E]=="function"?A=await g[E]():A=g[E]:e!==null&&!A&&"web"in g&&(A=typeof g.web=="function"?A=await g.web():A=g.web),A),V=(L,k)=>{var q,P;if(_){const M=_?.methods.find(j=>k===j.name);if(M)return M.rtype==="promise"?j=>n.nativePromise(m,k.toString(),j):(j,ae)=>n.nativeCallback(m,k.toString(),j,ae);if(L)return(q=L[k])===null||q===void 0?void 0:q.bind(L)}else{if(L)return(P=L[k])===null||P===void 0?void 0:P.bind(L);throw new D_(`"${m}" plugin is not implemented on ${E}`,Lp.Unimplemented)}},R=L=>{let k;const q=(...P)=>{const M=C().then(j=>{const ae=V(j,L);if(ae){const Ae=ae(...P);return k=Ae?.remove,Ae}else throw new D_(`"${m}.${L}()" is not implemented on ${E}`,Lp.Unimplemented)});return L==="addListener"&&(M.remove=async()=>k()),M};return q.toString=()=>`${L.toString()}() { [capacitor code] }`,Object.defineProperty(q,"name",{value:L,writable:!1,configurable:!1}),q},F=R("addListener"),z=R("removeListener"),W=(L,k)=>{const q=F({eventName:L},k),P=async()=>{const j=await q;z({eventName:L,callbackId:j},k)},M=new Promise(j=>q.then(()=>j({remove:P})));return M.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await P()},M},D=new Proxy({},{get(L,k){switch(k){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return _?W:F;case"removeListener":return z;default:return R(k)}}});return r[m]=D,f.set(m,{name:m,proxy:D,platforms:new Set([...Object.keys(g),..._?[E]:[]])}),D};return n.convertFileSrc||(n.convertFileSrc=m=>m),n.getPlatform=i,n.handleError=c,n.isNativePlatform=s,n.isPluginAvailable=a,n.registerPlugin=d,n.Exception=D_,n.DEBUG=!!n.DEBUG,n.isLoggingEnabled=!!n.isLoggingEnabled,n},Oee=t=>t.Capacitor=Fee(t),xh=Oee(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),Kp=xh.registerPlugin;class lS{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(e,n){let r=!1;this.listeners[e]||(this.listeners[e]=[],r=!0),this.listeners[e].push(n);const s=this.windowListeners[e];s&&!s.registered&&this.addWindowListener(s),r&&this.sendRetainedArgumentsForEvent(e);const a=async()=>this.removeListener(e,n);return Promise.resolve({remove:a})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,n,r){const i=this.listeners[e];if(!i){if(r){let s=this.retainedEventArguments[e];s||(s=[]),s.push(n),this.retainedEventArguments[e]=s}return}i.forEach(s=>s(n))}hasListeners(e){var n;return!!(!((n=this.listeners[e])===null||n===void 0)&&n.length)}registerWindowListener(e,n){this.windowListeners[n]={registered:!1,windowEventName:e,pluginEventName:n,handler:r=>{this.notifyListeners(n,r)}}}unimplemented(e="not implemented"){return new xh.Exception(e,Lp.Unimplemented)}unavailable(e="not available"){return new xh.Exception(e,Lp.Unavailable)}async removeListener(e,n){const r=this.listeners[e];if(!r)return;const i=r.indexOf(n);this.listeners[e].splice(i,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const n=this.retainedEventArguments[e];n&&(delete this.retainedEventArguments[e],n.forEach(r=>{this.notifyListeners(e,r)}))}}const j3=t=>encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),q3=t=>t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class Bee extends lS{async getCookies(){const e=document.cookie,n={};return e.split(";").forEach(r=>{if(r.length<=0)return;let[i,s]=r.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");i=q3(i).trim(),s=q3(s).trim(),n[i]=s}),n}async setCookie(e){try{const n=j3(e.key),r=j3(e.value),i=`; expires=${(e.expires||"").replace("expires=","")}`,s=(e.path||"/").replace("path=",""),a=e.url!=null&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${n}=${r||""}${i}; path=${s}; ${a};`}catch(n){return Promise.reject(n)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(n){return Promise.reject(n)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const n of e)document.cookie=n.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}Kp("CapacitorCookies",{web:()=>new Bee});const Vee=async t=>new Promise((e,n)=>{const r=new FileReader;r.onload=()=>{const i=r.result;e(i.indexOf(",")>=0?i.split(",")[1]:i)},r.onerror=i=>n(i),r.readAsDataURL(t)}),Uee=(t={})=>{const e=Object.keys(t);return Object.keys(t).map(i=>i.toLocaleLowerCase()).reduce((i,s,a)=>(i[s]=t[e[a]],i),{})},jee=(t,e=!0)=>t?Object.entries(t).reduce((r,i)=>{const[s,a]=i;let o,c;return Array.isArray(a)?(c="",a.forEach(f=>{o=e?encodeURIComponent(f):f,c+=`${s}=${o}&`}),c.slice(0,-1)):(o=e?encodeURIComponent(a):a,c=`${s}=${o}`),`${r}&${c}`},"").substr(1):null,qee=(t,e={})=>{const n=Object.assign({method:t.method||"GET",headers:t.headers},e),i=Uee(t.headers)["content-type"]||"";if(typeof t.data=="string")n.body=t.data;else if(i.includes("application/x-www-form-urlencoded")){const s=new URLSearchParams;for(const[a,o]of Object.entries(t.data||{}))s.set(a,o);n.body=s.toString()}else if(i.includes("multipart/form-data")||t.data instanceof FormData){const s=new FormData;if(t.data instanceof FormData)t.data.forEach((o,c)=>{s.append(c,o)});else for(const o of Object.keys(t.data))s.append(o,t.data[o]);n.body=s;const a=new Headers(n.headers);a.delete("content-type"),n.headers=a}else(i.includes("application/json")||typeof t.data=="object")&&(n.body=JSON.stringify(t.data));return n};class Hee extends lS{async request(e){const n=qee(e,e.webFetchExtra),r=jee(e.params,e.shouldEncodeUrlParams),i=r?`${e.url}?${r}`:e.url,s=await fetch(i,n),a=s.headers.get("content-type")||"";let{responseType:o="text"}=s.ok?e:{};a.includes("application/json")&&(o="json");let c,f;switch(o){case"arraybuffer":case"blob":f=await s.blob(),c=await Vee(f);break;case"json":c=await s.json();break;case"document":case"text":default:c=await s.text()}const d={};return s.headers.forEach((m,g)=>{d[g]=m}),{data:c,headers:d,status:s.status,url:s.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}Kp("CapacitorHttp",{web:()=>new Hee});var H3;(function(t){t.Dark="DARK",t.Light="LIGHT",t.Default="DEFAULT"})(H3||(H3={}));var z3;(function(t){t.StatusBar="StatusBar",t.NavigationBar="NavigationBar"})(z3||(z3={}));class zee extends lS{async setStyle(){this.unavailable("not available for web")}async setAnimation(){this.unavailable("not available for web")}async show(){this.unavailable("not available for web")}async hide(){this.unavailable("not available for web")}}Kp("SystemBars",{web:()=>new zee});var Y0;(function(t){t.Heavy="HEAVY",t.Medium="MEDIUM",t.Light="LIGHT"})(Y0||(Y0={}));var G3;(function(t){t.Success="SUCCESS",t.Warning="WARNING",t.Error="ERROR"})(G3||(G3={}));const W3=Kp("Haptics",{web:()=>op(()=>import("./web-UHMuD2aS.js"),[],import.meta.url).then(t=>new t.HapticsWeb)}),qr={impact:async(t=Y0.Light)=>{try{await W3.impact({style:t})}catch{console.warn("Haptics not available")}},notification:async(t="success")=>{try{await W3.vibrate()}catch{console.warn("Haptics not available")}},light:()=>qr.impact(Y0.Light),medium:()=>qr.impact(Y0.Medium),heavy:()=>qr.impact(Y0.Heavy),success:()=>qr.notification("success"),error:()=>qr.notification("error")},Gee=({currentView:t,onChangeView:e,isCloudConnected:n=!1,onClose:r})=>{const{signOut:i}=D1(),{theme:s,setTheme:a}=L7(),o=[{id:Qt.DASHBOARD,label:"Home",icon:lM},{id:Qt.INVOICES,label:"Invoices",icon:Cu},{id:Qt.INVENTORY,label:"Inventory",icon:zf},{id:Qt.CREATE_INVOICE,label:"Create",icon:RG},{id:Qt.EXPENSES,label:"Expenses",icon:sE},{id:Qt.PAYMENTS,label:"Receipts",icon:ih},{id:Qt.CUSTOMERS,label:"People",icon:Xd},{id:Qt.IMPORT,label:"Import",icon:J2},{id:Qt.SETTINGS,label:"Settings",icon:hM}],c=async()=>{await i()};return p.jsx(p.Fragment,{children:p.jsxs("div",{className:"flex w-72 md:w-80 bg-surface-container-low border-r border-border h-full flex-col flex-shrink-0 transition-all duration-300",children:[p.jsxs("div",{className:"p-8 pb-6",children:[p.jsxs("div",{className:"flex items-center justify-between mb-8",children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("div",{className:"w-14 h-14 rounded-[20px] bg-white dark:bg-slate-800 p-2 shadow-google border border-border",children:p.jsx("img",{src:"/logo.png",alt:"Logo",className:"w-full h-full object-contain"})}),p.jsxs("div",{children:[p.jsx("h1",{className:"text-2xl font-black font-heading tracking-tight text-foreground leading-none",children:"BillBook"}),p.jsx("p",{className:"text-[10px] font-bold text-google-blue uppercase tracking-[0.2em] mt-1",children:"Premium Edition"})]})]}),p.jsx("button",{onClick:r,className:"p-2 md:hidden text-muted-foreground hover:bg-surface-container-high rounded-full transition-colors",children:p.jsx(Iu,{className:"w-6 h-6"})})]}),p.jsxs("div",{className:`p-4 rounded-[24px] border flex items-center gap-3 transition-all ${n?"bg-google-green/5 border-google-green/10 text-google-green":"bg-surface-container-high border-border text-muted-foreground"}`,children:[p.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${n?"bg-google-green/10":"bg-surface-container"}`,children:n?p.jsx(aM,{className:"w-5 h-5"}):p.jsx(LG,{className:"w-5 h-5"})}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsx("p",{className:"text-[11px] font-bold uppercase tracking-widest leading-none mb-1",children:"Status"}),p.jsx("p",{className:"text-xs font-bold truncate",children:n?"Cloud Synchronized":"Offline Mode"})]}),n&&p.jsx("span",{className:"w-2 h-2 rounded-full bg-google-green animate-pulse"})]})]}),p.jsxs("nav",{className:"flex-1 px-4 space-y-1 overflow-y-auto no-scrollbar",children:[o.map(f=>{const d=t===f.id;return p.jsxs("button",{onClick:()=>{e(f.id),qr.light()},className:`w-full group relative flex items-center gap-4 px-6 py-4 rounded-full text-sm font-bold transition-all ${d?"bg-google-blue text-white shadow-google scale-[1.02]":"text-muted-foreground hover:bg-surface-container-high hover:text-foreground"}`,children:[p.jsx(f.icon,{className:`w-6 h-6 transition-transform group-hover:scale-110 ${d?"text-white":"text-muted-foreground group-hover:text-google-blue"}`}),p.jsx("span",{className:"flex-1 text-left tracking-tight",children:f.label==="Home"?"Dashboard":f.label==="People"?"Customers":f.label==="Create"?"New Invoice":f.label}),d&&p.jsx(Et.div,{layoutId:"nav-pill-active",className:"absolute inset-0 bg-google-blue rounded-full -z-10",transition:{type:"spring",bounce:.2,duration:.6}})]},f.id)}),p.jsx("div",{className:"h-4"}),p.jsxs("button",{onClick:()=>{a(s==="dark"?"light":"dark"),qr.medium()},className:"w-full flex items-center gap-4 px-6 py-4 rounded-full text-sm font-bold text-muted-foreground hover:bg-surface-container-high hover:text-foreground transition-all group",children:[p.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center transition-colors ${s==="dark"?"bg-yellow-500/10 text-yellow-500":"bg-blue-500/10 text-blue-500"}`,children:s==="dark"?p.jsx(pM,{className:"w-5 h-5"}):p.jsx(dM,{className:"w-5 h-5"})}),p.jsx("span",{className:"flex-1 text-left tracking-tight",children:"Appearance"}),p.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest opacity-40",children:s==="dark"?"Dark":"Light"})]})]}),p.jsxs("div",{className:"p-6 border-t border-border",children:[p.jsxs("button",{onClick:c,className:"w-full flex items-center gap-4 px-6 py-4 rounded-[24px] bg-google-red/5 text-google-red hover:bg-google-red hover:text-white transition-all font-bold text-sm group",children:[p.jsx(uM,{className:"w-5 h-5 group-hover:-translate-x-1 transition-transform"}),p.jsx("span",{children:"Sign Out"})]}),p.jsx("div",{className:"mt-6 text-center",children:p.jsx("p",{className:"text-[10px] font-bold text-muted-foreground uppercase tracking-[0.3em]",children:" 2025 JLS SUITE"})})]})]})})},Wee=({currentView:t,onChangeView:e})=>{const[n,r]=ke.useState(!1),{signOut:i}=D1(),s=o=>{e(o),r(!1)},a=[{id:Qt.CUSTOMERS,label:"Customers",icon:Xd,color:"text-orange-500",bgColor:"bg-orange-50"},{id:Qt.EXPENSES,label:"Expenses",icon:sE,color:"text-red-500",bgColor:"bg-red-50"},{id:Qt.PAYMENTS,label:"Receipts",icon:ih,color:"text-green-500",bgColor:"bg-green-50"},{id:Qt.IMPORT,label:"Import Data",icon:J2,color:"text-purple-500",bgColor:"bg-purple-50"},{id:Qt.SETTINGS,label:"Settings",icon:hM,color:"text-gray-500",bgColor:"bg-gray-50"}];return p.jsxs(p.Fragment,{children:[p.jsx(Ji,{children:n&&p.jsxs(p.Fragment,{children:[p.jsx(Et.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>r(!1),className:"fixed inset-0 bg-black/40 z-40 backdrop-blur-sm"}),p.jsxs(Et.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",damping:25,stiffness:300},className:"fixed bottom-0 left-0 right-0 bg-white dark:bg-slate-900 rounded-t-3xl shadow-xl z-50 overflow-hidden pb-safe",children:[p.jsx("div",{className:"flex justify-center pt-4 pb-2",children:p.jsx("div",{className:"w-10 h-1 bg-gray-300 rounded-full"})}),p.jsxs("div",{className:"p-6 pt-2",children:[p.jsxs("div",{className:"flex justify-between items-center mb-6",children:[p.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-slate-100",children:"More"}),p.jsx("button",{onClick:()=>r(!1),className:"p-2 bg-gray-100 rounded-full dark:bg-slate-800",children:p.jsx(Iu,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})})]}),p.jsx("div",{className:"space-y-2 mb-6",children:a.map(o=>p.jsxs("button",{onClick:()=>s(o.id),className:"w-full flex items-center gap-4 p-4 rounded-[24px] hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-all group active:scale-[0.98]",children:[p.jsx("div",{className:`w-12 h-12 rounded-full ${o.bgColor} dark:bg-slate-800 flex items-center justify-center border border-slate-100 dark:border-slate-700 shrink-0`,children:p.jsx(o.icon,{className:`w-6 h-6 ${o.color}`})}),p.jsxs("div",{className:"flex-1 text-left",children:[p.jsx("p",{className:"font-bold text-slate-800 dark:text-slate-100 text-base",children:o.label}),p.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:o.id===Qt.CUSTOMERS?"Manage your client base":o.id===Qt.EXPENSES?"Track business spending":o.id===Qt.PAYMENTS?"View payment history":o.id===Qt.IMPORT?"Backup and restore data":"App configuration"})]}),p.jsx(wu,{className:"w-5 h-5 text-slate-300 group-hover:text-slate-500 transition-colors"})]},o.id))}),p.jsx("div",{className:"border-t border-slate-100 dark:border-slate-800 pt-4",children:p.jsxs("button",{onClick:()=>{qr.medium(),i()},className:"w-full flex items-center gap-4 p-4 text-red-600 dark:text-red-400 font-bold bg-red-50 dark:bg-red-500/10 rounded-[24px] hover:bg-red-100 dark:hover:bg-red-500/20 transition-all group active:scale-[0.98]",children:[p.jsx("div",{className:"w-12 h-12 rounded-full bg-red-100 dark:bg-red-900/30 flex items-center justify-center shrink-0",children:p.jsx(uM,{className:"w-6 h-6"})}),p.jsxs("div",{className:"flex-1 text-left",children:[p.jsx("p",{className:"font-bold",children:"Sign Out"}),p.jsx("p",{className:"text-xs text-red-400 opacity-60",children:"Exit your account safely"})]}),p.jsx(wu,{className:"w-5 h-5 opacity-40"})]})})]})]})]})}),p.jsx("div",{className:"fixed bottom-28 right-6 z-40",children:p.jsx(Et.button,{whileHover:{scale:1.05},whileTap:{scale:.9},onClick:()=>{qr.medium(),s(Qt.CREATE_INVOICE)},className:"w-16 h-16 rounded-[24px] bg-google-blue text-white shadow-google-lg flex items-center justify-center hover:shadow-google transition-all border-none",children:p.jsx(Th,{className:"w-8 h-8",strokeWidth:3})})}),p.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-surface-container/95 dark:bg-surface-container-low/95 backdrop-blur-2xl border-t border-border/50 pb-safe z-30 h-[88px]",children:p.jsxs("div",{className:"flex justify-around items-center h-full px-4 max-w-lg mx-auto",children:[p.jsx($x,{active:t===Qt.DASHBOARD,onClick:()=>s(Qt.DASHBOARD),icon:lM,label:"Home"}),p.jsx($x,{active:t===Qt.INVOICES,onClick:()=>s(Qt.INVOICES),icon:Cu,label:"Invoices"}),p.jsx($x,{active:t===Qt.PAYMENTS,onClick:()=>s(Qt.PAYMENTS),icon:ih,label:"Receipts"}),p.jsx($x,{active:n,onClick:()=>r(!n),icon:i5,label:"Menu"})]})})]})},$x=({active:t,onClick:e,icon:n,label:r})=>p.jsxs("button",{onClick:()=>{qr.light(),e()},className:"flex flex-col items-center justify-center flex-1 h-full group",children:[p.jsxs("div",{className:"relative flex items-center justify-center w-16 h-8 rounded-full mb-1 transition-all duration-300",children:[t&&p.jsx(Et.div,{layoutId:"nav-pill",className:"absolute inset-0 bg-primary/20 dark:bg-primary/30 rounded-full",transition:{type:"spring",bounce:.2,duration:.6}}),p.jsx(n,{className:`w-6 h-6 relative z-10 ${t?"text-primary":"text-muted-foreground group-hover:text-foreground"}`,strokeWidth:t?2.5:2})]}),p.jsx("span",{className:`text-[11px] font-bold tracking-tight transition-colors ${t?"text-foreground":"text-muted-foreground"}`,children:r})]});var $ee=vD();const sr={init:t=>(console.log("Firebase already initialized via lib/firebase"),!0),isReady:()=>!0,testConnection:async()=>{try{const t=K0(bu,"system","connection_test");return await U5(t,{status:"connected",timestamp:new Date().toISOString()}),{success:!0,message:"Connection Successful! Read/Write access confirmed."}}catch(t){return console.error("Test Connection Failed:",t),t.code==="permission-denied"?{success:!1,message:"Permission Denied. Please set Firestore Rules to 'allow read, write: if true;' in Firebase Console."}:{success:!1,message:t.message||"Unknown error during connection test."}}},fetchCollection:async t=>{try{return(await gee(tee(bu,t))).docs.map(n=>n.data())}catch(e){return console.error(`Error fetching ${t}:`,e),[]}},saveDocument:async(t,e,n)=>{try{await U5(K0(bu,t,e),n)}catch(r){console.error(`Error saving to ${t}:`,r)}},deleteDocument:async(t,e)=>{try{await xee(K0(bu,t,e))}catch(n){console.error(`Error deleting from ${t}:`,n)}},batchSave:async(t,e)=>{try{const n=_ee(bu);e.forEach(r=>{const i=K0(bu,t,r.id);n.set(i,r)}),await n.commit(),console.log(`Batch saved ${e.length} items to ${t}`)}catch(n){console.error("Batch save error",n)}}},go={PRODUCTS:"app_products",CUSTOMERS:"app_customers",INVOICES:"app_invoices",PAYMENTS:"app_payments",EXPENSES:"app_expenses",COMPANY:"app_company",FIREBASE_CONFIG:"app_firebase_config"},$3={apiKey:"AIzaSyBDto4M27_AmBJ-eGNZyQI-Jtmhfnv1X5g",authDomain:"studio-5843390050-90c53.firebaseapp.com",projectId:"studio-5843390050-90c53",storageBucket:"studio-5843390050-90c53.firebasestorage.app",messagingSenderId:"796126072517",appId:"1:796126072517:web:be2ff390a075fad7bcaaac"},Kee=[{id:"1",name:"Product A",price:500,stock:100,category:"Electronics"},{id:"2",name:"Product B",price:800,stock:45,category:"Electronics"}],Yee=[{id:"c1",name:"John Doe",company:"XYZ Enterprises",email:"john@xyz.com",phone:"9123456789",address:"456, Business Park, Mumbai",balance:0,notifications:[]}];let ct={products:[],customers:[],invoices:[],payments:[],expenses:[],company:W0,isLoaded:!1,currentUserId:null};const it={init:async(t=null)=>{if(ct.currentUserId!==t&&(ct={products:[],customers:[],invoices:[],payments:[],expenses:[],company:W0,isLoaded:!1,currentUserId:t}),ct.isLoaded)return;const e=$3;if(localStorage.setItem(go.FIREBASE_CONFIG,JSON.stringify(e)),sr.init(e),t){const n=`users/${t}`,[r,i,s,a,o,c]=await Promise.all([sr.fetchCollection(`${n}/products`),sr.fetchCollection(`${n}/customers`),sr.fetchCollection(`${n}/invoices`),sr.fetchCollection(`${n}/payments`),sr.fetchCollection(`${n}/expenses`),sr.fetchCollection(`${n}/company`)]);ct.products=r,ct.customers=i,ct.invoices=s,ct.payments=a,ct.expenses=o,ct.company=c.length>0?c[0]:W0,ct.isLoaded=!0;return}if(t)ct.products=[],ct.customers=[],ct.invoices=[],ct.payments=[],ct.expenses=[],ct.company=W0,ct.isLoaded=!0;else{const n=localStorage.getItem(go.PRODUCTS);ct.products=n?JSON.parse(n):Kee;const r=localStorage.getItem(go.CUSTOMERS);ct.customers=r?JSON.parse(r):Yee;const i=localStorage.getItem(go.INVOICES);ct.invoices=i?JSON.parse(i):[];const s=localStorage.getItem(go.PAYMENTS);ct.payments=s?JSON.parse(s):[];const a=localStorage.getItem(go.EXPENSES);ct.expenses=a?JSON.parse(a):[];const o=localStorage.getItem(go.COMPANY);ct.company=o?JSON.parse(o):W0,ct.isLoaded=!0}},getCollectionPath:t=>ct.currentUserId?`users/${ct.currentUserId}/${t}`:t,persistToLocalStorage:()=>{ct.currentUserId||(localStorage.setItem(go.PRODUCTS,JSON.stringify(ct.products)),localStorage.setItem(go.CUSTOMERS,JSON.stringify(ct.customers)),localStorage.setItem(go.INVOICES,JSON.stringify(ct.invoices)),localStorage.setItem(go.PAYMENTS,JSON.stringify(ct.payments)),localStorage.setItem(go.EXPENSES,JSON.stringify(ct.expenses)),localStorage.setItem(go.COMPANY,JSON.stringify(ct.company)))},getProducts:()=>[...ct.products],getCustomers:()=>[...ct.customers],getInvoices:()=>[...ct.invoices],getPayments:()=>[...ct.payments],getExpenses:()=>[...ct.expenses],getCompanyProfile:()=>ct.company,getFirebaseConfig:()=>$3,saveFirebaseConfig:t=>{localStorage.setItem(go.FIREBASE_CONFIG,JSON.stringify(t))},saveProduct:t=>{const e=ct.products.findIndex(r=>r.id===t.id),n=[...ct.products];e>=0?n[e]=t:n.push(t),ct.products=n,it.persistToLocalStorage(),sr.saveDocument(it.getCollectionPath("products"),t.id,t)},updateProduct:t=>{it.saveProduct(t)},deleteProduct:t=>{ct.products=ct.products.filter(e=>e.id!==t),it.persistToLocalStorage(),sr.deleteDocument(it.getCollectionPath("products"),t)},saveCustomer:t=>{const e=ct.customers.findIndex(r=>r.id===t.id),n=[...ct.customers];e>=0?n[e]=t:n.push(t),ct.customers=n,it.persistToLocalStorage(),sr.saveDocument(it.getCollectionPath("customers"),t.id,t)},addNotification:(t,e)=>{const n=ct.customers.findIndex(r=>r.id===t);if(n>=0){const r={id:crypto.randomUUID(),read:!1,...e},i={...ct.customers[n]};i.notifications||(i.notifications=[]),i.notifications=[r,...i.notifications];const s=[...ct.customers];s[n]=i,ct.customers=s,it.persistToLocalStorage(),sr.saveDocument(it.getCollectionPath("customers"),t,ct.customers[n])}},saveInvoice:t=>{const e=[...ct.products];t.items.forEach(i=>{const s=e.findIndex(a=>a.id===i.productId);if(s>=0&&e[s].category!=="Services"){const a={...e[s]};a.stock-=i.quantity,e[s]=a,sr.saveDocument(it.getCollectionPath("products"),a.id,a)}}),ct.products=e;const n=[...ct.customers],r=n.findIndex(i=>i.id===t.customerId);if(r>=0&&t.status==="PENDING"){const i={...n[r]};i.balance+=t.total,n[r]=i,sr.saveDocument(it.getCollectionPath("customers"),i.id,i)}ct.customers=n,ct.invoices=[t,...ct.invoices],it.persistToLocalStorage(),sr.saveDocument(it.getCollectionPath("invoices"),t.id,t),it.addNotification(t.customerId,{type:"INVOICE",title:"New Invoice Generated",message:`Invoice #${t.invoiceNumber} for ${t.total} has been created.`,date:new Date().toISOString().split("T")[0]})},savePayment:t=>{ct.payments=[t,...ct.payments];const e=[...ct.customers],n=e.findIndex(r=>r.id===t.customerId);if(n>=0){const r={...e[n]};r.balance-=t.amount,e[n]=r,sr.saveDocument(it.getCollectionPath("customers"),r.id,r)}ct.customers=e,it.persistToLocalStorage(),sr.saveDocument(it.getCollectionPath("payments"),t.id,t),it.addNotification(t.customerId,{type:"PAYMENT",title:"Payment Received",message:`Payment of ${t.amount} received via ${t.mode}.`,date:t.date})},updatePayment:t=>{const e=ct.payments.findIndex(i=>i.id===t.id);if(e===-1)return;const n=ct.payments[e],r=ct.customers.find(i=>i.id===t.customerId);r&&(r.balance+=n.amount,r.balance-=t.amount,sr.saveDocument(it.getCollectionPath("customers"),r.id,r)),ct.payments[e]=t,it.persistToLocalStorage(),sr.saveDocument(it.getCollectionPath("payments"),t.id,t)},deletePayment:t=>{const e=ct.payments.findIndex(i=>i.id===t);if(e===-1)return;const n=ct.payments[e],r=ct.customers.find(i=>i.id===n.customerId);r&&(r.balance+=n.amount,sr.saveDocument(it.getCollectionPath("customers"),r.id,r)),ct.payments.splice(e,1),it.persistToLocalStorage(),sr.deleteDocument(it.getCollectionPath("payments"),t)},deleteInvoice:t=>{const e=ct.invoices.findIndex(i=>i.id===t);if(e===-1)return;const n=ct.invoices[e];n.items.forEach(i=>{const s=ct.products.findIndex(a=>a.id===i.productId);s>=0&&ct.products[s].category!=="Services"&&(ct.products[s].stock+=i.quantity,sr.saveDocument(it.getCollectionPath("products"),ct.products[s].id,ct.products[s]))});const r=ct.customers.findIndex(i=>i.id===n.customerId);r>=0&&n.status==="PENDING"&&(ct.customers[r].balance-=n.total,sr.saveDocument(it.getCollectionPath("customers"),ct.customers[r].id,ct.customers[r])),ct.invoices.splice(e,1),it.persistToLocalStorage(),sr.deleteDocument(it.getCollectionPath("invoices"),t)},updateInvoice:t=>{const e=ct.invoices.findIndex(a=>a.id===t.id);if(e===-1)return;const n=ct.invoices[e],r=new Set;n.items.forEach(a=>{const o=ct.products.findIndex(c=>c.id===a.productId);o>=0&&ct.products[o].category!=="Services"&&(ct.products[o].stock+=a.quantity,r.add(ct.products[o].id))});const i=ct.customers.findIndex(a=>a.id===n.customerId);i>=0&&n.status==="PENDING"&&(ct.customers[i].balance-=n.total),t.items.forEach(a=>{const o=ct.products.findIndex(c=>c.id===a.productId);o>=0&&ct.products[o].category!=="Services"&&(ct.products[o].stock-=a.quantity,r.add(ct.products[o].id))});const s=ct.customers.findIndex(a=>a.id===t.customerId);s>=0&&t.status==="PENDING"&&(ct.customers[s].balance+=t.total);{r.forEach(o=>{const c=ct.products.find(f=>f.id===o);c&&sr.saveDocument(it.getCollectionPath("products"),c.id,c)});const a=ct.customers[i];if(a&&sr.saveDocument(it.getCollectionPath("customers"),a.id,a),i!==s){const o=ct.customers[s];o&&sr.saveDocument(it.getCollectionPath("customers"),o.id,o)}}ct.invoices[e]=t,it.persistToLocalStorage(),sr.saveDocument(it.getCollectionPath("invoices"),t.id,t),n.total!==t.total&&it.addNotification(t.customerId,{type:"INVOICE",title:"Invoice Updated",message:`Invoice #${t.invoiceNumber} has been updated to ${t.total}.`,date:new Date().toISOString().split("T")[0]})},saveCompanyProfile:t=>{ct.company=t,it.persistToLocalStorage(),sr.saveDocument(it.getCollectionPath("company"),"profile",t)},getLastSalePrice:(t,e)=>{const n=ct.invoices.filter(r=>r.customerId===t);for(const r of n){const i=r.items.find(s=>s.productId===e);if(i)return i.rate}return null},getCustomerBehaviorScore:t=>{const e=ct.invoices.filter(s=>s.customerId===t);if(e.length===0)return 100;const n=e.reduce((s,a)=>s+a.total,0),r=ct.payments.filter(s=>s.customerId===t).reduce((s,a)=>s+a.amount,0)+e.filter(s=>s.status==="PAID").reduce((s,a)=>s+a.total,0);if(n===0)return 100;const i=r/n*100;return Math.min(Math.round(i),100)},predictNextItem:t=>{if(!t)return null;const e=ct.invoices.filter(i=>i.customerId===t);if(e.length===0){const i={};ct.invoices.forEach(a=>{a.items.forEach(o=>{i[o.productId]=(i[o.productId]||0)+1})});const s=Object.keys(i).sort((a,o)=>i[o]-i[a])[0];return s&&ct.products.find(a=>a.id===s)||null}const n={};e.forEach(i=>{i.items.forEach(s=>{n[s.productId]=(n[s.productId]||0)+1})});const r=Object.keys(n).sort((i,s)=>n[s]-n[i])[0];return r&&ct.products.find(i=>i.id===r)||null},updateCustomer:t=>{const e=ct.customers.findIndex(n=>n.id===t.id);e>=0&&(ct.customers[e]=t,it.persistToLocalStorage(),sr.saveDocument(it.getCollectionPath("customers"),t.id,t))},deleteCustomer:t=>{const e=ct.customers.findIndex(n=>n.id===t);e>=0&&(ct.customers.splice(e,1),it.persistToLocalStorage(),sr.deleteDocument(it.getCollectionPath("customers"),t))},saveExpense:t=>{const e=ct.expenses.findIndex(n=>n.id===t.id);e>=0?ct.expenses[e]=t:ct.expenses.unshift(t),it.persistToLocalStorage(),sr.saveDocument(it.getCollectionPath("expenses"),t.id,t)},deleteExpense:t=>{const e=ct.expenses.findIndex(n=>n.id===t);e>=0&&(ct.expenses.splice(e,1),it.persistToLocalStorage(),sr.deleteDocument(it.getCollectionPath("expenses"),t))},generateInvoiceNumber:(t,e)=>{const n=ct.customers.find(y=>y.id===t);if(!n)return`inv-${Date.now()}`;const r=n.name.replace(/[^a-zA-Z]/g,"").substring(0,3).toLowerCase(),i=new Date(e),a=["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"][i.getMonth()],o=3;let c=i.getFullYear();i.getMonth()<o&&(c-=1);const f=new Date(c,o,1),d=new Date(c+1,o,0),g=(ct.invoices.filter(y=>{if(y.customerId!==t)return!1;const E=new Date(y.date);return E>=f&&E<=d}).length+1).toString().padStart(3,"0");return`${r}${a}${g}`},exportAllData:()=>{const t={products:JSON.stringify(ct.products),customers:JSON.stringify(ct.customers),invoices:JSON.stringify(ct.invoices),payments:JSON.stringify(ct.payments),expenses:JSON.stringify(ct.expenses),company:JSON.stringify(ct.company),timestamp:new Date().toISOString()};return JSON.stringify(t)},importData:t=>{try{const e=JSON.parse(t);return e.products&&(ct.products=JSON.parse(e.products)),e.customers&&(ct.customers=JSON.parse(e.customers)),e.invoices&&(ct.invoices=JSON.parse(e.invoices)),e.payments&&(ct.payments=JSON.parse(e.payments)),e.company&&(ct.company=JSON.parse(e.company)),it.persistToLocalStorage(),sr.isReady()&&it.init(ct.currentUserId),!0}catch(e){return console.error("Failed to import data",e),!1}}};let Xee,Jee;function Qee(){return{geminiUrl:Xee,vertexUrl:Jee}}function Zee(t,e,n,r){var i,s;if(!t?.baseUrl){const a=Qee();return e?(i=a.vertexUrl)!==null&&i!==void 0?i:n:(s=a.geminiUrl)!==null&&s!==void 0?s:r}return t.baseUrl}class Gu{}function Ht(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const s=e[i];return s!=null?String(s):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function T(t,e,n){for(let s=0;s<e.length-1;s++){const a=e[s];if(a.endsWith("[]")){const o=a.slice(0,-2);if(!(o in t))if(Array.isArray(n))t[o]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${a}`);if(Array.isArray(t[o])){const c=t[o];if(Array.isArray(n))for(let f=0;f<c.length;f++){const d=c[f];T(d,e.slice(s+1),n[f])}else for(const f of c)T(f,e.slice(s+1),n)}return}else if(a.endsWith("[0]")){const o=a.slice(0,-3);o in t||(t[o]=[{}]);const c=t[o];T(c[0],e.slice(s+1),n);return}(!t[a]||typeof t[a]!="object")&&(t[a]={}),t=t[a]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function v(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const i=e[r];if(i.endsWith("[]")){const s=i.slice(0,-2);if(s in t){const a=t[s];return Array.isArray(a)?a.map(o=>v(o,e.slice(r+1),n)):n}else return n}else t=t[i]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function ete(t,e){for(const[n,r]of Object.entries(e)){const i=n.split("."),s=r.split("."),a=new Set;let o=-1;for(let c=0;c<i.length;c++)if(i[c]==="*"){o=c;break}if(o!==-1&&s.length>o)for(let c=o;c<s.length;c++){const f=s[c];f!=="*"&&!f.endsWith("[]")&&!f.endsWith("[0]")&&a.add(f)}j5(t,i,s,0,a)}}function j5(t,e,n,r,i){if(r>=e.length||typeof t!="object"||t===null)return;const s=e[r];if(s.endsWith("[]")){const a=s.slice(0,-2),o=t;if(a in o&&Array.isArray(o[a]))for(const c of o[a])j5(c,e,n,r+1,i)}else if(s==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const a=t,o=Object.keys(a).filter(f=>!f.startsWith("_")&&!i.has(f)),c={};for(const f of o)c[f]=a[f];for(const[f,d]of Object.entries(c)){const m=[];for(const g of n.slice(r))g==="*"?m.push(f):m.push(g);T(a,m,d)}for(const f of o)delete a[f]}}else{const a=t;s in a&&j5(a[s],e,n,r+1,i)}}function cS(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}function tte(t){const e={},n=v(t,["operationName"]);n!=null&&T(e,["operationName"],n);const r=v(t,["resourceName"]);return r!=null&&T(e,["_url","resourceName"],r),e}function nte(t){const e={},n=v(t,["name"]);n!=null&&T(e,["name"],n);const r=v(t,["metadata"]);r!=null&&T(e,["metadata"],r);const i=v(t,["done"]);i!=null&&T(e,["done"],i);const s=v(t,["error"]);s!=null&&T(e,["error"],s);const a=v(t,["response","generateVideoResponse"]);return a!=null&&T(e,["response"],ite(a)),e}function rte(t){const e={},n=v(t,["name"]);n!=null&&T(e,["name"],n);const r=v(t,["metadata"]);r!=null&&T(e,["metadata"],r);const i=v(t,["done"]);i!=null&&T(e,["done"],i);const s=v(t,["error"]);s!=null&&T(e,["error"],s);const a=v(t,["response"]);return a!=null&&T(e,["response"],ste(a)),e}function ite(t){const e={},n=v(t,["generatedSamples"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>ate(a))),T(e,["generatedVideos"],s)}const r=v(t,["raiMediaFilteredCount"]);r!=null&&T(e,["raiMediaFilteredCount"],r);const i=v(t,["raiMediaFilteredReasons"]);return i!=null&&T(e,["raiMediaFilteredReasons"],i),e}function ste(t){const e={},n=v(t,["videos"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>ote(a))),T(e,["generatedVideos"],s)}const r=v(t,["raiMediaFilteredCount"]);r!=null&&T(e,["raiMediaFilteredCount"],r);const i=v(t,["raiMediaFilteredReasons"]);return i!=null&&T(e,["raiMediaFilteredReasons"],i),e}function ate(t){const e={},n=v(t,["video"]);return n!=null&&T(e,["video"],hte(n)),e}function ote(t){const e={},n=v(t,["_self"]);return n!=null&&T(e,["video"],pte(n)),e}function lte(t){const e={},n=v(t,["operationName"]);return n!=null&&T(e,["_url","operationName"],n),e}function cte(t){const e={},n=v(t,["operationName"]);return n!=null&&T(e,["_url","operationName"],n),e}function ute(t){const e={},n=v(t,["name"]);n!=null&&T(e,["name"],n);const r=v(t,["metadata"]);r!=null&&T(e,["metadata"],r);const i=v(t,["done"]);i!=null&&T(e,["done"],i);const s=v(t,["error"]);s!=null&&T(e,["error"],s);const a=v(t,["response"]);return a!=null&&T(e,["response"],fte(a)),e}function fte(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&T(e,["sdkHttpResponse"],n);const r=v(t,["parent"]);r!=null&&T(e,["parent"],r);const i=v(t,["documentName"]);return i!=null&&T(e,["documentName"],i),e}function F7(t){const e={},n=v(t,["name"]);n!=null&&T(e,["name"],n);const r=v(t,["metadata"]);r!=null&&T(e,["metadata"],r);const i=v(t,["done"]);i!=null&&T(e,["done"],i);const s=v(t,["error"]);s!=null&&T(e,["error"],s);const a=v(t,["response"]);return a!=null&&T(e,["response"],dte(a)),e}function dte(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&T(e,["sdkHttpResponse"],n);const r=v(t,["parent"]);r!=null&&T(e,["parent"],r);const i=v(t,["documentName"]);return i!=null&&T(e,["documentName"],i),e}function hte(t){const e={},n=v(t,["uri"]);n!=null&&T(e,["uri"],n);const r=v(t,["encodedVideo"]);r!=null&&T(e,["videoBytes"],cS(r));const i=v(t,["encoding"]);return i!=null&&T(e,["mimeType"],i),e}function pte(t){const e={},n=v(t,["gcsUri"]);n!=null&&T(e,["uri"],n);const r=v(t,["bytesBase64Encoded"]);r!=null&&T(e,["videoBytes"],cS(r));const i=v(t,["mimeType"]);return i!=null&&T(e,["mimeType"],i),e}var K3;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(K3||(K3={}));var Y3;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(Y3||(Y3={}));var X3;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(X3||(X3={}));var Uf;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Uf||(Uf={}));var J3;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(J3||(J3={}));var Q3;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Q3||(Q3={}));var Z3;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(Z3||(Z3={}));var ek;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(ek||(ek={}));var tk;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(tk||(tk={}));var nk;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.HIGH="HIGH"})(nk||(nk={}));var rk;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(rk||(rk={}));var ik;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(ik||(ik={}));var sk;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(sk||(sk={}));var ak;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE"})(ak||(ak={}));var ok;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(ok||(ok={}));var lk;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(lk||(lk={}));var ck;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(ck||(ck={}));var uk;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(uk||(uk={}));var fk;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(fk||(fk={}));var n1;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(n1||(n1={}));var dk;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(dk||(dk={}));var hk;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(hk||(hk={}));var pk;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(pk||(pk={}));var q5;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(q5||(q5={}));var mk;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(mk||(mk={}));var gk;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(gk||(gk={}));var xk;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(xk||(xk={}));var yk;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(yk||(yk={}));var vk;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(vk||(vk={}));var bk;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(bk||(bk={}));var _k;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(_k||(_k={}));var wk;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(wk||(wk={}));var Tk;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(Tk||(Tk={}));var Ek;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(Ek||(Ek={}));var Sk;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Sk||(Sk={}));var Ak;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Ak||(Ak={}));var Nk;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Nk||(Nk={}));var Ck;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Ck||(Ck={}));var Ik;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(Ik||(Ik={}));var kk;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(kk||(kk={}));var Rk;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(Rk||(Rk={}));var Pk;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(Pk||(Pk={}));var Dk;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(Dk||(Dk={}));var Mk;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(Mk||(Mk={}));var Lk;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(Lk||(Lk={}));var Fk;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(Fk||(Fk={}));var Ok;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Ok||(Ok={}));var Bk;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(Bk||(Bk={}));var Vk;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Vk||(Vk={}));var Uk;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Uk||(Uk={}));var jk;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(jk||(jk={}));var qk;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(qk||(qk={}));var Hk;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Hk||(Hk={}));var zk;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(zk||(zk={}));var X0;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(X0||(X0={}));class H5{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Wm{get text(){var e,n,r,i,s,a,o,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let f="",d=!1;const m=[];for(const g of(c=(o=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)!==null&&c!==void 0?c:[]){for(const[y,E]of Object.entries(g))y!=="text"&&y!=="thought"&&y!=="thoughtSignature"&&(E!==null||E!==void 0)&&m.push(y);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;d=!0,f+=g.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?f:void 0}get data(){var e,n,r,i,s,a,o,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let f="";const d=[];for(const m of(c=(o=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)!==null&&c!==void 0?c:[]){for(const[g,y]of Object.entries(m))g!=="inlineData"&&(y!==null||y!==void 0)&&d.push(g);m.inlineData&&typeof m.inlineData.data=="string"&&(f+=atob(m.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),f.length>0?btoa(f):void 0}get functionCalls(){var e,n,r,i,s,a,o,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const f=(c=(o=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)===null||c===void 0?void 0:c.filter(d=>d.functionCall).map(d=>d.functionCall).filter(d=>d!==void 0);if(f?.length!==0)return f}get executableCode(){var e,n,r,i,s,a,o,c,f;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const d=(c=(o=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)===null||c===void 0?void 0:c.filter(m=>m.executableCode).map(m=>m.executableCode).filter(m=>m!==void 0);if(d?.length!==0)return(f=d?.[0])===null||f===void 0?void 0:f.code}get codeExecutionResult(){var e,n,r,i,s,a,o,c,f;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const d=(c=(o=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)===null||c===void 0?void 0:c.filter(m=>m.codeExecutionResult).map(m=>m.codeExecutionResult).filter(m=>m!==void 0);if(d?.length!==0)return(f=d?.[0])===null||f===void 0?void 0:f.output}}class Gk{}class Wk{}class mte{}class gte{}class xte{}class yte{}class $k{}class Kk{}class Yk{}class vte{}class S2{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new S2;let i;const s=e;return n?i=rte(s):i=nte(s),Object.assign(r,i),r}}class Xk{}class Jk{}class Qk{}class bte{}class _te{}class wte{}class uS{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new uS,s=ute(e);return Object.assign(r,s),r}}class Tte{}class Ete{}class Ste{}class Zk{}class Ate{get text(){var e,n,r;let i="",s=!1;const a=[];for(const o of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[c,f]of Object.entries(o))c!=="text"&&c!=="thought"&&f!==null&&a.push(c);if(typeof o.text=="string"){if(typeof o.thought=="boolean"&&o.thought)continue;s=!0,i+=o.text}}return a.length>0&&console.warn(`there are non-text parts ${a} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),s?i:void 0}get data(){var e,n,r;let i="";const s=[];for(const a of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[o,c]of Object.entries(a))o!=="inlineData"&&c!==null&&s.push(o);a.inlineData&&typeof a.inlineData.data=="string"&&(i+=atob(a.inlineData.data))}return s.length>0&&console.warn(`there are non-data parts ${s} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class Nte{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class fS{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new fS,s=F7(e);return Object.assign(r,s),r}}function kr(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function O7(t,e){const n=kr(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function B7(t){return Array.isArray(t)?t.map(e=>A2(e)):[A2(t)]}function A2(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function V7(t){const e=A2(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function U7(t){const e=A2(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function e6(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function j7(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>e6(e)):[e6(t)]}function z5(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function t6(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function n6(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Na(t){if(t==null)throw new Error("ContentUnion is required");return z5(t)?t:{role:"user",parts:j7(t)}}function dS(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=Na(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=Na(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Na(n)):[Na(e)]}function gl(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(t6(t)||n6(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Na(t)]}const e=[],n=[],r=z5(t[0]);for(const i of t){const s=z5(i);if(s!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(s)e.push(i);else{if(t6(i)||n6(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:j7(n)}),e}function Cte(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(Uf).includes(n[0].toUpperCase())?n[0].toUpperCase():Uf.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(Uf).includes(r.toUpperCase())?r.toUpperCase():Uf.TYPE_UNSPECIFIED})}}function lp(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const s=t.anyOf;s!=null&&s.length==2&&(s[0].type==="null"?(e.nullable=!0,t=s[1]):s[1].type==="null"&&(e.nullable=!0,t=s[0])),t.type instanceof Array&&Cte(t.type,e);for(const[a,o]of Object.entries(t))if(o!=null)if(a=="type"){if(o==="null")throw new Error("type: null can not be the only possible type for the field.");if(o instanceof Array)continue;e.type=Object.values(Uf).includes(o.toUpperCase())?o.toUpperCase():Uf.TYPE_UNSPECIFIED}else if(n.includes(a))e[a]=lp(o);else if(r.includes(a)){const c=[];for(const f of o){if(f.type=="null"){e.nullable=!0;continue}c.push(lp(f))}e[a]=c}else if(i.includes(a)){const c={};for(const[f,d]of Object.entries(o))c[f]=lp(d);e[a]=c}else{if(a==="additionalProperties")continue;e[a]=o}return e}function hS(t){return lp(t)}function pS(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function mS(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Yp(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=lp(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=lp(e.response));return t}function Xp(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function Ite(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function Wu(t,e){if(typeof e!="string")throw new Error("name must be a string");return Ite(t,e,"cachedContents")}function q7(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function fd(t){return cS(t)}function kte(t){return t!=null&&typeof t=="object"&&"name"in t}function Rte(t){return t!=null&&typeof t=="object"&&"video"in t}function Pte(t){return t!=null&&typeof t=="object"&&"uri"in t}function H7(t){var e;let n;if(kte(t)&&(n=t.name),!(Pte(t)&&(n=t.uri,n===void 0))&&!(Rte(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function z7(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function G7(t){for(const e of["models","tunedModels","publisherModels"])if(Dte(t,e))return t[e];return[]}function Dte(t,e){return t!==null&&typeof t=="object"&&e in t}function Mte(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function Lte(t,e={}){const n=[],r=new Set;for(const i of t){const s=i.name;if(r.has(s))throw new Error(`Duplicate function name ${s} found in MCP tools. Please ensure function names are unique.`);r.add(s);const a=Mte(i,e);a.functionDeclarations&&n.push(...a.functionDeclarations)}return{functionDeclarations:n}}function W7(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function Fte(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function $7(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let s=!1;for(const a of i){if(typeof a!="object"||a===null)continue;const c=a.response;if(typeof c!="object"||c===null)continue;if(c.embedding!==void 0){s=!0;break}}return s&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function Jp(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function K7(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}function Ote(t){const e={},n=v(t,["responsesFile"]);n!=null&&T(e,["fileName"],n);const r=v(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>xne(a))),T(e,["inlinedResponses"],s)}const i=v(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>a)),T(e,["inlinedEmbedContentResponses"],s)}return e}function Bte(t){const e={},n=v(t,["predictionsFormat"]);n!=null&&T(e,["format"],n);const r=v(t,["gcsDestination","outputUriPrefix"]);r!=null&&T(e,["gcsUri"],r);const i=v(t,["bigqueryDestination","outputUri"]);return i!=null&&T(e,["bigqueryUri"],i),e}function Vte(t){const e={},n=v(t,["format"]);n!=null&&T(e,["predictionsFormat"],n);const r=v(t,["gcsUri"]);r!=null&&T(e,["gcsDestination","outputUriPrefix"],r);const i=v(t,["bigqueryUri"]);if(i!=null&&T(e,["bigqueryDestination","outputUri"],i),v(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(v(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(v(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Oy(t){const e={},n=v(t,["name"]);n!=null&&T(e,["name"],n);const r=v(t,["metadata","displayName"]);r!=null&&T(e,["displayName"],r);const i=v(t,["metadata","state"]);i!=null&&T(e,["state"],K7(i));const s=v(t,["metadata","createTime"]);s!=null&&T(e,["createTime"],s);const a=v(t,["metadata","endTime"]);a!=null&&T(e,["endTime"],a);const o=v(t,["metadata","updateTime"]);o!=null&&T(e,["updateTime"],o);const c=v(t,["metadata","model"]);c!=null&&T(e,["model"],c);const f=v(t,["metadata","output"]);return f!=null&&T(e,["dest"],Ote($7(f))),e}function G5(t){const e={},n=v(t,["name"]);n!=null&&T(e,["name"],n);const r=v(t,["displayName"]);r!=null&&T(e,["displayName"],r);const i=v(t,["state"]);i!=null&&T(e,["state"],K7(i));const s=v(t,["error"]);s!=null&&T(e,["error"],s);const a=v(t,["createTime"]);a!=null&&T(e,["createTime"],a);const o=v(t,["startTime"]);o!=null&&T(e,["startTime"],o);const c=v(t,["endTime"]);c!=null&&T(e,["endTime"],c);const f=v(t,["updateTime"]);f!=null&&T(e,["updateTime"],f);const d=v(t,["model"]);d!=null&&T(e,["model"],d);const m=v(t,["inputConfig"]);m!=null&&T(e,["src"],Ute(m));const g=v(t,["outputConfig"]);g!=null&&T(e,["dest"],Bte($7(g)));const y=v(t,["completionStats"]);return y!=null&&T(e,["completionStats"],y),e}function Ute(t){const e={},n=v(t,["instancesFormat"]);n!=null&&T(e,["format"],n);const r=v(t,["gcsSource","uris"]);r!=null&&T(e,["gcsUri"],r);const i=v(t,["bigquerySource","inputUri"]);return i!=null&&T(e,["bigqueryUri"],i),e}function jte(t,e){const n={};if(v(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(v(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(v(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=v(e,["fileName"]);r!=null&&T(n,["fileName"],r);const i=v(e,["inlinedRequests"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>gne(t,a))),T(n,["requests","requests"],s)}return n}function qte(t){const e={},n=v(t,["format"]);n!=null&&T(e,["instancesFormat"],n);const r=v(t,["gcsUri"]);r!=null&&T(e,["gcsSource","uris"],r);const i=v(t,["bigqueryUri"]);if(i!=null&&T(e,["bigquerySource","inputUri"],i),v(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(v(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function Hte(t){const e={},n=v(t,["data"]);if(n!=null&&T(e,["data"],n),v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=v(t,["mimeType"]);return r!=null&&T(e,["mimeType"],r),e}function zte(t,e){const n={},r=v(e,["name"]);return r!=null&&T(n,["_url","name"],Jp(t,r)),n}function Gte(t,e){const n={},r=v(e,["name"]);return r!=null&&T(n,["_url","name"],Jp(t,r)),n}function Wte(t){const e={},n=v(t,["content"]);n!=null&&T(e,["content"],n);const r=v(t,["citationMetadata"]);r!=null&&T(e,["citationMetadata"],$te(r));const i=v(t,["tokenCount"]);i!=null&&T(e,["tokenCount"],i);const s=v(t,["finishReason"]);s!=null&&T(e,["finishReason"],s);const a=v(t,["avgLogprobs"]);a!=null&&T(e,["avgLogprobs"],a);const o=v(t,["groundingMetadata"]);o!=null&&T(e,["groundingMetadata"],o);const c=v(t,["index"]);c!=null&&T(e,["index"],c);const f=v(t,["logprobsResult"]);f!=null&&T(e,["logprobsResult"],f);const d=v(t,["safetyRatings"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(y=>y)),T(e,["safetyRatings"],g)}const m=v(t,["urlContextMetadata"]);return m!=null&&T(e,["urlContextMetadata"],m),e}function $te(t){const e={},n=v(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),T(e,["citations"],r)}return e}function Y7(t){const e={},n=v(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>Ene(s))),T(e,["parts"],i)}const r=v(t,["role"]);return r!=null&&T(e,["role"],r),e}function Kte(t,e){const n={},r=v(t,["displayName"]);if(e!==void 0&&r!=null&&T(e,["batch","displayName"],r),v(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function Yte(t,e){const n={},r=v(t,["displayName"]);e!==void 0&&r!=null&&T(e,["displayName"],r);const i=v(t,["dest"]);return e!==void 0&&i!=null&&T(e,["outputConfig"],Vte(Fte(i))),n}function r6(t,e){const n={},r=v(e,["model"]);r!=null&&T(n,["_url","model"],kr(t,r));const i=v(e,["src"]);i!=null&&T(n,["batch","inputConfig"],jte(t,W7(t,i)));const s=v(e,["config"]);return s!=null&&Kte(s,n),n}function Xte(t,e){const n={},r=v(e,["model"]);r!=null&&T(n,["model"],kr(t,r));const i=v(e,["src"]);i!=null&&T(n,["inputConfig"],qte(W7(t,i)));const s=v(e,["config"]);return s!=null&&Yte(s,n),n}function Jte(t,e){const n={},r=v(t,["displayName"]);return e!==void 0&&r!=null&&T(e,["batch","displayName"],r),n}function Qte(t,e){const n={},r=v(e,["model"]);r!=null&&T(n,["_url","model"],kr(t,r));const i=v(e,["src"]);i!=null&&T(n,["batch","inputConfig"],sne(t,i));const s=v(e,["config"]);return s!=null&&Jte(s,n),n}function Zte(t,e){const n={},r=v(e,["name"]);return r!=null&&T(n,["_url","name"],Jp(t,r)),n}function ene(t,e){const n={},r=v(e,["name"]);return r!=null&&T(n,["_url","name"],Jp(t,r)),n}function tne(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&T(e,["sdkHttpResponse"],n);const r=v(t,["name"]);r!=null&&T(e,["name"],r);const i=v(t,["done"]);i!=null&&T(e,["done"],i);const s=v(t,["error"]);return s!=null&&T(e,["error"],s),e}function nne(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&T(e,["sdkHttpResponse"],n);const r=v(t,["name"]);r!=null&&T(e,["name"],r);const i=v(t,["done"]);i!=null&&T(e,["done"],i);const s=v(t,["error"]);return s!=null&&T(e,["error"],s),e}function rne(t,e){const n={},r=v(e,["contents"]);if(r!=null){let s=dS(t,r);Array.isArray(s)&&(s=s.map(a=>a)),T(n,["requests[]","request","content"],s)}const i=v(e,["config"]);return i!=null&&(T(n,["_self"],ine(i,n)),ete(n,{"requests[].*":"requests[].request.*"})),n}function ine(t,e){const n={},r=v(t,["taskType"]);e!==void 0&&r!=null&&T(e,["requests[]","taskType"],r);const i=v(t,["title"]);e!==void 0&&i!=null&&T(e,["requests[]","title"],i);const s=v(t,["outputDimensionality"]);if(e!==void 0&&s!=null&&T(e,["requests[]","outputDimensionality"],s),v(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(v(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function sne(t,e){const n={},r=v(e,["fileName"]);r!=null&&T(n,["file_name"],r);const i=v(e,["inlinedRequests"]);return i!=null&&T(n,["requests"],rne(t,i)),n}function ane(t){const e={};if(v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(t,["fileUri"]);n!=null&&T(e,["fileUri"],n);const r=v(t,["mimeType"]);return r!=null&&T(e,["mimeType"],r),e}function one(t){const e={},n=v(t,["id"]);n!=null&&T(e,["id"],n);const r=v(t,["args"]);r!=null&&T(e,["args"],r);const i=v(t,["name"]);if(i!=null&&T(e,["name"],i),v(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(v(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function lne(t){const e={},n=v(t,["mode"]);n!=null&&T(e,["mode"],n);const r=v(t,["allowedFunctionNames"]);if(r!=null&&T(e,["allowedFunctionNames"],r),v(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function cne(t,e,n){const r={},i=v(e,["systemInstruction"]);n!==void 0&&i!=null&&T(n,["systemInstruction"],Y7(Na(i)));const s=v(e,["temperature"]);s!=null&&T(r,["temperature"],s);const a=v(e,["topP"]);a!=null&&T(r,["topP"],a);const o=v(e,["topK"]);o!=null&&T(r,["topK"],o);const c=v(e,["candidateCount"]);c!=null&&T(r,["candidateCount"],c);const f=v(e,["maxOutputTokens"]);f!=null&&T(r,["maxOutputTokens"],f);const d=v(e,["stopSequences"]);d!=null&&T(r,["stopSequences"],d);const m=v(e,["responseLogprobs"]);m!=null&&T(r,["responseLogprobs"],m);const g=v(e,["logprobs"]);g!=null&&T(r,["logprobs"],g);const y=v(e,["presencePenalty"]);y!=null&&T(r,["presencePenalty"],y);const E=v(e,["frequencyPenalty"]);E!=null&&T(r,["frequencyPenalty"],E);const _=v(e,["seed"]);_!=null&&T(r,["seed"],_);const A=v(e,["responseMimeType"]);A!=null&&T(r,["responseMimeType"],A);const C=v(e,["responseSchema"]);C!=null&&T(r,["responseSchema"],hS(C));const V=v(e,["responseJsonSchema"]);if(V!=null&&T(r,["responseJsonSchema"],V),v(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(v(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const R=v(e,["safetySettings"]);if(n!==void 0&&R!=null){let M=R;Array.isArray(M)&&(M=M.map(j=>Sne(j))),T(n,["safetySettings"],M)}const F=v(e,["tools"]);if(n!==void 0&&F!=null){let M=Xp(F);Array.isArray(M)&&(M=M.map(j=>Nne(Yp(j)))),T(n,["tools"],M)}const z=v(e,["toolConfig"]);if(n!==void 0&&z!=null&&T(n,["toolConfig"],Ane(z)),v(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const W=v(e,["cachedContent"]);n!==void 0&&W!=null&&T(n,["cachedContent"],Wu(t,W));const D=v(e,["responseModalities"]);D!=null&&T(r,["responseModalities"],D);const L=v(e,["mediaResolution"]);L!=null&&T(r,["mediaResolution"],L);const k=v(e,["speechConfig"]);if(k!=null&&T(r,["speechConfig"],pS(k)),v(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const q=v(e,["thinkingConfig"]);q!=null&&T(r,["thinkingConfig"],q);const P=v(e,["imageConfig"]);return P!=null&&T(r,["imageConfig"],mne(P)),r}function une(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&T(e,["sdkHttpResponse"],n);const r=v(t,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(f=>Wte(f))),T(e,["candidates"],c)}const i=v(t,["modelVersion"]);i!=null&&T(e,["modelVersion"],i);const s=v(t,["promptFeedback"]);s!=null&&T(e,["promptFeedback"],s);const a=v(t,["responseId"]);a!=null&&T(e,["responseId"],a);const o=v(t,["usageMetadata"]);return o!=null&&T(e,["usageMetadata"],o),e}function fne(t,e){const n={},r=v(e,["name"]);return r!=null&&T(n,["_url","name"],Jp(t,r)),n}function dne(t,e){const n={},r=v(e,["name"]);return r!=null&&T(n,["_url","name"],Jp(t,r)),n}function hne(t){const e={};if(v(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=v(t,["enableWidget"]);return n!=null&&T(e,["enableWidget"],n),e}function pne(t){const e={};if(v(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(v(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=v(t,["timeRangeFilter"]);return n!=null&&T(e,["timeRangeFilter"],n),e}function mne(t){const e={},n=v(t,["aspectRatio"]);n!=null&&T(e,["aspectRatio"],n);const r=v(t,["imageSize"]);if(r!=null&&T(e,["imageSize"],r),v(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(v(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function gne(t,e){const n={},r=v(e,["model"]);r!=null&&T(n,["request","model"],kr(t,r));const i=v(e,["contents"]);if(i!=null){let o=gl(i);Array.isArray(o)&&(o=o.map(c=>Y7(c))),T(n,["request","contents"],o)}const s=v(e,["metadata"]);s!=null&&T(n,["metadata"],s);const a=v(e,["config"]);return a!=null&&T(n,["request","generationConfig"],cne(t,a,v(n,["request"],{}))),n}function xne(t){const e={},n=v(t,["response"]);n!=null&&T(e,["response"],une(n));const r=v(t,["error"]);return r!=null&&T(e,["error"],r),e}function yne(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&T(e,["_query","pageSize"],r);const i=v(t,["pageToken"]);if(e!==void 0&&i!=null&&T(e,["_query","pageToken"],i),v(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function vne(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&T(e,["_query","pageSize"],r);const i=v(t,["pageToken"]);e!==void 0&&i!=null&&T(e,["_query","pageToken"],i);const s=v(t,["filter"]);return e!==void 0&&s!=null&&T(e,["_query","filter"],s),n}function bne(t){const e={},n=v(t,["config"]);return n!=null&&yne(n,e),e}function _ne(t){const e={},n=v(t,["config"]);return n!=null&&vne(n,e),e}function wne(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&T(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&T(e,["nextPageToken"],r);const i=v(t,["operations"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>Oy(a))),T(e,["batchJobs"],s)}return e}function Tne(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&T(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&T(e,["nextPageToken"],r);const i=v(t,["batchPredictionJobs"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>G5(a))),T(e,["batchJobs"],s)}return e}function Ene(t){const e={},n=v(t,["mediaResolution"]);n!=null&&T(e,["mediaResolution"],n);const r=v(t,["codeExecutionResult"]);r!=null&&T(e,["codeExecutionResult"],r);const i=v(t,["executableCode"]);i!=null&&T(e,["executableCode"],i);const s=v(t,["fileData"]);s!=null&&T(e,["fileData"],ane(s));const a=v(t,["functionCall"]);a!=null&&T(e,["functionCall"],one(a));const o=v(t,["functionResponse"]);o!=null&&T(e,["functionResponse"],o);const c=v(t,["inlineData"]);c!=null&&T(e,["inlineData"],Hte(c));const f=v(t,["text"]);f!=null&&T(e,["text"],f);const d=v(t,["thought"]);d!=null&&T(e,["thought"],d);const m=v(t,["thoughtSignature"]);m!=null&&T(e,["thoughtSignature"],m);const g=v(t,["videoMetadata"]);return g!=null&&T(e,["videoMetadata"],g),e}function Sne(t){const e={},n=v(t,["category"]);if(n!=null&&T(e,["category"],n),v(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=v(t,["threshold"]);return r!=null&&T(e,["threshold"],r),e}function Ane(t){const e={},n=v(t,["functionCallingConfig"]);n!=null&&T(e,["functionCallingConfig"],lne(n));const r=v(t,["retrievalConfig"]);return r!=null&&T(e,["retrievalConfig"],r),e}function Nne(t){const e={},n=v(t,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(m=>m)),T(e,["functionDeclarations"],d)}if(v(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=v(t,["googleSearchRetrieval"]);r!=null&&T(e,["googleSearchRetrieval"],r);const i=v(t,["computerUse"]);i!=null&&T(e,["computerUse"],i);const s=v(t,["fileSearch"]);s!=null&&T(e,["fileSearch"],s);const a=v(t,["codeExecution"]);if(a!=null&&T(e,["codeExecution"],a),v(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=v(t,["googleMaps"]);o!=null&&T(e,["googleMaps"],hne(o));const c=v(t,["googleSearch"]);c!=null&&T(e,["googleSearch"],pne(c));const f=v(t,["urlContext"]);return f!=null&&T(e,["urlContext"],f),e}var Uu;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(Uu||(Uu={}));class Ch{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,s;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n?.sdkHttpResponse,this.idxInternal=0;let a={config:{}};!r||Object.keys(r).length===0?a={config:{}}:typeof r=="object"?a=Object.assign({},r):a=r,a.config&&(a.config.pageToken=n.nextPageToken),this.paramsInternal=a,this.pageInternalSize=(s=(i=a.config)===null||i===void 0?void 0:i.pageSize)!==null&&s!==void 0?s:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}class Cne extends Gu{constructor(e){super(),this.apiClient=e,this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)},this.list=async(n={})=>new Ch(Uu.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n)}createInlinedGenerateContentRequest(e){const n=r6(this.apiClient,e),r=n._url,i=Ht("{model}:batchGenerateContent",r),o=n.batch.inputConfig.requests,c=o.requests,f=[];for(const d of c){const m=Object.assign({},d);if(m.systemInstruction){const g=m.systemInstruction;delete m.systemInstruction;const y=m.request;y.systemInstruction=g,m.request=y}f.push(m)}return o.requests=f,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const s=this.getGcsUri(e),a=this.getBigqueryUri(e);if(s)s.endsWith(".jsonl")?r.dest=`${s.slice(0,-6)}/dest`:r.dest=`${s}_dest_${i}`;else if(a)r.dest=`${a}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,s;let a,o="",c={};if(this.apiClient.isVertexAI()){const f=Xte(this.apiClient,e);return o=Ht("batchPredictionJobs",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>G5(d))}else{const f=r6(this.apiClient,e);return o=Ht("{model}:batchGenerateContent",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a.then(d=>Oy(d))}}async createEmbeddingsInternal(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Qte(this.apiClient,e);return s=Ht("{model}:asyncBatchEmbedContent",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>Oy(c))}}async get(e){var n,r,i,s;let a,o="",c={};if(this.apiClient.isVertexAI()){const f=dne(this.apiClient,e);return o=Ht("batchPredictionJobs/{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>G5(d))}else{const f=fne(this.apiClient,e);return o=Ht("batches/{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a.then(d=>Oy(d))}}async cancel(e){var n,r,i,s;let a="",o={};if(this.apiClient.isVertexAI()){const c=Gte(this.apiClient,e);a=Ht("batchPredictionJobs/{name}:cancel",c._url),o=c._query,delete c._url,delete c._query,await this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const c=zte(this.apiClient,e);a=Ht("batches/{name}:cancel",c._url),o=c._query,delete c._url,delete c._query,await this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(e){var n,r,i,s;let a,o="",c={};if(this.apiClient.isVertexAI()){const f=_ne(e);return o=Ht("batchPredictionJobs",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const m=Tne(d),g=new Zk;return Object.assign(g,m),g})}else{const f=bne(e);return o=Ht("batches",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const m=wne(d),g=new Zk;return Object.assign(g,m),g})}}async delete(e){var n,r,i,s;let a,o="",c={};if(this.apiClient.isVertexAI()){const f=ene(this.apiClient,e);return o=Ht("batchPredictionJobs/{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>nne(d))}else{const f=Zte(this.apiClient,e);return o=Ht("batches/{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>tne(d))}}}function Ine(t){const e={},n=v(t,["data"]);if(n!=null&&T(e,["data"],n),v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=v(t,["mimeType"]);return r!=null&&T(e,["mimeType"],r),e}function i6(t){const e={},n=v(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>Qne(s))),T(e,["parts"],i)}const r=v(t,["role"]);return r!=null&&T(e,["role"],r),e}function kne(t,e){const n={},r=v(t,["ttl"]);e!==void 0&&r!=null&&T(e,["ttl"],r);const i=v(t,["expireTime"]);e!==void 0&&i!=null&&T(e,["expireTime"],i);const s=v(t,["displayName"]);e!==void 0&&s!=null&&T(e,["displayName"],s);const a=v(t,["contents"]);if(e!==void 0&&a!=null){let d=gl(a);Array.isArray(d)&&(d=d.map(m=>i6(m))),T(e,["contents"],d)}const o=v(t,["systemInstruction"]);e!==void 0&&o!=null&&T(e,["systemInstruction"],i6(Na(o)));const c=v(t,["tools"]);if(e!==void 0&&c!=null){let d=c;Array.isArray(d)&&(d=d.map(m=>ere(m))),T(e,["tools"],d)}const f=v(t,["toolConfig"]);if(e!==void 0&&f!=null&&T(e,["toolConfig"],Zne(f)),v(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function Rne(t,e){const n={},r=v(t,["ttl"]);e!==void 0&&r!=null&&T(e,["ttl"],r);const i=v(t,["expireTime"]);e!==void 0&&i!=null&&T(e,["expireTime"],i);const s=v(t,["displayName"]);e!==void 0&&s!=null&&T(e,["displayName"],s);const a=v(t,["contents"]);if(e!==void 0&&a!=null){let m=gl(a);Array.isArray(m)&&(m=m.map(g=>g)),T(e,["contents"],m)}const o=v(t,["systemInstruction"]);e!==void 0&&o!=null&&T(e,["systemInstruction"],Na(o));const c=v(t,["tools"]);if(e!==void 0&&c!=null){let m=c;Array.isArray(m)&&(m=m.map(g=>tre(g))),T(e,["tools"],m)}const f=v(t,["toolConfig"]);e!==void 0&&f!=null&&T(e,["toolConfig"],f);const d=v(t,["kmsKeyName"]);return e!==void 0&&d!=null&&T(e,["encryption_spec","kmsKeyName"],d),n}function Pne(t,e){const n={},r=v(e,["model"]);r!=null&&T(n,["model"],O7(t,r));const i=v(e,["config"]);return i!=null&&kne(i,n),n}function Dne(t,e){const n={},r=v(e,["model"]);r!=null&&T(n,["model"],O7(t,r));const i=v(e,["config"]);return i!=null&&Rne(i,n),n}function Mne(t,e){const n={},r=v(e,["name"]);return r!=null&&T(n,["_url","name"],Wu(t,r)),n}function Lne(t,e){const n={},r=v(e,["name"]);return r!=null&&T(n,["_url","name"],Wu(t,r)),n}function Fne(t){const e={},n=v(t,["sdkHttpResponse"]);return n!=null&&T(e,["sdkHttpResponse"],n),e}function One(t){const e={},n=v(t,["sdkHttpResponse"]);return n!=null&&T(e,["sdkHttpResponse"],n),e}function Bne(t){const e={};if(v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(t,["fileUri"]);n!=null&&T(e,["fileUri"],n);const r=v(t,["mimeType"]);return r!=null&&T(e,["mimeType"],r),e}function Vne(t){const e={},n=v(t,["id"]);n!=null&&T(e,["id"],n);const r=v(t,["args"]);r!=null&&T(e,["args"],r);const i=v(t,["name"]);if(i!=null&&T(e,["name"],i),v(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(v(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Une(t){const e={},n=v(t,["mode"]);n!=null&&T(e,["mode"],n);const r=v(t,["allowedFunctionNames"]);if(r!=null&&T(e,["allowedFunctionNames"],r),v(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function jne(t){const e={};if(v(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=v(t,["description"]);n!=null&&T(e,["description"],n);const r=v(t,["name"]);r!=null&&T(e,["name"],r);const i=v(t,["parameters"]);i!=null&&T(e,["parameters"],i);const s=v(t,["parametersJsonSchema"]);s!=null&&T(e,["parametersJsonSchema"],s);const a=v(t,["response"]);a!=null&&T(e,["response"],a);const o=v(t,["responseJsonSchema"]);return o!=null&&T(e,["responseJsonSchema"],o),e}function qne(t,e){const n={},r=v(e,["name"]);return r!=null&&T(n,["_url","name"],Wu(t,r)),n}function Hne(t,e){const n={},r=v(e,["name"]);return r!=null&&T(n,["_url","name"],Wu(t,r)),n}function zne(t){const e={};if(v(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=v(t,["enableWidget"]);return n!=null&&T(e,["enableWidget"],n),e}function Gne(t){const e={};if(v(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(v(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=v(t,["timeRangeFilter"]);return n!=null&&T(e,["timeRangeFilter"],n),e}function Wne(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&T(e,["_query","pageSize"],r);const i=v(t,["pageToken"]);return e!==void 0&&i!=null&&T(e,["_query","pageToken"],i),n}function $ne(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&T(e,["_query","pageSize"],r);const i=v(t,["pageToken"]);return e!==void 0&&i!=null&&T(e,["_query","pageToken"],i),n}function Kne(t){const e={},n=v(t,["config"]);return n!=null&&Wne(n,e),e}function Yne(t){const e={},n=v(t,["config"]);return n!=null&&$ne(n,e),e}function Xne(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&T(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&T(e,["nextPageToken"],r);const i=v(t,["cachedContents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>a)),T(e,["cachedContents"],s)}return e}function Jne(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&T(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&T(e,["nextPageToken"],r);const i=v(t,["cachedContents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>a)),T(e,["cachedContents"],s)}return e}function Qne(t){const e={},n=v(t,["mediaResolution"]);n!=null&&T(e,["mediaResolution"],n);const r=v(t,["codeExecutionResult"]);r!=null&&T(e,["codeExecutionResult"],r);const i=v(t,["executableCode"]);i!=null&&T(e,["executableCode"],i);const s=v(t,["fileData"]);s!=null&&T(e,["fileData"],Bne(s));const a=v(t,["functionCall"]);a!=null&&T(e,["functionCall"],Vne(a));const o=v(t,["functionResponse"]);o!=null&&T(e,["functionResponse"],o);const c=v(t,["inlineData"]);c!=null&&T(e,["inlineData"],Ine(c));const f=v(t,["text"]);f!=null&&T(e,["text"],f);const d=v(t,["thought"]);d!=null&&T(e,["thought"],d);const m=v(t,["thoughtSignature"]);m!=null&&T(e,["thoughtSignature"],m);const g=v(t,["videoMetadata"]);return g!=null&&T(e,["videoMetadata"],g),e}function Zne(t){const e={},n=v(t,["functionCallingConfig"]);n!=null&&T(e,["functionCallingConfig"],Une(n));const r=v(t,["retrievalConfig"]);return r!=null&&T(e,["retrievalConfig"],r),e}function ere(t){const e={},n=v(t,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(m=>m)),T(e,["functionDeclarations"],d)}if(v(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=v(t,["googleSearchRetrieval"]);r!=null&&T(e,["googleSearchRetrieval"],r);const i=v(t,["computerUse"]);i!=null&&T(e,["computerUse"],i);const s=v(t,["fileSearch"]);s!=null&&T(e,["fileSearch"],s);const a=v(t,["codeExecution"]);if(a!=null&&T(e,["codeExecution"],a),v(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=v(t,["googleMaps"]);o!=null&&T(e,["googleMaps"],zne(o));const c=v(t,["googleSearch"]);c!=null&&T(e,["googleSearch"],Gne(c));const f=v(t,["urlContext"]);return f!=null&&T(e,["urlContext"],f),e}function tre(t){const e={},n=v(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(g=>jne(g))),T(e,["functionDeclarations"],m)}const r=v(t,["retrieval"]);r!=null&&T(e,["retrieval"],r);const i=v(t,["googleSearchRetrieval"]);i!=null&&T(e,["googleSearchRetrieval"],i);const s=v(t,["computerUse"]);if(s!=null&&T(e,["computerUse"],s),v(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=v(t,["codeExecution"]);a!=null&&T(e,["codeExecution"],a);const o=v(t,["enterpriseWebSearch"]);o!=null&&T(e,["enterpriseWebSearch"],o);const c=v(t,["googleMaps"]);c!=null&&T(e,["googleMaps"],c);const f=v(t,["googleSearch"]);f!=null&&T(e,["googleSearch"],f);const d=v(t,["urlContext"]);return d!=null&&T(e,["urlContext"],d),e}function nre(t,e){const n={},r=v(t,["ttl"]);e!==void 0&&r!=null&&T(e,["ttl"],r);const i=v(t,["expireTime"]);return e!==void 0&&i!=null&&T(e,["expireTime"],i),n}function rre(t,e){const n={},r=v(t,["ttl"]);e!==void 0&&r!=null&&T(e,["ttl"],r);const i=v(t,["expireTime"]);return e!==void 0&&i!=null&&T(e,["expireTime"],i),n}function ire(t,e){const n={},r=v(e,["name"]);r!=null&&T(n,["_url","name"],Wu(t,r));const i=v(e,["config"]);return i!=null&&nre(i,n),n}function sre(t,e){const n={},r=v(e,["name"]);r!=null&&T(n,["_url","name"],Wu(t,r));const i=v(e,["config"]);return i!=null&&rre(i,n),n}class are extends Gu{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Ch(Uu.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,s;let a,o="",c={};if(this.apiClient.isVertexAI()){const f=Dne(this.apiClient,e);return o=Ht("cachedContents",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>d)}else{const f=Pne(this.apiClient,e);return o=Ht("cachedContents",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a.then(d=>d)}}async get(e){var n,r,i,s;let a,o="",c={};if(this.apiClient.isVertexAI()){const f=Hne(this.apiClient,e);return o=Ht("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>d)}else{const f=qne(this.apiClient,e);return o=Ht("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a.then(d=>d)}}async delete(e){var n,r,i,s;let a,o="",c={};if(this.apiClient.isVertexAI()){const f=Lne(this.apiClient,e);return o=Ht("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const m=One(d),g=new Jk;return Object.assign(g,m),g})}else{const f=Mne(this.apiClient,e);return o=Ht("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const m=Fne(d),g=new Jk;return Object.assign(g,m),g})}}async update(e){var n,r,i,s;let a,o="",c={};if(this.apiClient.isVertexAI()){const f=sre(this.apiClient,e);return o=Ht("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>d)}else{const f=ire(this.apiClient,e);return o=Ht("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a.then(d=>d)}}async listInternal(e){var n,r,i,s;let a,o="",c={};if(this.apiClient.isVertexAI()){const f=Yne(e);return o=Ht("cachedContents",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const m=Jne(d),g=new Qk;return Object.assign(g,m),g})}else{const f=Kne(e);return o=Ht("cachedContents",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const m=Xne(d),g=new Qk;return Object.assign(g,m),g})}}}function s6(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function hi(t){return this instanceof hi?(this.v=t,this):new hi(t)}function cp(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(y){return function(E){return Promise.resolve(E).then(y,m)}}function o(y,E){r[y]&&(i[y]=function(_){return new Promise(function(A,C){s.push([y,_,A,C])>1||c(y,_)})},E&&(i[y]=E(i[y])))}function c(y,E){try{f(r[y](E))}catch(_){g(s[0][3],_)}}function f(y){y.value instanceof hi?Promise.resolve(y.value.v).then(d,m):g(s[0][2],y)}function d(y){c("next",y)}function m(y){c("throw",y)}function g(y,E){y(E),s.shift(),s.length&&c(s[0][0],s[0][1])}}function Tg(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof s6=="function"?s6(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(a){return new Promise(function(o,c){a=t[s](a),i(o,c,a.done,a.value)})}}function i(s,a,o,c){Promise.resolve(c).then(function(f){s({value:f,done:o})},a)}}function ore(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:X7(n)}function X7(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function lre(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function a6(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let s=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),s&&!X7(t[r])&&(s=!1),r++;s?e.push(...i):e.pop()}return e}class cre{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new ure(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class ure{constructor(e,n,r,i={},s=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=s,this.sendPromise=Promise.resolve(),lre(s)}async sendMessage(e){var n;await this.sendPromise;const r=Na(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var s,a,o;const c=await i,f=(a=(s=c.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content,d=c.automaticFunctionCallingHistory,m=this.getHistory(!0).length;let g=[];d!=null&&(g=(o=d.slice(m))!==null&&o!==void 0?o:[]);const y=f?[f]:[];this.recordHistory(r,y,g)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=Na(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const s=await i;return this.processStreamResponse(s,r)}getHistory(e=!1){const n=e?a6(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var r,i;return cp(this,arguments,function*(){var a,o,c,f;const d=[];try{for(var m=!0,g=Tg(e),y;y=yield hi(g.next()),a=y.done,!a;m=!0){f=y.value,m=!1;const E=f;if(ore(E)){const _=(i=(r=E.candidates)===null||r===void 0?void 0:r[0])===null||i===void 0?void 0:i.content;_!==void 0&&d.push(_)}yield yield hi(E)}}catch(E){o={error:E}}finally{try{!m&&!a&&(c=g.return)&&(yield hi(c.call(g)))}finally{if(o)throw o.error}}this.recordHistory(n,d)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(s=>s.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...a6(r)):this.history.push(e),this.history.push(...i)}}class Nv extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Nv.prototype)}}function fre(t){const e={},n=v(t,["file"]);return n!=null&&T(e,["file"],n),e}function dre(t){const e={},n=v(t,["sdkHttpResponse"]);return n!=null&&T(e,["sdkHttpResponse"],n),e}function hre(t){const e={},n=v(t,["name"]);return n!=null&&T(e,["_url","file"],H7(n)),e}function pre(t){const e={},n=v(t,["sdkHttpResponse"]);return n!=null&&T(e,["sdkHttpResponse"],n),e}function mre(t){const e={},n=v(t,["name"]);return n!=null&&T(e,["_url","file"],H7(n)),e}function gre(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&T(e,["_query","pageSize"],r);const i=v(t,["pageToken"]);return e!==void 0&&i!=null&&T(e,["_query","pageToken"],i),n}function xre(t){const e={},n=v(t,["config"]);return n!=null&&gre(n,e),e}function yre(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&T(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&T(e,["nextPageToken"],r);const i=v(t,["files"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>a)),T(e,["files"],s)}return e}class vre extends Gu{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Ch(Uu.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=xre(e);return s=Ht("files",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),i.then(c=>{const f=yre(c),d=new Tte;return Object.assign(d,f),d})}}async createInternal(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=fre(e);return s=Ht("upload/v1beta/files",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=dre(c),d=new Ete;return Object.assign(d,f),d})}}async get(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=mre(e);return s=Ht("files/{file}",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=hre(e);return s=Ht("files/{file}",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),i.then(c=>{const f=pre(c),d=new Ste;return Object.assign(d,f),d})}}}function By(t){const e={},n=v(t,["data"]);if(n!=null&&T(e,["data"],n),v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=v(t,["mimeType"]);return r!=null&&T(e,["mimeType"],r),e}function bre(t){const e={},n=v(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>Fre(s))),T(e,["parts"],i)}const r=v(t,["role"]);return r!=null&&T(e,["role"],r),e}function _re(t){const e={};if(v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(t,["fileUri"]);n!=null&&T(e,["fileUri"],n);const r=v(t,["mimeType"]);return r!=null&&T(e,["mimeType"],r),e}function wre(t){const e={},n=v(t,["id"]);n!=null&&T(e,["id"],n);const r=v(t,["args"]);r!=null&&T(e,["args"],r);const i=v(t,["name"]);if(i!=null&&T(e,["name"],i),v(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(v(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Tre(t){const e={};if(v(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=v(t,["description"]);n!=null&&T(e,["description"],n);const r=v(t,["name"]);r!=null&&T(e,["name"],r);const i=v(t,["parameters"]);i!=null&&T(e,["parameters"],i);const s=v(t,["parametersJsonSchema"]);s!=null&&T(e,["parametersJsonSchema"],s);const a=v(t,["response"]);a!=null&&T(e,["response"],a);const o=v(t,["responseJsonSchema"]);return o!=null&&T(e,["responseJsonSchema"],o),e}function Ere(t){const e={},n=v(t,["modelSelectionConfig"]);n!=null&&T(e,["modelConfig"],n);const r=v(t,["responseJsonSchema"]);r!=null&&T(e,["responseJsonSchema"],r);const i=v(t,["audioTimestamp"]);i!=null&&T(e,["audioTimestamp"],i);const s=v(t,["candidateCount"]);s!=null&&T(e,["candidateCount"],s);const a=v(t,["enableAffectiveDialog"]);a!=null&&T(e,["enableAffectiveDialog"],a);const o=v(t,["frequencyPenalty"]);o!=null&&T(e,["frequencyPenalty"],o);const c=v(t,["logprobs"]);c!=null&&T(e,["logprobs"],c);const f=v(t,["maxOutputTokens"]);f!=null&&T(e,["maxOutputTokens"],f);const d=v(t,["mediaResolution"]);d!=null&&T(e,["mediaResolution"],d);const m=v(t,["presencePenalty"]);m!=null&&T(e,["presencePenalty"],m);const g=v(t,["responseLogprobs"]);g!=null&&T(e,["responseLogprobs"],g);const y=v(t,["responseMimeType"]);y!=null&&T(e,["responseMimeType"],y);const E=v(t,["responseModalities"]);E!=null&&T(e,["responseModalities"],E);const _=v(t,["responseSchema"]);_!=null&&T(e,["responseSchema"],_);const A=v(t,["routingConfig"]);A!=null&&T(e,["routingConfig"],A);const C=v(t,["seed"]);C!=null&&T(e,["seed"],C);const V=v(t,["speechConfig"]);V!=null&&T(e,["speechConfig"],J7(V));const R=v(t,["stopSequences"]);R!=null&&T(e,["stopSequences"],R);const F=v(t,["temperature"]);F!=null&&T(e,["temperature"],F);const z=v(t,["thinkingConfig"]);z!=null&&T(e,["thinkingConfig"],z);const W=v(t,["topK"]);W!=null&&T(e,["topK"],W);const D=v(t,["topP"]);if(D!=null&&T(e,["topP"],D),v(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function Sre(t){const e={};if(v(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=v(t,["enableWidget"]);return n!=null&&T(e,["enableWidget"],n),e}function Are(t){const e={};if(v(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(v(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=v(t,["timeRangeFilter"]);return n!=null&&T(e,["timeRangeFilter"],n),e}function Nre(t,e){const n={},r=v(t,["generationConfig"]);e!==void 0&&r!=null&&T(e,["setup","generationConfig"],r);const i=v(t,["responseModalities"]);e!==void 0&&i!=null&&T(e,["setup","generationConfig","responseModalities"],i);const s=v(t,["temperature"]);e!==void 0&&s!=null&&T(e,["setup","generationConfig","temperature"],s);const a=v(t,["topP"]);e!==void 0&&a!=null&&T(e,["setup","generationConfig","topP"],a);const o=v(t,["topK"]);e!==void 0&&o!=null&&T(e,["setup","generationConfig","topK"],o);const c=v(t,["maxOutputTokens"]);e!==void 0&&c!=null&&T(e,["setup","generationConfig","maxOutputTokens"],c);const f=v(t,["mediaResolution"]);e!==void 0&&f!=null&&T(e,["setup","generationConfig","mediaResolution"],f);const d=v(t,["seed"]);e!==void 0&&d!=null&&T(e,["setup","generationConfig","seed"],d);const m=v(t,["speechConfig"]);e!==void 0&&m!=null&&T(e,["setup","generationConfig","speechConfig"],mS(m));const g=v(t,["thinkingConfig"]);e!==void 0&&g!=null&&T(e,["setup","generationConfig","thinkingConfig"],g);const y=v(t,["enableAffectiveDialog"]);e!==void 0&&y!=null&&T(e,["setup","generationConfig","enableAffectiveDialog"],y);const E=v(t,["systemInstruction"]);e!==void 0&&E!=null&&T(e,["setup","systemInstruction"],bre(Na(E)));const _=v(t,["tools"]);if(e!==void 0&&_!=null){let W=Xp(_);Array.isArray(W)&&(W=W.map(D=>Bre(Yp(D)))),T(e,["setup","tools"],W)}const A=v(t,["sessionResumption"]);e!==void 0&&A!=null&&T(e,["setup","sessionResumption"],Ore(A));const C=v(t,["inputAudioTranscription"]);e!==void 0&&C!=null&&T(e,["setup","inputAudioTranscription"],C);const V=v(t,["outputAudioTranscription"]);e!==void 0&&V!=null&&T(e,["setup","outputAudioTranscription"],V);const R=v(t,["realtimeInputConfig"]);e!==void 0&&R!=null&&T(e,["setup","realtimeInputConfig"],R);const F=v(t,["contextWindowCompression"]);e!==void 0&&F!=null&&T(e,["setup","contextWindowCompression"],F);const z=v(t,["proactivity"]);return e!==void 0&&z!=null&&T(e,["setup","proactivity"],z),n}function Cre(t,e){const n={},r=v(t,["generationConfig"]);e!==void 0&&r!=null&&T(e,["setup","generationConfig"],Ere(r));const i=v(t,["responseModalities"]);e!==void 0&&i!=null&&T(e,["setup","generationConfig","responseModalities"],i);const s=v(t,["temperature"]);e!==void 0&&s!=null&&T(e,["setup","generationConfig","temperature"],s);const a=v(t,["topP"]);e!==void 0&&a!=null&&T(e,["setup","generationConfig","topP"],a);const o=v(t,["topK"]);e!==void 0&&o!=null&&T(e,["setup","generationConfig","topK"],o);const c=v(t,["maxOutputTokens"]);e!==void 0&&c!=null&&T(e,["setup","generationConfig","maxOutputTokens"],c);const f=v(t,["mediaResolution"]);e!==void 0&&f!=null&&T(e,["setup","generationConfig","mediaResolution"],f);const d=v(t,["seed"]);e!==void 0&&d!=null&&T(e,["setup","generationConfig","seed"],d);const m=v(t,["speechConfig"]);e!==void 0&&m!=null&&T(e,["setup","generationConfig","speechConfig"],J7(mS(m)));const g=v(t,["thinkingConfig"]);e!==void 0&&g!=null&&T(e,["setup","generationConfig","thinkingConfig"],g);const y=v(t,["enableAffectiveDialog"]);e!==void 0&&y!=null&&T(e,["setup","generationConfig","enableAffectiveDialog"],y);const E=v(t,["systemInstruction"]);e!==void 0&&E!=null&&T(e,["setup","systemInstruction"],Na(E));const _=v(t,["tools"]);if(e!==void 0&&_!=null){let W=Xp(_);Array.isArray(W)&&(W=W.map(D=>Vre(Yp(D)))),T(e,["setup","tools"],W)}const A=v(t,["sessionResumption"]);e!==void 0&&A!=null&&T(e,["setup","sessionResumption"],A);const C=v(t,["inputAudioTranscription"]);e!==void 0&&C!=null&&T(e,["setup","inputAudioTranscription"],C);const V=v(t,["outputAudioTranscription"]);e!==void 0&&V!=null&&T(e,["setup","outputAudioTranscription"],V);const R=v(t,["realtimeInputConfig"]);e!==void 0&&R!=null&&T(e,["setup","realtimeInputConfig"],R);const F=v(t,["contextWindowCompression"]);e!==void 0&&F!=null&&T(e,["setup","contextWindowCompression"],F);const z=v(t,["proactivity"]);return e!==void 0&&z!=null&&T(e,["setup","proactivity"],z),n}function Ire(t,e){const n={},r=v(e,["model"]);r!=null&&T(n,["setup","model"],kr(t,r));const i=v(e,["config"]);return i!=null&&T(n,["config"],Nre(i,n)),n}function kre(t,e){const n={},r=v(e,["model"]);r!=null&&T(n,["setup","model"],kr(t,r));const i=v(e,["config"]);return i!=null&&T(n,["config"],Cre(i,n)),n}function Rre(t){const e={},n=v(t,["musicGenerationConfig"]);return n!=null&&T(e,["musicGenerationConfig"],n),e}function Pre(t){const e={},n=v(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),T(e,["weightedPrompts"],r)}return e}function Dre(t){const e={},n=v(t,["media"]);if(n!=null){let f=B7(n);Array.isArray(f)&&(f=f.map(d=>By(d))),T(e,["mediaChunks"],f)}const r=v(t,["audio"]);r!=null&&T(e,["audio"],By(U7(r)));const i=v(t,["audioStreamEnd"]);i!=null&&T(e,["audioStreamEnd"],i);const s=v(t,["video"]);s!=null&&T(e,["video"],By(V7(s)));const a=v(t,["text"]);a!=null&&T(e,["text"],a);const o=v(t,["activityStart"]);o!=null&&T(e,["activityStart"],o);const c=v(t,["activityEnd"]);return c!=null&&T(e,["activityEnd"],c),e}function Mre(t){const e={},n=v(t,["media"]);if(n!=null){let f=B7(n);Array.isArray(f)&&(f=f.map(d=>d)),T(e,["mediaChunks"],f)}const r=v(t,["audio"]);r!=null&&T(e,["audio"],U7(r));const i=v(t,["audioStreamEnd"]);i!=null&&T(e,["audioStreamEnd"],i);const s=v(t,["video"]);s!=null&&T(e,["video"],V7(s));const a=v(t,["text"]);a!=null&&T(e,["text"],a);const o=v(t,["activityStart"]);o!=null&&T(e,["activityStart"],o);const c=v(t,["activityEnd"]);return c!=null&&T(e,["activityEnd"],c),e}function Lre(t){const e={},n=v(t,["setupComplete"]);n!=null&&T(e,["setupComplete"],n);const r=v(t,["serverContent"]);r!=null&&T(e,["serverContent"],r);const i=v(t,["toolCall"]);i!=null&&T(e,["toolCall"],i);const s=v(t,["toolCallCancellation"]);s!=null&&T(e,["toolCallCancellation"],s);const a=v(t,["usageMetadata"]);a!=null&&T(e,["usageMetadata"],Ure(a));const o=v(t,["goAway"]);o!=null&&T(e,["goAway"],o);const c=v(t,["sessionResumptionUpdate"]);return c!=null&&T(e,["sessionResumptionUpdate"],c),e}function Fre(t){const e={},n=v(t,["mediaResolution"]);n!=null&&T(e,["mediaResolution"],n);const r=v(t,["codeExecutionResult"]);r!=null&&T(e,["codeExecutionResult"],r);const i=v(t,["executableCode"]);i!=null&&T(e,["executableCode"],i);const s=v(t,["fileData"]);s!=null&&T(e,["fileData"],_re(s));const a=v(t,["functionCall"]);a!=null&&T(e,["functionCall"],wre(a));const o=v(t,["functionResponse"]);o!=null&&T(e,["functionResponse"],o);const c=v(t,["inlineData"]);c!=null&&T(e,["inlineData"],By(c));const f=v(t,["text"]);f!=null&&T(e,["text"],f);const d=v(t,["thought"]);d!=null&&T(e,["thought"],d);const m=v(t,["thoughtSignature"]);m!=null&&T(e,["thoughtSignature"],m);const g=v(t,["videoMetadata"]);return g!=null&&T(e,["videoMetadata"],g),e}function Ore(t){const e={},n=v(t,["handle"]);if(n!=null&&T(e,["handle"],n),v(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function J7(t){const e={},n=v(t,["languageCode"]);n!=null&&T(e,["languageCode"],n);const r=v(t,["voiceConfig"]);if(r!=null&&T(e,["voiceConfig"],r),v(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function Bre(t){const e={},n=v(t,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(m=>m)),T(e,["functionDeclarations"],d)}if(v(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=v(t,["googleSearchRetrieval"]);r!=null&&T(e,["googleSearchRetrieval"],r);const i=v(t,["computerUse"]);i!=null&&T(e,["computerUse"],i);const s=v(t,["fileSearch"]);s!=null&&T(e,["fileSearch"],s);const a=v(t,["codeExecution"]);if(a!=null&&T(e,["codeExecution"],a),v(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=v(t,["googleMaps"]);o!=null&&T(e,["googleMaps"],Sre(o));const c=v(t,["googleSearch"]);c!=null&&T(e,["googleSearch"],Are(c));const f=v(t,["urlContext"]);return f!=null&&T(e,["urlContext"],f),e}function Vre(t){const e={},n=v(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(g=>Tre(g))),T(e,["functionDeclarations"],m)}const r=v(t,["retrieval"]);r!=null&&T(e,["retrieval"],r);const i=v(t,["googleSearchRetrieval"]);i!=null&&T(e,["googleSearchRetrieval"],i);const s=v(t,["computerUse"]);if(s!=null&&T(e,["computerUse"],s),v(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=v(t,["codeExecution"]);a!=null&&T(e,["codeExecution"],a);const o=v(t,["enterpriseWebSearch"]);o!=null&&T(e,["enterpriseWebSearch"],o);const c=v(t,["googleMaps"]);c!=null&&T(e,["googleMaps"],c);const f=v(t,["googleSearch"]);f!=null&&T(e,["googleSearch"],f);const d=v(t,["urlContext"]);return d!=null&&T(e,["urlContext"],d),e}function Ure(t){const e={},n=v(t,["promptTokenCount"]);n!=null&&T(e,["promptTokenCount"],n);const r=v(t,["cachedContentTokenCount"]);r!=null&&T(e,["cachedContentTokenCount"],r);const i=v(t,["candidatesTokenCount"]);i!=null&&T(e,["responseTokenCount"],i);const s=v(t,["toolUsePromptTokenCount"]);s!=null&&T(e,["toolUsePromptTokenCount"],s);const a=v(t,["thoughtsTokenCount"]);a!=null&&T(e,["thoughtsTokenCount"],a);const o=v(t,["totalTokenCount"]);o!=null&&T(e,["totalTokenCount"],o);const c=v(t,["promptTokensDetails"]);if(c!=null){let y=c;Array.isArray(y)&&(y=y.map(E=>E)),T(e,["promptTokensDetails"],y)}const f=v(t,["cacheTokensDetails"]);if(f!=null){let y=f;Array.isArray(y)&&(y=y.map(E=>E)),T(e,["cacheTokensDetails"],y)}const d=v(t,["candidatesTokensDetails"]);if(d!=null){let y=d;Array.isArray(y)&&(y=y.map(E=>E)),T(e,["responseTokensDetails"],y)}const m=v(t,["toolUsePromptTokensDetails"]);if(m!=null){let y=m;Array.isArray(y)&&(y=y.map(E=>E)),T(e,["toolUsePromptTokensDetails"],y)}const g=v(t,["trafficType"]);return g!=null&&T(e,["trafficType"],g),e}function jre(t){const e={},n=v(t,["data"]);if(n!=null&&T(e,["data"],n),v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=v(t,["mimeType"]);return r!=null&&T(e,["mimeType"],r),e}function qre(t){const e={},n=v(t,["content"]);n!=null&&T(e,["content"],n);const r=v(t,["citationMetadata"]);r!=null&&T(e,["citationMetadata"],Hre(r));const i=v(t,["tokenCount"]);i!=null&&T(e,["tokenCount"],i);const s=v(t,["finishReason"]);s!=null&&T(e,["finishReason"],s);const a=v(t,["avgLogprobs"]);a!=null&&T(e,["avgLogprobs"],a);const o=v(t,["groundingMetadata"]);o!=null&&T(e,["groundingMetadata"],o);const c=v(t,["index"]);c!=null&&T(e,["index"],c);const f=v(t,["logprobsResult"]);f!=null&&T(e,["logprobsResult"],f);const d=v(t,["safetyRatings"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(y=>y)),T(e,["safetyRatings"],g)}const m=v(t,["urlContextMetadata"]);return m!=null&&T(e,["urlContextMetadata"],m),e}function Hre(t){const e={},n=v(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),T(e,["citations"],r)}return e}function zre(t,e){const n={},r=v(e,["model"]);r!=null&&T(n,["_url","model"],kr(t,r));const i=v(e,["contents"]);if(i!=null){let s=gl(i);Array.isArray(s)&&(s=s.map(a=>a)),T(n,["contents"],s)}return n}function Gre(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&T(e,["sdkHttpResponse"],n);const r=v(t,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),T(e,["tokensInfo"],i)}return e}function Wre(t){const e={},n=v(t,["values"]);n!=null&&T(e,["values"],n);const r=v(t,["statistics"]);return r!=null&&T(e,["statistics"],$re(r)),e}function $re(t){const e={},n=v(t,["truncated"]);n!=null&&T(e,["truncated"],n);const r=v(t,["token_count"]);return r!=null&&T(e,["tokenCount"],r),e}function Cv(t){const e={},n=v(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>nse(s))),T(e,["parts"],i)}const r=v(t,["role"]);return r!=null&&T(e,["role"],r),e}function Kre(t){const e={},n=v(t,["controlType"]);n!=null&&T(e,["controlType"],n);const r=v(t,["enableControlImageComputation"]);return r!=null&&T(e,["computeControl"],r),e}function Yre(t){const e={};if(v(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(v(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(v(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function Xre(t,e){const n={},r=v(t,["systemInstruction"]);e!==void 0&&r!=null&&T(e,["systemInstruction"],Na(r));const i=v(t,["tools"]);if(e!==void 0&&i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>nO(o))),T(e,["tools"],a)}const s=v(t,["generationConfig"]);return e!==void 0&&s!=null&&T(e,["generationConfig"],jie(s)),n}function Jre(t,e){const n={},r=v(e,["model"]);r!=null&&T(n,["_url","model"],kr(t,r));const i=v(e,["contents"]);if(i!=null){let a=gl(i);Array.isArray(a)&&(a=a.map(o=>Cv(o))),T(n,["contents"],a)}const s=v(e,["config"]);return s!=null&&Yre(s),n}function Qre(t,e){const n={},r=v(e,["model"]);r!=null&&T(n,["_url","model"],kr(t,r));const i=v(e,["contents"]);if(i!=null){let a=gl(i);Array.isArray(a)&&(a=a.map(o=>o)),T(n,["contents"],a)}const s=v(e,["config"]);return s!=null&&Xre(s,n),n}function Zre(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&T(e,["sdkHttpResponse"],n);const r=v(t,["totalTokens"]);r!=null&&T(e,["totalTokens"],r);const i=v(t,["cachedContentTokenCount"]);return i!=null&&T(e,["cachedContentTokenCount"],i),e}function eie(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&T(e,["sdkHttpResponse"],n);const r=v(t,["totalTokens"]);return r!=null&&T(e,["totalTokens"],r),e}function tie(t,e){const n={},r=v(e,["model"]);return r!=null&&T(n,["_url","name"],kr(t,r)),n}function nie(t,e){const n={},r=v(e,["model"]);return r!=null&&T(n,["_url","name"],kr(t,r)),n}function rie(t){const e={},n=v(t,["sdkHttpResponse"]);return n!=null&&T(e,["sdkHttpResponse"],n),e}function iie(t){const e={},n=v(t,["sdkHttpResponse"]);return n!=null&&T(e,["sdkHttpResponse"],n),e}function sie(t,e){const n={},r=v(t,["outputGcsUri"]);e!==void 0&&r!=null&&T(e,["parameters","storageUri"],r);const i=v(t,["negativePrompt"]);e!==void 0&&i!=null&&T(e,["parameters","negativePrompt"],i);const s=v(t,["numberOfImages"]);e!==void 0&&s!=null&&T(e,["parameters","sampleCount"],s);const a=v(t,["aspectRatio"]);e!==void 0&&a!=null&&T(e,["parameters","aspectRatio"],a);const o=v(t,["guidanceScale"]);e!==void 0&&o!=null&&T(e,["parameters","guidanceScale"],o);const c=v(t,["seed"]);e!==void 0&&c!=null&&T(e,["parameters","seed"],c);const f=v(t,["safetyFilterLevel"]);e!==void 0&&f!=null&&T(e,["parameters","safetySetting"],f);const d=v(t,["personGeneration"]);e!==void 0&&d!=null&&T(e,["parameters","personGeneration"],d);const m=v(t,["includeSafetyAttributes"]);e!==void 0&&m!=null&&T(e,["parameters","includeSafetyAttributes"],m);const g=v(t,["includeRaiReason"]);e!==void 0&&g!=null&&T(e,["parameters","includeRaiReason"],g);const y=v(t,["language"]);e!==void 0&&y!=null&&T(e,["parameters","language"],y);const E=v(t,["outputMimeType"]);e!==void 0&&E!=null&&T(e,["parameters","outputOptions","mimeType"],E);const _=v(t,["outputCompressionQuality"]);e!==void 0&&_!=null&&T(e,["parameters","outputOptions","compressionQuality"],_);const A=v(t,["addWatermark"]);e!==void 0&&A!=null&&T(e,["parameters","addWatermark"],A);const C=v(t,["labels"]);e!==void 0&&C!=null&&T(e,["labels"],C);const V=v(t,["editMode"]);e!==void 0&&V!=null&&T(e,["parameters","editMode"],V);const R=v(t,["baseSteps"]);return e!==void 0&&R!=null&&T(e,["parameters","editConfig","baseSteps"],R),n}function aie(t,e){const n={},r=v(e,["model"]);r!=null&&T(n,["_url","model"],kr(t,r));const i=v(e,["prompt"]);i!=null&&T(n,["instances[0]","prompt"],i);const s=v(e,["referenceImages"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(c=>lse(c))),T(n,["instances[0]","referenceImages"],o)}const a=v(e,["config"]);return a!=null&&sie(a,n),n}function oie(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&T(e,["sdkHttpResponse"],n);const r=v(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>Iv(s))),T(e,["generatedImages"],i)}return e}function lie(t,e){const n={},r=v(t,["taskType"]);e!==void 0&&r!=null&&T(e,["requests[]","taskType"],r);const i=v(t,["title"]);e!==void 0&&i!=null&&T(e,["requests[]","title"],i);const s=v(t,["outputDimensionality"]);if(e!==void 0&&s!=null&&T(e,["requests[]","outputDimensionality"],s),v(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(v(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function cie(t,e){const n={},r=v(t,["taskType"]);e!==void 0&&r!=null&&T(e,["instances[]","task_type"],r);const i=v(t,["title"]);e!==void 0&&i!=null&&T(e,["instances[]","title"],i);const s=v(t,["outputDimensionality"]);e!==void 0&&s!=null&&T(e,["parameters","outputDimensionality"],s);const a=v(t,["mimeType"]);e!==void 0&&a!=null&&T(e,["instances[]","mimeType"],a);const o=v(t,["autoTruncate"]);return e!==void 0&&o!=null&&T(e,["parameters","autoTruncate"],o),n}function uie(t,e){const n={},r=v(e,["model"]);r!=null&&T(n,["_url","model"],kr(t,r));const i=v(e,["contents"]);if(i!=null){let o=dS(t,i);Array.isArray(o)&&(o=o.map(c=>c)),T(n,["requests[]","content"],o)}const s=v(e,["config"]);s!=null&&lie(s,n);const a=v(e,["model"]);return a!==void 0&&T(n,["requests[]","model"],kr(t,a)),n}function fie(t,e){const n={},r=v(e,["model"]);r!=null&&T(n,["_url","model"],kr(t,r));const i=v(e,["contents"]);if(i!=null){let a=dS(t,i);Array.isArray(a)&&(a=a.map(o=>o)),T(n,["instances[]","content"],a)}const s=v(e,["config"]);return s!=null&&cie(s,n),n}function die(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&T(e,["sdkHttpResponse"],n);const r=v(t,["embeddings"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>a)),T(e,["embeddings"],s)}const i=v(t,["metadata"]);return i!=null&&T(e,["metadata"],i),e}function hie(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&T(e,["sdkHttpResponse"],n);const r=v(t,["predictions[]","embeddings"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>Wre(a))),T(e,["embeddings"],s)}const i=v(t,["metadata"]);return i!=null&&T(e,["metadata"],i),e}function pie(t){const e={},n=v(t,["endpoint"]);n!=null&&T(e,["name"],n);const r=v(t,["deployedModelId"]);return r!=null&&T(e,["deployedModelId"],r),e}function mie(t){const e={};if(v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(t,["fileUri"]);n!=null&&T(e,["fileUri"],n);const r=v(t,["mimeType"]);return r!=null&&T(e,["mimeType"],r),e}function gie(t){const e={},n=v(t,["id"]);n!=null&&T(e,["id"],n);const r=v(t,["args"]);r!=null&&T(e,["args"],r);const i=v(t,["name"]);if(i!=null&&T(e,["name"],i),v(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(v(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function xie(t){const e={},n=v(t,["mode"]);n!=null&&T(e,["mode"],n);const r=v(t,["allowedFunctionNames"]);if(r!=null&&T(e,["allowedFunctionNames"],r),v(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function yie(t){const e={};if(v(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=v(t,["description"]);n!=null&&T(e,["description"],n);const r=v(t,["name"]);r!=null&&T(e,["name"],r);const i=v(t,["parameters"]);i!=null&&T(e,["parameters"],i);const s=v(t,["parametersJsonSchema"]);s!=null&&T(e,["parametersJsonSchema"],s);const a=v(t,["response"]);a!=null&&T(e,["response"],a);const o=v(t,["responseJsonSchema"]);return o!=null&&T(e,["responseJsonSchema"],o),e}function vie(t,e,n){const r={},i=v(e,["systemInstruction"]);n!==void 0&&i!=null&&T(n,["systemInstruction"],Cv(Na(i)));const s=v(e,["temperature"]);s!=null&&T(r,["temperature"],s);const a=v(e,["topP"]);a!=null&&T(r,["topP"],a);const o=v(e,["topK"]);o!=null&&T(r,["topK"],o);const c=v(e,["candidateCount"]);c!=null&&T(r,["candidateCount"],c);const f=v(e,["maxOutputTokens"]);f!=null&&T(r,["maxOutputTokens"],f);const d=v(e,["stopSequences"]);d!=null&&T(r,["stopSequences"],d);const m=v(e,["responseLogprobs"]);m!=null&&T(r,["responseLogprobs"],m);const g=v(e,["logprobs"]);g!=null&&T(r,["logprobs"],g);const y=v(e,["presencePenalty"]);y!=null&&T(r,["presencePenalty"],y);const E=v(e,["frequencyPenalty"]);E!=null&&T(r,["frequencyPenalty"],E);const _=v(e,["seed"]);_!=null&&T(r,["seed"],_);const A=v(e,["responseMimeType"]);A!=null&&T(r,["responseMimeType"],A);const C=v(e,["responseSchema"]);C!=null&&T(r,["responseSchema"],hS(C));const V=v(e,["responseJsonSchema"]);if(V!=null&&T(r,["responseJsonSchema"],V),v(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(v(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const R=v(e,["safetySettings"]);if(n!==void 0&&R!=null){let M=R;Array.isArray(M)&&(M=M.map(j=>cse(j))),T(n,["safetySettings"],M)}const F=v(e,["tools"]);if(n!==void 0&&F!=null){let M=Xp(F);Array.isArray(M)&&(M=M.map(j=>gse(Yp(j)))),T(n,["tools"],M)}const z=v(e,["toolConfig"]);if(n!==void 0&&z!=null&&T(n,["toolConfig"],mse(z)),v(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const W=v(e,["cachedContent"]);n!==void 0&&W!=null&&T(n,["cachedContent"],Wu(t,W));const D=v(e,["responseModalities"]);D!=null&&T(r,["responseModalities"],D);const L=v(e,["mediaResolution"]);L!=null&&T(r,["mediaResolution"],L);const k=v(e,["speechConfig"]);if(k!=null&&T(r,["speechConfig"],pS(k)),v(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const q=v(e,["thinkingConfig"]);q!=null&&T(r,["thinkingConfig"],q);const P=v(e,["imageConfig"]);return P!=null&&T(r,["imageConfig"],Wie(P)),r}function bie(t,e,n){const r={},i=v(e,["systemInstruction"]);n!==void 0&&i!=null&&T(n,["systemInstruction"],Na(i));const s=v(e,["temperature"]);s!=null&&T(r,["temperature"],s);const a=v(e,["topP"]);a!=null&&T(r,["topP"],a);const o=v(e,["topK"]);o!=null&&T(r,["topK"],o);const c=v(e,["candidateCount"]);c!=null&&T(r,["candidateCount"],c);const f=v(e,["maxOutputTokens"]);f!=null&&T(r,["maxOutputTokens"],f);const d=v(e,["stopSequences"]);d!=null&&T(r,["stopSequences"],d);const m=v(e,["responseLogprobs"]);m!=null&&T(r,["responseLogprobs"],m);const g=v(e,["logprobs"]);g!=null&&T(r,["logprobs"],g);const y=v(e,["presencePenalty"]);y!=null&&T(r,["presencePenalty"],y);const E=v(e,["frequencyPenalty"]);E!=null&&T(r,["frequencyPenalty"],E);const _=v(e,["seed"]);_!=null&&T(r,["seed"],_);const A=v(e,["responseMimeType"]);A!=null&&T(r,["responseMimeType"],A);const C=v(e,["responseSchema"]);C!=null&&T(r,["responseSchema"],hS(C));const V=v(e,["responseJsonSchema"]);V!=null&&T(r,["responseJsonSchema"],V);const R=v(e,["routingConfig"]);R!=null&&T(r,["routingConfig"],R);const F=v(e,["modelSelectionConfig"]);F!=null&&T(r,["modelConfig"],F);const z=v(e,["safetySettings"]);if(n!==void 0&&z!=null){let fe=z;Array.isArray(fe)&&(fe=fe.map(xe=>xe)),T(n,["safetySettings"],fe)}const W=v(e,["tools"]);if(n!==void 0&&W!=null){let fe=Xp(W);Array.isArray(fe)&&(fe=fe.map(xe=>nO(Yp(xe)))),T(n,["tools"],fe)}const D=v(e,["toolConfig"]);n!==void 0&&D!=null&&T(n,["toolConfig"],D);const L=v(e,["labels"]);n!==void 0&&L!=null&&T(n,["labels"],L);const k=v(e,["cachedContent"]);n!==void 0&&k!=null&&T(n,["cachedContent"],Wu(t,k));const q=v(e,["responseModalities"]);q!=null&&T(r,["responseModalities"],q);const P=v(e,["mediaResolution"]);P!=null&&T(r,["mediaResolution"],P);const M=v(e,["speechConfig"]);M!=null&&T(r,["speechConfig"],tO(pS(M)));const j=v(e,["audioTimestamp"]);j!=null&&T(r,["audioTimestamp"],j);const ae=v(e,["thinkingConfig"]);ae!=null&&T(r,["thinkingConfig"],ae);const Ae=v(e,["imageConfig"]);return Ae!=null&&T(r,["imageConfig"],$ie(Ae)),r}function o6(t,e){const n={},r=v(e,["model"]);r!=null&&T(n,["_url","model"],kr(t,r));const i=v(e,["contents"]);if(i!=null){let a=gl(i);Array.isArray(a)&&(a=a.map(o=>Cv(o))),T(n,["contents"],a)}const s=v(e,["config"]);return s!=null&&T(n,["generationConfig"],vie(t,s,n)),n}function l6(t,e){const n={},r=v(e,["model"]);r!=null&&T(n,["_url","model"],kr(t,r));const i=v(e,["contents"]);if(i!=null){let a=gl(i);Array.isArray(a)&&(a=a.map(o=>o)),T(n,["contents"],a)}const s=v(e,["config"]);return s!=null&&T(n,["generationConfig"],bie(t,s,n)),n}function c6(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&T(e,["sdkHttpResponse"],n);const r=v(t,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(f=>qre(f))),T(e,["candidates"],c)}const i=v(t,["modelVersion"]);i!=null&&T(e,["modelVersion"],i);const s=v(t,["promptFeedback"]);s!=null&&T(e,["promptFeedback"],s);const a=v(t,["responseId"]);a!=null&&T(e,["responseId"],a);const o=v(t,["usageMetadata"]);return o!=null&&T(e,["usageMetadata"],o),e}function u6(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&T(e,["sdkHttpResponse"],n);const r=v(t,["candidates"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(d=>d)),T(e,["candidates"],f)}const i=v(t,["createTime"]);i!=null&&T(e,["createTime"],i);const s=v(t,["modelVersion"]);s!=null&&T(e,["modelVersion"],s);const a=v(t,["promptFeedback"]);a!=null&&T(e,["promptFeedback"],a);const o=v(t,["responseId"]);o!=null&&T(e,["responseId"],o);const c=v(t,["usageMetadata"]);return c!=null&&T(e,["usageMetadata"],c),e}function _ie(t,e){const n={};if(v(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(v(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=v(t,["numberOfImages"]);e!==void 0&&r!=null&&T(e,["parameters","sampleCount"],r);const i=v(t,["aspectRatio"]);e!==void 0&&i!=null&&T(e,["parameters","aspectRatio"],i);const s=v(t,["guidanceScale"]);if(e!==void 0&&s!=null&&T(e,["parameters","guidanceScale"],s),v(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=v(t,["safetyFilterLevel"]);e!==void 0&&a!=null&&T(e,["parameters","safetySetting"],a);const o=v(t,["personGeneration"]);e!==void 0&&o!=null&&T(e,["parameters","personGeneration"],o);const c=v(t,["includeSafetyAttributes"]);e!==void 0&&c!=null&&T(e,["parameters","includeSafetyAttributes"],c);const f=v(t,["includeRaiReason"]);e!==void 0&&f!=null&&T(e,["parameters","includeRaiReason"],f);const d=v(t,["language"]);e!==void 0&&d!=null&&T(e,["parameters","language"],d);const m=v(t,["outputMimeType"]);e!==void 0&&m!=null&&T(e,["parameters","outputOptions","mimeType"],m);const g=v(t,["outputCompressionQuality"]);if(e!==void 0&&g!=null&&T(e,["parameters","outputOptions","compressionQuality"],g),v(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(v(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const y=v(t,["imageSize"]);if(e!==void 0&&y!=null&&T(e,["parameters","sampleImageSize"],y),v(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function wie(t,e){const n={},r=v(t,["outputGcsUri"]);e!==void 0&&r!=null&&T(e,["parameters","storageUri"],r);const i=v(t,["negativePrompt"]);e!==void 0&&i!=null&&T(e,["parameters","negativePrompt"],i);const s=v(t,["numberOfImages"]);e!==void 0&&s!=null&&T(e,["parameters","sampleCount"],s);const a=v(t,["aspectRatio"]);e!==void 0&&a!=null&&T(e,["parameters","aspectRatio"],a);const o=v(t,["guidanceScale"]);e!==void 0&&o!=null&&T(e,["parameters","guidanceScale"],o);const c=v(t,["seed"]);e!==void 0&&c!=null&&T(e,["parameters","seed"],c);const f=v(t,["safetyFilterLevel"]);e!==void 0&&f!=null&&T(e,["parameters","safetySetting"],f);const d=v(t,["personGeneration"]);e!==void 0&&d!=null&&T(e,["parameters","personGeneration"],d);const m=v(t,["includeSafetyAttributes"]);e!==void 0&&m!=null&&T(e,["parameters","includeSafetyAttributes"],m);const g=v(t,["includeRaiReason"]);e!==void 0&&g!=null&&T(e,["parameters","includeRaiReason"],g);const y=v(t,["language"]);e!==void 0&&y!=null&&T(e,["parameters","language"],y);const E=v(t,["outputMimeType"]);e!==void 0&&E!=null&&T(e,["parameters","outputOptions","mimeType"],E);const _=v(t,["outputCompressionQuality"]);e!==void 0&&_!=null&&T(e,["parameters","outputOptions","compressionQuality"],_);const A=v(t,["addWatermark"]);e!==void 0&&A!=null&&T(e,["parameters","addWatermark"],A);const C=v(t,["labels"]);e!==void 0&&C!=null&&T(e,["labels"],C);const V=v(t,["imageSize"]);e!==void 0&&V!=null&&T(e,["parameters","sampleImageSize"],V);const R=v(t,["enhancePrompt"]);return e!==void 0&&R!=null&&T(e,["parameters","enhancePrompt"],R),n}function Tie(t,e){const n={},r=v(e,["model"]);r!=null&&T(n,["_url","model"],kr(t,r));const i=v(e,["prompt"]);i!=null&&T(n,["instances[0]","prompt"],i);const s=v(e,["config"]);return s!=null&&_ie(s,n),n}function Eie(t,e){const n={},r=v(e,["model"]);r!=null&&T(n,["_url","model"],kr(t,r));const i=v(e,["prompt"]);i!=null&&T(n,["instances[0]","prompt"],i);const s=v(e,["config"]);return s!=null&&wie(s,n),n}function Sie(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&T(e,["sdkHttpResponse"],n);const r=v(t,["predictions"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>Oie(a))),T(e,["generatedImages"],s)}const i=v(t,["positivePromptSafetyAttributes"]);return i!=null&&T(e,["positivePromptSafetyAttributes"],Z7(i)),e}function Aie(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&T(e,["sdkHttpResponse"],n);const r=v(t,["predictions"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>Iv(a))),T(e,["generatedImages"],s)}const i=v(t,["positivePromptSafetyAttributes"]);return i!=null&&T(e,["positivePromptSafetyAttributes"],eO(i)),e}function Nie(t,e){const n={},r=v(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&T(e,["parameters","sampleCount"],r),v(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(v(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=v(t,["durationSeconds"]);if(e!==void 0&&i!=null&&T(e,["parameters","durationSeconds"],i),v(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=v(t,["aspectRatio"]);e!==void 0&&s!=null&&T(e,["parameters","aspectRatio"],s);const a=v(t,["resolution"]);e!==void 0&&a!=null&&T(e,["parameters","resolution"],a);const o=v(t,["personGeneration"]);if(e!==void 0&&o!=null&&T(e,["parameters","personGeneration"],o),v(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const c=v(t,["negativePrompt"]);e!==void 0&&c!=null&&T(e,["parameters","negativePrompt"],c);const f=v(t,["enhancePrompt"]);if(e!==void 0&&f!=null&&T(e,["parameters","enhancePrompt"],f),v(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const d=v(t,["lastFrame"]);e!==void 0&&d!=null&&T(e,["instances[0]","lastFrame"],kv(d));const m=v(t,["referenceImages"]);if(e!==void 0&&m!=null){let g=m;Array.isArray(g)&&(g=g.map(y=>Ise(y))),T(e,["instances[0]","referenceImages"],g)}if(v(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(v(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function Cie(t,e){const n={},r=v(t,["numberOfVideos"]);e!==void 0&&r!=null&&T(e,["parameters","sampleCount"],r);const i=v(t,["outputGcsUri"]);e!==void 0&&i!=null&&T(e,["parameters","storageUri"],i);const s=v(t,["fps"]);e!==void 0&&s!=null&&T(e,["parameters","fps"],s);const a=v(t,["durationSeconds"]);e!==void 0&&a!=null&&T(e,["parameters","durationSeconds"],a);const o=v(t,["seed"]);e!==void 0&&o!=null&&T(e,["parameters","seed"],o);const c=v(t,["aspectRatio"]);e!==void 0&&c!=null&&T(e,["parameters","aspectRatio"],c);const f=v(t,["resolution"]);e!==void 0&&f!=null&&T(e,["parameters","resolution"],f);const d=v(t,["personGeneration"]);e!==void 0&&d!=null&&T(e,["parameters","personGeneration"],d);const m=v(t,["pubsubTopic"]);e!==void 0&&m!=null&&T(e,["parameters","pubsubTopic"],m);const g=v(t,["negativePrompt"]);e!==void 0&&g!=null&&T(e,["parameters","negativePrompt"],g);const y=v(t,["enhancePrompt"]);e!==void 0&&y!=null&&T(e,["parameters","enhancePrompt"],y);const E=v(t,["generateAudio"]);e!==void 0&&E!=null&&T(e,["parameters","generateAudio"],E);const _=v(t,["lastFrame"]);e!==void 0&&_!=null&&T(e,["instances[0]","lastFrame"],ec(_));const A=v(t,["referenceImages"]);if(e!==void 0&&A!=null){let R=A;Array.isArray(R)&&(R=R.map(F=>kse(F))),T(e,["instances[0]","referenceImages"],R)}const C=v(t,["mask"]);e!==void 0&&C!=null&&T(e,["instances[0]","mask"],Cse(C));const V=v(t,["compressionQuality"]);return e!==void 0&&V!=null&&T(e,["parameters","compressionQuality"],V),n}function Iie(t){const e={},n=v(t,["name"]);n!=null&&T(e,["name"],n);const r=v(t,["metadata"]);r!=null&&T(e,["metadata"],r);const i=v(t,["done"]);i!=null&&T(e,["done"],i);const s=v(t,["error"]);s!=null&&T(e,["error"],s);const a=v(t,["response","generateVideoResponse"]);return a!=null&&T(e,["response"],Die(a)),e}function kie(t){const e={},n=v(t,["name"]);n!=null&&T(e,["name"],n);const r=v(t,["metadata"]);r!=null&&T(e,["metadata"],r);const i=v(t,["done"]);i!=null&&T(e,["done"],i);const s=v(t,["error"]);s!=null&&T(e,["error"],s);const a=v(t,["response"]);return a!=null&&T(e,["response"],Mie(a)),e}function Rie(t,e){const n={},r=v(e,["model"]);r!=null&&T(n,["_url","model"],kr(t,r));const i=v(e,["prompt"]);i!=null&&T(n,["instances[0]","prompt"],i);const s=v(e,["image"]);s!=null&&T(n,["instances[0]","image"],kv(s));const a=v(e,["video"]);a!=null&&T(n,["instances[0]","video"],rO(a));const o=v(e,["source"]);o!=null&&Lie(o,n);const c=v(e,["config"]);return c!=null&&Nie(c,n),n}function Pie(t,e){const n={},r=v(e,["model"]);r!=null&&T(n,["_url","model"],kr(t,r));const i=v(e,["prompt"]);i!=null&&T(n,["instances[0]","prompt"],i);const s=v(e,["image"]);s!=null&&T(n,["instances[0]","image"],ec(s));const a=v(e,["video"]);a!=null&&T(n,["instances[0]","video"],iO(a));const o=v(e,["source"]);o!=null&&Fie(o,n);const c=v(e,["config"]);return c!=null&&Cie(c,n),n}function Die(t){const e={},n=v(t,["generatedSamples"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>Vie(a))),T(e,["generatedVideos"],s)}const r=v(t,["raiMediaFilteredCount"]);r!=null&&T(e,["raiMediaFilteredCount"],r);const i=v(t,["raiMediaFilteredReasons"]);return i!=null&&T(e,["raiMediaFilteredReasons"],i),e}function Mie(t){const e={},n=v(t,["videos"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>Uie(a))),T(e,["generatedVideos"],s)}const r=v(t,["raiMediaFilteredCount"]);r!=null&&T(e,["raiMediaFilteredCount"],r);const i=v(t,["raiMediaFilteredReasons"]);return i!=null&&T(e,["raiMediaFilteredReasons"],i),e}function Lie(t,e){const n={},r=v(t,["prompt"]);e!==void 0&&r!=null&&T(e,["instances[0]","prompt"],r);const i=v(t,["image"]);e!==void 0&&i!=null&&T(e,["instances[0]","image"],kv(i));const s=v(t,["video"]);return e!==void 0&&s!=null&&T(e,["instances[0]","video"],rO(s)),n}function Fie(t,e){const n={},r=v(t,["prompt"]);e!==void 0&&r!=null&&T(e,["instances[0]","prompt"],r);const i=v(t,["image"]);e!==void 0&&i!=null&&T(e,["instances[0]","image"],ec(i));const s=v(t,["video"]);return e!==void 0&&s!=null&&T(e,["instances[0]","video"],iO(s)),n}function Oie(t){const e={},n=v(t,["_self"]);n!=null&&T(e,["image"],Kie(n));const r=v(t,["raiFilteredReason"]);r!=null&&T(e,["raiFilteredReason"],r);const i=v(t,["_self"]);return i!=null&&T(e,["safetyAttributes"],Z7(i)),e}function Iv(t){const e={},n=v(t,["_self"]);n!=null&&T(e,["image"],Q7(n));const r=v(t,["raiFilteredReason"]);r!=null&&T(e,["raiFilteredReason"],r);const i=v(t,["_self"]);i!=null&&T(e,["safetyAttributes"],eO(i));const s=v(t,["prompt"]);return s!=null&&T(e,["enhancedPrompt"],s),e}function Bie(t){const e={},n=v(t,["_self"]);n!=null&&T(e,["mask"],Q7(n));const r=v(t,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),T(e,["labels"],i)}return e}function Vie(t){const e={},n=v(t,["video"]);return n!=null&&T(e,["video"],Ase(n)),e}function Uie(t){const e={},n=v(t,["_self"]);return n!=null&&T(e,["video"],Nse(n)),e}function jie(t){const e={},n=v(t,["modelSelectionConfig"]);n!=null&&T(e,["modelConfig"],n);const r=v(t,["responseJsonSchema"]);r!=null&&T(e,["responseJsonSchema"],r);const i=v(t,["audioTimestamp"]);i!=null&&T(e,["audioTimestamp"],i);const s=v(t,["candidateCount"]);s!=null&&T(e,["candidateCount"],s);const a=v(t,["enableAffectiveDialog"]);a!=null&&T(e,["enableAffectiveDialog"],a);const o=v(t,["frequencyPenalty"]);o!=null&&T(e,["frequencyPenalty"],o);const c=v(t,["logprobs"]);c!=null&&T(e,["logprobs"],c);const f=v(t,["maxOutputTokens"]);f!=null&&T(e,["maxOutputTokens"],f);const d=v(t,["mediaResolution"]);d!=null&&T(e,["mediaResolution"],d);const m=v(t,["presencePenalty"]);m!=null&&T(e,["presencePenalty"],m);const g=v(t,["responseLogprobs"]);g!=null&&T(e,["responseLogprobs"],g);const y=v(t,["responseMimeType"]);y!=null&&T(e,["responseMimeType"],y);const E=v(t,["responseModalities"]);E!=null&&T(e,["responseModalities"],E);const _=v(t,["responseSchema"]);_!=null&&T(e,["responseSchema"],_);const A=v(t,["routingConfig"]);A!=null&&T(e,["routingConfig"],A);const C=v(t,["seed"]);C!=null&&T(e,["seed"],C);const V=v(t,["speechConfig"]);V!=null&&T(e,["speechConfig"],tO(V));const R=v(t,["stopSequences"]);R!=null&&T(e,["stopSequences"],R);const F=v(t,["temperature"]);F!=null&&T(e,["temperature"],F);const z=v(t,["thinkingConfig"]);z!=null&&T(e,["thinkingConfig"],z);const W=v(t,["topK"]);W!=null&&T(e,["topK"],W);const D=v(t,["topP"]);if(D!=null&&T(e,["topP"],D),v(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function qie(t,e){const n={},r=v(e,["model"]);return r!=null&&T(n,["_url","name"],kr(t,r)),n}function Hie(t,e){const n={},r=v(e,["model"]);return r!=null&&T(n,["_url","name"],kr(t,r)),n}function zie(t){const e={};if(v(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=v(t,["enableWidget"]);return n!=null&&T(e,["enableWidget"],n),e}function Gie(t){const e={};if(v(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(v(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=v(t,["timeRangeFilter"]);return n!=null&&T(e,["timeRangeFilter"],n),e}function Wie(t){const e={},n=v(t,["aspectRatio"]);n!=null&&T(e,["aspectRatio"],n);const r=v(t,["imageSize"]);if(r!=null&&T(e,["imageSize"],r),v(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(v(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function $ie(t){const e={},n=v(t,["aspectRatio"]);n!=null&&T(e,["aspectRatio"],n);const r=v(t,["imageSize"]);r!=null&&T(e,["imageSize"],r);const i=v(t,["outputMimeType"]);i!=null&&T(e,["imageOutputOptions","mimeType"],i);const s=v(t,["outputCompressionQuality"]);return s!=null&&T(e,["imageOutputOptions","compressionQuality"],s),e}function Kie(t){const e={},n=v(t,["bytesBase64Encoded"]);n!=null&&T(e,["imageBytes"],fd(n));const r=v(t,["mimeType"]);return r!=null&&T(e,["mimeType"],r),e}function Q7(t){const e={},n=v(t,["gcsUri"]);n!=null&&T(e,["gcsUri"],n);const r=v(t,["bytesBase64Encoded"]);r!=null&&T(e,["imageBytes"],fd(r));const i=v(t,["mimeType"]);return i!=null&&T(e,["mimeType"],i),e}function kv(t){const e={};if(v(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=v(t,["imageBytes"]);n!=null&&T(e,["bytesBase64Encoded"],fd(n));const r=v(t,["mimeType"]);return r!=null&&T(e,["mimeType"],r),e}function ec(t){const e={},n=v(t,["gcsUri"]);n!=null&&T(e,["gcsUri"],n);const r=v(t,["imageBytes"]);r!=null&&T(e,["bytesBase64Encoded"],fd(r));const i=v(t,["mimeType"]);return i!=null&&T(e,["mimeType"],i),e}function Yie(t,e,n){const r={},i=v(e,["pageSize"]);n!==void 0&&i!=null&&T(n,["_query","pageSize"],i);const s=v(e,["pageToken"]);n!==void 0&&s!=null&&T(n,["_query","pageToken"],s);const a=v(e,["filter"]);n!==void 0&&a!=null&&T(n,["_query","filter"],a);const o=v(e,["queryBase"]);return n!==void 0&&o!=null&&T(n,["_url","models_url"],z7(t,o)),r}function Xie(t,e,n){const r={},i=v(e,["pageSize"]);n!==void 0&&i!=null&&T(n,["_query","pageSize"],i);const s=v(e,["pageToken"]);n!==void 0&&s!=null&&T(n,["_query","pageToken"],s);const a=v(e,["filter"]);n!==void 0&&a!=null&&T(n,["_query","filter"],a);const o=v(e,["queryBase"]);return n!==void 0&&o!=null&&T(n,["_url","models_url"],z7(t,o)),r}function Jie(t,e){const n={},r=v(e,["config"]);return r!=null&&Yie(t,r,n),n}function Qie(t,e){const n={},r=v(e,["config"]);return r!=null&&Xie(t,r,n),n}function Zie(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&T(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&T(e,["nextPageToken"],r);const i=v(t,["_self"]);if(i!=null){let s=G7(i);Array.isArray(s)&&(s=s.map(a=>W5(a))),T(e,["models"],s)}return e}function ese(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&T(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&T(e,["nextPageToken"],r);const i=v(t,["_self"]);if(i!=null){let s=G7(i);Array.isArray(s)&&(s=s.map(a=>$5(a))),T(e,["models"],s)}return e}function tse(t){const e={},n=v(t,["maskMode"]);n!=null&&T(e,["maskMode"],n);const r=v(t,["segmentationClasses"]);r!=null&&T(e,["maskClasses"],r);const i=v(t,["maskDilation"]);return i!=null&&T(e,["dilation"],i),e}function W5(t){const e={},n=v(t,["name"]);n!=null&&T(e,["name"],n);const r=v(t,["displayName"]);r!=null&&T(e,["displayName"],r);const i=v(t,["description"]);i!=null&&T(e,["description"],i);const s=v(t,["version"]);s!=null&&T(e,["version"],s);const a=v(t,["_self"]);a!=null&&T(e,["tunedModelInfo"],xse(a));const o=v(t,["inputTokenLimit"]);o!=null&&T(e,["inputTokenLimit"],o);const c=v(t,["outputTokenLimit"]);c!=null&&T(e,["outputTokenLimit"],c);const f=v(t,["supportedGenerationMethods"]);f!=null&&T(e,["supportedActions"],f);const d=v(t,["temperature"]);d!=null&&T(e,["temperature"],d);const m=v(t,["maxTemperature"]);m!=null&&T(e,["maxTemperature"],m);const g=v(t,["topP"]);g!=null&&T(e,["topP"],g);const y=v(t,["topK"]);y!=null&&T(e,["topK"],y);const E=v(t,["thinking"]);return E!=null&&T(e,["thinking"],E),e}function $5(t){const e={},n=v(t,["name"]);n!=null&&T(e,["name"],n);const r=v(t,["displayName"]);r!=null&&T(e,["displayName"],r);const i=v(t,["description"]);i!=null&&T(e,["description"],i);const s=v(t,["versionId"]);s!=null&&T(e,["version"],s);const a=v(t,["deployedModels"]);if(a!=null){let m=a;Array.isArray(m)&&(m=m.map(g=>pie(g))),T(e,["endpoints"],m)}const o=v(t,["labels"]);o!=null&&T(e,["labels"],o);const c=v(t,["_self"]);c!=null&&T(e,["tunedModelInfo"],yse(c));const f=v(t,["defaultCheckpointId"]);f!=null&&T(e,["defaultCheckpointId"],f);const d=v(t,["checkpoints"]);if(d!=null){let m=d;Array.isArray(m)&&(m=m.map(g=>g)),T(e,["checkpoints"],m)}return e}function nse(t){const e={},n=v(t,["mediaResolution"]);n!=null&&T(e,["mediaResolution"],n);const r=v(t,["codeExecutionResult"]);r!=null&&T(e,["codeExecutionResult"],r);const i=v(t,["executableCode"]);i!=null&&T(e,["executableCode"],i);const s=v(t,["fileData"]);s!=null&&T(e,["fileData"],mie(s));const a=v(t,["functionCall"]);a!=null&&T(e,["functionCall"],gie(a));const o=v(t,["functionResponse"]);o!=null&&T(e,["functionResponse"],o);const c=v(t,["inlineData"]);c!=null&&T(e,["inlineData"],jre(c));const f=v(t,["text"]);f!=null&&T(e,["text"],f);const d=v(t,["thought"]);d!=null&&T(e,["thought"],d);const m=v(t,["thoughtSignature"]);m!=null&&T(e,["thoughtSignature"],m);const g=v(t,["videoMetadata"]);return g!=null&&T(e,["videoMetadata"],g),e}function rse(t){const e={},n=v(t,["productImage"]);return n!=null&&T(e,["image"],ec(n)),e}function ise(t,e){const n={},r=v(t,["numberOfImages"]);e!==void 0&&r!=null&&T(e,["parameters","sampleCount"],r);const i=v(t,["baseSteps"]);e!==void 0&&i!=null&&T(e,["parameters","baseSteps"],i);const s=v(t,["outputGcsUri"]);e!==void 0&&s!=null&&T(e,["parameters","storageUri"],s);const a=v(t,["seed"]);e!==void 0&&a!=null&&T(e,["parameters","seed"],a);const o=v(t,["safetyFilterLevel"]);e!==void 0&&o!=null&&T(e,["parameters","safetySetting"],o);const c=v(t,["personGeneration"]);e!==void 0&&c!=null&&T(e,["parameters","personGeneration"],c);const f=v(t,["addWatermark"]);e!==void 0&&f!=null&&T(e,["parameters","addWatermark"],f);const d=v(t,["outputMimeType"]);e!==void 0&&d!=null&&T(e,["parameters","outputOptions","mimeType"],d);const m=v(t,["outputCompressionQuality"]);e!==void 0&&m!=null&&T(e,["parameters","outputOptions","compressionQuality"],m);const g=v(t,["enhancePrompt"]);e!==void 0&&g!=null&&T(e,["parameters","enhancePrompt"],g);const y=v(t,["labels"]);return e!==void 0&&y!=null&&T(e,["labels"],y),n}function sse(t,e){const n={},r=v(e,["model"]);r!=null&&T(n,["_url","model"],kr(t,r));const i=v(e,["source"]);i!=null&&ose(i,n);const s=v(e,["config"]);return s!=null&&ise(s,n),n}function ase(t){const e={},n=v(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Iv(i))),T(e,["generatedImages"],r)}return e}function ose(t,e){const n={},r=v(t,["prompt"]);e!==void 0&&r!=null&&T(e,["instances[0]","prompt"],r);const i=v(t,["personImage"]);e!==void 0&&i!=null&&T(e,["instances[0]","personImage","image"],ec(i));const s=v(t,["productImages"]);if(e!==void 0&&s!=null){let a=s;Array.isArray(a)&&(a=a.map(o=>rse(o))),T(e,["instances[0]","productImages"],a)}return n}function lse(t){const e={},n=v(t,["referenceImage"]);n!=null&&T(e,["referenceImage"],ec(n));const r=v(t,["referenceId"]);r!=null&&T(e,["referenceId"],r);const i=v(t,["referenceType"]);i!=null&&T(e,["referenceType"],i);const s=v(t,["maskImageConfig"]);s!=null&&T(e,["maskImageConfig"],tse(s));const a=v(t,["controlImageConfig"]);a!=null&&T(e,["controlImageConfig"],Kre(a));const o=v(t,["styleImageConfig"]);o!=null&&T(e,["styleImageConfig"],o);const c=v(t,["subjectImageConfig"]);return c!=null&&T(e,["subjectImageConfig"],c),e}function Z7(t){const e={},n=v(t,["safetyAttributes","categories"]);n!=null&&T(e,["categories"],n);const r=v(t,["safetyAttributes","scores"]);r!=null&&T(e,["scores"],r);const i=v(t,["contentType"]);return i!=null&&T(e,["contentType"],i),e}function eO(t){const e={},n=v(t,["safetyAttributes","categories"]);n!=null&&T(e,["categories"],n);const r=v(t,["safetyAttributes","scores"]);r!=null&&T(e,["scores"],r);const i=v(t,["contentType"]);return i!=null&&T(e,["contentType"],i),e}function cse(t){const e={},n=v(t,["category"]);if(n!=null&&T(e,["category"],n),v(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=v(t,["threshold"]);return r!=null&&T(e,["threshold"],r),e}function use(t){const e={},n=v(t,["image"]);return n!=null&&T(e,["image"],ec(n)),e}function fse(t,e){const n={},r=v(t,["mode"]);e!==void 0&&r!=null&&T(e,["parameters","mode"],r);const i=v(t,["maxPredictions"]);e!==void 0&&i!=null&&T(e,["parameters","maxPredictions"],i);const s=v(t,["confidenceThreshold"]);e!==void 0&&s!=null&&T(e,["parameters","confidenceThreshold"],s);const a=v(t,["maskDilation"]);e!==void 0&&a!=null&&T(e,["parameters","maskDilation"],a);const o=v(t,["binaryColorThreshold"]);e!==void 0&&o!=null&&T(e,["parameters","binaryColorThreshold"],o);const c=v(t,["labels"]);return e!==void 0&&c!=null&&T(e,["labels"],c),n}function dse(t,e){const n={},r=v(e,["model"]);r!=null&&T(n,["_url","model"],kr(t,r));const i=v(e,["source"]);i!=null&&pse(i,n);const s=v(e,["config"]);return s!=null&&fse(s,n),n}function hse(t){const e={},n=v(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Bie(i))),T(e,["generatedMasks"],r)}return e}function pse(t,e){const n={},r=v(t,["prompt"]);e!==void 0&&r!=null&&T(e,["instances[0]","prompt"],r);const i=v(t,["image"]);e!==void 0&&i!=null&&T(e,["instances[0]","image"],ec(i));const s=v(t,["scribbleImage"]);return e!==void 0&&s!=null&&T(e,["instances[0]","scribble"],use(s)),n}function tO(t){const e={},n=v(t,["languageCode"]);n!=null&&T(e,["languageCode"],n);const r=v(t,["voiceConfig"]);if(r!=null&&T(e,["voiceConfig"],r),v(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function mse(t){const e={},n=v(t,["functionCallingConfig"]);n!=null&&T(e,["functionCallingConfig"],xie(n));const r=v(t,["retrievalConfig"]);return r!=null&&T(e,["retrievalConfig"],r),e}function gse(t){const e={},n=v(t,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(m=>m)),T(e,["functionDeclarations"],d)}if(v(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=v(t,["googleSearchRetrieval"]);r!=null&&T(e,["googleSearchRetrieval"],r);const i=v(t,["computerUse"]);i!=null&&T(e,["computerUse"],i);const s=v(t,["fileSearch"]);s!=null&&T(e,["fileSearch"],s);const a=v(t,["codeExecution"]);if(a!=null&&T(e,["codeExecution"],a),v(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=v(t,["googleMaps"]);o!=null&&T(e,["googleMaps"],zie(o));const c=v(t,["googleSearch"]);c!=null&&T(e,["googleSearch"],Gie(c));const f=v(t,["urlContext"]);return f!=null&&T(e,["urlContext"],f),e}function nO(t){const e={},n=v(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(g=>yie(g))),T(e,["functionDeclarations"],m)}const r=v(t,["retrieval"]);r!=null&&T(e,["retrieval"],r);const i=v(t,["googleSearchRetrieval"]);i!=null&&T(e,["googleSearchRetrieval"],i);const s=v(t,["computerUse"]);if(s!=null&&T(e,["computerUse"],s),v(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=v(t,["codeExecution"]);a!=null&&T(e,["codeExecution"],a);const o=v(t,["enterpriseWebSearch"]);o!=null&&T(e,["enterpriseWebSearch"],o);const c=v(t,["googleMaps"]);c!=null&&T(e,["googleMaps"],c);const f=v(t,["googleSearch"]);f!=null&&T(e,["googleSearch"],f);const d=v(t,["urlContext"]);return d!=null&&T(e,["urlContext"],d),e}function xse(t){const e={},n=v(t,["baseModel"]);n!=null&&T(e,["baseModel"],n);const r=v(t,["createTime"]);r!=null&&T(e,["createTime"],r);const i=v(t,["updateTime"]);return i!=null&&T(e,["updateTime"],i),e}function yse(t){const e={},n=v(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&T(e,["baseModel"],n);const r=v(t,["createTime"]);r!=null&&T(e,["createTime"],r);const i=v(t,["updateTime"]);return i!=null&&T(e,["updateTime"],i),e}function vse(t,e){const n={},r=v(t,["displayName"]);e!==void 0&&r!=null&&T(e,["displayName"],r);const i=v(t,["description"]);e!==void 0&&i!=null&&T(e,["description"],i);const s=v(t,["defaultCheckpointId"]);return e!==void 0&&s!=null&&T(e,["defaultCheckpointId"],s),n}function bse(t,e){const n={},r=v(t,["displayName"]);e!==void 0&&r!=null&&T(e,["displayName"],r);const i=v(t,["description"]);e!==void 0&&i!=null&&T(e,["description"],i);const s=v(t,["defaultCheckpointId"]);return e!==void 0&&s!=null&&T(e,["defaultCheckpointId"],s),n}function _se(t,e){const n={},r=v(e,["model"]);r!=null&&T(n,["_url","name"],kr(t,r));const i=v(e,["config"]);return i!=null&&vse(i,n),n}function wse(t,e){const n={},r=v(e,["model"]);r!=null&&T(n,["_url","model"],kr(t,r));const i=v(e,["config"]);return i!=null&&bse(i,n),n}function Tse(t,e){const n={},r=v(t,["outputGcsUri"]);e!==void 0&&r!=null&&T(e,["parameters","storageUri"],r);const i=v(t,["safetyFilterLevel"]);e!==void 0&&i!=null&&T(e,["parameters","safetySetting"],i);const s=v(t,["personGeneration"]);e!==void 0&&s!=null&&T(e,["parameters","personGeneration"],s);const a=v(t,["includeRaiReason"]);e!==void 0&&a!=null&&T(e,["parameters","includeRaiReason"],a);const o=v(t,["outputMimeType"]);e!==void 0&&o!=null&&T(e,["parameters","outputOptions","mimeType"],o);const c=v(t,["outputCompressionQuality"]);e!==void 0&&c!=null&&T(e,["parameters","outputOptions","compressionQuality"],c);const f=v(t,["enhanceInputImage"]);e!==void 0&&f!=null&&T(e,["parameters","upscaleConfig","enhanceInputImage"],f);const d=v(t,["imagePreservationFactor"]);e!==void 0&&d!=null&&T(e,["parameters","upscaleConfig","imagePreservationFactor"],d);const m=v(t,["labels"]);e!==void 0&&m!=null&&T(e,["labels"],m);const g=v(t,["numberOfImages"]);e!==void 0&&g!=null&&T(e,["parameters","sampleCount"],g);const y=v(t,["mode"]);return e!==void 0&&y!=null&&T(e,["parameters","mode"],y),n}function Ese(t,e){const n={},r=v(e,["model"]);r!=null&&T(n,["_url","model"],kr(t,r));const i=v(e,["image"]);i!=null&&T(n,["instances[0]","image"],ec(i));const s=v(e,["upscaleFactor"]);s!=null&&T(n,["parameters","upscaleConfig","upscaleFactor"],s);const a=v(e,["config"]);return a!=null&&Tse(a,n),n}function Sse(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&T(e,["sdkHttpResponse"],n);const r=v(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>Iv(s))),T(e,["generatedImages"],i)}return e}function Ase(t){const e={},n=v(t,["uri"]);n!=null&&T(e,["uri"],n);const r=v(t,["encodedVideo"]);r!=null&&T(e,["videoBytes"],fd(r));const i=v(t,["encoding"]);return i!=null&&T(e,["mimeType"],i),e}function Nse(t){const e={},n=v(t,["gcsUri"]);n!=null&&T(e,["uri"],n);const r=v(t,["bytesBase64Encoded"]);r!=null&&T(e,["videoBytes"],fd(r));const i=v(t,["mimeType"]);return i!=null&&T(e,["mimeType"],i),e}function Cse(t){const e={},n=v(t,["image"]);n!=null&&T(e,["_self"],ec(n));const r=v(t,["maskMode"]);return r!=null&&T(e,["maskMode"],r),e}function Ise(t){const e={},n=v(t,["image"]);n!=null&&T(e,["image"],kv(n));const r=v(t,["referenceType"]);return r!=null&&T(e,["referenceType"],r),e}function kse(t){const e={},n=v(t,["image"]);n!=null&&T(e,["image"],ec(n));const r=v(t,["referenceType"]);return r!=null&&T(e,["referenceType"],r),e}function rO(t){const e={},n=v(t,["uri"]);n!=null&&T(e,["uri"],n);const r=v(t,["videoBytes"]);r!=null&&T(e,["encodedVideo"],fd(r));const i=v(t,["mimeType"]);return i!=null&&T(e,["encoding"],i),e}function iO(t){const e={},n=v(t,["uri"]);n!=null&&T(e,["gcsUri"],n);const r=v(t,["videoBytes"]);r!=null&&T(e,["bytesBase64Encoded"],fd(r));const i=v(t,["mimeType"]);return i!=null&&T(e,["mimeType"],i),e}const Rse="Content-Type",Pse="X-Server-Timeout",Dse="User-Agent",K5="x-goog-api-client",Mse="1.30.0",Lse=`google-genai-sdk/${Mse}`,Fse="v1beta1",Ose="v1beta",f6=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class Bse{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:Fse,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:Ose,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[a,o]of Object.entries(e.queryParams))i.searchParams.append(a,String(o));let s={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else s.body=e.body;return s=await this.includeExtraHttpOptionsToRequestInit(s,n,i.toString(),e.abortSignal),this.unaryApiCall(i,s,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,s]of Object.entries(n))typeof s=="object"?r[i]=Object.assign(Object.assign({},r[i]),s):s!==void 0&&(r[i]=s);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let s={};return s.body=e.body,s=await this.includeExtraHttpOptionsToRequestInit(s,n,i.toString(),e.abortSignal),this.streamApiCall(i,s,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,i){if(n&&n.timeout||i){const s=new AbortController,a=s.signal;if(n.timeout&&n?.timeout>0){const o=setTimeout(()=>s.abort(),n.timeout);o&&typeof o.unref=="function"&&o.unref()}i&&i.addEventListener("abort",()=>{s.abort()}),e.signal=a}return n&&n.extraBody!==null&&Vse(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await d6(i),new H5(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await d6(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){var n;return cp(this,arguments,function*(){const i=(n=e?.body)===null||n===void 0?void 0:n.getReader(),s=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let a="";for(;;){const{done:o,value:c}=yield hi(i.read());if(o){if(a.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const f=s.decode(c,{stream:!0});try{const m=JSON.parse(f);if("error"in m){const g=JSON.parse(JSON.stringify(m.error)),y=g.status,E=g.code,_=`got status: ${y}. ${JSON.stringify(m)}`;if(E>=400&&E<600)throw new Nv({message:_,status:E})}}catch(m){if(m.name==="ApiError")throw m}a+=f;let d=a.match(f6);for(;d;){const m=d[1];try{const g=new Response(m,{headers:e?.headers,status:e?.status,statusText:e?.statusText});yield yield hi(new H5(g)),a=a.slice(d[0].length),d=a.match(f6)}catch(g){throw new Error(`exception parsing stream chunk ${m}. ${g}`)}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=Lse+" "+this.clientOptions.userAgentExtra;return e[Dse]=n,e[K5]=n,e[Rse]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[i,s]of Object.entries(e.headers))r.append(i,s);e.timeout&&e.timeout>0&&r.append(Pse,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const s=this.clientOptions.uploader,a=await s.stat(e);i.sizeBytes=String(a.size);const o=(r=n?.mimeType)!==null&&r!==void 0?r:a.type;if(o===void 0||o==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=o;const c={file:i},f=this.getFileName(e),d=Ht("upload/v1beta/files",c._url),m=await this.fetchUploadUrl(d,i.sizeBytes,i.mimeType,f,c,n?.httpOptions);return s.upload(e,m,this)}async uploadFileToFileSearchStore(e,n,r){var i;const s=this.clientOptions.uploader,a=await s.stat(n),o=String(a.size),c=(i=r?.mimeType)!==null&&i!==void 0?i:a.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const f=`upload/v1beta/${e}:uploadToFileSearchStore`,d=this.getFileName(n),m={};r?.customMetadata&&(m.customMetadata=r.customMetadata),r?.chunkingConfig&&(m.chunkingConfig=r.chunkingConfig);const g=await this.fetchUploadUrl(f,o,c,d,m,r?.httpOptions);return s.uploadToFileSearchStore(n,g,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,i,s,a){var o;let c={};a?c=a:c={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const f=await this.request({path:e,body:JSON.stringify(s),httpMethod:"POST",httpOptions:c});if(!f||!f?.headers)throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const d=(o=f?.headers)===null||o===void 0?void 0:o["x-goog-upload-url"];if(d===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return d}}async function d6(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new Nv({message:i,status:n}):new Error(i)}}function Vse(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const s=JSON.parse(t.body);if(typeof s=="object"&&s!==null&&!Array.isArray(s))n=s;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(s,a){const o=Object.assign({},s);for(const c in a)if(Object.prototype.hasOwnProperty.call(a,c)){const f=a[c],d=o[c];f&&typeof f=="object"&&!Array.isArray(f)&&d&&typeof d=="object"&&!Array.isArray(d)?o[c]=r(d,f):(d&&f&&typeof d!=typeof f&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${c}". Original type: ${typeof d}, New type: ${typeof f}. Overwriting.`),o[c]=f)}return o}const i=r(n,e);t.body=JSON.stringify(i)}const Use="mcp_used/unknown";let jse=!1;function sO(t){for(const e of t)if(qse(e)||typeof e=="object"&&"inputSchema"in e)return!0;return jse}function aO(t){var e;const n=(e=t[K5])!==null&&e!==void 0?e:"";t[K5]=(n+` ${Use}`).trimStart()}function qse(t){return t!==null&&typeof t=="object"&&t instanceof gS}function Hse(t,e=100){return cp(this,arguments,function*(){let r,i=0;for(;i<e;){const s=yield hi(t.listTools({cursor:r}));for(const a of s.tools)yield yield hi(a),i++;if(!s.nextCursor)break;r=s.nextCursor}})}class gS{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new gS(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const s={},a=[];for(const d of this.mcpClients)try{for(var o=!0,c=(n=void 0,Tg(Hse(d))),f;f=await c.next(),e=f.done,!e;o=!0){i=f.value,o=!1;const m=i;a.push(m);const g=m.name;if(s[g])throw new Error(`Duplicate function name ${g} found in MCP tools. Please ensure function names are unique.`);s[g]=d}}catch(m){n={error:m}}finally{try{!o&&!e&&(r=c.return)&&await r.call(c)}finally{if(n)throw n.error}}this.mcpTools=a,this.functionNameToMcpClient=s}async tool(){return await this.initialize(),Lte(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let s;this.config.timeout&&(s={timeout:this.config.timeout});const a=await i.callTool({name:r.name,arguments:r.args},void 0,s);n.push({functionResponse:{name:r.name,response:a.isError?{error:a}:a}})}return n}}async function zse(t,e,n){const r=new Nte;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),e(r)}class Gse{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),s=this.apiClient.getApiVersion(),a=Kse(this.apiClient.getDefaultHeaders()),o=this.apiClient.getApiKey(),c=`${i}/ws/google.ai.generativelanguage.${s}.GenerativeService.BidiGenerateMusic?key=${o}`;let f=()=>{};const d=new Promise(R=>{f=R}),m=e.callbacks,g=function(){f({})},y=this.apiClient,E={onopen:g,onmessage:R=>{zse(y,m.onmessage,R)},onerror:(n=m?.onerror)!==null&&n!==void 0?n:function(R){},onclose:(r=m?.onclose)!==null&&r!==void 0?r:function(R){}},_=this.webSocketFactory.create(c,$se(a),E);_.connect(),await d;const V={setup:{model:kr(this.apiClient,e.model)}};return _.send(JSON.stringify(V)),new Wse(_,this.apiClient)}}class Wse{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=Pre(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=Rre(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(X0.PLAY)}pause(){this.sendPlaybackControl(X0.PAUSE)}stop(){this.sendPlaybackControl(X0.STOP)}resetContext(){this.sendPlaybackControl(X0.RESET_CONTEXT)}close(){this.conn.close()}}function $se(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function Kse(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}const Yse="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function Xse(t,e,n){const r=new Ate;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const s=JSON.parse(i);if(t.isVertexAI()){const a=Lre(s);Object.assign(r,a)}else Object.assign(r,s);e(r)}class Jse{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new Gse(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,s,a,o;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const c=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion();let d;const m=this.apiClient.getHeaders();e.config&&e.config.tools&&sO(e.config.tools)&&aO(m);const g=tae(m);if(this.apiClient.isVertexAI())d=`${c}/ws/google.cloud.aiplatform.${f}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(g,d);else{const k=this.apiClient.getApiKey();let q="BidiGenerateContent",P="key";k?.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),f!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),q="BidiGenerateContentConstrained",P="access_token"),d=`${c}/ws/google.ai.generativelanguage.${f}.GenerativeService.${q}?${P}=${k}`}let y=()=>{};const E=new Promise(k=>{y=k}),_=e.callbacks,A=function(){var k;(k=_?.onopen)===null||k===void 0||k.call(_),y({})},C=this.apiClient,V={onopen:A,onmessage:k=>{Xse(C,_.onmessage,k)},onerror:(n=_?.onerror)!==null&&n!==void 0?n:function(k){},onclose:(r=_?.onclose)!==null&&r!==void 0?r:function(k){}},R=this.webSocketFactory.create(d,eae(g),V);R.connect(),await E;let F=kr(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&F.startsWith("publishers/")){const k=this.apiClient.getProject(),q=this.apiClient.getLocation();F=`projects/${k}/locations/${q}/`+F}let z={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[n1.AUDIO]}:e.config.responseModalities=[n1.AUDIO]),!((s=e.config)===null||s===void 0)&&s.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const W=(o=(a=e.config)===null||a===void 0?void 0:a.tools)!==null&&o!==void 0?o:[],D=[];for(const k of W)if(this.isCallableTool(k)){const q=k;D.push(await q.tool())}else D.push(k);D.length>0&&(e.config.tools=D);const L={model:F,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?z=kre(this.apiClient,L):z=Ire(this.apiClient,L),delete z.config,R.send(JSON.stringify(z)),new Zse(R,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const Qse={turnComplete:!0};class Zse{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=gl(n.turns),e.isVertexAI()||(r=r.map(i=>Cv(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const s of r){if(typeof s!="object"||s===null||!("name"in s)||!("response"in s))throw new Error(`Could not parse function response, type '${typeof s}'.`);if(!e.isVertexAI()&&!("id"in s))throw new Error(Yse)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},Qse),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:Mre(e)}:n={realtimeInput:Dre(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function eae(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function tae(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}const h6=10;function p6(t){var e,n,r;if(!((e=t?.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const a of(n=t?.tools)!==null&&n!==void 0?n:[])if(up(a)){i=!0;break}if(!i)return!0;const s=(r=t?.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return s&&(s<0||!Number.isInteger(s))||s==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",s),!0):!1}function up(t){return"callTool"in t&&typeof t.callTool=="function"}function nae(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>up(i)))!==null&&r!==void 0?r:!1}function m6(t){var e;const n=[];return!((e=t?.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,i)=>{if(up(r))return;const s=r;s.functionDeclarations&&s.functionDeclarations.length>0&&n.push(i)}),n}function g6(t){var e;return!(!((e=t?.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}class rae extends Gu{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,s,a,o;const c=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!nae(n)||p6(n.config))return await this.generateContentInternal(c);const f=m6(n);if(f.length>0){const _=f.map(A=>`tools[${A}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${_}.`)}let d,m;const g=gl(c.contents),y=(s=(i=(r=c.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&s!==void 0?s:h6;let E=0;for(;E<y&&(d=await this.generateContentInternal(c),!(!d.functionCalls||d.functionCalls.length===0));){const _=d.candidates[0].content,A=[];for(const C of(o=(a=n.config)===null||a===void 0?void 0:a.tools)!==null&&o!==void 0?o:[])if(up(C)){const R=await C.callTool(d.functionCalls);A.push(...R)}E++,m={role:"user",parts:A},c.contents=gl(c.contents),c.contents.push(_),c.contents.push(m),g6(c.config)&&(g.push(_),g.push(m))}return g6(c.config)&&(d.automaticFunctionCallingHistory=g),d},this.generateContentStream=async n=>{var r,i,s,a,o;if(this.maybeMoveToResponseJsonSchem(n),p6(n.config)){const m=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(m)}const c=m6(n);if(c.length>0){const m=c.map(g=>`tools[${g}]`).join(", ");throw new Error(`Incompatible tools found at ${m}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const f=(s=(i=(r=n?.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||s===void 0?void 0:s.streamFunctionCallArguments,d=(o=(a=n?.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||o===void 0?void 0:o.disable;if(f&&!d)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let s;const a=[];if(r?.generatedImages)for(const c of r.generatedImages)c&&c?.safetyAttributes&&((i=c?.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?s=c?.safetyAttributes:a.push(c);let o;return s?o={generatedImages:a,positivePromptSafetyAttributes:s,sdkHttpResponse:r.sdkHttpResponse}:o={generatedImages:a,sdkHttpResponse:r.sdkHttpResponse},o}),this.list=async n=>{var r;const a={config:Object.assign(Object.assign({},{queryBase:!0}),n?.config)};if(this.apiClient.isVertexAI()&&!a.config.queryBase){if(!((r=a.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");a.config.filter="labels.tune-type:*"}return new Ch(Uu.PAGED_ITEM_MODELS,o=>this.listInternal(o),await this.listInternal(a),a)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,s,a,o,c;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((a=(s=n.source)===null||s===void 0?void 0:s.video)===null||a===void 0)&&a.uri&&(!((c=(o=n.source)===null||o===void 0?void 0:o.video)===null||c===void 0)&&c.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const s=(n=e.config)===null||n===void 0?void 0:n.tools;if(!s)return e;const a=await Promise.all(s.map(async c=>up(c)?await c.tool():c)),o={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:a})};if(o.config.tools=a,e.config&&e.config.tools&&sO(e.config.tools)){const c=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let f=Object.assign({},c);Object.keys(f).length===0&&(f=this.apiClient.getDefaultHeaders()),aO(f),o.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:f})}return o}async initAfcToolsMap(e){var n,r,i;const s=new Map;for(const a of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(up(a)){const o=a,c=await o.tool();for(const f of(i=c.functionDeclarations)!==null&&i!==void 0?i:[]){if(!f.name)throw new Error("Function declaration name is required.");if(s.has(f.name))throw new Error(`Duplicate tool declaration name: ${f.name}`);s.set(f.name,o)}}return s}async processAfcStream(e){var n,r,i;const s=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:h6;let a=!1,o=0;const c=await this.initAfcToolsMap(e);return(function(f,d,m){var g,y;return cp(this,arguments,function*(){for(var E,_,A,C;o<s;){a&&(o++,a=!1);const z=yield hi(f.processParamsMaybeAddMcpUsage(m)),W=yield hi(f.generateContentStreamInternal(z)),D=[],L=[];try{for(var V=!0,R=(_=void 0,Tg(W)),F;F=yield hi(R.next()),E=F.done,!E;V=!0){C=F.value,V=!1;const k=C;if(yield yield hi(k),k.candidates&&(!((g=k.candidates[0])===null||g===void 0)&&g.content)){L.push(k.candidates[0].content);for(const q of(y=k.candidates[0].content.parts)!==null&&y!==void 0?y:[])if(o<s&&q.functionCall){if(!q.functionCall.name)throw new Error("Function call name was not returned by the model.");if(d.has(q.functionCall.name)){const P=yield hi(d.get(q.functionCall.name).callTool([q.functionCall]));D.push(...P)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${d.keys()}, mising tool: ${q.functionCall.name}`)}}}}catch(k){_={error:k}}finally{try{!V&&!E&&(A=R.return)&&(yield hi(A.call(R)))}finally{if(_)throw _.error}}if(D.length>0){a=!0;const k=new Wm;k.candidates=[{content:{role:"user",parts:D}}],yield yield hi(k);const q=[];q.push(...L),q.push({role:"user",parts:D});const P=gl(m.contents).concat(q);m.contents=P}else break}})})(this,c,e)}async generateContentInternal(e){var n,r,i,s;let a,o="",c={};if(this.apiClient.isVertexAI()){const f=l6(this.apiClient,e);return o=Ht("{model}:generateContent",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const m=u6(d),g=new Wm;return Object.assign(g,m),g})}else{const f=o6(this.apiClient,e);return o=Ht("{model}:generateContent",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const m=c6(d),g=new Wm;return Object.assign(g,m),g})}}async generateContentStreamInternal(e){var n,r,i,s;let a,o="",c={};if(this.apiClient.isVertexAI()){const f=l6(this.apiClient,e);return o=Ht("{model}:streamGenerateContent?alt=sse",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.requestStream({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),a.then(function(m){return cp(this,arguments,function*(){var g,y,E,_;try{for(var A=!0,C=Tg(m),V;V=yield hi(C.next()),g=V.done,!g;A=!0){_=V.value,A=!1;const R=_,F=u6(yield hi(R.json()));F.sdkHttpResponse={headers:R.headers};const z=new Wm;Object.assign(z,F),yield yield hi(z)}}catch(R){y={error:R}}finally{try{!A&&!g&&(E=C.return)&&(yield hi(E.call(C)))}finally{if(y)throw y.error}}})})}else{const f=o6(this.apiClient,e);return o=Ht("{model}:streamGenerateContent?alt=sse",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.requestStream({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}),a.then(function(m){return cp(this,arguments,function*(){var g,y,E,_;try{for(var A=!0,C=Tg(m),V;V=yield hi(C.next()),g=V.done,!g;A=!0){_=V.value,A=!1;const R=_,F=c6(yield hi(R.json()));F.sdkHttpResponse={headers:R.headers};const z=new Wm;Object.assign(z,F),yield yield hi(z)}}catch(R){y={error:R}}finally{try{!A&&!g&&(E=C.return)&&(yield hi(E.call(C)))}finally{if(y)throw y.error}}})})}}async embedContent(e){var n,r,i,s;let a,o="",c={};if(this.apiClient.isVertexAI()){const f=fie(this.apiClient,e);return o=Ht("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const m=hie(d),g=new Gk;return Object.assign(g,m),g})}else{const f=uie(this.apiClient,e);return o=Ht("{model}:batchEmbedContents",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const m=die(d),g=new Gk;return Object.assign(g,m),g})}}async generateImagesInternal(e){var n,r,i,s;let a,o="",c={};if(this.apiClient.isVertexAI()){const f=Eie(this.apiClient,e);return o=Ht("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const m=Aie(d),g=new Wk;return Object.assign(g,m),g})}else{const f=Tie(this.apiClient,e);return o=Ht("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const m=Sie(d),g=new Wk;return Object.assign(g,m),g})}}async editImageInternal(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI()){const o=aie(this.apiClient,e);return s=Ht("{model}:predict",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),i.then(c=>{const f=oie(c),d=new mte;return Object.assign(d,f),d})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI()){const o=Ese(this.apiClient,e);return s=Ht("{model}:predict",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),i.then(c=>{const f=Sse(c),d=new gte;return Object.assign(d,f),d})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI()){const o=sse(this.apiClient,e);return s=Ht("{model}:predict",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=ase(c),d=new xte;return Object.assign(d,f),d})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI()){const o=dse(this.apiClient,e);return s=Ht("{model}:predict",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=hse(c),d=new yte;return Object.assign(d,f),d})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,s;let a,o="",c={};if(this.apiClient.isVertexAI()){const f=Hie(this.apiClient,e);return o=Ht("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>$5(d))}else{const f=qie(this.apiClient,e);return o=Ht("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a.then(d=>W5(d))}}async listInternal(e){var n,r,i,s;let a,o="",c={};if(this.apiClient.isVertexAI()){const f=Qie(this.apiClient,e);return o=Ht("{models_url}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const m=ese(d),g=new $k;return Object.assign(g,m),g})}else{const f=Jie(this.apiClient,e);return o=Ht("{models_url}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const m=Zie(d),g=new $k;return Object.assign(g,m),g})}}async update(e){var n,r,i,s;let a,o="",c={};if(this.apiClient.isVertexAI()){const f=wse(this.apiClient,e);return o=Ht("{model}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>$5(d))}else{const f=_se(this.apiClient,e);return o=Ht("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a.then(d=>W5(d))}}async delete(e){var n,r,i,s;let a,o="",c={};if(this.apiClient.isVertexAI()){const f=nie(this.apiClient,e);return o=Ht("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const m=iie(d),g=new Kk;return Object.assign(g,m),g})}else{const f=tie(this.apiClient,e);return o=Ht("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const m=rie(d),g=new Kk;return Object.assign(g,m),g})}}async countTokens(e){var n,r,i,s;let a,o="",c={};if(this.apiClient.isVertexAI()){const f=Qre(this.apiClient,e);return o=Ht("{model}:countTokens",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const m=eie(d),g=new Yk;return Object.assign(g,m),g})}else{const f=Jre(this.apiClient,e);return o=Ht("{model}:countTokens",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const m=Zre(d),g=new Yk;return Object.assign(g,m),g})}}async computeTokens(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI()){const o=zre(this.apiClient,e);return s=Ht("{model}:computeTokens",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),i.then(c=>{const f=Gre(c),d=new vte;return Object.assign(d,f),d})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,s;let a,o="",c={};if(this.apiClient.isVertexAI()){const f=Pie(this.apiClient,e);return o=Ht("{model}:predictLongRunning",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>{const m=kie(d),g=new S2;return Object.assign(g,m),g})}else{const f=Rie(this.apiClient,e);return o=Ht("{model}:predictLongRunning",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a.then(d=>{const m=Iie(d),g=new S2;return Object.assign(g,m),g})}}}class iae extends Gu{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let s;r&&"httpOptions"in r&&(s=r.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:s}});return n._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let s;r&&"httpOptions"in r&&(s=r.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:s}});return n._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,s;let a,o="",c={};if(this.apiClient.isVertexAI()){const f=cte(e);return o=Ht("{operationName}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a}else{const f=lte(e);return o=Ht("{operationName}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),a}}async fetchPredictVideosOperationInternal(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI()){const o=tte(e);return s=Ht("{resourceName}:fetchPredictOperation",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}function sae(t){const e={},n=v(t,["data"]);if(n!=null&&T(e,["data"],n),v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=v(t,["mimeType"]);return r!=null&&T(e,["mimeType"],r),e}function aae(t){const e={},n=v(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>mae(s))),T(e,["parts"],i)}const r=v(t,["role"]);return r!=null&&T(e,["role"],r),e}function oae(t,e,n){const r={},i=v(e,["expireTime"]);n!==void 0&&i!=null&&T(n,["expireTime"],i);const s=v(e,["newSessionExpireTime"]);n!==void 0&&s!=null&&T(n,["newSessionExpireTime"],s);const a=v(e,["uses"]);n!==void 0&&a!=null&&T(n,["uses"],a);const o=v(e,["liveConnectConstraints"]);n!==void 0&&o!=null&&T(n,["bidiGenerateContentSetup"],pae(t,o));const c=v(e,["lockAdditionalFields"]);return n!==void 0&&c!=null&&T(n,["fieldMask"],c),r}function lae(t,e){const n={},r=v(e,["config"]);return r!=null&&T(n,["config"],oae(t,r,n)),n}function cae(t){const e={};if(v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(t,["fileUri"]);n!=null&&T(e,["fileUri"],n);const r=v(t,["mimeType"]);return r!=null&&T(e,["mimeType"],r),e}function uae(t){const e={},n=v(t,["id"]);n!=null&&T(e,["id"],n);const r=v(t,["args"]);r!=null&&T(e,["args"],r);const i=v(t,["name"]);if(i!=null&&T(e,["name"],i),v(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(v(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function fae(t){const e={};if(v(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=v(t,["enableWidget"]);return n!=null&&T(e,["enableWidget"],n),e}function dae(t){const e={};if(v(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(v(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=v(t,["timeRangeFilter"]);return n!=null&&T(e,["timeRangeFilter"],n),e}function hae(t,e){const n={},r=v(t,["generationConfig"]);e!==void 0&&r!=null&&T(e,["setup","generationConfig"],r);const i=v(t,["responseModalities"]);e!==void 0&&i!=null&&T(e,["setup","generationConfig","responseModalities"],i);const s=v(t,["temperature"]);e!==void 0&&s!=null&&T(e,["setup","generationConfig","temperature"],s);const a=v(t,["topP"]);e!==void 0&&a!=null&&T(e,["setup","generationConfig","topP"],a);const o=v(t,["topK"]);e!==void 0&&o!=null&&T(e,["setup","generationConfig","topK"],o);const c=v(t,["maxOutputTokens"]);e!==void 0&&c!=null&&T(e,["setup","generationConfig","maxOutputTokens"],c);const f=v(t,["mediaResolution"]);e!==void 0&&f!=null&&T(e,["setup","generationConfig","mediaResolution"],f);const d=v(t,["seed"]);e!==void 0&&d!=null&&T(e,["setup","generationConfig","seed"],d);const m=v(t,["speechConfig"]);e!==void 0&&m!=null&&T(e,["setup","generationConfig","speechConfig"],mS(m));const g=v(t,["thinkingConfig"]);e!==void 0&&g!=null&&T(e,["setup","generationConfig","thinkingConfig"],g);const y=v(t,["enableAffectiveDialog"]);e!==void 0&&y!=null&&T(e,["setup","generationConfig","enableAffectiveDialog"],y);const E=v(t,["systemInstruction"]);e!==void 0&&E!=null&&T(e,["setup","systemInstruction"],aae(Na(E)));const _=v(t,["tools"]);if(e!==void 0&&_!=null){let W=Xp(_);Array.isArray(W)&&(W=W.map(D=>xae(Yp(D)))),T(e,["setup","tools"],W)}const A=v(t,["sessionResumption"]);e!==void 0&&A!=null&&T(e,["setup","sessionResumption"],gae(A));const C=v(t,["inputAudioTranscription"]);e!==void 0&&C!=null&&T(e,["setup","inputAudioTranscription"],C);const V=v(t,["outputAudioTranscription"]);e!==void 0&&V!=null&&T(e,["setup","outputAudioTranscription"],V);const R=v(t,["realtimeInputConfig"]);e!==void 0&&R!=null&&T(e,["setup","realtimeInputConfig"],R);const F=v(t,["contextWindowCompression"]);e!==void 0&&F!=null&&T(e,["setup","contextWindowCompression"],F);const z=v(t,["proactivity"]);return e!==void 0&&z!=null&&T(e,["setup","proactivity"],z),n}function pae(t,e){const n={},r=v(e,["model"]);r!=null&&T(n,["setup","model"],kr(t,r));const i=v(e,["config"]);return i!=null&&T(n,["config"],hae(i,n)),n}function mae(t){const e={},n=v(t,["mediaResolution"]);n!=null&&T(e,["mediaResolution"],n);const r=v(t,["codeExecutionResult"]);r!=null&&T(e,["codeExecutionResult"],r);const i=v(t,["executableCode"]);i!=null&&T(e,["executableCode"],i);const s=v(t,["fileData"]);s!=null&&T(e,["fileData"],cae(s));const a=v(t,["functionCall"]);a!=null&&T(e,["functionCall"],uae(a));const o=v(t,["functionResponse"]);o!=null&&T(e,["functionResponse"],o);const c=v(t,["inlineData"]);c!=null&&T(e,["inlineData"],sae(c));const f=v(t,["text"]);f!=null&&T(e,["text"],f);const d=v(t,["thought"]);d!=null&&T(e,["thought"],d);const m=v(t,["thoughtSignature"]);m!=null&&T(e,["thoughtSignature"],m);const g=v(t,["videoMetadata"]);return g!=null&&T(e,["videoMetadata"],g),e}function gae(t){const e={},n=v(t,["handle"]);if(n!=null&&T(e,["handle"],n),v(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function xae(t){const e={},n=v(t,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(m=>m)),T(e,["functionDeclarations"],d)}if(v(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=v(t,["googleSearchRetrieval"]);r!=null&&T(e,["googleSearchRetrieval"],r);const i=v(t,["computerUse"]);i!=null&&T(e,["computerUse"],i);const s=v(t,["fileSearch"]);s!=null&&T(e,["fileSearch"],s);const a=v(t,["codeExecution"]);if(a!=null&&T(e,["codeExecution"],a),v(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=v(t,["googleMaps"]);o!=null&&T(e,["googleMaps"],fae(o));const c=v(t,["googleSearch"]);c!=null&&T(e,["googleSearch"],dae(c));const f=v(t,["urlContext"]);return f!=null&&T(e,["urlContext"],f),e}function yae(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(s=>`${n}.${s}`);e.push(...i)}else e.push(n)}return e.join(",")}function vae(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const s=r.setup;typeof s=="object"&&s!==null?(t.bidiGenerateContentSetup=s,n=s):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const s=yae(n);if(Array.isArray(e?.lockAdditionalFields)&&e?.lockAdditionalFields.length===0)s?t.fieldMask=s:delete t.fieldMask;else if(e?.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const a=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let o=[];i.length>0&&(o=i.map(f=>a.includes(f)?`generationConfig.${f}`:f));const c=[];s&&c.push(s),o.length>0&&c.push(...o),c.length>0?t.fieldMask=c.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class bae extends Gu{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const o=lae(this.apiClient,e);s=Ht("auth_tokens",o._url),a=o._query,delete o.config,delete o._url,delete o._query;const c=vae(o,e.config);return i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>f)}}}function _ae(t,e){const n={},r=v(t,["displayName"]);return e!==void 0&&r!=null&&T(e,["displayName"],r),n}function wae(t){const e={},n=v(t,["config"]);return n!=null&&_ae(n,e),e}function Tae(t,e){const n={},r=v(t,["force"]);return e!==void 0&&r!=null&&T(e,["_query","force"],r),n}function Eae(t){const e={},n=v(t,["name"]);n!=null&&T(e,["_url","name"],n);const r=v(t,["config"]);return r!=null&&Tae(r,e),e}function Sae(t){const e={},n=v(t,["name"]);return n!=null&&T(e,["_url","name"],n),e}function Aae(t,e){const n={},r=v(t,["customMetadata"]);if(e!==void 0&&r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>a)),T(e,["customMetadata"],s)}const i=v(t,["chunkingConfig"]);return e!==void 0&&i!=null&&T(e,["chunkingConfig"],i),n}function Nae(t){const e={},n=v(t,["name"]);n!=null&&T(e,["name"],n);const r=v(t,["metadata"]);r!=null&&T(e,["metadata"],r);const i=v(t,["done"]);i!=null&&T(e,["done"],i);const s=v(t,["error"]);s!=null&&T(e,["error"],s);const a=v(t,["response"]);return a!=null&&T(e,["response"],Iae(a)),e}function Cae(t){const e={},n=v(t,["fileSearchStoreName"]);n!=null&&T(e,["_url","file_search_store_name"],n);const r=v(t,["fileName"]);r!=null&&T(e,["fileName"],r);const i=v(t,["config"]);return i!=null&&Aae(i,e),e}function Iae(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&T(e,["sdkHttpResponse"],n);const r=v(t,["parent"]);r!=null&&T(e,["parent"],r);const i=v(t,["documentName"]);return i!=null&&T(e,["documentName"],i),e}function kae(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&T(e,["_query","pageSize"],r);const i=v(t,["pageToken"]);return e!==void 0&&i!=null&&T(e,["_query","pageToken"],i),n}function Rae(t){const e={},n=v(t,["config"]);return n!=null&&kae(n,e),e}function Pae(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&T(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&T(e,["nextPageToken"],r);const i=v(t,["fileSearchStores"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>a)),T(e,["fileSearchStores"],s)}return e}function Dae(t,e){const n={},r=v(t,["mimeType"]);e!==void 0&&r!=null&&T(e,["mimeType"],r);const i=v(t,["displayName"]);e!==void 0&&i!=null&&T(e,["displayName"],i);const s=v(t,["customMetadata"]);if(e!==void 0&&s!=null){let o=s;Array.isArray(o)&&(o=o.map(c=>c)),T(e,["customMetadata"],o)}const a=v(t,["chunkingConfig"]);return e!==void 0&&a!=null&&T(e,["chunkingConfig"],a),n}function Mae(t){const e={},n=v(t,["fileSearchStoreName"]);n!=null&&T(e,["_url","file_search_store_name"],n);const r=v(t,["config"]);return r!=null&&Dae(r,e),e}function Lae(t){const e={},n=v(t,["sdkHttpResponse"]);return n!=null&&T(e,["sdkHttpResponse"],n),e}function Fae(t,e){const n={},r=v(t,["force"]);return e!==void 0&&r!=null&&T(e,["_query","force"],r),n}function Oae(t){const e={},n=v(t,["name"]);n!=null&&T(e,["_url","name"],n);const r=v(t,["config"]);return r!=null&&Fae(r,e),e}function Bae(t){const e={},n=v(t,["name"]);return n!=null&&T(e,["_url","name"],n),e}function Vae(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&T(e,["_query","pageSize"],r);const i=v(t,["pageToken"]);return e!==void 0&&i!=null&&T(e,["_query","pageToken"],i),n}function Uae(t){const e={},n=v(t,["parent"]);n!=null&&T(e,["_url","parent"],n);const r=v(t,["config"]);return r!=null&&Vae(r,e),e}function jae(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&T(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&T(e,["nextPageToken"],r);const i=v(t,["documents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>a)),T(e,["documents"],s)}return e}class qae extends Gu{constructor(e){super(),this.apiClient=e,this.list=async n=>new Ch(Uu.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Bae(e);return s=Ht("{name}",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(e){var n,r;let i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Oae(e);i=Ht("{name}",a._url),s=a._query,delete a._url,delete a._query,await this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Uae(e);return s=Ht("{parent}/documents",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=jae(c),d=new bte;return Object.assign(d,f),d})}}}class Hae extends Gu{constructor(e,n=new qae(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new Ch(Uu.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=wae(e);return s=Ht("fileSearchStores",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async get(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Sae(e);return s=Ht("{name}",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(e){var n,r;let i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Eae(e);i=Ht("{name}",a._url),s=a._query,delete a._url,delete a._query,await this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Rae(e);return s=Ht("fileSearchStores",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=Pae(c),d=new _te;return Object.assign(d,f),d})}}async uploadToFileSearchStoreInternal(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Mae(e);return s=Ht("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=Lae(c),d=new wte;return Object.assign(d,f),d})}}async importFile(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Cae(e);return s=Ht("{file_search_store_name}:importFile",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=Nae(c),d=new uS;return Object.assign(d,f),d})}}}function zae(t,e){const n={},r=v(t,["name"]);return r!=null&&T(n,["_url","name"],r),n}function Gae(t,e){const n={},r=v(t,["name"]);return r!=null&&T(n,["_url","name"],r),n}function Wae(t,e,n){const r={};if(v(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=v(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&T(e,["displayName"],i),v(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const s=v(t,["epochCount"]);e!==void 0&&s!=null&&T(e,["tuningTask","hyperparameters","epochCount"],s);const a=v(t,["learningRateMultiplier"]);if(a!=null&&T(r,["tuningTask","hyperparameters","learningRateMultiplier"],a),v(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(v(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(v(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const o=v(t,["batchSize"]);e!==void 0&&o!=null&&T(e,["tuningTask","hyperparameters","batchSize"],o);const c=v(t,["learningRate"]);if(e!==void 0&&c!=null&&T(e,["tuningTask","hyperparameters","learningRate"],c),v(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(v(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function $ae(t,e,n){const r={};let i=v(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const y=v(t,["validationDataset"]);e!==void 0&&y!=null&&T(e,["supervisedTuningSpec"],x6(y))}else if(i==="PREFERENCE_TUNING"){const y=v(t,["validationDataset"]);e!==void 0&&y!=null&&T(e,["preferenceOptimizationSpec"],x6(y))}const s=v(t,["tunedModelDisplayName"]);e!==void 0&&s!=null&&T(e,["tunedModelDisplayName"],s);const a=v(t,["description"]);e!==void 0&&a!=null&&T(e,["description"],a);let o=v(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const y=v(t,["epochCount"]);e!==void 0&&y!=null&&T(e,["supervisedTuningSpec","hyperParameters","epochCount"],y)}else if(o==="PREFERENCE_TUNING"){const y=v(t,["epochCount"]);e!==void 0&&y!=null&&T(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],y)}let c=v(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const y=v(t,["learningRateMultiplier"]);e!==void 0&&y!=null&&T(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],y)}else if(c==="PREFERENCE_TUNING"){const y=v(t,["learningRateMultiplier"]);e!==void 0&&y!=null&&T(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],y)}let f=v(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const y=v(t,["exportLastCheckpointOnly"]);e!==void 0&&y!=null&&T(e,["supervisedTuningSpec","exportLastCheckpointOnly"],y)}else if(f==="PREFERENCE_TUNING"){const y=v(t,["exportLastCheckpointOnly"]);e!==void 0&&y!=null&&T(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],y)}let d=v(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const y=v(t,["adapterSize"]);e!==void 0&&y!=null&&T(e,["supervisedTuningSpec","hyperParameters","adapterSize"],y)}else if(d==="PREFERENCE_TUNING"){const y=v(t,["adapterSize"]);e!==void 0&&y!=null&&T(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],y)}if(v(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(v(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const m=v(t,["labels"]);e!==void 0&&m!=null&&T(e,["labels"],m);const g=v(t,["beta"]);return e!==void 0&&g!=null&&T(e,["preferenceOptimizationSpec","hyperParameters","beta"],g),r}function Kae(t,e){const n={},r=v(t,["baseModel"]);r!=null&&T(n,["baseModel"],r);const i=v(t,["preTunedModel"]);i!=null&&T(n,["preTunedModel"],i);const s=v(t,["trainingDataset"]);s!=null&&soe(s);const a=v(t,["config"]);return a!=null&&Wae(a,n),n}function Yae(t,e){const n={},r=v(t,["baseModel"]);r!=null&&T(n,["baseModel"],r);const i=v(t,["preTunedModel"]);i!=null&&T(n,["preTunedModel"],i);const s=v(t,["trainingDataset"]);s!=null&&aoe(s,n,e);const a=v(t,["config"]);return a!=null&&$ae(a,n,e),n}function Xae(t,e){const n={},r=v(t,["name"]);return r!=null&&T(n,["_url","name"],r),n}function Jae(t,e){const n={},r=v(t,["name"]);return r!=null&&T(n,["_url","name"],r),n}function Qae(t,e,n){const r={},i=v(t,["pageSize"]);e!==void 0&&i!=null&&T(e,["_query","pageSize"],i);const s=v(t,["pageToken"]);e!==void 0&&s!=null&&T(e,["_query","pageToken"],s);const a=v(t,["filter"]);return e!==void 0&&a!=null&&T(e,["_query","filter"],a),r}function Zae(t,e,n){const r={},i=v(t,["pageSize"]);e!==void 0&&i!=null&&T(e,["_query","pageSize"],i);const s=v(t,["pageToken"]);e!==void 0&&s!=null&&T(e,["_query","pageToken"],s);const a=v(t,["filter"]);return e!==void 0&&a!=null&&T(e,["_query","filter"],a),r}function eoe(t,e){const n={},r=v(t,["config"]);return r!=null&&Qae(r,n),n}function toe(t,e){const n={},r=v(t,["config"]);return r!=null&&Zae(r,n),n}function noe(t,e){const n={},r=v(t,["sdkHttpResponse"]);r!=null&&T(n,["sdkHttpResponse"],r);const i=v(t,["nextPageToken"]);i!=null&&T(n,["nextPageToken"],i);const s=v(t,["tunedModels"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(o=>oO(o))),T(n,["tuningJobs"],a)}return n}function roe(t,e){const n={},r=v(t,["sdkHttpResponse"]);r!=null&&T(n,["sdkHttpResponse"],r);const i=v(t,["nextPageToken"]);i!=null&&T(n,["nextPageToken"],i);const s=v(t,["tuningJobs"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(o=>Y5(o))),T(n,["tuningJobs"],a)}return n}function ioe(t,e){const n={},r=v(t,["name"]);r!=null&&T(n,["model"],r);const i=v(t,["name"]);return i!=null&&T(n,["endpoint"],i),n}function soe(t,e){const n={};if(v(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(v(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=v(t,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),T(n,["examples","examples"],i)}return n}function aoe(t,e,n){const r={};let i=v(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const a=v(t,["gcsUri"]);e!==void 0&&a!=null&&T(e,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(i==="PREFERENCE_TUNING"){const a=v(t,["gcsUri"]);e!==void 0&&a!=null&&T(e,["preferenceOptimizationSpec","trainingDatasetUri"],a)}let s=v(n,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const a=v(t,["vertexDatasetResource"]);e!==void 0&&a!=null&&T(e,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(s==="PREFERENCE_TUNING"){const a=v(t,["vertexDatasetResource"]);e!==void 0&&a!=null&&T(e,["preferenceOptimizationSpec","trainingDatasetUri"],a)}if(v(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function oO(t,e){const n={},r=v(t,["sdkHttpResponse"]);r!=null&&T(n,["sdkHttpResponse"],r);const i=v(t,["name"]);i!=null&&T(n,["name"],i);const s=v(t,["state"]);s!=null&&T(n,["state"],q7(s));const a=v(t,["createTime"]);a!=null&&T(n,["createTime"],a);const o=v(t,["tuningTask","startTime"]);o!=null&&T(n,["startTime"],o);const c=v(t,["tuningTask","completeTime"]);c!=null&&T(n,["endTime"],c);const f=v(t,["updateTime"]);f!=null&&T(n,["updateTime"],f);const d=v(t,["description"]);d!=null&&T(n,["description"],d);const m=v(t,["baseModel"]);m!=null&&T(n,["baseModel"],m);const g=v(t,["_self"]);return g!=null&&T(n,["tunedModel"],ioe(g)),n}function Y5(t,e){const n={},r=v(t,["sdkHttpResponse"]);r!=null&&T(n,["sdkHttpResponse"],r);const i=v(t,["name"]);i!=null&&T(n,["name"],i);const s=v(t,["state"]);s!=null&&T(n,["state"],q7(s));const a=v(t,["createTime"]);a!=null&&T(n,["createTime"],a);const o=v(t,["startTime"]);o!=null&&T(n,["startTime"],o);const c=v(t,["endTime"]);c!=null&&T(n,["endTime"],c);const f=v(t,["updateTime"]);f!=null&&T(n,["updateTime"],f);const d=v(t,["error"]);d!=null&&T(n,["error"],d);const m=v(t,["description"]);m!=null&&T(n,["description"],m);const g=v(t,["baseModel"]);g!=null&&T(n,["baseModel"],g);const y=v(t,["tunedModel"]);y!=null&&T(n,["tunedModel"],y);const E=v(t,["preTunedModel"]);E!=null&&T(n,["preTunedModel"],E);const _=v(t,["supervisedTuningSpec"]);_!=null&&T(n,["supervisedTuningSpec"],_);const A=v(t,["preferenceOptimizationSpec"]);A!=null&&T(n,["preferenceOptimizationSpec"],A);const C=v(t,["tuningDataStats"]);C!=null&&T(n,["tuningDataStats"],C);const V=v(t,["encryptionSpec"]);V!=null&&T(n,["encryptionSpec"],V);const R=v(t,["partnerModelTuningSpec"]);R!=null&&T(n,["partnerModelTuningSpec"],R);const F=v(t,["customBaseModel"]);F!=null&&T(n,["customBaseModel"],F);const z=v(t,["experiment"]);z!=null&&T(n,["experiment"],z);const W=v(t,["labels"]);W!=null&&T(n,["labels"],W);const D=v(t,["outputUri"]);D!=null&&T(n,["outputUri"],D);const L=v(t,["pipelineJob"]);L!=null&&T(n,["pipelineJob"],L);const k=v(t,["serviceAccount"]);k!=null&&T(n,["serviceAccount"],k);const q=v(t,["tunedModelDisplayName"]);q!=null&&T(n,["tunedModelDisplayName"],q);const P=v(t,["veoTuningSpec"]);return P!=null&&T(n,["veoTuningSpec"],P),n}function ooe(t,e){const n={},r=v(t,["sdkHttpResponse"]);r!=null&&T(n,["sdkHttpResponse"],r);const i=v(t,["name"]);i!=null&&T(n,["name"],i);const s=v(t,["metadata"]);s!=null&&T(n,["metadata"],s);const a=v(t,["done"]);a!=null&&T(n,["done"],a);const o=v(t,["error"]);return o!=null&&T(n,["error"],o),n}function x6(t,e){const n={},r=v(t,["gcsUri"]);r!=null&&T(n,["validationDatasetUri"],r);const i=v(t,["vertexDatasetResource"]);return i!=null&&T(n,["validationDatasetUri"],i),n}class loe extends Gu{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new Ch(Uu.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const s=Object.assign(Object.assign({},n),{preTunedModel:i});return s.baseModel=void 0,await this.tuneInternal(s)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),s=await this.tuneMldevInternal(i);let a="";return s.metadata!==void 0&&s.metadata.tunedModel!==void 0?a=s.metadata.tunedModel:s.name!==void 0&&s.name.includes("/operations/")&&(a=s.name.split("/operations/")[0]),{name:a,state:q5.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,s;let a,o="",c={};if(this.apiClient.isVertexAI()){const f=Jae(e);return o=Ht("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>Y5(d))}else{const f=Xae(e);return o=Ht("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>oO(d))}}async listInternal(e){var n,r,i,s;let a,o="",c={};if(this.apiClient.isVertexAI()){const f=toe(e);return o=Ht("tuningJobs",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const m=roe(d),g=new Xk;return Object.assign(g,m),g})}else{const f=eoe(e);return o=Ht("tunedModels",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const m=noe(d),g=new Xk;return Object.assign(g,m),g})}}async cancel(e){var n,r,i,s;let a="",o={};if(this.apiClient.isVertexAI()){const c=Gae(e);a=Ht("{name}:cancel",c._url),o=c._query,delete c._url,delete c._query,await this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const c=zae(e);a=Ht("{name}:cancel",c._url),o=c._query,delete c._url,delete c._query,await this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async tuneInternal(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI()){const o=Yae(e,e);return s=Ht("tuningJobs",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),i.then(c=>Y5(c))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Kae(e);return s=Ht("tunedModels",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),i.then(c=>ooe(c))}}}class coe{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const uoe=1024*1024*8,foe=3,doe=1e3,hoe=2,N2="x-goog-upload-status";async function poe(t,e,n){var r;const i=await lO(t,e,n),s=await i?.json();if(((r=i?.headers)===null||r===void 0?void 0:r[N2])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return s.file}async function moe(t,e,n){var r;const i=await lO(t,e,n),s=await i?.json();if(((r=i?.headers)===null||r===void 0?void 0:r[N2])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const a=F7(s),o=new fS;return Object.assign(o,a),o}async function lO(t,e,n){var r,i;let s=0,a=0,o=new H5(new Response),c="upload";for(s=t.size;a<s;){const f=Math.min(uoe,s-a),d=t.slice(a,a+f);a+f>=s&&(c+=", finalize");let m=0,g=doe;for(;m<foe&&(o=await n.request({path:"",body:d,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":c,"X-Goog-Upload-Offset":String(a),"Content-Length":String(f)}}}),!(!((r=o?.headers)===null||r===void 0)&&r[N2]));)m++,await xoe(g),g=g*hoe;if(a+=f,((i=o?.headers)===null||i===void 0?void 0:i[N2])!=="active")break;if(s<=a)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return o}async function goe(t){return{size:t.size,type:t.type}}function xoe(t){return new Promise(e=>setTimeout(e,t))}class yoe{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await poe(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await moe(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await goe(e)}}class voe{create(e,n,r){return new boe(e,n,r)}}class boe{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}const y6="x-goog-api-key";class _oe{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(y6)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(y6,this.apiKey)}}}const woe="gl-node/";class Toe{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=Zee(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion;const i=new _oe(this.apiKey);this.apiClient=new Bse({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:woe+"web",uploader:new yoe,downloader:new coe}),this.models=new rae(this.apiClient),this.live=new Jse(this.apiClient,i,new voe),this.batches=new Cne(this.apiClient),this.chats=new cre(this.models,this.apiClient),this.caches=new are(this.apiClient),this.files=new vre(this.apiClient),this.operations=new iae(this.apiClient),this.authTokens=new bae(this.apiClient),this.tunings=new loe(this.apiClient),this.fileSearchStores=new Hae(this.apiClient)}}var v6={};function Eoe(t){const e=atob(t),n=e.length,r=new Uint8Array(n);for(let i=0;i<n;i++)r[i]=e.charCodeAt(i);return r}async function Soe(t,e,n,r){const i=new Int16Array(t.buffer),s=i.length/r,a=e.createBuffer(r,s,n);for(let o=0;o<r;o++){const c=a.getChannelData(o);for(let f=0;f<s;f++)c[f]=i[f*r+o]/32768}return a}const Aoe={generateSpeech:async t=>{if(!v6.API_KEY){console.error("API Key is missing"),alert("API Key missing in environment variables.");return}const e=new Toe({apiKey:v6.API_KEY});try{const r=(await e.models.generateContent({model:"gemini-2.5-flash-preview-tts",contents:[{parts:[{text:t}]}],config:{responseModalities:[n1.AUDIO],speechConfig:{voiceConfig:{prebuiltVoiceConfig:{voiceName:"Kore"}}}}})).candidates?.[0]?.content?.parts?.[0]?.inlineData?.data;if(!r)throw new Error("No audio data returned from Gemini.");const i=new(window.AudioContext||window.webkitAudioContext)({sampleRate:24e3}),s=i.createGain();s.connect(i.destination);const a=Eoe(r),o=await Soe(a,i,24e3,1),c=i.createBufferSource();c.buffer=o,c.connect(s),c.start()}catch(n){console.error("Error generating speech:",n),alert("Failed to generate speech. Please try again.")}}},C2={shareInvoice:(t,e,n)=>{if(!e)return alert("Customer data not found.");const r=e.phone.replace(/\D/g,"");if(!r)return alert("Customer phone number missing.");const i=t.items.map(c=>`- ${c.description} (x${c.quantity})`).join("%0A"),s=`https://billflow-app.web.app/invoice/${t.id}`,a=`https://billflow-app.web.app/customer/${e.id}/ledger`,o=`*TAX INVOICE* %0A*${n.name}* %0A%0AHello ${e.company||e.name}, %0AHere are your invoice details: %0A%0A*Inv No:* ${t.invoiceNumber} %0A*Date:* ${t.date} %0A*Amount:* Rs. ${t.total.toFixed(2)} %0A*Status:* ${t.status==="PAID"?"PAID ":"PENDING "} %0A%0A*Items:* %0A${i} %0A%0A *View Invoice:* ${s} %0A *View Ledger:* ${a} %0A%0AThank you for your business!`;window.open(`https://wa.me/${r}?text=${o}`,"_blank")},sharePayment:(t,e,n)=>{if(!e)return alert("Customer data not found.");const r=e.phone.replace(/\D/g,"");if(!r)return alert("Customer phone number missing.");const i=`https://billflow-app.web.app/customer/${e.id}/ledger`,s=`*PAYMENT RECEIPT* %0A*${n.name}* %0A%0AHello ${e.company||e.name}, %0AWe have received your payment. %0A%0A*Amount:* Rs. ${t.amount.toFixed(2)} %0A*Date:* ${t.date} %0A*Mode:* ${t.mode} %0A*Ref:* ${t.reference||"N/A"} %0A%0A*Current Balance:* Rs. ${e.balance.toFixed(2)} %0A%0A *View Ledger:* ${i} %0A%0AThank you!`;window.open(`https://wa.me/${r}?text=${s}`,"_blank")}};function Ur(t){"@babel/helpers - typeof";return Ur=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ur(t)}var Zl=Uint8Array,Uo=Uint16Array,xS=Int32Array,yS=new Zl([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),vS=new Zl([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),b6=new Zl([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),cO=function(t,e){for(var n=new Uo(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new xS(n[30]),r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return{b:n,r:i}},uO=cO(yS,2),Noe=uO.b,X5=uO.r;Noe[28]=258,X5[258]=28;var Coe=cO(vS,0),_6=Coe.r,J5=new Uo(32768);for(var pi=0;pi<32768;++pi){var Cf=(pi&43690)>>1|(pi&21845)<<1;Cf=(Cf&52428)>>2|(Cf&13107)<<2,Cf=(Cf&61680)>>4|(Cf&3855)<<4,J5[pi]=((Cf&65280)>>8|(Cf&255)<<8)>>1}var Eg=(function(t,e,n){for(var r=t.length,i=0,s=new Uo(e);i<r;++i)t[i]&&++s[t[i]-1];var a=new Uo(e);for(i=1;i<e;++i)a[i]=a[i-1]+s[i-1]<<1;var o;if(n){o=new Uo(1<<e);var c=15-e;for(i=0;i<r;++i)if(t[i])for(var f=i<<4|t[i],d=e-t[i],m=a[t[i]-1]++<<d,g=m|(1<<d)-1;m<=g;++m)o[J5[m]>>c]=f}else for(o=new Uo(r),i=0;i<r;++i)t[i]&&(o[i]=J5[a[t[i]-1]++]>>15-t[i]);return o}),yh=new Zl(288);for(var pi=0;pi<144;++pi)yh[pi]=8;for(var pi=144;pi<256;++pi)yh[pi]=9;for(var pi=256;pi<280;++pi)yh[pi]=7;for(var pi=280;pi<288;++pi)yh[pi]=8;var I2=new Zl(32);for(var pi=0;pi<32;++pi)I2[pi]=5;var Ioe=Eg(yh,9,0),koe=Eg(I2,5,0),fO=function(t){return(t+7)/8|0},Roe=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new Zl(t.subarray(e,n))},yu=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},$m=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},M_=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var i=n.length,s=n.slice();if(!i)return{t:hO,l:0};if(i==1){var a=new Zl(n[0].s+1);return a[n[0].s]=1,{t:a,l:1}}n.sort(function(z,W){return z.f-W.f}),n.push({s:-1,f:25001});var o=n[0],c=n[1],f=0,d=1,m=2;for(n[0]={s:-1,f:o.f+c.f,l:o,r:c};d!=i-1;)o=n[n[f].f<n[m].f?f++:m++],c=n[f!=d&&n[f].f<n[m].f?f++:m++],n[d++]={s:-1,f:o.f+c.f,l:o,r:c};for(var g=s[0].s,r=1;r<i;++r)s[r].s>g&&(g=s[r].s);var y=new Uo(g+1),E=Q5(n[d-1],y,0);if(E>e){var r=0,_=0,A=E-e,C=1<<A;for(s.sort(function(W,D){return y[D.s]-y[W.s]||W.f-D.f});r<i;++r){var V=s[r].s;if(y[V]>e)_+=C-(1<<E-y[V]),y[V]=e;else break}for(_>>=A;_>0;){var R=s[r].s;y[R]<e?_-=1<<e-y[R]++-1:++r}for(;r>=0&&_;--r){var F=s[r].s;y[F]==e&&(--y[F],++_)}E=e}return{t:new Zl(y),l:E}},Q5=function(t,e,n){return t.s==-1?Math.max(Q5(t.l,e,n+1),Q5(t.r,e,n+1)):e[t.s]=n},w6=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new Uo(++e),r=0,i=t[0],s=1,a=function(c){n[r++]=c},o=1;o<=e;++o)if(t[o]==i&&o!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)a(32754);s>2&&(a(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(a(i),--s;s>6;s-=6)a(8304);s>2&&(a(s-3<<5|8208),s=0)}for(;s--;)a(i);s=1,i=t[o]}return{c:n.subarray(0,r),n:e}},Km=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},dO=function(t,e,n){var r=n.length,i=fO(e+2);t[i]=r&255,t[i+1]=r>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var s=0;s<r;++s)t[i+s+4]=n[s];return(i+4+r)*8},T6=function(t,e,n,r,i,s,a,o,c,f,d){yu(e,d++,n),++i[256];for(var m=M_(i,15),g=m.t,y=m.l,E=M_(s,15),_=E.t,A=E.l,C=w6(g),V=C.c,R=C.n,F=w6(_),z=F.c,W=F.n,D=new Uo(19),L=0;L<V.length;++L)++D[V[L]&31];for(var L=0;L<z.length;++L)++D[z[L]&31];for(var k=M_(D,7),q=k.t,P=k.l,M=19;M>4&&!q[b6[M-1]];--M);var j=f+5<<3,ae=Km(i,yh)+Km(s,I2)+a,Ae=Km(i,g)+Km(s,_)+a+14+3*M+Km(D,q)+2*D[16]+3*D[17]+7*D[18];if(c>=0&&j<=ae&&j<=Ae)return dO(e,d,t.subarray(c,c+f));var fe,xe,Ne,me;if(yu(e,d,1+(Ae<ae)),d+=2,Ae<ae){fe=Eg(g,y,0),xe=g,Ne=Eg(_,A,0),me=_;var Re=Eg(q,P,0);yu(e,d,R-257),yu(e,d+5,W-1),yu(e,d+10,M-4),d+=14;for(var L=0;L<M;++L)yu(e,d+3*L,q[b6[L]]);d+=3*M;for(var re=[V,z],B=0;B<2;++B)for(var Y=re[B],L=0;L<Y.length;++L){var X=Y[L]&31;yu(e,d,Re[X]),d+=q[X],X>15&&(yu(e,d,Y[L]>>5&127),d+=Y[L]>>12)}}else fe=Ioe,xe=yh,Ne=koe,me=I2;for(var L=0;L<o;++L){var Q=r[L];if(Q>255){var X=Q>>18&31;$m(e,d,fe[X+257]),d+=xe[X+257],X>7&&(yu(e,d,Q>>23&31),d+=yS[X]);var ce=Q&31;$m(e,d,Ne[ce]),d+=me[ce],ce>3&&($m(e,d,Q>>5&8191),d+=vS[ce])}else $m(e,d,fe[Q]),d+=xe[Q]}return $m(e,d,fe[256]),d+xe[256]},Poe=new xS([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),hO=new Zl(0),Doe=function(t,e,n,r,i,s){var a=s.z||t.length,o=new Zl(r+a+5*(1+Math.ceil(a/7e3))+i),c=o.subarray(r,o.length-i),f=s.l,d=(s.r||0)&7;if(e){d&&(c[0]=s.r>>3);for(var m=Poe[e-1],g=m>>13,y=m&8191,E=(1<<n)-1,_=s.p||new Uo(32768),A=s.h||new Uo(E+1),C=Math.ceil(n/3),V=2*C,R=function(Ye){return(t[Ye]^t[Ye+1]<<C^t[Ye+2]<<V)&E},F=new xS(25e3),z=new Uo(288),W=new Uo(32),D=0,L=0,k=s.i||0,q=0,P=s.w||0,M=0;k+2<a;++k){var j=R(k),ae=k&32767,Ae=A[j];if(_[ae]=Ae,A[j]=ae,P<=k){var fe=a-k;if((D>7e3||q>24576)&&(fe>423||!f)){d=T6(t,c,0,F,z,W,L,q,M,k-M,d),q=D=L=0,M=k;for(var xe=0;xe<286;++xe)z[xe]=0;for(var xe=0;xe<30;++xe)W[xe]=0}var Ne=2,me=0,Re=y,re=ae-Ae&32767;if(fe>2&&j==R(k-re))for(var B=Math.min(g,fe)-1,Y=Math.min(32767,k),X=Math.min(258,fe);re<=Y&&--Re&&ae!=Ae;){if(t[k+Ne]==t[k+Ne-re]){for(var Q=0;Q<X&&t[k+Q]==t[k+Q-re];++Q);if(Q>Ne){if(Ne=Q,me=re,Q>B)break;for(var ce=Math.min(re,Q-2),_e=0,xe=0;xe<ce;++xe){var Pe=k-re+xe&32767,Z=_[Pe],Ce=Pe-Z&32767;Ce>_e&&(_e=Ce,Ae=Pe)}}}ae=Ae,Ae=_[ae],re+=ae-Ae&32767}if(me){F[q++]=268435456|X5[Ne]<<18|_6[me];var qe=X5[Ne]&31,ee=_6[me]&31;L+=yS[qe]+vS[ee],++z[257+qe],++W[ee],P=k+Ne,++D}else F[q++]=t[k],++z[t[k]]}}for(k=Math.max(k,P);k<a;++k)F[q++]=t[k],++z[t[k]];d=T6(t,c,f,F,z,W,L,q,M,k-M,d),f||(s.r=d&7|c[d/8|0]<<3,d-=7,s.h=A,s.p=_,s.i=k,s.w=P)}else{for(var k=s.w||0;k<a+f;k+=65535){var Ie=k+65535;Ie>=a&&(c[d/8|0]=f,Ie=a),d=dO(c,d+1,t.subarray(k,Ie))}s.i=a}return Roe(o,0,r+fO(d)+i)},pO=function(){var t=1,e=0;return{p:function(n){for(var r=t,i=e,s=n.length|0,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=r+=n[a];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}t=r,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},Moe=function(t,e,n,r,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),a=new Zl(s.length+t.length);a.set(s),a.set(t,s.length),t=a,i.w=s.length}return Doe(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,i)},mO=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},Loe=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=pO();i.p(e.dictionary),mO(t,2,i.d())}};function Z5(t,e){e||(e={});var n=pO();n.p(t);var r=Moe(t,e,e.dictionary?6:2,4);return Loe(r,e),mO(r,r.length-4,n.d()),r}var Foe=typeof TextDecoder<"u"&&new TextDecoder,Ooe=0;try{Foe.decode(hO,{stream:!0}),Ooe=1}catch{}function Boe(t){if(Array.isArray(t))return t}function Voe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],c=!0,f=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);c=!0);}catch(d){f=!0,i=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(f)throw i}}return o}}function E6(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Uoe(t,e){if(t){if(typeof t=="string")return E6(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?E6(t,e):void 0}}function joe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S6(t,e){return Boe(t)||Voe(t,e)||Uoe(t,e)||joe()}function A6(t,e="utf8"){return new TextDecoder(e).decode(t)}const qoe=new TextEncoder;function Hoe(t){return qoe.encode(t)}const zoe=1024*8,Goe=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),L_={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class bS{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=zoe,n={}){let r=!1;typeof e=="number"?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);const i=n.offset?n.offset>>>0:0,s=e.byteLength-i;let a=i;(ArrayBuffer.isView(e)||e instanceof bS)&&(e.byteLength!==e.buffer.byteLength&&(a=e.byteOffset+i),e=e.buffer),r?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=e,this.length=s,this.byteLength=s,this.byteOffset=a,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,a,s),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const r=(this.offset+e)*2,i=new Uint8Array(r);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,n){const r=L_[n].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,s=this.buffer.slice(i,i+r);if(this.littleEndian===Goe&&n!=="uint8"&&n!=="int8"){const o=new Uint8Array(this.buffer.slice(i,i+r));o.reverse();const c=new L_[n](o.buffer);return this.offset+=r,c.reverse(),c}const a=new L_[n](s);return this.offset+=r,a}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let n="";for(let r=0;r<e;r++)n+=this.readChar();return n}readUtf8(e=1){return A6(this.readBytes(e))}decodeText(e=1,n="utf8"){return A6(this.readBytes(e),n)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let n=0;n<e.length;n++)this._data.setUint8(this.offset++,e[n]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let n=0;n<e.length;n++)this.writeUint8(e.charCodeAt(n));return this}writeUtf8(e){return this.writeBytes(Hoe(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Qp(t){let e=t.length;for(;--e>=0;)t[e]=0}const Woe=3,$oe=258,gO=29,Koe=256,Yoe=Koe+1+gO,xO=30,Xoe=512,Joe=new Array((Yoe+2)*2);Qp(Joe);const Qoe=new Array(xO*2);Qp(Qoe);const Zoe=new Array(Xoe);Qp(Zoe);const ele=new Array($oe-Woe+1);Qp(ele);const tle=new Array(gO);Qp(tle);const nle=new Array(xO);Qp(nle);const rle=(t,e,n,r)=>{let i=t&65535|0,s=t>>>16&65535|0,a=0;for(;n!==0;){a=n>2e3?2e3:n,n-=a;do i=i+e[r++]|0,s=s+i|0;while(--a);i%=65521,s%=65521}return i|s<<16|0};var eT=rle;const ile=()=>{let t,e=[];for(var n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=t&1?3988292384^t>>>1:t>>>1;e[n]=t}return e},sle=new Uint32Array(ile()),ale=(t,e,n,r)=>{const i=sle,s=r+n;t^=-1;for(let a=r;a<s;a++)t=t>>>8^i[(t^e[a])&255];return t^-1};var wc=ale,tT={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},yO={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const ole=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var lle=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const n=e.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)ole(n,r)&&(t[r]=n[r])}}return t},cle=t=>{let e=0;for(let r=0,i=t.length;r<i;r++)e+=t[r].length;const n=new Uint8Array(e);for(let r=0,i=0,s=t.length;r<s;r++){let a=t[r];n.set(a,i),i+=a.length}return n},vO={assign:lle,flattenChunks:cle};let bO=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{bO=!1}const r1=new Uint8Array(256);for(let t=0;t<256;t++)r1[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;r1[254]=r1[254]=1;var ule=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,n,r,i,s,a=t.length,o=0;for(i=0;i<a;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<a&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),o+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(o),s=0,i=0;s<o;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<a&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?e[s++]=n:n<2048?(e[s++]=192|n>>>6,e[s++]=128|n&63):n<65536?(e[s++]=224|n>>>12,e[s++]=128|n>>>6&63,e[s++]=128|n&63):(e[s++]=240|n>>>18,e[s++]=128|n>>>12&63,e[s++]=128|n>>>6&63,e[s++]=128|n&63);return e};const fle=(t,e)=>{if(e<65534&&t.subarray&&bO)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let n="";for(let r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n};var dle=(t,e)=>{const n=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let r,i;const s=new Array(n*2);for(i=0,r=0;r<n;){let a=t[r++];if(a<128){s[i++]=a;continue}let o=r1[a];if(o>4){s[i++]=65533,r+=o-1;continue}for(a&=o===2?31:o===3?15:7;o>1&&r<n;)a=a<<6|t[r++]&63,o--;if(o>1){s[i++]=65533;continue}a<65536?s[i++]=a:(a-=65536,s[i++]=55296|a>>10&1023,s[i++]=56320|a&1023)}return fle(s,i)},hle=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let n=e-1;for(;n>=0&&(t[n]&192)===128;)n--;return n<0||n===0?e:n+r1[t[n]]>e?n:e},nT={string2buf:ule,buf2string:dle,utf8border:hle};function ple(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var mle=ple;const Kx=16209,gle=16191;var xle=function(e,n){let r,i,s,a,o,c,f,d,m,g,y,E,_,A,C,V,R,F,z,W,D,L,k,q;const P=e.state;r=e.next_in,k=e.input,i=r+(e.avail_in-5),s=e.next_out,q=e.output,a=s-(n-e.avail_out),o=s+(e.avail_out-257),c=P.dmax,f=P.wsize,d=P.whave,m=P.wnext,g=P.window,y=P.hold,E=P.bits,_=P.lencode,A=P.distcode,C=(1<<P.lenbits)-1,V=(1<<P.distbits)-1;e:do{E<15&&(y+=k[r++]<<E,E+=8,y+=k[r++]<<E,E+=8),R=_[y&C];t:for(;;){if(F=R>>>24,y>>>=F,E-=F,F=R>>>16&255,F===0)q[s++]=R&65535;else if(F&16){z=R&65535,F&=15,F&&(E<F&&(y+=k[r++]<<E,E+=8),z+=y&(1<<F)-1,y>>>=F,E-=F),E<15&&(y+=k[r++]<<E,E+=8,y+=k[r++]<<E,E+=8),R=A[y&V];n:for(;;){if(F=R>>>24,y>>>=F,E-=F,F=R>>>16&255,F&16){if(W=R&65535,F&=15,E<F&&(y+=k[r++]<<E,E+=8,E<F&&(y+=k[r++]<<E,E+=8)),W+=y&(1<<F)-1,W>c){e.msg="invalid distance too far back",P.mode=Kx;break e}if(y>>>=F,E-=F,F=s-a,W>F){if(F=W-F,F>d&&P.sane){e.msg="invalid distance too far back",P.mode=Kx;break e}if(D=0,L=g,m===0){if(D+=f-F,F<z){z-=F;do q[s++]=g[D++];while(--F);D=s-W,L=q}}else if(m<F){if(D+=f+m-F,F-=m,F<z){z-=F;do q[s++]=g[D++];while(--F);if(D=0,m<z){F=m,z-=F;do q[s++]=g[D++];while(--F);D=s-W,L=q}}}else if(D+=m-F,F<z){z-=F;do q[s++]=g[D++];while(--F);D=s-W,L=q}for(;z>2;)q[s++]=L[D++],q[s++]=L[D++],q[s++]=L[D++],z-=3;z&&(q[s++]=L[D++],z>1&&(q[s++]=L[D++]))}else{D=s-W;do q[s++]=q[D++],q[s++]=q[D++],q[s++]=q[D++],z-=3;while(z>2);z&&(q[s++]=q[D++],z>1&&(q[s++]=q[D++]))}}else if((F&64)===0){R=A[(R&65535)+(y&(1<<F)-1)];continue n}else{e.msg="invalid distance code",P.mode=Kx;break e}break}}else if((F&64)===0){R=_[(R&65535)+(y&(1<<F)-1)];continue t}else if(F&32){P.mode=gle;break e}else{e.msg="invalid literal/length code",P.mode=Kx;break e}break}}while(r<i&&s<o);z=E>>3,r-=z,E-=z<<3,y&=(1<<E)-1,e.next_in=r,e.next_out=s,e.avail_in=r<i?5+(i-r):5-(r-i),e.avail_out=s<o?257+(o-s):257-(s-o),P.hold=y,P.bits=E};const A0=15,N6=852,C6=592,I6=0,F_=1,k6=2,yle=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),vle=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),ble=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),_le=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),wle=(t,e,n,r,i,s,a,o)=>{const c=o.bits;let f=0,d=0,m=0,g=0,y=0,E=0,_=0,A=0,C=0,V=0,R,F,z,W,D,L=null,k;const q=new Uint16Array(A0+1),P=new Uint16Array(A0+1);let M=null,j,ae,Ae;for(f=0;f<=A0;f++)q[f]=0;for(d=0;d<r;d++)q[e[n+d]]++;for(y=c,g=A0;g>=1&&q[g]===0;g--);if(y>g&&(y=g),g===0)return i[s++]=1<<24|64<<16|0,i[s++]=1<<24|64<<16|0,o.bits=1,0;for(m=1;m<g&&q[m]===0;m++);for(y<m&&(y=m),A=1,f=1;f<=A0;f++)if(A<<=1,A-=q[f],A<0)return-1;if(A>0&&(t===I6||g!==1))return-1;for(P[1]=0,f=1;f<A0;f++)P[f+1]=P[f]+q[f];for(d=0;d<r;d++)e[n+d]!==0&&(a[P[e[n+d]]++]=d);if(t===I6?(L=M=a,k=20):t===F_?(L=yle,M=vle,k=257):(L=ble,M=_le,k=0),V=0,d=0,f=m,D=s,E=y,_=0,z=-1,C=1<<y,W=C-1,t===F_&&C>N6||t===k6&&C>C6)return 1;for(;;){j=f-_,a[d]+1<k?(ae=0,Ae=a[d]):a[d]>=k?(ae=M[a[d]-k],Ae=L[a[d]-k]):(ae=96,Ae=0),R=1<<f-_,F=1<<E,m=F;do F-=R,i[D+(V>>_)+F]=j<<24|ae<<16|Ae|0;while(F!==0);for(R=1<<f-1;V&R;)R>>=1;if(R!==0?(V&=R-1,V+=R):V=0,d++,--q[f]===0){if(f===g)break;f=e[n+a[d]]}if(f>y&&(V&W)!==z){for(_===0&&(_=y),D+=m,E=f-_,A=1<<E;E+_<g&&(A-=q[E+_],!(A<=0));)E++,A<<=1;if(C+=1<<E,t===F_&&C>N6||t===k6&&C>C6)return 1;z=V&W,i[z]=y<<24|E<<16|D-s|0}}return V!==0&&(i[D+V]=f-_<<24|64<<16|0),o.bits=y,0};var Sg=wle;const Tle=0,_O=1,wO=2,{Z_FINISH:R6,Z_BLOCK:Ele,Z_TREES:Yx,Z_OK:vh,Z_STREAM_END:Sle,Z_NEED_DICT:Ale,Z_STREAM_ERROR:xl,Z_DATA_ERROR:TO,Z_MEM_ERROR:EO,Z_BUF_ERROR:Nle,Z_DEFLATED:P6}=yO,Rv=16180,D6=16181,M6=16182,L6=16183,F6=16184,O6=16185,B6=16186,V6=16187,U6=16188,j6=16189,k2=16190,vu=16191,O_=16192,q6=16193,B_=16194,H6=16195,z6=16196,G6=16197,W6=16198,Xx=16199,Jx=16200,$6=16201,K6=16202,Y6=16203,X6=16204,J6=16205,V_=16206,Q6=16207,Z6=16208,_i=16209,SO=16210,AO=16211,Cle=852,Ile=592,kle=15,Rle=kle,eR=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function Ple(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Ih=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<Rv||e.mode>AO?1:0},NO=t=>{if(Ih(t))return xl;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=Rv,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(Cle),e.distcode=e.distdyn=new Int32Array(Ile),e.sane=1,e.back=-1,vh},CO=t=>{if(Ih(t))return xl;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,NO(t)},IO=(t,e)=>{let n;if(Ih(t))return xl;const r=t.state;return e<0?(n=0,e=-e):(n=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?xl:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,CO(t))},kO=(t,e)=>{if(!t)return xl;const n=new Ple;t.state=n,n.strm=t,n.window=null,n.mode=Rv;const r=IO(t,e);return r!==vh&&(t.state=null),r},Dle=t=>kO(t,Rle);let tR=!0,U_,j_;const Mle=t=>{if(tR){U_=new Int32Array(512),j_=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(Sg(_O,t.lens,0,288,U_,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;Sg(wO,t.lens,0,32,j_,0,t.work,{bits:5}),tR=!1}t.lencode=U_,t.lenbits=9,t.distcode=j_,t.distbits=5},RO=(t,e,n,r)=>{let i;const s=t.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),r>=s.wsize?(s.window.set(e.subarray(n-s.wsize,n),0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>r&&(i=r),s.window.set(e.subarray(n-r,n-r+i),s.wnext),r-=i,r?(s.window.set(e.subarray(n-r,n),0),s.wnext=r,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0},Lle=(t,e)=>{let n,r,i,s,a,o,c,f,d,m,g,y,E,_,A=0,C,V,R,F,z,W,D,L;const k=new Uint8Array(4);let q,P;const M=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Ih(t)||!t.output||!t.input&&t.avail_in!==0)return xl;n=t.state,n.mode===vu&&(n.mode=O_),a=t.next_out,i=t.output,c=t.avail_out,s=t.next_in,r=t.input,o=t.avail_in,f=n.hold,d=n.bits,m=o,g=c,L=vh;e:for(;;)switch(n.mode){case Rv:if(n.wrap===0){n.mode=O_;break}for(;d<16;){if(o===0)break e;o--,f+=r[s++]<<d,d+=8}if(n.wrap&2&&f===35615){n.wbits===0&&(n.wbits=15),n.check=0,k[0]=f&255,k[1]=f>>>8&255,n.check=wc(n.check,k,2,0),f=0,d=0,n.mode=D6;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((f&255)<<8)+(f>>8))%31){t.msg="incorrect header check",n.mode=_i;break}if((f&15)!==P6){t.msg="unknown compression method",n.mode=_i;break}if(f>>>=4,d-=4,D=(f&15)+8,n.wbits===0&&(n.wbits=D),D>15||D>n.wbits){t.msg="invalid window size",n.mode=_i;break}n.dmax=1<<n.wbits,n.flags=0,t.adler=n.check=1,n.mode=f&512?j6:vu,f=0,d=0;break;case D6:for(;d<16;){if(o===0)break e;o--,f+=r[s++]<<d,d+=8}if(n.flags=f,(n.flags&255)!==P6){t.msg="unknown compression method",n.mode=_i;break}if(n.flags&57344){t.msg="unknown header flags set",n.mode=_i;break}n.head&&(n.head.text=f>>8&1),n.flags&512&&n.wrap&4&&(k[0]=f&255,k[1]=f>>>8&255,n.check=wc(n.check,k,2,0)),f=0,d=0,n.mode=M6;case M6:for(;d<32;){if(o===0)break e;o--,f+=r[s++]<<d,d+=8}n.head&&(n.head.time=f),n.flags&512&&n.wrap&4&&(k[0]=f&255,k[1]=f>>>8&255,k[2]=f>>>16&255,k[3]=f>>>24&255,n.check=wc(n.check,k,4,0)),f=0,d=0,n.mode=L6;case L6:for(;d<16;){if(o===0)break e;o--,f+=r[s++]<<d,d+=8}n.head&&(n.head.xflags=f&255,n.head.os=f>>8),n.flags&512&&n.wrap&4&&(k[0]=f&255,k[1]=f>>>8&255,n.check=wc(n.check,k,2,0)),f=0,d=0,n.mode=F6;case F6:if(n.flags&1024){for(;d<16;){if(o===0)break e;o--,f+=r[s++]<<d,d+=8}n.length=f,n.head&&(n.head.extra_len=f),n.flags&512&&n.wrap&4&&(k[0]=f&255,k[1]=f>>>8&255,n.check=wc(n.check,k,2,0)),f=0,d=0}else n.head&&(n.head.extra=null);n.mode=O6;case O6:if(n.flags&1024&&(y=n.length,y>o&&(y=o),y&&(n.head&&(D=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(s,s+y),D)),n.flags&512&&n.wrap&4&&(n.check=wc(n.check,r,y,s)),o-=y,s+=y,n.length-=y),n.length))break e;n.length=0,n.mode=B6;case B6:if(n.flags&2048){if(o===0)break e;y=0;do D=r[s+y++],n.head&&D&&n.length<65536&&(n.head.name+=String.fromCharCode(D));while(D&&y<o);if(n.flags&512&&n.wrap&4&&(n.check=wc(n.check,r,y,s)),o-=y,s+=y,D)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=V6;case V6:if(n.flags&4096){if(o===0)break e;y=0;do D=r[s+y++],n.head&&D&&n.length<65536&&(n.head.comment+=String.fromCharCode(D));while(D&&y<o);if(n.flags&512&&n.wrap&4&&(n.check=wc(n.check,r,y,s)),o-=y,s+=y,D)break e}else n.head&&(n.head.comment=null);n.mode=U6;case U6:if(n.flags&512){for(;d<16;){if(o===0)break e;o--,f+=r[s++]<<d,d+=8}if(n.wrap&4&&f!==(n.check&65535)){t.msg="header crc mismatch",n.mode=_i;break}f=0,d=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=vu;break;case j6:for(;d<32;){if(o===0)break e;o--,f+=r[s++]<<d,d+=8}t.adler=n.check=eR(f),f=0,d=0,n.mode=k2;case k2:if(n.havedict===0)return t.next_out=a,t.avail_out=c,t.next_in=s,t.avail_in=o,n.hold=f,n.bits=d,Ale;t.adler=n.check=1,n.mode=vu;case vu:if(e===Ele||e===Yx)break e;case O_:if(n.last){f>>>=d&7,d-=d&7,n.mode=V_;break}for(;d<3;){if(o===0)break e;o--,f+=r[s++]<<d,d+=8}switch(n.last=f&1,f>>>=1,d-=1,f&3){case 0:n.mode=q6;break;case 1:if(Mle(n),n.mode=Xx,e===Yx){f>>>=2,d-=2;break e}break;case 2:n.mode=z6;break;case 3:t.msg="invalid block type",n.mode=_i}f>>>=2,d-=2;break;case q6:for(f>>>=d&7,d-=d&7;d<32;){if(o===0)break e;o--,f+=r[s++]<<d,d+=8}if((f&65535)!==(f>>>16^65535)){t.msg="invalid stored block lengths",n.mode=_i;break}if(n.length=f&65535,f=0,d=0,n.mode=B_,e===Yx)break e;case B_:n.mode=H6;case H6:if(y=n.length,y){if(y>o&&(y=o),y>c&&(y=c),y===0)break e;i.set(r.subarray(s,s+y),a),o-=y,s+=y,c-=y,a+=y,n.length-=y;break}n.mode=vu;break;case z6:for(;d<14;){if(o===0)break e;o--,f+=r[s++]<<d,d+=8}if(n.nlen=(f&31)+257,f>>>=5,d-=5,n.ndist=(f&31)+1,f>>>=5,d-=5,n.ncode=(f&15)+4,f>>>=4,d-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=_i;break}n.have=0,n.mode=G6;case G6:for(;n.have<n.ncode;){for(;d<3;){if(o===0)break e;o--,f+=r[s++]<<d,d+=8}n.lens[M[n.have++]]=f&7,f>>>=3,d-=3}for(;n.have<19;)n.lens[M[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,q={bits:n.lenbits},L=Sg(Tle,n.lens,0,19,n.lencode,0,n.work,q),n.lenbits=q.bits,L){t.msg="invalid code lengths set",n.mode=_i;break}n.have=0,n.mode=W6;case W6:for(;n.have<n.nlen+n.ndist;){for(;A=n.lencode[f&(1<<n.lenbits)-1],C=A>>>24,V=A>>>16&255,R=A&65535,!(C<=d);){if(o===0)break e;o--,f+=r[s++]<<d,d+=8}if(R<16)f>>>=C,d-=C,n.lens[n.have++]=R;else{if(R===16){for(P=C+2;d<P;){if(o===0)break e;o--,f+=r[s++]<<d,d+=8}if(f>>>=C,d-=C,n.have===0){t.msg="invalid bit length repeat",n.mode=_i;break}D=n.lens[n.have-1],y=3+(f&3),f>>>=2,d-=2}else if(R===17){for(P=C+3;d<P;){if(o===0)break e;o--,f+=r[s++]<<d,d+=8}f>>>=C,d-=C,D=0,y=3+(f&7),f>>>=3,d-=3}else{for(P=C+7;d<P;){if(o===0)break e;o--,f+=r[s++]<<d,d+=8}f>>>=C,d-=C,D=0,y=11+(f&127),f>>>=7,d-=7}if(n.have+y>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=_i;break}for(;y--;)n.lens[n.have++]=D}}if(n.mode===_i)break;if(n.lens[256]===0){t.msg="invalid code -- missing end-of-block",n.mode=_i;break}if(n.lenbits=9,q={bits:n.lenbits},L=Sg(_O,n.lens,0,n.nlen,n.lencode,0,n.work,q),n.lenbits=q.bits,L){t.msg="invalid literal/lengths set",n.mode=_i;break}if(n.distbits=6,n.distcode=n.distdyn,q={bits:n.distbits},L=Sg(wO,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,q),n.distbits=q.bits,L){t.msg="invalid distances set",n.mode=_i;break}if(n.mode=Xx,e===Yx)break e;case Xx:n.mode=Jx;case Jx:if(o>=6&&c>=258){t.next_out=a,t.avail_out=c,t.next_in=s,t.avail_in=o,n.hold=f,n.bits=d,xle(t,g),a=t.next_out,i=t.output,c=t.avail_out,s=t.next_in,r=t.input,o=t.avail_in,f=n.hold,d=n.bits,n.mode===vu&&(n.back=-1);break}for(n.back=0;A=n.lencode[f&(1<<n.lenbits)-1],C=A>>>24,V=A>>>16&255,R=A&65535,!(C<=d);){if(o===0)break e;o--,f+=r[s++]<<d,d+=8}if(V&&(V&240)===0){for(F=C,z=V,W=R;A=n.lencode[W+((f&(1<<F+z)-1)>>F)],C=A>>>24,V=A>>>16&255,R=A&65535,!(F+C<=d);){if(o===0)break e;o--,f+=r[s++]<<d,d+=8}f>>>=F,d-=F,n.back+=F}if(f>>>=C,d-=C,n.back+=C,n.length=R,V===0){n.mode=J6;break}if(V&32){n.back=-1,n.mode=vu;break}if(V&64){t.msg="invalid literal/length code",n.mode=_i;break}n.extra=V&15,n.mode=$6;case $6:if(n.extra){for(P=n.extra;d<P;){if(o===0)break e;o--,f+=r[s++]<<d,d+=8}n.length+=f&(1<<n.extra)-1,f>>>=n.extra,d-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=K6;case K6:for(;A=n.distcode[f&(1<<n.distbits)-1],C=A>>>24,V=A>>>16&255,R=A&65535,!(C<=d);){if(o===0)break e;o--,f+=r[s++]<<d,d+=8}if((V&240)===0){for(F=C,z=V,W=R;A=n.distcode[W+((f&(1<<F+z)-1)>>F)],C=A>>>24,V=A>>>16&255,R=A&65535,!(F+C<=d);){if(o===0)break e;o--,f+=r[s++]<<d,d+=8}f>>>=F,d-=F,n.back+=F}if(f>>>=C,d-=C,n.back+=C,V&64){t.msg="invalid distance code",n.mode=_i;break}n.offset=R,n.extra=V&15,n.mode=Y6;case Y6:if(n.extra){for(P=n.extra;d<P;){if(o===0)break e;o--,f+=r[s++]<<d,d+=8}n.offset+=f&(1<<n.extra)-1,f>>>=n.extra,d-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=_i;break}n.mode=X6;case X6:if(c===0)break e;if(y=g-c,n.offset>y){if(y=n.offset-y,y>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=_i;break}y>n.wnext?(y-=n.wnext,E=n.wsize-y):E=n.wnext-y,y>n.length&&(y=n.length),_=n.window}else _=i,E=a-n.offset,y=n.length;y>c&&(y=c),c-=y,n.length-=y;do i[a++]=_[E++];while(--y);n.length===0&&(n.mode=Jx);break;case J6:if(c===0)break e;i[a++]=n.length,c--,n.mode=Jx;break;case V_:if(n.wrap){for(;d<32;){if(o===0)break e;o--,f|=r[s++]<<d,d+=8}if(g-=c,t.total_out+=g,n.total+=g,n.wrap&4&&g&&(t.adler=n.check=n.flags?wc(n.check,i,g,a-g):eT(n.check,i,g,a-g)),g=c,n.wrap&4&&(n.flags?f:eR(f))!==n.check){t.msg="incorrect data check",n.mode=_i;break}f=0,d=0}n.mode=Q6;case Q6:if(n.wrap&&n.flags){for(;d<32;){if(o===0)break e;o--,f+=r[s++]<<d,d+=8}if(n.wrap&4&&f!==(n.total&4294967295)){t.msg="incorrect length check",n.mode=_i;break}f=0,d=0}n.mode=Z6;case Z6:L=Sle;break e;case _i:L=TO;break e;case SO:return EO;case AO:default:return xl}return t.next_out=a,t.avail_out=c,t.next_in=s,t.avail_in=o,n.hold=f,n.bits=d,(n.wsize||g!==t.avail_out&&n.mode<_i&&(n.mode<V_||e!==R6))&&RO(t,t.output,t.next_out,g-t.avail_out),m-=t.avail_in,g-=t.avail_out,t.total_in+=m,t.total_out+=g,n.total+=g,n.wrap&4&&g&&(t.adler=n.check=n.flags?wc(n.check,i,g,t.next_out-g):eT(n.check,i,g,t.next_out-g)),t.data_type=n.bits+(n.last?64:0)+(n.mode===vu?128:0)+(n.mode===Xx||n.mode===B_?256:0),(m===0&&g===0||e===R6)&&L===vh&&(L=Nle),L},Fle=t=>{if(Ih(t))return xl;let e=t.state;return e.window&&(e.window=null),t.state=null,vh},Ole=(t,e)=>{if(Ih(t))return xl;const n=t.state;return(n.wrap&2)===0?xl:(n.head=e,e.done=!1,vh)},Ble=(t,e)=>{const n=e.length;let r,i,s;return Ih(t)||(r=t.state,r.wrap!==0&&r.mode!==k2)?xl:r.mode===k2&&(i=1,i=eT(i,e,n,0),i!==r.check)?TO:(s=RO(t,e,n,n),s?(r.mode=SO,EO):(r.havedict=1,vh))};var Vle=CO,Ule=IO,jle=NO,qle=Dle,Hle=kO,zle=Lle,Gle=Fle,Wle=Ole,$le=Ble,Kle="pako inflate (from Nodeca project)",_u={inflateReset:Vle,inflateReset2:Ule,inflateResetKeep:jle,inflateInit:qle,inflateInit2:Hle,inflate:zle,inflateEnd:Gle,inflateGetHeader:Wle,inflateSetDictionary:$le,inflateInfo:Kle};function Yle(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Xle=Yle;const PO=Object.prototype.toString,{Z_NO_FLUSH:Jle,Z_FINISH:Qle,Z_OK:i1,Z_STREAM_END:q_,Z_NEED_DICT:H_,Z_STREAM_ERROR:Zle,Z_DATA_ERROR:nR,Z_MEM_ERROR:ece}=yO;function M1(t){this.options=vO.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new mle,this.strm.avail_out=0;let n=_u.inflateInit2(this.strm,e.windowBits);if(n!==i1)throw new Error(tT[n]);if(this.header=new Xle,_u.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=nT.string2buf(e.dictionary):PO.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=_u.inflateSetDictionary(this.strm,e.dictionary),n!==i1)))throw new Error(tT[n])}M1.prototype.push=function(t,e){const n=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let s,a,o;if(this.ended)return!1;for(e===~~e?a=e:a=e===!0?Qle:Jle,PO.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),s=_u.inflate(n,a),s===H_&&i&&(s=_u.inflateSetDictionary(n,i),s===i1?s=_u.inflate(n,a):s===nR&&(s=H_));n.avail_in>0&&s===q_&&n.state.wrap>0&&t[n.next_in]!==0;)_u.inflateReset(n),s=_u.inflate(n,a);switch(s){case Zle:case nR:case H_:case ece:return this.onEnd(s),this.ended=!0,!1}if(o=n.avail_out,n.next_out&&(n.avail_out===0||s===q_))if(this.options.to==="string"){let c=nT.utf8border(n.output,n.next_out),f=n.next_out-c,d=nT.buf2string(n.output,c);n.next_out=f,n.avail_out=r-f,f&&n.output.set(n.output.subarray(c,c+f),0),this.onData(d)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(s===i1&&o===0)){if(s===q_)return s=_u.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};M1.prototype.onData=function(t){this.chunks.push(t)};M1.prototype.onEnd=function(t){t===i1&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=vO.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function tce(t,e){const n=new M1(e);if(n.push(t),n.err)throw n.msg||tT[n.err];return n.result}var nce=M1,rce=tce,ice={Inflate:nce,inflate:rce};const{Inflate:sce,inflate:ace}=ice;var rR=sce,oce=ace;const DO=[];for(let t=0;t<256;t++){let e=t;for(let n=0;n<8;n++)e&1?e=3988292384^e>>>1:e=e>>>1;DO[t]=e}const iR=4294967295;function lce(t,e,n){let r=t;for(let i=0;i<n;i++)r=DO[(r^e[i])&255]^r>>>8;return r}function cce(t,e){return(lce(iR,t,e)^iR)>>>0}function sR(t,e,n){const r=t.readUint32(),i=cce(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(i!==r)throw new Error(`CRC mismatch for chunk ${n}. Expected ${r}, found ${i}`)}function MO(t,e,n){for(let r=0;r<n;r++)e[r]=t[r]}function LO(t,e,n,r){let i=0;for(;i<r;i++)e[i]=t[i];for(;i<n;i++)e[i]=t[i]+e[i-r]&255}function FO(t,e,n,r){let i=0;if(n.length===0)for(;i<r;i++)e[i]=t[i];else for(;i<r;i++)e[i]=t[i]+n[i]&255}function OO(t,e,n,r,i){let s=0;if(n.length===0){for(;s<i;s++)e[s]=t[s];for(;s<r;s++)e[s]=t[s]+(e[s-i]>>1)&255}else{for(;s<i;s++)e[s]=t[s]+(n[s]>>1)&255;for(;s<r;s++)e[s]=t[s]+(e[s-i]+n[s]>>1)&255}}function BO(t,e,n,r,i){let s=0;if(n.length===0){for(;s<i;s++)e[s]=t[s];for(;s<r;s++)e[s]=t[s]+e[s-i]&255}else{for(;s<i;s++)e[s]=t[s]+n[s]&255;for(;s<r;s++)e[s]=t[s]+uce(e[s-i],n[s],n[s-i])&255}}function uce(t,e,n){const r=t+e-n,i=Math.abs(r-t),s=Math.abs(r-e),a=Math.abs(r-n);return i<=s&&i<=a?t:s<=a?e:n}function fce(t,e,n,r,i,s){switch(t){case 0:MO(e,n,i);break;case 1:LO(e,n,i,s);break;case 2:FO(e,n,r,i);break;case 3:OO(e,n,r,i,s);break;case 4:BO(e,n,r,i,s);break;default:throw new Error(`Unsupported filter: ${t}`)}}const dce=new Uint16Array([255]),hce=new Uint8Array(dce.buffer),pce=hce[0]===255;function mce(t){const{data:e,width:n,height:r,channels:i,depth:s}=t,a=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(s/8)*i,c=new Uint8Array(r*n*o);let f=0;for(let d=0;d<7;d++){const m=a[d],g=Math.ceil((n-m.x)/m.xStep),y=Math.ceil((r-m.y)/m.yStep);if(g<=0||y<=0)continue;const E=g*o,_=new Uint8Array(E);for(let A=0;A<y;A++){const C=e[f++],V=e.subarray(f,f+E);f+=E;const R=new Uint8Array(E);fce(C,V,R,_,E,o),_.set(R);for(let F=0;F<g;F++){const z=m.x+F*m.xStep,W=m.y+A*m.yStep;if(!(z>=n||W>=r))for(let D=0;D<o;D++)c[(W*n+z)*o+D]=R[F*o+D]}}}if(s===16){const d=new Uint16Array(c.buffer);if(pce)for(let m=0;m<d.length;m++)d[m]=gce(d[m]);return d}else return c}function gce(t){return(t&255)<<8|t>>8&255}const xce=new Uint16Array([255]),yce=new Uint8Array(xce.buffer),vce=yce[0]===255,bce=new Uint8Array(0);function aR(t){const{data:e,width:n,height:r,channels:i,depth:s}=t,a=Math.ceil(s/8)*i,o=Math.ceil(s/8*i*n),c=new Uint8Array(r*o);let f=bce,d=0,m,g;for(let y=0;y<r;y++){switch(m=e.subarray(d+1,d+1+o),g=c.subarray(y*o,(y+1)*o),e[d]){case 0:MO(m,g,o);break;case 1:LO(m,g,o,a);break;case 2:FO(m,g,f,o);break;case 3:OO(m,g,f,o,a);break;case 4:BO(m,g,f,o,a);break;default:throw new Error(`Unsupported filter: ${e[d]}`)}f=g,d+=o+1}if(s===16){const y=new Uint16Array(c.buffer);if(vce)for(let E=0;E<y.length;E++)y[E]=_ce(y[E]);return y}else return c}function _ce(t){return(t&255)<<8|t>>8&255}const Vy=Uint8Array.of(137,80,78,71,13,10,26,10);function oR(t){if(!wce(t.readBytes(Vy.length)))throw new Error("wrong PNG signature")}function wce(t){if(t.length<Vy.length)return!1;for(let e=0;e<Vy.length;e++)if(t[e]!==Vy[e])return!1;return!0}const Tce="tEXt",Ece=0,VO=new TextDecoder("latin1");function Sce(t){if(Nce(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const Ace=/^[\u0000-\u00FF]*$/;function Nce(t){if(!Ace.test(t))throw new Error("invalid latin1 text")}function Cce(t,e,n){const r=UO(e);t[r]=Ice(e,n-r.length-1)}function UO(t){for(t.mark();t.readByte()!==Ece;);const e=t.offset;t.reset();const n=VO.decode(t.readBytes(e-t.offset-1));return t.skip(1),Sce(n),n}function Ice(t,e){return VO.decode(t.readBytes(e))}const Lo={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},z_={UNKNOWN:-1,DEFLATE:0},lR={UNKNOWN:-1,ADAPTIVE:0},G_={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Qx={NONE:0,BACKGROUND:1,PREVIOUS:2},W_={SOURCE:0,OVER:1};class kce extends bS{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,n={}){super(e);const{checkCrc:r=!1}=n;this._checkCrc=r,this._inflator=new rR,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=z_.UNKNOWN,this._filterMethod=lR.UNKNOWN,this._interlaceMethod=G_.UNKNOWN,this._colorType=Lo.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(oR(this);!this._end;){const e=this.readUint32(),n=this.readChars(4);this.decodeChunk(e,n)}return this.decodeImage(),this._png}decodeApng(){for(oR(this);!this._end;){const e=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(e,n)}return this.decodeApngImage(),this._apng}decodeChunk(e,n){const r=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case Tce:Cce(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?sR(this,e+4,n):this.skip(4)}decodeApngChunk(e,n){const r=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,n),this.offset=r+e;break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?sR(this,e+4,n):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=Rce(this.readUint8());const n=this.readUint8();this._colorType=n;let r;switch(n){case Lo.GREYSCALE:r=1;break;case Lo.TRUECOLOUR:r=3;break;case Lo.INDEXED_COLOUR:r=1;break;case Lo.GREYSCALE_ALPHA:r=2;break;case Lo.TRUECOLOUR_ALPHA:r=4;break;case Lo.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=r,this._compressionMethod=this.readUint8(),this._compressionMethod!==z_.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const n=e/3;this._hasPalette=!0;const r=[];this._palette=r;for(let i=0;i<n;i++)r.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const n=e,r=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,r,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let n=e,r=this.offset+this.byteOffset;if(r+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,r,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case Lo.GREYSCALE:case Lo.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let n=0;n<e/2;n++)this._transparency[n]=this.readUint16();break}case Lo.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let n=0;for(;n<e;n++){const r=this.readByte();this._palette[n].push(r)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case Lo.UNKNOWN:case Lo.GREYSCALE_ALPHA:case Lo.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const n=UO(this),r=this.readUint8();if(r!==z_.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${r}`);const i=this.readBytes(e-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:oce(i)}}decodepHYs(){const e=this.readUint32(),n=this.readUint32(),r=this.readByte();this._png.resolution={x:e,y:n,unit:r}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const n={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},r=this._frames.at(e);if(r){if(r.data=aR({data:r.data,width:r.width,height:r.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||r.xOffset===0&&r.yOffset===0&&r.width===this._png.width&&r.height===this._png.height)n.data=r.data;else{const i=this._apng.frames.at(e-1);this.disposeFrame(r,i,n),this.addFrameDataToCanvas(n,r)}this._apng.frames.push(n)}}return this._apng}disposeFrame(e,n,r){switch(e.disposeOp){case Qx.NONE:break;case Qx.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let s=0;s<this._png.width;s++){const a=(i*e.width+s)*this._png.channels;for(let o=0;o<this._png.channels;o++)r.data[a+o]=0}break;case Qx.PREVIOUS:r.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,n){const r=1<<this._png.depth,i=(s,a)=>{const o=((s+n.yOffset)*this._png.width+n.xOffset+a)*this._png.channels,c=(s*n.width+a)*this._png.channels;return{index:o,frameIndex:c}};switch(n.blendOp){case W_.SOURCE:for(let s=0;s<n.height;s++)for(let a=0;a<n.width;a++){const{index:o,frameIndex:c}=i(s,a);for(let f=0;f<this._png.channels;f++)e.data[o+f]=n.data[c+f]}break;case W_.OVER:for(let s=0;s<n.height;s++)for(let a=0;a<n.width;a++){const{index:o,frameIndex:c}=i(s,a);for(let f=0;f<this._png.channels;f++){const d=n.data[c+this._png.channels-1]/r,m=f%(this._png.channels-1)===0?1:n.data[c+f],g=Math.floor(d*m+(1-d)*e.data[o+f]);e.data[o+f]+=g}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==lR.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===G_.NO_INTERLACE)this._png.data=aR({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===G_.ADAM7)this._png.data=mce({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,n=this._frames.at(-1);n?n.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Qx.NONE,blendOp:W_.SOURCE,data:e}),this._inflator=new rR,this._writingDataChunks=!1}}function Rce(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var cR;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(cR||(cR={}));function Pce(t,e){return new kce(t,e).decode()}var Mn=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function $_(){Mn.console&&typeof Mn.console.log=="function"&&Mn.console.log.apply(Mn.console,arguments)}var si={log:$_,warn:function(t){Mn.console&&(typeof Mn.console.warn=="function"?Mn.console.warn.apply(Mn.console,arguments):$_.call(null,arguments))},error:function(t){Mn.console&&(typeof Mn.console.error=="function"?Mn.console.error.apply(Mn.console,arguments):$_(t))}};function K_(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){Fd(r.response,e,n)},r.onerror=function(){si.error("could not download file")},r.send()}function uR(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Zx(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var Fd=Mn.saveAs||((typeof window>"u"?"undefined":Ur(window))!=="object"||window!==Mn?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=Mn.URL||Mn.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?uR(i.href)?K_(t,e,n):Zx(i,i.target="_blank"):Zx(i)):(i.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){Zx(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(uR(t))K_(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){Zx(r)})}else navigator.msSaveOrOpenBlob((function(i,s){return s===void 0?s={autoBom:!1}:Ur(s)!=="object"&&(si.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i})(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return K_(t,e,n);var i=t.type==="application/octet-stream",s=/constructor/i.test(Mn.HTMLElement)||Mn.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||i&&s)&&(typeof FileReader>"u"?"undefined":Ur(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var d=o.result;d=a?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=d:location=d,r=null},o.readAsDataURL(t)}else{var c=Mn.URL||Mn.webkitURL,f=c.createObjectURL(t);r?r.location=f:location.href=f,r=null,setTimeout(function(){c.revokeObjectURL(f)},4e4)}});function jO(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,s=n[r].process,a=i.exec(t);a&&(e=s(a),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),c=this.g.toString(16),f=this.b.toString(16);return o.length==1&&(o="0"+o),c.length==1&&(c="0"+c),f.length==1&&(f="0"+f),"#"+o+c+f}}var Uy=Mn.atob.bind(Mn),fR=Mn.btoa.bind(Mn);function Y_(t,e){var n=t[0],r=t[1],i=t[2],s=t[3];n=xa(n,r,i,s,e[0],7,-680876936),s=xa(s,n,r,i,e[1],12,-389564586),i=xa(i,s,n,r,e[2],17,606105819),r=xa(r,i,s,n,e[3],22,-1044525330),n=xa(n,r,i,s,e[4],7,-176418897),s=xa(s,n,r,i,e[5],12,1200080426),i=xa(i,s,n,r,e[6],17,-1473231341),r=xa(r,i,s,n,e[7],22,-45705983),n=xa(n,r,i,s,e[8],7,1770035416),s=xa(s,n,r,i,e[9],12,-1958414417),i=xa(i,s,n,r,e[10],17,-42063),r=xa(r,i,s,n,e[11],22,-1990404162),n=xa(n,r,i,s,e[12],7,1804603682),s=xa(s,n,r,i,e[13],12,-40341101),i=xa(i,s,n,r,e[14],17,-1502002290),n=ya(n,r=xa(r,i,s,n,e[15],22,1236535329),i,s,e[1],5,-165796510),s=ya(s,n,r,i,e[6],9,-1069501632),i=ya(i,s,n,r,e[11],14,643717713),r=ya(r,i,s,n,e[0],20,-373897302),n=ya(n,r,i,s,e[5],5,-701558691),s=ya(s,n,r,i,e[10],9,38016083),i=ya(i,s,n,r,e[15],14,-660478335),r=ya(r,i,s,n,e[4],20,-405537848),n=ya(n,r,i,s,e[9],5,568446438),s=ya(s,n,r,i,e[14],9,-1019803690),i=ya(i,s,n,r,e[3],14,-187363961),r=ya(r,i,s,n,e[8],20,1163531501),n=ya(n,r,i,s,e[13],5,-1444681467),s=ya(s,n,r,i,e[2],9,-51403784),i=ya(i,s,n,r,e[7],14,1735328473),n=va(n,r=ya(r,i,s,n,e[12],20,-1926607734),i,s,e[5],4,-378558),s=va(s,n,r,i,e[8],11,-2022574463),i=va(i,s,n,r,e[11],16,1839030562),r=va(r,i,s,n,e[14],23,-35309556),n=va(n,r,i,s,e[1],4,-1530992060),s=va(s,n,r,i,e[4],11,1272893353),i=va(i,s,n,r,e[7],16,-155497632),r=va(r,i,s,n,e[10],23,-1094730640),n=va(n,r,i,s,e[13],4,681279174),s=va(s,n,r,i,e[0],11,-358537222),i=va(i,s,n,r,e[3],16,-722521979),r=va(r,i,s,n,e[6],23,76029189),n=va(n,r,i,s,e[9],4,-640364487),s=va(s,n,r,i,e[12],11,-421815835),i=va(i,s,n,r,e[15],16,530742520),n=ba(n,r=va(r,i,s,n,e[2],23,-995338651),i,s,e[0],6,-198630844),s=ba(s,n,r,i,e[7],10,1126891415),i=ba(i,s,n,r,e[14],15,-1416354905),r=ba(r,i,s,n,e[5],21,-57434055),n=ba(n,r,i,s,e[12],6,1700485571),s=ba(s,n,r,i,e[3],10,-1894986606),i=ba(i,s,n,r,e[10],15,-1051523),r=ba(r,i,s,n,e[1],21,-2054922799),n=ba(n,r,i,s,e[8],6,1873313359),s=ba(s,n,r,i,e[15],10,-30611744),i=ba(i,s,n,r,e[6],15,-1560198380),r=ba(r,i,s,n,e[13],21,1309151649),n=ba(n,r,i,s,e[4],6,-145523070),s=ba(s,n,r,i,e[11],10,-1120210379),i=ba(i,s,n,r,e[2],15,718787259),r=ba(r,i,s,n,e[9],21,-343485551),t[0]=jf(n,t[0]),t[1]=jf(r,t[1]),t[2]=jf(i,t[2]),t[3]=jf(s,t[3])}function Pv(t,e,n,r,i,s){return e=jf(jf(e,t),jf(r,s)),jf(e<<i|e>>>32-i,n)}function xa(t,e,n,r,i,s,a){return Pv(e&n|~e&r,t,e,i,s,a)}function ya(t,e,n,r,i,s,a){return Pv(e&r|n&~r,t,e,i,s,a)}function va(t,e,n,r,i,s,a){return Pv(e^n^r,t,e,i,s,a)}function ba(t,e,n,r,i,s,a){return Pv(n^(e|~r),t,e,i,s,a)}function qO(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)Y_(r,Dce(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(Y_(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*n,Y_(r,i),r}function Dce(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}var dR="0123456789abcdef".split("");function Mce(t){for(var e="",n=0;n<4;n++)e+=dR[t>>8*n+4&15]+dR[t>>8*n&15];return e}function Lce(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function rT(t){return qO(t).map(Lce).join("")}var Fce=(function(t){for(var e=0;e<t.length;e++)t[e]=Mce(t[e]);return t.join("")})(qO("hello"))!="5d41402abc4b2a76b9719d911017c592";function jf(t,e){if(Fce){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}function iT(t,e){var n,r,i,s;if(t!==n){for(var a=(i=t,s=1+(256/t.length|0),new Array(s+1).join(i)),o=[],c=0;c<256;c++)o[c]=c;var f=0;for(c=0;c<256;c++){var d=o[c];f=(f+d+a.charCodeAt(c))%256,o[c]=o[f],o[f]=d}n=t,r=o}else o=r;var m=e.length,g=0,y=0,E="";for(c=0;c<m;c++)y=(y+(d=o[g=(g+1)%256]))%256,o[g]=o[y],o[y]=d,a=o[(o[g]+o[y])%256],E+=String.fromCharCode(e.charCodeAt(c)^a);return E}var hR={print:4,modify:8,copy:16,"annot-forms":32};function O0(t,e,n,r){this.v=1,this.r=2;var i=192;t.forEach(function(o){if(hR.perm!==void 0)throw new Error("Invalid permission: "+o);i+=hR[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),a=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,a),this.P=-(1+(255^i)),this.encryptionKey=rT(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=iT(this.encryptionKey,this.padding)}function B0(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var i=t.charCodeAt(r);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):t[r]}return e}function pR(t){if(Ur(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var s=Math.random().toString(35);return e[n][s]=[r,!!i],s},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[n]){var a=e[n][s];try{a[0].apply(t,r)}catch(o){Mn.console&&si.error("jsPDF PubSub Error",o.message,o)}a[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function R2(t){if(!(this instanceof R2))return new R2(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function HO(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function jd(t,e,n,r,i){if(!(this instanceof jd))return new jd(t,e,n,r,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,HO.call(this,r,i)}function J0(t,e,n,r,i){if(!(this instanceof J0))return new J0(t,e,n,r,i);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,HO.call(this,r,i)}function mn(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],a=[],o=1,c=16,f="S",d=null;Ur(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,i=t.format||i,s=t.compress||t.compressPdf||s,(d=t.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),o=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(c=t.floatPrecision),f=t.defaultPathOperation||"S"),a=t.filters||(s===!0?["FlateEncode"]:a),r=r||"mm",n=(""+(n||"P")).toLowerCase();var m=t.putOnlyUsedFonts||!1,g={},y={internal:{},__private__:{}};y.__private__.PubSub=pR;var E="1.3",_=y.__private__.getPdfVersion=function(){return E};y.__private__.setPdfVersion=function(O){E=O};var A={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};y.__private__.getPageFormats=function(){return A};var C=y.__private__.getPageFormat=function(O){return A[O]};i=i||"a4";var V="compat",R="advanced",F=V;function z(){this.saveGraphicsState(),oe(new hn(Rt,0,0,-Rt,0,La()*Rt).toString()+" cm"),this.setFontSize(this.getFontSize()/Rt),f="n",F=R}function W(){this.restoreGraphicsState(),f="S",F=V}var D=y.__private__.combineFontStyleAndFontWeight=function(O,te){if(O=="bold"&&te=="normal"||O=="bold"&&te==400||O=="normal"&&te=="italic"||O=="bold"&&te=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return te&&(O=te==400||te==="normal"?O==="italic"?"italic":"normal":te!=700&&te!=="bold"||O!=="normal"?(te==700?"bold":te)+""+O:"bold"),O};y.advancedAPI=function(O){var te=F===V;return te&&z.call(this),typeof O!="function"||(O(this),te&&W.call(this)),this},y.compatAPI=function(O){var te=F===R;return te&&W.call(this),typeof O!="function"||(O(this),te&&z.call(this)),this},y.isAdvancedAPI=function(){return F===R};var L,k=function(O){if(F!==R)throw new Error(O+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},q=y.roundToPrecision=y.__private__.roundToPrecision=function(O,te){var Ee=e||te;if(isNaN(O)||isNaN(Ee))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return O.toFixed(Ee).replace(/0+$/,"")};L=y.hpf=y.__private__.hpf=typeof c=="number"?function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.hpf");return q(O,c)}:c==="smart"?function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.hpf");return q(O,O>-1&&O<1?16:5)}:function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.hpf");return q(O,16)};var P=y.f2=y.__private__.f2=function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.f2");return q(O,2)},M=y.__private__.f3=function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.f3");return q(O,3)},j=y.scale=y.__private__.scale=function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.scale");return F===V?O*Rt:F===R?O:void 0},ae=function(O){return j((function(te){return F===V?La()-te:F===R?te:void 0})(O))};y.__private__.setPrecision=y.setPrecision=function(O){typeof parseInt(O,10)=="number"&&(e=parseInt(O,10))};var Ae,fe="00000000000000000000000000000000",xe=y.__private__.getFileId=function(){return fe},Ne=y.__private__.setFileId=function(O){return fe=O!==void 0&&/^[a-fA-F0-9]{32}$/.test(O)?O.toUpperCase():fe.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(ti=new O0(d.userPermissions,d.userPassword,d.ownerPassword,fe)),fe};y.setFileId=function(O){return Ne(O),this},y.getFileId=function(){return xe()};var me=y.__private__.convertDateToPDFDate=function(O){var te=O.getTimezoneOffset(),Ee=te<0?"+":"-",Me=Math.floor(Math.abs(te/60)),je=Math.abs(te%60),dt=[Ee,X(Me),"'",X(je),"'"].join("");return["D:",O.getFullYear(),X(O.getMonth()+1),X(O.getDate()),X(O.getHours()),X(O.getMinutes()),X(O.getSeconds()),dt].join("")},Re=y.__private__.convertPDFDateToDate=function(O){var te=parseInt(O.substr(2,4),10),Ee=parseInt(O.substr(6,2),10)-1,Me=parseInt(O.substr(8,2),10),je=parseInt(O.substr(10,2),10),dt=parseInt(O.substr(12,2),10),vt=parseInt(O.substr(14,2),10);return new Date(te,Ee,Me,je,dt,vt,0)},re=y.__private__.setCreationDate=function(O){var te;if(O===void 0&&(O=new Date),O instanceof Date)te=me(O);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(O))throw new Error("Invalid argument passed to jsPDF.setCreationDate");te=O}return Ae=te},B=y.__private__.getCreationDate=function(O){var te=Ae;return O==="jsDate"&&(te=Re(Ae)),te};y.setCreationDate=function(O){return re(O),this},y.getCreationDate=function(O){return B(O)};var Y,X=y.__private__.padd2=function(O){return("0"+parseInt(O)).slice(-2)},Q=y.__private__.padd2Hex=function(O){return("00"+(O=O.toString())).substr(O.length)},ce=0,_e=[],Pe=[],Z=0,Ce=[],qe=[],ee=!1,Ie=Pe;y.__private__.setCustomOutputDestination=function(O){ee=!0,Ie=O};var Ye=function(O){ee||(Ie=O)};y.__private__.resetCustomOutputDestination=function(){ee=!1,Ie=Pe};var oe=y.__private__.out=function(O){return O=O.toString(),Z+=O.length+1,Ie.push(O),Ie},rt=y.__private__.write=function(O){return oe(arguments.length===1?O.toString():Array.prototype.join.call(arguments," "))},st=y.__private__.getArrayBuffer=function(O){for(var te=O.length,Ee=new ArrayBuffer(te),Me=new Uint8Array(Ee);te--;)Me[te]=O.charCodeAt(te);return Ee},ft=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];y.__private__.getStandardFonts=function(){return ft};var tt=t.fontSize||16;y.__private__.setFontSize=y.setFontSize=function(O){return tt=F===R?O/Rt:O,this};var wt,At=y.__private__.getFontSize=y.getFontSize=function(){return F===V?tt:tt*Rt},Pt=t.R2L||!1;y.__private__.setR2L=y.setR2L=function(O){return Pt=O,this},y.__private__.getR2L=y.getR2L=function(){return Pt};var jt,Zt=y.__private__.setZoomMode=function(O){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(O))wt=O;else if(isNaN(O)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(O)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+O+'" is not recognized.');wt=O}else wt=parseInt(O,10)};y.__private__.getZoomMode=function(){return wt};var Gt,Wt=y.__private__.setPageMode=function(O){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(O)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+O+'" is not recognized.');jt=O};y.__private__.getPageMode=function(){return jt};var Nn=y.__private__.setLayoutMode=function(O){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(O)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+O+'" is not recognized.');Gt=O};y.__private__.getLayoutMode=function(){return Gt},y.__private__.setDisplayMode=y.setDisplayMode=function(O,te,Ee){return Zt(O),Nn(te),Wt(Ee),this};var en={title:"",subject:"",author:"",keywords:"",creator:""};y.__private__.getDocumentProperty=function(O){if(Object.keys(en).indexOf(O)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return en[O]},y.__private__.getDocumentProperties=function(){return en},y.__private__.setDocumentProperties=y.setProperties=y.setDocumentProperties=function(O){for(var te in en)en.hasOwnProperty(te)&&O[te]&&(en[te]=O[te]);return this},y.__private__.setDocumentProperty=function(O,te){if(Object.keys(en).indexOf(O)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return en[O]=te};var Ft,Rt,Nt,qn,Bt,Ct={},zt={},xn=[],cn={},Jn={},gn={},dn={},ar=null,un=0,Yt=[],Ln=new pR(y),oi=t.hotfixes||[],li={},Rs={},Zr=[],hn=function O(te,Ee,Me,je,dt,vt){if(!(this instanceof O))return new O(te,Ee,Me,je,dt,vt);isNaN(te)&&(te=1),isNaN(Ee)&&(Ee=0),isNaN(Me)&&(Me=0),isNaN(je)&&(je=1),isNaN(dt)&&(dt=0),isNaN(vt)&&(vt=0),this._matrix=[te,Ee,Me,je,dt,vt]};Object.defineProperty(hn.prototype,"sx",{get:function(){return this._matrix[0]},set:function(O){this._matrix[0]=O}}),Object.defineProperty(hn.prototype,"shy",{get:function(){return this._matrix[1]},set:function(O){this._matrix[1]=O}}),Object.defineProperty(hn.prototype,"shx",{get:function(){return this._matrix[2]},set:function(O){this._matrix[2]=O}}),Object.defineProperty(hn.prototype,"sy",{get:function(){return this._matrix[3]},set:function(O){this._matrix[3]=O}}),Object.defineProperty(hn.prototype,"tx",{get:function(){return this._matrix[4]},set:function(O){this._matrix[4]=O}}),Object.defineProperty(hn.prototype,"ty",{get:function(){return this._matrix[5]},set:function(O){this._matrix[5]=O}}),Object.defineProperty(hn.prototype,"a",{get:function(){return this._matrix[0]},set:function(O){this._matrix[0]=O}}),Object.defineProperty(hn.prototype,"b",{get:function(){return this._matrix[1]},set:function(O){this._matrix[1]=O}}),Object.defineProperty(hn.prototype,"c",{get:function(){return this._matrix[2]},set:function(O){this._matrix[2]=O}}),Object.defineProperty(hn.prototype,"d",{get:function(){return this._matrix[3]},set:function(O){this._matrix[3]=O}}),Object.defineProperty(hn.prototype,"e",{get:function(){return this._matrix[4]},set:function(O){this._matrix[4]=O}}),Object.defineProperty(hn.prototype,"f",{get:function(){return this._matrix[5]},set:function(O){this._matrix[5]=O}}),Object.defineProperty(hn.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(hn.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(hn.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(hn.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),hn.prototype.join=function(O){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(L).join(O)},hn.prototype.multiply=function(O){var te=O.sx*this.sx+O.shy*this.shx,Ee=O.sx*this.shy+O.shy*this.sy,Me=O.shx*this.sx+O.sy*this.shx,je=O.shx*this.shy+O.sy*this.sy,dt=O.tx*this.sx+O.ty*this.shx+this.tx,vt=O.tx*this.shy+O.ty*this.sy+this.ty;return new hn(te,Ee,Me,je,dt,vt)},hn.prototype.decompose=function(){var O=this.sx,te=this.shy,Ee=this.shx,Me=this.sy,je=this.tx,dt=this.ty,vt=Math.sqrt(O*O+te*te),Jt=(O/=vt)*Ee+(te/=vt)*Me;Ee-=O*Jt,Me-=te*Jt;var sn=Math.sqrt(Ee*Ee+Me*Me);return Jt/=sn,O*(Me/=sn)<te*(Ee/=sn)&&(O=-O,te=-te,Jt=-Jt,vt=-vt),{scale:new hn(vt,0,0,sn,0,0),translate:new hn(1,0,0,1,je,dt),rotate:new hn(O,te,-te,O,0,0),skew:new hn(1,0,Jt,1,0,0)}},hn.prototype.toString=function(O){return this.join(" ")},hn.prototype.inversed=function(){var O=this.sx,te=this.shy,Ee=this.shx,Me=this.sy,je=this.tx,dt=this.ty,vt=1/(O*Me-te*Ee),Jt=Me*vt,sn=-te*vt,wn=-Ee*vt,yn=O*vt;return new hn(Jt,sn,wn,yn,-Jt*je-wn*dt,-sn*je-yn*dt)},hn.prototype.applyToPoint=function(O){var te=O.x*this.sx+O.y*this.shx+this.tx,Ee=O.x*this.shy+O.y*this.sy+this.ty;return new ns(te,Ee)},hn.prototype.applyToRectangle=function(O){var te=this.applyToPoint(O),Ee=this.applyToPoint(new ns(O.x+O.w,O.y+O.h));return new Xa(te.x,te.y,Ee.x-te.x,Ee.y-te.y)},hn.prototype.clone=function(){var O=this.sx,te=this.shy,Ee=this.shx,Me=this.sy,je=this.tx,dt=this.ty;return new hn(O,te,Ee,Me,je,dt)},y.Matrix=hn;var Le=y.matrixMult=function(O,te){return te.multiply(O)},Lt=new hn(1,0,0,1,0,0);y.unitMatrix=y.identityMatrix=Lt;var qt=function(O,te){if(!Jn[O]){var Ee=(te instanceof jd?"Sh":"P")+(Object.keys(cn).length+1).toString(10);te.id=Ee,Jn[O]=Ee,cn[Ee]=te,Ln.publish("addPattern",te)}};y.ShadingPattern=jd,y.TilingPattern=J0,y.addShadingPattern=function(O,te){return k("addShadingPattern()"),qt(O,te),this},y.beginTilingPattern=function(O){k("beginTilingPattern()"),Ja(O.boundingBox[0],O.boundingBox[1],O.boundingBox[2]-O.boundingBox[0],O.boundingBox[3]-O.boundingBox[1],O.matrix)},y.endTilingPattern=function(O,te){k("endTilingPattern()"),te.stream=qe[Y].join(`
`),qt(O,te),Ln.publish("endTilingPattern",te),Zr.pop().restore()};var $n,tn=y.__private__.newObject=function(){var O=Hn();return ie(O,!0),O},Hn=y.__private__.newObjectDeferred=function(){return ce++,_e[ce]=function(){return Z},ce},ie=function(O,te){return te=typeof te=="boolean"&&te,_e[O]=Z,te&&oe(O+" 0 obj"),O},ve=y.__private__.newAdditionalObject=function(){var O={objId:Hn(),content:""};return Ce.push(O),O},he=Hn(),ge=Hn(),be=y.__private__.decodeColorString=function(O){var te=O.split(" ");if(te.length!==2||te[1]!=="g"&&te[1]!=="G")te.length!==5||te[4]!=="k"&&te[4]!=="K"||(te=[(1-te[0])*(1-te[3]),(1-te[1])*(1-te[3]),(1-te[2])*(1-te[3]),"r"]);else{var Ee=parseFloat(te[0]);te=[Ee,Ee,Ee,"r"]}for(var Me="#",je=0;je<3;je++)Me+=("0"+Math.floor(255*parseFloat(te[je])).toString(16)).slice(-2);return Me},we=y.__private__.encodeColorString=function(O){var te;typeof O=="string"&&(O={ch1:O});var Ee=O.ch1,Me=O.ch2,je=O.ch3,dt=O.ch4,vt=O.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Ee=="string"&&Ee.charAt(0)!=="#"){var Jt=new jO(Ee);if(Jt.ok)Ee=Jt.toHex();else if(!/^\d*\.?\d*$/.test(Ee))throw new Error('Invalid color "'+Ee+'" passed to jsPDF.encodeColorString.')}if(typeof Ee=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Ee)&&(Ee="#"+Ee[1]+Ee[1]+Ee[2]+Ee[2]+Ee[3]+Ee[3]),typeof Ee=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Ee)){var sn=parseInt(Ee.substr(1),16);Ee=sn>>16&255,Me=sn>>8&255,je=255&sn}if(Me===void 0||dt===void 0&&Ee===Me&&Me===je)te=typeof Ee=="string"?Ee+" "+vt[0]:O.precision===2?P(Ee/255)+" "+vt[0]:M(Ee/255)+" "+vt[0];else if(dt===void 0||Ur(dt)==="object"){if(dt&&!isNaN(dt.a)&&dt.a===0)return["1.","1.","1.",vt[1]].join(" ");te=typeof Ee=="string"?[Ee,Me,je,vt[1]].join(" "):O.precision===2?[P(Ee/255),P(Me/255),P(je/255),vt[1]].join(" "):[M(Ee/255),M(Me/255),M(je/255),vt[1]].join(" ")}else te=typeof Ee=="string"?[Ee,Me,je,dt,vt[2]].join(" "):O.precision===2?[P(Ee),P(Me),P(je),P(dt),vt[2]].join(" "):[M(Ee),M(Me),M(je),M(dt),vt[2]].join(" ");return te},Ue=y.__private__.getFilters=function(){return a},at=y.__private__.putStream=function(O){var te=(O=O||{}).data||"",Ee=O.filters||Ue(),Me=O.alreadyAppliedFilters||[],je=O.addLength1||!1,dt=te.length,vt=O.objectId,Jt=function(H){return H};if(d!==null&&vt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(Jt=ti.encryptor(vt,0));var sn={};Ee===!0&&(Ee=["FlateEncode"]);var wn=O.additionalKeyValues||[],yn=(sn=mn.API.processDataByFilters!==void 0?mn.API.processDataByFilters(te,Ee):{data:te,reverseChain:[]}).reverseChain+(Array.isArray(Me)?Me.join(" "):Me.toString());if(sn.data.length!==0&&(wn.push({key:"Length",value:sn.data.length}),je===!0&&wn.push({key:"Length1",value:dt})),yn.length!=0)if(yn.split("/").length-1==1)wn.push({key:"Filter",value:yn});else{wn.push({key:"Filter",value:"["+yn+"]"});for(var er=0;er<wn.length;er+=1)if(wn[er].key==="DecodeParms"){for(var zr=[],Mr=0;Mr<sn.reverseChain.split("/").length-1;Mr+=1)zr.push("null");zr.push(wn[er].value),wn[er].value="["+zr.join(" ")+"]"}}oe("<<");for(var w=0;w<wn.length;w++)oe("/"+wn[w].key+" "+wn[w].value);oe(">>"),sn.data.length!==0&&(oe("stream"),oe(Jt(sn.data)),oe("endstream"))},Be=y.__private__.putPage=function(O){var te=O.number,Ee=O.data,Me=O.objId,je=O.contentsObjId;ie(Me,!0),oe("<</Type /Page"),oe("/Parent "+O.rootDictionaryObjId+" 0 R"),oe("/Resources "+O.resourceDictionaryObjId+" 0 R"),oe("/MediaBox ["+parseFloat(L(O.mediaBox.bottomLeftX))+" "+parseFloat(L(O.mediaBox.bottomLeftY))+" "+L(O.mediaBox.topRightX)+" "+L(O.mediaBox.topRightY)+"]"),O.cropBox!==null&&oe("/CropBox ["+L(O.cropBox.bottomLeftX)+" "+L(O.cropBox.bottomLeftY)+" "+L(O.cropBox.topRightX)+" "+L(O.cropBox.topRightY)+"]"),O.bleedBox!==null&&oe("/BleedBox ["+L(O.bleedBox.bottomLeftX)+" "+L(O.bleedBox.bottomLeftY)+" "+L(O.bleedBox.topRightX)+" "+L(O.bleedBox.topRightY)+"]"),O.trimBox!==null&&oe("/TrimBox ["+L(O.trimBox.bottomLeftX)+" "+L(O.trimBox.bottomLeftY)+" "+L(O.trimBox.topRightX)+" "+L(O.trimBox.topRightY)+"]"),O.artBox!==null&&oe("/ArtBox ["+L(O.artBox.bottomLeftX)+" "+L(O.artBox.bottomLeftY)+" "+L(O.artBox.topRightX)+" "+L(O.artBox.topRightY)+"]"),typeof O.userUnit=="number"&&O.userUnit!==1&&oe("/UserUnit "+O.userUnit),Ln.publish("putPage",{objId:Me,pageContext:Yt[te],pageNumber:te,page:Ee}),oe("/Contents "+je+" 0 R"),oe(">>"),oe("endobj");var dt=Ee.join(`
`);return F===R&&(dt+=`
Q`),ie(je,!0),at({data:dt,filters:Ue(),objectId:je}),oe("endobj"),Me},ze=y.__private__.putPages=function(){var O,te,Ee=[];for(O=1;O<=un;O++)Yt[O].objId=Hn(),Yt[O].contentsObjId=Hn();for(O=1;O<=un;O++)Ee.push(Be({number:O,data:qe[O],objId:Yt[O].objId,contentsObjId:Yt[O].contentsObjId,mediaBox:Yt[O].mediaBox,cropBox:Yt[O].cropBox,bleedBox:Yt[O].bleedBox,trimBox:Yt[O].trimBox,artBox:Yt[O].artBox,userUnit:Yt[O].userUnit,rootDictionaryObjId:he,resourceDictionaryObjId:ge}));ie(he,!0),oe("<</Type /Pages");var Me="/Kids [";for(te=0;te<un;te++)Me+=Ee[te]+" 0 R ";oe(Me+"]"),oe("/Count "+un),oe(">>"),oe("endobj"),Ln.publish("postPutPages")},Xe=function(O){Ln.publish("putFont",{font:O,out:oe,newObject:tn,putStream:at}),O.isAlreadyPutted!==!0&&(O.objectNumber=tn(),oe("<<"),oe("/Type /Font"),oe("/BaseFont /"+B0(O.postScriptName)),oe("/Subtype /Type1"),typeof O.encoding=="string"&&oe("/Encoding /"+O.encoding),oe("/FirstChar 32"),oe("/LastChar 255"),oe(">>"),oe("endobj"))},bt=function(O){O.objectNumber=tn();var te=[];te.push({key:"Type",value:"/XObject"}),te.push({key:"Subtype",value:"/Form"}),te.push({key:"BBox",value:"["+[L(O.x),L(O.y),L(O.x+O.width),L(O.y+O.height)].join(" ")+"]"}),te.push({key:"Matrix",value:"["+O.matrix.toString()+"]"});var Ee=O.pages[1].join(`
`);at({data:Ee,additionalKeyValues:te,objectId:O.objectNumber}),oe("endobj")},St=function(O,te){te||(te=21);var Ee=tn(),Me=(function(vt,Jt){var sn,wn=[],yn=1/(Jt-1);for(sn=0;sn<1;sn+=yn)wn.push(sn);if(wn.push(1),vt[0].offset!=0){var er={offset:0,color:vt[0].color};vt.unshift(er)}if(vt[vt.length-1].offset!=1){var zr={offset:1,color:vt[vt.length-1].color};vt.push(zr)}for(var Mr="",w=0,H=0;H<wn.length;H++){for(sn=wn[H];sn>vt[w+1].offset;)w++;var J=vt[w].offset,pe=(sn-J)/(vt[w+1].offset-J),Ge=vt[w].color,et=vt[w+1].color;Mr+=Q(Math.round((1-pe)*Ge[0]+pe*et[0]).toString(16))+Q(Math.round((1-pe)*Ge[1]+pe*et[1]).toString(16))+Q(Math.round((1-pe)*Ge[2]+pe*et[2]).toString(16))}return Mr.trim()})(O.colors,te),je=[];je.push({key:"FunctionType",value:"0"}),je.push({key:"Domain",value:"[0.0 1.0]"}),je.push({key:"Size",value:"["+te+"]"}),je.push({key:"BitsPerSample",value:"8"}),je.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),je.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),at({data:Me,additionalKeyValues:je,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Ee}),oe("endobj"),O.objectNumber=tn(),oe("<< /ShadingType "+O.type),oe("/ColorSpace /DeviceRGB");var dt="/Coords ["+L(parseFloat(O.coords[0]))+" "+L(parseFloat(O.coords[1]))+" ";O.type===2?dt+=L(parseFloat(O.coords[2]))+" "+L(parseFloat(O.coords[3])):dt+=L(parseFloat(O.coords[2]))+" "+L(parseFloat(O.coords[3]))+" "+L(parseFloat(O.coords[4]))+" "+L(parseFloat(O.coords[5])),oe(dt+="]"),O.matrix&&oe("/Matrix ["+O.matrix.toString()+"]"),oe("/Function "+Ee+" 0 R"),oe("/Extend [true true]"),oe(">>"),oe("endobj")},Mt=function(O,te){var Ee=Hn(),Me=tn();te.push({resourcesOid:Ee,objectOid:Me}),O.objectNumber=Me;var je=[];je.push({key:"Type",value:"/Pattern"}),je.push({key:"PatternType",value:"1"}),je.push({key:"PaintType",value:"1"}),je.push({key:"TilingType",value:"1"}),je.push({key:"BBox",value:"["+O.boundingBox.map(L).join(" ")+"]"}),je.push({key:"XStep",value:L(O.xStep)}),je.push({key:"YStep",value:L(O.yStep)}),je.push({key:"Resources",value:Ee+" 0 R"}),O.matrix&&je.push({key:"Matrix",value:"["+O.matrix.toString()+"]"}),at({data:O.stream,additionalKeyValues:je,objectId:O.objectNumber}),oe("endobj")},_t=function(O){for(var te in O.objectNumber=tn(),oe("<<"),O)switch(te){case"opacity":oe("/ca "+P(O[te]));break;case"stroke-opacity":oe("/CA "+P(O[te]))}oe(">>"),oe("endobj")},Dt=function(O){ie(O.resourcesOid,!0),oe("<<"),oe("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var te in oe("/Font <<"),Ct)Ct.hasOwnProperty(te)&&(m===!1||m===!0&&g.hasOwnProperty(te))&&oe("/"+te+" "+Ct[te].objectNumber+" 0 R");oe(">>")})(),(function(){if(Object.keys(cn).length>0){for(var te in oe("/Shading <<"),cn)cn.hasOwnProperty(te)&&cn[te]instanceof jd&&cn[te].objectNumber>=0&&oe("/"+te+" "+cn[te].objectNumber+" 0 R");Ln.publish("putShadingPatternDict"),oe(">>")}})(),(function(te){if(Object.keys(cn).length>0){for(var Ee in oe("/Pattern <<"),cn)cn.hasOwnProperty(Ee)&&cn[Ee]instanceof y.TilingPattern&&cn[Ee].objectNumber>=0&&cn[Ee].objectNumber<te&&oe("/"+Ee+" "+cn[Ee].objectNumber+" 0 R");Ln.publish("putTilingPatternDict"),oe(">>")}})(O.objectOid),(function(){if(Object.keys(gn).length>0){var te;for(te in oe("/ExtGState <<"),gn)gn.hasOwnProperty(te)&&gn[te].objectNumber>=0&&oe("/"+te+" "+gn[te].objectNumber+" 0 R");Ln.publish("putGStateDict"),oe(">>")}})(),(function(){for(var te in oe("/XObject <<"),li)li.hasOwnProperty(te)&&li[te].objectNumber>=0&&oe("/"+te+" "+li[te].objectNumber+" 0 R");Ln.publish("putXobjectDict"),oe(">>")})(),oe(">>"),oe("endobj")},Xt=function(O){zt[O.fontName]=zt[O.fontName]||{},zt[O.fontName][O.fontStyle]=O.id},mr=function(O,te,Ee,Me,je){var dt={id:"F"+(Object.keys(Ct).length+1).toString(10),postScriptName:O,fontName:te,fontStyle:Ee,encoding:Me,isStandardFont:je||!1,metadata:{}};return Ln.publish("addFont",{font:dt,instance:this}),Ct[dt.id]=dt,Xt(dt),dt.id},Gn=y.__private__.pdfEscape=y.pdfEscape=function(O,te){return(function(Ee,Me){var je,dt,vt,Jt,sn,wn,yn,er,zr;if(vt=(Me=Me||{}).sourceEncoding||"Unicode",sn=Me.outputEncoding,(Me.autoencode||sn)&&Ct[Ft].metadata&&Ct[Ft].metadata[vt]&&Ct[Ft].metadata[vt].encoding&&(Jt=Ct[Ft].metadata[vt].encoding,!sn&&Ct[Ft].encoding&&(sn=Ct[Ft].encoding),!sn&&Jt.codePages&&(sn=Jt.codePages[0]),typeof sn=="string"&&(sn=Jt[sn]),sn)){for(yn=!1,wn=[],je=0,dt=Ee.length;je<dt;je++)(er=sn[Ee.charCodeAt(je)])?wn.push(String.fromCharCode(er)):wn.push(Ee[je]),wn[je].charCodeAt(0)>>8&&(yn=!0);Ee=wn.join("")}for(je=Ee.length;yn===void 0&&je!==0;)Ee.charCodeAt(je-1)>>8&&(yn=!0),je--;if(!yn)return Ee;for(wn=Me.noBOM?[]:[254,255],je=0,dt=Ee.length;je<dt;je++){if((zr=(er=Ee.charCodeAt(je))>>8)>>8)throw new Error("Character at position "+je+" of string '"+Ee+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");wn.push(zr),wn.push(er-(zr<<8))}return String.fromCharCode.apply(void 0,wn)})(O,te).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},wr=y.__private__.beginPage=function(O){qe[++un]=[],Yt[un]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(O[0]),topRightY:Number(O[1])}},ua(un),Ye(qe[Y])},Gi=function(O,te){var Ee,Me,je;switch(n=te||n,typeof O=="string"&&(Ee=C(O.toLowerCase()),Array.isArray(Ee)&&(Me=Ee[0],je=Ee[1])),Array.isArray(O)&&(Me=O[0]*Rt,je=O[1]*Rt),isNaN(Me)&&(Me=i[0],je=i[1]),(Me>14400||je>14400)&&(si.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Me=Math.min(14400,Me),je=Math.min(14400,je)),i=[Me,je],n.substr(0,1)){case"l":je>Me&&(i=[je,Me]);break;case"p":Me>je&&(i=[je,Me])}wr(i),bn(Ms),oe(Ks),Xs!==0&&oe(Xs+" J"),Ai!==0&&oe(Ai+" j"),Ln.publish("addPage",{pageNumber:un})},$s=function(O){O>0&&O<=un&&(qe.splice(O,1),Yt.splice(O,1),un--,Y>un&&(Y=un),this.setPage(Y))},ua=function(O){O>0&&O<=un&&(Y=O)},Ps=y.__private__.getNumberOfPages=y.getNumberOfPages=function(){return qe.length-1},wo=function(O,te,Ee){var Me,je=void 0;return Ee=Ee||{},O=O!==void 0?O:Ct[Ft].fontName,te=te!==void 0?te:Ct[Ft].fontStyle,Me=O.toLowerCase(),zt[Me]!==void 0&&zt[Me][te]!==void 0?je=zt[Me][te]:zt[O]!==void 0&&zt[O][te]!==void 0?je=zt[O][te]:Ee.disableWarning===!1&&si.warn("Unable to look up font label for font '"+O+"', '"+te+"'. Refer to getFontList() for available fonts."),je||Ee.noFallback||(je=zt.times[te])==null&&(je=zt.times.normal),je},ei=y.__private__.putInfo=function(){var O=tn(),te=function(Me){return Me};for(var Ee in d!==null&&(te=ti.encryptor(O,0)),oe("<<"),oe("/Producer ("+Gn(te("jsPDF "+mn.version))+")"),en)en.hasOwnProperty(Ee)&&en[Ee]&&oe("/"+Ee.substr(0,1).toUpperCase()+Ee.substr(1)+" ("+Gn(te(en[Ee]))+")");oe("/CreationDate ("+Gn(te(Ae))+")"),oe(">>"),oe("endobj")},ts=y.__private__.putCatalog=function(O){var te=(O=O||{}).rootDictionaryObjId||he;switch(tn(),oe("<<"),oe("/Type /Catalog"),oe("/Pages "+te+" 0 R"),wt||(wt="fullwidth"),wt){case"fullwidth":oe("/OpenAction [3 0 R /FitH null]");break;case"fullheight":oe("/OpenAction [3 0 R /FitV null]");break;case"fullpage":oe("/OpenAction [3 0 R /Fit]");break;case"original":oe("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Ee=""+wt;Ee.substr(Ee.length-1)==="%"&&(wt=parseInt(wt)/100),typeof wt=="number"&&oe("/OpenAction [3 0 R /XYZ null null "+P(wt)+"]")}switch(Gt||(Gt="continuous"),Gt){case"continuous":oe("/PageLayout /OneColumn");break;case"single":oe("/PageLayout /SinglePage");break;case"two":case"twoleft":oe("/PageLayout /TwoColumnLeft");break;case"tworight":oe("/PageLayout /TwoColumnRight")}jt&&oe("/PageMode /"+jt),Ln.publish("putCatalog"),oe(">>"),oe("endobj")},mi=y.__private__.putTrailer=function(){oe("trailer"),oe("<<"),oe("/Size "+(ce+1)),oe("/Root "+ce+" 0 R"),oe("/Info "+(ce-1)+" 0 R"),d!==null&&oe("/Encrypt "+ti.oid+" 0 R"),oe("/ID [ <"+fe+"> <"+fe+"> ]"),oe(">>")},Qn=y.__private__.putHeader=function(){oe("%PDF-"+E),oe("%")},To=y.__private__.putXRef=function(){var O="0000000000";oe("xref"),oe("0 "+(ce+1)),oe("0000000000 65535 f ");for(var te=1;te<=ce;te++)typeof _e[te]=="function"?oe((O+_e[te]()).slice(-10)+" 00000 n "):_e[te]!==void 0?oe((O+_e[te]).slice(-10)+" 00000 n "):oe("0000000000 00000 n ")},fa=y.__private__.buildDocument=function(){var O;ce=0,Z=0,Pe=[],_e=[],Ce=[],he=Hn(),ge=Hn(),Ye(Pe),Ln.publish("buildDocument"),Qn(),ze(),(function(){Ln.publish("putAdditionalObjects");for(var Ee=0;Ee<Ce.length;Ee++){var Me=Ce[Ee];ie(Me.objId,!0),oe(Me.content),oe("endobj")}Ln.publish("postPutAdditionalObjects")})(),O=[],(function(){for(var Ee in Ct)Ct.hasOwnProperty(Ee)&&(m===!1||m===!0&&g.hasOwnProperty(Ee))&&Xe(Ct[Ee])})(),(function(){var Ee;for(Ee in gn)gn.hasOwnProperty(Ee)&&_t(gn[Ee])})(),(function(){for(var Ee in li)li.hasOwnProperty(Ee)&&bt(li[Ee])})(),(function(Ee){var Me;for(Me in cn)cn.hasOwnProperty(Me)&&(cn[Me]instanceof jd?St(cn[Me]):cn[Me]instanceof J0&&Mt(cn[Me],Ee))})(O),Ln.publish("putResources"),O.forEach(Dt),Dt({resourcesOid:ge,objectOid:Number.MAX_SAFE_INTEGER}),Ln.publish("postPutResources"),d!==null&&(ti.oid=tn(),oe("<<"),oe("/Filter /Standard"),oe("/V "+ti.v),oe("/R "+ti.r),oe("/U <"+ti.toHexString(ti.U)+">"),oe("/O <"+ti.toHexString(ti.O)+">"),oe("/P "+ti.P),oe(">>"),oe("endobj")),ei(),ts();var te=Z;return To(),mi(),oe("startxref"),oe(""+te),oe("%%EOF"),Ye(qe[Y]),Pe.join(`
`)},or=y.__private__.getBlob=function(O){return new Blob([st(O)],{type:"application/pdf"})},Ho=y.output=y.__private__.output=($n=function(O,te){switch(typeof(te=te||{})=="string"?te={filename:te}:te.filename=te.filename||"generated.pdf",O){case void 0:return fa();case"save":y.save(te.filename);break;case"arraybuffer":return st(fa());case"blob":return or(fa());case"bloburi":case"bloburl":if(Mn.URL!==void 0&&typeof Mn.URL.createObjectURL=="function")return Mn.URL&&Mn.URL.createObjectURL(or(fa()))||void 0;si.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Ee="",Me=fa();try{Ee=fR(Me)}catch{Ee=fR(unescape(encodeURIComponent(Me)))}return"data:application/pdf;filename="+te.filename+";base64,"+Ee;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Mn)==="[object Window]"){var je="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",dt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';te.pdfObjectUrl&&(je=te.pdfObjectUrl,dt="");var vt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+je+'"'+dt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(te)+");<\/script></body></html>",Jt=Mn.open();return Jt!==null&&Jt.document.write(vt),Jt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Mn)==="[object Window]"){var sn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(te.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+te.filename+'" width="500px" height="400px" /></body></html>',wn=Mn.open();if(wn!==null){wn.document.write(sn);var yn=this;wn.document.documentElement.querySelector("#pdfViewer").onload=function(){wn.document.title=te.filename,wn.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(yn.output("bloburl"))}}return wn}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Mn)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var er='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",te)+'"></iframe></body></html>',zr=Mn.open();if(zr!==null&&(zr.document.write(er),zr.document.title=te.filename),zr||typeof safari>"u")return zr;break;case"datauri":case"dataurl":return Mn.document.location.href=this.output("datauristring",te);default:return null}},$n.foo=function(){try{return $n.apply(this,arguments)}catch(Ee){var O=Ee.stack||"";~O.indexOf(" at ")&&(O=O.split(" at ")[1]);var te="Error in function "+O.split(`
`)[0].split("<")[0]+": "+Ee.message;if(!Mn.console)throw new Error(te);Mn.console.error(te,Ee),Mn.alert&&alert(te)}},$n.foo.bar=$n,$n.foo),Si=function(O){return Array.isArray(oi)===!0&&oi.indexOf(O)>-1};switch(r){case"pt":Rt=1;break;case"mm":Rt=72/25.4;break;case"cm":Rt=72/2.54;break;case"in":Rt=72;break;case"px":Rt=Si("px_scaling")==1?.75:96/72;break;case"pc":case"em":Rt=12;break;case"ex":Rt=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);Rt=r}var ti=null;re(),Ne();var gi=y.__private__.getPageInfo=y.getPageInfo=function(O){if(isNaN(O)||O%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Yt[O].objId,pageNumber:O,pageContext:Yt[O]}},bl=y.__private__.getPageInfoByObjId=function(O){if(isNaN(O)||O%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var te in Yt)if(Yt[te].objId===O)break;return gi(te)},Ku=y.__private__.getCurrentPageInfo=y.getCurrentPageInfo=function(){return{objId:Yt[Y].objId,pageNumber:Y,pageContext:Yt[Y]}};y.addPage=function(){return Gi.apply(this,arguments),this},y.setPage=function(){return ua.apply(this,arguments),Ye.call(this,qe[Y]),this},y.insertPage=function(O){return this.addPage(),this.movePage(Y,O),this},y.movePage=function(O,te){var Ee,Me;if(O>te){Ee=qe[O],Me=Yt[O];for(var je=O;je>te;je--)qe[je]=qe[je-1],Yt[je]=Yt[je-1];qe[te]=Ee,Yt[te]=Me,this.setPage(te)}else if(O<te){Ee=qe[O],Me=Yt[O];for(var dt=O;dt<te;dt++)qe[dt]=qe[dt+1],Yt[dt]=Yt[dt+1];qe[te]=Ee,Yt[te]=Me,this.setPage(te)}return this},y.deletePage=function(){return $s.apply(this,arguments),this},y.__private__.text=y.text=function(O,te,Ee,Me,je){var dt,vt,Jt,sn,wn,yn,er,zr,Mr,w=(Me=Me||{}).scope||this;if(typeof O=="number"&&typeof te=="number"&&(typeof Ee=="string"||Array.isArray(Ee))){var H=Ee;Ee=te,te=O,O=H}if(arguments[3]instanceof hn==0?(Jt=arguments[4],sn=arguments[5],Ur(er=arguments[3])==="object"&&er!==null||(typeof Jt=="string"&&(sn=Jt,Jt=null),typeof er=="string"&&(sn=er,er=null),typeof er=="number"&&(Jt=er,er=null),Me={flags:er,angle:Jt,align:sn})):(k("The transform parameter of text() with a Matrix value"),Mr=je),isNaN(te)||isNaN(Ee)||O==null)throw new Error("Invalid arguments passed to jsPDF.text");if(O.length===0)return w;var J,pe="",Ge=typeof Me.lineHeightFactor=="number"?Me.lineHeightFactor:Ao,et=w.internal.scaleFactor;function kt(Tr){return Tr=Tr.split("	").join(Array(Me.TabLen||9).join(" ")),Gn(Tr,er)}function kn(Tr){for(var fr,Wr=Tr.concat(),Ci=[],tl=Wr.length;tl--;)typeof(fr=Wr.shift())=="string"?Ci.push(fr):Array.isArray(Tr)&&(fr.length===1||fr[1]===void 0&&fr[2]===void 0)?Ci.push(fr[0]):Ci.push([fr[0],fr[1],fr[2]]);return Ci}function Gr(Tr,fr){var Wr;if(typeof Tr=="string")Wr=fr(Tr)[0];else if(Array.isArray(Tr)){for(var Ci,tl,ko=Tr.concat(),eu=[],md=ko.length;md--;)typeof(Ci=ko.shift())=="string"?eu.push(fr(Ci)[0]):Array.isArray(Ci)&&typeof Ci[0]=="string"&&(tl=fr(Ci[0],Ci[1],Ci[2]),eu.push([tl[0],tl[1],tl[2]]));Wr=eu}return Wr}var Yn=!1,Nr=!0;if(typeof O=="string")Yn=!0;else if(Array.isArray(O)){var rs=O.concat();vt=[];for(var ms,Fr=rs.length;Fr--;)(typeof(ms=rs.shift())!="string"||Array.isArray(ms)&&typeof ms[0]!="string")&&(Nr=!1);Yn=Nr}if(Yn===!1)throw new Error('Type of text must be string or Array. "'+O+'" is not recognized.');typeof O=="string"&&(O=O.match(/[\r?\n]/)?O.split(/\r\n|\r|\n/g):[O]);var gs=tt/w.internal.scaleFactor,Fa=gs*(Ge-1);switch(Me.baseline){case"bottom":Ee-=Fa;break;case"top":Ee+=gs-Fa;break;case"hanging":Ee+=gs-2*Fa;break;case"middle":Ee+=gs/2-Fa}if((yn=Me.maxWidth||0)>0&&(typeof O=="string"?O=w.splitTextToSize(O,yn):Object.prototype.toString.call(O)==="[object Array]"&&(O=O.reduce(function(Tr,fr){return Tr.concat(w.splitTextToSize(fr,yn))},[]))),dt={text:O,x:te,y:Ee,options:Me,mutex:{pdfEscape:Gn,activeFontKey:Ft,fonts:Ct,activeFontSize:tt}},Ln.publish("preProcessText",dt),O=dt.text,Jt=(Me=dt.options).angle,Mr instanceof hn==0&&Jt&&typeof Jt=="number"){Jt*=Math.PI/180,Me.rotationDirection===0&&(Jt=-Jt),F===R&&(Jt=-Jt);var Ko=Math.cos(Jt),Yo=Math.sin(Jt);Mr=new hn(Ko,Yo,-Yo,Ko,0,0)}else Jt&&Jt instanceof hn&&(Mr=Jt);F!==R||Mr||(Mr=Lt),(wn=Me.charSpace||Ys)!==void 0&&(pe+=L(j(wn))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(zr=Me.horizontalScale)!==void 0&&(pe+=L(100*zr)+` Tz
`),Me.lang;var Qs=-1,Sl=Me.renderingMode!==void 0?Me.renderingMode:Me.stroke,Yu=w.internal.getCurrentPageInfo().pageContext;switch(Sl){case 0:case!1:case"fill":Qs=0;break;case 1:case!0:case"stroke":Qs=1;break;case 2:case"fillThenStroke":Qs=2;break;case 3:case"invisible":Qs=3;break;case 4:case"fillAndAddForClipping":Qs=4;break;case 5:case"strokeAndAddPathForClipping":Qs=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Qs=6;break;case 7:case"addToPathForClipping":Qs=7}var hd=Yu.usedRenderingMode!==void 0?Yu.usedRenderingMode:-1;Qs!==-1?pe+=Qs+` Tr
`:hd!==-1&&(pe+=`0 Tr
`),Qs!==-1&&(Yu.usedRenderingMode=Qs),sn=Me.align||"left";var Oa,Co=tt*Ge,Al=w.internal.pageSize.getWidth(),pd=Ct[Ft];wn=Me.charSpace||Ys,yn=Me.maxWidth||0,er=Object.assign({autoencode:!0,noBOM:!0},Me.flags);var Io=[],lc=function(Tr){return w.getStringUnitWidth(Tr,{font:pd,charSpace:wn,fontSize:tt,doKerning:!1})*tt/et};if(Object.prototype.toString.call(O)==="[object Array]"){var ha;vt=kn(O),sn!=="left"&&(Oa=vt.map(lc));var Zs,Xo=0;if(sn==="right"){te-=Oa[0],O=[],Fr=vt.length;for(var Jo=0;Jo<Fr;Jo++)Jo===0?(Zs=$i(te),ha=Di(Ee)):(Zs=j(Xo-Oa[Jo]),ha=-Co),O.push([vt[Jo],Zs,ha]),Xo=Oa[Jo]}else if(sn==="center"){te-=Oa[0]/2,O=[],Fr=vt.length;for(var Nl=0;Nl<Fr;Nl++)Nl===0?(Zs=$i(te),ha=Di(Ee)):(Zs=j((Xo-Oa[Nl])/2),ha=-Co),O.push([vt[Nl],Zs,ha]),Xo=Oa[Nl]}else if(sn==="left"){O=[],Fr=vt.length;for(var Xu=0;Xu<Fr;Xu++)O.push(vt[Xu])}else if(sn==="justify"&&pd.encoding==="Identity-H"){O=[],Fr=vt.length,yn=yn!==0?yn:Al;for(var Ju=0,Ni=0;Ni<Fr;Ni++)if(ha=Ni===0?Di(Ee):-Co,Zs=Ni===0?$i(te):Ju,Ni<Fr-1){var Uh=j((yn-Oa[Ni])/(vt[Ni].split(" ").length-1)),Qo=vt[Ni].split(" ");O.push([Qo[0]+" ",Zs,ha]),Ju=0;for(var Zo=1;Zo<Qo.length;Zo++){var xs=(lc(Qo[Zo-1]+" "+Qo[Zo])-lc(Qo[Zo]))*et+Uh;Zo==Qo.length-1?O.push([Qo[Zo],xs,0]):O.push([Qo[Zo]+" ",xs,0]),Ju-=xs}}else O.push([vt[Ni],Zs,ha]);O.push(["",Ju,0])}else{if(sn!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(O=[],Fr=vt.length,yn=yn!==0?yn:Al,Ni=0;Ni<Fr;Ni++){ha=Ni===0?Di(Ee):-Co,Zs=Ni===0?$i(te):0;var Cl=vt[Ni].split(" ").length-1,Qu=Cl>0?(yn-Oa[Ni])/Cl:0;Ni<Fr-1?Io.push(L(j(Qu))):Io.push(0),O.push([vt[Ni],Zs,ha])}}}(typeof Me.R2L=="boolean"?Me.R2L:Pt)===!0&&(O=Gr(O,function(Tr,fr,Wr){return[Tr.split("").reverse().join(""),fr,Wr]})),dt={text:O,x:te,y:Ee,options:Me,mutex:{pdfEscape:Gn,activeFontKey:Ft,fonts:Ct,activeFontSize:tt}},Ln.publish("postProcessText",dt),O=dt.text,J=dt.mutex.isHex||!1;var Zu=Ct[Ft].encoding;Zu!=="WinAnsiEncoding"&&Zu!=="StandardEncoding"||(O=Gr(O,function(Tr,fr,Wr){return[kt(Tr),fr,Wr]})),vt=kn(O),O=[];for(var Il,kl,el,Zc=Array.isArray(vt[0])?1:0,Ba="",Rl=function(Tr,fr,Wr){var Ci="";return Wr instanceof hn?(Wr=typeof Me.angle=="number"?Le(Wr,new hn(1,0,0,1,Tr,fr)):Le(new hn(1,0,0,1,Tr,fr),Wr),F===R&&(Wr=Le(new hn(1,0,0,-1,0,0),Wr)),Ci=Wr.join(" ")+` Tm
`):Ci=L(Tr)+" "+L(fr)+` Td
`,Ci},Ls=0;Ls<vt.length;Ls++){switch(Ba="",Zc){case 1:el=(J?"<":"(")+vt[Ls][0]+(J?">":")"),Il=parseFloat(vt[Ls][1]),kl=parseFloat(vt[Ls][2]);break;case 0:el=(J?"<":"(")+vt[Ls]+(J?">":")"),Il=$i(te),kl=Di(Ee)}Io!==void 0&&Io[Ls]!==void 0&&(Ba=Io[Ls]+` Tw
`),Ls===0?O.push(Ba+Rl(Il,kl,Mr)+el):Zc===0?O.push(Ba+el):Zc===1&&O.push(Ba+Rl(Il,kl,Mr)+el)}O=Zc===0?O.join(` Tj
T* `):O.join(` Tj
`),O+=` Tj
`;var eo=`BT
/`;return eo+=Ft+" "+tt+` Tf
`,eo+=L(tt*Ge)+` TL
`,eo+=Ma+`
`,eo+=pe,eo+=O,oe(eo+="ET"),g[Ft]=!0,w};var $c=y.__private__.clip=y.clip=function(O){return oe(O==="evenodd"?"W*":"W"),this};y.clipEvenOdd=function(){return $c("evenodd")},y.__private__.discardPath=y.discardPath=function(){return oe("n"),this};var ps=y.__private__.isValidStyle=function(O){var te=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(O)!==-1&&(te=!0),te};y.__private__.setDefaultPathOperation=y.setDefaultPathOperation=function(O){return ps(O)&&(f=O),this};var Kc=y.__private__.getStyle=y.getStyle=function(O){var te=f;switch(O){case"D":case"S":te="S";break;case"F":te="f";break;case"FD":case"DF":te="B";break;case"f":case"f*":case"B":case"B*":te=O}return te},Eo=y.close=function(){return oe("h"),this};y.stroke=function(){return oe("S"),this},y.fill=function(O){return Wi("f",O),this},y.fillEvenOdd=function(O){return Wi("f*",O),this},y.fillStroke=function(O){return Wi("B",O),this},y.fillStrokeEvenOdd=function(O){return Wi("B*",O),this};var Wi=function(O,te){Ur(te)==="object"?Xc(te,O):oe(O)},zo=function(O){O===null||F===R&&O===void 0||(O=Kc(O),oe(O))};function Yc(O,te,Ee,Me,je){var dt=new J0(te||this.boundingBox,Ee||this.xStep,Me||this.yStep,this.gState,je||this.matrix);dt.stream=this.stream;var vt=O+"$$"+this.cloneIndex+++"$$";return qt(vt,dt),dt}var Xc=function(O,te){var Ee=Jn[O.key],Me=cn[Ee];if(Me instanceof jd)oe("q"),oe(rc(te)),Me.gState&&y.setGState(Me.gState),oe(O.matrix.toString()+" cm"),oe("/"+Ee+" sh"),oe("Q");else if(Me instanceof J0){var je=new hn(1,0,0,-1,0,La());O.matrix&&(je=je.multiply(O.matrix||Lt),Ee=Yc.call(Me,O.key,O.boundingBox,O.xStep,O.yStep,je).id),oe("q"),oe("/Pattern cs"),oe("/"+Ee+" scn"),Me.gState&&y.setGState(Me.gState),oe(te),oe("Q")}},rc=function(O){switch(O){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},ic=y.moveTo=function(O,te){return oe(L(j(O))+" "+L(ae(te))+" m"),this},So=y.lineTo=function(O,te){return oe(L(j(O))+" "+L(ae(te))+" l"),this},Ds=y.curveTo=function(O,te,Ee,Me,je,dt){return oe([L(j(O)),L(ae(te)),L(j(Ee)),L(ae(Me)),L(j(je)),L(ae(dt)),"c"].join(" ")),this};y.__private__.line=y.line=function(O,te,Ee,Me,je){if(isNaN(O)||isNaN(te)||isNaN(Ee)||isNaN(Me)||!ps(je))throw new Error("Invalid arguments passed to jsPDF.line");return F===V?this.lines([[Ee-O,Me-te]],O,te,[1,1],je||"S"):this.lines([[Ee-O,Me-te]],O,te,[1,1]).stroke()},y.__private__.lines=y.lines=function(O,te,Ee,Me,je,dt){var vt,Jt,sn,wn,yn,er,zr,Mr,w,H,J,pe;if(typeof O=="number"&&(pe=Ee,Ee=te,te=O,O=pe),Me=Me||[1,1],dt=dt||!1,isNaN(te)||isNaN(Ee)||!Array.isArray(O)||!Array.isArray(Me)||!ps(je)||typeof dt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(ic(te,Ee),vt=Me[0],Jt=Me[1],wn=O.length,H=te,J=Ee,sn=0;sn<wn;sn++)(yn=O[sn]).length===2?(H=yn[0]*vt+H,J=yn[1]*Jt+J,So(H,J)):(er=yn[0]*vt+H,zr=yn[1]*Jt+J,Mr=yn[2]*vt+H,w=yn[3]*Jt+J,H=yn[4]*vt+H,J=yn[5]*Jt+J,Ds(er,zr,Mr,w,H,J));return dt&&Eo(),zo(je),this},y.path=function(O){for(var te=0;te<O.length;te++){var Ee=O[te],Me=Ee.c;switch(Ee.op){case"m":ic(Me[0],Me[1]);break;case"l":So(Me[0],Me[1]);break;case"c":Ds.apply(this,Me);break;case"h":Eo()}}return this},y.__private__.rect=y.rect=function(O,te,Ee,Me,je){if(isNaN(O)||isNaN(te)||isNaN(Ee)||isNaN(Me)||!ps(je))throw new Error("Invalid arguments passed to jsPDF.rect");return F===V&&(Me=-Me),oe([L(j(O)),L(ae(te)),L(j(Ee)),L(j(Me)),"re"].join(" ")),zo(je),this},y.__private__.triangle=y.triangle=function(O,te,Ee,Me,je,dt,vt){if(isNaN(O)||isNaN(te)||isNaN(Ee)||isNaN(Me)||isNaN(je)||isNaN(dt)||!ps(vt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Ee-O,Me-te],[je-Ee,dt-Me],[O-je,te-dt]],O,te,[1,1],vt,!0),this},y.__private__.roundedRect=y.roundedRect=function(O,te,Ee,Me,je,dt,vt){if(isNaN(O)||isNaN(te)||isNaN(Ee)||isNaN(Me)||isNaN(je)||isNaN(dt)||!ps(vt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Jt=4/3*(Math.SQRT2-1);return je=Math.min(je,.5*Ee),dt=Math.min(dt,.5*Me),this.lines([[Ee-2*je,0],[je*Jt,0,je,dt-dt*Jt,je,dt],[0,Me-2*dt],[0,dt*Jt,-je*Jt,dt,-je,dt],[2*je-Ee,0],[-je*Jt,0,-je,-dt*Jt,-je,-dt],[0,2*dt-Me],[0,-dt*Jt,je*Jt,-dt,je,-dt]],O+je,te,[1,1],vt,!0),this},y.__private__.ellipse=y.ellipse=function(O,te,Ee,Me,je){if(isNaN(O)||isNaN(te)||isNaN(Ee)||isNaN(Me)||!ps(je))throw new Error("Invalid arguments passed to jsPDF.ellipse");var dt=4/3*(Math.SQRT2-1)*Ee,vt=4/3*(Math.SQRT2-1)*Me;return ic(O+Ee,te),Ds(O+Ee,te-vt,O+dt,te-Me,O,te-Me),Ds(O-dt,te-Me,O-Ee,te-vt,O-Ee,te),Ds(O-Ee,te+vt,O-dt,te+Me,O,te+Me),Ds(O+dt,te+Me,O+Ee,te+vt,O+Ee,te),zo(je),this},y.__private__.circle=y.circle=function(O,te,Ee,Me){if(isNaN(O)||isNaN(te)||isNaN(Ee)||!ps(Me))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(O,te,Ee,Ee,Me)},y.setFont=function(O,te,Ee){return Ee&&(te=D(te,Ee)),Ft=wo(O,te,{disableWarning:!1}),this};var Da=y.__private__.getFont=y.getFont=function(){return Ct[wo.apply(y,arguments)]};y.__private__.getFontList=y.getFontList=function(){var O,te,Ee={};for(O in zt)if(zt.hasOwnProperty(O))for(te in Ee[O]=[],zt[O])zt[O].hasOwnProperty(te)&&Ee[O].push(te);return Ee},y.addFont=function(O,te,Ee,Me,je){var dt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&dt.indexOf(arguments[3])!==-1?je=arguments[3]:arguments[3]&&dt.indexOf(arguments[3])==-1&&(Ee=D(Ee,Me)),mr.call(this,O,te,Ee,je=je||"Identity-H")};var Ao,Ms=t.lineWidth||.200025,Go=y.__private__.getLineWidth=y.getLineWidth=function(){return Ms},bn=y.__private__.setLineWidth=y.setLineWidth=function(O){return Ms=O,oe(L(j(O))+" w"),this};y.__private__.setLineDash=mn.API.setLineDash=mn.API.setLineDashPattern=function(O,te){if(O=O||[],te=te||0,isNaN(te)||!Array.isArray(O))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return O=O.map(function(Ee){return L(j(Ee))}).join(" "),te=L(j(te)),oe("["+O+"] "+te+" d"),this};var _l=y.__private__.getLineHeight=y.getLineHeight=function(){return tt*Ao};y.__private__.getLineHeight=y.getLineHeight=function(){return tt*Ao};var sc=y.__private__.setLineHeightFactor=y.setLineHeightFactor=function(O){return typeof(O=O||1.15)=="number"&&(Ao=O),this},Wo=y.__private__.getLineHeightFactor=y.getLineHeightFactor=function(){return Ao};sc(t.lineHeight);var $i=y.__private__.getHorizontalCoordinate=function(O){return j(O)},Di=y.__private__.getVerticalCoordinate=function(O){return F===R?O:Yt[Y].mediaBox.topRightY-Yt[Y].mediaBox.bottomLeftY-j(O)},wl=y.__private__.getHorizontalCoordinateString=y.getHorizontalCoordinateString=function(O){return L($i(O))},Ar=y.__private__.getVerticalCoordinateString=y.getVerticalCoordinateString=function(O){return L(Di(O))},Ks=t.strokeColor||"0 G";y.__private__.getStrokeColor=y.getDrawColor=function(){return be(Ks)},y.__private__.setStrokeColor=y.setDrawColor=function(O,te,Ee,Me){return Ks=we({ch1:O,ch2:te,ch3:Ee,ch4:Me,pdfColorType:"draw",precision:2}),oe(Ks),this};var Tl=t.fillColor||"0 g";y.__private__.getFillColor=y.getFillColor=function(){return be(Tl)},y.__private__.setFillColor=y.setFillColor=function(O,te,Ee,Me){return Tl=we({ch1:O,ch2:te,ch3:Ee,ch4:Me,pdfColorType:"fill",precision:2}),oe(Tl),this};var Ma=t.textColor||"0 g",Jc=y.__private__.getTextColor=y.getTextColor=function(){return be(Ma)};y.__private__.setTextColor=y.setTextColor=function(O,te,Ee,Me){return Ma=we({ch1:O,ch2:te,ch3:Ee,ch4:Me,pdfColorType:"text",precision:3}),this};var Ys=t.charSpace,No=y.__private__.getCharSpace=y.getCharSpace=function(){return parseFloat(Ys||0)};y.__private__.setCharSpace=y.setCharSpace=function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Ys=O,this};var Xs=0;y.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},y.__private__.setLineCap=y.setLineCap=function(O){var te=y.CapJoinStyles[O];if(te===void 0)throw new Error("Line cap style of '"+O+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Xs=te,oe(te+" J"),this};var Ai=0;y.__private__.setLineJoin=y.setLineJoin=function(O){var te=y.CapJoinStyles[O];if(te===void 0)throw new Error("Line join style of '"+O+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ai=te,oe(te+" j"),this},y.__private__.setLineMiterLimit=y.__private__.setMiterLimit=y.setLineMiterLimit=y.setMiterLimit=function(O){if(O=O||0,isNaN(O))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return oe(L(j(O))+" M"),this},y.GState=R2,y.setGState=function(O){(O=typeof O=="string"?gn[dn[O]]:Ya(null,O)).equals(ar)||(oe("/"+O.id+" gs"),ar=O)};var Ya=function(O,te){if(!O||!dn[O]){var Ee=!1;for(var Me in gn)if(gn.hasOwnProperty(Me)&&gn[Me].equals(te)){Ee=!0;break}if(Ee)te=gn[Me];else{var je="GS"+(Object.keys(gn).length+1).toString(10);gn[je]=te,te.id=je}return O&&(dn[O]=te.id),Ln.publish("addGState",te),te}};y.addGState=function(O,te){return Ya(O,te),this},y.saveGraphicsState=function(){return oe("q"),xn.push({key:Ft,size:tt,color:Ma}),this},y.restoreGraphicsState=function(){oe("Q");var O=xn.pop();return Ft=O.key,tt=O.size,Ma=O.color,ar=null,this},y.setCurrentTransformationMatrix=function(O){return oe(O.toString()+" cm"),this},y.comment=function(O){return oe("#"+O),this};var ns=function(O,te){var Ee=O||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Ee},set:function(dt){isNaN(dt)||(Ee=parseFloat(dt))}});var Me=te||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Me},set:function(dt){isNaN(dt)||(Me=parseFloat(dt))}});var je="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return je},set:function(dt){je=dt.toString()}}),this},Xa=function(O,te,Ee,Me){ns.call(this,O,te),this.type="rect";var je=Ee||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return je},set:function(vt){isNaN(vt)||(je=parseFloat(vt))}});var dt=Me||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return dt},set:function(vt){isNaN(vt)||(dt=parseFloat(vt))}}),this},$o=function(){this.page=un,this.currentPage=Y,this.pages=qe.slice(0),this.pagesContext=Yt.slice(0),this.x=Nt,this.y=qn,this.matrix=Bt,this.width=da(Y),this.height=ac(Y),this.outputDestination=Ie,this.id="",this.objectNumber=-1};$o.prototype.restore=function(){un=this.page,Y=this.currentPage,Yt=this.pagesContext,qe=this.pages,Nt=this.x,qn=this.y,Bt=this.matrix,El(Y,this.width),Js(Y,this.height),Ie=this.outputDestination};var Ja=function(O,te,Ee,Me,je){Zr.push(new $o),un=Y=0,qe=[],Nt=O,qn=te,Bt=je,wr([Ee,Me])};for(var Qa in y.beginFormObject=function(O,te,Ee,Me,je){return Ja(O,te,Ee,Me,je),this},y.endFormObject=function(O){return(function(te){if(Rs[te])Zr.pop().restore();else{var Ee=new $o,Me="Xo"+(Object.keys(li).length+1).toString(10);Ee.id=Me,Rs[te]=Me,li[Me]=Ee,Ln.publish("addFormObject",Ee),Zr.pop().restore()}})(O),this},y.doFormObject=function(O,te){var Ee=li[Rs[O]];return oe("q"),oe(te.toString()+" cm"),oe("/"+Ee.id+" Do"),oe("Q"),this},y.getFormObject=function(O){var te=li[Rs[O]];return{x:te.x,y:te.y,width:te.width,height:te.height,matrix:te.matrix}},y.save=function(O,te){return O=O||"generated.pdf",(te=te||{}).returnPromise=te.returnPromise||!1,te.returnPromise===!1?(Fd(or(fa()),O),typeof Fd.unload=="function"&&Mn.setTimeout&&setTimeout(Fd.unload,911),this):new Promise(function(Ee,Me){try{var je=Fd(or(fa()),O);typeof Fd.unload=="function"&&Mn.setTimeout&&setTimeout(Fd.unload,911),Ee(je)}catch(dt){Me(dt.message)}})},mn.API)mn.API.hasOwnProperty(Qa)&&(Qa==="events"&&mn.API.events.length?(function(O,te){var Ee,Me,je;for(je=te.length-1;je!==-1;je--)Ee=te[je][0],Me=te[je][1],O.subscribe.apply(O,[Ee].concat(typeof Me=="function"?[Me]:Me))})(Ln,mn.API.events):y[Qa]=mn.API[Qa]);function da(O){return Yt[O].mediaBox.topRightX-Yt[O].mediaBox.bottomLeftX}function El(O,te){Yt[O].mediaBox.topRightX=te+Yt[O].mediaBox.bottomLeftX}function ac(O){return Yt[O].mediaBox.topRightY-Yt[O].mediaBox.bottomLeftY}function Js(O,te){Yt[O].mediaBox.topRightY=te+Yt[O].mediaBox.bottomLeftY}var Za=y.getPageWidth=function(O){return da(O=O||Y)/Rt},Qc=y.setPageWidth=function(O,te){El(O,te*Rt)},La=y.getPageHeight=function(O){return ac(O=O||Y)/Rt},oc=y.setPageHeight=function(O,te){Js(O,te*Rt)};return y.internal={pdfEscape:Gn,getStyle:Kc,getFont:Da,getFontSize:At,getCharSpace:No,getTextColor:Jc,getLineHeight:_l,getLineHeightFactor:Wo,getLineWidth:Go,write:rt,getHorizontalCoordinate:$i,getVerticalCoordinate:Di,getCoordinateString:wl,getVerticalCoordinateString:Ar,collections:{},newObject:tn,newAdditionalObject:ve,newObjectDeferred:Hn,newObjectDeferredBegin:ie,getFilters:Ue,putStream:at,events:Ln,scaleFactor:Rt,pageSize:{getWidth:function(){return Za(Y)},setWidth:function(O){Qc(Y,O)},getHeight:function(){return La(Y)},setHeight:function(O){oc(Y,O)}},encryptionOptions:d,encryption:ti,getEncryptor:function(O){return d!==null?ti.encryptor(O,0):function(te){return te}},output:Ho,getNumberOfPages:Ps,get pages(){return qe},out:oe,f2:P,f3:M,getPageInfo:gi,getPageInfoByObjId:bl,getCurrentPageInfo:Ku,getPDFVersion:_,Point:ns,Rectangle:Xa,Matrix:hn,hasHotfix:Si},Object.defineProperty(y.internal.pageSize,"width",{get:function(){return Za(Y)},set:function(O){Qc(Y,O)},enumerable:!0,configurable:!0}),Object.defineProperty(y.internal.pageSize,"height",{get:function(){return La(Y)},set:function(O){oc(Y,O)},enumerable:!0,configurable:!0}),(function(O){for(var te=0,Ee=ft.length;te<Ee;te++){var Me=mr.call(this,O[te][0],O[te][1],O[te][2],ft[te][3],!0);m===!1&&(g[Me]=!0);var je=O[te][0].split("-");Xt({id:Me,fontName:je[0],fontStyle:je[1]||""})}Ln.publish("addFonts",{fonts:Ct,dictionary:zt})}).call(y,ft),Ft="F1",Gi(i,n),Ln.publish("initialized"),y}O0.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},O0.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},O0.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},O0.prototype.processOwnerPassword=function(t,e){return iT(rT(e).substr(0,5),t)},O0.prototype.encryptor=function(t,e){var n=rT(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return iT(n,r)}},R2.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||Ur(t)!==Ur(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},mn.API={events:[]},mn.version="3.0.4";var Ui=mn.API,_S=1,kh=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},N0=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Un=function(t){return t.toFixed(2)},If=function(t){return t.toFixed(5)};Ui.__acroform__={};var _o=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},mR=function(t){return t*_S},Sc=function(t){var e=new GO,n=on.internal.getHeight(t)||0,r=on.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Un(r)),Number(Un(n))],e},Oce=Ui.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},Bce=Ui.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},Vce=Ui.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Qi=Ui.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Vce(t,e-1)},Zi=Ui.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Oce(t,e-1)},es=Ui.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Bce(t,e-1)},Uce=Ui.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=t[0],s=t[1],a=t[2],o=t[3],c={};return c.lowerLeft_X=n(i)||0,c.lowerLeft_Y=r(s+o)||0,c.upperRight_X=n(i+a)||0,c.upperRight_Y=r(s)||0,[Number(Un(c.lowerLeft_X)),Number(Un(c.lowerLeft_Y)),Number(Un(c.upperRight_X)),Number(Un(c.upperRight_Y))]},jce=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=sT(t,n),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+Un(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=Sc(t);return s.scope=t.scope,s.stream=e.join(`
`),s}},sT=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(P){return P.split(`
`)}):i.map(function(P){return[P]});var s=n,a=on.internal.getHeight(t)||0;a=a<0?-a:a;var o=on.internal.getWidth(t)||0;o=o<0?-o:o;var c=function(P,M,j){if(P+1<i.length){var ae=M+" "+i[P+1][0];return ey(ae,t,j).width<=o-4}return!1};s++;e:for(;s>0;){e="",s--;var f,d,m=ey("3",t,s).height,g=t.multiline?a-s:(a-m)/2,y=g+=2,E=0,_=0,A=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+ey(e,t,s=12).width+", FieldWidth:"+o+`
`;break}for(var C="",V=0,R=0;R<i.length;R++)if(i.hasOwnProperty(R)){var F=!1;if(i[R].length!==1&&A!==i[R].length-1){if((m+2)*(V+2)+2>a)continue e;C+=i[R][A],F=!0,_=R,R--}else{C=(C+=i[R][A]+" ").substr(C.length-1)==" "?C.substr(0,C.length-1):C;var z=parseInt(R),W=c(z,C,s),D=R>=i.length-1;if(W&&!D){C+=" ",A=0;continue}if(W||D){if(D)_=z;else if(t.multiline&&(m+2)*(V+2)+2>a)continue e}else{if(!t.multiline||(m+2)*(V+2)+2>a)continue e;_=z}}for(var L="",k=E;k<=_;k++){var q=i[k];if(t.multiline){if(k===_){L+=q[A]+" ",A=(A+1)%q.length;continue}if(k===E){L+=q[q.length-1]+" ";continue}}L+=q[0]+" "}switch(L=L.substr(L.length-1)==" "?L.substr(0,L.length-1):L,d=ey(L,t,s).width,t.textAlign){case"right":f=o-d-2;break;case"center":f=(o-d)/2;break;default:f=2}e+=Un(f)+" "+Un(y)+` Td
`,e+="("+kh(L)+`) Tj
`,e+=-Un(f)+` 0 Td
`,y=-(s+2),d=0,E=F?_:_+1,V++,C=""}break}return r.text=e,r.fontSize=s,r},ey=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},qce={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Hce=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},zce=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(tc.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(qce)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");_S=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new WO,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&Hce(s,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(r,i){var s=!r;for(var a in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(a)){var o=r[a],c=[],f=o.Rect;if(o.Rect&&(o.Rect=Uce(o.Rect,i)),i.internal.newObjectDeferredBegin(o.objId,!0),o.DA=on.createDefaultAppearanceStream(o),Ur(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(c=o.getKeyValueListForStream()),o.Rect=f,o.hasAppearanceStream&&!o.appearanceStreamContent){var d=jce(o);c.push({key:"AP",value:"<</N "+d+">>"}),i.internal.acroformPlugin.xForms.push(d)}if(o.appearanceStreamContent){var m="";for(var g in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(g)){var y=o.appearanceStreamContent[g];if(m+="/"+g+" ",m+="<<",Object.keys(y).length>=1||Array.isArray(y)){for(var a in y)if(y.hasOwnProperty(a)){var E=y[a];typeof E=="function"&&(E=E.call(i,o)),m+="/"+a+" "+E+" ",i.internal.acroformPlugin.xForms.indexOf(E)>=0||i.internal.acroformPlugin.xForms.push(E)}}else typeof(E=y)=="function"&&(E=E.call(i,o)),m+="/"+a+" "+E,i.internal.acroformPlugin.xForms.indexOf(E)>=0||i.internal.acroformPlugin.xForms.push(E);m+=">>"}c.push({key:"AP",value:`<<
`+m+">>"})}i.internal.putStream({additionalKeyValues:c,objectId:o.objId}),i.internal.out("endobj")}s&&(function(_,A){for(var C in _)if(_.hasOwnProperty(C)){var V=C,R=_[C];A.internal.newObjectDeferredBegin(R.objId,!0),Ur(R)==="object"&&typeof R.putStream=="function"&&R.putStream(),delete _[V]}})(i.internal.acroformPlugin.xForms,i)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},zO=Ui.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(a){return a};if(Array.isArray(t)){for(var i="[",s=0;s<t.length;s++)switch(s!==0&&(i+=" "),Ur(t[s])){case"boolean":case"number":case"object":i+=t[s].toString();break;case"string":t[s].substr(0,1)!=="/"?(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),i+="("+kh(r(t[s].toString()))+")"):i+=t[s].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},X_=function(t,e,n){var r=function(i){return i};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),"("+kh(r(t))+")"},Rc=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Rc.prototype.toString=function(){return this.objId+" 0 R"},Rc.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Rc.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],i=this[r];i&&(Array.isArray(i)?t.push({key:r,value:zO(i,this.objId,this.scope)}):i instanceof Rc?(i.scope=this.scope,t.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:r,value:i}))}return t};var GO=function(){Rc.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};_o(GO,Rc);var WO=function(){Rc.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+kh(n(t))+")"}},set:function(n){t=n}})};_o(WO,Rc);var tc=function t(){Rc.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(C){if(isNaN(C))throw new Error('Invalid value "'+C+'" for attribute F supplied.');e=C}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Qi(e,3)},set:function(C){C?this.F=Zi(e,3):this.F=es(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(C){if(isNaN(C))throw new Error('Invalid value "'+C+'" for attribute Ff supplied.');n=C}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(C){r=C!==void 0?C:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(C){r[0]=C}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(C){r[1]=C}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(C){r[2]=C}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(C){r[3]=C}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(C){switch(C){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=C;break;default:throw new Error('Invalid value "'+C+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof P2)return;s="FieldObject"+t.FieldNum++}var C=function(V){return V};return this.scope&&(C=this.scope.internal.getEncryptor(this.objId)),"("+kh(C(s))+")"},set:function(C){s=C.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(C){s=C}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(C){a=C}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(C){o=C}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(C){c=C}});var f=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return f===void 0?50/_S:f},set:function(C){f=C}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(C){d=C}});var m="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!m||this instanceof P2||this instanceof th))return X_(m,this.objId,this.scope)},set:function(C){C=C.toString(),m=C}});var g=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof zs==0?X_(g,this.objId,this.scope):g},set:function(C){C=C.toString(),g=this instanceof zs==0?C.substr(0,1)==="("?N0(C.substr(1,C.length-2)):N0(C):C}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof zs==1?N0(g.substr(1,g.length-1)):g},set:function(C){C=C.toString(),g=this instanceof zs==1?"/"+C:C}});var y=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(y)return y},set:function(C){this.V=C}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(y)return this instanceof zs==0?X_(y,this.objId,this.scope):y},set:function(C){C=C.toString(),y=this instanceof zs==0?C.substr(0,1)==="("?N0(C.substr(1,C.length-2)):N0(C):C}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof zs==1?N0(y.substr(1,y.length-1)):y},set:function(C){C=C.toString(),y=this instanceof zs==1?"/"+C:C}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var E,_=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return _},set:function(C){C=!!C,_=C}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(E)return E},set:function(C){E=C}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,1)},set:function(C){C?this.Ff=Zi(this.Ff,1):this.Ff=es(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,2)},set:function(C){C?this.Ff=Zi(this.Ff,2):this.Ff=es(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,3)},set:function(C){C?this.Ff=Zi(this.Ff,3):this.Ff=es(this.Ff,3)}});var A=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(A!==null)return A},set:function(C){if([0,1,2].indexOf(C)===-1)throw new Error('Invalid value "'+C+'" for attribute Q supplied.');A=C}}),Object.defineProperty(this,"textAlign",{get:function(){var C;switch(A){case 0:default:C="left";break;case 1:C="center";break;case 2:C="right"}return C},configurable:!0,enumerable:!0,set:function(C){switch(C){case"right":case 2:A=2;break;case"center":case 1:A=1;break;default:A=0}}})};_o(tc,Rc);var fp=function(){tc.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return zO(e,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=(function(s,a,o){o||(o=1);for(var c,f=[];c=a.exec(s);)f.push(c[o]);return f})(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,18)},set:function(n){n?this.Ff=Zi(this.Ff,18):this.Ff=es(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=Zi(this.Ff,19):this.Ff=es(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,20)},set:function(n){n?(this.Ff=Zi(this.Ff,20),e.sort()):this.Ff=es(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,22)},set:function(n){n?this.Ff=Zi(this.Ff,22):this.Ff=es(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,23)},set:function(n){n?this.Ff=Zi(this.Ff,23):this.Ff=es(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,27)},set:function(n){n?this.Ff=Zi(this.Ff,27):this.Ff=es(this.Ff,27)}}),this.hasAppearanceStream=!1};_o(fp,tc);var dp=function(){fp.call(this),this.fontName="helvetica",this.combo=!1};_o(dp,fp);var hp=function(){dp.call(this),this.combo=!0};_o(hp,dp);var jy=function(){hp.call(this),this.edit=!0};_o(jy,hp);var zs=function(){tc.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,15)},set:function(n){n?this.Ff=Zi(this.Ff,15):this.Ff=es(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,16)},set:function(n){n?this.Ff=Zi(this.Ff,16):this.Ff=es(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,17)},set:function(n){n?this.Ff=Zi(this.Ff,17):this.Ff=es(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,26)},set:function(n){n?this.Ff=Zi(this.Ff,26):this.Ff=es(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(s){return s};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+kh(n(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){Ur(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};_o(zs,tc);var qy=function(){zs.call(this),this.pushButton=!0};_o(qy,zs);var pp=function(){zs.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};_o(pp,zs);var P2=function(){var t,e;tc.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(o){return o};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,a=[];for(s in a.push("<<"),r)a.push("/"+s+" ("+kh(i(r[s]))+")");return a.push(">>"),a.join(`
`)},set:function(i){Ur(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=on.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};_o(P2,tc),pp.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},pp.prototype.createOption=function(t){var e=new P2;return e.Parent=this,e.optionName=t,this.Kids.push(e),Gce.call(this.scope,e),e};var Hy=function(){zs.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=on.CheckBox.createAppearanceStream()};_o(Hy,zs);var th=function(){tc.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,13)},set:function(e){e?this.Ff=Zi(this.Ff,13):this.Ff=es(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,21)},set:function(e){e?this.Ff=Zi(this.Ff,21):this.Ff=es(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,23)},set:function(e){e?this.Ff=Zi(this.Ff,23):this.Ff=es(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,24)},set:function(e){e?this.Ff=Zi(this.Ff,24):this.Ff=es(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,25)},set:function(e){e?this.Ff=Zi(this.Ff,25):this.Ff=es(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,26)},set:function(e){e?this.Ff=Zi(this.Ff,26):this.Ff=es(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};_o(th,tc);var zy=function(){th.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,14)},set:function(t){t?this.Ff=Zi(this.Ff,14):this.Ff=es(this.Ff,14)}}),this.password=!0};_o(zy,th);var on={CheckBox:{createAppearanceStream:function(){return{N:{On:on.CheckBox.YesNormal},D:{On:on.CheckBox.YesPushDown,Off:on.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Sc(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),s=sT(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+Un(on.internal.getWidth(t))+" "+Un(on.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+Un(s.fontSize)+" Tf "+i),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=Sc(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),i=[],s=on.internal.getHeight(t),a=on.internal.getWidth(t),o=sT(t,t.caption);return i.push("1 g"),i.push("0 0 "+Un(a)+" "+Un(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Un(a-1)+" "+Un(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+Un(o.fontSize)+" Tf "+r),i.push(o.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=Sc(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Un(on.internal.getWidth(t))+" "+Un(on.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:on.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=on.RadioButton.Circle.YesNormal,e.D[t]=on.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Sc(t);e.scope=t.scope;var n=[],r=on.internal.getWidth(t)<=on.internal.getHeight(t)?on.internal.getWidth(t)/4:on.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=on.internal.Bezier_C,s=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+If(on.internal.getWidth(t)/2)+" "+If(on.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Sc(t);e.scope=t.scope;var n=[],r=on.internal.getWidth(t)<=on.internal.getHeight(t)?on.internal.getWidth(t)/4:on.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*on.internal.Bezier_C).toFixed(5)),a=Number((r*on.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+If(on.internal.getWidth(t)/2)+" "+If(on.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+If(on.internal.getWidth(t)/2)+" "+If(on.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),n.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),n.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),n.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Sc(t);e.scope=t.scope;var n=[],r=on.internal.getWidth(t)<=on.internal.getHeight(t)?on.internal.getWidth(t)/4:on.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*on.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+If(on.internal.getWidth(t)/2)+" "+If(on.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:on.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=on.RadioButton.Cross.YesNormal,e.D[t]=on.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Sc(t);e.scope=t.scope;var n=[],r=on.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+Un(on.internal.getWidth(t)-2)+" "+Un(on.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(Un(r.x1.x)+" "+Un(r.x1.y)+" m"),n.push(Un(r.x2.x)+" "+Un(r.x2.y)+" l"),n.push(Un(r.x4.x)+" "+Un(r.x4.y)+" m"),n.push(Un(r.x3.x)+" "+Un(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Sc(t);e.scope=t.scope;var n=on.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+Un(on.internal.getWidth(t))+" "+Un(on.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Un(on.internal.getWidth(t)-2)+" "+Un(on.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(Un(n.x1.x)+" "+Un(n.x1.y)+" m"),r.push(Un(n.x2.x)+" "+Un(n.x2.y)+" l"),r.push(Un(n.x4.x)+" "+Un(n.x4.y)+" m"),r.push(Un(n.x3.x)+" "+Un(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=Sc(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Un(on.internal.getWidth(t))+" "+Un(on.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};on.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=on.internal.getWidth(t),n=on.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},on.internal.getWidth=function(t){var e=0;return Ur(t)==="object"&&(e=mR(t.Rect[2])),e},on.internal.getHeight=function(t){var e=0;return Ur(t)==="object"&&(e=mR(t.Rect[3])),e};var Gce=Ui.addField=function(t){if(zce(this,t),!(t instanceof tc))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Ui.AcroFormChoiceField=fp,Ui.AcroFormListBox=dp,Ui.AcroFormComboBox=hp,Ui.AcroFormEditBox=jy,Ui.AcroFormButton=zs,Ui.AcroFormPushButton=qy,Ui.AcroFormRadioButton=pp,Ui.AcroFormCheckBox=Hy,Ui.AcroFormTextField=th,Ui.AcroFormPasswordField=zy,Ui.AcroFormAppearance=on,Ui.AcroForm={ChoiceField:fp,ListBox:dp,ComboBox:hp,EditBox:jy,Button:zs,PushButton:qy,RadioButton:pp,CheckBox:Hy,TextField:th,PasswordField:zy,Appearance:on},mn.AcroForm={ChoiceField:fp,ListBox:dp,ComboBox:hp,EditBox:jy,Button:zs,PushButton:qy,RadioButton:pp,CheckBox:Hy,TextField:th,PasswordField:zy,Appearance:on};mn.AcroForm;function $O(t){return t.reduce(function(e,n,r){return e[n]=r,e},{})}(function(t){var e="addImage_";t.__addimage__={};var n="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=t.__addimage__.getImageFileTypeByImageData=function(P,M){var j,ae,Ae,fe,xe,Ne=n;if((M=M||n)==="RGBA"||P.data!==void 0&&P.data instanceof Uint8ClampedArray&&"height"in P&&"width"in P)return"RGBA";if(W(P))for(xe in r)for(Ae=r[xe],j=0;j<Ae.length;j+=1){for(fe=!0,ae=0;ae<Ae[j].length;ae+=1)if(Ae[j][ae]!==void 0&&Ae[j][ae]!==P[ae]){fe=!1;break}if(fe===!0){Ne=xe;break}}else for(xe in r)for(Ae=r[xe],j=0;j<Ae.length;j+=1){for(fe=!0,ae=0;ae<Ae[j].length;ae+=1)if(Ae[j][ae]!==void 0&&Ae[j][ae]!==P.charCodeAt(ae)){fe=!1;break}if(fe===!0){Ne=xe;break}}return Ne===n&&M!==n&&(Ne=M),Ne},s=function P(M){for(var j=this.internal.write,ae=this.internal.putStream,Ae=(0,this.internal.getFilters)();Ae.indexOf("FlateEncode")!==-1;)Ae.splice(Ae.indexOf("FlateEncode"),1);M.objectId=this.internal.newObject();var fe=[];if(fe.push({key:"Type",value:"/XObject"}),fe.push({key:"Subtype",value:"/Image"}),fe.push({key:"Width",value:M.width}),fe.push({key:"Height",value:M.height}),M.colorSpace===C.INDEXED?fe.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(M.palette.length/3-1)+" "+("sMask"in M&&M.sMask!==void 0?M.objectId+2:M.objectId+1)+" 0 R]"}):(fe.push({key:"ColorSpace",value:"/"+M.colorSpace}),M.colorSpace===C.DEVICE_CMYK&&fe.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),fe.push({key:"BitsPerComponent",value:M.bitsPerComponent}),"decodeParameters"in M&&M.decodeParameters!==void 0&&fe.push({key:"DecodeParms",value:"<<"+M.decodeParameters+">>"}),"transparency"in M&&Array.isArray(M.transparency)&&M.transparency.length>0){for(var xe="",Ne=0,me=M.transparency.length;Ne<me;Ne++)xe+=M.transparency[Ne]+" "+M.transparency[Ne]+" ";fe.push({key:"Mask",value:"["+xe+"]"})}M.sMask!==void 0&&fe.push({key:"SMask",value:M.objectId+1+" 0 R"});var Re=M.filter!==void 0?["/"+M.filter]:void 0;if(ae({data:M.data,additionalKeyValues:fe,alreadyAppliedFilters:Re,objectId:M.objectId}),j("endobj"),"sMask"in M&&M.sMask!==void 0){var re,B=(re=M.sMaskBitsPerComponent)!==null&&re!==void 0?re:M.bitsPerComponent,Y={width:M.width,height:M.height,colorSpace:"DeviceGray",bitsPerComponent:B,data:M.sMask};"filter"in M&&(Y.decodeParameters="/Predictor ".concat(M.predictor," /Colors 1 /BitsPerComponent ").concat(B," /Columns ").concat(M.width),Y.filter=M.filter),P.call(this,Y)}if(M.colorSpace===C.INDEXED){var X=this.internal.newObject();ae({data:L(new Uint8Array(M.palette)),objectId:X}),j("endobj")}},a=function(){var P=this.internal.collections[e+"images"];for(var M in P)s.call(this,P[M])},o=function(){var P,M=this.internal.collections[e+"images"],j=this.internal.write;for(var ae in M)j("/I"+(P=M[ae]).index,P.objectId,"0","R")},c=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",o))},f=function(){var P=this.internal.collections[e+"images"];return c.call(this),P},d=function(){return Object.keys(this.internal.collections[e+"images"]).length},m=function(P){return typeof t["process"+P.toUpperCase()]=="function"},g=function(P){return Ur(P)==="object"&&P.nodeType===1},y=function(P,M){if(P.nodeName==="IMG"&&P.hasAttribute("src")){var j=""+P.getAttribute("src");if(j.indexOf("data:image/")===0)return Uy(unescape(j).split("base64,").pop());var ae=t.loadFile(j,!0);if(ae!==void 0)return ae}if(P.nodeName==="CANVAS"){if(P.width===0||P.height===0)throw new Error("Given canvas must have data. Canvas width: "+P.width+", height: "+P.height);var Ae;switch(M){case"PNG":Ae="image/png";break;case"WEBP":Ae="image/webp";break;default:Ae="image/jpeg"}return Uy(P.toDataURL(Ae,1).split("base64,").pop())}},E=function(P){var M=this.internal.collections[e+"images"];if(M){for(var j in M)if(P===M[j].alias)return M[j]}},_=function(P,M,j){return P||M||(P=-96,M=-96),P<0&&(P=-1*j.width*72/P/this.internal.scaleFactor),M<0&&(M=-1*j.height*72/M/this.internal.scaleFactor),P===0&&(P=M*j.width/j.height),M===0&&(M=P*j.height/j.width),[P,M]},A=function(P,M,j,ae,Ae,fe){var xe=_.call(this,j,ae,Ae),Ne=this.internal.getCoordinateString,me=this.internal.getVerticalCoordinateString,Re=f.call(this);if(j=xe[0],ae=xe[1],Re[Ae.index]=Ae,fe){fe*=Math.PI/180;var re=Math.cos(fe),B=Math.sin(fe),Y=function(Q){return Q.toFixed(4)},X=[Y(re),Y(B),Y(-1*B),Y(re),0,0,"cm"]}this.internal.write("q"),fe?(this.internal.write([1,"0","0",1,Ne(P),me(M+ae),"cm"].join(" ")),this.internal.write(X.join(" ")),this.internal.write([Ne(j),"0","0",Ne(ae),"0","0","cm"].join(" "))):this.internal.write([Ne(j),"0","0",Ne(ae),Ne(P),me(M+ae),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Ae.index+" Do"),this.internal.write("Q")},C=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var V=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},R=t.__addimage__.sHashCode=function(P){var M,j,ae=0;if(typeof P=="string")for(j=P.length,M=0;M<j;M++)ae=(ae<<5)-ae+P.charCodeAt(M),ae|=0;else if(W(P))for(j=P.byteLength/2,M=0;M<j;M++)ae=(ae<<5)-ae+P[M],ae|=0;return ae},F=t.__addimage__.validateStringAsBase64=function(P){(P=P||"").toString().trim();var M=!0;return P.length===0&&(M=!1),P.length%4!=0&&(M=!1),/^[A-Za-z0-9+/]+$/.test(P.substr(0,P.length-2))===!1&&(M=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(P.substr(-2))===!1&&(M=!1),M},z=t.__addimage__.extractImageFromDataUrl=function(P){if(P==null||!(P=P.trim()).startsWith("data:"))return null;var M=P.indexOf(",");return M<0?null:P.substring(0,M).trim().endsWith("base64")?P.substring(M+1):null};t.__addimage__.isArrayBuffer=function(P){return P instanceof ArrayBuffer};var W=t.__addimage__.isArrayBufferView=function(P){return P instanceof Int8Array||P instanceof Uint8Array||P instanceof Uint8ClampedArray||P instanceof Int16Array||P instanceof Uint16Array||P instanceof Int32Array||P instanceof Uint32Array||P instanceof Float32Array||P instanceof Float64Array},D=t.__addimage__.binaryStringToUint8Array=function(P){for(var M=P.length,j=new Uint8Array(M),ae=0;ae<M;ae++)j[ae]=P.charCodeAt(ae);return j},L=t.__addimage__.arrayBufferToBinaryString=function(P){for(var M="",j=W(P)?P:new Uint8Array(P),ae=0;ae<j.length;ae+=8192)M+=String.fromCharCode.apply(null,j.subarray(ae,ae+8192));return M};t.addImage=function(){var P,M,j,ae,Ae,fe,xe,Ne,me;if(typeof arguments[1]=="number"?(M=n,j=arguments[1],ae=arguments[2],Ae=arguments[3],fe=arguments[4],xe=arguments[5],Ne=arguments[6],me=arguments[7]):(M=arguments[1],j=arguments[2],ae=arguments[3],Ae=arguments[4],fe=arguments[5],xe=arguments[6],Ne=arguments[7],me=arguments[8]),Ur(P=arguments[0])==="object"&&!g(P)&&"imageData"in P){var Re=P;P=Re.imageData,M=Re.format||M||n,j=Re.x||j||0,ae=Re.y||ae||0,Ae=Re.w||Re.width||Ae,fe=Re.h||Re.height||fe,xe=Re.alias||xe,Ne=Re.compression||Ne,me=Re.rotation||Re.angle||me}var re=this.internal.getFilters();if(Ne===void 0&&re.indexOf("FlateEncode")!==-1&&(Ne="SLOW"),isNaN(j)||isNaN(ae))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var B=k.call(this,P,M,xe,Ne);return A.call(this,j,ae,Ae,fe,B,me),this};var k=function(P,M,j,ae){var Ae,fe,xe;if(typeof P=="string"&&i(P)===n){P=unescape(P);var Ne=q(P,!1);(Ne!==""||(Ne=t.loadFile(P,!0))!==void 0)&&(P=Ne)}if(g(P)&&(P=y(P,M)),M=i(P,M),!m(M))throw new Error("addImage does not support files of type '"+M+"', please ensure that a plugin for '"+M+"' support is added.");if(((xe=j)==null||xe.length===0)&&(j=(function(me){return typeof me=="string"||W(me)?R(me):W(me.data)?R(me.data):null})(P)),(Ae=E.call(this,j))||(P instanceof Uint8Array||M==="RGBA"||(fe=P,P=D(P)),Ae=this["process"+M.toUpperCase()](P,d.call(this),j,(function(me){return me&&typeof me=="string"&&(me=me.toUpperCase()),me in t.image_compression?me:V.NONE})(ae),fe)),!Ae)throw new Error("An unknown error occurred whilst processing the image.");return Ae},q=t.__addimage__.convertBase64ToBinaryString=function(P,M){M=typeof M!="boolean"||M;var j,ae="";if(typeof P=="string"){var Ae;j=(Ae=z(P))!==null&&Ae!==void 0?Ae:P;try{ae=Uy(j)}catch(fe){if(M)throw F(j)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+fe.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ae};t.getImageProperties=function(P){var M,j,ae="";if(g(P)&&(P=y(P)),typeof P=="string"&&i(P)===n&&((ae=q(P,!1))===""&&(ae=t.loadFile(P)||""),P=ae),j=i(P),!m(j))throw new Error("addImage does not support files of type '"+j+"', please ensure that a plugin for '"+j+"' support is added.");if(P instanceof Uint8Array||(P=D(P)),!(M=this["process"+j.toUpperCase()](P)))throw new Error("An unknown error occurred whilst processing the image");return M.fileType=j,M}})(mn.API),(function(t){var e=function(n){if(n!==void 0&&n!="")return!0};mn.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,i,s,a=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(n.objId),f=n.pageContext.annotations,d=!1,m=0;m<f.length&&!d;m++)switch((r=f[m]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var g=0;g<f.length;g++){r=f[g];var y=this.internal.pdfEscape,E=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var _=this.internal.newAdditionalObject(),A=this.internal.newAdditionalObject(),C=this.internal.getEncryptor(_.objId),V=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+a(r.bounds.x)+" "+o(r.bounds.y+r.bounds.h)+" "+a(r.bounds.x+r.bounds.w)+" "+o(r.bounds.y)+"] ")+"/Contents ("+y(C(r.contents))+")",s+=" /Popup "+A.objId+" 0 R",s+=" /P "+c.objId+" 0 R",s+=" /T ("+y(C(V))+") >>",_.content=s;var R=_.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+a(r.bounds.x+30)+" "+o(r.bounds.y+r.bounds.h)+" "+a(r.bounds.x+r.bounds.w+30)+" "+o(r.bounds.y)+"] ")+" /Parent "+R,r.open&&(s+=" /Open true"),s+=" >>",A.content=s,this.internal.write(_.objId,"0 R",A.objId,"0 R");break;case"freetext":i="/Rect ["+a(r.bounds.x)+" "+o(r.bounds.y)+" "+a(r.bounds.x+r.bounds.w)+" "+o(r.bounds.y+r.bounds.h)+"] ";var F=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+y(E(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+F+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var z=this.annotations._nameMap[r.options.name];r.options.pageNumber=z.page,r.options.top=z.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+y(E(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;default:var W=o(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+W+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,i,s,a){var o=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,f=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:c(n),y:f(r),w:c(n+i),h:f(r+s)},options:a,type:"link"})},t.textWithLink=function(n,r,i,s){var a,o,c=this.getTextWidth(n),f=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){o=s.maxWidth;var d=this.splitTextToSize(n,o).length;a=Math.ceil(f*d)}else o=c,a=f;return this.text(n,r,i,s),i+=.2*f,s.align==="center"&&(r-=c/2),s.align==="right"&&(r-=c),this.link(r,i-f,o,a,s),c},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}})(mn.API),(function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(_){return e[_.charCodeAt(0)]!==void 0},a=t.__arabicParser__.isArabicLetter=function(_){return typeof _=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(_)},o=t.__arabicParser__.isArabicEndLetter=function(_){return a(_)&&s(_)&&e[_.charCodeAt(0)].length<=2},c=t.__arabicParser__.isArabicAlfLetter=function(_){return a(_)&&i.indexOf(_.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(_){return a(_)&&s(_)&&e[_.charCodeAt(0)].length>=1};var f=t.__arabicParser__.arabicLetterHasFinalForm=function(_){return a(_)&&s(_)&&e[_.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(_){return a(_)&&s(_)&&e[_.charCodeAt(0)].length>=3};var d=t.__arabicParser__.arabicLetterHasMedialForm=function(_){return a(_)&&s(_)&&e[_.charCodeAt(0)].length==4},m=t.__arabicParser__.resolveLigatures=function(_){var A=0,C=n,V="",R=0;for(A=0;A<_.length;A+=1)C[_.charCodeAt(A)]!==void 0?(R++,typeof(C=C[_.charCodeAt(A)])=="number"&&(V+=String.fromCharCode(C),C=n,R=0),A===_.length-1&&(C=n,V+=_.charAt(A-(R-1)),A-=R-1,R=0)):(C=n,V+=_.charAt(A-R),A-=R,R=0);return V};t.__arabicParser__.isArabicDiacritic=function(_){return _!==void 0&&r[_.charCodeAt(0)]!==void 0};var g=t.__arabicParser__.getCorrectForm=function(_,A,C){return a(_)?s(_)===!1?-1:!f(_)||!a(A)&&!a(C)||!a(C)&&o(A)||o(_)&&!a(A)||o(_)&&c(A)||o(_)&&o(A)?0:d(_)&&a(A)&&!o(A)&&a(C)&&f(C)?3:o(_)||!a(C)?1:2:-1},y=function(_){var A=0,C=0,V=0,R="",F="",z="",W=(_=_||"").split("\\s+"),D=[];for(A=0;A<W.length;A+=1){for(D.push(""),C=0;C<W[A].length;C+=1)R=W[A][C],F=W[A][C-1],z=W[A][C+1],a(R)?(V=g(R,F,z),D[A]+=V!==-1?String.fromCharCode(e[R.charCodeAt(0)][V]):R):D[A]+=R;D[A]=m(D[A])}return D.join(" ")},E=t.__arabicParser__.processArabic=t.processArabic=function(){var _,A=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,C=[];if(Array.isArray(A)){var V=0;for(C=[],V=0;V<A.length;V+=1)Array.isArray(A[V])?C.push([y(A[V][0]),A[V][1],A[V][2]]):C.push([y(A[V])]);_=C}else _=y(A);return typeof arguments[0]=="string"?_:(arguments[0].text=_,arguments[0])};t.events.push(["preProcessText",E])})(mn.API),mn.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(o){n=o}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(o){r=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(o){i=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(o){s=o}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(o){a=o}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(mn.API),(function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(_){c=_}});var f=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return f},set:function(_){f=_}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(_){d=_}});var m=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return m},set:function(_){m=_}});var g=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return g},set:function(_){g=_}});var y=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return y},set:function(_){y=_}});var E=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return E},set:function(_){E=_}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(c){return r.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},t.getTextDimensions=function(c,f){r.call(this);var d=(f=f||{}).fontSize||this.getFontSize(),m=f.font||this.getFont(),g=f.scaleFactor||this.internal.scaleFactor,y=0,E=0,_=0,A=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var C=f.maxWidth;C>0?typeof c=="string"?c=this.splitTextToSize(c,C):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(R,F){return R.concat(A.splitTextToSize(F,C))},[])):c=Array.isArray(c)?c:[c];for(var V=0;V<c.length;V++)y<(_=this.getStringUnitWidth(c[V],{font:m})*d)&&(y=_);return y!==0&&(E=c.length),{w:y/=g,h:Math.max((E*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/g,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var c=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=t.cell=function(){var c;c=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),r.call(this);var f=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,m=this.internal.__cell__.margins||e,g=this.internal.__cell__.tableHeaderRow,y=this.internal.__cell__.printHeaders;return f.lineNumber!==void 0&&(f.lineNumber===c.lineNumber?(c.x=(f.x||0)+(f.width||0),c.y=f.y||0):f.y+f.height+c.height+m.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=m.top,y&&g&&(this.printHeaderRow(c.lineNumber,!0),c.y+=g[0].height)):c.y=f.y+f.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,n===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-d,c.y+d,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+d,{align:"center",baseline:"top",maxWidth:c.width-d-d}):this.text(c.text,c.x+d,c.y+d,{align:"left",baseline:"top",maxWidth:c.width-d-d})),this.internal.__cell__.lastCell=c,this};t.table=function(c,f,d,m,g){if(r.call(this),!d)throw new Error("No data for PDF table.");var y,E,_,A,C=[],V=[],R=[],F={},z={},W=[],D=[],L=(g=g||{}).autoSize||!1,k=g.printHeaders!==!1,q=g.css&&g.css["font-size"]!==void 0?16*g.css["font-size"]:g.fontSize||12,P=g.margins||Object.assign({width:this.getPageWidth()},e),M=typeof g.padding=="number"?g.padding:3,j=g.headerBackgroundColor||"#c8c8c8",ae=g.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=k,this.internal.__cell__.margins=P,this.internal.__cell__.table_font_size=q,this.internal.__cell__.padding=M,this.internal.__cell__.headerBackgroundColor=j,this.internal.__cell__.headerTextColor=ae,this.setFontSize(q),m==null)V=C=Object.keys(d[0]),R=C.map(function(){return"left"});else if(Array.isArray(m)&&Ur(m[0])==="object")for(C=m.map(function(Re){return Re.name}),V=m.map(function(Re){return Re.prompt||Re.name||""}),R=m.map(function(Re){return Re.align||"left"}),y=0;y<m.length;y+=1)z[m[y].name]=.7499990551181103*m[y].width;else Array.isArray(m)&&typeof m[0]=="string"&&(V=C=m,R=C.map(function(){return"left"}));if(L||Array.isArray(m)&&typeof m[0]=="string")for(y=0;y<C.length;y+=1){for(F[A=C[y]]=d.map(function(Re){return Re[A]}),this.setFont(void 0,"bold"),W.push(this.getTextDimensions(V[y],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),E=F[A],this.setFont(void 0,"normal"),_=0;_<E.length;_+=1)W.push(this.getTextDimensions(E[_],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);z[A]=Math.max.apply(null,W)+M+M,W=[]}if(k){var Ae={};for(y=0;y<C.length;y+=1)Ae[C[y]]={},Ae[C[y]].text=V[y],Ae[C[y]].align=R[y];var fe=o.call(this,Ae,z);D=C.map(function(Re){return new s(c,f,z[Re],fe,Ae[Re].text,void 0,Ae[Re].align)}),this.setTableHeaderRow(D),this.printHeaderRow(1,!1)}var xe=m.reduce(function(Re,re){return Re[re.name]=re.align,Re},{});for(y=0;y<d.length;y+=1){"rowStart"in g&&g.rowStart instanceof Function&&g.rowStart({row:y,data:d[y]},this);var Ne=o.call(this,d[y],z);for(_=0;_<C.length;_+=1){var me=d[y][C[_]];"cellStart"in g&&g.cellStart instanceof Function&&g.cellStart({row:y,col:_,data:me},this),a.call(this,new s(c,f,z[C[_]],Ne,me,y+2,xe[C[_]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=f,this};var o=function(c,f){var d=this.internal.__cell__.padding,m=this.internal.__cell__.table_font_size,g=this.internal.scaleFactor;return Object.keys(c).map(function(y){var E=c[y];return this.splitTextToSize(E.hasOwnProperty("text")?E.text:E,f[y]-d-d)},this).map(function(y){return this.getLineHeightFactor()*y.length*m/g+d+d},this).reduce(function(y,E){return Math.max(y,E)},0)};t.setTableHeaderRow=function(c){r.call(this),this.internal.__cell__.tableHeaderRow=c},t.printHeaderRow=function(c,f){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var m=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(m[0],m[1],m[2],m[3],void 0,-1)}this.setFont(void 0,"bold");for(var g=[],y=0;y<this.internal.__cell__.tableHeaderRow.length;y+=1){d=this.internal.__cell__.tableHeaderRow[y].clone(),f&&(d.y=this.internal.__cell__.margins.top||0,g.push(d)),d.lineNumber=c;var E=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,d),this.setTextColor(E)}g.length>0&&this.setTableHeaderRow(g),this.setFont(void 0,"normal"),n=!1}})(mn.API);var KO={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},YO=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],aT=$O(YO),XO=[100,200,300,400,500,600,700,800,900],Wce=$O(XO);function J_(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=(function(s){return KO[s=s||"normal"]?s:"normal"})(t.style),r=(function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400})(t.weight),i=(function(s){return typeof aT[s=s||"normal"]=="number"?s:"normal"})(t.stretch);return{family:e,style:n,weight:r,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,n,r].join(" ")}}}function gR(t,e,n,r){var i;for(i=n;i>=0&&i<e.length;i+=r)if(t[e[i]])return t[e[i]];for(i=n;i>=0&&i<e.length;i-=r)if(t[e[i]])return t[e[i]]}var $ce={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},xR={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function yR(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function vR(t){return t.trimLeft()}function Kce(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function Yce(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var ty,bR,_R,C0,ny,wR,TR,ER,Q_=["times"];function SR(t,e,n,r,i){var s=4,a=NR;switch(i){case mn.API.image_compression.FAST:s=1,a=AR;break;case mn.API.image_compression.MEDIUM:s=6,a=CR;break;case mn.API.image_compression.SLOW:s=9,a=IR}t=(function(c,f,d,m){for(var g,y=c.length/f,E=new Uint8Array(c.length+y),_=[Xce,AR,NR,CR,IR],A=0;A<y;A+=1){var C=A*f,V=c.subarray(C,C+f);if(m)E.set(m(V,d,g),C+A);else{for(var R=_.length,F=[],z=0;z<R;z+=1)F[z]=_[z](V,d,g);var W=Qce(F.concat());E.set(F[W],C+A)}g=V}return E})(t,e,Math.ceil(n*r/8),a);var o=Z5(t,{level:s});return mn.API.__addimage__.arrayBufferToBinaryString(o)}function Xce(t){var e=Array.apply([],t);return e.unshift(0),e}function AR(t,e){var n=t.length,r=[];r[0]=1;for(var i=0;i<n;i+=1){var s=t[i-e]||0;r[i+1]=t[i]-s+256&255}return r}function NR(t,e,n){var r=t.length,i=[];i[0]=2;for(var s=0;s<r;s+=1){var a=n&&n[s]||0;i[s+1]=t[s]-a+256&255}return i}function CR(t,e,n){var r=t.length,i=[];i[0]=3;for(var s=0;s<r;s+=1){var a=t[s-e]||0,o=n&&n[s]||0;i[s+1]=t[s]+256-(a+o>>>1)&255}return i}function IR(t,e,n){var r=t.length,i=[];i[0]=4;for(var s=0;s<r;s+=1){var a=Jce(t[s-e]||0,n&&n[s]||0,n&&n[s-e]||0);i[s+1]=t[s]-a+256&255}return i}function Jce(t,e,n){if(t===e&&e===n)return t;var r=Math.abs(e-n),i=Math.abs(t-n),s=Math.abs(t+e-n-n);return r<=i&&r<=s?t:i<=s?e:n}function Qce(t){var e=t.map(function(n){return n.reduce(function(r,i){return r+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function Z_(t,e,n){var r=e*n,i=Math.floor(r/8),s=16-(r-8*i+n),a=(1<<n)-1;return JO(t,i)>>s&a}function kR(t,e,n,r){var i=n*r,s=Math.floor(i/8),a=16-(i-8*s+r),o=(1<<r)-1,c=(e&o)<<a;(function(f,d,m){if(d+1<f.byteLength)f.setUint16(d,m,!1);else{var g=m>>8&255;f.setUint8(d,g)}})(t,s,JO(t,s)&~(o<<a)&65535|c)}function JO(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function Zce(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,i=t[e++],s=i>>7,a=1<<1+(7&i);t[e++],t[e++];var o=null,c=null;s&&(o=e,c=a,e+=3*a);var f=!0,d=[],m=0,g=null,y=0,E=null;for(this.width=n,this.height=r;f&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,E=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((P=t[e++])>=0))throw Error("Invalid block size");if(P===0)break;e+=P}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var _=t[e++];m=t[e++]|t[e++]<<8,g=t[e++],1&_||(g=null),y=_>>2&7,e++;break;case 254:for(;;){if(!((P=t[e++])>=0))throw Error("Invalid block size");if(P===0)break;e+=P}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var A=t[e++]|t[e++]<<8,C=t[e++]|t[e++]<<8,V=t[e++]|t[e++]<<8,R=t[e++]|t[e++]<<8,F=t[e++],z=F>>6&1,W=1<<1+(7&F),D=o,L=c,k=!1;F>>7&&(k=!0,D=e,L=W,e+=3*W);var q=e;for(e++;;){var P;if(!((P=t[e++])>=0))throw Error("Invalid block size");if(P===0)break;e+=P}d.push({x:A,y:C,width:V,height:R,has_local_palette:k,palette_offset:D,palette_size:L,data_offset:q,data_length:e-q,transparent_index:g,interlaced:!!z,delay:m,disposal:y});break;case 59:f=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return E},this.frameInfo=function(M){if(M<0||M>=d.length)throw new Error("Frame index out of range.");return d[M]},this.decodeAndBlitFrameBGRA=function(M,j){var ae=this.frameInfo(M),Ae=ae.width*ae.height,fe=new Uint8Array(Ae);RR(t,ae.data_offset,fe,Ae);var xe=ae.palette_offset,Ne=ae.transparent_index;Ne===null&&(Ne=256);var me=ae.width,Re=n-me,re=me,B=4*(ae.y*n+ae.x),Y=4*((ae.y+ae.height)*n+ae.x),X=B,Q=4*Re;ae.interlaced===!0&&(Q+=4*n*7);for(var ce=8,_e=0,Pe=fe.length;_e<Pe;++_e){var Z=fe[_e];if(re===0&&(re=me,(X+=Q)>=Y&&(Q=4*Re+4*n*(ce-1),X=B+(me+Re)*(ce<<1),ce>>=1)),Z===Ne)X+=4;else{var Ce=t[xe+3*Z],qe=t[xe+3*Z+1],ee=t[xe+3*Z+2];j[X++]=ee,j[X++]=qe,j[X++]=Ce,j[X++]=255}--re}},this.decodeAndBlitFrameRGBA=function(M,j){var ae=this.frameInfo(M),Ae=ae.width*ae.height,fe=new Uint8Array(Ae);RR(t,ae.data_offset,fe,Ae);var xe=ae.palette_offset,Ne=ae.transparent_index;Ne===null&&(Ne=256);var me=ae.width,Re=n-me,re=me,B=4*(ae.y*n+ae.x),Y=4*((ae.y+ae.height)*n+ae.x),X=B,Q=4*Re;ae.interlaced===!0&&(Q+=4*n*7);for(var ce=8,_e=0,Pe=fe.length;_e<Pe;++_e){var Z=fe[_e];if(re===0&&(re=me,(X+=Q)>=Y&&(Q=4*Re+4*n*(ce-1),X=B+(me+Re)*(ce<<1),ce>>=1)),Z===Ne)X+=4;else{var Ce=t[xe+3*Z],qe=t[xe+3*Z+1],ee=t[xe+3*Z+2];j[X++]=Ce,j[X++]=qe,j[X++]=ee,j[X++]=255}--re}}}function RR(t,e,n,r){for(var i=t[e++],s=1<<i,a=s+1,o=a+1,c=i+1,f=(1<<c)-1,d=0,m=0,g=0,y=t[e++],E=new Int32Array(4096),_=null;;){for(;d<16&&y!==0;)m|=t[e++]<<d,d+=8,y===1?y=t[e++]:--y;if(d<c)break;var A=m&f;if(m>>=c,d-=c,A!==s){if(A===a)break;for(var C=A<o?A:_,V=0,R=C;R>s;)R=E[R]>>8,++V;var F=R;if(g+V+(C!==A?1:0)>r)return void si.log("Warning, gif stream longer than expected.");n[g++]=F;var z=g+=V;for(C!==A&&(n[g++]=F),R=C;V--;)R=E[R],n[--z]=255&R,R>>=8;_!==null&&o<4096&&(E[o++]=_<<8|F,o>=f+1&&c<12&&(++c,f=f<<1|1)),_=A}else o=a+1,f=(1<<(c=i+1))-1,_=null}return g!==r&&si.log("Warning, gif stream shorter than expected."),n}function ew(t){var e,n,r,i,s,a=Math.floor,o=new Array(64),c=new Array(64),f=new Array(64),d=new Array(64),m=new Array(65535),g=new Array(65535),y=new Array(64),E=new Array(64),_=[],A=0,C=7,V=new Array(64),R=new Array(64),F=new Array(64),z=new Array(256),W=new Array(2048),D=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],L=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],k=[0,1,2,3,4,5,6,7,8,9,10,11],q=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],P=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],M=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],j=[0,1,2,3,4,5,6,7,8,9,10,11],ae=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Ae=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function fe(B,Y){for(var X=0,Q=0,ce=new Array,_e=1;_e<=16;_e++){for(var Pe=1;Pe<=B[_e];Pe++)ce[Y[Q]]=[],ce[Y[Q]][0]=X,ce[Y[Q]][1]=_e,Q++,X++;X*=2}return ce}function xe(B){for(var Y=B[0],X=B[1]-1;X>=0;)Y&1<<X&&(A|=1<<C),X--,--C<0&&(A==255?(Ne(255),Ne(0)):Ne(A),C=7,A=0)}function Ne(B){_.push(B)}function me(B){Ne(B>>8&255),Ne(255&B)}function Re(B,Y,X,Q,ce){for(var _e,Pe=ce[0],Z=ce[240],Ce=(function(tt,wt){var At,Pt,jt,Zt,Gt,Wt,Nn,en,Ft,Rt,Nt=0;for(Ft=0;Ft<8;++Ft){At=tt[Nt],Pt=tt[Nt+1],jt=tt[Nt+2],Zt=tt[Nt+3],Gt=tt[Nt+4],Wt=tt[Nt+5],Nn=tt[Nt+6];var qn=At+(en=tt[Nt+7]),Bt=At-en,Ct=Pt+Nn,zt=Pt-Nn,xn=jt+Wt,cn=jt-Wt,Jn=Zt+Gt,gn=Zt-Gt,dn=qn+Jn,ar=qn-Jn,un=Ct+xn,Yt=Ct-xn;tt[Nt]=dn+un,tt[Nt+4]=dn-un;var Ln=.707106781*(Yt+ar);tt[Nt+2]=ar+Ln,tt[Nt+6]=ar-Ln;var oi=.382683433*((dn=gn+cn)-(Yt=zt+Bt)),li=.5411961*dn+oi,Rs=1.306562965*Yt+oi,Zr=.707106781*(un=cn+zt),hn=Bt+Zr,Le=Bt-Zr;tt[Nt+5]=Le+li,tt[Nt+3]=Le-li,tt[Nt+1]=hn+Rs,tt[Nt+7]=hn-Rs,Nt+=8}for(Nt=0,Ft=0;Ft<8;++Ft){At=tt[Nt],Pt=tt[Nt+8],jt=tt[Nt+16],Zt=tt[Nt+24],Gt=tt[Nt+32],Wt=tt[Nt+40],Nn=tt[Nt+48];var Lt=At+(en=tt[Nt+56]),qt=At-en,$n=Pt+Nn,tn=Pt-Nn,Hn=jt+Wt,ie=jt-Wt,ve=Zt+Gt,he=Zt-Gt,ge=Lt+ve,be=Lt-ve,we=$n+Hn,Ue=$n-Hn;tt[Nt]=ge+we,tt[Nt+32]=ge-we;var at=.707106781*(Ue+be);tt[Nt+16]=be+at,tt[Nt+48]=be-at;var Be=.382683433*((ge=he+ie)-(Ue=tn+qt)),ze=.5411961*ge+Be,Xe=1.306562965*Ue+Be,bt=.707106781*(we=ie+tn),St=qt+bt,Mt=qt-bt;tt[Nt+40]=Mt+ze,tt[Nt+24]=Mt-ze,tt[Nt+8]=St+Xe,tt[Nt+56]=St-Xe,Nt++}for(Ft=0;Ft<64;++Ft)Rt=tt[Ft]*wt[Ft],y[Ft]=Rt>0?Rt+.5|0:Rt-.5|0;return y})(B,Y),qe=0;qe<64;++qe)E[D[qe]]=Ce[qe];var ee=E[0]-X;X=E[0],ee==0?xe(Q[0]):(xe(Q[g[_e=32767+ee]]),xe(m[_e]));for(var Ie=63;Ie>0&&E[Ie]==0;)Ie--;if(Ie==0)return xe(Pe),X;for(var Ye,oe=1;oe<=Ie;){for(var rt=oe;E[oe]==0&&oe<=Ie;)++oe;var st=oe-rt;if(st>=16){Ye=st>>4;for(var ft=1;ft<=Ye;++ft)xe(Z);st&=15}_e=32767+E[oe],xe(ce[(st<<4)+g[_e]]),xe(m[_e]),oe++}return Ie!=63&&xe(Pe),X}function re(B){B=Math.min(Math.max(B,1),100),s!=B&&((function(Y){for(var X=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Q=0;Q<64;Q++){var ce=a((X[Q]*Y+50)/100);ce=Math.min(Math.max(ce,1),255),o[D[Q]]=ce}for(var _e=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Pe=0;Pe<64;Pe++){var Z=a((_e[Pe]*Y+50)/100);Z=Math.min(Math.max(Z,1),255),c[D[Pe]]=Z}for(var Ce=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],qe=0,ee=0;ee<8;ee++)for(var Ie=0;Ie<8;Ie++)f[qe]=1/(o[D[qe]]*Ce[ee]*Ce[Ie]*8),d[qe]=1/(c[D[qe]]*Ce[ee]*Ce[Ie]*8),qe++})(B<50?Math.floor(5e3/B):Math.floor(200-2*B)),s=B)}this.encode=function(B,Y){Y&&re(Y),_=new Array,A=0,C=7,me(65496),me(65504),me(16),Ne(74),Ne(70),Ne(73),Ne(70),Ne(0),Ne(1),Ne(1),Ne(0),me(1),me(1),Ne(0),Ne(0),(function(){me(65499),me(132),Ne(0);for(var Pt=0;Pt<64;Pt++)Ne(o[Pt]);Ne(1);for(var jt=0;jt<64;jt++)Ne(c[jt])})(),(function(Pt,jt){me(65472),me(17),Ne(8),me(jt),me(Pt),Ne(3),Ne(1),Ne(17),Ne(0),Ne(2),Ne(17),Ne(1),Ne(3),Ne(17),Ne(1)})(B.width,B.height),(function(){me(65476),me(418),Ne(0);for(var Pt=0;Pt<16;Pt++)Ne(L[Pt+1]);for(var jt=0;jt<=11;jt++)Ne(k[jt]);Ne(16);for(var Zt=0;Zt<16;Zt++)Ne(q[Zt+1]);for(var Gt=0;Gt<=161;Gt++)Ne(P[Gt]);Ne(1);for(var Wt=0;Wt<16;Wt++)Ne(M[Wt+1]);for(var Nn=0;Nn<=11;Nn++)Ne(j[Nn]);Ne(17);for(var en=0;en<16;en++)Ne(ae[en+1]);for(var Ft=0;Ft<=161;Ft++)Ne(Ae[Ft])})(),me(65498),me(12),Ne(3),Ne(1),Ne(0),Ne(2),Ne(17),Ne(3),Ne(17),Ne(0),Ne(63),Ne(0);var X=0,Q=0,ce=0;A=0,C=7,this.encode.displayName="_encode_";for(var _e,Pe,Z,Ce,qe,ee,Ie,Ye,oe,rt=B.data,st=B.width,ft=B.height,tt=4*st,wt=0;wt<ft;){for(_e=0;_e<tt;){for(qe=tt*wt+_e,Ie=-1,Ye=0,oe=0;oe<64;oe++)ee=qe+(Ye=oe>>3)*tt+(Ie=4*(7&oe)),wt+Ye>=ft&&(ee-=tt*(wt+1+Ye-ft)),_e+Ie>=tt&&(ee-=_e+Ie-tt+4),Pe=rt[ee++],Z=rt[ee++],Ce=rt[ee++],V[oe]=(W[Pe]+W[Z+256|0]+W[Ce+512|0]>>16)-128,R[oe]=(W[Pe+768|0]+W[Z+1024|0]+W[Ce+1280|0]>>16)-128,F[oe]=(W[Pe+1280|0]+W[Z+1536|0]+W[Ce+1792|0]>>16)-128;X=Re(V,f,X,e,r),Q=Re(R,d,Q,n,i),ce=Re(F,d,ce,n,i),_e+=32}wt+=8}if(C>=0){var At=[];At[1]=C+1,At[0]=(1<<C+1)-1,xe(At)}return me(65497),new Uint8Array(_)},t=t||50,(function(){for(var B=String.fromCharCode,Y=0;Y<256;Y++)z[Y]=B(Y)})(),e=fe(L,k),n=fe(M,j),r=fe(q,P),i=fe(ae,Ae),(function(){for(var B=1,Y=2,X=1;X<=15;X++){for(var Q=B;Q<Y;Q++)g[32767+Q]=X,m[32767+Q]=[],m[32767+Q][1]=X,m[32767+Q][0]=Q;for(var ce=-(Y-1);ce<=-B;ce++)g[32767+ce]=X,m[32767+ce]=[],m[32767+ce][1]=X,m[32767+ce][0]=Y-1+ce;B<<=1,Y<<=1}})(),(function(){for(var B=0;B<256;B++)W[B]=19595*B,W[B+256|0]=38470*B,W[B+512|0]=7471*B+32768,W[B+768|0]=-11059*B,W[B+1024|0]=-21709*B,W[B+1280|0]=32768*B+8421375,W[B+1536|0]=-27439*B,W[B+1792|0]=-5329*B})(),re(t)}function jl(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function PR(t){function e(k){if(!k)throw Error("assert :P")}function n(k,q,P){for(var M=0;4>M;M++)if(k[q+M]!=P.charCodeAt(M))return!0;return!1}function r(k,q,P,M,j){for(var ae=0;ae<j;ae++)k[q+ae]=P[M+ae]}function i(k,q,P,M){for(var j=0;j<M;j++)k[q+j]=P}function s(k){return new Int32Array(k)}function a(k,q){for(var P=[],M=0;M<k;M++)P.push(new q);return P}function o(k,q){var P=[];return(function M(j,ae,Ae){for(var fe=Ae[ae],xe=0;xe<fe&&(j.push(Ae.length>ae+1?[]:new q),!(Ae.length<ae+1));xe++)M(j[xe],ae+1,Ae)})(P,0,k),P}var c=function(){var k=this;function q(b,N){for(var U=1<<N-1>>>0;b&U;)U>>>=1;return U?(b&U-1)+U:b}function P(b,N,U,G,ne){e(!(G%U));do b[N+(G-=U)]=ne;while(0<G)}function M(b,N,U,G,ne){if(e(2328>=ne),512>=ne)var se=s(512);else if((se=s(ne))==null)return 0;return(function(le,de,ye,Se,Fe,Je){var Te,Ve,We=de,ut=1<<ye,$e=s(16),lt=s(16);for(e(Fe!=0),e(Se!=null),e(le!=null),e(0<ye),Ve=0;Ve<Fe;++Ve){if(15<Se[Ve])return 0;++$e[Se[Ve]]}if($e[0]==Fe)return 0;for(lt[1]=0,Te=1;15>Te;++Te){if($e[Te]>1<<Te)return 0;lt[Te+1]=lt[Te]+$e[Te]}for(Ve=0;Ve<Fe;++Ve)Te=Se[Ve],0<Se[Ve]&&(Je[lt[Te]++]=Ve);if(lt[15]==1)return(Se=new j).g=0,Se.value=Je[0],P(le,We,1,ut,Se),ut;var pt,Tt=-1,yt=ut-1,an=0,$t=1,Dn=1,nn=1<<ye;for(Ve=0,Te=1,Fe=2;Te<=ye;++Te,Fe<<=1){if($t+=Dn<<=1,0>(Dn-=$e[Te]))return 0;for(;0<$e[Te];--$e[Te])(Se=new j).g=Te,Se.value=Je[Ve++],P(le,We+an,Fe,nn,Se),an=q(an,Te)}for(Te=ye+1,Fe=2;15>=Te;++Te,Fe<<=1){if($t+=Dn<<=1,0>(Dn-=$e[Te]))return 0;for(;0<$e[Te];--$e[Te]){if(Se=new j,(an&yt)!=Tt){for(We+=nn,pt=1<<(Tt=Te)-ye;15>Tt&&!(0>=(pt-=$e[Tt]));)++Tt,pt<<=1;ut+=nn=1<<(pt=Tt-ye),le[de+(Tt=an&yt)].g=pt+ye,le[de+Tt].value=We-de-Tt}Se.g=Te-ye,Se.value=Je[Ve++],P(le,We+(an>>ye),Fe,nn,Se),an=q(an,Te)}}return $t!=2*lt[15]-1?0:ut})(b,N,U,G,ne,se)}function j(){this.value=this.g=0}function ae(){this.value=this.g=0}function Ae(){this.G=a(5,j),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(lc,ae)}function fe(b,N,U,G){e(b!=null),e(N!=null),e(2147483648>G),b.Ca=254,b.I=0,b.b=-8,b.Ka=0,b.oa=N,b.pa=U,b.Jd=N,b.Yc=U+G,b.Zc=4<=G?U+G-4+1:U,Pe(b)}function xe(b,N){for(var U=0;0<N--;)U|=Ce(b,128)<<N;return U}function Ne(b,N){var U=xe(b,N);return Z(b)?-U:U}function me(b,N,U,G){var ne,se=0;for(e(b!=null),e(N!=null),e(4294967288>G),b.Sb=G,b.Ra=0,b.u=0,b.h=0,4<G&&(G=4),ne=0;ne<G;++ne)se+=N[U+ne]<<8*ne;b.Ra=se,b.bb=G,b.oa=N,b.pa=U}function Re(b){for(;8<=b.u&&b.bb<b.Sb;)b.Ra>>>=8,b.Ra+=b.oa[b.pa+b.bb]<<Xo-8>>>0,++b.bb,b.u-=8;Q(b)&&(b.h=1,b.u=0)}function re(b,N){if(e(0<=N),!b.h&&N<=Zs){var U=X(b)&ha[N];return b.u+=N,Re(b),U}return b.h=1,b.u=0}function B(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function Y(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function X(b){return b.Ra>>>(b.u&Xo-1)>>>0}function Q(b){return e(b.bb<=b.Sb),b.h||b.bb==b.Sb&&b.u>Xo}function ce(b,N){b.u=N,b.h=Q(b)}function _e(b){b.u>=Jo&&(e(b.u>=Jo),Re(b))}function Pe(b){e(b!=null&&b.oa!=null),b.pa<b.Zc?(b.I=(b.oa[b.pa++]|b.I<<8)>>>0,b.b+=8):(e(b!=null&&b.oa!=null),b.pa<b.Yc?(b.b+=8,b.I=b.oa[b.pa++]|b.I<<8):b.Ka?b.b=0:(b.I<<=8,b.b+=8,b.Ka=1))}function Z(b){return xe(b,1)}function Ce(b,N){var U=b.Ca;0>b.b&&Pe(b);var G=b.b,ne=U*N>>>8,se=(b.I>>>G>ne)+0;for(se?(U-=ne,b.I-=ne+1<<G>>>0):U=ne+1,G=U,ne=0;256<=G;)ne+=8,G>>=8;return G=7^ne+Nl[G],b.b-=G,b.Ca=(U<<G)-1,se}function qe(b,N,U){b[N+0]=U>>24&255,b[N+1]=U>>16&255,b[N+2]=U>>8&255,b[N+3]=255&U}function ee(b,N){return b[N+0]|b[N+1]<<8}function Ie(b,N){return ee(b,N)|b[N+2]<<16}function Ye(b,N){return ee(b,N)|ee(b,N+2)<<16}function oe(b,N){var U=1<<N;return e(b!=null),e(0<N),b.X=s(U),b.X==null?0:(b.Mb=32-N,b.Xa=N,1)}function rt(b,N){e(b!=null),e(N!=null),e(b.Xa==N.Xa),r(N.X,0,b.X,0,1<<N.Xa)}function st(){this.X=[],this.Xa=this.Mb=0}function ft(b,N,U,G){e(U!=null),e(G!=null);var ne=U[0],se=G[0];return ne==0&&(ne=(b*se+N/2)/N),se==0&&(se=(N*ne+b/2)/b),0>=ne||0>=se?0:(U[0]=ne,G[0]=se,1)}function tt(b,N){return b+(1<<N)-1>>>N}function wt(b,N){return((4278255360&b)+(4278255360&N)>>>0&4278255360)+((16711935&b)+(16711935&N)>>>0&16711935)>>>0}function At(b,N){k[N]=function(U,G,ne,se,le,de,ye){var Se;for(Se=0;Se<le;++Se){var Fe=k[b](de[ye+Se-1],ne,se+Se);de[ye+Se]=wt(U[G+Se],Fe)}}}function Pt(){this.ud=this.hd=this.jd=0}function jt(b,N){return((4278124286&(b^N))>>>1)+(b&N)>>>0}function Zt(b){return 0<=b&&256>b?b:0>b?0:255<b?255:void 0}function Gt(b,N){return Zt(b+(b-N+.5>>1))}function Wt(b,N,U){return Math.abs(N-U)-Math.abs(b-U)}function Nn(b,N,U,G,ne,se,le){for(G=se[le-1],U=0;U<ne;++U)se[le+U]=G=wt(b[N+U],G)}function en(b,N,U,G,ne){var se;for(se=0;se<U;++se){var le=b[N+se],de=le>>8&255,ye=16711935&(ye=(ye=16711935&le)+((de<<16)+de));G[ne+se]=(4278255360&le)+ye>>>0}}function Ft(b,N){N.jd=255&b,N.hd=b>>8&255,N.ud=b>>16&255}function Rt(b,N,U,G,ne,se){var le;for(le=0;le<G;++le){var de=N[U+le],ye=de>>>8,Se=de,Fe=255&(Fe=(Fe=de>>>16)+((b.jd<<24>>24)*(ye<<24>>24)>>>5));Se=255&(Se=(Se+=(b.hd<<24>>24)*(ye<<24>>24)>>>5)+((b.ud<<24>>24)*(Fe<<24>>24)>>>5)),ne[se+le]=(4278255360&de)+(Fe<<16)+Se}}function Nt(b,N,U,G,ne){k[N]=function(se,le,de,ye,Se,Fe,Je,Te,Ve){for(ye=Je;ye<Te;++ye)for(Je=0;Je<Ve;++Je)Se[Fe++]=ne(de[G(se[le++])])},k[b]=function(se,le,de,ye,Se,Fe,Je){var Te=8>>se.b,Ve=se.Ea,We=se.K[0],ut=se.w;if(8>Te)for(se=(1<<se.b)-1,ut=(1<<Te)-1;le<de;++le){var $e,lt=0;for($e=0;$e<Ve;++$e)$e&se||(lt=G(ye[Se++])),Fe[Je++]=ne(We[lt&ut]),lt>>=Te}else k["VP8LMapColor"+U](ye,Se,We,ut,Fe,Je,le,de,Ve)}}function qn(b,N,U,G,ne){for(U=N+U;N<U;){var se=b[N++];G[ne++]=se>>16&255,G[ne++]=se>>8&255,G[ne++]=255&se}}function Bt(b,N,U,G,ne){for(U=N+U;N<U;){var se=b[N++];G[ne++]=se>>16&255,G[ne++]=se>>8&255,G[ne++]=255&se,G[ne++]=se>>24&255}}function Ct(b,N,U,G,ne){for(U=N+U;N<U;){var se=(le=b[N++])>>16&240|le>>12&15,le=240&le|le>>28&15;G[ne++]=se,G[ne++]=le}}function zt(b,N,U,G,ne){for(U=N+U;N<U;){var se=(le=b[N++])>>16&248|le>>13&7,le=le>>5&224|le>>3&31;G[ne++]=se,G[ne++]=le}}function xn(b,N,U,G,ne){for(U=N+U;N<U;){var se=b[N++];G[ne++]=255&se,G[ne++]=se>>8&255,G[ne++]=se>>16&255}}function cn(b,N,U,G,ne,se){if(se==0)for(U=N+U;N<U;)qe(G,((se=b[N++])[0]>>24|se[1]>>8&65280|se[2]<<8&16711680|se[3]<<24)>>>0),ne+=32;else r(G,ne,b,N,U)}function Jn(b,N){k[N][0]=k[b+"0"],k[N][1]=k[b+"1"],k[N][2]=k[b+"2"],k[N][3]=k[b+"3"],k[N][4]=k[b+"4"],k[N][5]=k[b+"5"],k[N][6]=k[b+"6"],k[N][7]=k[b+"7"],k[N][8]=k[b+"8"],k[N][9]=k[b+"9"],k[N][10]=k[b+"10"],k[N][11]=k[b+"11"],k[N][12]=k[b+"12"],k[N][13]=k[b+"13"],k[N][14]=k[b+"0"],k[N][15]=k[b+"0"]}function gn(b){return b==_d||b==Gh||b==tf||b==Wh}function dn(){this.eb=[],this.size=this.A=this.fb=0}function ar(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function un(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new dn,this.f.kb=new ar,this.sd=null}function Yt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Ln(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function oi(b){return alert("todo:WebPSamplerProcessPlane"),b.T}function li(b,N){var U=b.T,G=N.ba.f.RGBA,ne=G.eb,se=G.fb+b.ka*G.A,le=bs[N.ba.S],de=b.y,ye=b.O,Se=b.f,Fe=b.N,Je=b.ea,Te=b.W,Ve=N.cc,We=N.dc,ut=N.Mc,$e=N.Nc,lt=b.ka,pt=b.ka+b.T,Tt=b.U,yt=Tt+1>>1;for(lt==0?le(de,ye,null,null,Se,Fe,Je,Te,Se,Fe,Je,Te,ne,se,null,null,Tt):(le(N.ec,N.fc,de,ye,Ve,We,ut,$e,Se,Fe,Je,Te,ne,se-G.A,ne,se,Tt),++U);lt+2<pt;lt+=2)Ve=Se,We=Fe,ut=Je,$e=Te,Fe+=b.Rc,Te+=b.Rc,se+=2*G.A,le(de,(ye+=2*b.fa)-b.fa,de,ye,Ve,We,ut,$e,Se,Fe,Je,Te,ne,se-G.A,ne,se,Tt);return ye+=b.fa,b.j+pt<b.o?(r(N.ec,N.fc,de,ye,Tt),r(N.cc,N.dc,Se,Fe,yt),r(N.Mc,N.Nc,Je,Te,yt),U--):1&pt||le(de,ye,null,null,Se,Fe,Je,Te,Se,Fe,Je,Te,ne,se+G.A,null,null,Tt),U}function Rs(b,N,U){var G=b.F,ne=[b.J];if(G!=null){var se=b.U,le=N.ba.S,de=le==bd||le==tf;N=N.ba.f.RGBA;var ye=[0],Se=b.ka;ye[0]=b.T,b.Kb&&(Se==0?--ye[0]:(--Se,ne[0]-=b.width),b.j+b.ka+b.T==b.o&&(ye[0]=b.o-b.j-Se));var Fe=N.eb;Se=N.fb+Se*N.A,b=gd(G,ne[0],b.width,se,ye,Fe,Se+(de?0:3),N.A),e(U==ye),b&&gn(le)&&tu(Fe,Se,de,se,ye,N.A)}return 0}function Zr(b){var N=b.ma,U=N.ba.S,G=11>U,ne=U==Os||U==no||U==bd||U==ef||U==12||gn(U);if(N.memory=null,N.Ib=null,N.Jb=null,N.Nd=null,!Al(N.Oa,b,ne?11:12))return 0;if(ne&&gn(U)&&kn(),b.da)alert("todo:use_scaling");else{if(G){if(N.Ib=oi,b.Kb){if(U=b.U+1>>1,N.memory=s(b.U+2*U),N.memory==null)return 0;N.ec=N.memory,N.fc=0,N.cc=N.ec,N.dc=N.fc+b.U,N.Mc=N.cc,N.Nc=N.dc+U,N.Ib=li,kn()}}else alert("todo:EmitYUV");ne&&(N.Jb=Rs,G&&et())}if(G&&!mc){for(b=0;256>b;++b)_s[b]=89858*(b-128)+sf>>lo,Ov[b]=-22014*(b-128)+sf,W1[b]=-45773*(b-128),Jh[b]=113618*(b-128)+sf>>lo;for(b=su;b<pc;++b)N=76283*(b-16)+sf>>lo,Bv[b-su]=ei(N,255),Vv[b-su]=ei(N+8>>4,15);mc=1}return 1}function hn(b){var N=b.ma,U=b.U,G=b.T;return e(!(1&b.ka)),0>=U||0>=G?0:(U=N.Ib(b,N),N.Jb!=null&&N.Jb(b,N,U),N.Dc+=U,1)}function Le(b){b.ma.memory=null}function Lt(b,N,U,G){return re(b,8)!=47?0:(N[0]=re(b,14)+1,U[0]=re(b,14)+1,G[0]=re(b,1),re(b,3)!=0?0:!b.h)}function qt(b,N){if(4>b)return b+1;var U=b-2>>1;return(2+(1&b)<<U)+re(N,U)+1}function $n(b,N){return 120<N?N-120:1<=(U=((U=io[N-1])>>4)*b+(8-(15&U)))?U:1;var U}function tn(b,N,U){var G=X(U),ne=b[N+=255&G].g-8;return 0<ne&&(ce(U,U.u+8),G=X(U),N+=b[N].value,N+=G&(1<<ne)-1),ce(U,U.u+b[N].g),b[N].value}function Hn(b,N,U){return U.g+=b.g,U.value+=b.value<<N>>>0,e(8>=U.g),b.g}function ie(b,N,U){var G=b.xc;return e((N=G==0?0:b.vc[b.md*(U>>G)+(N>>G)])<b.Wb),b.Ya[N]}function ve(b,N,U,G){var ne=b.ab,se=b.c*N,le=b.C;N=le+N;var de=U,ye=G;for(G=b.Ta,U=b.Ua;0<ne--;){var Se=b.gc[ne],Fe=le,Je=N,Te=de,Ve=ye,We=(ye=G,de=U,Se.Ea);switch(e(Fe<Je),e(Je<=Se.nc),Se.hc){case 2:Ni(Te,Ve,(Je-Fe)*We,ye,de);break;case 0:var ut=Fe,$e=Je,lt=ye,pt=de,Tt=(nn=Se).Ea;ut==0&&(Xu(Te,Ve,null,null,1,lt,pt),Nn(Te,Ve+1,0,0,Tt-1,lt,pt+1),Ve+=Tt,pt+=Tt,++ut);for(var yt=1<<nn.b,an=yt-1,$t=tt(Tt,nn.b),Dn=nn.K,nn=nn.w+(ut>>nn.b)*$t;ut<$e;){var tr=Dn,ri=nn,Bn=1;for(Ju(Te,Ve,lt,pt-Tt,1,lt,pt);Bn<Tt;){var Kt=(Bn&~an)+yt;Kt>Tt&&(Kt=Tt),(0,Cl[tr[ri++]>>8&15])(Te,Ve+ +Bn,lt,pt+Bn-Tt,Kt-Bn,lt,pt+Bn),Bn=Kt}Ve+=Tt,pt+=Tt,++ut&an||(nn+=$t)}Je!=Se.nc&&r(ye,de-We,ye,de+(Je-Fe-1)*We,We);break;case 1:for(We=Te,$e=Ve,Tt=(Te=Se.Ea)-(pt=Te&~(lt=(Ve=1<<Se.b)-1)),ut=tt(Te,Se.b),yt=Se.K,Se=Se.w+(Fe>>Se.b)*ut;Fe<Je;){for(an=yt,$t=Se,Dn=new Pt,nn=$e+pt,tr=$e+Te;$e<nn;)Ft(an[$t++],Dn),Qu(Dn,We,$e,Ve,ye,de),$e+=Ve,de+=Ve;$e<tr&&(Ft(an[$t++],Dn),Qu(Dn,We,$e,Tt,ye,de),$e+=Tt,de+=Tt),++Fe&lt||(Se+=ut)}break;case 3:if(Te==ye&&Ve==de&&0<Se.b){for($e=ye,Te=We=de+(Je-Fe)*We-(pt=(Je-Fe)*tt(Se.Ea,Se.b)),Ve=ye,lt=de,ut=[],pt=(Tt=pt)-1;0<=pt;--pt)ut[pt]=Ve[lt+pt];for(pt=Tt-1;0<=pt;--pt)$e[Te+pt]=ut[pt];Uh(Se,Fe,Je,ye,We,ye,de)}else Uh(Se,Fe,Je,Te,Ve,ye,de)}de=G,ye=U}ye!=U&&r(G,U,de,ye,se)}function he(b,N){var U=b.V,G=b.Ba+b.c*b.C,ne=N-b.C;if(e(N<=b.l.o),e(16>=ne),0<ne){var se=b.l,le=b.Ta,de=b.Ua,ye=se.width;if(ve(b,ne,U,G),ne=de=[de],e((U=b.C)<(G=N)),e(se.v<se.va),G>se.o&&(G=se.o),U<se.j){var Se=se.j-U;U=se.j,ne[0]+=Se*ye}if(U>=G?U=0:(ne[0]+=4*se.v,se.ka=U-se.j,se.U=se.va-se.v,se.T=G-U,U=1),U){if(de=de[0],11>(U=b.ca).S){var Fe=U.f.RGBA,Je=(G=U.S,ne=se.U,se=se.T,Se=Fe.eb,Fe.A),Te=se;for(Fe=Fe.fb+b.Ma*Fe.A;0<Te--;){var Ve=le,We=de,ut=ne,$e=Se,lt=Fe;switch(G){case Hh:Zu(Ve,We,ut,$e,lt);break;case Os:Il(Ve,We,ut,$e,lt);break;case _d:Il(Ve,We,ut,$e,lt),tu($e,lt,0,ut,1,0);break;case zh:Zc(Ve,We,ut,$e,lt);break;case no:cn(Ve,We,ut,$e,lt,1);break;case Gh:cn(Ve,We,ut,$e,lt,1),tu($e,lt,0,ut,1,0);break;case bd:cn(Ve,We,ut,$e,lt,0);break;case tf:cn(Ve,We,ut,$e,lt,0),tu($e,lt,1,ut,1,0);break;case ef:kl(Ve,We,ut,$e,lt);break;case Wh:kl(Ve,We,ut,$e,lt),to($e,lt,ut,1,0);break;case cc:el(Ve,We,ut,$e,lt);break;default:e(0)}de+=ye,Fe+=Je}b.Ma+=se}else alert("todo:EmitRescaledRowsYUVA");e(b.Ma<=U.height)}}b.C=N,e(b.C<=b.i)}function ge(b){var N;if(0<b.ua)return 0;for(N=0;N<b.Wb;++N){var U=b.Ya[N].G,G=b.Ya[N].H;if(0<U[1][G[1]+0].g||0<U[2][G[2]+0].g||0<U[3][G[3]+0].g)return 0}return 1}function be(b,N,U,G,ne,se){if(b.Z!=0){var le=b.qd,de=b.rd;for(e(Dl[b.Z]!=null);N<U;++N)Dl[b.Z](le,de,G,ne,G,ne,se),le=G,de=ne,ne+=se;b.qd=le,b.rd=de}}function we(b,N){var U=b.l.ma,G=U.Z==0||U.Z==1?b.l.j:b.C;if(G=b.C<G?G:b.C,e(N<=b.l.o),N>G){var ne=b.l.width,se=U.ca,le=U.tb+ne*G,de=b.V,ye=b.Ba+b.c*G,Se=b.gc;e(b.ab==1),e(Se[0].hc==3),Zo(Se[0],G,N,de,ye,se,le),be(U,G,N,se,le,ne)}b.C=b.Ma=N}function Ue(b,N,U,G,ne,se,le){var de=b.$/G,ye=b.$%G,Se=b.m,Fe=b.s,Je=U+b.$,Te=Je;ne=U+G*ne;var Ve=U+G*se,We=280+Fe.ua,ut=b.Pb?de:16777216,$e=0<Fe.ua?Fe.Wa:null,lt=Fe.wc,pt=Je<Ve?ie(Fe,ye,de):null;e(b.C<se),e(Ve<=ne);var Tt=!1;e:for(;;){for(;Tt||Je<Ve;){var yt=0;if(de>=ut){var an=Je-U;e((ut=b).Pb),ut.wd=ut.m,ut.xd=an,0<ut.s.ua&&rt(ut.s.Wa,ut.s.vb),ut=de+uc}if(ye&lt||(pt=ie(Fe,ye,de)),e(pt!=null),pt.Qb&&(N[Je]=pt.qb,Tt=!0),!Tt)if(_e(Se),pt.jc){yt=Se,an=N;var $t=Je,Dn=pt.pd[X(yt)&lc-1];e(pt.jc),256>Dn.g?(ce(yt,yt.u+Dn.g),an[$t]=Dn.value,yt=0):(ce(yt,yt.u+Dn.g-256),e(256<=Dn.value),yt=Dn.value),yt==0&&(Tt=!0)}else yt=tn(pt.G[0],pt.H[0],Se);if(Se.h)break;if(Tt||256>yt){if(!Tt)if(pt.nd)N[Je]=(pt.qb|yt<<8)>>>0;else{if(_e(Se),Tt=tn(pt.G[1],pt.H[1],Se),_e(Se),an=tn(pt.G[2],pt.H[2],Se),$t=tn(pt.G[3],pt.H[3],Se),Se.h)break;N[Je]=($t<<24|Tt<<16|yt<<8|an)>>>0}if(Tt=!1,++Je,++ye>=G&&(ye=0,++de,le!=null&&de<=se&&!(de%16)&&le(b,de),$e!=null))for(;Te<Je;)yt=N[Te++],$e.X[(506832829*yt&4294967295)>>>$e.Mb]=yt}else if(280>yt){if(yt=qt(yt-256,Se),an=tn(pt.G[4],pt.H[4],Se),_e(Se),an=$n(G,an=qt(an,Se)),Se.h)break;if(Je-U<an||ne-Je<yt)break e;for($t=0;$t<yt;++$t)N[Je+$t]=N[Je+$t-an];for(Je+=yt,ye+=yt;ye>=G;)ye-=G,++de,le!=null&&de<=se&&!(de%16)&&le(b,de);if(e(Je<=ne),ye&lt&&(pt=ie(Fe,ye,de)),$e!=null)for(;Te<Je;)yt=N[Te++],$e.X[(506832829*yt&4294967295)>>>$e.Mb]=yt}else{if(!(yt<We))break e;for(Tt=yt-280,e($e!=null);Te<Je;)yt=N[Te++],$e.X[(506832829*yt&4294967295)>>>$e.Mb]=yt;yt=Je,e(!(Tt>>>(an=$e).Xa)),N[yt]=an.X[Tt],Tt=!0}Tt||e(Se.h==Q(Se))}if(b.Pb&&Se.h&&Je<ne)e(b.m.h),b.a=5,b.m=b.wd,b.$=b.xd,0<b.s.ua&&rt(b.s.vb,b.s.Wa);else{if(Se.h)break e;le?.(b,de>se?se:de),b.a=0,b.$=Je-U}return 1}return b.a=3,0}function at(b){e(b!=null),b.vc=null,b.yc=null,b.Ya=null;var N=b.Wa;N!=null&&(N.X=null),b.vb=null,e(b!=null)}function Be(){var b=new wn;return b==null?null:(b.a=0,b.xb=am,Jn("Predictor","VP8LPredictors"),Jn("Predictor","VP8LPredictors_C"),Jn("PredictorAdd","VP8LPredictorsAdd"),Jn("PredictorAdd","VP8LPredictorsAdd_C"),Ni=en,Qu=Rt,Zu=qn,Il=Bt,kl=Ct,el=zt,Zc=xn,k.VP8LMapColor32b=Qo,k.VP8LMapColor8b=xs,b)}function ze(b,N,U,G,ne){var se=1,le=[b],de=[N],ye=G.m,Se=G.s,Fe=null,Je=0;e:for(;;){if(U)for(;se&&re(ye,1);){var Te=le,Ve=de,We=G,ut=1,$e=We.m,lt=We.gc[We.ab],pt=re($e,2);if(We.Oc&1<<pt)se=0;else{switch(We.Oc|=1<<pt,lt.hc=pt,lt.Ea=Te[0],lt.nc=Ve[0],lt.K=[null],++We.ab,e(4>=We.ab),pt){case 0:case 1:lt.b=re($e,3)+2,ut=ze(tt(lt.Ea,lt.b),tt(lt.nc,lt.b),0,We,lt.K),lt.K=lt.K[0];break;case 3:var Tt,yt=re($e,8)+1,an=16<yt?0:4<yt?1:2<yt?2:3;if(Te[0]=tt(lt.Ea,an),lt.b=an,Tt=ut=ze(yt,1,0,We,lt.K)){var $t,Dn=yt,nn=lt,tr=1<<(8>>nn.b),ri=s(tr);if(ri==null)Tt=0;else{var Bn=nn.K[0],Kt=nn.w;for(ri[0]=nn.K[0][0],$t=1;$t<1*Dn;++$t)ri[$t]=wt(Bn[Kt+$t],ri[$t-1]);for(;$t<4*tr;++$t)ri[$t]=0;nn.K[0]=null,nn.K[0]=ri,Tt=1}}ut=Tt;break;case 2:break;default:e(0)}se=ut}}if(le=le[0],de=de[0],se&&re(ye,1)&&!(se=1<=(Je=re(ye,4))&&11>=Je)){G.a=3;break e}var Ot;if(Ot=se)t:{var ci,An,zn,Rr=G,Ki=le,ws=de,$r=Je,Mi=U,Bs=Rr.m,Li=Rr.s,Xn=[null],gr=1,ui=0,Er=so[$r];n:for(;;){if(Mi&&re(Bs,1)){var Yi=re(Bs,3)+2,fi=tt(Ki,Yi),xr=tt(ws,Yi),ki=fi*xr;if(!ze(fi,xr,0,Rr,Xn))break n;for(Xn=Xn[0],Li.xc=Yi,ci=0;ci<ki;++ci){var Pr=Xn[ci]>>8&65535;Xn[ci]=Pr,Pr>=gr&&(gr=Pr+1)}}if(Bs.h)break n;for(An=0;5>An;++An){var Fi=ru[An];!An&&0<$r&&(Fi+=1<<$r),ui<Fi&&(ui=Fi)}var Oi=a(gr*Er,j),Or=gr,dr=a(Or,Ae);if(dr==null)var Vs=null;else e(65536>=Or),Vs=dr;var yi=s(ui);if(Vs==null||yi==null||Oi==null){Rr.a=1;break n}var _n=Oi;for(ci=zn=0;ci<gr;++ci){var Tn=Vs[ci],yr=Tn.G,pa=Tn.H,co=0,ta=1,Bi=0;for(An=0;5>An;++An){Fi=ru[An],yr[An]=_n,pa[An]=zn,!An&&0<$r&&(Fi+=1<<$r);i:{var gc,xc=Fi,Zh=Rr,Kr=yi,lm=_n,cm=zn,e0=0,Ml=Zh.m,Uv=re(Ml,1);if(i(Kr,0,0,xc),Uv){var um=re(Ml,1)+1,fm=re(Ml,1),t0=re(Ml,fm==0?1:8);Kr[t0]=1,um==2&&(Kr[t0=re(Ml,8)]=1);var is=1}else{var vi=s(19),Sd=re(Ml,4)+4;if(19<Sd){Zh.a=3;var yc=0;break i}for(gc=0;gc<Sd;++gc)vi[wd[gc]]=re(Ml,3);var of=void 0,au=void 0,rl=Zh,n0=vi,lf=xc,r0=Kr,i0=0,Ll=rl.m,dm=8,hm=a(128,j);r:for(;M(hm,0,7,n0,19);){if(re(Ll,1)){var $1=2+2*re(Ll,3);if((of=2+re(Ll,$1))>lf)break r}else of=lf;for(au=0;au<lf&&of--;){_e(Ll);var pm=hm[0+(127&X(Ll))];ce(Ll,Ll.u+pm.g);var vc=pm.value;if(16>vc)r0[au++]=vc,vc!=0&&(dm=vc);else{var K1=vc==16,Y1=vc-16,X1=nf[Y1],mm=re(Ll,ro[Y1])+X1;if(au+mm>lf)break r;for(var J1=K1?dm:0;0<mm--;)r0[au++]=J1}}i0=1;break r}i0||(rl.a=3),is=i0}(is=is&&!Ml.h)&&(e0=M(lm,cm,8,Kr,xc)),is&&e0!=0?yc=e0:(Zh.a=3,yc=0)}if(yc==0)break n;if(ta&&$h[An]==1&&(ta=_n[zn].g==0),co+=_n[zn].g,zn+=yc,3>=An){var ou,s0=yi[0];for(ou=1;ou<Fi;++ou)yi[ou]>s0&&(s0=yi[ou]);Bi+=s0}}if(Tn.nd=ta,Tn.Qb=0,ta&&(Tn.qb=(yr[3][pa[3]+0].value<<24|yr[1][pa[1]+0].value<<16|yr[2][pa[2]+0].value)>>>0,co==0&&256>yr[0][pa[0]+0].value&&(Tn.Qb=1,Tn.qb+=yr[0][pa[0]+0].value<<8)),Tn.jc=!Tn.Qb&&6>Bi,Tn.jc){var Ad,il=Tn;for(Ad=0;Ad<lc;++Ad){var Fl=Ad,Ol=il.pd[Fl],a0=il.G[0][il.H[0]+Fl];256<=a0.value?(Ol.g=a0.g+256,Ol.value=a0.value):(Ol.g=0,Ol.value=0,Fl>>=Hn(a0,8,Ol),Fl>>=Hn(il.G[1][il.H[1]+Fl],16,Ol),Fl>>=Hn(il.G[2][il.H[2]+Fl],0,Ol),Hn(il.G[3][il.H[3]+Fl],24,Ol))}}}Li.vc=Xn,Li.Wb=gr,Li.Ya=Vs,Li.yc=Oi,Ot=1;break t}Ot=0}if(!(se=Ot)){G.a=3;break e}if(0<Je){if(Se.ua=1<<Je,!oe(Se.Wa,Je)){G.a=1,se=0;break e}}else Se.ua=0;var o0=G,lu=le,Q1=de,cf=o0.s,uf=cf.xc;if(o0.c=lu,o0.i=Q1,cf.md=tt(lu,uf),cf.wc=uf==0?-1:(1<<uf)-1,U){G.xb=fc;break e}if((Fe=s(le*de))==null){G.a=1,se=0;break e}se=(se=Ue(G,Fe,0,le,de,de,null))&&!ye.h;break e}return se?(ne!=null?ne[0]=Fe:(e(Fe==null),e(U)),G.$=0,U||at(Se)):at(Se),se}function Xe(b,N){var U=b.c*b.i,G=U+N+16*N;return e(b.c<=N),b.V=s(G),b.V==null?(b.Ta=null,b.Ua=0,b.a=1,0):(b.Ta=b.V,b.Ua=b.Ba+U+N,1)}function bt(b,N){var U=b.C,G=N-U,ne=b.V,se=b.Ba+b.c*U;for(e(N<=b.l.o);0<G;){var le=16<G?16:G,de=b.l.ma,ye=b.l.width,Se=ye*le,Fe=de.ca,Je=de.tb+ye*U,Te=b.Ta,Ve=b.Ua;ve(b,le,ne,se),Va(Te,Ve,Fe,Je,Se),be(de,U,U+le,Fe,Je,ye),G-=le,ne+=le*b.c,U+=le}e(U==N),b.C=b.Ma=N}function St(){this.ub=this.yd=this.td=this.Rb=0}function Mt(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function _t(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Dt(){this.Yb=(function(){var b=[];return(function N(U,G,ne){for(var se=ne[G],le=0;le<se&&(U.push(ne.length>G+1?[]:0),!(ne.length<G+1));le++)N(U[le],G+1,ne)})(b,0,[3,11]),b})()}function Xt(){this.jb=s(3),this.Wc=o([4,8],Dt),this.Xc=o([4,17],Dt)}function mr(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Gn(){this.ld=this.La=this.dd=this.tc=0}function wr(){this.Na=this.la=0}function Gi(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function $s(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function ua(){this.uc=this.M=this.Nb=0,this.wa=Array(new Gn),this.Y=0,this.ya=Array(new $s),this.aa=0,this.l=new ts}function Ps(){this.y=s(16),this.f=s(8),this.ea=s(8)}function wo(){this.cb=this.a=0,this.sc="",this.m=new B,this.Od=new St,this.Kc=new Mt,this.ed=new mr,this.Qa=new _t,this.Ic=this.$c=this.Aa=0,this.D=new ua,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,B),this.ia=0,this.pb=a(4,Gi),this.Pa=new Xt,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Ps),this.Hd=0,this.rb=Array(new wr),this.sb=0,this.wa=Array(new Gn),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new $s),this.L=this.aa=0,this.gd=o([4,2],Gn),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function ei(b,N){return 0>b?0:b>N?N:b}function ts(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function mi(){var b=new wo;return b!=null&&(b.a=0,b.sc="OK",b.cb=0,b.Xb=0,Ua||(Ua=or)),b}function Qn(b,N,U){return b.a==0&&(b.a=N,b.sc=U,b.cb=0),0}function To(b,N,U){return 3<=U&&b[N+0]==157&&b[N+1]==1&&b[N+2]==42}function fa(b,N){if(b==null)return 0;if(b.a=0,b.sc="OK",N==null)return Qn(b,2,"null VP8Io passed to VP8GetHeaders()");var U=N.data,G=N.w,ne=N.ha;if(4>ne)return Qn(b,7,"Truncated header.");var se=U[G+0]|U[G+1]<<8|U[G+2]<<16,le=b.Od;if(le.Rb=!(1&se),le.td=se>>1&7,le.yd=se>>4&1,le.ub=se>>5,3<le.td)return Qn(b,3,"Incorrect keyframe parameters.");if(!le.yd)return Qn(b,4,"Frame not displayable.");G+=3,ne-=3;var de=b.Kc;if(le.Rb){if(7>ne)return Qn(b,7,"cannot parse picture header");if(!To(U,G,ne))return Qn(b,3,"Bad code word");de.c=16383&(U[G+4]<<8|U[G+3]),de.Td=U[G+4]>>6,de.i=16383&(U[G+6]<<8|U[G+5]),de.Ud=U[G+6]>>6,G+=7,ne-=7,b.za=de.c+15>>4,b.Ub=de.i+15>>4,N.width=de.c,N.height=de.i,N.Da=0,N.j=0,N.v=0,N.va=N.width,N.o=N.height,N.da=0,N.ib=N.width,N.hb=N.height,N.U=N.width,N.T=N.height,i((se=b.Pa).jb,0,255,se.jb.length),e((se=b.Qa)!=null),se.Cb=0,se.Bb=0,se.Fb=1,i(se.Zb,0,0,se.Zb.length),i(se.Lb,0,0,se.Lb)}if(le.ub>ne)return Qn(b,7,"bad partition length");fe(se=b.m,U,G,le.ub),G+=le.ub,ne-=le.ub,le.Rb&&(de.Ld=Z(se),de.Kd=Z(se)),de=b.Qa;var ye,Se=b.Pa;if(e(se!=null),e(de!=null),de.Cb=Z(se),de.Cb){if(de.Bb=Z(se),Z(se)){for(de.Fb=Z(se),ye=0;4>ye;++ye)de.Zb[ye]=Z(se)?Ne(se,7):0;for(ye=0;4>ye;++ye)de.Lb[ye]=Z(se)?Ne(se,6):0}if(de.Bb)for(ye=0;3>ye;++ye)Se.jb[ye]=Z(se)?xe(se,8):255}else de.Bb=0;if(se.Ka)return Qn(b,3,"cannot parse segment header");if((de=b.ed).zd=Z(se),de.Tb=xe(se,6),de.wb=xe(se,3),de.Pc=Z(se),de.Pc&&Z(se)){for(Se=0;4>Se;++Se)Z(se)&&(de.vd[Se]=Ne(se,6));for(Se=0;4>Se;++Se)Z(se)&&(de.od[Se]=Ne(se,6))}if(b.L=de.Tb==0?0:de.zd?1:2,se.Ka)return Qn(b,3,"cannot parse filter header");var Fe=ne;if(ne=ye=G,G=ye+Fe,de=Fe,b.Xb=(1<<xe(b.m,2))-1,Fe<3*(Se=b.Xb))U=7;else{for(ye+=3*Se,de-=3*Se,Fe=0;Fe<Se;++Fe){var Je=U[ne+0]|U[ne+1]<<8|U[ne+2]<<16;Je>de&&(Je=de),fe(b.Jc[+Fe],U,ye,Je),ye+=Je,de-=Je,ne+=3}fe(b.Jc[+Se],U,ye,de),U=ye<G?0:5}if(U!=0)return Qn(b,U,"cannot parse partitions");for(U=xe(ye=b.m,7),ne=Z(ye)?Ne(ye,4):0,G=Z(ye)?Ne(ye,4):0,de=Z(ye)?Ne(ye,4):0,Se=Z(ye)?Ne(ye,4):0,ye=Z(ye)?Ne(ye,4):0,Fe=b.Qa,Je=0;4>Je;++Je){if(Fe.Cb){var Te=Fe.Zb[Je];Fe.Fb||(Te+=U)}else{if(0<Je){b.pb[Je]=b.pb[0];continue}Te=U}var Ve=b.pb[Je];Ve.Sc[0]=ao[ei(Te+ne,127)],Ve.Sc[1]=oo[ei(Te+0,127)],Ve.Eb[0]=2*ao[ei(Te+G,127)],Ve.Eb[1]=101581*oo[ei(Te+de,127)]>>16,8>Ve.Eb[1]&&(Ve.Eb[1]=8),Ve.Qc[0]=ao[ei(Te+Se,117)],Ve.Qc[1]=oo[ei(Te+ye,127)],Ve.lc=Te+ye}if(!le.Rb)return Qn(b,4,"Not a key frame.");for(Z(se),le=b.Pa,U=0;4>U;++U){for(ne=0;8>ne;++ne)for(G=0;3>G;++G)for(de=0;11>de;++de)Se=Ce(se,ni[U][ne][G][de])?xe(se,8):G1[U][ne][G][de],le.Wc[U][ne].Yb[G][de]=Se;for(ne=0;17>ne;++ne)le.Xc[U][ne]=le.Wc[U][nr[ne]]}return b.kc=Z(se),b.kc&&(b.Bd=xe(se,8)),b.cb=1}function or(b,N,U,G,ne,se,le){var de=N[ne].Yb[U];for(U=0;16>ne;++ne){if(!Ce(b,de[U+0]))return ne;for(;!Ce(b,de[U+1]);)if(de=N[++ne].Yb[0],U=0,ne==16)return 16;var ye=N[ne+1].Yb;if(Ce(b,de[U+2])){var Se=b,Fe=0;if(Ce(Se,(Te=de)[(Je=U)+3]))if(Ce(Se,Te[Je+6])){for(de=0,Je=2*(Fe=Ce(Se,Te[Je+8]))+(Te=Ce(Se,Te[Je+9+Fe])),Fe=0,Te=z1[Je];Te[de];++de)Fe+=Fe+Ce(Se,Te[de]);Fe+=3+(8<<Je)}else Ce(Se,Te[Je+7])?(Fe=7+2*Ce(Se,165),Fe+=Ce(Se,145)):Fe=5+Ce(Se,159);else Fe=Ce(Se,Te[Je+4])?3+Ce(Se,Te[Je+5]):2;de=ye[2]}else Fe=1,de=ye[1];ye=le+sm[ne],0>(Se=b).b&&Pe(Se);var Je,Te=Se.b,Ve=(Je=Se.Ca>>1)-(Se.I>>Te)>>31;--Se.b,Se.Ca+=Ve,Se.Ca|=1,Se.I-=(Je+1&Ve)<<Te,se[ye]=((Fe^Ve)-Ve)*G[(0<ne)+0]}return 16}function Ho(b){var N=b.rb[b.sb-1];N.la=0,N.Na=0,i(b.zc,0,0,b.zc.length),b.ja=0}function Si(b,N,U,G,ne){ne=b[N+U+32*G]+(ne>>3),b[N+U+32*G]=-256&ne?0>ne?0:255:ne}function ti(b,N,U,G,ne,se){Si(b,N,0,U,G+ne),Si(b,N,1,U,G+se),Si(b,N,2,U,G-se),Si(b,N,3,U,G-ne)}function gi(b){return(20091*b>>16)+b}function bl(b,N,U,G){var ne,se=0,le=s(16);for(ne=0;4>ne;++ne){var de=b[N+0]+b[N+8],ye=b[N+0]-b[N+8],Se=(35468*b[N+4]>>16)-gi(b[N+12]),Fe=gi(b[N+4])+(35468*b[N+12]>>16);le[se+0]=de+Fe,le[se+1]=ye+Se,le[se+2]=ye-Se,le[se+3]=de-Fe,se+=4,N++}for(ne=se=0;4>ne;++ne)de=(b=le[se+0]+4)+le[se+8],ye=b-le[se+8],Se=(35468*le[se+4]>>16)-gi(le[se+12]),Si(U,G,0,0,de+(Fe=gi(le[se+4])+(35468*le[se+12]>>16))),Si(U,G,1,0,ye+Se),Si(U,G,2,0,ye-Se),Si(U,G,3,0,de-Fe),se++,G+=32}function Ku(b,N,U,G){var ne=b[N+0]+4,se=35468*b[N+4]>>16,le=gi(b[N+4]),de=35468*b[N+1]>>16;ti(U,G,0,ne+le,b=gi(b[N+1]),de),ti(U,G,1,ne+se,b,de),ti(U,G,2,ne-se,b,de),ti(U,G,3,ne-le,b,de)}function $c(b,N,U,G,ne){bl(b,N,U,G),ne&&bl(b,N+16,U,G+4)}function ps(b,N,U,G){Rl(b,N+0,U,G,1),Rl(b,N+32,U,G+128,1)}function Kc(b,N,U,G){var ne;for(b=b[N+0]+4,ne=0;4>ne;++ne)for(N=0;4>N;++N)Si(U,G,N,ne,b)}function Eo(b,N,U,G){b[N+0]&&Tr(b,N+0,U,G),b[N+16]&&Tr(b,N+16,U,G+4),b[N+32]&&Tr(b,N+32,U,G+128),b[N+48]&&Tr(b,N+48,U,G+128+4)}function Wi(b,N,U,G){var ne,se=s(16);for(ne=0;4>ne;++ne){var le=b[N+0+ne]+b[N+12+ne],de=b[N+4+ne]+b[N+8+ne],ye=b[N+4+ne]-b[N+8+ne],Se=b[N+0+ne]-b[N+12+ne];se[0+ne]=le+de,se[8+ne]=le-de,se[4+ne]=Se+ye,se[12+ne]=Se-ye}for(ne=0;4>ne;++ne)le=(b=se[0+4*ne]+3)+se[3+4*ne],de=se[1+4*ne]+se[2+4*ne],ye=se[1+4*ne]-se[2+4*ne],Se=b-se[3+4*ne],U[G+0]=le+de>>3,U[G+16]=Se+ye>>3,U[G+32]=le-de>>3,U[G+48]=Se-ye>>3,G+=64}function zo(b,N,U){var G,ne=N-32,se=Fs,le=255-b[ne-1];for(G=0;G<U;++G){var de,ye=se,Se=le+b[N-1];for(de=0;de<U;++de)b[N+de]=ye[Se+b[ne+de]];N+=32}}function Yc(b,N){zo(b,N,4)}function Xc(b,N){zo(b,N,8)}function rc(b,N){zo(b,N,16)}function ic(b,N){var U;for(U=0;16>U;++U)r(b,N+32*U,b,N-32,16)}function So(b,N){var U;for(U=16;0<U;--U)i(b,N,b[N-1],16),N+=32}function Ds(b,N,U){var G;for(G=0;16>G;++G)i(N,U+32*G,b,16)}function Da(b,N){var U,G=16;for(U=0;16>U;++U)G+=b[N-1+32*U]+b[N+U-32];Ds(G>>5,b,N)}function Ao(b,N){var U,G=8;for(U=0;16>U;++U)G+=b[N-1+32*U];Ds(G>>4,b,N)}function Ms(b,N){var U,G=8;for(U=0;16>U;++U)G+=b[N+U-32];Ds(G>>4,b,N)}function Go(b,N){Ds(128,b,N)}function bn(b,N,U){return b+2*N+U+2>>2}function _l(b,N){var U,G=N-32;for(G=new Uint8Array([bn(b[G-1],b[G+0],b[G+1]),bn(b[G+0],b[G+1],b[G+2]),bn(b[G+1],b[G+2],b[G+3]),bn(b[G+2],b[G+3],b[G+4])]),U=0;4>U;++U)r(b,N+32*U,G,0,G.length)}function sc(b,N){var U=b[N-1],G=b[N-1+32],ne=b[N-1+64],se=b[N-1+96];qe(b,N+0,16843009*bn(b[N-1-32],U,G)),qe(b,N+32,16843009*bn(U,G,ne)),qe(b,N+64,16843009*bn(G,ne,se)),qe(b,N+96,16843009*bn(ne,se,se))}function Wo(b,N){var U,G=4;for(U=0;4>U;++U)G+=b[N+U-32]+b[N-1+32*U];for(G>>=3,U=0;4>U;++U)i(b,N+32*U,G,4)}function $i(b,N){var U=b[N-1+0],G=b[N-1+32],ne=b[N-1+64],se=b[N-1-32],le=b[N+0-32],de=b[N+1-32],ye=b[N+2-32],Se=b[N+3-32];b[N+0+96]=bn(G,ne,b[N-1+96]),b[N+1+96]=b[N+0+64]=bn(U,G,ne),b[N+2+96]=b[N+1+64]=b[N+0+32]=bn(se,U,G),b[N+3+96]=b[N+2+64]=b[N+1+32]=b[N+0+0]=bn(le,se,U),b[N+3+64]=b[N+2+32]=b[N+1+0]=bn(de,le,se),b[N+3+32]=b[N+2+0]=bn(ye,de,le),b[N+3+0]=bn(Se,ye,de)}function Di(b,N){var U=b[N+1-32],G=b[N+2-32],ne=b[N+3-32],se=b[N+4-32],le=b[N+5-32],de=b[N+6-32],ye=b[N+7-32];b[N+0+0]=bn(b[N+0-32],U,G),b[N+1+0]=b[N+0+32]=bn(U,G,ne),b[N+2+0]=b[N+1+32]=b[N+0+64]=bn(G,ne,se),b[N+3+0]=b[N+2+32]=b[N+1+64]=b[N+0+96]=bn(ne,se,le),b[N+3+32]=b[N+2+64]=b[N+1+96]=bn(se,le,de),b[N+3+64]=b[N+2+96]=bn(le,de,ye),b[N+3+96]=bn(de,ye,ye)}function wl(b,N){var U=b[N-1+0],G=b[N-1+32],ne=b[N-1+64],se=b[N-1-32],le=b[N+0-32],de=b[N+1-32],ye=b[N+2-32],Se=b[N+3-32];b[N+0+0]=b[N+1+64]=se+le+1>>1,b[N+1+0]=b[N+2+64]=le+de+1>>1,b[N+2+0]=b[N+3+64]=de+ye+1>>1,b[N+3+0]=ye+Se+1>>1,b[N+0+96]=bn(ne,G,U),b[N+0+64]=bn(G,U,se),b[N+0+32]=b[N+1+96]=bn(U,se,le),b[N+1+32]=b[N+2+96]=bn(se,le,de),b[N+2+32]=b[N+3+96]=bn(le,de,ye),b[N+3+32]=bn(de,ye,Se)}function Ar(b,N){var U=b[N+0-32],G=b[N+1-32],ne=b[N+2-32],se=b[N+3-32],le=b[N+4-32],de=b[N+5-32],ye=b[N+6-32],Se=b[N+7-32];b[N+0+0]=U+G+1>>1,b[N+1+0]=b[N+0+64]=G+ne+1>>1,b[N+2+0]=b[N+1+64]=ne+se+1>>1,b[N+3+0]=b[N+2+64]=se+le+1>>1,b[N+0+32]=bn(U,G,ne),b[N+1+32]=b[N+0+96]=bn(G,ne,se),b[N+2+32]=b[N+1+96]=bn(ne,se,le),b[N+3+32]=b[N+2+96]=bn(se,le,de),b[N+3+64]=bn(le,de,ye),b[N+3+96]=bn(de,ye,Se)}function Ks(b,N){var U=b[N-1+0],G=b[N-1+32],ne=b[N-1+64],se=b[N-1+96];b[N+0+0]=U+G+1>>1,b[N+2+0]=b[N+0+32]=G+ne+1>>1,b[N+2+32]=b[N+0+64]=ne+se+1>>1,b[N+1+0]=bn(U,G,ne),b[N+3+0]=b[N+1+32]=bn(G,ne,se),b[N+3+32]=b[N+1+64]=bn(ne,se,se),b[N+3+64]=b[N+2+64]=b[N+0+96]=b[N+1+96]=b[N+2+96]=b[N+3+96]=se}function Tl(b,N){var U=b[N-1+0],G=b[N-1+32],ne=b[N-1+64],se=b[N-1+96],le=b[N-1-32],de=b[N+0-32],ye=b[N+1-32],Se=b[N+2-32];b[N+0+0]=b[N+2+32]=U+le+1>>1,b[N+0+32]=b[N+2+64]=G+U+1>>1,b[N+0+64]=b[N+2+96]=ne+G+1>>1,b[N+0+96]=se+ne+1>>1,b[N+3+0]=bn(de,ye,Se),b[N+2+0]=bn(le,de,ye),b[N+1+0]=b[N+3+32]=bn(U,le,de),b[N+1+32]=b[N+3+64]=bn(G,U,le),b[N+1+64]=b[N+3+96]=bn(ne,G,U),b[N+1+96]=bn(se,ne,G)}function Ma(b,N){var U;for(U=0;8>U;++U)r(b,N+32*U,b,N-32,8)}function Jc(b,N){var U;for(U=0;8>U;++U)i(b,N,b[N-1],8),N+=32}function Ys(b,N,U){var G;for(G=0;8>G;++G)i(N,U+32*G,b,8)}function No(b,N){var U,G=8;for(U=0;8>U;++U)G+=b[N+U-32]+b[N-1+32*U];Ys(G>>4,b,N)}function Xs(b,N){var U,G=4;for(U=0;8>U;++U)G+=b[N+U-32];Ys(G>>3,b,N)}function Ai(b,N){var U,G=4;for(U=0;8>U;++U)G+=b[N-1+32*U];Ys(G>>3,b,N)}function Ya(b,N){Ys(128,b,N)}function ns(b,N,U){var G=b[N-U],ne=b[N+0],se=3*(ne-G)+Pl[1020+b[N-2*U]-b[N+U]],le=vd[112+(se+4>>3)];b[N-U]=Fs[255+G+vd[112+(se+3>>3)]],b[N+0]=Fs[255+ne-le]}function Xa(b,N,U,G){var ne=b[N+0],se=b[N+U];return ys[255+b[N-2*U]-b[N-U]]>G||ys[255+se-ne]>G}function $o(b,N,U,G){return 4*ys[255+b[N-U]-b[N+0]]+ys[255+b[N-2*U]-b[N+U]]<=G}function Ja(b,N,U,G,ne){var se=b[N-3*U],le=b[N-2*U],de=b[N-U],ye=b[N+0],Se=b[N+U],Fe=b[N+2*U],Je=b[N+3*U];return 4*ys[255+de-ye]+ys[255+le-Se]>G?0:ys[255+b[N-4*U]-se]<=ne&&ys[255+se-le]<=ne&&ys[255+le-de]<=ne&&ys[255+Je-Fe]<=ne&&ys[255+Fe-Se]<=ne&&ys[255+Se-ye]<=ne}function Qa(b,N,U,G){var ne=2*G+1;for(G=0;16>G;++G)$o(b,N+G,U,ne)&&ns(b,N+G,U)}function da(b,N,U,G){var ne=2*G+1;for(G=0;16>G;++G)$o(b,N+G*U,1,ne)&&ns(b,N+G*U,1)}function El(b,N,U,G){var ne;for(ne=3;0<ne;--ne)Qa(b,N+=4*U,U,G)}function ac(b,N,U,G){var ne;for(ne=3;0<ne;--ne)da(b,N+=4,U,G)}function Js(b,N,U,G,ne,se,le,de){for(se=2*se+1;0<ne--;){if(Ja(b,N,U,se,le))if(Xa(b,N,U,de))ns(b,N,U);else{var ye=b,Se=N,Fe=U,Je=ye[Se-2*Fe],Te=ye[Se-Fe],Ve=ye[Se+0],We=ye[Se+Fe],ut=ye[Se+2*Fe],$e=27*(pt=Pl[1020+3*(Ve-Te)+Pl[1020+Je-We]])+63>>7,lt=18*pt+63>>7,pt=9*pt+63>>7;ye[Se-3*Fe]=Fs[255+ye[Se-3*Fe]+pt],ye[Se-2*Fe]=Fs[255+Je+lt],ye[Se-Fe]=Fs[255+Te+$e],ye[Se+0]=Fs[255+Ve-$e],ye[Se+Fe]=Fs[255+We-lt],ye[Se+2*Fe]=Fs[255+ut-pt]}N+=G}}function Za(b,N,U,G,ne,se,le,de){for(se=2*se+1;0<ne--;){if(Ja(b,N,U,se,le))if(Xa(b,N,U,de))ns(b,N,U);else{var ye=b,Se=N,Fe=U,Je=ye[Se-Fe],Te=ye[Se+0],Ve=ye[Se+Fe],We=vd[112+(4+(ut=3*(Te-Je))>>3)],ut=vd[112+(ut+3>>3)],$e=We+1>>1;ye[Se-2*Fe]=Fs[255+ye[Se-2*Fe]+$e],ye[Se-Fe]=Fs[255+Je+ut],ye[Se+0]=Fs[255+Te-We],ye[Se+Fe]=Fs[255+Ve-$e]}N+=G}}function Qc(b,N,U,G,ne,se){Js(b,N,U,1,16,G,ne,se)}function La(b,N,U,G,ne,se){Js(b,N,1,U,16,G,ne,se)}function oc(b,N,U,G,ne,se){var le;for(le=3;0<le;--le)Za(b,N+=4*U,U,1,16,G,ne,se)}function O(b,N,U,G,ne,se){var le;for(le=3;0<le;--le)Za(b,N+=4,1,U,16,G,ne,se)}function te(b,N,U,G,ne,se,le,de){Js(b,N,ne,1,8,se,le,de),Js(U,G,ne,1,8,se,le,de)}function Ee(b,N,U,G,ne,se,le,de){Js(b,N,1,ne,8,se,le,de),Js(U,G,1,ne,8,se,le,de)}function Me(b,N,U,G,ne,se,le,de){Za(b,N+4*ne,ne,1,8,se,le,de),Za(U,G+4*ne,ne,1,8,se,le,de)}function je(b,N,U,G,ne,se,le,de){Za(b,N+4,1,ne,8,se,le,de),Za(U,G+4,1,ne,8,se,le,de)}function dt(){this.ba=new un,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Ln,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function vt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Jt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function sn(){this.ua=0,this.Wa=new st,this.vb=new st,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Ae,this.yc=new j}function wn(){this.xb=this.a=0,this.l=new ts,this.ca=new un,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new Y,this.Pb=0,this.wd=new Y,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new sn,this.ab=0,this.gc=a(4,Jt),this.Oc=0}function yn(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new ts,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function er(b,N,U,G,ne,se,le){for(b=b==null?0:b[N+0],N=0;N<le;++N)ne[se+N]=b+U[G+N]&255,b=ne[se+N]}function zr(b,N,U,G,ne,se,le){var de;if(b==null)er(null,null,U,G,ne,se,le);else for(de=0;de<le;++de)ne[se+de]=b[N+de]+U[G+de]&255}function Mr(b,N,U,G,ne,se,le){if(b==null)er(null,null,U,G,ne,se,le);else{var de,ye=b[N+0],Se=ye,Fe=ye;for(de=0;de<le;++de)Se=Fe+(ye=b[N+de])-Se,Fe=U[G+de]+(-256&Se?0>Se?0:255:Se)&255,Se=ye,ne[se+de]=Fe}}function w(b,N,U,G){var ne=N.width,se=N.o;if(e(b!=null&&N!=null),0>U||0>=G||U+G>se)return null;if(!b.Cc){if(b.ga==null){var le;if(b.ga=new yn,(le=b.ga==null)||(le=N.width*N.o,e(b.Gb.length==0),b.Gb=s(le),b.Uc=0,b.Gb==null?le=0:(b.mb=b.Gb,b.nb=b.Uc,b.rc=null,le=1),le=!le),!le){le=b.ga;var de=b.Fa,ye=b.P,Se=b.qc,Fe=b.mb,Je=b.nb,Te=ye+1,Ve=Se-1,We=le.l;if(e(de!=null&&Fe!=null&&N!=null),Dl[0]=null,Dl[1]=er,Dl[2]=zr,Dl[3]=Mr,le.ca=Fe,le.tb=Je,le.c=N.width,le.i=N.height,e(0<le.c&&0<le.i),1>=Se)N=0;else if(le.$a=3&de[ye+0],le.Z=de[ye+0]>>2&3,le.Lc=de[ye+0]>>4&3,ye=de[ye+0]>>6&3,0>le.$a||1<le.$a||4<=le.Z||1<le.Lc||ye)N=0;else if(We.put=hn,We.ac=Zr,We.bc=Le,We.ma=le,We.width=N.width,We.height=N.height,We.Da=N.Da,We.v=N.v,We.va=N.va,We.j=N.j,We.o=N.o,le.$a)e:{e(le.$a==1),N=Be();t:for(;;){if(N==null){N=0;break e}if(e(le!=null),le.mc=N,N.c=le.c,N.i=le.i,N.l=le.l,N.l.ma=le,N.l.width=le.c,N.l.height=le.i,N.a=0,me(N.m,de,Te,Ve),!ze(le.c,le.i,1,N,null)||(N.ab==1&&N.gc[0].hc==3&&ge(N.s)?(le.ic=1,de=N.c*N.i,N.Ta=null,N.Ua=0,N.V=s(de),N.Ba=0,N.V==null?(N.a=1,N=0):N=1):(le.ic=0,N=Xe(N,le.c)),!N))break t;N=1;break e}le.mc=null,N=0}else N=Ve>=le.c*le.i;le=!N}if(le)return null;b.ga.Lc!=1?b.Ga=0:G=se-U}e(b.ga!=null),e(U+G<=se);e:{if(N=(de=b.ga).c,se=de.l.o,de.$a==0){if(Te=b.rc,Ve=b.Vc,We=b.Fa,ye=b.P+1+U*N,Se=b.mb,Fe=b.nb+U*N,e(ye<=b.P+b.qc),de.Z!=0)for(e(Dl[de.Z]!=null),le=0;le<G;++le)Dl[de.Z](Te,Ve,We,ye,Se,Fe,N),Te=Se,Ve=Fe,Fe+=N,ye+=N;else for(le=0;le<G;++le)r(Se,Fe,We,ye,N),Te=Se,Ve=Fe,Fe+=N,ye+=N;b.rc=Te,b.Vc=Ve}else{if(e(de.mc!=null),N=U+G,e((le=de.mc)!=null),e(N<=le.i),le.C>=N)N=1;else if(de.ic||et(),de.ic){de=le.V,Te=le.Ba,Ve=le.c;var ut=le.i,$e=(We=1,ye=le.$/Ve,Se=le.$%Ve,Fe=le.m,Je=le.s,le.$),lt=Ve*ut,pt=Ve*N,Tt=Je.wc,yt=$e<pt?ie(Je,Se,ye):null;e($e<=lt),e(N<=ut),e(ge(Je));t:for(;;){for(;!Fe.h&&$e<pt;){if(Se&Tt||(yt=ie(Je,Se,ye)),e(yt!=null),_e(Fe),256>(ut=tn(yt.G[0],yt.H[0],Fe)))de[Te+$e]=ut,++$e,++Se>=Ve&&(Se=0,++ye<=N&&!(ye%16)&&we(le,ye));else{if(!(280>ut)){We=0;break t}ut=qt(ut-256,Fe);var an,$t=tn(yt.G[4],yt.H[4],Fe);if(_e(Fe),!($e>=($t=$n(Ve,$t=qt($t,Fe)))&&lt-$e>=ut)){We=0;break t}for(an=0;an<ut;++an)de[Te+$e+an]=de[Te+$e+an-$t];for($e+=ut,Se+=ut;Se>=Ve;)Se-=Ve,++ye<=N&&!(ye%16)&&we(le,ye);$e<pt&&Se&Tt&&(yt=ie(Je,Se,ye))}e(Fe.h==Q(Fe))}we(le,ye>N?N:ye);break t}!We||Fe.h&&$e<lt?(We=0,le.a=Fe.h?5:3):le.$=$e,N=We}else N=Ue(le,le.V,le.Ba,le.c,le.i,N,bt);if(!N){G=0;break e}}U+G>=se&&(b.Cc=1),G=1}if(!G)return null;if(b.Cc&&((G=b.ga)!=null&&(G.mc=null),b.ga=null,0<b.Ga))return alert("todo:WebPDequantizeLevels"),null}return b.nb+U*ne}function H(b,N,U,G,ne,se){for(;0<ne--;){var le,de=b,ye=N+(U?1:0),Se=b,Fe=N+(U?0:3);for(le=0;le<G;++le){var Je=Se[Fe+4*le];Je!=255&&(Je*=32897,de[ye+4*le+0]=de[ye+4*le+0]*Je>>23,de[ye+4*le+1]=de[ye+4*le+1]*Je>>23,de[ye+4*le+2]=de[ye+4*le+2]*Je>>23)}N+=se}}function J(b,N,U,G,ne){for(;0<G--;){var se;for(se=0;se<U;++se){var le=b[N+2*se+0],de=15&(Se=b[N+2*se+1]),ye=4369*de,Se=(240&Se|Se>>4)*ye>>16;b[N+2*se+0]=(240&le|le>>4)*ye>>16&240|(15&le|le<<4)*ye>>16>>4&15,b[N+2*se+1]=240&Se|de}N+=ne}}function pe(b,N,U,G,ne,se,le,de){var ye,Se,Fe=255;for(Se=0;Se<ne;++Se){for(ye=0;ye<G;++ye){var Je=b[N+ye];se[le+4*ye]=Je,Fe&=Je}N+=U,le+=de}return Fe!=255}function Ge(b,N,U,G,ne){var se;for(se=0;se<ne;++se)U[G+se]=b[N+se]>>8}function et(){tu=H,to=J,gd=pe,Va=Ge}function kt(b,N,U){k[b]=function(G,ne,se,le,de,ye,Se,Fe,Je,Te,Ve,We,ut,$e,lt,pt,Tt){var yt,an=Tt-1>>1,$t=de[ye+0]|Se[Fe+0]<<16,Dn=Je[Te+0]|Ve[We+0]<<16;e(G!=null);var nn=3*$t+Dn+131074>>2;for(N(G[ne+0],255&nn,nn>>16,ut,$e),se!=null&&(nn=3*Dn+$t+131074>>2,N(se[le+0],255&nn,nn>>16,lt,pt)),yt=1;yt<=an;++yt){var tr=de[ye+yt]|Se[Fe+yt]<<16,ri=Je[Te+yt]|Ve[We+yt]<<16,Bn=$t+tr+Dn+ri+524296,Kt=Bn+2*(tr+Dn)>>3;nn=Kt+$t>>1,$t=(Bn=Bn+2*($t+ri)>>3)+tr>>1,N(G[ne+2*yt-1],255&nn,nn>>16,ut,$e+(2*yt-1)*U),N(G[ne+2*yt-0],255&$t,$t>>16,ut,$e+(2*yt-0)*U),se!=null&&(nn=Bn+Dn>>1,$t=Kt+ri>>1,N(se[le+2*yt-1],255&nn,nn>>16,lt,pt+(2*yt-1)*U),N(se[le+2*yt+0],255&$t,$t>>16,lt,pt+(2*yt+0)*U)),$t=tr,Dn=ri}1&Tt||(nn=3*$t+Dn+131074>>2,N(G[ne+Tt-1],255&nn,nn>>16,ut,$e+(Tt-1)*U),se!=null&&(nn=3*Dn+$t+131074>>2,N(se[le+Tt-1],255&nn,nn>>16,lt,pt+(Tt-1)*U)))}}function kn(){bs[Hh]=iu,bs[Os]=rf,bs[zh]=om,bs[no]=Yh,bs[bd]=dc,bs[ef]=nl,bs[cc]=hc,bs[_d]=rf,bs[Gh]=Yh,bs[tf]=dc,bs[Wh]=nl}function Gr(b){return b&-16384?0>b?0:255:b>>Xh}function Yn(b,N){return Gr((19077*b>>8)+(26149*N>>8)-14234)}function Nr(b,N,U){return Gr((19077*b>>8)-(6419*N>>8)-(13320*U>>8)+8708)}function rs(b,N){return Gr((19077*b>>8)+(33050*N>>8)-17685)}function ms(b,N,U,G,ne){G[ne+0]=Yn(b,U),G[ne+1]=Nr(b,N,U),G[ne+2]=rs(b,N)}function Fr(b,N,U,G,ne){G[ne+0]=rs(b,N),G[ne+1]=Nr(b,N,U),G[ne+2]=Yn(b,U)}function gs(b,N,U,G,ne){var se=Nr(b,N,U);N=se<<3&224|rs(b,N)>>3,G[ne+0]=248&Yn(b,U)|se>>5,G[ne+1]=N}function Fa(b,N,U,G,ne){var se=240&rs(b,N)|15;G[ne+0]=240&Yn(b,U)|Nr(b,N,U)>>4,G[ne+1]=se}function Ko(b,N,U,G,ne){G[ne+0]=255,ms(b,N,U,G,ne+1)}function Yo(b,N,U,G,ne){Fr(b,N,U,G,ne),G[ne+3]=255}function Qs(b,N,U,G,ne){ms(b,N,U,G,ne),G[ne+3]=255}function Sl(b,N,U){k[b]=function(G,ne,se,le,de,ye,Se,Fe,Je){for(var Te=Fe+(-2&Je)*U;Fe!=Te;)N(G[ne+0],se[le+0],de[ye+0],Se,Fe),N(G[ne+1],se[le+0],de[ye+0],Se,Fe+U),ne+=2,++le,++ye,Fe+=2*U;1&Je&&N(G[ne+0],se[le+0],de[ye+0],Se,Fe)}}function Yu(b,N,U){return U==0?b==0?N==0?6:5:N==0?4:0:U}function hd(b,N,U,G,ne){switch(b>>>30){case 3:Rl(N,U,G,ne,0);break;case 2:Ls(N,U,G,ne);break;case 1:Tr(N,U,G,ne)}}function Oa(b,N){var U,G,ne=N.M,se=N.Nb,le=b.oc,de=b.pc+40,ye=b.oc,Se=b.pc+584,Fe=b.oc,Je=b.pc+600;for(U=0;16>U;++U)le[de+32*U-1]=129;for(U=0;8>U;++U)ye[Se+32*U-1]=129,Fe[Je+32*U-1]=129;for(0<ne?le[de-1-32]=ye[Se-1-32]=Fe[Je-1-32]=129:(i(le,de-32-1,127,21),i(ye,Se-32-1,127,9),i(Fe,Je-32-1,127,9)),G=0;G<b.za;++G){var Te=N.ya[N.aa+G];if(0<G){for(U=-1;16>U;++U)r(le,de+32*U-4,le,de+32*U+12,4);for(U=-1;8>U;++U)r(ye,Se+32*U-4,ye,Se+32*U+4,4),r(Fe,Je+32*U-4,Fe,Je+32*U+4,4)}var Ve=b.Gd,We=b.Hd+G,ut=Te.ad,$e=Te.Hc;if(0<ne&&(r(le,de-32,Ve[We].y,0,16),r(ye,Se-32,Ve[We].f,0,8),r(Fe,Je-32,Ve[We].ea,0,8)),Te.Za){var lt=le,pt=de-32+16;for(0<ne&&(G>=b.za-1?i(lt,pt,Ve[We].y[15],4):r(lt,pt,Ve[We+1].y,0,4)),U=0;4>U;U++)lt[pt+128+U]=lt[pt+256+U]=lt[pt+384+U]=lt[pt+0+U];for(U=0;16>U;++U,$e<<=2)lt=le,pt=de+Ii[U],xi[Te.Ob[U]](lt,pt),hd($e,ut,16*+U,lt,pt)}else if(lt=Yu(G,ne,Te.Ob[0]),ea[lt](le,de),$e!=0)for(U=0;16>U;++U,$e<<=2)hd($e,ut,16*+U,le,de+Ii[U]);for(U=Te.Gc,lt=Yu(G,ne,Te.Dd),Ro[lt](ye,Se),Ro[lt](Fe,Je),$e=ut,lt=ye,pt=Se,255&(Te=0|U)&&(170&Te?eo($e,256,lt,pt):fr($e,256,lt,pt)),Te=Fe,$e=Je,255&(U>>=8)&&(170&U?eo(ut,320,Te,$e):fr(ut,320,Te,$e)),ne<b.Ub-1&&(r(Ve[We].y,0,le,de+480,16),r(Ve[We].f,0,ye,Se+224,8),r(Ve[We].ea,0,Fe,Je+224,8)),U=8*se*b.B,Ve=b.sa,We=b.ta+16*G+16*se*b.R,ut=b.qa,Te=b.ra+8*G+U,$e=b.Ha,lt=b.Ia+8*G+U,U=0;16>U;++U)r(Ve,We+U*b.R,le,de+32*U,16);for(U=0;8>U;++U)r(ut,Te+U*b.B,ye,Se+32*U,8),r($e,lt+U*b.B,Fe,Je+32*U,8)}}function Co(b,N,U,G,ne,se,le,de,ye){var Se=[0],Fe=[0],Je=0,Te=ye!=null?ye.kd:0,Ve=ye??new vt;if(b==null||12>U)return 7;Ve.data=b,Ve.w=N,Ve.ha=U,N=[N],U=[U],Ve.gb=[Ve.gb];e:{var We=N,ut=U,$e=Ve.gb;if(e(b!=null),e(ut!=null),e($e!=null),$e[0]=0,12<=ut[0]&&!n(b,We[0],"RIFF")){if(n(b,We[0]+8,"WEBP")){$e=3;break e}var lt=Ye(b,We[0]+4);if(12>lt||4294967286<lt){$e=3;break e}if(Te&&lt>ut[0]-8){$e=7;break e}$e[0]=lt,We[0]+=12,ut[0]-=12}$e=0}if($e!=0)return $e;for(lt=0<Ve.gb[0],U=U[0];;){e:{var pt=b;ut=N,$e=U;var Tt=Se,yt=Fe,an=We=[0];if((nn=Je=[Je])[0]=0,8>$e[0])$e=7;else{if(!n(pt,ut[0],"VP8X")){if(Ye(pt,ut[0]+4)!=10){$e=3;break e}if(18>$e[0]){$e=7;break e}var $t=Ye(pt,ut[0]+8),Dn=1+Ie(pt,ut[0]+12);if(2147483648<=Dn*(pt=1+Ie(pt,ut[0]+15))){$e=3;break e}an!=null&&(an[0]=$t),Tt!=null&&(Tt[0]=Dn),yt!=null&&(yt[0]=pt),ut[0]+=18,$e[0]-=18,nn[0]=1}$e=0}}if(Je=Je[0],We=We[0],$e!=0)return $e;if(ut=!!(2&We),!lt&&Je)return 3;if(se!=null&&(se[0]=!!(16&We)),le!=null&&(le[0]=ut),de!=null&&(de[0]=0),le=Se[0],We=Fe[0],Je&&ut&&ye==null){$e=0;break}if(4>U){$e=7;break}if(lt&&Je||!lt&&!Je&&!n(b,N[0],"ALPH")){U=[U],Ve.na=[Ve.na],Ve.P=[Ve.P],Ve.Sa=[Ve.Sa];e:{$t=b,$e=N,lt=U;var nn=Ve.gb;Tt=Ve.na,yt=Ve.P,an=Ve.Sa,Dn=22,e($t!=null),e(lt!=null),pt=$e[0];var tr=lt[0];for(e(Tt!=null),e(an!=null),Tt[0]=null,yt[0]=null,an[0]=0;;){if($e[0]=pt,lt[0]=tr,8>tr){$e=7;break e}var ri=Ye($t,pt+4);if(4294967286<ri){$e=3;break e}var Bn=8+ri+1&-2;if(Dn+=Bn,0<nn&&Dn>nn){$e=3;break e}if(!n($t,pt,"VP8 ")||!n($t,pt,"VP8L")){$e=0;break e}if(tr[0]<Bn){$e=7;break e}n($t,pt,"ALPH")||(Tt[0]=$t,yt[0]=pt+8,an[0]=ri),pt+=Bn,tr-=Bn}}if(U=U[0],Ve.na=Ve.na[0],Ve.P=Ve.P[0],Ve.Sa=Ve.Sa[0],$e!=0)break}U=[U],Ve.Ja=[Ve.Ja],Ve.xa=[Ve.xa];e:if(nn=b,$e=N,lt=U,Tt=Ve.gb[0],yt=Ve.Ja,an=Ve.xa,$t=$e[0],pt=!n(nn,$t,"VP8 "),Dn=!n(nn,$t,"VP8L"),e(nn!=null),e(lt!=null),e(yt!=null),e(an!=null),8>lt[0])$e=7;else{if(pt||Dn){if(nn=Ye(nn,$t+4),12<=Tt&&nn>Tt-12){$e=3;break e}if(Te&&nn>lt[0]-8){$e=7;break e}yt[0]=nn,$e[0]+=8,lt[0]-=8,an[0]=Dn}else an[0]=5<=lt[0]&&nn[$t+0]==47&&!(nn[$t+4]>>5),yt[0]=lt[0];$e=0}if(U=U[0],Ve.Ja=Ve.Ja[0],Ve.xa=Ve.xa[0],N=N[0],$e!=0)break;if(4294967286<Ve.Ja)return 3;if(de==null||ut||(de[0]=Ve.xa?2:1),le=[le],We=[We],Ve.xa){if(5>U){$e=7;break}de=le,Te=We,ut=se,b==null||5>U?b=0:5<=U&&b[N+0]==47&&!(b[N+4]>>5)?(lt=[0],nn=[0],Tt=[0],me(yt=new Y,b,N,U),Lt(yt,lt,nn,Tt)?(de!=null&&(de[0]=lt[0]),Te!=null&&(Te[0]=nn[0]),ut!=null&&(ut[0]=Tt[0]),b=1):b=0):b=0}else{if(10>U){$e=7;break}de=We,b==null||10>U||!To(b,N+3,U-3)?b=0:(Te=b[N+0]|b[N+1]<<8|b[N+2]<<16,ut=16383&(b[N+7]<<8|b[N+6]),b=16383&(b[N+9]<<8|b[N+8]),1&Te||3<(Te>>1&7)||!(Te>>4&1)||Te>>5>=Ve.Ja||!ut||!b?b=0:(le&&(le[0]=ut),de&&(de[0]=b),b=1))}if(!b||(le=le[0],We=We[0],Je&&(Se[0]!=le||Fe[0]!=We)))return 3;ye!=null&&(ye[0]=Ve,ye.offset=N-ye.w,e(4294967286>N-ye.w),e(ye.offset==ye.ha-U));break}return $e==0||$e==7&&Je&&ye==null?(se!=null&&(se[0]|=Ve.na!=null&&0<Ve.na.length),G!=null&&(G[0]=le),ne!=null&&(ne[0]=We),0):$e}function Al(b,N,U){var G=N.width,ne=N.height,se=0,le=0,de=G,ye=ne;if(N.Da=b!=null&&0<b.Da,N.Da&&(de=b.cd,ye=b.bd,se=b.v,le=b.j,11>U||(se&=-2,le&=-2),0>se||0>le||0>=de||0>=ye||se+de>G||le+ye>ne))return 0;if(N.v=se,N.j=le,N.va=se+de,N.o=le+ye,N.U=de,N.T=ye,N.da=b!=null&&0<b.da,N.da){if(!ft(de,ye,U=[b.ib],se=[b.hb]))return 0;N.ib=U[0],N.hb=se[0]}return N.ob=b!=null&&b.ob,N.Kb=b==null||!b.Sd,N.da&&(N.ob=N.ib<3*G/4&&N.hb<3*ne/4,N.Kb=0),1}function pd(b){if(b==null)return 2;if(11>b.S){var N=b.f.RGBA;N.fb+=(b.height-1)*N.A,N.A=-N.A}else N=b.f.kb,b=b.height,N.O+=(b-1)*N.fa,N.fa=-N.fa,N.N+=(b-1>>1)*N.Ab,N.Ab=-N.Ab,N.W+=(b-1>>1)*N.Db,N.Db=-N.Db,N.F!=null&&(N.J+=(b-1)*N.lb,N.lb=-N.lb);return 0}function Io(b,N,U,G){if(G==null||0>=b||0>=N)return 2;if(U!=null){if(U.Da){var ne=U.cd,se=U.bd,le=-2&U.v,de=-2&U.j;if(0>le||0>de||0>=ne||0>=se||le+ne>b||de+se>N)return 2;b=ne,N=se}if(U.da){if(!ft(b,N,ne=[U.ib],se=[U.hb]))return 2;b=ne[0],N=se[0]}}G.width=b,G.height=N;e:{var ye=G.width,Se=G.height;if(b=G.S,0>=ye||0>=Se||!(b>=Hh&&13>b))b=2;else{if(0>=G.Rd&&G.sd==null){le=se=ne=N=0;var Fe=(de=ye*Qh[b])*Se;if(11>b||(se=(Se+1)/2*(N=(ye+1)/2),b==12&&(le=(ne=ye)*Se)),(Se=s(Fe+2*se+le))==null){b=1;break e}G.sd=Se,11>b?((ye=G.f.RGBA).eb=Se,ye.fb=0,ye.A=de,ye.size=Fe):((ye=G.f.kb).y=Se,ye.O=0,ye.fa=de,ye.Fd=Fe,ye.f=Se,ye.N=0+Fe,ye.Ab=N,ye.Cd=se,ye.ea=Se,ye.W=0+Fe+se,ye.Db=N,ye.Ed=se,b==12&&(ye.F=Se,ye.J=0+Fe+2*se),ye.Tc=le,ye.lb=ne)}if(N=1,ne=G.S,se=G.width,le=G.height,ne>=Hh&&13>ne)if(11>ne)b=G.f.RGBA,N&=(de=Math.abs(b.A))*(le-1)+se<=b.size,N&=de>=se*Qh[ne],N&=b.eb!=null;else{b=G.f.kb,de=(se+1)/2,Fe=(le+1)/2,ye=Math.abs(b.fa),Se=Math.abs(b.Ab);var Je=Math.abs(b.Db),Te=Math.abs(b.lb),Ve=Te*(le-1)+se;N&=ye*(le-1)+se<=b.Fd,N&=Se*(Fe-1)+de<=b.Cd,N=(N&=Je*(Fe-1)+de<=b.Ed)&ye>=se&Se>=de&Je>=de,N&=b.y!=null,N&=b.f!=null,N&=b.ea!=null,ne==12&&(N&=Te>=se,N&=Ve<=b.Tc,N&=b.F!=null)}else N=0;b=N?0:2}}return b!=0||U!=null&&U.fd&&(b=pd(G)),b}var lc=64,ha=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Zs=24,Xo=32,Jo=8,Nl=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];At("Predictor0","PredictorAdd0"),k.Predictor0=function(){return 4278190080},k.Predictor1=function(b){return b},k.Predictor2=function(b,N,U){return N[U+0]},k.Predictor3=function(b,N,U){return N[U+1]},k.Predictor4=function(b,N,U){return N[U-1]},k.Predictor5=function(b,N,U){return jt(jt(b,N[U+1]),N[U+0])},k.Predictor6=function(b,N,U){return jt(b,N[U-1])},k.Predictor7=function(b,N,U){return jt(b,N[U+0])},k.Predictor8=function(b,N,U){return jt(N[U-1],N[U+0])},k.Predictor9=function(b,N,U){return jt(N[U+0],N[U+1])},k.Predictor10=function(b,N,U){return jt(jt(b,N[U-1]),jt(N[U+0],N[U+1]))},k.Predictor11=function(b,N,U){var G=N[U+0];return 0>=Wt(G>>24&255,b>>24&255,(N=N[U-1])>>24&255)+Wt(G>>16&255,b>>16&255,N>>16&255)+Wt(G>>8&255,b>>8&255,N>>8&255)+Wt(255&G,255&b,255&N)?G:b},k.Predictor12=function(b,N,U){var G=N[U+0];return(Zt((b>>24&255)+(G>>24&255)-((N=N[U-1])>>24&255))<<24|Zt((b>>16&255)+(G>>16&255)-(N>>16&255))<<16|Zt((b>>8&255)+(G>>8&255)-(N>>8&255))<<8|Zt((255&b)+(255&G)-(255&N)))>>>0},k.Predictor13=function(b,N,U){var G=N[U-1];return(Gt((b=jt(b,N[U+0]))>>24&255,G>>24&255)<<24|Gt(b>>16&255,G>>16&255)<<16|Gt(b>>8&255,G>>8&255)<<8|Gt(255&b,255&G))>>>0};var Xu=k.PredictorAdd0;k.PredictorAdd1=Nn,At("Predictor2","PredictorAdd2"),At("Predictor3","PredictorAdd3"),At("Predictor4","PredictorAdd4"),At("Predictor5","PredictorAdd5"),At("Predictor6","PredictorAdd6"),At("Predictor7","PredictorAdd7"),At("Predictor8","PredictorAdd8"),At("Predictor9","PredictorAdd9"),At("Predictor10","PredictorAdd10"),At("Predictor11","PredictorAdd11"),At("Predictor12","PredictorAdd12"),At("Predictor13","PredictorAdd13");var Ju=k.PredictorAdd2;Nt("ColorIndexInverseTransform","MapARGB","32b",function(b){return b>>8&255},function(b){return b}),Nt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(b){return b},function(b){return b>>8&255});var Ni,Uh=k.ColorIndexInverseTransform,Qo=k.MapARGB,Zo=k.VP8LColorIndexInverseTransformAlpha,xs=k.MapAlpha,Cl=k.VP8LPredictorsAdd=[];Cl.length=16,(k.VP8LPredictors=[]).length=16,(k.VP8LPredictorsAdd_C=[]).length=16,(k.VP8LPredictors_C=[]).length=16;var Qu,Zu,Il,kl,el,Zc,Ba,Rl,Ls,eo,Tr,fr,Wr,Ci,tl,ko,eu,md,nm,j1,q1,H1,rm,im,tu,to,gd,Va,nu=s(511),jh=s(2041),xd=s(225),yd=s(767),qh=0,Pl=jh,vd=xd,Fs=yd,ys=nu,Hh=0,Os=1,zh=2,no=3,bd=4,ef=5,cc=6,_d=7,Gh=8,tf=9,Wh=10,ro=[2,3,7],nf=[3,3,11],ru=[280,256,256,256,40],$h=[0,1,1,1,0],wd=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],io=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],so=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],uc=8,ao=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],oo=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Ua=null,z1=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],sm=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Kh=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],G1=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],vs=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],ni=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],nr=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ea=[],xi=[],Ro=[],fc=1,am=2,Dl=[],bs=[];kt("UpsampleRgbLinePair",ms,3),kt("UpsampleBgrLinePair",Fr,3),kt("UpsampleRgbaLinePair",Qs,4),kt("UpsampleBgraLinePair",Yo,4),kt("UpsampleArgbLinePair",Ko,4),kt("UpsampleRgba4444LinePair",Fa,2),kt("UpsampleRgb565LinePair",gs,2);var iu=k.UpsampleRgbLinePair,om=k.UpsampleBgrLinePair,rf=k.UpsampleRgbaLinePair,Yh=k.UpsampleBgraLinePair,dc=k.UpsampleArgbLinePair,nl=k.UpsampleRgba4444LinePair,hc=k.UpsampleRgb565LinePair,lo=16,sf=1<<lo-1,su=-227,pc=482,Xh=6,mc=0,_s=s(256),Jh=s(256),W1=s(256),Ov=s(256),Bv=s(pc-su),Vv=s(pc-su);Sl("YuvToRgbRow",ms,3),Sl("YuvToBgrRow",Fr,3),Sl("YuvToRgbaRow",Qs,4),Sl("YuvToBgraRow",Yo,4),Sl("YuvToArgbRow",Ko,4),Sl("YuvToRgba4444Row",Fa,2),Sl("YuvToRgb565Row",gs,2);var Ii=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],af=[0,2,8],Td=[8,7,6,4,4,2,2,2,1,1,1,1],Ed=1;this.WebPDecodeRGBA=function(b,N,U,G,ne){var se=Os,le=new dt,de=new un;le.ba=de,de.S=se,de.width=[de.width],de.height=[de.height];var ye=de.width,Se=de.height,Fe=new Yt;if(Fe==null||b==null)var Je=2;else e(Fe!=null),Je=Co(b,N,U,Fe.width,Fe.height,Fe.Pd,Fe.Qd,Fe.format,null);if(Je!=0?ye=0:(ye!=null&&(ye[0]=Fe.width[0]),Se!=null&&(Se[0]=Fe.height[0]),ye=1),ye){de.width=de.width[0],de.height=de.height[0],G!=null&&(G[0]=de.width),ne!=null&&(ne[0]=de.height);e:{if(G=new ts,(ne=new vt).data=b,ne.w=N,ne.ha=U,ne.kd=1,N=[0],e(ne!=null),((b=Co(ne.data,ne.w,ne.ha,null,null,null,N,null,ne))==0||b==7)&&N[0]&&(b=4),(N=b)==0){if(e(le!=null),G.data=ne.data,G.w=ne.w+ne.offset,G.ha=ne.ha-ne.offset,G.put=hn,G.ac=Zr,G.bc=Le,G.ma=le,ne.xa){if((b=Be())==null){le=1;break e}if((function(Te,Ve){var We=[0],ut=[0],$e=[0];t:for(;;){if(Te==null)return 0;if(Ve==null)return Te.a=2,0;if(Te.l=Ve,Te.a=0,me(Te.m,Ve.data,Ve.w,Ve.ha),!Lt(Te.m,We,ut,$e)){Te.a=3;break t}if(Te.xb=am,Ve.width=We[0],Ve.height=ut[0],!ze(We[0],ut[0],1,Te,null))break t;return 1}return e(Te.a!=0),0})(b,G)){if(G=(N=Io(G.width,G.height,le.Oa,le.ba))==0){t:{G=b;n:for(;;){if(G==null){G=0;break t}if(e(G.s.yc!=null),e(G.s.Ya!=null),e(0<G.s.Wb),e((U=G.l)!=null),e((ne=U.ma)!=null),G.xb!=0){if(G.ca=ne.ba,G.tb=ne.tb,e(G.ca!=null),!Al(ne.Oa,U,no)){G.a=2;break n}if(!Xe(G,U.width)||U.da)break n;if((U.da||gn(G.ca.S))&&et(),11>G.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),G.ca.f.kb.F!=null&&et()),G.Pb&&0<G.s.ua&&G.s.vb.X==null&&!oe(G.s.vb,G.s.Wa.Xa)){G.a=1;break n}G.xb=0}if(!Ue(G,G.V,G.Ba,G.c,G.i,U.o,he))break n;ne.Dc=G.Ma,G=1;break t}e(G.a!=0),G=0}G=!G}G&&(N=b.a)}else N=b.a}else{if((b=new mi)==null){le=1;break e}if(b.Fa=ne.na,b.P=ne.P,b.qc=ne.Sa,fa(b,G)){if((N=Io(G.width,G.height,le.Oa,le.ba))==0){if(b.Aa=0,U=le.Oa,e((ne=b)!=null),U!=null){if(0<(ye=0>(ye=U.Md)?0:100<ye?255:255*ye/100)){for(Se=Fe=0;4>Se;++Se)12>(Je=ne.pb[Se]).lc&&(Je.ia=ye*Td[0>Je.lc?0:Je.lc]>>3),Fe|=Je.ia;Fe&&(alert("todo:VP8InitRandom"),ne.ia=1)}ne.Ga=U.Id,100<ne.Ga?ne.Ga=100:0>ne.Ga&&(ne.Ga=0)}(function(Te,Ve){if(Te==null)return 0;if(Ve==null)return Qn(Te,2,"NULL VP8Io parameter in VP8Decode().");if(!Te.cb&&!fa(Te,Ve))return 0;if(e(Te.cb),Ve.ac==null||Ve.ac(Ve)){Ve.ob&&(Te.L=0);var We=af[Te.L];if(Te.L==2?(Te.yb=0,Te.zb=0):(Te.yb=Ve.v-We>>4,Te.zb=Ve.j-We>>4,0>Te.yb&&(Te.yb=0),0>Te.zb&&(Te.zb=0)),Te.Va=Ve.o+15+We>>4,Te.Hb=Ve.va+15+We>>4,Te.Hb>Te.za&&(Te.Hb=Te.za),Te.Va>Te.Ub&&(Te.Va=Te.Ub),0<Te.L){var ut=Te.ed;for(We=0;4>We;++We){var $e;if(Te.Qa.Cb){var lt=Te.Qa.Lb[We];Te.Qa.Fb||(lt+=ut.Tb)}else lt=ut.Tb;for($e=0;1>=$e;++$e){var pt=Te.gd[We][$e],Tt=lt;if(ut.Pc&&(Tt+=ut.vd[0],$e&&(Tt+=ut.od[0])),0<(Tt=0>Tt?0:63<Tt?63:Tt)){var yt=Tt;0<ut.wb&&(yt=4<ut.wb?yt>>2:yt>>1)>9-ut.wb&&(yt=9-ut.wb),1>yt&&(yt=1),pt.dd=yt,pt.tc=2*Tt+yt,pt.ld=40<=Tt?2:15<=Tt?1:0}else pt.tc=0;pt.La=$e}}}We=0}else Qn(Te,6,"Frame setup failed"),We=Te.a;if(We=We==0){if(We){Te.$c=0,0<Te.Aa||(Te.Ic=Ed);t:{We=Te.Ic,ut=4*(yt=Te.za);var an=32*yt,$t=yt+1,Dn=0<Te.L?yt*(0<Te.Aa?2:1):0,nn=(Te.Aa==2?2:1)*yt;if((pt=ut+832+($e=3*(16*We+af[Te.L])/2*an)+(lt=Te.Fa!=null&&0<Te.Fa.length?Te.Kc.c*Te.Kc.i:0))!=pt)We=0;else{if(pt>Te.Vb){if(Te.Vb=0,Te.Ec=s(pt),Te.Fc=0,Te.Ec==null){We=Qn(Te,1,"no memory during frame initialization.");break t}Te.Vb=pt}pt=Te.Ec,Tt=Te.Fc,Te.Ac=pt,Te.Bc=Tt,Tt+=ut,Te.Gd=a(an,Ps),Te.Hd=0,Te.rb=a($t+1,wr),Te.sb=1,Te.wa=Dn?a(Dn,Gn):null,Te.Y=0,Te.D.Nb=0,Te.D.wa=Te.wa,Te.D.Y=Te.Y,0<Te.Aa&&(Te.D.Y+=yt),e(!0),Te.oc=pt,Te.pc=Tt,Tt+=832,Te.ya=a(nn,$s),Te.aa=0,Te.D.ya=Te.ya,Te.D.aa=Te.aa,Te.Aa==2&&(Te.D.aa+=yt),Te.R=16*yt,Te.B=8*yt,yt=(an=af[Te.L])*Te.R,an=an/2*Te.B,Te.sa=pt,Te.ta=Tt+yt,Te.qa=Te.sa,Te.ra=Te.ta+16*We*Te.R+an,Te.Ha=Te.qa,Te.Ia=Te.ra+8*We*Te.B+an,Te.$c=0,Tt+=$e,Te.mb=lt?pt:null,Te.nb=lt?Tt:null,e(Tt+lt<=Te.Fc+Te.Vb),Ho(Te),i(Te.Ac,Te.Bc,0,ut),We=1}}if(We){if(Ve.ka=0,Ve.y=Te.sa,Ve.O=Te.ta,Ve.f=Te.qa,Ve.N=Te.ra,Ve.ea=Te.Ha,Ve.Vd=Te.Ia,Ve.fa=Te.R,Ve.Rc=Te.B,Ve.F=null,Ve.J=0,!qh){for(We=-255;255>=We;++We)nu[255+We]=0>We?-We:We;for(We=-1020;1020>=We;++We)jh[1020+We]=-128>We?-128:127<We?127:We;for(We=-112;112>=We;++We)xd[112+We]=-16>We?-16:15<We?15:We;for(We=-255;510>=We;++We)yd[255+We]=0>We?0:255<We?255:We;qh=1}Ba=Wi,Rl=$c,eo=ps,Tr=Kc,fr=Eo,Ls=Ku,Wr=Qc,Ci=La,tl=te,ko=Ee,eu=oc,md=O,nm=Me,j1=je,q1=Qa,H1=da,rm=El,im=ac,xi[0]=Wo,xi[1]=Yc,xi[2]=_l,xi[3]=sc,xi[4]=$i,xi[5]=wl,xi[6]=Di,xi[7]=Ar,xi[8]=Tl,xi[9]=Ks,ea[0]=Da,ea[1]=rc,ea[2]=ic,ea[3]=So,ea[4]=Ao,ea[5]=Ms,ea[6]=Go,Ro[0]=No,Ro[1]=Xc,Ro[2]=Ma,Ro[3]=Jc,Ro[4]=Ai,Ro[5]=Xs,Ro[6]=Ya,We=1}else We=0}We&&(We=(function(tr,ri){for(tr.M=0;tr.M<tr.Va;++tr.M){var Bn,Kt=tr.Jc[tr.M&tr.Xb],Ot=tr.m,ci=tr;for(Bn=0;Bn<ci.za;++Bn){var An=Ot,zn=ci,Rr=zn.Ac,Ki=zn.Bc+4*Bn,ws=zn.zc,$r=zn.ya[zn.aa+Bn];if(zn.Qa.Bb?$r.$b=Ce(An,zn.Pa.jb[0])?2+Ce(An,zn.Pa.jb[2]):Ce(An,zn.Pa.jb[1]):$r.$b=0,zn.kc&&($r.Ad=Ce(An,zn.Bd)),$r.Za=!Ce(An,145)+0,$r.Za){var Mi=$r.Ob,Bs=0;for(zn=0;4>zn;++zn){var Li,Xn=ws[0+zn];for(Li=0;4>Li;++Li){Xn=vs[Rr[Ki+Li]][Xn];for(var gr=Kh[Ce(An,Xn[0])];0<gr;)gr=Kh[2*gr+Ce(An,Xn[gr])];Xn=-gr,Rr[Ki+Li]=Xn}r(Mi,Bs,Rr,Ki,4),Bs+=4,ws[0+zn]=Xn}}else Xn=Ce(An,156)?Ce(An,128)?1:3:Ce(An,163)?2:0,$r.Ob[0]=Xn,i(Rr,Ki,Xn,4),i(ws,0,Xn,4);$r.Dd=Ce(An,142)?Ce(An,114)?Ce(An,183)?1:3:2:0}if(ci.m.Ka)return Qn(tr,7,"Premature end-of-partition0 encountered.");for(;tr.ja<tr.za;++tr.ja){if(ci=Kt,An=(Ot=tr).rb[Ot.sb-1],Rr=Ot.rb[Ot.sb+Ot.ja],Bn=Ot.ya[Ot.aa+Ot.ja],Ki=Ot.kc?Bn.Ad:0)An.la=Rr.la=0,Bn.Za||(An.Na=Rr.Na=0),Bn.Hc=0,Bn.Gc=0,Bn.ia=0;else{var ui,Er;if(An=Rr,Rr=ci,Ki=Ot.Pa.Xc,ws=Ot.ya[Ot.aa+Ot.ja],$r=Ot.pb[ws.$b],zn=ws.ad,Mi=0,Bs=Ot.rb[Ot.sb-1],Xn=Li=0,i(zn,Mi,0,384),ws.Za)var Yi=0,fi=Ki[3];else{gr=s(16);var xr=An.Na+Bs.Na;if(xr=Ua(Rr,Ki[1],xr,$r.Eb,0,gr,0),An.Na=Bs.Na=(0<xr)+0,1<xr)Ba(gr,0,zn,Mi);else{var ki=gr[0]+3>>3;for(gr=0;256>gr;gr+=16)zn[Mi+gr]=ki}Yi=1,fi=Ki[0]}var Pr=15&An.la,Fi=15&Bs.la;for(gr=0;4>gr;++gr){var Oi=1&Fi;for(ki=Er=0;4>ki;++ki)Pr=Pr>>1|(Oi=(xr=Ua(Rr,fi,xr=Oi+(1&Pr),$r.Sc,Yi,zn,Mi))>Yi)<<7,Er=Er<<2|(3<xr?3:1<xr?2:zn[Mi+0]!=0),Mi+=16;Pr>>=4,Fi=Fi>>1|Oi<<7,Li=(Li<<8|Er)>>>0}for(fi=Pr,Yi=Fi>>4,ui=0;4>ui;ui+=2){for(Er=0,Pr=An.la>>4+ui,Fi=Bs.la>>4+ui,gr=0;2>gr;++gr){for(Oi=1&Fi,ki=0;2>ki;++ki)xr=Oi+(1&Pr),Pr=Pr>>1|(Oi=0<(xr=Ua(Rr,Ki[2],xr,$r.Qc,0,zn,Mi)))<<3,Er=Er<<2|(3<xr?3:1<xr?2:zn[Mi+0]!=0),Mi+=16;Pr>>=2,Fi=Fi>>1|Oi<<5}Xn|=Er<<4*ui,fi|=Pr<<4<<ui,Yi|=(240&Fi)<<ui}An.la=fi,Bs.la=Yi,ws.Hc=Li,ws.Gc=Xn,ws.ia=43690&Xn?0:$r.ia,Ki=!(Li|Xn)}if(0<Ot.L&&(Ot.wa[Ot.Y+Ot.ja]=Ot.gd[Bn.$b][Bn.Za],Ot.wa[Ot.Y+Ot.ja].La|=!Ki),ci.Ka)return Qn(tr,7,"Premature end-of-file encountered.")}if(Ho(tr),Ot=ri,ci=1,Bn=(Kt=tr).D,An=0<Kt.L&&Kt.M>=Kt.zb&&Kt.M<=Kt.Va,Kt.Aa==0)t:{if(Bn.M=Kt.M,Bn.uc=An,Oa(Kt,Bn),ci=1,Bn=(Er=Kt.D).Nb,An=(Xn=af[Kt.L])*Kt.R,Rr=Xn/2*Kt.B,gr=16*Bn*Kt.R,ki=8*Bn*Kt.B,Ki=Kt.sa,ws=Kt.ta-An+gr,$r=Kt.qa,zn=Kt.ra-Rr+ki,Mi=Kt.Ha,Bs=Kt.Ia-Rr+ki,Fi=(Pr=Er.M)==0,Li=Pr>=Kt.Va-1,Kt.Aa==2&&Oa(Kt,Er),Er.uc)for(Oi=(xr=Kt).D.M,e(xr.D.uc),Er=xr.yb;Er<xr.Hb;++Er){Yi=Er,fi=Oi;var Or=(dr=(Bi=xr).D).Nb;ui=Bi.R;var dr=dr.wa[dr.Y+Yi],Vs=Bi.sa,yi=Bi.ta+16*Or*ui+16*Yi,_n=dr.dd,Tn=dr.tc;if(Tn!=0)if(e(3<=Tn),Bi.L==1)0<Yi&&H1(Vs,yi,ui,Tn+4),dr.La&&im(Vs,yi,ui,Tn),0<fi&&q1(Vs,yi,ui,Tn+4),dr.La&&rm(Vs,yi,ui,Tn);else{var yr=Bi.B,pa=Bi.qa,co=Bi.ra+8*Or*yr+8*Yi,ta=Bi.Ha,Bi=Bi.Ia+8*Or*yr+8*Yi;Or=dr.ld,0<Yi&&(Ci(Vs,yi,ui,Tn+4,_n,Or),ko(pa,co,ta,Bi,yr,Tn+4,_n,Or)),dr.La&&(md(Vs,yi,ui,Tn,_n,Or),j1(pa,co,ta,Bi,yr,Tn,_n,Or)),0<fi&&(Wr(Vs,yi,ui,Tn+4,_n,Or),tl(pa,co,ta,Bi,yr,Tn+4,_n,Or)),dr.La&&(eu(Vs,yi,ui,Tn,_n,Or),nm(pa,co,ta,Bi,yr,Tn,_n,Or))}}if(Kt.ia&&alert("todo:DitherRow"),Ot.put!=null){if(Er=16*Pr,Pr=16*(Pr+1),Fi?(Ot.y=Kt.sa,Ot.O=Kt.ta+gr,Ot.f=Kt.qa,Ot.N=Kt.ra+ki,Ot.ea=Kt.Ha,Ot.W=Kt.Ia+ki):(Er-=Xn,Ot.y=Ki,Ot.O=ws,Ot.f=$r,Ot.N=zn,Ot.ea=Mi,Ot.W=Bs),Li||(Pr-=Xn),Pr>Ot.o&&(Pr=Ot.o),Ot.F=null,Ot.J=null,Kt.Fa!=null&&0<Kt.Fa.length&&Er<Pr&&(Ot.J=w(Kt,Ot,Er,Pr-Er),Ot.F=Kt.mb,Ot.F==null&&Ot.F.length==0)){ci=Qn(Kt,3,"Could not decode alpha data.");break t}Er<Ot.j&&(Xn=Ot.j-Er,Er=Ot.j,e(!(1&Xn)),Ot.O+=Kt.R*Xn,Ot.N+=Kt.B*(Xn>>1),Ot.W+=Kt.B*(Xn>>1),Ot.F!=null&&(Ot.J+=Ot.width*Xn)),Er<Pr&&(Ot.O+=Ot.v,Ot.N+=Ot.v>>1,Ot.W+=Ot.v>>1,Ot.F!=null&&(Ot.J+=Ot.v),Ot.ka=Er-Ot.j,Ot.U=Ot.va-Ot.v,Ot.T=Pr-Er,ci=Ot.put(Ot))}Bn+1!=Kt.Ic||Li||(r(Kt.sa,Kt.ta-An,Ki,ws+16*Kt.R,An),r(Kt.qa,Kt.ra-Rr,$r,zn+8*Kt.B,Rr),r(Kt.Ha,Kt.Ia-Rr,Mi,Bs+8*Kt.B,Rr))}if(!ci)return Qn(tr,6,"Output aborted.")}return 1})(Te,Ve)),Ve.bc!=null&&Ve.bc(Ve),We&=1}return We?(Te.cb=0,We):0})(b,G)||(N=b.a)}}else N=b.a}N==0&&le.Oa!=null&&le.Oa.fd&&(N=pd(le.ba))}le=N}se=le!=0?null:11>se?de.f.RGBA.eb:de.f.kb.y}else se=null;return se};var Qh=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function f(k,q){for(var P="",M=0;M<4;M++)P+=String.fromCharCode(k[q++]);return P}function d(k,q){return k[q+0]|k[q+1]<<8}function m(k,q){return(k[q+0]|k[q+1]<<8|k[q+2]<<16)>>>0}function g(k,q){return(k[q+0]|k[q+1]<<8|k[q+2]<<16|k[q+3]<<24)>>>0}new c;var y=[0],E=[0],_=[],A=new c,C=t,V=(function(k,q){var P={},M=0,j=!1,ae=0,Ae=0;if(P.frames=[],!(function(B,Y){for(var X=0;X<4;X++)if(B[Y+X]!="RIFF".charCodeAt(X))return!0;return!1})(k,q)){for(g(k,q+=4),q+=8;q<k.length;){var fe=f(k,q),xe=g(k,q+=4);q+=4;var Ne=xe+(1&xe);switch(fe){case"VP8 ":case"VP8L":P.frames[M]===void 0&&(P.frames[M]={}),(re=P.frames[M]).src_off=j?Ae:q-8,re.src_size=ae+xe+8,M++,j&&(j=!1,ae=0,Ae=0);break;case"VP8X":(re=P.header={}).feature_flags=k[q];var me=q+4;re.canvas_width=1+m(k,me),me+=3,re.canvas_height=1+m(k,me),me+=3;break;case"ALPH":j=!0,ae=Ne+8,Ae=q-8;break;case"ANIM":(re=P.header).bgcolor=g(k,q),me=q+4,re.loop_count=d(k,me),me+=2;break;case"ANMF":var Re,re;(re=P.frames[M]={}).offset_x=2*m(k,q),q+=3,re.offset_y=2*m(k,q),q+=3,re.width=1+m(k,q),q+=3,re.height=1+m(k,q),q+=3,re.duration=m(k,q),q+=3,Re=k[q++],re.dispose=1&Re,re.blend=Re>>1&1}fe!="ANMF"&&(q+=Ne)}return P}})(C,0);V.response=C,V.rgbaoutput=!0,V.dataurl=!1;var R=V.header?V.header:null,F=V.frames?V.frames:null;if(R){R.loop_counter=R.loop_count,y=[R.canvas_height],E=[R.canvas_width];for(var z=0;z<F.length&&F[z].blend!=0;z++);}var W=F[0],D=A.WebPDecodeRGBA(C,W.src_off,W.src_size,E,y);W.rgba=D,W.imgwidth=E[0],W.imgheight=y[0];for(var L=0;L<E[0]*y[0]*4;L++)_[L]=D[L];return this.width=E,this.height=y,this.data=_,this}(function(t){var e,n,r,i,s,a,o,c,f,d=function(B){return B=B||{},this.isStrokeTransparent=B.isStrokeTransparent||!1,this.strokeOpacity=B.strokeOpacity||1,this.strokeStyle=B.strokeStyle||"#000000",this.fillStyle=B.fillStyle||"#000000",this.isFillTransparent=B.isFillTransparent||!1,this.fillOpacity=B.fillOpacity||1,this.font=B.font||"10px sans-serif",this.textBaseline=B.textBaseline||"alphabetic",this.textAlign=B.textAlign||"left",this.lineWidth=B.lineWidth||1,this.lineJoin=B.lineJoin||"miter",this.lineCap=B.lineCap||"butt",this.path=B.path||[],this.transform=B.transform!==void 0?B.transform.clone():new c,this.globalCompositeOperation=B.globalCompositeOperation||"normal",this.globalAlpha=B.globalAlpha||1,this.clip_path=B.clip_path||[],this.currentPoint=B.currentPoint||new a,this.miterLimit=B.miterLimit||10,this.lastPoint=B.lastPoint||new a,this.lineDashOffset=B.lineDashOffset||0,this.lineDash=B.lineDash||[],this.margin=B.margin||[0,0,0,0],this.prevPageLastElemOffset=B.prevPageLastElemOffset||0,this.ignoreClearRect=typeof B.ignoreClearRect!="boolean"||B.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new m(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,a=this.internal.Point,o=this.internal.Rectangle,c=this.internal.Matrix,f=new d}]);var m=function(B){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var Y=B;Object.defineProperty(this,"pdf",{get:function(){return Y}});var X=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return X},set:function(oe){X=!!oe}});var Q=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Q},set:function(oe){Q=!!oe}});var ce=0;Object.defineProperty(this,"posX",{get:function(){return ce},set:function(oe){isNaN(oe)||(ce=oe)}});var _e=0;Object.defineProperty(this,"posY",{get:function(){return _e},set:function(oe){isNaN(oe)||(_e=oe)}}),Object.defineProperty(this,"margin",{get:function(){return f.margin},set:function(oe){var rt;typeof oe=="number"?rt=[oe,oe,oe,oe]:((rt=new Array(4))[0]=oe[0],rt[1]=oe.length>=2?oe[1]:rt[0],rt[2]=oe.length>=3?oe[2]:rt[0],rt[3]=oe.length>=4?oe[3]:rt[1]),f.margin=rt}});var Pe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Pe},set:function(oe){Pe=oe}});var Z=0;Object.defineProperty(this,"lastBreak",{get:function(){return Z},set:function(oe){Z=oe}});var Ce=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ce},set:function(oe){Ce=oe}}),Object.defineProperty(this,"ctx",{get:function(){return f},set:function(oe){oe instanceof d&&(f=oe)}}),Object.defineProperty(this,"path",{get:function(){return f.path},set:function(oe){f.path=oe}});var qe=[];Object.defineProperty(this,"ctxStack",{get:function(){return qe},set:function(oe){qe=oe}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(oe){var rt;rt=g(oe),this.ctx.fillStyle=rt.style,this.ctx.isFillTransparent=rt.a===0,this.ctx.fillOpacity=rt.a,this.pdf.setFillColor(rt.r,rt.g,rt.b,{a:rt.a}),this.pdf.setTextColor(rt.r,rt.g,rt.b,{a:rt.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(oe){var rt=g(oe);this.ctx.strokeStyle=rt.style,this.ctx.isStrokeTransparent=rt.a===0,this.ctx.strokeOpacity=rt.a,rt.a===0?this.pdf.setDrawColor(255,255,255):(rt.a,this.pdf.setDrawColor(rt.r,rt.g,rt.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(oe){["butt","round","square"].indexOf(oe)!==-1&&(this.ctx.lineCap=oe,this.pdf.setLineCap(oe))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(oe){isNaN(oe)||(this.ctx.lineWidth=oe,this.pdf.setLineWidth(oe))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(oe){["bevel","round","miter"].indexOf(oe)!==-1&&(this.ctx.lineJoin=oe,this.pdf.setLineJoin(oe))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(oe){isNaN(oe)||(this.ctx.miterLimit=oe,this.pdf.setMiterLimit(oe))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(oe){this.ctx.textBaseline=oe}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(oe){["right","end","center","left","start"].indexOf(oe)!==-1&&(this.ctx.textAlign=oe)}});var ee=null,Ie=null,Ye=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ye},set:function(oe){ee=null,Ie=null,Ye=oe}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(oe){var rt;if(this.ctx.font=oe,(rt=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(oe))!==null){var st=rt[1];rt[2];var ft=rt[3],tt=rt[4];rt[5];var wt=rt[6],At=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(tt)[2];tt=Math.floor(At==="px"?parseFloat(tt)*this.pdf.internal.scaleFactor:At==="em"?parseFloat(tt)*this.pdf.getFontSize():parseFloat(tt)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(tt);var Pt=(function(Nt){var qn,Bt,Ct=[],zt=Nt.trim();if(zt==="")return Q_;if(zt in xR)return[xR[zt]];for(;zt!=="";){switch(Bt=null,qn=(zt=vR(zt)).charAt(0)){case'"':case"'":Bt=Kce(zt.substring(1),qn);break;default:Bt=Yce(zt)}if(Bt===null||(Ct.push(Bt[0]),(zt=vR(Bt[1]))!==""&&zt.charAt(0)!==","))return Q_;zt=zt.replace(/^,/,"")}return Ct})(wt);if(this.fontFaces){var jt=(function(Nt,qn){var Bt=Nt.getFontList(),Ct=JSON.stringify(Bt);if(ee===null||Ie!==Ct){var zt=(function(xn){var cn=[];return Object.keys(xn).forEach(function(Jn){xn[Jn].forEach(function(gn){var dn=null;switch(gn){case"bold":dn={family:Jn,weight:"bold"};break;case"italic":dn={family:Jn,style:"italic"};break;case"bolditalic":dn={family:Jn,weight:"bold",style:"italic"};break;case"":case"normal":dn={family:Jn}}dn!==null&&(dn.ref={name:Jn,style:gn},cn.push(dn))})}),cn})(Bt);ee=(function(xn){for(var cn={},Jn=0;Jn<xn.length;++Jn){var gn=J_(xn[Jn]),dn=gn.family,ar=gn.stretch,un=gn.style,Yt=gn.weight;cn[dn]=cn[dn]||{},cn[dn][ar]=cn[dn][ar]||{},cn[dn][ar][un]=cn[dn][ar][un]||{},cn[dn][ar][un][Yt]=gn}return cn})(zt.concat(qn)),Ie=Ct}return ee})(this.pdf,this.fontFaces),Zt=Pt.map(function(Nt){return{family:Nt,stretch:"normal",weight:ft,style:st}}),Gt=(function(Nt,qn,Bt){for(var Ct=(Bt=Bt||{}).defaultFontFamily||"times",zt=Object.assign({},$ce,Bt.genericFontFamilies||{}),xn=null,cn=null,Jn=0;Jn<qn.length;++Jn)if(zt[(xn=J_(qn[Jn])).family]&&(xn.family=zt[xn.family]),Nt.hasOwnProperty(xn.family)){cn=Nt[xn.family];break}if(!(cn=cn||Nt[Ct]))throw new Error("Could not find a font-family for the rule '"+yR(xn)+"' and default family '"+Ct+"'.");if(cn=(function(gn,dn){if(dn[gn])return dn[gn];var ar=aT[gn],un=ar<=aT.normal?-1:1,Yt=gR(dn,YO,ar,un);if(!Yt)throw new Error("Could not find a matching font-stretch value for "+gn);return Yt})(xn.stretch,cn),cn=(function(gn,dn){if(dn[gn])return dn[gn];for(var ar=KO[gn],un=0;un<ar.length;++un)if(dn[ar[un]])return dn[ar[un]];throw new Error("Could not find a matching font-style for "+gn)})(xn.style,cn),!(cn=(function(gn,dn){if(dn[gn])return dn[gn];if(gn===400&&dn[500])return dn[500];if(gn===500&&dn[400])return dn[400];var ar=Wce[gn],un=gR(dn,XO,ar,gn<400?-1:1);if(!un)throw new Error("Could not find a matching font-weight for value "+gn);return un})(xn.weight,cn)))throw new Error("Failed to resolve a font for the rule '"+yR(xn)+"'.");return cn})(jt,Zt);this.pdf.setFont(Gt.ref.name,Gt.ref.style)}else{var Wt="";(ft==="bold"||parseInt(ft,10)>=700||st==="bold")&&(Wt="bold"),st==="italic"&&(Wt+="italic"),Wt.length===0&&(Wt="normal");for(var Nn="",en={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Ft=0;Ft<Pt.length;Ft++){if(this.pdf.internal.getFont(Pt[Ft],Wt,{noFallback:!0,disableWarning:!0})!==void 0){Nn=Pt[Ft];break}if(Wt==="bolditalic"&&this.pdf.internal.getFont(Pt[Ft],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Nn=Pt[Ft],Wt="bold";else if(this.pdf.internal.getFont(Pt[Ft],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Nn=Pt[Ft],Wt="normal";break}}if(Nn===""){for(var Rt=0;Rt<Pt.length;Rt++)if(en[Pt[Rt]]){Nn=en[Pt[Rt]];break}}Nn=Nn===""?"Times":Nn,this.pdf.setFont(Nn,Wt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(oe){this.ctx.globalCompositeOperation=oe}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(oe){this.ctx.globalAlpha=oe}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(oe){this.ctx.lineDashOffset=oe,re.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(oe){this.ctx.lineDash=oe,re.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(oe){this.ctx.ignoreClearRect=!!oe}})};m.prototype.setLineDash=function(B){this.lineDash=B},m.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},m.prototype.fill=function(){F.call(this,"fill",!1)},m.prototype.stroke=function(){F.call(this,"stroke",!1)},m.prototype.beginPath=function(){this.path=[{type:"begin"}]},m.prototype.moveTo=function(B,Y){if(isNaN(B)||isNaN(Y))throw si.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var X=this.ctx.transform.applyToPoint(new a(B,Y));this.path.push({type:"mt",x:X.x,y:X.y}),this.ctx.lastPoint=new a(B,Y)},m.prototype.closePath=function(){var B=new a(0,0),Y=0;for(Y=this.path.length-1;Y!==-1;Y--)if(this.path[Y].type==="begin"&&Ur(this.path[Y+1])==="object"&&typeof this.path[Y+1].x=="number"){B=new a(this.path[Y+1].x,this.path[Y+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(B.x,B.y)},m.prototype.lineTo=function(B,Y){if(isNaN(B)||isNaN(Y))throw si.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var X=this.ctx.transform.applyToPoint(new a(B,Y));this.path.push({type:"lt",x:X.x,y:X.y}),this.ctx.lastPoint=new a(X.x,X.y)},m.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),F.call(this,null,!0)},m.prototype.quadraticCurveTo=function(B,Y,X,Q){if(isNaN(X)||isNaN(Q)||isNaN(B)||isNaN(Y))throw si.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ce=this.ctx.transform.applyToPoint(new a(X,Q)),_e=this.ctx.transform.applyToPoint(new a(B,Y));this.path.push({type:"qct",x1:_e.x,y1:_e.y,x:ce.x,y:ce.y}),this.ctx.lastPoint=new a(ce.x,ce.y)},m.prototype.bezierCurveTo=function(B,Y,X,Q,ce,_e){if(isNaN(ce)||isNaN(_e)||isNaN(B)||isNaN(Y)||isNaN(X)||isNaN(Q))throw si.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Pe=this.ctx.transform.applyToPoint(new a(ce,_e)),Z=this.ctx.transform.applyToPoint(new a(B,Y)),Ce=this.ctx.transform.applyToPoint(new a(X,Q));this.path.push({type:"bct",x1:Z.x,y1:Z.y,x2:Ce.x,y2:Ce.y,x:Pe.x,y:Pe.y}),this.ctx.lastPoint=new a(Pe.x,Pe.y)},m.prototype.arc=function(B,Y,X,Q,ce,_e){if(isNaN(B)||isNaN(Y)||isNaN(X)||isNaN(Q)||isNaN(ce))throw si.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(_e=!!_e,!this.ctx.transform.isIdentity){var Pe=this.ctx.transform.applyToPoint(new a(B,Y));B=Pe.x,Y=Pe.y;var Z=this.ctx.transform.applyToPoint(new a(0,X)),Ce=this.ctx.transform.applyToPoint(new a(0,0));X=Math.sqrt(Math.pow(Z.x-Ce.x,2)+Math.pow(Z.y-Ce.y,2))}Math.abs(ce-Q)>=2*Math.PI&&(Q=0,ce=2*Math.PI),this.path.push({type:"arc",x:B,y:Y,radius:X,startAngle:Q,endAngle:ce,counterclockwise:_e})},m.prototype.arcTo=function(B,Y,X,Q,ce){throw new Error("arcTo not implemented.")},m.prototype.rect=function(B,Y,X,Q){if(isNaN(B)||isNaN(Y)||isNaN(X)||isNaN(Q))throw si.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(B,Y),this.lineTo(B+X,Y),this.lineTo(B+X,Y+Q),this.lineTo(B,Y+Q),this.lineTo(B,Y),this.lineTo(B+X,Y),this.lineTo(B,Y)},m.prototype.fillRect=function(B,Y,X,Q){if(isNaN(B)||isNaN(Y)||isNaN(X)||isNaN(Q))throw si.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!y.call(this)){var ce={};this.lineCap!=="butt"&&(ce.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ce.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(B,Y,X,Q),this.fill(),ce.hasOwnProperty("lineCap")&&(this.lineCap=ce.lineCap),ce.hasOwnProperty("lineJoin")&&(this.lineJoin=ce.lineJoin)}},m.prototype.strokeRect=function(B,Y,X,Q){if(isNaN(B)||isNaN(Y)||isNaN(X)||isNaN(Q))throw si.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");E.call(this)||(this.beginPath(),this.rect(B,Y,X,Q),this.stroke())},m.prototype.clearRect=function(B,Y,X,Q){if(isNaN(B)||isNaN(Y)||isNaN(X)||isNaN(Q))throw si.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(B,Y,X,Q))},m.prototype.save=function(B){B=typeof B!="boolean"||B;for(var Y=this.pdf.internal.getCurrentPageInfo().pageNumber,X=0;X<this.pdf.internal.getNumberOfPages();X++)this.pdf.setPage(X+1),this.pdf.internal.out("q");if(this.pdf.setPage(Y),B){this.ctx.fontSize=this.pdf.internal.getFontSize();var Q=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Q}},m.prototype.restore=function(B){B=typeof B!="boolean"||B;for(var Y=this.pdf.internal.getCurrentPageInfo().pageNumber,X=0;X<this.pdf.internal.getNumberOfPages();X++)this.pdf.setPage(X+1),this.pdf.internal.out("Q");this.pdf.setPage(Y),B&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},m.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var g=function(B){var Y,X,Q,ce;if(B.isCanvasGradient===!0&&(B=B.getColor()),!B)return{r:0,g:0,b:0,a:0,style:B};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(B))Y=0,X=0,Q=0,ce=0;else{var _e=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(B);if(_e!==null)Y=parseInt(_e[1]),X=parseInt(_e[2]),Q=parseInt(_e[3]),ce=1;else if((_e=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(B))!==null)Y=parseInt(_e[1]),X=parseInt(_e[2]),Q=parseInt(_e[3]),ce=parseFloat(_e[4]);else{if(ce=1,typeof B=="string"&&B.charAt(0)!=="#"){var Pe=new jO(B);B=Pe.ok?Pe.toHex():"#000000"}B.length===4?(Y=B.substring(1,2),Y+=Y,X=B.substring(2,3),X+=X,Q=B.substring(3,4),Q+=Q):(Y=B.substring(1,3),X=B.substring(3,5),Q=B.substring(5,7)),Y=parseInt(Y,16),X=parseInt(X,16),Q=parseInt(Q,16)}}return{r:Y,g:X,b:Q,a:ce,style:B}},y=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},E=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};m.prototype.fillText=function(B,Y,X,Q){if(isNaN(Y)||isNaN(X)||typeof B!="string")throw si.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Q=isNaN(Q)?void 0:Q,!y.call(this)){var ce=Ne(this.ctx.transform.rotation),_e=this.ctx.transform.scaleX;M.call(this,{text:B,x:Y,y:X,scale:_e,angle:ce,align:this.textAlign,maxWidth:Q})}},m.prototype.strokeText=function(B,Y,X,Q){if(isNaN(Y)||isNaN(X)||typeof B!="string")throw si.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!E.call(this)){Q=isNaN(Q)?void 0:Q;var ce=Ne(this.ctx.transform.rotation),_e=this.ctx.transform.scaleX;M.call(this,{text:B,x:Y,y:X,scale:_e,renderingMode:"stroke",angle:ce,align:this.textAlign,maxWidth:Q})}},m.prototype.measureText=function(B){if(typeof B!="string")throw si.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var Y=this.pdf,X=this.pdf.internal.scaleFactor,Q=Y.internal.getFontSize(),ce=Y.getStringUnitWidth(B)*Q/Y.internal.scaleFactor;return new function(_e){var Pe=(_e=_e||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Pe}}),this}({width:ce*=Math.round(96*X/72*1e4)/1e4})},m.prototype.scale=function(B,Y){if(isNaN(B)||isNaN(Y))throw si.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var X=new c(B,0,0,Y,0,0);this.ctx.transform=this.ctx.transform.multiply(X)},m.prototype.rotate=function(B){if(isNaN(B))throw si.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var Y=new c(Math.cos(B),Math.sin(B),-Math.sin(B),Math.cos(B),0,0);this.ctx.transform=this.ctx.transform.multiply(Y)},m.prototype.translate=function(B,Y){if(isNaN(B)||isNaN(Y))throw si.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var X=new c(1,0,0,1,B,Y);this.ctx.transform=this.ctx.transform.multiply(X)},m.prototype.transform=function(B,Y,X,Q,ce,_e){if(isNaN(B)||isNaN(Y)||isNaN(X)||isNaN(Q)||isNaN(ce)||isNaN(_e))throw si.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Pe=new c(B,Y,X,Q,ce,_e);this.ctx.transform=this.ctx.transform.multiply(Pe)},m.prototype.setTransform=function(B,Y,X,Q,ce,_e){B=isNaN(B)?1:B,Y=isNaN(Y)?0:Y,X=isNaN(X)?0:X,Q=isNaN(Q)?1:Q,ce=isNaN(ce)?0:ce,_e=isNaN(_e)?0:_e,this.ctx.transform=new c(B,Y,X,Q,ce,_e)};var _=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};m.prototype.drawImage=function(B,Y,X,Q,ce,_e,Pe,Z,Ce){var qe=this.pdf.getImageProperties(B),ee=1,Ie=1,Ye=1,oe=1;Q!==void 0&&Z!==void 0&&(Ye=Z/Q,oe=Ce/ce,ee=qe.width/Q*Z/Q,Ie=qe.height/ce*Ce/ce),_e===void 0&&(_e=Y,Pe=X,Y=0,X=0),Q!==void 0&&Z===void 0&&(Z=Q,Ce=ce),Q===void 0&&Z===void 0&&(Z=qe.width,Ce=qe.height);var rt=this.ctx.transform.decompose(),st=Ne(rt.rotate.shx),ft=new c,tt=(ft=(ft=(ft=ft.multiply(rt.translate)).multiply(rt.skew)).multiply(rt.scale)).applyToRectangle(new o(_e-Y*Ye,Pe-X*oe,Q*ee,ce*Ie));if(this.autoPaging){for(var wt,At=A.call(this,tt),Pt=[],jt=0;jt<At.length;jt+=1)Pt.indexOf(At[jt])===-1&&Pt.push(At[jt]);R(Pt);for(var Zt=Pt[0],Gt=Pt[Pt.length-1],Wt=Zt;Wt<Gt+1;Wt++){this.pdf.setPage(Wt);var Nn=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],en=Wt===1?this.posY+this.margin[0]:this.margin[0],Ft=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Rt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Nt=Wt===1?0:Ft+(Wt-2)*Rt;if(this.ctx.clip_path.length!==0){var qn=this.path;wt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=V(wt,this.posX+this.margin[3],-Nt+en+this.ctx.prevPageLastElemOffset),z.call(this,"fill",!0),this.path=qn}var Bt=JSON.parse(JSON.stringify(tt));Bt=V([Bt],this.posX+this.margin[3],-Nt+en+this.ctx.prevPageLastElemOffset)[0];var Ct=(Wt>Zt||Wt<Gt)&&_.call(this);Ct&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Nn,Rt,null).clip().discardPath()),this.pdf.addImage(B,"JPEG",Bt.x,Bt.y,Bt.w,Bt.h,null,null,st),Ct&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(B,"JPEG",tt.x,tt.y,tt.w,tt.h,null,null,st)};var A=function(B,Y,X){var Q=[];Y=Y||this.pdf.internal.pageSize.width,X=X||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ce=this.posY+this.ctx.prevPageLastElemOffset;switch(B.type){default:case"mt":case"lt":Q.push(Math.floor((B.y+ce)/X)+1);break;case"arc":Q.push(Math.floor((B.y+ce-B.radius)/X)+1),Q.push(Math.floor((B.y+ce+B.radius)/X)+1);break;case"qct":var _e=me(this.ctx.lastPoint.x,this.ctx.lastPoint.y,B.x1,B.y1,B.x,B.y);Q.push(Math.floor((_e.y+ce)/X)+1),Q.push(Math.floor((_e.y+_e.h+ce)/X)+1);break;case"bct":var Pe=Re(this.ctx.lastPoint.x,this.ctx.lastPoint.y,B.x1,B.y1,B.x2,B.y2,B.x,B.y);Q.push(Math.floor((Pe.y+ce)/X)+1),Q.push(Math.floor((Pe.y+Pe.h+ce)/X)+1);break;case"rect":Q.push(Math.floor((B.y+ce)/X)+1),Q.push(Math.floor((B.y+B.h+ce)/X)+1)}for(var Z=0;Z<Q.length;Z+=1)for(;this.pdf.internal.getNumberOfPages()<Q[Z];)C.call(this);return Q},C=function(){var B=this.fillStyle,Y=this.strokeStyle,X=this.font,Q=this.lineCap,ce=this.lineWidth,_e=this.lineJoin;this.pdf.addPage(),this.fillStyle=B,this.strokeStyle=Y,this.font=X,this.lineCap=Q,this.lineWidth=ce,this.lineJoin=_e},V=function(B,Y,X){for(var Q=0;Q<B.length;Q++)switch(B[Q].type){case"bct":B[Q].x2+=Y,B[Q].y2+=X;case"qct":B[Q].x1+=Y,B[Q].y1+=X;default:B[Q].x+=Y,B[Q].y+=X}return B},R=function(B){return B.sort(function(Y,X){return Y-X})},F=function(B,Y){var X=this.fillStyle,Q=this.strokeStyle,ce=this.lineCap,_e=this.lineWidth,Pe=Math.abs(_e*this.ctx.transform.scaleX),Z=this.lineJoin;if(this.autoPaging){for(var Ce,qe,ee=JSON.parse(JSON.stringify(this.path)),Ie=JSON.parse(JSON.stringify(this.path)),Ye=[],oe=0;oe<Ie.length;oe++)if(Ie[oe].x!==void 0)for(var rt=A.call(this,Ie[oe]),st=0;st<rt.length;st+=1)Ye.indexOf(rt[st])===-1&&Ye.push(rt[st]);for(var ft=0;ft<Ye.length;ft++)for(;this.pdf.internal.getNumberOfPages()<Ye[ft];)C.call(this);R(Ye);for(var tt=Ye[0],wt=Ye[Ye.length-1],At=tt;At<wt+1;At++){this.pdf.setPage(At),this.fillStyle=X,this.strokeStyle=Q,this.lineCap=ce,this.lineWidth=Pe,this.lineJoin=Z;var Pt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],jt=At===1?this.posY+this.margin[0]:this.margin[0],Zt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Gt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Wt=At===1?0:Zt+(At-2)*Gt;if(this.ctx.clip_path.length!==0){var Nn=this.path;Ce=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=V(Ce,this.posX+this.margin[3],-Wt+jt+this.ctx.prevPageLastElemOffset),z.call(this,B,!0),this.path=Nn}if(qe=JSON.parse(JSON.stringify(ee)),this.path=V(qe,this.posX+this.margin[3],-Wt+jt+this.ctx.prevPageLastElemOffset),Y===!1||At===0){var en=(At>tt||At<wt)&&_.call(this);en&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Pt,Gt,null).clip().discardPath()),z.call(this,B,Y),en&&this.pdf.restoreGraphicsState()}this.lineWidth=_e}this.path=ee}else this.lineWidth=Pe,z.call(this,B,Y),this.lineWidth=_e},z=function(B,Y){if((B!=="stroke"||Y||!E.call(this))&&(B==="stroke"||Y||!y.call(this))){for(var X,Q,ce=[],_e=this.path,Pe=0;Pe<_e.length;Pe++){var Z=_e[Pe];switch(Z.type){case"begin":ce.push({begin:!0});break;case"close":ce.push({close:!0});break;case"mt":ce.push({start:Z,deltas:[],abs:[]});break;case"lt":var Ce=ce.length;if(_e[Pe-1]&&!isNaN(_e[Pe-1].x)&&(X=[Z.x-_e[Pe-1].x,Z.y-_e[Pe-1].y],Ce>0)){for(;Ce>=0;Ce--)if(ce[Ce-1].close!==!0&&ce[Ce-1].begin!==!0){ce[Ce-1].deltas.push(X),ce[Ce-1].abs.push(Z);break}}break;case"bct":X=[Z.x1-_e[Pe-1].x,Z.y1-_e[Pe-1].y,Z.x2-_e[Pe-1].x,Z.y2-_e[Pe-1].y,Z.x-_e[Pe-1].x,Z.y-_e[Pe-1].y],ce[ce.length-1].deltas.push(X);break;case"qct":var qe=_e[Pe-1].x+2/3*(Z.x1-_e[Pe-1].x),ee=_e[Pe-1].y+2/3*(Z.y1-_e[Pe-1].y),Ie=Z.x+2/3*(Z.x1-Z.x),Ye=Z.y+2/3*(Z.y1-Z.y),oe=Z.x,rt=Z.y;X=[qe-_e[Pe-1].x,ee-_e[Pe-1].y,Ie-_e[Pe-1].x,Ye-_e[Pe-1].y,oe-_e[Pe-1].x,rt-_e[Pe-1].y],ce[ce.length-1].deltas.push(X);break;case"arc":ce.push({deltas:[],abs:[],arc:!0}),Array.isArray(ce[ce.length-1].abs)&&ce[ce.length-1].abs.push(Z)}}Q=Y?null:B==="stroke"?"stroke":"fill";for(var st=!1,ft=0;ft<ce.length;ft++)if(ce[ft].arc)for(var tt=ce[ft].abs,wt=0;wt<tt.length;wt++){var At=tt[wt];At.type==="arc"?L.call(this,At.x,At.y,At.radius,At.startAngle,At.endAngle,At.counterclockwise,void 0,Y,!st):j.call(this,At.x,At.y),st=!0}else if(ce[ft].close===!0)this.pdf.internal.out("h"),st=!1;else if(ce[ft].begin!==!0){var Pt=ce[ft].start.x,jt=ce[ft].start.y;ae.call(this,ce[ft].deltas,Pt,jt),st=!0}Q&&k.call(this,Q),Y&&q.call(this)}},W=function(B){var Y=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,X=Y*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return B-X;case"top":return B+Y-X;case"hanging":return B+Y-2*X;case"middle":return B+Y/2-X;default:return B}},D=function(B){return B+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};m.prototype.createLinearGradient=function(){var B=function(){};return B.colorStops=[],B.addColorStop=function(Y,X){this.colorStops.push([Y,X])},B.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},B.isCanvasGradient=!0,B},m.prototype.createPattern=function(){return this.createLinearGradient()},m.prototype.createRadialGradient=function(){return this.createLinearGradient()};var L=function(B,Y,X,Q,ce,_e,Pe,Z,Ce){for(var qe=fe.call(this,X,Q,ce,_e),ee=0;ee<qe.length;ee++){var Ie=qe[ee];ee===0&&(Ce?P.call(this,Ie.x1+B,Ie.y1+Y):j.call(this,Ie.x1+B,Ie.y1+Y)),Ae.call(this,B,Y,Ie.x2,Ie.y2,Ie.x3,Ie.y3,Ie.x4,Ie.y4)}Z?q.call(this):k.call(this,Pe)},k=function(B){switch(B){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},q=function(){this.pdf.clip(),this.pdf.discardPath()},P=function(B,Y){this.pdf.internal.out(n(B)+" "+r(Y)+" m")},M=function(B){var Y;switch(B.align){case"right":case"end":Y="right";break;case"center":Y="center";break;default:Y="left"}var X,Q,ce,_e=this.pdf.getTextDimensions(B.text),Pe=W.call(this,B.y),Z=D.call(this,Pe)-_e.h,Ce=this.ctx.transform.applyToPoint(new a(B.x,Pe));if(this.autoPaging){var qe=this.ctx.transform.decompose(),ee=new c;ee=(ee=(ee=ee.multiply(qe.translate)).multiply(qe.skew)).multiply(qe.scale);for(var Ie=this.ctx.transform.applyToRectangle(new o(B.x,Pe,_e.w,_e.h)),Ye=ee.applyToRectangle(new o(B.x,Z,_e.w,_e.h)),oe=A.call(this,Ye),rt=[],st=0;st<oe.length;st+=1)rt.indexOf(oe[st])===-1&&rt.push(oe[st]);R(rt);for(var ft=rt[0],tt=rt[rt.length-1],wt=ft;wt<tt+1;wt++){this.pdf.setPage(wt);var At=wt===1?this.posY+this.margin[0]:this.margin[0],Pt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],jt=this.pdf.internal.pageSize.height-this.margin[2],Zt=jt-this.margin[0],Gt=this.pdf.internal.pageSize.width-this.margin[1],Wt=Gt-this.margin[3],Nn=wt===1?0:Pt+(wt-2)*Zt;if(this.ctx.clip_path.length!==0){var en=this.path;X=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=V(X,this.posX+this.margin[3],-1*Nn+At),z.call(this,"fill",!0),this.path=en}var Ft=V([JSON.parse(JSON.stringify(Ye))],this.posX+this.margin[3],-Nn+At+this.ctx.prevPageLastElemOffset)[0];B.scale>=.01&&(Q=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Q*B.scale),ce=this.lineWidth,this.lineWidth=ce*B.scale);var Rt=this.autoPaging!=="text";if(Rt||Ft.y+Ft.h<=jt){if(Rt||Ft.y>=At&&Ft.x<=Gt){var Nt=Rt?B.text:this.pdf.splitTextToSize(B.text,B.maxWidth||Gt-Ft.x)[0],qn=V([JSON.parse(JSON.stringify(Ie))],this.posX+this.margin[3],-Nn+At+this.ctx.prevPageLastElemOffset)[0],Bt=Rt&&(wt>ft||wt<tt)&&_.call(this);Bt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Wt,Zt,null).clip().discardPath()),this.pdf.text(Nt,qn.x,qn.y,{angle:B.angle,align:Y,renderingMode:B.renderingMode}),Bt&&this.pdf.restoreGraphicsState()}}else Ft.y<jt&&(this.ctx.prevPageLastElemOffset+=jt-Ft.y);B.scale>=.01&&(this.pdf.setFontSize(Q),this.lineWidth=ce)}}else B.scale>=.01&&(Q=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Q*B.scale),ce=this.lineWidth,this.lineWidth=ce*B.scale),this.pdf.text(B.text,Ce.x+this.posX,Ce.y+this.posY,{angle:B.angle,align:Y,renderingMode:B.renderingMode,maxWidth:B.maxWidth}),B.scale>=.01&&(this.pdf.setFontSize(Q),this.lineWidth=ce)},j=function(B,Y,X,Q){X=X||0,Q=Q||0,this.pdf.internal.out(n(B+X)+" "+r(Y+Q)+" l")},ae=function(B,Y,X){return this.pdf.lines(B,Y,X,null,null)},Ae=function(B,Y,X,Q,ce,_e,Pe,Z){this.pdf.internal.out([e(i(X+B)),e(s(Q+Y)),e(i(ce+B)),e(s(_e+Y)),e(i(Pe+B)),e(s(Z+Y)),"c"].join(" "))},fe=function(B,Y,X,Q){for(var ce=2*Math.PI,_e=Math.PI/2;Y>X;)Y-=ce;var Pe=Math.abs(X-Y);Pe<ce&&Q&&(Pe=ce-Pe);for(var Z=[],Ce=Q?-1:1,qe=Y;Pe>1e-5;){var ee=qe+Ce*Math.min(Pe,_e);Z.push(xe.call(this,B,qe,ee)),Pe-=Math.abs(ee-qe),qe=ee}return Z},xe=function(B,Y,X){var Q=(X-Y)/2,ce=B*Math.cos(Q),_e=B*Math.sin(Q),Pe=ce,Z=-_e,Ce=Pe*Pe+Z*Z,qe=Ce+Pe*ce+Z*_e,ee=4/3*(Math.sqrt(2*Ce*qe)-qe)/(Pe*_e-Z*ce),Ie=Pe-ee*Z,Ye=Z+ee*Pe,oe=Ie,rt=-Ye,st=Q+Y,ft=Math.cos(st),tt=Math.sin(st);return{x1:B*Math.cos(Y),y1:B*Math.sin(Y),x2:Ie*ft-Ye*tt,y2:Ie*tt+Ye*ft,x3:oe*ft-rt*tt,y3:oe*tt+rt*ft,x4:B*Math.cos(X),y4:B*Math.sin(X)}},Ne=function(B){return 180*B/Math.PI},me=function(B,Y,X,Q,ce,_e){var Pe=B+.5*(X-B),Z=Y+.5*(Q-Y),Ce=ce+.5*(X-ce),qe=_e+.5*(Q-_e),ee=Math.min(B,ce,Pe,Ce),Ie=Math.max(B,ce,Pe,Ce),Ye=Math.min(Y,_e,Z,qe),oe=Math.max(Y,_e,Z,qe);return new o(ee,Ye,Ie-ee,oe-Ye)},Re=function(B,Y,X,Q,ce,_e,Pe,Z){var Ce,qe,ee,Ie,Ye,oe,rt,st,ft,tt,wt,At,Pt,jt,Zt=X-B,Gt=Q-Y,Wt=ce-X,Nn=_e-Q,en=Pe-ce,Ft=Z-_e;for(qe=0;qe<41;qe++)ft=(rt=(ee=B+(Ce=qe/40)*Zt)+Ce*((Ye=X+Ce*Wt)-ee))+Ce*(Ye+Ce*(ce+Ce*en-Ye)-rt),tt=(st=(Ie=Y+Ce*Gt)+Ce*((oe=Q+Ce*Nn)-Ie))+Ce*(oe+Ce*(_e+Ce*Ft-oe)-st),qe==0?(wt=ft,At=tt,Pt=ft,jt=tt):(wt=Math.min(wt,ft),At=Math.min(At,tt),Pt=Math.max(Pt,ft),jt=Math.max(jt,tt));return new o(Math.round(wt),Math.round(At),Math.round(Pt-wt),Math.round(jt-At))},re=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var B,Y,X=(B=this.ctx.lineDash,Y=this.ctx.lineDashOffset,JSON.stringify({lineDash:B,lineDashOffset:Y}));this.prevLineDash!==X&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=X)}}})(mn.API),(function(t){var e=function(a){var o,c,f,d,m,g,y,E,_,A;for(c=[],f=0,d=(a+=o="\0\0\0\0".slice(a.length%4||4)).length;d>f;f+=4)(m=(a.charCodeAt(f)<<24)+(a.charCodeAt(f+1)<<16)+(a.charCodeAt(f+2)<<8)+a.charCodeAt(f+3))!==0?(g=(m=((m=((m=((m=(m-(A=m%85))/85)-(_=m%85))/85)-(E=m%85))/85)-(y=m%85))/85)%85,c.push(g+33,y+33,E+33,_+33,A+33)):c.push(122);return(function(C,V){for(var R=V;R>0;R--)C.pop()})(c,o.length),String.fromCharCode.apply(String,c)+"~>"},n=function(a){var o,c,f,d,m,g=String,y="length",E=255,_="charCodeAt",A="slice",C="replace";for(a[A](-2),a=a[A](0,-2)[C](/\s/g,"")[C]("z","!!!!!"),f=[],d=0,m=(a+=o="uuuuu"[A](a[y]%5||5))[y];m>d;d+=5)c=52200625*(a[_](d)-33)+614125*(a[_](d+1)-33)+7225*(a[_](d+2)-33)+85*(a[_](d+3)-33)+(a[_](d+4)-33),f.push(E&c>>24,E&c>>16,E&c>>8,E&c);return(function(V,R){for(var F=R;F>0;F--)V.pop()})(f,o[y]),g.fromCharCode.apply(g,f)},r=function(a){return a.split("").map(function(o){return("0"+o.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(a){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),o.test(a)===!1)return"";for(var c="",f=0;f<a.length;f+=2)c+=String.fromCharCode("0x"+(a[f]+a[f+1]));return c},s=function(a){for(var o=new Uint8Array(a.length),c=a.length;c--;)o[c]=a.charCodeAt(c);return(o=Z5(o)).reduce(function(f,d){return f+String.fromCharCode(d)},"")};t.processDataByFilters=function(a,o){var c=0,f=a||"",d=[];for(typeof(o=o||[])=="string"&&(o=[o]),c=0;c<o.length;c+=1)switch(o[c]){case"ASCII85Decode":case"/ASCII85Decode":f=n(f),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":f=e(f),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":f=i(f),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":f=r(f),d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":f=s(f),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[c]+'" is not implemented')}return{data:f,reverseChain:d.reverse().join(" ")}}})(mn.API),(function(t){t.loadFile=function(e,n,r){return(function(i,s,a){s=s!==!1,a=typeof a=="function"?a:function(){};var o=void 0;try{o=(function(c,f,d){var m=new XMLHttpRequest,g=0,y=function(E){var _=E.length,A=[],C=String.fromCharCode;for(g=0;g<_;g+=1)A.push(C(255&E.charCodeAt(g)));return A.join("")};if(m.open("GET",c,!f),m.overrideMimeType("text/plain; charset=x-user-defined"),f===!1&&(m.onload=function(){m.status===200?d(y(this.responseText)):d(void 0)}),m.send(null),f&&m.status===200)return y(m.responseText)})(i,s,a)}catch{}return o})(e,n,r)},t.loadImageFile=t.loadFile})(mn.API),(function(t){function e(){return(Mn.html2canvas?Promise.resolve(Mn.html2canvas):op(()=>import("./html2canvas.esm-Ge7aVWlp.js"),[],import.meta.url)).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function n(){return(Mn.DOMPurify?Promise.resolve(Mn.DOMPurify):op(()=>import("./purify.es-C65SP4u9.js"),[],import.meta.url)).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var r=function(o){var c=Ur(o);return c==="undefined"?"undefined":c==="string"||o instanceof String?"string":c==="number"||o instanceof Number?"number":c==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":c==="object"?"object":"unknown"},i=function(o,c){var f=document.createElement(o);for(var d in c.className&&(f.className=c.className),c.innerHTML&&c.dompurify&&(f.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)f.style[d]=c.style[d];return f},s=function o(c,f){for(var d=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),m=c.firstChild;m;m=m.nextSibling)f!==!0&&m.nodeType===1&&m.nodeName==="SCRIPT"||d.appendChild(o(m,f));return c.nodeType===1&&(c.nodeName==="CANVAS"?(d.width=c.width,d.height=c.height,d.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(d.value=c.value),d.addEventListener("load",function(){d.scrollTop=c.scrollTop,d.scrollLeft=c.scrollLeft},!0)),d},a=function o(c){var f=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),d=o.convert(Promise.resolve(),f);return(d=d.setProgress(1,o,1,[o])).set(c)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(o,c){return o.__proto__=c||a.prototype,o},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(o,c){return this.then(function(){switch(c=c||(function(f){switch(r(f)){case"string":return"string";case"element":return f.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(o),c){case"string":return this.then(n).then(function(f){return this.set({src:i("div",{innerHTML:o,dompurify:f})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},a.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(c){var f=Object.assign({},this.opt.html2canvas);return delete f.onrendered,c(this.prop.container,f)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(c){var f=this.opt.jsPDF,d=this.opt.fontFaces,m=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,g=Object.assign({async:!0,allowTaint:!0,scale:m,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete g.onrendered,f.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,f.context2d.posX=this.opt.x,f.context2d.posY=this.opt.y,f.context2d.margin=this.opt.margin,f.context2d.fontFaces=d,d)for(var y=0;y<d.length;++y){var E=d[y],_=E.src.find(function(A){return A.format==="truetype"});_&&f.addFont(_.url,E.ref.name,E.ref.style)}return g.windowHeight=g.windowHeight||0,g.windowHeight=g.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):g.windowHeight,f.context2d.save(!0),c(this.prop.container,g)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(o,c,f){return(f=f||"pdf").toLowerCase()==="img"||f.toLowerCase()==="image"?this.outputImg(o,c):this.outputPdf(o,c)},a.prototype.outputPdf=function(o,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,c)})},a.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},a.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(o){if(r(o)!=="object")return this;var c=Object.keys(o||{}).map(function(f){if(f in a.template.prop)return function(){this.prop[f]=o[f]};switch(f){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[f]=o[f]}}},this);return this.then(function(){return this.thenList(c)})},a.prototype.get=function(o,c){return this.then(function(){var f=o in a.template.prop?this.prop[o]:this.opt[o];return c?c(f):f})},a.prototype.setMargin=function(o){return this.then(function(){switch(r(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},a.prototype.setPageSize=function(o){function c(f,d){return Math.floor(f*d/72*96)}return this.then(function(){(o=o||mn.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:c(o.inner.width,o.k),height:c(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},a.prototype.setProgress=function(o,c,f,d){return o!=null&&(this.progress.val=o),c!=null&&(this.progress.state=c),f!=null&&(this.progress.n=f),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(o,c,f,d){return this.setProgress(o?this.progress.val+o:null,c||null,f?this.progress.n+f:null,d?this.progress.stack.concat(d):null)},a.prototype.then=function(o,c){var f=this;return this.thenCore(o,c,function(d,m){return f.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(g){return f.updateProgress(null,d),g}).then(d,m).then(function(g){return f.updateProgress(1),g})})},a.prototype.thenCore=function(o,c,f){f=f||Promise.prototype.then;var d=this;o&&(o=o.bind(d)),c&&(c=c.bind(d));var m=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?d:a.convert(Object.assign({},d),Promise.prototype),g=f.call(m,o,c);return a.convert(g,d.__proto__)},a.prototype.thenExternal=function(o,c){return Promise.prototype.then.call(this,o,c)},a.prototype.thenList=function(o){var c=this;return o.forEach(function(f){c=c.thenCore(f)}),c},a.prototype.catch=function(o){o&&(o=o.bind(this));var c=Promise.prototype.catch.call(this,o);return a.convert(c,this)},a.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},a.prototype.error=function(o){return this.then(function(){throw new Error(o)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,mn.getPageSize=function(o,c,f){if(Ur(o)==="object"){var d=o;o=d.orientation,c=d.unit||c,f=d.format||f}c=c||"mm",f=f||"a4",o=(""+(o||"P")).toLowerCase();var m,g=(""+f).toLowerCase(),y={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":m=1;break;case"mm":m=72/25.4;break;case"cm":m=72/2.54;break;case"in":m=72;break;case"px":m=.75;break;case"pc":case"em":m=12;break;case"ex":m=6;break;default:throw"Invalid unit: "+c}var E,_=0,A=0;if(y.hasOwnProperty(g))_=y[g][1]/m,A=y[g][0]/m;else try{_=f[1],A=f[0]}catch{throw new Error("Invalid format: "+f)}if(o==="p"||o==="portrait")o="p",A>_&&(E=A,A=_,_=E);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",_>A&&(E=A,A=_,_=E)}return{width:A,height:_,unit:c,k:m,orientation:o}},t.html=function(o,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(J_):null;var f=new a(c);return c.worker?f:f.from(o).doCallback()}})(mn.API),mn.API.addJS=function(t){return _R=t,this.internal.events.subscribe("postPutResources",function(){ty=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(ty+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),bR=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+_R+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){ty!==void 0&&bR!==void 0&&this.internal.out("/Names <</JavaScript "+ty+" 0 R>>")}),this},(function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),s=0;s<i.length;s++){var a=i[s],o=r.exec(a);if(o!=null){var c=o[1];n.internal.newObjectDeferredBegin(c,!1)}n.internal.write(a)}if(this.outline.createNamedDestinations){var f=this.internal.pages.length,d=[];for(s=0;s<f;s++){var m=n.internal.newObject();d.push(m);var g=n.internal.getPageInfo(s+1);n.internal.write("<< /D["+g.objId+" 0 R /XYZ null null null]>> endobj")}var y=n.internal.newObject();for(n.internal.write("<< /Names [ "),s=0;s<d.length;s++)n.internal.write("(page_"+(s+1)+")"+d[s]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+y+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var n=this;n.outline.root.children.length>0&&(n.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&n.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,s){var a={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(a),a},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var a=r.children[s];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var o=this.count=this.count_r({count:0},a);if(o>0&&this.line("/Count "+o),a.options&&a.options.pageNumber){var c=n.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var f=0;f<r.children.length;f++)this.renderItems(r.children[f])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])})(mn.API),(function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,i,s,a,o){var c,f=this.decode.DCT_DECODE,d=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=a||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,c=(function(m){for(var g,y=256*m.charCodeAt(4)+m.charCodeAt(5),E=m.length,_={width:0,height:0,numcomponents:1},A=4;A<E;A+=2){if(A+=y,e.indexOf(m.charCodeAt(A+1))!==-1){g=256*m.charCodeAt(A+5)+m.charCodeAt(A+6),_={width:256*m.charCodeAt(A+7)+m.charCodeAt(A+8),height:g,numcomponents:m.charCodeAt(A+9)};break}y=256*m.charCodeAt(A+2)+m.charCodeAt(A+3)}return _})(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n),c.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}d={data:n,width:c.width,height:c.height,colorSpace:o,bitsPerComponent:8,filter:f,index:r,alias:i}}return d}})(mn.API),mn.API.processPNG=function(t,e,n,r){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var i,s=Pce(t,{checkCrc:!0}),a=s.width,o=s.height,c=s.channels,f=s.palette,d=s.depth;i=f&&c===1?(function(L){for(var k=L.width,q=L.height,P=L.data,M=L.palette,j=L.depth,ae=!1,Ae=[],fe=[],xe=void 0,Ne=!1,me=0,Re=0;Re<M.length;Re++){var re=S6(M[Re],4),B=re[0],Y=re[1],X=re[2],Q=re[3];Ae.push(B,Y,X),Q!=null&&(Q===0?(me++,fe.length<1&&fe.push(Re)):Q<255&&(Ne=!0))}if(Ne||me>1){ae=!0,fe=void 0;var ce=k*q;xe=new Uint8Array(ce);for(var _e=new DataView(P.buffer),Pe=0;Pe<ce;Pe++){var Z=Z_(_e,Pe,j),Ce=S6(M[Z],4)[3];xe[Pe]=Ce}}else me===0&&(fe=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:ae?8:void 0,colorBytes:P,alphaBytes:xe,needSMask:ae,palette:Ae,mask:fe}})(s):c===2||c===4?(function(L){for(var k=L.data,q=L.width,P=L.height,M=L.channels,j=L.depth,ae=M===2?"DeviceGray":"DeviceRGB",Ae=M-1,fe=q*P,xe=Ae,Ne=fe*xe,me=1*fe,Re=Math.ceil(Ne*j/8),re=Math.ceil(me*j/8),B=new Uint8Array(Re),Y=new Uint8Array(re),X=new DataView(k.buffer),Q=new DataView(B.buffer),ce=new DataView(Y.buffer),_e=!1,Pe=0;Pe<fe;Pe++){for(var Z=Pe*M,Ce=0;Ce<xe;Ce++)kR(Q,Z_(X,Z+Ce,j),Pe*xe+Ce,j);var qe=Z_(X,Z+xe,j);qe<(1<<j)-1&&(_e=!0),kR(ce,qe,1*Pe,j)}return{colorSpace:ae,colorsPerPixel:Ae,sMaskBitsPerComponent:_e?j:void 0,colorBytes:B,alphaBytes:Y,needSMask:_e}})(s):(function(L){var k=L.data,q=L.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:q,colorsPerPixel:q==="DeviceGray"?1:3,colorBytes:k instanceof Uint16Array?(function(P){for(var M=P.length,j=new Uint8Array(2*M),ae=new DataView(j.buffer,j.byteOffset,j.byteLength),Ae=0;Ae<M;Ae++)ae.setUint16(2*Ae,P[Ae],!1);return j})(k):k,needSMask:!1}})(s);var m,g,y,E=i,_=E.colorSpace,A=E.colorsPerPixel,C=E.sMaskBitsPerComponent,V=E.colorBytes,R=E.alphaBytes,F=E.needSMask,z=E.palette,W=E.mask,D=null;return r!==mn.API.image_compression.NONE&&typeof Z5=="function"?(D=(function(L){var k;switch(L){case mn.API.image_compression.FAST:k=11;break;case mn.API.image_compression.MEDIUM:k=13;break;case mn.API.image_compression.SLOW:k=14;break;default:k=12}return k})(r),m=this.decode.FLATE_DECODE,g="/Predictor ".concat(D," /Colors ").concat(A," /BitsPerComponent ").concat(d," /Columns ").concat(a),t=SR(V,Math.ceil(a*A*d/8),A,d,r),F&&(y=SR(R,Math.ceil(a*C/8),1,C,r))):(m=void 0,g=void 0,t=V,F&&(y=R)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(y&&this.__addimage__.isArrayBuffer(y)||this.__addimage__.isArrayBufferView(y))&&(y=this.__addimage__.arrayBufferToBinaryString(y)),{alias:n,data:t,index:e,filter:m,decodeParameters:g,transparency:W,palette:z,sMask:y,predictor:D,width:a,height:o,bitsPerComponent:d,sMaskBitsPerComponent:C,colorSpace:_}}},(function(t){t.processGIF89A=function(e,n,r,i){var s=new Zce(e),a=s.width,o=s.height,c=[];s.decodeAndBlitFrameRGBA(0,c);var f={data:c,width:a,height:o},d=new ew(100).encode(f,100);return t.processJPEG.call(this,d,n,r,i)},t.processGIF87A=t.processGIF89A})(mn.API),jl.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},jl.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){si.log("bit decode error:"+n)}},jl.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+8*i*4,o=0;o<8&&8*i+o<this.width;o++){var c=this.palette[s>>7-o&1];this.data[a+4*o]=c.blue,this.data[a+4*o+1]=c.green,this.data[a+4*o+2]=c.red,this.data[a+4*o+3]=255}n!==0&&(this.pos+=4-n)}},jl.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var s=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+2*i*4,o=s>>4,c=15&s,f=this.palette[o];if(this.data[a]=f.blue,this.data[a+1]=f.green,this.data[a+2]=f.red,this.data[a+3]=255,2*i+1>=this.width)break;f=this.palette[c],this.data[a+4]=f.blue,this.data[a+4+1]=f.green,this.data[a+4+2]=f.red,this.data[a+4+3]=255}e!==0&&(this.pos+=4-e)}},jl.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*r;if(i<this.palette.length){var a=this.palette[i];this.data[s]=a.red,this.data[s+1]=a.green,this.data[s+2]=a.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},jl.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&e)/e*255|0,o=(s>>5&e)/e*255|0,c=(s>>10&e)/e*255|0,f=s>>15?255:0,d=r*this.width*4+4*i;this.data[d]=c,this.data[d+1]=o,this.data[d+2]=a,this.data[d+3]=f}this.pos+=t}},jl.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&e)/e*255|0,c=(a>>5&n)/n*255|0,f=(a>>11)/e*255|0,d=i*this.width*4+4*s;this.data[d]=f,this.data[d+1]=c,this.data[d+2]=o,this.data[d+3]=255}this.pos+=t}},jl.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*n;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=255}this.pos+=this.width%4}},jl.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*n;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=a}},jl.prototype.getData=function(){return this.data},(function(t){t.processBMP=function(e,n,r,i){var s=new jl(e,!1),a=s.width,o=s.height,c={data:s.getData(),width:a,height:o},f=new ew(100).encode(c,100);return t.processJPEG.call(this,f,n,r,i)}})(mn.API),PR.prototype.getData=function(){return this.data},(function(t){t.processWEBP=function(e,n,r,i){var s=new PR(e),a=s.width,o=s.height,c={data:s.getData(),width:a,height:o},f=new ew(100).encode(c,100);return t.processJPEG.call(this,f,n,r,i)}})(mn.API),mn.API.processRGBA=function(t,e,n){for(var r=t.data,i=r.length,s=new Uint8Array(i/4*3),a=new Uint8Array(i/4),o=0,c=0,f=0;f<i;f+=4){var d=r[f],m=r[f+1],g=r[f+2],y=r[f+3];s[o++]=d,s[o++]=m,s[o++]=g,a[c++]=y}var E=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:E,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},mn.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},C0=mn.API,ny=C0.getCharWidthsArray=function(t,e){var n,r,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),a=e.charSpace||this.internal.getCharSpace(),o=e.widths?e.widths:i.metadata.Unicode.widths,c=o.fof?o.fof:1,f=e.kerning?e.kerning:i.metadata.Unicode.kerning,d=f.fof?f.fof:1,m=e.doKerning!==!1,g=0,y=t.length,E=0,_=o[0]||c,A=[];for(n=0;n<y;n++)r=t.charCodeAt(n),typeof i.metadata.widthOfString=="function"?A.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+a*(1e3/s)||0)/1e3):(g=m&&Ur(f[r])==="object"&&!isNaN(parseInt(f[r][E],10))?f[r][E]/d:0,A.push((o[r]||_)/c+g)),E=r;return A},wR=C0.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return C0.processArabic&&(t=C0.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,i)/n:ny.apply(this,arguments).reduce(function(s,a){return s+a},0)},TR=function(t,e,n,r){for(var i=[],s=0,a=t.length,o=0;s!==a&&o+e[s]<n;)o+=e[s],s++;i.push(t.slice(0,s));var c=s;for(o=0;s!==a;)o+e[s]>r&&(i.push(t.slice(c,s)),o=0,c=s),o+=e[s],s++;return c!==s&&i.push(t.slice(c,s)),i},ER=function(t,e,n){n||(n={});var r,i,s,a,o,c,f,d=[],m=[d],g=n.textIndent||0,y=0,E=0,_=t.split(" "),A=ny.apply(this,[" ",n])[0];if(c=n.lineIndent===-1?_[0].length+2:n.lineIndent||0){var C=Array(c).join(" "),V=[];_.map(function(F){(F=F.split(/\s*\n/)).length>1?V=V.concat(F.map(function(z,W){return(W&&z.length?`
`:"")+z})):V.push(F[0])}),_=V,c=wR.apply(this,[C,n])}for(s=0,a=_.length;s<a;s++){var R=0;if(r=_[s],c&&r[0]==`
`&&(r=r.substr(1),R=1),g+y+(E=(i=ny.apply(this,[r,n])).reduce(function(F,z){return F+z},0))>e||R){if(E>e){for(o=TR.apply(this,[r,i,e-(g+y),e]),d.push(o.shift()),d=[o.pop()];o.length;)m.push([o.shift()]);E=i.slice(r.length-(d[0]?d[0].length:0)).reduce(function(F,z){return F+z},0)}else d=[r];m.push(d),g=E+c,y=A}else d.push(r),g+=y+E,y=A}return f=c?function(F,z){return(z?C:"")+F.join(" ")}:function(F){return F.join(" ")},m.map(f)},C0.splitTextToSize=function(t,e,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),s=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var m=this.internal.getFont(d.fontName,d.fontStyle),g="Unicode";return m.metadata[g]?{widths:m.metadata[g].widths||{0:1},kerning:m.metadata[g].kerning||{}}:{font:m.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var a=1*this.internal.scaleFactor*e/i;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=n.lineIndent;var o,c,f=[];for(o=0,c=r.length;o<c;o++)f=f.concat(ER.apply(this,[r[o],a,s]));return f},(function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",n="klmnopqrstuvwxyz",r={},i={},s=0;s<16;s++)r[n[s]]=e[s],i[e[s]]=n[s];var a=function(g){return"0x"+parseInt(g,10).toString(16)},o=t.__fontmetrics__.compress=function(g){var y,E,_,A,C=["{"];for(var V in g){if(y=g[V],isNaN(parseInt(V,10))?E="'"+V+"'":(V=parseInt(V,10),E=(E=a(V).slice(2)).slice(0,-1)+i[E.slice(-1)]),typeof y=="number")y<0?(_=a(y).slice(3),A="-"):(_=a(y).slice(2),A=""),_=A+_.slice(0,-1)+i[_.slice(-1)];else{if(Ur(y)!=="object")throw new Error("Don't know what to do with value type "+Ur(y)+".");_=o(y)}C.push(E+_)}return C.push("}"),C.join("")},c=t.__fontmetrics__.uncompress=function(g){if(typeof g!="string")throw new Error("Invalid argument passed to uncompress.");for(var y,E,_,A,C={},V=1,R=C,F=[],z="",W="",D=g.length-1,L=1;L<D;L+=1)(A=g[L])=="'"?y?(_=y.join(""),y=void 0):y=[]:y?y.push(A):A=="{"?(F.push([R,_]),R={},_=void 0):A=="}"?((E=F.pop())[0][E[1]]=R,_=void 0,R=E[0]):A=="-"?V=-1:_===void 0?r.hasOwnProperty(A)?(z+=r[A],_=parseInt(z,16)*V,V=1,z=""):z+=A:r.hasOwnProperty(A)?(W+=r[A],R[_]=parseInt(W,16)*V,V=1,_=void 0,W=""):W+=A;return C},f={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:f,"Courier-Bold":f,"Courier-BoldOblique":f,"Courier-Oblique":f,Helvetica:f,"Helvetica-Bold":f,"Helvetica-BoldOblique":f,"Helvetica-Oblique":f,"Times-Roman":f,"Times-Bold":f,"Times-BoldItalic":f,"Times-Italic":f}},m={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(g){var y=g.font,E=m.Unicode[y.postScriptName];E&&(y.metadata.Unicode={},y.metadata.Unicode.widths=E.widths,y.metadata.Unicode.kerning=E.kerning);var _=d.Unicode[y.postScriptName];_&&(y.metadata.Unicode.encoding=_,y.encoding=_.codePages[0])}])})(mn.API),(function(t){var e=function(n){for(var r=n.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=n.charCodeAt(s);return i};t.API.events.push(["addFont",function(n){var r=void 0,i=n.font,s=n.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(a,o){o=/^\x00\x01\x00\x00/.test(o)?e(o):e(Uy(o)),a.metadata=t.API.TTFFont.open(o),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(i,r)}}])})(mn),mn.API.addSvgAsImage=function(t,e,n,r,i,s,a,o){if(isNaN(e)||isNaN(n))throw si.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(i))throw si.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=r,c.height=i;var f=c.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,c.width,c.height);var d={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},m=this;return(Mn.canvg?Promise.resolve(Mn.canvg):op(()=>import("./index.es-CAnFVLfx.js"),[],import.meta.url)).catch(function(g){return Promise.reject(new Error("Could not load canvg: "+g))}).then(function(g){return g.default?g.default:g}).then(function(g){return g.fromString(f,t,d)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(g){return g.render(d)}).then(function(){m.addImage(c.toDataURL("image/jpeg",1),e,n,r,i,a,o)})},mn.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,n);return this},mn.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,i,s,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(a),c=[],f=0,d=0,m=0;function g(E,_){var A,C=!1;for(A=0;A<E.length;A+=1)E[A]===_&&(C=!0);return C}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var y=o.length;for(m=0;m<y;m+=1)n[o[m]].value=n[o[m]].defaultValue,n[o[m]].explicitSet=!1}if(Ur(t)==="object"){for(i in t)if(s=t[i],g(o,i)&&s!==void 0){if(n[i].type==="boolean"&&typeof s=="boolean")n[i].value=s;else if(n[i].type==="name"&&g(n[i].valueSet,s))n[i].value=s;else if(n[i].type==="integer"&&Number.isInteger(s))n[i].value=s;else if(n[i].type==="array"){for(f=0;f<s.length;f+=1)if(r=!0,s[f].length===1&&typeof s[f][0]=="number")c.push(String(s[f]-1));else if(s[f].length>1){for(d=0;d<s[f].length;d+=1)typeof s[f][d]!="number"&&(r=!1);r===!0&&c.push([s[f][0]-1,s[f][1]-1].join(" "))}n[i].value="["+c.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var E,_=[];for(E in n)n[E].explicitSet===!0&&(n[E].type==="name"?_.push("/"+E+" /"+n[E].value):_.push("/"+E+" "+n[E].value));_.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+_.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},(function(t){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),f=s.length+a.length+o.length+i.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+f+" >>"),this.internal.write("stream"),this.internal.write(i+s+a+o+c),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}})(mn.API),(function(t){var e=t.API,n=e.pdfEscape16=function(s,a){for(var o,c=a.metadata.Unicode.widths,f=["","0","00","000","0000"],d=[""],m=0,g=s.length;m<g;++m){if(o=a.metadata.characterToGlyph(s.charCodeAt(m)),a.metadata.glyIdsUsed.push(o),a.metadata.toUnicode[o]=s.charCodeAt(m),c.indexOf(o)==-1&&(c.push(o),c.push([parseInt(a.metadata.widthOfGlyph(o),10)])),o=="0")return d.join("");o=o.toString(16),d.push(f[4-o.length],o)}return d.join("")},r=function(s){var a,o,c,f,d,m,g;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],m=0,g=(o=Object.keys(s).sort(function(y,E){return y-E})).length;m<g;m++)a=o[m],c.length>=100&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),s[a]!==void 0&&s[a]!==null&&typeof s[a].toString=="function"&&(f=("0000"+s[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),c.push("<"+a+"><"+f+">"));return c.length&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),d+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(a){var o=a.font,c=a.out,f=a.newObject,d=a.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="Identity-H"){for(var m=o.metadata.Unicode.widths,g=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),y="",E=0;E<g.length;E++)y+=String.fromCharCode(g[E]);var _=f();d({data:y,addLength1:!0,objectId:_}),c("endobj");var A=f();d({data:r(o.metadata.toUnicode),addLength1:!0,objectId:A}),c("endobj");var C=f();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+B0(o.fontName)),c("/FontFile2 "+_+" 0 R"),c("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),c("/Flags "+o.metadata.flags),c("/StemV "+o.metadata.stemV),c("/ItalicAngle "+o.metadata.italicAngle),c("/Ascent "+o.metadata.ascender),c("/Descent "+o.metadata.decender),c("/CapHeight "+o.metadata.capHeight),c(">>"),c("endobj");var V=f();c("<<"),c("/Type /Font"),c("/BaseFont /"+B0(o.fontName)),c("/FontDescriptor "+C+" 0 R"),c("/W "+t.API.PDFObject.convert(m)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+o.encoding+")"),c(">>"),c(">>"),c("endobj"),o.objectNumber=f(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+A+" 0 R"),c("/BaseFont /"+B0(o.fontName)),c("/Encoding /"+o.encoding),c("/DescendantFonts ["+V+" 0 R]"),c(">>"),c("endobj"),o.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(a){var o=a.font,c=a.out,f=a.newObject,d=a.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var m=o.metadata.rawData,g="",y=0;y<m.length;y++)g+=String.fromCharCode(m[y]);var E=f();d({data:g,addLength1:!0,objectId:E}),c("endobj");var _=f();d({data:r(o.metadata.toUnicode),addLength1:!0,objectId:_}),c("endobj");var A=f();c("<<"),c("/Descent "+o.metadata.decender),c("/CapHeight "+o.metadata.capHeight),c("/StemV "+o.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+E+" 0 R"),c("/Flags 96"),c("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),c("/FontName /"+B0(o.fontName)),c("/ItalicAngle "+o.metadata.italicAngle),c("/Ascent "+o.metadata.ascender),c(">>"),c("endobj"),o.objectNumber=f();for(var C=0;C<o.metadata.hmtx.widths.length;C++)o.metadata.hmtx.widths[C]=parseInt(o.metadata.hmtx.widths[C]*(1e3/o.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+_+" 0 R/BaseFont/"+B0(o.fontName)+"/FontDescriptor "+A+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),c("endobj"),o.isAlreadyPutted=!0}})(s)}]);var i=function(s){var a,o=s.text||"",c=s.x,f=s.y,d=s.options||{},m=s.mutex||{},g=m.pdfEscape,y=m.activeFontKey,E=m.fonts,_=y,A="",C=0,V="",R=E[_].encoding;if(E[_].encoding!=="Identity-H")return{text:o,x:c,y:f,options:d,mutex:m};for(V=o,_=y,Array.isArray(o)&&(V=o[0]),C=0;C<V.length;C+=1)E[_].metadata.hasOwnProperty("cmap")&&(a=E[_].metadata.cmap.unicode.codeMap[V[C].charCodeAt(0)]),a||V[C].charCodeAt(0)<256&&E[_].metadata.hasOwnProperty("Unicode")?A+=V[C]:A+="";var F="";return parseInt(_.slice(1))<14||R==="WinAnsiEncoding"?F=g(A,_).split("").map(function(z){return z.charCodeAt(0).toString(16)}).join(""):R==="Identity-H"&&(F=n(A,E[_])),m.isHex=!0,{text:F,x:c,y:f,options:d,mutex:m}};e.events.push(["postProcessText",function(s){var a=s.text||"",o=[],c={text:a,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(a)){var f=0;for(f=0;f<a.length;f+=1)Array.isArray(a[f])&&a[f].length===3?o.push([i(Object.assign({},c,{text:a[f][0]})).text,a[f][1],a[f][2]]):o.push(i(Object.assign({},c,{text:a[f]})).text);s.text=o}else s.text=i(Object.assign({},c,{text:a})).text}])})(mn),(function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}})(mn.API),(function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var i,s,a,o,c,f,d,m=e,g=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],y=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],E={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},_={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},A=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],C=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),V=!1,R=0;this.__bidiEngine__={};var F=function(P){var M=P.charCodeAt(),j=M>>8,ae=_[j];return ae!==void 0?m[256*ae+(255&M)]:j===252||j===253?"AL":C.test(j)?"L":j===8?"R":"N"},z=function(P){for(var M,j=0;j<P.length;j++){if((M=F(P.charAt(j)))==="L")return!1;if(M==="R")return!0}return!1},W=function(P,M,j,ae){var Ae,fe,xe,Ne,me=M[ae];switch(me){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":V=!1;break;case"N":case"AN":break;case"EN":V&&(me="AN");break;case"AL":V=!0,me="R";break;case"WS":case"BN":me="N";break;case"CS":ae<1||ae+1>=M.length||(Ae=j[ae-1])!=="EN"&&Ae!=="AN"||(fe=M[ae+1])!=="EN"&&fe!=="AN"?me="N":V&&(fe="AN"),me=fe===Ae?fe:"N";break;case"ES":me=(Ae=ae>0?j[ae-1]:"B")==="EN"&&ae+1<M.length&&M[ae+1]==="EN"?"EN":"N";break;case"ET":if(ae>0&&j[ae-1]==="EN"){me="EN";break}if(V){me="N";break}for(xe=ae+1,Ne=M.length;xe<Ne&&M[xe]==="ET";)xe++;me=xe<Ne&&M[xe]==="EN"?"EN":"N";break;case"NSM":if(a&&!o){for(Ne=M.length,xe=ae+1;xe<Ne&&M[xe]==="NSM";)xe++;if(xe<Ne){var Re=P[ae],re=Re>=1425&&Re<=2303||Re===64286;if(Ae=M[xe],re&&(Ae==="R"||Ae==="AL")){me="R";break}}}me=ae<1||(Ae=M[ae-1])==="B"?"N":j[ae-1];break;case"B":V=!1,i=!0,me=R;break;case"S":s=!0,me="N"}return me},D=function(P,M,j){var ae=P.split("");return j&&L(ae,j,{hiLevel:R}),ae.reverse(),M&&M.reverse(),ae.join("")},L=function(P,M,j){var ae,Ae,fe,xe,Ne,me=-1,Re=P.length,re=0,B=[],Y=R?y:g,X=[];for(V=!1,i=!1,s=!1,Ae=0;Ae<Re;Ae++)X[Ae]=F(P[Ae]);for(fe=0;fe<Re;fe++){if(Ne=re,B[fe]=W(P,X,B,fe),ae=240&(re=Y[Ne][E[B[fe]]]),re&=15,M[fe]=xe=Y[re][5],ae>0)if(ae===16){for(Ae=me;Ae<fe;Ae++)M[Ae]=1;me=-1}else me=-1;if(Y[re][6])me===-1&&(me=fe);else if(me>-1){for(Ae=me;Ae<fe;Ae++)M[Ae]=xe;me=-1}X[fe]==="B"&&(M[fe]=0),j.hiLevel|=xe}s&&(function(Q,ce,_e){for(var Pe=0;Pe<_e;Pe++)if(Q[Pe]==="S"){ce[Pe]=R;for(var Z=Pe-1;Z>=0&&Q[Z]==="WS";Z--)ce[Z]=R}})(X,M,Re)},k=function(P,M,j,ae,Ae){if(!(Ae.hiLevel<P)){if(P===1&&R===1&&!i)return M.reverse(),void(j&&j.reverse());for(var fe,xe,Ne,me,Re=M.length,re=0;re<Re;){if(ae[re]>=P){for(Ne=re+1;Ne<Re&&ae[Ne]>=P;)Ne++;for(me=re,xe=Ne-1;me<xe;me++,xe--)fe=M[me],M[me]=M[xe],M[xe]=fe,j&&(fe=j[me],j[me]=j[xe],j[xe]=fe);re=Ne}re++}}},q=function(P,M,j){var ae=P.split(""),Ae={hiLevel:R};return j||(j=[]),L(ae,j,Ae),(function(fe,xe,Ne){if(Ne.hiLevel!==0&&d)for(var me,Re=0;Re<fe.length;Re++)xe[Re]===1&&(me=A.indexOf(fe[Re]))>=0&&(fe[Re]=A[me+1])})(ae,j,Ae),k(2,ae,M,j,Ae),k(1,ae,M,j,Ae),ae.join("")};return this.__bidiEngine__.doBidiReorder=function(P,M,j){if((function(Ae,fe){if(fe)for(var xe=0;xe<Ae.length;xe++)fe[xe]=xe;o===void 0&&(o=z(Ae)),f===void 0&&(f=z(Ae))})(P,M),a||!c||f)if(a&&c&&o^f)R=o?1:0,P=D(P,M,j);else if(!a&&c&&f)R=o?1:0,P=q(P,M,j),P=D(P,M);else if(!a||o||c||f){if(a&&!c&&o^f)P=D(P,M),o?(R=0,P=q(P,M,j)):(R=1,P=q(P,M,j),P=D(P,M));else if(a&&o&&!c&&f)R=1,P=q(P,M,j),P=D(P,M);else if(!a&&!c&&o^f){var ae=d;o?(R=1,P=q(P,M,j),R=0,d=!1,P=q(P,M,j),d=ae):(R=0,P=q(P,M,j),P=D(P,M),R=1,d=!1,P=q(P,M,j),d=ae,P=D(P,M))}}else R=0,P=q(P,M,j);else R=o?1:0,P=q(P,M,j);return P},this.__bidiEngine__.setOptions=function(P){P&&(a=P.isInputVisual,c=P.isOutputVisual,o=P.isInputRtl,f=P.isOutputRtl,d=P.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var s=r.options||{};r.mutex,s.lang;var a=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,n.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var o=0;for(a=[],o=0;o<i.length;o+=1)Object.prototype.toString.call(i[o])==="[object Array]"?a.push([n.doBidiReorder(i[o][0]),i[o][1],i[o][2]]):a.push([n.doBidiReorder(i[o])]);r.text=a}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])})(mn),mn.API.TTFFont=(function(){function t(e){var n;if(this.rawData=e,n=this.contents=new rd(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new pue(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new eue(this.contents),this.head=new nue(this),this.name=new oue(this),this.cmap=new QO(this),this.toUnicode={},this.hhea=new rue(this),this.maxp=new lue(this),this.hmtx=new cue(this),this.post=new sue(this),this.os2=new iue(this),this.loca=new hue(this),this.glyf=new uue(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,o,c,f;for(f=[],a=0,o=(c=this.bbox).length;a<o;a++)e=c[a],f.push(Math.round(e*this.scaleFactor));return f}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var i,s,a,o;for(a=0,s=0,o=(e=""+e).length;0<=o?s<o:s>o;s=0<=o?++s:--s)i=e.charCodeAt(s),a+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return a*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t})();var nc,rd=(function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,i;for(i=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(e.charCodeAt(n)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,i,s,a,o,c;return e=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),a=this.readByte(),o=this.readByte(),c=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^a)+256*(255^o)+(255^c)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*i+16777216*s+65536*a+256*o+c},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,i,s;for(s=[],r=0,i=e.length;r<i;r++)n=e[r],s.push(this.writeByte(n));return s},t})(),eue=(function(){var t;function e(n){var r,i,s;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,i,s,a,o,c,f,d,m,g,y,E,_;for(_ in y=Object.keys(n).length,c=Math.log(2),m=16*Math.floor(Math.log(y)/c),a=Math.floor(m/c),d=16*y-m,(i=new rd).writeInt(this.scalarType),i.writeShort(y),i.writeShort(m),i.writeShort(a),i.writeShort(d),s=16*y,f=i.pos+s,o=null,E=[],n)for(g=n[_],i.writeString(_),i.writeInt(t(g)),i.writeInt(f),i.writeInt(g.length),E=E.concat(g),_==="head"&&(o=f),f+=g.length;f%4;)E.push(0),f++;return i.write(E),r=2981146554-t(i.data),i.pos=o+8,i.writeUInt32(r),i.data},t=function(n){var r,i,s,a;for(n=ZO.call(n);n.length%4;)n.push(0);for(s=new rd(n),i=0,r=0,a=n.length;r<a;r=r+=4)i+=s.readUInt32();return 4294967295&i},e})(),tue={}.hasOwnProperty,zc=function(t,e){for(var n in e)tue.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};nc=(function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t})();var nue=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return zc(t,nc),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var n;return(n=new rd).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(e),n.writeShort(this.glyphDataFormat),n.data},t})(),DR=(function(){function t(e,n){var r,i,s,a,o,c,f,d,m,g,y,E,_,A,C,V,R;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),m=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=e.readByte();break;case 4:for(y=e.readUInt16(),g=y/2,e.pos+=6,s=(function(){var F,z;for(z=[],c=F=0;0<=g?F<g:F>g;c=0<=g?++F:--F)z.push(e.readUInt16());return z})(),e.pos+=2,_=(function(){var F,z;for(z=[],c=F=0;0<=g?F<g:F>g;c=0<=g?++F:--F)z.push(e.readUInt16());return z})(),f=(function(){var F,z;for(z=[],c=F=0;0<=g?F<g:F>g;c=0<=g?++F:--F)z.push(e.readUInt16());return z})(),d=(function(){var F,z;for(z=[],c=F=0;0<=g?F<g:F>g;c=0<=g?++F:--F)z.push(e.readUInt16());return z})(),i=(this.length-e.pos+this.offset)/2,o=(function(){var F,z;for(z=[],c=F=0;0<=i?F<i:F>i;c=0<=i?++F:--F)z.push(e.readUInt16());return z})(),c=C=0,R=s.length;C<R;c=++C)for(A=s[c],r=V=E=_[c];E<=A?V<=A:V>=A;r=E<=A?++V:--V)d[c]===0?a=r+f[c]:(a=o[d[c]/2+(r-E)-(g-c)]||0)!==0&&(a+=f[c]),this.codeMap[r]=65535&a}e.pos=m}return t.encode=function(e,n){var r,i,s,a,o,c,f,d,m,g,y,E,_,A,C,V,R,F,z,W,D,L,k,q,P,M,j,ae,Ae,fe,xe,Ne,me,Re,re,B,Y,X,Q,ce,_e,Pe,Z,Ce,qe,ee;switch(ae=new rd,a=Object.keys(e).sort(function(Ie,Ye){return Ie-Ye}),n){case"macroman":for(_=0,A=(function(){var Ie=[];for(E=0;E<256;++E)Ie.push(0);return Ie})(),V={0:0},s={},Ae=0,me=a.length;Ae<me;Ae++)V[Z=e[i=a[Ae]]]==null&&(V[Z]=++_),s[i]={old:e[i],new:V[e[i]]},A[i]=V[e[i]];return ae.writeUInt16(1),ae.writeUInt16(0),ae.writeUInt32(12),ae.writeUInt16(0),ae.writeUInt16(262),ae.writeUInt16(0),ae.write(A),{charMap:s,subtable:ae.data,maxGlyphID:_+1};case"unicode":for(M=[],m=[],R=0,V={},r={},C=f=null,fe=0,Re=a.length;fe<Re;fe++)V[z=e[i=a[fe]]]==null&&(V[z]=++R),r[i]={old:z,new:V[z]},o=V[z]-i,C!=null&&o===f||(C&&m.push(C),M.push(i),f=o),C=i;for(C&&m.push(C),m.push(65535),M.push(65535),q=2*(k=M.length),L=2*Math.pow(Math.log(k)/Math.LN2,2),g=Math.log(L/2)/Math.LN2,D=2*k-L,c=[],W=[],y=[],E=xe=0,re=M.length;xe<re;E=++xe){if(P=M[E],d=m[E],P===65535){c.push(0),W.push(0);break}if(P-(j=r[P].new)>=32768)for(c.push(0),W.push(2*(y.length+k-E)),i=Ne=P;P<=d?Ne<=d:Ne>=d;i=P<=d?++Ne:--Ne)y.push(r[i].new);else c.push(j-P),W.push(0)}for(ae.writeUInt16(3),ae.writeUInt16(1),ae.writeUInt32(12),ae.writeUInt16(4),ae.writeUInt16(16+8*k+2*y.length),ae.writeUInt16(0),ae.writeUInt16(q),ae.writeUInt16(L),ae.writeUInt16(g),ae.writeUInt16(D),_e=0,B=m.length;_e<B;_e++)i=m[_e],ae.writeUInt16(i);for(ae.writeUInt16(0),Pe=0,Y=M.length;Pe<Y;Pe++)i=M[Pe],ae.writeUInt16(i);for(Ce=0,X=c.length;Ce<X;Ce++)o=c[Ce],ae.writeUInt16(o);for(qe=0,Q=W.length;qe<Q;qe++)F=W[qe],ae.writeUInt16(F);for(ee=0,ce=y.length;ee<ce;ee++)_=y[ee],ae.writeUInt16(_);return{charMap:r,subtable:ae.data,maxGlyphID:R+1}}},t})(),QO=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return zc(t,nc),t.prototype.tag="cmap",t.prototype.parse=function(e){var n,r,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=i?r<i:r>i;r=0<=i?++r:--r)n=new DR(e,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(e,n){var r,i;return n==null&&(n="macroman"),r=DR.encode(e,n),(i=new rd).writeUInt16(0),i.writeUInt16(1),r.table=i.data.concat(r.subtable),r},t})(),rue=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return zc(t,nc),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t})(),iue=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return zc(t,nc),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var n,r;for(r=[],n=0;n<10;++n)r.push(e.readByte());return r})(),this.charRange=(function(){var n,r;for(r=[],n=0;n<4;++n)r.push(e.readInt());return r})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var n,r;for(r=[],n=0;n<2;n=++n)r.push(e.readInt());return r})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t})(),sue=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return zc(t,nc),t.prototype.tag="post",t.prototype.parse=function(e){var n,r,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(r=e.readUInt16(),this.glyphNameIndex=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)n=e.readByte(),i.push(this.names.push(e.readString(n)));return i;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=(function(){var a,o,c;for(c=[],s=a=0,o=this.file.maxp.numGlyphs;0<=o?a<o:a>o;s=0<=o?++a:--a)c.push(e.readUInt32());return c}).call(this)}},t})(),aue=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},oue=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return zc(t,nc),t.prototype.tag="name",t.prototype.parse=function(e){var n,r,i,s,a,o,c,f,d,m,g;for(e.pos=this.offset,e.readShort(),n=e.readShort(),o=e.readShort(),r=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+o+e.readShort()});for(c={},s=d=0,m=r.length;d<m;s=++d)i=r[s],e.pos=i.offset,f=e.readString(i.length),a=new aue(f,i),c[g=i.nameID]==null&&(c[g]=[]),c[i.nameID].push(a);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},t})(),lue=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return zc(t,nc),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t})(),cue=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return zc(t,nc),t.prototype.tag="hmtx",t.prototype.parse=function(e){var n,r,i,s,a,o,c;for(e.pos=this.offset,this.metrics=[],n=0,o=this.file.hhea.numberOfMetrics;0<=o?n<o:n>o;n=0<=o?++n:--n)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var f,d;for(d=[],n=f=0;0<=i?f<i:f>i;n=0<=i?++f:--f)d.push(e.readInt16());return d})(),this.widths=(function(){var f,d,m,g;for(g=[],f=0,d=(m=this.metrics).length;f<d;f++)s=m[f],g.push(s.advance);return g}).call(this),r=this.widths[this.widths.length-1],c=[],n=a=0;0<=i?a<i:a>i;n=0<=i?++a:--a)c.push(this.widths.push(r));return c},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t})(),ZO=[].slice,uue=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return zc(t,nc),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var n,r,i,s,a,o,c,f,d,m;return e in this.cache?this.cache[e]:(s=this.file.loca,n=this.file.contents,r=s.indexOf(e),(i=s.lengthOf(e))===0?this.cache[e]=null:(n.pos=this.offset+r,a=(o=new rd(n.read(i))).readShort(),f=o.readShort(),m=o.readShort(),c=o.readShort(),d=o.readShort(),this.cache[e]=a===-1?new due(o,f,m,c,d):new fue(o,a,f,m,c,d),this.cache[e]))},t.prototype.encode=function(e,n,r){var i,s,a,o,c;for(a=[],s=[],o=0,c=n.length;o<c;o++)i=e[n[o]],s.push(a.length),i&&(a=a.concat(i.encode(r)));return s.push(a.length),{table:a,offsets:s}},t})(),fue=(function(){function t(e,n,r,i,s,a){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=a,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t})(),due=(function(){function t(e,n,r,i,s){var a,o;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;o=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&o;)a.pos+=1&o?4:2,128&o?a.pos+=8:64&o?a.pos+=4:8&o&&(a.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new rd(ZO.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t})(),hue=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return zc(t,nc),t.prototype.tag="loca",t.prototype.parse=function(e){var n,r;return e.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,s;for(s=[],r=0,i=this.length;r<i;r+=2)s.push(2*e.readUInt16());return s}).call(this):(function(){var i,s;for(s=[],r=0,i=this.length;r<i;r+=4)s.push(e.readUInt32());return s}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,n){for(var r=new Uint32Array(this.offsets.length),i=0,s=0,a=0;a<r.length;++a)if(r[a]=i,s<n.length&&n[s]==a){++s,r[a]=i;var o=this.offsets[a],c=this.offsets[a+1]-o;c>0&&(i+=c)}for(var f=new Array(4*r.length),d=0;d<r.length;++d)f[4*d+3]=255&r[d],f[4*d+2]=(65280&r[d])>>8,f[4*d+1]=(16711680&r[d])>>16,f[4*d]=(4278190080&r[d])>>24;return f},t})(),pue=(function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,i,s;for(n in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)r=s[n],e[n]=i[r];return e},t.prototype.glyphsFor=function(e){var n,r,i,s,a,o,c;for(i={},a=0,o=e.length;a<o;a++)i[s=e[a]]=this.font.glyf.glyphFor(s);for(s in n=[],i)(r=i[s])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(s in c=this.glyphsFor(n))r=c[s],i[s]=r;return i},t.prototype.encode=function(e,n){var r,i,s,a,o,c,f,d,m,g,y,E,_,A,C;for(i in r=QO.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(e),y={0:0},C=r.charMap)y[(c=C[i]).old]=c.new;for(E in g=r.maxGlyphID,a)E in y||(y[E]=g++);return d=(function(V){var R,F;for(R in F={},V)F[V[R]]=R;return F})(y),m=Object.keys(d).sort(function(V,R){return V-R}),_=(function(){var V,R,F;for(F=[],V=0,R=m.length;V<R;V++)o=m[V],F.push(d[o]);return F})(),s=this.font.glyf.encode(a,_,y),f=this.font.loca.encode(s.offsets,_),A={cmap:this.font.cmap.raw(),glyf:s.table,loca:f,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(A["OS/2"]=this.font.os2.raw()),this.font.directory.encode(A)},t})();mn.API.PDFObject=(function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,i,s,a;if(Array.isArray(n))return"["+(function(){var o,c,f;for(f=[],o=0,c=n.length;o<c;o++)r=n[o],f.push(e.convert(r));return f})().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n?.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in s=["<<"],n)a=n[i],s.push("/"+i+" "+e.convert(a));return s.push(">>"),s.join(`
`)}return""+n},e})();const e9=ke.createContext(void 0);function mue({children:t}){const{user:e}=D1(),[n,r]=ke.useState(null),[i,s]=ke.useState(!0),[a,o]=ke.useState(!1),c=async()=>{if(!e){r(null),s(!1);return}s(!0);try{o(!1);const d=await mee(K0(bu,"companies",e.uid));d.exists()?r(d.data()):r(null)}catch(d){console.error("Error fetching company:",d),d.code==="permission-denied"&&o(!0),r(null)}finally{s(!1)}};ke.useEffect(()=>{c()},[e]);const f=async d=>{if(e)try{await U5(K0(bu,"companies",e.uid),{...d,owner_uid:e.uid,owner_email:e.email,updated_at:bee()},{merge:!0}),await c()}catch(m){throw m.code==="permission-denied"?(o(!0),new Error("Permission denied. Please check Firestore Rules.")):m}};return p.jsx(e9.Provider,{value:{company:n,loading:i,permissionError:a,saveCompany:f,reloadCompany:c},children:t})}function Rh(){const t=ke.useContext(e9);if(t===void 0)throw new Error("useCompany must be used within a CompanyProvider");return t}function gue(t){t.CapacitorUtils.Synapse=new Proxy({},{get(e,n){return new Proxy({},{get(r,i){return(s,a,o)=>{const c=t.Capacitor.Plugins[n];if(c===void 0){o(new Error(`Capacitor plugin ${n} not found`));return}if(typeof c[i]!="function"){o(new Error(`Method ${i} not found in Capacitor plugin ${n}`));return}(async()=>{try{const f=await c[i](s);a(f)}catch(f){o(f)}})()}}})}})}function xue(t){t.CapacitorUtils.Synapse=new Proxy({},{get(e,n){return t.cordova.plugins[n]}})}function yue(t=!1){typeof window>"u"||(window.CapacitorUtils=window.CapacitorUtils||{},window.Capacitor!==void 0&&!t?gue(window):window.cordova!==void 0&&xue(window))}var D2;(function(t){t.Documents="DOCUMENTS",t.Data="DATA",t.Library="LIBRARY",t.Cache="CACHE",t.External="EXTERNAL",t.ExternalStorage="EXTERNAL_STORAGE",t.ExternalCache="EXTERNAL_CACHE",t.LibraryNoCloud="LIBRARY_NO_CLOUD",t.Temporary="TEMPORARY"})(D2||(D2={}));var MR;(function(t){t.UTF8="utf8",t.ASCII="ascii",t.UTF16="utf16"})(MR||(MR={}));const Gy=Kp("Filesystem",{web:()=>op(()=>import("./web-a-SELGha.js"),[],import.meta.url).then(t=>new t.FilesystemWeb)});yue();var I0={},tw,LR;function vue(){return LR||(LR=1,tw=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),tw}var nw={},kf={},FR;function Ph(){if(FR)return kf;FR=1;let t;const e=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return kf.getSymbolSize=function(r){if(!r)throw new Error('"version" cannot be null or undefined');if(r<1||r>40)throw new Error('"version" should be in range from 1 to 40');return r*4+17},kf.getSymbolTotalCodewords=function(r){return e[r]},kf.getBCHDigit=function(n){let r=0;for(;n!==0;)r++,n>>>=1;return r},kf.setToSJISFunction=function(r){if(typeof r!="function")throw new Error('"toSJISFunc" is not a valid function.');t=r},kf.isKanjiModeEnabled=function(){return typeof t<"u"},kf.toSJIS=function(r){return t(r)},kf}var rw={},OR;function wS(){return OR||(OR=1,(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+n)}}t.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},t.from=function(r,i){if(t.isValid(r))return r;try{return e(r)}catch{return i}}})(rw)),rw}var iw,BR;function bue(){if(BR)return iw;BR=1;function t(){this.buffer=[],this.length=0}return t.prototype={get:function(e){const n=Math.floor(e/8);return(this.buffer[n]>>>7-e%8&1)===1},put:function(e,n){for(let r=0;r<n;r++)this.putBit((e>>>n-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const n=Math.floor(this.length/8);this.buffer.length<=n&&this.buffer.push(0),e&&(this.buffer[n]|=128>>>this.length%8),this.length++}},iw=t,iw}var sw,VR;function _ue(){if(VR)return sw;VR=1;function t(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}return t.prototype.set=function(e,n,r,i){const s=e*this.size+n;this.data[s]=r,i&&(this.reservedBit[s]=!0)},t.prototype.get=function(e,n){return this.data[e*this.size+n]},t.prototype.xor=function(e,n,r){this.data[e*this.size+n]^=r},t.prototype.isReserved=function(e,n){return this.reservedBit[e*this.size+n]},sw=t,sw}var aw={},UR;function wue(){return UR||(UR=1,(function(t){const e=Ph().getSymbolSize;t.getRowColCoords=function(r){if(r===1)return[];const i=Math.floor(r/7)+2,s=e(r),a=s===145?26:Math.ceil((s-13)/(2*i-2))*2,o=[s-7];for(let c=1;c<i-1;c++)o[c]=o[c-1]-a;return o.push(6),o.reverse()},t.getPositions=function(r){const i=[],s=t.getRowColCoords(r),a=s.length;for(let o=0;o<a;o++)for(let c=0;c<a;c++)o===0&&c===0||o===0&&c===a-1||o===a-1&&c===0||i.push([s[o],s[c]]);return i}})(aw)),aw}var ow={},jR;function Tue(){if(jR)return ow;jR=1;const t=Ph().getSymbolSize,e=7;return ow.getPositions=function(r){const i=t(r);return[[0,0],[i-e,0],[0,i-e]]},ow}var lw={},qR;function Eue(){return qR||(qR=1,(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},t.from=function(i){return t.isValid(i)?parseInt(i,10):void 0},t.getPenaltyN1=function(i){const s=i.size;let a=0,o=0,c=0,f=null,d=null;for(let m=0;m<s;m++){o=c=0,f=d=null;for(let g=0;g<s;g++){let y=i.get(m,g);y===f?o++:(o>=5&&(a+=e.N1+(o-5)),f=y,o=1),y=i.get(g,m),y===d?c++:(c>=5&&(a+=e.N1+(c-5)),d=y,c=1)}o>=5&&(a+=e.N1+(o-5)),c>=5&&(a+=e.N1+(c-5))}return a},t.getPenaltyN2=function(i){const s=i.size;let a=0;for(let o=0;o<s-1;o++)for(let c=0;c<s-1;c++){const f=i.get(o,c)+i.get(o,c+1)+i.get(o+1,c)+i.get(o+1,c+1);(f===4||f===0)&&a++}return a*e.N2},t.getPenaltyN3=function(i){const s=i.size;let a=0,o=0,c=0;for(let f=0;f<s;f++){o=c=0;for(let d=0;d<s;d++)o=o<<1&2047|i.get(f,d),d>=10&&(o===1488||o===93)&&a++,c=c<<1&2047|i.get(d,f),d>=10&&(c===1488||c===93)&&a++}return a*e.N3},t.getPenaltyN4=function(i){let s=0;const a=i.data.length;for(let c=0;c<a;c++)s+=i.data[c];return Math.abs(Math.ceil(s*100/a/5)-10)*e.N4};function n(r,i,s){switch(r){case t.Patterns.PATTERN000:return(i+s)%2===0;case t.Patterns.PATTERN001:return i%2===0;case t.Patterns.PATTERN010:return s%3===0;case t.Patterns.PATTERN011:return(i+s)%3===0;case t.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(s/3))%2===0;case t.Patterns.PATTERN101:return i*s%2+i*s%3===0;case t.Patterns.PATTERN110:return(i*s%2+i*s%3)%2===0;case t.Patterns.PATTERN111:return(i*s%3+(i+s)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}t.applyMask=function(i,s){const a=s.size;for(let o=0;o<a;o++)for(let c=0;c<a;c++)s.isReserved(c,o)||s.xor(c,o,n(i,c,o))},t.getBestMask=function(i,s){const a=Object.keys(t.Patterns).length;let o=0,c=1/0;for(let f=0;f<a;f++){s(f),t.applyMask(f,i);const d=t.getPenaltyN1(i)+t.getPenaltyN2(i)+t.getPenaltyN3(i)+t.getPenaltyN4(i);t.applyMask(f,i),d<c&&(c=d,o=f)}return o}})(lw)),lw}var ry={},HR;function t9(){if(HR)return ry;HR=1;const t=wS(),e=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],n=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return ry.getBlocksCount=function(i,s){switch(s){case t.L:return e[(i-1)*4+0];case t.M:return e[(i-1)*4+1];case t.Q:return e[(i-1)*4+2];case t.H:return e[(i-1)*4+3];default:return}},ry.getTotalCodewordsCount=function(i,s){switch(s){case t.L:return n[(i-1)*4+0];case t.M:return n[(i-1)*4+1];case t.Q:return n[(i-1)*4+2];case t.H:return n[(i-1)*4+3];default:return}},ry}var cw={},Ym={},zR;function Sue(){if(zR)return Ym;zR=1;const t=new Uint8Array(512),e=new Uint8Array(256);return(function(){let r=1;for(let i=0;i<255;i++)t[i]=r,e[r]=i,r<<=1,r&256&&(r^=285);for(let i=255;i<512;i++)t[i]=t[i-255]})(),Ym.log=function(r){if(r<1)throw new Error("log("+r+")");return e[r]},Ym.exp=function(r){return t[r]},Ym.mul=function(r,i){return r===0||i===0?0:t[e[r]+e[i]]},Ym}var GR;function Aue(){return GR||(GR=1,(function(t){const e=Sue();t.mul=function(r,i){const s=new Uint8Array(r.length+i.length-1);for(let a=0;a<r.length;a++)for(let o=0;o<i.length;o++)s[a+o]^=e.mul(r[a],i[o]);return s},t.mod=function(r,i){let s=new Uint8Array(r);for(;s.length-i.length>=0;){const a=s[0];for(let c=0;c<i.length;c++)s[c]^=e.mul(i[c],a);let o=0;for(;o<s.length&&s[o]===0;)o++;s=s.slice(o)}return s},t.generateECPolynomial=function(r){let i=new Uint8Array([1]);for(let s=0;s<r;s++)i=t.mul(i,new Uint8Array([1,e.exp(s)]));return i}})(cw)),cw}var uw,WR;function Nue(){if(WR)return uw;WR=1;const t=Aue();function e(n){this.genPoly=void 0,this.degree=n,this.degree&&this.initialize(this.degree)}return e.prototype.initialize=function(r){this.degree=r,this.genPoly=t.generateECPolynomial(this.degree)},e.prototype.encode=function(r){if(!this.genPoly)throw new Error("Encoder not initialized");const i=new Uint8Array(r.length+this.degree);i.set(r);const s=t.mod(i,this.genPoly),a=this.degree-s.length;if(a>0){const o=new Uint8Array(this.degree);return o.set(s,a),o}return s},uw=e,uw}var fw={},dw={},hw={},$R;function n9(){return $R||($R=1,hw.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}),hw}var Tc={},KR;function r9(){if(KR)return Tc;KR=1;const t="[0-9]+",e="[A-Z $%*+\\-./:]+";let n="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";n=n.replace(/u/g,"\\u");const r="(?:(?![A-Z0-9 $%*+\\-./:]|"+n+`)(?:.|[\r
]))+`;Tc.KANJI=new RegExp(n,"g"),Tc.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),Tc.BYTE=new RegExp(r,"g"),Tc.NUMERIC=new RegExp(t,"g"),Tc.ALPHANUMERIC=new RegExp(e,"g");const i=new RegExp("^"+n+"$"),s=new RegExp("^"+t+"$"),a=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return Tc.testKanji=function(c){return i.test(c)},Tc.testNumeric=function(c){return s.test(c)},Tc.testAlphanumeric=function(c){return a.test(c)},Tc}var YR;function Dh(){return YR||(YR=1,(function(t){const e=n9(),n=r9();t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(s,a){if(!s.ccBits)throw new Error("Invalid mode: "+s);if(!e.isValid(a))throw new Error("Invalid version: "+a);return a>=1&&a<10?s.ccBits[0]:a<27?s.ccBits[1]:s.ccBits[2]},t.getBestModeForData=function(s){return n.testNumeric(s)?t.NUMERIC:n.testAlphanumeric(s)?t.ALPHANUMERIC:n.testKanji(s)?t.KANJI:t.BYTE},t.toString=function(s){if(s&&s.id)return s.id;throw new Error("Invalid mode")},t.isValid=function(s){return s&&s.bit&&s.ccBits};function r(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+i)}}t.from=function(s,a){if(t.isValid(s))return s;try{return r(s)}catch{return a}}})(dw)),dw}var XR;function Cue(){return XR||(XR=1,(function(t){const e=Ph(),n=t9(),r=wS(),i=Dh(),s=n9(),a=7973,o=e.getBCHDigit(a);function c(g,y,E){for(let _=1;_<=40;_++)if(y<=t.getCapacity(_,E,g))return _}function f(g,y){return i.getCharCountIndicator(g,y)+4}function d(g,y){let E=0;return g.forEach(function(_){const A=f(_.mode,y);E+=A+_.getBitsLength()}),E}function m(g,y){for(let E=1;E<=40;E++)if(d(g,E)<=t.getCapacity(E,y,i.MIXED))return E}t.from=function(y,E){return s.isValid(y)?parseInt(y,10):E},t.getCapacity=function(y,E,_){if(!s.isValid(y))throw new Error("Invalid QR Code version");typeof _>"u"&&(_=i.BYTE);const A=e.getSymbolTotalCodewords(y),C=n.getTotalCodewordsCount(y,E),V=(A-C)*8;if(_===i.MIXED)return V;const R=V-f(_,y);switch(_){case i.NUMERIC:return Math.floor(R/10*3);case i.ALPHANUMERIC:return Math.floor(R/11*2);case i.KANJI:return Math.floor(R/13);case i.BYTE:default:return Math.floor(R/8)}},t.getBestVersionForData=function(y,E){let _;const A=r.from(E,r.M);if(Array.isArray(y)){if(y.length>1)return m(y,A);if(y.length===0)return 1;_=y[0]}else _=y;return c(_.mode,_.getLength(),A)},t.getEncodedBits=function(y){if(!s.isValid(y)||y<7)throw new Error("Invalid QR Code version");let E=y<<12;for(;e.getBCHDigit(E)-o>=0;)E^=a<<e.getBCHDigit(E)-o;return y<<12|E}})(fw)),fw}var pw={},JR;function Iue(){if(JR)return pw;JR=1;const t=Ph(),e=1335,n=21522,r=t.getBCHDigit(e);return pw.getEncodedBits=function(s,a){const o=s.bit<<3|a;let c=o<<10;for(;t.getBCHDigit(c)-r>=0;)c^=e<<t.getBCHDigit(c)-r;return(o<<10|c)^n},pw}var mw={},gw,QR;function kue(){if(QR)return gw;QR=1;const t=Dh();function e(n){this.mode=t.NUMERIC,this.data=n.toString()}return e.getBitsLength=function(r){return 10*Math.floor(r/3)+(r%3?r%3*3+1:0)},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(r){let i,s,a;for(i=0;i+3<=this.data.length;i+=3)s=this.data.substr(i,3),a=parseInt(s,10),r.put(a,10);const o=this.data.length-i;o>0&&(s=this.data.substr(i),a=parseInt(s,10),r.put(a,o*3+1))},gw=e,gw}var xw,ZR;function Rue(){if(ZR)return xw;ZR=1;const t=Dh(),e=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function n(r){this.mode=t.ALPHANUMERIC,this.data=r}return n.getBitsLength=function(i){return 11*Math.floor(i/2)+6*(i%2)},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(i){let s;for(s=0;s+2<=this.data.length;s+=2){let a=e.indexOf(this.data[s])*45;a+=e.indexOf(this.data[s+1]),i.put(a,11)}this.data.length%2&&i.put(e.indexOf(this.data[s]),6)},xw=n,xw}var yw,eP;function Pue(){if(eP)return yw;eP=1;const t=Dh();function e(n){this.mode=t.BYTE,typeof n=="string"?this.data=new TextEncoder().encode(n):this.data=new Uint8Array(n)}return e.getBitsLength=function(r){return r*8},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(n){for(let r=0,i=this.data.length;r<i;r++)n.put(this.data[r],8)},yw=e,yw}var vw,tP;function Due(){if(tP)return vw;tP=1;const t=Dh(),e=Ph();function n(r){this.mode=t.KANJI,this.data=r}return n.getBitsLength=function(i){return i*13},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(r){let i;for(i=0;i<this.data.length;i++){let s=e.toSJIS(this.data[i]);if(s>=33088&&s<=40956)s-=33088;else if(s>=57408&&s<=60351)s-=49472;else throw new Error("Invalid SJIS character: "+this.data[i]+`
Make sure your charset is UTF-8`);s=(s>>>8&255)*192+(s&255),r.put(s,13)}},vw=n,vw}var bw={exports:{}},nP;function Mue(){return nP||(nP=1,(function(t){var e={single_source_shortest_paths:function(n,r,i){var s={},a={};a[r]=0;var o=e.PriorityQueue.make();o.push(r,0);for(var c,f,d,m,g,y,E,_,A;!o.empty();){c=o.pop(),f=c.value,m=c.cost,g=n[f]||{};for(d in g)g.hasOwnProperty(d)&&(y=g[d],E=m+y,_=a[d],A=typeof a[d]>"u",(A||_>E)&&(a[d]=E,o.push(d,E),s[d]=f))}if(typeof i<"u"&&typeof a[i]>"u"){var C=["Could not find a path from ",r," to ",i,"."].join("");throw new Error(C)}return s},extract_shortest_path_from_predecessor_list:function(n,r){for(var i=[],s=r;s;)i.push(s),n[s],s=n[s];return i.reverse(),i},find_path:function(n,r,i){var s=e.single_source_shortest_paths(n,r,i);return e.extract_shortest_path_from_predecessor_list(s,i)},PriorityQueue:{make:function(n){var r=e.PriorityQueue,i={},s;n=n||{};for(s in r)r.hasOwnProperty(s)&&(i[s]=r[s]);return i.queue=[],i.sorter=n.sorter||r.default_sorter,i},default_sorter:function(n,r){return n.cost-r.cost},push:function(n,r){var i={value:n,cost:r};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e})(bw)),bw.exports}var rP;function Lue(){return rP||(rP=1,(function(t){const e=Dh(),n=kue(),r=Rue(),i=Pue(),s=Due(),a=r9(),o=Ph(),c=Mue();function f(C){return unescape(encodeURIComponent(C)).length}function d(C,V,R){const F=[];let z;for(;(z=C.exec(R))!==null;)F.push({data:z[0],index:z.index,mode:V,length:z[0].length});return F}function m(C){const V=d(a.NUMERIC,e.NUMERIC,C),R=d(a.ALPHANUMERIC,e.ALPHANUMERIC,C);let F,z;return o.isKanjiModeEnabled()?(F=d(a.BYTE,e.BYTE,C),z=d(a.KANJI,e.KANJI,C)):(F=d(a.BYTE_KANJI,e.BYTE,C),z=[]),V.concat(R,F,z).sort(function(D,L){return D.index-L.index}).map(function(D){return{data:D.data,mode:D.mode,length:D.length}})}function g(C,V){switch(V){case e.NUMERIC:return n.getBitsLength(C);case e.ALPHANUMERIC:return r.getBitsLength(C);case e.KANJI:return s.getBitsLength(C);case e.BYTE:return i.getBitsLength(C)}}function y(C){return C.reduce(function(V,R){const F=V.length-1>=0?V[V.length-1]:null;return F&&F.mode===R.mode?(V[V.length-1].data+=R.data,V):(V.push(R),V)},[])}function E(C){const V=[];for(let R=0;R<C.length;R++){const F=C[R];switch(F.mode){case e.NUMERIC:V.push([F,{data:F.data,mode:e.ALPHANUMERIC,length:F.length},{data:F.data,mode:e.BYTE,length:F.length}]);break;case e.ALPHANUMERIC:V.push([F,{data:F.data,mode:e.BYTE,length:F.length}]);break;case e.KANJI:V.push([F,{data:F.data,mode:e.BYTE,length:f(F.data)}]);break;case e.BYTE:V.push([{data:F.data,mode:e.BYTE,length:f(F.data)}])}}return V}function _(C,V){const R={},F={start:{}};let z=["start"];for(let W=0;W<C.length;W++){const D=C[W],L=[];for(let k=0;k<D.length;k++){const q=D[k],P=""+W+k;L.push(P),R[P]={node:q,lastCount:0},F[P]={};for(let M=0;M<z.length;M++){const j=z[M];R[j]&&R[j].node.mode===q.mode?(F[j][P]=g(R[j].lastCount+q.length,q.mode)-g(R[j].lastCount,q.mode),R[j].lastCount+=q.length):(R[j]&&(R[j].lastCount=q.length),F[j][P]=g(q.length,q.mode)+4+e.getCharCountIndicator(q.mode,V))}}z=L}for(let W=0;W<z.length;W++)F[z[W]].end=0;return{map:F,table:R}}function A(C,V){let R;const F=e.getBestModeForData(C);if(R=e.from(V,F),R!==e.BYTE&&R.bit<F.bit)throw new Error('"'+C+'" cannot be encoded with mode '+e.toString(R)+`.
 Suggested mode is: `+e.toString(F));switch(R===e.KANJI&&!o.isKanjiModeEnabled()&&(R=e.BYTE),R){case e.NUMERIC:return new n(C);case e.ALPHANUMERIC:return new r(C);case e.KANJI:return new s(C);case e.BYTE:return new i(C)}}t.fromArray=function(V){return V.reduce(function(R,F){return typeof F=="string"?R.push(A(F,null)):F.data&&R.push(A(F.data,F.mode)),R},[])},t.fromString=function(V,R){const F=m(V,o.isKanjiModeEnabled()),z=E(F),W=_(z,R),D=c.find_path(W.map,"start","end"),L=[];for(let k=1;k<D.length-1;k++)L.push(W.table[D[k]].node);return t.fromArray(y(L))},t.rawSplit=function(V){return t.fromArray(m(V,o.isKanjiModeEnabled()))}})(mw)),mw}var iP;function Fue(){if(iP)return nw;iP=1;const t=Ph(),e=wS(),n=bue(),r=_ue(),i=wue(),s=Tue(),a=Eue(),o=t9(),c=Nue(),f=Cue(),d=Iue(),m=Dh(),g=Lue();function y(W,D){const L=W.size,k=s.getPositions(D);for(let q=0;q<k.length;q++){const P=k[q][0],M=k[q][1];for(let j=-1;j<=7;j++)if(!(P+j<=-1||L<=P+j))for(let ae=-1;ae<=7;ae++)M+ae<=-1||L<=M+ae||(j>=0&&j<=6&&(ae===0||ae===6)||ae>=0&&ae<=6&&(j===0||j===6)||j>=2&&j<=4&&ae>=2&&ae<=4?W.set(P+j,M+ae,!0,!0):W.set(P+j,M+ae,!1,!0))}}function E(W){const D=W.size;for(let L=8;L<D-8;L++){const k=L%2===0;W.set(L,6,k,!0),W.set(6,L,k,!0)}}function _(W,D){const L=i.getPositions(D);for(let k=0;k<L.length;k++){const q=L[k][0],P=L[k][1];for(let M=-2;M<=2;M++)for(let j=-2;j<=2;j++)M===-2||M===2||j===-2||j===2||M===0&&j===0?W.set(q+M,P+j,!0,!0):W.set(q+M,P+j,!1,!0)}}function A(W,D){const L=W.size,k=f.getEncodedBits(D);let q,P,M;for(let j=0;j<18;j++)q=Math.floor(j/3),P=j%3+L-8-3,M=(k>>j&1)===1,W.set(q,P,M,!0),W.set(P,q,M,!0)}function C(W,D,L){const k=W.size,q=d.getEncodedBits(D,L);let P,M;for(P=0;P<15;P++)M=(q>>P&1)===1,P<6?W.set(P,8,M,!0):P<8?W.set(P+1,8,M,!0):W.set(k-15+P,8,M,!0),P<8?W.set(8,k-P-1,M,!0):P<9?W.set(8,15-P-1+1,M,!0):W.set(8,15-P-1,M,!0);W.set(k-8,8,1,!0)}function V(W,D){const L=W.size;let k=-1,q=L-1,P=7,M=0;for(let j=L-1;j>0;j-=2)for(j===6&&j--;;){for(let ae=0;ae<2;ae++)if(!W.isReserved(q,j-ae)){let Ae=!1;M<D.length&&(Ae=(D[M]>>>P&1)===1),W.set(q,j-ae,Ae),P--,P===-1&&(M++,P=7)}if(q+=k,q<0||L<=q){q-=k,k=-k;break}}}function R(W,D,L){const k=new n;L.forEach(function(ae){k.put(ae.mode.bit,4),k.put(ae.getLength(),m.getCharCountIndicator(ae.mode,W)),ae.write(k)});const q=t.getSymbolTotalCodewords(W),P=o.getTotalCodewordsCount(W,D),M=(q-P)*8;for(k.getLengthInBits()+4<=M&&k.put(0,4);k.getLengthInBits()%8!==0;)k.putBit(0);const j=(M-k.getLengthInBits())/8;for(let ae=0;ae<j;ae++)k.put(ae%2?17:236,8);return F(k,W,D)}function F(W,D,L){const k=t.getSymbolTotalCodewords(D),q=o.getTotalCodewordsCount(D,L),P=k-q,M=o.getBlocksCount(D,L),j=k%M,ae=M-j,Ae=Math.floor(k/M),fe=Math.floor(P/M),xe=fe+1,Ne=Ae-fe,me=new c(Ne);let Re=0;const re=new Array(M),B=new Array(M);let Y=0;const X=new Uint8Array(W.buffer);for(let Z=0;Z<M;Z++){const Ce=Z<ae?fe:xe;re[Z]=X.slice(Re,Re+Ce),B[Z]=me.encode(re[Z]),Re+=Ce,Y=Math.max(Y,Ce)}const Q=new Uint8Array(k);let ce=0,_e,Pe;for(_e=0;_e<Y;_e++)for(Pe=0;Pe<M;Pe++)_e<re[Pe].length&&(Q[ce++]=re[Pe][_e]);for(_e=0;_e<Ne;_e++)for(Pe=0;Pe<M;Pe++)Q[ce++]=B[Pe][_e];return Q}function z(W,D,L,k){let q;if(Array.isArray(W))q=g.fromArray(W);else if(typeof W=="string"){let Ae=D;if(!Ae){const fe=g.rawSplit(W);Ae=f.getBestVersionForData(fe,L)}q=g.fromString(W,Ae||40)}else throw new Error("Invalid data");const P=f.getBestVersionForData(q,L);if(!P)throw new Error("The amount of data is too big to be stored in a QR Code");if(!D)D=P;else if(D<P)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+P+`.
`);const M=R(D,L,q),j=t.getSymbolSize(D),ae=new r(j);return y(ae,D),E(ae),_(ae,D),C(ae,L,0),D>=7&&A(ae,D),V(ae,M),isNaN(k)&&(k=a.getBestMask(ae,C.bind(null,ae,L))),a.applyMask(k,ae),C(ae,L,k),{modules:ae,version:D,errorCorrectionLevel:L,maskPattern:k,segments:q}}return nw.create=function(D,L){if(typeof D>"u"||D==="")throw new Error("No input text");let k=e.M,q,P;return typeof L<"u"&&(k=e.from(L.errorCorrectionLevel,e.M),q=f.from(L.version),P=a.from(L.maskPattern),L.toSJISFunc&&t.setToSJISFunction(L.toSJISFunc)),z(D,q,k,P)},nw}var _w={},ww={},sP;function i9(){return sP||(sP=1,(function(t){function e(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let r=n.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+n);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(s){return[s,s]}))),r.length===6&&r.push("F","F");const i=parseInt(r.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+r.slice(0,6).join("")}}t.getOptions=function(r){r||(r={}),r.color||(r.color={});const i=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,s=r.width&&r.width>=21?r.width:void 0,a=r.scale||4;return{width:s,scale:s?4:a,margin:i,color:{dark:e(r.color.dark||"#000000ff"),light:e(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},t.getScale=function(r,i){return i.width&&i.width>=r+i.margin*2?i.width/(r+i.margin*2):i.scale},t.getImageWidth=function(r,i){const s=t.getScale(r,i);return Math.floor((r+i.margin*2)*s)},t.qrToImageData=function(r,i,s){const a=i.modules.size,o=i.modules.data,c=t.getScale(a,s),f=Math.floor((a+s.margin*2)*c),d=s.margin*c,m=[s.color.light,s.color.dark];for(let g=0;g<f;g++)for(let y=0;y<f;y++){let E=(g*f+y)*4,_=s.color.light;if(g>=d&&y>=d&&g<f-d&&y<f-d){const A=Math.floor((g-d)/c),C=Math.floor((y-d)/c);_=m[o[A*a+C]?1:0]}r[E++]=_.r,r[E++]=_.g,r[E++]=_.b,r[E]=_.a}}})(ww)),ww}var aP;function Oue(){return aP||(aP=1,(function(t){const e=i9();function n(i,s,a){i.clearRect(0,0,s.width,s.height),s.style||(s.style={}),s.height=a,s.width=a,s.style.height=a+"px",s.style.width=a+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(s,a,o){let c=o,f=a;typeof c>"u"&&(!a||!a.getContext)&&(c=a,a=void 0),a||(f=r()),c=e.getOptions(c);const d=e.getImageWidth(s.modules.size,c),m=f.getContext("2d"),g=m.createImageData(d,d);return e.qrToImageData(g.data,s,c),n(m,f,d),m.putImageData(g,0,0),f},t.renderToDataURL=function(s,a,o){let c=o;typeof c>"u"&&(!a||!a.getContext)&&(c=a,a=void 0),c||(c={});const f=t.render(s,a,c),d=c.type||"image/png",m=c.rendererOpts||{};return f.toDataURL(d,m.quality)}})(_w)),_w}var Tw={},oP;function Bue(){if(oP)return Tw;oP=1;const t=i9();function e(i,s){const a=i.a/255,o=s+'="'+i.hex+'"';return a<1?o+" "+s+'-opacity="'+a.toFixed(2).slice(1)+'"':o}function n(i,s,a){let o=i+s;return typeof a<"u"&&(o+=" "+a),o}function r(i,s,a){let o="",c=0,f=!1,d=0;for(let m=0;m<i.length;m++){const g=Math.floor(m%s),y=Math.floor(m/s);!g&&!f&&(f=!0),i[m]?(d++,m>0&&g>0&&i[m-1]||(o+=f?n("M",g+a,.5+y+a):n("m",c,0),c=0,f=!1),g+1<s&&i[m+1]||(o+=n("h",d),d=0)):c++}return o}return Tw.render=function(s,a,o){const c=t.getOptions(a),f=s.modules.size,d=s.modules.data,m=f+c.margin*2,g=c.color.light.a?"<path "+e(c.color.light,"fill")+' d="M0 0h'+m+"v"+m+'H0z"/>':"",y="<path "+e(c.color.dark,"stroke")+' d="'+r(d,f,c.margin)+'"/>',E='viewBox="0 0 '+m+" "+m+'"',A='<svg xmlns="http://www.w3.org/2000/svg" '+(c.width?'width="'+c.width+'" height="'+c.width+'" ':"")+E+' shape-rendering="crispEdges">'+g+y+`</svg>
`;return typeof o=="function"&&o(null,A),A},Tw}var lP;function Vue(){if(lP)return I0;lP=1;const t=vue(),e=Fue(),n=Oue(),r=Bue();function i(s,a,o,c,f){const d=[].slice.call(arguments,1),m=d.length,g=typeof d[m-1]=="function";if(!g&&!t())throw new Error("Callback required as last argument");if(g){if(m<2)throw new Error("Too few arguments provided");m===2?(f=o,o=a,a=c=void 0):m===3&&(a.getContext&&typeof f>"u"?(f=c,c=void 0):(f=c,c=o,o=a,a=void 0))}else{if(m<1)throw new Error("Too few arguments provided");return m===1?(o=a,a=c=void 0):m===2&&!a.getContext&&(c=o,o=a,a=void 0),new Promise(function(y,E){try{const _=e.create(o,c);y(s(_,a,c))}catch(_){E(_)}})}try{const y=e.create(o,c);f(null,s(y,a,c))}catch(y){f(y)}}return I0.create=e.create,I0.toCanvas=i.bind(null,n.render),I0.toDataURL=i.bind(null,n.renderToDataURL),I0.toString=i.bind(null,function(s,a,o){return r.render(s,o)}),I0}var Uue=Vue();const jue=yD(Uue);var oT;(function(t){t.Home="home",t.Work="work",t.Other="other",t.Custom="custom",t.Mobile="mobile",t.FaxWork="fax_work",t.FaxHome="fax_home",t.Pager="pager",t.Callback="callback",t.Car="car",t.CompanyMain="company_main",t.Isdn="isdn",t.Main="main",t.OtherFax="other_fax",t.Radio="radio",t.Telex="telex",t.TtyTdd="tty_tdd",t.WorkMobile="work_mobile",t.WorkPager="work_pager",t.Assistant="assistant",t.Mms="mms"})(oT||(oT={}));var cP;(function(t){t.Home="home",t.Work="work",t.Other="other",t.Custom="custom",t.Mobile="mobile"})(cP||(cP={}));var uP;(function(t){t.Home="home",t.Work="work",t.Other="other",t.Custom="custom"})(uP||(uP={}));const Au=Kp("Contacts",{web:()=>op(()=>import("./web-Bw2SThX1.js"),[],import.meta.url).then(t=>new t.ContactsWeb)}),Wl={normalizePhone:t=>t.replace(/\D/g,"").slice(-10),getContactNameFromPhone:async t=>{if(!xh.isNativePlatform())return"";try{if((await Au.checkPermissions()).contacts!=="granted"&&(await Au.requestPermissions()).contacts!=="granted")return"";const{contacts:n}=await Au.getContacts({projection:{name:!0,phones:!0}}),r=Wl.normalizePhone(t);for(const i of n)if(i.phones){for(const s of i.phones)if(Wl.normalizePhone(s.number||"")===r)return i.name?.display||""}}catch(e){console.warn("Contact read error",e)}return""},getCombinedContacts:async t=>{const e=[],n=t.toLowerCase().trim();if(it.getCustomers().forEach(s=>{(s.name.toLowerCase().includes(n)||s.phone.includes(n))&&e.push({id:s.id,name:s.name,phone:s.phone,source:"db"})}),xh.isNativePlatform())try{const{contacts:s}=await Au.getContacts({projection:{name:!0,phones:!0}});s.forEach(a=>{const o=a.name?.display||"";if(o.toLowerCase().includes(n)){const c=a.phones?.[0]?.number||"";c&&e.push({id:a.contactId||Math.random().toString(),name:o,phone:c,source:"phone"})}else{const c=a.phones?.find(f=>f.number?.includes(n));c&&e.push({id:a.contactId||Math.random().toString(),name:o,phone:c.number||"",source:"phone"})}})}catch(s){console.warn("Search contacts error",s)}const i=new Set;return e.filter(s=>{const a=Wl.normalizePhone(s.phone);return i.has(a)?!1:(i.add(a),!0)}).slice(0,50)},resolveName:async t=>{const e=Wl.normalizePhone(t);if(e.length<10)return{name:"",source:"manual"};const n=it.getCustomers().find(i=>Wl.normalizePhone(i.phone)===e);if(n)return{name:n.name,source:"db"};const r=await Wl.getContactNameFromPhone(e);return r?{name:r,source:"phone"}:{name:"",source:"manual"}}},que=(t,e)=>{const n={};return t.items.forEach(r=>{const i=r.hsn||"N/A";n[i]||(n[i]={hsn:i,description:r.description,quantity:0,baseAmount:0,cgstAmount:0,sgstAmount:0,igstAmount:0,gstRate:r.gstRate||0}),n[i].quantity+=r.quantity,n[i].baseAmount+=r.baseAmount||0,n[i].cgstAmount+=r.cgstAmount||0,n[i].sgstAmount+=r.sgstAmount||0,n[i].igstAmount+=r.igstAmount||0}),Object.values(n)},k0=t=>{const e=["","One","Two","Three","Four","Five","Six","Seven","Eight","Nine","Ten","Eleven","Twelve","Thirteen","Fourteen","Fifteen","Sixteen","Seventeen","Eighteen","Nineteen"],n=["","","Twenty","Thirty","Forty","Fifty","Sixty","Seventy","Eighty","Ninety"],r=o=>o===0?"":o<20?e[o]:o<100?n[Math.floor(o/10)]+(o%10!==0?" "+e[o%10]:""):o<1e3?e[Math.floor(o/100)]+" Hundred"+(o%100!==0?" and "+r(o%100):""):o<1e5?r(Math.floor(o/1e3))+" Thousand"+(o%1e3!==0?" "+r(o%1e3):""):o<1e7?r(Math.floor(o/1e5))+" Lakh"+(o%1e5!==0?" "+r(o%1e5):""):r(Math.floor(o/1e7))+" Crore"+(o%1e7!==0?" "+r(o%1e7):""),i=Math.floor(Math.abs(t)),s=Math.round((Math.abs(t)-i)*100);let a=i===0?"Zero":r(i);return s>0&&(a+=" and "+r(s)+" Paise"),a+" Only"},s9=({invoice:t,onBack:e,onEdit:n,onViewLedger:r,showPostSaveActions:i,onClosePostSaveActions:s})=>{const{company:a}=Rh(),[o,c]=ke.useState(!1),[f,d]=ke.useState(!1),[m,g]=ke.useState(W0),[y,E]=ke.useState(null),[_,A]=ke.useState(!1),[C,V]=ke.useState(!1),[R,F]=ke.useState(!1),[z,W]=ke.useState(!1),[D,L]=ke.useState(t.customerName?.toUpperCase()==="CASH"||t.customerName?.toUpperCase()==="CASH SALES"),[k,q]=ke.useState(""),[P,M]=ke.useState(!1),[j,ae]=ke.useState(""),[Ae,fe]=ke.useState(""),[xe,Ne]=ke.useState([]),[me,Re]=ke.useState(!1);ke.useEffect(()=>{let Z;if(a?.name)Z={name:a.name||"",address:a.address||"",phone:a.phone||"",email:a.email||"",state:a.state||"",gst:a.gst||"",gstin:a.gstin||a.gst||"",gst_enabled:a.gst_enabled??!0,show_hsn_summary:a.show_hsn_summary??!0,upiId:a.upiId||m?.upiId||""};else{const qe=it.getCompanyProfile();Z={...qe,gstin:qe.gstin||qe.gst||"",gst_enabled:qe.gst_enabled??!0,show_hsn_summary:qe.show_hsn_summary??!0}}g(Z);const Ce=it.getCustomers().find(qe=>qe.id===t.customerId);if(E(Ce||null),Z.upiId&&t.total>0){const qe=`upi://pay?pa=${Z.upiId}&pn=${encodeURIComponent(Z.name)}&am=${t.total}&cu=INR`;jue.toDataURL(qe,{margin:1,width:128},(ee,Ie)=>{ee||q(Ie)})}},[t,a,m?.upiId]),ke.useEffect(()=>{t.customerName.toUpperCase()==="CASH"&&L(!0);const Z=it.getCustomers().find(Ce=>Ce.id===t.customerId);Z&&Z.phone&&ae(Z.phone)},[t.customerId,t.customerName]);const re=()=>{s&&s(),setTimeout(()=>{window.print()},100)},B=async(Z,Ce)=>{const qe=Z.replace(/\D/g,"").slice(-10);if(qe.length<10)return alert("Please enter a valid phone number first.");if(!Ce||Ce.trim()==="")return alert("Please enter a name first.");try{if((await Au.checkPermissions()).contacts!=="granted"&&(await Au.requestPermissions()).contacts!=="granted")return alert("Contact Permission Denied. Please enable it in Settings.");const Ie=Ce.trim().split(/\s+/),Ye=Ie[0],oe=Ie.slice(1).join(" ");await Au.createContact({contact:{name:{given:Ye,family:oe},phones:[{type:oT.Mobile,label:"mobile",number:`+91${qe}`}]}}),alert(`Contact "${Ce}" saved directly to your phone!`)}catch(ee){console.error("Save Contact Error:",ee),alert("Failed to save contact. Please check app permissions.")}},Y=(Z,Ce)=>{const qe=Z.replace(/\D/g,"").slice(-10),ee=Ce.trim()||t.customerName||"Customer";if(qe.length===10){let wt=it.getCustomers().find(At=>At.phone===qe);if(wt?wt.name.toUpperCase().includes("CASH")&&(wt.name=ee,it.updateCustomer(wt),E(wt)):(wt={id:crypto.randomUUID(),name:ee,company:ee===t.customerName&&t.customerName||"",phone:qe,email:"",address:t.customerAddress||"",gstin:t.customerGstin||"",balance:0,notifications:[]},it.saveCustomer(wt),E(wt)),wt){const At={...t};At.customerId=wt.id,At.customerName=wt.name,it.updateInvoice(At)}}const Ie=`https://billbook-app.web.app/view/${t.id}`,Ye=m.name||"My Business",oe=ee,rt=t.items.map((tt,wt)=>`${wt+1}. ${tt.description} x ${tt.quantity} = ${Math.round(tt.totalAmount||tt.baseAmount||0)}`).join(`
`),st=`*${Ye}*
Invoice No: ${t.invoiceNumber}
Date: ${new Date(t.date).toLocaleDateString()}
Customer: ${oe}

*Items:*
${rt}

*Total Amount: ${t.total.toFixed(2)}*

Thank you for your business!
View your bill here:
${Ie}`,ft=encodeURIComponent(st);window.open(`https://wa.me/91${qe}?text=${ft}`,"_blank"),M(!1)},X=()=>{s&&s();const Z=!t.customerName||t.customerName.toUpperCase().includes("CASH");fe(Z?"":t.customerName),j&&j.length>=10?Y(j,Z?"":t.customerName):M(!0)},Q=()=>{it.deleteInvoice(t.id),e()},ce=async()=>{c(!0);const Z=k0(t.total),Ce=`
      Invoice number ${t.invoiceNumber}.
      Dated ${t.date}.
      Billed to ${t.customerName}.
      Total amount is ${t.total} Rupees.
      ${Z}.
      Thank you for your business.
    `;await Aoe.generateSpeech(Ce),c(!1)},_e=()=>{if(y&&y.phone&&y.phone.length>=10)C2.shareInvoice(t,y,m);else{ae("");const Z=!t.customerName||t.customerName.toUpperCase().includes("CASH");fe(Z?"":t.customerName),M(!0)}},Pe=async()=>{d(!0);try{const Z=new mn({orientation:"portrait",unit:"mm",format:"a4"}),Ce=210,qe=15,ee=Ce-15;let Ie=15;const Ye={name:m.name||"Company Name",address:m.address||"",phone:m.phone||"",email:m.email||""};if(Z.setFont("helvetica","bold"),Z.setFontSize(18),Z.text(Ye.name,Ce/2,Ie,{align:"center"}),Ie+=6,Z.setFont("helvetica","normal"),Z.setFontSize(9),Z.setTextColor(80),Z.text(Ye.address,Ce/2,Ie,{align:"center"}),Ie+=4,Z.text(`Ph: ${Ye.phone} | ${Ye.email}`,Ce/2,Ie,{align:"center"}),Ie+=4,t.gstEnabled&&m&&(m.gstin||m.gst)){Z.setFont("helvetica","bold"),Z.setFontSize(9),Z.setTextColor(34,197,94);const Ct=m.gstin||m.gst||"";Z.text(`GSTIN: ${Ct}`,Ce/2,Ie,{align:"center"}),Ie+=4,Z.setTextColor(0)}Ie+=2,Z.setDrawColor(0),Z.setLineWidth(.5),Z.line(qe,Ie,ee,Ie),Ie+=7,Z.setFont("helvetica","bold"),Z.setFontSize(14),Z.setTextColor(0),Z.text("TAX INVOICE",Ce/2,Ie,{align:"center"}),Ie+=10;const oe=Ie;Z.setFontSize(9),Z.setFont("helvetica","bold"),Z.text("Bill To:",qe,Ie),Ie+=4,Z.setFont("helvetica","bold"),Z.setFontSize(10),Z.text(t.customerName||"Customer",qe,Ie),Ie+=4,Z.setFont("helvetica","normal"),Z.setFontSize(9);const rt=Z.splitTextToSize(t.customerAddress||"",80);Z.text(rt,qe,Ie);let st=oe;const ft=120,tt=5;Z.setFont("helvetica","bold"),Z.text("Invoice #:",ft,st),Z.setFont("helvetica","normal"),Z.text(t.invoiceNumber||"-",ft+25,st),st+=tt,Z.setFont("helvetica","bold"),Z.text("Date:",ft,st),Z.setFont("helvetica","normal"),Z.text(new Date(t.date).toLocaleDateString(),ft+25,st),st+=tt,Z.setFont("helvetica","bold"),Z.text("Mode:",ft,st),Z.setFont("helvetica","normal");const wt=t.status==="PAID"?"Cash":"Credit";Z.text(wt,ft+25,st),Ie=Math.max(Ie+rt.length*4,st)+8,Z.setFillColor(245,247,250),Z.rect(qe,Ie,ee-qe,8,"F"),Z.setFont("helvetica","bold"),Z.setFontSize(8),Z.setTextColor(60);const At=t.items.some(Ct=>Ct.hsn),Pt={idx:qe+5,desc:qe+15,hsn:qe+60,qty:ee-(t.gstEnabled?75:65),rate:ee-(t.gstEnabled?45:35),gst:ee-20,amount:ee-5};Z.text("#",Pt.idx,Ie+5),Z.text("DESCRIPTION",Pt.desc,Ie+5),At&&Z.text("HSN",Pt.hsn,Ie+5),Z.text("QTY",Pt.qty,Ie+5,{align:"right"}),Z.text("RATE",Pt.rate,Ie+5,{align:"right"}),t.gstEnabled&&Z.text("GST%",Pt.gst,Ie+5,{align:"right"}),Z.text("AMOUNT",Pt.amount,Ie+5,{align:"right"}),Ie+=8,Z.setFont("helvetica","normal"),Z.setTextColor(0),Z.setFontSize(9);const jt=7,Zt=Z.internal.pageSize.getHeight();t.items.forEach((Ct,zt)=>{Ie>Zt-30&&(Z.addPage(),Ie=20),Z.text(`${zt+1}`,Pt.idx,Ie+5),Z.text(Ct.description||"-",Pt.desc,Ie+5),At&&Z.text(Ct.hsn||"-",Pt.hsn,Ie+5),Z.text((Ct.quantity||0).toString(),Pt.qty,Ie+5,{align:"right"}),Z.text(`Rs. ${(Ct.rate||0).toFixed(2)}`,Pt.rate,Ie+5,{align:"right"}),t.gstEnabled&&Z.text(`${(Ct.gstRate||0).toFixed(1)}%`,Pt.gst,Ie+5,{align:"right"}),Z.setFont("helvetica","bold");const xn=Ct.totalAmount||Ct.baseAmount||0;Z.text(`Rs. ${xn.toFixed(2)}`,Pt.amount,Ie+5,{align:"right"}),Z.setFont("helvetica","normal"),Z.setDrawColor(230),Z.line(qe,Ie+jt,ee,Ie+jt),Ie+=jt}),Ie+=4;const Gt=ee-45,Wt=ee-5;Z.setFont("helvetica","bold"),Z.text("Subtotal:",Gt,Ie+5,{align:"right"}),Z.setFont("helvetica","normal"),Z.text(`Rs. ${(t.subtotal||0).toFixed(2)}`,Wt,Ie+5,{align:"right"}),Ie+=7;const Nn=(t.totalCgst||0)+(t.totalSgst||0)+(t.totalIgst||0);if(t.gstEnabled&&Nn>0&&((t.totalCgst||0)>0&&(Z.setFont("helvetica","bold"),Z.setTextColor(34,197,94),Z.text("CGST:",Gt,Ie+5,{align:"right"}),Z.setFont("helvetica","normal"),Z.text(`Rs. ${(t.totalCgst||0).toFixed(2)}`,Wt,Ie+5,{align:"right"}),Ie+=5),(t.totalSgst||0)>0&&(Z.setFont("helvetica","bold"),Z.text("SGST:",Gt,Ie+5,{align:"right"}),Z.setFont("helvetica","normal"),Z.text(`Rs. ${(t.totalSgst||0).toFixed(2)}`,Wt,Ie+5,{align:"right"}),Ie+=5),(t.totalIgst||0)>0&&(Z.setFont("helvetica","bold"),Z.text("IGST:",Gt,Ie+5,{align:"right"}),Z.setFont("helvetica","normal"),Z.text(`Rs. ${(t.totalIgst||0).toFixed(2)}`,Wt,Ie+5,{align:"right"}),Ie+=5),Z.setTextColor(0),Ie+=2),Z.setDrawColor(0),Z.line(ee-70,Ie,ee,Ie),Ie+=2,t.roundUpTo&&t.roundUpTo>0&&(Z.setFont("helvetica","normal"),Z.setFontSize(9),Z.text("Original:",Gt,Ie+5,{align:"right"}),Z.text(`${(t.total-(t.roundUpAmount||0)).toFixed(2)}`,Wt,Ie+5,{align:"right"}),Ie+=5,Z.text("Round Off:",Gt,Ie+5,{align:"right"}),Z.text(`${(t.roundUpAmount||0).toFixed(2)}`,Wt,Ie+5,{align:"right"}),Ie+=5),Z.setFont("helvetica","bold"),Z.setFontSize(10),Z.text("Total:",Gt,Ie+5,{align:"right"}),Z.text(`Rs. ${t.total.toFixed(2)}`,Wt,Ie+5,{align:"right"}),Ie+=8,C&&y){let Ct=y.balance||0;t.status==="PENDING"&&(Ct=(y.balance||0)-t.total),Z.setFont("helvetica","normal"),Z.setFontSize(9),Z.setTextColor(80),Z.text("Prev Balance:",Gt,Ie+5,{align:"right"}),Z.text(`Rs. ${Ct.toFixed(2)}`,Wt,Ie+5,{align:"right"}),Ie+=8}t.gstEnabled&&m.show_hsn_summary!==!1&&(Ie+=8,Z.setFontSize(8),Z.setFont("helvetica","bold"),Z.text("HSN SUMMARY",qe,Ie),Ie+=5,que(t,m).forEach(zt=>{Z.setFont("helvetica","normal"),Z.text(`${zt.hsn||"N/A"} - Taxable: ${(zt.baseAmount||0).toFixed(2)} - Tax: ${(zt.cgstAmount+zt.sgstAmount+zt.igstAmount).toFixed(2)}`,qe,Ie),Ie+=5})),Z.setFont("helvetica","bold"),Z.setFontSize(9),Z.setTextColor(60),Z.text("Amount in Words:",qe,Ie),Z.setTextColor(0),Z.setFont("helvetica","normal");const en=C&&y?y.balance||0:t.total,Ft=k0(en),Rt=qe+35,Nt=Ce-Rt-ee+50,qn=Z.splitTextToSize(Ft,Nt);Z.text(qn,Rt,Ie);let Bt=Math.max(Ie+20,Zt-25);Bt>Zt-20&&(Z.addPage(),Bt=Zt-25),k&&(Z.setFontSize(8),Z.setFont("helvetica","bold"),Z.text("Scan to Pay:",ee-25,Bt-4,{align:"right"}),Z.addImage(k,"PNG",ee-30,Bt,25,25)),Z.setFontSize(8),Z.setTextColor(0),Z.setFont("helvetica","bold"),Z.text("Terms:",qe,Bt),Z.setFont("helvetica","normal"),Z.text("Payment due within 30 days",qe,Bt+4),Z.text(`For ${Ye.name}`,ee-5,Bt+30,{align:"right"}),Z.text("Authorized Signatory",ee-5,Bt+35,{align:"right"});try{if(xh.isNativePlatform()){try{(await Gy.checkPermissions()).publicStorage!=="granted"&&await Gy.requestPermissions()}catch(xn){console.warn("Permission check failed:",xn)}const Ct=Z.output("datauristring").split(",")[1],zt=`Invoice-${t.invoiceNumber}.pdf`;await Gy.writeFile({path:zt,data:Ct,directory:D2.Documents,recursive:!0}),alert(`Saved successfully to Documents folder as ${zt}`)}else{const Ct=Z.output("blob"),zt=URL.createObjectURL(Ct);if(navigator.share&&navigator.canShare&&navigator.canShare({files:[new File([Ct],`Invoice-${t.invoiceNumber}.pdf`,{type:"application/pdf"})]})){const xn=new File([Ct],`Invoice-${t.invoiceNumber}.pdf`,{type:"application/pdf"});await navigator.share({files:[xn],title:`Invoice ${t.invoiceNumber}`,text:`Invoice from ${Ye.name}`})}else Z.save(`Invoice-${t.invoiceNumber}.pdf`);setTimeout(()=>URL.revokeObjectURL(zt),100)}}catch(Ct){console.warn("PDF Save/Share failed:",Ct),alert(`Error: FAILED TO SAVE. ${Ct}`)}}catch(Z){console.error("PDF Generation Error:",Z),alert("Error: FAILED TO SAVE. Please check app permissions.")}finally{d(!1)}};return p.jsxs("div",{className:"flex flex-col h-full bg-surface-container-low absolute inset-0 z-40 font-sans",children:[p.jsxs("div",{className:"sticky top-0 z-50 bg-surface-container/95 backdrop-blur-xl border-b border-border px-6 h-20 flex items-center justify-between shadow-sm flex-shrink-0 print:hidden",children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx(Et.button,{whileTap:{scale:.92},onClick:e,className:"w-12 h-12 flex items-center justify-center rounded-full hover:bg-surface-container-high transition-colors","aria-label":"Back",children:p.jsx(Mu,{className:"w-6 h-6 text-foreground"})}),p.jsxs("div",{className:"flex flex-col",children:[p.jsx("h1",{className:"text-xl font-bold text-foreground tracking-tight font-heading",children:"Invoice Summary"}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsxs("span",{className:"text-[10px] font-bold text-muted-foreground uppercase tracking-widest leading-none",children:["#",t.invoiceNumber]}),p.jsx("span",{className:`text-[9px] font-black px-2 py-0.5 rounded-full uppercase tracking-tighter ${t.status==="PAID"?"bg-google-green text-white":"bg-google-yellow text-white"}`,children:t.status})]})]})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(Et.button,{whileTap:{scale:.95},onClick:()=>n(t),className:"w-11 h-11 flex items-center justify-center rounded-full bg-surface-container-high text-google-blue border border-border hover:shadow-google transition-all",children:p.jsx(oE,{className:"w-5 h-5"})}),p.jsxs("div",{className:"relative",children:[p.jsx(Et.button,{whileTap:{scale:.95},onClick:()=>W(!z),className:"w-11 h-11 flex items-center justify-center rounded-full bg-surface-container-high text-foreground border border-border hover:shadow-google transition-all",children:p.jsx(rE,{className:"w-5 h-5"})}),p.jsx(Ji,{children:z&&p.jsxs(p.Fragment,{children:[p.jsx(Et.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-40",onClick:()=>W(!1)}),p.jsx(Et.div,{initial:{opacity:0,scale:.95,y:10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:10},className:"absolute right-0 mt-3 w-72 bg-surface-container-highest rounded-[32px] shadow-google-lg border border-border z-50 overflow-hidden p-2 origin-top-right backdrop-blur-2xl",children:p.jsxs("div",{className:"space-y-1",children:[[{icon:Gd,label:"Share on WhatsApp",color:"text-google-green",action:_e},{icon:jp,label:"Download PDF",color:"text-google-blue",action:Pe},{icon:Xd,label:"Customer Ledger",color:"text-google-blue",action:()=>r?.(t.customerId)},{icon:g_,label:"Print Draft",color:"text-foreground/60",action:re},{icon:fW,label:"Read Aloud",color:"text-google-red",action:ce}].map((Z,Ce)=>p.jsxs("button",{onClick:()=>{W(!1),Z.action()},className:"w-full flex items-center gap-4 px-5 py-3.5 text-sm font-bold text-foreground hover:bg-surface-container-high rounded-[20px] transition-all group",children:[p.jsx(Z.icon,{className:`w-5 h-5 ${Z.color} group-hover:scale-110 transition-transform`}),p.jsx("span",{children:Z.label})]},Ce)),p.jsx("div",{className:"h-px bg-border/50 mx-4 my-2"}),p.jsx("div",{className:"px-5 py-2 text-[10px] font-black text-muted-foreground uppercase tracking-[0.2em]",children:"Settings"}),p.jsxs("button",{onClick:()=>V(!C),className:"w-full flex items-center justify-between px-5 py-3 text-sm font-bold text-foreground hover:bg-surface-container-high rounded-[20px]",children:[p.jsx("span",{children:"Previous Balance"}),p.jsx("div",{className:`w-10 h-6 rounded-full transition-colors relative ${C?"bg-google-blue":"bg-border"}`,children:p.jsx("div",{className:`absolute top-1 w-4 h-4 bg-white rounded-full transition-all ${C?"left-5":"left-1"}`})})]}),p.jsxs("button",{onClick:()=>{W(!1),L(!D)},className:"w-full flex items-center justify-between px-5 py-3 text-sm font-bold text-foreground hover:bg-surface-container-high rounded-[20px]",children:[p.jsx("span",{children:"POS Mode"}),p.jsx("div",{className:`w-10 h-6 rounded-full transition-colors relative ${D?"bg-google-blue":"bg-border"}`,children:p.jsx("div",{className:`absolute top-1 w-4 h-4 bg-white rounded-full transition-all ${D?"left-5":"left-1"}`})})]}),p.jsx("div",{className:"h-px bg-border/50 mx-4 my-2"}),p.jsxs("button",{onClick:()=>{W(!1),A(!0)},className:"w-full flex items-center gap-4 px-5 py-3.5 text-sm font-bold text-google-red hover:bg-google-red/5 rounded-[20px]",children:[p.jsx(Lu,{className:"w-5 h-5"}),p.jsx("span",{children:"Delete Bill"})]})]})})]})})]})]})]}),p.jsx("div",{className:`flex-1 overflow-y-auto overflow-x-hidden bg-surface-container-low p-4 md:p-8 pb-32 print:p-0 print:bg-white ${D?"print:hidden":""}`,children:p.jsx(Et.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-5xl mx-auto bg-surface rounded-[40px] shadow-google-lg print:shadow-none border border-border print:border-none overflow-hidden",children:p.jsxs("div",{id:"invoice-print",className:"p-8 md:p-16 text-foreground print:text-black",children:[p.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start gap-8 mb-12",children:[p.jsxs("div",{className:"flex-1",children:[p.jsx("h1",{className:"text-4xl md:text-5xl font-black font-heading tracking-tight text-foreground mb-4 uppercase leading-none",children:m.name}),p.jsxs("div",{className:"space-y-1 opacity-70 font-medium",children:[p.jsx("p",{className:"text-sm max-w-sm whitespace-pre-wrap",children:m.address}),p.jsxs("p",{className:"text-sm",children:["Ph: ",m.phone]}),t.gstEnabled&&(m.gstin||m.gst)&&p.jsxs("div",{className:"flex items-center gap-2 text-google-green font-bold text-sm mt-2",children:[p.jsx("span",{className:"px-2 py-0.5 bg-google-green text-white text-[10px] rounded animate-pulse",children:"GST"}),m.gstin||m.gst]})]})]}),p.jsx("div",{className:"text-right md:pt-4",children:p.jsxs("div",{className:"inline-block p-6 bg-surface-container-high rounded-[32px] border border-border",children:[p.jsxs("div",{className:"mb-4",children:[p.jsx("span",{className:"block text-[10px] font-black text-muted-foreground uppercase tracking-[0.2em] mb-1",children:"Invoice Number"}),p.jsxs("span",{className:"text-3xl font-black font-heading text-google-blue",children:["#",t.invoiceNumber]})]}),p.jsxs("div",{children:[p.jsx("span",{className:"block text-[10px] font-black text-muted-foreground uppercase tracking-[0.2em] mb-1",children:"Issue Date"}),p.jsx("span",{className:"text-lg font-bold text-foreground",children:new Date(t.date).toLocaleDateString("en-IN",{day:"numeric",month:"long",year:"numeric"})})]})]})})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12 mb-16 px-1",children:p.jsxs("div",{children:[p.jsx("h3",{className:"text-[11px] font-black uppercase tracking-[0.3em] text-muted-foreground mb-4",children:"Billed To"}),p.jsx("h2",{className:"text-2xl font-black font-heading text-foreground mb-3",children:t.customerName}),p.jsx("div",{className:"text-sm font-medium opacity-70 leading-relaxed max-w-xs whitespace-pre-wrap",children:t.customerAddress}),t.customerGstin&&p.jsxs("p",{className:"text-xs font-bold text-google-blue mt-4 flex items-center gap-2",children:[p.jsx("span",{className:"px-1.5 py-0.5 bg-google-blue/10 rounded uppercase text-[9px]",children:"Cust GST"})," ",t.customerGstin]})]})}),p.jsx("div",{className:"mb-12 rounded-[32px] border border-border overflow-hidden bg-surface-container-low/30",children:p.jsxs("table",{className:"w-full text-left",children:[p.jsx("thead",{className:"bg-surface-container-high text-muted-foreground font-black uppercase text-[10px] tracking-widest border-b border-border",children:p.jsxs("tr",{children:[p.jsx("th",{className:"py-5 px-6",children:"Description"}),p.jsx("th",{className:"py-5 px-6 text-center",children:"Qty"}),p.jsx("th",{className:"py-5 px-6 text-right",children:"Price"}),p.jsx("th",{className:"py-5 px-6 text-right",children:"Total"})]})}),p.jsx("tbody",{className:"divide-y divide-border/50 text-sm",children:t.items.map((Z,Ce)=>p.jsxs("tr",{className:"hover:bg-surface-container transition-colors group",children:[p.jsxs("td",{className:"py-5 px-6",children:[p.jsx("div",{className:"font-bold text-foreground mb-0.5 group-hover:text-google-blue transition-colors",children:Z.description}),Z.hsn&&p.jsxs("div",{className:"text-[10px] font-bold text-muted-foreground uppercase bg-slate-100 dark:bg-slate-800 w-fit px-1.5 rounded",children:["HSN: ",Z.hsn]})]}),p.jsx("td",{className:"py-5 px-6 text-center font-bold text-muted-foreground",children:Z.quantity}),p.jsxs("td",{className:"py-5 px-6 text-right font-medium",children:["",Z.rate.toLocaleString("en-IN")]}),p.jsxs("td",{className:"py-5 px-6 text-right font-black text-foreground",children:["",(Z.totalAmount||Z.baseAmount||0).toLocaleString("en-IN",{minimumFractionDigits:2})]})]},Ce))})]})}),p.jsx("div",{className:"flex justify-end mb-16",children:p.jsxs("div",{className:"w-full md:w-1/2 bg-surface-container/50 p-8 rounded-[32px] border border-border space-y-3",children:[p.jsxs("div",{className:"flex justify-between text-sm font-bold text-muted-foreground uppercase tracking-widest",children:[p.jsx("span",{children:"Subtotal"}),p.jsxs("span",{className:"text-foreground",children:["",t.subtotal.toLocaleString("en-IN",{minimumFractionDigits:2})]})]}),t.gstEnabled&&(t.totalCgst||0)+(t.totalSgst||0)+(t.totalIgst||0)>0&&p.jsxs("div",{className:"space-y-2 pt-2 border-t border-border/50",children:[(t.totalCgst||0)>0&&p.jsxs("div",{className:"flex justify-between text-xs font-bold text-google-green",children:[p.jsx("span",{className:"uppercase tracking-wider",children:"CGST"}),p.jsxs("span",{children:["",(t.totalCgst||0).toLocaleString("en-IN",{minimumFractionDigits:2})]})]}),(t.totalSgst||0)>0&&p.jsxs("div",{className:"flex justify-between text-xs font-bold text-google-green",children:[p.jsx("span",{className:"uppercase tracking-wider",children:"SGST"}),p.jsxs("span",{children:["",(t.totalSgst||0).toLocaleString("en-IN",{minimumFractionDigits:2})]})]}),(t.totalIgst||0)>0&&p.jsxs("div",{className:"flex justify-between text-xs font-bold text-google-green",children:[p.jsx("span",{className:"uppercase tracking-wider",children:"IGST"}),p.jsxs("span",{children:["",(t.totalIgst||0).toLocaleString("en-IN",{minimumFractionDigits:2})]})]})]}),p.jsxs("div",{className:"border-t-2 border-border pt-4 flex justify-between items-end",children:[p.jsx("span",{className:"text-lg font-black font-heading text-foreground uppercase tracking-tighter",children:"Grand Total"}),p.jsxs("span",{className:"text-4xl font-black text-google-blue font-heading tracking-tight",children:["",t.total.toLocaleString("en-IN",{minimumFractionDigits:2})]})]}),p.jsx("div",{className:"text-[10px] text-right font-black text-muted-foreground uppercase tracking-widest pt-2",children:k0(Math.round(t.total))})]})}),p.jsxs("div",{className:"mt-12 flex flex-col md:flex-row justify-between items-start gap-8",children:[p.jsx("div",{className:"flex-1",children:p.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 p-4 rounded-xl border border-slate-100 dark:border-slate-800",children:[p.jsx("p",{className:"font-bold uppercase text-xs mb-1 text-slate-400",children:"Terms & Conditions"}),p.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400 font-medium",children:"1. Goods once sold will not be taken back."}),p.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400 font-medium",children:"2. Interest @18% will be charged if not paid within 30 days."}),p.jsx("p",{className:"mt-4 font-bold uppercase text-slate-900 dark:text-slate-100",children:"Thank you for your business!"})]})}),k&&p.jsxs("div",{className:"flex flex-col items-center p-4 bg-slate-50 dark:bg-slate-800/30 rounded-2xl border border-slate-100 dark:border-slate-800",children:[p.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 mb-2",children:"Scan to Pay"}),p.jsx("img",{src:k,className:"w-24 h-24 mix-blend-multiply dark:mix-blend-normal",alt:"Payment QR"}),p.jsx("p",{className:"text-[10px] font-bold text-slate-600 dark:text-slate-300 mt-2",children:m.upiId})]}),p.jsxs("div",{className:"text-right flex flex-col items-end min-w-[150px]",children:[p.jsx("div",{className:"h-16 w-32 border-b border-slate-200 dark:border-slate-800 mb-2"}),p.jsxs("p",{className:"font-bold text-sm",children:["For ",m.name]}),p.jsx("p",{className:"text-[10px] font-medium text-slate-400 uppercase",children:"Authorized Signatory"})]})]})]})})}),D&&p.jsxs("div",{className:"fixed inset-0 z-[60] bg-slate-800/90 backdrop-blur-sm flex justify-center overflow-y-auto print:hidden",children:[p.jsxs("button",{onClick:()=>L(!1),className:"fixed top-4 right-4 bg-white/10 text-white p-2 rounded-full hover:bg-white/20 z-[70]",children:[p.jsx("span",{className:"sr-only",children:"Close"}),p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),p.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})]}),p.jsxs("div",{className:"bg-white text-black w-[80mm] min-h-0 h-fit shadow-2xl my-8 mx-auto p-2 py-4 font-mono text-[10px] leading-tight",onClick:Z=>Z.stopPropagation(),children:[p.jsxs("div",{className:"text-center mb-4",children:[p.jsx("h1",{className:"text-xl font-bold uppercase",children:m.name}),p.jsx("p",{className:"text-[10px]",children:m.address}),p.jsxs("p",{className:"text-[10px]",children:["Ph: ",m.phone]}),t.gstEnabled&&(m.gstin||m.gst)&&p.jsxs("p",{className:"text-[10px] font-bold mt-1",children:["GSTIN: ",m.gstin||m.gst]})]}),p.jsx("div",{className:"border-b border-dashed border-black my-2"}),p.jsxs("div",{className:"flex justify-between text-[10px] mb-1",children:[p.jsx("span",{children:"Invoice No:"}),p.jsxs("span",{className:"font-bold",children:["#",t.invoiceNumber]})]}),p.jsxs("div",{className:"flex justify-between text-[10px] mb-1",children:[p.jsx("span",{children:"Date:"}),p.jsx("span",{children:new Date(t.date).toLocaleDateString()})]}),p.jsxs("div",{className:"flex justify-between text-[10px] mb-4",children:[p.jsx("span",{children:"Customer:"}),p.jsx("span",{className:"font-bold",children:t.customerName})]}),p.jsx("div",{className:"border-b border-dashed border-black my-2"}),p.jsxs("table",{className:"w-full text-[10px] mb-4",children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{className:"text-left py-1",children:"Item"}),p.jsx("th",{className:"text-center py-1",children:"Qty"}),p.jsx("th",{className:"text-right py-1",children:"Rate"}),p.jsx("th",{className:"text-right py-1",children:"Total"})]})}),p.jsx("tbody",{children:t.items.map((Z,Ce)=>p.jsxs("tr",{children:[p.jsx("td",{className:"text-left py-1",children:Z.description}),p.jsx("td",{className:"text-center py-1",children:Z.quantity}),p.jsxs("td",{className:"text-right py-1",children:["",Z.rate]}),p.jsxs("td",{className:"text-right py-1",children:["",(Z.totalAmount||Z.baseAmount||0).toFixed(2)]})]},Ce))})]}),p.jsx("div",{className:"border-b border-dashed border-black my-2"}),p.jsxs("div",{className:"text-[10px] text-right space-y-1 mb-4",children:[p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{children:"Subtotal:"}),p.jsx("span",{children:t.subtotal.toFixed(2)})]}),t.gstEnabled&&(t.totalCgst||0)+(t.totalSgst||0)+(t.totalIgst||0)>0&&p.jsxs(p.Fragment,{children:[(t.totalCgst||0)>0&&p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{children:"CGST:"}),p.jsx("span",{children:(t.totalCgst||0).toFixed(2)})]}),(t.totalSgst||0)>0&&p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{children:"SGST:"}),p.jsx("span",{children:(t.totalSgst||0).toFixed(2)})]}),(t.totalIgst||0)>0&&p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{children:"IGST:"}),p.jsx("span",{children:(t.totalIgst||0).toFixed(2)})]})]}),p.jsxs("div",{className:"flex justify-between font-bold text-sm mt-2 pt-2 border-t border-dashed border-black",children:[p.jsx("span",{children:"TOTAL:"}),p.jsxs("span",{children:["",Math.round(t.total).toFixed(2)]})]}),p.jsxs("div",{className:"text-xs text-center mt-2 italic",children:["(",k0(Math.round(t.total)),")"]})]}),p.jsx("div",{className:"border-b border-dashed border-black my-2"}),k&&p.jsxs("div",{className:"flex flex-col items-center py-4",children:[p.jsx("p",{className:"text-[9px] font-black uppercase mb-1",children:"Scan to Pay"}),p.jsx("img",{src:k,className:"w-32 h-32",alt:"POS Payment QR"}),p.jsx("p",{className:"text-[8px] font-bold mt-1",children:m.upiId})]}),p.jsxs("div",{className:"text-center text-[9px] mt-4",children:[p.jsx("p",{className:"font-bold uppercase mb-1",children:"Thank you for your business!"}),p.jsx("p",{children:"Terms & Conditions Apply"})]}),p.jsxs("button",{onClick:re,className:"w-full mt-4 py-4 bg-blue-600 text-white font-bold rounded-lg flex items-center justify-center gap-2 shadow-lg shadow-blue-500/20 active:scale-95 transition-transform print:hidden",children:[p.jsx(g_,{className:"w-5 h-5"}),"Print Receipt"]}),p.jsx("button",{onClick:()=>L(!1),className:"w-full mt-2 py-3 bg-slate-100 text-slate-900 rounded-lg md:hidden print:hidden border border-slate-200",children:"Close View"})]})]}),$ee.createPortal(p.jsxs("div",{id:"print-mount",style:{display:"none"},children:[p.jsx("style",{children:`
                    @media print {
                        body > * { display: none !important; }
                        body > #print-mount { display: block !important; }
                        #print-mount {
                            position: absolute;
                            top: 0;
                            left: 0;
                            width: 100%;
                            height: auto;
                            background: white;
                            z-index: 9999;
                            -webkit-print-color-adjust: exact;
                            print-color-adjust: exact;
                        }
                        @page { margin: 0; size: auto; }
                    }
                `}),D?p.jsxs("div",{className:"bg-white text-black w-[80mm] font-mono text-[12px] leading-tight p-0 mx-auto",children:[p.jsxs("div",{className:"text-center mb-4",children:[p.jsx("h1",{className:"text-xl font-bold uppercase",children:m.name}),p.jsx("p",{className:"text-[10px]",children:m.address}),p.jsxs("p",{className:"text-[10px]",children:["Ph: ",m.phone]}),t.gstEnabled&&(m.gstin||m.gst)&&p.jsxs("p",{className:"text-[10px] font-bold mt-1",children:["GSTIN: ",m.gstin||m.gst]})]}),p.jsx("div",{className:"border-b border-dashed border-black my-2"}),p.jsxs("div",{className:"flex justify-between mb-1",children:[p.jsx("span",{children:"Invoice No:"}),p.jsxs("span",{className:"font-bold",children:["#",t.invoiceNumber]})]}),p.jsxs("div",{className:"flex justify-between mb-1",children:[p.jsx("span",{children:"Date:"}),p.jsx("span",{children:new Date(t.date).toLocaleDateString()})]}),p.jsxs("div",{className:"flex justify-between mb-4",children:[p.jsx("span",{children:"Customer:"}),p.jsx("span",{className:"font-bold",children:t.customerName})]}),p.jsx("div",{className:"border-b border-dashed border-black my-2"}),p.jsxs("table",{className:"w-full mb-4 text-left",children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{className:"py-1 w-[40%]",children:"Item"}),p.jsx("th",{className:"py-1 text-center",children:"Qty"}),p.jsx("th",{className:"py-1 text-right",children:"Price"}),p.jsx("th",{className:"py-1 text-right",children:"Total"})]})}),p.jsx("tbody",{children:t.items.map((Z,Ce)=>p.jsxs("tr",{children:[p.jsx("td",{className:"py-1",children:Z.description}),p.jsx("td",{className:"py-1 text-center",children:Z.quantity}),p.jsx("td",{className:"py-1 text-right",children:Z.rate}),p.jsx("td",{className:"py-1 text-right",children:(Z.totalAmount||Z.baseAmount||0).toFixed(2)})]},Ce))})]}),p.jsx("div",{className:"border-b border-dashed border-black my-2"}),p.jsxs("div",{className:"text-right space-y-1 mb-4",children:[p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{children:"Subtotal:"}),p.jsx("span",{children:t.subtotal.toFixed(2)})]}),p.jsxs("div",{className:"flex justify-between font-bold text-sm mt-2 pt-2 border-t border-dashed border-black",children:[p.jsx("span",{children:"TOTAL:"}),p.jsxs("span",{children:["",Math.round(t.total).toFixed(2)]})]}),p.jsxs("div",{className:"text-[10px] text-center mt-2 italic",children:["(",k0(Math.round(t.total)),")"]})]}),p.jsx("div",{className:"border-b border-dashed border-black my-2"}),k&&p.jsxs("div",{className:"flex flex-col items-center py-4",children:[p.jsx("p",{className:"text-[9px] font-black uppercase mb-1",children:"Scan to Pay"}),p.jsx("img",{src:k,className:"w-32 h-32",alt:"Print QR"}),p.jsx("p",{className:"text-[8px] font-bold mt-1",children:m.upiId})]}),p.jsx("div",{className:"text-center text-[10px] mt-4",children:p.jsx("p",{className:"font-bold uppercase mb-1",children:"Thank you!"})})]}):p.jsxs("div",{className:"p-10 text-black max-w-[210mm] mx-auto bg-white",children:[p.jsxs("div",{className:"text-center mb-6",children:[p.jsx("h1",{className:"text-3xl font-bold mb-1 uppercase",children:m.name}),p.jsx("p",{className:"text-sm text-gray-600",children:m.address}),p.jsxs("p",{className:"text-sm text-gray-600",children:["Ph: ",m.phone]}),t.gstEnabled&&(m.gstin||m.gst)&&p.jsxs("p",{className:"text-sm font-bold mt-1",children:["GSTIN: ",m.gstin||m.gst]})]}),p.jsx("div",{className:"border-b-2 border-black mb-6"}),p.jsxs("div",{className:"flex justify-between items-start mb-8",children:[p.jsxs("div",{className:"text-left",children:[p.jsx("h3",{className:"font-bold text-xs uppercase text-gray-500 mb-1",children:"Billed To"}),p.jsx("h2",{className:"text-lg font-bold",children:t.customerName}),p.jsx("p",{className:"text-sm text-gray-600 whitespace-pre-wrap max-w-[250px]",children:t.customerAddress})]}),p.jsxs("div",{className:"text-right",children:[p.jsxs("div",{className:"mb-2",children:[p.jsx("span",{className:"block text-xs font-bold text-gray-500 uppercase",children:"Invoice No"}),p.jsxs("span",{className:"text-lg font-bold",children:["#",t.invoiceNumber]})]}),p.jsxs("div",{children:[p.jsx("span",{className:"block text-xs font-bold text-gray-500 uppercase",children:"Date"}),p.jsx("span",{className:"text-base font-medium",children:new Date(t.date).toLocaleDateString()})]})]})]}),p.jsxs("table",{className:"w-full text-sm mb-8 border-collapse",children:[p.jsx("thead",{children:p.jsxs("tr",{className:"border-b border-black",children:[p.jsx("th",{className:"py-2 text-left",children:"Item"}),p.jsx("th",{className:"py-2 text-center",children:"Qty"}),p.jsx("th",{className:"py-2 text-right",children:"Price"}),p.jsx("th",{className:"py-2 text-right",children:"Total"})]})}),p.jsx("tbody",{children:t.items.map((Z,Ce)=>p.jsxs("tr",{className:"border-b border-gray-200",children:[p.jsx("td",{className:"py-3",children:Z.description}),p.jsx("td",{className:"py-3 text-center",children:Z.quantity}),p.jsxs("td",{className:"py-3 text-right",children:["",Z.rate]}),p.jsxs("td",{className:"py-3 text-right font-bold",children:["",(Z.totalAmount||Z.baseAmount||0).toFixed(2)]})]},Ce))})]}),p.jsx("div",{className:"flex justify-end mb-8",children:p.jsxs("div",{className:"w-1/2 space-y-2 text-right",children:[p.jsxs("div",{className:"flex justify-between text-sm",children:[p.jsx("span",{className:"text-gray-600 font-medium",children:"Subtotal"}),p.jsxs("span",{className:"font-bold",children:["",t.subtotal.toFixed(2)]})]}),p.jsxs("div",{className:"border-t border-black pt-2 flex justify-between items-end",children:[p.jsx("span",{className:"text-base font-bold",children:"Total"}),p.jsxs("span",{className:"text-2xl font-black",children:["",t.total.toFixed(2)]})]})]})}),p.jsxs("div",{className:"text-right text-[10px] italic mb-8 -mt-6",children:["(",k0(Math.round(t.total)),")"]}),p.jsxs("div",{className:"flex justify-between items-end mt-12 border-t pt-6",children:[p.jsxs("div",{className:"space-y-4",children:[k&&p.jsxs("div",{className:"flex flex-col items-center p-2 border border-gray-100 rounded",children:[p.jsx("p",{className:"text-[8px] font-bold uppercase mb-1 text-gray-400",children:"Scan to Pay"}),p.jsx("img",{src:k,className:"w-20 h-20",alt:"Print QR A4"}),p.jsx("p",{className:"text-[8px] font-bold mt-1",children:m.upiId})]}),p.jsxs("div",{className:"text-xs text-gray-500",children:[p.jsx("p",{className:"font-bold uppercase text-[10px] mb-1",children:"Terms:"}),p.jsx("p",{children:"1. Payment due within 30 days."}),p.jsx("p",{children:"2. Goods once sold will not be taken back."})]})]}),p.jsxs("div",{className:"text-right",children:[p.jsx("div",{className:"h-16 w-40 border-b border-gray-300 mb-2"}),p.jsxs("p",{className:"font-bold text-sm",children:["For ",m.name]}),p.jsx("p",{className:"text-xs text-gray-400 uppercase",children:"Authorized Signatory"})]})]}),p.jsx("div",{className:"text-center text-gray-400 text-[10px] mt-8",children:p.jsx("p",{className:"font-bold uppercase mb-1 tracking-widest",children:"Thank you for your business!"})})]})]}),document.body),p.jsx(Ji,{children:_&&p.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[p.jsx(Et.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>A(!1),className:"absolute inset-0 bg-black/60 backdrop-blur-sm"}),p.jsxs(Et.div,{initial:{scale:.9,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0,y:20},className:"relative bg-surface rounded-[40px] p-8 shadow-google-lg max-w-sm w-full border border-border text-center overflow-hidden",children:[p.jsx("div",{className:"w-20 h-20 rounded-[28px] bg-google-red/10 flex items-center justify-center text-google-red mx-auto mb-6 border border-google-red/10",children:p.jsx(Lu,{className:"w-10 h-10"})}),p.jsx("h3",{className:"text-3xl font-black font-heading text-foreground mb-3 tracking-tight",children:"Delete Bill?"}),p.jsx("p",{className:"text-sm font-bold text-muted-foreground mb-8",children:"This action is permanent and will remove the balance from records."}),p.jsxs("div",{className:"flex flex-col gap-3",children:[p.jsx(Et.button,{whileTap:{scale:.95},onClick:Q,className:"w-full py-5 bg-google-red text-white rounded-full font-black uppercase tracking-widest text-[11px] shadow-lg shadow-google-red/20 active:shadow-inner",children:"Confirm Delete"}),p.jsx(Et.button,{whileTap:{scale:.95},onClick:()=>A(!1),className:"w-full py-4 text-muted-foreground font-black uppercase tracking-widest text-[10px] hover:bg-surface-container rounded-full transition-colors",children:"Keep Bill"})]})]})]})}),i&&p.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-md flex items-center justify-center z-[100] p-4 animate-in fade-in duration-200",children:p.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-[32px] p-6 w-full max-w-sm text-center shadow-2xl scale-100 animate-in zoom-in-95 duration-200",children:[p.jsx("div",{className:"w-20 h-20 bg-green-100 text-green-600 rounded-full flex items-center justify-center mx-auto mb-6 shadow-green-200 shadow-lg",children:p.jsx(AG,{className:"w-10 h-10"})}),p.jsx("h2",{className:"text-2xl font-black text-slate-800 dark:text-slate-100 mb-2",children:"Invoice Saved!"}),p.jsxs("p",{className:"text-slate-500 font-medium mb-8",children:["",t.total,"  #",t.invoiceNumber]}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("button",{onClick:re,className:"w-full py-5 rounded-2xl bg-blue-600 text-white font-black text-lg shadow-xl shadow-blue-500/30 active:scale-95 transition-transform flex items-center justify-center gap-3",children:[p.jsx(g_,{className:"w-6 h-6"}),"Print Invoice"]}),p.jsxs("button",{onClick:X,className:"w-full py-5 rounded-2xl bg-green-600 text-white font-black text-lg shadow-xl shadow-green-500/30 active:scale-95 transition-transform flex items-center justify-center gap-3",children:[p.jsx(Gd,{className:"w-6 h-6"}),"Send on WhatsApp"]}),p.jsx("button",{onClick:s,className:"w-full py-4 font-bold text-slate-400 mt-2",children:"Close"})]})]})}),p.jsx(Ji,{children:P&&p.jsxs("div",{className:"fixed inset-0 z-[110] flex items-end md:items-center justify-center p-0 md:p-6",children:[p.jsx(Et.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>M(!1),className:"absolute inset-0 bg-black/60 backdrop-blur-sm"}),p.jsxs(Et.div,{initial:{y:"100%",opacity:0},animate:{y:0,opacity:1},exit:{y:"100%",opacity:0},transition:{type:"spring",damping:25,stiffness:200},className:"relative w-full max-w-lg bg-surface rounded-t-[40px] md:rounded-[40px] p-8 md:p-10 shadow-google-lg z-[120] border border-border overflow-hidden",children:[p.jsx("div",{className:"w-12 h-1.5 bg-border rounded-full mx-auto mb-8 md:hidden"}),p.jsxs("div",{className:"flex items-center gap-5 mb-10",children:[p.jsx("div",{className:"w-16 h-16 rounded-[24px] bg-google-green text-white flex items-center justify-center shadow-lg",children:p.jsx(Gd,{className:"w-8 h-8"})}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-3xl font-black font-heading text-foreground tracking-tight",children:"Share Bill"}),p.jsx("p",{className:"text-sm font-bold text-muted-foreground uppercase tracking-widest mt-1",children:"Send secure digital link"})]})]}),p.jsxs("div",{className:"space-y-6 mb-12",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-[10px] font-black text-muted-foreground uppercase tracking-[0.2em] px-2",children:"Customer Name"}),p.jsx("input",{type:"text",value:Ae,onChange:Z=>fe(Z.target.value),className:"w-full p-5 bg-surface-container-high border-2 border-transparent focus:border-google-blue/30 rounded-[24px] text-lg font-bold text-foreground focus:ring-4 focus:ring-google-blue/5 outline-none transition-all placeholder:text-muted-foreground/30",placeholder:"Enter full name"})]}),p.jsxs("div",{className:"space-y-2 relative",children:[p.jsx("label",{className:"text-[10px] font-black text-muted-foreground uppercase tracking-[0.2em] px-2",children:"WhatsApp Number"}),p.jsxs("div",{className:"relative",children:[p.jsx("span",{className:"absolute left-6 top-1/2 -translate-y-1/2 text-google-blue font-black text-xl",children:"+91"}),p.jsx("input",{type:"tel",value:j,onChange:async Z=>{const Ce=Z.target.value.replace(/\D/g,"").slice(0,10);ae(Ce);const qe=await Wl.resolveName(Ce);if(qe.name&&fe(qe.name),Ce.length>=2){const ee=await Wl.getCombinedContacts(Ce);Ne(ee),Re(!0)}else Re(!1)},onFocus:()=>{j.length>=2&&Re(!0)},onBlur:()=>setTimeout(()=>Re(!1),200),className:"w-full p-5 pl-16 bg-surface-container-high border-2 border-transparent focus:border-google-blue/30 rounded-[24px] text-2xl font-black tracking-[0.1em] text-foreground focus:ring-4 focus:ring-google-blue/5 outline-none transition-all placeholder:text-muted-foreground/30",placeholder:"00000 00000",autoFocus:!0})]}),me&&xe.length>0&&p.jsx(Et.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"absolute z-[130] left-0 right-0 top-full mt-3 bg-surface-container-highest border border-border rounded-[32px] shadow-google-lg max-h-56 overflow-y-auto p-2 backdrop-blur-2xl",children:xe.map((Z,Ce)=>p.jsxs("button",{type:"button",onClick:()=>{ae(Z.phone),fe(Z.name),Re(!1)},className:"w-full p-4 flex items-center gap-4 hover:bg-surface-container-high rounded-[20px] transition-all text-left group",children:[p.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-[10px] font-black shrink-0 ${Z.source==="db"?"bg-google-blue text-white":"bg-google-green text-white"}`,children:Z.source==="db"?"DB":"PH"}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsx("div",{className:"text-sm font-black text-foreground truncate group-hover:text-google-blue transition-colors",children:Z.name}),p.jsx("div",{className:"text-[10px] font-bold text-muted-foreground tracking-widest",children:Z.phone})]}),p.jsx(wu,{className:"w-4 h-4 text-muted-foreground/30"})]},Ce))})]})]}),p.jsxs("div",{className:"flex flex-col gap-3",children:[p.jsxs(Et.button,{whileTap:{scale:.95},onClick:()=>Y(j,Ae),className:"w-full py-5 bg-google-green text-white rounded-full font-black uppercase tracking-widest text-[11px] shadow-lg shadow-google-green/30 flex items-center justify-center gap-3",children:[p.jsx(Gd,{className:"w-5 h-5"}),"Send Digital Link"]}),p.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[p.jsxs(Et.button,{whileTap:{scale:.95},onClick:()=>B(j,Ae),className:"py-5 bg-surface-container-high text-foreground rounded-full font-black uppercase tracking-widest text-[10px] border border-border flex items-center justify-center gap-2",children:[p.jsx(e2,{className:"w-5 h-5 text-google-blue"}),"Save Contact"]}),p.jsx(Et.button,{whileTap:{scale:.95},onClick:()=>M(!1),className:"py-5 text-muted-foreground font-black uppercase tracking-widest text-[10px] hover:bg-surface-container rounded-full transition-colors",children:"Maybe Later"})]})]})]})]})})]})},Hue=(t,e)=>{const n=t?t.length:0,r=e?e.length:0;if(n===0)return r;if(r===0)return n;const i=new Array(r+1);for(let a=0;a<=r;++a){let o=i[a]=new Array(n+1);o[0]=a}const s=i[0];for(let a=1;a<=n;++a)s[a]=a;for(let a=1;a<=r;++a)for(let o=1;o<=n;++o)e.charAt(a-1)===t.charAt(o-1)?i[a][o]=i[a-1][o-1]:i[a][o]=Math.min(i[a-1][o-1],i[a][o-1],i[a-1][o])+1;return i[r][n]},lT=({options:t,value:e,onChange:n,onCreate:r,placeholder:i="Search...",className:s="",onKeyDown:a,inputRef:o,autoFocus:c,type:f="customer"})=>{const[d,m]=ke.useState(!1),[g,y]=ke.useState(""),E=ke.useRef(null),[_,A]=ke.useState(-1);ke.useEffect(()=>{const F=t.find(z=>z.id===e);F?y(F.label):e||y("")},[e,t]),ke.useEffect(()=>{function F(z){if(E.current&&!E.current.contains(z.target)){m(!1);const W=t.find(D=>D.id===e);W?y(W.label):(e===""||e===null)&&y("")}}return document.addEventListener("mousedown",F),()=>document.removeEventListener("mousedown",F)},[E,e,t]);const C=ke.useMemo(()=>{if(!g||t.find(D=>D.label===g)&&!d)return t.slice(0,10);const F=g.toLowerCase().trim(),z=F.length,W=z>5?2:z>2?1:0;return t.map(D=>{const k=(D.label||"").toLowerCase(),P=(D.subLabel||"").toLowerCase();let M=0;if(k===F)M=100;else if(k.startsWith(F))M=80;else if(k.split(/[\s-]+/).some(j=>j.startsWith(F)))M=70;else if(k.includes(F))M=60;else if(P.includes(F))M=50;else{const j=Hue(F,k);j<=W&&(M=40-j)}return{...D,score:M}}).filter(D=>D.score>0).sort((D,L)=>(L.score||0)-(D.score||0)).slice(0,8)},[g,t,d]),V=F=>{n(F),m(!1)},R=F=>{F.key==="ArrowDown"?(F.preventDefault(),A(z=>z<C.length-1?z+1:z)):F.key==="ArrowUp"?(F.preventDefault(),A(z=>z>-1?z-1:z)):F.key==="Enter"?_>=0&&_<C.length?(F.preventDefault(),V(C[_].id)):g&&r&&!t.some(z=>z.label.toLowerCase()===g.trim().toLowerCase())?(F.preventDefault(),r(g),m(!1)):a&&a(F):F.key==="Escape"?m(!1):a&&a(F)};return ke.useEffect(()=>{A(-1)},[g]),p.jsxs("div",{ref:E,className:`relative ${s}`,children:[p.jsxs("div",{className:"relative group",children:[p.jsx("div",{className:"absolute left-5 top-1/2 -translate-y-1/2 text-muted-foreground group-focus-within:text-google-blue transition-colors",children:f==="customer"?p.jsx(jC,{className:"w-5 h-5"}):p.jsx(zf,{className:"w-5 h-5"})}),p.jsx("input",{type:"text",className:"w-full bg-surface-container-high border-2 border-transparent focus:border-google-blue/50 rounded-[28px] py-4 pl-14 pr-12 text-sm font-bold text-foreground placeholder:text-muted-foreground outline-none transition-all shadow-sm group-focus-within:shadow-google focus:ring-4 focus:ring-google-blue/10",placeholder:i,value:g,onChange:F=>{y(F.target.value),m(!0),F.target.value===""&&n("")},onFocus:()=>m(!0),onKeyDown:R,ref:o,autoFocus:c}),p.jsx("div",{className:"absolute right-5 top-1/2 -translate-y-1/2",children:p.jsx(aE,{className:"w-5 h-5 text-muted-foreground group-focus-within:text-google-blue transition-colors"})})]}),p.jsx(Ji,{children:d&&p.jsx(Et.div,{initial:{opacity:0,y:12,scale:.98},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,scale:.98,y:12},className:"absolute z-[110] left-0 right-0 mt-3 bg-surface-container-highest backdrop-blur-2xl border border-border rounded-[32px] shadow-google-lg overflow-hidden p-2",children:p.jsxs("div",{className:"max-h-[320px] overflow-y-auto space-y-1 no-scrollbar",children:[C.length>0?C.map((F,z)=>p.jsxs("button",{type:"button",onClick:()=>V(F.id),className:`w-full text-left p-4 rounded-[24px] flex items-center gap-4 transition-all relative group/item ${_===z||e===F.id?"bg-google-blue text-white shadow-google":"hover:bg-surface-container-high text-foreground"}`,children:[p.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center shrink-0 transition-colors ${_===z||e===F.id?"bg-white/20":"bg-surface-container-highest border border-border"}`,children:f==="customer"?p.jsx(jC,{className:"w-6 h-6"}):p.jsx(zf,{className:"w-6 h-6"})}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsx("div",{className:"font-bold truncate text-sm tracking-tight",children:F.label}),F.subLabel&&p.jsx("div",{className:`text-[10px] font-bold uppercase tracking-widest mt-0.5 ${_===z||e===F.id?"opacity-70":"text-muted-foreground"}`,children:F.subLabel})]}),p.jsx(wu,{className:`w-5 h-5 transition-transform group-hover/item:translate-x-1 ${_===z||e===F.id?"opacity-70":"text-muted-foreground/30"}`})]},z)):p.jsx("div",{className:"p-8 text-center",children:p.jsx("p",{className:"text-sm font-bold text-muted-foreground italic",children:"No matches found"})}),g&&r&&!t.some(F=>F.label.toLowerCase()===g.trim().toLowerCase())&&p.jsx("div",{className:"mt-1 pt-1",children:p.jsxs("button",{type:"button",onClick:()=>{r(g),m(!1)},className:"w-full text-left p-4 rounded-[24px] flex items-center gap-4 text-google-blue bg-google-blue/10 hover:bg-google-blue/20 transition-all group/create border border-google-blue/10",children:[p.jsx("div",{className:"w-12 h-12 rounded-full bg-google-blue/20 flex items-center justify-center group-hover/create:scale-110 transition-transform",children:p.jsx(Th,{className:"w-6 h-6"})}),p.jsxs("div",{children:[p.jsx("div",{className:"font-bold text-xs uppercase tracking-widest",children:"Create New"}),p.jsxs("div",{className:"text-sm font-bold text-foreground",children:['"',g,'"']})]})]})})]})})})]})},fP=({onSave:t,onCancel:e,initialInvoice:n,startSmartCalc:r})=>{const{company:i}=Rh(),[s,a]=ke.useState([]),[o,c]=ke.useState([]),[f,d]=ke.useState(""),[m,g]=ke.useState(new Date().toISOString().split("T")[0]),[y,E]=ke.useState(""),[_,A]=ke.useState([]),C=i?.gst_enabled??!0,[V,R]=ke.useState("CREDIT"),[F,z]=ke.useState(i?.roundUpDefault??0),[W,D]=ke.useState(""),[L,k]=ke.useState(!1),[q,P]=ke.useState(""),[M,j]=ke.useState("");ke.useEffect(()=>{r&&!n&&k(!0)},[r,n]);const[ae,Ae]=ke.useState(!1),[fe,xe]=ke.useState(!1),[Ne,me]=ke.useState(""),[Re,re]=ke.useState(""),[B,Y]=ke.useState(""),[X,Q]=ke.useState(""),[ce,_e]=ke.useState(""),[Pe,Z]=ke.useState("0"),[Ce,qe]=ke.useState(""),[ee,Ie]=ke.useState(null),Ye=()=>n?n.invoiceNumber:f?it.generateInvoiceNumber(f,m):"---",[oe,rt]=ke.useState(!1),[st,ft]=ke.useState(!1);Z0.useRef({}),ke.useEffect(()=>{if(a(it.getCustomers()),c(it.getProducts()),n)d(n.customerId),g(n.date),E(n.dueDate),A(n.items.map(Le=>({...Le}))),R(n.status==="PAID"?"CASH":"CREDIT"),D(n.notes||"");else{const Le=new Date;Le.setDate(Le.getDate()+30),E(Le.toISOString().split("T")[0]),_.length===0&&tt()}},[n]);const tt=()=>{A([..._,{productId:"",description:"",quantity:1,rate:0,baseAmount:0,hsn:"",gstRate:0,cgstAmount:0,sgstAmount:0,igstAmount:0,totalAmount:0}])},wt=(Le,Lt,qt)=>{const $n=Le.quantity*Le.rate,tn=Le.gstRate||0;(Lt?.state===qt?.state?"INTRA_STATE":"INTER_STATE")==="INTRA_STATE"?(Le.cgstAmount=$n*(tn/2)/100,Le.sgstAmount=$n*(tn/2)/100,Le.igstAmount=0):(Le.cgstAmount=0,Le.sgstAmount=0,Le.igstAmount=$n*tn/100),Le.baseAmount=$n,Le.totalAmount=$n+(Le.cgstAmount||0)+(Le.sgstAmount||0)+(Le.igstAmount||0),Le.baseAmount=$n,Le.totalAmount=$n+(Le.cgstAmount||0)+(Le.sgstAmount||0)+(Le.igstAmount||0)},At=()=>{if(_.filter(Be=>Be.productId).length===0){k(!1);return}let Le=f,Lt=s.find(Be=>Be.id===Le);if(!Le){let Be=s.find(ze=>ze.name.toUpperCase()==="CASH");Be||(Be={id:crypto.randomUUID(),name:"CASH",company:"CASH SALES",phone:"",email:"",address:"",gstin:"",balance:0,notifications:[]},it.saveCustomer(Be),a(it.getCustomers())),Lt=Be,Le=Be.id}if(!Lt)return;const qt=_.filter(Be=>Be.productId).map(Be=>({...Be,quantity:Number(Be.quantity)||1,rate:Number(Be.rate)||0,baseAmount:Number(Be.baseAmount)||0,gstRate:Number(Be.gstRate)||0,cgstAmount:Number(Be.cgstAmount)||0,sgstAmount:Number(Be.sgstAmount)||0,igstAmount:Number(Be.igstAmount)||0,totalAmount:Number(Be.totalAmount)||0})),$n="PAID",tn=qt.reduce((Be,ze)=>Be+(ze.baseAmount||0),0),Hn=qt.reduce((Be,ze)=>Be+(ze.cgstAmount||0),0),ie=qt.reduce((Be,ze)=>Be+(ze.sgstAmount||0),0),ve=qt.reduce((Be,ze)=>Be+(ze.igstAmount||0),0),he=i,ge=(he?.state||"Delhi")===(Lt.state||"")?"INTRA_STATE":"INTER_STATE",be=tn+Hn+ie+ve;let we=be,Ue=0;F>0&&(we=Math.ceil(be/F)*F,Ue=we-be);const at={id:crypto.randomUUID(),invoiceNumber:it.generateInvoiceNumber(Le,m),customerId:Le,customerName:Lt.company||Lt.name,customerAddress:Lt.address||"",customerState:Lt.state||"",customerGstin:Lt.gstin||"",supplierGstin:he?.gstin||"",taxType:ge,date:m,dueDate:y,items:qt,subtotal:Math.round(tn*100)/100,totalCgst:Math.round(Hn*100)/100,totalSgst:Math.round(ie*100)/100,totalIgst:Math.round(ve*100)/100,gstEnabled:C&&qt.some(Be=>(Be.gstRate||0)>0),roundUpTo:F,roundUpAmount:Math.round(Ue*100)/100,total:Math.round(we*100)/100,status:$n,paymentMode:"CASH",notes:W};t(at,!0),k(!1)},[Pt,jt]=ke.useState(null),[Zt,Gt]=ke.useState(!1),Wt=Le=>{jt(Le),Gt(!0),qr.light()},Nn=Le=>{const Lt=o.find(qt=>qt.id===Le);Lt&&(Y(Lt.name),Q(Lt.price.toString()),_e(Lt.hsn||""),Z(Lt.gstRate?.toString()||"0"),qe(Lt.id),xe(!0))},en=()=>{const Le=_.length;tt(),setTimeout(()=>Wt(Le),0)},Ft=(Le,Lt,qt)=>{rt(!0);const $n=[..._],tn=$n[Le],Hn=i,ie=s.find(ve=>ve.id===f);if(Lt==="productId"){const ve=o.find(he=>he.id===qt);if(ve){tn.productId=ve.id,tn.description=ve.name,tn.hsn=ve.hsn||"",tn.gstRate=ve.gstRate||0;let he=ve.price;if(f){const ge=it.getLastSalePrice(f,ve.id);ge!==null&&(he=ge)}tn.rate=he,tn.baseAmount=tn.quantity*tn.rate,C?wt(tn,Hn,ie):tn.totalAmount=tn.baseAmount}}else Lt==="quantity"||Lt==="rate"?(Lt==="quantity"&&(tn.quantity=Number(qt)),Lt==="rate"&&(tn.rate=Number(qt)),tn.baseAmount=tn.quantity*tn.rate,C?wt(tn,Hn,ie):tn.totalAmount=tn.baseAmount):Lt==="gstRate"?(tn.gstRate=Number(qt),C&&wt(tn,Hn,ie)):Lt==="hsn"?tn.hsn=qt:Lt==="description"&&(tn.description=qt);A($n)},Rt=Le=>{rt(!0),A(_.filter((Lt,qt)=>qt!==Le))},Nt=Le=>{qr.light(),j(""),Le==="C"?P(""):Le==="+"?q&&qn():P(Lt=>Lt+Le)},qn=()=>{const Le=o.find(qt=>qt.id===q);if(!Le){j("Item ID not found"),qr.heavy();return}rt(!0);const Lt=_.findIndex(qt=>qt.productId===Le.id);if(Lt>-1)Ft(Lt,"quantity",_[Lt].quantity+1);else{const qt={productId:Le.id,description:Le.name,quantity:1,rate:Le.price,baseAmount:0,hsn:Le.hsn||"",gstRate:Le.gstRate||0,cgstAmount:0,sgstAmount:0,igstAmount:0,totalAmount:0},$n=i,tn=s.find(ie=>ie.id===f);let Hn=Le.price;if(f){const ie=it.getLastSalePrice(f,Le.id);ie!==null&&(Hn=ie)}qt.rate=Hn,qt.baseAmount=qt.quantity*qt.rate,C?wt(qt,$n,tn):qt.totalAmount=qt.baseAmount,A(ie=>[...ie.filter(ve=>ve.productId),qt])}P(""),qr.medium()},Bt=Z0.useRef({}),Ct=(Le,Lt)=>{Le.key==="Enter"&&(Le.preventDefault(),Lt==="productId"?Bt.current.quantity?.focus():Lt==="quantity"?Bt.current.rate?.focus():Lt==="rate"&&(Gt(!1),setTimeout(en,300)))},zt=()=>_.reduce((Le,Lt)=>Le+(Lt.baseAmount||0),0),xn=()=>_.reduce((Le,Lt)=>Le+(Lt.cgstAmount||0),0),cn=()=>_.reduce((Le,Lt)=>Le+(Lt.sgstAmount||0),0),Jn=()=>_.reduce((Le,Lt)=>Le+(Lt.igstAmount||0),0),gn=()=>{const Le=zt(),Lt=xn(),qt=cn(),$n=Jn();return Le+Lt+qt+$n},dn=()=>{const Le=gn();return F===0?Le:Math.ceil(Le/F)*F},ar=()=>F===0?0:dn()-gn(),un=Le=>{me(Le),re(""),Ae(!0)},Yt=()=>{const Le={id:crypto.randomUUID(),name:Ne,company:Ne,email:"",phone:Re,address:"",balance:0,notifications:[]};it.saveCustomer(Le),a(it.getCustomers()),d(Le.id),Ae(!1)},Ln=(Le,Lt)=>{Y(Le),Q(""),qe(""),Ie(Lt),xe(!0)},oi=()=>{const Le={id:Ce.trim()||crypto.randomUUID(),name:B,price:Number(X)||0,stock:100,category:"General",hsn:ce,gstRate:Number(Pe)||0};if(it.saveProduct(Le),c(it.getProducts()),ee!==null){const Lt=[..._],qt=Lt[ee];qt.productId=Le.id,qt.description=Le.name,qt.rate=Le.price,qt.quantity=1,qt.gstRate=Le.gstRate||0,qt.hsn=Le.hsn||"",wt(qt,i,s.find($n=>$n.id===f)),A(Lt)}xe(!1),Y(""),Q(""),_e(""),Z("0"),qe(""),Ie(null)},li=()=>{if(n&&oe&&!st){ft(!0);return}const Le=s.find(Ue=>Ue.id===f);if(!Le)return alert("Select a customer");if(_.length===0)return alert("Add at least one item");for(let Ue=0;Ue<_.length;Ue++)if(!_[Ue].productId)return alert(`Please select a product for Item ${Ue+1}`);const Lt=_.map(Ue=>({...Ue,quantity:Number(Ue.quantity)||1,rate:Number(Ue.rate)||0,baseAmount:Number(Ue.baseAmount)||0,gstRate:Number(Ue.gstRate)||0,cgstAmount:Number(Ue.cgstAmount)||0,sgstAmount:Number(Ue.sgstAmount)||0,igstAmount:Number(Ue.igstAmount)||0,totalAmount:Number(Ue.totalAmount)||0})),qt=V==="CASH"?"PAID":"PENDING",$n=zt(),tn=xn(),Hn=cn(),ie=Jn(),ve=i,he=(ve?.state||"Delhi")===(Le.state||"")?"INTRA_STATE":"INTER_STATE",ge=dn(),be=ar(),we={id:n?n.id:crypto.randomUUID(),invoiceNumber:n?n.invoiceNumber:it.generateInvoiceNumber(Le.id,m),customerId:Le.id,customerName:Le.company||Le.name,customerAddress:Le.address||"",customerState:Le.state||"",customerGstin:Le.gstin||"",supplierGstin:ve?.gstin||"",taxType:he,date:m,dueDate:y,items:Lt,subtotal:Math.round($n*100)/100,totalCgst:Math.round(tn*100)/100,totalSgst:Math.round(Hn*100)/100,totalIgst:Math.round(ie*100)/100,gstEnabled:C&&Lt.some(Ue=>(Ue.gstRate||0)>0),roundUpTo:F,roundUpAmount:Math.round(be*100)/100,total:Math.round(ge*100)/100,status:qt,notes:W};t(we)},{scrollY:Rs}=oG(),[Zr,hn]=ke.useState(!1);return jz(Rs,"change",Le=>{hn(Le>50)}),p.jsxs("div",{className:"bg-background min-h-screen pb-48 font-sans",children:[st&&p.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-[100] p-4",children:p.jsxs(Et.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"bg-white dark:bg-slate-800 rounded-[24px] shadow-2xl w-full max-w-sm p-6 text-center",children:[p.jsx("div",{className:"w-16 h-16 bg-amber-100 text-amber-600 rounded-full flex items-center justify-center mx-auto mb-4",children:p.jsx(X2,{className:"w-8 h-8"})}),p.jsx("h3",{className:"text-xl font-bold mb-2",children:"Save Changes?"}),p.jsx("p",{className:"text-slate-500 mb-6",children:"You are editing an existing invoice. This will update the customer balance and records."}),p.jsxs("div",{className:"flex gap-3",children:[p.jsx("button",{onClick:()=>ft(!1),className:"flex-1 py-3 font-bold text-slate-500 hover:bg-slate-100 rounded-xl",children:"Cancel"}),p.jsx("button",{onClick:li,className:"flex-1 py-3 font-bold bg-blue-600 text-white rounded-xl shadow-lg shadow-blue-200",children:"Yes, Save"})]})]})}),p.jsx(Et.div,{className:`sticky top-0 z-30 transition-all duration-300 ${Zr?"bg-background/95 backdrop-blur-xl border-b border-border shadow-sm":"bg-background border-b border-transparent"}`,children:p.jsxs("div",{className:"flex items-center justify-between px-4 h-16 max-w-5xl mx-auto",children:[p.jsx("button",{onClick:e,className:"p-2 -ml-2 rounded-full hover:bg-surface-container-highest transition-colors",children:p.jsx(Mu,{className:"w-6 h-6 text-foreground"})}),p.jsxs("div",{className:"flex-1 ml-4 overflow-hidden",children:[p.jsx("h1",{className:"text-xl font-bold text-foreground tracking-tight truncate",children:n?"Edit Inovice":"New Invoice"}),p.jsx("p",{className:"text-[10px] font-bold text-muted-foreground uppercase tracking-widest leading-none",children:Ye()})]}),p.jsx("div",{className:"flex items-center gap-3",children:p.jsxs(Et.button,{whileHover:{scale:1.02},whileTap:{scale:.95},onClick:li,className:"bg-google-blue text-white px-6 py-2.5 rounded-full font-bold shadow-lg shadow-google-blue/20 flex items-center gap-2 hover:shadow-google transition-all",children:[p.jsx(Zy,{className:"w-5 h-5"}),p.jsx("span",{children:"Save"})]})})]})}),p.jsxs("div",{className:"max-w-5xl mx-auto space-y-4 pt-6 px-4",children:[p.jsxs("div",{className:"bg-surface-container p-6 md:p-8 rounded-[32px] border border-border shadow-sm",children:[p.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[p.jsx("div",{className:"w-12 h-12 rounded-2xl bg-google-blue/10 flex items-center justify-center text-google-blue border border-google-blue/10",children:p.jsx(e2,{className:"w-6 h-6"})}),p.jsxs("div",{children:[p.jsx("h2",{className:"text-lg font-bold text-foreground",children:"Bill To"}),p.jsx("p",{className:"text-xs text-muted-foreground font-medium",children:"Select or create client"})]})]}),p.jsx("div",{className:"relative group",children:p.jsx(lT,{options:s.map(Le=>({id:Le.id,label:Le.company,subLabel:Le.name})),value:f,onChange:Le=>{d(Le),rt(!0);const Lt=it.predictNextItem(Le);Lt&&_.length===1&&_[0].productId===""&&Ft(0,"productId",Lt.id)},onCreate:un,placeholder:"Search Customer...",type:"customer"})}),f&&it.predictNextItem(f)&&p.jsxs("div",{className:"mt-3 flex items-center gap-2",children:[p.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"Suggested Product:"}),p.jsxs("button",{onClick:()=>{const Le=it.predictNextItem(f);Le&&tt();const Lt=_.findIndex(qt=>qt.productId==="");if(Lt!==-1&&Le)Ft(Lt,"productId",Le.id);else if(Le){const qt=_.length;tt(),setTimeout(()=>Ft(qt,"productId",Le.id),0)}qr.light()},className:"text-xs font-bold text-blue-600 bg-blue-50 dark:bg-blue-900/30 px-2 py-1 rounded-lg border border-blue-100 dark:border-blue-800",children:["+ ",it.predictNextItem(f)?.name]})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"text-[10px] font-bold text-muted-foreground uppercase tracking-widest px-2 mb-1 block",children:"Date"}),p.jsx("div",{className:"relative bg-surface-container-high rounded-[20px] overflow-hidden border border-border",children:p.jsx("input",{type:"date",value:m,onChange:Le=>{g(Le.target.value),rt(!0)},className:"w-full bg-transparent p-3 text-sm font-bold text-foreground outline-none"})})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-[10px] font-bold text-muted-foreground uppercase tracking-widest px-2 mb-1 block",children:"Due Date"}),p.jsx("div",{className:"relative bg-surface-container-high rounded-[20px] overflow-hidden border border-border",children:p.jsx("input",{type:"date",value:y,onChange:Le=>{E(Le.target.value),rt(!0)},className:"w-full bg-transparent p-3 text-sm font-bold text-foreground outline-none"})})]})]})]}),p.jsxs("div",{className:"bg-surface-container p-1 rounded-full border border-border flex items-center shadow-sm",children:[p.jsxs("button",{onClick:()=>{R("CREDIT"),rt(!0)},className:`flex-1 py-3 px-6 rounded-full flex items-center justify-center gap-2 transition-all ${V==="CREDIT"?"bg-google-red text-white font-bold shadow-google":"text-muted-foreground font-bold hover:bg-surface-container-high"}`,children:[p.jsx(UG,{className:"w-5 h-5"})," ",p.jsx("span",{children:"Credit Bill"})]}),p.jsxs("button",{onClick:()=>{R("CASH"),rt(!0)},className:`flex-1 py-3 px-6 rounded-full flex items-center justify-center gap-2 transition-all ${V==="CASH"?"bg-google-green text-white font-bold shadow-google":"text-muted-foreground font-bold hover:bg-surface-container-high"}`,children:[p.jsx(rM,{className:"w-5 h-5"})," ",p.jsx("span",{children:"Cash Bill"})]})]}),p.jsxs("div",{className:"space-y-4 pt-4",children:[p.jsxs("div",{className:"flex items-center justify-between px-2",children:[p.jsx("h2",{className:"text-[11px] font-bold text-muted-foreground uppercase tracking-widest",children:"Added Items"}),p.jsx("button",{onClick:tt,className:"text-[11px] font-bold text-google-blue uppercase tracking-widest bg-google-blue/10 px-4 py-2 rounded-full border border-google-blue/10",children:"Add Row"})]}),p.jsx("div",{className:"space-y-3",children:p.jsx(Ji,{mode:"popLayout",children:_.filter(Le=>Le.productId).map((Le,Lt)=>p.jsxs(Et.div,{layout:!0,initial:{opacity:0,y:12},animate:{opacity:1,y:0},exit:{opacity:0,scale:.95},onClick:()=>Wt(_.indexOf(Le)),className:"bg-surface-container p-5 rounded-[32px] border border-border flex gap-4 items-center active:scale-[0.98] transition-all cursor-pointer group hover:bg-surface-container-high hover:shadow-google",children:[p.jsx("div",{className:"w-14 h-14 rounded-full bg-google-blue/10 flex items-center justify-center text-google-blue shrink-0 group-hover:bg-google-blue group-hover:text-white transition-all transform group-hover:rotate-6 border border-google-blue/10",children:p.jsx(zf,{className:"w-7 h-7"})}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsx("p",{className:"text-base font-bold text-foreground truncate tracking-tight",children:Le.description}),p.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[p.jsxs("span",{className:"px-2.5 py-0.5 rounded-full bg-surface-container-highest text-[10px] font-bold text-muted-foreground uppercase tracking-widest border border-border",children:[Le.quantity," Unit"]}),p.jsx("span",{className:"text-[10px] font-bold text-muted-foreground",children:"@"}),p.jsxs("span",{className:"text-[11px] font-bold text-foreground",children:["",Le.rate]})]})]}),p.jsxs("div",{className:"text-right",children:[p.jsxs("p",{className:"text-xl font-bold font-heading text-foreground",children:["",(Le.totalAmount||0).toLocaleString("en-IN")]}),p.jsx("p",{className:"text-[10px] text-muted-foreground font-bold uppercase tracking-widest opacity-60",children:"Subtotal"})]})]},Lt))})}),p.jsxs("button",{onClick:en,className:"w-full py-6 rounded-[28px] border-2 border-dashed border-blue-200 dark:border-slate-800 bg-blue-50/30 dark:bg-slate-900/40 text-blue-600 dark:text-blue-400 font-black flex items-center justify-center gap-3 hover:bg-blue-50 dark:hover:bg-slate-800 transition-all active:scale-[0.98] group",children:[p.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-600 text-white flex items-center justify-center group-hover:scale-110 transition-transform shadow-lg shadow-blue-500/40",children:p.jsx(Th,{className:"w-5 h-5"})}),p.jsx("span",{children:"Add Item"})]})]})]}),p.jsx(Ji,{children:Zt&&Pt!==null&&p.jsxs("div",{className:"fixed inset-0 z-[100] flex flex-col justify-end",children:[p.jsx(Et.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>Gt(!1),className:"absolute inset-0 bg-slate-900/80 backdrop-blur-sm"}),p.jsxs(Et.div,{initial:{y:"100%",borderRadius:"40px 40px 0 0"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",damping:25,stiffness:200},className:"relative bg-white dark:bg-slate-900 w-full max-h-[90vh] overflow-y-auto p-6 shadow-2xl pb-12",children:[p.jsx("div",{className:"w-12 h-1.5 bg-slate-200 dark:bg-slate-700 rounded-full mx-auto mb-8"}),p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2 block",children:"Item"}),p.jsx(lT,{options:o.map(Le=>({id:Le.id,label:Le.name})),value:_[Pt].productId,onChange:Le=>Ft(Pt,"productId",Le),onCreate:Le=>Ln(Le,Pt),placeholder:"Search or Create Product...",type:"product",autoFocus:!0,onKeyDown:Le=>Ct(Le,"productId"),inputRef:Le=>{Bt.current.productId=Le}}),_[Pt].productId&&p.jsx("div",{className:"flex justify-end mt-1",children:p.jsx("button",{onClick:()=>Nn(_[Pt].productId),className:"text-[10px] font-bold text-blue-600 bg-blue-50 dark:bg-blue-900/30 px-2 py-1 rounded-lg flex items-center gap-1",children:"Edit Product Details"})})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{className:"bg-slate-50 dark:bg-slate-950 p-4 rounded-2xl border-2 border-slate-100 dark:border-slate-800",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2 block",children:"Qty"}),p.jsx("input",{type:"number",className:"w-full bg-transparent text-2xl font-black text-blue-600 outline-none",value:_[Pt].quantity||"",onChange:Le=>Ft(Pt,"quantity",Le.target.value),placeholder:"1",onKeyDown:Le=>Ct(Le,"quantity"),ref:Le=>{Bt.current.quantity=Le}})]}),p.jsxs("div",{className:"bg-slate-50 dark:bg-slate-950 p-4 rounded-2xl border-2 border-slate-100 dark:border-slate-800",children:[p.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2 block",children:"Rate"}),p.jsx("input",{type:"number",className:"w-full bg-transparent text-2xl font-black text-slate-900 dark:text-slate-100 outline-none",value:_[Pt].rate||"",onChange:Le=>Ft(Pt,"rate",Le.target.value),placeholder:"0.00",onKeyDown:Le=>Ct(Le,"rate"),ref:Le=>{Bt.current.rate=Le}})]})]}),p.jsxs("div",{className:"flex gap-3 pt-2",children:[p.jsx("button",{onClick:()=>{Gt(!1),setTimeout(en,300)},className:"flex-1 bg-slate-100 dark:bg-slate-800 text-slate-900 dark:text-slate-100 py-5 rounded-[24px] font-black text-xs uppercase tracking-wider active:scale-95 transition-all border border-slate-200 dark:border-slate-700",children:"Save & Add Next"}),p.jsx("button",{onClick:()=>Gt(!1),className:"flex-1 bg-blue-600 text-white py-5 rounded-[24px] font-black text-xs uppercase tracking-wider shadow-lg shadow-blue-500/20 active:scale-95 transition-all",children:"Save & Done"}),p.jsx("button",{onClick:()=>{Rt(Pt),Gt(!1)},className:"w-16 bg-red-50 dark:bg-red-900/20 text-red-600 flex items-center justify-center rounded-[24px] active:scale-95 transition-all",children:p.jsx(Lu,{className:"w-6 h-6"})})]}),p.jsxs("div",{className:"bg-gradient-to-br from-blue-600 to-blue-700 p-8 rounded-[40px] text-white flex justify-between items-center shadow-2xl shadow-blue-500/40 relative overflow-hidden",children:[p.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full -mr-16 -mt-16 blur-2xl"}),p.jsxs("div",{className:"relative z-10",children:[p.jsx("p",{className:"text-[11px] font-black uppercase opacity-70 tracking-widest mb-1",children:"Item Total Amount"}),p.jsxs("p",{className:"text-5xl font-black tracking-tighter drop-shadow-lg",children:["",(_[Pt].totalAmount||0).toFixed(2).toLocaleString()]})]}),p.jsx("div",{className:"text-right relative z-10",children:p.jsxs("div",{className:"bg-white/20 backdrop-blur-md px-3 py-1.5 rounded-xl border border-white/20",children:[p.jsx("p",{className:"text-[10px] font-black uppercase tracking-tight",children:"Tax Included"}),p.jsxs("p",{className:"text-sm font-black",children:["GST ",_[Pt].gstRate,"%"]})]})})]})]})]})]})}),p.jsx("div",{className:"max-w-5xl mx-auto px-4 pb-4 mt-6",children:p.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-[24px] shadow-sm border border-slate-100 dark:border-slate-700",children:[p.jsx("h2",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Additional Notes"}),p.jsx("textarea",{className:"w-full bg-slate-50 dark:bg-slate-900 border-none rounded-xl p-4 text-sm font-medium focus:ring-2 focus:ring-blue-500 outline-none resize-none",rows:3,value:W,onChange:Le=>{D(Le.target.value),rt(!0)},placeholder:"Terms & Conditions, Payment Instructions, etc."})]})}),p.jsx(Et.div,{initial:{y:0},animate:{y:0,scale:Zr?.98:1,opacity:1},className:"fixed bottom-0 left-0 right-0 bg-white/80 dark:bg-slate-900/90 backdrop-blur-md border-t border-slate-200 dark:border-slate-700 p-4 pb-6 md:pb-4 z-30 shadow-[0_-5px_30px_rgba(0,0,0,0.1)]",children:p.jsxs("div",{className:"max-w-5xl mx-auto flex justify-between items-center px-4",children:[p.jsxs("div",{className:"flex flex-col",children:[p.jsx("span",{className:"text-[10px] text-slate-400 font-black uppercase tracking-widest",children:"Total Payable"}),p.jsxs("span",{className:"text-3xl font-black text-blue-600 tracking-tighter",children:["",dn().toLocaleString("en-IN")]})]}),p.jsxs("div",{className:"text-xs font-bold text-slate-400",children:[_.length," Items Added"]})]})}),L&&p.jsxs("div",{className:"fixed inset-0 bg-white dark:bg-slate-900 z-[60] flex flex-col",children:[p.jsxs("div",{className:"p-4 flex items-center justify-between border-b border-slate-100 dark:border-slate-800",children:[p.jsxs("h2",{className:"text-lg font-black flex items-center gap-2",children:[p.jsx(n5,{className:"w-5 h-5 text-emerald-500"}),"Smart Billing"]}),p.jsx("button",{onClick:()=>k(!1),className:"bg-slate-100 dark:bg-slate-800 p-2 rounded-full hover:bg-slate-200",children:p.jsx(Iu,{className:"w-5 h-5"})})]}),p.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-2 bg-slate-50 dark:bg-slate-950",children:_.filter(Le=>Le.productId).length===0?p.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-400 opacity-50",children:[p.jsx(n5,{className:"w-16 h-16 mb-2"}),p.jsx("p",{className:"font-bold",children:"Enter Item ID & Press '+'"})]}):_.filter(Le=>Le.productId).slice().reverse().map((Le,Lt)=>p.jsxs(Et.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white dark:bg-slate-900 p-3 rounded-xl shadow-sm flex justify-between items-center border border-slate-100 dark:border-slate-800",onContextMenu:qt=>{qt.preventDefault(),window.confirm(`Remove ${Le.description}?`)&&Rt(_.indexOf(Le))},children:[p.jsxs("div",{children:[p.jsx("p",{className:"font-bold text-sm text-slate-800 dark:text-slate-200 truncate max-w-[150px]",children:Le.description}),p.jsxs("p",{className:"text-xs text-slate-400",children:["ID: ",Le.productId," | ",Le.rate]})]}),p.jsx("div",{className:"flex items-center gap-3",children:p.jsx("div",{className:"text-right",children:p.jsxs("p",{className:"font-black text-blue-600",children:["x",Le.quantity]})})})]},Lt))}),p.jsxs("div",{className:"bg-white dark:bg-slate-900 p-4 pb-8 shadow-[0_-5px_30px_rgba(0,0,0,0.1)] rounded-t-[32px]",children:[p.jsxs("div",{className:"bg-slate-100 dark:bg-slate-800 rounded-2xl p-4 mb-4 flex flex-col items-end justify-center min-h-[80px]",children:[p.jsx("span",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:M||"ITEM ID"}),p.jsx("span",{className:`text-4xl font-mono font-black tracking-widest ${M?"text-red-500":"text-slate-800 dark:text-slate-100"}`,children:q||"0"})]}),p.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[[7,8,9].map(Le=>p.jsx("button",{onClick:()=>Nt(Le.toString()),className:"h-16 rounded-2xl bg-slate-50 dark:bg-slate-800 text-2xl font-bold hover:bg-slate-100 active:scale-95 transition-all shadow-sm border border-slate-200 dark:border-slate-700",children:Le},Le)),p.jsx("button",{onClick:()=>Nt("C"),className:"h-16 rounded-2xl bg-red-50 text-red-600 text-xl font-black hover:bg-red-100 active:scale-95 transition-all",children:"CLR"}),[4,5,6].map(Le=>p.jsx("button",{onClick:()=>Nt(Le.toString()),className:"h-16 rounded-2xl bg-slate-50 dark:bg-slate-800 text-2xl font-bold hover:bg-slate-100 active:scale-95 transition-all shadow-sm border border-slate-200 dark:border-slate-700",children:Le},Le)),p.jsx("button",{onClick:At,className:"h-16 rounded-2xl bg-slate-100 text-slate-500 font-bold active:scale-95 transition-all flex items-center justify-center",children:p.jsx("span",{className:"text-xs font-black uppercase text-blue-600",children:"Done"})}),[1,2,3].map(Le=>p.jsx("button",{onClick:()=>Nt(Le.toString()),className:"h-16 rounded-2xl bg-slate-50 dark:bg-slate-800 text-2xl font-bold hover:bg-slate-100 active:scale-95 transition-all shadow-sm border border-slate-200 dark:border-slate-700",children:Le},Le)),p.jsx("button",{onClick:()=>Nt("+"),className:"row-span-2 h-full rounded-2xl bg-blue-600 text-white text-3xl font-black hover:bg-blue-700 active:scale-95 transition-all shadow-lg shadow-blue-500/30",children:"+"}),p.jsx("button",{onClick:()=>Nt("0"),className:"col-span-2 h-16 rounded-2xl bg-slate-50 dark:bg-slate-800 text-2xl font-bold hover:bg-slate-100 active:scale-95 transition-all shadow-sm border border-slate-200 dark:border-slate-700",children:"0"}),p.jsx("button",{onClick:()=>Nt("."),className:"h-16 rounded-2xl bg-slate-50 dark:bg-slate-800 text-2xl font-bold hover:bg-slate-100 active:scale-95 transition-all shadow-sm border border-slate-200 dark:border-slate-700",children:"."})]})]})]}),ae&&p.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:p.jsxs(Et.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"bg-white dark:bg-slate-800 rounded-[24px] shadow-2xl w-full max-w-md overflow-hidden",children:[p.jsxs("div",{className:"p-6 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center",children:[p.jsx("h3",{className:"text-lg font-bold",children:"New Customer"}),p.jsx("button",{onClick:()=>Ae(!1),className:"bg-slate-100 p-2 rounded-full",children:p.jsx(Iu,{className:"w-5 h-5"})})]}),p.jsxs("div",{className:"p-6 space-y-4",children:[p.jsx("input",{type:"text",autoFocus:!0,placeholder:"Customer Name",className:"w-full p-4 bg-slate-50 rounded-xl font-bold outline-none focus:ring-2 focus:ring-blue-500",value:Ne,onChange:Le=>me(Le.target.value)}),p.jsx("input",{type:"text",placeholder:"Phone Number",className:"w-full p-4 bg-slate-50 rounded-xl font-medium outline-none focus:ring-2 focus:ring-blue-500",value:Re,onChange:Le=>re(Le.target.value),onKeyDown:Le=>Le.key==="Enter"&&Yt()}),p.jsx("button",{onClick:Yt,className:"w-full bg-blue-600 text-white py-4 rounded-xl font-bold mt-4",children:"Save Customer"})]})]})}),fe&&p.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-[110] p-4",children:p.jsxs(Et.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"bg-white dark:bg-slate-800 rounded-[24px] shadow-2xl w-full max-w-md overflow-hidden",children:[p.jsxs("div",{className:"p-6 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center",children:[p.jsx("h3",{className:"text-lg font-bold",children:"New Product"}),p.jsx("button",{onClick:()=>xe(!1),className:"bg-slate-100 p-2 rounded-full",children:p.jsx(Iu,{className:"w-5 h-5"})})]}),p.jsxs("div",{className:"p-6 space-y-4",children:[p.jsx("input",{type:"text",autoFocus:!0,placeholder:"Product Name",className:"w-full p-4 bg-slate-50 rounded-xl font-bold outline-none focus:ring-2 focus:ring-blue-500",value:B,onChange:Le=>Y(Le.target.value)}),p.jsx("input",{type:"text",placeholder:"Item ID (Optional, for Calculator)",className:"w-full p-4 bg-slate-50 rounded-xl font-medium outline-none focus:ring-2 focus:ring-blue-500 uppercase tracking-widest",value:Ce,onChange:Le=>qe(Le.target.value)}),p.jsx("input",{type:"number",placeholder:"Price / Rate",className:"w-full p-4 bg-slate-50 rounded-xl font-medium outline-none focus:ring-2 focus:ring-blue-500",value:X,onChange:Le=>Q(Le.target.value),onKeyDown:Le=>Le.key==="Enter"&&!C&&oi()}),C&&p.jsxs("div",{className:"flex gap-4",children:[p.jsx("input",{type:"text",placeholder:"HSN",className:"flex-1 p-4 bg-slate-50 rounded-xl outline-none",value:ce,onChange:Le=>_e(Le.target.value)}),p.jsx("input",{type:"number",placeholder:"GST %",className:"w-24 p-4 bg-slate-50 rounded-xl outline-none",value:Pe,onChange:Le=>Z(Le.target.value),onKeyDown:Le=>Le.key==="Enter"&&oi()})]}),p.jsx("button",{onClick:oi,className:"w-full bg-blue-600 text-white py-4 rounded-xl font-bold mt-4",children:"Save Product"})]})]})}),p.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-surface-container/80 backdrop-blur-xl border-t border-border z-40 pb-safe",children:p.jsxs("div",{className:"max-w-5xl mx-auto px-6 py-4 flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-[10px] font-bold text-muted-foreground uppercase tracking-widest leading-none mb-1",children:"Total Payable"}),p.jsxs("p",{className:"text-3xl font-bold font-heading text-foreground",children:["",dn().toLocaleString("en-IN")]})]}),p.jsxs("div",{className:"text-right",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-1 justify-end",children:[p.jsx("span",{className:"w-2 h-2 rounded-full bg-google-green"}),p.jsxs("span",{className:"text-[10px] font-bold text-muted-foreground uppercase tracking-widest",children:[_.filter(Le=>Le.productId).length," Items Added"]})]}),p.jsx("p",{className:"text-[11px] font-bold text-google-blue",children:F==="FIXED"?"Rounded Off":"Exact Amount"})]})]})})]})},dP=({invoices:t,onView:e,onEdit:n,onDelete:r,onViewLedger:i})=>{const s=t||it.getInvoices(),[a,o]=ke.useState(""),[c,f]=ke.useState("ALL"),[d,m]=ke.useState(null),g=ke.useMemo(()=>s.filter(E=>{const _=E.customerName.toLowerCase().includes(a.toLowerCase())||E.invoiceNumber.toLowerCase().includes(a.toLowerCase()),A=c==="ALL"||E.status===c;return _&&A}).sort((E,_)=>new Date(_.date).getTime()-new Date(E.date).getTime()),[s,a,c]),y=E=>{confirm("Are you sure you want to delete this invoice?")&&(r?r(E):(it.deleteInvoice(E.id),window.location.reload()))};return p.jsxs("div",{className:"bg-background min-h-screen flex flex-col pb-32",children:[p.jsx("div",{className:"sticky top-0 z-30 px-4 pt-14 pb-4 bg-background/95 backdrop-blur-md",children:p.jsxs("div",{className:"max-w-5xl mx-auto",children:[p.jsxs("div",{className:"flex justify-between items-center mb-6",children:[p.jsx("h1",{className:"text-3xl font-bold font-heading text-foreground tracking-tight",children:"Invoices"}),p.jsxs("span",{className:"px-3 py-1 bg-surface-container-highest text-muted-foreground text-[10px] font-bold rounded-full border border-border uppercase tracking-widest",children:[g.length," Bills"]})]}),p.jsxs("div",{className:"relative group",children:[p.jsx("div",{className:"absolute inset-y-0 left-4 flex items-center pointer-events-none",children:p.jsx(aE,{className:"w-5 h-5 text-muted-foreground group-focus-within:text-google-blue transition-colors"})}),p.jsx("input",{type:"text",placeholder:"Search by client name or bill #",className:"w-full bg-surface-container-low border border-border rounded-[28px] pl-12 pr-4 py-4 outline-none text-sm font-semibold text-foreground placeholder:text-muted-foreground focus:ring-2 focus:ring-google-blue/20 focus:border-google-blue transition-all shadow-sm",value:a,onChange:E=>o(E.target.value)})]}),p.jsx("div",{className:"flex gap-2 mt-4 overflow-x-auto no-scrollbar py-1",children:["ALL","PAID","PENDING"].map(E=>p.jsx("button",{onClick:()=>f(E),className:`px-6 py-2 rounded-2xl text-[11px] font-bold uppercase tracking-wider transition-all border shadow-sm whitespace-nowrap ${c===E?"bg-google-blue text-white border-google-blue":"bg-surface-container-low text-muted-foreground border-border hover:bg-surface-container-highest"}`,children:E},E))})]})}),p.jsxs("div",{className:"max-w-5xl mx-auto w-full px-4 mt-4 space-y-3",children:[p.jsx(Ji,{mode:"popLayout",children:g.map(E=>p.jsxs("div",{className:"relative overflow-hidden rounded-[28px] group bg-surface-container-low border border-border shadow-sm hover:shadow-google transition-all",children:[p.jsx("div",{className:"absolute inset-0 bg-google-red flex justify-end items-center px-8",children:p.jsx(Lu,{className:"w-6 h-6 text-white"})}),p.jsxs(Et.div,{layout:!0,drag:"x",dragConstraints:{left:-100,right:0},dragElastic:.6,dragMomentum:!1,onDragEnd:(_,A)=>{A.offset.x<-80&&(qr.medium(),y(E))},initial:{opacity:0,scale:.98},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},whileTap:{scale:.99},className:"bg-surface-container-low p-5 flex justify-between items-center relative z-10 cursor-pointer",onClick:()=>e&&e(E),children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("div",{className:"w-12 h-12 rounded-full bg-google-blue/10 flex items-center justify-center text-google-blue font-bold text-lg border border-google-blue/5",children:E.customerName.charAt(0)}),p.jsxs("div",{className:"min-w-0",children:[p.jsx("h3",{className:"font-bold text-foreground text-sm tracking-tight truncate max-w-[180px]",children:E.customerName}),p.jsxs("p",{className:"text-[11px] text-muted-foreground font-semibold flex items-center gap-1.5 mt-0.5",children:["#",E.invoiceNumber,p.jsx("span",{className:"w-1 h-1 rounded-full bg-muted-foreground/30"}),new Date(E.date).toLocaleDateString("en-IN",{day:"2-digit",month:"short"})]})]})]}),p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsxs("div",{className:"text-right",children:[p.jsxs("p",{className:"text-base font-bold text-foreground",children:["",E.total.toLocaleString("en-IN")]}),p.jsx("span",{className:`text-[10px] font-bold px-2 py-0.5 rounded-full ${E.status==="PAID"?"bg-google-green/10 text-google-green":"bg-google-yellow/10 text-google-yellow"}`,children:E.status})]}),p.jsx("button",{className:"p-2 rounded-full hover:bg-surface-container-highest transition-colors text-muted-foreground",onClick:_=>{_.stopPropagation(),qr.light(),m(E)},children:p.jsx(rE,{className:"w-5 h-5"})})]})]})]},E.id))}),p.jsx(Ji,{children:d&&p.jsxs(p.Fragment,{children:[p.jsx(Et.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>m(null),className:"fixed inset-0 bg-black/60 backdrop-blur-[2px] z-[100]"}),p.jsxs(Et.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",damping:25,stiffness:200},className:"fixed bottom-0 left-0 right-0 bg-white dark:bg-slate-900 z-[101] rounded-t-[32px] shadow-2xl overflow-hidden pb-8",children:[p.jsx("div",{className:"flex justify-center py-3",children:p.jsx("div",{className:"w-12 h-1.5 bg-slate-200 dark:bg-slate-700 rounded-full"})}),p.jsxs("div",{className:"px-6 py-4 flex items-center gap-4 border-b border-slate-50 dark:border-slate-800/50",children:[p.jsx("div",{className:"w-14 h-14 rounded-2xl bg-blue-50 dark:bg-blue-900/20 flex items-center justify-center text-blue-600 dark:text-blue-400",children:p.jsx(Cu,{className:"w-7 h-7"})}),p.jsxs("div",{children:[p.jsx("h2",{className:"text-lg font-black font-heading text-slate-900 dark:text-slate-100 tracking-tight leading-tight",children:d.customerName}),p.jsxs("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mt-0.5 opacity-60",children:["Invoice: #",d.invoiceNumber]})]})]}),p.jsxs("div",{className:"px-4 py-4 space-y-2",children:[p.jsxs("button",{onClick:()=>{e&&e(d),m(null)},className:"w-full flex items-center gap-4 p-4 rounded-[24px] hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-all group active:scale-[0.98]",children:[p.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-50 dark:bg-blue-900/30 flex items-center justify-center text-blue-600 dark:text-blue-400 shrink-0",children:p.jsx(iE,{className:"w-6 h-6"})}),p.jsxs("div",{className:"flex-1 text-left min-w-0",children:[p.jsx("p",{className:"font-bold text-slate-900 dark:text-slate-100 text-base",children:"View Details"}),p.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"View or print breakdown"})]}),p.jsx(wu,{className:"w-5 h-5 text-slate-300 group-hover:text-slate-500 transition-colors"})]}),p.jsxs("button",{onClick:()=>{i&&i(d.customerId),m(null)},className:"w-full flex items-center gap-4 p-4 rounded-[24px] hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-all group active:scale-[0.98]",children:[p.jsx("div",{className:"w-12 h-12 rounded-full bg-indigo-50 dark:bg-indigo-900/30 flex items-center justify-center text-indigo-600 dark:text-indigo-400 shrink-0",children:p.jsx(Xd,{className:"w-6 h-6"})}),p.jsxs("div",{className:"flex-1 text-left min-w-0",children:[p.jsx("p",{className:"font-bold text-slate-900 dark:text-slate-100 text-base",children:"Customer Ledger"}),p.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Statement & history"})]}),p.jsx(wu,{className:"w-5 h-5 text-slate-300 group-hover:text-slate-500 transition-colors"})]}),p.jsxs("button",{onClick:()=>{n&&n(d),m(null)},className:"w-full flex items-center gap-4 p-4 rounded-[24px] hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-all group active:scale-[0.98]",children:[p.jsx("div",{className:"w-12 h-12 rounded-full bg-orange-50 dark:bg-orange-900/30 flex items-center justify-center text-orange-600 dark:text-orange-400 shrink-0",children:p.jsx(oE,{className:"w-6 h-6"})}),p.jsxs("div",{className:"flex-1 text-left min-w-0",children:[p.jsx("p",{className:"font-bold text-slate-900 dark:text-slate-100 text-base",children:"Edit Invoice"}),p.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Modify balance or items"})]}),p.jsx(wu,{className:"w-5 h-5 text-slate-300 group-hover:text-slate-500 transition-colors"})]}),p.jsx("div",{className:"pt-2",children:p.jsxs("button",{onClick:()=>{y(d),m(null)},className:"w-full flex items-center gap-4 p-4 rounded-[24px] hover:bg-red-50 dark:hover:bg-red-900/10 transition-all group active:scale-[0.98]",children:[p.jsx("div",{className:"w-12 h-12 rounded-full bg-red-50 dark:bg-red-900/30 flex items-center justify-center text-red-600 dark:text-red-400 shrink-0",children:p.jsx(Lu,{className:"w-6 h-6"})}),p.jsxs("div",{className:"flex-1 text-left min-w-0",children:[p.jsx("p",{className:"font-bold text-red-600 text-base",children:"Delete Permanently"}),p.jsx("p",{className:"text-xs text-red-400/80",children:"Remove record forever"})]}),p.jsx(wu,{className:"w-5 h-5 text-red-200 group-hover:text-red-400 transition-colors"})]})})]})]})]})}),g.length===0&&p.jsxs("div",{className:"text-center py-20",children:[p.jsx("div",{className:"w-16 h-16 bg-slate-100 dark:bg-slate-800 rounded-full flex items-center justify-center mx-auto mb-4 border-none",children:p.jsx(Cu,{className:"w-8 h-8 text-slate-300"})}),p.jsx("h3",{className:"text-slate-500 font-bold",children:"No results"}),p.jsx("p",{className:"text-slate-400 text-xs mt-1",children:"Adjust filters or search term"})]})]})]})},zue=()=>{const[t,e]=ke.useState([]),[n,r]=ke.useState(""),[i,s]=ke.useState(!1),[a,o]=ke.useState({name:"",price:0,stock:0,category:"General"}),[c,f]=ke.useState(null);ke.useEffect(()=>{e(it.getProducts())},[]);const d=A=>{o(A),f(A.id),s(!0)},m=A=>{if(A.preventDefault(),!a.name||a.price===void 0)return;const C=a.id?.trim()||crypto.randomUUID(),V={id:C,name:a.name,price:Number(a.price),stock:Number(a.stock)||0,category:a.category||"General",gstRate:a.gstRate,hsn:a.hsn};c&&c!==C&&it.deleteProduct(c),it.saveProduct(V),e(it.getProducts()),s(!1),o({name:"",price:0,stock:0,category:"General"}),f(null)},g=A=>{if(window.confirm("Delete this product?")){const C=t.filter(V=>V.id!==A);e(C)}},y=t.filter(A=>A.name.toLowerCase().includes(n.toLowerCase())),E=t.reduce((A,C)=>A+C.price*C.stock,0),_=t.filter(A=>A.stock<=10).length;return p.jsxs("div",{className:"bg-surface-container-low min-h-screen pb-32 font-sans",children:[p.jsx("div",{className:"pt-16 pb-8 px-6 md:px-12 bg-surface-container-low sticky top-0 z-30 transition-all",children:p.jsxs("div",{className:"max-w-6xl mx-auto flex flex-col md:flex-row md:items-center justify-between gap-6",children:[p.jsxs("div",{className:"flex flex-col",children:[p.jsx("span",{className:"text-[11px] font-black text-google-blue uppercase tracking-[0.3em] mb-2 px-1",children:"Management"}),p.jsx("h1",{className:"text-4xl md:text-5xl font-black font-heading text-foreground tracking-tight leading-none",children:"Inventory"})]}),p.jsxs(Et.button,{whileHover:{scale:1.02},whileTap:{scale:.95},onClick:()=>{s(!0),f(null),o({name:"",price:0,stock:0,category:"General"})},className:"bg-primary text-white px-8 py-4 rounded-full flex items-center justify-center gap-3 font-black text-sm uppercase tracking-widest shadow-google hover:shadow-google-lg transition-all",children:[p.jsx(Th,{className:"w-5 h-5",strokeWidth:3})," Add New Item"]})]})}),p.jsxs(Et.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-6xl mx-auto p-4 md:p-8 space-y-8",children:[p.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[p.jsxs("div",{className:"bg-surface-container-high p-6 rounded-[32px] border border-border shadow-sm group hover:bg-surface-container-highest transition-all",children:[p.jsx("div",{className:"w-12 h-12 rounded-2xl bg-google-blue/10 flex items-center justify-center text-google-blue mb-4 group-hover:scale-110 transition-transform",children:p.jsx(zf,{className:"w-6 h-6"})}),p.jsx("p",{className:"text-3xl font-black text-foreground font-heading",children:t.length}),p.jsx("p",{className:"text-[10px] uppercase font-black text-muted-foreground tracking-[0.2em] mt-1",children:"Total Products"})]}),p.jsxs("div",{className:"bg-surface-container-high p-6 rounded-[32px] border border-border shadow-sm group hover:bg-surface-container-highest transition-all",children:[p.jsx("div",{className:"w-12 h-12 rounded-2xl bg-google-green/10 flex items-center justify-center text-google-green mb-4 group-hover:scale-110 transition-transform",children:p.jsx(tp,{className:"w-6 h-6"})}),p.jsxs("p",{className:"text-3xl font-black text-foreground font-heading",children:["",Math.round(E).toLocaleString("en-IN")]}),p.jsx("p",{className:"text-[10px] uppercase font-black text-muted-foreground tracking-[0.2em] mt-1",children:"Inventory Value"})]}),p.jsxs("div",{className:`p-6 rounded-[32px] border transition-all h-full ${_>0?"bg-google-red/5 border-google-red/10 text-google-red":"bg-surface-container-high border-border text-foreground"}`,children:[p.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center mb-4 ${_>0?"bg-google-red/10":"bg-surface-container-highest"}`,children:p.jsx(mM,{className:"w-6 h-6"})}),p.jsx("p",{className:"text-3xl font-black font-heading",children:_}),p.jsx("p",{className:`text-[10px] uppercase font-black tracking-[0.2em] mt-1 ${_>0?"text-google-red":"text-muted-foreground"}`,children:"Low Stock Alerts"})]})]}),p.jsxs("div",{className:"relative group",children:[p.jsx("div",{className:"absolute left-6 top-1/2 -translate-y-1/2 text-muted-foreground group-focus-within:text-google-blue transition-colors",children:p.jsx(aE,{className:"w-6 h-6"})}),p.jsx("input",{type:"text",placeholder:"Search items by name or category...",className:"w-full pl-16 pr-8 py-6 bg-surface-container-high border-2 border-transparent focus:border-google-blue/20 rounded-[32px] shadow-sm focus:ring-4 focus:ring-google-blue/5 outline-none font-bold text-foreground transition-all placeholder:text-muted-foreground/40",value:n,onChange:A=>r(A.target.value)})]}),p.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:p.jsx(Ji,{mode:"popLayout",children:y.map(A=>p.jsxs(Et.div,{layout:!0,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"bg-surface border border-border p-6 rounded-[32px] shadow-sm hover:shadow-google-lg hover:border-google-blue/20 transition-all group relative overflow-hidden active:scale-[0.98]",children:[p.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-google-blue/5 rounded-full -mr-16 -mt-16 blur-2xl group-hover:bg-google-blue/10 transition-colors"}),p.jsxs("div",{className:"flex justify-between items-start mb-6 relative",children:[p.jsx("div",{className:"w-14 h-14 rounded-2xl bg-surface-container-high flex items-center justify-center text-google-blue shadow-inner group-hover:scale-110 transition-transform",children:p.jsx(zf,{className:"w-7 h-7"})}),p.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[p.jsx("button",{onClick:()=>d(A),className:"w-9 h-9 flex items-center justify-center text-muted-foreground hover:text-google-blue hover:bg-google-blue/5 rounded-full",children:p.jsx(s5,{className:"w-4 h-4"})}),p.jsx("button",{onClick:()=>g(A.id),className:"w-9 h-9 flex items-center justify-center text-muted-foreground hover:text-google-red hover:bg-google-red/5 rounded-full",children:p.jsx(Lu,{className:"w-4 h-4"})})]})]}),p.jsxs("div",{className:"relative",children:[p.jsx("h3",{className:"text-xl font-black text-foreground line-clamp-1 font-heading mb-1",children:A.name}),p.jsx("p",{className:"text-[10px] font-black text-muted-foreground uppercase tracking-[0.2em]",children:A.category})]}),p.jsxs("div",{className:"mt-8 pt-6 border-t border-border flex items-end justify-between relative",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-[9px] font-black text-muted-foreground uppercase tracking-widest mb-1",children:"Unit Price"}),p.jsxs("p",{className:"text-2xl font-black text-google-blue tracking-tighter",children:["",A.price.toLocaleString("en-IN")]})]}),p.jsxs("div",{className:"text-right",children:[p.jsx("p",{className:"text-[9px] font-black text-muted-foreground uppercase tracking-widest mb-2",children:"Stock Level"}),p.jsxs("span",{className:`px-4 py-1.5 rounded-full text-[10px] font-black uppercase tracking-tighter ${A.stock>10?"bg-google-green text-white shadow-lg shadow-google-green/20":"bg-google-red text-white shadow-lg shadow-google-red/20 animate-pulse"}`,children:[A.stock," Units"]})]})]})]},A.id))})}),y.length===0&&p.jsxs("div",{className:"text-center py-24 bg-surface-container-high/50 rounded-[40px] border-2 border-dashed border-border mt-8",children:[p.jsx("div",{className:"w-24 h-24 bg-surface-container-highest rounded-full flex items-center justify-center mx-auto mb-6",children:p.jsx(zf,{className:"w-12 h-12 text-muted-foreground/30",strokeWidth:1.5})}),p.jsx("h3",{className:"text-2xl font-black text-foreground mb-2 font-heading",children:"Empty Warehouse"}),p.jsx("p",{className:"text-sm font-bold text-muted-foreground uppercase tracking-widest",children:"Add your first item to get started"})]})]}),p.jsx(Ji,{children:i&&p.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 overflow-y-auto",children:[p.jsx(Et.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>s(!1),className:"absolute inset-0 bg-black/60 backdrop-blur-sm"}),p.jsxs(Et.div,{layoutId:"product-modal",initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},className:"relative bg-surface w-full max-w-xl rounded-[40px] overflow-hidden shadow-google-lg border border-border",children:[p.jsxs("div",{className:"p-10 pb-4 flex justify-between items-start",children:[p.jsxs("div",{children:[p.jsx("h2",{className:"text-4xl font-black font-heading text-foreground tracking-tight",children:a.id?"Edit item":"New item"}),p.jsx("p",{className:"text-sm font-bold text-muted-foreground uppercase tracking-widest mt-2",children:a.id?"Refining stock details":"Expansion mode active"})]}),p.jsx("button",{onClick:()=>s(!1),className:"w-12 h-12 bg-surface-container-high rounded-full flex items-center justify-center text-foreground hover:bg-surface-container-highest transition-colors",children:""})]}),p.jsxs("form",{onSubmit:m,className:"p-10 space-y-8",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsxs("div",{className:"space-y-3",children:[p.jsx("label",{className:"text-[10px] font-black text-muted-foreground uppercase tracking-[0.2em] px-2",children:"Identification Code"}),p.jsx("input",{className:"w-full p-4 bg-surface-container-high border-2 border-transparent focus:border-google-blue/30 rounded-[24px] text-base font-bold text-foreground focus:ring-4 focus:ring-google-blue/5 outline-none font-mono transition-all",placeholder:"SMART_CALC_ID",value:a.id||"",onChange:A=>o({...a,id:A.target.value})})]}),p.jsxs("div",{className:"space-y-3",children:[p.jsx("label",{className:"text-[10px] font-black text-muted-foreground uppercase tracking-[0.2em] px-2",children:"Category"}),p.jsx("input",{className:"w-full p-4 bg-surface-container-high border-2 border-transparent focus:border-google-blue/30 rounded-[24px] text-base font-bold text-foreground focus:ring-4 focus:ring-google-blue/5 outline-none transition-all",placeholder:"General",value:a.category||"",onChange:A=>o({...a,category:A.target.value})})]})]}),p.jsxs("div",{className:"space-y-3",children:[p.jsx("label",{className:"text-[10px] font-black text-muted-foreground uppercase tracking-[0.2em] px-2",children:"Product Label"}),p.jsx("input",{required:!0,autoFocus:!0,className:"w-full p-5 bg-surface-container-high border-2 border-transparent focus:border-google-blue/30 rounded-[24px] text-2xl font-black text-foreground focus:ring-4 focus:ring-google-blue/5 outline-none transition-all placeholder:text-muted-foreground/30 font-heading",placeholder:"Premium Product Name",value:a.name,onChange:A=>o({...a,name:A.target.value})})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[p.jsxs("div",{className:"space-y-3",children:[p.jsx("label",{className:"text-[10px] font-black text-muted-foreground uppercase tracking-[0.2em] px-2",children:"Sale Price ()"}),p.jsxs("div",{className:"relative",children:[p.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 font-black text-google-blue",children:""}),p.jsx("input",{required:!0,type:"number",className:"w-full p-5 pl-10 bg-surface-container-high border-2 border-transparent focus:border-google-blue/30 rounded-[24px] text-xl font-bold text-foreground focus:ring-4 focus:ring-google-blue/5 outline-none transition-all",placeholder:"0.00",value:a.price||"",onChange:A=>o({...a,price:Number(A.target.value)})})]})]}),p.jsxs("div",{className:"space-y-3",children:[p.jsx("label",{className:"text-[10px] font-black text-muted-foreground uppercase tracking-[0.2em] px-2",children:"Initial Stock"}),p.jsx("input",{required:!0,type:"number",className:"w-full p-5 bg-surface-container-high border-2 border-transparent focus:border-google-blue/30 rounded-[24px] text-xl font-bold text-foreground focus:ring-4 focus:ring-google-blue/5 outline-none transition-all",placeholder:"0",value:a.stock||"",onChange:A=>o({...a,stock:Number(A.target.value)})})]})]}),p.jsx(Et.button,{whileTap:{scale:.95},type:"submit",className:"w-full bg-google-blue text-white py-6 rounded-full font-black text-lg uppercase tracking-widest shadow-lg shadow-google-blue/20 hover:shadow-google-lg active:shadow-inner transition-all mt-4",children:"Confirm & Sync"})]})]})]})})]})},Gue=({onEditInvoice:t,onBack:e})=>{const[n,r]=ke.useState([]),[i,s]=ke.useState(null),[a,o]=ke.useState([]),[c,f]=ke.useState("HISTORY"),[d,m]=ke.useState(null),[g,y]=ke.useState(!1),[E,_]=ke.useState(""),[A,C]=ke.useState(new Date().toISOString().split("T")[0]),[V,R]=ke.useState("CASH"),[F,z]=ke.useState(""),[W,D]=ke.useState(""),[L,k]=ke.useState(""),[q,P]=ke.useState(!1),[M,j]=ke.useState({name:"",company:"",email:"",phone:"",address:"",state:"",gstin:""}),[ae,Ae]=ke.useState([]),[fe,xe]=ke.useState(!1),[Ne,me]=ke.useState(!1),[Re,re]=ke.useState(null);ke.useEffect(()=>{r(it.getCustomers());const ee=new Date,Ie=new Date(ee.getFullYear(),ee.getMonth(),1).toISOString().split("T")[0],Ye=new Date(ee.getFullYear(),ee.getMonth()+1,0).toISOString().split("T")[0];D(Ie),k(Ye)},[]);const B=ee=>{const Ie=it.getInvoices(),Ye=it.getPayments(),oe=Ie.filter(ft=>ft.customerId===ee.id),rt=Ye.filter(ft=>ft.customerId===ee.id),st=[...oe.map(ft=>({id:ft.id,date:ft.date,type:"INVOICE",reference:ft.invoiceNumber,amount:ft.total,status:ft.status,mode:ft.status==="PAID"?"CASH":"CREDIT",data:ft})),...rt.map(ft=>({id:ft.id,date:ft.date,type:"PAYMENT",reference:ft.reference||"Payment",amount:ft.amount,mode:ft.mode,data:ft}))];st.sort((ft,tt)=>new Date(tt.date).getTime()-new Date(ft.date).getTime()),o(st),s(ee),f("HISTORY")},Y=ee=>{if(ee.preventDefault(),!i)return;const Ie=Number(E);if(!Ie||Ie<=0)return alert("Enter valid amount");const Ye={id:crypto.randomUUID(),customerId:i.id,date:A,amount:Ie,mode:V,note:F,reference:"PAY-"+Date.now().toString().slice(-6)};it.savePayment(Ye);const oe=it.getCustomers();r(oe);const rt=oe.find(st=>st.id===i.id)||null;s(rt),rt&&B(rt),y(!1),_(""),z(""),R("CASH")},X=ee=>{if(!i)return;const Ie=it.getCompanyProfile();ee.type==="INVOICE"?C2.shareInvoice(ee.data,i,Ie):C2.sharePayment(ee.data,i,Ie)},Q=()=>{if(!i)return;it.addNotification(i.id,{type:"REMINDER",title:"Payment Reminder Sent",message:`A payment reminder was sent to ${i.email}.`,date:new Date().toISOString().split("T")[0]}),alert(`Reminder sent to ${i.email}`);const ee=it.getCustomers(),Ie=ee.find(Ye=>Ye.id===i.id)||null;r(ee),s(Ie)},ce=()=>{if(!i)return;const ee=it.getCompanyProfile(),Ie=a.filter(ft=>ft.date>=W&&ft.date<=L).sort((ft,tt)=>new Date(ft.date).getTime()-new Date(tt.date).getTime()),Ye=new mn;Ye.setFontSize(18),Ye.text("STATEMENT OF ACCOUNT",105,20,{align:"center"}),Ye.setFontSize(12),Ye.text(ee.name,105,30,{align:"center"}),Ye.setFontSize(10),Ye.text(`Customer: ${i.company}`,14,50),Ye.text(`Period: ${W} to ${L}`,14,56);let oe=70;Ye.setFillColor(240,240,240),Ye.rect(14,oe-6,182,8,"F"),Ye.setFont("helvetica","bold"),Ye.text("Date",16,oe),Ye.text("Details / Ref",45,oe),Ye.text("Debit",130,oe,{align:"right"}),Ye.text("Credit",160,oe,{align:"right"}),Ye.text("Mode",190,oe,{align:"right"}),Ye.setFont("helvetica","normal"),oe+=10;let rt=0,st=0;Ie.forEach(ft=>{Ye.text(ft.date,16,oe),Ye.text(ft.type==="INVOICE"?`Inv: ${ft.reference}`:`Pay: ${ft.reference}`,45,oe),ft.type==="INVOICE"?(Ye.text(ft.amount.toFixed(2),130,oe,{align:"right"}),rt+=ft.amount):Ye.text("-",130,oe,{align:"right"}),ft.type==="PAYMENT"?(Ye.text(ft.amount.toFixed(2),160,oe,{align:"right"}),st+=ft.amount):Ye.text("-",160,oe,{align:"right"}),Ye.text(ft.mode||"-",190,oe,{align:"right"}),oe+=8,oe>280&&(Ye.addPage(),oe=20)}),oe+=5,Ye.line(14,oe,196,oe),oe+=8,Ye.setFont("helvetica","bold"),Ye.text("Totals:",100,oe),Ye.text(rt.toFixed(2),130,oe,{align:"right"}),Ye.text(st.toFixed(2),160,oe,{align:"right"}),oe+=10,Ye.text("Current Outstanding Balance:",130,oe,{align:"right"}),Ye.text(`Rs. ${i.balance.toFixed(2)}`,160,oe,{align:"right"}),Ye.save(`Statement_${i.name}_${W}.pdf`)};if(i)return p.jsxs("div",{className:"bg-surface-container-low min-h-screen font-sans",children:[p.jsx(Ji,{children:d&&p.jsx(Et.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:"fixed inset-0 z-[60] bg-surface overflow-y-auto",children:p.jsx(s9,{invoice:d,onBack:()=>m(null),onEdit:ee=>{m(null),t&&t(ee)}})})}),p.jsxs("div",{className:"max-w-7xl mx-auto p-4 md:p-8 space-y-8",children:[p.jsxs("div",{className:"flex items-center gap-4 pt-4",children:[p.jsx(Et.button,{whileTap:{scale:.9},onClick:()=>s(null),className:"w-12 h-12 rounded-full bg-surface-container-high flex items-center justify-center text-foreground hover:bg-surface-container-highest transition-colors",children:p.jsx(Mu,{className:"w-5 h-5"})}),p.jsx("h2",{className:"text-xl font-bold text-foreground",children:"Client Profile"})]}),p.jsxs(Et.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-surface rounded-[40px] shadow-sm border border-border p-8 relative overflow-hidden",children:[p.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-surface-container-high/50 rounded-full -mr-20 -mt-20 blur-3xl pointer-events-none"}),p.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start gap-8 relative",children:[p.jsxs("div",{className:"flex-1 space-y-6",children:[p.jsx("div",{children:p.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[p.jsx("div",{className:"w-16 h-16 rounded-[24px] bg-google-blue/10 flex items-center justify-center text-google-blue font-black text-3xl shadow-inner",children:i.company.charAt(0)}),p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl md:text-4xl font-black font-heading text-foreground tracking-tight leading-none",children:i.company}),p.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[p.jsx("span",{className:"text-sm font-bold text-muted-foreground",children:i.name}),p.jsx("span",{className:"w-1 h-1 rounded-full bg-border"}),p.jsxs("div",{className:`px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-widest flex items-center gap-2 ${it.getCustomerBehaviorScore(i.id)>80?"bg-google-green/10 text-google-green":it.getCustomerBehaviorScore(i.id)>50?"bg-orange-100 text-orange-700":"bg-google-red/10 text-google-red"}`,children:["Trust Score: ",it.getCustomerBehaviorScore(i.id),"%"]})]})]})]})}),p.jsxs("div",{className:"flex flex-wrap gap-4",children:[p.jsxs("div",{className:"flex items-center gap-3 px-4 py-2 bg-surface-container-high rounded-full border border-border",children:[p.jsx(Qy,{className:"w-4 h-4 text-muted-foreground"}),p.jsx("span",{className:"text-xs font-bold text-foreground",children:i.email})]}),p.jsxs("div",{className:"flex items-center gap-3 px-4 py-2 bg-surface-container-high rounded-full border border-border",children:[p.jsx(by,{className:"w-4 h-4 text-muted-foreground"}),p.jsx("span",{className:"text-xs font-bold text-foreground",children:i.phone})]}),p.jsxs("div",{className:"flex items-center gap-3 px-4 py-2 bg-surface-container-high rounded-full border border-border",children:[p.jsx(fM,{className:"w-4 h-4 text-muted-foreground"}),p.jsx("span",{className:"text-xs font-bold text-foreground line-clamp-1 max-w-[200px]",children:i.address})]})]})]}),p.jsxs("div",{className:"flex flex-col items-end gap-6 w-full lg:w-auto",children:[p.jsxs("div",{className:"bg-surface-container-high/50 p-6 rounded-[32px] text-right min-w-[220px] border border-border",children:[p.jsx("p",{className:"text-[10px] font-black text-muted-foreground uppercase tracking-[0.2em] mb-1",children:"Outstanding Balance"}),p.jsxs("p",{className:`text-4xl font-black tracking-tighter ${i.balance>0?"text-google-red":"text-google-green"}`,children:["",i.balance.toLocaleString()]})]}),p.jsxs("div",{className:"flex gap-3 w-full justify-end",children:[p.jsxs(Et.button,{whileTap:{scale:.95},onClick:()=>{const ee=prompt("Enter follow-up note (e.g., 'Called for payment', 'Agreed to pay by Monday')");if(ee){const Ie={...i};Ie.followUpHistory||(Ie.followUpHistory=[]),Ie.followUpHistory.unshift({date:new Date().toISOString().split("T")[0],note:ee}),it.updateCustomer(Ie),s(Ie),qr.light()}},className:"px-6 py-3 bg-surface-container-highest rounded-full text-foreground text-sm font-bold flex items-center gap-2 hover:bg-surface-container-high transition-colors",children:[p.jsx(Gd,{className:"w-4 h-4"})," Log Call"]}),p.jsxs(Et.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>y(!0),className:"px-8 py-3 bg-google-blue text-white rounded-full text-sm font-black uppercase tracking-wide shadow-lg shadow-google-blue/20 flex items-center gap-2",children:[p.jsx(rM,{className:"w-4 h-4"})," Receive Payment"]})]})]})]})]}),p.jsx("div",{className:"flex gap-2 mb-6 bg-surface-container-high/50 p-1.5 rounded-full w-fit border border-border",children:["HISTORY","STATEMENT","NOTIFICATIONS"].map(ee=>p.jsx("button",{onClick:()=>f(ee),className:`px-6 py-3 rounded-full text-xs font-black uppercase tracking-widest transition-all ${c===ee?"bg-google-blue text-white shadow-md":"text-muted-foreground hover:bg-surface-container-highest hover:text-foreground"}`,children:ee==="HISTORY"?"History":ee==="STATEMENT"?"Statement":"Activity"},ee))}),p.jsx("div",{className:"bg-surface rounded-[40px] shadow-sm border border-border overflow-hidden min-h-[400px]",children:p.jsxs(Ji,{mode:"wait",children:[c==="HISTORY"&&p.jsx(Et.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:10},className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full min-w-[800px]",children:[p.jsx("thead",{className:"bg-surface-container-high/50 border-b border-border",children:p.jsxs("tr",{children:[p.jsx("th",{className:"px-8 py-6 text-left text-[10px] font-black text-muted-foreground uppercase tracking-[0.2em]",children:"Date"}),p.jsx("th",{className:"px-8 py-6 text-left text-[10px] font-black text-muted-foreground uppercase tracking-[0.2em]",children:"Reference"}),p.jsx("th",{className:"px-8 py-6 text-right text-[10px] font-black text-muted-foreground uppercase tracking-[0.2em]",children:"Debit"}),p.jsx("th",{className:"px-8 py-6 text-right text-[10px] font-black text-muted-foreground uppercase tracking-[0.2em]",children:"Credit"}),p.jsx("th",{className:"px-8 py-6 text-center text-[10px] font-black text-muted-foreground uppercase tracking-[0.2em]",children:"Status"}),p.jsx("th",{className:"px-8 py-6 text-center text-[10px] font-black text-muted-foreground uppercase tracking-[0.2em]",children:"Actions"})]})}),p.jsxs("tbody",{className:"divide-y divide-border",children:[a.map((ee,Ie)=>p.jsxs("tr",{className:"hover:bg-surface-container-high/30 transition-colors group",children:[p.jsx("td",{className:"px-8 py-6 text-sm font-bold text-muted-foreground",children:ee.date}),p.jsx("td",{className:"px-8 py-6",children:p.jsxs("div",{className:"flex flex-col",children:[p.jsx("span",{className:`text-sm font-black tracking-tight ${ee.type==="INVOICE"?"text-foreground":"text-google-green"}`,children:ee.type==="INVOICE"?`Invoice #${ee.reference}`:`Payment: ${ee.mode}`}),p.jsxs("span",{className:"text-[10px] font-bold text-muted-foreground uppercase tracking-wider mt-0.5",children:["ID: ",ee.data.id.slice(0,6)]})]})}),p.jsx("td",{className:"px-8 py-6 text-right",children:ee.type==="INVOICE"?p.jsxs("span",{className:"text-sm font-black text-foreground",children:["",ee.amount.toFixed(2)]}):p.jsx("span",{className:"text-sm font-bold text-muted-foreground/30",children:"-"})}),p.jsx("td",{className:"px-8 py-6 text-right",children:ee.type==="PAYMENT"?p.jsxs("span",{className:"text-sm font-black text-google-green",children:["",ee.amount.toFixed(2)]}):p.jsx("span",{className:"text-sm font-bold text-muted-foreground/30",children:"-"})}),p.jsx("td",{className:"px-8 py-6 text-center",children:p.jsx("span",{className:`px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-widest border ${ee.type==="INVOICE"?ee.status==="PAID"?"bg-green-100 border-green-200 text-green-700":"bg-amber-50 border-amber-200 text-amber-700":"bg-green-50 border-green-200 text-green-700"}`,children:ee.type==="INVOICE"?ee.status:"RECEIVED"})}),p.jsx("td",{className:"px-8 py-6",children:p.jsxs("div",{className:"flex items-center justify-center gap-2 opacity-60 group-hover:opacity-100 transition-opacity",children:[p.jsx("button",{onClick:()=>X(ee),className:"w-8 h-8 flex items-center justify-center rounded-full bg-green-50 text-green-600 hover:bg-green-100 transition-colors",title:"Share",children:p.jsx(Gd,{className:"w-4 h-4"})}),ee.type==="INVOICE"&&p.jsx("button",{onClick:()=>m(ee.data),className:"w-8 h-8 flex items-center justify-center rounded-full bg-blue-50 text-blue-600 hover:bg-blue-100 transition-colors",title:"View",children:p.jsx(iE,{className:"w-4 h-4"})})]})})]},ee.id)),a.length===0&&p.jsx("tr",{children:p.jsx("td",{colSpan:6,className:"py-20 text-center",children:p.jsxs("div",{className:"flex flex-col items-center gap-4 opacity-50",children:[p.jsx(Cu,{className:"w-12 h-12 text-muted-foreground"}),p.jsx("p",{className:"text-sm font-bold text-muted-foreground uppercase tracking-widest",children:"No transaction records found"})]})})})]})]})},"history"),c==="STATEMENT"&&p.jsxs(Et.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:10},className:"p-12 flex flex-col items-center justify-center text-center max-w-2xl mx-auto",children:[p.jsx("div",{className:"w-20 h-20 bg-google-blue/10 rounded-3xl flex items-center justify-center text-google-blue mb-6",children:p.jsx(tp,{className:"w-10 h-10"})}),p.jsx("h3",{className:"text-2xl font-black font-heading text-foreground mb-2",children:"Statement Generator"}),p.jsx("p",{className:"text-muted-foreground font-medium mb-10",children:"Select a date range to generate a professional PDF account statement."}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 w-full mb-8",children:[p.jsxs("div",{className:"space-y-2 text-left",children:[p.jsx("label",{className:"text-[10px] font-black text-muted-foreground uppercase tracking-[0.2em] px-2",children:"From Date"}),p.jsx("input",{type:"date",value:W,onChange:ee=>D(ee.target.value),className:"w-full p-4 bg-surface-container-high border-2 border-transparent focus:border-google-blue/30 rounded-[24px] text-sm font-bold text-foreground focus:ring-4 focus:ring-google-blue/5 outline-none transition-all"})]}),p.jsxs("div",{className:"space-y-2 text-left",children:[p.jsx("label",{className:"text-[10px] font-black text-muted-foreground uppercase tracking-[0.2em] px-2",children:"To Date"}),p.jsx("input",{type:"date",value:L,onChange:ee=>k(ee.target.value),className:"w-full p-4 bg-surface-container-high border-2 border-transparent focus:border-google-blue/30 rounded-[24px] text-sm font-bold text-foreground focus:ring-4 focus:ring-google-blue/5 outline-none transition-all"})]})]}),p.jsxs(Et.button,{whileTap:{scale:.95},onClick:ce,className:"w-full bg-foreground text-surface py-5 rounded-full font-black uppercase tracking-widest text-sm flex items-center justify-center gap-3 shadow-lg hover:bg-foreground/90 transition-all",children:[p.jsx(jp,{className:"w-5 h-5"})," Download Statement"]})]},"statement"),c==="NOTIFICATIONS"&&p.jsxs(Et.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:10},className:"p-8 grid grid-cols-1 lg:grid-cols-2 gap-12",children:[p.jsxs("div",{children:[p.jsxs("h3",{className:"text-xs font-black text-muted-foreground uppercase tracking-[0.2em] mb-6 flex items-center gap-2",children:["Follow-up Notes ",p.jsx("span",{className:"bg-surface-container-highest px-2 py-0.5 rounded-full text-[9px] text-foreground",children:"Internal"})]}),p.jsxs("div",{className:"space-y-4",children:[(i.followUpHistory||[]).map((ee,Ie)=>p.jsxs("div",{className:"p-4 bg-surface-container-high/30 border border-border rounded-[24px]",children:[p.jsxs("p",{className:"text-sm font-bold text-foreground mb-2",children:['"',ee.note,'"']}),p.jsx("p",{className:"text-[10px] font-black text-muted-foreground uppercase tracking-widest",children:ee.date})]},Ie)),(!i.followUpHistory||i.followUpHistory.length===0)&&p.jsx("p",{className:"text-sm text-muted-foreground italic pl-2",children:"No internal notes added yet."})]})]}),p.jsxs("div",{children:[p.jsxs("div",{className:"flex justify-between items-center mb-6",children:[p.jsx("h3",{className:"text-xs font-black text-muted-foreground uppercase tracking-[0.2em]",children:"Activity Log"}),p.jsx("button",{onClick:Q,className:"text-[10px] font-black uppercase tracking-widest text-google-blue hover:underline decoration-2 underline-offset-4",children:"Send Reminder Now"})]}),p.jsxs("div",{className:"relative border-l-2 border-surface-container-highest ml-3 space-y-8 pl-8 py-2",children:[(i.notifications||[]).map(ee=>p.jsxs("div",{className:"relative",children:[p.jsx("div",{className:`absolute -left-[41px] top-0 w-6 h-6 rounded-full border-4 border-surface flex items-center justify-center ${ee.type==="INVOICE"?"bg-google-blue":ee.type==="PAYMENT"?"bg-google-green":"bg-orange-400"}`}),p.jsx("h4",{className:"text-sm font-bold text-foreground",children:ee.title}),p.jsx("p",{className:"text-xs text-muted-foreground mt-1 mb-1",children:ee.message}),p.jsx("span",{className:"text-[10px] font-black text-muted-foreground/50 uppercase tracking-widest",children:ee.date})]},ee.id)),(!i.notifications||i.notifications.length===0)&&p.jsx("p",{className:"text-sm text-muted-foreground italic",children:"No activity recorded yet."})]})]})]},"notifications")]})})]}),p.jsx(Ji,{children:g&&p.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[p.jsx(Et.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>y(!1),className:"absolute inset-0 bg-black/60 backdrop-blur-sm"}),p.jsxs(Et.div,{initial:{scale:.9,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0,y:20},className:"relative bg-surface w-full max-w-md rounded-[40px] shadow-google-lg overflow-hidden border border-border",children:[p.jsxs("div",{className:"p-8 border-b border-border bg-surface-container-high/30 flex justify-between items-center",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"text-2xl font-black font-heading text-foreground",children:"Receive Payment"}),p.jsx("p",{className:"text-xs font-bold text-muted-foreground uppercase tracking-widest mt-1",children:"Record transaction"})]}),p.jsx("button",{onClick:()=>y(!1),className:"w-10 h-10 rounded-full bg-surface-container-high flex items-center justify-center hover:bg-surface-container-highest transition-colors",children:p.jsx(Iu,{className:"w-5 h-5 text-muted-foreground"})})]}),p.jsxs("form",{onSubmit:Y,className:"p-8 space-y-6",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-[10px] font-black text-muted-foreground uppercase tracking-[0.2em] px-2",children:"Amount Received"}),p.jsxs("div",{className:"relative",children:[p.jsx("span",{className:"absolute left-6 top-1/2 -translate-y-1/2 text-xl font-black text-foreground",children:""}),p.jsx("input",{type:"number",required:!0,value:E,onChange:ee=>_(ee.target.value),className:"w-full p-6 pl-12 bg-surface-container-high border-2 border-transparent focus:border-google-green/30 rounded-[24px] text-3xl font-black text-foreground focus:ring-4 focus:ring-google-green/5 outline-none transition-all placeholder:text-muted-foreground/20",placeholder:"0.00",autoFocus:!0})]})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-[10px] font-black text-muted-foreground uppercase tracking-[0.2em] px-2",children:"Date"}),p.jsx("input",{type:"date",required:!0,value:A,onChange:ee=>C(ee.target.value),className:"w-full p-4 bg-surface-container-high border-2 border-transparent focus:border-google-blue/30 rounded-[24px] text-sm font-bold text-foreground focus:ring-4 focus:ring-google-blue/5 outline-none transition-all"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-[10px] font-black text-muted-foreground uppercase tracking-[0.2em] px-2",children:"Mode"}),p.jsxs("select",{value:V,onChange:ee=>R(ee.target.value),className:"w-full p-4 bg-surface-container-high border-2 border-transparent focus:border-google-blue/30 rounded-[24px] text-sm font-bold text-foreground focus:ring-4 focus:ring-google-blue/5 outline-none transition-all appearance-none",children:[p.jsx("option",{value:"CASH",children:"Cash"}),p.jsx("option",{value:"UPI",children:"UPI / Online"}),p.jsx("option",{value:"BANK_TRANSFER",children:"Bank Transfer"}),p.jsx("option",{value:"CHEQUE",children:"Cheque"})]})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-[10px] font-black text-muted-foreground uppercase tracking-[0.2em] px-2",children:"Reference Note"}),p.jsx("input",{type:"text",value:F,onChange:ee=>z(ee.target.value),className:"w-full p-4 bg-surface-container-high border-2 border-transparent focus:border-google-blue/30 rounded-[24px] text-sm font-bold text-foreground focus:ring-4 focus:ring-google-blue/5 outline-none transition-all",placeholder:"Optional details..."})]}),p.jsx(Et.button,{whileTap:{scale:.95},type:"submit",className:"w-full bg-google-green text-white py-5 rounded-full font-black uppercase tracking-widest text-sm shadow-xl shadow-google-green/20 hover:shadow-google-lg mt-2",children:"Process Payment"})]})]})]})})]});const _e=ee=>{if(ee.preventDefault(),!M.name||!M.company||!M.email){alert("Please fill name, company, and email");return}const Ie={id:crypto.randomUUID(),name:M.name,company:M.company,email:M.email,phone:M.phone,address:M.address,state:M.state,gstin:M.gstin,balance:0,notifications:[]};it.saveCustomer(Ie),r(it.getCustomers()),P(!1),j({name:"",company:"",email:"",phone:"",address:"",state:"",gstin:""}),alert("Customer added successfully!")},Pe=ee=>{re({...ee}),me(!0)},Z=ee=>{if(ee.preventDefault(),!!Re){if(!Re.name||!Re.company||!Re.email){alert("Please fill name, company, and email");return}it.updateCustomer(Re),r(it.getCustomers()),me(!1),re(null),alert("Customer updated successfully!")}},Ce=ee=>{confirm("Are you sure you want to delete this customer? This will also affect all their invoices and payments.")&&(it.deleteCustomer(ee),r(it.getCustomers()),me(!1),re(null))},qe=()=>{const ee=it.getCompanyProfile();return!!(ee?.gst_enabled||ee?.gst)};return p.jsxs("div",{className:"bg-surface-container-low min-h-screen font-sans",children:[p.jsx(Ji,{children:Ne&&Re&&(()=>{const ee=qe();return p.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[p.jsx(Et.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>{me(!1),re(null)},className:"absolute inset-0 bg-black/60 backdrop-blur-sm"}),p.jsxs(Et.div,{initial:{scale:.95,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.95,opacity:0,y:20},className:"relative bg-surface rounded-[40px] shadow-google-lg w-full max-w-lg overflow-hidden border border-border",children:[p.jsx("div",{className:"p-8 border-b border-border bg-surface-container-high/30",children:p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"text-2xl font-black font-heading text-foreground",children:"Edit Customer"}),p.jsx("p",{className:"text-xs font-bold text-muted-foreground uppercase tracking-widest mt-1",children:"Update details"})]}),p.jsx("button",{onClick:()=>{me(!1),re(null)},className:"w-10 h-10 rounded-full bg-surface-container-high flex items-center justify-center hover:bg-surface-container-highest transition-colors",children:p.jsx(Iu,{className:"w-5 h-5 text-muted-foreground"})})]})}),p.jsx("div",{className:"p-8 max-h-[70vh] overflow-y-auto",children:p.jsxs("form",{onSubmit:Z,className:"space-y-6",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-[10px] font-black text-muted-foreground uppercase tracking-[0.2em] px-2",children:"Customer Name"}),p.jsx("input",{type:"text",required:!0,value:Re.name,onChange:Ie=>re({...Re,name:Ie.target.value}),className:"w-full p-4 bg-surface-container-high border-2 border-transparent focus:border-google-blue/30 rounded-[24px] text-base font-bold text-foreground focus:ring-4 focus:ring-google-blue/5 outline-none transition-all",placeholder:"Full name"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-[10px] font-black text-muted-foreground uppercase tracking-[0.2em] px-2",children:"Company Name"}),p.jsx("input",{type:"text",required:!0,value:Re.company,onChange:Ie=>re({...Re,company:Ie.target.value}),className:"w-full p-4 bg-surface-container-high border-2 border-transparent focus:border-google-blue/30 rounded-[24px] text-base font-bold text-foreground focus:ring-4 focus:ring-google-blue/5 outline-none transition-all",placeholder:"Company Name"})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-[10px] font-black text-muted-foreground uppercase tracking-[0.2em] px-2",children:"Email"}),p.jsx("input",{type:"email",required:!0,value:Re.email,onChange:Ie=>re({...Re,email:Ie.target.value}),className:"w-full p-4 bg-surface-container-high border-2 border-transparent focus:border-google-blue/30 rounded-[24px] text-sm font-bold text-foreground focus:ring-4 focus:ring-google-blue/5 outline-none transition-all"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-[10px] font-black text-muted-foreground uppercase tracking-[0.2em] px-2",children:"Phone"}),p.jsx("input",{type:"tel",value:Re.phone,onChange:Ie=>re({...Re,phone:Ie.target.value}),className:"w-full p-4 bg-surface-container-high border-2 border-transparent focus:border-google-blue/30 rounded-[24px] text-sm font-bold text-foreground focus:ring-4 focus:ring-google-blue/5 outline-none transition-all"})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-[10px] font-black text-muted-foreground uppercase tracking-[0.2em] px-2",children:"Address"}),p.jsx("textarea",{value:Re.address,onChange:Ie=>re({...Re,address:Ie.target.value}),rows:2,className:"w-full p-4 bg-surface-container-high border-2 border-transparent focus:border-google-blue/30 rounded-[24px] text-sm font-bold text-foreground focus:ring-4 focus:ring-google-blue/5 outline-none transition-all resize-none"})]}),ee&&p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-[10px] font-black text-muted-foreground uppercase tracking-[0.2em] px-2",children:"State"}),p.jsx("input",{type:"text",value:Re.state||"",onChange:Ie=>re({...Re,state:Ie.target.value}),className:"w-full p-4 bg-surface-container-high border-2 border-transparent focus:border-google-blue/30 rounded-[24px] text-sm font-bold text-foreground focus:ring-4 focus:ring-google-blue/5 outline-none transition-all"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-[10px] font-black text-muted-foreground uppercase tracking-[0.2em] px-2",children:"GSTIN"}),p.jsx("input",{type:"text",value:Re.gstin||"",onChange:Ie=>re({...Re,gstin:Ie.target.value}),className:"w-full p-4 bg-surface-container-high border-2 border-transparent focus:border-google-blue/30 rounded-[24px] text-sm font-bold text-foreground focus:ring-4 focus:ring-google-blue/5 outline-none transition-all"})]})]}),p.jsxs("div",{className:"flex gap-4 pt-4",children:[p.jsx(Et.button,{whileTap:{scale:.95},type:"submit",className:"flex-1 bg-google-blue text-white py-4 rounded-full font-black uppercase tracking-widest text-xs shadow-lg shadow-google-blue/20",children:"Save Changes"}),p.jsx(Et.button,{whileTap:{scale:.95},type:"button",onClick:()=>Ce(Re.id),className:"px-6 bg-google-red/10 text-google-red py-4 rounded-full font-black hover:bg-google-red/20 flex items-center gap-2 transition-colors",children:p.jsx(Lu,{className:"w-5 h-5"})})]})]})})]})]})})()}),p.jsxs("div",{className:"p-4 md:p-8 pb-32 max-w-7xl mx-auto",children:[p.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6 mb-10 pt-4",children:[p.jsxs("div",{className:"flex items-center gap-4",children:[e&&p.jsx(Et.button,{whileTap:{scale:.9},onClick:e,className:"w-12 h-12 rounded-full bg-surface-container-high flex items-center justify-center text-foreground hover:bg-surface-container-highest transition-colors",children:p.jsx(Mu,{className:"w-5 h-5"})}),p.jsxs("div",{children:[p.jsx("h2",{className:"text-4xl font-black font-heading text-foreground tracking-tight",children:"Customers"}),p.jsx("p",{className:"text-sm font-bold text-muted-foreground mt-1",children:"Manage client relationships"})]})]}),p.jsxs(Et.button,{whileHover:{scale:1.02},whileTap:{scale:.95},onClick:()=>P(!0),className:"bg-primary text-white px-8 py-4 rounded-full flex items-center justify-center gap-3 font-black text-sm uppercase tracking-widest shadow-google hover:shadow-google-lg transition-all",children:[p.jsx(e2,{className:"w-5 h-5"}),p.jsx("span",{className:"hidden sm:inline",children:"Add Customer"})]})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:p.jsx(Ji,{mode:"popLayout",children:n.map(ee=>p.jsxs(Et.div,{layout:!0,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},onClick:()=>B(ee),className:"bg-surface border border-border p-6 rounded-[32px] shadow-sm hover:shadow-google-lg transition-all cursor-pointer group relative overflow-hidden",children:[p.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-surface-container-high rounded-full -mr-16 -mt-16 group-hover:bg-google-blue/10 transition-colors"}),p.jsxs("div",{className:"flex justify-between items-start mb-6 relative",children:[p.jsx("div",{className:"w-14 h-14 bg-surface-container-high text-google-blue rounded-[20px] flex items-center justify-center font-black text-xl shadow-inner group-hover:scale-110 transition-transform",children:ee.company.charAt(0)}),p.jsx(Et.button,{whileTap:{scale:.9},onClick:Ie=>{Ie.stopPropagation(),Pe(ee)},className:"w-10 h-10 flex items-center justify-center text-muted-foreground hover:text-google-blue hover:bg-google-blue/10 rounded-full transition-colors",children:p.jsx(oE,{className:"w-5 h-5"})})]}),p.jsxs("div",{className:"relative mb-6",children:[p.jsx("h3",{className:"font-black text-foreground text-xl leading-tight mb-1 truncate font-heading",children:ee.company}),p.jsx("p",{className:"text-sm font-medium text-muted-foreground truncate",children:ee.name})]}),p.jsxs("div",{className:"flex items-end justify-between border-t border-border pt-4 relative",children:[p.jsxs("div",{children:[p.jsx("span",{className:"text-[10px] font-black text-muted-foreground uppercase tracking-widest block mb-1",children:"Status"}),p.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-[10px] font-black uppercase tracking-wide ${ee.balance>0?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:ee.balance>0?"Pending":"Ok"})]}),p.jsxs("div",{className:"text-right",children:[p.jsx("span",{className:"text-[10px] font-black text-muted-foreground uppercase tracking-widest block mb-1",children:"Balance"}),p.jsxs("span",{className:`text-2xl font-black tracking-tight ${ee.balance>0?"text-google-red":"text-google-green"}`,children:["",ee.balance.toLocaleString()]})]})]})]},ee.id))})}),n.length===0&&p.jsxs("div",{className:"text-center py-24 bg-surface-container-high/30 rounded-[40px] border-2 border-dashed border-border mt-8",children:[p.jsx("div",{className:"w-24 h-24 bg-surface-container-highest rounded-[32px] flex items-center justify-center mx-auto mb-6",children:p.jsx(e2,{className:"w-10 h-10 text-muted-foreground/40"})}),p.jsx("h3",{className:"text-2xl font-black text-foreground mb-2 font-heading",children:"No Customers Yet"}),p.jsx("p",{className:"text-sm font-bold text-muted-foreground uppercase tracking-widest",children:"Add your first client to get started"})]})]}),p.jsx(Ji,{children:q&&(()=>{const ee=qe();return p.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[p.jsx(Et.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>P(!1),className:"absolute inset-0 bg-black/60 backdrop-blur-sm"}),p.jsxs(Et.div,{initial:{scale:.9,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0,y:20},className:"relative bg-surface w-full max-w-xl rounded-[40px] shadow-google-lg overflow-hidden border border-border max-h-[90vh] overflow-y-auto",children:[p.jsxs("div",{className:"p-8 border-b border-border bg-surface-container-high/30 flex justify-between items-center sticky top-0 backdrop-blur-md z-10",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"text-2xl font-black font-heading text-foreground",children:"New Customer"}),p.jsx("p",{className:"text-xs font-bold text-muted-foreground uppercase tracking-widest mt-1",children:"Add client details"})]}),p.jsx("button",{onClick:()=>P(!1),className:"w-10 h-10 rounded-full bg-surface-container-high flex items-center justify-center hover:bg-surface-container-highest transition-colors",children:p.jsx(Iu,{className:"w-5 h-5 text-muted-foreground"})})]}),p.jsx("div",{className:"p-8",children:p.jsxs("form",{onSubmit:_e,className:"space-y-6",children:[p.jsxs("div",{className:"group space-y-2",children:[p.jsxs("label",{className:"text-[10px] font-black text-muted-foreground uppercase tracking-[0.2em] px-2 flex items-center gap-2",children:["Customer Name ",p.jsx("span",{className:"w-1 h-1 rounded-full bg-google-red"})]}),p.jsx("input",{type:"text",required:!0,value:M.name,onChange:async Ie=>{const Ye=Ie.target.value;if(j({...M,name:Ye}),Ye.length>=2){const oe=await Wl.getCombinedContacts(Ye);Ae(oe),xe(!0)}else xe(!1)},onFocus:()=>{M.name.length>=2&&xe(!0)},className:"w-full p-4 bg-surface-container-high border-2 border-transparent focus:border-google-blue/30 rounded-[24px] text-lg font-bold text-foreground focus:ring-4 focus:ring-google-blue/5 outline-none transition-all placeholder:text-muted-foreground/30",placeholder:"Full Name"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs("label",{className:"text-[10px] font-black text-muted-foreground uppercase tracking-[0.2em] px-2 flex items-center gap-2",children:["Company Name ",p.jsx("span",{className:"w-1 h-1 rounded-full bg-google-red"})]}),p.jsx("input",{type:"text",required:!0,value:M.company,onChange:Ie=>j({...M,company:Ie.target.value}),className:"w-full p-4 bg-surface-container-high border-2 border-transparent focus:border-google-blue/30 rounded-[24px] text-lg font-bold text-foreground focus:ring-4 focus:ring-google-blue/5 outline-none transition-all placeholder:text-muted-foreground/30",placeholder:"Business Name"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs("label",{className:"text-[10px] font-black text-muted-foreground uppercase tracking-[0.2em] px-2 flex items-center gap-2",children:["Email ",p.jsx("span",{className:"w-1 h-1 rounded-full bg-google-red"})]}),p.jsx("input",{type:"email",required:!0,value:M.email,onChange:Ie=>j({...M,email:Ie.target.value}),className:"w-full p-4 bg-surface-container-high border-2 border-transparent focus:border-google-blue/30 rounded-[24px] text-base font-bold text-foreground focus:ring-4 focus:ring-google-blue/5 outline-none transition-all placeholder:text-muted-foreground/30",placeholder:"email@example.com"})]}),p.jsxs("div",{className:"relative space-y-2",children:[p.jsx("label",{className:"text-[10px] font-black text-muted-foreground uppercase tracking-[0.2em] px-2",children:"Phone Number"}),p.jsx("input",{type:"tel",value:M.phone,onChange:async Ie=>{const Ye=Ie.target.value;j({...M,phone:Ye});const oe=await Wl.resolveName(Ye);if(oe.name&&!M.name&&j(rt=>({...rt,name:oe.name,phone:Ye})),Ye.length>=2){const rt=await Wl.getCombinedContacts(Ye);Ae(rt),xe(!0)}else xe(!1)},onFocus:()=>{M.phone.length>=2&&xe(!0)},onBlur:()=>setTimeout(()=>xe(!1),200),className:"w-full p-4 bg-surface-container-high border-2 border-transparent focus:border-google-blue/30 rounded-[24px] text-base font-bold text-foreground focus:ring-4 focus:ring-google-blue/5 outline-none transition-all placeholder:text-muted-foreground/30",placeholder:"10-digit number"}),fe&&ae.length>0&&p.jsx(Et.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"absolute z-[120] left-0 right-0 top-full mt-2 bg-surface-container-highest border border-border rounded-[24px] shadow-google-lg max-h-48 overflow-y-auto p-2",children:ae.map((Ie,Ye)=>p.jsxs("button",{type:"button",onClick:()=>{j(oe=>({...oe,name:Ie.name,phone:Ie.phone})),xe(!1)},className:"w-full p-3 flex items-center gap-4 hover:bg-surface-container-high rounded-[20px] transition-colors text-left group",children:[p.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-[10px] font-black shrink-0 ${Ie.source==="db"?"bg-google-blue text-white":"bg-google-green text-white"}`,children:Ie.source==="db"?"DB":"PH"}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsx("div",{className:"text-xs font-bold text-foreground truncate group-hover:text-google-blue transition-colors",children:Ie.name}),p.jsx("div",{className:"text-[10px] font-medium text-muted-foreground",children:Ie.phone})]})]},Ye))})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-[10px] font-black text-muted-foreground uppercase tracking-[0.2em] px-2",children:"Billing Address"}),p.jsx("textarea",{value:M.address,onChange:Ie=>j({...M,address:Ie.target.value}),rows:2,className:"w-full p-4 bg-surface-container-high border-2 border-transparent focus:border-google-blue/30 rounded-[24px] text-base font-bold text-foreground focus:ring-4 focus:ring-google-blue/5 outline-none transition-all placeholder:text-muted-foreground/30 resize-none",placeholder:"Full Address"})]}),ee&&p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-[10px] font-black text-muted-foreground uppercase tracking-[0.2em] px-2",children:"State"}),p.jsx("input",{type:"text",value:M.state,onChange:Ie=>j({...M,state:Ie.target.value}),className:"w-full p-4 bg-surface-container-high border-2 border-transparent focus:border-google-blue/30 rounded-[24px] text-base font-bold text-foreground focus:ring-4 focus:ring-google-blue/5 outline-none transition-all",placeholder:"State Name"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-[10px] font-black text-muted-foreground uppercase tracking-[0.2em] px-2",children:"GSTIN (Optional)"}),p.jsx("input",{type:"text",value:M.gstin,onChange:Ie=>j({...M,gstin:Ie.target.value}),className:"w-full p-4 bg-surface-container-high border-2 border-transparent focus:border-google-blue/30 rounded-[24px] text-base font-bold text-foreground focus:ring-4 focus:ring-google-blue/5 outline-none transition-all",placeholder:"GST Number",maxLength:15})]})]}),p.jsx(Et.button,{whileTap:{scale:.95},type:"submit",className:"w-full bg-google-blue text-white py-5 rounded-full font-black uppercase tracking-widest text-sm shadow-xl shadow-google-blue/20 hover:shadow-google-lg mt-4",children:"Add Customer to Database"})]})})]})]})})()})]})},Wue=()=>{const{company:t,saveCompany:e}=Rh(),[n,r]=ke.useState({name:"",address:"",phone:"",email:"",upiId:""}),[i,s]=ke.useState({apiKey:"",authDomain:"",projectId:"",storageBucket:"",messagingSenderId:"",appId:""}),[a,o]=ke.useState(!1),[c,f]=ke.useState(t?.gst_enabled??!0),[d,m]=ke.useState(t?.gst??""),[g,y]=ke.useState(t?.show_hsn_summary??!0),[E,_]=ke.useState(t?.roundUpDefault??0),[A,C]=ke.useState("IDLE"),[V,R]=ke.useState(!1),[F,z]=ke.useState(!1),[W,D]=ke.useState(""),[L,k]=ke.useState(null),q=ke.useRef(null);ke.useEffect(()=>{if(t)r({name:t.name||"",address:t.address||"",phone:t.phone||"",email:t.email||"",upiId:t.upiId||""}),f(t.gst_enabled??!0),m(t.gst||""),y(t.show_hsn_summary??!0),_(t.roundUpDefault??0);else{const re=it.getCompanyProfile();r(re)}const Re=it.getFirebaseConfig();Re&&s(Re),R(sr.isReady())},[t]);const P=(Re,re)=>{r(B=>({...B,[Re]:re})),o(!1)},M=(Re,re)=>{s(B=>({...B,[Re]:re})),k(null)},j=async Re=>{Re.preventDefault();try{await e({name:n.name,address:n.address,phone:n.phone,email:n.email,gst:d,gst_enabled:c,show_hsn_summary:g,roundUpDefault:E,upiId:n.upiId}),it.saveCompanyProfile(n),o(!0),setTimeout(()=>o(!1),3e3)}catch(re){console.error("Failed to save settings:",re),alert("Failed to save settings. Please try again.")}},ae=async Re=>{Re.preventDefault(),k({success:!1,message:"Initializing..."}),it.saveFirebaseConfig(i),sr.init(i);{R(!0);const re=await sr.testConnection();k(re),re.success&&confirm("Connection Successful! The app needs to reload to sync your data. Reload now?")&&window.location.reload()}},Ae=()=>{const Re=["apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId"];let re=0;const B={...i};Re.forEach(Y=>{const X=new RegExp(`${Y}\\s*:\\s*["']([^"']+)["']`),Q=W.match(X);Q&&Q[1]&&(B[Y]=Q[1],re++)}),re>0?(s(B),z(!1),D(""),alert(`Success! Auto-filled ${re} fields. Click 'Save & Connect' to finish.`)):alert("Could not find any configuration keys. Please paste the full 'firebaseConfig' code block.")},fe=()=>{alert(`PRIVACY POLICY

1. DATA COLLECTION
- We collect your profile information (Name, Business Name, Logo, Phone, Email) for invoice generation.
- We collect customer details (Name, GST, Phone, Address) provided by you.
- We save your local invoices and business data on your device using Browser Storage (LocalStorage/IndexedDB).

2. PERMISSIONS
- CONTACTS: Permission is used ONLY to save customer contact details to your phone's native address book for your convenience. We do not mass-read or upload your personal contacts to our servers.
- STORAGE: Required to save and share PDF invoices generated by the app.

3. CLOUD SYNC
- If you connect your own Firebase instance, your data is stored in your private cloud account. We do not have access to your private Firebase data.

4. SECURITY
- We implement AES-256 equivalent logic and follow industry-best practices (Clean Architecture) to ensure data safety.

5. THIRD PARTIES
- We NEVER share or sell your data to any third-party marketing companies. All data remains within your control.

6. COMPLIANCE
- This policy is designed to comply with India's IT Act, 2000 and DPDP Act, 2023.`)},xe=()=>{alert(`TERMS OF USE

1. USAGE
- This application is a tool for inventory and invoice management. You are responsible for the accuracy of invoices generated.

2. DATA
- You own all the data you create. BillBook is just a facilitator. 
- Data is stored locally on your device. Clearing browser history/cache may delete your data if not synced to cloud.

3. WARRANTY
- The application is provided 'AS IS'. We do not guarantee 100% uptime but strive for it.

4. LIMITATION OF LIABILITY
- Developers of BillBook are not liable for any financial losses, tax calculation errors, or data loss incidents.

5. GOVERNING LAW
- These terms are governed by Indian laws and subject to Jaipur jurisdiction.`)},Ne=()=>{const Re=it.exportAllData(),re="data:application/json;charset=utf-8,"+encodeURIComponent(Re),B=`billflow_backup_${new Date().toISOString().slice(0,10)}.json`,Y=document.createElement("a");Y.setAttribute("href",re),Y.setAttribute("download",B),Y.click()},me=Re=>{const re=Re.target.files?.[0];if(!re)return;const B=new FileReader;B.onload=Y=>{const X=Y.target?.result;typeof X=="string"&&(it.importData(X)?(C("SUCCESS"),setTimeout(()=>window.location.reload(),1500)):C("ERROR"))},B.readAsText(re),q.current&&(q.current.value="")};return p.jsxs("div",{className:"p-4 md:p-6 max-w-4xl mx-auto pb-24",children:[p.jsx("h2",{className:"text-xl md:text-3xl font-black text-slate-800 dark:text-slate-100 mb-2 tracking-tight uppercase italic",children:"Settings"}),p.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-8 font-medium",children:"Configure your company details and manage your data."}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[p.jsx("div",{className:"lg:col-span-2",children:p.jsxs("form",{onSubmit:j,className:"bg-white dark:bg-slate-900 rounded-[32px] shadow-sm border border-slate-200 dark:border-slate-800 overflow-hidden",children:[p.jsx("div",{className:"px-6 py-5 border-b border-slate-100 dark:border-slate-800 bg-slate-50 dark:bg-slate-900/50",children:p.jsxs("h3",{className:"text-lg font-black text-slate-900 dark:text-slate-100 flex items-center gap-3 uppercase italic tracking-tight",children:[p.jsx(iM,{className:"w-6 h-6 text-blue-600"})," Company Profile"]})}),p.jsxs("div",{className:"p-6 space-y-6",children:[p.jsxs("div",{className:"mb-4 p-4 bg-blue-50 dark:bg-blue-900/10 border border-blue-200 dark:border-blue-900/20 rounded-2xl",children:[p.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[p.jsx("input",{type:"checkbox",checked:c,onChange:Re=>f(Re.target.checked),className:"w-5 h-5 rounded-lg border-gray-300 dark:border-slate-700 bg-white dark:bg-slate-800"}),p.jsx("span",{className:"text-sm font-black text-blue-900 dark:text-blue-300",children:"Enable GST for Invoices"})]}),p.jsx("p",{className:"text-xs text-blue-700 dark:text-blue-400 mt-2 font-medium",children:"When enabled, GST rate can be set per item in invoices"})]}),c&&p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"space-y-1.5",children:[p.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-slate-500 mb-1",children:"GST Number"}),p.jsx("input",{type:"text",value:d,onChange:Re=>m(Re.target.value),placeholder:"Your GST Registration Number",className:"w-full rounded-2xl border border-slate-200 dark:border-slate-800 bg-slate-50 dark:bg-slate-800/50 p-3.5 text-sm font-bold text-slate-800 dark:text-slate-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"})]}),p.jsxs("div",{className:"pt-2",children:[p.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[p.jsx("input",{type:"checkbox",checked:g,onChange:Re=>y(Re.target.checked),className:"w-5 h-5 rounded-lg border-gray-300 dark:border-slate-700 bg-white dark:bg-slate-800"}),p.jsx("span",{className:"text-sm font-black text-slate-700 dark:text-slate-300",children:"Show HSN Summary in Invoices"})]}),p.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1 ml-8 italic",children:"Display HSN-wise tax summary in invoice PDFs (Tally format)"})]})]}),p.jsxs("div",{className:"mt-8 pt-8 border-t border-slate-100 dark:border-slate-800",children:[p.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-slate-500 mb-4",children:"Default Round Up for All Bills"}),p.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[p.jsxs("label",{className:`flex items-center justify-center gap-3 p-4 rounded-2xl border transition-all cursor-pointer ${E===0?"bg-primary text-white border-primary shadow-lg shadow-primary/20 scale-[1.02]":"bg-slate-50 dark:bg-slate-800/50 border-slate-200 dark:border-slate-800 text-slate-600 dark:text-slate-400"}`,children:[p.jsx("input",{type:"radio",name:"roundUp",className:"hidden",checked:E===0,onChange:()=>_(0)}),p.jsx("span",{className:"text-sm font-black uppercase tracking-tight",children:"No Rounding"})]}),p.jsxs("label",{className:`flex items-center justify-center gap-3 p-4 rounded-2xl border transition-all cursor-pointer ${E===10?"bg-primary text-white border-primary shadow-lg shadow-primary/20 scale-[1.02]":"bg-slate-50 dark:bg-slate-800/50 border-slate-200 dark:border-slate-800 text-slate-600 dark:text-slate-400"}`,children:[p.jsx("input",{type:"radio",name:"roundUp",className:"hidden",checked:E===10,onChange:()=>_(10)}),p.jsx("span",{className:"text-sm font-black uppercase tracking-tight",children:"Round to 10"})]}),p.jsxs("label",{className:`flex items-center justify-center gap-3 p-4 rounded-2xl border transition-all cursor-pointer ${E===100?"bg-primary text-white border-primary shadow-lg shadow-primary/20 scale-[1.02]":"bg-slate-50 dark:bg-slate-800/50 border-slate-200 dark:border-slate-800 text-slate-600 dark:text-slate-400"}`,children:[p.jsx("input",{type:"radio",name:"roundUp",className:"hidden",checked:E===100,onChange:()=>_(100)}),p.jsx("span",{className:"text-sm font-black uppercase tracking-tight",children:"Round to 100"})]})]}),p.jsx("p",{className:"text-[10px] text-slate-400 dark:text-slate-500 mt-4 font-black uppercase tracking-widest text-center italic opacity-60",children:"Applied to all new invoices automatically"})]}),p.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-slate-500 mb-1",children:"Company Name"}),p.jsx("input",{type:"text",required:!0,value:n.name,onChange:Re=>P("name",Re.target.value),className:"w-full rounded-2xl border border-slate-200 dark:border-slate-800 bg-slate-50 dark:bg-slate-800/50 p-3.5 text-sm font-bold text-slate-800 dark:text-slate-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-slate-500 mb-1",children:"Address"}),p.jsxs("div",{className:"relative",children:[p.jsx("div",{className:"absolute top-4 left-4 pointer-events-none",children:p.jsx(fM,{className:"h-4 w-4 text-slate-400"})}),p.jsx("textarea",{required:!0,rows:3,value:n.address,onChange:Re=>P("address",Re.target.value),className:"w-full rounded-2xl border border-slate-200 dark:border-slate-800 bg-slate-50 dark:bg-slate-800/50 pl-11 p-3.5 text-sm font-bold text-slate-800 dark:text-slate-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none resize-none"})]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-slate-500 mb-1",children:"Phone Number"}),p.jsxs("div",{className:"relative",children:[p.jsx("div",{className:"absolute inset-y-0 left-4 flex items-center pointer-events-none",children:p.jsx(by,{className:"h-4 w-4 text-slate-400"})}),p.jsx("input",{type:"text",required:!0,value:n.phone,onChange:Re=>P("phone",Re.target.value),className:"w-full rounded-2xl border border-slate-200 dark:border-slate-800 bg-slate-50 dark:bg-slate-800/50 pl-11 p-3.5 text-sm font-bold text-slate-800 dark:text-slate-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-slate-500 mb-1",children:"Email Address"}),p.jsxs("div",{className:"relative",children:[p.jsx("div",{className:"absolute inset-y-0 left-4 flex items-center pointer-events-none",children:p.jsx(Qy,{className:"h-4 w-4 text-slate-400"})}),p.jsx("input",{type:"email",required:!0,value:n.email,onChange:Re=>P("email",Re.target.value),className:"w-full rounded-2xl border border-slate-200 dark:border-slate-800 bg-slate-50 dark:bg-slate-800/50 pl-11 p-3.5 text-sm font-bold text-slate-800 dark:text-slate-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"})]})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-slate-500 mb-1",children:"UPI ID (for Payments)"}),p.jsx("input",{type:"text",value:n.upiId||"",onChange:Re=>P("upiId",Re.target.value),placeholder:"e.g. 9876543210@upi or merchant@okaxis",className:"w-full rounded-2xl border border-slate-200 dark:border-slate-800 bg-slate-50 dark:bg-slate-800/50 p-3.5 text-sm font-bold text-slate-800 dark:text-slate-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"}),p.jsx("p",{className:"text-[10px] text-slate-400 dark:text-slate-500 mt-2 font-black uppercase tracking-widest opacity-60",children:"Used to generate payment QR code on invoices automatically."})]})]})]}),p.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900/50 px-6 py-5 flex justify-between items-center border-t border-slate-100 dark:border-slate-800",children:[p.jsx("div",{className:"text-xs font-black uppercase tracking-widest text-emerald-600 dark:text-emerald-400",children:a&&" Profiles Synced"}),p.jsxs("button",{type:"submit",className:"flex items-center gap-2 px-8 py-3 bg-blue-600 text-white rounded-2xl hover:bg-blue-700 font-black uppercase tracking-widest text-[10px] shadow-xl shadow-blue-500/30 transition-all active:scale-95",children:[p.jsx(Zy,{className:"w-5 h-5 shadow-lg"})," Update Profile"]})]})]})}),p.jsx("div",{className:"lg:col-span-2 mt-8",children:p.jsxs("form",{onSubmit:ae,className:"bg-white dark:bg-slate-900 rounded-[32px] shadow-sm border border-slate-200 dark:border-slate-800 overflow-hidden",children:[p.jsxs("div",{className:"px-6 py-5 border-b border-slate-100 dark:border-slate-800 bg-slate-50 dark:bg-slate-900/50 flex justify-between items-center",children:[p.jsxs("h3",{className:"text-lg font-black text-slate-900 dark:text-slate-100 flex items-center gap-3 uppercase italic tracking-tight",children:[p.jsx(aM,{className:"w-6 h-6 text-orange-500"})," Cloud Sync (Firebase)"]}),V?p.jsxs("span",{className:"flex items-center gap-2 text-[10px] font-black uppercase tracking-widest text-emerald-600 bg-emerald-100 dark:bg-emerald-900/30 px-3 py-1.5 rounded-full",children:[p.jsx(dg,{className:"w-3 h-3"})," Connected"]}):p.jsx("span",{className:"flex items-center gap-2 text-[10px] font-black uppercase tracking-widest text-slate-500 bg-slate-100 dark:bg-slate-800 px-3 py-1.5 rounded-full",children:"Disconnected"})]}),p.jsxs("div",{className:"p-6 space-y-4",children:[p.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-8",children:[p.jsxs("button",{type:"button",onClick:()=>z(!0),className:"flex-1 bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600 text-white p-4 rounded-2xl shadow-xl shadow-purple-500/20 hover:scale-[1.02] transition-all flex items-center justify-center gap-3 font-black uppercase tracking-widest text-[11px]",children:[p.jsx(qC,{className:"w-5 h-5"})," Super Auto-Fill Config"]}),p.jsxs("a",{href:"https://console.firebase.google.com/",target:"_blank",rel:"noopener noreferrer",className:"bg-slate-100 dark:bg-slate-800 text-slate-700 dark:text-slate-300 p-4 rounded-2xl hover:bg-slate-200 dark:hover:bg-slate-700 flex items-center justify-center gap-2 font-black uppercase tracking-widest text-[11px]",children:[p.jsx(oM,{className:"w-5 h-5"})," Console"]})]}),p.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/10 p-4 rounded-2xl text-[10px] text-blue-800 dark:text-blue-300 border border-blue-100 dark:border-blue-900/20 mb-6 font-black uppercase tracking-wider italic",children:"Paste config code using the button above or fill manually."}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:["apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId"].map(Re=>p.jsxs("div",{children:[p.jsx("label",{className:"block text-[10px] font-black uppercase tracking-widest text-slate-500 mb-1",children:Re}),p.jsx("input",{type:"text",className:"w-full border border-slate-200 dark:border-slate-800 rounded-xl bg-slate-50 dark:bg-slate-800/50 p-2.5 text-xs font-bold text-slate-800 dark:text-slate-200 focus:ring-2 focus:ring-orange-500 outline-none",value:i[Re],onChange:re=>M(Re,re.target.value)})]},Re))}),L&&p.jsxs("div",{className:`p-3 rounded border text-sm flex items-start gap-2 ${L.success?"bg-green-50 border-green-200 text-green-800":"bg-red-50 border-red-200 text-red-800"}`,children:[L.success?p.jsx(VW,{className:"w-5 h-5 flex-shrink-0"}):p.jsx(OW,{className:"w-5 h-5 flex-shrink-0"}),p.jsxs("div",{children:[p.jsx("p",{className:"font-bold",children:L.success?"Connected":"Connection Failed"}),p.jsx("p",{className:"text-xs opacity-90",children:L.message})]})]})]}),p.jsx("div",{className:"bg-slate-50 dark:bg-slate-900/50 px-6 py-5 flex justify-end items-center border-t border-slate-100 dark:border-slate-800",children:p.jsxs("button",{type:"submit",className:"flex items-center gap-2 px-8 py-3 bg-orange-500 text-white rounded-2xl hover:bg-orange-600 font-black uppercase tracking-widest text-[10px] shadow-xl shadow-orange-500/30 transition-all active:scale-95",children:[p.jsx(Zy,{className:"w-5 h-5 shadow-lg"})," Connect Database"]})})]})}),p.jsx("div",{className:"lg:col-span-2",children:p.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-[24px] shadow-sm border border-slate-200 dark:border-slate-800 overflow-hidden",children:[p.jsx("div",{className:"px-6 py-4 border-b border-gray-100 dark:border-slate-800 bg-gray-50 dark:bg-slate-900/50",children:p.jsxs("h3",{className:"text-lg font-bold text-slate-900 dark:text-slate-100 flex items-center gap-2",children:[p.jsx(qG,{className:"w-5 h-5 text-purple-600"})," Data Management"]})}),p.jsxs("div",{className:"p-6",children:[p.jsxs("div",{className:"p-4 bg-yellow-50 dark:bg-yellow-900/10 rounded-2xl border border-yellow-100 dark:border-yellow-900/20 mb-6 flex gap-3",children:[p.jsx(X2,{className:"w-5 h-5 text-yellow-600 flex-shrink-0 mt-0.5"}),p.jsxs("div",{className:"text-sm text-yellow-800 dark:text-yellow-200",children:[p.jsx("p",{className:"font-bold mb-1",children:"Manual Backup"}),"Download a backup regularly. If you clear browser history, your local data may be lost if not synced to cloud."]})]}),p.jsxs("div",{className:"mb-8 p-6 bg-emerald-50 dark:bg-emerald-900/10 border border-emerald-100 dark:border-emerald-900/20 rounded-[24px] flex items-center justify-between group",children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("div",{className:"w-12 h-12 rounded-2xl bg-emerald-500 text-white flex items-center justify-center shadow-lg shadow-emerald-500/20",children:p.jsx(dg,{className:"w-6 h-6"})}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-bold text-slate-800 dark:text-slate-200",children:"GitHub Daily Auto-Backup"}),p.jsx("p",{className:"text-xs text-slate-500",children:"Scheduled: Daily 2:00 AM (Zero Cost)"})]})]}),p.jsx("div",{className:"px-4 py-1.5 bg-emerald-500 text-white text-[10px] font-black uppercase tracking-widest rounded-full shadow-lg shadow-emerald-500/30",children:"Active"})]}),p.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[p.jsxs("button",{onClick:Ne,className:"flex items-center justify-center gap-4 p-5 bg-slate-50 dark:bg-slate-800/50 rounded-2xl hover:bg-blue-50 dark:hover:bg-blue-900/10 transition-all group border border-dashed border-slate-300 dark:border-slate-700",children:[p.jsx("div",{className:"bg-blue-100 dark:bg-blue-900/30 p-3 rounded-2xl group-hover:scale-110 transition-transform",children:p.jsx(jp,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),p.jsxs("div",{className:"text-left",children:[p.jsx("div",{className:"font-bold text-slate-800 dark:text-slate-200",children:"Backup Data"}),p.jsx("div",{className:"text-xs text-slate-500",children:"Secure JSON export"})]})]}),p.jsxs("button",{onClick:()=>q.current?.click(),className:"flex items-center justify-center gap-4 p-5 bg-slate-50 dark:bg-slate-800/50 rounded-2xl hover:bg-green-50 dark:hover:bg-green-900/10 transition-all group border border-dashed border-slate-300 dark:border-slate-700",children:[p.jsx("div",{className:"bg-green-100 dark:bg-green-900/30 p-3 rounded-2xl group-hover:scale-110 transition-transform",children:p.jsx(J2,{className:"w-6 h-6 text-green-600 dark:text-green-400"})}),p.jsxs("div",{className:"text-left",children:[p.jsx("div",{className:"font-bold text-slate-800 dark:text-slate-200",children:"Restore Data"}),p.jsx("div",{className:"text-xs text-slate-500",children:"Import from file"})]}),p.jsx("input",{type:"file",ref:q,onChange:me,accept:".json",className:"hidden"})]})]}),A==="SUCCESS"&&p.jsx("div",{className:"mt-4 p-3 bg-green-100 dark:bg-green-900/20 text-green-800 dark:text-green-400 rounded-xl text-center text-sm font-bold",children:"Data restored successfully!"})]})]})}),p.jsx("div",{className:"lg:col-span-2",children:p.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-[24px] shadow-sm border border-slate-200 dark:border-slate-800 p-6",children:[p.jsxs("h3",{className:"text-lg font-bold text-slate-900 dark:text-slate-100 mb-4 flex items-center gap-2",children:[p.jsx(by,{className:"w-5 h-5 text-blue-600"})," Support & Contact"]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("a",{href:"mailto:lovneetrathi@gmail.com",className:"flex items-center gap-4 p-4 bg-slate-50 dark:bg-slate-800/50 rounded-2xl border border-slate-100 dark:border-slate-800 hover:border-blue-500 transition-all",children:[p.jsx("div",{className:"p-3 bg-blue-100 dark:bg-blue-900/30 rounded-xl",children:p.jsx(Qy,{className:"w-5 h-5 text-blue-600"})}),p.jsxs("div",{children:[p.jsx("p",{className:"text-xs text-slate-500 font-bold uppercase tracking-wider",children:"Email Us"}),p.jsx("p",{className:"text-sm font-bold text-slate-800 dark:text-slate-200",children:"lovneetrathi@gmail.com"})]})]}),p.jsxs("a",{href:"tel:+919413821007",className:"flex items-center gap-4 p-4 bg-slate-50 dark:bg-slate-800/50 rounded-2xl border border-slate-100 dark:border-slate-800 hover:border-green-500 transition-all",children:[p.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900/30 rounded-xl",children:p.jsx(by,{className:"w-5 h-5 text-green-600"})}),p.jsxs("div",{children:[p.jsx("p",{className:"text-xs text-slate-500 font-bold uppercase tracking-wider",children:"Call Us"}),p.jsx("p",{className:"text-sm font-bold text-slate-800 dark:text-slate-200",children:"+91 9413821007"})]})]})]})]})}),p.jsx("div",{className:"lg:col-span-2",children:p.jsxs("div",{className:"bg-slate-100 dark:bg-slate-800/30 rounded-[24px] p-6 text-center",children:[p.jsx("h3",{className:"text-sm font-bold text-slate-400 uppercase tracking-widest mb-6 px-4 py-1 border border-slate-200 dark:border-slate-700 inline-block rounded-full",children:"Legal & Privacy"}),p.jsxs("div",{className:"flex flex-wrap justify-center gap-4 mb-8",children:[p.jsx("button",{onClick:fe,className:"px-6 py-2 bg-white dark:bg-slate-900 text-slate-600 dark:text-slate-400 rounded-full text-xs font-bold shadow-sm",children:"Privacy Policy"}),p.jsx("button",{onClick:xe,className:"px-6 py-2 bg-white dark:bg-slate-900 text-slate-600 dark:text-slate-400 rounded-full text-xs font-bold shadow-sm",children:"Terms of Use"}),p.jsx("button",{onClick:()=>alert(`Refund Policy:

BillBook is currently free to use. Should we introduce premium features, refunds will be processed via Google Play Store as per their standard policy. Contact support for any billing disputes.`),className:"px-6 py-2 bg-white dark:bg-slate-900 text-slate-600 dark:text-slate-400 rounded-full text-xs font-bold shadow-sm",children:"Refund Policy"})]}),p.jsxs("div",{className:"pt-6 border-t border-slate-200 dark:border-slate-800",children:[p.jsx("p",{className:"text-sm font-bold text-slate-800 dark:text-slate-200 italic",children:"BillBook - Version 1.3.4 (STABLE)"}),p.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Play Console Verified & Compliant"}),p.jsxs("div",{className:"mt-4 flex justify-center items-center gap-2 text-[10px] text-slate-400",children:[p.jsx(dg,{className:"w-3 h-3 text-green-500"})," Trusted for Play Console"]})]})]})})]}),F&&p.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-md flex items-center justify-center z-[100] p-4",children:p.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-[40px] shadow-2xl w-full max-w-2xl p-8 animate-in fade-in zoom-in duration-200 border border-slate-100 dark:border-slate-800",children:[p.jsxs("div",{className:"flex justify-between items-start mb-6",children:[p.jsxs("div",{children:[p.jsxs("h3",{className:"text-2xl font-black text-slate-900 dark:text-slate-100 flex items-center gap-3 uppercase italic tracking-tight",children:[p.jsx(qC,{className:"w-7 h-7 text-purple-600"})," Smart Auto-Fill"]}),p.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1 font-medium",children:"Paste the configuration code from Firebase console."})]}),p.jsx("button",{onClick:()=>z(!1),className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full transition-colors",children:p.jsx(DG,{className:"w-7 h-7 text-slate-300 hover:text-red-500 transition-colors"})})]}),p.jsx("textarea",{value:W,onChange:Re=>D(Re.target.value),placeholder:`Example paste:
const firebaseConfig = {
  apiKey: "AIzaSy...",
  authDomain: "project.firebaseapp.com",
  projectId: "project-id",
  ...
};`,className:"w-full h-64 p-5 border border-slate-200 dark:border-slate-800 rounded-3xl font-mono text-xs bg-slate-50 dark:bg-slate-950 text-slate-800 dark:text-slate-300 focus:ring-2 focus:ring-purple-500 outline-none mb-8 resize-none shadow-inner"}),p.jsxs("div",{className:"flex justify-end gap-3",children:[p.jsx("button",{onClick:()=>z(!1),className:"px-8 py-3 text-slate-500 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-2xl font-black uppercase tracking-widest text-[10px]",children:"Cancel"}),p.jsx("button",{onClick:Ae,className:"px-10 py-3 bg-purple-600 text-white rounded-2xl hover:bg-purple-700 font-black uppercase tracking-widest text-[10px] shadow-xl shadow-purple-500/30 active:scale-95",children:"Parse & Auto-Fill"})]})]})})]})},$ue=({initialDate:t})=>{const[e,n]=ke.useState(t||new Date().toISOString().split("T")[0]),[r,i]=ke.useState([]),[s,a]=ke.useState({totalSales:0,cashSales:0,creditSales:0,totalReceived:0,totalTransactions:0});ke.useEffect(()=>{const c=it.getInvoices()||[],f=it.getPayments()||[],d=c.filter(C=>C.date===e),m=f.filter(C=>C.date===e),g=d.reduce((C,V)=>C+V.total,0),y=d.filter(C=>C.status==="PAID").reduce((C,V)=>C+V.total,0),E=d.filter(C=>C.status==="PENDING").reduce((C,V)=>C+V.total,0),_=m.reduce((C,V)=>C+V.amount,0);a({totalSales:g,cashSales:y,creditSales:E,totalReceived:_+y,totalTransactions:d.length+m.length});const A=[...d.map(C=>({id:C.id,time:"Invoice",type:"SALE",party:C.customerName,amount:C.total,mode:C.status==="PAID"?"CASH":"CREDIT",ref:C.invoiceNumber})),...m.map(C=>{const V=it.getCustomers().find(R=>R.id===C.customerId);return{id:C.id,time:"Payment",type:"RECEIPT",party:V?.company||V?.name||"Customer",amount:C.amount,mode:C.mode,ref:C.reference||"N/A"}})];i(A)},[e]);const o=()=>{qr.medium();try{const c=new mn("p","mm","a4"),f=it.getCompanyProfile(),d=c.internal.pageSize.getWidth();let m=20;c.setFontSize(22),c.setTextColor(30,41,59),c.text(f?.name||"Daybook",d/2,m,{align:"center"}),m+=10,c.setFontSize(10),c.setTextColor(100,116,139),c.text(`Transaction Summary for ${e}`,d/2,m,{align:"center"}),m+=15,c.save(`daybook-${e}.pdf`)}catch{alert("PDF Save failed")}};return p.jsx("div",{className:"p-4 md:p-8 bg-slate-50 dark:bg-slate-900 min-h-full pb-24",children:p.jsxs("div",{className:"max-w-5xl mx-auto",children:[p.jsxs("div",{className:"flex justify-between items-end mb-8",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-[10px] font-black text-blue-600 dark:text-blue-400 uppercase tracking-widest mb-1",children:"Accounting Ledger"}),p.jsx("h1",{className:"text-4xl font-black text-slate-900 dark:text-slate-100 tracking-tighter",children:"Day Book"})]}),p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsxs("div",{className:"bg-white dark:bg-slate-800 p-2 rounded-2xl border border-slate-200 dark:border-slate-700 shadow-sm flex items-center gap-2",children:[p.jsx(sM,{className:"w-4 h-4 text-slate-400"}),p.jsx("input",{type:"date",value:e,onChange:c=>n(c.target.value),className:"bg-transparent text-sm font-bold outline-none text-slate-700 dark:text-slate-200"})]}),p.jsx("button",{onClick:o,className:"bg-slate-900 dark:bg-blue-600 text-white p-3 rounded-2xl shadow-xl active:scale-95 transition-all",children:p.jsx(jp,{className:"w-5 h-5"})})]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[p.jsxs(Et.div,{initial:{y:10,opacity:0},animate:{y:0,opacity:1},className:"bg-white dark:bg-slate-800 p-6 rounded-[32px] shadow-sm border border-slate-100 dark:border-slate-700",children:[p.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/30 w-10 h-10 rounded-xl flex items-center justify-center mb-4",children:p.jsx(_G,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),p.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mb-1",children:"Total Sales"}),p.jsxs("p",{className:"text-3xl font-black text-slate-900 dark:text-slate-100",children:["",s.totalSales.toLocaleString()]}),p.jsxs("p",{className:"text-[10px] font-bold text-slate-400 mt-2",children:["Cash: ",s.cashSales," | Credit: ",s.creditSales]})]}),p.jsxs(Et.div,{initial:{y:10,opacity:0},animate:{y:0,opacity:1},transition:{delay:.1},className:"bg-emerald-600 p-6 rounded-[32px] shadow-lg shadow-emerald-500/20 text-white",children:[p.jsx("div",{className:"bg-white/20 w-10 h-10 rounded-xl flex items-center justify-center mb-4",children:p.jsx(MW,{className:"w-5 h-5 text-white"})}),p.jsx("p",{className:"text-xs font-bold uppercase tracking-widest mb-1 opacity-70",children:"Cash In Hand"}),p.jsxs("p",{className:"text-3xl font-black",children:["",s.totalReceived.toLocaleString()]}),p.jsx("p",{className:"text-[10px] font-bold mt-2 opacity-70",children:"From Sales & Payments Received"})]}),p.jsxs(Et.div,{initial:{y:10,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},className:"bg-white dark:bg-slate-800 p-6 rounded-[32px] shadow-sm border border-slate-100 dark:border-slate-700",children:[p.jsx("div",{className:"bg-purple-50 dark:bg-purple-900/30 w-10 h-10 rounded-xl flex items-center justify-center mb-4",children:p.jsx(YG,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"})}),p.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mb-1",children:"Entries"}),p.jsx("p",{className:"text-3xl font-black text-slate-900 dark:text-slate-100",children:s.totalTransactions}),p.jsxs("p",{className:"text-[10px] font-bold text-slate-400 mt-2",children:["Activity for ",e]})]})]}),p.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-[32px] shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden",children:[p.jsx("div",{className:"px-6 py-4 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center",children:p.jsx("h3",{className:"font-bold text-slate-800 dark:text-slate-100",children:"Transaction Register"})}),p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full",children:[p.jsx("thead",{className:"bg-slate-50 dark:bg-slate-900/50",children:p.jsxs("tr",{children:[p.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-slate-400 uppercase",children:"Type"}),p.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-slate-400 uppercase",children:"Party"}),p.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-slate-400 uppercase",children:"Reference"}),p.jsx("th",{className:"px-6 py-4 text-right text-[10px] font-black text-slate-400 uppercase",children:"Amount"}),p.jsx("th",{className:"px-6 py-4 text-center text-[10px] font-black text-slate-400 uppercase",children:"Mode"})]})}),p.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:r.map((c,f)=>p.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-900/50 transition-colors",children:[p.jsx("td",{className:"px-6 py-4",children:p.jsxs("div",{className:`inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-[10px] font-black uppercase ${c.type==="SALE"?"bg-blue-50 text-blue-600":"bg-emerald-50 text-emerald-600"}`,children:[c.type==="SALE"?p.jsx(yG,{className:"w-3 h-3"}):p.jsx(ih,{className:"w-3 h-3"}),c.type]})}),p.jsx("td",{className:"px-6 py-4 text-sm font-bold text-slate-700 dark:text-slate-300",children:c.party}),p.jsx("td",{className:"px-6 py-4 text-xs font-medium text-slate-400",children:c.ref}),p.jsx("td",{className:"px-6 py-4 text-right",children:p.jsxs("p",{className:"text-sm font-black text-slate-900 dark:text-slate-100",children:["",c.amount.toLocaleString()]})}),p.jsx("td",{className:"px-6 py-4 text-center",children:p.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase",children:c.mode})})]},f))})]})})]})]})})},Kue=["Rent","Electricity","Salary","Tea/Snacks","Transportation","Marketing","Maintenance","Other"],Yue=({onBack:t})=>{const[e,n]=ke.useState([]),[r,i]=ke.useState(!1),[s,a]=ke.useState({date:new Date().toISOString().split("T")[0],category:"Other",paymentMode:"CASH"});ke.useEffect(()=>{n(it.getExpenses())},[]);const o=()=>{if(!s.amount||!s.category||!s.date){alert("Please fill all required fields");return}const d={id:crypto.randomUUID(),category:s.category,description:s.description||"",amount:Number(s.amount),date:s.date,paymentMode:s.paymentMode};it.saveExpense(d),n(it.getExpenses()),i(!1),a({date:new Date().toISOString().split("T")[0],category:"Other",paymentMode:"CASH"})},c=d=>{confirm("Are you sure you want to delete this expense?")&&(it.deleteExpense(d),n(it.getExpenses()))},f=e.reduce((d,m)=>d+m.amount,0);return p.jsxs("div",{className:"p-4 md:p-6 pb-24 md:pb-6 relative min-h-full",children:[p.jsxs("div",{className:"flex justify-between items-center mb-6",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[t&&p.jsx("button",{onClick:t,className:"md:hidden p-2 -ml-2 text-slate-500",children:p.jsx(Mu,{className:"w-5 h-5"})}),p.jsxs("div",{children:[p.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100",children:"Expenses"}),p.jsx("p",{className:"text-sm text-slate-500",children:"Track business costs"})]})]}),p.jsxs("button",{onClick:()=>i(!0),className:"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg flex items-center gap-2 shadow-sm transition-colors",children:[p.jsx(Th,{className:"w-4 h-4"}),p.jsx("span",{className:"hidden md:inline",children:"Add Expense"})]})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:p.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700",children:[p.jsx("p",{className:"text-slate-500 text-sm font-medium",children:"Total Expenses"}),p.jsxs("h3",{className:"text-3xl font-bold text-red-600 mt-1",children:["",f.toFixed(2)]})]})}),p.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden",children:e.length>0?p.jsx("div",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:e.map(d=>p.jsxs("div",{className:"p-4 hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors flex items-center justify-between group",children:[p.jsxs("div",{className:"flex items-start gap-4",children:[p.jsx("div",{className:"w-10 h-10 rounded-full bg-red-50 dark:bg-red-900/20 text-red-500 flex items-center justify-center flex-shrink-0",children:p.jsx(TW,{className:"w-5 h-5"})}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-semibold text-slate-800 dark:text-slate-200",children:d.category}),p.jsx("p",{className:"text-sm text-slate-500",children:d.description||"No description"}),p.jsxs("div",{className:"flex items-center gap-3 mt-1 text-xs text-slate-400",children:[p.jsxs("span",{className:"flex items-center gap-1",children:[p.jsx(sM,{className:"w-3 h-3"})," ",d.date]}),p.jsx("span",{className:"uppercase border border-slate-200 dark:border-slate-600 px-1.5 py-0.5 rounded text-[10px]",children:d.paymentMode})]})]})]}),p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsxs("p",{className:"font-bold text-slate-800 dark:text-slate-200",children:["",d.amount.toFixed(2)]}),p.jsx("button",{onClick:()=>c(d.id),className:"p-2 text-slate-400 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-opacity",children:p.jsx(Lu,{className:"w-4 h-4"})})]})]},d.id))}):p.jsxs("div",{className:"p-12 text-center text-slate-400",children:[p.jsx("div",{className:"w-16 h-16 bg-slate-100 dark:bg-slate-800 rounded-full flex items-center justify-center mx-auto mb-4",children:p.jsx(r5,{className:"w-8 h-8 text-slate-300"})}),p.jsx("p",{children:"No expenses recorded yet."})]})}),p.jsx(Ji,{children:r&&p.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-end md:items-center justify-center p-4 backdrop-blur-sm",children:p.jsxs(Et.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},className:"bg-white dark:bg-slate-800 w-full max-w-md rounded-2xl shadow-xl overflow-hidden",children:[p.jsxs("div",{className:"p-6 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center",children:[p.jsx("h3",{className:"font-bold text-lg text-slate-800 dark:text-slate-100",children:"Add New Expense"}),p.jsx("button",{onClick:()=>i(!1),className:"text-slate-400 hover:text-slate-600",children:"Close"})]}),p.jsxs("div",{className:"p-6 space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Date"}),p.jsx("input",{type:"date",value:s.date,onChange:d=>a({...s,date:d.target.value}),className:"w-full p-2 border border-slate-200 dark:border-slate-600 rounded-lg dark:bg-slate-700 dark:text-white"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Category"}),p.jsx("select",{value:s.category,onChange:d=>a({...s,category:d.target.value}),className:"w-full p-2 border border-slate-200 dark:border-slate-600 rounded-lg dark:bg-slate-700 dark:text-white",children:Kue.map(d=>p.jsx("option",{value:d,children:d},d))})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Amount ()"}),p.jsx("input",{type:"number",value:s.amount,onChange:d=>a({...s,amount:Number(d.target.value)}),placeholder:"0.00",className:"w-full p-2 border border-slate-200 dark:border-slate-600 rounded-lg dark:bg-slate-700 dark:text-white"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Description (Optional)"}),p.jsx("input",{type:"text",value:s.description,onChange:d=>a({...s,description:d.target.value}),placeholder:"Details...",className:"w-full p-2 border border-slate-200 dark:border-slate-600 rounded-lg dark:bg-slate-700 dark:text-white"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Payment Mode"}),p.jsx("div",{className:"flex gap-2",children:["CASH","UPI","BANK_TRANSFER"].map(d=>p.jsx("button",{onClick:()=>a({...s,paymentMode:d}),className:`flex-1 py-2 text-xs font-medium rounded-lg border ${s.paymentMode===d?"bg-blue-600 text-white border-blue-600":"bg-white text-slate-600 border-slate-200 hover:bg-slate-50"}`,children:d.replace("_"," ")},d))})]}),p.jsx("div",{className:"pt-4",children:p.jsx("button",{onClick:o,className:"w-full bg-blue-600 text-white py-3 rounded-lg font-bold hover:bg-blue-700 transition-colors",children:"Save Expense"})})]})]})})})]})},Xue=({onBack:t,initialPayment:e})=>{const[n,r]=ke.useState(it.getPayments()),[i]=ke.useState(it.getCustomers()),[s,a]=ke.useState(!1),[o,c]=ke.useState(null),[f,d]=ke.useState(""),[m,g]=ke.useState(""),[y,E]=ke.useState(new Date().toISOString().split("T")[0]),[_,A]=ke.useState("CASH"),[C,V]=ke.useState(""),[R,F]=ke.useState("");Z0.useEffect(()=>{e&&W(e)},[e]);const z=()=>{c(null),d(""),g(""),E(new Date().toISOString().split("T")[0]),A("CASH"),V(""),F(""),a(!0),qr.light()},W=q=>{c(q),d(q.customerId),g(q.amount.toString()),E(q.date),A(q.mode),V(q.reference||""),F(q.note||""),a(!0),qr.light()},D=q=>{confirm("Are you sure you want to delete this receipt?")&&(it.deletePayment(q),r(it.getPayments()),qr.notification())},L=()=>{if(!f||!m)return alert("Please select customer and entering amount");const q={id:o?o.id:crypto.randomUUID(),customerId:f,date:y,amount:Number(m),mode:_,reference:C,note:R};o?it.updatePayment(q):it.savePayment(q),r(it.getPayments()),a(!1),qr.success(),c(null),d(""),g(""),V(""),F("")},k=q=>i.find(P=>P.id===q)?.company||i.find(P=>P.id===q)?.name||"Unknown";return p.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900 min-h-screen flex flex-col",children:[p.jsxs("div",{className:"bg-white dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700 p-4 sticky top-0 z-10 flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("button",{onClick:t,className:"p-2 -ml-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-700",children:p.jsx(Mu,{className:"w-6 h-6 text-slate-600 dark:text-slate-300"})}),p.jsx("h1",{className:"text-xl font-bold text-slate-800 dark:text-slate-100",children:"Payment Receipts"})]}),p.jsxs("button",{onClick:z,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium flex items-center gap-2",children:[p.jsx(Th,{className:"w-5 h-5"})," ",p.jsx("span",{className:"hidden sm:inline",children:"New Receipt"})]})]}),p.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3 pb-24",children:n.length===0?p.jsxs("div",{className:"text-center py-20 text-slate-400",children:[p.jsx(ih,{className:"w-16 h-16 mx-auto mb-4 opacity-20"}),p.jsx("p",{children:"No payments received yet."})]}):n.slice().reverse().map(q=>p.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl shadow-sm border border-slate-100 dark:border-slate-700 flex justify-between items-center group",children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("div",{className:"w-12 h-12 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center text-green-600 dark:text-green-400",children:p.jsx(ih,{className:"w-6 h-6"})}),p.jsxs("div",{children:[p.jsx("h3",{className:"font-bold text-slate-800 dark:text-slate-200",children:k(q.customerId)}),p.jsxs("p",{className:"text-xs text-slate-500 font-medium flex items-center gap-2",children:[p.jsx("span",{children:new Date(q.date).toLocaleDateString()}),p.jsx("span",{className:"w-1 h-1 bg-slate-300 rounded-full"}),p.jsx("span",{className:"uppercase",children:q.mode})]})]})]}),p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("div",{className:"text-right",children:p.jsxs("span",{className:"block text-lg font-bold text-green-600 dark:text-green-400",children:["+",q.amount.toLocaleString("en-IN")]})}),p.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[p.jsx("button",{onClick:()=>W(q),className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg text-slate-400 hover:text-blue-600",children:p.jsx(s5,{className:"w-4 h-4"})}),p.jsx("button",{onClick:()=>D(q.id),className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg text-slate-400 hover:text-red-600",children:p.jsx(Lu,{className:"w-4 h-4"})})]}),p.jsx("div",{className:"md:hidden flex gap-1",children:p.jsx("button",{onClick:()=>W(q),className:"p-2 text-slate-400",children:p.jsx(s5,{className:"w-4 h-4"})})})]})]},q.id))}),s&&p.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-end sm:items-center justify-center p-0 sm:p-4 pb-safe",children:p.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-lg rounded-t-3xl sm:rounded-3xl p-6 shadow-2xl overflow-y-auto max-h-[90vh]",children:[p.jsxs("div",{className:"flex justify-between items-center mb-6",children:[p.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-100",children:o?"Edit Receipt":"Receive Payment"}),p.jsx("button",{onClick:()=>a(!1),className:"p-2 bg-slate-100 dark:bg-slate-800 rounded-full",children:p.jsx(Iu,{className:"w-5 h-5"})})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase mb-1 block",children:"Customer"}),p.jsx(lT,{options:i.map(q=>({id:q.id,label:q.company,subLabel:q.name})),value:f,onChange:d,onCreate:()=>{},placeholder:"Select Customer",type:"customer"})]}),p.jsxs("div",{className:"flex gap-4",children:[p.jsxs("div",{className:"flex-1",children:[p.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase mb-1 block",children:"Amount"}),p.jsxs("div",{className:"relative",children:[p.jsx("span",{className:"absolute left-3 top-3.5 text-slate-400 font-bold",children:""}),p.jsx("input",{type:"number",className:"w-full bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl py-3 pl-8 pr-4 font-bold outline-none focus:ring-2 focus:ring-blue-500",value:m,onChange:q=>g(q.target.value),placeholder:"0.00"})]})]}),p.jsxs("div",{className:"flex-1",children:[p.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase mb-1 block",children:"Date"}),p.jsx("input",{type:"date",className:"w-full bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl py-3 px-4 font-medium outline-none focus:ring-2 focus:ring-blue-500",value:y,onChange:q=>E(q.target.value)})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase mb-1 block",children:"Payment Mode"}),p.jsx("div",{className:"grid grid-cols-4 gap-2",children:["CASH","UPI","BANK_TRANSFER","CHEQUE"].map(q=>p.jsx("button",{onClick:()=>A(q),className:`py-2 rounded-lg text-[10px] font-bold uppercase transition-colors border ${_===q?"bg-blue-600 text-white border-blue-600":"bg-slate-50 dark:bg-slate-800 text-slate-500 border-slate-200 dark:border-slate-700"}`,children:q.replace("_"," ")},q))})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase mb-1 block",children:"Reference / Note"}),p.jsx("input",{type:"text",className:"w-full bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl py-3 px-4 font-medium outline-none focus:ring-2 focus:ring-blue-500",value:C,onChange:q=>V(q.target.value),placeholder:"e.g. UPI Ref ID or Cheque No."})]}),p.jsxs("div",{className:"pt-4 flex gap-3",children:[p.jsx("button",{onClick:()=>a(!1),className:"flex-1 py-3.5 rounded-xl font-bold text-slate-500 bg-slate-100 hover:bg-slate-200",children:"Cancel"}),p.jsx("button",{onClick:L,className:"flex-1 py-3.5 rounded-xl font-bold text-white bg-blue-600 hover:bg-blue-700 shadow-lg shadow-blue-600/20",children:o?"Update Receipt":"Save Receipt"})]})]})]})})]})};var a9=1252,Jue=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],TS={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},ES=function(t){Jue.indexOf(t)!=-1&&(a9=TS[0]=t)};function Que(){ES(1252)}var Yl=function(t){ES(t)};function o9(){Yl(1200),Que()}function hP(t){for(var e=[],n=0,r=t.length;n<r;++n)e[n]=t.charCodeAt(n);return e}function Zue(t){for(var e=[],n=0;n<t.length>>1;++n)e[n]=String.fromCharCode(t.charCodeAt(2*n)+(t.charCodeAt(2*n+1)<<8));return e.join("")}function l9(t){for(var e=[],n=0;n<t.length>>1;++n)e[n]=String.fromCharCode(t.charCodeAt(2*n+1)+(t.charCodeAt(2*n)<<8));return e.join("")}var ig=function(t){var e=t.charCodeAt(0),n=t.charCodeAt(1);return e==255&&n==254?Zue(t.slice(2)):e==254&&n==255?l9(t.slice(2)):e==65279?t.slice(1):t},iy=function(e){return String.fromCharCode(e)},pP=function(e){return String.fromCharCode(e)},s1,qf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function mP(t){for(var e="",n=0,r=0,i=0,s=0,a=0,o=0,c=0,f=0;f<t.length;)n=t.charCodeAt(f++),s=n>>2,r=t.charCodeAt(f++),a=(n&3)<<4|r>>4,i=t.charCodeAt(f++),o=(r&15)<<2|i>>6,c=i&63,isNaN(r)?o=c=64:isNaN(i)&&(c=64),e+=qf.charAt(s)+qf.charAt(a)+qf.charAt(o)+qf.charAt(c);return e}function qo(t){var e="",n=0,r=0,i=0,s=0,a=0,o=0,c=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var f=0;f<t.length;)s=qf.indexOf(t.charAt(f++)),a=qf.indexOf(t.charAt(f++)),n=s<<2|a>>4,e+=String.fromCharCode(n),o=qf.indexOf(t.charAt(f++)),r=(a&15)<<4|o>>2,o!==64&&(e+=String.fromCharCode(r)),c=qf.indexOf(t.charAt(f++)),i=(o&3)<<6|c,c!==64&&(e+=String.fromCharCode(i));return e}var hr=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),Mh=(function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(e,n){return n?new Buffer(e,n):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}})();function id(t){return hr?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function gP(t){return hr?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var $l=function(e){return hr?Mh(e,"binary"):e.split("").map(function(n){return n.charCodeAt(0)&255})};function Lh(t){if(Array.isArray(t))return t.map(function(r){return String.fromCharCode(r)}).join("");for(var e=[],n=0;n<t.length;++n)e[n]=String.fromCharCode(t[n]);return e.join("")}function SS(t){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(t instanceof ArrayBuffer)return SS(new Uint8Array(t));for(var e=new Array(t.length),n=0;n<t.length;++n)e[n]=t[n];return e}var Bf=hr?function(t){return Buffer.concat(t.map(function(e){return Buffer.isBuffer(e)?e:Mh(e)}))}:function(t){if(typeof Uint8Array<"u"){var e=0,n=0;for(e=0;e<t.length;++e)n+=t[e].length;var r=new Uint8Array(n),i=0;for(e=0,n=0;e<t.length;n+=i,++e)if(i=t[e].length,t[e]instanceof Uint8Array)r.set(t[e],n);else{if(typeof t[e]=="string")throw"wtf";r.set(new Uint8Array(t[e]),n)}return r}return[].concat.apply([],t.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function efe(t){for(var e=[],n=0,r=t.length+250,i=id(t.length+255),s=0;s<t.length;++s){var a=t.charCodeAt(s);if(a<128)i[n++]=a;else if(a<2048)i[n++]=192|a>>6&31,i[n++]=128|a&63;else if(a>=55296&&a<57344){a=(a&1023)+64;var o=t.charCodeAt(++s)&1023;i[n++]=240|a>>8&7,i[n++]=128|a>>2&63,i[n++]=128|o>>6&15|(a&3)<<4,i[n++]=128|o&63}else i[n++]=224|a>>12&15,i[n++]=128|a>>6&63,i[n++]=128|a&63;n>r&&(e.push(i.slice(0,n)),n=0,i=id(65535),r=65530)}return e.push(i.slice(0,n)),Bf(e)}var $a=/\u0000/g,sg=/[\u0001-\u0006]/g;function mp(t){for(var e="",n=t.length-1;n>=0;)e+=t.charAt(n--);return e}function Xl(t,e){var n=""+t;return n.length>=e?n:qi("0",e-n.length)+n}function AS(t,e){var n=""+t;return n.length>=e?n:qi(" ",e-n.length)+n}function M2(t,e){var n=""+t;return n.length>=e?n:n+qi(" ",e-n.length)}function tfe(t,e){var n=""+Math.round(t);return n.length>=e?n:qi("0",e-n.length)+n}function nfe(t,e){var n=""+t;return n.length>=e?n:qi("0",e-n.length)+n}var xP=Math.pow(2,32);function R0(t,e){if(t>xP||t<-xP)return tfe(t,e);var n=Math.round(t);return nfe(n,e)}function L2(t,e){return e=e||0,t.length>=7+e&&(t.charCodeAt(e)|32)===103&&(t.charCodeAt(e+1)|32)===101&&(t.charCodeAt(e+2)|32)===110&&(t.charCodeAt(e+3)|32)===101&&(t.charCodeAt(e+4)|32)===114&&(t.charCodeAt(e+5)|32)===97&&(t.charCodeAt(e+6)|32)===108}var yP=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],Ew=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function rfe(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"/ "hh""mm""ss" "',t}var Wn={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},vP={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},ife={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function F2(t,e,n){for(var r=t<0?-1:1,i=t*r,s=0,a=1,o=0,c=1,f=0,d=0,m=Math.floor(i);f<e&&(m=Math.floor(i),o=m*a+s,d=m*f+c,!(i-m<5e-8));)i=1/(i-m),s=a,a=o,c=f,f=d;if(d>e&&(f>e?(d=c,o=s):(d=f,o=a)),!n)return[0,r*o,d];var g=Math.floor(r*o/d);return[g,r*o-g*d,d]}function $d(t,e,n){if(t>2958465||t<0)return null;var r=t|0,i=Math.floor(86400*(t-r)),s=0,a=[],o={D:r,T:i,u:86400*(t-r)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),e&&e.date1904&&(r+=1462),o.u>.9999&&(o.u=0,++i==86400&&(o.T=i=0,++r,++o.D)),r===60)a=n?[1317,10,29]:[1900,2,29],s=3;else if(r===0)a=n?[1317,8,29]:[1900,1,0],s=6;else{r>60&&--r;var c=new Date(1900,0,1);c.setDate(c.getDate()+r-1),a=[c.getFullYear(),c.getMonth()+1,c.getDate()],s=c.getDay(),r<60&&(s=(s+6)%7),n&&(s=ufe(c,a))}return o.y=a[0],o.m=a[1],o.d=a[2],o.S=i%60,i=Math.floor(i/60),o.M=i%60,i=Math.floor(i/60),o.H=i,o.q=s,o}var c9=new Date(1899,11,31,0,0,0),sfe=c9.getTime(),afe=new Date(1900,2,1,0,0,0);function u9(t,e){var n=t.getTime();return e?n-=1461*24*60*60*1e3:t>=afe&&(n+=1440*60*1e3),(n-(sfe+(t.getTimezoneOffset()-c9.getTimezoneOffset())*6e4))/(1440*60*1e3)}function NS(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function ofe(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function lfe(t){var e=t<0?12:11,n=NS(t.toFixed(12));return n.length<=e||(n=t.toPrecision(10),n.length<=e)?n:t.toExponential(5)}function cfe(t){var e=NS(t.toFixed(11));return e.length>(t<0?12:11)||e==="0"||e==="-0"?t.toPrecision(6):e}function a1(t){var e=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),n;return e>=-4&&e<=-1?n=t.toPrecision(10+e):Math.abs(e)<=9?n=lfe(t):e===10?n=t.toFixed(10).substr(0,12):n=cfe(t),NS(ofe(n.toUpperCase()))}function bh(t,e){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):a1(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return yl(14,u9(t,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+t)}function ufe(t,e){e[0]-=581;var n=t.getDay();return t<60&&(n=(n+6)%7),n}function ffe(t,e,n,r){var i="",s=0,a=0,o=n.y,c,f=0;switch(t){case 98:o=n.y+543;case 121:switch(e.length){case 1:case 2:c=o%100,f=2;break;default:c=o%1e4,f=4;break}break;case 109:switch(e.length){case 1:case 2:c=n.m,f=e.length;break;case 3:return Ew[n.m-1][1];case 5:return Ew[n.m-1][0];default:return Ew[n.m-1][2]}break;case 100:switch(e.length){case 1:case 2:c=n.d,f=e.length;break;case 3:return yP[n.q][0];default:return yP[n.q][1]}break;case 104:switch(e.length){case 1:case 2:c=1+(n.H+11)%12,f=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:c=n.H,f=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:c=n.M,f=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return n.u===0&&(e=="s"||e=="ss")?Xl(n.S,e.length):(r>=2?a=r===3?1e3:100:a=r===1?10:1,s=Math.round(a*(n.S+n.u)),s>=60*a&&(s=0),e==="s"?s===0?"0":""+s/a:(i=Xl(s,2+r),e==="ss"?i.substr(0,2):"."+i.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":c=n.D*24+n.H;break;case"[m]":case"[mm]":c=(n.D*24+n.H)*60+n.M;break;case"[s]":case"[ss]":c=((n.D*24+n.H)*60+n.M)*60+Math.round(n.S+n.u);break;default:throw"bad abstime format: "+e}f=e.length===3?1:2;break;case 101:c=o,f=1;break}var d=f>0?Xl(c,f):"";return d}function Hf(t){var e=3;if(t.length<=e)return t;for(var n=t.length%e,r=t.substr(0,n);n!=t.length;n+=e)r+=(r.length>0?",":"")+t.substr(n,e);return r}var f9=/%/g;function dfe(t,e,n){var r=e.replace(f9,""),i=e.length-r.length;return Ru(t,r,n*Math.pow(10,2*i))+qi("%",i)}function hfe(t,e,n){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return Ru(t,e.substr(0,r),n/Math.pow(10,3*(e.length-r)))}function d9(t,e){var n,r=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+d9(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),n=(e/Math.pow(10,s)).toPrecision(r+1+(i+s)%i),n.indexOf("e")===-1){var a=Math.floor(Math.log(e)*Math.LOG10E);for(n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(a-n.length+s):n+="E+"+(a-s);n.substr(0,2)==="0.";)n=n.charAt(0)+n.substr(2,i)+"."+n.substr(2+i),n=n.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,c,f,d){return c+f+d.substr(0,(i+s)%i)+"."+d.substr(s)+"E"})}else n=e.toExponential(r);return t.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),t.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}var h9=/# (\?+)( ?)\/( ?)(\d+)/;function pfe(t,e,n){var r=parseInt(t[4],10),i=Math.round(e*r),s=Math.floor(i/r),a=i-s*r,o=r;return n+(s===0?"":""+s)+" "+(a===0?qi(" ",t[1].length+1+t[4].length):AS(a,t[1].length)+t[2]+"/"+t[3]+Xl(o,t[4].length))}function mfe(t,e,n){return n+(e===0?"":""+e)+qi(" ",t[1].length+2+t[4].length)}var p9=/^#*0*\.([0#]+)/,m9=/\).*[0#]/,g9=/\(###\) ###\\?-####/;function ja(t){for(var e="",n,r=0;r!=t.length;++r)switch(n=t.charCodeAt(r)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(n)}return e}function bP(t,e){var n=Math.pow(10,e);return""+Math.round(t*n)/n}function _P(t,e){var n=t-Math.floor(t),r=Math.pow(10,e);return e<(""+Math.round(n*r)).length?0:Math.round(n*r)}function gfe(t,e){return e<(""+Math.round((t-Math.floor(t))*Math.pow(10,e))).length?1:0}function xfe(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function ll(t,e,n){if(t.charCodeAt(0)===40&&!e.match(m9)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?ll("n",r,n):"("+ll("n",r,-n)+")"}if(e.charCodeAt(e.length-1)===44)return hfe(t,e,n);if(e.indexOf("%")!==-1)return dfe(t,e,n);if(e.indexOf("E")!==-1)return d9(e,n);if(e.charCodeAt(0)===36)return"$"+ll(t,e.substr(e.charAt(1)==" "?2:1),n);var i,s,a,o,c=Math.abs(n),f=n<0?"-":"";if(e.match(/^00+$/))return f+R0(c,e.length);if(e.match(/^[#?]+$/))return i=R0(n,0),i==="0"&&(i=""),i.length>e.length?i:ja(e.substr(0,e.length-i.length))+i;if(s=e.match(h9))return pfe(s,c,f);if(e.match(/^#+0+$/))return f+R0(c,e.length-e.indexOf("0"));if(s=e.match(p9))return i=bP(n,s[1].length).replace(/^([^\.]+)$/,"$1."+ja(s[1])).replace(/\.$/,"."+ja(s[1])).replace(/\.(\d*)$/,function(E,_){return"."+_+qi("0",ja(s[1]).length-_.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return f+bP(c,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return f+Hf(R0(c,0));if(s=e.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+ll(t,e,-n):Hf(""+(Math.floor(n)+gfe(n,s[1].length)))+"."+Xl(_P(n,s[1].length),s[1].length);if(s=e.match(/^#,#*,#0/))return ll(t,e.replace(/^#,#*,/,""),n);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=mp(ll(t,e.replace(/[\\-]/g,""),n)),a=0,mp(mp(e.replace(/\\/g,"")).replace(/[0#]/g,function(E){return a<i.length?i.charAt(a++):E==="0"?"0":""}));if(e.match(g9))return i=ll(t,"##########",n),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var d="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(s[4].length,7),o=F2(c,Math.pow(10,a)-1,!1),i=""+f,d=Ru("n",s[1],o[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),i+=d+s[2]+"/"+s[3],d=M2(o[2],a),d.length<s[4].length&&(d=ja(s[4].substr(s[4].length-d.length))+d),i+=d,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(s[1].length,s[4].length),7),o=F2(c,Math.pow(10,a)-1,!0),f+(o[0]||(o[1]?"":"0"))+" "+(o[1]?AS(o[1],a)+s[2]+"/"+s[3]+M2(o[2],a):qi(" ",2*a+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=R0(n,0),e.length<=i.length?i:ja(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0?]+)\.([#0]+)$/)){i=""+n.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),a=i.indexOf(".");var m=e.indexOf(".")-a,g=e.length-i.length-m;return ja(e.substr(0,m)+i+e.substr(e.length-g))}if(s=e.match(/^00,000\.([#0]*0)$/))return a=_P(n,s[1].length),n<0?"-"+ll(t,e,-n):Hf(xfe(n)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(E){return"00,"+(E.length<3?Xl(0,3-E.length):"")+E})+"."+Xl(a,s[1].length);switch(e){case"###,##0.00":return ll(t,"#,##0.00",n);case"###,###":case"##,###":case"#,###":var y=Hf(R0(c,0));return y!=="0"?f+y:"";case"###,###.00":return ll(t,"###,##0.00",n).replace(/^0\./,".");case"#,###.00":return ll(t,"#,##0.00",n).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function yfe(t,e,n){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return Ru(t,e.substr(0,r),n/Math.pow(10,3*(e.length-r)))}function vfe(t,e,n){var r=e.replace(f9,""),i=e.length-r.length;return Ru(t,r,n*Math.pow(10,2*i))+qi("%",i)}function x9(t,e){var n,r=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+x9(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),n=(e/Math.pow(10,s)).toPrecision(r+1+(i+s)%i),!n.match(/[Ee]/)){var a=Math.floor(Math.log(e)*Math.LOG10E);n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(a-n.length+s):n+="E+"+(a-s),n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,c,f,d){return c+f+d.substr(0,(i+s)%i)+"."+d.substr(s)+"E"})}else n=e.toExponential(r);return t.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),t.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}function Ac(t,e,n){if(t.charCodeAt(0)===40&&!e.match(m9)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?Ac("n",r,n):"("+Ac("n",r,-n)+")"}if(e.charCodeAt(e.length-1)===44)return yfe(t,e,n);if(e.indexOf("%")!==-1)return vfe(t,e,n);if(e.indexOf("E")!==-1)return x9(e,n);if(e.charCodeAt(0)===36)return"$"+Ac(t,e.substr(e.charAt(1)==" "?2:1),n);var i,s,a,o,c=Math.abs(n),f=n<0?"-":"";if(e.match(/^00+$/))return f+Xl(c,e.length);if(e.match(/^[#?]+$/))return i=""+n,n===0&&(i=""),i.length>e.length?i:ja(e.substr(0,e.length-i.length))+i;if(s=e.match(h9))return mfe(s,c,f);if(e.match(/^#+0+$/))return f+Xl(c,e.length-e.indexOf("0"));if(s=e.match(p9))return i=(""+n).replace(/^([^\.]+)$/,"$1."+ja(s[1])).replace(/\.$/,"."+ja(s[1])),i=i.replace(/\.(\d*)$/,function(E,_){return"."+_+qi("0",ja(s[1]).length-_.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return f+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return f+Hf(""+c);if(s=e.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+Ac(t,e,-n):Hf(""+n)+"."+qi("0",s[1].length);if(s=e.match(/^#,#*,#0/))return Ac(t,e.replace(/^#,#*,/,""),n);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=mp(Ac(t,e.replace(/[\\-]/g,""),n)),a=0,mp(mp(e.replace(/\\/g,"")).replace(/[0#]/g,function(E){return a<i.length?i.charAt(a++):E==="0"?"0":""}));if(e.match(g9))return i=Ac(t,"##########",n),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var d="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(s[4].length,7),o=F2(c,Math.pow(10,a)-1,!1),i=""+f,d=Ru("n",s[1],o[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),i+=d+s[2]+"/"+s[3],d=M2(o[2],a),d.length<s[4].length&&(d=ja(s[4].substr(s[4].length-d.length))+d),i+=d,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(s[1].length,s[4].length),7),o=F2(c,Math.pow(10,a)-1,!0),f+(o[0]||(o[1]?"":"0"))+" "+(o[1]?AS(o[1],a)+s[2]+"/"+s[3]+M2(o[2],a):qi(" ",2*a+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=""+n,e.length<=i.length?i:ja(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0]+)\.([#0]+)$/)){i=""+n.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),a=i.indexOf(".");var m=e.indexOf(".")-a,g=e.length-i.length-m;return ja(e.substr(0,m)+i+e.substr(e.length-g))}if(s=e.match(/^00,000\.([#0]*0)$/))return n<0?"-"+Ac(t,e,-n):Hf(""+n).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(E){return"00,"+(E.length<3?Xl(0,3-E.length):"")+E})+"."+Xl(0,s[1].length);switch(e){case"###,###":case"##,###":case"#,###":var y=Hf(""+c);return y!=="0"?f+y:"";default:if(e.match(/\.[0#?]*$/))return Ac(t,e.slice(0,e.lastIndexOf(".")),n)+ja(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function Ru(t,e,n){return(n|0)===n?Ac(t,e,n):ll(t,e,n)}function bfe(t){for(var e=[],n=!1,r=0,i=0;r<t.length;++r)switch(t.charCodeAt(r)){case 34:n=!n;break;case 95:case 42:case 92:++r;break;case 59:e[e.length]=t.substr(i,r-i),i=r+1}if(e[e.length]=t.substr(i),n===!0)throw new Error("Format |"+t+"| unterminated string ");return e}var y9=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Zp(t){for(var e=0,n="",r="";e<t.length;)switch(n=t.charAt(e)){case"G":L2(t,e)&&(e+=6),e++;break;case'"':for(;t.charCodeAt(++e)!==34&&e<t.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(t.charAt(e+1)==="1"||t.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(t.substr(e,3).toUpperCase()==="A/P"||t.substr(e,5).toUpperCase()==="AM/PM"||t.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(r=n;t.charAt(e++)!=="]"&&e<t.length;)r+=t.charAt(e);if(r.match(y9))return!0;break;case".":case"0":case"#":for(;e<t.length&&("0#?.,E+-%".indexOf(n=t.charAt(++e))>-1||n=="\\"&&t.charAt(e+1)=="-"&&"0#".indexOf(t.charAt(e+2))>-1););break;case"?":for(;t.charAt(++e)===n;);break;case"*":++e,(t.charAt(e)==" "||t.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<t.length&&"0123456789".indexOf(t.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function _fe(t,e,n,r){for(var i=[],s="",a=0,o="",c="t",f,d,m,g="H";a<t.length;)switch(o=t.charAt(a)){case"G":if(!L2(t,a))throw new Error("unrecognized character "+o+" in "+t);i[i.length]={t:"G",v:"General"},a+=7;break;case'"':for(s="";(m=t.charCodeAt(++a))!==34&&a<t.length;)s+=String.fromCharCode(m);i[i.length]={t:"t",v:s},++a;break;case"\\":var y=t.charAt(++a),E=y==="("||y===")"?y:"t";i[i.length]={t:E,v:y},++a;break;case"_":i[i.length]={t:"t",v:" "},a+=2;break;case"@":i[i.length]={t:"T",v:e},++a;break;case"B":case"b":if(t.charAt(a+1)==="1"||t.charAt(a+1)==="2"){if(f==null&&(f=$d(e,n,t.charAt(a+1)==="2"),f==null))return"";i[i.length]={t:"X",v:t.substr(a,2)},c=o,a+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||f==null&&(f=$d(e,n),f==null))return"";for(s=o;++a<t.length&&t.charAt(a).toLowerCase()===o;)s+=o;o==="m"&&c.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=g),i[i.length]={t:o,v:s},c=o;break;case"A":case"a":case"":var _={t:o,v:o};if(f==null&&(f=$d(e,n)),t.substr(a,3).toUpperCase()==="A/P"?(f!=null&&(_.v=f.H>=12?"P":"A"),_.t="T",g="h",a+=3):t.substr(a,5).toUpperCase()==="AM/PM"?(f!=null&&(_.v=f.H>=12?"PM":"AM"),_.t="T",a+=5,g="h"):t.substr(a,5).toUpperCase()==="/"?(f!=null&&(_.v=f.H>=12?"":""),_.t="T",a+=5,g="h"):(_.t="t",++a),f==null&&_.t==="T")return"";i[i.length]=_,c=o;break;case"[":for(s=o;t.charAt(a++)!=="]"&&a<t.length;)s+=t.charAt(a);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(y9)){if(f==null&&(f=$d(e,n),f==null))return"";i[i.length]={t:"Z",v:s.toLowerCase()},c=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",Zp(t)||(i[i.length]={t:"t",v:s}));break;case".":if(f!=null){for(s=o;++a<t.length&&(o=t.charAt(a))==="0";)s+=o;i[i.length]={t:"s",v:s};break}case"0":case"#":for(s=o;++a<t.length&&"0#?.,E+-%".indexOf(o=t.charAt(a))>-1;)s+=o;i[i.length]={t:"n",v:s};break;case"?":for(s=o;t.charAt(++a)===o;)s+=o;i[i.length]={t:o,v:s},c=o;break;case"*":++a,(t.charAt(a)==" "||t.charAt(a)=="*")&&++a;break;case"(":case")":i[i.length]={t:r===1?"t":o,v:o},++a;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=o;a<t.length&&"0123456789".indexOf(t.charAt(++a))>-1;)s+=t.charAt(a);i[i.length]={t:"D",v:s};break;case" ":i[i.length]={t:o,v:o},++a;break;case"$":i[i.length]={t:"t",v:"$"},++a;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+t);i[i.length]={t:"t",v:o},++a;break}var A=0,C=0,V;for(a=i.length-1,c="t";a>=0;--a)switch(i[a].t){case"h":case"H":i[a].t=g,c="h",A<1&&(A=1);break;case"s":(V=i[a].v.match(/\.0+$/))&&(C=Math.max(C,V[0].length-1)),A<3&&(A=3);case"d":case"y":case"M":case"e":c=i[a].t;break;case"m":c==="s"&&(i[a].t="M",A<2&&(A=2));break;case"X":break;case"Z":A<1&&i[a].v.match(/[Hh]/)&&(A=1),A<2&&i[a].v.match(/[Mm]/)&&(A=2),A<3&&i[a].v.match(/[Ss]/)&&(A=3)}switch(A){case 0:break;case 1:f.u>=.5&&(f.u=0,++f.S),f.S>=60&&(f.S=0,++f.M),f.M>=60&&(f.M=0,++f.H);break;case 2:f.u>=.5&&(f.u=0,++f.S),f.S>=60&&(f.S=0,++f.M);break}var R="",F;for(a=0;a<i.length;++a)switch(i[a].t){case"t":case"T":case" ":case"D":break;case"X":i[a].v="",i[a].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[a].v=ffe(i[a].t.charCodeAt(0),i[a].v,f,C),i[a].t="t";break;case"n":case"?":for(F=a+1;i[F]!=null&&((o=i[F].t)==="?"||o==="D"||(o===" "||o==="t")&&i[F+1]!=null&&(i[F+1].t==="?"||i[F+1].t==="t"&&i[F+1].v==="/")||i[a].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(i[F].v==="/"||i[F].v===" "&&i[F+1]!=null&&i[F+1].t=="?"));)i[a].v+=i[F].v,i[F]={v:"",t:";"},++F;R+=i[a].v,a=F-1;break;case"G":i[a].t="t",i[a].v=bh(e,n);break}var z="",W,D;if(R.length>0){R.charCodeAt(0)==40?(W=e<0&&R.charCodeAt(0)===45?-e:e,D=Ru("n",R,W)):(W=e<0&&r>1?-e:e,D=Ru("n",R,W),W<0&&i[0]&&i[0].t=="t"&&(D=D.substr(1),i[0].v="-"+i[0].v)),F=D.length-1;var L=i.length;for(a=0;a<i.length;++a)if(i[a]!=null&&i[a].t!="t"&&i[a].v.indexOf(".")>-1){L=a;break}var k=i.length;if(L===i.length&&D.indexOf("E")===-1){for(a=i.length-1;a>=0;--a)i[a]==null||"n?".indexOf(i[a].t)===-1||(F>=i[a].v.length-1?(F-=i[a].v.length,i[a].v=D.substr(F+1,i[a].v.length)):F<0?i[a].v="":(i[a].v=D.substr(0,F+1),F=-1),i[a].t="t",k=a);F>=0&&k<i.length&&(i[k].v=D.substr(0,F+1)+i[k].v)}else if(L!==i.length&&D.indexOf("E")===-1){for(F=D.indexOf(".")-1,a=L;a>=0;--a)if(!(i[a]==null||"n?".indexOf(i[a].t)===-1)){for(d=i[a].v.indexOf(".")>-1&&a===L?i[a].v.indexOf(".")-1:i[a].v.length-1,z=i[a].v.substr(d+1);d>=0;--d)F>=0&&(i[a].v.charAt(d)==="0"||i[a].v.charAt(d)==="#")&&(z=D.charAt(F--)+z);i[a].v=z,i[a].t="t",k=a}for(F>=0&&k<i.length&&(i[k].v=D.substr(0,F+1)+i[k].v),F=D.indexOf(".")+1,a=L;a<i.length;++a)if(!(i[a]==null||"n?(".indexOf(i[a].t)===-1&&a!==L)){for(d=i[a].v.indexOf(".")>-1&&a===L?i[a].v.indexOf(".")+1:0,z=i[a].v.substr(0,d);d<i[a].v.length;++d)F<D.length&&(z+=D.charAt(F++));i[a].v=z,i[a].t="t",k=a}}}for(a=0;a<i.length;++a)i[a]!=null&&"n?".indexOf(i[a].t)>-1&&(W=r>1&&e<0&&a>0&&i[a-1].v==="-"?-e:e,i[a].v=Ru(i[a].t,i[a].v,W),i[a].t="t");var q="";for(a=0;a!==i.length;++a)i[a]!=null&&(q+=i[a].v);return q}var wP=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function TP(t,e){if(e==null)return!1;var n=parseFloat(e[2]);switch(e[1]){case"=":if(t==n)return!0;break;case">":if(t>n)return!0;break;case"<":if(t<n)return!0;break;case"<>":if(t!=n)return!0;break;case">=":if(t>=n)return!0;break;case"<=":if(t<=n)return!0;break}return!1}function wfe(t,e){var n=bfe(t),r=n.length,i=n[r-1].indexOf("@");if(r<4&&i>-1&&--r,n.length>4)throw new Error("cannot find right format for |"+n.join("|")+"|");if(typeof e!="number")return[4,n.length===4||i>-1?n[n.length-1]:"@"];switch(n.length){case 1:n=i>-1?["General","General","General",n[0]]:[n[0],n[0],n[0],"@"];break;case 2:n=i>-1?[n[0],n[0],n[0],n[1]]:[n[0],n[1],n[0],"@"];break;case 3:n=i>-1?[n[0],n[1],n[0],n[2]]:[n[0],n[1],n[2],"@"];break}var s=e>0?n[0]:e<0?n[1]:n[2];if(n[0].indexOf("[")===-1&&n[1].indexOf("[")===-1)return[r,s];if(n[0].match(/\[[=<>]/)!=null||n[1].match(/\[[=<>]/)!=null){var a=n[0].match(wP),o=n[1].match(wP);return TP(e,a)?[r,n[0]]:TP(e,o)?[r,n[1]]:[r,n[a!=null&&o!=null?2:1]]}return[r,s]}function yl(t,e,n){n==null&&(n={});var r="";switch(typeof t){case"string":t=="m/d/yy"&&n.dateNF?r=n.dateNF:r=t;break;case"number":t==14&&n.dateNF?r=n.dateNF:r=(n.table!=null?n.table:Wn)[t],r==null&&(r=n.table&&n.table[vP[t]]||Wn[vP[t]]),r==null&&(r=ife[t]||"General");break}if(L2(r,0))return bh(e,n);e instanceof Date&&(e=u9(e,n.date1904));var i=wfe(r,e);if(L2(i[1]))return bh(e,n);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return _fe(i[1],e,n,i[0])}function nh(t,e){if(typeof e!="number"){e=+e||-1;for(var n=0;n<392;++n){if(Wn[n]==null){e<0&&(e=n);continue}if(Wn[n]==t){e=n;break}}e<0&&(e=391)}return Wn[e]=t,e}function v9(){Wn=rfe()}var Tfe={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},b9=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function Efe(t){var e=typeof t=="number"?Wn[t]:t;return e=e.replace(b9,"(\\d+)"),new RegExp("^"+e+"$")}function Sfe(t,e,n){var r=-1,i=-1,s=-1,a=-1,o=-1,c=-1;(e.match(b9)||[]).forEach(function(m,g){var y=parseInt(n[g+1],10);switch(m.toLowerCase().charAt(0)){case"y":r=y;break;case"d":s=y;break;case"h":a=y;break;case"s":c=y;break;case"m":a>=0?o=y:i=y;break}}),c>=0&&o==-1&&i>=0&&(o=i,i=-1);var f=(""+(r>=0?r:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);f.length==7&&(f="0"+f),f.length==8&&(f="20"+f);var d=("00"+(a>=0?a:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return a==-1&&o==-1&&c==-1?f:r==-1&&i==-1&&s==-1?d:f+"T"+d}var Afe=(function(){var t={};t.version="1.2.0";function e(){for(var D=0,L=new Array(256),k=0;k!=256;++k)D=k,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,D=D&1?-306674912^D>>>1:D>>>1,L[k]=D;return typeof Int32Array<"u"?new Int32Array(L):L}var n=e();function r(D){var L=0,k=0,q=0,P=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(q=0;q!=256;++q)P[q]=D[q];for(q=0;q!=256;++q)for(k=D[q],L=256+q;L<4096;L+=256)k=P[L]=k>>>8^D[k&255];var M=[];for(q=1;q!=16;++q)M[q-1]=typeof Int32Array<"u"?P.subarray(q*256,q*256+256):P.slice(q*256,q*256+256);return M}var i=r(n),s=i[0],a=i[1],o=i[2],c=i[3],f=i[4],d=i[5],m=i[6],g=i[7],y=i[8],E=i[9],_=i[10],A=i[11],C=i[12],V=i[13],R=i[14];function F(D,L){for(var k=L^-1,q=0,P=D.length;q<P;)k=k>>>8^n[(k^D.charCodeAt(q++))&255];return~k}function z(D,L){for(var k=L^-1,q=D.length-15,P=0;P<q;)k=R[D[P++]^k&255]^V[D[P++]^k>>8&255]^C[D[P++]^k>>16&255]^A[D[P++]^k>>>24]^_[D[P++]]^E[D[P++]]^y[D[P++]]^g[D[P++]]^m[D[P++]]^d[D[P++]]^f[D[P++]]^c[D[P++]]^o[D[P++]]^a[D[P++]]^s[D[P++]]^n[D[P++]];for(q+=15;P<q;)k=k>>>8^n[(k^D[P++])&255];return~k}function W(D,L){for(var k=L^-1,q=0,P=D.length,M=0,j=0;q<P;)M=D.charCodeAt(q++),M<128?k=k>>>8^n[(k^M)&255]:M<2048?(k=k>>>8^n[(k^(192|M>>6&31))&255],k=k>>>8^n[(k^(128|M&63))&255]):M>=55296&&M<57344?(M=(M&1023)+64,j=D.charCodeAt(q++)&1023,k=k>>>8^n[(k^(240|M>>8&7))&255],k=k>>>8^n[(k^(128|M>>2&63))&255],k=k>>>8^n[(k^(128|j>>6&15|(M&3)<<4))&255],k=k>>>8^n[(k^(128|j&63))&255]):(k=k>>>8^n[(k^(224|M>>12&15))&255],k=k>>>8^n[(k^(128|M>>6&63))&255],k=k>>>8^n[(k^(128|M&63))&255]);return~k}return t.table=n,t.bstr=F,t.buf=z,t.str=W,t})(),br=(function(){var e={};e.version="1.2.1";function n(ie,ve){for(var he=ie.split("/"),ge=ve.split("/"),be=0,we=0,Ue=Math.min(he.length,ge.length);be<Ue;++be){if(we=he[be].length-ge[be].length)return we;if(he[be]!=ge[be])return he[be]<ge[be]?-1:1}return he.length-ge.length}function r(ie){if(ie.charAt(ie.length-1)=="/")return ie.slice(0,-1).indexOf("/")===-1?ie:r(ie.slice(0,-1));var ve=ie.lastIndexOf("/");return ve===-1?ie:ie.slice(0,ve+1)}function i(ie){if(ie.charAt(ie.length-1)=="/")return i(ie.slice(0,-1));var ve=ie.lastIndexOf("/");return ve===-1?ie:ie.slice(ve+1)}function s(ie,ve){typeof ve=="string"&&(ve=new Date(ve));var he=ve.getHours();he=he<<6|ve.getMinutes(),he=he<<5|ve.getSeconds()>>>1,ie.write_shift(2,he);var ge=ve.getFullYear()-1980;ge=ge<<4|ve.getMonth()+1,ge=ge<<5|ve.getDate(),ie.write_shift(2,ge)}function a(ie){var ve=ie.read_shift(2)&65535,he=ie.read_shift(2)&65535,ge=new Date,be=he&31;he>>>=5;var we=he&15;he>>>=4,ge.setMilliseconds(0),ge.setFullYear(he+1980),ge.setMonth(we-1),ge.setDate(be);var Ue=ve&31;ve>>>=5;var at=ve&63;return ve>>>=6,ge.setHours(ve),ge.setMinutes(at),ge.setSeconds(Ue<<1),ge}function o(ie){aa(ie,0);for(var ve={},he=0;ie.l<=ie.length-4;){var ge=ie.read_shift(2),be=ie.read_shift(2),we=ie.l+be,Ue={};switch(ge){case 21589:he=ie.read_shift(1),he&1&&(Ue.mtime=ie.read_shift(4)),be>5&&(he&2&&(Ue.atime=ie.read_shift(4)),he&4&&(Ue.ctime=ie.read_shift(4))),Ue.mtime&&(Ue.mt=new Date(Ue.mtime*1e3));break}ie.l=we,ve[ge]=Ue}return ve}var c;function f(){return c||(c={})}function d(ie,ve){if(ie[0]==80&&ie[1]==75)return dn(ie,ve);if((ie[0]|32)==109&&(ie[1]|32)==105)return hn(ie,ve);if(ie.length<512)throw new Error("CFB file size "+ie.length+" < 512");var he=3,ge=512,be=0,we=0,Ue=0,at=0,Be=0,ze=[],Xe=ie.slice(0,512);aa(Xe,0);var bt=m(Xe);switch(he=bt[0],he){case 3:ge=512;break;case 4:ge=4096;break;case 0:if(bt[1]==0)return dn(ie,ve);default:throw new Error("Major Version: Expected 3 or 4 saw "+he)}ge!==512&&(Xe=ie.slice(0,ge),aa(Xe,28));var St=ie.slice(0,ge);g(Xe,he);var Mt=Xe.read_shift(4,"i");if(he===3&&Mt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Mt);Xe.l+=4,Ue=Xe.read_shift(4,"i"),Xe.l+=4,Xe.chk("00100000","Mini Stream Cutoff Size: "),at=Xe.read_shift(4,"i"),be=Xe.read_shift(4,"i"),Be=Xe.read_shift(4,"i"),we=Xe.read_shift(4,"i");for(var _t=-1,Dt=0;Dt<109&&(_t=Xe.read_shift(4,"i"),!(_t<0));++Dt)ze[Dt]=_t;var Xt=y(ie,ge);A(Be,we,Xt,ge,ze);var mr=V(Xt,Ue,ze,ge);mr[Ue].name="!Directory",be>0&&at!==j&&(mr[at].name="!MiniFAT"),mr[ze[0]].name="!FAT",mr.fat_addrs=ze,mr.ssz=ge;var Gn={},wr=[],Gi=[],$s=[];R(Ue,mr,Xt,wr,be,Gn,Gi,at),E(Gi,$s,wr),wr.shift();var ua={FileIndex:Gi,FullPaths:$s};return ve&&ve.raw&&(ua.raw={header:St,sectors:Xt}),ua}function m(ie){if(ie[ie.l]==80&&ie[ie.l+1]==75)return[0,0];ie.chk(ae,"Header Signature: "),ie.l+=16;var ve=ie.read_shift(2,"u");return[ie.read_shift(2,"u"),ve]}function g(ie,ve){var he=9;switch(ie.l+=2,he=ie.read_shift(2)){case 9:if(ve!=3)throw new Error("Sector Shift: Expected 9 saw "+he);break;case 12:if(ve!=4)throw new Error("Sector Shift: Expected 12 saw "+he);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+he)}ie.chk("0600","Mini Sector Shift: "),ie.chk("000000000000","Reserved: ")}function y(ie,ve){for(var he=Math.ceil(ie.length/ve)-1,ge=[],be=1;be<he;++be)ge[be-1]=ie.slice(be*ve,(be+1)*ve);return ge[he-1]=ie.slice(he*ve),ge}function E(ie,ve,he){for(var ge=0,be=0,we=0,Ue=0,at=0,Be=he.length,ze=[],Xe=[];ge<Be;++ge)ze[ge]=Xe[ge]=ge,ve[ge]=he[ge];for(;at<Xe.length;++at)ge=Xe[at],be=ie[ge].L,we=ie[ge].R,Ue=ie[ge].C,ze[ge]===ge&&(be!==-1&&ze[be]!==be&&(ze[ge]=ze[be]),we!==-1&&ze[we]!==we&&(ze[ge]=ze[we])),Ue!==-1&&(ze[Ue]=ge),be!==-1&&ge!=ze[ge]&&(ze[be]=ze[ge],Xe.lastIndexOf(be)<at&&Xe.push(be)),we!==-1&&ge!=ze[ge]&&(ze[we]=ze[ge],Xe.lastIndexOf(we)<at&&Xe.push(we));for(ge=1;ge<Be;++ge)ze[ge]===ge&&(we!==-1&&ze[we]!==we?ze[ge]=ze[we]:be!==-1&&ze[be]!==be&&(ze[ge]=ze[be]));for(ge=1;ge<Be;++ge)if(ie[ge].type!==0){if(at=ge,at!=ze[at])do at=ze[at],ve[ge]=ve[at]+"/"+ve[ge];while(at!==0&&ze[at]!==-1&&at!=ze[at]);ze[ge]=-1}for(ve[0]+="/",ge=1;ge<Be;++ge)ie[ge].type!==2&&(ve[ge]+="/")}function _(ie,ve,he){for(var ge=ie.start,be=ie.size,we=[],Ue=ge;he&&be>0&&Ue>=0;)we.push(ve.slice(Ue*M,Ue*M+M)),be-=M,Ue=qd(he,Ue*4);return we.length===0?Ss(0):Bf(we).slice(0,ie.size)}function A(ie,ve,he,ge,be){var we=j;if(ie===j){if(ve!==0)throw new Error("DIFAT chain shorter than expected")}else if(ie!==-1){var Ue=he[ie],at=(ge>>>2)-1;if(!Ue)return;for(var Be=0;Be<at&&(we=qd(Ue,Be*4))!==j;++Be)be.push(we);A(qd(Ue,ge-4),ve-1,he,ge,be)}}function C(ie,ve,he,ge,be){var we=[],Ue=[];be||(be=[]);var at=ge-1,Be=0,ze=0;for(Be=ve;Be>=0;){be[Be]=!0,we[we.length]=Be,Ue.push(ie[Be]);var Xe=he[Math.floor(Be*4/ge)];if(ze=Be*4&at,ge<4+ze)throw new Error("FAT boundary crossed: "+Be+" 4 "+ge);if(!ie[Xe])break;Be=qd(ie[Xe],ze)}return{nodes:we,data:DP([Ue])}}function V(ie,ve,he,ge){var be=ie.length,we=[],Ue=[],at=[],Be=[],ze=ge-1,Xe=0,bt=0,St=0,Mt=0;for(Xe=0;Xe<be;++Xe)if(at=[],St=Xe+ve,St>=be&&(St-=be),!Ue[St]){Be=[];var _t=[];for(bt=St;bt>=0;){_t[bt]=!0,Ue[bt]=!0,at[at.length]=bt,Be.push(ie[bt]);var Dt=he[Math.floor(bt*4/ge)];if(Mt=bt*4&ze,ge<4+Mt)throw new Error("FAT boundary crossed: "+bt+" 4 "+ge);if(!ie[Dt]||(bt=qd(ie[Dt],Mt),_t[bt]))break}we[St]={nodes:at,data:DP([Be])}}return we}function R(ie,ve,he,ge,be,we,Ue,at){for(var Be=0,ze=ge.length?2:0,Xe=ve[ie].data,bt=0,St=0,Mt;bt<Xe.length;bt+=128){var _t=Xe.slice(bt,bt+128);aa(_t,64),St=_t.read_shift(2),Mt=PS(_t,0,St-ze),ge.push(Mt);var Dt={name:Mt,type:_t.read_shift(1),color:_t.read_shift(1),L:_t.read_shift(4,"i"),R:_t.read_shift(4,"i"),C:_t.read_shift(4,"i"),clsid:_t.read_shift(16),state:_t.read_shift(4,"i"),start:0,size:0},Xt=_t.read_shift(2)+_t.read_shift(2)+_t.read_shift(2)+_t.read_shift(2);Xt!==0&&(Dt.ct=F(_t,_t.l-8));var mr=_t.read_shift(2)+_t.read_shift(2)+_t.read_shift(2)+_t.read_shift(2);mr!==0&&(Dt.mt=F(_t,_t.l-8)),Dt.start=_t.read_shift(4,"i"),Dt.size=_t.read_shift(4,"i"),Dt.size<0&&Dt.start<0&&(Dt.size=Dt.type=0,Dt.start=j,Dt.name=""),Dt.type===5?(Be=Dt.start,be>0&&Be!==j&&(ve[Be].name="!StreamData")):Dt.size>=4096?(Dt.storage="fat",ve[Dt.start]===void 0&&(ve[Dt.start]=C(he,Dt.start,ve.fat_addrs,ve.ssz)),ve[Dt.start].name=Dt.name,Dt.content=ve[Dt.start].data.slice(0,Dt.size)):(Dt.storage="minifat",Dt.size<0?Dt.size=0:Be!==j&&Dt.start!==j&&ve[Be]&&(Dt.content=_(Dt,ve[Be].data,(ve[at]||{}).data))),Dt.content&&aa(Dt.content,0),we[Mt]=Dt,Ue.push(Dt)}}function F(ie,ve){return new Date((Oo(ie,ve+4)/1e7*Math.pow(2,32)+Oo(ie,ve)/1e7-11644473600)*1e3)}function z(ie,ve){return f(),d(c.readFileSync(ie),ve)}function W(ie,ve){var he=ve&&ve.type;switch(he||hr&&Buffer.isBuffer(ie)&&(he="buffer"),he||"base64"){case"file":return z(ie,ve);case"base64":return d($l(qo(ie)),ve);case"binary":return d($l(ie),ve)}return d(ie,ve)}function D(ie,ve){var he=ve||{},ge=he.root||"Root Entry";if(ie.FullPaths||(ie.FullPaths=[]),ie.FileIndex||(ie.FileIndex=[]),ie.FullPaths.length!==ie.FileIndex.length)throw new Error("inconsistent CFB structure");ie.FullPaths.length===0&&(ie.FullPaths[0]=ge+"/",ie.FileIndex[0]={name:ge,type:5}),he.CLSID&&(ie.FileIndex[0].clsid=he.CLSID),L(ie)}function L(ie){var ve="Sh33tJ5";if(!br.find(ie,"/"+ve)){var he=Ss(4);he[0]=55,he[1]=he[3]=50,he[2]=54,ie.FileIndex.push({name:ve,type:2,content:he,size:4,L:69,R:69,C:69}),ie.FullPaths.push(ie.FullPaths[0]+ve),k(ie)}}function k(ie,ve){D(ie);for(var he=!1,ge=!1,be=ie.FullPaths.length-1;be>=0;--be){var we=ie.FileIndex[be];switch(we.type){case 0:ge?he=!0:(ie.FileIndex.pop(),ie.FullPaths.pop());break;case 1:case 2:case 5:ge=!0,isNaN(we.R*we.L*we.C)&&(he=!0),we.R>-1&&we.L>-1&&we.R==we.L&&(he=!0);break;default:he=!0;break}}if(!(!he&&!ve)){var Ue=new Date(1987,1,19),at=0,Be=Object.create?Object.create(null):{},ze=[];for(be=0;be<ie.FullPaths.length;++be)Be[ie.FullPaths[be]]=!0,ie.FileIndex[be].type!==0&&ze.push([ie.FullPaths[be],ie.FileIndex[be]]);for(be=0;be<ze.length;++be){var Xe=r(ze[be][0]);ge=Be[Xe],ge||(ze.push([Xe,{name:i(Xe).replace("/",""),type:1,clsid:fe,ct:Ue,mt:Ue,content:null}]),Be[Xe]=!0)}for(ze.sort(function(Mt,_t){return n(Mt[0],_t[0])}),ie.FullPaths=[],ie.FileIndex=[],be=0;be<ze.length;++be)ie.FullPaths[be]=ze[be][0],ie.FileIndex[be]=ze[be][1];for(be=0;be<ze.length;++be){var bt=ie.FileIndex[be],St=ie.FullPaths[be];if(bt.name=i(St).replace("/",""),bt.L=bt.R=bt.C=-(bt.color=1),bt.size=bt.content?bt.content.length:0,bt.start=0,bt.clsid=bt.clsid||fe,be===0)bt.C=ze.length>1?1:-1,bt.size=0,bt.type=5;else if(St.slice(-1)=="/"){for(at=be+1;at<ze.length&&r(ie.FullPaths[at])!=St;++at);for(bt.C=at>=ze.length?-1:at,at=be+1;at<ze.length&&r(ie.FullPaths[at])!=r(St);++at);bt.R=at>=ze.length?-1:at,bt.type=1}else r(ie.FullPaths[be+1]||"")==r(St)&&(bt.R=be+1),bt.type=2}}}function q(ie,ve){var he=ve||{};if(he.fileType=="mad")return Le(ie,he);switch(k(ie),he.fileType){case"zip":return un(ie,he)}var ge=(function(Mt){for(var _t=0,Dt=0,Xt=0;Xt<Mt.FileIndex.length;++Xt){var mr=Mt.FileIndex[Xt];if(mr.content){var Gn=mr.content.length;Gn>0&&(Gn<4096?_t+=Gn+63>>6:Dt+=Gn+511>>9)}}for(var wr=Mt.FullPaths.length+3>>2,Gi=_t+7>>3,$s=_t+127>>7,ua=Gi+Dt+wr+$s,Ps=ua+127>>7,wo=Ps<=109?0:Math.ceil((Ps-109)/127);ua+Ps+wo+127>>7>Ps;)wo=++Ps<=109?0:Math.ceil((Ps-109)/127);var ei=[1,wo,Ps,$s,wr,Dt,_t,0];return Mt.FileIndex[0].size=_t<<6,ei[7]=(Mt.FileIndex[0].start=ei[0]+ei[1]+ei[2]+ei[3]+ei[4]+ei[5])+(ei[6]+7>>3),ei})(ie),be=Ss(ge[7]<<9),we=0,Ue=0;{for(we=0;we<8;++we)be.write_shift(1,Ae[we]);for(we=0;we<8;++we)be.write_shift(2,0);for(be.write_shift(2,62),be.write_shift(2,3),be.write_shift(2,65534),be.write_shift(2,9),be.write_shift(2,6),we=0;we<3;++we)be.write_shift(2,0);for(be.write_shift(4,0),be.write_shift(4,ge[2]),be.write_shift(4,ge[0]+ge[1]+ge[2]+ge[3]-1),be.write_shift(4,0),be.write_shift(4,4096),be.write_shift(4,ge[3]?ge[0]+ge[1]+ge[2]-1:j),be.write_shift(4,ge[3]),be.write_shift(-4,ge[1]?ge[0]-1:j),be.write_shift(4,ge[1]),we=0;we<109;++we)be.write_shift(-4,we<ge[2]?ge[1]+we:-1)}if(ge[1])for(Ue=0;Ue<ge[1];++Ue){for(;we<236+Ue*127;++we)be.write_shift(-4,we<ge[2]?ge[1]+we:-1);be.write_shift(-4,Ue===ge[1]-1?j:Ue+1)}var at=function(Mt){for(Ue+=Mt;we<Ue-1;++we)be.write_shift(-4,we+1);Mt&&(++we,be.write_shift(-4,j))};for(Ue=we=0,Ue+=ge[1];we<Ue;++we)be.write_shift(-4,xe.DIFSECT);for(Ue+=ge[2];we<Ue;++we)be.write_shift(-4,xe.FATSECT);at(ge[3]),at(ge[4]);for(var Be=0,ze=0,Xe=ie.FileIndex[0];Be<ie.FileIndex.length;++Be)Xe=ie.FileIndex[Be],Xe.content&&(ze=Xe.content.length,!(ze<4096)&&(Xe.start=Ue,at(ze+511>>9)));for(at(ge[6]+7>>3);be.l&511;)be.write_shift(-4,xe.ENDOFCHAIN);for(Ue=we=0,Be=0;Be<ie.FileIndex.length;++Be)Xe=ie.FileIndex[Be],Xe.content&&(ze=Xe.content.length,!(!ze||ze>=4096)&&(Xe.start=Ue,at(ze+63>>6)));for(;be.l&511;)be.write_shift(-4,xe.ENDOFCHAIN);for(we=0;we<ge[4]<<2;++we){var bt=ie.FullPaths[we];if(!bt||bt.length===0){for(Be=0;Be<17;++Be)be.write_shift(4,0);for(Be=0;Be<3;++Be)be.write_shift(4,-1);for(Be=0;Be<12;++Be)be.write_shift(4,0);continue}Xe=ie.FileIndex[we],we===0&&(Xe.start=Xe.size?Xe.start-1:j);var St=we===0&&he.root||Xe.name;if(ze=2*(St.length+1),be.write_shift(64,St,"utf16le"),be.write_shift(2,ze),be.write_shift(1,Xe.type),be.write_shift(1,Xe.color),be.write_shift(-4,Xe.L),be.write_shift(-4,Xe.R),be.write_shift(-4,Xe.C),Xe.clsid)be.write_shift(16,Xe.clsid,"hex");else for(Be=0;Be<4;++Be)be.write_shift(4,0);be.write_shift(4,Xe.state||0),be.write_shift(4,0),be.write_shift(4,0),be.write_shift(4,0),be.write_shift(4,0),be.write_shift(4,Xe.start),be.write_shift(4,Xe.size),be.write_shift(4,0)}for(we=1;we<ie.FileIndex.length;++we)if(Xe=ie.FileIndex[we],Xe.size>=4096)if(be.l=Xe.start+1<<9,hr&&Buffer.isBuffer(Xe.content))Xe.content.copy(be,be.l,0,Xe.size),be.l+=Xe.size+511&-512;else{for(Be=0;Be<Xe.size;++Be)be.write_shift(1,Xe.content[Be]);for(;Be&511;++Be)be.write_shift(1,0)}for(we=1;we<ie.FileIndex.length;++we)if(Xe=ie.FileIndex[we],Xe.size>0&&Xe.size<4096)if(hr&&Buffer.isBuffer(Xe.content))Xe.content.copy(be,be.l,0,Xe.size),be.l+=Xe.size+63&-64;else{for(Be=0;Be<Xe.size;++Be)be.write_shift(1,Xe.content[Be]);for(;Be&63;++Be)be.write_shift(1,0)}if(hr)be.l=be.length;else for(;be.l<be.length;)be.write_shift(1,0);return be}function P(ie,ve){var he=ie.FullPaths.map(function(Be){return Be.toUpperCase()}),ge=he.map(function(Be){var ze=Be.split("/");return ze[ze.length-(Be.slice(-1)=="/"?2:1)]}),be=!1;ve.charCodeAt(0)===47?(be=!0,ve=he[0].slice(0,-1)+ve):be=ve.indexOf("/")!==-1;var we=ve.toUpperCase(),Ue=be===!0?he.indexOf(we):ge.indexOf(we);if(Ue!==-1)return ie.FileIndex[Ue];var at=!we.match(sg);for(we=we.replace($a,""),at&&(we=we.replace(sg,"!")),Ue=0;Ue<he.length;++Ue)if((at?he[Ue].replace(sg,"!"):he[Ue]).replace($a,"")==we||(at?ge[Ue].replace(sg,"!"):ge[Ue]).replace($a,"")==we)return ie.FileIndex[Ue];return null}var M=64,j=-2,ae="d0cf11e0a1b11ae1",Ae=[208,207,17,224,161,177,26,225],fe="00000000000000000000000000000000",xe={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:j,FREESECT:-1,HEADER_SIGNATURE:ae,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:fe,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function Ne(ie,ve,he){f();var ge=q(ie,he);c.writeFileSync(ve,ge)}function me(ie){for(var ve=new Array(ie.length),he=0;he<ie.length;++he)ve[he]=String.fromCharCode(ie[he]);return ve.join("")}function Re(ie,ve){var he=q(ie,ve);switch(ve&&ve.type||"buffer"){case"file":return f(),c.writeFileSync(ve.filename,he),he;case"binary":return typeof he=="string"?he:me(he);case"base64":return mP(typeof he=="string"?he:me(he));case"buffer":if(hr)return Buffer.isBuffer(he)?he:Mh(he);case"array":return typeof he=="string"?$l(he):he}return he}var re;function B(ie){try{var ve=ie.InflateRaw,he=new ve;if(he._processChunk(new Uint8Array([3,0]),he._finishFlushFlag),he.bytesRead)re=ie;else throw new Error("zlib does not expose bytesRead")}catch(ge){console.error("cannot use native zlib: "+(ge.message||ge))}}function Y(ie,ve){if(!re)return Jn(ie,ve);var he=re.InflateRaw,ge=new he,be=ge._processChunk(ie.slice(ie.l),ge._finishFlushFlag);return ie.l+=ge.bytesRead,be}function X(ie){return re?re.deflateRawSync(ie):Rt(ie)}var Q=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ce=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],_e=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function Pe(ie){var ve=(ie<<1|ie<<11)&139536|(ie<<5|ie<<15)&558144;return(ve>>16|ve>>8|ve)&255}for(var Z=typeof Uint8Array<"u",Ce=Z?new Uint8Array(256):[],qe=0;qe<256;++qe)Ce[qe]=Pe(qe);function ee(ie,ve){var he=Ce[ie&255];return ve<=8?he>>>8-ve:(he=he<<8|Ce[ie>>8&255],ve<=16?he>>>16-ve:(he=he<<8|Ce[ie>>16&255],he>>>24-ve))}function Ie(ie,ve){var he=ve&7,ge=ve>>>3;return(ie[ge]|(he<=6?0:ie[ge+1]<<8))>>>he&3}function Ye(ie,ve){var he=ve&7,ge=ve>>>3;return(ie[ge]|(he<=5?0:ie[ge+1]<<8))>>>he&7}function oe(ie,ve){var he=ve&7,ge=ve>>>3;return(ie[ge]|(he<=4?0:ie[ge+1]<<8))>>>he&15}function rt(ie,ve){var he=ve&7,ge=ve>>>3;return(ie[ge]|(he<=3?0:ie[ge+1]<<8))>>>he&31}function st(ie,ve){var he=ve&7,ge=ve>>>3;return(ie[ge]|(he<=1?0:ie[ge+1]<<8))>>>he&127}function ft(ie,ve,he){var ge=ve&7,be=ve>>>3,we=(1<<he)-1,Ue=ie[be]>>>ge;return he<8-ge||(Ue|=ie[be+1]<<8-ge,he<16-ge)||(Ue|=ie[be+2]<<16-ge,he<24-ge)||(Ue|=ie[be+3]<<24-ge),Ue&we}function tt(ie,ve,he){var ge=ve&7,be=ve>>>3;return ge<=5?ie[be]|=(he&7)<<ge:(ie[be]|=he<<ge&255,ie[be+1]=(he&7)>>8-ge),ve+3}function wt(ie,ve,he){var ge=ve&7,be=ve>>>3;return he=(he&1)<<ge,ie[be]|=he,ve+1}function At(ie,ve,he){var ge=ve&7,be=ve>>>3;return he<<=ge,ie[be]|=he&255,he>>>=8,ie[be+1]=he,ve+8}function Pt(ie,ve,he){var ge=ve&7,be=ve>>>3;return he<<=ge,ie[be]|=he&255,he>>>=8,ie[be+1]=he&255,ie[be+2]=he>>>8,ve+16}function jt(ie,ve){var he=ie.length,ge=2*he>ve?2*he:ve+5,be=0;if(he>=ve)return ie;if(hr){var we=gP(ge);if(ie.copy)ie.copy(we);else for(;be<ie.length;++be)we[be]=ie[be];return we}else if(Z){var Ue=new Uint8Array(ge);if(Ue.set)Ue.set(ie);else for(;be<he;++be)Ue[be]=ie[be];return Ue}return ie.length=ge,ie}function Zt(ie){for(var ve=new Array(ie),he=0;he<ie;++he)ve[he]=0;return ve}function Gt(ie,ve,he){var ge=1,be=0,we=0,Ue=0,at=0,Be=ie.length,ze=Z?new Uint16Array(32):Zt(32);for(we=0;we<32;++we)ze[we]=0;for(we=Be;we<he;++we)ie[we]=0;Be=ie.length;var Xe=Z?new Uint16Array(Be):Zt(Be);for(we=0;we<Be;++we)ze[be=ie[we]]++,ge<be&&(ge=be),Xe[we]=0;for(ze[0]=0,we=1;we<=ge;++we)ze[we+16]=at=at+ze[we-1]<<1;for(we=0;we<Be;++we)at=ie[we],at!=0&&(Xe[we]=ze[at+16]++);var bt=0;for(we=0;we<Be;++we)if(bt=ie[we],bt!=0)for(at=ee(Xe[we],ge)>>ge-bt,Ue=(1<<ge+4-bt)-1;Ue>=0;--Ue)ve[at|Ue<<bt]=bt&15|we<<4;return ge}var Wt=Z?new Uint16Array(512):Zt(512),Nn=Z?new Uint16Array(32):Zt(32);if(!Z){for(var en=0;en<512;++en)Wt[en]=0;for(en=0;en<32;++en)Nn[en]=0}(function(){for(var ie=[],ve=0;ve<32;ve++)ie.push(5);Gt(ie,Nn,32);var he=[];for(ve=0;ve<=143;ve++)he.push(8);for(;ve<=255;ve++)he.push(9);for(;ve<=279;ve++)he.push(7);for(;ve<=287;ve++)he.push(8);Gt(he,Wt,288)})();var Ft=(function(){for(var ve=Z?new Uint8Array(32768):[],he=0,ge=0;he<_e.length-1;++he)for(;ge<_e[he+1];++ge)ve[ge]=he;for(;ge<32768;++ge)ve[ge]=29;var be=Z?new Uint8Array(259):[];for(he=0,ge=0;he<ce.length-1;++he)for(;ge<ce[he+1];++ge)be[ge]=he;function we(at,Be){for(var ze=0;ze<at.length;){var Xe=Math.min(65535,at.length-ze),bt=ze+Xe==at.length;for(Be.write_shift(1,+bt),Be.write_shift(2,Xe),Be.write_shift(2,~Xe&65535);Xe-- >0;)Be[Be.l++]=at[ze++]}return Be.l}function Ue(at,Be){for(var ze=0,Xe=0,bt=Z?new Uint16Array(32768):[];Xe<at.length;){var St=Math.min(65535,at.length-Xe);if(St<10){for(ze=tt(Be,ze,+(Xe+St==at.length)),ze&7&&(ze+=8-(ze&7)),Be.l=ze/8|0,Be.write_shift(2,St),Be.write_shift(2,~St&65535);St-- >0;)Be[Be.l++]=at[Xe++];ze=Be.l*8;continue}ze=tt(Be,ze,+(Xe+St==at.length)+2);for(var Mt=0;St-- >0;){var _t=at[Xe];Mt=(Mt<<5^_t)&32767;var Dt=-1,Xt=0;if((Dt=bt[Mt])&&(Dt|=Xe&-32768,Dt>Xe&&(Dt-=32768),Dt<Xe))for(;at[Dt+Xt]==at[Xe+Xt]&&Xt<250;)++Xt;if(Xt>2){_t=be[Xt],_t<=22?ze=At(Be,ze,Ce[_t+1]>>1)-1:(At(Be,ze,3),ze+=5,At(Be,ze,Ce[_t-23]>>5),ze+=3);var mr=_t<8?0:_t-4>>2;mr>0&&(Pt(Be,ze,Xt-ce[_t]),ze+=mr),_t=ve[Xe-Dt],ze=At(Be,ze,Ce[_t]>>3),ze-=3;var Gn=_t<4?0:_t-2>>1;Gn>0&&(Pt(Be,ze,Xe-Dt-_e[_t]),ze+=Gn);for(var wr=0;wr<Xt;++wr)bt[Mt]=Xe&32767,Mt=(Mt<<5^at[Xe])&32767,++Xe;St-=Xt-1}else _t<=143?_t=_t+48:ze=wt(Be,ze,1),ze=At(Be,ze,Ce[_t]),bt[Mt]=Xe&32767,++Xe}ze=At(Be,ze,0)-1}return Be.l=(ze+7)/8|0,Be.l}return function(Be,ze){return Be.length<8?we(Be,ze):Ue(Be,ze)}})();function Rt(ie){var ve=Ss(50+Math.floor(ie.length*1.1)),he=Ft(ie,ve);return ve.slice(0,he)}var Nt=Z?new Uint16Array(32768):Zt(32768),qn=Z?new Uint16Array(32768):Zt(32768),Bt=Z?new Uint16Array(128):Zt(128),Ct=1,zt=1;function xn(ie,ve){var he=rt(ie,ve)+257;ve+=5;var ge=rt(ie,ve)+1;ve+=5;var be=oe(ie,ve)+4;ve+=4;for(var we=0,Ue=Z?new Uint8Array(19):Zt(19),at=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Be=1,ze=Z?new Uint8Array(8):Zt(8),Xe=Z?new Uint8Array(8):Zt(8),bt=Ue.length,St=0;St<be;++St)Ue[Q[St]]=we=Ye(ie,ve),Be<we&&(Be=we),ze[we]++,ve+=3;var Mt=0;for(ze[0]=0,St=1;St<=Be;++St)Xe[St]=Mt=Mt+ze[St-1]<<1;for(St=0;St<bt;++St)(Mt=Ue[St])!=0&&(at[St]=Xe[Mt]++);var _t=0;for(St=0;St<bt;++St)if(_t=Ue[St],_t!=0){Mt=Ce[at[St]]>>8-_t;for(var Dt=(1<<7-_t)-1;Dt>=0;--Dt)Bt[Mt|Dt<<_t]=_t&7|St<<3}var Xt=[];for(Be=1;Xt.length<he+ge;)switch(Mt=Bt[st(ie,ve)],ve+=Mt&7,Mt>>>=3){case 16:for(we=3+Ie(ie,ve),ve+=2,Mt=Xt[Xt.length-1];we-- >0;)Xt.push(Mt);break;case 17:for(we=3+Ye(ie,ve),ve+=3;we-- >0;)Xt.push(0);break;case 18:for(we=11+st(ie,ve),ve+=7;we-- >0;)Xt.push(0);break;default:Xt.push(Mt),Be<Mt&&(Be=Mt);break}var mr=Xt.slice(0,he),Gn=Xt.slice(he);for(St=he;St<286;++St)mr[St]=0;for(St=ge;St<30;++St)Gn[St]=0;return Ct=Gt(mr,Nt,286),zt=Gt(Gn,qn,30),ve}function cn(ie,ve){if(ie[0]==3&&!(ie[1]&3))return[id(ve),2];for(var he=0,ge=0,be=gP(ve||1<<18),we=0,Ue=be.length>>>0,at=0,Be=0;(ge&1)==0;){if(ge=Ye(ie,he),he+=3,ge>>>1)ge>>1==1?(at=9,Be=5):(he=xn(ie,he),at=Ct,Be=zt);else{he&7&&(he+=8-(he&7));var ze=ie[he>>>3]|ie[(he>>>3)+1]<<8;if(he+=32,ze>0)for(!ve&&Ue<we+ze&&(be=jt(be,we+ze),Ue=be.length);ze-- >0;)be[we++]=ie[he>>>3],he+=8;continue}for(;;){!ve&&Ue<we+32767&&(be=jt(be,we+32767),Ue=be.length);var Xe=ft(ie,he,at),bt=ge>>>1==1?Wt[Xe]:Nt[Xe];if(he+=bt&15,bt>>>=4,(bt>>>8&255)===0)be[we++]=bt;else{if(bt==256)break;bt-=257;var St=bt<8?0:bt-4>>2;St>5&&(St=0);var Mt=we+ce[bt];St>0&&(Mt+=ft(ie,he,St),he+=St),Xe=ft(ie,he,Be),bt=ge>>>1==1?Nn[Xe]:qn[Xe],he+=bt&15,bt>>>=4;var _t=bt<4?0:bt-2>>1,Dt=_e[bt];for(_t>0&&(Dt+=ft(ie,he,_t),he+=_t),!ve&&Ue<Mt&&(be=jt(be,Mt+100),Ue=be.length);we<Mt;)be[we]=be[we-Dt],++we}}}return ve?[be,he+7>>>3]:[be.slice(0,we),he+7>>>3]}function Jn(ie,ve){var he=ie.slice(ie.l||0),ge=cn(he,ve);return ie.l+=ge[1],ge[0]}function gn(ie,ve){if(ie)typeof console<"u"&&console.error(ve);else throw new Error(ve)}function dn(ie,ve){var he=ie;aa(he,0);var ge=[],be=[],we={FileIndex:ge,FullPaths:be};D(we,{root:ve.root});for(var Ue=he.length-4;(he[Ue]!=80||he[Ue+1]!=75||he[Ue+2]!=5||he[Ue+3]!=6)&&Ue>=0;)--Ue;he.l=Ue+4,he.l+=4;var at=he.read_shift(2);he.l+=6;var Be=he.read_shift(4);for(he.l=Be,Ue=0;Ue<at;++Ue){he.l+=20;var ze=he.read_shift(4),Xe=he.read_shift(4),bt=he.read_shift(2),St=he.read_shift(2),Mt=he.read_shift(2);he.l+=8;var _t=he.read_shift(4),Dt=o(he.slice(he.l+bt,he.l+bt+St));he.l+=bt+St+Mt;var Xt=he.l;he.l=_t+4,ar(he,ze,Xe,we,Dt),he.l=Xt}return we}function ar(ie,ve,he,ge,be){ie.l+=2;var we=ie.read_shift(2),Ue=ie.read_shift(2),at=a(ie);if(we&8257)throw new Error("Unsupported ZIP encryption");for(var Be=ie.read_shift(4),ze=ie.read_shift(4),Xe=ie.read_shift(4),bt=ie.read_shift(2),St=ie.read_shift(2),Mt="",_t=0;_t<bt;++_t)Mt+=String.fromCharCode(ie[ie.l++]);if(St){var Dt=o(ie.slice(ie.l,ie.l+St));(Dt[21589]||{}).mt&&(at=Dt[21589].mt),((be||{})[21589]||{}).mt&&(at=be[21589].mt)}ie.l+=St;var Xt=ie.slice(ie.l,ie.l+ze);switch(Ue){case 8:Xt=Y(ie,Xe);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Ue)}var mr=!1;we&8&&(Be=ie.read_shift(4),Be==134695760&&(Be=ie.read_shift(4),mr=!0),ze=ie.read_shift(4),Xe=ie.read_shift(4)),ze!=ve&&gn(mr,"Bad compressed size: "+ve+" != "+ze),Xe!=he&&gn(mr,"Bad uncompressed size: "+he+" != "+Xe),qt(ge,Mt,Xt,{unsafe:!0,mt:at})}function un(ie,ve){var he=ve||{},ge=[],be=[],we=Ss(1),Ue=he.compression?8:0,at=0,Be=0,ze=0,Xe=0,bt=0,St=ie.FullPaths[0],Mt=St,_t=ie.FileIndex[0],Dt=[],Xt=0;for(Be=1;Be<ie.FullPaths.length;++Be)if(Mt=ie.FullPaths[Be].slice(St.length),_t=ie.FileIndex[Be],!(!_t.size||!_t.content||Mt=="Sh33tJ5")){var mr=Xe,Gn=Ss(Mt.length);for(ze=0;ze<Mt.length;++ze)Gn.write_shift(1,Mt.charCodeAt(ze)&127);Gn=Gn.slice(0,Gn.l),Dt[bt]=Afe.buf(_t.content,0);var wr=_t.content;Ue==8&&(wr=X(wr)),we=Ss(30),we.write_shift(4,67324752),we.write_shift(2,20),we.write_shift(2,at),we.write_shift(2,Ue),_t.mt?s(we,_t.mt):we.write_shift(4,0),we.write_shift(-4,Dt[bt]),we.write_shift(4,wr.length),we.write_shift(4,_t.content.length),we.write_shift(2,Gn.length),we.write_shift(2,0),Xe+=we.length,ge.push(we),Xe+=Gn.length,ge.push(Gn),Xe+=wr.length,ge.push(wr),we=Ss(46),we.write_shift(4,33639248),we.write_shift(2,0),we.write_shift(2,20),we.write_shift(2,at),we.write_shift(2,Ue),we.write_shift(4,0),we.write_shift(-4,Dt[bt]),we.write_shift(4,wr.length),we.write_shift(4,_t.content.length),we.write_shift(2,Gn.length),we.write_shift(2,0),we.write_shift(2,0),we.write_shift(2,0),we.write_shift(2,0),we.write_shift(4,0),we.write_shift(4,mr),Xt+=we.l,be.push(we),Xt+=Gn.length,be.push(Gn),++bt}return we=Ss(22),we.write_shift(4,101010256),we.write_shift(2,0),we.write_shift(2,0),we.write_shift(2,bt),we.write_shift(2,bt),we.write_shift(4,Xt),we.write_shift(4,Xe),we.write_shift(2,0),Bf([Bf(ge),Bf(be),we])}var Yt={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Ln(ie,ve){if(ie.ctype)return ie.ctype;var he=ie.name||"",ge=he.match(/\.([^\.]+)$/);return ge&&Yt[ge[1]]||ve&&(ge=(he=ve).match(/[\.\\]([^\.\\])+$/),ge&&Yt[ge[1]])?Yt[ge[1]]:"application/octet-stream"}function oi(ie){for(var ve=mP(ie),he=[],ge=0;ge<ve.length;ge+=76)he.push(ve.slice(ge,ge+76));return he.join(`\r
`)+`\r
`}function li(ie){var ve=ie.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(ze){var Xe=ze.charCodeAt(0).toString(16).toUpperCase();return"="+(Xe.length==1?"0"+Xe:Xe)});ve=ve.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),ve.charAt(0)==`
`&&(ve="=0D"+ve.slice(1)),ve=ve.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var he=[],ge=ve.split(`\r
`),be=0;be<ge.length;++be){var we=ge[be];if(we.length==0){he.push("");continue}for(var Ue=0;Ue<we.length;){var at=76,Be=we.slice(Ue,Ue+at);Be.charAt(at-1)=="="?at--:Be.charAt(at-2)=="="?at-=2:Be.charAt(at-3)=="="&&(at-=3),Be=we.slice(Ue,Ue+at),Ue+=at,Ue<we.length&&(Be+="="),he.push(Be)}}return he.join(`\r
`)}function Rs(ie){for(var ve=[],he=0;he<ie.length;++he){for(var ge=ie[he];he<=ie.length&&ge.charAt(ge.length-1)=="=";)ge=ge.slice(0,ge.length-1)+ie[++he];ve.push(ge)}for(var be=0;be<ve.length;++be)ve[be]=ve[be].replace(/[=][0-9A-Fa-f]{2}/g,function(we){return String.fromCharCode(parseInt(we.slice(1),16))});return $l(ve.join(`\r
`))}function Zr(ie,ve,he){for(var ge="",be="",we="",Ue,at=0;at<10;++at){var Be=ve[at];if(!Be||Be.match(/^\s*$/))break;var ze=Be.match(/^(.*?):\s*([^\s].*)$/);if(ze)switch(ze[1].toLowerCase()){case"content-location":ge=ze[2].trim();break;case"content-type":we=ze[2].trim();break;case"content-transfer-encoding":be=ze[2].trim();break}}switch(++at,be.toLowerCase()){case"base64":Ue=$l(qo(ve.slice(at).join("")));break;case"quoted-printable":Ue=Rs(ve.slice(at));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+be)}var Xe=qt(ie,ge.slice(he.length),Ue,{unsafe:!0});we&&(Xe.ctype=we)}function hn(ie,ve){if(me(ie.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var he=ve&&ve.root||"",ge=(hr&&Buffer.isBuffer(ie)?ie.toString("binary"):me(ie)).split(`\r
`),be=0,we="";for(be=0;be<ge.length;++be)if(we=ge[be],!!/^Content-Location:/i.test(we)&&(we=we.slice(we.indexOf("file")),he||(he=we.slice(0,we.lastIndexOf("/")+1)),we.slice(0,he.length)!=he))for(;he.length>0&&(he=he.slice(0,he.length-1),he=he.slice(0,he.lastIndexOf("/")+1),we.slice(0,he.length)!=he););var Ue=(ge[1]||"").match(/boundary="(.*?)"/);if(!Ue)throw new Error("MAD cannot find boundary");var at="--"+(Ue[1]||""),Be=[],ze=[],Xe={FileIndex:Be,FullPaths:ze};D(Xe);var bt,St=0;for(be=0;be<ge.length;++be){var Mt=ge[be];Mt!==at&&Mt!==at+"--"||(St++&&Zr(Xe,ge.slice(bt,be),he),bt=be)}return Xe}function Le(ie,ve){var he=ve||{},ge=he.boundary||"SheetJS";ge="------="+ge;for(var be=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+ge.slice(2)+'"',"","",""],we=ie.FullPaths[0],Ue=we,at=ie.FileIndex[0],Be=1;Be<ie.FullPaths.length;++Be)if(Ue=ie.FullPaths[Be].slice(we.length),at=ie.FileIndex[Be],!(!at.size||!at.content||Ue=="Sh33tJ5")){Ue=Ue.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Xt){return"_x"+Xt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Xt){return"_u"+Xt.charCodeAt(0).toString(16)+"_"});for(var ze=at.content,Xe=hr&&Buffer.isBuffer(ze)?ze.toString("binary"):me(ze),bt=0,St=Math.min(1024,Xe.length),Mt=0,_t=0;_t<=St;++_t)(Mt=Xe.charCodeAt(_t))>=32&&Mt<128&&++bt;var Dt=bt>=St*4/5;be.push(ge),be.push("Content-Location: "+(he.root||"file:///C:/SheetJS/")+Ue),be.push("Content-Transfer-Encoding: "+(Dt?"quoted-printable":"base64")),be.push("Content-Type: "+Ln(at,Ue)),be.push(""),be.push(Dt?li(Xe):oi(Xe))}return be.push(ge+`--\r
`),be.join(`\r
`)}function Lt(ie){var ve={};return D(ve,ie),ve}function qt(ie,ve,he,ge){var be=ge&&ge.unsafe;be||D(ie);var we=!be&&br.find(ie,ve);if(!we){var Ue=ie.FullPaths[0];ve.slice(0,Ue.length)==Ue?Ue=ve:(Ue.slice(-1)!="/"&&(Ue+="/"),Ue=(Ue+ve).replace("//","/")),we={name:i(ve),type:2},ie.FileIndex.push(we),ie.FullPaths.push(Ue),be||br.utils.cfb_gc(ie)}return we.content=he,we.size=he?he.length:0,ge&&(ge.CLSID&&(we.clsid=ge.CLSID),ge.mt&&(we.mt=ge.mt),ge.ct&&(we.ct=ge.ct)),we}function $n(ie,ve){D(ie);var he=br.find(ie,ve);if(he){for(var ge=0;ge<ie.FileIndex.length;++ge)if(ie.FileIndex[ge]==he)return ie.FileIndex.splice(ge,1),ie.FullPaths.splice(ge,1),!0}return!1}function tn(ie,ve,he){D(ie);var ge=br.find(ie,ve);if(ge){for(var be=0;be<ie.FileIndex.length;++be)if(ie.FileIndex[be]==ge)return ie.FileIndex[be].name=i(he),ie.FullPaths[be]=he,!0}return!1}function Hn(ie){k(ie,!0)}return e.find=P,e.read=W,e.parse=d,e.write=Re,e.writeFile=Ne,e.utils={cfb_new:Lt,cfb_add:qt,cfb_del:$n,cfb_mov:tn,cfb_gc:Hn,ReadShift:Ag,CheckField:q9,prep_blob:aa,bconcat:Bf,use_zlib:B,_deflateRaw:Rt,_inflateRaw:Jn,consts:xe},e})();function Nfe(t){if(typeof Deno<"u")return Deno.readFileSync(t);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var e=File(t);e.open("r"),e.encoding="binary";var n=e.read();return e.close(),n}catch(r){if(!r.message||!r.message.match(/onstruct/))throw r}throw new Error("Cannot access file "+t)}function Hc(t){for(var e=Object.keys(t),n=[],r=0;r<e.length;++r)Object.prototype.hasOwnProperty.call(t,e[r])&&n.push(e[r]);return n}function CS(t){for(var e=[],n=Hc(t),r=0;r!==n.length;++r)e[t[n[r]]]=n[r];return e}var O2=new Date(1899,11,30,0,0,0);function Ka(t,e){var n=t.getTime(),r=O2.getTime()+(t.getTimezoneOffset()-O2.getTimezoneOffset())*6e4;return(n-r)/(1440*60*1e3)}var _9=new Date,Cfe=O2.getTime()+(_9.getTimezoneOffset()-O2.getTimezoneOffset())*6e4,EP=_9.getTimezoneOffset();function Dv(t){var e=new Date;return e.setTime(t*24*60*60*1e3+Cfe),e.getTimezoneOffset()!==EP&&e.setTime(e.getTime()+(e.getTimezoneOffset()-EP)*6e4),e}function Ife(t){var e=0,n=0,r=!1,i=t.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!i)throw new Error("|"+t+"| is not an ISO8601 Duration");for(var s=1;s!=i.length;++s)if(i[s]){switch(n=1,s>3&&(r=!0),i[s].slice(i[s].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+i[s].slice(i[s].length-1));case"D":n*=24;case"H":n*=60;case"M":if(r)n*=60;else throw new Error("Unsupported ISO Duration Field: M")}e+=n*parseInt(i[s],10)}return e}var SP=new Date("2017-02-19T19:06:09.000Z"),w9=isNaN(SP.getFullYear())?new Date("2/19/17"):SP,kfe=w9.getFullYear()==2017;function Gs(t,e){var n=new Date(t);if(kfe)return e>0?n.setTime(n.getTime()+n.getTimezoneOffset()*60*1e3):e<0&&n.setTime(n.getTime()-n.getTimezoneOffset()*60*1e3),n;if(t instanceof Date)return t;if(w9.getFullYear()==1917&&!isNaN(n.getFullYear())){var r=n.getFullYear();return t.indexOf(""+r)>-1||n.setFullYear(n.getFullYear()+100),n}var i=t.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return t.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function _h(t,e){if(hr&&Buffer.isBuffer(t)){if(e){if(t[0]==255&&t[1]==254)return og(t.slice(2).toString("utf16le"));if(t[1]==254&&t[2]==255)return og(l9(t.slice(2).toString("binary")))}return t.toString("binary")}if(typeof TextDecoder<"u")try{if(e){if(t[0]==255&&t[1]==254)return og(new TextDecoder("utf-16le").decode(t.slice(2)));if(t[0]==254&&t[1]==255)return og(new TextDecoder("utf-16be").decode(t.slice(2)))}var n={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[]/g,function(s){return n[s]||s})}catch{}for(var r=[],i=0;i!=t.length;++i)r.push(String.fromCharCode(t[i]));return r.join("")}function la(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=la(t[n]));return e}function qi(t,e){for(var n="";n.length<e;)n+=t;return n}function Jl(t){var e=Number(t);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(t))return e;var n=1,r=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return n*=100,""});return!isNaN(e=Number(r))||(r=r.replace(/[(](.*)[)]/,function(i,s){return n=-n,s}),!isNaN(e=Number(r)))?e/n:e}var Rfe=["january","february","march","april","may","june","july","august","september","october","november","december"];function Fp(t){var e=new Date(t),n=new Date(NaN),r=e.getYear(),i=e.getMonth(),s=e.getDate();if(isNaN(s))return n;var a=t.toLowerCase();if(a.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(a=a.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),a.length>3&&Rfe.indexOf(a)==-1)return n}else if(a.match(/[a-z]/))return n;return r<0||r>8099?n:(i>0||s>1)&&r!=101?e:t.match(/[^-0-9:,\/\\]/)?n:e}var Pfe=(function(){var t="abacaba".split(/(:?b)/i).length==5;return function(n,r,i){if(t||typeof r=="string")return n.split(r);for(var s=n.split(r),a=[s[0]],o=1;o<s.length;++o)a.push(i),a.push(s[o]);return a}})();function T9(t){return t?t.content&&t.type?_h(t.content,!0):t.data?ig(t.data):t.asNodeBuffer&&hr?ig(t.asNodeBuffer().toString("binary")):t.asBinary?ig(t.asBinary()):t._data&&t._data.getContent?ig(_h(Array.prototype.slice.call(t._data.getContent(),0))):null:null}function E9(t){if(!t)return null;if(t.data)return hP(t.data);if(t.asNodeBuffer&&hr)return t.asNodeBuffer();if(t._data&&t._data.getContent){var e=t._data.getContent();return typeof e=="string"?hP(e):Array.prototype.slice.call(e)}return t.content&&t.type?t.content:null}function Dfe(t){return t&&t.name.slice(-4)===".bin"?E9(t):T9(t)}function ul(t,e){for(var n=t.FullPaths||Hc(t.files),r=e.toLowerCase().replace(/[\/]/g,"\\"),i=r.replace(/\\/g,"/"),s=0;s<n.length;++s){var a=n[s].replace(/^Root Entry[\/]/,"").toLowerCase();if(r==a||i==a)return t.files?t.files[n[s]]:t.FileIndex[s]}return null}function IS(t,e){var n=ul(t,e);if(n==null)throw new Error("Cannot find file "+e+" in zip");return n}function cs(t,e,n){if(!n)return Dfe(IS(t,e));if(!e)return null;try{return cs(t,e)}catch{return null}}function Bo(t,e,n){if(!n)return T9(IS(t,e));if(!e)return null;try{return Bo(t,e)}catch{return null}}function Mfe(t,e,n){return E9(IS(t,e))}function AP(t){for(var e=t.FullPaths||Hc(t.files),n=[],r=0;r<e.length;++r)e[r].slice(-1)!="/"&&n.push(e[r].replace(/^Root Entry[\/]/,""));return n.sort()}function Lfe(t,e,n){if(t.FullPaths){if(typeof n=="string"){var r;return hr?r=Mh(n):r=efe(n),br.utils.cfb_add(t,e,r)}br.utils.cfb_add(t,e,n)}else t.file(e,n)}function S9(t,e){switch(e.type){case"base64":return br.read(t,{type:"base64"});case"binary":return br.read(t,{type:"binary"});case"buffer":case"array":return br.read(t,{type:"buffer"})}throw new Error("Unrecognized type "+e.type)}function ag(t,e){if(t.charAt(0)=="/")return t.slice(1);var n=e.split("/");e.slice(-1)!="/"&&n.pop();for(var r=t.split("/");r.length!==0;){var i=r.shift();i===".."?n.pop():i!=="."&&n.push(i)}return n.join("/")}var A9=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,Ffe=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,NP=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,Ofe=/<[^>]*>/g,Pa=A9.match(NP)?NP:Ofe,Bfe=/<\w*:/,Vfe=/<(\/?)\w+:/;function Pn(t,e,n){for(var r={},i=0,s=0;i!==t.length&&!((s=t.charCodeAt(i))===32||s===10||s===13);++i);if(e||(r[0]=t.slice(0,i)),i===t.length)return r;var a=t.match(Ffe),o=0,c="",f=0,d="",m="",g=1;if(a)for(f=0;f!=a.length;++f){for(m=a[f],s=0;s!=m.length&&m.charCodeAt(s)!==61;++s);for(d=m.slice(0,s).trim();m.charCodeAt(s+1)==32;)++s;for(g=(i=m.charCodeAt(s+1))==34||i==39?1:0,c=m.slice(s+1+g,m.length-g),o=0;o!=d.length&&d.charCodeAt(o)!==58;++o);if(o===d.length)d.indexOf("_")>0&&(d=d.slice(0,d.indexOf("_"))),r[d]=c,r[d.toLowerCase()]=c;else{var y=(o===5&&d.slice(0,5)==="xmlns"?"xmlns":"")+d.slice(o+1);if(r[y]&&d.slice(o-3,o)=="ext")continue;r[y]=c,r[y.toLowerCase()]=c}}return r}function Gc(t){return t.replace(Vfe,"<$1")}var N9={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},Ufe=CS(N9),Sr=(function(){var t=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,e=/_x([\da-fA-F]{4})_/ig;return function n(r){var i=r+"",s=i.indexOf("<![CDATA[");if(s==-1)return i.replace(t,function(o,c){return N9[o]||String.fromCharCode(parseInt(c,o.indexOf("x")>-1?16:10))||o}).replace(e,function(o,c){return String.fromCharCode(parseInt(c,16))});var a=i.indexOf("]]>");return n(i.slice(0,s))+i.slice(s+9,a)+n(i.slice(a+3))}})(),jfe=/[&<>'"]/g,qfe=/[\u0000-\u001f]/g;function kS(t){var e=t+"";return e.replace(jfe,function(n){return Ufe[n]}).replace(/\n/g,"<br/>").replace(qfe,function(n){return"&#x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+";"})}var CP=(function(){var t=/&#(\d+);/g;function e(n,r){return String.fromCharCode(parseInt(r,10))}return function(r){return r.replace(t,e)}})();function Ti(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function Sw(t){for(var e="",n=0,r=0,i=0,s=0,a=0,o=0;n<t.length;){if(r=t.charCodeAt(n++),r<128){e+=String.fromCharCode(r);continue}if(i=t.charCodeAt(n++),r>191&&r<224){a=(r&31)<<6,a|=i&63,e+=String.fromCharCode(a);continue}if(s=t.charCodeAt(n++),r<240){e+=String.fromCharCode((r&15)<<12|(i&63)<<6|s&63);continue}a=t.charCodeAt(n++),o=((r&7)<<18|(i&63)<<12|(s&63)<<6|a&63)-65536,e+=String.fromCharCode(55296+(o>>>10&1023)),e+=String.fromCharCode(56320+(o&1023))}return e}function IP(t){var e=id(2*t.length),n,r,i=1,s=0,a=0,o;for(r=0;r<t.length;r+=i)i=1,(o=t.charCodeAt(r))<128?n=o:o<224?(n=(o&31)*64+(t.charCodeAt(r+1)&63),i=2):o<240?(n=(o&15)*4096+(t.charCodeAt(r+1)&63)*64+(t.charCodeAt(r+2)&63),i=3):(i=4,n=(o&7)*262144+(t.charCodeAt(r+1)&63)*4096+(t.charCodeAt(r+2)&63)*64+(t.charCodeAt(r+3)&63),n-=65536,a=55296+(n>>>10&1023),n=56320+(n&1023)),a!==0&&(e[s++]=a&255,e[s++]=a>>>8,a=0),e[s++]=n%256,e[s++]=n>>>8;return e.slice(0,s).toString("ucs2")}function kP(t){return Mh(t,"binary").toString("utf8")}var sy="foo bar baz",ai=hr&&(kP(sy)==Sw(sy)&&kP||IP(sy)==Sw(sy)&&IP)||Sw,og=hr?function(t){return Mh(t,"utf8").toString("binary")}:function(t){for(var e=[],n=0,r=0,i=0;n<t.length;)switch(r=t.charCodeAt(n++),!0){case r<128:e.push(String.fromCharCode(r));break;case r<2048:e.push(String.fromCharCode(192+(r>>6))),e.push(String.fromCharCode(128+(r&63)));break;case(r>=55296&&r<57344):r-=55296,i=t.charCodeAt(n++)-56320+(r<<10),e.push(String.fromCharCode(240+(i>>18&7))),e.push(String.fromCharCode(144+(i>>12&63))),e.push(String.fromCharCode(128+(i>>6&63))),e.push(String.fromCharCode(128+(i&63)));break;default:e.push(String.fromCharCode(224+(r>>12))),e.push(String.fromCharCode(128+(r>>6&63))),e.push(String.fromCharCode(128+(r&63)))}return e.join("")},o1=(function(){var t={};return function(n,r){var i=n+"|"+(r||"");return t[i]?t[i]:t[i]=new RegExp("<(?:\\w+:)?"+n+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+n+">",r||"")}})(),C9=(function(){var t=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(n){for(var r=n.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<t.length;++i)r=r.replace(t[i][0],t[i][1]);return r}})(),Hfe=(function(){var t={};return function(n){return t[n]!==void 0?t[n]:t[n]=new RegExp("<(?:vt:)?"+n+">([\\s\\S]*?)</(?:vt:)?"+n+">","g")}})(),zfe=/<\/?(?:vt:)?variant>/g,Gfe=/<(?:vt:)([^>]*)>([\s\S]*)</;function RP(t,e){var n=Pn(t),r=t.match(Hfe(n.baseType))||[],i=[];if(r.length!=n.size){if(e.WTF)throw new Error("unexpected vector length "+r.length+" != "+n.size);return i}return r.forEach(function(s){var a=s.replace(zfe,"").match(Gfe);a&&i.push({v:ai(a[2]),t:a[1]})}),i}var Wfe=/(^\s|\s$|\n)/;function $fe(t){return Hc(t).map(function(e){return" "+e+'="'+t[e]+'"'}).join("")}function Kfe(t,e,n){return"<"+t+(n!=null?$fe(n):"")+(e!=null?(e.match(Wfe)?' xml:space="preserve"':"")+">"+e+"</"+t:"/")+">"}function RS(t){if(hr&&Buffer.isBuffer(t))return t.toString("utf8");if(typeof t=="string")return t;if(typeof Uint8Array<"u"&&t instanceof Uint8Array)return ai(Lh(SS(t)));throw new Error("Bad input format: expected Buffer or string")}var l1=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,Yfe={CT:"http://schemas.openxmlformats.org/package/2006/content-types"},Xfe=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function Jfe(t,e){for(var n=1-2*(t[e+7]>>>7),r=((t[e+7]&127)<<4)+(t[e+6]>>>4&15),i=t[e+6]&15,s=5;s>=0;--s)i=i*256+t[e+s];return r==2047?i==0?n*(1/0):NaN:(r==0?r=-1022:(r-=1023,i+=Math.pow(2,52)),n*Math.pow(2,r-52)*i)}function Qfe(t,e,n){var r=(e<0||1/e==-1/0?1:0)<<7,i=0,s=0,a=r?-e:e;isFinite(a)?a==0?i=s=0:(i=Math.floor(Math.log(a)/Math.LN2),s=a*Math.pow(2,52-i),i<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?i=-1022:(s-=Math.pow(2,52),i+=1023)):(i=2047,s=isNaN(e)?26985:0);for(var o=0;o<=5;++o,s/=256)t[n+o]=s&255;t[n+6]=(i&15)<<4|s&15,t[n+7]=i>>4|r}var PP=function(t){for(var e=[],n=10240,r=0;r<t[0].length;++r)if(t[0][r])for(var i=0,s=t[0][r].length;i<s;i+=n)e.push.apply(e,t[0][r].slice(i,i+n));return e},DP=hr?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(e){return Buffer.isBuffer(e)?e:Mh(e)})):PP(t)}:PP,MP=function(t,e,n){for(var r=[],i=e;i<n;i+=2)r.push(String.fromCharCode(Nu(t,i)));return r.join("").replace($a,"")},PS=hr?function(t,e,n){return Buffer.isBuffer(t)?t.toString("utf16le",e,n).replace($a,""):MP(t,e,n)}:MP,LP=function(t,e,n){for(var r=[],i=e;i<e+n;++i)r.push(("0"+t[i].toString(16)).slice(-2));return r.join("")},I9=hr?function(t,e,n){return Buffer.isBuffer(t)?t.toString("hex",e,e+n):LP(t,e,n)}:LP,FP=function(t,e,n){for(var r=[],i=e;i<n;i++)r.push(String.fromCharCode(V0(t,i)));return r.join("")},L1=hr?function(e,n,r){return Buffer.isBuffer(e)?e.toString("utf8",n,r):FP(e,n,r)}:FP,k9=function(t,e){var n=Oo(t,e);return n>0?L1(t,e+4,e+4+n-1):""},R9=k9,P9=function(t,e){var n=Oo(t,e);return n>0?L1(t,e+4,e+4+n-1):""},D9=P9,M9=function(t,e){var n=2*Oo(t,e);return n>0?L1(t,e+4,e+4+n-1):""},L9=M9,F9=function(e,n){var r=Oo(e,n);return r>0?PS(e,n+4,n+4+r):""},O9=F9,B9=function(t,e){var n=Oo(t,e);return n>0?L1(t,e+4,e+4+n):""},V9=B9,U9=function(t,e){return Jfe(t,e)},B2=U9,j9=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};hr&&(R9=function(e,n){if(!Buffer.isBuffer(e))return k9(e,n);var r=e.readUInt32LE(n);return r>0?e.toString("utf8",n+4,n+4+r-1):""},D9=function(e,n){if(!Buffer.isBuffer(e))return P9(e,n);var r=e.readUInt32LE(n);return r>0?e.toString("utf8",n+4,n+4+r-1):""},L9=function(e,n){if(!Buffer.isBuffer(e))return M9(e,n);var r=2*e.readUInt32LE(n);return e.toString("utf16le",n+4,n+4+r-1)},O9=function(e,n){if(!Buffer.isBuffer(e))return F9(e,n);var r=e.readUInt32LE(n);return e.toString("utf16le",n+4,n+4+r)},V9=function(e,n){if(!Buffer.isBuffer(e))return B9(e,n);var r=e.readUInt32LE(n);return e.toString("utf8",n+4,n+4+r)},B2=function(e,n){return Buffer.isBuffer(e)?e.readDoubleLE(n):U9(e,n)},j9=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var V0=function(t,e){return t[e]},Nu=function(t,e){return t[e+1]*256+t[e]},Zfe=function(t,e){var n=t[e+1]*256+t[e];return n<32768?n:(65535-n+1)*-1},Oo=function(t,e){return t[e+3]*(1<<24)+(t[e+2]<<16)+(t[e+1]<<8)+t[e]},qd=function(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]},ede=function(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]};function Ag(t,e){var n="",r,i,s=[],a,o,c,f;switch(e){case"dbcs":if(f=this.l,hr&&Buffer.isBuffer(this))n=this.slice(this.l,this.l+2*t).toString("utf16le");else for(c=0;c<t;++c)n+=String.fromCharCode(Nu(this,f)),f+=2;t*=2;break;case"utf8":n=L1(this,this.l,this.l+t);break;case"utf16le":t*=2,n=PS(this,this.l,this.l+t);break;case"wstr":return Ag.call(this,t,"dbcs");case"lpstr-ansi":n=R9(this,this.l),t=4+Oo(this,this.l);break;case"lpstr-cp":n=D9(this,this.l),t=4+Oo(this,this.l);break;case"lpwstr":n=L9(this,this.l),t=4+2*Oo(this,this.l);break;case"lpp4":t=4+Oo(this,this.l),n=O9(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+Oo(this,this.l),n=V9(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,n="";(a=V0(this,this.l+t++))!==0;)s.push(iy(a));n=s.join("");break;case"_wstr":for(t=0,n="";(a=Nu(this,this.l+t))!==0;)s.push(iy(a)),t+=2;t+=2,n=s.join("");break;case"dbcs-cont":for(n="",f=this.l,c=0;c<t;++c){if(this.lens&&this.lens.indexOf(f)!==-1)return a=V0(this,f),this.l=f+1,o=Ag.call(this,t-c,a?"dbcs-cont":"sbcs-cont"),s.join("")+o;s.push(iy(Nu(this,f))),f+=2}n=s.join(""),t*=2;break;case"cpstr":case"sbcs-cont":for(n="",f=this.l,c=0;c!=t;++c){if(this.lens&&this.lens.indexOf(f)!==-1)return a=V0(this,f),this.l=f+1,o=Ag.call(this,t-c,a?"dbcs-cont":"sbcs-cont"),s.join("")+o;s.push(iy(V0(this,f))),f+=1}n=s.join("");break;default:switch(t){case 1:return r=V0(this,this.l),this.l++,r;case 2:return r=(e==="i"?Zfe:Nu)(this,this.l),this.l+=2,r;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(r=(t>0?qd:ede)(this,this.l),this.l+=4,r):(i=Oo(this,this.l),this.l+=4,i);case 8:case-8:if(e==="f")return t==8?i=B2(this,this.l):i=B2([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;t=8;case 16:n=I9(this,this.l,t);break}}return this.l+=t,n}var tde=function(t,e,n){t[n]=e&255,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24&255},nde=function(t,e,n){t[n]=e&255,t[n+1]=e>>8&255,t[n+2]=e>>16&255,t[n+3]=e>>24&255},rde=function(t,e,n){t[n]=e&255,t[n+1]=e>>>8&255};function ide(t,e,n){var r=0,i=0;if(n==="dbcs"){for(i=0;i!=e.length;++i)rde(this,e.charCodeAt(i),this.l+2*i);r=2*e.length}else if(n==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=e.length;++i)this[this.l+i]=e.charCodeAt(i)&255;r=e.length}else if(n==="hex"){for(;i<t;++i)this[this.l++]=parseInt(e.slice(2*i,2*i+2),16)||0;return this}else if(n==="utf16le"){var s=Math.min(this.l+t,this.length);for(i=0;i<Math.min(e.length,t);++i){var a=e.charCodeAt(i);this[this.l++]=a&255,this[this.l++]=a>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(t){case 1:r=1,this[this.l]=e&255;break;case 2:r=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:r=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:r=4,tde(this,e,this.l);break;case 8:if(r=8,n==="f"){Qfe(this,e,this.l);break}case 16:break;case-4:r=4,nde(this,e,this.l);break}return this.l+=r,this}function q9(t,e){var n=I9(this,this.l,t.length>>1);if(n!==t)throw new Error(e+"Expected "+t+" saw "+n);this.l+=t.length>>1}function aa(t,e){t.l=e,t.read_shift=Ag,t.chk=q9,t.write_shift=ide}function Ra(t,e){t.l+=e}function Ss(t){var e=id(t);return aa(e,0),e}function $u(t,e,n){if(t){var r,i,s;aa(t,t.l||0);for(var a=t.length,o=0,c=0;t.l<a;){o=t.read_shift(1),o&128&&(o=(o&127)+((t.read_shift(1)&127)<<7));var f=z2[o]||z2[65535];for(r=t.read_shift(1),s=r&127,i=1;i<4&&r&128;++i)s+=((r=t.read_shift(1))&127)<<7*i;c=t.l+s;var d=f.f&&f.f(t,s,n);if(t.l=c,e(d,f,o))return}}}function cT(){var t=[],e=hr?256:2048,n=function(f){var d=Ss(f);return aa(d,0),d},r=n(e),i=function(){r&&(r.length>r.l&&(r=r.slice(0,r.l),r.l=r.length),r.length>0&&t.push(r),r=null)},s=function(f){return r&&f<r.length-r.l?r:(i(),r=n(Math.max(f+1,e)))},a=function(){return i(),Bf(t)},o=function(f){i(),r=f,r.l==null&&(r.l=r.length),s(e)};return{next:s,push:o,end:a,_bufs:t}}function Ng(t,e,n){var r=la(t);if(e.s?(r.cRel&&(r.c+=e.s.c),r.rRel&&(r.r+=e.s.r)):(r.cRel&&(r.c+=e.c),r.rRel&&(r.r+=e.r)),!n||n.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function OP(t,e,n){var r=la(t);return r.s=Ng(r.s,e.s,n),r.e=Ng(r.e,e.s,n),r}function Cg(t,e){if(t.cRel&&t.c<0)for(t=la(t);t.c<0;)t.c+=e>8?16384:256;if(t.rRel&&t.r<0)for(t=la(t);t.r<0;)t.r+=e>8?1048576:e>5?65536:16384;var n=jn(t);return!t.cRel&&t.cRel!=null&&(n=ode(n)),!t.rRel&&t.rRel!=null&&(n=sde(n)),n}function Aw(t,e){return t.s.r==0&&!t.s.rRel&&t.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+Ns(t.s.c)+":"+(t.e.cRel?"":"$")+Ns(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(e.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+ca(t.s.r)+":"+(t.e.rRel?"":"$")+ca(t.e.r):Cg(t.s,e.biff)+":"+Cg(t.e,e.biff)}function DS(t){return parseInt(ade(t),10)-1}function ca(t){return""+(t+1)}function sde(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function ade(t){return t.replace(/\$(\d+)$/,"$1")}function MS(t){for(var e=lde(t),n=0,r=0;r!==e.length;++r)n=26*n+e.charCodeAt(r)-64;return n-1}function Ns(t){if(t<0)throw new Error("invalid column "+t);var e="";for(++t;t;t=Math.floor((t-1)/26))e=String.fromCharCode((t-1)%26+65)+e;return e}function ode(t){return t.replace(/^([A-Z])/,"$$$1")}function lde(t){return t.replace(/^\$([A-Z])/,"$1")}function cde(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Ga(t){for(var e=0,n=0,r=0;r<t.length;++r){var i=t.charCodeAt(r);i>=48&&i<=57?e=10*e+(i-48):i>=65&&i<=90&&(n=26*n+(i-64))}return{c:n-1,r:e-1}}function jn(t){for(var e=t.c+1,n="";e;e=(e-1)/26|0)n=String.fromCharCode((e-1)%26+65)+n;return n+(t.r+1)}function em(t){var e=t.indexOf(":");return e==-1?{s:Ga(t),e:Ga(t)}:{s:Ga(t.slice(0,e)),e:Ga(t.slice(e+1))}}function _r(t,e){return typeof e>"u"||typeof e=="number"?_r(t.s,t.e):(typeof t!="string"&&(t=jn(t)),typeof e!="string"&&(e=jn(e)),t==e?t:t+":"+e)}function zi(t){var e={s:{c:0,r:0},e:{c:0,r:0}},n=0,r=0,i=0,s=t.length;for(n=0;r<s&&!((i=t.charCodeAt(r)-64)<1||i>26);++r)n=26*n+i;for(e.s.c=--n,n=0;r<s&&!((i=t.charCodeAt(r)-48)<0||i>9);++r)n=10*n+i;if(e.s.r=--n,r===s||i!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++r,n=0;r!=s&&!((i=t.charCodeAt(r)-64)<1||i>26);++r)n=26*n+i;for(e.e.c=--n,n=0;r!=s&&!((i=t.charCodeAt(r)-48)<0||i>9);++r)n=10*n+i;return e.e.r=--n,e}function BP(t,e){var n=t.t=="d"&&e instanceof Date;if(t.z!=null)try{return t.w=yl(t.z,n?Ka(e):e)}catch{}try{return t.w=yl((t.XF||{}).numFmtId||(n?14:0),n?Ka(e):e)}catch{return""+e}}function ju(t,e,n){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&n&&n.dateNF&&(t.z=n.dateNF),t.t=="e"?Bh[t.v]||t.v:e==null?BP(t,t.v):BP(t,e))}function dd(t,e){var n=e&&e.sheet?e.sheet:"Sheet1",r={};return r[n]=t,{SheetNames:[n],Sheets:r}}function H9(t,e,n){var r=n||{},i=t?Array.isArray(t):r.dense,s=t||(i?[]:{}),a=0,o=0;if(s&&r.origin!=null){if(typeof r.origin=="number")a=r.origin;else{var c=typeof r.origin=="string"?Ga(r.origin):r.origin;a=c.r,o=c.c}s["!ref"]||(s["!ref"]="A1:A1")}var f={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var d=zi(s["!ref"]);f.s.c=d.s.c,f.s.r=d.s.r,f.e.c=Math.max(f.e.c,d.e.c),f.e.r=Math.max(f.e.r,d.e.r),a==-1&&(f.e.r=a=d.e.r+1)}for(var m=0;m!=e.length;++m)if(e[m]){if(!Array.isArray(e[m]))throw new Error("aoa_to_sheet expects an array of arrays");for(var g=0;g!=e[m].length;++g)if(!(typeof e[m][g]>"u")){var y={v:e[m][g]},E=a+m,_=o+g;if(f.s.r>E&&(f.s.r=E),f.s.c>_&&(f.s.c=_),f.e.r<E&&(f.e.r=E),f.e.c<_&&(f.e.c=_),e[m][g]&&typeof e[m][g]=="object"&&!Array.isArray(e[m][g])&&!(e[m][g]instanceof Date))y=e[m][g];else if(Array.isArray(y.v)&&(y.f=e[m][g][1],y.v=y.v[0]),y.v===null)if(y.f)y.t="n";else if(r.nullError)y.t="e",y.v=0;else if(r.sheetStubs)y.t="z";else continue;else typeof y.v=="number"?y.t="n":typeof y.v=="boolean"?y.t="b":y.v instanceof Date?(y.z=r.dateNF||Wn[14],r.cellDates?(y.t="d",y.w=yl(y.z,Ka(y.v))):(y.t="n",y.v=Ka(y.v),y.w=yl(y.z,y.v))):y.t="s";if(i)s[E]||(s[E]=[]),s[E][_]&&s[E][_].z&&(y.z=s[E][_].z),s[E][_]=y;else{var A=jn({c:_,r:E});s[A]&&s[A].z&&(y.z=s[A].z),s[A]=y}}}return f.s.c<1e7&&(s["!ref"]=_r(f)),s}function tm(t,e){return H9(null,t,e)}function ude(t){return t.read_shift(4,"i")}function ka(t){var e=t.read_shift(4);return e===0?"":t.read_shift(e,"dbcs")}function fde(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function LS(t,e){var n=t.l,r=t.read_shift(1),i=ka(t),s=[],a={t:i,h:i};if((r&1)!==0){for(var o=t.read_shift(4),c=0;c!=o;++c)s.push(fde(t));a.r=s}else a.r=[{ich:0,ifnt:0}];return t.l=n+e,a}var dde=LS;function vl(t){var e=t.read_shift(4),n=t.read_shift(2);return n+=t.read_shift(1)<<16,t.l++,{c:e,iStyleRef:n}}function Fh(t){var e=t.read_shift(2);return e+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:e}}var hde=ka;function FS(t){var e=t.read_shift(4);return e===0||e===4294967295?"":t.read_shift(e,"dbcs")}var pde=ka,uT=FS;function OS(t){var e=t.slice(t.l,t.l+4),n=e[0]&1,r=e[0]&2;t.l+=4;var i=r===0?B2([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):qd(e,0)>>2;return n?i/100:i}function z9(t){var e={s:{},e:{}};return e.s.r=t.read_shift(4),e.e.r=t.read_shift(4),e.s.c=t.read_shift(4),e.e.c=t.read_shift(4),e}var Oh=z9;function Sa(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function mde(t){var e={},n=t.read_shift(1),r=n>>>1,i=t.read_shift(1),s=t.read_shift(2,"i"),a=t.read_shift(1),o=t.read_shift(1),c=t.read_shift(1);switch(t.l++,r){case 0:e.auto=1;break;case 1:e.index=i;var f=rh[i];f&&(e.rgb=u1(f));break;case 2:e.rgb=u1([a,o,c]);break;case 3:e.theme=i;break}return s!=0&&(e.tint=s>0?s/32767:s/32768),e}function gde(t){var e=t.read_shift(1);t.l++;var n={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return n}function G9(t,e){var n={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},r=t.read_shift(4);switch(r){case 0:return"";case 4294967295:case 4294967294:return n[t.read_shift(4)]||""}if(r>400)throw new Error("Unsupported Clipboard: "+r.toString(16));return t.l-=4,t.read_shift(0,e==1?"lpstr":"lpwstr")}function xde(t){return G9(t,1)}function yde(t){return G9(t,2)}var BS=2,xo=3,ay=11,VP=12,V2=19,oy=64,vde=65,bde=71,_de=4108,wde=4126,Hs=80,W9=81,Tde=[Hs,W9],Ede={1:{n:"CodePage",t:BS},2:{n:"Category",t:Hs},3:{n:"PresentationFormat",t:Hs},4:{n:"ByteCount",t:xo},5:{n:"LineCount",t:xo},6:{n:"ParagraphCount",t:xo},7:{n:"SlideCount",t:xo},8:{n:"NoteCount",t:xo},9:{n:"HiddenCount",t:xo},10:{n:"MultimediaClipCount",t:xo},11:{n:"ScaleCrop",t:ay},12:{n:"HeadingPairs",t:_de},13:{n:"TitlesOfParts",t:wde},14:{n:"Manager",t:Hs},15:{n:"Company",t:Hs},16:{n:"LinksUpToDate",t:ay},17:{n:"CharacterCount",t:xo},19:{n:"SharedDoc",t:ay},22:{n:"HyperlinksChanged",t:ay},23:{n:"AppVersion",t:xo,p:"version"},24:{n:"DigSig",t:vde},26:{n:"ContentType",t:Hs},27:{n:"ContentStatus",t:Hs},28:{n:"Language",t:Hs},29:{n:"Version",t:Hs},255:{},2147483648:{n:"Locale",t:V2},2147483651:{n:"Behavior",t:V2},1919054434:{}},Sde={1:{n:"CodePage",t:BS},2:{n:"Title",t:Hs},3:{n:"Subject",t:Hs},4:{n:"Author",t:Hs},5:{n:"Keywords",t:Hs},6:{n:"Comments",t:Hs},7:{n:"Template",t:Hs},8:{n:"LastAuthor",t:Hs},9:{n:"RevNumber",t:Hs},10:{n:"EditTime",t:oy},11:{n:"LastPrinted",t:oy},12:{n:"CreatedDate",t:oy},13:{n:"ModifiedDate",t:oy},14:{n:"PageCount",t:xo},15:{n:"WordCount",t:xo},16:{n:"CharCount",t:xo},17:{n:"Thumbnail",t:bde},18:{n:"Application",t:Hs},19:{n:"DocSecurity",t:xo},255:{},2147483648:{n:"Locale",t:V2},2147483651:{n:"Behavior",t:V2},1919054434:{}},UP={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},Ade=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function Nde(t){return t.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var Cde=Nde([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),rh=la(Cde),Bh={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},$9={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},jP={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function Ide(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function kde(t){var e=Ide();if(!t||!t.match)return e;var n={};if((t.match(Pa)||[]).forEach(function(r){var i=Pn(r);switch(i[0].replace(Bfe,"<")){case"<?xml":break;case"<Types":e.xmlns=i["xmlns"+(i[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":n[i.Extension]=i.ContentType;break;case"<Override":e[jP[i.ContentType]]!==void 0&&e[jP[i.ContentType]].push(i.PartName);break}}),e.xmlns!==Yfe.CT)throw new Error("Unknown Namespace: "+e.xmlns);return e.calcchain=e.calcchains.length>0?e.calcchains[0]:"",e.sst=e.strs.length>0?e.strs[0]:"",e.style=e.styles.length>0?e.styles[0]:"",e.defaults=n,delete e.calcchains,e}var Q0={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function fT(t){var e=t.lastIndexOf("/");return t.slice(0,e+1)+"_rels/"+t.slice(e+1)+".rels"}function Ig(t,e){var n={"!id":{}};if(!t)return n;e.charAt(0)!=="/"&&(e="/"+e);var r={};return(t.match(Pa)||[]).forEach(function(i){var s=Pn(i);if(s[0]==="<Relationship"){var a={};a.Type=s.Type,a.Target=s.Target,a.Id=s.Id,s.TargetMode&&(a.TargetMode=s.TargetMode);var o=s.TargetMode==="External"?s.Target:ag(s.Target,e);n[o]=a,r[s.Id]=a}}),n["!id"]=r,n}var Rde="application/vnd.oasis.opendocument.spreadsheet";function Pde(t,e){for(var n=RS(t),r,i;r=l1.exec(n);)switch(r[3]){case"manifest":break;case"file-entry":if(i=Pn(r[0],!1),i.path=="/"&&i.type!==Rde)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(e&&e.WTF)throw r}}var kg=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],Dde=(function(){for(var t=new Array(kg.length),e=0;e<kg.length;++e){var n=kg[e],r="(?:"+n[0].slice(0,n[0].indexOf(":"))+":)"+n[0].slice(n[0].indexOf(":")+1);t[e]=new RegExp("<"+r+"[^>]*>([\\s\\S]*?)</"+r+">")}return t})();function K9(t){var e={};t=ai(t);for(var n=0;n<kg.length;++n){var r=kg[n],i=t.match(Dde[n]);i!=null&&i.length>0&&(e[r[1]]=Sr(i[1])),r[2]==="date"&&e[r[1]]&&(e[r[1]]=Gs(e[r[1]]))}return e}var Mde=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function Y9(t,e,n,r){var i=[];if(typeof t=="string")i=RP(t,r);else for(var s=0;s<t.length;++s)i=i.concat(t[s].map(function(d){return{v:d}}));var a=typeof e=="string"?RP(e,r).map(function(d){return d.v}):e,o=0,c=0;if(a.length>0)for(var f=0;f!==i.length;f+=2){switch(c=+i[f+1].v,i[f].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":n.Worksheets=c,n.SheetNames=a.slice(o,o+c);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":n.NamedRanges=c,n.DefinedNames=a.slice(o,o+c);break;case"Charts":case"Diagramme":n.Chartsheets=c,n.ChartNames=a.slice(o,o+c);break}o+=c}}function Lde(t,e,n){var r={};return e||(e={}),t=ai(t),Mde.forEach(function(i){var s=(t.match(o1(i[0]))||[])[1];switch(i[2]){case"string":s&&(e[i[1]]=Sr(s));break;case"bool":e[i[1]]=s==="true";break;case"raw":var a=t.match(new RegExp("<"+i[0]+"[^>]*>([\\s\\S]*?)</"+i[0]+">"));a&&a.length>0&&(r[i[1]]=a[1]);break}}),r.HeadingPairs&&r.TitlesOfParts&&Y9(r.HeadingPairs,r.TitlesOfParts,e,n),e}var Fde=/<[^>]+>[^<]*/g;function Ode(t,e){var n={},r="",i=t.match(Fde);if(i)for(var s=0;s!=i.length;++s){var a=i[s],o=Pn(a);switch(o[0]){case"<?xml":break;case"<Properties":break;case"<property":r=Sr(o.name);break;case"</property>":r=null;break;default:if(a.indexOf("<vt:")===0){var c=a.split(">"),f=c[0].slice(4),d=c[1];switch(f){case"lpstr":case"bstr":case"lpwstr":n[r]=Sr(d);break;case"bool":n[r]=Ti(d);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":n[r]=parseInt(d,10);break;case"r4":case"r8":case"decimal":n[r]=parseFloat(d);break;case"filetime":case"date":n[r]=Gs(d);break;case"cy":case"error":n[r]=Sr(d);break;default:if(f.slice(-1)=="/")break;e.WTF&&typeof console<"u"&&console.warn("Unexpected",a,f,c)}}else if(a.slice(0,2)!=="</"){if(e.WTF)throw new Error(a)}}}return n}var Bde={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},Nw;function Vde(t,e,n){Nw||(Nw=CS(Bde)),e=Nw[e]||e,t[e]=n}function VS(t){var e=t.read_shift(4),n=t.read_shift(4);return new Date((n/1e7*Math.pow(2,32)+e/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function X9(t,e,n){var r=t.l,i=t.read_shift(0,"lpstr-cp");if(n)for(;t.l-r&3;)++t.l;return i}function J9(t,e,n){var r=t.read_shift(0,"lpwstr");return r}function Q9(t,e,n){return e===31?J9(t):X9(t,e,n)}function dT(t,e,n){return Q9(t,e,n===!1?0:4)}function Ude(t,e){if(!e)throw new Error("VtUnalignedString must have positive length");return Q9(t,e,0)}function jde(t){for(var e=t.read_shift(4),n=[],r=0;r!=e;++r){var i=t.l;n[r]=t.read_shift(0,"lpwstr").replace($a,""),t.l-i&2&&(t.l+=2)}return n}function qde(t){for(var e=t.read_shift(4),n=[],r=0;r!=e;++r)n[r]=t.read_shift(0,"lpstr-cp").replace($a,"");return n}function Hde(t){var e=t.l,n=U2(t,W9);t[t.l]==0&&t[t.l+1]==0&&t.l-e&2&&(t.l+=2);var r=U2(t,xo);return[n,r]}function zde(t){for(var e=t.read_shift(4),n=[],r=0;r<e/2;++r)n.push(Hde(t));return n}function qP(t,e){for(var n=t.read_shift(4),r={},i=0;i!=n;++i){var s=t.read_shift(4),a=t.read_shift(4);r[s]=t.read_shift(a,e===1200?"utf16le":"utf8").replace($a,"").replace(sg,"!"),e===1200&&a%2&&(t.l+=2)}return t.l&3&&(t.l=t.l>>3<<2),r}function Z9(t){var e=t.read_shift(4),n=t.slice(t.l,t.l+e);return t.l+=e,(e&3)>0&&(t.l+=4-(e&3)&3),n}function Gde(t){var e={};return e.Size=t.read_shift(4),t.l+=e.Size+3-(e.Size-1)%4,e}function U2(t,e,n){var r=t.read_shift(2),i,s=n||{};if(t.l+=2,e!==VP&&r!==e&&Tde.indexOf(e)===-1&&!((e&65534)==4126&&(r&65534)==4126))throw new Error("Expected type "+e+" saw "+r);switch(e===VP?r:e){case 2:return i=t.read_shift(2,"i"),s.raw||(t.l+=2),i;case 3:return i=t.read_shift(4,"i"),i;case 11:return t.read_shift(4)!==0;case 19:return i=t.read_shift(4),i;case 30:return X9(t,r,4).replace($a,"");case 31:return J9(t);case 64:return VS(t);case 65:return Z9(t);case 71:return Gde(t);case 80:return dT(t,r,!s.raw).replace($a,"");case 81:return Ude(t,r).replace($a,"");case 4108:return zde(t);case 4126:case 4127:return r==4127?jde(t):qde(t);default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+r)}}function HP(t,e){var n=t.l,r=t.read_shift(4),i=t.read_shift(4),s=[],a=0,o=0,c=-1,f={};for(a=0;a!=i;++a){var d=t.read_shift(4),m=t.read_shift(4);s[a]=[d,m+n]}s.sort(function(V,R){return V[1]-R[1]});var g={};for(a=0;a!=i;++a){if(t.l!==s[a][1]){var y=!0;if(a>0&&e)switch(e[s[a-1][0]].t){case 2:t.l+2===s[a][1]&&(t.l+=2,y=!1);break;case 80:t.l<=s[a][1]&&(t.l=s[a][1],y=!1);break;case 4108:t.l<=s[a][1]&&(t.l=s[a][1],y=!1);break}if((!e||a==0)&&t.l<=s[a][1]&&(y=!1,t.l=s[a][1]),y)throw new Error("Read Error: Expected address "+s[a][1]+" at "+t.l+" :"+a)}if(e){var E=e[s[a][0]];if(g[E.n]=U2(t,E.t,{raw:!0}),E.p==="version"&&(g[E.n]=String(g[E.n]>>16)+"."+("0000"+String(g[E.n]&65535)).slice(-4)),E.n=="CodePage")switch(g[E.n]){case 0:g[E.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:Yl(o=g[E.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+g[E.n])}}else if(s[a][0]===1){if(o=g.CodePage=U2(t,BS),Yl(o),c!==-1){var _=t.l;t.l=s[c][1],f=qP(t,o),t.l=_}}else if(s[a][0]===0){if(o===0){c=a,t.l=s[a+1][1];continue}f=qP(t,o)}else{var A=f[s[a][0]],C;switch(t[t.l]){case 65:t.l+=4,C=Z9(t);break;case 30:t.l+=4,C=dT(t,t[t.l-4]).replace(/\u0000+$/,"");break;case 31:t.l+=4,C=dT(t,t[t.l-4]).replace(/\u0000+$/,"");break;case 3:t.l+=4,C=t.read_shift(4,"i");break;case 19:t.l+=4,C=t.read_shift(4);break;case 5:t.l+=4,C=t.read_shift(8,"f");break;case 11:t.l+=4,C=Xi(t,4);break;case 64:t.l+=4,C=Gs(VS(t));break;default:throw new Error("unparsed value: "+t[t.l])}g[A]=C}}return t.l=n+r,g}function zP(t,e,n){var r=t.content;if(!r)return{};aa(r,0);var i,s,a,o,c=0;r.chk("feff","Byte Order: "),r.read_shift(2);var f=r.read_shift(4),d=r.read_shift(16);if(d!==br.utils.consts.HEADER_CLSID&&d!==n)throw new Error("Bad PropertySet CLSID "+d);if(i=r.read_shift(4),i!==1&&i!==2)throw new Error("Unrecognized #Sets: "+i);if(s=r.read_shift(16),o=r.read_shift(4),i===1&&o!==r.l)throw new Error("Length mismatch: "+o+" !== "+r.l);i===2&&(a=r.read_shift(16),c=r.read_shift(4));var m=HP(r,e),g={SystemIdentifier:f};for(var y in m)g[y]=m[y];if(g.FMTID=s,i===1)return g;if(c-r.l==2&&(r.l+=2),r.l!==c)throw new Error("Length mismatch 2: "+r.l+" !== "+c);var E;try{E=HP(r,null)}catch{}for(y in E)g[y]=E[y];return g.FMTID=[s,a],g}function Rf(t,e){return t.read_shift(e),null}function Wde(t,e,n){for(var r=[],i=t.l+e;t.l<i;)r.push(n(t,i-t.l));if(i!==t.l)throw new Error("Slurp error");return r}function Xi(t,e){return t.read_shift(e)===1}function us(t){return t.read_shift(2,"u")}function eB(t,e){return Wde(t,e,us)}function $de(t){var e=t.read_shift(1),n=t.read_shift(1);return n===1?e:e===1}function F1(t,e,n){var r=t.read_shift(n&&n.biff>=12?2:1),i="sbcs-cont";if(n&&n.biff>=8,!n||n.biff==8){var s=t.read_shift(1);s&&(i="dbcs-cont")}else n.biff==12&&(i="wstr");n.biff>=2&&n.biff<=5&&(i="cpstr");var a=r?t.read_shift(r,i):"";return a}function Kde(t){var e=t.read_shift(2),n=t.read_shift(1),r=n&4,i=n&8,s=1+(n&1),a=0,o,c={};i&&(a=t.read_shift(2)),r&&(o=t.read_shift(4));var f=s==2?"dbcs-cont":"sbcs-cont",d=e===0?"":t.read_shift(e,f);return i&&(t.l+=4*a),r&&(t.l+=o),c.t=d,i||(c.raw="<t>"+c.t+"</t>",c.r=c.t),c}function wh(t,e,n){var r;if(n){if(n.biff>=2&&n.biff<=5)return t.read_shift(e,"cpstr");if(n.biff>=12)return t.read_shift(e,"dbcs-cont")}var i=t.read_shift(1);return i===0?r=t.read_shift(e,"sbcs-cont"):r=t.read_shift(e,"dbcs-cont"),r}function O1(t,e,n){var r=t.read_shift(n&&n.biff==2?1:2);return r===0?(t.l++,""):wh(t,r,n)}function Vh(t,e,n){if(n.biff>5)return O1(t,e,n);var r=t.read_shift(1);return r===0?(t.l++,""):t.read_shift(r,n.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function Yde(t){var e=t.read_shift(1);t.l++;var n=t.read_shift(2);return t.l+=2,[e,n]}function Xde(t){var e=t.read_shift(4),n=t.l,r=!1;e>24&&(t.l+=e-24,t.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(r=!0),t.l=n);var i=t.read_shift((r?e-24:e)>>1,"utf16le").replace($a,"");return r&&(t.l+=24),i}function Jde(t){for(var e=t.read_shift(2),n="";e-- >0;)n+="../";var r=t.read_shift(0,"lpstr-ansi");if(t.l+=2,t.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var i=t.read_shift(4);if(i===0)return n+r.replace(/\\/g,"/");var s=t.read_shift(4);if(t.read_shift(2)!=3)throw new Error("Bad FileMoniker");var a=t.read_shift(s>>1,"utf16le").replace($a,"");return n+a}function Qde(t,e){var n=t.read_shift(16);switch(n){case"e0c9ea79f9bace118c8200aa004ba90b":return Xde(t);case"0303000000000000c000000000000046":return Jde(t);default:throw new Error("Unsupported Moniker "+n)}}function ly(t){var e=t.read_shift(4),n=e>0?t.read_shift(e,"utf16le").replace($a,""):"";return n}function Zde(t,e){var n=t.l+e,r=t.read_shift(4);if(r!==2)throw new Error("Unrecognized streamVersion: "+r);var i=t.read_shift(2);t.l+=2;var s,a,o,c,f="",d,m;i&16&&(s=ly(t,n-t.l)),i&128&&(a=ly(t,n-t.l)),(i&257)===257&&(o=ly(t,n-t.l)),(i&257)===1&&(c=Qde(t,n-t.l)),i&8&&(f=ly(t,n-t.l)),i&32&&(d=t.read_shift(16)),i&64&&(m=VS(t)),t.l=n;var g=a||o||c||"";g&&f&&(g+="#"+f),g||(g="#"+f),i&2&&g.charAt(0)=="/"&&g.charAt(1)!="/"&&(g="file://"+g);var y={Target:g};return d&&(y.guid=d),m&&(y.time=m),s&&(y.Tooltip=s),y}function tB(t){var e=t.read_shift(1),n=t.read_shift(1),r=t.read_shift(1),i=t.read_shift(1);return[e,n,r,i]}function nB(t,e){var n=tB(t);return n[3]=0,n}function Wc(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(2);return{r:e,c:n,ixfe:r}}function ehe(t){var e=t.read_shift(2),n=t.read_shift(2);return t.l+=8,{type:e,flags:n}}function the(t,e,n){return e===0?"":Vh(t,e,n)}function nhe(t,e,n){var r=n.biff>8?4:2,i=t.read_shift(r),s=t.read_shift(r,"i"),a=t.read_shift(r,"i");return[i,s,a]}function rB(t){var e=t.read_shift(2),n=OS(t);return[e,n]}function rhe(t,e,n){t.l+=4,e-=4;var r=t.l+e,i=F1(t,e,n),s=t.read_shift(2);if(r-=t.l,s!==r)throw new Error("Malformed AddinUdf: padding = "+r+" != "+s);return t.l+=s,i}function Mv(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(2),i=t.read_shift(2);return{s:{c:r,r:e},e:{c:i,r:n}}}function iB(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(1),i=t.read_shift(1);return{s:{c:r,r:e},e:{c:i,r:n}}}var ihe=iB;function sB(t){t.l+=4;var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(2);return t.l+=12,[n,e,r]}function she(t){var e={};return t.l+=4,t.l+=16,e.fSharedNote=t.read_shift(2),t.l+=4,e}function ahe(t){var e={};return t.l+=4,t.cf=t.read_shift(2),e}function _a(t){t.l+=2,t.l+=t.read_shift(2)}var ohe={0:_a,4:_a,5:_a,6:_a,7:ahe,8:_a,9:_a,10:_a,11:_a,12:_a,13:she,14:_a,15:_a,16:_a,17:_a,18:_a,19:_a,20:_a,21:sB};function lhe(t,e){for(var n=t.l+e,r=[];t.l<n;){var i=t.read_shift(2);t.l-=2;try{r.push(ohe[i](t,n-t.l))}catch{return t.l=n,r}}return t.l!=n&&(t.l=n),r}function cy(t,e){var n={BIFFVer:0,dt:0};switch(n.BIFFVer=t.read_shift(2),e-=2,e>=2&&(n.dt=t.read_shift(2),t.l-=2),n.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(e>6)throw new Error("Unexpected BIFF Ver "+n.BIFFVer)}return t.read_shift(e),n}function che(t,e){return e===0||t.read_shift(2),1200}function uhe(t,e,n){if(n.enc)return t.l+=e,"";var r=t.l,i=Vh(t,0,n);return t.read_shift(e+r-t.l),i}function fhe(t,e,n){var r=n&&n.biff==8||e==2?t.read_shift(2):(t.l+=e,0);return{fDialog:r&16,fBelow:r&64,fRight:r&128}}function dhe(t,e,n){var r=t.read_shift(4),i=t.read_shift(1)&3,s=t.read_shift(1);switch(s){case 0:s="Worksheet";break;case 1:s="Macrosheet";break;case 2:s="Chartsheet";break;case 6:s="VBAModule";break}var a=F1(t,0,n);return a.length===0&&(a="Sheet1"),{pos:r,hs:i,dt:s,name:a}}function hhe(t,e){for(var n=t.l+e,r=t.read_shift(4),i=t.read_shift(4),s=[],a=0;a!=i&&t.l<n;++a)s.push(Kde(t));return s.Count=r,s.Unique=i,s}function phe(t,e){var n={};return n.dsst=t.read_shift(2),t.l+=e-2,n}function mhe(t){var e={};e.r=t.read_shift(2),e.c=t.read_shift(2),e.cnt=t.read_shift(2)-e.c;var n=t.read_shift(2);t.l+=4;var r=t.read_shift(1);return t.l+=3,r&7&&(e.level=r&7),r&32&&(e.hidden=!0),r&64&&(e.hpt=n/20),e}function ghe(t){var e=ehe(t);if(e.type!=2211)throw new Error("Invalid Future Record "+e.type);var n=t.read_shift(4);return n!==0}function xhe(t){return t.read_shift(2),t.read_shift(4)}function GP(t,e,n){var r=0;n&&n.biff==2||(r=t.read_shift(2));var i=t.read_shift(2);n&&n.biff==2&&(r=1-(i>>15),i&=32767);var s={Unsynced:r&1,DyZero:(r&2)>>1,ExAsc:(r&4)>>2,ExDsc:(r&8)>>3};return[s,i]}function yhe(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(2),i=t.read_shift(2),s=t.read_shift(2),a=t.read_shift(2),o=t.read_shift(2),c=t.read_shift(2),f=t.read_shift(2);return{Pos:[e,n],Dim:[r,i],Flags:s,CurTab:a,FirstTab:o,Selected:c,TabRatio:f}}function vhe(t,e,n){if(n&&n.biff>=2&&n.biff<5)return{};var r=t.read_shift(2);return{RTL:r&64}}function bhe(){}function _he(t,e,n){var r={dyHeight:t.read_shift(2),fl:t.read_shift(2)};switch(n&&n.biff||8){case 2:break;case 3:case 4:t.l+=2;break;default:t.l+=10;break}return r.name=F1(t,0,n),r}function whe(t){var e=Wc(t);return e.isst=t.read_shift(4),e}function The(t,e,n){n.biffguess&&n.biff==2&&(n.biff=5);var r=t.l+e,i=Wc(t);n.biff==2&&t.l++;var s=O1(t,r-t.l,n);return i.val=s,i}function Ehe(t,e,n){var r=t.read_shift(2),i=Vh(t,0,n);return[r,i]}var She=Vh;function WP(t,e,n){var r=t.l+e,i=n.biff==8||!n.biff?4:2,s=t.read_shift(i),a=t.read_shift(i),o=t.read_shift(2),c=t.read_shift(2);return t.l=r,{s:{r:s,c:o},e:{r:a,c}}}function Ahe(t){var e=t.read_shift(2),n=t.read_shift(2),r=rB(t);return{r:e,c:n,ixfe:r[0],rknum:r[1]}}function Nhe(t,e){for(var n=t.l+e-2,r=t.read_shift(2),i=t.read_shift(2),s=[];t.l<n;)s.push(rB(t));if(t.l!==n)throw new Error("MulRK read error");var a=t.read_shift(2);if(s.length!=a-i+1)throw new Error("MulRK length mismatch");return{r,c:i,C:a,rkrec:s}}function Che(t,e){for(var n=t.l+e-2,r=t.read_shift(2),i=t.read_shift(2),s=[];t.l<n;)s.push(t.read_shift(2));if(t.l!==n)throw new Error("MulBlank read error");var a=t.read_shift(2);if(s.length!=a-i+1)throw new Error("MulBlank length mismatch");return{r,c:i,C:a,ixfe:s}}function Ihe(t,e,n,r){var i={},s=t.read_shift(4),a=t.read_shift(4),o=t.read_shift(4),c=t.read_shift(2);return i.patternType=Ade[o>>26],r.cellStyles&&(i.alc=s&7,i.fWrap=s>>3&1,i.alcV=s>>4&7,i.fJustLast=s>>7&1,i.trot=s>>8&255,i.cIndent=s>>16&15,i.fShrinkToFit=s>>20&1,i.iReadOrder=s>>22&2,i.fAtrNum=s>>26&1,i.fAtrFnt=s>>27&1,i.fAtrAlc=s>>28&1,i.fAtrBdr=s>>29&1,i.fAtrPat=s>>30&1,i.fAtrProt=s>>31&1,i.dgLeft=a&15,i.dgRight=a>>4&15,i.dgTop=a>>8&15,i.dgBottom=a>>12&15,i.icvLeft=a>>16&127,i.icvRight=a>>23&127,i.grbitDiag=a>>30&3,i.icvTop=o&127,i.icvBottom=o>>7&127,i.icvDiag=o>>14&127,i.dgDiag=o>>21&15,i.icvFore=c&127,i.icvBack=c>>7&127,i.fsxButton=c>>14&1),i}function khe(t,e,n){var r={};return r.ifnt=t.read_shift(2),r.numFmtId=t.read_shift(2),r.flags=t.read_shift(2),r.fStyle=r.flags>>2&1,e-=6,r.data=Ihe(t,e,r.fStyle,n),r}function Rhe(t){t.l+=4;var e=[t.read_shift(2),t.read_shift(2)];if(e[0]!==0&&e[0]--,e[1]!==0&&e[1]--,e[0]>7||e[1]>7)throw new Error("Bad Gutters: "+e.join("|"));return e}function $P(t,e,n){var r=Wc(t);(n.biff==2||e==9)&&++t.l;var i=$de(t);return r.val=i,r.t=i===!0||i===!1?"b":"e",r}function Phe(t,e,n){n.biffguess&&n.biff==2&&(n.biff=5);var r=Wc(t),i=Sa(t);return r.val=i,r}var KP=the;function Dhe(t,e,n){var r=t.l+e,i=t.read_shift(2),s=t.read_shift(2);if(n.sbcch=s,s==1025||s==14849)return[s,i];if(s<1||s>255)throw new Error("Unexpected SupBook type: "+s);for(var a=wh(t,s),o=[];r>t.l;)o.push(O1(t));return[s,i,a,o]}function YP(t,e,n){var r=t.read_shift(2),i,s={fBuiltIn:r&1,fWantAdvise:r>>>1&1,fWantPict:r>>>2&1,fOle:r>>>3&1,fOleLink:r>>>4&1,cf:r>>>5&1023,fIcon:r>>>15&1};return n.sbcch===14849&&(i=rhe(t,e-2,n)),s.body=i||t.read_shift(e-2),typeof i=="string"&&(s.Name=i),s}var Mhe=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function XP(t,e,n){var r=t.l+e,i=t.read_shift(2),s=t.read_shift(1),a=t.read_shift(1),o=t.read_shift(n&&n.biff==2?1:2),c=0;(!n||n.biff>=5)&&(n.biff!=5&&(t.l+=2),c=t.read_shift(2),n.biff==5&&(t.l+=2),t.l+=4);var f=wh(t,a,n);i&32&&(f=Mhe[f.charCodeAt(0)]);var d=r-t.l;n&&n.biff==2&&--d;var m=r==t.l||o===0||!(d>0)?[]:mge(t,d,n,o);return{chKey:s,Name:f,itab:c,rgce:m}}function aB(t,e,n){if(n.biff<8)return Lhe(t,e,n);for(var r=[],i=t.l+e,s=t.read_shift(n.biff>8?4:2);s--!==0;)r.push(nhe(t,n.biff>8?12:6,n));if(t.l!=i)throw new Error("Bad ExternSheet: "+t.l+" != "+i);return r}function Lhe(t,e,n){t[t.l+1]==3&&t[t.l]++;var r=F1(t,e,n);return r.charCodeAt(0)==3?r.slice(1):r}function Fhe(t,e,n){if(n.biff<8){t.l+=e;return}var r=t.read_shift(2),i=t.read_shift(2),s=wh(t,r,n),a=wh(t,i,n);return[s,a]}function Ohe(t,e,n){var r=iB(t);t.l++;var i=t.read_shift(1);return e-=8,[gge(t,e,n),i,r]}function JP(t,e,n){var r=ihe(t);switch(n.biff){case 2:t.l++,e-=7;break;case 3:case 4:t.l+=2,e-=8;break;default:t.l+=6,e-=12}return[r,hge(t,e,n)]}function Bhe(t){var e=t.read_shift(4)!==0,n=t.read_shift(4)!==0,r=t.read_shift(4);return[e,n,r]}function Vhe(t,e,n){if(!(n.biff<8)){var r=t.read_shift(2),i=t.read_shift(2),s=t.read_shift(2),a=t.read_shift(2),o=Vh(t,0,n);return n.biff<8&&t.read_shift(1),[{r,c:i},o,a,s]}}function Uhe(t,e,n){return Vhe(t,e,n)}function jhe(t,e){for(var n=[],r=t.read_shift(2);r--;)n.push(Mv(t));return n}function qhe(t,e,n){if(n&&n.biff<8)return zhe(t,e,n);var r=sB(t),i=lhe(t,e-22,r[1]);return{cmo:r,ft:i}}var Hhe={8:function(t,e){var n=t.l+e;t.l+=10;var r=t.read_shift(2);t.l+=4,t.l+=2,t.l+=2,t.l+=2,t.l+=4;var i=t.read_shift(1);return t.l+=i,t.l=n,{fmt:r}}};function zhe(t,e,n){t.l+=4;var r=t.read_shift(2),i=t.read_shift(2),s=t.read_shift(2);t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=6,e-=36;var a=[];return a.push((Hhe[r]||Ra)(t,e,n)),{cmo:[i,r,s],ft:a}}function Ghe(t,e,n){var r=t.l,i="";try{t.l+=4;var s=(n.lastobj||{cmo:[0,0]}).cmo[1],a;[0,5,7,11,12,14].indexOf(s)==-1?t.l+=6:a=Yde(t,6,n);var o=t.read_shift(2);t.read_shift(2),us(t,2);var c=t.read_shift(2);t.l+=c;for(var f=1;f<t.lens.length-1;++f){if(t.l-r!=t.lens[f])throw new Error("TxO: bad continue record");var d=t[t.l],m=wh(t,t.lens[f+1]-t.lens[f]-1);if(i+=m,i.length>=(d?o:2*o))break}if(i.length!==o&&i.length!==o*2)throw new Error("cchText: "+o+" != "+i.length);return t.l=r+e,{t:i}}catch{return t.l=r+e,{t:i}}}function Whe(t,e){var n=Mv(t);t.l+=16;var r=Zde(t,e-24);return[n,r]}function $he(t,e){t.read_shift(2);var n=Mv(t),r=t.read_shift((e-10)/2,"dbcs-cont");return r=r.replace($a,""),[n,r]}function Khe(t){var e=[0,0],n;return n=t.read_shift(2),e[0]=UP[n]||n,n=t.read_shift(2),e[1]=UP[n]||n,e}function Yhe(t){for(var e=t.read_shift(2),n=[];e-- >0;)n.push(nB(t));return n}function Xhe(t){for(var e=t.read_shift(2),n=[];e-- >0;)n.push(nB(t));return n}function Jhe(t){t.l+=2;var e={cxfs:0,crc:0};return e.cxfs=t.read_shift(2),e.crc=t.read_shift(4),e}function oB(t,e,n){if(!n.cellStyles)return Ra(t,e);var r=n&&n.biff>=12?4:2,i=t.read_shift(r),s=t.read_shift(r),a=t.read_shift(r),o=t.read_shift(r),c=t.read_shift(2);r==2&&(t.l+=2);var f={s:i,e:s,w:a,ixfe:o,flags:c};return(n.biff>=5||!n.biff)&&(f.level=c>>8&7),f}function Qhe(t,e){var n={};return e<32||(t.l+=16,n.header=Sa(t),n.footer=Sa(t),t.l+=2),n}function Zhe(t,e,n){var r={area:!1};if(n.biff!=5)return t.l+=e,r;var i=t.read_shift(1);return t.l+=3,i&16&&(r.area=!0),r}var e0e=Wc,t0e=eB,n0e=O1;function r0e(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(4),i={fmt:e,env:n,len:r,data:t.slice(t.l,t.l+r)};return t.l+=r,i}function i0e(t,e,n){n.biffguess&&n.biff==5&&(n.biff=2);var r=Wc(t);++t.l;var i=Vh(t,e-7,n);return r.t="str",r.val=i,r}function s0e(t){var e=Wc(t);++t.l;var n=Sa(t);return e.t="n",e.val=n,e}function a0e(t){var e=Wc(t);++t.l;var n=t.read_shift(2);return e.t="n",e.val=n,e}function o0e(t){var e=t.read_shift(1);return e===0?(t.l++,""):t.read_shift(e,"sbcs-cont")}function l0e(t,e){t.l+=6,t.l+=2,t.l+=1,t.l+=3,t.l+=1,t.l+=e-13}function c0e(t,e,n){var r=t.l+e,i=Wc(t),s=t.read_shift(2),a=wh(t,s,n);return t.l=r,i.t="str",i.val=a,i}var u0e=[2,3,48,49,131,139,140,245],QP=(function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=CS({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function n(o,c){var f=[],d=id(1);switch(c.type){case"base64":d=$l(qo(o));break;case"binary":d=$l(o);break;case"buffer":case"array":d=o;break}aa(d,0);var m=d.read_shift(1),g=!!(m&136),y=!1,E=!1;switch(m){case 2:break;case 3:break;case 48:y=!0,g=!0;break;case 49:y=!0,g=!0;break;case 131:break;case 139:break;case 140:E=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+m.toString(16))}var _=0,A=521;m==2&&(_=d.read_shift(2)),d.l+=3,m!=2&&(_=d.read_shift(4)),_>1048576&&(_=1e6),m!=2&&(A=d.read_shift(2));var C=d.read_shift(2),V=c.codepage||1252;m!=2&&(d.l+=16,d.read_shift(1),d[d.l]!==0&&(V=t[d[d.l]]),d.l+=1,d.l+=2),E&&(d.l+=36);for(var R=[],F={},z=Math.min(d.length,m==2?521:A-10-(y?264:0)),W=E?32:11;d.l<z&&d[d.l]!=13;)switch(F={},F.name=s1.utils.decode(V,d.slice(d.l,d.l+W)).replace(/[\u0000\r\n].*$/g,""),d.l+=W,F.type=String.fromCharCode(d.read_shift(1)),m!=2&&!E&&(F.offset=d.read_shift(4)),F.len=d.read_shift(1),m==2&&(F.offset=d.read_shift(2)),F.dec=d.read_shift(1),F.name.length&&R.push(F),m!=2&&(d.l+=E?13:14),F.type){case"B":(!y||F.len!=8)&&c.WTF&&console.log("Skipping "+F.name+":"+F.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+F.name+":"+F.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+F.type)}if(d[d.l]!==13&&(d.l=A-1),d.read_shift(1)!==13)throw new Error("DBF Terminator not found "+d.l+" "+d[d.l]);d.l=A;var D=0,L=0;for(f[0]=[],L=0;L!=R.length;++L)f[0][L]=R[L].name;for(;_-- >0;){if(d[d.l]===42){d.l+=C;continue}for(++d.l,f[++D]=[],L=0,L=0;L!=R.length;++L){var k=d.slice(d.l,d.l+R[L].len);d.l+=R[L].len,aa(k,0);var q=s1.utils.decode(V,k);switch(R[L].type){case"C":q.trim().length&&(f[D][L]=q.replace(/\s+$/,""));break;case"D":q.length===8?f[D][L]=new Date(+q.slice(0,4),+q.slice(4,6)-1,+q.slice(6,8)):f[D][L]=q;break;case"F":f[D][L]=parseFloat(q.trim());break;case"+":case"I":f[D][L]=E?k.read_shift(-4,"i")^2147483648:k.read_shift(4,"i");break;case"L":switch(q.trim().toUpperCase()){case"Y":case"T":f[D][L]=!0;break;case"N":case"F":f[D][L]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+q+"|")}break;case"M":if(!g)throw new Error("DBF Unexpected MEMO for type "+m.toString(16));f[D][L]="##MEMO##"+(E?parseInt(q.trim(),10):k.read_shift(4));break;case"N":q=q.replace(/\u0000/g,"").trim(),q&&q!="."&&(f[D][L]=+q||0);break;case"@":f[D][L]=new Date(k.read_shift(-8,"f")-621356832e5);break;case"T":f[D][L]=new Date((k.read_shift(4)-2440588)*864e5+k.read_shift(4));break;case"Y":f[D][L]=k.read_shift(4,"i")/1e4+k.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":f[D][L]=-k.read_shift(-8,"f");break;case"B":if(y&&R[L].len==8){f[D][L]=k.read_shift(8,"f");break}case"G":case"P":k.l+=R[L].len;break;case"0":if(R[L].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+R[L].type)}}}if(m!=2&&d.l<d.length&&d[d.l++]!=26)throw new Error("DBF EOF Marker missing "+(d.l-1)+" of "+d.length+" "+d[d.l-1].toString(16));return c&&c.sheetRows&&(f=f.slice(0,c.sheetRows)),c.DBF=R,f}function r(o,c){var f=c||{};f.dateNF||(f.dateNF="yyyymmdd");var d=tm(n(o,f),f);return d["!cols"]=f.DBF.map(function(m){return{wch:m.len,DBF:m}}),delete f.DBF,d}function i(o,c){try{return dd(r(o,c),c)}catch(f){if(c&&c.WTF)throw f}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function a(o,c){var f=c||{};if(+f.codepage>=0&&Yl(+f.codepage),f.type=="string")throw new Error("Cannot write DBF to JS string");var d=cT(),m=vT(o,{header:1,raw:!0,cellDates:!0}),g=m[0],y=m.slice(1),E=o["!cols"]||[],_=0,A=0,C=0,V=1;for(_=0;_<g.length;++_){if(((E[_]||{}).DBF||{}).name){g[_]=E[_].DBF.name,++C;continue}if(g[_]!=null){if(++C,typeof g[_]=="number"&&(g[_]=g[_].toString(10)),typeof g[_]!="string")throw new Error("DBF Invalid column name "+g[_]+" |"+typeof g[_]+"|");if(g.indexOf(g[_])!==_){for(A=0;A<1024;++A)if(g.indexOf(g[_]+"_"+A)==-1){g[_]+="_"+A;break}}}}var R=zi(o["!ref"]),F=[],z=[],W=[];for(_=0;_<=R.e.c-R.s.c;++_){var D="",L="",k=0,q=[];for(A=0;A<y.length;++A)y[A][_]!=null&&q.push(y[A][_]);if(q.length==0||g[_]==null){F[_]="?";continue}for(A=0;A<q.length;++A){switch(typeof q[A]){case"number":L="B";break;case"string":L="C";break;case"boolean":L="L";break;case"object":L=q[A]instanceof Date?"D":"C";break;default:L="C"}k=Math.max(k,String(q[A]).length),D=D&&D!=L?"C":L}k>250&&(k=250),L=((E[_]||{}).DBF||{}).type,L=="C"&&E[_].DBF.len>k&&(k=E[_].DBF.len),D=="B"&&L=="N"&&(D="N",W[_]=E[_].DBF.dec,k=E[_].DBF.len),z[_]=D=="C"||L=="N"?k:s[D]||0,V+=z[_],F[_]=D}var P=d.next(32);for(P.write_shift(4,318902576),P.write_shift(4,y.length),P.write_shift(2,296+32*C),P.write_shift(2,V),_=0;_<4;++_)P.write_shift(4,0);for(P.write_shift(4,0|(+e[a9]||3)<<8),_=0,A=0;_<g.length;++_)if(g[_]!=null){var M=d.next(32),j=(g[_].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);M.write_shift(1,j,"sbcs"),M.write_shift(1,F[_]=="?"?"C":F[_],"sbcs"),M.write_shift(4,A),M.write_shift(1,z[_]||s[F[_]]||0),M.write_shift(1,W[_]||0),M.write_shift(1,2),M.write_shift(4,0),M.write_shift(1,0),M.write_shift(4,0),M.write_shift(4,0),A+=z[_]||s[F[_]]||0}var ae=d.next(264);for(ae.write_shift(4,13),_=0;_<65;++_)ae.write_shift(4,0);for(_=0;_<y.length;++_){var Ae=d.next(V);for(Ae.write_shift(1,0),A=0;A<g.length;++A)if(g[A]!=null)switch(F[A]){case"L":Ae.write_shift(1,y[_][A]==null?63:y[_][A]?84:70);break;case"B":Ae.write_shift(8,y[_][A]||0,"f");break;case"N":var fe="0";for(typeof y[_][A]=="number"&&(fe=y[_][A].toFixed(W[A]||0)),C=0;C<z[A]-fe.length;++C)Ae.write_shift(1,32);Ae.write_shift(1,fe,"sbcs");break;case"D":y[_][A]?(Ae.write_shift(4,("0000"+y[_][A].getFullYear()).slice(-4),"sbcs"),Ae.write_shift(2,("00"+(y[_][A].getMonth()+1)).slice(-2),"sbcs"),Ae.write_shift(2,("00"+y[_][A].getDate()).slice(-2),"sbcs")):Ae.write_shift(8,"00000000","sbcs");break;case"C":var xe=String(y[_][A]!=null?y[_][A]:"").slice(0,z[A]);for(Ae.write_shift(1,xe,"sbcs"),C=0;C<z[A]-xe.length;++C)Ae.write_shift(1,32);break}}return d.next(1).write_shift(1,26),d.end()}return{to_workbook:i,to_sheet:r,from_sheet:a}})(),f0e=(function(){var t={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+Hc(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),n=function(g,y){var E=t[y];return typeof E=="number"?pP(E):E},r=function(g,y,E){var _=y.charCodeAt(0)-32<<4|E.charCodeAt(0)-48;return _==59?g:pP(_)};t["|"]=254;function i(g,y){switch(y.type){case"base64":return s(qo(g),y);case"binary":return s(g,y);case"buffer":return s(hr&&Buffer.isBuffer(g)?g.toString("binary"):Lh(g),y);case"array":return s(_h(g),y)}throw new Error("Unrecognized type "+y.type)}function s(g,y){var E=g.split(/[\n\r]+/),_=-1,A=-1,C=0,V=0,R=[],F=[],z=null,W={},D=[],L=[],k=[],q=0,P;for(+y.codepage>=0&&Yl(+y.codepage);C!==E.length;++C){q=0;var M=E[C].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(e,n),j=M.replace(/;;/g,"\0").split(";").map(function(Q){return Q.replace(/\u0000/g,";")}),ae=j[0],Ae;if(M.length>0)switch(ae){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":j[1].charAt(0)=="P"&&F.push(M.slice(3).replace(/;;/g,";"));break;case"C":var fe=!1,xe=!1,Ne=!1,me=!1,Re=-1,re=-1;for(V=1;V<j.length;++V)switch(j[V].charAt(0)){case"A":break;case"X":A=parseInt(j[V].slice(1))-1,xe=!0;break;case"Y":for(_=parseInt(j[V].slice(1))-1,xe||(A=0),P=R.length;P<=_;++P)R[P]=[];break;case"K":Ae=j[V].slice(1),Ae.charAt(0)==='"'?Ae=Ae.slice(1,Ae.length-1):Ae==="TRUE"?Ae=!0:Ae==="FALSE"?Ae=!1:isNaN(Jl(Ae))?isNaN(Fp(Ae).getDate())||(Ae=Gs(Ae)):(Ae=Jl(Ae),z!==null&&Zp(z)&&(Ae=Dv(Ae))),fe=!0;break;case"E":me=!0;var B=gp(j[V].slice(1),{r:_,c:A});R[_][A]=[R[_][A],B];break;case"S":Ne=!0,R[_][A]=[R[_][A],"S5S"];break;case"G":break;case"R":Re=parseInt(j[V].slice(1))-1;break;case"C":re=parseInt(j[V].slice(1))-1;break;default:if(y&&y.WTF)throw new Error("SYLK bad record "+M)}if(fe&&(R[_][A]&&R[_][A].length==2?R[_][A][0]=Ae:R[_][A]=Ae,z=null),Ne){if(me)throw new Error("SYLK shared formula cannot have own formula");var Y=Re>-1&&R[Re][re];if(!Y||!Y[1])throw new Error("SYLK shared formula cannot find base");R[_][A][1]=xB(Y[1],{r:_-Re,c:A-re})}break;case"F":var X=0;for(V=1;V<j.length;++V)switch(j[V].charAt(0)){case"X":A=parseInt(j[V].slice(1))-1,++X;break;case"Y":for(_=parseInt(j[V].slice(1))-1,P=R.length;P<=_;++P)R[P]=[];break;case"M":q=parseInt(j[V].slice(1))/20;break;case"F":break;case"G":break;case"P":z=F[parseInt(j[V].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(k=j[V].slice(1).split(" "),P=parseInt(k[0],10);P<=parseInt(k[1],10);++P)q=parseInt(k[2],10),L[P-1]=q===0?{hidden:!0}:{wch:q},Op(L[P-1]);break;case"C":A=parseInt(j[V].slice(1))-1,L[A]||(L[A]={});break;case"R":_=parseInt(j[V].slice(1))-1,D[_]||(D[_]={}),q>0?(D[_].hpt=q,D[_].hpx=f1(q)):q===0&&(D[_].hidden=!0);break;default:if(y&&y.WTF)throw new Error("SYLK bad record "+M)}X<1&&(z=null);break;default:if(y&&y.WTF)throw new Error("SYLK bad record "+M)}}return D.length>0&&(W["!rows"]=D),L.length>0&&(W["!cols"]=L),y&&y.sheetRows&&(R=R.slice(0,y.sheetRows)),[R,W]}function a(g,y){var E=i(g,y),_=E[0],A=E[1],C=tm(_,y);return Hc(A).forEach(function(V){C[V]=A[V]}),C}function o(g,y){return dd(a(g,y),y)}function c(g,y,E,_){var A="C;Y"+(E+1)+";X"+(_+1)+";K";switch(g.t){case"n":A+=g.v||0,g.f&&!g.F&&(A+=";E"+Jpe(g.f,{r:E,c:_}));break;case"b":A+=g.v?"TRUE":"FALSE";break;case"e":A+=g.w||g.v;break;case"d":A+='"'+(g.w||g.v)+'"';break;case"s":A+='"'+g.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return A}function f(g,y){y.forEach(function(E,_){var A="F;W"+(_+1)+" "+(_+1)+" ";E.hidden?A+="0":(typeof E.width=="number"&&!E.wpx&&(E.wpx=q2(E.width)),typeof E.wpx=="number"&&!E.wch&&(E.wch=H2(E.wpx)),typeof E.wch=="number"&&(A+=Math.round(E.wch))),A.charAt(A.length-1)!=" "&&g.push(A)})}function d(g,y){y.forEach(function(E,_){var A="F;";E.hidden?A+="M0;":E.hpt?A+="M"+20*E.hpt+";":E.hpx&&(A+="M"+20*pB(E.hpx)+";"),A.length>2&&g.push(A+"R"+(_+1))})}function m(g,y){var E=["ID;PWXL;N;E"],_=[],A=zi(g["!ref"]),C,V=Array.isArray(g),R=`\r
`;E.push("P;PGeneral"),E.push("F;P0;DG0G8;M255"),g["!cols"]&&f(E,g["!cols"]),g["!rows"]&&d(E,g["!rows"]),E.push("B;Y"+(A.e.r-A.s.r+1)+";X"+(A.e.c-A.s.c+1)+";D"+[A.s.c,A.s.r,A.e.c,A.e.r].join(" "));for(var F=A.s.r;F<=A.e.r;++F)for(var z=A.s.c;z<=A.e.c;++z){var W=jn({r:F,c:z});C=V?(g[F]||[])[z]:g[W],!(!C||C.v==null&&(!C.f||C.F))&&_.push(c(C,g,F,z))}return E.join(R)+R+_.join(R)+R+"E"+R}return{to_workbook:o,to_sheet:a,from_sheet:m}})(),d0e=(function(){function t(s,a){switch(a.type){case"base64":return e(qo(s),a);case"binary":return e(s,a);case"buffer":return e(hr&&Buffer.isBuffer(s)?s.toString("binary"):Lh(s),a);case"array":return e(_h(s),a)}throw new Error("Unrecognized type "+a.type)}function e(s,a){for(var o=s.split(`
`),c=-1,f=-1,d=0,m=[];d!==o.length;++d){if(o[d].trim()==="BOT"){m[++c]=[],f=0;continue}if(!(c<0)){var g=o[d].trim().split(","),y=g[0],E=g[1];++d;for(var _=o[d]||"";(_.match(/["]/g)||[]).length&1&&d<o.length-1;)_+=`
`+o[++d];switch(_=_.trim(),+y){case-1:if(_==="BOT"){m[++c]=[],f=0;continue}else if(_!=="EOD")throw new Error("Unrecognized DIF special command "+_);break;case 0:_==="TRUE"?m[c][f]=!0:_==="FALSE"?m[c][f]=!1:isNaN(Jl(E))?isNaN(Fp(E).getDate())?m[c][f]=E:m[c][f]=Gs(E):m[c][f]=Jl(E),++f;break;case 1:_=_.slice(1,_.length-1),_=_.replace(/""/g,'"'),_&&_.match(/^=".*"$/)&&(_=_.slice(2,-1)),m[c][f++]=_!==""?_:null;break}if(_==="EOD")break}}return a&&a.sheetRows&&(m=m.slice(0,a.sheetRows)),m}function n(s,a){return tm(t(s,a),a)}function r(s,a){return dd(n(s,a),a)}var i=(function(){var s=function(c,f,d,m,g){c.push(f),c.push(d+","+m),c.push('"'+g.replace(/"/g,'""')+'"')},a=function(c,f,d,m){c.push(f+","+d),c.push(f==1?'"'+m.replace(/"/g,'""')+'"':m)};return function(c){var f=[],d=zi(c["!ref"]),m,g=Array.isArray(c);s(f,"TABLE",0,1,"sheetjs"),s(f,"VECTORS",0,d.e.r-d.s.r+1,""),s(f,"TUPLES",0,d.e.c-d.s.c+1,""),s(f,"DATA",0,0,"");for(var y=d.s.r;y<=d.e.r;++y){a(f,-1,0,"BOT");for(var E=d.s.c;E<=d.e.c;++E){var _=jn({r:y,c:E});if(m=g?(c[y]||[])[E]:c[_],!m){a(f,1,0,"");continue}switch(m.t){case"n":var A=m.w;!A&&m.v!=null&&(A=m.v),A==null?m.f&&!m.F?a(f,1,0,"="+m.f):a(f,1,0,""):a(f,0,A,"V");break;case"b":a(f,0,m.v?1:0,m.v?"TRUE":"FALSE");break;case"s":a(f,1,0,isNaN(m.v)?m.v:'="'+m.v+'"');break;case"d":m.w||(m.w=yl(m.z||Wn[14],Ka(Gs(m.v)))),a(f,0,m.w,"V");break;default:a(f,1,0,"")}}}a(f,-1,0,"EOD");var C=`\r
`,V=f.join(C);return V}})();return{to_workbook:r,to_sheet:n,from_sheet:i}})(),h0e=(function(){function t(m){return m.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(m){return m.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function n(m,g){for(var y=m.split(`
`),E=-1,_=-1,A=0,C=[];A!==y.length;++A){var V=y[A].trim().split(":");if(V[0]==="cell"){var R=Ga(V[1]);if(C.length<=R.r)for(E=C.length;E<=R.r;++E)C[E]||(C[E]=[]);switch(E=R.r,_=R.c,V[2]){case"t":C[E][_]=t(V[3]);break;case"v":C[E][_]=+V[3];break;case"vtf":var F=V[V.length-1];case"vtc":switch(V[3]){case"nl":C[E][_]=!!+V[4];break;default:C[E][_]=+V[4];break}V[2]=="vtf"&&(C[E][_]=[C[E][_],F])}}}return g&&g.sheetRows&&(C=C.slice(0,g.sheetRows)),C}function r(m,g){return tm(n(m,g),g)}function i(m,g){return dd(r(m,g),g)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),a=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function f(m){if(!m||!m["!ref"])return"";for(var g=[],y=[],E,_="",A=em(m["!ref"]),C=Array.isArray(m),V=A.s.r;V<=A.e.r;++V)for(var R=A.s.c;R<=A.e.c;++R)if(_=jn({r:V,c:R}),E=C?(m[V]||[])[R]:m[_],!(!E||E.v==null||E.t==="z")){switch(y=["cell",_,"t"],E.t){case"s":case"str":y.push(e(E.v));break;case"n":E.f?(y[2]="vtf",y[3]="n",y[4]=E.v,y[5]=e(E.f)):(y[2]="v",y[3]=E.v);break;case"b":y[2]="vt"+(E.f?"f":"c"),y[3]="nl",y[4]=E.v?"1":"0",y[5]=e(E.f||(E.v?"TRUE":"FALSE"));break;case"d":var F=Ka(Gs(E.v));y[2]="vtc",y[3]="nd",y[4]=""+F,y[5]=E.w||yl(E.z||Wn[14],F);break;case"e":continue}g.push(y.join(":"))}return g.push("sheet:c:"+(A.e.c-A.s.c+1)+":r:"+(A.e.r-A.s.r+1)+":tvf:1"),g.push("valueformat:1:text-wiki"),g.join(`
`)}function d(m){return[s,a,o,a,f(m),c].join(`
`)}return{to_workbook:i,to_sheet:r,from_sheet:d}})(),c1=(function(){function t(d,m,g,y,E){E.raw?m[g][y]=d:d===""||(d==="TRUE"?m[g][y]=!0:d==="FALSE"?m[g][y]=!1:isNaN(Jl(d))?isNaN(Fp(d).getDate())?m[g][y]=d:m[g][y]=Gs(d):m[g][y]=Jl(d))}function e(d,m){var g=m||{},y=[];if(!d||d.length===0)return y;for(var E=d.split(/[\r\n]/),_=E.length-1;_>=0&&E[_].length===0;)--_;for(var A=10,C=0,V=0;V<=_;++V)C=E[V].indexOf(" "),C==-1?C=E[V].length:C++,A=Math.max(A,C);for(V=0;V<=_;++V){y[V]=[];var R=0;for(t(E[V].slice(0,A).trim(),y,V,R,g),R=1;R<=(E[V].length-A)/10+1;++R)t(E[V].slice(A+(R-1)*10,A+R*10).trim(),y,V,R,g)}return g.sheetRows&&(y=y.slice(0,g.sheetRows)),y}var n={44:",",9:"	",59:";",124:"|"},r={44:3,9:2,59:1,124:0};function i(d){for(var m={},g=!1,y=0,E=0;y<d.length;++y)(E=d.charCodeAt(y))==34?g=!g:!g&&E in n&&(m[E]=(m[E]||0)+1);E=[];for(y in m)Object.prototype.hasOwnProperty.call(m,y)&&E.push([m[y],y]);if(!E.length){m=r;for(y in m)Object.prototype.hasOwnProperty.call(m,y)&&E.push([m[y],y])}return E.sort(function(_,A){return _[0]-A[0]||r[_[1]]-r[A[1]]}),n[E.pop()[1]]||44}function s(d,m){var g=m||{},y="",E=g.dense?[]:{},_={s:{c:0,r:0},e:{c:0,r:0}};d.slice(0,4)=="sep="?d.charCodeAt(5)==13&&d.charCodeAt(6)==10?(y=d.charAt(4),d=d.slice(7)):d.charCodeAt(5)==13||d.charCodeAt(5)==10?(y=d.charAt(4),d=d.slice(6)):y=i(d.slice(0,1024)):g&&g.FS?y=g.FS:y=i(d.slice(0,1024));var A=0,C=0,V=0,R=0,F=0,z=y.charCodeAt(0),W=!1,D=0,L=d.charCodeAt(0);d=d.replace(/\r\n/mg,`
`);var k=g.dateNF!=null?Efe(g.dateNF):null;function q(){var P=d.slice(R,F),M={};if(P.charAt(0)=='"'&&P.charAt(P.length-1)=='"'&&(P=P.slice(1,-1).replace(/""/g,'"')),P.length===0)M.t="z";else if(g.raw)M.t="s",M.v=P;else if(P.trim().length===0)M.t="s",M.v=P;else if(P.charCodeAt(0)==61)P.charCodeAt(1)==34&&P.charCodeAt(P.length-1)==34?(M.t="s",M.v=P.slice(2,-1).replace(/""/g,'"')):Zpe(P)?(M.t="n",M.f=P.slice(1)):(M.t="s",M.v=P);else if(P=="TRUE")M.t="b",M.v=!0;else if(P=="FALSE")M.t="b",M.v=!1;else if(!isNaN(V=Jl(P)))M.t="n",g.cellText!==!1&&(M.w=P),M.v=V;else if(!isNaN(Fp(P).getDate())||k&&P.match(k)){M.z=g.dateNF||Wn[14];var j=0;k&&P.match(k)&&(P=Sfe(P,g.dateNF,P.match(k)||[]),j=1),g.cellDates?(M.t="d",M.v=Gs(P,j)):(M.t="n",M.v=Ka(Gs(P,j))),g.cellText!==!1&&(M.w=yl(M.z,M.v instanceof Date?Ka(M.v):M.v)),g.cellNF||delete M.z}else M.t="s",M.v=P;if(M.t=="z"||(g.dense?(E[A]||(E[A]=[]),E[A][C]=M):E[jn({c:C,r:A})]=M),R=F+1,L=d.charCodeAt(R),_.e.c<C&&(_.e.c=C),_.e.r<A&&(_.e.r=A),D==z)++C;else if(C=0,++A,g.sheetRows&&g.sheetRows<=A)return!0}e:for(;F<d.length;++F)switch(D=d.charCodeAt(F)){case 34:L===34&&(W=!W);break;case z:case 10:case 13:if(!W&&q())break e;break}return F-R>0&&q(),E["!ref"]=_r(_),E}function a(d,m){return!(m&&m.PRN)||m.FS||d.slice(0,4)=="sep="||d.indexOf("	")>=0||d.indexOf(",")>=0||d.indexOf(";")>=0?s(d,m):tm(e(d,m),m)}function o(d,m){var g="",y=m.type=="string"?[0,0,0,0]:$S(d,m);switch(m.type){case"base64":g=qo(d);break;case"binary":g=d;break;case"buffer":m.codepage==65001?g=d.toString("utf8"):m.codepage&&typeof s1<"u"||(g=hr&&Buffer.isBuffer(d)?d.toString("binary"):Lh(d));break;case"array":g=_h(d);break;case"string":g=d;break;default:throw new Error("Unrecognized type "+m.type)}return y[0]==239&&y[1]==187&&y[2]==191?g=ai(g.slice(3)):m.type!="string"&&m.type!="buffer"&&m.codepage==65001?g=ai(g):m.type=="binary"&&typeof s1<"u",g.slice(0,19)=="socialcalc:version:"?h0e.to_sheet(m.type=="string"?g:ai(g),m):a(g,m)}function c(d,m){return dd(o(d,m),m)}function f(d){for(var m=[],g=zi(d["!ref"]),y,E=Array.isArray(d),_=g.s.r;_<=g.e.r;++_){for(var A=[],C=g.s.c;C<=g.e.c;++C){var V=jn({r:_,c:C});if(y=E?(d[_]||[])[C]:d[V],!y||y.v==null){A.push("          ");continue}for(var R=(y.w||(ju(y),y.w)||"").slice(0,10);R.length<10;)R+=" ";A.push(R+(C===0?" ":""))}m.push(A.join(""))}return m.join(`
`)}return{to_workbook:c,to_sheet:o,from_sheet:f}})();function p0e(t,e){var n=e||{},r=!!n.WTF;n.WTF=!0;try{var i=f0e.to_workbook(t,n);return n.WTF=r,i}catch(s){if(n.WTF=r,!s.message.match(/SYLK bad record ID/)&&r)throw s;return c1.to_workbook(t,e)}}var Rg=(function(){function t(B,Y,X){if(B){aa(B,B.l||0);for(var Q=X.Enum||Re;B.l<B.length;){var ce=B.read_shift(2),_e=Q[ce]||Q[65535],Pe=B.read_shift(2),Z=B.l+Pe,Ce=_e.f&&_e.f(B,Pe,X);if(B.l=Z,Y(Ce,_e,ce))return}}}function e(B,Y){switch(Y.type){case"base64":return n($l(qo(B)),Y);case"binary":return n($l(B),Y);case"buffer":case"array":return n(B,Y)}throw"Unsupported type "+Y.type}function n(B,Y){if(!B)return B;var X=Y||{},Q=X.dense?[]:{},ce="Sheet1",_e="",Pe=0,Z={},Ce=[],qe=[],ee={s:{r:0,c:0},e:{r:0,c:0}},Ie=X.sheetRows||0;if(B[2]==0&&(B[3]==8||B[3]==9)&&B.length>=16&&B[14]==5&&B[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(B[2]==2)X.Enum=Re,t(B,function(st,ft,tt){switch(tt){case 0:X.vers=st,st>=4096&&(X.qpro=!0);break;case 6:ee=st;break;case 204:st&&(_e=st);break;case 222:_e=st;break;case 15:case 51:X.qpro||(st[1].v=st[1].v.slice(1));case 13:case 14:case 16:tt==14&&(st[2]&112)==112&&(st[2]&15)>1&&(st[2]&15)<15&&(st[1].z=X.dateNF||Wn[14],X.cellDates&&(st[1].t="d",st[1].v=Dv(st[1].v))),X.qpro&&st[3]>Pe&&(Q["!ref"]=_r(ee),Z[ce]=Q,Ce.push(ce),Q=X.dense?[]:{},ee={s:{r:0,c:0},e:{r:0,c:0}},Pe=st[3],ce=_e||"Sheet"+(Pe+1),_e="");var wt=X.dense?(Q[st[0].r]||[])[st[0].c]:Q[jn(st[0])];if(wt){wt.t=st[1].t,wt.v=st[1].v,st[1].z!=null&&(wt.z=st[1].z),st[1].f!=null&&(wt.f=st[1].f);break}X.dense?(Q[st[0].r]||(Q[st[0].r]=[]),Q[st[0].r][st[0].c]=st[1]):Q[jn(st[0])]=st[1];break}},X);else if(B[2]==26||B[2]==14)X.Enum=re,B[2]==14&&(X.qpro=!0,B.l=0),t(B,function(st,ft,tt){switch(tt){case 204:ce=st;break;case 22:st[1].v=st[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(st[3]>Pe&&(Q["!ref"]=_r(ee),Z[ce]=Q,Ce.push(ce),Q=X.dense?[]:{},ee={s:{r:0,c:0},e:{r:0,c:0}},Pe=st[3],ce="Sheet"+(Pe+1)),Ie>0&&st[0].r>=Ie)break;X.dense?(Q[st[0].r]||(Q[st[0].r]=[]),Q[st[0].r][st[0].c]=st[1]):Q[jn(st[0])]=st[1],ee.e.c<st[0].c&&(ee.e.c=st[0].c),ee.e.r<st[0].r&&(ee.e.r=st[0].r);break;case 27:st[14e3]&&(qe[st[14e3][0]]=st[14e3][1]);break;case 1537:qe[st[0]]=st[1],st[0]==Pe&&(ce=st[1]);break}},X);else throw new Error("Unrecognized LOTUS BOF "+B[2]);if(Q["!ref"]=_r(ee),Z[_e||ce]=Q,Ce.push(_e||ce),!qe.length)return{SheetNames:Ce,Sheets:Z};for(var Ye={},oe=[],rt=0;rt<qe.length;++rt)Z[Ce[rt]]?(oe.push(qe[rt]||Ce[rt]),Ye[qe[rt]]=Z[qe[rt]]||Z[Ce[rt]]):(oe.push(qe[rt]),Ye[qe[rt]]={"!ref":"A1"});return{SheetNames:oe,Sheets:Ye}}function r(B,Y){var X=Y||{};if(+X.codepage>=0&&Yl(+X.codepage),X.type=="string")throw new Error("Cannot write WK1 to JS string");var Q=cT(),ce=zi(B["!ref"]),_e=Array.isArray(B),Pe=[];Hl(Q,0,s(1030)),Hl(Q,6,c(ce));for(var Z=Math.min(ce.e.r,8191),Ce=ce.s.r;Ce<=Z;++Ce)for(var qe=ca(Ce),ee=ce.s.c;ee<=ce.e.c;++ee){Ce===ce.s.r&&(Pe[ee]=Ns(ee));var Ie=Pe[ee]+qe,Ye=_e?(B[Ce]||[])[ee]:B[Ie];if(!(!Ye||Ye.t=="z"))if(Ye.t=="n")(Ye.v|0)==Ye.v&&Ye.v>=-32768&&Ye.v<=32767?Hl(Q,13,y(Ce,ee,Ye.v)):Hl(Q,14,_(Ce,ee,Ye.v));else{var oe=ju(Ye);Hl(Q,15,m(Ce,ee,oe.slice(0,239)))}}return Hl(Q,1),Q.end()}function i(B,Y){var X=Y||{};if(+X.codepage>=0&&Yl(+X.codepage),X.type=="string")throw new Error("Cannot write WK3 to JS string");var Q=cT();Hl(Q,0,a(B));for(var ce=0,_e=0;ce<B.SheetNames.length;++ce)(B.Sheets[B.SheetNames[ce]]||{})["!ref"]&&Hl(Q,27,me(B.SheetNames[ce],_e++));var Pe=0;for(ce=0;ce<B.SheetNames.length;++ce){var Z=B.Sheets[B.SheetNames[ce]];if(!(!Z||!Z["!ref"])){for(var Ce=zi(Z["!ref"]),qe=Array.isArray(Z),ee=[],Ie=Math.min(Ce.e.r,8191),Ye=Ce.s.r;Ye<=Ie;++Ye)for(var oe=ca(Ye),rt=Ce.s.c;rt<=Ce.e.c;++rt){Ye===Ce.s.r&&(ee[rt]=Ns(rt));var st=ee[rt]+oe,ft=qe?(Z[Ye]||[])[rt]:Z[st];if(!(!ft||ft.t=="z"))if(ft.t=="n")Hl(Q,23,q(Ye,rt,Pe,ft.v));else{var tt=ju(ft);Hl(Q,22,D(Ye,rt,Pe,tt.slice(0,239)))}}++Pe}}return Hl(Q,1),Q.end()}function s(B){var Y=Ss(2);return Y.write_shift(2,B),Y}function a(B){var Y=Ss(26);Y.write_shift(2,4096),Y.write_shift(2,4),Y.write_shift(4,0);for(var X=0,Q=0,ce=0,_e=0;_e<B.SheetNames.length;++_e){var Pe=B.SheetNames[_e],Z=B.Sheets[Pe];if(!(!Z||!Z["!ref"])){++ce;var Ce=em(Z["!ref"]);X<Ce.e.r&&(X=Ce.e.r),Q<Ce.e.c&&(Q=Ce.e.c)}}return X>8191&&(X=8191),Y.write_shift(2,X),Y.write_shift(1,ce),Y.write_shift(1,Q),Y.write_shift(2,0),Y.write_shift(2,0),Y.write_shift(1,1),Y.write_shift(1,2),Y.write_shift(4,0),Y.write_shift(4,0),Y}function o(B,Y,X){var Q={s:{c:0,r:0},e:{c:0,r:0}};return Y==8&&X.qpro?(Q.s.c=B.read_shift(1),B.l++,Q.s.r=B.read_shift(2),Q.e.c=B.read_shift(1),B.l++,Q.e.r=B.read_shift(2),Q):(Q.s.c=B.read_shift(2),Q.s.r=B.read_shift(2),Y==12&&X.qpro&&(B.l+=2),Q.e.c=B.read_shift(2),Q.e.r=B.read_shift(2),Y==12&&X.qpro&&(B.l+=2),Q.s.c==65535&&(Q.s.c=Q.e.c=Q.s.r=Q.e.r=0),Q)}function c(B){var Y=Ss(8);return Y.write_shift(2,B.s.c),Y.write_shift(2,B.s.r),Y.write_shift(2,B.e.c),Y.write_shift(2,B.e.r),Y}function f(B,Y,X){var Q=[{c:0,r:0},{t:"n",v:0},0,0];return X.qpro&&X.vers!=20768?(Q[0].c=B.read_shift(1),Q[3]=B.read_shift(1),Q[0].r=B.read_shift(2),B.l+=2):(Q[2]=B.read_shift(1),Q[0].c=B.read_shift(2),Q[0].r=B.read_shift(2)),Q}function d(B,Y,X){var Q=B.l+Y,ce=f(B,Y,X);if(ce[1].t="s",X.vers==20768){B.l++;var _e=B.read_shift(1);return ce[1].v=B.read_shift(_e,"utf8"),ce}return X.qpro&&B.l++,ce[1].v=B.read_shift(Q-B.l,"cstr"),ce}function m(B,Y,X){var Q=Ss(7+X.length);Q.write_shift(1,255),Q.write_shift(2,Y),Q.write_shift(2,B),Q.write_shift(1,39);for(var ce=0;ce<Q.length;++ce){var _e=X.charCodeAt(ce);Q.write_shift(1,_e>=128?95:_e)}return Q.write_shift(1,0),Q}function g(B,Y,X){var Q=f(B,Y,X);return Q[1].v=B.read_shift(2,"i"),Q}function y(B,Y,X){var Q=Ss(7);return Q.write_shift(1,255),Q.write_shift(2,Y),Q.write_shift(2,B),Q.write_shift(2,X,"i"),Q}function E(B,Y,X){var Q=f(B,Y,X);return Q[1].v=B.read_shift(8,"f"),Q}function _(B,Y,X){var Q=Ss(13);return Q.write_shift(1,255),Q.write_shift(2,Y),Q.write_shift(2,B),Q.write_shift(8,X,"f"),Q}function A(B,Y,X){var Q=B.l+Y,ce=f(B,Y,X);if(ce[1].v=B.read_shift(8,"f"),X.qpro)B.l=Q;else{var _e=B.read_shift(2);F(B.slice(B.l,B.l+_e),ce),B.l+=_e}return ce}function C(B,Y,X){var Q=Y&32768;return Y&=-32769,Y=(Q?B:0)+(Y>=8192?Y-16384:Y),(Q?"":"$")+(X?Ns(Y):ca(Y))}var V={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},R=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function F(B,Y){aa(B,0);for(var X=[],Q=0,ce="",_e="",Pe="",Z="";B.l<B.length;){var Ce=B[B.l++];switch(Ce){case 0:X.push(B.read_shift(8,"f"));break;case 1:_e=C(Y[0].c,B.read_shift(2),!0),ce=C(Y[0].r,B.read_shift(2),!1),X.push(_e+ce);break;case 2:{var qe=C(Y[0].c,B.read_shift(2),!0),ee=C(Y[0].r,B.read_shift(2),!1);_e=C(Y[0].c,B.read_shift(2),!0),ce=C(Y[0].r,B.read_shift(2),!1),X.push(qe+ee+":"+_e+ce)}break;case 3:if(B.l<B.length){console.error("WK1 premature formula end");return}break;case 4:X.push("("+X.pop()+")");break;case 5:X.push(B.read_shift(2));break;case 6:{for(var Ie="";Ce=B[B.l++];)Ie+=String.fromCharCode(Ce);X.push('"'+Ie.replace(/"/g,'""')+'"')}break;case 8:X.push("-"+X.pop());break;case 23:X.push("+"+X.pop());break;case 22:X.push("NOT("+X.pop()+")");break;case 20:case 21:Z=X.pop(),Pe=X.pop(),X.push(["AND","OR"][Ce-20]+"("+Pe+","+Z+")");break;default:if(Ce<32&&R[Ce])Z=X.pop(),Pe=X.pop(),X.push(Pe+R[Ce]+Z);else if(V[Ce]){if(Q=V[Ce][1],Q==69&&(Q=B[B.l++]),Q>X.length){console.error("WK1 bad formula parse 0x"+Ce.toString(16)+":|"+X.join("|")+"|");return}var Ye=X.slice(-Q);X.length-=Q,X.push(V[Ce][0]+"("+Ye.join(",")+")")}else return Ce<=7?console.error("WK1 invalid opcode "+Ce.toString(16)):Ce<=24?console.error("WK1 unsupported op "+Ce.toString(16)):Ce<=30?console.error("WK1 invalid opcode "+Ce.toString(16)):Ce<=115?console.error("WK1 unsupported function opcode "+Ce.toString(16)):console.error("WK1 unrecognized opcode "+Ce.toString(16))}}X.length==1?Y[1].f=""+X[0]:console.error("WK1 bad formula parse |"+X.join("|")+"|")}function z(B){var Y=[{c:0,r:0},{t:"n",v:0},0];return Y[0].r=B.read_shift(2),Y[3]=B[B.l++],Y[0].c=B[B.l++],Y}function W(B,Y){var X=z(B);return X[1].t="s",X[1].v=B.read_shift(Y-4,"cstr"),X}function D(B,Y,X,Q){var ce=Ss(6+Q.length);ce.write_shift(2,B),ce.write_shift(1,X),ce.write_shift(1,Y),ce.write_shift(1,39);for(var _e=0;_e<Q.length;++_e){var Pe=Q.charCodeAt(_e);ce.write_shift(1,Pe>=128?95:Pe)}return ce.write_shift(1,0),ce}function L(B,Y){var X=z(B);X[1].v=B.read_shift(2);var Q=X[1].v>>1;if(X[1].v&1)switch(Q&7){case 0:Q=(Q>>3)*5e3;break;case 1:Q=(Q>>3)*500;break;case 2:Q=(Q>>3)/20;break;case 3:Q=(Q>>3)/200;break;case 4:Q=(Q>>3)/2e3;break;case 5:Q=(Q>>3)/2e4;break;case 6:Q=(Q>>3)/16;break;case 7:Q=(Q>>3)/64;break}return X[1].v=Q,X}function k(B,Y){var X=z(B),Q=B.read_shift(4),ce=B.read_shift(4),_e=B.read_shift(2);if(_e==65535)return Q===0&&ce===3221225472?(X[1].t="e",X[1].v=15):Q===0&&ce===3489660928?(X[1].t="e",X[1].v=42):X[1].v=0,X;var Pe=_e&32768;return _e=(_e&32767)-16446,X[1].v=(1-Pe*2)*(ce*Math.pow(2,_e+32)+Q*Math.pow(2,_e)),X}function q(B,Y,X,Q){var ce=Ss(14);if(ce.write_shift(2,B),ce.write_shift(1,X),ce.write_shift(1,Y),Q==0)return ce.write_shift(4,0),ce.write_shift(4,0),ce.write_shift(2,65535),ce;var _e=0,Pe=0,Z=0,Ce=0;return Q<0&&(_e=1,Q=-Q),Pe=Math.log2(Q)|0,Q/=Math.pow(2,Pe-31),Ce=Q>>>0,(Ce&2147483648)==0&&(Q/=2,++Pe,Ce=Q>>>0),Q-=Ce,Ce|=2147483648,Ce>>>=0,Q*=Math.pow(2,32),Z=Q>>>0,ce.write_shift(4,Z),ce.write_shift(4,Ce),Pe+=16383+(_e?32768:0),ce.write_shift(2,Pe),ce}function P(B,Y){var X=k(B);return B.l+=Y-14,X}function M(B,Y){var X=z(B),Q=B.read_shift(4);return X[1].v=Q>>6,X}function j(B,Y){var X=z(B),Q=B.read_shift(8,"f");return X[1].v=Q,X}function ae(B,Y){var X=j(B);return B.l+=Y-10,X}function Ae(B,Y){return B[B.l+Y-1]==0?B.read_shift(Y,"cstr"):""}function fe(B,Y){var X=B[B.l++];X>Y-1&&(X=Y-1);for(var Q="";Q.length<X;)Q+=String.fromCharCode(B[B.l++]);return Q}function xe(B,Y,X){if(!(!X.qpro||Y<21)){var Q=B.read_shift(1);B.l+=17,B.l+=1,B.l+=2;var ce=B.read_shift(Y-21,"cstr");return[Q,ce]}}function Ne(B,Y){for(var X={},Q=B.l+Y;B.l<Q;){var ce=B.read_shift(2);if(ce==14e3){for(X[ce]=[0,""],X[ce][0]=B.read_shift(2);B[B.l];)X[ce][1]+=String.fromCharCode(B[B.l]),B.l++;B.l++}}return X}function me(B,Y){var X=Ss(5+B.length);X.write_shift(2,14e3),X.write_shift(2,Y);for(var Q=0;Q<B.length;++Q){var ce=B.charCodeAt(Q);X[X.l++]=ce>127?95:ce}return X[X.l++]=0,X}var Re={0:{n:"BOF",f:us},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:g},14:{n:"NUMBER",f:E},15:{n:"LABEL",f:d},16:{n:"FORMULA",f:A},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:d},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:Ae},222:{n:"SHEETNAMELP",f:fe},65535:{n:""}},re={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:W},23:{n:"NUMBER17",f:k},24:{n:"NUMBER18",f:L},25:{n:"FORMULA19",f:P},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:Ne},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:M},38:{n:"??"},39:{n:"NUMBER27",f:j},40:{n:"FORMULA28",f:ae},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:Ae},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:xe},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:r,book_to_wk3:i,to_workbook:e}})();function m0e(t){var e={},n=t.match(Pa),r=0,i=!1;if(n)for(;r!=n.length;++r){var s=Pn(n[r]);switch(s[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!s.val)break;case"<shadow>":case"<shadow/>":e.shadow=1;break;case"</shadow>":break;case"<charset":if(s.val=="1")break;e.cp=TS[parseInt(s.val,10)];break;case"<outline":if(!s.val)break;case"<outline>":case"<outline/>":e.outline=1;break;case"</outline>":break;case"<rFont":e.name=s.val;break;case"<sz":e.sz=s.val;break;case"<strike":if(!s.val)break;case"<strike>":case"<strike/>":e.strike=1;break;case"</strike>":break;case"<u":if(!s.val)break;switch(s.val){case"double":e.uval="double";break;case"singleAccounting":e.uval="single-accounting";break;case"doubleAccounting":e.uval="double-accounting";break}case"<u>":case"<u/>":e.u=1;break;case"</u>":break;case"<b":if(s.val=="0")break;case"<b>":case"<b/>":e.b=1;break;case"</b>":break;case"<i":if(s.val=="0")break;case"<i>":case"<i/>":e.i=1;break;case"</i>":break;case"<color":s.rgb&&(e.color=s.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":e.family=s.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":e.valign=s.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(s[0].charCodeAt(1)!==47&&!i)throw new Error("Unrecognized rich format "+s[0])}}return e}var g0e=(function(){var t=o1("t"),e=o1("rPr");function n(s){var a=s.match(t);if(!a)return{t:"s",v:""};var o={t:"s",v:Sr(a[1])},c=s.match(e);return c&&(o.s=m0e(c[1])),o}var r=/<(?:\w+:)?r>/g,i=/<\/(?:\w+:)?r>/;return function(a){return a.replace(r,"").split(i).map(n).filter(function(o){return o.v})}})(),x0e=(function(){var e=/(\r\n|\n)/g;function n(i,s,a){var o=[];i.u&&o.push("text-decoration: underline;"),i.uval&&o.push("text-underline-style:"+i.uval+";"),i.sz&&o.push("font-size:"+i.sz+"pt;"),i.outline&&o.push("text-effect: outline;"),i.shadow&&o.push("text-shadow: auto;"),s.push('<span style="'+o.join("")+'">'),i.b&&(s.push("<b>"),a.push("</b>")),i.i&&(s.push("<i>"),a.push("</i>")),i.strike&&(s.push("<s>"),a.push("</s>"));var c=i.valign||"";return c=="superscript"||c=="super"?c="sup":c=="subscript"&&(c="sub"),c!=""&&(s.push("<"+c+">"),a.push("</"+c+">")),a.push("</span>"),i}function r(i){var s=[[],i.v,[]];return i.v?(i.s&&n(i.s,s[0],s[2]),s[0].join("")+s[1].replace(e,"<br/>")+s[2].join("")):""}return function(s){return s.map(r).join("")}})(),y0e=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,v0e=/<(?:\w+:)?r>/,b0e=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function US(t,e){var n=e?e.cellHTML:!0,r={};return t?(t.match(/^\s*<(?:\w+:)?t[^>]*>/)?(r.t=Sr(ai(t.slice(t.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),r.r=ai(t),n&&(r.h=kS(r.t))):t.match(v0e)&&(r.r=ai(t),r.t=Sr(ai((t.replace(b0e,"").match(y0e)||[]).join("").replace(Pa,""))),n&&(r.h=x0e(g0e(r.r)))),r):{t:""}}var _0e=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,w0e=/<(?:\w+:)?(?:si|sstItem)>/g,T0e=/<\/(?:\w+:)?(?:si|sstItem)>/;function E0e(t,e){var n=[],r="";if(!t)return n;var i=t.match(_0e);if(i){r=i[2].replace(w0e,"").split(T0e);for(var s=0;s!=r.length;++s){var a=US(r[s].trim(),e);a!=null&&(n[n.length]=a)}i=Pn(i[1]),n.Count=i.count,n.Unique=i.uniqueCount}return n}function S0e(t){return[t.read_shift(4),t.read_shift(4)]}function A0e(t,e){var n=[],r=!1;return $u(t,function(s,a,o){switch(o){case 159:n.Count=s[0],n.Unique=s[1];break;case 19:n.push(s);break;case 160:return!0;case 35:r=!0;break;case 36:r=!1;break;default:if(a.T,!r||e.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}}),n}function lB(t){for(var e=[],n=t.split(""),r=0;r<n.length;++r)e[r]=n[r].charCodeAt(0);return e}function Pu(t,e){var n={};return n.Major=t.read_shift(2),n.Minor=t.read_shift(2),e>=4&&(t.l+=e-4),n}function N0e(t){var e={};return e.id=t.read_shift(0,"lpp4"),e.R=Pu(t,4),e.U=Pu(t,4),e.W=Pu(t,4),e}function C0e(t){for(var e=t.read_shift(4),n=t.l+e-4,r={},i=t.read_shift(4),s=[];i-- >0;)s.push({t:t.read_shift(4),v:t.read_shift(0,"lpp4")});if(r.name=t.read_shift(0,"lpp4"),r.comps=s,t.l!=n)throw new Error("Bad DataSpaceMapEntry: "+t.l+" != "+n);return r}function I0e(t){var e=[];t.l+=4;for(var n=t.read_shift(4);n-- >0;)e.push(C0e(t));return e}function k0e(t){var e=[];t.l+=4;for(var n=t.read_shift(4);n-- >0;)e.push(t.read_shift(0,"lpp4"));return e}function R0e(t){var e={};return t.read_shift(4),t.l+=4,e.id=t.read_shift(0,"lpp4"),e.name=t.read_shift(0,"lpp4"),e.R=Pu(t,4),e.U=Pu(t,4),e.W=Pu(t,4),e}function P0e(t){var e=R0e(t);if(e.ename=t.read_shift(0,"8lpp4"),e.blksz=t.read_shift(4),e.cmode=t.read_shift(4),t.read_shift(4)!=4)throw new Error("Bad !Primary record");return e}function cB(t,e){var n=t.l+e,r={};r.Flags=t.read_shift(4)&63,t.l+=4,r.AlgID=t.read_shift(4);var i=!1;switch(r.AlgID){case 26126:case 26127:case 26128:i=r.Flags==36;break;case 26625:i=r.Flags==4;break;case 0:i=r.Flags==16||r.Flags==4||r.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+r.AlgID}if(!i)throw new Error("Encryption Flags/AlgID mismatch");return r.AlgIDHash=t.read_shift(4),r.KeySize=t.read_shift(4),r.ProviderType=t.read_shift(4),t.l+=8,r.CSPName=t.read_shift(n-t.l>>1,"utf16le"),t.l=n,r}function uB(t,e){var n={},r=t.l+e;return t.l+=4,n.Salt=t.slice(t.l,t.l+16),t.l+=16,n.Verifier=t.slice(t.l,t.l+16),t.l+=16,t.read_shift(4),n.VerifierHash=t.slice(t.l,r),t.l=r,n}function D0e(t){var e=Pu(t);switch(e.Minor){case 2:return[e.Minor,M0e(t)];case 3:return[e.Minor,L0e()];case 4:return[e.Minor,F0e(t)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+e.Minor)}function M0e(t){var e=t.read_shift(4);if((e&63)!=36)throw new Error("EncryptionInfo mismatch");var n=t.read_shift(4),r=cB(t,n),i=uB(t,t.length-t.l);return{t:"Std",h:r,v:i}}function L0e(){throw new Error("File is password-protected: ECMA-376 Extensible")}function F0e(t){var e=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];t.l+=4;var n=t.read_shift(t.length-t.l,"utf8"),r={};return n.replace(Pa,function(s){var a=Pn(s);switch(Gc(a[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":e.forEach(function(o){r[o]=a[o]});break;case"<dataIntegrity":r.encryptedHmacKey=a.encryptedHmacKey,r.encryptedHmacValue=a.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":r.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":r.uri=a.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":r.encs.push(a);break;default:throw a[0]}}),r}function O0e(t,e){var n={},r=n.EncryptionVersionInfo=Pu(t,4);if(e-=4,r.Minor!=2)throw new Error("unrecognized minor version code: "+r.Minor);if(r.Major>4||r.Major<2)throw new Error("unrecognized major version code: "+r.Major);n.Flags=t.read_shift(4),e-=4;var i=t.read_shift(4);return e-=4,n.EncryptionHeader=cB(t,i),e-=i,n.EncryptionVerifier=uB(t,e),n}function B0e(t){var e={},n=e.EncryptionVersionInfo=Pu(t,4);if(n.Major!=1||n.Minor!=1)throw"unrecognized version code "+n.Major+" : "+n.Minor;return e.Salt=t.read_shift(16),e.EncryptedVerifier=t.read_shift(16),e.EncryptedVerifierHash=t.read_shift(16),e}function V0e(t){var e=0,n,r=lB(t),i=r.length+1,s,a,o,c,f;for(n=id(i),n[0]=r.length,s=1;s!=i;++s)n[s]=r[s-1];for(s=i-1;s>=0;--s)a=n[s],o=(e&16384)===0?0:1,c=e<<1&32767,f=o|c,e=f^a;return e^52811}var fB=(function(){var t=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],e=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],n=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],r=function(a){return(a/2|a*128)&255},i=function(a,o){return r(a^o)},s=function(a){for(var o=e[a.length-1],c=104,f=a.length-1;f>=0;--f)for(var d=a[f],m=0;m!=7;++m)d&64&&(o^=n[c]),d*=2,--c;return o};return function(a){for(var o=lB(a),c=s(o),f=o.length,d=id(16),m=0;m!=16;++m)d[m]=0;var g,y,E;for((f&1)===1&&(g=c>>8,d[f]=i(t[0],g),--f,g=c&255,y=o[o.length-1],d[f]=i(y,g));f>0;)--f,g=c>>8,d[f]=i(o[f],g),--f,g=c&255,d[f]=i(o[f],g);for(f=15,E=15-o.length;E>0;)g=c>>8,d[f]=i(t[E],g),--f,--E,g=c&255,d[f]=i(o[f],g),--f,--E;return d}})(),U0e=function(t,e,n,r,i){i||(i=e),r||(r=fB(t));var s,a;for(s=0;s!=e.length;++s)a=e[s],a^=r[n],a=(a>>5|a<<3)&255,i[s]=a,++n;return[i,n,r]},j0e=function(t){var e=0,n=fB(t);return function(r){var i=U0e("",r,e,n);return e=i[1],i[0]}};function q0e(t,e,n,r){var i={key:us(t),verificationBytes:us(t)};return n.password&&(i.verifier=V0e(n.password)),r.valid=i.verificationBytes===i.verifier,r.valid&&(r.insitu=j0e(n.password)),i}function H0e(t,e,n){var r=n||{};return r.Info=t.read_shift(2),t.l-=2,r.Info===1?r.Data=B0e(t):r.Data=O0e(t,e),r}function z0e(t,e,n){var r={Type:n.biff>=8?t.read_shift(2):0};return r.Type?H0e(t,e-2,r):q0e(t,n.biff>=8?e:e-2,n,r),r}var G0e=(function(){function t(i,s){switch(s.type){case"base64":return e(qo(i),s);case"binary":return e(i,s);case"buffer":return e(hr&&Buffer.isBuffer(i)?i.toString("binary"):Lh(i),s);case"array":return e(_h(i),s)}throw new Error("Unrecognized type "+s.type)}function e(i,s){var a=s||{},o=a.dense?[]:{},c=i.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var f={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(d,m){Array.isArray(o)&&(o[m]=[]);for(var g=/\\\w+\b/g,y=0,E,_=-1;E=g.exec(d);){switch(E[0]){case"\\cell":var A=d.slice(y,g.lastIndex-E[0].length);if(A[0]==" "&&(A=A.slice(1)),++_,A.length){var C={v:A,t:"s"};Array.isArray(o)?o[m][_]=C:o[jn({r:m,c:_})]=C}break}y=g.lastIndex}_>f.e.c&&(f.e.c=_)}),o["!ref"]=_r(f),o}function n(i,s){return dd(t(i,s),s)}function r(i){for(var s=["{\\rtf1\\ansi"],a=zi(i["!ref"]),o,c=Array.isArray(i),f=a.s.r;f<=a.e.r;++f){s.push("\\trowd\\trautofit1");for(var d=a.s.c;d<=a.e.c;++d)s.push("\\cellx"+(d+1));for(s.push("\\pard\\intbl"),d=a.s.c;d<=a.e.c;++d){var m=jn({r:f,c:d});o=c?(i[f]||[])[d]:i[m],!(!o||o.v==null&&(!o.f||o.F))&&(s.push(" "+(o.w||(ju(o),o.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:n,to_sheet:t,from_sheet:r}})();function W0e(t){var e=t.slice(t[0]==="#"?1:0).slice(0,6);return[parseInt(e.slice(0,2),16),parseInt(e.slice(2,4),16),parseInt(e.slice(4,6),16)]}function u1(t){for(var e=0,n=1;e!=3;++e)n=n*256+(t[e]>255?255:t[e]<0?0:t[e]);return n.toString(16).toUpperCase().slice(1)}function $0e(t){var e=t[0]/255,n=t[1]/255,r=t[2]/255,i=Math.max(e,n,r),s=Math.min(e,n,r),a=i-s;if(a===0)return[0,0,e];var o=0,c=0,f=i+s;switch(c=a/(f>1?2-f:f),i){case e:o=((n-r)/a+6)%6;break;case n:o=(r-e)/a+2;break;case r:o=(e-n)/a+4;break}return[o/6,c,f/2]}function K0e(t){var e=t[0],n=t[1],r=t[2],i=n*2*(r<.5?r:1-r),s=r-i/2,a=[s,s,s],o=6*e,c;if(n!==0)switch(o|0){case 0:case 6:c=i*o,a[0]+=i,a[1]+=c;break;case 1:c=i*(2-o),a[0]+=c,a[1]+=i;break;case 2:c=i*(o-2),a[1]+=i,a[2]+=c;break;case 3:c=i*(4-o),a[1]+=c,a[2]+=i;break;case 4:c=i*(o-4),a[2]+=i,a[0]+=c;break;case 5:c=i*(6-o),a[2]+=c,a[0]+=i;break}for(var f=0;f!=3;++f)a[f]=Math.round(a[f]*255);return a}function j2(t,e){if(e===0)return t;var n=$0e(W0e(t));return e<0?n[2]=n[2]*(1+e):n[2]=1-(1-n[2])*(1-e),u1(K0e(n))}var dB=6,Y0e=15,X0e=1,qa=dB;function q2(t){return Math.floor((t+Math.round(128/qa)/256)*qa)}function H2(t){return Math.floor((t-5)/qa*100+.5)/100}function hT(t){return Math.round((t*qa+5)/qa*256)/256}function Cw(t){return hT(H2(q2(t)))}function jS(t){var e=Math.abs(t-Cw(t)),n=qa;if(e>.005)for(qa=X0e;qa<Y0e;++qa)Math.abs(t-Cw(t))<=e&&(e=Math.abs(t-Cw(t)),n=qa);qa=n}function Op(t){t.width?(t.wpx=q2(t.width),t.wch=H2(t.wpx),t.MDW=qa):t.wpx?(t.wch=H2(t.wpx),t.width=hT(t.wch),t.MDW=qa):typeof t.wch=="number"&&(t.width=hT(t.wch),t.wpx=q2(t.width),t.MDW=qa),t.customWidth&&delete t.customWidth}var J0e=96,hB=J0e;function pB(t){return t*96/hB}function f1(t){return t*hB/96}var Q0e={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function Z0e(t,e,n,r){e.Borders=[];var i={},s=!1;(t[0].match(Pa)||[]).forEach(function(a){var o=Pn(a);switch(Gc(o[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":i={},o.diagonalUp&&(i.diagonalUp=Ti(o.diagonalUp)),o.diagonalDown&&(i.diagonalDown=Ti(o.diagonalDown)),e.Borders.push(i);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+o[0]+" in borders")}})}function epe(t,e,n,r){e.Fills=[];var i={},s=!1;(t[0].match(Pa)||[]).forEach(function(a){var o=Pn(a);switch(Gc(o[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":i={},e.Fills.push(i);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":e.Fills.push(i),i={};break;case"<patternFill":case"<patternFill>":o.patternType&&(i.patternType=o.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":i.bgColor||(i.bgColor={}),o.indexed&&(i.bgColor.indexed=parseInt(o.indexed,10)),o.theme&&(i.bgColor.theme=parseInt(o.theme,10)),o.tint&&(i.bgColor.tint=parseFloat(o.tint)),o.rgb&&(i.bgColor.rgb=o.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":i.fgColor||(i.fgColor={}),o.theme&&(i.fgColor.theme=parseInt(o.theme,10)),o.tint&&(i.fgColor.tint=parseFloat(o.tint)),o.rgb!=null&&(i.fgColor.rgb=o.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+o[0]+" in fills")}})}function tpe(t,e,n,r){e.Fonts=[];var i={},s=!1;(t[0].match(Pa)||[]).forEach(function(a){var o=Pn(a);switch(Gc(o[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":e.Fonts.push(i),i={};break;case"<name":o.val&&(i.name=ai(o.val));break;case"<name/>":case"</name>":break;case"<b":i.bold=o.val?Ti(o.val):1;break;case"<b/>":i.bold=1;break;case"<i":i.italic=o.val?Ti(o.val):1;break;case"<i/>":i.italic=1;break;case"<u":switch(o.val){case"none":i.underline=0;break;case"single":i.underline=1;break;case"double":i.underline=2;break;case"singleAccounting":i.underline=33;break;case"doubleAccounting":i.underline=34;break}break;case"<u/>":i.underline=1;break;case"<strike":i.strike=o.val?Ti(o.val):1;break;case"<strike/>":i.strike=1;break;case"<outline":i.outline=o.val?Ti(o.val):1;break;case"<outline/>":i.outline=1;break;case"<shadow":i.shadow=o.val?Ti(o.val):1;break;case"<shadow/>":i.shadow=1;break;case"<condense":i.condense=o.val?Ti(o.val):1;break;case"<condense/>":i.condense=1;break;case"<extend":i.extend=o.val?Ti(o.val):1;break;case"<extend/>":i.extend=1;break;case"<sz":o.val&&(i.sz=+o.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":o.val&&(i.vertAlign=o.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":o.val&&(i.family=parseInt(o.val,10));break;case"<family/>":case"</family>":break;case"<scheme":o.val&&(i.scheme=o.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(o.val=="1")break;o.codepage=TS[parseInt(o.val,10)];break;case"<color":if(i.color||(i.color={}),o.auto&&(i.color.auto=Ti(o.auto)),o.rgb)i.color.rgb=o.rgb.slice(-6);else if(o.indexed){i.color.index=parseInt(o.indexed,10);var c=rh[i.color.index];i.color.index==81&&(c=rh[1]),c||(c=rh[1]),i.color.rgb=c[0].toString(16)+c[1].toString(16)+c[2].toString(16)}else o.theme&&(i.color.theme=parseInt(o.theme,10),o.tint&&(i.color.tint=parseFloat(o.tint)),o.theme&&n.themeElements&&n.themeElements.clrScheme&&(i.color.rgb=j2(n.themeElements.clrScheme[i.color.theme].rgb,i.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":s=!0;break;case"</AlternateContent>":s=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+o[0]+" in fonts")}})}function npe(t,e,n){e.NumberFmt=[];for(var r=Hc(Wn),i=0;i<r.length;++i)e.NumberFmt[r[i]]=Wn[r[i]];var s=t[0].match(Pa);if(s)for(i=0;i<s.length;++i){var a=Pn(s[i]);switch(Gc(a[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var o=Sr(ai(a.formatCode)),c=parseInt(a.numFmtId,10);if(e.NumberFmt[c]=o,c>0){if(c>392){for(c=392;c>60&&e.NumberFmt[c]!=null;--c);e.NumberFmt[c]=o}nh(o,c)}}break;case"</numFmt>":break;default:if(n.WTF)throw new Error("unrecognized "+a[0]+" in numFmts")}}}var uy=["numFmtId","fillId","fontId","borderId","xfId"],fy=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function rpe(t,e,n){e.CellXf=[];var r,i=!1;(t[0].match(Pa)||[]).forEach(function(s){var a=Pn(s),o=0;switch(Gc(a[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(r=a,delete r[0],o=0;o<uy.length;++o)r[uy[o]]&&(r[uy[o]]=parseInt(r[uy[o]],10));for(o=0;o<fy.length;++o)r[fy[o]]&&(r[fy[o]]=Ti(r[fy[o]]));if(e.NumberFmt&&r.numFmtId>392){for(o=392;o>60;--o)if(e.NumberFmt[r.numFmtId]==e.NumberFmt[o]){r.numFmtId=o;break}}e.CellXf.push(r);break;case"</xf>":break;case"<alignment":case"<alignment/>":var c={};a.vertical&&(c.vertical=a.vertical),a.horizontal&&(c.horizontal=a.horizontal),a.textRotation!=null&&(c.textRotation=a.textRotation),a.indent&&(c.indent=a.indent),a.wrapText&&(c.wrapText=Ti(a.wrapText)),r.alignment=c;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+a[0]+" in cellXfs")}})}var ipe=(function(){var e=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,n=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,r=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,i=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,s=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(o,c,f){var d={};if(!o)return d;o=o.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var m;return(m=o.match(e))&&npe(m,d,f),(m=o.match(i))&&tpe(m,d,c,f),(m=o.match(r))&&epe(m,d,c,f),(m=o.match(s))&&Z0e(m,d,c,f),(m=o.match(n))&&rpe(m,d,f),d}})();function spe(t,e){var n=t.read_shift(2),r=ka(t);return[n,r]}function ape(t,e,n){var r={};r.sz=t.read_shift(2)/20;var i=gde(t);i.fItalic&&(r.italic=1),i.fCondense&&(r.condense=1),i.fExtend&&(r.extend=1),i.fShadow&&(r.shadow=1),i.fOutline&&(r.outline=1),i.fStrikeout&&(r.strike=1);var s=t.read_shift(2);switch(s===700&&(r.bold=1),t.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript";break}var a=t.read_shift(1);a!=0&&(r.underline=a);var o=t.read_shift(1);o>0&&(r.family=o);var c=t.read_shift(1);switch(c>0&&(r.charset=c),t.l++,r.color=mde(t),t.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor";break}return r.name=ka(t),r}var ope=Ra;function lpe(t,e){var n=t.l+e,r=t.read_shift(2),i=t.read_shift(2);return t.l=n,{ixfe:r,numFmtId:i}}var cpe=Ra;function upe(t,e,n){var r={};r.NumberFmt=[];for(var i in Wn)r.NumberFmt[i]=Wn[i];r.CellXf=[],r.Fonts=[];var s=[],a=!1;return $u(t,function(c,f,d){switch(d){case 44:r.NumberFmt[c[0]]=c[1],nh(c[1],c[0]);break;case 43:r.Fonts.push(c),c.color.theme!=null&&e&&e.themeElements&&e.themeElements.clrScheme&&(c.color.rgb=j2(e.themeElements.clrScheme[c.color.theme].rgb,c.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:s[s.length-1]==617&&r.CellXf.push(c);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:a=!0;break;case 36:a=!1;break;case 37:s.push(d),a=!0;break;case 38:s.pop(),a=!1;break;default:if(f.T>0)s.push(d);else if(f.T<0)s.pop();else if(!a||n.WTF&&s[s.length-1]!=37)throw new Error("Unexpected record 0x"+d.toString(16))}}),r}var fpe=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function dpe(t,e,n){e.themeElements.clrScheme=[];var r={};(t[0].match(Pa)||[]).forEach(function(i){var s=Pn(i);switch(s[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":r.rgb=s.val;break;case"<a:sysClr":r.rgb=s.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":s[0].charAt(1)==="/"?(e.themeElements.clrScheme[fpe.indexOf(s[0])]=r,r={}):r.name=s[0].slice(3,s[0].length-1);break;default:if(n&&n.WTF)throw new Error("Unrecognized "+s[0]+" in clrScheme")}})}function hpe(){}function ppe(){}var mpe=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,gpe=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,xpe=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function ype(t,e,n){e.themeElements={};var r;[["clrScheme",mpe,dpe],["fontScheme",gpe,hpe],["fmtScheme",xpe,ppe]].forEach(function(i){if(!(r=t.match(i[1])))throw new Error(i[0]+" not found in themeElements");i[2](r,e,n)})}var vpe=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function mB(t,e){(!t||t.length===0)&&(t=bpe());var n,r={};if(!(n=t.match(vpe)))throw new Error("themeElements not found in theme");return ype(n[0],r,e),r.raw=t,r}function bpe(t,e){var n=[A9];return n[n.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',n[n.length]="<a:themeElements>",n[n.length]='<a:clrScheme name="Office">',n[n.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',n[n.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',n[n.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',n[n.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',n[n.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',n[n.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',n[n.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',n[n.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',n[n.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',n[n.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',n[n.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',n[n.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',n[n.length]="</a:clrScheme>",n[n.length]='<a:fontScheme name="Office">',n[n.length]="<a:majorFont>",n[n.length]='<a:latin typeface="Cambria"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Times New Roman"/>',n[n.length]='<a:font script="Hebr" typeface="Times New Roman"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="MoolBoran"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Times New Roman"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:majorFont>",n[n.length]="<a:minorFont>",n[n.length]='<a:latin typeface="Calibri"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Arial"/>',n[n.length]='<a:font script="Hebr" typeface="Arial"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="DaunPenh"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Arial"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:minorFont>",n[n.length]="</a:fontScheme>",n[n.length]='<a:fmtScheme name="Office">',n[n.length]="<a:fillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="1"/>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="0"/>',n[n.length]="</a:gradFill>",n[n.length]="</a:fillStyleLst>",n[n.length]="<a:lnStyleLst>",n[n.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]="</a:lnStyleLst>",n[n.length]="<a:effectStyleLst>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',n[n.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',n[n.length]="</a:effectStyle>",n[n.length]="</a:effectStyleLst>",n[n.length]="<a:bgFillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]="</a:bgFillStyleLst>",n[n.length]="</a:fmtScheme>",n[n.length]="</a:themeElements>",n[n.length]="<a:objectDefaults>",n[n.length]="<a:spDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',n[n.length]="</a:spDef>",n[n.length]="<a:lnDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',n[n.length]="</a:lnDef>",n[n.length]="</a:objectDefaults>",n[n.length]="<a:extraClrSchemeLst/>",n[n.length]="</a:theme>",n.join("")}function _pe(t,e,n){var r=t.l+e,i=t.read_shift(4);if(i!==124226){if(!n.cellStyles){t.l=r;return}var s=t.slice(t.l);t.l=r;var a;try{a=S9(s,{type:"array"})}catch{return}var o=Bo(a,"theme/theme/theme1.xml",!0);if(o)return mB(o,n)}}function wpe(t){return t.read_shift(4)}function Tpe(t){var e={};switch(e.xclrType=t.read_shift(2),e.nTintShade=t.read_shift(2),e.xclrType){case 0:t.l+=4;break;case 1:e.xclrValue=Epe(t,4);break;case 2:e.xclrValue=tB(t);break;case 3:e.xclrValue=wpe(t);break;case 4:t.l+=4;break}return t.l+=8,e}function Epe(t,e){return Ra(t,e)}function Spe(t,e){return Ra(t,e)}function Ape(t){var e=t.read_shift(2),n=t.read_shift(2)-4,r=[e];switch(e){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:r[1]=Tpe(t);break;case 6:r[1]=Spe(t,n);break;case 14:case 15:r[1]=t.read_shift(n===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+e+" "+n)}return r}function Npe(t,e){var n=t.l+e;t.l+=2;var r=t.read_shift(2);t.l+=2;for(var i=t.read_shift(2),s=[];i-- >0;)s.push(Ape(t,n-t.l));return{ixfe:r,ext:s}}function Cpe(t,e){e.forEach(function(n){n[0]})}function Ipe(t,e){return{flags:t.read_shift(4),version:t.read_shift(4),name:ka(t)}}function kpe(t){for(var e=[],n=t.read_shift(4);n-- >0;)e.push([t.read_shift(4),t.read_shift(4)]);return e}function Rpe(t){return t.l+=4,t.read_shift(4)!=0}function Ppe(t,e,n){var r={Types:[],Cell:[],Value:[]},i=n||{},s=[],a=!1,o=2;return $u(t,function(c,f,d){switch(d){case 335:r.Types.push({name:c.name});break;case 51:c.forEach(function(m){o==1?r.Cell.push({type:r.Types[m[0]-1].name,index:m[1]}):o==0&&r.Value.push({type:r.Types[m[0]-1].name,index:m[1]})});break;case 337:o=c?1:0;break;case 338:o=2;break;case 35:s.push(d),a=!0;break;case 36:s.pop(),a=!1;break;default:if(!f.T){if(!a||i.WTF&&s[s.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}}),r}function Dpe(t,e,n){var r={Types:[],Cell:[],Value:[]};if(!t)return r;var i=!1,s=2,a;return t.replace(Pa,function(o){var c=Pn(o);switch(Gc(c[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":r.Types.push({name:c.name});break;case"</metadataType>":break;case"<futureMetadata":for(var f=0;f<r.Types.length;++f)r.Types[f].name==c.name&&(a=r.Types[f]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":s==1?r.Cell.push({type:r.Types[c.t-1].name,index:+c.v}):s==0&&r.Value.push({type:r.Types[c.t-1].name,index:+c.v});break;case"</rc>":break;case"<cellMetadata":s=1;break;case"</cellMetadata>":s=2;break;case"<valueMetadata":s=0;break;case"</valueMetadata>":s=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;case"<rvb":if(!a)break;a.offsets||(a.offsets=[]),a.offsets.push(+c.i);break;default:if(!i&&n.WTF)throw new Error("unrecognized "+c[0]+" in metadata")}return o}),r}function Mpe(t){var e=[];if(!t)return e;var n=1;return(t.match(Pa)||[]).forEach(function(r){var i=Pn(r);switch(i[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete i[0],i.i?n=i.i:i.i=n,e.push(i);break}}),e}function Lpe(t){var e={};e.i=t.read_shift(4);var n={};n.r=t.read_shift(4),n.c=t.read_shift(4),e.r=jn(n);var r=t.read_shift(1);return r&2&&(e.l="1"),r&8&&(e.a="1"),e}function Fpe(t,e,n){var r=[];return $u(t,function(s,a,o){switch(o){case 63:r.push(s);break;default:if(!a.T)throw new Error("Unexpected record 0x"+o.toString(16))}}),r}function Ope(t,e,n,r){if(!t)return t;var i=r||{},s=!1;$u(t,function(o,c,f){switch(f){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:s=!0;break;case 36:s=!1;break;default:if(!c.T){if(!s||i.WTF)throw new Error("Unexpected record 0x"+f.toString(16))}}},i)}function Bpe(t,e){if(!t)return"??";var n=(t.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return e["!id"][n].Target}function ZP(t,e,n,r){var i=Array.isArray(t),s;e.forEach(function(a){var o=Ga(a.ref);if(i?(t[o.r]||(t[o.r]=[]),s=t[o.r][o.c]):s=t[a.ref],!s){s={t:"z"},i?t[o.r][o.c]=s:t[a.ref]=s;var c=zi(t["!ref"]||"BDWGO1000001:A1");c.s.r>o.r&&(c.s.r=o.r),c.e.r<o.r&&(c.e.r=o.r),c.s.c>o.c&&(c.s.c=o.c),c.e.c<o.c&&(c.e.c=o.c);var f=_r(c);f!==t["!ref"]&&(t["!ref"]=f)}s.c||(s.c=[]);var d={a:a.author,t:a.t,r:a.r,T:n};a.h&&(d.h=a.h);for(var m=s.c.length-1;m>=0;--m){if(!n&&s.c[m].T)return;n&&!s.c[m].T&&s.c.splice(m,1)}if(n&&r){for(m=0;m<r.length;++m)if(d.a==r[m].id){d.a=r[m].name||d.a;break}}s.c.push(d)})}function Vpe(t,e){if(t.match(/<(?:\w+:)?comments *\/>/))return[];var n=[],r=[],i=t.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);i&&i[1]&&i[1].split(/<\/\w*:?author>/).forEach(function(a){if(!(a===""||a.trim()==="")){var o=a.match(/<(?:\w+:)?author[^>]*>(.*)/);o&&n.push(o[1])}});var s=t.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return s&&s[1]&&s[1].split(/<\/\w*:?comment>/).forEach(function(a){if(!(a===""||a.trim()==="")){var o=a.match(/<(?:\w+:)?comment[^>]*>/);if(o){var c=Pn(o[0]),f={author:c.authorId&&n[c.authorId]||"sheetjsghost",ref:c.ref,guid:c.guid},d=Ga(c.ref);if(!(e.sheetRows&&e.sheetRows<=d.r)){var m=a.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),g=!!m&&!!m[1]&&US(m[1])||{r:"",t:"",h:""};f.r=g.r,g.r=="<t></t>"&&(g.t=g.h=""),f.t=(g.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.cellHTML&&(f.h=g.h),r.push(f)}}}}),r}function Upe(t,e){var n=[],r=!1,i={},s=0;return t.replace(Pa,function(o,c){var f=Pn(o);switch(Gc(f[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":i={author:f.personId,guid:f.id,ref:f.ref,T:1};break;case"</threadedComment>":i.t!=null&&n.push(i);break;case"<text>":case"<text":s=c+o.length;break;case"</text>":i.t=t.slice(s,c).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":r=!0;break;case"</mentions>":r=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(!r&&e.WTF)throw new Error("unrecognized "+f[0]+" in threaded comments")}return o}),n}function jpe(t,e){var n=[],r=!1;return t.replace(Pa,function(s){var a=Pn(s);switch(Gc(a[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":n.push({name:a.displayname,id:a.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(!r&&e.WTF)throw new Error("unrecognized "+a[0]+" in threaded comments")}return s}),n}function qpe(t){var e={};e.iauthor=t.read_shift(4);var n=Oh(t);return e.rfx=n.s,e.ref=jn(n.s),t.l+=16,e}var Hpe=ka;function zpe(t,e){var n=[],r=[],i={},s=!1;return $u(t,function(o,c,f){switch(f){case 632:r.push(o);break;case 635:i=o;break;case 637:i.t=o.t,i.h=o.h,i.r=o.r;break;case 636:if(i.author=r[i.iauthor],delete i.iauthor,e.sheetRows&&i.rfx&&e.sheetRows<=i.rfx.r)break;i.t||(i.t=""),delete i.rfx,n.push(i);break;case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!c.T){if(!s||e.WTF)throw new Error("Unexpected record 0x"+f.toString(16))}}}),n}var Gpe="application/vnd.ms-office.vbaProject";function Wpe(t){var e=br.utils.cfb_new({root:"R"});return t.FullPaths.forEach(function(n,r){if(!(n.slice(-1)==="/"||!n.match(/_VBA_PROJECT_CUR/))){var i=n.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");br.utils.cfb_add(e,i,t.FileIndex[r].content)}}),br.write(e)}function $pe(){return{"!type":"dialog"}}function Kpe(){return{"!type":"dialog"}}function Ype(){return{"!type":"macro"}}function Xpe(){return{"!type":"macro"}}var gp=(function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function n(r,i,s,a){var o=!1,c=!1;s.length==0?c=!0:s.charAt(0)=="["&&(c=!0,s=s.slice(1,-1)),a.length==0?o=!0:a.charAt(0)=="["&&(o=!0,a=a.slice(1,-1));var f=s.length>0?parseInt(s,10)|0:0,d=a.length>0?parseInt(a,10)|0:0;return o?d+=e.c:--d,c?f+=e.r:--f,i+(o?"":"$")+Ns(d)+(c?"":"$")+ca(f)}return function(i,s){return e=s,i.replace(t,n)}})(),gB=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,Jpe=(function(){return function(e,n){return e.replace(gB,function(r,i,s,a,o,c){var f=MS(a)-(s?0:n.c),d=DS(c)-(o?0:n.r),m=d==0?"":o?d+1:"["+d+"]",g=f==0?"":s?f+1:"["+f+"]";return i+"R"+m+"C"+g})}})();function xB(t,e){return t.replace(gB,function(n,r,i,s,a,o){return r+(i=="$"?i+s:Ns(MS(s)+e.c))+(a=="$"?a+o:ca(DS(o)+e.r))})}function Qpe(t,e,n){var r=em(e),i=r.s,s=Ga(n),a={r:s.r-i.r,c:s.c-i.c};return xB(t,a)}function Zpe(t){return t.length!=1}function eD(t){return t.replace(/_xlfn\./g,"")}function os(t){t.l+=1}function sd(t,e){var n=t.read_shift(2);return[n&16383,n>>14&1,n>>15&1]}function yB(t,e,n){var r=2;if(n){if(n.biff>=2&&n.biff<=5)return vB(t);n.biff==12&&(r=4)}var i=t.read_shift(r),s=t.read_shift(r),a=sd(t),o=sd(t);return{s:{r:i,c:a[0],cRel:a[1],rRel:a[2]},e:{r:s,c:o[0],cRel:o[1],rRel:o[2]}}}function vB(t){var e=sd(t),n=sd(t),r=t.read_shift(1),i=t.read_shift(1);return{s:{r:e[0],c:r,cRel:e[1],rRel:e[2]},e:{r:n[0],c:i,cRel:n[1],rRel:n[2]}}}function eme(t,e,n){if(n.biff<8)return vB(t);var r=t.read_shift(n.biff==12?4:2),i=t.read_shift(n.biff==12?4:2),s=sd(t),a=sd(t);return{s:{r,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:a[0],cRel:a[1],rRel:a[2]}}}function bB(t,e,n){if(n&&n.biff>=2&&n.biff<=5)return tme(t);var r=t.read_shift(n&&n.biff==12?4:2),i=sd(t);return{r,c:i[0],cRel:i[1],rRel:i[2]}}function tme(t){var e=sd(t),n=t.read_shift(1);return{r:e[0],c:n,cRel:e[1],rRel:e[2]}}function nme(t){var e=t.read_shift(2),n=t.read_shift(2);return{r:e,c:n&255,fQuoted:!!(n&16384),cRel:n>>15,rRel:n>>15}}function rme(t,e,n){var r=n&&n.biff?n.biff:8;if(r>=2&&r<=5)return ime(t);var i=t.read_shift(r>=12?4:2),s=t.read_shift(2),a=(s&16384)>>14,o=(s&32768)>>15;if(s&=16383,o==1)for(;i>524287;)i-=1048576;if(a==1)for(;s>8191;)s=s-16384;return{r:i,c:s,cRel:a,rRel:o}}function ime(t){var e=t.read_shift(2),n=t.read_shift(1),r=(e&32768)>>15,i=(e&16384)>>14;return e&=16383,r==1&&e>=8192&&(e=e-16384),i==1&&n>=128&&(n=n-256),{r:e,c:n,cRel:i,rRel:r}}function sme(t,e,n){var r=(t[t.l++]&96)>>5,i=yB(t,n.biff>=2&&n.biff<=5?6:8,n);return[r,i]}function ame(t,e,n){var r=(t[t.l++]&96)>>5,i=t.read_shift(2,"i"),s=8;if(n)switch(n.biff){case 5:t.l+=12,s=6;break;case 12:s=12;break}var a=yB(t,s,n);return[r,i,a]}function ome(t,e,n){var r=(t[t.l++]&96)>>5;return t.l+=n&&n.biff>8?12:n.biff<8?6:8,[r]}function lme(t,e,n){var r=(t[t.l++]&96)>>5,i=t.read_shift(2),s=8;if(n)switch(n.biff){case 5:t.l+=12,s=6;break;case 12:s=12;break}return t.l+=s,[r,i]}function cme(t,e,n){var r=(t[t.l++]&96)>>5,i=eme(t,e-1,n);return[r,i]}function ume(t,e,n){var r=(t[t.l++]&96)>>5;return t.l+=n.biff==2?6:n.biff==12?14:7,[r]}function tD(t){var e=t[t.l+1]&1,n=1;return t.l+=4,[e,n]}function fme(t,e,n){t.l+=2;for(var r=t.read_shift(n&&n.biff==2?1:2),i=[],s=0;s<=r;++s)i.push(t.read_shift(n&&n.biff==2?1:2));return i}function dme(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=2,[r,t.read_shift(n&&n.biff==2?1:2)]}function hme(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=2,[r,t.read_shift(n&&n.biff==2?1:2)]}function pme(t){var e=t[t.l+1]&255?1:0;return t.l+=2,[e,t.read_shift(2)]}function mme(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=n&&n.biff==2?3:4,[r]}function _B(t){var e=t.read_shift(1),n=t.read_shift(1);return[e,n]}function gme(t){return t.read_shift(2),_B(t)}function xme(t){return t.read_shift(2),_B(t)}function yme(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=bB(t,0,n);return[r,i]}function vme(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=rme(t,0,n);return[r,i]}function bme(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(2);n&&n.biff==5&&(t.l+=12);var s=bB(t,0,n);return[r,i,s]}function _me(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(n&&n.biff<=3?1:2);return[wge[i],EB[i],r]}function wme(t,e,n){var r=t[t.l++],i=t.read_shift(1),s=n&&n.biff<=3?[r==88?-1:0,t.read_shift(1)]:Tme(t);return[i,(s[0]===0?EB:_ge)[s[1]]]}function Tme(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function Eme(t,e,n){t.l+=n&&n.biff==2?3:4}function Sme(t,e,n){if(t.l++,n&&n.biff==12)return[t.read_shift(4,"i"),0];var r=t.read_shift(2),i=t.read_shift(n&&n.biff==2?1:2);return[r,i]}function Ame(t){return t.l++,Bh[t.read_shift(1)]}function Nme(t){return t.l++,t.read_shift(2)}function Cme(t){return t.l++,t.read_shift(1)!==0}function Ime(t){return t.l++,Sa(t)}function kme(t,e,n){return t.l++,F1(t,e-1,n)}function Rme(t,e){var n=[t.read_shift(1)];if(e==12)switch(n[0]){case 2:n[0]=4;break;case 4:n[0]=16;break;case 0:n[0]=1;break;case 1:n[0]=2;break}switch(n[0]){case 4:n[1]=Xi(t,1)?"TRUE":"FALSE",e!=12&&(t.l+=7);break;case 37:case 16:n[1]=Bh[t[t.l]],t.l+=e==12?4:8;break;case 0:t.l+=8;break;case 1:n[1]=Sa(t);break;case 2:n[1]=Vh(t,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+n[0])}return n}function Pme(t,e,n){for(var r=t.read_shift(n.biff==12?4:2),i=[],s=0;s!=r;++s)i.push((n.biff==12?Oh:Mv)(t));return i}function Dme(t,e,n){var r=0,i=0;n.biff==12?(r=t.read_shift(4),i=t.read_shift(4)):(i=1+t.read_shift(1),r=1+t.read_shift(2)),n.biff>=2&&n.biff<8&&(--r,--i==0&&(i=256));for(var s=0,a=[];s!=r&&(a[s]=[]);++s)for(var o=0;o!=i;++o)a[s][o]=Rme(t,n.biff);return a}function Mme(t,e,n){var r=t.read_shift(1)>>>5&3,i=!n||n.biff>=8?4:2,s=t.read_shift(i);switch(n.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[r,0,s]}function Lme(t,e,n){if(n.biff==5)return Fme(t);var r=t.read_shift(1)>>>5&3,i=t.read_shift(2),s=t.read_shift(4);return[r,i,s]}function Fme(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2,"i");t.l+=8;var r=t.read_shift(2);return t.l+=12,[e,n,r]}function Ome(t,e,n){var r=t.read_shift(1)>>>5&3;t.l+=n&&n.biff==2?3:4;var i=t.read_shift(n&&n.biff==2?1:2);return[r,i]}function Bme(t,e,n){var r=t.read_shift(1)>>>5&3,i=t.read_shift(n&&n.biff==2?1:2);return[r,i]}function Vme(t,e,n){var r=t.read_shift(1)>>>5&3;return t.l+=4,n.biff<8&&t.l--,n.biff==12&&(t.l+=2),[r]}function Ume(t,e,n){var r=(t[t.l++]&96)>>5,i=t.read_shift(2),s=4;if(n)switch(n.biff){case 5:s=15;break;case 12:s=6;break}return t.l+=s,[r,i]}var jme=Ra,qme=Ra,Hme=Ra;function B1(t,e,n){return t.l+=2,[nme(t)]}function qS(t){return t.l+=6,[]}var zme=B1,Gme=qS,Wme=qS,$me=B1;function wB(t){return t.l+=2,[us(t),t.read_shift(2)&1]}var Kme=B1,Yme=wB,Xme=qS,Jme=B1,Qme=B1,Zme=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function ege(t){t.l+=2;var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(4),i=t.read_shift(2),s=t.read_shift(2),a=Zme[n>>2&31];return{ixti:e,coltype:n&3,rt:a,idx:r,c:i,C:s}}function tge(t){return t.l+=2,[t.read_shift(4)]}function nge(t,e,n){return t.l+=5,t.l+=2,t.l+=n.biff==2?1:4,["PTGSHEET"]}function rge(t,e,n){return t.l+=n.biff==2?4:5,["PTGENDSHEET"]}function ige(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2);return[e,n]}function sge(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2);return[e,n]}function age(t){return t.l+=4,[0,0]}var nD={1:{n:"PtgExp",f:Sme},2:{n:"PtgTbl",f:Hme},3:{n:"PtgAdd",f:os},4:{n:"PtgSub",f:os},5:{n:"PtgMul",f:os},6:{n:"PtgDiv",f:os},7:{n:"PtgPower",f:os},8:{n:"PtgConcat",f:os},9:{n:"PtgLt",f:os},10:{n:"PtgLe",f:os},11:{n:"PtgEq",f:os},12:{n:"PtgGe",f:os},13:{n:"PtgGt",f:os},14:{n:"PtgNe",f:os},15:{n:"PtgIsect",f:os},16:{n:"PtgUnion",f:os},17:{n:"PtgRange",f:os},18:{n:"PtgUplus",f:os},19:{n:"PtgUminus",f:os},20:{n:"PtgPercent",f:os},21:{n:"PtgParen",f:os},22:{n:"PtgMissArg",f:os},23:{n:"PtgStr",f:kme},26:{n:"PtgSheet",f:nge},27:{n:"PtgEndSheet",f:rge},28:{n:"PtgErr",f:Ame},29:{n:"PtgBool",f:Cme},30:{n:"PtgInt",f:Nme},31:{n:"PtgNum",f:Ime},32:{n:"PtgArray",f:ume},33:{n:"PtgFunc",f:_me},34:{n:"PtgFuncVar",f:wme},35:{n:"PtgName",f:Mme},36:{n:"PtgRef",f:yme},37:{n:"PtgArea",f:sme},38:{n:"PtgMemArea",f:Ome},39:{n:"PtgMemErr",f:jme},40:{n:"PtgMemNoMem",f:qme},41:{n:"PtgMemFunc",f:Bme},42:{n:"PtgRefErr",f:Vme},43:{n:"PtgAreaErr",f:ome},44:{n:"PtgRefN",f:vme},45:{n:"PtgAreaN",f:cme},46:{n:"PtgMemAreaN",f:ige},47:{n:"PtgMemNoMemN",f:sge},57:{n:"PtgNameX",f:Lme},58:{n:"PtgRef3d",f:bme},59:{n:"PtgArea3d",f:ame},60:{n:"PtgRefErr3d",f:Ume},61:{n:"PtgAreaErr3d",f:lme},255:{}},oge={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},lge={1:{n:"PtgElfLel",f:wB},2:{n:"PtgElfRw",f:Jme},3:{n:"PtgElfCol",f:zme},6:{n:"PtgElfRwV",f:Qme},7:{n:"PtgElfColV",f:$me},10:{n:"PtgElfRadical",f:Kme},11:{n:"PtgElfRadicalS",f:Xme},13:{n:"PtgElfColS",f:Gme},15:{n:"PtgElfColSV",f:Wme},16:{n:"PtgElfRadicalLel",f:Yme},25:{n:"PtgList",f:ege},29:{n:"PtgSxName",f:tge},255:{}},cge={0:{n:"PtgAttrNoop",f:age},1:{n:"PtgAttrSemi",f:mme},2:{n:"PtgAttrIf",f:hme},4:{n:"PtgAttrChoose",f:fme},8:{n:"PtgAttrGoto",f:dme},16:{n:"PtgAttrSum",f:Eme},32:{n:"PtgAttrBaxcel",f:tD},33:{n:"PtgAttrBaxcel",f:tD},64:{n:"PtgAttrSpace",f:gme},65:{n:"PtgAttrSpaceSemi",f:xme},128:{n:"PtgAttrIfError",f:pme},255:{}};function V1(t,e,n,r){if(r.biff<8)return Ra(t,e);for(var i=t.l+e,s=[],a=0;a!==n.length;++a)switch(n[a][0]){case"PtgArray":n[a][1]=Dme(t,0,r),s.push(n[a][1]);break;case"PtgMemArea":n[a][2]=Pme(t,n[a][1],r),s.push(n[a][2]);break;case"PtgExp":r&&r.biff==12&&(n[a][1][1]=t.read_shift(4),s.push(n[a][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+n[a][0]}return e=i-t.l,e!==0&&s.push(Ra(t,e)),s}function U1(t,e,n){for(var r=t.l+e,i,s,a=[];r!=t.l;)e=r-t.l,s=t[t.l],i=nD[s]||nD[oge[s]],(s===24||s===25)&&(i=(s===24?lge:cge)[t[t.l+1]]),!i||!i.f?Ra(t,e):a.push([i.n,i.f(t,e,n)]);return a}function uge(t){for(var e=[],n=0;n<t.length;++n){for(var r=t[n],i=[],s=0;s<r.length;++s){var a=r[s];if(a)switch(a[0]){case 2:i.push('"'+a[1].replace(/"/g,'""')+'"');break;default:i.push(a[1])}else i.push("")}e.push(i.join(","))}return e.join(";")}var fge={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function dge(t,e){if(!t&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function TB(t,e,n){if(!t)return"SH33TJSERR0";if(n.biff>8&&(!t.XTI||!t.XTI[e]))return t.SheetNames[e];if(!t.XTI)return"SH33TJSERR6";var r=t.XTI[e];if(n.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":t.XTI[e-1];if(!r)return"SH33TJSERR1";var i="";if(n.biff>8)switch(t[r[0]][0]){case 357:return i=r[1]==-1?"#REF":t.SheetNames[r[1]],r[1]==r[2]?i:i+":"+t.SheetNames[r[2]];case 358:return n.SID!=null?t.SheetNames[n.SID]:"SH33TJSSAME"+t[r[0]][0];case 355:default:return"SH33TJSSRC"+t[r[0]][0]}switch(t[r[0]][0][0]){case 1025:return i=r[1]==-1?"#REF":t.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?i:i+":"+t.SheetNames[r[2]];case 14849:return t[r[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return t[r[0]][0][3]?(i=r[1]==-1?"#REF":t[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?i:i+":"+t[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function rD(t,e,n){var r=TB(t,e,n);return r=="#REF"?r:dge(r,n)}function Ta(t,e,n,r,i){var s=i&&i.biff||8,a={s:{c:0,r:0}},o=[],c,f,d,m=0,g=0,y,E="";if(!t[0]||!t[0][0])return"";for(var _=-1,A="",C=0,V=t[0].length;C<V;++C){var R=t[0][C];switch(R[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=o.pop(),f=o.pop(),_>=0){switch(t[0][_][1][0]){case 0:A=qi(" ",t[0][_][1][1]);break;case 1:A=qi("\r",t[0][_][1][1]);break;default:if(A="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][_][1][0])}f=f+A,_=-1}o.push(f+fge[R[0]]+c);break;case"PtgIsect":c=o.pop(),f=o.pop(),o.push(f+" "+c);break;case"PtgUnion":c=o.pop(),f=o.pop(),o.push(f+","+c);break;case"PtgRange":c=o.pop(),f=o.pop(),o.push(f+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":d=Ng(R[1][1],a,i),o.push(Cg(d,s));break;case"PtgRefN":d=n?Ng(R[1][1],n,i):R[1][1],o.push(Cg(d,s));break;case"PtgRef3d":m=R[1][1],d=Ng(R[1][2],a,i),E=rD(r,m,i),o.push(E+"!"+Cg(d,s));break;case"PtgFunc":case"PtgFuncVar":var F=R[1][0],z=R[1][1];F||(F=0),F&=127;var W=F==0?[]:o.slice(-F);o.length-=F,z==="User"&&(z=W.shift()),o.push(z+"("+W.join(",")+")");break;case"PtgBool":o.push(R[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(R[1]);break;case"PtgNum":o.push(String(R[1]));break;case"PtgStr":o.push('"'+R[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(R[1]);break;case"PtgAreaN":y=OP(R[1][1],n?{s:n}:a,i),o.push(Aw(y,i));break;case"PtgArea":y=OP(R[1][1],a,i),o.push(Aw(y,i));break;case"PtgArea3d":m=R[1][1],y=R[1][2],E=rD(r,m,i),o.push(E+"!"+Aw(y,i));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":g=R[1][2];var D=(r.names||[])[g-1]||(r[0]||[])[g],L=D?D.Name:"SH33TJSNAME"+String(g);L&&L.slice(0,6)=="_xlfn."&&!i.xlfn&&(L=L.slice(6)),o.push(L);break;case"PtgNameX":var k=R[1][1];g=R[1][2];var q;if(i.biff<=5)k<0&&(k=-k),r[k]&&(q=r[k][g]);else{var P="";if(((r[k]||[])[0]||[])[0]==14849||(((r[k]||[])[0]||[])[0]==1025?r[k][g]&&r[k][g].itab>0&&(P=r.SheetNames[r[k][g].itab-1]+"!"):P=r.SheetNames[g-1]+"!"),r[k]&&r[k][g])P+=r[k][g].Name;else if(r[0]&&r[0][g])P+=r[0][g].Name;else{var M=(TB(r,k,i)||"").split(";;");M[g-1]?P=M[g-1]:P+="SH33TJSERRX"}o.push(P);break}q||(q={Name:"SH33TJSERRY"}),o.push(q.Name);break;case"PtgParen":var j="(",ae=")";if(_>=0){switch(A="",t[0][_][1][0]){case 2:j=qi(" ",t[0][_][1][1])+j;break;case 3:j=qi("\r",t[0][_][1][1])+j;break;case 4:ae=qi(" ",t[0][_][1][1])+ae;break;case 5:ae=qi("\r",t[0][_][1][1])+ae;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][_][1][0])}_=-1}o.push(j+o.pop()+ae);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":d={c:R[1][1],r:R[1][0]};var Ae={c:n.c,r:n.r};if(r.sharedf[jn(d)]){var fe=r.sharedf[jn(d)];o.push(Ta(fe,a,Ae,r,i))}else{var xe=!1;for(c=0;c!=r.arrayf.length;++c)if(f=r.arrayf[c],!(d.c<f[0].s.c||d.c>f[0].e.c)&&!(d.r<f[0].s.r||d.r>f[0].e.r)){o.push(Ta(f[1],a,Ae,r,i)),xe=!0;break}xe||o.push(R[1])}break;case"PtgArray":o.push("{"+uge(R[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":_=C;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+R[1].idx+"[#"+R[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(R));default:throw new Error("Unrecognized Formula Token: "+String(R))}var Ne=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&_>=0&&Ne.indexOf(t[0][C][0])==-1){R=t[0][_];var me=!0;switch(R[1][0]){case 4:me=!1;case 0:A=qi(" ",R[1][1]);break;case 5:me=!1;case 1:A=qi("\r",R[1][1]);break;default:if(A="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+R[1][0])}o.push((me?A:"")+o.pop()+(me?"":A)),_=-1}}if(o.length>1&&i.WTF)throw new Error("bad formula stack");return o[0]}function hge(t,e,n){var r=t.l+e,i=n.biff==2?1:2,s,a=t.read_shift(i);if(a==65535)return[[],Ra(t,e-2)];var o=U1(t,a,n);return e!==a+i&&(s=V1(t,e-a-i,o,n)),t.l=r,[o,s]}function pge(t,e,n){var r=t.l+e,i=n.biff==2?1:2,s,a=t.read_shift(i);if(a==65535)return[[],Ra(t,e-2)];var o=U1(t,a,n);return e!==a+i&&(s=V1(t,e-a-i,o,n)),t.l=r,[o,s]}function mge(t,e,n,r){var i=t.l+e,s=U1(t,r,n),a;return i!==t.l&&(a=V1(t,i-t.l,s,n)),[s,a]}function gge(t,e,n){var r=t.l+e,i,s=t.read_shift(2),a=U1(t,s,n);return s==65535?[[],Ra(t,e-2)]:(e!==s+2&&(i=V1(t,r-s-2,a,n)),[a,i])}function xge(t){var e;if(Nu(t,t.l+6)!==65535)return[Sa(t),"n"];switch(t[t.l]){case 0:return t.l+=8,["String","s"];case 1:return e=t[t.l+2]===1,t.l+=8,[e,"b"];case 2:return e=t[t.l+2],t.l+=8,[e,"e"];case 3:return t.l+=8,["","s"]}return[]}function Iw(t,e,n){var r=t.l+e,i=Wc(t);n.biff==2&&++t.l;var s=xge(t),a=t.read_shift(1);n.biff!=2&&(t.read_shift(1),n.biff>=5&&t.read_shift(4));var o=pge(t,r-t.l,n);return{cell:i,val:s[0],formula:o,shared:a>>3&1,tt:s[1]}}function Lv(t,e,n){var r=t.read_shift(4),i=U1(t,r,n),s=t.read_shift(4),a=s>0?V1(t,s,i,n):null;return[i,a]}var yge=Lv,Fv=Lv,vge=Lv,bge=Lv,_ge={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},EB={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},wge={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function iD(t){return t.slice(0,3)=="of:"&&(t=t.slice(3)),t.charCodeAt(0)==61&&(t=t.slice(1),t.charCodeAt(0)==61&&(t=t.slice(1))),t=t.replace(/COM\.MICROSOFT\./g,""),t=t.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(e,n){return n.replace(/\./g,"")}),t=t.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),t.replace(/[;~]/g,",").replace(/\|/g,";")}function kw(t){var e=t.split(":"),n=e[0].split(".")[0];return[n,e[0].split(".")[1]+(e.length>1?":"+(e[1].split(".")[1]||e[1].split(".")[0]):"")]}var Pg={},xp={};function Dg(t,e){if(t){var n=[.7,.7,.75,.75,.3,.3];e=="xlml"&&(n=[1,1,1,1,.5,.5]),t.left==null&&(t.left=n[0]),t.right==null&&(t.right=n[1]),t.top==null&&(t.top=n[2]),t.bottom==null&&(t.bottom=n[3]),t.header==null&&(t.header=n[4]),t.footer==null&&(t.footer=n[5])}}function SB(t,e,n,r,i,s){try{r.cellNF&&(t.z=Wn[e])}catch(o){if(r.WTF)throw o}if(!(t.t==="z"&&!r.cellStyles)){if(t.t==="d"&&typeof t.v=="string"&&(t.v=Gs(t.v)),(!r||r.cellText!==!1)&&t.t!=="z")try{if(Wn[e]==null&&nh(Tfe[e]||"General",e),t.t==="e")t.w=t.w||Bh[t.v];else if(e===0)if(t.t==="n")(t.v|0)===t.v?t.w=t.v.toString(10):t.w=a1(t.v);else if(t.t==="d"){var a=Ka(t.v);(a|0)===a?t.w=a.toString(10):t.w=a1(a)}else{if(t.v===void 0)return"";t.w=bh(t.v,xp)}else t.t==="d"?t.w=yl(e,Ka(t.v),xp):t.w=yl(e,t.v,xp)}catch(o){if(r.WTF)throw o}if(r.cellStyles&&n!=null)try{t.s=s.Fills[n],t.s.fgColor&&t.s.fgColor.theme&&!t.s.fgColor.rgb&&(t.s.fgColor.rgb=j2(i.themeElements.clrScheme[t.s.fgColor.theme].rgb,t.s.fgColor.tint||0),r.WTF&&(t.s.fgColor.raw_rgb=i.themeElements.clrScheme[t.s.fgColor.theme].rgb)),t.s.bgColor&&t.s.bgColor.theme&&(t.s.bgColor.rgb=j2(i.themeElements.clrScheme[t.s.bgColor.theme].rgb,t.s.bgColor.tint||0),r.WTF&&(t.s.bgColor.raw_rgb=i.themeElements.clrScheme[t.s.bgColor.theme].rgb))}catch(o){if(r.WTF&&s.Fills)throw o}}}function Tge(t,e){var n=zi(e);n.s.r<=n.e.r&&n.s.c<=n.e.c&&n.s.r>=0&&n.s.c>=0&&(t["!ref"]=_r(n))}var Ege=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,Sge=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,Age=/<(?:\w:)?hyperlink [^>]*>/mg,Nge=/"(\w*:\w*)"/,Cge=/<(?:\w:)?col\b[^>]*[\/]?>/g,Ige=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,kge=/<(?:\w:)?pageMargins[^>]*\/>/g,AB=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,Rge=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,Pge=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function Dge(t,e,n,r,i,s,a){if(!t)return t;r||(r={"!id":{}});var o=e.dense?[]:{},c={s:{r:2e6,c:2e6},e:{r:0,c:0}},f="",d="",m=t.match(Sge);m?(f=t.slice(0,m.index),d=t.slice(m.index+m[0].length)):f=d=t;var g=f.match(AB);g?HS(g[0],o,i,n):(g=f.match(Rge))&&Mge(g[0],g[1]||"",o,i,n);var y=(f.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(y>0){var E=f.slice(y,y+50).match(Nge);E&&Tge(o,E[1])}var _=f.match(Pge);_&&_[1]&&Uge(_[1],i);var A=[];if(e.cellStyles){var C=f.match(Cge);C&&Oge(A,C)}m&&jge(m[1],o,e,c,s,a);var V=d.match(Ige);V&&(o["!autofilter"]=Bge(V[0]));var R=[],F=d.match(Ege);if(F)for(y=0;y!=F.length;++y)R[y]=zi(F[y].slice(F[y].indexOf('"')+1));var z=d.match(Age);z&&Lge(o,z,r);var W=d.match(kge);if(W&&(o["!margins"]=Fge(Pn(W[0]))),!o["!ref"]&&c.e.c>=c.s.c&&c.e.r>=c.s.r&&(o["!ref"]=_r(c)),e.sheetRows>0&&o["!ref"]){var D=zi(o["!ref"]);e.sheetRows<=+D.e.r&&(D.e.r=e.sheetRows-1,D.e.r>c.e.r&&(D.e.r=c.e.r),D.e.r<D.s.r&&(D.s.r=D.e.r),D.e.c>c.e.c&&(D.e.c=c.e.c),D.e.c<D.s.c&&(D.s.c=D.e.c),o["!fullref"]=o["!ref"],o["!ref"]=_r(D))}return A.length>0&&(o["!cols"]=A),R.length>0&&(o["!merges"]=R),o}function HS(t,e,n,r){var i=Pn(t);n.Sheets[r]||(n.Sheets[r]={}),i.codeName&&(n.Sheets[r].CodeName=Sr(ai(i.codeName)))}function Mge(t,e,n,r,i){HS(t.slice(0,t.indexOf(">")),n,r,i)}function Lge(t,e,n){for(var r=Array.isArray(t),i=0;i!=e.length;++i){var s=Pn(ai(e[i]),!0);if(!s.ref)return;var a=((n||{})["!id"]||[])[s.id];a?(s.Target=a.Target,s.location&&(s.Target+="#"+Sr(s.location))):(s.Target="#"+Sr(s.location),a={Target:s.Target,TargetMode:"Internal"}),s.Rel=a,s.tooltip&&(s.Tooltip=s.tooltip,delete s.tooltip);for(var o=zi(s.ref),c=o.s.r;c<=o.e.r;++c)for(var f=o.s.c;f<=o.e.c;++f){var d=jn({c:f,r:c});r?(t[c]||(t[c]=[]),t[c][f]||(t[c][f]={t:"z",v:void 0}),t[c][f].l=s):(t[d]||(t[d]={t:"z",v:void 0}),t[d].l=s)}}}function Fge(t){var e={};return["left","right","top","bottom","header","footer"].forEach(function(n){t[n]&&(e[n]=parseFloat(t[n]))}),e}function Oge(t,e){for(var n=!1,r=0;r!=e.length;++r){var i=Pn(e[r],!0);i.hidden&&(i.hidden=Ti(i.hidden));var s=parseInt(i.min,10)-1,a=parseInt(i.max,10)-1;for(i.outlineLevel&&(i.level=+i.outlineLevel||0),delete i.min,delete i.max,i.width=+i.width,!n&&i.width&&(n=!0,jS(i.width)),Op(i);s<=a;)t[s++]=la(i)}}function Bge(t){var e={ref:(t.match(/ref="([^"]*)"/)||[])[1]};return e}var Vge=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function Uge(t,e){e.Views||(e.Views=[{}]),(t.match(Vge)||[]).forEach(function(n,r){var i=Pn(n);e.Views[r]||(e.Views[r]={}),+i.zoomScale&&(e.Views[r].zoom=+i.zoomScale),Ti(i.rightToLeft)&&(e.Views[r].RTL=!0)})}var jge=(function(){var t=/<(?:\w+:)?c[ \/>]/,e=/<\/(?:\w+:)?row>/,n=/r=["']([^"']*)["']/,r=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,i=/ref=["']([^"']*)["']/,s=o1("v"),a=o1("f");return function(c,f,d,m,g,y){for(var E=0,_="",A=[],C=[],V=0,R=0,F=0,z="",W,D,L=0,k=0,q,P,M=0,j=0,ae=Array.isArray(y.CellXf),Ae,fe=[],xe=[],Ne=Array.isArray(f),me=[],Re={},re=!1,B=!!d.sheetStubs,Y=c.split(e),X=0,Q=Y.length;X!=Q;++X){_=Y[X].trim();var ce=_.length;if(ce!==0){var _e=0;e:for(E=0;E<ce;++E)switch(_[E]){case">":if(_[E-1]!="/"){++E;break e}if(d&&d.cellStyles){if(D=Pn(_.slice(_e,E),!0),L=D.r!=null?parseInt(D.r,10):L+1,k=-1,d.sheetRows&&d.sheetRows<L)continue;Re={},re=!1,D.ht&&(re=!0,Re.hpt=parseFloat(D.ht),Re.hpx=f1(Re.hpt)),D.hidden=="1"&&(re=!0,Re.hidden=!0),D.outlineLevel!=null&&(re=!0,Re.level=+D.outlineLevel),re&&(me[L-1]=Re)}break;case"<":_e=E;break}if(_e>=E)break;if(D=Pn(_.slice(_e,E),!0),L=D.r!=null?parseInt(D.r,10):L+1,k=-1,!(d.sheetRows&&d.sheetRows<L)){m.s.r>L-1&&(m.s.r=L-1),m.e.r<L-1&&(m.e.r=L-1),d&&d.cellStyles&&(Re={},re=!1,D.ht&&(re=!0,Re.hpt=parseFloat(D.ht),Re.hpx=f1(Re.hpt)),D.hidden=="1"&&(re=!0,Re.hidden=!0),D.outlineLevel!=null&&(re=!0,Re.level=+D.outlineLevel),re&&(me[L-1]=Re)),A=_.slice(E).split(t);for(var Pe=0;Pe!=A.length&&A[Pe].trim().charAt(0)=="<";++Pe);for(A=A.slice(Pe),E=0;E!=A.length;++E)if(_=A[E].trim(),_.length!==0){if(C=_.match(n),V=E,R=0,F=0,_="<c "+(_.slice(0,1)=="<"?">":"")+_,C!=null&&C.length===2){for(V=0,z=C[1],R=0;R!=z.length&&!((F=z.charCodeAt(R)-64)<1||F>26);++R)V=26*V+F;--V,k=V}else++k;for(R=0;R!=_.length&&_.charCodeAt(R)!==62;++R);if(++R,D=Pn(_.slice(0,R),!0),D.r||(D.r=jn({r:L-1,c:k})),z=_.slice(R),W={t:""},(C=z.match(s))!=null&&C[1]!==""&&(W.v=Sr(C[1])),d.cellFormula){if((C=z.match(a))!=null&&C[1]!==""){if(W.f=Sr(ai(C[1])).replace(/\r\n/g,`
`),d.xlfn||(W.f=eD(W.f)),C[0].indexOf('t="array"')>-1)W.F=(z.match(i)||[])[1],W.F.indexOf(":")>-1&&fe.push([zi(W.F),W.F]);else if(C[0].indexOf('t="shared"')>-1){P=Pn(C[0]);var Z=Sr(ai(C[1]));d.xlfn||(Z=eD(Z)),xe[parseInt(P.si,10)]=[P,Z,D.r]}}else(C=z.match(/<f[^>]*\/>/))&&(P=Pn(C[0]),xe[P.si]&&(W.f=Qpe(xe[P.si][1],xe[P.si][2],D.r)));var Ce=Ga(D.r);for(R=0;R<fe.length;++R)Ce.r>=fe[R][0].s.r&&Ce.r<=fe[R][0].e.r&&Ce.c>=fe[R][0].s.c&&Ce.c<=fe[R][0].e.c&&(W.F=fe[R][1])}if(D.t==null&&W.v===void 0)if(W.f||W.F)W.v=0,W.t="n";else if(B)W.t="z";else continue;else W.t=D.t||"n";switch(m.s.c>k&&(m.s.c=k),m.e.c<k&&(m.e.c=k),W.t){case"n":if(W.v==""||W.v==null){if(!B)continue;W.t="z"}else W.v=parseFloat(W.v);break;case"s":if(typeof W.v>"u"){if(!B)continue;W.t="z"}else q=Pg[parseInt(W.v,10)],W.v=q.t,W.r=q.r,d.cellHTML&&(W.h=q.h);break;case"str":W.t="s",W.v=W.v!=null?ai(W.v):"",d.cellHTML&&(W.h=kS(W.v));break;case"inlineStr":C=z.match(r),W.t="s",C!=null&&(q=US(C[1]))?(W.v=q.t,d.cellHTML&&(W.h=q.h)):W.v="";break;case"b":W.v=Ti(W.v);break;case"d":d.cellDates?W.v=Gs(W.v,1):(W.v=Ka(Gs(W.v,1)),W.t="n");break;case"e":(!d||d.cellText!==!1)&&(W.w=W.v),W.v=$9[W.v];break}if(M=j=0,Ae=null,ae&&D.s!==void 0&&(Ae=y.CellXf[D.s],Ae!=null&&(Ae.numFmtId!=null&&(M=Ae.numFmtId),d.cellStyles&&Ae.fillId!=null&&(j=Ae.fillId))),SB(W,M,j,d,g,y),d.cellDates&&ae&&W.t=="n"&&Zp(Wn[M])&&(W.t="d",W.v=Dv(W.v)),D.cm&&d.xlmeta){var qe=(d.xlmeta.Cell||[])[+D.cm-1];qe&&qe.type=="XLDAPR"&&(W.D=!0)}if(Ne){var ee=Ga(D.r);f[ee.r]||(f[ee.r]=[]),f[ee.r][ee.c]=W}else f[D.r]=W}}}}me.length>0&&(f["!rows"]=me)}})();function qge(t,e){var n={},r=t.l+e;n.r=t.read_shift(4),t.l+=4;var i=t.read_shift(2);t.l+=1;var s=t.read_shift(1);return t.l=r,s&7&&(n.level=s&7),s&16&&(n.hidden=!0),s&32&&(n.hpt=i/20),n}var Hge=Oh;function zge(){}function Gge(t,e){var n={},r=t[t.l];return++t.l,n.above=!(r&64),n.left=!(r&128),t.l+=18,n.name=hde(t),n}function Wge(t){var e=vl(t);return[e]}function $ge(t){var e=Fh(t);return[e]}function Kge(t){var e=vl(t),n=t.read_shift(1);return[e,n,"b"]}function Yge(t){var e=Fh(t),n=t.read_shift(1);return[e,n,"b"]}function Xge(t){var e=vl(t),n=t.read_shift(1);return[e,n,"e"]}function Jge(t){var e=Fh(t),n=t.read_shift(1);return[e,n,"e"]}function Qge(t){var e=vl(t),n=t.read_shift(4);return[e,n,"s"]}function Zge(t){var e=Fh(t),n=t.read_shift(4);return[e,n,"s"]}function e1e(t){var e=vl(t),n=Sa(t);return[e,n,"n"]}function NB(t){var e=Fh(t),n=Sa(t);return[e,n,"n"]}function t1e(t){var e=vl(t),n=OS(t);return[e,n,"n"]}function n1e(t){var e=Fh(t),n=OS(t);return[e,n,"n"]}function r1e(t){var e=vl(t),n=LS(t);return[e,n,"is"]}function i1e(t){var e=vl(t),n=ka(t);return[e,n,"str"]}function s1e(t){var e=Fh(t),n=ka(t);return[e,n,"str"]}function a1e(t,e,n){var r=t.l+e,i=vl(t);i.r=n["!row"];var s=t.read_shift(1),a=[i,s,"b"];if(n.cellFormula){t.l+=2;var o=Fv(t,r-t.l,n);a[3]=Ta(o,null,i,n.supbooks,n)}else t.l=r;return a}function o1e(t,e,n){var r=t.l+e,i=vl(t);i.r=n["!row"];var s=t.read_shift(1),a=[i,s,"e"];if(n.cellFormula){t.l+=2;var o=Fv(t,r-t.l,n);a[3]=Ta(o,null,i,n.supbooks,n)}else t.l=r;return a}function l1e(t,e,n){var r=t.l+e,i=vl(t);i.r=n["!row"];var s=Sa(t),a=[i,s,"n"];if(n.cellFormula){t.l+=2;var o=Fv(t,r-t.l,n);a[3]=Ta(o,null,i,n.supbooks,n)}else t.l=r;return a}function c1e(t,e,n){var r=t.l+e,i=vl(t);i.r=n["!row"];var s=ka(t),a=[i,s,"str"];if(n.cellFormula){t.l+=2;var o=Fv(t,r-t.l,n);a[3]=Ta(o,null,i,n.supbooks,n)}else t.l=r;return a}var u1e=Oh;function f1e(t,e){var n=t.l+e,r=Oh(t),i=FS(t),s=ka(t),a=ka(t),o=ka(t);t.l=n;var c={rfx:r,relId:i,loc:s,display:o};return a&&(c.Tooltip=a),c}function d1e(){}function h1e(t,e,n){var r=t.l+e,i=z9(t),s=t.read_shift(1),a=[i];if(a[2]=s,n.cellFormula){var o=yge(t,r-t.l,n);a[1]=o}else t.l=r;return a}function p1e(t,e,n){var r=t.l+e,i=Oh(t),s=[i];if(n.cellFormula){var a=bge(t,r-t.l,n);s[1]=a,t.l=r}else t.l=r;return s}var m1e=["left","right","top","bottom","header","footer"];function g1e(t){var e={};return m1e.forEach(function(n){e[n]=Sa(t)}),e}function x1e(t){var e=t.read_shift(2);return t.l+=28,{RTL:e&32}}function y1e(){}function v1e(){}function b1e(t,e,n,r,i,s,a){if(!t)return t;var o=e||{};r||(r={"!id":{}});var c=o.dense?[]:{},f,d={s:{r:2e6,c:2e6},e:{r:0,c:0}},m=!1,g=!1,y,E,_,A,C,V,R,F,z,W=[];o.biff=12,o["!row"]=0;var D=0,L=!1,k=[],q={},P=o.supbooks||i.supbooks||[[]];if(P.sharedf=q,P.arrayf=k,P.SheetNames=i.SheetNames||i.Sheets.map(function(Ne){return Ne.name}),!o.supbooks&&(o.supbooks=P,i.Names))for(var M=0;M<i.Names.length;++M)P[0][M+1]=i.Names[M];var j=[],ae=[],Ae=!1;z2[16]={n:"BrtShortReal",f:NB};var fe;if($u(t,function(me,Re,re){if(!g)switch(re){case 148:f=me;break;case 0:y=me,o.sheetRows&&o.sheetRows<=y.r&&(g=!0),F=ca(A=y.r),o["!row"]=y.r,(me.hidden||me.hpt||me.level!=null)&&(me.hpt&&(me.hpx=f1(me.hpt)),ae[me.r]=me);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(E={t:me[2]},me[2]){case"n":E.v=me[1];break;case"s":R=Pg[me[1]],E.v=R.t,E.r=R.r;break;case"b":E.v=!!me[1];break;case"e":E.v=me[1],o.cellText!==!1&&(E.w=Bh[E.v]);break;case"str":E.t="s",E.v=me[1];break;case"is":E.t="s",E.v=me[1].t;break}if((_=a.CellXf[me[0].iStyleRef])&&SB(E,_.numFmtId,null,o,s,a),C=me[0].c==-1?C+1:me[0].c,o.dense?(c[A]||(c[A]=[]),c[A][C]=E):c[Ns(C)+F]=E,o.cellFormula){for(L=!1,D=0;D<k.length;++D){var B=k[D];y.r>=B[0].s.r&&y.r<=B[0].e.r&&C>=B[0].s.c&&C<=B[0].e.c&&(E.F=_r(B[0]),L=!0)}!L&&me.length>3&&(E.f=me[3])}if(d.s.r>y.r&&(d.s.r=y.r),d.s.c>C&&(d.s.c=C),d.e.r<y.r&&(d.e.r=y.r),d.e.c<C&&(d.e.c=C),o.cellDates&&_&&E.t=="n"&&Zp(Wn[_.numFmtId])){var Y=$d(E.v);Y&&(E.t="d",E.v=new Date(Y.y,Y.m-1,Y.d,Y.H,Y.M,Y.S,Y.u))}fe&&(fe.type=="XLDAPR"&&(E.D=!0),fe=void 0);break;case 1:case 12:if(!o.sheetStubs||m)break;E={t:"z",v:void 0},C=me[0].c==-1?C+1:me[0].c,o.dense?(c[A]||(c[A]=[]),c[A][C]=E):c[Ns(C)+F]=E,d.s.r>y.r&&(d.s.r=y.r),d.s.c>C&&(d.s.c=C),d.e.r<y.r&&(d.e.r=y.r),d.e.c<C&&(d.e.c=C),fe&&(fe.type=="XLDAPR"&&(E.D=!0),fe=void 0);break;case 176:W.push(me);break;case 49:fe=((o.xlmeta||{}).Cell||[])[me-1];break;case 494:var X=r["!id"][me.relId];for(X?(me.Target=X.Target,me.loc&&(me.Target+="#"+me.loc),me.Rel=X):me.relId==""&&(me.Target="#"+me.loc),A=me.rfx.s.r;A<=me.rfx.e.r;++A)for(C=me.rfx.s.c;C<=me.rfx.e.c;++C)o.dense?(c[A]||(c[A]=[]),c[A][C]||(c[A][C]={t:"z",v:void 0}),c[A][C].l=me):(V=jn({c:C,r:A}),c[V]||(c[V]={t:"z",v:void 0}),c[V].l=me);break;case 426:if(!o.cellFormula)break;k.push(me),z=o.dense?c[A][C]:c[Ns(C)+F],z.f=Ta(me[1],d,{r:y.r,c:C},P,o),z.F=_r(me[0]);break;case 427:if(!o.cellFormula)break;q[jn(me[0].s)]=me[1],z=o.dense?c[A][C]:c[Ns(C)+F],z.f=Ta(me[1],d,{r:y.r,c:C},P,o);break;case 60:if(!o.cellStyles)break;for(;me.e>=me.s;)j[me.e--]={width:me.w/256,hidden:!!(me.flags&1),level:me.level},Ae||(Ae=!0,jS(me.w/256)),Op(j[me.e+1]);break;case 161:c["!autofilter"]={ref:_r(me)};break;case 476:c["!margins"]=me;break;case 147:i.Sheets[n]||(i.Sheets[n]={}),me.name&&(i.Sheets[n].CodeName=me.name),(me.above||me.left)&&(c["!outline"]={above:me.above,left:me.left});break;case 137:i.Views||(i.Views=[{}]),i.Views[0]||(i.Views[0]={}),me.RTL&&(i.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:m=!0;break;case 36:m=!1;break;case 37:m=!0;break;case 38:m=!1;break;default:if(!Re.T){if(!m||o.WTF)throw new Error("Unexpected record 0x"+re.toString(16))}}},o),delete o.supbooks,delete o["!row"],!c["!ref"]&&(d.s.r<2e6||f&&(f.e.r>0||f.e.c>0||f.s.r>0||f.s.c>0))&&(c["!ref"]=_r(f||d)),o.sheetRows&&c["!ref"]){var xe=zi(c["!ref"]);o.sheetRows<=+xe.e.r&&(xe.e.r=o.sheetRows-1,xe.e.r>d.e.r&&(xe.e.r=d.e.r),xe.e.r<xe.s.r&&(xe.s.r=xe.e.r),xe.e.c>d.e.c&&(xe.e.c=d.e.c),xe.e.c<xe.s.c&&(xe.s.c=xe.e.c),c["!fullref"]=c["!ref"],c["!ref"]=_r(xe))}return W.length>0&&(c["!merges"]=W),j.length>0&&(c["!cols"]=j),ae.length>0&&(c["!rows"]=ae),c}function _1e(t){var e=[],n=t.match(/^<c:numCache>/),r;(t.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(s){var a=s.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);a&&(e[+a[1]]=n?+a[2]:a[2])});var i=Sr((t.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(t.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(s){r=s.replace(/<.*?>/g,"")}),[e,i,r]}function w1e(t,e,n,r,i,s){var a=s||{"!type":"chart"};if(!t)return s;var o=0,c=0,f="A",d={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(t.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(m){var g=_1e(m);d.s.r=d.s.c=0,d.e.c=o,f=Ns(o),g[0].forEach(function(y,E){a[f+ca(E)]={t:"n",v:y,z:g[1]},c=E}),d.e.r<c&&(d.e.r=c),++o}),o>0&&(a["!ref"]=_r(d)),a}function T1e(t,e,n,r,i){if(!t)return t;r||(r={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},a,o=t.match(AB);return o&&HS(o[0],s,i,n),(a=t.match(/drawing r:id="(.*?)"/))&&(s["!rel"]=a[1]),r["!id"][s["!rel"]]&&(s["!drawel"]=r["!id"][s["!rel"]]),s}function E1e(t,e){t.l+=10;var n=ka(t);return{name:n}}function S1e(t,e,n,r,i){if(!t)return t;r||(r={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},a=!1;return $u(t,function(c,f,d){switch(d){case 550:s["!rel"]=c;break;case 651:i.Sheets[n]||(i.Sheets[n]={}),c.name&&(i.Sheets[n].CodeName=c.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:a=!0;break;case 36:a=!1;break;case 37:break;case 38:break;default:if(!(f.T>0)){if(!(f.T<0)){if(!a||e.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}}},e),r["!id"][s["!rel"]]&&(s["!drawel"]=r["!id"][s["!rel"]]),s}var CB=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],A1e=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],N1e=[],C1e=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function sD(t,e){for(var n=0;n!=t.length;++n)for(var r=t[n],i=0;i!=e.length;++i){var s=e[i];if(r[s[0]]==null)r[s[0]]=s[1];else switch(s[2]){case"bool":typeof r[s[0]]=="string"&&(r[s[0]]=Ti(r[s[0]]));break;case"int":typeof r[s[0]]=="string"&&(r[s[0]]=parseInt(r[s[0]],10));break}}}function aD(t,e){for(var n=0;n!=e.length;++n){var r=e[n];if(t[r[0]]==null)t[r[0]]=r[1];else switch(r[2]){case"bool":typeof t[r[0]]=="string"&&(t[r[0]]=Ti(t[r[0]]));break;case"int":typeof t[r[0]]=="string"&&(t[r[0]]=parseInt(t[r[0]],10));break}}}function IB(t){aD(t.WBProps,CB),aD(t.CalcPr,C1e),sD(t.WBView,A1e),sD(t.Sheets,N1e),xp.date1904=Ti(t.WBProps.date1904)}var I1e="][*?/\\".split("");function k1e(t,e){if(t.length>31)throw new Error("Sheet names cannot exceed 31 chars");var n=!0;return I1e.forEach(function(r){if(t.indexOf(r)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),n}var R1e=/<\w+:workbook/;function P1e(t,e){if(!t)throw new Error("Could not find file");var n={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},r=!1,i="xmlns",s={},a=0;if(t.replace(Pa,function(c,f){var d=Pn(c);switch(Gc(d[0])){case"<?xml":break;case"<workbook":c.match(R1e)&&(i="xmlns"+c.match(/<(\w+):/)[1]),n.xmlns=d[i];break;case"</workbook>":break;case"<fileVersion":delete d[0],n.AppVersion=d;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":CB.forEach(function(m){if(d[m[0]]!=null)switch(m[2]){case"bool":n.WBProps[m[0]]=Ti(d[m[0]]);break;case"int":n.WBProps[m[0]]=parseInt(d[m[0]],10);break;default:n.WBProps[m[0]]=d[m[0]]}}),d.codeName&&(n.WBProps.CodeName=ai(d.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete d[0],n.WBView.push(d);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(d.state){case"hidden":d.Hidden=1;break;case"veryHidden":d.Hidden=2;break;default:d.Hidden=0}delete d.state,d.name=Sr(ai(d.name)),delete d[0],n.Sheets.push(d);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":r=!0;break;case"</definedNames>":r=!1;break;case"<definedName":s={},s.Name=ai(d.name),d.comment&&(s.Comment=d.comment),d.localSheetId&&(s.Sheet=+d.localSheetId),Ti(d.hidden||"0")&&(s.Hidden=!0),a=f+c.length;break;case"</definedName>":s.Ref=Sr(ai(t.slice(a,f))),n.Names.push(s);break;case"<definedName/>":break;case"<calcPr":delete d[0],n.CalcPr=d;break;case"<calcPr/>":delete d[0],n.CalcPr=d;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":r=!0;break;case"</AlternateContent>":r=!1;break;case"<revisionPtr":break;default:if(!r&&e.WTF)throw new Error("unrecognized "+d[0]+" in workbook")}return c}),Xfe.indexOf(n.xmlns)===-1)throw new Error("Unknown Namespace: "+n.xmlns);return IB(n),n}function D1e(t,e){var n={};return n.Hidden=t.read_shift(4),n.iTabID=t.read_shift(4),n.strRelID=uT(t),n.name=ka(t),n}function M1e(t,e){var n={},r=t.read_shift(4);n.defaultThemeVersion=t.read_shift(4);var i=e>8?ka(t):"";return i.length>0&&(n.CodeName=i),n.autoCompressPictures=!!(r&65536),n.backupFile=!!(r&64),n.checkCompatibility=!!(r&4096),n.date1904=!!(r&1),n.filterPrivacy=!!(r&8),n.hidePivotFieldList=!!(r&1024),n.promptedSolutions=!!(r&16),n.publishItems=!!(r&2048),n.refreshAllConnections=!!(r&262144),n.saveExternalLinkValues=!!(r&128),n.showBorderUnselectedTables=!!(r&4),n.showInkAnnotation=!!(r&32),n.showObjects=["all","placeholders","none"][r>>13&3],n.showPivotChartFilter=!!(r&32768),n.updateLinks=["userSet","never","always"][r>>8&3],n}function L1e(t,e){var n={};return t.read_shift(4),n.ArchID=t.read_shift(4),t.l+=e-8,n}function F1e(t,e,n){var r=t.l+e;t.l+=4,t.l+=1;var i=t.read_shift(4),s=pde(t),a=vge(t,0,n),o=FS(t);t.l=r;var c={Name:s,Ptg:a};return i<268435455&&(c.Sheet=i),o&&(c.Comment=o),c}function O1e(t,e){var n={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},r=[],i=!1;e||(e={}),e.biff=12;var s=[],a=[[]];return a.SheetNames=[],a.XTI=[],z2[16]={n:"BrtFRTArchID$",f:L1e},$u(t,function(c,f,d){switch(d){case 156:a.SheetNames.push(c.name),n.Sheets.push(c);break;case 153:n.WBProps=c;break;case 39:c.Sheet!=null&&(e.SID=c.Sheet),c.Ref=Ta(c.Ptg,null,null,a,e),delete e.SID,delete c.Ptg,s.push(c);break;case 1036:break;case 357:case 358:case 355:case 667:a[0].length?a.push([d,c]):a[0]=[d,c],a[a.length-1].XTI=[];break;case 362:a.length===0&&(a[0]=[],a[0].XTI=[]),a[a.length-1].XTI=a[a.length-1].XTI.concat(c),a.XTI=a.XTI.concat(c);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:r.push(d),i=!0;break;case 36:r.pop(),i=!1;break;case 37:r.push(d),i=!0;break;case 38:r.pop(),i=!1;break;case 16:break;default:if(!f.T){if(!i||e.WTF&&r[r.length-1]!=37&&r[r.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}},e),IB(n),n.Names=s,n.supbooks=a,n}function B1e(t,e,n){return e.slice(-4)===".bin"?O1e(t,n):P1e(t,n)}function V1e(t,e,n,r,i,s,a,o){return e.slice(-4)===".bin"?b1e(t,r,n,i,s,a,o):Dge(t,r,n,i,s,a,o)}function U1e(t,e,n,r,i,s,a,o){return e.slice(-4)===".bin"?S1e(t,r,n,i,s):T1e(t,r,n,i,s)}function j1e(t,e,n,r,i,s,a,o){return e.slice(-4)===".bin"?Ype():Xpe()}function q1e(t,e,n,r,i,s,a,o){return e.slice(-4)===".bin"?$pe():Kpe()}function H1e(t,e,n,r){return e.slice(-4)===".bin"?upe(t,n,r):ipe(t,n,r)}function z1e(t,e,n){return mB(t,n)}function G1e(t,e,n){return e.slice(-4)===".bin"?A0e(t,n):E0e(t,n)}function W1e(t,e,n){return e.slice(-4)===".bin"?zpe(t,n):Vpe(t,n)}function $1e(t,e,n){return e.slice(-4)===".bin"?Fpe(t):Mpe(t)}function K1e(t,e,n,r){return n.slice(-4)===".bin"?Ope(t,e,n,r):void 0}function Y1e(t,e,n){return e.slice(-4)===".bin"?Ppe(t,e,n):Dpe(t,e,n)}var kB=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,RB=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function ql(t,e){var n=t.split(/\s+/),r=[];if(r[0]=n[0],n.length===1)return r;var i=t.match(kB),s,a,o,c;if(i)for(c=0;c!=i.length;++c)s=i[c].match(RB),(a=s[1].indexOf(":"))===-1?r[s[1]]=s[2].slice(1,s[2].length-1):(s[1].slice(0,6)==="xmlns:"?o="xmlns"+s[1].slice(6):o=s[1].slice(a+1),r[o]=s[2].slice(1,s[2].length-1));return r}function X1e(t){var e=t.split(/\s+/),n={};if(e.length===1)return n;var r=t.match(kB),i,s,a,o;if(r)for(o=0;o!=r.length;++o)i=r[o].match(RB),(s=i[1].indexOf(":"))===-1?n[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?a="xmlns"+i[1].slice(6):a=i[1].slice(s+1),n[a]=i[2].slice(1,i[2].length-1));return n}var Mg;function J1e(t,e){var n=Mg[t]||Sr(t);return n==="General"?bh(e):yl(n,e)}function Q1e(t,e,n,r){var i=r;switch((n[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":i=Ti(r);break;case"i2":case"int":i=parseInt(r,10);break;case"r4":case"float":i=parseFloat(r);break;case"date":case"dateTime.tz":i=Gs(r);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+n[0])}t[Sr(e)]=i}function Z1e(t,e,n){if(t.t!=="z"){if(!n||n.cellText!==!1)try{t.t==="e"?t.w=t.w||Bh[t.v]:e==="General"?t.t==="n"?(t.v|0)===t.v?t.w=t.v.toString(10):t.w=a1(t.v):t.w=bh(t.v):t.w=J1e(e||"General",t.v)}catch(s){if(n.WTF)throw s}try{var r=Mg[e]||e||"General";if(n.cellNF&&(t.z=r),n.cellDates&&t.t=="n"&&Zp(r)){var i=$d(t.v);i&&(t.t="d",t.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}catch(s){if(n.WTF)throw s}}}function exe(t,e,n){if(n.cellStyles&&e.Interior){var r=e.Interior;r.Pattern&&(r.patternType=Q0e[r.Pattern]||r.Pattern)}t[e.ID]=e}function txe(t,e,n,r,i,s,a,o,c,f){var d="General",m=r.StyleID,g={};f=f||{};var y=[],E=0;for(m===void 0&&o&&(m=o.StyleID),m===void 0&&a&&(m=a.StyleID);s[m]!==void 0&&(s[m].nf&&(d=s[m].nf),s[m].Interior&&y.push(s[m].Interior),!!s[m].Parent);)m=s[m].Parent;switch(n.Type){case"Boolean":r.t="b",r.v=Ti(t);break;case"String":r.t="s",r.r=CP(Sr(t)),r.v=t.indexOf("<")>-1?Sr(e||t).replace(/<.*?>/g,""):r.r;break;case"DateTime":t.slice(-1)!="Z"&&(t+="Z"),r.v=(Gs(t)-new Date(Date.UTC(1899,11,30)))/(1440*60*1e3),r.v!==r.v?r.v=Sr(t):r.v<60&&(r.v=r.v-1),(!d||d=="General")&&(d="yyyy-mm-dd");case"Number":r.v===void 0&&(r.v=+t),r.t||(r.t="n");break;case"Error":r.t="e",r.v=$9[t],f.cellText!==!1&&(r.w=t);break;default:t==""&&e==""?r.t="z":(r.t="s",r.v=CP(e||t));break}if(Z1e(r,d,f),f.cellFormula!==!1)if(r.Formula){var _=Sr(r.Formula);_.charCodeAt(0)==61&&(_=_.slice(1)),r.f=gp(_,i),delete r.Formula,r.ArrayRange=="RC"?r.F=gp("RC:RC",i):r.ArrayRange&&(r.F=gp(r.ArrayRange,i),c.push([zi(r.F),r.F]))}else for(E=0;E<c.length;++E)i.r>=c[E][0].s.r&&i.r<=c[E][0].e.r&&i.c>=c[E][0].s.c&&i.c<=c[E][0].e.c&&(r.F=c[E][1]);f.cellStyles&&(y.forEach(function(A){!g.patternType&&A.patternType&&(g.patternType=A.patternType)}),r.s=g),r.StyleID!==void 0&&(r.ixfe=r.StyleID)}function nxe(t){t.t=t.v||"",t.t=t.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.v=t.w=t.ixfe=void 0}function Rw(t,e){var n=e||{};v9();var r=ig(RS(t));(n.type=="binary"||n.type=="array"||n.type=="base64")&&(r=ai(r));var i=r.slice(0,1024).toLowerCase(),s=!1;if(i=i.replace(/".*?"/g,""),(i.indexOf(">")&1023)>Math.min(i.indexOf(",")&1023,i.indexOf(";")&1023)){var a=la(n);return a.type="string",c1.to_workbook(r,a)}if(i.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(ft){i.indexOf("<"+ft)>=0&&(s=!0)}),s)return fxe(r,n);Mg={"General Number":"General","General Date":Wn[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":Wn[15],"Short Date":Wn[14],"Long Time":Wn[19],"Medium Time":Wn[18],"Short Time":Wn[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:Wn[2],Standard:Wn[4],Percent:Wn[10],Scientific:Wn[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var o,c=[],f,d={},m=[],g=n.dense?[]:{},y="",E={},_={},A=ql('<Data ss:Type="String">'),C=0,V=0,R=0,F={s:{r:2e6,c:2e6},e:{r:0,c:0}},z={},W={},D="",L=0,k=[],q={},P={},M=0,j=[],ae=[],Ae={},fe=[],xe,Ne=!1,me=[],Re=[],re={},B=0,Y=0,X={Sheets:[],WBProps:{date1904:!1}},Q={};l1.lastIndex=0,r=r.replace(/<!--([\s\S]*?)-->/mg,"");for(var ce="";o=l1.exec(r);)switch(o[3]=(ce=o[3]).toLowerCase()){case"data":if(ce=="data"){if(o[1]==="/"){if((f=c.pop())[0]!==o[3])throw new Error("Bad state: "+f.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&c.push([o[3],!0]);break}if(c[c.length-1][1])break;o[1]==="/"?txe(r.slice(C,o.index),D,A,c[c.length-1][0]=="comment"?Ae:E,{c:V,r:R},z,fe[V],_,me,n):(D="",A=ql(o[0]),C=o.index+o[0].length);break;case"cell":if(o[1]==="/")if(ae.length>0&&(E.c=ae),(!n.sheetRows||n.sheetRows>R)&&E.v!==void 0&&(n.dense?(g[R]||(g[R]=[]),g[R][V]=E):g[Ns(V)+ca(R)]=E),E.HRef&&(E.l={Target:Sr(E.HRef)},E.HRefScreenTip&&(E.l.Tooltip=E.HRefScreenTip),delete E.HRef,delete E.HRefScreenTip),(E.MergeAcross||E.MergeDown)&&(B=V+(parseInt(E.MergeAcross,10)|0),Y=R+(parseInt(E.MergeDown,10)|0),k.push({s:{c:V,r:R},e:{c:B,r:Y}})),!n.sheetStubs)E.MergeAcross?V=B+1:++V;else if(E.MergeAcross||E.MergeDown){for(var _e=V;_e<=B;++_e)for(var Pe=R;Pe<=Y;++Pe)(_e>V||Pe>R)&&(n.dense?(g[Pe]||(g[Pe]=[]),g[Pe][_e]={t:"z"}):g[Ns(_e)+ca(Pe)]={t:"z"});V=B+1}else++V;else E=X1e(o[0]),E.Index&&(V=+E.Index-1),V<F.s.c&&(F.s.c=V),V>F.e.c&&(F.e.c=V),o[0].slice(-2)==="/>"&&++V,ae=[];break;case"row":o[1]==="/"||o[0].slice(-2)==="/>"?(R<F.s.r&&(F.s.r=R),R>F.e.r&&(F.e.r=R),o[0].slice(-2)==="/>"&&(_=ql(o[0]),_.Index&&(R=+_.Index-1)),V=0,++R):(_=ql(o[0]),_.Index&&(R=+_.Index-1),re={},(_.AutoFitHeight=="0"||_.Height)&&(re.hpx=parseInt(_.Height,10),re.hpt=pB(re.hpx),Re[R]=re),_.Hidden=="1"&&(re.hidden=!0,Re[R]=re));break;case"worksheet":if(o[1]==="/"){if((f=c.pop())[0]!==o[3])throw new Error("Bad state: "+f.join("|"));m.push(y),F.s.r<=F.e.r&&F.s.c<=F.e.c&&(g["!ref"]=_r(F),n.sheetRows&&n.sheetRows<=F.e.r&&(g["!fullref"]=g["!ref"],F.e.r=n.sheetRows-1,g["!ref"]=_r(F))),k.length&&(g["!merges"]=k),fe.length>0&&(g["!cols"]=fe),Re.length>0&&(g["!rows"]=Re),d[y]=g}else F={s:{r:2e6,c:2e6},e:{r:0,c:0}},R=V=0,c.push([o[3],!1]),f=ql(o[0]),y=Sr(f.Name),g=n.dense?[]:{},k=[],me=[],Re=[],Q={name:y,Hidden:0},X.Sheets.push(Q);break;case"table":if(o[1]==="/"){if((f=c.pop())[0]!==o[3])throw new Error("Bad state: "+f.join("|"))}else{if(o[0].slice(-2)=="/>")break;c.push([o[3],!1]),fe=[],Ne=!1}break;case"style":o[1]==="/"?exe(z,W,n):W=ql(o[0]);break;case"numberformat":W.nf=Sr(ql(o[0]).Format||"General"),Mg[W.nf]&&(W.nf=Mg[W.nf]);for(var Z=0;Z!=392&&Wn[Z]!=W.nf;++Z);if(Z==392){for(Z=57;Z!=392;++Z)if(Wn[Z]==null){nh(W.nf,Z);break}}break;case"column":if(c[c.length-1][0]!=="table")break;if(xe=ql(o[0]),xe.Hidden&&(xe.hidden=!0,delete xe.Hidden),xe.Width&&(xe.wpx=parseInt(xe.Width,10)),!Ne&&xe.wpx>10){Ne=!0,qa=dB;for(var Ce=0;Ce<fe.length;++Ce)fe[Ce]&&Op(fe[Ce])}Ne&&Op(xe),fe[xe.Index-1||fe.length]=xe;for(var qe=0;qe<+xe.Span;++qe)fe[fe.length]=la(xe);break;case"namedrange":if(o[1]==="/")break;X.Names||(X.Names=[]);var ee=Pn(o[0]),Ie={Name:ee.Name,Ref:gp(ee.RefersTo.slice(1),{r:0,c:0})};X.Sheets.length>0&&(Ie.Sheet=X.Sheets.length-1),X.Names.push(Ie);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(o[0].slice(-2)==="/>")break;o[1]==="/"?D+=r.slice(L,o.index):L=o.index+o[0].length;break;case"interior":if(!n.cellStyles)break;W.Interior=ql(o[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(o[0].slice(-2)==="/>")break;o[1]==="/"?Vde(q,ce,r.slice(M,o.index)):M=o.index+o[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(o[1]==="/"){if((f=c.pop())[0]!==o[3])throw new Error("Bad state: "+f.join("|"))}else c.push([o[3],!1]);break;case"comment":if(o[1]==="/"){if((f=c.pop())[0]!==o[3])throw new Error("Bad state: "+f.join("|"));nxe(Ae),ae.push(Ae)}else c.push([o[3],!1]),f=ql(o[0]),Ae={a:f.Author};break;case"autofilter":if(o[1]==="/"){if((f=c.pop())[0]!==o[3])throw new Error("Bad state: "+f.join("|"))}else if(o[0].charAt(o[0].length-2)!=="/"){var Ye=ql(o[0]);g["!autofilter"]={ref:gp(Ye.Range).replace(/\$/g,"")},c.push([o[3],!0])}break;case"name":break;case"datavalidation":if(o[1]==="/"){if((f=c.pop())[0]!==o[3])throw new Error("Bad state: "+f.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&c.push([o[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(o[1]==="/"){if((f=c.pop())[0]!==o[3])throw new Error("Bad state: "+f.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&c.push([o[3],!0]);break;case"null":break;default:if(c.length==0&&o[3]=="document"||c.length==0&&o[3]=="uof")return dD(r,n);var oe=!0;switch(c[c.length-1][0]){case"officedocumentsettings":switch(o[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:oe=!1}break;case"componentoptions":switch(o[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:oe=!1}break;case"excelworkbook":switch(o[3]){case"date1904":X.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:oe=!1}break;case"workbookoptions":switch(o[3]){case"owcversion":break;case"height":break;case"width":break;default:oe=!1}break;case"worksheetoptions":switch(o[3]){case"visible":if(o[0].slice(-2)!=="/>")if(o[1]==="/")switch(r.slice(M,o.index)){case"SheetHidden":Q.Hidden=1;break;case"SheetVeryHidden":Q.Hidden=2;break}else M=o.index+o[0].length;break;case"header":g["!margins"]||Dg(g["!margins"]={},"xlml"),isNaN(+Pn(o[0]).Margin)||(g["!margins"].header=+Pn(o[0]).Margin);break;case"footer":g["!margins"]||Dg(g["!margins"]={},"xlml"),isNaN(+Pn(o[0]).Margin)||(g["!margins"].footer=+Pn(o[0]).Margin);break;case"pagemargins":var rt=Pn(o[0]);g["!margins"]||Dg(g["!margins"]={},"xlml"),isNaN(+rt.Top)||(g["!margins"].top=+rt.Top),isNaN(+rt.Left)||(g["!margins"].left=+rt.Left),isNaN(+rt.Right)||(g["!margins"].right=+rt.Right),isNaN(+rt.Bottom)||(g["!margins"].bottom=+rt.Bottom);break;case"displayrighttoleft":X.Views||(X.Views=[]),X.Views[0]||(X.Views[0]={}),X.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":g["!outline"]||(g["!outline"]={}),g["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":g["!outline"]||(g["!outline"]={}),g["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:oe=!1}break;case"pivottable":case"pivotcache":switch(o[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:oe=!1}break;case"pagebreaks":switch(o[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:oe=!1}break;case"autofilter":switch(o[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:oe=!1}break;case"querytable":switch(o[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:oe=!1}break;case"datavalidation":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:oe=!1}break;case"sorting":case"conditionalformatting":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:oe=!1}break;case"mapinfo":case"schema":case"data":switch(o[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:oe=!1}break;case"smarttags":break;default:oe=!1;break}if(oe||o[3].match(/!\[CDATA/))break;if(!c[c.length-1][1])throw"Unrecognized tag: "+o[3]+"|"+c.join("|");if(c[c.length-1][0]==="customdocumentproperties"){if(o[0].slice(-2)==="/>")break;o[1]==="/"?Q1e(P,ce,j,r.slice(M,o.index)):(j=o,M=o.index+o[0].length);break}if(n.WTF)throw"Unrecognized tag: "+o[3]+"|"+c.join("|")}var st={};return!n.bookSheets&&!n.bookProps&&(st.Sheets=d),st.SheetNames=m,st.Workbook=X,st.SSF=la(Wn),st.Props=q,st.Custprops=P,st}function pT(t,e){switch(WS(e=e||{}),e.type||"base64"){case"base64":return Rw(qo(t),e);case"binary":case"buffer":case"file":return Rw(t,e);case"array":return Rw(Lh(t),e)}}function rxe(t){var e={},n=t.content;if(n.l=28,e.AnsiUserType=n.read_shift(0,"lpstr-ansi"),e.AnsiClipboardFormat=xde(n),n.length-n.l<=4)return e;var r=n.read_shift(4);if(r==0||r>40||(n.l-=4,e.Reserved1=n.read_shift(0,"lpstr-ansi"),n.length-n.l<=4)||(r=n.read_shift(4),r!==1907505652)||(e.UnicodeClipboardFormat=yde(n),r=n.read_shift(4),r==0||r>40))return e;n.l-=4,e.Reserved2=n.read_shift(0,"lpwstr")}var ixe=[60,1084,2066,2165,2175];function sxe(t,e,n,r,i){var s=r,a=[],o=n.slice(n.l,n.l+s);if(i&&i.enc&&i.enc.insitu&&o.length>0)switch(t){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:i.enc.insitu(o)}a.push(o),n.l+=s;for(var c=Nu(n,n.l),f=mT[c],d=0;f!=null&&ixe.indexOf(c)>-1;)s=Nu(n,n.l+2),d=n.l+4,c==2066?d+=4:(c==2165||c==2175)&&(d+=12),o=n.slice(d,n.l+4+s),a.push(o),n.l+=4+s,f=mT[c=Nu(n,n.l)];var m=Bf(a);aa(m,0);var g=0;m.lens=[];for(var y=0;y<a.length;++y)m.lens.push(g),g+=a[y].length;if(m.length<r)throw"XLS Record 0x"+t.toString(16)+" Truncated: "+m.length+" < "+r;return e.f(m,m.length,i)}function Ec(t,e,n){if(t.t!=="z"&&t.XF){var r=0;try{r=t.z||t.XF.numFmtId||0,e.cellNF&&(t.z=Wn[r])}catch(s){if(e.WTF)throw s}if(!e||e.cellText!==!1)try{t.t==="e"?t.w=t.w||Bh[t.v]:r===0||r=="General"?t.t==="n"?(t.v|0)===t.v?t.w=t.v.toString(10):t.w=a1(t.v):t.w=bh(t.v):t.w=yl(r,t.v,{date1904:!!n,dateNF:e&&e.dateNF})}catch(s){if(e.WTF)throw s}if(e.cellDates&&r&&t.t=="n"&&Zp(Wn[r]||String(r))){var i=$d(t.v);i&&(t.t="d",t.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}}function dy(t,e,n){return{v:t,ixfe:e,t:n}}function axe(t,e){var n={opts:{}},r={},i=e.dense?[]:{},s={},a={},o=null,c=[],f="",d={},m,g="",y,E,_,A,C={},V=[],R,F,z=[],W=[],D={Sheets:[],WBProps:{date1904:!1},Views:[{}]},L={},k=function(Rt){return Rt<8?rh[Rt]:Rt<64&&W[Rt-8]||rh[Rt]},q=function(Rt,Nt,qn){var Bt=Nt.XF.data;if(!(!Bt||!Bt.patternType||!qn||!qn.cellStyles)){Nt.s={},Nt.s.patternType=Bt.patternType;var Ct;(Ct=u1(k(Bt.icvFore)))&&(Nt.s.fgColor={rgb:Ct}),(Ct=u1(k(Bt.icvBack)))&&(Nt.s.bgColor={rgb:Ct})}},P=function(Rt,Nt,qn){if(!(re>1)&&!(qn.sheetRows&&Rt.r>=qn.sheetRows)){if(qn.cellStyles&&Nt.XF&&Nt.XF.data&&q(Rt,Nt,qn),delete Nt.ixfe,delete Nt.XF,m=Rt,g=jn(Rt),(!a||!a.s||!a.e)&&(a={s:{r:0,c:0},e:{r:0,c:0}}),Rt.r<a.s.r&&(a.s.r=Rt.r),Rt.c<a.s.c&&(a.s.c=Rt.c),Rt.r+1>a.e.r&&(a.e.r=Rt.r+1),Rt.c+1>a.e.c&&(a.e.c=Rt.c+1),qn.cellFormula&&Nt.f){for(var Bt=0;Bt<V.length;++Bt)if(!(V[Bt][0].s.c>Rt.c||V[Bt][0].s.r>Rt.r)&&!(V[Bt][0].e.c<Rt.c||V[Bt][0].e.r<Rt.r)){Nt.F=_r(V[Bt][0]),(V[Bt][0].s.c!=Rt.c||V[Bt][0].s.r!=Rt.r)&&delete Nt.f,Nt.f&&(Nt.f=""+Ta(V[Bt][1],a,Rt,me,M));break}}qn.dense?(i[Rt.r]||(i[Rt.r]=[]),i[Rt.r][Rt.c]=Nt):i[g]=Nt}},M={enc:!1,sbcch:0,snames:[],sharedf:C,arrayf:V,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!e&&!!e.cellStyles,WTF:!!e&&!!e.wtf};e.password&&(M.password=e.password);var j,ae=[],Ae=[],fe=[],xe=[],Ne=!1,me=[];me.SheetNames=M.snames,me.sharedf=M.sharedf,me.arrayf=M.arrayf,me.names=[],me.XTI=[];var Re=0,re=0,B=0,Y=[],X=[],Q;M.codepage=1200,Yl(1200);for(var ce=!1;t.l<t.length-1;){var _e=t.l,Pe=t.read_shift(2);if(Pe===0&&Re===10)break;var Z=t.l===t.length?0:t.read_shift(2),Ce=mT[Pe];if(Ce&&Ce.f){if(e.bookSheets&&Re===133&&Pe!==133)break;if(Re=Pe,Ce.r===2||Ce.r==12){var qe=t.read_shift(2);if(Z-=2,!M.enc&&qe!==Pe&&((qe&255)<<8|qe>>8)!==Pe)throw new Error("rt mismatch: "+qe+"!="+Pe);Ce.r==12&&(t.l+=10,Z-=10)}var ee={};if(Pe===10?ee=Ce.f(t,Z,M):ee=sxe(Pe,Ce,t,Z,M),re==0&&[9,521,1033,2057].indexOf(Re)===-1)continue;switch(Pe){case 34:n.opts.Date1904=D.WBProps.date1904=ee;break;case 134:n.opts.WriteProtect=!0;break;case 47:if(M.enc||(t.l=0),M.enc=ee,!e.password)throw new Error("File is password-protected");if(ee.valid==null)throw new Error("Encryption scheme unsupported");if(!ee.valid)throw new Error("Password is incorrect");break;case 92:M.lastuser=ee;break;case 66:var Ie=Number(ee);switch(Ie){case 21010:Ie=1200;break;case 32768:Ie=1e4;break;case 32769:Ie=1252;break}Yl(M.codepage=Ie),ce=!0;break;case 317:M.rrtabid=ee;break;case 25:M.winlocked=ee;break;case 439:n.opts.RefreshAll=ee;break;case 12:n.opts.CalcCount=ee;break;case 16:n.opts.CalcDelta=ee;break;case 17:n.opts.CalcIter=ee;break;case 13:n.opts.CalcMode=ee;break;case 14:n.opts.CalcPrecision=ee;break;case 95:n.opts.CalcSaveRecalc=ee;break;case 15:M.CalcRefMode=ee;break;case 2211:n.opts.FullCalc=ee;break;case 129:ee.fDialog&&(i["!type"]="dialog"),ee.fBelow||((i["!outline"]||(i["!outline"]={})).above=!0),ee.fRight||((i["!outline"]||(i["!outline"]={})).left=!0);break;case 224:z.push(ee);break;case 430:me.push([ee]),me[me.length-1].XTI=[];break;case 35:case 547:me[me.length-1].push(ee);break;case 24:case 536:Q={Name:ee.Name,Ref:Ta(ee.rgce,a,null,me,M)},ee.itab>0&&(Q.Sheet=ee.itab-1),me.names.push(Q),me[0]||(me[0]=[],me[0].XTI=[]),me[me.length-1].push(ee),ee.Name=="_xlnm._FilterDatabase"&&ee.itab>0&&ee.rgce&&ee.rgce[0]&&ee.rgce[0][0]&&ee.rgce[0][0][0]=="PtgArea3d"&&(X[ee.itab-1]={ref:_r(ee.rgce[0][0][1][2])});break;case 22:M.ExternCount=ee;break;case 23:me.length==0&&(me[0]=[],me[0].XTI=[]),me[me.length-1].XTI=me[me.length-1].XTI.concat(ee),me.XTI=me.XTI.concat(ee);break;case 2196:if(M.biff<8)break;Q!=null&&(Q.Comment=ee[1]);break;case 18:i["!protect"]=ee;break;case 19:ee!==0&&M.WTF&&console.error("Password verifier: "+ee);break;case 133:s[ee.pos]=ee,M.snames.push(ee.name);break;case 10:{if(--re)break;if(a.e){if(a.e.r>0&&a.e.c>0){if(a.e.r--,a.e.c--,i["!ref"]=_r(a),e.sheetRows&&e.sheetRows<=a.e.r){var Ye=a.e.r;a.e.r=e.sheetRows-1,i["!fullref"]=i["!ref"],i["!ref"]=_r(a),a.e.r=Ye}a.e.r++,a.e.c++}ae.length>0&&(i["!merges"]=ae),Ae.length>0&&(i["!objects"]=Ae),fe.length>0&&(i["!cols"]=fe),xe.length>0&&(i["!rows"]=xe),D.Sheets.push(L)}f===""?d=i:r[f]=i,i=e.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(M.biff===8&&(M.biff={9:2,521:3,1033:4}[Pe]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[ee.BIFFVer]||8),M.biffguess=ee.BIFFVer==0,ee.BIFFVer==0&&ee.dt==4096&&(M.biff=5,ce=!0,Yl(M.codepage=28591)),M.biff==8&&ee.BIFFVer==0&&ee.dt==16&&(M.biff=2),re++)break;if(i=e.dense?[]:{},M.biff<8&&!ce&&(ce=!0,Yl(M.codepage=e.codepage||1252)),M.biff<5||ee.BIFFVer==0&&ee.dt==4096){f===""&&(f="Sheet1"),a={s:{r:0,c:0},e:{r:0,c:0}};var oe={pos:t.l-Z,name:f};s[oe.pos]=oe,M.snames.push(f)}else f=(s[_e]||{name:""}).name;ee.dt==32&&(i["!type"]="chart"),ee.dt==64&&(i["!type"]="macro"),ae=[],Ae=[],M.arrayf=V=[],fe=[],xe=[],Ne=!1,L={Hidden:(s[_e]||{hs:0}).hs,name:f}}break;case 515:case 3:case 2:i["!type"]=="chart"&&(e.dense?(i[ee.r]||[])[ee.c]:i[jn({c:ee.c,r:ee.r})])&&++ee.c,R={ixfe:ee.ixfe,XF:z[ee.ixfe]||{},v:ee.val,t:"n"},B>0&&(R.z=Y[R.ixfe>>8&63]),Ec(R,e,n.opts.Date1904),P({c:ee.c,r:ee.r},R,e);break;case 5:case 517:R={ixfe:ee.ixfe,XF:z[ee.ixfe],v:ee.val,t:ee.t},B>0&&(R.z=Y[R.ixfe>>8&63]),Ec(R,e,n.opts.Date1904),P({c:ee.c,r:ee.r},R,e);break;case 638:R={ixfe:ee.ixfe,XF:z[ee.ixfe],v:ee.rknum,t:"n"},B>0&&(R.z=Y[R.ixfe>>8&63]),Ec(R,e,n.opts.Date1904),P({c:ee.c,r:ee.r},R,e);break;case 189:for(var rt=ee.c;rt<=ee.C;++rt){var st=ee.rkrec[rt-ee.c][0];R={ixfe:st,XF:z[st],v:ee.rkrec[rt-ee.c][1],t:"n"},B>0&&(R.z=Y[R.ixfe>>8&63]),Ec(R,e,n.opts.Date1904),P({c:rt,r:ee.r},R,e)}break;case 6:case 518:case 1030:{if(ee.val=="String"){o=ee;break}if(R=dy(ee.val,ee.cell.ixfe,ee.tt),R.XF=z[R.ixfe],e.cellFormula){var ft=ee.formula;if(ft&&ft[0]&&ft[0][0]&&ft[0][0][0]=="PtgExp"){var tt=ft[0][0][1][0],wt=ft[0][0][1][1],At=jn({r:tt,c:wt});C[At]?R.f=""+Ta(ee.formula,a,ee.cell,me,M):R.F=((e.dense?(i[tt]||[])[wt]:i[At])||{}).F}else R.f=""+Ta(ee.formula,a,ee.cell,me,M)}B>0&&(R.z=Y[R.ixfe>>8&63]),Ec(R,e,n.opts.Date1904),P(ee.cell,R,e),o=ee}break;case 7:case 519:if(o)o.val=ee,R=dy(ee,o.cell.ixfe,"s"),R.XF=z[R.ixfe],e.cellFormula&&(R.f=""+Ta(o.formula,a,o.cell,me,M)),B>0&&(R.z=Y[R.ixfe>>8&63]),Ec(R,e,n.opts.Date1904),P(o.cell,R,e),o=null;else throw new Error("String record expects Formula");break;case 33:case 545:{V.push(ee);var Pt=jn(ee[0].s);if(y=e.dense?(i[ee[0].s.r]||[])[ee[0].s.c]:i[Pt],e.cellFormula&&y){if(!o||!Pt||!y)break;y.f=""+Ta(ee[1],a,ee[0],me,M),y.F=_r(ee[0])}}break;case 1212:{if(!e.cellFormula)break;if(g){if(!o)break;C[jn(o.cell)]=ee[0],y=e.dense?(i[o.cell.r]||[])[o.cell.c]:i[jn(o.cell)],(y||{}).f=""+Ta(ee[0],a,m,me,M)}}break;case 253:R=dy(c[ee.isst].t,ee.ixfe,"s"),c[ee.isst].h&&(R.h=c[ee.isst].h),R.XF=z[R.ixfe],B>0&&(R.z=Y[R.ixfe>>8&63]),Ec(R,e,n.opts.Date1904),P({c:ee.c,r:ee.r},R,e);break;case 513:e.sheetStubs&&(R={ixfe:ee.ixfe,XF:z[ee.ixfe],t:"z"},B>0&&(R.z=Y[R.ixfe>>8&63]),Ec(R,e,n.opts.Date1904),P({c:ee.c,r:ee.r},R,e));break;case 190:if(e.sheetStubs)for(var jt=ee.c;jt<=ee.C;++jt){var Zt=ee.ixfe[jt-ee.c];R={ixfe:Zt,XF:z[Zt],t:"z"},B>0&&(R.z=Y[R.ixfe>>8&63]),Ec(R,e,n.opts.Date1904),P({c:jt,r:ee.r},R,e)}break;case 214:case 516:case 4:R=dy(ee.val,ee.ixfe,"s"),R.XF=z[R.ixfe],B>0&&(R.z=Y[R.ixfe>>8&63]),Ec(R,e,n.opts.Date1904),P({c:ee.c,r:ee.r},R,e);break;case 0:case 512:re===1&&(a=ee);break;case 252:c=ee;break;case 1054:if(M.biff==4){Y[B++]=ee[1];for(var Gt=0;Gt<B+163&&Wn[Gt]!=ee[1];++Gt);Gt>=163&&nh(ee[1],B+163)}else nh(ee[1],ee[0]);break;case 30:{Y[B++]=ee;for(var Wt=0;Wt<B+163&&Wn[Wt]!=ee;++Wt);Wt>=163&&nh(ee,B+163)}break;case 229:ae=ae.concat(ee);break;case 93:Ae[ee.cmo[0]]=M.lastobj=ee;break;case 438:M.lastobj.TxO=ee;break;case 127:M.lastobj.ImData=ee;break;case 440:for(A=ee[0].s.r;A<=ee[0].e.r;++A)for(_=ee[0].s.c;_<=ee[0].e.c;++_)y=e.dense?(i[A]||[])[_]:i[jn({c:_,r:A})],y&&(y.l=ee[1]);break;case 2048:for(A=ee[0].s.r;A<=ee[0].e.r;++A)for(_=ee[0].s.c;_<=ee[0].e.c;++_)y=e.dense?(i[A]||[])[_]:i[jn({c:_,r:A})],y&&y.l&&(y.l.Tooltip=ee[1]);break;case 28:{if(M.biff<=5&&M.biff>=2)break;y=e.dense?(i[ee[0].r]||[])[ee[0].c]:i[jn(ee[0])];var Nn=Ae[ee[2]];y||(e.dense?(i[ee[0].r]||(i[ee[0].r]=[]),y=i[ee[0].r][ee[0].c]={t:"z"}):y=i[jn(ee[0])]={t:"z"},a.e.r=Math.max(a.e.r,ee[0].r),a.s.r=Math.min(a.s.r,ee[0].r),a.e.c=Math.max(a.e.c,ee[0].c),a.s.c=Math.min(a.s.c,ee[0].c)),y.c||(y.c=[]),E={a:ee[1],t:Nn.TxO.t},y.c.push(E)}break;case 2173:Cpe(z[ee.ixfe],ee.ext);break;case 125:{if(!M.cellStyles)break;for(;ee.e>=ee.s;)fe[ee.e--]={width:ee.w/256,level:ee.level||0,hidden:!!(ee.flags&1)},Ne||(Ne=!0,jS(ee.w/256)),Op(fe[ee.e+1])}break;case 520:{var en={};ee.level!=null&&(xe[ee.r]=en,en.level=ee.level),ee.hidden&&(xe[ee.r]=en,en.hidden=!0),ee.hpt&&(xe[ee.r]=en,en.hpt=ee.hpt,en.hpx=f1(ee.hpt))}break;case 38:case 39:case 40:case 41:i["!margins"]||Dg(i["!margins"]={}),i["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[Pe]]=ee;break;case 161:i["!margins"]||Dg(i["!margins"]={}),i["!margins"].header=ee.header,i["!margins"].footer=ee.footer;break;case 574:ee.RTL&&(D.Views[0].RTL=!0);break;case 146:W=ee;break;case 2198:j=ee;break;case 140:F=ee;break;case 442:f?L.CodeName=ee||L.name:D.WBProps.CodeName=ee||"ThisWorkbook";break}}else Ce||console.error("Missing Info for XLS Record 0x"+Pe.toString(16)),t.l+=Z}return n.SheetNames=Hc(s).sort(function(Ft,Rt){return Number(Ft)-Number(Rt)}).map(function(Ft){return s[Ft].name}),e.bookSheets||(n.Sheets=r),!n.SheetNames.length&&d["!ref"]?(n.SheetNames.push("Sheet1"),n.Sheets&&(n.Sheets.Sheet1=d)):n.Preamble=d,n.Sheets&&X.forEach(function(Ft,Rt){n.Sheets[n.SheetNames[Rt]]["!autofilter"]=Ft}),n.Strings=c,n.SSF=la(Wn),M.enc&&(n.Encryption=M.enc),j&&(n.Themes=j),n.Metadata={},F!==void 0&&(n.Metadata.Country=F),me.names.length>0&&(D.Names=me.names),n.Workbook=D,n}var oD={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function oxe(t,e,n){var r=br.find(t,"/!DocumentSummaryInformation");if(r&&r.size>0)try{var i=zP(r,Ede,oD.DSI);for(var s in i)e[s]=i[s]}catch(f){if(n.WTF)throw f}var a=br.find(t,"/!SummaryInformation");if(a&&a.size>0)try{var o=zP(a,Sde,oD.SI);for(var c in o)e[c]==null&&(e[c]=o[c])}catch(f){if(n.WTF)throw f}e.HeadingPairs&&e.TitlesOfParts&&(Y9(e.HeadingPairs,e.TitlesOfParts,e,n),delete e.HeadingPairs,delete e.TitlesOfParts)}function PB(t,e){e||(e={}),WS(e),o9(),e.codepage&&ES(e.codepage);var n,r;if(t.FullPaths){if(br.find(t,"/encryption"))throw new Error("File is password-protected");n=br.find(t,"!CompObj"),r=br.find(t,"/Workbook")||br.find(t,"/Book")}else{switch(e.type){case"base64":t=$l(qo(t));break;case"binary":t=$l(t);break;case"buffer":break;case"array":Array.isArray(t)||(t=Array.prototype.slice.call(t));break}aa(t,0),r={content:t}}var i,s;if(n&&rxe(n),e.bookProps&&!e.bookSheets)i={};else{var a=hr?"buffer":"array";if(r&&r.content)i=axe(r.content,e);else if((s=br.find(t,"PerfectOffice_MAIN"))&&s.content)i=Rg.to_workbook(s.content,(e.type=a,e));else if((s=br.find(t,"NativeContent_MAIN"))&&s.content)i=Rg.to_workbook(s.content,(e.type=a,e));else throw(s=br.find(t,"MN0"))&&s.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");e.bookVBA&&t.FullPaths&&br.find(t,"/_VBA_PROJECT_CUR/VBA/dir")&&(i.vbaraw=Wpe(t))}var o={};return t.FullPaths&&oxe(t,o,e),i.Props=i.Custprops=o,e.bookFiles&&(i.cfb=t),i}var z2={0:{f:qge},1:{f:Wge},2:{f:t1e},3:{f:Xge},4:{f:Kge},5:{f:e1e},6:{f:i1e},7:{f:Qge},8:{f:c1e},9:{f:l1e},10:{f:a1e},11:{f:o1e},12:{f:$ge},13:{f:n1e},14:{f:Jge},15:{f:Yge},16:{f:NB},17:{f:s1e},18:{f:Zge},19:{f:LS},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:F1e},40:{},42:{},43:{f:ape},44:{f:spe},45:{f:ope},46:{f:cpe},47:{f:lpe},48:{},49:{f:ude},50:{},51:{f:kpe},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:oB},62:{f:r1e},63:{f:Lpe},64:{f:y1e},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Ra,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:x1e},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:Gge},148:{f:Hge,p:16},151:{f:d1e},152:{},153:{f:M1e},154:{},155:{},156:{f:D1e},157:{},158:{},159:{T:1,f:S0e},160:{T:-1},161:{T:1,f:Oh},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:u1e},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:Ipe},336:{T:-1},337:{f:Rpe,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:uT},357:{},358:{},359:{},360:{T:1},361:{},362:{f:aB},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:h1e},427:{f:p1e},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:g1e},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:zge},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:f1e},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:uT},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:Hpe},633:{T:1},634:{T:-1},635:{T:1,f:qpe},636:{T:-1},637:{f:dde},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:E1e},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:v1e},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},mT={6:{f:Iw},10:{f:Rf},12:{f:us},13:{f:us},14:{f:Xi},15:{f:Xi},16:{f:Sa},17:{f:Xi},18:{f:Xi},19:{f:us},20:{f:KP},21:{f:KP},23:{f:aB},24:{f:XP},25:{f:Xi},26:{},27:{},28:{f:Uhe},29:{},34:{f:Xi},35:{f:YP},38:{f:Sa},39:{f:Sa},40:{f:Sa},41:{f:Sa},42:{f:Xi},43:{f:Xi},47:{f:z0e},49:{f:_he},51:{f:us},60:{},61:{f:yhe},64:{f:Xi},65:{f:bhe},66:{f:us},77:{},80:{},81:{},82:{},85:{f:us},89:{},90:{},91:{},92:{f:uhe},93:{f:qhe},94:{},95:{f:Xi},96:{},97:{},99:{f:Xi},125:{f:oB},128:{f:Rhe},129:{f:fhe},130:{f:us},131:{f:Xi},132:{f:Xi},133:{f:dhe},134:{},140:{f:Khe},141:{f:us},144:{},146:{f:Xhe},151:{},152:{},153:{},154:{},155:{},156:{f:us},157:{},158:{},160:{f:t0e},161:{f:Qhe},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:Nhe},190:{f:Che},193:{f:Rf},197:{},198:{},199:{},200:{},201:{},202:{f:Xi},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:us},220:{},221:{f:Xi},222:{},224:{f:khe},225:{f:che},226:{f:Rf},227:{},229:{f:jhe},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:hhe},253:{f:whe},255:{f:phe},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:eB},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:Xi},353:{f:Rf},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:Dhe},431:{f:Xi},432:{},433:{},434:{},437:{},438:{f:Ghe},439:{f:Xi},440:{f:Whe},441:{},442:{f:O1},443:{},444:{f:us},445:{},446:{},448:{f:Rf},449:{f:xhe,r:2},450:{f:Rf},512:{f:WP},513:{f:e0e},515:{f:Phe},516:{f:The},517:{f:$P},519:{f:n0e},520:{f:mhe},523:{},545:{f:JP},549:{f:GP},566:{},574:{f:vhe},638:{f:Ahe},659:{},1048:{},1054:{f:Ehe},1084:{},1212:{f:Ohe},2048:{f:$he},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:cy},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:Rf},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:Jhe,r:12},2173:{f:Npe,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:Xi,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:Fhe,r:12},2197:{},2198:{f:_pe,r:12},2199:{},2200:{},2201:{},2202:{f:Bhe,r:12},2203:{f:Rf},2204:{},2205:{},2206:{},2207:{},2211:{f:ghe},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:us},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:Zhe},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:Yhe},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:WP},1:{},2:{f:a0e},3:{f:s0e},4:{f:i0e},5:{f:$P},7:{f:o0e},8:{},9:{f:cy},11:{},22:{f:us},30:{f:She},31:{},32:{},33:{f:JP},36:{},37:{f:GP},50:{f:l0e},62:{},52:{},67:{},68:{f:us},69:{},86:{},126:{},127:{f:r0e},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:c0e},223:{},234:{},354:{},421:{},518:{f:Iw},521:{f:cy},536:{f:XP},547:{f:YP},561:{},579:{},1030:{f:Iw},1033:{f:cy},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function Hl(t,e,n,r){var i=e;if(!isNaN(i)){var s=(n||[]).length||0,a=t.next(4);a.write_shift(2,i),a.write_shift(2,s),s>0&&j9(n)&&t.push(n)}}function lD(t,e){var n=e||{},r=n.dense?[]:{};t=t.replace(/<!--.*?-->/g,"");var i=t.match(/<table/i);if(!i)throw new Error("Invalid HTML: could not find <table>");var s=t.match(/<\/table/i),a=i.index,o=s&&s.index||t.length,c=Pfe(t.slice(a,o),/(:?<tr[^>]*>)/i,"<tr>"),f=-1,d=0,m=0,g=0,y={s:{r:1e7,c:1e7},e:{r:0,c:0}},E=[];for(a=0;a<c.length;++a){var _=c[a].trim(),A=_.slice(0,3).toLowerCase();if(A=="<tr"){if(++f,n.sheetRows&&n.sheetRows<=f){--f;break}d=0;continue}if(!(A!="<td"&&A!="<th")){var C=_.split(/<\/t[dh]>/i);for(o=0;o<C.length;++o){var V=C[o].trim();if(V.match(/<t[dh]/i)){for(var R=V,F=0;R.charAt(0)=="<"&&(F=R.indexOf(">"))>-1;)R=R.slice(F+1);for(var z=0;z<E.length;++z){var W=E[z];W.s.c==d&&W.s.r<f&&f<=W.e.r&&(d=W.e.c+1,z=-1)}var D=Pn(V.slice(0,V.indexOf(">")));g=D.colspan?+D.colspan:1,((m=+D.rowspan)>1||g>1)&&E.push({s:{r:f,c:d},e:{r:f+(m||1)-1,c:d+g-1}});var L=D.t||D["data-t"]||"";if(!R.length){d+=g;continue}if(R=C9(R),y.s.r>f&&(y.s.r=f),y.e.r<f&&(y.e.r=f),y.s.c>d&&(y.s.c=d),y.e.c<d&&(y.e.c=d),!R.length){d+=g;continue}var k={t:"s",v:R};n.raw||!R.trim().length||L=="s"||(R==="TRUE"?k={t:"b",v:!0}:R==="FALSE"?k={t:"b",v:!1}:isNaN(Jl(R))?isNaN(Fp(R).getDate())||(k={t:"d",v:Gs(R)},n.cellDates||(k={t:"n",v:Ka(k.v)}),k.z=n.dateNF||Wn[14]):k={t:"n",v:Jl(R)}),n.dense?(r[f]||(r[f]=[]),r[f][d]=k):r[jn({r:f,c:d})]=k,d+=g}}}}return r["!ref"]=_r(y),E.length&&(r["!merges"]=E),r}function lxe(t,e,n,r){for(var i=t["!merges"]||[],s=[],a=e.s.c;a<=e.e.c;++a){for(var o=0,c=0,f=0;f<i.length;++f)if(!(i[f].s.r>n||i[f].s.c>a)&&!(i[f].e.r<n||i[f].e.c<a)){if(i[f].s.r<n||i[f].s.c<a){o=-1;break}o=i[f].e.r-i[f].s.r+1,c=i[f].e.c-i[f].s.c+1;break}if(!(o<0)){var d=jn({r:n,c:a}),m=r.dense?(t[n]||[])[a]:t[d],g=m&&m.v!=null&&(m.h||kS(m.w||(ju(m),m.w)||""))||"",y={};o>1&&(y.rowspan=o),c>1&&(y.colspan=c),r.editable?g='<span contenteditable="true">'+g+"</span>":m&&(y["data-t"]=m&&m.t||"z",m.v!=null&&(y["data-v"]=m.v),m.z!=null&&(y["data-z"]=m.z),m.l&&(m.l.Target||"#").charAt(0)!="#"&&(g='<a href="'+m.l.Target+'">'+g+"</a>")),y.id=(r.id||"sjs")+"-"+d,s.push(Kfe("td",g,y))}}var E="<tr>";return E+s.join("")+"</tr>"}var cxe='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',uxe="</body></html>";function fxe(t,e){var n=t.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!n||n.length==0)throw new Error("Invalid HTML: could not find <table>");if(n.length==1)return dd(lD(n[0],e),e);var r=KS();return n.forEach(function(i,s){YS(r,lD(i,e),"Sheet"+(s+1))}),r}function dxe(t,e,n){var r=[];return r.join("")+"<table"+(n&&n.id?' id="'+n.id+'"':"")+">"}function hxe(t,e){var n=e||{},r=n.header!=null?n.header:cxe,i=n.footer!=null?n.footer:uxe,s=[r],a=em(t["!ref"]);n.dense=Array.isArray(t),s.push(dxe(t,a,n));for(var o=a.s.r;o<=a.e.r;++o)s.push(lxe(t,a,o,n));return s.push("</table>"+i),s.join("")}function DB(t,e,n){var r=n||{},i=0,s=0;if(r.origin!=null)if(typeof r.origin=="number")i=r.origin;else{var a=typeof r.origin=="string"?Ga(r.origin):r.origin;i=a.r,s=a.c}var o=e.getElementsByTagName("tr"),c=Math.min(r.sheetRows||1e7,o.length),f={s:{r:0,c:0},e:{r:i,c:s}};if(t["!ref"]){var d=em(t["!ref"]);f.s.r=Math.min(f.s.r,d.s.r),f.s.c=Math.min(f.s.c,d.s.c),f.e.r=Math.max(f.e.r,d.e.r),f.e.c=Math.max(f.e.c,d.e.c),i==-1&&(f.e.r=i=d.e.r+1)}var m=[],g=0,y=t["!rows"]||(t["!rows"]=[]),E=0,_=0,A=0,C=0,V=0,R=0;for(t["!cols"]||(t["!cols"]=[]);E<o.length&&_<c;++E){var F=o[E];if(cD(F)){if(r.display)continue;y[_]={hidden:!0}}var z=F.children;for(A=C=0;A<z.length;++A){var W=z[A];if(!(r.display&&cD(W))){var D=W.hasAttribute("data-v")?W.getAttribute("data-v"):W.hasAttribute("v")?W.getAttribute("v"):C9(W.innerHTML),L=W.getAttribute("data-z")||W.getAttribute("z");for(g=0;g<m.length;++g){var k=m[g];k.s.c==C+s&&k.s.r<_+i&&_+i<=k.e.r&&(C=k.e.c+1-s,g=-1)}R=+W.getAttribute("colspan")||1,((V=+W.getAttribute("rowspan")||1)>1||R>1)&&m.push({s:{r:_+i,c:C+s},e:{r:_+i+(V||1)-1,c:C+s+(R||1)-1}});var q={t:"s",v:D},P=W.getAttribute("data-t")||W.getAttribute("t")||"";D!=null&&(D.length==0?q.t=P||"z":r.raw||D.trim().length==0||P=="s"||(D==="TRUE"?q={t:"b",v:!0}:D==="FALSE"?q={t:"b",v:!1}:isNaN(Jl(D))?isNaN(Fp(D).getDate())||(q={t:"d",v:Gs(D)},r.cellDates||(q={t:"n",v:Ka(q.v)}),q.z=r.dateNF||Wn[14]):q={t:"n",v:Jl(D)})),q.z===void 0&&L!=null&&(q.z=L);var M="",j=W.getElementsByTagName("A");if(j&&j.length)for(var ae=0;ae<j.length&&!(j[ae].hasAttribute("href")&&(M=j[ae].getAttribute("href"),M.charAt(0)!="#"));++ae);M&&M.charAt(0)!="#"&&(q.l={Target:M}),r.dense?(t[_+i]||(t[_+i]=[]),t[_+i][C+s]=q):t[jn({c:C+s,r:_+i})]=q,f.e.c<C+s&&(f.e.c=C+s),C+=R}}++_}return m.length&&(t["!merges"]=(t["!merges"]||[]).concat(m)),f.e.r=Math.max(f.e.r,_-1+i),t["!ref"]=_r(f),_>=c&&(t["!fullref"]=_r((f.e.r=o.length-E+_-1+i,f))),t}function MB(t,e){var n=e||{},r=n.dense?[]:{};return DB(r,t,e)}function pxe(t,e){return dd(MB(t,e),e)}function cD(t){var e="",n=mxe(t);return n&&(e=n(t).getPropertyValue("display")),e||(e=t.style&&t.style.display),e==="none"}function mxe(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function gxe(t){var e=t.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(r,i){return Array(parseInt(i,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),n=Sr(e.replace(/<[^>]*>/g,""));return[n]}var uD={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function LB(t,e){var n=e||{},r=RS(t),i=[],s,a,o={name:""},c="",f=0,d,m,g={},y=[],E=n.dense?[]:{},_,A,C={value:""},V="",R=0,F=[],z=-1,W=-1,D={s:{r:1e6,c:1e7},e:{r:0,c:0}},L=0,k={},q=[],P={},M=0,j=0,ae=[],Ae=1,fe=1,xe=[],Ne={Names:[]},me={},Re=["",""],re=[],B={},Y="",X=0,Q=!1,ce=!1,_e=0;for(l1.lastIndex=0,r=r.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");_=l1.exec(r);)switch(_[3]=_[3].replace(/_.*$/,"")){case"table":case"":_[1]==="/"?(D.e.c>=D.s.c&&D.e.r>=D.s.r?E["!ref"]=_r(D):E["!ref"]="A1:A1",n.sheetRows>0&&n.sheetRows<=D.e.r&&(E["!fullref"]=E["!ref"],D.e.r=n.sheetRows-1,E["!ref"]=_r(D)),q.length&&(E["!merges"]=q),ae.length&&(E["!rows"]=ae),d.name=d.||d.name,typeof JSON<"u"&&JSON.stringify(d),y.push(d.name),g[d.name]=E,ce=!1):_[0].charAt(_[0].length-2)!=="/"&&(d=Pn(_[0],!1),z=W=-1,D.s.r=D.s.c=1e7,D.e.r=D.e.c=0,E=n.dense?[]:{},q=[],ae=[],ce=!0);break;case"table-row-group":_[1]==="/"?--L:++L;break;case"table-row":case"":if(_[1]==="/"){z+=Ae,Ae=1;break}if(m=Pn(_[0],!1),m.?z=m.-1:z==-1&&(z=0),Ae=+m["number-rows-repeated"]||1,Ae<10)for(_e=0;_e<Ae;++_e)L>0&&(ae[z+_e]={level:L});W=-1;break;case"covered-table-cell":_[1]!=="/"&&++W,n.sheetStubs&&(n.dense?(E[z]||(E[z]=[]),E[z][W]={t:"z"}):E[jn({r:z,c:W})]={t:"z"}),V="",F=[];break;case"table-cell":case"":if(_[0].charAt(_[0].length-2)==="/")++W,C=Pn(_[0],!1),fe=parseInt(C["number-columns-repeated"]||"1",10),A={t:"z",v:null},C.formula&&n.cellFormula!=!1&&(A.f=iD(Sr(C.formula))),(C.||C["value-type"])=="string"&&(A.t="s",A.v=Sr(C["string-value"]||""),n.dense?(E[z]||(E[z]=[]),E[z][W]=A):E[jn({r:z,c:W})]=A),W+=fe-1;else if(_[1]!=="/"){++W,V="",R=0,F=[],fe=1;var Pe=Ae?z+Ae-1:z;if(W>D.e.c&&(D.e.c=W),W<D.s.c&&(D.s.c=W),z<D.s.r&&(D.s.r=z),Pe>D.e.r&&(D.e.r=Pe),C=Pn(_[0],!1),re=[],B={},A={t:C.||C["value-type"],v:null},n.cellFormula)if(C.formula&&(C.formula=Sr(C.formula)),C["number-matrix-columns-spanned"]&&C["number-matrix-rows-spanned"]&&(M=parseInt(C["number-matrix-rows-spanned"],10)||0,j=parseInt(C["number-matrix-columns-spanned"],10)||0,P={s:{r:z,c:W},e:{r:z+M-1,c:W+j-1}},A.F=_r(P),xe.push([P,A.F])),C.formula)A.f=iD(C.formula);else for(_e=0;_e<xe.length;++_e)z>=xe[_e][0].s.r&&z<=xe[_e][0].e.r&&W>=xe[_e][0].s.c&&W<=xe[_e][0].e.c&&(A.F=xe[_e][1]);switch((C["number-columns-spanned"]||C["number-rows-spanned"])&&(M=parseInt(C["number-rows-spanned"],10)||0,j=parseInt(C["number-columns-spanned"],10)||0,P={s:{r:z,c:W},e:{r:z+M-1,c:W+j-1}},q.push(P)),C["number-columns-repeated"]&&(fe=parseInt(C["number-columns-repeated"],10)),A.t){case"boolean":A.t="b",A.v=Ti(C["boolean-value"]);break;case"float":A.t="n",A.v=parseFloat(C.value);break;case"percentage":A.t="n",A.v=parseFloat(C.value);break;case"currency":A.t="n",A.v=parseFloat(C.value);break;case"date":A.t="d",A.v=Gs(C["date-value"]),n.cellDates||(A.t="n",A.v=Ka(A.v)),A.z="m/d/yy";break;case"time":A.t="n",A.v=Ife(C["time-value"])/86400,n.cellDates&&(A.t="d",A.v=Dv(A.v)),A.z="HH:MM:SS";break;case"number":A.t="n",A.v=parseFloat(C.);break;default:if(A.t==="string"||A.t==="text"||!A.t)A.t="s",C["string-value"]!=null&&(V=Sr(C["string-value"]),F=[]);else throw new Error("Unsupported value type "+A.t)}}else{if(Q=!1,A.t==="s"&&(A.v=V||"",F.length&&(A.R=F),Q=R==0),me.Target&&(A.l=me),re.length>0&&(A.c=re,re=[]),V&&n.cellText!==!1&&(A.w=V),Q&&(A.t="z",delete A.v),(!Q||n.sheetStubs)&&!(n.sheetRows&&n.sheetRows<=z))for(var Z=0;Z<Ae;++Z){if(fe=parseInt(C["number-columns-repeated"]||"1",10),n.dense)for(E[z+Z]||(E[z+Z]=[]),E[z+Z][W]=Z==0?A:la(A);--fe>0;)E[z+Z][W+fe]=la(A);else for(E[jn({r:z+Z,c:W})]=A;--fe>0;)E[jn({r:z+Z,c:W+fe})]=la(A);D.e.c<=W&&(D.e.c=W)}fe=parseInt(C["number-columns-repeated"]||"1",10),W+=fe-1,fe=0,A={},V="",F=[]}me={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(_[1]==="/"){if((s=i.pop())[0]!==_[3])throw"Bad state: "+s}else _[0].charAt(_[0].length-2)!=="/"&&i.push([_[3],!0]);break;case"annotation":if(_[1]==="/"){if((s=i.pop())[0]!==_[3])throw"Bad state: "+s;B.t=V,F.length&&(B.R=F),B.a=Y,re.push(B)}else _[0].charAt(_[0].length-2)!=="/"&&i.push([_[3],!1]);Y="",X=0,V="",R=0,F=[];break;case"creator":_[1]==="/"?Y=r.slice(X,_.index):X=_.index+_[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(_[1]==="/"){if((s=i.pop())[0]!==_[3])throw"Bad state: "+s}else _[0].charAt(_[0].length-2)!=="/"&&i.push([_[3],!1]);V="",R=0,F=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(_[1]==="/"){if(k[o.name]=c,(s=i.pop())[0]!==_[3])throw"Bad state: "+s}else _[0].charAt(_[0].length-2)!=="/"&&(c="",o=Pn(_[0],!1),i.push([_[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(i[i.length-1][0]){case"time-style":case"date-style":a=Pn(_[0],!1),c+=uD[_[3]][a.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(i[i.length-1][0]){case"time-style":case"date-style":a=Pn(_[0],!1),c+=uD[_[3]][a.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(_[0].slice(-2)==="/>")break;if(_[1]==="/")switch(i[i.length-1][0]){case"number-style":case"date-style":case"time-style":c+=r.slice(f,_.index);break}else f=_.index+_[0].length;break;case"named-range":a=Pn(_[0],!1),Re=kw(a["cell-range-address"]);var Ce={Name:a.name,Ref:Re[0]+"!"+Re[1]};ce&&(Ce.Sheet=y.length),Ne.Names.push(Ce);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(i[i.length-1][0])>-1)break;if(_[1]==="/"&&(!C||!C["string-value"])){var qe=gxe(r.slice(R,_.index));V=(V.length>0?V+`
`:"")+qe[0]}else Pn(_[0],!1),R=_.index+_[0].length;break;case"s":break;case"database-range":if(_[1]==="/")break;try{Re=kw(Pn(_[0])["target-range-address"]),g[Re[0]]["!autofilter"]={ref:Re[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(_[1]!=="/"){if(me=Pn(_[0],!1),!me.href)break;me.Target=Sr(me.href),delete me.href,me.Target.charAt(0)=="#"&&me.Target.indexOf(".")>-1?(Re=kw(me.Target.slice(1)),me.Target="#"+Re[0]+"!"+Re[1]):me.Target.match(/^\.\.[\\\/]/)&&(me.Target=me.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(_[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(n.WTF)throw new Error(_)}}var ee={Sheets:g,SheetNames:y,Workbook:Ne};return n.bookSheets&&delete ee.Sheets,ee}function fD(t,e){e=e||{},ul(t,"META-INF/manifest.xml")&&Pde(cs(t,"META-INF/manifest.xml"),e);var n=Bo(t,"content.xml");if(!n)throw new Error("Missing content.xml in ODS / UOF file");var r=LB(ai(n),e);return ul(t,"meta.xml")&&(r.Props=K9(cs(t,"meta.xml"))),r}function dD(t,e){return LB(t,e)}function zS(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function gT(t){return typeof TextDecoder<"u"?new TextDecoder().decode(t):ai(Lh(t))}function xT(t){var e=t.reduce(function(i,s){return i+s.length},0),n=new Uint8Array(e),r=0;return t.forEach(function(i){n.set(i,r),r+=i.length}),n}function hD(t){return t-=t>>1&1431655765,t=(t&858993459)+(t>>2&858993459),(t+(t>>4)&252645135)*16843009>>>24}function xxe(t,e){for(var n=(t[e+15]&127)<<7|t[e+14]>>1,r=t[e+14]&1,i=e+13;i>=e;--i)r=r*256+t[i];return(t[e+15]&128?-r:r)*Math.pow(10,n-6176)}function d1(t,e){var n=e?e[0]:0,r=t[n]&127;e:if(t[n++]>=128&&(r|=(t[n]&127)<<7,t[n++]<128||(r|=(t[n]&127)<<14,t[n++]<128)||(r|=(t[n]&127)<<21,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,28),++n,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,35),++n,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,42),++n,t[n++]<128)))break e;return e&&(e[0]=n),r}function Cs(t){var e=0,n=t[e]&127;e:if(t[e++]>=128){if(n|=(t[e]&127)<<7,t[e++]<128||(n|=(t[e]&127)<<14,t[e++]<128)||(n|=(t[e]&127)<<21,t[e++]<128))break e;n|=(t[e]&127)<<28}return n}function Ca(t){for(var e=[],n=[0];n[0]<t.length;){var r=n[0],i=d1(t,n),s=i&7;i=Math.floor(i/8);var a=0,o;if(i==0)break;switch(s){case 0:{for(var c=n[0];t[n[0]++]>=128;);o=t.slice(c,n[0])}break;case 5:a=4,o=t.slice(n[0],n[0]+a),n[0]+=a;break;case 1:a=8,o=t.slice(n[0],n[0]+a),n[0]+=a;break;case 2:a=d1(t,n),o=t.slice(n[0],n[0]+a),n[0]+=a;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(i," at offset ").concat(r))}var f={data:o,type:s};e[i]==null?e[i]=[f]:e[i].push(f)}return e}function GS(t,e){return t?.map(function(n){return e(n.data)})||[]}function yxe(t){for(var e,n=[],r=[0];r[0]<t.length;){var i=d1(t,r),s=Ca(t.slice(r[0],r[0]+i));r[0]+=i;var a={id:Cs(s[1][0].data),messages:[]};s[2].forEach(function(o){var c=Ca(o.data),f=Cs(c[3][0].data);a.messages.push({meta:c,data:t.slice(r[0],r[0]+f)}),r[0]+=f}),(e=s[3])!=null&&e[0]&&(a.merge=Cs(s[3][0].data)>>>0>0),n.push(a)}return n}function vxe(t,e){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var n=[0],r=d1(e,n),i=[];n[0]<e.length;){var s=e[n[0]]&3;if(s==0){var a=e[n[0]++]>>2;if(a<60)++a;else{var o=a-59;a=e[n[0]],o>1&&(a|=e[n[0]+1]<<8),o>2&&(a|=e[n[0]+2]<<16),o>3&&(a|=e[n[0]+3]<<24),a>>>=0,a++,n[0]+=o}i.push(e.slice(n[0],n[0]+a)),n[0]+=a;continue}else{var c=0,f=0;if(s==1?(f=(e[n[0]]>>2&7)+4,c=(e[n[0]++]&224)<<3,c|=e[n[0]++]):(f=(e[n[0]++]>>2)+1,s==2?(c=e[n[0]]|e[n[0]+1]<<8,n[0]+=2):(c=(e[n[0]]|e[n[0]+1]<<8|e[n[0]+2]<<16|e[n[0]+3]<<24)>>>0,n[0]+=4)),i=[xT(i)],c==0)throw new Error("Invalid offset 0");if(c>i[0].length)throw new Error("Invalid offset beyond length");if(f>=c)for(i.push(i[0].slice(-c)),f-=c;f>=i[i.length-1].length;)i.push(i[i.length-1]),f-=i[i.length-1].length;i.push(i[0].slice(-c,-c+f))}}var d=xT(i);if(d.length!=r)throw new Error("Unexpected length: ".concat(d.length," != ").concat(r));return d}function bxe(t){for(var e=[],n=0;n<t.length;){var r=t[n++],i=t[n]|t[n+1]<<8|t[n+2]<<16;n+=3,e.push(vxe(r,t.slice(n,n+i))),n+=i}if(n!==t.length)throw new Error("data is not a valid framed stream!");return xT(e)}function _xe(t,e,n,r){var i=zS(t),s=i.getUint32(4,!0),a=(r>1?12:8)+hD(s&(r>1?3470:398))*4,o=-1,c=-1,f=NaN,d=new Date(2001,0,1);s&512&&(o=i.getUint32(a,!0),a+=4),a+=hD(s&(r>1?12288:4096))*4,s&16&&(c=i.getUint32(a,!0),a+=4),s&32&&(f=i.getFloat64(a,!0),a+=8),s&64&&(d.setTime(d.getTime()+i.getFloat64(a,!0)*1e3),a+=8);var m;switch(t[2]){case 0:break;case 2:m={t:"n",v:f};break;case 3:m={t:"s",v:e[c]};break;case 5:m={t:"d",v:d};break;case 6:m={t:"b",v:f>0};break;case 7:m={t:"n",v:f/86400};break;case 8:m={t:"e",v:0};break;case 9:if(o>-1)m={t:"s",v:n[o]};else if(c>-1)m={t:"s",v:e[c]};else if(!isNaN(f))m={t:"n",v:f};else throw new Error("Unsupported cell type ".concat(t.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(t.slice(0,4)))}return m}function wxe(t,e,n){var r=zS(t),i=r.getUint32(8,!0),s=12,a=-1,o=-1,c=NaN,f=NaN,d=new Date(2001,0,1);i&1&&(c=xxe(t,s),s+=16),i&2&&(f=r.getFloat64(s,!0),s+=8),i&4&&(d.setTime(d.getTime()+r.getFloat64(s,!0)*1e3),s+=8),i&8&&(o=r.getUint32(s,!0),s+=4),i&16&&(a=r.getUint32(s,!0),s+=4);var m;switch(t[1]){case 0:break;case 2:m={t:"n",v:c};break;case 3:m={t:"s",v:e[o]};break;case 5:m={t:"d",v:d};break;case 6:m={t:"b",v:f>0};break;case 7:m={t:"n",v:f/86400};break;case 8:m={t:"e",v:0};break;case 9:if(a>-1)m={t:"s",v:n[a]};else throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(i&31," : ").concat(t.slice(0,4)));break;case 10:m={t:"n",v:c};break;default:throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(i&31," : ").concat(t.slice(0,4)))}return m}function Txe(t,e,n){switch(t[0]){case 0:case 1:case 2:case 3:return _xe(t,e,n,t[0]);case 5:return wxe(t,e,n);default:throw new Error("Unsupported payload version ".concat(t[0]))}}function Jf(t){var e=Ca(t);return d1(e[1][0].data)}function pD(t,e){var n=Ca(e.data),r=Cs(n[1][0].data),i=n[3],s=[];return(i||[]).forEach(function(a){var o=Ca(a.data),c=Cs(o[1][0].data)>>>0;switch(r){case 1:s[c]=gT(o[3][0].data);break;case 8:{var f=t[Jf(o[9][0].data)][0],d=Ca(f.data),m=t[Jf(d[1][0].data)][0],g=Cs(m.meta[1][0].data);if(g!=2001)throw new Error("2000 unexpected reference to ".concat(g));var y=Ca(m.data);s[c]=y[3].map(function(E){return gT(E.data)}).join("")}break}}),s}function Exe(t,e){var n,r,i,s,a,o,c,f,d,m,g,y,E,_,A=Ca(t),C=Cs(A[1][0].data)>>>0,V=Cs(A[2][0].data)>>>0,R=((r=(n=A[8])==null?void 0:n[0])==null?void 0:r.data)&&Cs(A[8][0].data)>0||!1,F,z;if((s=(i=A[7])==null?void 0:i[0])!=null&&s.data&&e!=0)F=(o=(a=A[7])==null?void 0:a[0])==null?void 0:o.data,z=(f=(c=A[6])==null?void 0:c[0])==null?void 0:f.data;else if((m=(d=A[4])==null?void 0:d[0])!=null&&m.data&&e!=1)F=(y=(g=A[4])==null?void 0:g[0])==null?void 0:y.data,z=(_=(E=A[3])==null?void 0:E[0])==null?void 0:_.data;else throw"NUMBERS Tile missing ".concat(e," cell storage");for(var W=R?4:1,D=zS(F),L=[],k=0;k<F.length/2;++k){var q=D.getUint16(k*2,!0);q<65535&&L.push([k,q])}if(L.length!=V)throw"Expected ".concat(V," cells, found ").concat(L.length);var P=[];for(k=0;k<L.length-1;++k)P[L[k][0]]=z.subarray(L[k][1]*W,L[k+1][1]*W);return L.length>=1&&(P[L[L.length-1][0]]=z.subarray(L[L.length-1][1]*W)),{R:C,cells:P}}function Sxe(t,e){var n,r=Ca(e.data),i=(n=r?.[7])!=null&&n[0]?Cs(r[7][0].data)>>>0>0?1:0:-1,s=GS(r[5],function(a){return Exe(a,i)});return{nrows:Cs(r[4][0].data)>>>0,data:s.reduce(function(a,o){return a[o.R]||(a[o.R]=[]),o.cells.forEach(function(c,f){if(a[o.R][f])throw new Error("Duplicate cell r=".concat(o.R," c=").concat(f));a[o.R][f]=c}),a},[])}}function Axe(t,e,n){var r,i=Ca(e.data),s={s:{r:0,c:0},e:{r:0,c:0}};if(s.e.r=(Cs(i[6][0].data)>>>0)-1,s.e.r<0)throw new Error("Invalid row varint ".concat(i[6][0].data));if(s.e.c=(Cs(i[7][0].data)>>>0)-1,s.e.c<0)throw new Error("Invalid col varint ".concat(i[7][0].data));n["!ref"]=_r(s);var a=Ca(i[4][0].data),o=pD(t,t[Jf(a[4][0].data)][0]),c=(r=a[17])!=null&&r[0]?pD(t,t[Jf(a[17][0].data)][0]):[],f=Ca(a[3][0].data),d=0;f[1].forEach(function(m){var g=Ca(m.data),y=t[Jf(g[2][0].data)][0],E=Cs(y.meta[1][0].data);if(E!=6002)throw new Error("6001 unexpected reference to ".concat(E));var _=Sxe(t,y);_.data.forEach(function(A,C){A.forEach(function(V,R){var F=jn({r:d+C,c:R}),z=Txe(V,o,c);z&&(n[F]=z)})}),d+=_.nrows})}function Nxe(t,e){var n=Ca(e.data),r={"!ref":"A1"},i=t[Jf(n[2][0].data)],s=Cs(i[0].meta[1][0].data);if(s!=6001)throw new Error("6000 unexpected reference to ".concat(s));return Axe(t,i[0],r),r}function Cxe(t,e){var n,r=Ca(e.data),i={name:(n=r[1])!=null&&n[0]?gT(r[1][0].data):"",sheets:[]},s=GS(r[2],Jf);return s.forEach(function(a){t[a].forEach(function(o){var c=Cs(o.meta[1][0].data);c==6e3&&i.sheets.push(Nxe(t,o))})}),i}function Ixe(t,e){var n=KS(),r=Ca(e.data),i=GS(r[1],Jf);if(i.forEach(function(s){t[s].forEach(function(a){var o=Cs(a.meta[1][0].data);if(o==2){var c=Cxe(t,a);c.sheets.forEach(function(f,d){YS(n,f,d==0?c.name:c.name+"_"+d,!0)})}})}),n.SheetNames.length==0)throw new Error("Empty NUMBERS file");return n}function Pw(t){var e,n,r,i,s={},a=[];if(t.FullPaths.forEach(function(c){if(c.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),t.FileIndex.forEach(function(c){if(c.name.match(/\.iwa$/)){var f;try{f=bxe(c.content)}catch(m){return console.log("?? "+c.content.length+" "+(m.message||m))}var d;try{d=yxe(f)}catch(m){return console.log("## "+(m.message||m))}d.forEach(function(m){s[m.id]=m.messages,a.push(m.id)})}}),!a.length)throw new Error("File has no messages");var o=((i=(r=(n=(e=s?.[1])==null?void 0:e[0])==null?void 0:n.meta)==null?void 0:r[1])==null?void 0:i[0].data)&&Cs(s[1][0].meta[1][0].data)==1&&s[1][0];if(o||a.forEach(function(c){s[c].forEach(function(f){var d=Cs(f.meta[1][0].data)>>>0;if(d==1)if(!o)o=f;else throw new Error("Document has multiple roots")})}),!o)throw new Error("Cannot find Document root");return Ixe(s,o)}function kxe(t){return function(n){for(var r=0;r!=t.length;++r){var i=t[r];n[i[0]]===void 0&&(n[i[0]]=i[1]),i[2]==="n"&&(n[i[0]]=Number(n[i[0]]))}}}function WS(t){kxe([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(t)}function Rxe(t){return Q0.WS.indexOf(t)>-1?"sheet":t==Q0.CS?"chart":t==Q0.DS?"dialog":t==Q0.MS?"macro":t&&t.length?t:"sheet"}function Pxe(t,e){if(!t)return 0;try{t=e.map(function(r){return r.id||(r.id=r.strRelID),[r.name,t["!id"][r.id].Target,Rxe(t["!id"][r.id].Type)]})}catch{return null}return!t||t.length===0?null:t}function Dxe(t,e,n,r,i,s,a,o,c,f,d,m){try{s[r]=Ig(Bo(t,n,!0),e);var g=cs(t,e),y;switch(o){case"sheet":y=V1e(g,e,i,c,s[r],f,d,m);break;case"chart":if(y=U1e(g,e,i,c,s[r],f,d,m),!y||!y["!drawel"])break;var E=ag(y["!drawel"].Target,e),_=fT(E),A=Bpe(Bo(t,E,!0),Ig(Bo(t,_,!0),E)),C=ag(A,E),V=fT(C);y=w1e(Bo(t,C,!0),C,c,Ig(Bo(t,V,!0),C),f,y);break;case"macro":y=j1e(g,e,i,c,s[r],f,d,m);break;case"dialog":y=q1e(g,e,i,c,s[r],f,d,m);break;default:throw new Error("Unrecognized sheet type "+o)}a[r]=y;var R=[];s&&s[r]&&Hc(s[r]).forEach(function(F){var z="";if(s[r][F].Type==Q0.CMNT){z=ag(s[r][F].Target,e);var W=W1e(cs(t,z,!0),z,c);if(!W||!W.length)return;ZP(y,W,!1)}s[r][F].Type==Q0.TCMNT&&(z=ag(s[r][F].Target,e),R=R.concat(Upe(cs(t,z,!0),c)))}),R&&R.length&&ZP(y,R,!0,c.people||[])}catch(F){if(c.WTF)throw F}}function ol(t){return t.charAt(0)=="/"?t.slice(1):t}function Mxe(t,e){if(v9(),e=e||{},WS(e),ul(t,"META-INF/manifest.xml")||ul(t,"objectdata.xml"))return fD(t,e);if(ul(t,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof Pw<"u"){if(t.FileIndex)return Pw(t);var n=br.utils.cfb_new();return AP(t).forEach(function(ae){Lfe(n,ae,Mfe(t,ae))}),Pw(n)}throw new Error("Unsupported NUMBERS file")}if(!ul(t,"[Content_Types].xml"))throw ul(t,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):ul(t,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var r=AP(t),i=kde(Bo(t,"[Content_Types].xml")),s=!1,a,o;if(i.workbooks.length===0&&(o="xl/workbook.xml",cs(t,o,!0)&&i.workbooks.push(o)),i.workbooks.length===0){if(o="xl/workbook.bin",!cs(t,o,!0))throw new Error("Could not find workbook");i.workbooks.push(o),s=!0}i.workbooks[0].slice(-3)=="bin"&&(s=!0);var c={},f={};if(!e.bookSheets&&!e.bookProps){if(Pg=[],i.sst)try{Pg=G1e(cs(t,ol(i.sst)),i.sst,e)}catch(ae){if(e.WTF)throw ae}e.cellStyles&&i.themes.length&&(c=z1e(Bo(t,i.themes[0].replace(/^\//,""),!0)||"",i.themes[0],e)),i.style&&(f=H1e(cs(t,ol(i.style)),i.style,c,e))}i.links.map(function(ae){try{var Ae=Ig(Bo(t,fT(ol(ae))),ae);return K1e(cs(t,ol(ae)),Ae,ae,e)}catch{}});var d=B1e(cs(t,ol(i.workbooks[0])),i.workbooks[0],e),m={},g="";i.coreprops.length&&(g=cs(t,ol(i.coreprops[0]),!0),g&&(m=K9(g)),i.extprops.length!==0&&(g=cs(t,ol(i.extprops[0]),!0),g&&Lde(g,m,e)));var y={};(!e.bookSheets||e.bookProps)&&i.custprops.length!==0&&(g=Bo(t,ol(i.custprops[0]),!0),g&&(y=Ode(g,e)));var E={};if((e.bookSheets||e.bookProps)&&(d.Sheets?a=d.Sheets.map(function(Ae){return Ae.name}):m.Worksheets&&m.SheetNames.length>0&&(a=m.SheetNames),e.bookProps&&(E.Props=m,E.Custprops=y),e.bookSheets&&typeof a<"u"&&(E.SheetNames=a),e.bookSheets?E.SheetNames:e.bookProps))return E;a={};var _={};e.bookDeps&&i.calcchain&&(_=$1e(cs(t,ol(i.calcchain)),i.calcchain));var A=0,C={},V,R;{var F=d.Sheets;m.Worksheets=F.length,m.SheetNames=[];for(var z=0;z!=F.length;++z)m.SheetNames[z]=F[z].name}var W=s?"bin":"xml",D=i.workbooks[0].lastIndexOf("/"),L=(i.workbooks[0].slice(0,D+1)+"_rels/"+i.workbooks[0].slice(D+1)+".rels").replace(/^\//,"");ul(t,L)||(L="xl/_rels/workbook."+W+".rels");var k=Ig(Bo(t,L,!0),L.replace(/_rels.*/,"s5s"));(i.metadata||[]).length>=1&&(e.xlmeta=Y1e(cs(t,ol(i.metadata[0])),i.metadata[0],e)),(i.people||[]).length>=1&&(e.people=jpe(cs(t,ol(i.people[0])),e)),k&&(k=Pxe(k,d.Sheets));var q=cs(t,"xl/worksheets/sheet.xml",!0)?1:0;e:for(A=0;A!=m.Worksheets;++A){var P="sheet";if(k&&k[A]?(V="xl/"+k[A][1].replace(/[\/]?xl\//,""),ul(t,V)||(V=k[A][1]),ul(t,V)||(V=L.replace(/_rels\/.*$/,"")+k[A][1]),P=k[A][2]):(V="xl/worksheets/sheet"+(A+1-q)+"."+W,V=V.replace(/sheet0\./,"sheet.")),R=V.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),e&&e.sheets!=null)switch(typeof e.sheets){case"number":if(A!=e.sheets)continue e;break;case"string":if(m.SheetNames[A].toLowerCase()!=e.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(e.sheets)){for(var M=!1,j=0;j!=e.sheets.length;++j)typeof e.sheets[j]=="number"&&e.sheets[j]==A&&(M=1),typeof e.sheets[j]=="string"&&e.sheets[j].toLowerCase()==m.SheetNames[A].toLowerCase()&&(M=1);if(!M)continue e}}Dxe(t,V,R,m.SheetNames[A],A,C,a,P,e,d,c,f)}return E={Directory:i,Workbook:d,Props:m,Custprops:y,Deps:_,Sheets:a,SheetNames:m.SheetNames,Strings:Pg,Styles:f,Themes:c,SSF:la(Wn)},e&&e.bookFiles&&(t.files?(E.keys=r,E.files=t.files):(E.keys=[],E.files={},t.FullPaths.forEach(function(ae,Ae){ae=ae.replace(/^Root Entry[\/]/,""),E.keys.push(ae),E.files[ae]=t.FileIndex[Ae]}))),e&&e.bookVBA&&(i.vba.length>0?E.vbaraw=cs(t,ol(i.vba[0]),!0):i.defaults&&i.defaults.bin===Gpe&&(E.vbaraw=cs(t,"xl/vbaProject.bin",!0))),E}function Lxe(t,e){var n=e||{},r="Workbook",i=br.find(t,r);try{if(r="/!DataSpaces/Version",i=br.find(t,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);if(N0e(i.content),r="/!DataSpaces/DataSpaceMap",i=br.find(t,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var s=I0e(i.content);if(s.length!==1||s[0].comps.length!==1||s[0].comps[0].t!==0||s[0].name!=="StrongEncryptionDataSpace"||s[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+r);if(r="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",i=br.find(t,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var a=k0e(i.content);if(a.length!=1||a[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+r);if(r="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",i=br.find(t,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);P0e(i.content)}catch{}if(r="/EncryptionInfo",i=br.find(t,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var o=D0e(i.content);if(r="/EncryptedPackage",i=br.find(t,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);if(o[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(o[1],i.content,n.password||"",n);if(o[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(o[1],i.content,n.password||"",n);throw new Error("File is password-protected")}function $S(t,e){var n="";switch((e||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":n=qo(t.slice(0,12));break;case"binary":n=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[n.charCodeAt(0),n.charCodeAt(1),n.charCodeAt(2),n.charCodeAt(3),n.charCodeAt(4),n.charCodeAt(5),n.charCodeAt(6),n.charCodeAt(7)]}function Fxe(t,e){return br.find(t,"EncryptedPackage")?Lxe(t,e):PB(t,e)}function Oxe(t,e){var n,r=t,i=e||{};return i.type||(i.type=hr&&Buffer.isBuffer(t)?"buffer":"base64"),n=S9(r,i),Mxe(n,i)}function FB(t,e){var n=0;e:for(;n<t.length;)switch(t.charCodeAt(n)){case 10:case 13:case 32:++n;break;case 60:return pT(t.slice(n),e);default:break e}return c1.to_workbook(t,e)}function Bxe(t,e){var n="",r=$S(t,e);switch(e.type){case"base64":n=qo(t);break;case"binary":n=t;break;case"buffer":n=t.toString("binary");break;case"array":n=_h(t);break;default:throw new Error("Unrecognized type "+e.type)}return r[0]==239&&r[1]==187&&r[2]==191&&(n=ai(n)),e.type="binary",FB(n,e)}function Vxe(t,e){var n=t;return e.type=="base64"&&(n=qo(n)),n=s1.utils.decode(1200,n.slice(2),"str"),e.type="binary",FB(n,e)}function Uxe(t){return t.match(/[^\x00-\x7F]/)?og(t):t}function Dw(t,e,n,r){return r?(n.type="string",c1.to_workbook(t,n)):c1.to_workbook(e,n)}function yT(t,e){o9();var n=e||{};if(typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer)return yT(new Uint8Array(t),(n=la(n),n.type="array",n));typeof Uint8Array<"u"&&t instanceof Uint8Array&&!n.type&&(n.type=typeof Deno<"u"?"buffer":"array");var r=t,i=[0,0,0,0],s=!1;if(n.cellStyles&&(n.cellNF=!0,n.sheetStubs=!0),xp={},n.dateNF&&(xp.dateNF=n.dateNF),n.type||(n.type=hr&&Buffer.isBuffer(t)?"buffer":"base64"),n.type=="file"&&(n.type=hr?"buffer":"binary",r=Nfe(t),typeof Uint8Array<"u"&&!hr&&(n.type="array")),n.type=="string"&&(s=!0,n.type="binary",n.codepage=65001,r=Uxe(t)),n.type=="array"&&typeof Uint8Array<"u"&&t instanceof Uint8Array&&typeof ArrayBuffer<"u"){var a=new ArrayBuffer(3),o=new Uint8Array(a);if(o.foo="bar",!o.foo)return n=la(n),n.type="array",yT(SS(r),n)}switch((i=$S(r,n))[0]){case 208:if(i[1]===207&&i[2]===17&&i[3]===224&&i[4]===161&&i[5]===177&&i[6]===26&&i[7]===225)return Fxe(br.read(r,n),n);break;case 9:if(i[1]<=8)return PB(r,n);break;case 60:return pT(r,n);case 73:if(i[1]===73&&i[2]===42&&i[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(i[1]===68)return p0e(r,n);break;case 84:if(i[1]===65&&i[2]===66&&i[3]===76)return d0e.to_workbook(r,n);break;case 80:return i[1]===75&&i[2]<9&&i[3]<9?Oxe(r,n):Dw(t,r,n,s);case 239:return i[3]===60?pT(r,n):Dw(t,r,n,s);case 255:if(i[1]===254)return Vxe(r,n);if(i[1]===0&&i[2]===2&&i[3]===0)return Rg.to_workbook(r,n);break;case 0:if(i[1]===0&&(i[2]>=2&&i[3]===0||i[2]===0&&(i[3]===8||i[3]===9)))return Rg.to_workbook(r,n);break;case 3:case 131:case 139:case 140:return QP.to_workbook(r,n);case 123:if(i[1]===92&&i[2]===114&&i[3]===116)return G0e.to_workbook(r,n);break;case 10:case 13:case 32:return Bxe(r,n);case 137:if(i[1]===80&&i[2]===78&&i[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return u0e.indexOf(i[0])>-1&&i[2]<=12&&i[3]<=31?QP.to_workbook(r,n):Dw(t,r,n,s)}function jxe(t,e,n,r,i,s,a,o){var c=ca(n),f=o.defval,d=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),m=!0,g=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(g,"__rowNum__",{value:n,enumerable:!1})}catch{g.__rowNum__=n}else g.__rowNum__=n;if(!a||t[n])for(var y=e.s.c;y<=e.e.c;++y){var E=a?t[n][y]:t[r[y]+c];if(E===void 0||E.t===void 0){if(f===void 0)continue;s[y]!=null&&(g[s[y]]=f);continue}var _=E.v;switch(E.t){case"z":if(_==null)break;continue;case"e":_=_==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+E.t)}if(s[y]!=null){if(_==null)if(E.t=="e"&&_===null)g[s[y]]=null;else if(f!==void 0)g[s[y]]=f;else if(d&&_===null)g[s[y]]=null;else continue;else g[s[y]]=d&&(E.t!=="n"||E.t==="n"&&o.rawNumbers!==!1)?_:ju(E,_,o);_!=null&&(m=!1)}}return{row:g,isempty:m}}function vT(t,e){if(t==null||t["!ref"]==null)return[];var n={t:"n",v:0},r=0,i=1,s=[],a=0,o="",c={s:{r:0,c:0},e:{r:0,c:0}},f=e||{},d=f.range!=null?f.range:t["!ref"];switch(f.header===1?r=1:f.header==="A"?r=2:Array.isArray(f.header)?r=3:f.header==null&&(r=0),typeof d){case"string":c=zi(d);break;case"number":c=zi(t["!ref"]),c.s.r=d;break;default:c=d}r>0&&(i=0);var m=ca(c.s.r),g=[],y=[],E=0,_=0,A=Array.isArray(t),C=c.s.r,V=0,R={};A&&!t[C]&&(t[C]=[]);var F=f.skipHidden&&t["!cols"]||[],z=f.skipHidden&&t["!rows"]||[];for(V=c.s.c;V<=c.e.c;++V)if(!(F[V]||{}).hidden)switch(g[V]=Ns(V),n=A?t[C][V]:t[g[V]+m],r){case 1:s[V]=V-c.s.c;break;case 2:s[V]=g[V];break;case 3:s[V]=f.header[V-c.s.c];break;default:if(n==null&&(n={w:"__EMPTY",t:"s"}),o=a=ju(n,null,f),_=R[a]||0,!_)R[a]=1;else{do o=a+"_"+_++;while(R[o]);R[a]=_,R[o]=1}s[V]=o}for(C=c.s.r+i;C<=c.e.r;++C)if(!(z[C]||{}).hidden){var W=jxe(t,c,C,g,r,s,A,f);(W.isempty===!1||(r===1?f.blankrows!==!1:f.blankrows))&&(y[E++]=W.row)}return y.length=E,y}var mD=/"/g;function qxe(t,e,n,r,i,s,a,o){for(var c=!0,f=[],d="",m=ca(n),g=e.s.c;g<=e.e.c;++g)if(r[g]){var y=o.dense?(t[n]||[])[g]:t[r[g]+m];if(y==null)d="";else if(y.v!=null){c=!1,d=""+(o.rawNumbers&&y.t=="n"?y.v:ju(y,null,o));for(var E=0,_=0;E!==d.length;++E)if((_=d.charCodeAt(E))===i||_===s||_===34||o.forceQuotes){d='"'+d.replace(mD,'""')+'"';break}d=="ID"&&(d='"ID"')}else y.f!=null&&!y.F?(c=!1,d="="+y.f,d.indexOf(",")>=0&&(d='"'+d.replace(mD,'""')+'"')):d="";f.push(d)}return o.blankrows===!1&&c?null:f.join(a)}function OB(t,e){var n=[],r=e??{};if(t==null||t["!ref"]==null)return"";var i=zi(t["!ref"]),s=r.FS!==void 0?r.FS:",",a=s.charCodeAt(0),o=r.RS!==void 0?r.RS:`
`,c=o.charCodeAt(0),f=new RegExp((s=="|"?"\\|":s)+"+$"),d="",m=[];r.dense=Array.isArray(t);for(var g=r.skipHidden&&t["!cols"]||[],y=r.skipHidden&&t["!rows"]||[],E=i.s.c;E<=i.e.c;++E)(g[E]||{}).hidden||(m[E]=Ns(E));for(var _=0,A=i.s.r;A<=i.e.r;++A)(y[A]||{}).hidden||(d=qxe(t,i,A,m,a,c,s,r),d!=null&&(r.strip&&(d=d.replace(f,"")),(d||r.blankrows!==!1)&&n.push((_++?o:"")+d)));return delete r.dense,n.join("")}function Hxe(t,e){e||(e={}),e.FS="	",e.RS=`
`;var n=OB(t,e);return n}function zxe(t){var e="",n,r="";if(t==null||t["!ref"]==null)return[];var i=zi(t["!ref"]),s="",a=[],o,c=[],f=Array.isArray(t);for(o=i.s.c;o<=i.e.c;++o)a[o]=Ns(o);for(var d=i.s.r;d<=i.e.r;++d)for(s=ca(d),o=i.s.c;o<=i.e.c;++o)if(e=a[o]+s,n=f?(t[d]||[])[o]:t[e],r="",n!==void 0){if(n.F!=null){if(e=n.F,!n.f)continue;r=n.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(n.f!=null)r=n.f;else{if(n.t=="z")continue;if(n.t=="n"&&n.v!=null)r=""+n.v;else if(n.t=="b")r=n.v?"TRUE":"FALSE";else if(n.w!==void 0)r="'"+n.w;else{if(n.v===void 0)continue;n.t=="s"?r="'"+n.v:r=""+n.v}}c[c.length]=e+"="+r}return c}function BB(t,e,n){var r=n||{},i=+!r.skipHeader,s=t||{},a=0,o=0;if(s&&r.origin!=null)if(typeof r.origin=="number")a=r.origin;else{var c=typeof r.origin=="string"?Ga(r.origin):r.origin;a=c.r,o=c.c}var f,d={s:{c:0,r:0},e:{c:o,r:a+e.length-1+i}};if(s["!ref"]){var m=zi(s["!ref"]);d.e.c=Math.max(d.e.c,m.e.c),d.e.r=Math.max(d.e.r,m.e.r),a==-1&&(a=m.e.r+1,d.e.r=a+e.length-1+i)}else a==-1&&(a=0,d.e.r=e.length-1+i);var g=r.header||[],y=0;e.forEach(function(_,A){Hc(_).forEach(function(C){(y=g.indexOf(C))==-1&&(g[y=g.length]=C);var V=_[C],R="z",F="",z=jn({c:o+y,r:a+A+i});f=h1(s,z),V&&typeof V=="object"&&!(V instanceof Date)?s[z]=V:(typeof V=="number"?R="n":typeof V=="boolean"?R="b":typeof V=="string"?R="s":V instanceof Date?(R="d",r.cellDates||(R="n",V=Ka(V)),F=r.dateNF||Wn[14]):V===null&&r.nullError&&(R="e",V=0),f?(f.t=R,f.v=V,delete f.w,delete f.R,F&&(f.z=F)):s[z]=f={t:R,v:V},F&&(f.z=F))})}),d.e.c=Math.max(d.e.c,o+g.length-1);var E=ca(a);if(i)for(y=0;y<g.length;++y)s[Ns(y+o)+E]={t:"s",v:g[y]};return s["!ref"]=_r(d),s}function Gxe(t,e){return BB(null,t,e)}function h1(t,e,n){if(typeof e=="string"){if(Array.isArray(t)){var r=Ga(e);return t[r.r]||(t[r.r]=[]),t[r.r][r.c]||(t[r.r][r.c]={t:"z"})}return t[e]||(t[e]={t:"z"})}return typeof e!="number"?h1(t,jn(e)):h1(t,jn({r:e,c:n||0}))}function Wxe(t,e){if(typeof e=="number"){if(e>=0&&t.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var n=t.SheetNames.indexOf(e);if(n>-1)return n;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function KS(){return{SheetNames:[],Sheets:{}}}function YS(t,e,n,r){var i=1;if(!n)for(;i<=65535&&t.SheetNames.indexOf(n="Sheet"+i)!=-1;++i,n=void 0);if(!n||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&t.SheetNames.indexOf(n)>=0){var s=n.match(/(^.*?)(\d+)$/);i=s&&+s[2]||0;var a=s&&s[1]||n;for(++i;i<=65535&&t.SheetNames.indexOf(n=a+i)!=-1;++i);}if(k1e(n),t.SheetNames.indexOf(n)>=0)throw new Error("Worksheet with name |"+n+"| already exists!");return t.SheetNames.push(n),t.Sheets[n]=e,n}function $xe(t,e,n){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var r=Wxe(t,e);switch(t.Workbook.Sheets[r]||(t.Workbook.Sheets[r]={}),n){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+n)}t.Workbook.Sheets[r].Hidden=n}function Kxe(t,e){return t.z=e,t}function VB(t,e,n){return e?(t.l={Target:e},n&&(t.l.Tooltip=n)):delete t.l,t}function Yxe(t,e,n){return VB(t,"#"+e,n)}function Xxe(t,e,n){t.c||(t.c=[]),t.c.push({t:e,a:n||"SheetJS"})}function Jxe(t,e,n,r){for(var i=typeof e!="string"?e:zi(e),s=typeof e=="string"?e:_r(e),a=i.s.r;a<=i.e.r;++a)for(var o=i.s.c;o<=i.e.c;++o){var c=h1(t,a,o);c.t="n",c.F=s,delete c.v,a==i.s.r&&o==i.s.c&&(c.f=n,r&&(c.D=!0))}return t}var gD={encode_col:Ns,encode_row:ca,encode_cell:jn,encode_range:_r,decode_col:MS,decode_row:DS,split_cell:cde,decode_cell:Ga,decode_range:em,format_cell:ju,sheet_add_aoa:H9,sheet_add_json:BB,sheet_add_dom:DB,aoa_to_sheet:tm,json_to_sheet:Gxe,table_to_sheet:MB,table_to_book:pxe,sheet_to_csv:OB,sheet_to_txt:Hxe,sheet_to_json:vT,sheet_to_html:hxe,sheet_to_formulae:zxe,sheet_to_row_object_array:vT,sheet_get_cell:h1,book_new:KS,book_append_sheet:YS,book_set_sheet_visibility:$xe,cell_set_number_format:Kxe,cell_set_hyperlink:VB,cell_set_internal_link:Yxe,cell_add_comment:Xxe,sheet_set_array_formula:Jxe,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const xD=({onClose:t,onImportComplete:e})=>{const{company:n}=Rh(),[r,i]=ke.useState(!1),[s,a]=ke.useState({type:"idle",message:""}),[o,c]=ke.useState({products:0,customers:0}),f=async g=>new Promise((y,E)=>{const _=new FileReader;_.onload=A=>{try{const C=new Uint8Array(A.target?.result),V=yT(C,{type:"array"}),R={products:[],customers:[]};if(V.SheetNames.includes("Products")){const F=gD.sheet_to_json(V.Sheets.Products);R.products=F.map(z=>({id:Math.random().toString(36).substr(2,9),name:z["Product Name"]||z.Name||"",price:parseFloat(z.Price||z.Rate||0),stock:parseInt(z.Stock||z.Quantity||0),category:z.Category||"",hsn:n?.gst_enabled&&(z.HSN||z["HSN Code"])||"",gstRate:n?.gst_enabled?parseFloat(z["GST Rate"]||z.GSTRATE||0):0}))}if(V.SheetNames.includes("Customers")){const F=gD.sheet_to_json(V.Sheets.Customers);R.customers=F.map(z=>({id:Math.random().toString(36).substr(2,9),name:z["Customer Name"]||z.Name||"",company:z.Company||"",email:z.Email||"",phone:z.Phone||z.Mobile||"",address:z.Address||"",state:n?.gst_enabled&&z.State||"",gstin:n?.gst_enabled&&z.GSTIN||"",balance:0,notifications:[]}))}y(R)}catch(C){E(C)}},_.onerror=()=>E(new Error("Failed to read file")),_.readAsArrayBuffer(g)}),d=g=>{const y={products:[],customers:[]};try{const _=new DOMParser().parseFromString(g,"text/xml");if(_.getElementsByTagName("parsererror").length>0)throw new Error("Invalid XML format");const A=_.getElementsByTagName("ITEM");for(let V=0;V<A.length;V++){const R=A[V],F=R.getElementsByTagName("NAME")[0]?.textContent||"",z=n?.gst_enabled&&R.getElementsByTagName("HSNCODE")[0]?.textContent||"",W=n?.gst_enabled?parseFloat(R.getElementsByTagName("GSTRATE")[0]?.textContent||"0"):0;F&&y.products.push({id:Math.random().toString(36).substr(2,9),name:F,price:0,stock:0,category:"Imported",hsn:z,gstRate:W})}const C=_.getElementsByTagName("LEDGER");for(let V=0;V<C.length;V++){const R=C[V],F=R.getElementsByTagName("NAME")[0]?.textContent||"",z=R.getElementsByTagName("ADDRESS")[0]?.textContent||"",W=n?.gst_enabled&&R.getElementsByTagName("STATE")[0]?.textContent||"",D=n?.gst_enabled&&R.getElementsByTagName("GSTIN")[0]?.textContent||"",L=R.getElementsByTagName("PHONE")[0]?.textContent||"",k=R.getElementsByTagName("EMAIL")[0]?.textContent||"";F&&!["Sales","Purchase","Duty","Tax"].includes(F)&&y.customers.push({id:Math.random().toString(36).substr(2,9),name:F,company:"",email:k||"",phone:L||"",address:z||"",state:W||"",gstin:D||"",balance:0,notifications:[]})}}catch(E){throw new Error("Failed to parse Tally XML: "+E.message)}return y},m=async g=>{const y=g.target.files?.[0];if(y){i(!0),a({type:"idle",message:""});try{let E;if(y.name.endsWith(".xlsx")||y.name.endsWith(".xls"))E=await f(y);else if(y.name.endsWith(".xml")){const _=await y.text();E=d(_)}else throw new Error("Unsupported file format. Use .xlsx, .xls, or .xml");E.products.length>0&&E.products.forEach(_=>{it.saveProduct(_)}),E.customers.length>0&&E.customers.forEach(_=>{it.saveCustomer(_)}),c({products:E.products.length,customers:E.customers.length}),a({type:"success",message:`Successfully imported ${E.products.length} products and ${E.customers.length} customers!`}),setTimeout(()=>{e(),t()},2e3)}catch(E){a({type:"error",message:E.message||"Import failed. Please check the file format."})}finally{i(!1)}}};return p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:p.jsxs("div",{className:"bg-white rounded-lg shadow-lg max-w-md w-full p-6",children:[p.jsx("h2",{className:"text-xl font-bold text-slate-900 mb-4",children:"Import Data"}),p.jsxs("div",{className:"space-y-4",children:[p.jsx("div",{className:"border-2 border-dashed border-blue-200 rounded-lg p-6 text-center hover:bg-blue-50 transition-colors",children:p.jsxs("label",{className:"cursor-pointer flex flex-col items-center gap-2",children:[p.jsx(J2,{className:"w-8 h-8 text-blue-500"}),p.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Drop or click to upload"}),p.jsx("span",{className:"text-xs text-slate-500",children:".xlsx, .xls, or Tally .xml"}),p.jsx("input",{type:"file",accept:".xlsx,.xls,.xml",onChange:m,disabled:r,className:"hidden","data-testid":"file-input-import"})]})}),s.type==="success"&&p.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 flex gap-3",children:[p.jsx(dg,{className:"w-5 h-5 text-green-600 flex-shrink-0"}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium text-green-900",children:s.message}),p.jsxs("p",{className:"text-xs text-green-700 mt-1",children:[o.products," products, ",o.customers," customers"]})]})]}),s.type==="error"&&p.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex gap-3",children:[p.jsx(X2,{className:"w-5 h-5 text-red-600 flex-shrink-0"}),p.jsx("p",{className:"text-sm font-medium text-red-900",children:s.message})]}),r&&p.jsxs("div",{className:"flex items-center justify-center gap-2 py-4",children:[p.jsx(cM,{className:"w-5 h-5 text-blue-600 animate-spin"}),p.jsx("span",{className:"text-sm text-slate-600",children:"Processing..."})]}),p.jsx("div",{className:`rounded-lg p-3 ${n?.gst_enabled?"bg-blue-50 border border-blue-200":"bg-amber-50 border border-amber-200"}`,children:p.jsxs("p",{className:`text-xs ${n?.gst_enabled?"text-blue-900":"text-amber-900"}`,children:[p.jsx("span",{className:"font-medium",children:"Supported formats:"}),p.jsx("br",{})," Excel: Products sheet with Name, Price, Stock",n?.gst_enabled?", HSN, GST Rate":"",p.jsx("br",{})," Excel: Customers sheet with Name, Email, Phone, Address",n?.gst_enabled?", State, GSTIN":"",p.jsx("br",{})," Tally XML: Extract ITEM and LEDGER masters",!n?.gst_enabled&&p.jsxs(p.Fragment,{children:[p.jsx("br",{}),p.jsx("br",{}),p.jsx("span",{className:"font-medium",children:" GST is currently disabled"})," - GST fields will be ignored"]})]})})]}),p.jsx("button",{onClick:t,disabled:r,className:"w-full mt-6 px-4 py-2 border border-slate-300 rounded-md text-slate-700 hover:bg-slate-50 font-medium transition-colors disabled:opacity-50","data-testid":"button-close-import",children:"Close"})]})})},Qxe=({customerId:t,onBack:e,onViewInvoice:n,onEditPayment:r})=>{const i=it.getCustomers().find(_=>_.id===t),s=it.getInvoices().filter(_=>_.customerId===t),a=it.getPayments().filter(_=>_.customerId===t),[o,c]=ke.useState({from:new Date(new Date().getFullYear(),new Date().getMonth(),1).toISOString().split("T")[0],to:new Date().toISOString().split("T")[0]}),{debitItems:f,creditItems:d,openingBalance:m}=ke.useMemo(()=>{const _=s.filter(F=>F.date<o.from).reduce((F,z)=>F+z.total,0),A=a.filter(F=>F.date<o.from).reduce((F,z)=>F+z.amount,0),C=_-A,V=s.filter(F=>F.date>=o.from&&F.date<=o.to).map(F=>({id:F.id,date:F.date,description:"To Sales",reference:F.invoiceNumber,amount:F.total,original:F,type:"INVOICE"})).sort((F,z)=>new Date(F.date).getTime()-new Date(z.date).getTime()),R=a.filter(F=>F.date>=o.from&&F.date<=o.to).map(F=>({id:F.id,date:F.date,description:"By Receipt",reference:F.mode,amount:F.amount,original:F,type:"PAYMENT"})).sort((F,z)=>new Date(F.date).getTime()-new Date(z.date).getTime());return{debitItems:V,creditItems:R,openingBalance:C}},[s,a,o]),g=ke.useMemo(()=>{const _=f.reduce((R,F)=>R+F.amount,0),A=d.reduce((R,F)=>R+F.amount,0),C=m>0?m+_:_,V=m<0?Math.abs(m)+A:A;return{totalDebit:C,totalCredit:V,balance:m+_-A}},[f,d,m]),y=_=>{qr.light(),_.type==="INVOICE"?n(_.original):r(_.original)},E=()=>{if(!i)return;const _=new mn("l","mm","a4"),A=12,C=_.internal.pageSize.getWidth(),R=(C-A*2)/2;let F=20;_.setFontSize(22),_.setTextColor(40,40,40),_.text(`${i.company||i.name}`.toUpperCase(),C/2,F,{align:"center"}),F+=10,_.setFontSize(14),_.setTextColor(100,100,100),_.text("LEDGER ACCOUNT",C/2,F,{align:"center"}),F+=8,_.setFontSize(10),_.text(`Period: ${o.from} to ${o.to}`,C/2,F,{align:"center"}),F+=12,_.setDrawColor(0),_.setLineWidth(.5),_.line(A,F,C-A,F),F+=7,_.setFont("helvetica","bold"),_.setFontSize(11),_.text("Dr.",A,F-9),_.text("Date",A+2,F),_.text("Particulars",A+25,F),_.text("Ref",A+85,F),_.text("Amount (Rs.)",A+R-5,F,{align:"right"}),_.text("Cr.",C-A-5,F-9),_.text("Date",A+R+5,F),_.text("Particulars",A+R+28,F),_.text("Ref",A+R+88,F),_.text("Amount (Rs.)",C-A-2,F,{align:"right"}),F+=3,_.line(A,F,C-A,F),_.line(C/2,F-10,C/2,200),F+=8,_.setFontSize(10),m!==0&&(m>0?(_.text(o.from,A+2,F),_.text("To Opening Balance (b/d)",A+25,F),_.text(m.toLocaleString(),A+R-5,F,{align:"right"})):(_.text(o.from,A+R+5,F),_.text("By Opening Balance (b/d)",A+R+28,F),_.text(Math.abs(m).toLocaleString(),C-A-2,F,{align:"right"})),F+=8),_.setFont("helvetica","normal");const z=Math.max(f.length,d.length);for(let D=0;D<z;D++){if(F>180&&(_.addPage(),F=20,_.line(C/2,F,C/2,200)),f[D]){_.text(f[D].date,A+2,F),_.text(f[D].description,A+25,F);const L=f[D].reference.toString();_.text(L.length>20?L.substring(0,18)+"..":L,A+85,F),_.text(f[D].amount.toLocaleString(),A+R-5,F,{align:"right"})}if(d[D]){_.text(d[D].date,A+R+5,F),_.text(d[D].description,A+R+28,F);const L=d[D].reference.toString();_.text(L.length>20?L.substring(0,18)+"..":L,A+R+88,F),_.text(d[D].amount.toLocaleString(),C-A-2,F,{align:"right"})}F+=8}F=Math.max(F,180),_.setLineWidth(.3),_.line(A,F,C-A,F),F+=8,_.setFont("helvetica","bold"),_.text("Total Dr.",A+25,F),_.text("Rs. "+g.totalDebit.toLocaleString(),A+R-5,F,{align:"right"}),_.text("Total Cr.",A+R+28,F),_.text("Rs. "+g.totalCredit.toLocaleString(),C-A-2,F,{align:"right"}),F+=12,_.setFontSize(12);const W=`Net Closing Balance: Rs. ${Math.abs(g.balance).toLocaleString()} (${g.balance>=0?"Dr.":"Cr."})`;if(_.text(W,C-A,F,{align:"right"}),xh.isNativePlatform())try{const D=_.output("datauristring").split(",")[1],L=`${i.name}-Ledger-${o.from}.pdf`;Gy.writeFile({path:L,data:D,directory:D2.Documents}).then(()=>{alert(`Saved to Documents: ${L}`)}).catch(k=>alert(`Save Failed: ${k}`))}catch(D){alert("Native Save Error: "+D)}else _.save(`${i.name}-Ledger-${o.from}.pdf`)};return i?p.jsxs("div",{className:"bg-slate-50 dark:bg-black min-h-screen pb-24 font-['Outfit']",children:[p.jsx("div",{className:"sticky top-0 z-20 bg-white/80 dark:bg-black/80 backdrop-blur-md border-b border-slate-200 dark:border-gray-800 p-4",children:p.jsxs("div",{className:"max-w-6xl mx-auto flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("button",{onClick:e,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full transition-colors",children:p.jsx(Mu,{className:"w-6 h-6"})}),p.jsxs("div",{children:[p.jsx("h1",{className:"text-xl font-bold",children:"Ledger Account (T-Shape)"}),p.jsx("p",{className:"text-sm text-slate-500 font-medium",children:i.company||i.name})]})]}),p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsxs("div",{className:"hidden md:flex bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700 p-1",children:[p.jsx("input",{type:"date",className:"bg-transparent border-none text-xs font-bold p-2",value:o.from,onChange:_=>c({...o,from:_.target.value})}),p.jsx("div",{className:"self-center px-1 text-slate-400",children:""}),p.jsx("input",{type:"date",className:"bg-transparent border-none text-xs font-bold p-2",value:o.to,onChange:_=>c({...o,to:_.target.value})})]}),p.jsxs("button",{onClick:E,className:"bg-slate-900 dark:bg-white dark:text-black text-white px-5 py-2.5 rounded-2xl flex items-center gap-2 font-black shadow-xl active:scale-95 transition-all",children:[p.jsx(jp,{className:"w-5 h-5"})," Export PDF"]})]})]})}),p.jsxs("div",{className:"max-w-6xl mx-auto p-4 space-y-6",children:[p.jsxs("div",{className:"md:hidden grid grid-cols-2 gap-4",children:[p.jsxs("div",{className:"bg-white dark:bg-slate-800 p-3 rounded-2xl border border-slate-100",children:[p.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase mb-1",children:"From"}),p.jsx("input",{type:"date",className:"w-full bg-transparent font-bold text-sm",value:o.from,onChange:_=>c({...o,from:_.target.value})})]}),p.jsxs("div",{className:"bg-white dark:bg-slate-800 p-3 rounded-2xl border border-slate-100",children:[p.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase mb-1",children:"To"}),p.jsx("input",{type:"date",className:"w-full bg-transparent font-bold text-sm",value:o.to,onChange:_=>c({...o,to:_.target.value})})]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[p.jsxs("div",{className:"bg-white dark:bg-gray-900 p-5 rounded-[32px] border border-slate-100 dark:border-gray-800 shadow-sm relative overflow-hidden group",children:[p.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:scale-110 transition-transform",children:p.jsx(r5,{className:"w-12 h-12"})}),p.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mb-1",children:"Total Debits (Dr.)"}),p.jsxs("p",{className:"text-3xl font-black text-slate-900 dark:text-slate-100",children:["",g.totalDebit.toLocaleString()]})]}),p.jsxs("div",{className:"bg-white dark:bg-gray-900 p-5 rounded-[32px] border border-slate-100 dark:border-gray-800 shadow-sm text-emerald-600 relative overflow-hidden group",children:[p.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:scale-110 transition-transform",children:p.jsx(r5,{className:"w-12 h-12"})}),p.jsx("p",{className:"text-xs font-bold opacity-60 uppercase tracking-widest mb-1",children:"Total Credits (Cr.)"}),p.jsxs("p",{className:"text-3xl font-black",children:["",g.totalCredit.toLocaleString()]})]}),p.jsxs("div",{className:`${g.balance>=0?"bg-red-600":"bg-emerald-600"} p-5 rounded-[32px] shadow-lg shadow-blue-500/20 text-white relative overflow-hidden group`,children:[p.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-20 group-hover:scale-110 transition-transform",children:p.jsx(Cu,{className:"w-12 h-12"})}),p.jsx("p",{className:"text-xs font-bold opacity-80 uppercase tracking-widest mb-1",children:"Closing Balance"}),p.jsxs("p",{className:"text-3xl font-black",children:["",Math.abs(g.balance).toLocaleString()]}),p.jsx("p",{className:"text-[10px] font-bold mt-1 uppercase opacity-70",children:g.balance>=0?"Debit Balance":"Credit Balance"})]})]}),p.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-[40px] shadow-xl border border-slate-100 dark:border-gray-800 overflow-hidden",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 divide-y md:divide-y-0 md:divide-x divide-slate-200 dark:divide-gray-800",children:[p.jsxs("div",{children:[p.jsxs("div",{className:"bg-slate-50 dark:bg-black/40 px-6 py-4 border-b border-slate-200 dark:border-gray-800 flex justify-between items-center",children:[p.jsx("span",{className:"text-xs font-black text-slate-400 uppercase tracking-tighter",children:"Debit (Dr.)"}),p.jsx("span",{className:"text-[10px] font-bold text-slate-400 px-2 py-1 bg-slate-100 dark:bg-slate-800 rounded-lg",children:"To Sales Account"})]}),p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full text-left",children:[p.jsx("thead",{className:"text-[10px] font-black text-slate-400 uppercase border-b border-slate-100 dark:border-slate-800",children:p.jsxs("tr",{children:[p.jsx("th",{className:"px-6 py-3",children:"Date"}),p.jsx("th",{className:"px-6 py-3",children:"Reference"}),p.jsx("th",{className:"px-6 py-3 text-right",children:"Amount"})]})}),p.jsxs("tbody",{className:"divide-y divide-slate-50 dark:divide-slate-800",children:[m>0&&p.jsxs("tr",{className:"bg-blue-50/30 dark:bg-blue-900/10 italic",children:[p.jsx("td",{className:"px-6 py-4 text-xs font-bold text-slate-400",children:o.from}),p.jsx("td",{className:"px-6 py-4 text-[10px] font-bold text-blue-600 uppercase",children:"To Opening Balance (b/d)"}),p.jsxs("td",{className:"px-6 py-4 text-right font-black text-blue-700",children:["",m.toLocaleString()]})]}),f.map(_=>p.jsxs("tr",{onClick:()=>y(_),className:"hover:bg-slate-50 dark:hover:bg-slate-900/30 cursor-pointer active:bg-slate-100 transition-colors",children:[p.jsx("td",{className:"px-6 py-4 text-xs font-bold text-slate-500",children:_.date}),p.jsx("td",{className:"px-6 py-4",children:p.jsx("div",{className:"text-[10px] font-bold text-slate-400 uppercase group-hover:text-blue-500",children:_.reference})}),p.jsxs("td",{className:"px-6 py-4 text-right font-black text-slate-800 dark:text-slate-100",children:["",_.amount.toLocaleString()]})]},_.id)),f.length===0&&m<=0&&p.jsx("tr",{children:p.jsx("td",{colSpan:3,className:"px-6 py-12 text-center text-xs text-slate-400 italic",children:"No debit entries"})})]})]})})]}),p.jsxs("div",{children:[p.jsxs("div",{className:"bg-slate-50 dark:bg-black/40 px-6 py-4 border-b border-slate-200 dark:border-gray-800 flex justify-between items-center text-emerald-600",children:[p.jsx("span",{className:"text-xs font-black uppercase tracking-tighter opacity-70",children:"Credit (Cr.)"}),p.jsx("span",{className:"text-[10px] font-bold opacity-70 px-2 py-1 bg-emerald-50 dark:bg-emerald-900/20 rounded-lg",children:"By Receipt Account"})]}),p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full text-left",children:[p.jsx("thead",{className:"text-[10px] font-black text-slate-400 uppercase border-b border-slate-100 dark:border-slate-800",children:p.jsxs("tr",{children:[p.jsx("th",{className:"px-6 py-3",children:"Date"}),p.jsx("th",{className:"px-6 py-3",children:"Reference"}),p.jsx("th",{className:"px-6 py-3 text-right",children:"Amount"})]})}),p.jsxs("tbody",{className:"divide-y divide-slate-50 dark:divide-slate-800",children:[m<0&&p.jsxs("tr",{className:"bg-emerald-50/30 dark:bg-emerald-900/10 italic",children:[p.jsx("td",{className:"px-6 py-4 text-xs font-bold text-slate-400",children:o.from}),p.jsx("td",{className:"px-6 py-4 text-[10px] font-bold text-emerald-600 uppercase",children:"By Opening Balance (b/d)"}),p.jsxs("td",{className:"px-6 py-4 text-right font-black text-emerald-700",children:["",Math.abs(m).toLocaleString()]})]}),d.map(_=>p.jsxs("tr",{onClick:()=>y(_),className:"hover:bg-slate-50 dark:hover:bg-slate-900/30 cursor-pointer active:bg-slate-100 transition-colors",children:[p.jsx("td",{className:"px-6 py-4 text-xs font-bold text-slate-500",children:_.date}),p.jsx("td",{className:"px-6 py-4",children:p.jsx("div",{className:"text-[10px] font-bold text-slate-400 uppercase group-hover:text-emerald-500",children:_.reference})}),p.jsxs("td",{className:"px-6 py-4 text-right font-black text-emerald-600",children:["",_.amount.toLocaleString()]})]},_.id)),d.length===0&&m>=0&&p.jsx("tr",{children:p.jsx("td",{colSpan:3,className:"px-6 py-12 text-center text-xs text-slate-400 italic",children:"No credit entries"})})]})]})})]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 border-t border-slate-200 dark:border-gray-800 bg-slate-50 dark:bg-black/40",children:[p.jsxs("div",{className:"px-6 py-4 flex justify-between items-center border-b md:border-b-0 md:border-r border-slate-200 dark:border-slate-700",children:[p.jsx("span",{className:"text-xs font-black text-slate-800 dark:text-slate-100",children:"TOTAL DEBIT"}),p.jsxs("span",{className:"text-lg font-black text-slate-900 dark:text-slate-100",children:["",g.totalDebit.toLocaleString()]})]}),p.jsxs("div",{className:"px-6 py-4 flex justify-between items-center text-emerald-600",children:[p.jsx("span",{className:"text-xs font-black",children:"TOTAL CREDIT"}),p.jsxs("span",{className:"text-lg font-black",children:["",g.totalCredit.toLocaleString()]})]})]})]})]})]}):null},Zxe=({invoices:t,onViewInvoice:e,onViewCustomerLedger:n,onViewDaybook:r,onQuickShare:i,onCreateInvoice:s,onOpenReports:a,onAddCustomer:o,onOpenSmartCalc:c})=>{const{company:f}=Rh(),[d,m]=Z0.useState("ALL"),[g,y]=Z0.useState(null),E=Z0.useMemo(()=>{const z=new Date,W=z.toISOString().split("T")[0],D=z.toISOString().slice(0,7);return t.filter(L=>d==="TODAY"?L.date===W:d==="MONTH"?L.date.startsWith(D):!0)},[t,d]),_=E.reduce((z,W)=>z+W.total,0),A=E.filter(z=>z.status==="PENDING").length,C=it.getProducts().length,V=it.getCustomers().length,R={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.05}}},F={hidden:{opacity:0,y:10},show:{opacity:1,y:0}};return p.jsxs("div",{className:"pb-32 md:pb-6 bg-background min-h-screen font-sans",children:[p.jsx("div",{className:"pt-14 pb-4 px-6 sticky top-0 z-30 bg-background/95 backdrop-blur-xl",children:p.jsxs("div",{className:"max-w-5xl mx-auto flex items-center justify-between",children:[p.jsxs("div",{className:"flex flex-col",children:[p.jsx("span",{className:"text-[11px] font-bold text-google-blue uppercase tracking-widest mb-0.5",children:new Date().toLocaleDateString("en-IN",{day:"numeric",month:"long",year:"numeric"})}),p.jsx("h1",{className:"text-3xl md:text-4xl font-bold font-heading text-foreground tracking-tight",children:f?.name||"My Business"})]}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx(Et.button,{whileTap:{scale:.92},onClick:c,className:"w-12 h-12 rounded-full bg-surface-container-high border border-border flex items-center justify-center text-google-blue shadow-sm hover:shadow-google transition-all",children:p.jsx(n5,{className:"w-6 h-6"})}),p.jsx(Et.div,{whileTap:{scale:.95},className:"w-12 h-12 rounded-full bg-surface-container-highest flex items-center justify-center border-2 border-primary/20 p-0.5 overflow-hidden shadow-sm",children:p.jsx("img",{src:"/logo.png",className:"w-full h-full object-cover rounded-full",alt:"Profile"})})]})]})}),p.jsxs(Et.div,{variants:R,initial:"hidden",animate:"show",className:"px-4 md:px-8 max-w-5xl mx-auto space-y-6",children:[p.jsx(Et.div,{variants:F,className:"p-1 bg-surface-container-low rounded-full border border-border flex w-fit max-w-full overflow-x-auto no-scrollbar",children:[{id:"ALL",label:"Overview"},{id:"TODAY",label:"Today"},{id:"MONTH",label:"Month"}].map(z=>p.jsxs("button",{onClick:()=>{qr.light(),m(z.id)},className:`relative px-8 py-2.5 rounded-full text-xs font-bold transition-all whitespace-nowrap ${d===z.id?"text-primary-foreground":"text-muted-foreground hover:text-foreground"}`,children:[d===z.id&&p.jsx(Et.div,{layoutId:"filter-pill",className:"absolute inset-0 bg-primary rounded-full -z-10 shadow-google",transition:{type:"spring",bounce:.2,duration:.6}}),p.jsx("span",{className:"relative z-10",children:z.label})]},z.id))}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs(Et.div,{variants:F,onClick:a,className:"relative overflow-hidden bg-primary p-7 rounded-[32px] shadow-google-lg text-primary-foreground group cursor-pointer active:scale-[0.98] transition-all",children:[p.jsx("div",{className:"absolute top-0 right-0 w-48 h-48 bg-white/10 rounded-full -mr-20 -mt-20 blur-3xl group-hover:bg-white/20 transition-colors"}),p.jsxs("div",{className:"relative z-10",children:[p.jsxs("div",{className:"flex justify-between items-start mb-4",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-xs font-bold uppercase tracking-widest opacity-80 mb-1",children:"Total Outstanding"}),p.jsxs("h2",{className:"text-4xl md:text-5xl font-bold font-heading",children:["",_.toLocaleString("en-IN")]})]}),p.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-2xl flex items-center justify-center border border-white/10 backdrop-blur-md",children:p.jsx(tp,{className:"w-6 h-6"})})]}),p.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold bg-white/10 w-fit px-3 py-1.5 rounded-full border border-white/5 uppercase tracking-wider",children:[p.jsx("span",{className:"w-2 h-2 rounded-full bg-white animate-pulse"}),A," Pending Bills"]})]})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs(Et.div,{variants:F,className:"bg-surface-container-high p-6 rounded-[32px] border border-border shadow-sm flex flex-col items-center text-center group active:scale-[0.98] transition-all",children:[p.jsx("div",{className:"w-14 h-14 rounded-full bg-google-yellow/10 flex items-center justify-center text-google-yellow mb-3 border border-google-yellow/10 group-hover:bg-google-yellow group-hover:text-white transition-all",children:p.jsx(zf,{className:"w-7 h-7"})}),p.jsx("p",{className:"text-[10px] font-bold text-muted-foreground uppercase tracking-widest mb-1",children:"Inventory"}),p.jsx("h3",{className:"text-2xl font-bold text-foreground",children:C})]}),p.jsxs(Et.div,{variants:F,className:"bg-surface-container-high p-6 rounded-[32px] border border-border shadow-sm flex flex-col items-center text-center group active:scale-[0.98] transition-all",children:[p.jsx("div",{className:"w-14 h-14 rounded-full bg-google-green/10 flex items-center justify-center text-google-green mb-3 border border-google-green/10 group-hover:bg-google-green group-hover:text-white transition-all",children:p.jsx(Xd,{className:"w-7 h-7"})}),p.jsx("p",{className:"text-[10px] font-bold text-muted-foreground uppercase tracking-widest mb-1",children:"Customers"}),p.jsx("h3",{className:"text-2xl font-bold text-foreground",children:V})]})]})]}),p.jsxs(Et.div,{variants:F,className:"bg-surface-container-low border border-border p-4 rounded-[28px] flex items-center gap-4 group hover:bg-surface-container-high transition-colors",children:[p.jsx("div",{className:"w-10 h-10 rounded-full bg-google-green flex items-center justify-center text-white shrink-0",children:p.jsx(dg,{className:"w-5 h-5"})}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsx("p",{className:"text-xs font-bold text-foreground truncate",children:"Cloud Sync Active"}),p.jsx("p",{className:"text-[10px] text-muted-foreground truncate",children:"Data is securely synchronized to cloud"})]}),p.jsx("span",{className:"hidden sm:block px-3 py-1 bg-google-green/10 text-google-green text-[10px] font-bold rounded-full border border-google-green/10 uppercase tracking-widest",children:"Live"})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsx("div",{className:"flex items-center justify-between px-1",children:p.jsx("h3",{className:"text-[11px] font-bold text-muted-foreground tracking-widest uppercase px-2",children:"Quick Actions"})}),p.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{label:"Create Bill",icon:Th,color:"bg-google-blue",action:s},{label:"Daybook",icon:ih,color:"bg-google-red",action:()=>r(new Date().toISOString().split("T")[0])},{label:"Reports",icon:Cu,color:"bg-google-yellow",action:a},{label:"Add Client",icon:Xd,color:"bg-google-green",action:o}].map((z,W)=>p.jsxs(Et.button,{variants:F,whileHover:{y:-4,scale:1.02},whileTap:{scale:.95},onClick:()=>{qr.medium(),z.action()},className:"bg-surface-container-low hover:bg-surface-container-high p-6 rounded-[32px] border border-border shadow-sm flex flex-col items-center gap-3 transition-all group",children:[p.jsx("div",{className:`w-16 h-16 rounded-[24px] ${z.color} text-white flex items-center justify-center shadow-lg group-hover:rotate-6 transition-transform transform-gpu`,children:p.jsx(z.icon,{className:"w-8 h-8",strokeWidth:2.5})}),p.jsx("span",{className:"text-sm font-bold text-foreground tracking-tight",children:z.label})]},W))})]}),p.jsxs("div",{className:"space-y-4 pt-2",children:[p.jsxs("div",{className:"flex justify-between items-center px-1",children:[p.jsx("h3",{className:"text-[11px] font-bold text-muted-foreground tracking-widest uppercase px-2",children:"Recent Activity"}),p.jsx("button",{onClick:a,className:"text-[10px] font-bold text-google-blue uppercase tracking-widest hover:underline",children:"View All"})]}),p.jsx("div",{className:"bg-surface-container rounded-[32px] border border-border overflow-hidden divide-y divide-border/30",children:t.length===0?p.jsxs("div",{className:"py-12 text-center",children:[p.jsx(Cu,{className:"w-12 h-12 text-muted-foreground/20 mx-auto mb-3"}),p.jsx("p",{className:"text-xs text-muted-foreground font-bold",children:"No activity found"})]}):[...t].sort((z,W)=>new Date(W.date).getTime()-new Date(z.date).getTime()).slice(0,8).map(z=>p.jsxs(Et.div,{whileHover:{backgroundColor:"hsl(var(--surface-container-highest))"},className:"px-6 py-4 flex items-center justify-between cursor-pointer transition-colors",onClick:()=>{qr.light(),y(z)},children:[p.jsxs("div",{className:"flex items-center gap-4 min-w-0",children:[p.jsx("div",{className:"w-12 h-12 rounded-full bg-surface-container-high flex items-center justify-center text-google-blue font-bold border border-border",children:z.customerName.charAt(0)}),p.jsxs("div",{className:"min-w-0",children:[p.jsx("p",{className:"text-sm font-bold text-foreground truncate",children:z.customerName}),p.jsxs("p",{className:"text-[10px] text-muted-foreground font-bold flex items-center gap-1.5 uppercase tracking-widest",children:["#",z.invoiceNumber,p.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-border"}),new Date(z.date).toLocaleDateString("en-IN",{day:"2-digit",month:"short"})]})]})]}),p.jsxs("div",{className:"text-right flex items-center gap-3",children:[p.jsxs("div",{children:[p.jsxs("p",{className:"text-sm font-bold text-foreground",children:["",z.total.toLocaleString("en-IN")]}),p.jsx("span",{className:`text-[9px] font-bold px-2 py-0.5 rounded-full ${z.status==="PAID"?"bg-google-green text-white shadow-sm":"bg-google-yellow/20 text-google-yellow border border-google-yellow/20"}`,children:z.status})]}),p.jsx(rE,{className:"w-5 h-5 text-muted-foreground/50"})]})]},z.id))})]})]}),p.jsx(Ji,{children:g&&p.jsxs(p.Fragment,{children:[p.jsx(Et.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>y(null),className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[100]"}),p.jsxs(Et.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",damping:25,stiffness:200},className:"fixed bottom-0 left-0 right-0 bg-surface-container-highest z-[101] rounded-t-[32px] p-6 pb-12 shadow-google-lg",children:[p.jsx("div",{className:"w-12 h-1.5 bg-border rounded-full mx-auto mb-6"}),p.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[p.jsx("div",{className:"w-16 h-16 rounded-[24px] bg-google-blue text-white flex items-center justify-center shadow-lg",children:p.jsx(Cu,{className:"w-8 h-8"})}),p.jsxs("div",{className:"min-w-0",children:[p.jsx("h2",{className:"text-2xl font-bold font-heading text-foreground truncate",children:g.customerName}),p.jsxs("p",{className:"text-xs font-bold text-muted-foreground uppercase tracking-widest mt-0.5",children:["Bill #",g.invoiceNumber]})]})]}),p.jsx("div",{className:"space-y-2",children:[{icon:iE,label:"View Details",sub:"View or print full bill",color:"bg-google-blue/10 text-google-blue",action:()=>e(g)},{icon:Xd,label:"Customer Ledger",sub:"Statement & history",color:"bg-google-red/10 text-google-red",action:()=>n(g.customerId)},{icon:Gd,label:"Share Bill",sub:"Send via WhatsApp",color:"bg-google-green/10 text-google-green",action:()=>i(g)}].map((z,W)=>p.jsxs("button",{onClick:()=>{qr.medium(),z.action(),y(null)},className:"w-full p-4 rounded-[24px] flex items-center gap-4 hover:bg-surface-container-high transition-all active:scale-[0.98] group",children:[p.jsx("div",{className:`w-12 h-12 rounded-full ${z.color} flex items-center justify-center shrink-0`,children:p.jsx(z.icon,{className:"w-6 h-6"})}),p.jsxs("div",{className:"flex-1 text-left",children:[p.jsx("p",{className:"font-bold text-foreground",children:z.label}),p.jsx("p",{className:"text-xs text-muted-foreground",children:z.sub})]}),p.jsx(wu,{className:"w-5 h-5 text-muted-foreground/30 group-hover:translate-x-1 transition-transform"})]},W))})]})]})})]})},eye=({onBack:t,onViewLedger:e})=>{const n=it.getInvoices(),r=it.getExpenses(),i=ke.useMemo(()=>{const s=n.reduce((f,d)=>f+d.total,0),a=r.reduce((f,d)=>f+d.amount,0),o=s-a,c={};return[...n,...r].forEach(f=>{const m=new Date(("status"in f,f.date)).toLocaleString("default",{month:"short",year:"2-digit"});c[m]||(c[m]={sales:0,expenses:0}),"total"in f?c[m].sales+=f.total:c[m].expenses+=f.amount}),{totalSales:s,totalExpenses:a,netProfit:o,monthlyData:c}},[n,r]);return p.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900 min-h-full pb-20",children:[p.jsxs("div",{className:"sticky top-0 z-10 bg-slate-50 dark:bg-slate-900 px-4 py-4 flex items-center gap-4",children:[p.jsx("button",{onClick:t,className:"p-2 -ml-2 rounded-full hover:bg-slate-200 dark:hover:bg-slate-800 transition-colors",children:p.jsx(Mu,{className:"w-6 h-6 text-slate-700 dark:text-slate-200"})}),p.jsx("h1",{className:"text-2xl font-normal text-slate-800 dark:text-slate-100",children:"Reports"})]}),p.jsxs("div",{className:"px-4 max-w-4xl mx-auto space-y-6",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[p.jsxs(Et.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-blue-100 dark:bg-blue-900/30 p-6 rounded-[24px] text-blue-900 dark:text-blue-100",children:[p.jsxs("div",{className:"flex items-start justify-between mb-4",children:[p.jsx("div",{className:"p-3 bg-white/50 dark:bg-white/10 rounded-2xl",children:p.jsx(tp,{className:"w-6 h-6"})}),p.jsx("span",{className:"text-xs font-bold uppercase tracking-wider opacity-60",children:"Revenue"})]}),p.jsxs("h3",{className:"text-3xl font-normal",children:["",i.totalSales.toLocaleString("en-IN")]})]}),p.jsxs(Et.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-red-100 dark:bg-red-900/30 p-6 rounded-[24px] text-red-900 dark:text-red-100",children:[p.jsxs("div",{className:"flex items-start justify-between mb-4",children:[p.jsx("div",{className:"p-3 bg-white/50 dark:bg-white/10 rounded-2xl",children:p.jsx(AW,{className:"w-6 h-6"})}),p.jsx("span",{className:"text-xs font-bold uppercase tracking-wider opacity-60",children:"Expenses"})]}),p.jsxs("h3",{className:"text-3xl font-normal",children:["",i.totalExpenses.toLocaleString("en-IN")]})]}),p.jsxs(Et.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-emerald-100 dark:bg-emerald-900/30 p-6 rounded-[24px] text-emerald-900 dark:text-emerald-100",children:[p.jsxs("div",{className:"flex items-start justify-between mb-4",children:[p.jsx("div",{className:"p-3 bg-white/50 dark:bg-white/10 rounded-2xl",children:p.jsx(tp,{className:"w-6 h-6"})}),p.jsx("span",{className:"text-xs font-bold uppercase tracking-wider opacity-60",children:"Net Profit"})]}),p.jsxs("h3",{className:"text-3xl font-normal",children:["",i.netProfit.toLocaleString("en-IN")]})]})]}),p.jsxs(Et.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.35},className:"bg-blue-600 text-white rounded-[32px] p-8 shadow-xl shadow-blue-500/20",children:[p.jsxs("div",{className:"flex justify-between items-start mb-6",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"text-xl font-bold",children:"Collection Performance"}),p.jsx("p",{className:"text-blue-100 text-sm opacity-80",children:"How effectively are you collecting payments?"})]}),p.jsx("div",{className:"bg-white/20 p-2 rounded-xl",children:p.jsx(tp,{className:"w-6 h-6 text-white"})})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-8",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-xs font-bold uppercase tracking-wider opacity-60 mb-1",children:"Total Receivables"}),p.jsxs("p",{className:"text-3xl font-black",children:["",it.getCustomers().reduce((s,a)=>s+a.balance,0).toLocaleString()]})]}),p.jsxs("div",{className:"text-right",children:[p.jsx("p",{className:"text-xs font-bold uppercase tracking-wider opacity-60 mb-1",children:"Recovery Rate"}),p.jsxs("p",{className:"text-3xl font-black",children:[Math.round(i.totalSales/(i.totalSales+it.getCustomers().reduce((s,a)=>s+a.balance,0))*100),"%"]})]})]}),p.jsx("div",{className:"h-4 bg-white/20 rounded-full overflow-hidden",children:p.jsx(Et.div,{initial:{width:0},animate:{width:`${Math.round(i.totalSales/(i.totalSales+it.getCustomers().reduce((s,a)=>s+a.balance,0))*100)}%`},className:"h-full bg-white rounded-full shadow-lg"})}),p.jsx("p",{className:"text-[10px] mt-2 font-bold opacity-60",children:"Calculated based on lifetime sales vs current outstanding balance."})]}),p.jsxs(Et.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"bg-white dark:bg-slate-800 rounded-[24px] p-6 shadow-sm border border-slate-100 dark:border-slate-700",children:[p.jsxs("div",{className:"flex justify-between items-center mb-6",children:[p.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-100",children:"Monthly Performance"}),p.jsxs("button",{className:"text-blue-600 text-sm font-medium flex items-center gap-1 hover:bg-blue-50 px-3 py-1 rounded-full transition-colors",children:[p.jsx(jp,{className:"w-4 h-4"})," Export CSV"]})]}),p.jsx("div",{className:"space-y-4",children:Object.keys(i.monthlyData).map((s,a)=>p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("div",{className:"w-16 text-sm font-bold text-slate-500 dark:text-slate-400",children:s}),p.jsxs("div",{className:"flex-1 space-y-1",children:[p.jsx("div",{className:"h-2 w-full bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden",children:p.jsx(Et.div,{initial:{width:0},animate:{width:`${i.monthlyData[s].sales/i.totalSales*100}%`},className:"h-full bg-blue-500 rounded-full"})}),p.jsx("div",{className:"h-1.5 w-full bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden opacity-70",children:p.jsx(Et.div,{initial:{width:0},animate:{width:`${(i.monthlyData[s].sales-i.monthlyData[s].expenses)/i.totalSales*100}%`},className:"h-full bg-emerald-500 rounded-full"})})]}),p.jsxs("div",{className:"text-right min-w-[80px]",children:[p.jsxs("div",{className:"text-sm font-bold text-slate-800 dark:text-slate-200",children:["",i.monthlyData[s].sales.toLocaleString("en-IN",{notation:"compact"})]}),p.jsxs("div",{className:"text-xs text-emerald-600 font-medium",children:["",(i.monthlyData[s].sales-i.monthlyData[s].expenses).toLocaleString("en-IN",{notation:"compact"})]})]})]},s))})]}),p.jsxs(Et.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"bg-white dark:bg-slate-800 rounded-[24px] p-6 shadow-sm border border-slate-100 dark:border-slate-700",children:[p.jsx("h3",{className:"text-lg font-bold mb-4",children:"Customer Ledger Reports"}),p.jsx("p",{className:"text-sm text-slate-500 mb-6",children:"Select a customer to view their detailed transaction history with custom date filters."}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:it.getCustomers().slice(0,6).map(s=>p.jsxs("button",{onClick:()=>e(s.id),className:"flex items-center justify-between p-4 bg-slate-50 dark:bg-slate-900 rounded-2xl border border-slate-100 dark:border-slate-800 hover:border-blue-200 transition-colors",children:[p.jsxs("div",{className:"text-left",children:[p.jsx("p",{className:"font-bold text-slate-800 dark:text-slate-100",children:s.company||s.name}),p.jsxs("p",{className:"text-xs text-slate-500",children:["Balance: ",s.balance.toLocaleString()]})]}),p.jsx(Mu,{className:"w-5 h-5 text-slate-300 rotate-180"})]},s.id))})]})]})]})},tye=()=>{const{company:t,saveCompany:e,loading:n}=Rh(),[r,i]=ke.useState(""),[s,a]=ke.useState(""),[o,c]=ke.useState(""),[f,d]=ke.useState(!0),[m,g]=ke.useState(""),[y,E]=ke.useState(!1);ke.useEffect(()=>{t&&(i(t.name||""),a(t.address||""),c(t.gst||""),d(t.gst_enabled??!0))},[t]);const _=async A=>{if(A.preventDefault(),!r.trim()){g("Company name is required");return}g(""),E(!0);try{await e({name:r,address:s,gst:o,gst_enabled:f})}catch(C){g(C.message||"Failed to save company details")}finally{E(!1)}};return n?p.jsx("div",{className:"fixed inset-0 bg-slate-50 flex items-center justify-center z-50",children:p.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):p.jsx("div",{className:"fixed inset-0 bg-slate-900/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:p.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md overflow-hidden",children:[p.jsxs("div",{className:"bg-blue-600 p-4 flex items-center gap-3",children:[p.jsx("div",{className:"bg-white/20 p-2 rounded-lg",children:p.jsx(iM,{className:"w-6 h-6 text-white"})}),p.jsxs("div",{children:[p.jsx("h2",{className:"text-lg font-bold text-white",children:"Company Details"}),p.jsx("p",{className:"text-blue-100 text-xs",children:"Please complete your profile to continue"})]})]}),p.jsxs("form",{onSubmit:_,className:"p-6 space-y-4",children:[m&&p.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-md flex items-center gap-2 text-sm",children:[p.jsx(X2,{className:"w-4 h-4 flex-shrink-0"}),m]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Company Name *"}),p.jsx("input",{type:"text",value:r,onChange:A=>i(A.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g. Acme Corp"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Address"}),p.jsx("textarea",{value:s,onChange:A=>a(A.target.value),rows:3,className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Full business address"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-sm font-medium text-slate-700",children:"GST / Tax ID"}),p.jsx("input",{type:"text",value:o,onChange:A=>c(A.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Optional"})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("input",{type:"checkbox",id:"gstEnabled",checked:f,onChange:A=>d(A.target.checked),className:"rounded border-slate-300 text-blue-600 focus:ring-blue-500"}),p.jsx("label",{htmlFor:"gstEnabled",className:"text-sm text-slate-700",children:"Enable GST calculations"})]}),p.jsx("div",{className:"pt-4",children:p.jsx("button",{type:"submit",disabled:y,className:"w-full flex justify-center items-center gap-2 py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:y?p.jsx(p.Fragment,{children:"Processing..."}):p.jsxs(p.Fragment,{children:[p.jsx(Zy,{className:"w-4 h-4"})," Save & Continue"]})})})]})]})})},nye=()=>{const{signIn:t,signUp:e}=D1(),[n,r]=ke.useState(!0),[i,s]=ke.useState(""),[a,o]=ke.useState(""),[c,f]=ke.useState(""),[d,m]=ke.useState(!1),g=async y=>{y.preventDefault(),f(""),m(!0);try{n?await t(i,a):await e(i,a)}catch(E){console.error("Auth Error:",E);let _="Authentication failed.";(E.code?.includes("auth/invalid-email")||E.message?.includes("auth/invalid-email"))&&(_="Invalid email address."),(E.code?.includes("auth/user-not-found")||E.code?.includes("auth/invalid-credential"))&&(_="Invalid email or password."),E.code?.includes("auth/wrong-password")&&(_="Incorrect password."),E.code?.includes("auth/email-already-in-use")&&(_="Email already registered."),E.code?.includes("auth/weak-password")&&(_="Password should be at least 6 characters."),E.code?.includes("auth/network-request-failed")&&(_="Network error. Check your connection."),f(_)}finally{m(!1)}};return p.jsxs("div",{className:"min-h-screen bg-slate-900 relative flex items-center justify-center p-4 overflow-hidden",children:[p.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-900 via-blue-900 to-slate-900"}),p.jsx(Et.div,{animate:{scale:[1,1.2,1],rotate:[0,90,0],opacity:[.3,.5,.3]},transition:{duration:10,repeat:1/0},className:"absolute top-[-10%] left-[-10%] w-[500px] h-[500px] rounded-full bg-blue-600/20 blur-[100px]"}),p.jsx(Et.div,{animate:{scale:[1,1.1,1],x:[0,50,0],opacity:[.2,.4,.2]},transition:{duration:15,repeat:1/0},className:"absolute bottom-[-10%] right-[-10%] w-[600px] h-[600px] rounded-full bg-indigo-600/20 blur-[120px]"}),p.jsx(Et.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md relative z-10",children:p.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl shadow-2xl overflow-hidden",children:[p.jsxs("div",{className:"p-8 pb-6 text-center border-b border-white/10",children:[p.jsx(Et.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200,damping:15},className:"inline-flex p-4 bg-gradient-to-tr from-blue-500 to-indigo-600 rounded-2xl shadow-lg mb-4 group",children:p.jsx(sE,{className:"w-8 h-8 text-white group-hover:rotate-12 transition-transform duration-300"})}),p.jsx("h2",{className:"text-3xl font-bold text-white mb-2 tracking-tight",children:"BillFlow"}),p.jsx("p",{className:"text-blue-200 text-sm font-medium",children:"Smart Invoicing & Business Management"}),p.jsx("p",{className:"text-slate-400 text-xs mt-1",children:"by Lavneet Rathi"})]}),p.jsxs("div",{className:"p-8 pt-6 bg-white/95 backdrop-blur-sm",children:[p.jsxs("div",{className:"mb-6 flex p-1 bg-slate-100 rounded-xl relative",children:[p.jsx(Et.div,{className:"absolute top-1 bottom-1 bg-white rounded-lg shadow-sm",initial:!1,animate:{left:n?"4px":"50%",width:"calc(50% - 4px)"}}),p.jsx("button",{onClick:()=>{r(!0),f("")},className:`flex-1 relative z-10 text-sm font-bold py-2 rounded-lg transition-colors ${n?"text-blue-700":"text-slate-500 hover:text-slate-700"}`,children:"Sign In"}),p.jsx("button",{onClick:()=>{r(!1),f("")},className:`flex-1 relative z-10 text-sm font-bold py-2 rounded-lg transition-colors ${n?"text-slate-500 hover:text-slate-700":"text-blue-700"}`,children:"Sign Up"})]}),p.jsx(Ji,{mode:"wait",children:p.jsxs(Et.form,{initial:{opacity:0,x:n?-20:20},animate:{opacity:1,x:0},exit:{opacity:0,x:n?20:-20},transition:{duration:.2},className:"space-y-5",onSubmit:g,children:[c&&p.jsxs(Et.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-xl flex items-start gap-3 text-sm",children:[p.jsx(mM,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),p.jsx("span",{children:c})]}),p.jsxs("div",{className:"space-y-1",children:[p.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider ml-1",children:"Email"}),p.jsxs("div",{className:"relative group",children:[p.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:p.jsx(Qy,{className:"h-5 w-5 text-slate-400 group-focus-within:text-blue-500 transition-colors"})}),p.jsx("input",{type:"email",required:!0,value:i,onChange:y=>s(y.target.value),placeholder:"your@email.com",className:"block w-full pl-10 pr-3 py-3 border border-slate-200 rounded-xl text-slate-800 placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all bg-slate-50 focus:bg-white"})]})]}),p.jsxs("div",{className:"space-y-1",children:[p.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider ml-1",children:"Password"}),p.jsxs("div",{className:"relative group",children:[p.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:p.jsx(tW,{className:"h-5 w-5 text-slate-400 group-focus-within:text-blue-500 transition-colors"})}),p.jsx("input",{type:"password",required:!0,minLength:6,value:a,onChange:y=>o(y.target.value),placeholder:"",className:"block w-full pl-10 pr-3 py-3 border border-slate-200 rounded-xl text-slate-800 placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all bg-slate-50 focus:bg-white"})]})]}),p.jsx("button",{type:"submit",disabled:d,className:`w-full flex justify-center items-center gap-2 py-3.5 px-4 rounded-xl text-sm font-bold text-white transition-all shadow-lg hover:shadow-blue-500/30 active:scale-[0.98] ${d?"bg-slate-400 cursor-not-allowed":"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700"}`,children:d?"Processing...":p.jsxs(p.Fragment,{children:[n?"Sign In":"Create Account",p.jsx(gG,{className:"w-4 h-4"})]})})]},n?"login":"signup")}),p.jsxs("div",{className:"mt-8 pt-6 border-t border-slate-100 text-center",children:[p.jsx("p",{className:"text-xs text-slate-400",children:n?"Don't have an account yet?":"Already have an account?"}),p.jsx("button",{onClick:()=>{r(!n),f("")},className:"text-sm font-bold text-blue-600 hover:text-blue-700 mt-1 hover:underline",children:n?"Sign up for free":"Log in to existing account"})]})]})]})})]})},rye=()=>{const t=`rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    
    // Allow user to read/write their own company profile
    match /companies/{userId} {
      allow read, write: if request.auth != null && request.auth.uid == userId;
    }
    
    // Allow user to read/write their own data in 'users' collection
    match /users/{userId}/{document=**} {
      allow read, write: if request.auth != null && request.auth.uid == userId;
    }
    
  }
}`,e=()=>{navigator.clipboard.writeText(t),alert("Rules copied to clipboard!")};return p.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-sm flex items-center justify-center z-[100] p-4",children:p.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl overflow-hidden border border-red-200",children:[p.jsxs("div",{className:"bg-red-50 p-6 border-b border-red-100 flex items-start gap-4",children:[p.jsx("div",{className:"bg-red-100 p-3 rounded-full",children:p.jsx(vW,{className:"w-8 h-8 text-red-600"})}),p.jsxs("div",{children:[p.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"Database Permission Error"}),p.jsxs("p",{className:"text-slate-600 mt-1",children:["The application cannot access the database. This usually happens when ",p.jsx("strong",{children:"Firestore Security Rules"})," are missing or incorrect."]})]})]}),p.jsxs("div",{className:"p-6 space-y-6",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"text-sm font-semibold text-slate-900 uppercase tracking-wider mb-3",children:"Action Required: Update Firebase Rules"}),p.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-slate-600 text-sm mb-4",children:[p.jsxs("li",{children:["Go to your ",p.jsx("strong",{children:"Firebase Console"})," > ",p.jsx("strong",{children:"Firestore Database"})," > ",p.jsx("strong",{children:"Rules"})," tab."]}),p.jsx("li",{children:"Replace the existing rules with the code below."}),p.jsxs("li",{children:["Click ",p.jsx("strong",{children:"Publish"}),"."]})]})]}),p.jsxs("div",{className:"relative",children:[p.jsx("pre",{className:"bg-slate-900 text-slate-50 p-4 rounded-lg text-xs font-mono overflow-x-auto leading-relaxed border border-slate-700",children:t}),p.jsxs("button",{onClick:e,className:"absolute top-2 right-2 bg-white/10 hover:bg-white/20 text-white px-3 py-1.5 rounded text-xs font-medium flex items-center gap-2 transition-colors",children:[p.jsx(BG,{className:"w-3 h-3"})," Copy"]})]}),p.jsxs("div",{className:"flex justify-end gap-3",children:[p.jsxs("a",{href:"https://console.firebase.google.com",target:"_blank",rel:"noreferrer",className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium text-sm transition-colors",children:["Open Firebase Console ",p.jsx(oM,{className:"w-4 h-4"})]}),p.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-slate-100 text-slate-700 rounded-lg hover:bg-slate-200 font-medium text-sm transition-colors",children:"I've Updated Rules, Reload App"})]})]})]})})},iye=()=>{const{user:t,loading:e}=D1(),{company:n,loading:r,permissionError:i}=Rh(),{theme:s,setTheme:a}=L7(),[o,c]=ke.useState(Qt.DASHBOARD),[f,d]=ke.useState(null),[m,g]=ke.useState(null),[y,E]=ke.useState(null),[_,A]=ke.useState([]),[C,V]=ke.useState(!0),[R,F]=ke.useState(!1),[z,W]=ke.useState(!1),[D,L]=ke.useState(null),[k,q]=ke.useState(null),[P,M]=ke.useState(!1),[j,ae]=ke.useState(!1),[Ae,fe]=ke.useState(!1);ke.useEffect(()=>{(async()=>{await it.init(t?.uid||null),A(it.getInvoices());const ce=!!it.getFirebaseConfig(),_e=sr.isReady();F(ce&&_e),V(!1)})()},[t]),ke.useEffect(()=>{C||(async()=>{try{(await Au.checkPermissions()).contacts!=="granted"&&await Au.requestPermissions()}catch(ce){console.warn("Permission request error on startup:",ce)}})()},[C]),ke.useEffect(()=>{C||A(it.getInvoices())},[o,C]);const xe=Q=>{d(Q),c(Qt.VIEW_INVOICE)},Ne=Q=>{E(Q),c(Qt.CUSTOMER_LEDGER)},me=Q=>{g(Q),c(Qt.EDIT_INVOICE)},Re=(Q,ce=!1)=>{o===Qt.EDIT_INVOICE?it.updateInvoice(Q):it.saveInvoice(Q),A(it.getInvoices()),d(Q),fe(ce),c(Qt.VIEW_INVOICE),g(null)},re=Q=>{const ce=it.getCustomers().find(Pe=>Pe.id===Q.customerId),_e=it.getCompanyProfile();C2.shareInvoice(Q,ce,_e)},B=Q=>{L(Q),c(Qt.DAYBOOK)};if(e||t&&r||C)return p.jsxs("div",{className:"flex h-screen w-full items-center justify-center bg-white dark:bg-slate-950 flex-col gap-6 animate-pulse",children:[p.jsxs("div",{className:"relative",children:[p.jsx("div",{className:"w-20 h-20 rounded-3xl bg-blue-600 flex items-center justify-center shadow-2xl shadow-blue-500/20 rotate-12",children:p.jsx(i5,{className:"w-10 h-10 text-white -rotate-12"})}),p.jsx("div",{className:"absolute -bottom-2 -right-2 w-8 h-8 rounded-full bg-emerald-500 border-4 border-white dark:border-slate-950 flex items-center justify-center",children:p.jsx("div",{className:"w-2 h-2 rounded-full bg-white animate-ping"})})]}),p.jsxs("div",{className:"text-center",children:[p.jsx("h1",{className:"text-2xl font-black text-slate-900 dark:text-white tracking-tighter uppercase italic",children:"BillBook"}),p.jsx("p",{className:"text-slate-400 text-[10px] font-black uppercase tracking-[0.2em] mt-1",children:"Initializing Secure Session"})]})]});if(i)return p.jsx(rye,{});if(!t)return p.jsx(nye,{});if(!n)return p.jsx(tye,{});if(C)return p.jsxs("div",{className:"flex h-screen w-full items-center justify-center bg-slate-50 flex-col gap-4",children:[p.jsx(cM,{className:"w-10 h-10 text-blue-600 animate-spin"}),p.jsx("p",{className:"text-slate-500 font-medium",children:"Loading Data..."})]});const Y=()=>{g(null),ae(!1),c(Qt.CREATE_INVOICE)},X=()=>{g(null),ae(!0),c(Qt.CREATE_INVOICE)};return p.jsxs("div",{className:"flex h-screen bg-slate-50 dark:bg-slate-900 overflow-hidden font-sans flex-col md:flex-row",children:[p.jsxs("div",{className:`
          fixed inset-0 z-[100] md:relative md:z-auto
          ${P?"flex":["VIEW_INVOICE","CREATE_INVOICE","EDIT_INVOICE"].includes(o)?"hidden":"hidden md:flex"}
        `,children:[p.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-md md:hidden",onClick:()=>M(!1)}),p.jsx("div",{className:"relative h-full animate-in slide-in-from-left duration-300",children:p.jsx(Gee,{currentView:o,onClose:()=>M(!1),onChangeView:Q=>{Q===Qt.CREATE_INVOICE&&(g(null),ae(!1)),Q===Qt.IMPORT?W(!0):c(Q),M(!1)},isCloudConnected:R||!!t})})]}),p.jsxs("main",{className:"flex-1 overflow-y-auto h-full relative w-full scroll-smooth bg-slate-50 dark:bg-slate-900",children:[!["VIEW_INVOICE","CREATE_INVOICE","EDIT_INVOICE"].includes(o)&&p.jsxs("div",{className:"md:hidden sticky top-0 z-30 bg-white/80 dark:bg-slate-950/80 backdrop-blur-md px-4 h-16 flex items-center justify-between border-b border-slate-200/50 dark:border-slate-800/50 shadow-sm",children:[p.jsx("button",{onClick:()=>M(!0),className:"p-2 -ml-2 rounded-xl text-slate-600 dark:text-slate-400 active:bg-slate-100 dark:active:bg-slate-800",children:p.jsx(i5,{className:"w-6 h-6"})}),p.jsxs("div",{className:"flex-1 text-center px-4 overflow-hidden",children:[p.jsx("h2",{className:"text-sm font-black text-slate-900 dark:text-slate-100 uppercase tracking-tighter truncate leading-tight",children:n?.name||"BillBook"}),p.jsx("p",{className:"text-[9px] text-blue-600 dark:text-blue-400 font-black uppercase tracking-widest leading-tight",children:o.replace("_"," ")})]}),p.jsx("button",{onClick:()=>{a(s==="dark"?"light":"dark"),qr.medium()},className:"p-2 -mr-2 rounded-xl text-slate-600 dark:text-slate-400 active:bg-slate-100 dark:active:bg-slate-800",children:s==="dark"?p.jsx(pM,{className:"w-6 h-6 text-yellow-500"}):p.jsx(dM,{className:"w-6 h-6 text-blue-600"})})]}),p.jsx(Ji,{mode:"wait",children:p.jsxs(Et.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"w-full h-full",children:[o===Qt.DASHBOARD&&p.jsx(Zxe,{invoices:_,onViewInvoice:xe,onViewCustomerLedger:Ne,onViewDaybook:B,onQuickShare:re,onCreateInvoice:Y,onOpenReports:()=>c(Qt.REPORTS),onAddCustomer:()=>c(Qt.CUSTOMERS),onOpenSmartCalc:X}),o===Qt.INVOICES&&p.jsx(dP,{invoices:_,onView:xe,onEdit:me,onViewLedger:Ne,onDelete:Q=>{it.deleteInvoice(Q.id),A(it.getInvoices())}}),o===Qt.ALL_INVOICES&&p.jsx(dP,{invoices:_,onView:xe,onEdit:me,onViewLedger:Ne,onDelete:Q=>{it.deleteInvoice(Q.id),A(it.getInvoices())}}),o===Qt.DAYBOOK&&p.jsx($ue,{initialDate:D}),o===Qt.INVENTORY&&p.jsx(zue,{}),o===Qt.EXPENSES&&p.jsx(Yue,{onBack:()=>c(Qt.DASHBOARD)}),o===Qt.PAYMENTS&&p.jsx(Xue,{onBack:()=>{c(Qt.DASHBOARD),q(null)},initialPayment:k}),o===Qt.REPORTS&&p.jsx(eye,{onBack:()=>c(Qt.DASHBOARD),onViewLedger:Ne}),o===Qt.CUSTOMERS&&p.jsx(Gue,{onEditInvoice:me,onBack:()=>c(Qt.DASHBOARD)}),o===Qt.SETTINGS&&p.jsx(Wue,{}),o===Qt.IMPORT&&p.jsx(xD,{onClose:()=>c(Qt.DASHBOARD),onImportComplete:()=>{}}),o===Qt.CUSTOMER_LEDGER&&y&&p.jsx(Qxe,{customerId:y,onBack:()=>c(Qt.DASHBOARD),onViewInvoice:xe,onEditPayment:Q=>{q(Q),c(Qt.PAYMENTS)}}),o===Qt.CREATE_INVOICE&&p.jsx(fP,{onSave:Re,onCancel:()=>c(Qt.INVOICES),startSmartCalc:j}),o===Qt.EDIT_INVOICE&&m&&p.jsx(fP,{onSave:Re,onCancel:()=>c(Qt.INVOICES),initialInvoice:m}),o===Qt.VIEW_INVOICE&&f&&p.jsx(s9,{invoice:f,onBack:()=>c(Qt.INVOICES),onEdit:me,onViewLedger:Ne,showPostSaveActions:Ae,onClosePostSaveActions:()=>fe(!1)})]},o)})]}),!["VIEW_INVOICE","CREATE_INVOICE","EDIT_INVOICE"].includes(o)&&p.jsx("div",{className:"md:hidden",children:p.jsx(Wee,{currentView:o,onChangeView:Q=>{Q===Qt.CREATE_INVOICE?Y():Q===Qt.IMPORT?W(!0):c(Q)}})}),z&&o!==Qt.IMPORT&&p.jsx(xD,{onClose:()=>W(!1),onImportComplete:()=>{A(it.getInvoices()),c(Qt.INVENTORY)}})]})},sye=()=>p.jsx(Tee,{children:p.jsx(mue,{children:p.jsx(iye,{})})});tU.createRoot(document.getElementById("root")).render(p.jsx(Nee,{attribute:"class",defaultTheme:"system",enableSystem:!0,children:p.jsx(sye,{})}));export{MR as E,Y0 as I,G3 as N,lS as W,Ur as _,qee as b,aye as c,yD as g};
