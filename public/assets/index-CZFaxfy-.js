function Uz(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var _Ae=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function xS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var E_={exports:{}},Ag={};var SI;function jz(){if(SI)return Ag;SI=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,s,i){var a=null;if(i!==void 0&&(a=""+i),s.key!==void 0&&(a=""+s.key),"key"in s){i={};for(var o in s)o!=="key"&&(i[o]=s[o])}else i=s;return s=i.ref,{$$typeof:t,type:r,key:a,ref:s!==void 0?s:null,props:i}}return Ag.Fragment=e,Ag.jsx=n,Ag.jsxs=n,Ag}var AI;function qz(){return AI||(AI=1,E_.exports=jz()),E_.exports}var m=qz(),T_={exports:{}},Cg={},S_={exports:{}},A_={};var CI;function Hz(){return CI||(CI=1,(function(t){function e(ae,pe){var de=ae.length;ae.push(pe);e:for(;0<de;){var oe=de-1>>>1,ke=ae[oe];if(0<s(ke,pe))ae[oe]=pe,ae[de]=ke,de=oe;else break e}}function n(ae){return ae.length===0?null:ae[0]}function r(ae){if(ae.length===0)return null;var pe=ae[0],de=ae.pop();if(de!==pe){ae[0]=de;e:for(var oe=0,ke=ae.length,ne=ke>>>1;oe<ne;){var B=2*(oe+1)-1,K=ae[B],Y=B+1,Q=ae[Y];if(0>s(K,de))Y<ke&&0>s(Q,K)?(ae[oe]=Q,ae[Y]=de,oe=Y):(ae[oe]=K,ae[B]=de,oe=B);else if(Y<ke&&0>s(Q,de))ae[oe]=Q,ae[Y]=de,oe=Y;else break e}}return pe}function s(ae,pe){var de=ae.sortIndex-pe.sortIndex;return de!==0?de:ae.id-pe.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var c=[],u=[],d=1,p=null,g=3,x=!1,w=!1,y=!1,S=!1,C=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;function D(ae){for(var pe=n(u);pe!==null;){if(pe.callback===null)r(u);else if(pe.startTime<=ae)r(u),pe.sortIndex=pe.expirationTime,e(c,pe);else break;pe=n(u)}}function z(ae){if(y=!1,D(ae),!w)if(n(c)!==null)w=!0,G||(G=!0,O());else{var pe=n(u);pe!==null&&Ee(z,pe.startTime-ae)}}var G=!1,P=-1,M=5,R=-1;function U(){return S?!0:!(t.unstable_now()-R<M)}function L(){if(S=!1,G){var ae=t.unstable_now();R=ae;var pe=!0;try{e:{w=!1,y&&(y=!1,F(P),P=-1),x=!0;var de=g;try{t:{for(D(ae),p=n(c);p!==null&&!(p.expirationTime>ae&&U());){var oe=p.callback;if(typeof oe=="function"){p.callback=null,g=p.priorityLevel;var ke=oe(p.expirationTime<=ae);if(ae=t.unstable_now(),typeof ke=="function"){p.callback=ke,D(ae),pe=!0;break t}p===n(c)&&r(c),D(ae)}else r(c);p=n(c)}if(p!==null)pe=!0;else{var ne=n(u);ne!==null&&Ee(z,ne.startTime-ae),pe=!1}}break e}finally{p=null,g=de,x=!1}pe=void 0}}finally{pe?O():G=!1}}}var O;if(typeof I=="function")O=function(){I(L)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,ie=j.port2;j.port1.onmessage=L,O=function(){ie.postMessage(null)}}else O=function(){C(L,0)};function Ee(ae,pe){P=C(function(){ae(t.unstable_now())},pe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ae){ae.callback=null},t.unstable_forceFrameRate=function(ae){0>ae||125<ae?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<ae?Math.floor(1e3/ae):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_next=function(ae){switch(g){case 1:case 2:case 3:var pe=3;break;default:pe=g}var de=g;g=pe;try{return ae()}finally{g=de}},t.unstable_requestPaint=function(){S=!0},t.unstable_runWithPriority=function(ae,pe){switch(ae){case 1:case 2:case 3:case 4:case 5:break;default:ae=3}var de=g;g=ae;try{return pe()}finally{g=de}},t.unstable_scheduleCallback=function(ae,pe,de){var oe=t.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?oe+de:oe):de=oe,ae){case 1:var ke=-1;break;case 2:ke=250;break;case 5:ke=1073741823;break;case 4:ke=1e4;break;default:ke=5e3}return ke=de+ke,ae={id:d++,callback:pe,priorityLevel:ae,startTime:de,expirationTime:ke,sortIndex:-1},de>oe?(ae.sortIndex=de,e(u,ae),n(c)===null&&ae===n(u)&&(y?(F(P),P=-1):y=!0,Ee(z,de-oe))):(ae.sortIndex=ke,e(c,ae),w||x||(w=!0,G||(G=!0,O()))),ae},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(ae){var pe=g;return function(){var de=g;g=pe;try{return ae.apply(this,arguments)}finally{g=de}}}})(A_)),A_}var NI;function zz(){return NI||(NI=1,S_.exports=Hz()),S_.exports}var C_={exports:{}},jn={};var II;function Gz(){if(II)return jn;II=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),a=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),g=Symbol.iterator;function x(ne){return ne===null||typeof ne!="object"?null:(ne=g&&ne[g]||ne["@@iterator"],typeof ne=="function"?ne:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,S={};function C(ne,B,K){this.props=ne,this.context=B,this.refs=S,this.updater=K||w}C.prototype.isReactComponent={},C.prototype.setState=function(ne,B){if(typeof ne!="object"&&typeof ne!="function"&&ne!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ne,B,"setState")},C.prototype.forceUpdate=function(ne){this.updater.enqueueForceUpdate(this,ne,"forceUpdate")};function F(){}F.prototype=C.prototype;function I(ne,B,K){this.props=ne,this.context=B,this.refs=S,this.updater=K||w}var D=I.prototype=new F;D.constructor=I,y(D,C.prototype),D.isPureReactComponent=!0;var z=Array.isArray;function G(){}var P={H:null,A:null,T:null,S:null},M=Object.prototype.hasOwnProperty;function R(ne,B,K){var Y=K.ref;return{$$typeof:t,type:ne,key:B,ref:Y!==void 0?Y:null,props:K}}function U(ne,B){return R(ne.type,B,ne.props)}function L(ne){return typeof ne=="object"&&ne!==null&&ne.$$typeof===t}function O(ne){var B={"=":"=0",":":"=2"};return"$"+ne.replace(/[=:]/g,function(K){return B[K]})}var j=/\/+/g;function ie(ne,B){return typeof ne=="object"&&ne!==null&&ne.key!=null?O(""+ne.key):B.toString(36)}function Ee(ne){switch(ne.status){case"fulfilled":return ne.value;case"rejected":throw ne.reason;default:switch(typeof ne.status=="string"?ne.then(G,G):(ne.status="pending",ne.then(function(B){ne.status==="pending"&&(ne.status="fulfilled",ne.value=B)},function(B){ne.status==="pending"&&(ne.status="rejected",ne.reason=B)})),ne.status){case"fulfilled":return ne.value;case"rejected":throw ne.reason}}throw ne}function ae(ne,B,K,Y,Q){var ue=typeof ne;(ue==="undefined"||ue==="boolean")&&(ne=null);var ge=!1;if(ne===null)ge=!0;else switch(ue){case"bigint":case"string":case"number":ge=!0;break;case"object":switch(ne.$$typeof){case t:case e:ge=!0;break;case d:return ge=ne._init,ae(ge(ne._payload),B,K,Y,Q)}}if(ge)return Q=Q(ne),ge=Y===""?"."+ie(ne,0):Y,z(Q)?(K="",ge!=null&&(K=ge.replace(j,"$&/")+"/"),ae(Q,B,K,"",function(Re){return Re})):Q!=null&&(L(Q)&&(Q=U(Q,K+(Q.key==null||ne&&ne.key===Q.key?"":(""+Q.key).replace(j,"$&/")+"/")+ge)),B.push(Q)),1;ge=0;var Pe=Y===""?".":Y+":";if(z(ne))for(var ee=0;ee<ne.length;ee++)Y=ne[ee],ue=Pe+ie(Y,ee),ge+=ae(Y,B,K,ue,Q);else if(ee=x(ne),typeof ee=="function")for(ne=ee.call(ne),ee=0;!(Y=ne.next()).done;)Y=Y.value,ue=Pe+ie(Y,ee++),ge+=ae(Y,B,K,ue,Q);else if(ue==="object"){if(typeof ne.then=="function")return ae(Ee(ne),B,K,Y,Q);throw B=String(ne),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(ne).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.")}return ge}function pe(ne,B,K){if(ne==null)return ne;var Y=[],Q=0;return ae(ne,Y,"","",function(ue){return B.call(K,ue,Q++)}),Y}function de(ne){if(ne._status===-1){var B=ne._result;B=B(),B.then(function(K){(ne._status===0||ne._status===-1)&&(ne._status=1,ne._result=K)},function(K){(ne._status===0||ne._status===-1)&&(ne._status=2,ne._result=K)}),ne._status===-1&&(ne._status=0,ne._result=B)}if(ne._status===1)return ne._result.default;throw ne._result}var oe=typeof reportError=="function"?reportError:function(ne){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var B=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof ne=="object"&&ne!==null&&typeof ne.message=="string"?String(ne.message):String(ne),error:ne});if(!window.dispatchEvent(B))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",ne);return}console.error(ne)},ke={map:pe,forEach:function(ne,B,K){pe(ne,function(){B.apply(this,arguments)},K)},count:function(ne){var B=0;return pe(ne,function(){B++}),B},toArray:function(ne){return pe(ne,function(B){return B})||[]},only:function(ne){if(!L(ne))throw Error("React.Children.only expected to receive a single React element child.");return ne}};return jn.Activity=p,jn.Children=ke,jn.Component=C,jn.Fragment=n,jn.Profiler=s,jn.PureComponent=I,jn.StrictMode=r,jn.Suspense=c,jn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,jn.__COMPILER_RUNTIME={__proto__:null,c:function(ne){return P.H.useMemoCache(ne)}},jn.cache=function(ne){return function(){return ne.apply(null,arguments)}},jn.cacheSignal=function(){return null},jn.cloneElement=function(ne,B,K){if(ne==null)throw Error("The argument must be a React element, but you passed "+ne+".");var Y=y({},ne.props),Q=ne.key;if(B!=null)for(ue in B.key!==void 0&&(Q=""+B.key),B)!M.call(B,ue)||ue==="key"||ue==="__self"||ue==="__source"||ue==="ref"&&B.ref===void 0||(Y[ue]=B[ue]);var ue=arguments.length-2;if(ue===1)Y.children=K;else if(1<ue){for(var ge=Array(ue),Pe=0;Pe<ue;Pe++)ge[Pe]=arguments[Pe+2];Y.children=ge}return R(ne.type,Q,Y)},jn.createContext=function(ne){return ne={$$typeof:a,_currentValue:ne,_currentValue2:ne,_threadCount:0,Provider:null,Consumer:null},ne.Provider=ne,ne.Consumer={$$typeof:i,_context:ne},ne},jn.createElement=function(ne,B,K){var Y,Q={},ue=null;if(B!=null)for(Y in B.key!==void 0&&(ue=""+B.key),B)M.call(B,Y)&&Y!=="key"&&Y!=="__self"&&Y!=="__source"&&(Q[Y]=B[Y]);var ge=arguments.length-2;if(ge===1)Q.children=K;else if(1<ge){for(var Pe=Array(ge),ee=0;ee<ge;ee++)Pe[ee]=arguments[ee+2];Q.children=Pe}if(ne&&ne.defaultProps)for(Y in ge=ne.defaultProps,ge)Q[Y]===void 0&&(Q[Y]=ge[Y]);return R(ne,ue,Q)},jn.createRef=function(){return{current:null}},jn.forwardRef=function(ne){return{$$typeof:o,render:ne}},jn.isValidElement=L,jn.lazy=function(ne){return{$$typeof:d,_payload:{_status:-1,_result:ne},_init:de}},jn.memo=function(ne,B){return{$$typeof:u,type:ne,compare:B===void 0?null:B}},jn.startTransition=function(ne){var B=P.T,K={};P.T=K;try{var Y=ne(),Q=P.S;Q!==null&&Q(K,Y),typeof Y=="object"&&Y!==null&&typeof Y.then=="function"&&Y.then(G,oe)}catch(ue){oe(ue)}finally{B!==null&&K.types!==null&&(B.types=K.types),P.T=B}},jn.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},jn.use=function(ne){return P.H.use(ne)},jn.useActionState=function(ne,B,K){return P.H.useActionState(ne,B,K)},jn.useCallback=function(ne,B){return P.H.useCallback(ne,B)},jn.useContext=function(ne){return P.H.useContext(ne)},jn.useDebugValue=function(){},jn.useDeferredValue=function(ne,B){return P.H.useDeferredValue(ne,B)},jn.useEffect=function(ne,B){return P.H.useEffect(ne,B)},jn.useEffectEvent=function(ne){return P.H.useEffectEvent(ne)},jn.useId=function(){return P.H.useId()},jn.useImperativeHandle=function(ne,B,K){return P.H.useImperativeHandle(ne,B,K)},jn.useInsertionEffect=function(ne,B){return P.H.useInsertionEffect(ne,B)},jn.useLayoutEffect=function(ne,B){return P.H.useLayoutEffect(ne,B)},jn.useMemo=function(ne,B){return P.H.useMemo(ne,B)},jn.useOptimistic=function(ne,B){return P.H.useOptimistic(ne,B)},jn.useReducer=function(ne,B,K){return P.H.useReducer(ne,B,K)},jn.useRef=function(ne){return P.H.useRef(ne)},jn.useState=function(ne){return P.H.useState(ne)},jn.useSyncExternalStore=function(ne,B,K){return P.H.useSyncExternalStore(ne,B,K)},jn.useTransition=function(){return P.H.useTransition()},jn.version="19.2.0",jn}var kI;function vS(){return kI||(kI=1,C_.exports=Gz()),C_.exports}var N_={exports:{}},ya={};var RI;function $z(){if(RI)return ya;RI=1;var t=vS();function e(c){var u="https://react.dev/errors/"+c;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)u+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+c+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function i(c,u,d){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:p==null?null:""+p,children:c,containerInfo:u,implementation:d}}var a=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(c,u){if(c==="font")return"";if(typeof u=="string")return u==="use-credentials"?u:""}return ya.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,ya.createPortal=function(c,u){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)throw Error(e(299));return i(c,u,null,d)},ya.flushSync=function(c){var u=a.T,d=r.p;try{if(a.T=null,r.p=2,c)return c()}finally{a.T=u,r.p=d,r.d.f()}},ya.preconnect=function(c,u){typeof c=="string"&&(u?(u=u.crossOrigin,u=typeof u=="string"?u==="use-credentials"?u:"":void 0):u=null,r.d.C(c,u))},ya.prefetchDNS=function(c){typeof c=="string"&&r.d.D(c)},ya.preinit=function(c,u){if(typeof c=="string"&&u&&typeof u.as=="string"){var d=u.as,p=o(d,u.crossOrigin),g=typeof u.integrity=="string"?u.integrity:void 0,x=typeof u.fetchPriority=="string"?u.fetchPriority:void 0;d==="style"?r.d.S(c,typeof u.precedence=="string"?u.precedence:void 0,{crossOrigin:p,integrity:g,fetchPriority:x}):d==="script"&&r.d.X(c,{crossOrigin:p,integrity:g,fetchPriority:x,nonce:typeof u.nonce=="string"?u.nonce:void 0})}},ya.preinitModule=function(c,u){if(typeof c=="string")if(typeof u=="object"&&u!==null){if(u.as==null||u.as==="script"){var d=o(u.as,u.crossOrigin);r.d.M(c,{crossOrigin:d,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0})}}else u==null&&r.d.M(c)},ya.preload=function(c,u){if(typeof c=="string"&&typeof u=="object"&&u!==null&&typeof u.as=="string"){var d=u.as,p=o(d,u.crossOrigin);r.d.L(c,d,{crossOrigin:p,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0,type:typeof u.type=="string"?u.type:void 0,fetchPriority:typeof u.fetchPriority=="string"?u.fetchPriority:void 0,referrerPolicy:typeof u.referrerPolicy=="string"?u.referrerPolicy:void 0,imageSrcSet:typeof u.imageSrcSet=="string"?u.imageSrcSet:void 0,imageSizes:typeof u.imageSizes=="string"?u.imageSizes:void 0,media:typeof u.media=="string"?u.media:void 0})}},ya.preloadModule=function(c,u){if(typeof c=="string")if(u){var d=o(u.as,u.crossOrigin);r.d.m(c,{as:typeof u.as=="string"&&u.as!=="script"?u.as:void 0,crossOrigin:d,integrity:typeof u.integrity=="string"?u.integrity:void 0})}else r.d.m(c)},ya.requestFormReset=function(c){r.d.r(c)},ya.unstable_batchedUpdates=function(c,u){return c(u)},ya.useFormState=function(c,u,d){return a.H.useFormState(c,u,d)},ya.useFormStatus=function(){return a.H.useHostTransitionStatus()},ya.version="19.2.0",ya}var PI;function cL(){if(PI)return N_.exports;PI=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),N_.exports=$z(),N_.exports}var DI;function Wz(){if(DI)return Cg;DI=1;var t=zz(),e=vS(),n=cL();function r(l){var f="https://react.dev/errors/"+l;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)f+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+l+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function i(l){var f=l,h=l;if(l.alternate)for(;f.return;)f=f.return;else{l=f;do f=l,(f.flags&4098)!==0&&(h=f.return),l=f.return;while(l)}return f.tag===3?h:null}function a(l){if(l.tag===13){var f=l.memoizedState;if(f===null&&(l=l.alternate,l!==null&&(f=l.memoizedState)),f!==null)return f.dehydrated}return null}function o(l){if(l.tag===31){var f=l.memoizedState;if(f===null&&(l=l.alternate,l!==null&&(f=l.memoizedState)),f!==null)return f.dehydrated}return null}function c(l){if(i(l)!==l)throw Error(r(188))}function u(l){var f=l.alternate;if(!f){if(f=i(l),f===null)throw Error(r(188));return f!==l?null:l}for(var h=l,v=f;;){var A=h.return;if(A===null)break;var k=A.alternate;if(k===null){if(v=A.return,v!==null){h=v;continue}break}if(A.child===k.child){for(k=A.child;k;){if(k===h)return c(A),l;if(k===v)return c(A),f;k=k.sibling}throw Error(r(188))}if(h.return!==v.return)h=A,v=k;else{for(var X=!1,me=A.child;me;){if(me===h){X=!0,h=A,v=k;break}if(me===v){X=!0,v=A,h=k;break}me=me.sibling}if(!X){for(me=k.child;me;){if(me===h){X=!0,h=k,v=A;break}if(me===v){X=!0,v=k,h=A;break}me=me.sibling}if(!X)throw Error(r(189))}}if(h.alternate!==v)throw Error(r(190))}if(h.tag!==3)throw Error(r(188));return h.stateNode.current===h?l:f}function d(l){var f=l.tag;if(f===5||f===26||f===27||f===6)return l;for(l=l.child;l!==null;){if(f=d(l),f!==null)return f;l=l.sibling}return null}var p=Object.assign,g=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),F=Symbol.for("react.consumer"),I=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function O(l){return l===null||typeof l!="object"?null:(l=L&&l[L]||l["@@iterator"],typeof l=="function"?l:null)}var j=Symbol.for("react.client.reference");function ie(l){if(l==null)return null;if(typeof l=="function")return l.$$typeof===j?null:l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case y:return"Fragment";case C:return"Profiler";case S:return"StrictMode";case z:return"Suspense";case G:return"SuspenseList";case R:return"Activity"}if(typeof l=="object")switch(l.$$typeof){case w:return"Portal";case I:return l.displayName||"Context";case F:return(l._context.displayName||"Context")+".Consumer";case D:var f=l.render;return l=l.displayName,l||(l=f.displayName||f.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case P:return f=l.displayName||null,f!==null?f:ie(l.type)||"Memo";case M:f=l._payload,l=l._init;try{return ie(l(f))}catch{}}return null}var Ee=Array.isArray,ae=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},oe=[],ke=-1;function ne(l){return{current:l}}function B(l){0>ke||(l.current=oe[ke],oe[ke]=null,ke--)}function K(l,f){ke++,oe[ke]=l.current,l.current=f}var Y=ne(null),Q=ne(null),ue=ne(null),ge=ne(null);function Pe(l,f){switch(K(ue,f),K(Q,l),K(Y,null),f.nodeType){case 9:case 11:l=(l=f.documentElement)&&(l=l.namespaceURI)?K4(l):0;break;default:if(l=f.tagName,f=f.namespaceURI)f=K4(f),l=Y4(f,l);else switch(l){case"svg":l=1;break;case"math":l=2;break;default:l=0}}B(Y),K(Y,l)}function ee(){B(Y),B(Q),B(ue)}function Re(l){l.memoizedState!==null&&K(ge,l);var f=Y.current,h=Y4(f,l.type);f!==h&&(K(Q,l),K(Y,h))}function He(l){Q.current===l&&(B(Y),B(Q)),ge.current===l&&(B(ge),_g._currentValue=de)}var he,Se;function We(l){if(he===void 0)try{throw Error()}catch(h){var f=h.stack.trim().match(/\n( *(at )?)/);he=f&&f[1]||"",Se=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+he+l+Se}var le=!1;function Ge(l,f){if(!l||le)return"";le=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var v={DetermineComponentFrameRoot:function(){try{if(f){var gt=function(){throw Error()};if(Object.defineProperty(gt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(gt,[])}catch(ot){var rt=ot}Reflect.construct(l,[],gt)}else{try{gt.call()}catch(ot){rt=ot}l.call(gt.prototype)}}else{try{throw Error()}catch(ot){rt=ot}(gt=l())&&typeof gt.catch=="function"&&gt.catch(function(){})}}catch(ot){if(ot&&rt&&typeof ot.stack=="string")return[ot.stack,rt.stack]}return[null,null]}};v.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var A=Object.getOwnPropertyDescriptor(v.DetermineComponentFrameRoot,"name");A&&A.configurable&&Object.defineProperty(v.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var k=v.DetermineComponentFrameRoot(),X=k[0],me=k[1];if(X&&me){var De=X.split(`
`),tt=me.split(`
`);for(A=v=0;v<De.length&&!De[v].includes("DetermineComponentFrameRoot");)v++;for(;A<tt.length&&!tt[A].includes("DetermineComponentFrameRoot");)A++;if(v===De.length||A===tt.length)for(v=De.length-1,A=tt.length-1;1<=v&&0<=A&&De[v]!==tt[A];)A--;for(;1<=v&&0<=A;v--,A--)if(De[v]!==tt[A]){if(v!==1||A!==1)do if(v--,A--,0>A||De[v]!==tt[A]){var dt=`
`+De[v].replace(" at new "," at ");return l.displayName&&dt.includes("<anonymous>")&&(dt=dt.replace("<anonymous>",l.displayName)),dt}while(1<=v&&0<=A);break}}}finally{le=!1,Error.prepareStackTrace=h}return(h=l?l.displayName||l.name:"")?We(h):""}function st(l,f){switch(l.tag){case 26:case 27:case 5:return We(l.type);case 16:return We("Lazy");case 13:return l.child!==f&&f!==null?We("Suspense Fallback"):We("Suspense");case 19:return We("SuspenseList");case 0:case 15:return Ge(l.type,!1);case 11:return Ge(l.type.render,!1);case 1:return Ge(l.type,!0);case 31:return We("Activity");default:return""}}function Et(l){try{var f="",h=null;do f+=st(l,h),h=l,l=l.return;while(l);return f}catch(v){return`
Error generating stack: `+v.message+`
`+v.stack}}var je=Object.prototype.hasOwnProperty,yt=t.unstable_scheduleCallback,St=t.unstable_cancelCallback,Rt=t.unstable_shouldYield,Ut=t.unstable_requestPaint,Jt=t.unstable_now,zt=t.unstable_getCurrentPriorityLevel,Gt=t.unstable_ImmediatePriority,Nn=t.unstable_UserBlockingPriority,Qt=t.unstable_NormalPriority,Lt=t.unstable_LowPriority,kt=t.unstable_IdlePriority,At=t.log,zn=t.unstable_setDisableYieldValue,Ot=null,Ct=null;function Ht(l){if(typeof At=="function"&&zn(l),Ct&&typeof Ct.setStrictMode=="function")try{Ct.setStrictMode(Ot,l)}catch{}}var vn=Math.clz32?Math.clz32:xn,fn=Math.log,Zn=Math.LN2;function xn(l){return l>>>=0,l===0?32:31-(fn(l)/Zn|0)|0}var pn=256,cr=262144,dn=4194304;function Kt(l){var f=l&42;if(f!==0)return f;switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return l&261888;case 262144:case 524288:case 1048576:case 2097152:return l&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return l&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return l}}function On(l,f,h){var v=l.pendingLanes;if(v===0)return 0;var A=0,k=l.suspendedLanes,X=l.pingedLanes;l=l.warmLanes;var me=v&134217727;return me!==0?(v=me&~k,v!==0?A=Kt(v):(X&=me,X!==0?A=Kt(X):h||(h=me&~l,h!==0&&(A=Kt(h))))):(me=v&~k,me!==0?A=Kt(me):X!==0?A=Kt(X):h||(h=v&~l,h!==0&&(A=Kt(h)))),A===0?0:f!==0&&f!==A&&(f&k)===0&&(k=A&-A,h=f&-f,k>=h||k===32&&(h&4194048)!==0)?f:A}function us(l,f){return(l.pendingLanes&~(l.suspendedLanes&~l.pingedLanes)&f)===0}function fs(l,f){switch(l){case 1:case 2:case 4:case 8:case 64:return f+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Li(){var l=dn;return dn<<=1,(dn&62914560)===0&&(dn=4194304),l}function ns(l){for(var f=[],h=0;31>h;h++)f.push(l);return f}function hn(l,f){l.pendingLanes|=f,f!==268435456&&(l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0)}function Fe(l,f,h,v,A,k){var X=l.pendingLanes;l.pendingLanes=h,l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0,l.expiredLanes&=h,l.entangledLanes&=h,l.errorRecoveryDisabledLanes&=h,l.shellSuspendCounter=0;var me=l.entanglements,De=l.expirationTimes,tt=l.hiddenUpdates;for(h=X&~h;0<h;){var dt=31-vn(h),gt=1<<dt;me[dt]=0,De[dt]=-1;var rt=tt[dt];if(rt!==null)for(tt[dt]=null,dt=0;dt<rt.length;dt++){var ot=rt[dt];ot!==null&&(ot.lane&=-536870913)}h&=~gt}v!==0&&Mt(l,v,0),k!==0&&A===0&&l.tag!==0&&(l.suspendedLanes|=k&~(X&~f))}function Mt(l,f,h){l.pendingLanes|=f,l.suspendedLanes&=~f;var v=31-vn(f);l.entangledLanes|=f,l.entanglements[v]=l.entanglements[v]|1073741824|h&261930}function jt(l,f){var h=l.entangledLanes|=f;for(l=l.entanglements;h;){var v=31-vn(h),A=1<<v;A&f|l[v]&f&&(l[v]|=f),h&=~A}}function Yn(l,f){var h=f&-f;return h=(h&42)!==0?1:Zt(h),(h&(l.suspendedLanes|f))!==0?0:h}function Zt(l){switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=128;break;case 268435456:l=134217728;break;default:l=0}return l}function Gn(l){return l&=-l,2<l?8<l?(l&134217727)!==0?32:268435456:8:2}function se(){var l=pe.p;return l!==0?l:(l=window.event,l===void 0?32:vI(l.type))}function _e(l,f){var h=pe.p;try{return pe.p=l,f()}finally{pe.p=h}}var ve=Math.random().toString(36).slice(2),be="__reactFiber$"+ve,Te="__reactProps$"+ve,Ae="__reactContainer$"+ve,Ue="__reactEvents$"+ve,at="__reactListeners$"+ve,Be="__reactHandles$"+ve,$e="__reactResources$"+ve,Qe="__reactMarker$"+ve;function bt(l){delete l[be],delete l[Te],delete l[Ue],delete l[at],delete l[Be]}function Tt(l){var f=l[be];if(f)return f;for(var h=l.parentNode;h;){if(f=h[Ae]||h[be]){if(h=f.alternate,f.child!==null||h!==null&&h.child!==null)for(l=nI(l);l!==null;){if(h=l[be])return h;l=nI(l)}return f}l=h,h=l.parentNode}return null}function Dt(l){if(l=l[be]||l[Ae]){var f=l.tag;if(f===5||f===6||f===13||f===31||f===26||f===27||f===3)return l}return null}function wt(l){var f=l.tag;if(f===5||f===26||f===27||f===6)return l.stateNode;throw Error(r(33))}function Pt(l){var f=l[$e];return f||(f=l[$e]={hoistableStyles:new Map,hoistableScripts:new Map}),f}function Yt(l){l[Qe]=!0}var vr=new Set,Wn={};function Ar(l,f){Ks(l,f),Ks(l+"Capture",f)}function Ks(l,f){for(Wn[l]=f,l=0;l<f.length;l++)vr.add(f[l])}var Ji=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),pa={},Fi={};function Io(l){return je.call(Fi,l)?!0:je.call(pa,l)?!1:Ji.test(l)?Fi[l]=!0:(pa[l]=!0,!1)}function rs(l,f,h){if(Io(f))if(h===null)l.removeAttribute(f);else{switch(typeof h){case"undefined":case"function":case"symbol":l.removeAttribute(f);return;case"boolean":var v=f.toLowerCase().slice(0,5);if(v!=="data-"&&v!=="aria-"){l.removeAttribute(f);return}}l.setAttribute(f,""+h)}}function si(l,f,h){if(h===null)l.removeAttribute(f);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(f);return}l.setAttribute(f,""+h)}}function vs(l,f,h,v){if(v===null)l.removeAttribute(h);else{switch(typeof v){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(h);return}l.setAttributeNS(f,h,""+v)}}function er(l){switch(typeof l){case"bigint":case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function ko(l){var f=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(f==="checkbox"||f==="radio")}function ma(l,f,h){var v=Object.getOwnPropertyDescriptor(l.constructor.prototype,f);if(!l.hasOwnProperty(f)&&typeof v<"u"&&typeof v.get=="function"&&typeof v.set=="function"){var A=v.get,k=v.set;return Object.defineProperty(l,f,{configurable:!0,get:function(){return A.call(this)},set:function(X){h=""+X,k.call(this,X)}}),Object.defineProperty(l,f,{enumerable:v.enumerable}),{getValue:function(){return h},setValue:function(X){h=""+X},stopTracking:function(){l._valueTracker=null,delete l[f]}}}}function ur(l){if(!l._valueTracker){var f=ko(l)?"checked":"value";l._valueTracker=ma(l,f,""+l[f])}}function Zo(l){if(!l)return!1;var f=l._valueTracker;if(!f)return!0;var h=f.getValue(),v="";return l&&(v=ko(l)?l.checked?"true":"false":l.value),l=v,l!==h?(f.setValue(l),!0):!1}function Ns(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}var ss=/[\n"\\]/g;function ys(l){return l.replace(ss,function(f){return"\\"+f.charCodeAt(0).toString(16)+" "})}function Rl(l,f,h,v,A,k,X,me){l.name="",X!=null&&typeof X!="function"&&typeof X!="symbol"&&typeof X!="boolean"?l.type=X:l.removeAttribute("type"),f!=null?X==="number"?(f===0&&l.value===""||l.value!=f)&&(l.value=""+er(f)):l.value!==""+er(f)&&(l.value=""+er(f)):X!=="submit"&&X!=="reset"||l.removeAttribute("value"),f!=null?du(l,X,er(f)):h!=null?du(l,X,er(h)):v!=null&&l.removeAttribute("value"),A==null&&k!=null&&(l.defaultChecked=!!k),A!=null&&(l.checked=A&&typeof A!="function"&&typeof A!="symbol"),me!=null&&typeof me!="function"&&typeof me!="symbol"&&typeof me!="boolean"?l.name=""+er(me):l.removeAttribute("name")}function mf(l,f,h,v,A,k,X,me){if(k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"&&(l.type=k),f!=null||h!=null){if(!(k!=="submit"&&k!=="reset"||f!=null)){ur(l);return}h=h!=null?""+er(h):"",f=f!=null?""+er(f):h,me||f===l.value||(l.value=f),l.defaultValue=f}v=v??A,v=typeof v!="function"&&typeof v!="symbol"&&!!v,l.checked=me?l.checked:!!v,l.defaultChecked=!!v,X!=null&&typeof X!="function"&&typeof X!="symbol"&&typeof X!="boolean"&&(l.name=X),ur(l)}function du(l,f,h){f==="number"&&Ns(l.ownerDocument)===l||l.defaultValue===""+h||(l.defaultValue=""+h)}function xi(l,f,h,v){if(l=l.options,f){f={};for(var A=0;A<h.length;A++)f["$"+h[A]]=!0;for(h=0;h<l.length;h++)A=f.hasOwnProperty("$"+l[h].value),l[h].selected!==A&&(l[h].selected=A),A&&v&&(l[h].defaultSelected=!0)}else{for(h=""+er(h),f=null,A=0;A<l.length;A++){if(l[A].value===h){l[A].selected=!0,v&&(l[A].defaultSelected=!0);return}f!==null||l[A].disabled||(f=l[A])}f!==null&&(f.selected=!0)}}function hu(l,f,h){if(f!=null&&(f=""+er(f),f!==l.value&&(l.value=f),h==null)){l.defaultValue!==f&&(l.defaultValue=f);return}l.defaultValue=h!=null?""+er(h):""}function Ro(l,f,h,v){if(f==null){if(v!=null){if(h!=null)throw Error(r(92));if(Ee(v)){if(1<v.length)throw Error(r(93));v=v[0]}h=v}h==null&&(h=""),f=h}h=er(f),l.defaultValue=h,v=l.textContent,v===h&&v!==""&&v!==null&&(l.value=v),ur(l)}function Ys(l,f){if(f){var h=l.firstChild;if(h&&h===l.lastChild&&h.nodeType===3){h.nodeValue=f;return}}l.textContent=f}var el=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function pu(l,f,h){var v=f.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?v?l.setProperty(f,""):f==="float"?l.cssFloat="":l[f]="":v?l.setProperty(f,h):typeof h!="number"||h===0||el.has(f)?f==="float"?l.cssFloat=h:l[f]=(""+h).trim():l[f]=h+"px"}function mu(l,f,h){if(f!=null&&typeof f!="object")throw Error(r(62));if(l=l.style,h!=null){for(var v in h)!h.hasOwnProperty(v)||f!=null&&f.hasOwnProperty(v)||(v.indexOf("--")===0?l.setProperty(v,""):v==="float"?l.cssFloat="":l[v]="");for(var A in f)v=f[A],f.hasOwnProperty(A)&&h[A]!==v&&pu(l,A,v)}else for(var k in f)f.hasOwnProperty(k)&&pu(l,k,f[k])}function gc(l){if(l.indexOf("-")===-1)return!1;switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Po=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Oi(l){return Po.test(""+l)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":l}function Oa(){}var Do=null;function Bi(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var tl=null,wn=null;function Pl(l){var f=Dt(l);if(f&&(l=f.stateNode)){var h=l[Te]||null;e:switch(l=f.stateNode,f.type){case"input":if(Rl(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),f=h.name,h.type==="radio"&&f!=null){for(h=l;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+ys(""+f)+'"][type="radio"]'),f=0;f<h.length;f++){var v=h[f];if(v!==l&&v.form===l.form){var A=v[Te]||null;if(!A)throw Error(r(90));Rl(v,A.value,A.defaultValue,A.defaultValue,A.checked,A.defaultChecked,A.type,A.name)}}for(f=0;f<h.length;f++)v=h[f],v.form===l.form&&Zo(v)}break e;case"textarea":hu(l,h.value,h.defaultValue);break e;case"select":f=h.value,f!=null&&xi(l,!!h.multiple,f,!1)}}}var vc=!1;function nl(l,f,h){if(vc)return l(f,h);vc=!0;try{var v=l(f);return v}finally{if(vc=!1,(tl!==null||wn!==null)&&(mv(),tl&&(f=tl,l=wn,wn=tl=null,Pl(f),l)))for(f=0;f<l.length;f++)Pl(l[f])}}function Xs(l,f){var h=l.stateNode;if(h===null)return null;var v=h[Te]||null;if(v===null)return null;h=v[f];e:switch(f){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(l=l.type,v=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!v;break e;default:l=!1}if(l)return null;if(h&&typeof h!="function")throw Error(r(231,f,typeof h));return h}var Fs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Dl=!1;if(Fs)try{var kr={};Object.defineProperty(kr,"passive",{get:function(){Dl=!0}}),window.addEventListener("test",kr,kr),window.removeEventListener("test",kr,kr)}catch{Dl=!1}var Qi=null,Ml=null,Ba=null;function gu(){if(Ba)return Ba;var l,f=Ml,h=f.length,v,A="value"in Qi?Qi.value:Qi.textContent,k=A.length;for(l=0;l<h&&f[l]===A[l];l++);var X=h-l;for(v=1;v<=X&&f[h-v]===A[k-v];v++);return Ba=A.slice(l,1<v?1-v:void 0)}function Zi(l){var f=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&f===13&&(l=13)):l=f,l===10&&(l=13),32<=l||l===13?l:0}function Mo(){return!0}function ea(){return!1}function Is(l){function f(h,v,A,k,X){this._reactName=h,this._targetInst=A,this.type=v,this.nativeEvent=k,this.target=X,this.currentTarget=null;for(var me in l)l.hasOwnProperty(me)&&(h=l[me],this[me]=h?h(k):k[me]);return this.isDefaultPrevented=(k.defaultPrevented!=null?k.defaultPrevented:k.returnValue===!1)?Mo:ea,this.isPropagationStopped=ea,this}return p(f.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Mo)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Mo)},persist:function(){},isPersistent:Mo}),f}var to={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ii=Is(to),no=p({},to,{view:0,detail:0}),rl=Is(no),ro,so,ga,Ll=p({},no,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==ga&&(ga&&l.type==="mousemove"?(ro=l.screenX-ga.screenX,so=l.screenY-ga.screenY):so=ro=0,ga=l),ro)},movementY:function(l){return"movementY"in l?l.movementY:so}}),yc=Is(Ll),ta=p({},Ll,{dataTransfer:0}),io=Is(ta),xu=p({},no,{relatedTarget:0}),Va=Is(xu),bc=p({},to,{animationName:0,elapsedTime:0,pseudoElement:0}),V=Is(bc),te=p({},to,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),Ne=Is(te),Me=p({},to,{data:0}),qe=Is(Me),ft={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rn(l){var f=this.nativeEvent;return f.getModifierState?f.getModifierState(l):(l=Xt[l])?!!f[l]:!1}function En(){return rn}var yn=p({},no,{key:function(l){if(l.key){var f=ft[l.key]||l.key;if(f!=="Unidentified")return f}return l.type==="keypress"?(l=Zi(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?vt[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(l){return l.type==="keypress"?Zi(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?Zi(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),rr=Is(yn),Wr=p({},Ll,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Br=Is(Wr),E=p({},no,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En}),H=Is(E),Z=p({},to,{propertyName:0,elapsedTime:0,pseudoElement:0}),ye=Is(Z),Ke=p({},Ll,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),nt=Is(Ke),It=p({},to,{newState:0,oldState:0}),Rn=Is(It),Kr=[9,13,27,32],Jn=Fs&&"CompositionEvent"in window,Rr=null;Fs&&"documentMode"in document&&(Rr=document.documentMode);var ai=Fs&&"TextEvent"in window&&!Rr,vi=Fs&&(!Jn||Rr&&8<Rr&&11>=Rr),Ur=" ",yi=!1;function Ua(l,f){switch(l){case"keyup":return Kr.indexOf(f.keyCode)!==-1;case"keydown":return f.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sl(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var il=!1;function na(l,f){switch(l){case"compositionend":return sl(f);case"keypress":return f.which!==32?null:(yi=!0,Ur);case"textInput":return l=f.data,l===Ur&&yi?null:l;default:return null}}function Fl(l,f){if(il)return l==="compositionend"||!Jn&&Ua(l,f)?(l=gu(),Ba=Ml=Qi=null,il=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(f.ctrlKey||f.altKey||f.metaKey)||f.ctrlKey&&f.altKey){if(f.char&&1<f.char.length)return f.char;if(f.which)return String.fromCharCode(f.which)}return null;case"compositionend":return vi&&f.locale!=="ko"?null:f.data;default:return null}}var gf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jd(l){var f=l&&l.nodeName&&l.nodeName.toLowerCase();return f==="input"?!!gf[l.type]:f==="textarea"}function ja(l,f,h,v){tl?wn?wn.push(v):wn=[v]:tl=v,f=_v(f,"onChange"),0<f.length&&(h=new ii("onChange","change",null,h,v),l.push({event:h,listeners:f}))}var Lo=null,Ol=null;function qd(l){q4(l,0)}function Fo(l){var f=wt(l);if(Zo(f))return l}function wc(l,f){if(l==="change")return f}var xa=!1;if(Fs){var ra;if(Fs){var al="oninput"in document;if(!al){var ol=document.createElement("div");ol.setAttribute("oninput","return;"),al=typeof ol.oninput=="function"}ra=al}else ra=!1;xa=ra&&(!document.documentMode||9<document.documentMode)}function Bl(){Lo&&(Lo.detachEvent("onpropertychange",xf),Ol=Lo=null)}function xf(l){if(l.propertyName==="value"&&Fo(Ol)){var f=[];ja(f,Ol,l,Bi(l)),nl(qd,f)}}function vf(l,f,h){l==="focusin"?(Bl(),Lo=f,Ol=h,Lo.attachEvent("onpropertychange",xf)):l==="focusout"&&Bl()}function ks(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return Fo(Ol)}function g0(l,f){if(l==="click")return Fo(f)}function ll(l,f){if(l==="input"||l==="change")return Fo(f)}function cl(l,f){return l===f&&(l!==0||1/l===1/f)||l!==l&&f!==f}var bi=typeof Object.is=="function"?Object.is:cl;function Vl(l,f){if(bi(l,f))return!0;if(typeof l!="object"||l===null||typeof f!="object"||f===null)return!1;var h=Object.keys(l),v=Object.keys(f);if(h.length!==v.length)return!1;for(v=0;v<h.length;v++){var A=h[v];if(!je.call(f,A)||!bi(l[A],f[A]))return!1}return!0}function yf(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function bf(l,f){var h=yf(l);l=0;for(var v;h;){if(h.nodeType===3){if(v=l+h.textContent.length,l<=f&&v>=f)return{node:h,offset:f-l};l=v}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=yf(h)}}function Ul(l,f){return l&&f?l===f?!0:l&&l.nodeType===3?!1:f&&f.nodeType===3?Ul(l,f.parentNode):"contains"in l?l.contains(f):l.compareDocumentPosition?!!(l.compareDocumentPosition(f)&16):!1:!1}function jl(l){l=l!=null&&l.ownerDocument!=null&&l.ownerDocument.defaultView!=null?l.ownerDocument.defaultView:window;for(var f=Ns(l.document);f instanceof l.HTMLIFrameElement;){try{var h=typeof f.contentWindow.location.href=="string"}catch{h=!1}if(h)l=f.contentWindow;else break;f=Ns(l.document)}return f}function ul(l){var f=l&&l.nodeName&&l.nodeName.toLowerCase();return f&&(f==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||f==="textarea"||l.contentEditable==="true")}var vu=Fs&&"documentMode"in document&&11>=document.documentMode,qa=null,ql=null,Vi=null,ao=!1;function Cr(l,f,h){var v=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;ao||qa==null||qa!==Ns(v)||(v=qa,"selectionStart"in v&&ul(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),Vi&&Vl(Vi,v)||(Vi=v,v=_v(ql,"onSelect"),0<v.length&&(f=new ii("onSelect","select",null,f,h),l.push({event:f,listeners:v}),f.target=qa)))}function pr(l,f){var h={};return h[l.toLowerCase()]=f.toLowerCase(),h["Webkit"+l]="webkit"+f,h["Moz"+l]="moz"+f,h}var Yr={animationend:pr("Animation","AnimationEnd"),animationiteration:pr("Animation","AnimationIteration"),animationstart:pr("Animation","AnimationStart"),transitionrun:pr("Transition","TransitionRun"),transitionstart:pr("Transition","TransitionStart"),transitioncancel:pr("Transition","TransitionCancel"),transitionend:pr("Transition","TransitionEnd")},Rs={},fl={};Fs&&(fl=document.createElement("div").style,"AnimationEvent"in window||(delete Yr.animationend.animation,delete Yr.animationiteration.animation,delete Yr.animationstart.animation),"TransitionEvent"in window||delete Yr.transitionend.transition);function Oo(l){if(Rs[l])return Rs[l];if(!Yr[l])return l;var f=Yr[l],h;for(h in f)if(f.hasOwnProperty(h)&&h in fl)return Rs[l]=f[h];return l}var yu=Oo("animationend"),Hd=Oo("animationiteration"),Gm=Oo("animationstart"),Gx=Oo("transitionrun"),$x=Oo("transitionstart"),Wx=Oo("transitioncancel"),$m=Oo("transitionend"),Wm=new Map,bu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");bu.push("scrollEnd");function oo(l,f){Wm.set(l,f),Ar(f,[l])}var zd=typeof reportError=="function"?reportError:function(l){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var f=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof l=="object"&&l!==null&&typeof l.message=="string"?String(l.message):String(l),error:l});if(!window.dispatchEvent(f))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",l);return}console.error(l)},Ha=[],wu=0,x0=0;function Gd(){for(var l=wu,f=x0=wu=0;f<l;){var h=Ha[f];Ha[f++]=null;var v=Ha[f];Ha[f++]=null;var A=Ha[f];Ha[f++]=null;var k=Ha[f];if(Ha[f++]=null,v!==null&&A!==null){var X=v.pending;X===null?A.next=A:(A.next=X.next,X.next=A),v.pending=A}k!==0&&Wd(h,A,k)}}function $d(l,f,h,v){Ha[wu++]=l,Ha[wu++]=f,Ha[wu++]=h,Ha[wu++]=v,x0|=v,l.lanes|=v,l=l.alternate,l!==null&&(l.lanes|=v)}function v0(l,f,h,v){return $d(l,f,h,v),Ui(l)}function Hl(l,f){return $d(l,null,null,f),Ui(l)}function Wd(l,f,h){l.lanes|=h;var v=l.alternate;v!==null&&(v.lanes|=h);for(var A=!1,k=l.return;k!==null;)k.childLanes|=h,v=k.alternate,v!==null&&(v.childLanes|=h),k.tag===22&&(l=k.stateNode,l===null||l._visibility&1||(A=!0)),l=k,k=k.return;return l.tag===3?(k=l.stateNode,A&&f!==null&&(A=31-vn(h),l=k.hiddenUpdates,v=l[A],v===null?l[A]=[f]:v.push(f),f.lane=h|536870912),k):null}function Ui(l){if(50<mg)throw mg=0,Ww=null,Error(r(185));for(var f=l.return;f!==null;)l=f,f=l.return;return l.tag===3?l.stateNode:null}var wi={};function y0(l,f,h,v){this.tag=l,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ji(l,f,h,v){return new y0(l,f,h,v)}function b0(l){return l=l.prototype,!(!l||!l.isReactComponent)}function lo(l,f){var h=l.alternate;return h===null?(h=ji(l.tag,f,l.key,l.mode),h.elementType=l.elementType,h.type=l.type,h.stateNode=l.stateNode,h.alternate=l,l.alternate=h):(h.pendingProps=f,h.type=l.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=l.flags&65011712,h.childLanes=l.childLanes,h.lanes=l.lanes,h.child=l.child,h.memoizedProps=l.memoizedProps,h.memoizedState=l.memoizedState,h.updateQueue=l.updateQueue,f=l.dependencies,h.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},h.sibling=l.sibling,h.index=l.index,h.ref=l.ref,h.refCleanup=l.refCleanup,h}function Kd(l,f){l.flags&=65011714;var h=l.alternate;return h===null?(l.childLanes=0,l.lanes=f,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=h.childLanes,l.lanes=h.lanes,l.child=h.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=h.memoizedProps,l.memoizedState=h.memoizedState,l.updateQueue=h.updateQueue,l.type=h.type,f=h.dependencies,l.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext}),l}function wf(l,f,h,v,A,k){var X=0;if(v=l,typeof l=="function")b0(l)&&(X=1);else if(typeof l=="string")X=Nz(l,h,Y.current)?26:l==="html"||l==="head"||l==="body"?27:5;else e:switch(l){case R:return l=ji(31,h,f,A),l.elementType=R,l.lanes=k,l;case y:return _c(h.children,A,k,f);case S:X=8,A|=24;break;case C:return l=ji(12,h,f,A|2),l.elementType=C,l.lanes=k,l;case z:return l=ji(13,h,f,A),l.elementType=z,l.lanes=k,l;case G:return l=ji(19,h,f,A),l.elementType=G,l.lanes=k,l;default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case I:X=10;break e;case F:X=9;break e;case D:X=11;break e;case P:X=14;break e;case M:X=16,v=null;break e}X=29,h=Error(r(130,l===null?"null":typeof l,"")),v=null}return f=ji(X,h,f,A),f.elementType=l,f.type=v,f.lanes=k,f}function _c(l,f,h,v){return l=ji(7,l,v,f),l.lanes=h,l}function Yd(l,f,h){return l=ji(6,l,null,f),l.lanes=h,l}function w0(l){var f=ji(18,null,null,0);return f.stateNode=l,f}function _f(l,f,h){return f=ji(4,l.children!==null?l.children:[],l.key,f),f.lanes=h,f.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},f}var _0=new WeakMap;function co(l,f){if(typeof l=="object"&&l!==null){var h=_0.get(l);return h!==void 0?h:(f={value:l,source:f,stack:Et(f)},_0.set(l,f),f)}return{value:l,source:f,stack:Et(f)}}var Ef=[],_u=0,E0=null,Xd=0,uo=[],fo=0,Ec=null,ho=1,po="";function za(l,f){Ef[_u++]=Xd,Ef[_u++]=E0,E0=l,Xd=f}function Kx(l,f,h){uo[fo++]=ho,uo[fo++]=po,uo[fo++]=Ec,Ec=l;var v=ho;l=po;var A=32-vn(v)-1;v&=~(1<<A),h+=1;var k=32-vn(f)+A;if(30<k){var X=A-A%5;k=(v&(1<<X)-1).toString(32),v>>=X,A-=X,ho=1<<32-vn(f)+A|h<<A|v,po=k+l}else ho=1<<k|h<<A|v,po=l}function Km(l){l.return!==null&&(za(l,1),Kx(l,1,0))}function T0(l){for(;l===E0;)E0=Ef[--_u],Ef[_u]=null,Xd=Ef[--_u],Ef[_u]=null;for(;l===Ec;)Ec=uo[--fo],uo[fo]=null,po=uo[--fo],uo[fo]=null,ho=uo[--fo],uo[fo]=null}function Yx(l,f){uo[fo++]=ho,uo[fo++]=po,uo[fo++]=Ec,ho=f.id,po=f.overflow,Ec=l}var _i=null,is=null,ir=!1,sa=null,bs=!1,Bo=Error(r(519));function Tc(l){var f=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Tf(co(f,l)),Bo}function Ym(l){var f=l.stateNode,h=l.type,v=l.memoizedProps;switch(f[be]=l,f[Te]=v,h){case"dialog":or("cancel",f),or("close",f);break;case"iframe":case"object":case"embed":or("load",f);break;case"video":case"audio":for(h=0;h<xg.length;h++)or(xg[h],f);break;case"source":or("error",f);break;case"img":case"image":case"link":or("error",f),or("load",f);break;case"details":or("toggle",f);break;case"input":or("invalid",f),mf(f,v.value,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name,!0);break;case"select":or("invalid",f);break;case"textarea":or("invalid",f),Ro(f,v.value,v.defaultValue,v.children)}h=v.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||f.textContent===""+h||v.suppressHydrationWarning===!0||$4(f.textContent,h)?(v.popover!=null&&(or("beforetoggle",f),or("toggle",f)),v.onScroll!=null&&or("scroll",f),v.onScrollEnd!=null&&or("scrollend",f),v.onClick!=null&&(f.onclick=Oa),f=!0):f=!1,f||Tc(l,!0)}function zl(l){for(_i=l.return;_i;)switch(_i.tag){case 5:case 31:case 13:bs=!1;return;case 27:case 3:bs=!0;return;default:_i=_i.return}}function Ei(l){if(l!==_i)return!1;if(!ir)return zl(l),ir=!0,!1;var f=l.tag,h;if((h=f!==3&&f!==27)&&((h=f===5)&&(h=l.type,h=!(h!=="form"&&h!=="button")||l_(l.type,l.memoizedProps)),h=!h),h&&is&&Tc(l),zl(l),f===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(317));is=tI(l)}else if(f===31){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(317));is=tI(l)}else f===27?(f=is,Bf(l.type)?(l=h_,h_=null,is=l):is=f):is=_i?ml(l.stateNode.nextSibling):null;return!0}function Eu(){is=_i=null,ir=!1}function Xm(){var l=sa;return l!==null&&(bo===null?bo=l:bo.push.apply(bo,l),sa=null),l}function Tf(l){sa===null?sa=[l]:sa.push(l)}var S0=ne(null),Sc=null,dl=null;function Ac(l,f,h){K(S0,f._currentValue),f._currentValue=h}function mo(l){l._currentValue=S0.current,B(S0)}function Sf(l,f,h){for(;l!==null;){var v=l.alternate;if((l.childLanes&f)!==f?(l.childLanes|=f,v!==null&&(v.childLanes|=f)):v!==null&&(v.childLanes&f)!==f&&(v.childLanes|=f),l===h)break;l=l.return}}function Tu(l,f,h,v){var A=l.child;for(A!==null&&(A.return=l);A!==null;){var k=A.dependencies;if(k!==null){var X=A.child;k=k.firstContext;e:for(;k!==null;){var me=k;k=A;for(var De=0;De<f.length;De++)if(me.context===f[De]){k.lanes|=h,me=k.alternate,me!==null&&(me.lanes|=h),Sf(k.return,h,l),v||(X=null);break e}k=me.next}}else if(A.tag===18){if(X=A.return,X===null)throw Error(r(341));X.lanes|=h,k=X.alternate,k!==null&&(k.lanes|=h),Sf(X,h,l),X=null}else X=A.child;if(X!==null)X.return=A;else for(X=A;X!==null;){if(X===l){X=null;break}if(A=X.sibling,A!==null){A.return=X.return,X=A;break}X=X.return}A=X}}function Cc(l,f,h,v){l=null;for(var A=f,k=!1;A!==null;){if(!k){if((A.flags&524288)!==0)k=!0;else if((A.flags&262144)!==0)break}if(A.tag===10){var X=A.alternate;if(X===null)throw Error(r(387));if(X=X.memoizedProps,X!==null){var me=A.type;bi(A.pendingProps.value,X.value)||(l!==null?l.push(me):l=[me])}}else if(A===ge.current){if(X=A.alternate,X===null)throw Error(r(387));X.memoizedState.memoizedState!==A.memoizedState.memoizedState&&(l!==null?l.push(_g):l=[_g])}A=A.return}l!==null&&Tu(f,l,h,v),f.flags|=262144}function A0(l){for(l=l.firstContext;l!==null;){if(!bi(l.context._currentValue,l.memoizedValue))return!0;l=l.next}return!1}function Nc(l){Sc=l,dl=null,l=l.dependencies,l!==null&&(l.firstContext=null)}function Ti(l){return Xx(Sc,l)}function C0(l,f){return Sc===null&&Nc(l),Xx(l,f)}function Xx(l,f){var h=f._currentValue;if(f={context:f,memoizedValue:h,next:null},dl===null){if(l===null)throw Error(r(308));dl=f,l.dependencies={lanes:0,firstContext:f},l.flags|=524288}else dl=dl.next=f;return h}var dw=typeof AbortController<"u"?AbortController:function(){var l=[],f=this.signal={aborted:!1,addEventListener:function(h,v){l.push(v)}};this.abort=function(){f.aborted=!0,l.forEach(function(h){return h()})}},hw=t.unstable_scheduleCallback,pw=t.unstable_NormalPriority,Ps={$$typeof:I,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Af(){return{controller:new dw,data:new Map,refCount:0}}function Jd(l){l.refCount--,l.refCount===0&&hw(pw,function(){l.controller.abort()})}var Qd=null,N0=0,_=0,N=null;function q(l,f){if(Qd===null){var h=Qd=[];N0=0,_=Zw(),N={status:"pending",value:void 0,then:function(v){h.push(v)}}}return N0++,f.then(W,W),f}function W(){if(--N0===0&&Qd!==null){N!==null&&(N.status="fulfilled");var l=Qd;Qd=null,_=0,N=null;for(var f=0;f<l.length;f++)(0,l[f])()}}function re(l,f){var h=[],v={status:"pending",value:null,reason:null,then:function(A){h.push(A)}};return l.then(function(){v.status="fulfilled",v.value=f;for(var A=0;A<h.length;A++)(0,h[A])(f)},function(A){for(v.status="rejected",v.reason=A,A=0;A<h.length;A++)(0,h[A])(void 0)}),v}var ce=ae.S;ae.S=function(l,f){g4=Jt(),typeof f=="object"&&f!==null&&typeof f.then=="function"&&q(l,f),ce!==null&&ce(l,f)};var fe=ne(null);function xe(){var l=fe.current;return l!==null?l:os.pooledCache}function we(l,f){f===null?K(fe,fe.current):K(fe,f.pool)}function Ie(){var l=xe();return l===null?null:{parent:Ps._currentValue,pool:l}}var Le=Error(r(460)),Ze=Error(r(474)),Ce=Error(r(542)),Ve={then:function(){}};function Ye(l){return l=l.status,l==="fulfilled"||l==="rejected"}function ut(l,f,h){switch(h=l[h],h===void 0?l.push(f):h!==f&&(f.then(Oa,Oa),f=h),f.status){case"fulfilled":return f.value;case"rejected":throw l=f.reason,_t(l),l;default:if(typeof f.status=="string")f.then(Oa,Oa);else{if(l=os,l!==null&&100<l.shellSuspendCounter)throw Error(r(482));l=f,l.status="pending",l.then(function(v){if(f.status==="pending"){var A=f;A.status="fulfilled",A.value=v}},function(v){if(f.status==="pending"){var A=f;A.status="rejected",A.reason=v}})}switch(f.status){case"fulfilled":return f.value;case"rejected":throw l=f.reason,_t(l),l}throw lt=f,Le}}function Xe(l){try{var f=l._init;return f(l._payload)}catch(h){throw h!==null&&typeof h=="object"&&typeof h.then=="function"?(lt=h,Le):h}}var lt=null;function ht(){if(lt===null)throw Error(r(459));var l=lt;return lt=null,l}function _t(l){if(l===Le||l===Ce)throw Error(r(483))}var xt=null,sn=0;function $t(l){var f=sn;return sn+=1,xt===null&&(xt=[]),ut(xt,l,f)}function Mn(l,f){f=f.props.ref,l.ref=f!==void 0?f:null}function en(l,f){throw f.$$typeof===g?Error(r(525)):(l=Object.prototype.toString.call(f),Error(r(31,l==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":l)))}function sr(l){function f(ze,Oe){if(l){var et=ze.deletions;et===null?(ze.deletions=[Oe],ze.flags|=16):et.push(Oe)}}function h(ze,Oe){if(!l)return null;for(;Oe!==null;)f(ze,Oe),Oe=Oe.sibling;return null}function v(ze){for(var Oe=new Map;ze!==null;)ze.key!==null?Oe.set(ze.key,ze):Oe.set(ze.index,ze),ze=ze.sibling;return Oe}function A(ze,Oe){return ze=lo(ze,Oe),ze.index=0,ze.sibling=null,ze}function k(ze,Oe,et){return ze.index=et,l?(et=ze.alternate,et!==null?(et=et.index,et<Oe?(ze.flags|=67108866,Oe):et):(ze.flags|=67108866,Oe)):(ze.flags|=1048576,Oe)}function X(ze){return l&&ze.alternate===null&&(ze.flags|=67108866),ze}function me(ze,Oe,et,pt){return Oe===null||Oe.tag!==6?(Oe=Yd(et,ze.mode,pt),Oe.return=ze,Oe):(Oe=A(Oe,et),Oe.return=ze,Oe)}function De(ze,Oe,et,pt){var Sn=et.type;return Sn===y?dt(ze,Oe,et.props.children,pt,et.key):Oe!==null&&(Oe.elementType===Sn||typeof Sn=="object"&&Sn!==null&&Sn.$$typeof===M&&Xe(Sn)===Oe.type)?(Oe=A(Oe,et.props),Mn(Oe,et),Oe.return=ze,Oe):(Oe=wf(et.type,et.key,et.props,null,ze.mode,pt),Mn(Oe,et),Oe.return=ze,Oe)}function tt(ze,Oe,et,pt){return Oe===null||Oe.tag!==4||Oe.stateNode.containerInfo!==et.containerInfo||Oe.stateNode.implementation!==et.implementation?(Oe=_f(et,ze.mode,pt),Oe.return=ze,Oe):(Oe=A(Oe,et.children||[]),Oe.return=ze,Oe)}function dt(ze,Oe,et,pt,Sn){return Oe===null||Oe.tag!==7?(Oe=_c(et,ze.mode,pt,Sn),Oe.return=ze,Oe):(Oe=A(Oe,et),Oe.return=ze,Oe)}function gt(ze,Oe,et){if(typeof Oe=="string"&&Oe!==""||typeof Oe=="number"||typeof Oe=="bigint")return Oe=Yd(""+Oe,ze.mode,et),Oe.return=ze,Oe;if(typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case x:return et=wf(Oe.type,Oe.key,Oe.props,null,ze.mode,et),Mn(et,Oe),et.return=ze,et;case w:return Oe=_f(Oe,ze.mode,et),Oe.return=ze,Oe;case M:return Oe=Xe(Oe),gt(ze,Oe,et)}if(Ee(Oe)||O(Oe))return Oe=_c(Oe,ze.mode,et,null),Oe.return=ze,Oe;if(typeof Oe.then=="function")return gt(ze,$t(Oe),et);if(Oe.$$typeof===I)return gt(ze,C0(ze,Oe),et);en(ze,Oe)}return null}function rt(ze,Oe,et,pt){var Sn=Oe!==null?Oe.key:null;if(typeof et=="string"&&et!==""||typeof et=="number"||typeof et=="bigint")return Sn!==null?null:me(ze,Oe,""+et,pt);if(typeof et=="object"&&et!==null){switch(et.$$typeof){case x:return et.key===Sn?De(ze,Oe,et,pt):null;case w:return et.key===Sn?tt(ze,Oe,et,pt):null;case M:return et=Xe(et),rt(ze,Oe,et,pt)}if(Ee(et)||O(et))return Sn!==null?null:dt(ze,Oe,et,pt,null);if(typeof et.then=="function")return rt(ze,Oe,$t(et),pt);if(et.$$typeof===I)return rt(ze,Oe,C0(ze,et),pt);en(ze,et)}return null}function ot(ze,Oe,et,pt,Sn){if(typeof pt=="string"&&pt!==""||typeof pt=="number"||typeof pt=="bigint")return ze=ze.get(et)||null,me(Oe,ze,""+pt,Sn);if(typeof pt=="object"&&pt!==null){switch(pt.$$typeof){case x:return ze=ze.get(pt.key===null?et:pt.key)||null,De(Oe,ze,pt,Sn);case w:return ze=ze.get(pt.key===null?et:pt.key)||null,tt(Oe,ze,pt,Sn);case M:return pt=Xe(pt),ot(ze,Oe,et,pt,Sn)}if(Ee(pt)||O(pt))return ze=ze.get(et)||null,dt(Oe,ze,pt,Sn,null);if(typeof pt.then=="function")return ot(ze,Oe,et,$t(pt),Sn);if(pt.$$typeof===I)return ot(ze,Oe,et,C0(Oe,pt),Sn);en(Oe,pt)}return null}function nn(ze,Oe,et,pt){for(var Sn=null,Pr=null,mn=Oe,Xn=Oe=0,dr=null;mn!==null&&Xn<et.length;Xn++){mn.index>Xn?(dr=mn,mn=null):dr=mn.sibling;var Dr=rt(ze,mn,et[Xn],pt);if(Dr===null){mn===null&&(mn=dr);break}l&&mn&&Dr.alternate===null&&f(ze,mn),Oe=k(Dr,Oe,Xn),Pr===null?Sn=Dr:Pr.sibling=Dr,Pr=Dr,mn=dr}if(Xn===et.length)return h(ze,mn),ir&&za(ze,Xn),Sn;if(mn===null){for(;Xn<et.length;Xn++)mn=gt(ze,et[Xn],pt),mn!==null&&(Oe=k(mn,Oe,Xn),Pr===null?Sn=mn:Pr.sibling=mn,Pr=mn);return ir&&za(ze,Xn),Sn}for(mn=v(mn);Xn<et.length;Xn++)dr=ot(mn,ze,Xn,et[Xn],pt),dr!==null&&(l&&dr.alternate!==null&&mn.delete(dr.key===null?Xn:dr.key),Oe=k(dr,Oe,Xn),Pr===null?Sn=dr:Pr.sibling=dr,Pr=dr);return l&&mn.forEach(function(Hf){return f(ze,Hf)}),ir&&za(ze,Xn),Sn}function In(ze,Oe,et,pt){if(et==null)throw Error(r(151));for(var Sn=null,Pr=null,mn=Oe,Xn=Oe=0,dr=null,Dr=et.next();mn!==null&&!Dr.done;Xn++,Dr=et.next()){mn.index>Xn?(dr=mn,mn=null):dr=mn.sibling;var Hf=rt(ze,mn,Dr.value,pt);if(Hf===null){mn===null&&(mn=dr);break}l&&mn&&Hf.alternate===null&&f(ze,mn),Oe=k(Hf,Oe,Xn),Pr===null?Sn=Hf:Pr.sibling=Hf,Pr=Hf,mn=dr}if(Dr.done)return h(ze,mn),ir&&za(ze,Xn),Sn;if(mn===null){for(;!Dr.done;Xn++,Dr=et.next())Dr=gt(ze,Dr.value,pt),Dr!==null&&(Oe=k(Dr,Oe,Xn),Pr===null?Sn=Dr:Pr.sibling=Dr,Pr=Dr);return ir&&za(ze,Xn),Sn}for(mn=v(mn);!Dr.done;Xn++,Dr=et.next())Dr=ot(mn,ze,Xn,Dr.value,pt),Dr!==null&&(l&&Dr.alternate!==null&&mn.delete(Dr.key===null?Xn:Dr.key),Oe=k(Dr,Oe,Xn),Pr===null?Sn=Dr:Pr.sibling=Dr,Pr=Dr);return l&&mn.forEach(function(Vz){return f(ze,Vz)}),ir&&za(ze,Xn),Sn}function Zr(ze,Oe,et,pt){if(typeof et=="object"&&et!==null&&et.type===y&&et.key===null&&(et=et.props.children),typeof et=="object"&&et!==null){switch(et.$$typeof){case x:e:{for(var Sn=et.key;Oe!==null;){if(Oe.key===Sn){if(Sn=et.type,Sn===y){if(Oe.tag===7){h(ze,Oe.sibling),pt=A(Oe,et.props.children),pt.return=ze,ze=pt;break e}}else if(Oe.elementType===Sn||typeof Sn=="object"&&Sn!==null&&Sn.$$typeof===M&&Xe(Sn)===Oe.type){h(ze,Oe.sibling),pt=A(Oe,et.props),Mn(pt,et),pt.return=ze,ze=pt;break e}h(ze,Oe);break}else f(ze,Oe);Oe=Oe.sibling}et.type===y?(pt=_c(et.props.children,ze.mode,pt,et.key),pt.return=ze,ze=pt):(pt=wf(et.type,et.key,et.props,null,ze.mode,pt),Mn(pt,et),pt.return=ze,ze=pt)}return X(ze);case w:e:{for(Sn=et.key;Oe!==null;){if(Oe.key===Sn)if(Oe.tag===4&&Oe.stateNode.containerInfo===et.containerInfo&&Oe.stateNode.implementation===et.implementation){h(ze,Oe.sibling),pt=A(Oe,et.children||[]),pt.return=ze,ze=pt;break e}else{h(ze,Oe);break}else f(ze,Oe);Oe=Oe.sibling}pt=_f(et,ze.mode,pt),pt.return=ze,ze=pt}return X(ze);case M:return et=Xe(et),Zr(ze,Oe,et,pt)}if(Ee(et))return nn(ze,Oe,et,pt);if(O(et)){if(Sn=O(et),typeof Sn!="function")throw Error(r(150));return et=Sn.call(et),In(ze,Oe,et,pt)}if(typeof et.then=="function")return Zr(ze,Oe,$t(et),pt);if(et.$$typeof===I)return Zr(ze,Oe,C0(ze,et),pt);en(ze,et)}return typeof et=="string"&&et!==""||typeof et=="number"||typeof et=="bigint"?(et=""+et,Oe!==null&&Oe.tag===6?(h(ze,Oe.sibling),pt=A(Oe,et),pt.return=ze,ze=pt):(h(ze,Oe),pt=Yd(et,ze.mode,pt),pt.return=ze,ze=pt),X(ze)):h(ze,Oe)}return function(ze,Oe,et,pt){try{sn=0;var Sn=Zr(ze,Oe,et,pt);return xt=null,Sn}catch(mn){if(mn===Le||mn===Ce)throw mn;var Pr=ji(29,mn,null,ze.mode);return Pr.lanes=pt,Pr.return=ze,Pr}finally{}}}var as=sr(!0),Un=sr(!1),Wt=!1;function Ft(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ds(l,f){l=l.updateQueue,f.updateQueue===l&&(f.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,callbacks:null})}function Cn(l){return{lane:l,tag:0,payload:null,callback:null,next:null}}function $n(l,f,h){var v=l.updateQueue;if(v===null)return null;if(v=v.shared,(Or&2)!==0){var A=v.pending;return A===null?f.next=f:(f.next=A.next,A.next=f),v.pending=f,f=Ui(l),Wd(l,null,h),f}return $d(l,v,f,h),Ui(l)}function Lr(l,f,h){if(f=f.updateQueue,f!==null&&(f=f.shared,(h&4194048)!==0)){var v=f.lanes;v&=l.pendingLanes,h|=v,f.lanes=h,jt(l,h)}}function Js(l,f){var h=l.updateQueue,v=l.alternate;if(v!==null&&(v=v.updateQueue,h===v)){var A=null,k=null;if(h=h.firstBaseUpdate,h!==null){do{var X={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};k===null?A=k=X:k=k.next=X,h=h.next}while(h!==null);k===null?A=k=f:k=k.next=f}else A=k=f;h={baseState:v.baseState,firstBaseUpdate:A,lastBaseUpdate:k,shared:v.shared,callbacks:v.callbacks},l.updateQueue=h;return}l=h.lastBaseUpdate,l===null?h.firstBaseUpdate=f:l.next=f,h.lastBaseUpdate=f}var Si=!1;function Xr(){if(Si){var l=N;if(l!==null)throw l}}function Os(l,f,h,v){Si=!1;var A=l.updateQueue;Wt=!1;var k=A.firstBaseUpdate,X=A.lastBaseUpdate,me=A.shared.pending;if(me!==null){A.shared.pending=null;var De=me,tt=De.next;De.next=null,X===null?k=tt:X.next=tt,X=De;var dt=l.alternate;dt!==null&&(dt=dt.updateQueue,me=dt.lastBaseUpdate,me!==X&&(me===null?dt.firstBaseUpdate=tt:me.next=tt,dt.lastBaseUpdate=De))}if(k!==null){var gt=A.baseState;X=0,dt=tt=De=null,me=k;do{var rt=me.lane&-536870913,ot=rt!==me.lane;if(ot?(fr&rt)===rt:(v&rt)===rt){rt!==0&&rt===_&&(Si=!0),dt!==null&&(dt=dt.next={lane:0,tag:me.tag,payload:me.payload,callback:null,next:null});e:{var nn=l,In=me;rt=f;var Zr=h;switch(In.tag){case 1:if(nn=In.payload,typeof nn=="function"){gt=nn.call(Zr,gt,rt);break e}gt=nn;break e;case 3:nn.flags=nn.flags&-65537|128;case 0:if(nn=In.payload,rt=typeof nn=="function"?nn.call(Zr,gt,rt):nn,rt==null)break e;gt=p({},gt,rt);break e;case 2:Wt=!0}}rt=me.callback,rt!==null&&(l.flags|=64,ot&&(l.flags|=8192),ot=A.callbacks,ot===null?A.callbacks=[rt]:ot.push(rt))}else ot={lane:rt,tag:me.tag,payload:me.payload,callback:me.callback,next:null},dt===null?(tt=dt=ot,De=gt):dt=dt.next=ot,X|=rt;if(me=me.next,me===null){if(me=A.shared.pending,me===null)break;ot=me,me=ot.next,ot.next=null,A.lastBaseUpdate=ot,A.shared.pending=null}}while(!0);dt===null&&(De=gt),A.baseState=De,A.firstBaseUpdate=tt,A.lastBaseUpdate=dt,k===null&&(A.shared.lanes=0),Df|=X,l.lanes=X,l.memoizedState=gt}}function qi(l,f){if(typeof l!="function")throw Error(r(191,l));l.call(f)}function Bs(l,f){var h=l.callbacks;if(h!==null)for(l.callbacks=null,l=0;l<h.length;l++)qi(h[l],f)}var Qn=ne(null),yr=ne(0);function hs(l,f){l=Mu,K(yr,l),K(Qn,f),Mu=l|f.baseLanes}function Nr(){K(yr,Mu),K(Qn,Qn.current)}function Qs(){Mu=yr.current,B(Qn),B(yr)}var ps=ne(null),br=null;function Ds(l){var f=l.alternate;K(mr,mr.current&1),K(ps,l),br===null&&(f===null||Qn.current!==null||f.memoizedState!==null)&&(br=l)}function Fr(l){K(mr,mr.current),K(ps,l),br===null&&(br=l)}function Vs(l){l.tag===22?(K(mr,mr.current),K(ps,l),br===null&&(br=l)):Us()}function Us(){K(mr,mr.current),K(ps,ps.current)}function jr(l){B(ps),br===l&&(br=null),B(mr)}var mr=ne(0);function Hi(l){for(var f=l;f!==null;){if(f.tag===13){var h=f.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||f_(h)||d_(h)))return f}else if(f.tag===19&&(f.memoizedProps.revealOrder==="forwards"||f.memoizedProps.revealOrder==="backwards"||f.memoizedProps.revealOrder==="unstable_legacy-backwards"||f.memoizedProps.revealOrder==="together")){if((f.flags&128)!==0)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===l)break;for(;f.sibling===null;){if(f.return===null||f.return===l)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}var ws=0,_n=null,Tn=null,wr=null,va=!1,go=!1,ia=!1,js=0,Ic=0,kc=null,I0=0;function Jr(){throw Error(r(321))}function Jm(l,f){if(f===null)return!1;for(var h=0;h<f.length&&h<l.length;h++)if(!bi(l[h],f[h]))return!1;return!0}function Qm(l,f,h,v,A,k){return ws=k,_n=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,ae.H=l===null||l.memoizedState===null?CN:_w,ia=!1,k=h(v,A),ia=!1,go&&(k=Gl(f,h,v,A)),k0(l),k}function k0(l){ae.H=ag;var f=Tn!==null&&Tn.next!==null;if(ws=0,wr=Tn=_n=null,va=!1,Ic=0,kc=null,f)throw Error(r(300));l===null||li||(l=l.dependencies,l!==null&&A0(l)&&(li=!0))}function Gl(l,f,h,v){_n=l;var A=0;do{if(go&&(kc=null),Ic=0,go=!1,25<=A)throw Error(r(301));if(A+=1,wr=Tn=null,l.updateQueue!=null){var k=l.updateQueue;k.lastEffect=null,k.events=null,k.stores=null,k.memoCache!=null&&(k.memoCache.index=0)}ae.H=NN,k=f(h,v)}while(go);return k}function mw(){var l=ae.H,f=l.useState()[0];return f=typeof f.then=="function"?Rc(f):f,l=l.useState()[0],(Tn!==null?Tn.memoizedState:null)!==l&&(_n.flags|=1024),f}function Zm(){var l=js!==0;return js=0,l}function eg(l,f,h){f.updateQueue=l.updateQueue,f.flags&=-2053,l.lanes&=~h}function R0(l){if(va){for(l=l.memoizedState;l!==null;){var f=l.queue;f!==null&&(f.pending=null),l=l.next}va=!1}ws=0,wr=Tn=_n=null,go=!1,Ic=js=0,kc=null}function oi(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wr===null?_n.memoizedState=wr=l:wr=wr.next=l,wr}function _s(){if(Tn===null){var l=_n.alternate;l=l!==null?l.memoizedState:null}else l=Tn.next;var f=wr===null?_n.memoizedState:wr.next;if(f!==null)wr=f,Tn=l;else{if(l===null)throw _n.alternate===null?Error(r(467)):Error(r(310));Tn=l,l={memoizedState:Tn.memoizedState,baseState:Tn.baseState,baseQueue:Tn.baseQueue,queue:Tn.queue,next:null},wr===null?_n.memoizedState=wr=l:wr=wr.next=l}return wr}function Zd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Rc(l){var f=Ic;return Ic+=1,kc===null&&(kc=[]),l=ut(kc,l,f),f=_n,(wr===null?f.memoizedState:wr.next)===null&&(f=f.alternate,ae.H=f===null||f.memoizedState===null?CN:_w),l}function Cf(l){if(l!==null&&typeof l=="object"){if(typeof l.then=="function")return Rc(l);if(l.$$typeof===I)return Ti(l)}throw Error(r(438,String(l)))}function Su(l){var f=null,h=_n.updateQueue;if(h!==null&&(f=h.memoCache),f==null){var v=_n.alternate;v!==null&&(v=v.updateQueue,v!==null&&(v=v.memoCache,v!=null&&(f={data:v.data.map(function(A){return A.slice()}),index:0})))}if(f==null&&(f={data:[],index:0}),h===null&&(h=Zd(),_n.updateQueue=h),h.memoCache=f,h=f.data[f.index],h===void 0)for(h=f.data[f.index]=Array(l),v=0;v<l;v++)h[v]=U;return f.index++,h}function hl(l,f){return typeof f=="function"?f(l):f}function P0(l){var f=_s();return Nf(f,Tn,l)}function Nf(l,f,h){var v=l.queue;if(v===null)throw Error(r(311));v.lastRenderedReducer=h;var A=l.baseQueue,k=v.pending;if(k!==null){if(A!==null){var X=A.next;A.next=k.next,k.next=X}f.baseQueue=A=k,v.pending=null}if(k=l.baseState,A===null)l.memoizedState=k;else{f=A.next;var me=X=null,De=null,tt=f,dt=!1;do{var gt=tt.lane&-536870913;if(gt!==tt.lane?(fr&gt)===gt:(ws&gt)===gt){var rt=tt.revertLane;if(rt===0)De!==null&&(De=De.next={lane:0,revertLane:0,gesture:null,action:tt.action,hasEagerState:tt.hasEagerState,eagerState:tt.eagerState,next:null}),gt===_&&(dt=!0);else if((ws&rt)===rt){tt=tt.next,rt===_&&(dt=!0);continue}else gt={lane:0,revertLane:tt.revertLane,gesture:null,action:tt.action,hasEagerState:tt.hasEagerState,eagerState:tt.eagerState,next:null},De===null?(me=De=gt,X=k):De=De.next=gt,_n.lanes|=rt,Df|=rt;gt=tt.action,ia&&h(k,gt),k=tt.hasEagerState?tt.eagerState:h(k,gt)}else rt={lane:gt,revertLane:tt.revertLane,gesture:tt.gesture,action:tt.action,hasEagerState:tt.hasEagerState,eagerState:tt.eagerState,next:null},De===null?(me=De=rt,X=k):De=De.next=rt,_n.lanes|=gt,Df|=gt;tt=tt.next}while(tt!==null&&tt!==f);if(De===null?X=k:De.next=me,!bi(k,l.memoizedState)&&(li=!0,dt&&(h=N,h!==null)))throw h;l.memoizedState=k,l.baseState=X,l.baseQueue=De,v.lastRenderedState=k}return A===null&&(v.lanes=0),[l.memoizedState,v.dispatch]}function D0(l){var f=_s(),h=f.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=l;var v=h.dispatch,A=h.pending,k=f.memoizedState;if(A!==null){h.pending=null;var X=A=A.next;do k=l(k,X.action),X=X.next;while(X!==A);bi(k,f.memoizedState)||(li=!0),f.memoizedState=k,f.baseQueue===null&&(f.baseState=k),h.lastRenderedState=k}return[k,v]}function M0(l,f,h){var v=_n,A=_s(),k=ir;if(k){if(h===void 0)throw Error(r(407));h=h()}else h=f();var X=!bi((Tn||A).memoizedState,h);if(X&&(A.memoizedState=h,li=!0),A=A.queue,gw(ng.bind(null,v,A,l),[l]),A.getSnapshot!==f||X||wr!==null&&wr.memoizedState.tag&1){if(v.flags|=2048,Cu(9,{destroy:void 0},tg.bind(null,v,A,h,f),null),os===null)throw Error(r(349));k||(ws&127)!==0||$l(v,f,h)}return h}function $l(l,f,h){l.flags|=16384,l={getSnapshot:f,value:h},f=_n.updateQueue,f===null?(f=Zd(),_n.updateQueue=f,f.stores=[l]):(h=f.stores,h===null?f.stores=[l]:h.push(l))}function tg(l,f,h,v){f.value=h,f.getSnapshot=v,Jx(f)&&rg(l)}function ng(l,f,h){return h(function(){Jx(f)&&rg(l)})}function Jx(l){var f=l.getSnapshot;l=l.value;try{var h=f();return!bi(l,h)}catch{return!0}}function rg(l){var f=Hl(l,2);f!==null&&wo(f,l,2)}function Pc(l){var f=oi();if(typeof l=="function"){var h=l;if(l=h(),ia){Ht(!0);try{h()}finally{Ht(!1)}}}return f.memoizedState=f.baseState=l,f.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hl,lastRenderedState:l},f}function Qx(l,f,h,v){return l.baseState=h,Nf(l,Tn,typeof v=="function"?v:hl)}function Zx(l,f,h,v,A){if(rv(l))throw Error(r(485));if(l=f.action,l!==null){var k={payload:A,action:l,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(X){k.listeners.push(X)}};ae.T!==null?h(!0):k.isTransition=!1,v(k),h=f.pending,h===null?(k.next=f.pending=k,ev(f,k)):(k.next=h.next,f.pending=h.next=k)}}function ev(l,f){var h=f.action,v=f.payload,A=l.state;if(f.isTransition){var k=ae.T,X={};ae.T=X;try{var me=h(A,v),De=ae.S;De!==null&&De(X,me),sg(l,f,me)}catch(tt){Au(l,f,tt)}finally{k!==null&&X.types!==null&&(k.types=X.types),ae.T=k}}else try{k=h(A,v),sg(l,f,k)}catch(tt){Au(l,f,tt)}}function sg(l,f,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(v){tv(l,f,v)},function(v){return Au(l,f,v)}):tv(l,f,h)}function tv(l,f,h){f.status="fulfilled",f.value=h,L0(f),l.state=h,f=l.pending,f!==null&&(h=f.next,h===f?l.pending=null:(h=h.next,f.next=h,ev(l,h)))}function Au(l,f,h){var v=l.pending;if(l.pending=null,v!==null){v=v.next;do f.status="rejected",f.reason=h,L0(f),f=f.next;while(f!==v)}l.action=null}function L0(l){l=l.listeners;for(var f=0;f<l.length;f++)(0,l[f])()}function eh(l,f){return f}function pl(l,f){if(ir){var h=os.formState;if(h!==null){e:{var v=_n;if(ir){if(is){t:{for(var A=is,k=bs;A.nodeType!==8;){if(!k){A=null;break t}if(A=ml(A.nextSibling),A===null){A=null;break t}}k=A.data,A=k==="F!"||k==="F"?A:null}if(A){is=ml(A.nextSibling),v=A.data==="F!";break e}}Tc(v)}v=!1}v&&(f=h[0])}}return h=oi(),h.memoizedState=h.baseState=f,v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:eh,lastRenderedState:f},h.queue=v,h=TN.bind(null,_n,v),v.dispatch=h,v=Pc(!1),k=ww.bind(null,_n,!1,v.queue),v=oi(),A={state:f,dispatch:null,action:l,pending:null},v.queue=A,h=Zx.bind(null,_n,A,k,h),A.dispatch=h,v.memoizedState=l,[f,h,!1]}function Wl(l){var f=_s();return Kl(f,Tn,l)}function Kl(l,f,h){if(f=Nf(l,f,eh)[0],l=P0(hl)[0],typeof f=="object"&&f!==null&&typeof f.then=="function")try{var v=Rc(f)}catch(X){throw X===Le?Ce:X}else v=f;f=_s();var A=f.queue,k=A.dispatch;return h!==f.memoizedState&&(_n.flags|=2048,Cu(9,{destroy:void 0},F0.bind(null,A,h),null)),[v,k,l]}function F0(l,f){l.action=f}function O0(l){var f=_s(),h=Tn;if(h!==null)return Kl(f,h,l);_s(),f=f.memoizedState,h=_s();var v=h.queue.dispatch;return h.memoizedState=l,[f,v,!1]}function Cu(l,f,h,v){return l={tag:l,create:h,deps:v,inst:f,next:null},f=_n.updateQueue,f===null&&(f=Zd(),_n.updateQueue=f),h=f.lastEffect,h===null?f.lastEffect=l.next=l:(v=h.next,h.next=l,l.next=v,f.lastEffect=l),l}function nv(){return _s().memoizedState}function If(l,f,h,v){var A=oi();_n.flags|=l,A.memoizedState=Cu(1|f,{destroy:void 0},h,v===void 0?null:v)}function kf(l,f,h,v){var A=_s();v=v===void 0?null:v;var k=A.memoizedState.inst;Tn!==null&&v!==null&&Jm(v,Tn.memoizedState.deps)?A.memoizedState=Cu(f,k,h,v):(_n.flags|=l,A.memoizedState=Cu(1|f,k,h,v))}function uN(l,f){If(8390656,8,l,f)}function gw(l,f){kf(2048,8,l,f)}function DH(l){_n.flags|=4;var f=_n.updateQueue;if(f===null)f=Zd(),_n.updateQueue=f,f.events=[l];else{var h=f.events;h===null?f.events=[l]:h.push(l)}}function fN(l){var f=_s().memoizedState;return DH({ref:f,nextImpl:l}),function(){if((Or&2)!==0)throw Error(r(440));return f.impl.apply(void 0,arguments)}}function dN(l,f){return kf(4,2,l,f)}function hN(l,f){return kf(4,4,l,f)}function pN(l,f){if(typeof f=="function"){l=l();var h=f(l);return function(){typeof h=="function"?h():f(null)}}if(f!=null)return l=l(),f.current=l,function(){f.current=null}}function mN(l,f,h){h=h!=null?h.concat([l]):null,kf(4,4,pN.bind(null,f,l),h)}function xw(){}function gN(l,f){var h=_s();f=f===void 0?null:f;var v=h.memoizedState;return f!==null&&Jm(f,v[1])?v[0]:(h.memoizedState=[l,f],l)}function xN(l,f){var h=_s();f=f===void 0?null:f;var v=h.memoizedState;if(f!==null&&Jm(f,v[1]))return v[0];if(v=l(),ia){Ht(!0);try{l()}finally{Ht(!1)}}return h.memoizedState=[v,f],v}function vw(l,f,h){return h===void 0||(ws&1073741824)!==0&&(fr&261930)===0?l.memoizedState=f:(l.memoizedState=h,l=v4(),_n.lanes|=l,Df|=l,h)}function vN(l,f,h,v){return bi(h,f)?h:Qn.current!==null?(l=vw(l,h,v),bi(l,f)||(li=!0),l):(ws&42)===0||(ws&1073741824)!==0&&(fr&261930)===0?(li=!0,l.memoizedState=h):(l=v4(),_n.lanes|=l,Df|=l,f)}function yN(l,f,h,v,A){var k=pe.p;pe.p=k!==0&&8>k?k:8;var X=ae.T,me={};ae.T=me,ww(l,!1,f,h);try{var De=A(),tt=ae.S;if(tt!==null&&tt(me,De),De!==null&&typeof De=="object"&&typeof De.then=="function"){var dt=re(De,v);ig(l,f,dt,jo(l))}else ig(l,f,v,jo(l))}catch(gt){ig(l,f,{then:function(){},status:"rejected",reason:gt},jo())}finally{pe.p=k,X!==null&&me.types!==null&&(X.types=me.types),ae.T=X}}function MH(){}function yw(l,f,h,v){if(l.tag!==5)throw Error(r(476));var A=bN(l).queue;yN(l,A,f,de,h===null?MH:function(){return wN(l),h(v)})}function bN(l){var f=l.memoizedState;if(f!==null)return f;f={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hl,lastRenderedState:de},next:null};var h={};return f.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hl,lastRenderedState:h},next:null},l.memoizedState=f,l=l.alternate,l!==null&&(l.memoizedState=f),f}function wN(l){var f=bN(l);f.next===null&&(f=l.alternate.memoizedState),ig(l,f.next.queue,{},jo())}function bw(){return Ti(_g)}function _N(){return _s().memoizedState}function EN(){return _s().memoizedState}function LH(l){for(var f=l.return;f!==null;){switch(f.tag){case 24:case 3:var h=jo();l=Cn(h);var v=$n(f,l,h);v!==null&&(wo(v,f,h),Lr(v,f,h)),f={cache:Af()},l.payload=f;return}f=f.return}}function FH(l,f,h){var v=jo();h={lane:v,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},rv(l)?SN(f,h):(h=v0(l,f,h,v),h!==null&&(wo(h,l,v),AN(h,f,v)))}function TN(l,f,h){var v=jo();ig(l,f,h,v)}function ig(l,f,h,v){var A={lane:v,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null};if(rv(l))SN(f,A);else{var k=l.alternate;if(l.lanes===0&&(k===null||k.lanes===0)&&(k=f.lastRenderedReducer,k!==null))try{var X=f.lastRenderedState,me=k(X,h);if(A.hasEagerState=!0,A.eagerState=me,bi(me,X))return $d(l,f,A,0),os===null&&Gd(),!1}catch{}finally{}if(h=v0(l,f,A,v),h!==null)return wo(h,l,v),AN(h,f,v),!0}return!1}function ww(l,f,h,v){if(v={lane:2,revertLane:Zw(),gesture:null,action:v,hasEagerState:!1,eagerState:null,next:null},rv(l)){if(f)throw Error(r(479))}else f=v0(l,h,v,2),f!==null&&wo(f,l,2)}function rv(l){var f=l.alternate;return l===_n||f!==null&&f===_n}function SN(l,f){go=va=!0;var h=l.pending;h===null?f.next=f:(f.next=h.next,h.next=f),l.pending=f}function AN(l,f,h){if((h&4194048)!==0){var v=f.lanes;v&=l.pendingLanes,h|=v,f.lanes=h,jt(l,h)}}var ag={readContext:Ti,use:Cf,useCallback:Jr,useContext:Jr,useEffect:Jr,useImperativeHandle:Jr,useLayoutEffect:Jr,useInsertionEffect:Jr,useMemo:Jr,useReducer:Jr,useRef:Jr,useState:Jr,useDebugValue:Jr,useDeferredValue:Jr,useTransition:Jr,useSyncExternalStore:Jr,useId:Jr,useHostTransitionStatus:Jr,useFormState:Jr,useActionState:Jr,useOptimistic:Jr,useMemoCache:Jr,useCacheRefresh:Jr};ag.useEffectEvent=Jr;var CN={readContext:Ti,use:Cf,useCallback:function(l,f){return oi().memoizedState=[l,f===void 0?null:f],l},useContext:Ti,useEffect:uN,useImperativeHandle:function(l,f,h){h=h!=null?h.concat([l]):null,If(4194308,4,pN.bind(null,f,l),h)},useLayoutEffect:function(l,f){return If(4194308,4,l,f)},useInsertionEffect:function(l,f){If(4,2,l,f)},useMemo:function(l,f){var h=oi();f=f===void 0?null:f;var v=l();if(ia){Ht(!0);try{l()}finally{Ht(!1)}}return h.memoizedState=[v,f],v},useReducer:function(l,f,h){var v=oi();if(h!==void 0){var A=h(f);if(ia){Ht(!0);try{h(f)}finally{Ht(!1)}}}else A=f;return v.memoizedState=v.baseState=A,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:A},v.queue=l,l=l.dispatch=FH.bind(null,_n,l),[v.memoizedState,l]},useRef:function(l){var f=oi();return l={current:l},f.memoizedState=l},useState:function(l){l=Pc(l);var f=l.queue,h=TN.bind(null,_n,f);return f.dispatch=h,[l.memoizedState,h]},useDebugValue:xw,useDeferredValue:function(l,f){var h=oi();return vw(h,l,f)},useTransition:function(){var l=Pc(!1);return l=yN.bind(null,_n,l.queue,!0,!1),oi().memoizedState=l,[!1,l]},useSyncExternalStore:function(l,f,h){var v=_n,A=oi();if(ir){if(h===void 0)throw Error(r(407));h=h()}else{if(h=f(),os===null)throw Error(r(349));(fr&127)!==0||$l(v,f,h)}A.memoizedState=h;var k={value:h,getSnapshot:f};return A.queue=k,uN(ng.bind(null,v,k,l),[l]),v.flags|=2048,Cu(9,{destroy:void 0},tg.bind(null,v,k,h,f),null),h},useId:function(){var l=oi(),f=os.identifierPrefix;if(ir){var h=po,v=ho;h=(v&~(1<<32-vn(v)-1)).toString(32)+h,f="_"+f+"R_"+h,h=js++,0<h&&(f+="H"+h.toString(32)),f+="_"}else h=I0++,f="_"+f+"r_"+h.toString(32)+"_";return l.memoizedState=f},useHostTransitionStatus:bw,useFormState:pl,useActionState:pl,useOptimistic:function(l){var f=oi();f.memoizedState=f.baseState=l;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return f.queue=h,f=ww.bind(null,_n,!0,h),h.dispatch=f,[l,f]},useMemoCache:Su,useCacheRefresh:function(){return oi().memoizedState=LH.bind(null,_n)},useEffectEvent:function(l){var f=oi(),h={impl:l};return f.memoizedState=h,function(){if((Or&2)!==0)throw Error(r(440));return h.impl.apply(void 0,arguments)}}},_w={readContext:Ti,use:Cf,useCallback:gN,useContext:Ti,useEffect:gw,useImperativeHandle:mN,useInsertionEffect:dN,useLayoutEffect:hN,useMemo:xN,useReducer:P0,useRef:nv,useState:function(){return P0(hl)},useDebugValue:xw,useDeferredValue:function(l,f){var h=_s();return vN(h,Tn.memoizedState,l,f)},useTransition:function(){var l=P0(hl)[0],f=_s().memoizedState;return[typeof l=="boolean"?l:Rc(l),f]},useSyncExternalStore:M0,useId:_N,useHostTransitionStatus:bw,useFormState:Wl,useActionState:Wl,useOptimistic:function(l,f){var h=_s();return Qx(h,Tn,l,f)},useMemoCache:Su,useCacheRefresh:EN};_w.useEffectEvent=fN;var NN={readContext:Ti,use:Cf,useCallback:gN,useContext:Ti,useEffect:gw,useImperativeHandle:mN,useInsertionEffect:dN,useLayoutEffect:hN,useMemo:xN,useReducer:D0,useRef:nv,useState:function(){return D0(hl)},useDebugValue:xw,useDeferredValue:function(l,f){var h=_s();return Tn===null?vw(h,l,f):vN(h,Tn.memoizedState,l,f)},useTransition:function(){var l=D0(hl)[0],f=_s().memoizedState;return[typeof l=="boolean"?l:Rc(l),f]},useSyncExternalStore:M0,useId:_N,useHostTransitionStatus:bw,useFormState:O0,useActionState:O0,useOptimistic:function(l,f){var h=_s();return Tn!==null?Qx(h,Tn,l,f):(h.baseState=l,[l,h.queue.dispatch])},useMemoCache:Su,useCacheRefresh:EN};NN.useEffectEvent=fN;function Ew(l,f,h,v){f=l.memoizedState,h=h(v,f),h=h==null?f:p({},f,h),l.memoizedState=h,l.lanes===0&&(l.updateQueue.baseState=h)}var Tw={enqueueSetState:function(l,f,h){l=l._reactInternals;var v=jo(),A=Cn(v);A.payload=f,h!=null&&(A.callback=h),f=$n(l,A,v),f!==null&&(wo(f,l,v),Lr(f,l,v))},enqueueReplaceState:function(l,f,h){l=l._reactInternals;var v=jo(),A=Cn(v);A.tag=1,A.payload=f,h!=null&&(A.callback=h),f=$n(l,A,v),f!==null&&(wo(f,l,v),Lr(f,l,v))},enqueueForceUpdate:function(l,f){l=l._reactInternals;var h=jo(),v=Cn(h);v.tag=2,f!=null&&(v.callback=f),f=$n(l,v,h),f!==null&&(wo(f,l,h),Lr(f,l,h))}};function IN(l,f,h,v,A,k,X){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(v,k,X):f.prototype&&f.prototype.isPureReactComponent?!Vl(h,v)||!Vl(A,k):!0}function kN(l,f,h,v){l=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(h,v),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(h,v),f.state!==l&&Tw.enqueueReplaceState(f,f.state,null)}function th(l,f){var h=f;if("ref"in f){h={};for(var v in f)v!=="ref"&&(h[v]=f[v])}if(l=l.defaultProps){h===f&&(h=p({},h));for(var A in l)h[A]===void 0&&(h[A]=l[A])}return h}function RN(l){zd(l)}function PN(l){console.error(l)}function DN(l){zd(l)}function sv(l,f){try{var h=l.onUncaughtError;h(f.value,{componentStack:f.stack})}catch(v){setTimeout(function(){throw v})}}function MN(l,f,h){try{var v=l.onCaughtError;v(h.value,{componentStack:h.stack,errorBoundary:f.tag===1?f.stateNode:null})}catch(A){setTimeout(function(){throw A})}}function Sw(l,f,h){return h=Cn(h),h.tag=3,h.payload={element:null},h.callback=function(){sv(l,f)},h}function LN(l){return l=Cn(l),l.tag=3,l}function FN(l,f,h,v){var A=h.type.getDerivedStateFromError;if(typeof A=="function"){var k=v.value;l.payload=function(){return A(k)},l.callback=function(){MN(f,h,v)}}var X=h.stateNode;X!==null&&typeof X.componentDidCatch=="function"&&(l.callback=function(){MN(f,h,v),typeof A!="function"&&(Mf===null?Mf=new Set([this]):Mf.add(this));var me=v.stack;this.componentDidCatch(v.value,{componentStack:me!==null?me:""})})}function OH(l,f,h,v,A){if(h.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){if(f=h.alternate,f!==null&&Cc(f,h,A,!0),h=ps.current,h!==null){switch(h.tag){case 31:case 13:return br===null?gv():h.alternate===null&&qs===0&&(qs=3),h.flags&=-257,h.flags|=65536,h.lanes=A,v===Ve?h.flags|=16384:(f=h.updateQueue,f===null?h.updateQueue=new Set([v]):f.add(v),Xw(l,v,A)),!1;case 22:return h.flags|=65536,v===Ve?h.flags|=16384:(f=h.updateQueue,f===null?(f={transitions:null,markerInstances:null,retryQueue:new Set([v])},h.updateQueue=f):(h=f.retryQueue,h===null?f.retryQueue=new Set([v]):h.add(v)),Xw(l,v,A)),!1}throw Error(r(435,h.tag))}return Xw(l,v,A),gv(),!1}if(ir)return f=ps.current,f!==null?((f.flags&65536)===0&&(f.flags|=256),f.flags|=65536,f.lanes=A,v!==Bo&&(l=Error(r(422),{cause:v}),Tf(co(l,h)))):(v!==Bo&&(f=Error(r(423),{cause:v}),Tf(co(f,h))),l=l.current.alternate,l.flags|=65536,A&=-A,l.lanes|=A,v=co(v,h),A=Sw(l.stateNode,v,A),Js(l,A),qs!==4&&(qs=2)),!1;var k=Error(r(520),{cause:v});if(k=co(k,h),pg===null?pg=[k]:pg.push(k),qs!==4&&(qs=2),f===null)return!0;v=co(v,h),h=f;do{switch(h.tag){case 3:return h.flags|=65536,l=A&-A,h.lanes|=l,l=Sw(h.stateNode,v,l),Js(h,l),!1;case 1:if(f=h.type,k=h.stateNode,(h.flags&128)===0&&(typeof f.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(Mf===null||!Mf.has(k))))return h.flags|=65536,A&=-A,h.lanes|=A,A=LN(A),FN(A,l,h,v),Js(h,A),!1}h=h.return}while(h!==null);return!1}var Aw=Error(r(461)),li=!1;function aa(l,f,h,v){f.child=l===null?Un(f,null,h,v):as(f,l.child,h,v)}function ON(l,f,h,v,A){h=h.render;var k=f.ref;if("ref"in v){var X={};for(var me in v)me!=="ref"&&(X[me]=v[me])}else X=v;return Nc(f),v=Qm(l,f,h,X,k,A),me=Zm(),l!==null&&!li?(eg(l,f,A),Nu(l,f,A)):(ir&&me&&Km(f),f.flags|=1,aa(l,f,v,A),f.child)}function BN(l,f,h,v,A){if(l===null){var k=h.type;return typeof k=="function"&&!b0(k)&&k.defaultProps===void 0&&h.compare===null?(f.tag=15,f.type=k,VN(l,f,k,v,A)):(l=wf(h.type,null,v,f,f.mode,A),l.ref=f.ref,l.return=f,f.child=l)}if(k=l.child,!Mw(l,A)){var X=k.memoizedProps;if(h=h.compare,h=h!==null?h:Vl,h(X,v)&&l.ref===f.ref)return Nu(l,f,A)}return f.flags|=1,l=lo(k,v),l.ref=f.ref,l.return=f,f.child=l}function VN(l,f,h,v,A){if(l!==null){var k=l.memoizedProps;if(Vl(k,v)&&l.ref===f.ref)if(li=!1,f.pendingProps=v=k,Mw(l,A))(l.flags&131072)!==0&&(li=!0);else return f.lanes=l.lanes,Nu(l,f,A)}return Cw(l,f,h,v,A)}function UN(l,f,h,v){var A=v.children,k=l!==null?l.memoizedState:null;if(l===null&&f.stateNode===null&&(f.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),v.mode==="hidden"){if((f.flags&128)!==0){if(k=k!==null?k.baseLanes|h:h,l!==null){for(v=f.child=l.child,A=0;v!==null;)A=A|v.lanes|v.childLanes,v=v.sibling;v=A&~k}else v=0,f.child=null;return jN(l,f,k,h,v)}if((h&536870912)!==0)f.memoizedState={baseLanes:0,cachePool:null},l!==null&&we(f,k!==null?k.cachePool:null),k!==null?hs(f,k):Nr(),Vs(f);else return v=f.lanes=536870912,jN(l,f,k!==null?k.baseLanes|h:h,h,v)}else k!==null?(we(f,k.cachePool),hs(f,k),Us(),f.memoizedState=null):(l!==null&&we(f,null),Nr(),Us());return aa(l,f,A,h),f.child}function og(l,f){return l!==null&&l.tag===22||f.stateNode!==null||(f.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),f.sibling}function jN(l,f,h,v,A){var k=xe();return k=k===null?null:{parent:Ps._currentValue,pool:k},f.memoizedState={baseLanes:h,cachePool:k},l!==null&&we(f,null),Nr(),Vs(f),l!==null&&Cc(l,f,v,!0),f.childLanes=A,null}function iv(l,f){return f=ov({mode:f.mode,children:f.children},l.mode),f.ref=l.ref,l.child=f,f.return=l,f}function qN(l,f,h){return as(f,l.child,null,h),l=iv(f,f.pendingProps),l.flags|=2,jr(f),f.memoizedState=null,l}function BH(l,f,h){var v=f.pendingProps,A=(f.flags&128)!==0;if(f.flags&=-129,l===null){if(ir){if(v.mode==="hidden")return l=iv(f,v),f.lanes=536870912,og(null,l);if(Fr(f),(l=is)?(l=eI(l,bs),l=l!==null&&l.data==="&"?l:null,l!==null&&(f.memoizedState={dehydrated:l,treeContext:Ec!==null?{id:ho,overflow:po}:null,retryLane:536870912,hydrationErrors:null},h=w0(l),h.return=f,f.child=h,_i=f,is=null)):l=null,l===null)throw Tc(f);return f.lanes=536870912,null}return iv(f,v)}var k=l.memoizedState;if(k!==null){var X=k.dehydrated;if(Fr(f),A)if(f.flags&256)f.flags&=-257,f=qN(l,f,h);else if(f.memoizedState!==null)f.child=l.child,f.flags|=128,f=null;else throw Error(r(558));else if(li||Cc(l,f,h,!1),A=(h&l.childLanes)!==0,li||A){if(v=os,v!==null&&(X=Yn(v,h),X!==0&&X!==k.retryLane))throw k.retryLane=X,Hl(l,X),wo(v,l,X),Aw;gv(),f=qN(l,f,h)}else l=k.treeContext,is=ml(X.nextSibling),_i=f,ir=!0,sa=null,bs=!1,l!==null&&Yx(f,l),f=iv(f,v),f.flags|=4096;return f}return l=lo(l.child,{mode:v.mode,children:v.children}),l.ref=f.ref,f.child=l,l.return=f,l}function av(l,f){var h=f.ref;if(h===null)l!==null&&l.ref!==null&&(f.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(r(284));(l===null||l.ref!==h)&&(f.flags|=4194816)}}function Cw(l,f,h,v,A){return Nc(f),h=Qm(l,f,h,v,void 0,A),v=Zm(),l!==null&&!li?(eg(l,f,A),Nu(l,f,A)):(ir&&v&&Km(f),f.flags|=1,aa(l,f,h,A),f.child)}function HN(l,f,h,v,A,k){return Nc(f),f.updateQueue=null,h=Gl(f,v,h,A),k0(l),v=Zm(),l!==null&&!li?(eg(l,f,k),Nu(l,f,k)):(ir&&v&&Km(f),f.flags|=1,aa(l,f,h,k),f.child)}function zN(l,f,h,v,A){if(Nc(f),f.stateNode===null){var k=wi,X=h.contextType;typeof X=="object"&&X!==null&&(k=Ti(X)),k=new h(v,k),f.memoizedState=k.state!==null&&k.state!==void 0?k.state:null,k.updater=Tw,f.stateNode=k,k._reactInternals=f,k=f.stateNode,k.props=v,k.state=f.memoizedState,k.refs={},Ft(f),X=h.contextType,k.context=typeof X=="object"&&X!==null?Ti(X):wi,k.state=f.memoizedState,X=h.getDerivedStateFromProps,typeof X=="function"&&(Ew(f,h,X,v),k.state=f.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof k.getSnapshotBeforeUpdate=="function"||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(X=k.state,typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount(),X!==k.state&&Tw.enqueueReplaceState(k,k.state,null),Os(f,v,k,A),Xr(),k.state=f.memoizedState),typeof k.componentDidMount=="function"&&(f.flags|=4194308),v=!0}else if(l===null){k=f.stateNode;var me=f.memoizedProps,De=th(h,me);k.props=De;var tt=k.context,dt=h.contextType;X=wi,typeof dt=="object"&&dt!==null&&(X=Ti(dt));var gt=h.getDerivedStateFromProps;dt=typeof gt=="function"||typeof k.getSnapshotBeforeUpdate=="function",me=f.pendingProps!==me,dt||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(me||tt!==X)&&kN(f,k,v,X),Wt=!1;var rt=f.memoizedState;k.state=rt,Os(f,v,k,A),Xr(),tt=f.memoizedState,me||rt!==tt||Wt?(typeof gt=="function"&&(Ew(f,h,gt,v),tt=f.memoizedState),(De=Wt||IN(f,h,De,v,rt,tt,X))?(dt||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount()),typeof k.componentDidMount=="function"&&(f.flags|=4194308)):(typeof k.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=v,f.memoizedState=tt),k.props=v,k.state=tt,k.context=X,v=De):(typeof k.componentDidMount=="function"&&(f.flags|=4194308),v=!1)}else{k=f.stateNode,ds(l,f),X=f.memoizedProps,dt=th(h,X),k.props=dt,gt=f.pendingProps,rt=k.context,tt=h.contextType,De=wi,typeof tt=="object"&&tt!==null&&(De=Ti(tt)),me=h.getDerivedStateFromProps,(tt=typeof me=="function"||typeof k.getSnapshotBeforeUpdate=="function")||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(X!==gt||rt!==De)&&kN(f,k,v,De),Wt=!1,rt=f.memoizedState,k.state=rt,Os(f,v,k,A),Xr();var ot=f.memoizedState;X!==gt||rt!==ot||Wt||l!==null&&l.dependencies!==null&&A0(l.dependencies)?(typeof me=="function"&&(Ew(f,h,me,v),ot=f.memoizedState),(dt=Wt||IN(f,h,dt,v,rt,ot,De)||l!==null&&l.dependencies!==null&&A0(l.dependencies))?(tt||typeof k.UNSAFE_componentWillUpdate!="function"&&typeof k.componentWillUpdate!="function"||(typeof k.componentWillUpdate=="function"&&k.componentWillUpdate(v,ot,De),typeof k.UNSAFE_componentWillUpdate=="function"&&k.UNSAFE_componentWillUpdate(v,ot,De)),typeof k.componentDidUpdate=="function"&&(f.flags|=4),typeof k.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof k.componentDidUpdate!="function"||X===l.memoizedProps&&rt===l.memoizedState||(f.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||X===l.memoizedProps&&rt===l.memoizedState||(f.flags|=1024),f.memoizedProps=v,f.memoizedState=ot),k.props=v,k.state=ot,k.context=De,v=dt):(typeof k.componentDidUpdate!="function"||X===l.memoizedProps&&rt===l.memoizedState||(f.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||X===l.memoizedProps&&rt===l.memoizedState||(f.flags|=1024),v=!1)}return k=v,av(l,f),v=(f.flags&128)!==0,k||v?(k=f.stateNode,h=v&&typeof h.getDerivedStateFromError!="function"?null:k.render(),f.flags|=1,l!==null&&v?(f.child=as(f,l.child,null,A),f.child=as(f,null,h,A)):aa(l,f,h,A),f.memoizedState=k.state,l=f.child):l=Nu(l,f,A),l}function GN(l,f,h,v){return Eu(),f.flags|=256,aa(l,f,h,v),f.child}var Nw={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Iw(l){return{baseLanes:l,cachePool:Ie()}}function kw(l,f,h){return l=l!==null?l.childLanes&~h:0,f&&(l|=Uo),l}function $N(l,f,h){var v=f.pendingProps,A=!1,k=(f.flags&128)!==0,X;if((X=k)||(X=l!==null&&l.memoizedState===null?!1:(mr.current&2)!==0),X&&(A=!0,f.flags&=-129),X=(f.flags&32)!==0,f.flags&=-33,l===null){if(ir){if(A?Ds(f):Us(),(l=is)?(l=eI(l,bs),l=l!==null&&l.data!=="&"?l:null,l!==null&&(f.memoizedState={dehydrated:l,treeContext:Ec!==null?{id:ho,overflow:po}:null,retryLane:536870912,hydrationErrors:null},h=w0(l),h.return=f,f.child=h,_i=f,is=null)):l=null,l===null)throw Tc(f);return d_(l)?f.lanes=32:f.lanes=536870912,null}var me=v.children;return v=v.fallback,A?(Us(),A=f.mode,me=ov({mode:"hidden",children:me},A),v=_c(v,A,h,null),me.return=f,v.return=f,me.sibling=v,f.child=me,v=f.child,v.memoizedState=Iw(h),v.childLanes=kw(l,X,h),f.memoizedState=Nw,og(null,v)):(Ds(f),Rw(f,me))}var De=l.memoizedState;if(De!==null&&(me=De.dehydrated,me!==null)){if(k)f.flags&256?(Ds(f),f.flags&=-257,f=Pw(l,f,h)):f.memoizedState!==null?(Us(),f.child=l.child,f.flags|=128,f=null):(Us(),me=v.fallback,A=f.mode,v=ov({mode:"visible",children:v.children},A),me=_c(me,A,h,null),me.flags|=2,v.return=f,me.return=f,v.sibling=me,f.child=v,as(f,l.child,null,h),v=f.child,v.memoizedState=Iw(h),v.childLanes=kw(l,X,h),f.memoizedState=Nw,f=og(null,v));else if(Ds(f),d_(me)){if(X=me.nextSibling&&me.nextSibling.dataset,X)var tt=X.dgst;X=tt,v=Error(r(419)),v.stack="",v.digest=X,Tf({value:v,source:null,stack:null}),f=Pw(l,f,h)}else if(li||Cc(l,f,h,!1),X=(h&l.childLanes)!==0,li||X){if(X=os,X!==null&&(v=Yn(X,h),v!==0&&v!==De.retryLane))throw De.retryLane=v,Hl(l,v),wo(X,l,v),Aw;f_(me)||gv(),f=Pw(l,f,h)}else f_(me)?(f.flags|=192,f.child=l.child,f=null):(l=De.treeContext,is=ml(me.nextSibling),_i=f,ir=!0,sa=null,bs=!1,l!==null&&Yx(f,l),f=Rw(f,v.children),f.flags|=4096);return f}return A?(Us(),me=v.fallback,A=f.mode,De=l.child,tt=De.sibling,v=lo(De,{mode:"hidden",children:v.children}),v.subtreeFlags=De.subtreeFlags&65011712,tt!==null?me=lo(tt,me):(me=_c(me,A,h,null),me.flags|=2),me.return=f,v.return=f,v.sibling=me,f.child=v,og(null,v),v=f.child,me=l.child.memoizedState,me===null?me=Iw(h):(A=me.cachePool,A!==null?(De=Ps._currentValue,A=A.parent!==De?{parent:De,pool:De}:A):A=Ie(),me={baseLanes:me.baseLanes|h,cachePool:A}),v.memoizedState=me,v.childLanes=kw(l,X,h),f.memoizedState=Nw,og(l.child,v)):(Ds(f),h=l.child,l=h.sibling,h=lo(h,{mode:"visible",children:v.children}),h.return=f,h.sibling=null,l!==null&&(X=f.deletions,X===null?(f.deletions=[l],f.flags|=16):X.push(l)),f.child=h,f.memoizedState=null,h)}function Rw(l,f){return f=ov({mode:"visible",children:f},l.mode),f.return=l,l.child=f}function ov(l,f){return l=ji(22,l,null,f),l.lanes=0,l}function Pw(l,f,h){return as(f,l.child,null,h),l=Rw(f,f.pendingProps.children),l.flags|=2,f.memoizedState=null,l}function WN(l,f,h){l.lanes|=f;var v=l.alternate;v!==null&&(v.lanes|=f),Sf(l.return,f,h)}function Dw(l,f,h,v,A,k){var X=l.memoizedState;X===null?l.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:v,tail:h,tailMode:A,treeForkCount:k}:(X.isBackwards=f,X.rendering=null,X.renderingStartTime=0,X.last=v,X.tail=h,X.tailMode=A,X.treeForkCount=k)}function KN(l,f,h){var v=f.pendingProps,A=v.revealOrder,k=v.tail;v=v.children;var X=mr.current,me=(X&2)!==0;if(me?(X=X&1|2,f.flags|=128):X&=1,K(mr,X),aa(l,f,v,h),v=ir?Xd:0,!me&&l!==null&&(l.flags&128)!==0)e:for(l=f.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&WN(l,h,f);else if(l.tag===19)WN(l,h,f);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===f)break e;for(;l.sibling===null;){if(l.return===null||l.return===f)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}switch(A){case"forwards":for(h=f.child,A=null;h!==null;)l=h.alternate,l!==null&&Hi(l)===null&&(A=h),h=h.sibling;h=A,h===null?(A=f.child,f.child=null):(A=h.sibling,h.sibling=null),Dw(f,!1,A,h,k,v);break;case"backwards":case"unstable_legacy-backwards":for(h=null,A=f.child,f.child=null;A!==null;){if(l=A.alternate,l!==null&&Hi(l)===null){f.child=A;break}l=A.sibling,A.sibling=h,h=A,A=l}Dw(f,!0,h,null,k,v);break;case"together":Dw(f,!1,null,null,void 0,v);break;default:f.memoizedState=null}return f.child}function Nu(l,f,h){if(l!==null&&(f.dependencies=l.dependencies),Df|=f.lanes,(h&f.childLanes)===0)if(l!==null){if(Cc(l,f,h,!1),(h&f.childLanes)===0)return null}else return null;if(l!==null&&f.child!==l.child)throw Error(r(153));if(f.child!==null){for(l=f.child,h=lo(l,l.pendingProps),f.child=h,h.return=f;l.sibling!==null;)l=l.sibling,h=h.sibling=lo(l,l.pendingProps),h.return=f;h.sibling=null}return f.child}function Mw(l,f){return(l.lanes&f)!==0?!0:(l=l.dependencies,!!(l!==null&&A0(l)))}function VH(l,f,h){switch(f.tag){case 3:Pe(f,f.stateNode.containerInfo),Ac(f,Ps,l.memoizedState.cache),Eu();break;case 27:case 5:Re(f);break;case 4:Pe(f,f.stateNode.containerInfo);break;case 10:Ac(f,f.type,f.memoizedProps.value);break;case 31:if(f.memoizedState!==null)return f.flags|=128,Fr(f),null;break;case 13:var v=f.memoizedState;if(v!==null)return v.dehydrated!==null?(Ds(f),f.flags|=128,null):(h&f.child.childLanes)!==0?$N(l,f,h):(Ds(f),l=Nu(l,f,h),l!==null?l.sibling:null);Ds(f);break;case 19:var A=(l.flags&128)!==0;if(v=(h&f.childLanes)!==0,v||(Cc(l,f,h,!1),v=(h&f.childLanes)!==0),A){if(v)return KN(l,f,h);f.flags|=128}if(A=f.memoizedState,A!==null&&(A.rendering=null,A.tail=null,A.lastEffect=null),K(mr,mr.current),v)break;return null;case 22:return f.lanes=0,UN(l,f,h,f.pendingProps);case 24:Ac(f,Ps,l.memoizedState.cache)}return Nu(l,f,h)}function YN(l,f,h){if(l!==null)if(l.memoizedProps!==f.pendingProps)li=!0;else{if(!Mw(l,h)&&(f.flags&128)===0)return li=!1,VH(l,f,h);li=(l.flags&131072)!==0}else li=!1,ir&&(f.flags&1048576)!==0&&Kx(f,Xd,f.index);switch(f.lanes=0,f.tag){case 16:e:{var v=f.pendingProps;if(l=Xe(f.elementType),f.type=l,typeof l=="function")b0(l)?(v=th(l,v),f.tag=1,f=zN(null,f,l,v,h)):(f.tag=0,f=Cw(null,f,l,v,h));else{if(l!=null){var A=l.$$typeof;if(A===D){f.tag=11,f=ON(null,f,l,v,h);break e}else if(A===P){f.tag=14,f=BN(null,f,l,v,h);break e}}throw f=ie(l)||l,Error(r(306,f,""))}}return f;case 0:return Cw(l,f,f.type,f.pendingProps,h);case 1:return v=f.type,A=th(v,f.pendingProps),zN(l,f,v,A,h);case 3:e:{if(Pe(f,f.stateNode.containerInfo),l===null)throw Error(r(387));v=f.pendingProps;var k=f.memoizedState;A=k.element,ds(l,f),Os(f,v,null,h);var X=f.memoizedState;if(v=X.cache,Ac(f,Ps,v),v!==k.cache&&Tu(f,[Ps],h,!0),Xr(),v=X.element,k.isDehydrated)if(k={element:v,isDehydrated:!1,cache:X.cache},f.updateQueue.baseState=k,f.memoizedState=k,f.flags&256){f=GN(l,f,v,h);break e}else if(v!==A){A=co(Error(r(424)),f),Tf(A),f=GN(l,f,v,h);break e}else{switch(l=f.stateNode.containerInfo,l.nodeType){case 9:l=l.body;break;default:l=l.nodeName==="HTML"?l.ownerDocument.body:l}for(is=ml(l.firstChild),_i=f,ir=!0,sa=null,bs=!0,h=Un(f,null,v,h),f.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling}else{if(Eu(),v===A){f=Nu(l,f,h);break e}aa(l,f,v,h)}f=f.child}return f;case 26:return av(l,f),l===null?(h=aI(f.type,null,f.pendingProps,null))?f.memoizedState=h:ir||(h=f.type,l=f.pendingProps,v=Ev(ue.current).createElement(h),v[be]=f,v[Te]=l,oa(v,h,l),Yt(v),f.stateNode=v):f.memoizedState=aI(f.type,l.memoizedProps,f.pendingProps,l.memoizedState),null;case 27:return Re(f),l===null&&ir&&(v=f.stateNode=rI(f.type,f.pendingProps,ue.current),_i=f,bs=!0,A=is,Bf(f.type)?(h_=A,is=ml(v.firstChild)):is=A),aa(l,f,f.pendingProps.children,h),av(l,f),l===null&&(f.flags|=4194304),f.child;case 5:return l===null&&ir&&((A=v=is)&&(v=mz(v,f.type,f.pendingProps,bs),v!==null?(f.stateNode=v,_i=f,is=ml(v.firstChild),bs=!1,A=!0):A=!1),A||Tc(f)),Re(f),A=f.type,k=f.pendingProps,X=l!==null?l.memoizedProps:null,v=k.children,l_(A,k)?v=null:X!==null&&l_(A,X)&&(f.flags|=32),f.memoizedState!==null&&(A=Qm(l,f,mw,null,null,h),_g._currentValue=A),av(l,f),aa(l,f,v,h),f.child;case 6:return l===null&&ir&&((l=h=is)&&(h=gz(h,f.pendingProps,bs),h!==null?(f.stateNode=h,_i=f,is=null,l=!0):l=!1),l||Tc(f)),null;case 13:return $N(l,f,h);case 4:return Pe(f,f.stateNode.containerInfo),v=f.pendingProps,l===null?f.child=as(f,null,v,h):aa(l,f,v,h),f.child;case 11:return ON(l,f,f.type,f.pendingProps,h);case 7:return aa(l,f,f.pendingProps,h),f.child;case 8:return aa(l,f,f.pendingProps.children,h),f.child;case 12:return aa(l,f,f.pendingProps.children,h),f.child;case 10:return v=f.pendingProps,Ac(f,f.type,v.value),aa(l,f,v.children,h),f.child;case 9:return A=f.type._context,v=f.pendingProps.children,Nc(f),A=Ti(A),v=v(A),f.flags|=1,aa(l,f,v,h),f.child;case 14:return BN(l,f,f.type,f.pendingProps,h);case 15:return VN(l,f,f.type,f.pendingProps,h);case 19:return KN(l,f,h);case 31:return BH(l,f,h);case 22:return UN(l,f,h,f.pendingProps);case 24:return Nc(f),v=Ti(Ps),l===null?(A=xe(),A===null&&(A=os,k=Af(),A.pooledCache=k,k.refCount++,k!==null&&(A.pooledCacheLanes|=h),A=k),f.memoizedState={parent:v,cache:A},Ft(f),Ac(f,Ps,A)):((l.lanes&h)!==0&&(ds(l,f),Os(f,null,null,h),Xr()),A=l.memoizedState,k=f.memoizedState,A.parent!==v?(A={parent:v,cache:v},f.memoizedState=A,f.lanes===0&&(f.memoizedState=f.updateQueue.baseState=A),Ac(f,Ps,v)):(v=k.cache,Ac(f,Ps,v),v!==A.cache&&Tu(f,[Ps],h,!0))),aa(l,f,f.pendingProps.children,h),f.child;case 29:throw f.pendingProps}throw Error(r(156,f.tag))}function Iu(l){l.flags|=4}function Lw(l,f,h,v,A){if((f=(l.mode&32)!==0)&&(f=!1),f){if(l.flags|=16777216,(A&335544128)===A)if(l.stateNode.complete)l.flags|=8192;else if(_4())l.flags|=8192;else throw lt=Ve,Ze}else l.flags&=-16777217}function XN(l,f){if(f.type!=="stylesheet"||(f.state.loading&4)!==0)l.flags&=-16777217;else if(l.flags|=16777216,!fI(f))if(_4())l.flags|=8192;else throw lt=Ve,Ze}function lv(l,f){f!==null&&(l.flags|=4),l.flags&16384&&(f=l.tag!==22?Li():536870912,l.lanes|=f,j0|=f)}function lg(l,f){if(!ir)switch(l.tailMode){case"hidden":f=l.tail;for(var h=null;f!==null;)f.alternate!==null&&(h=f),f=f.sibling;h===null?l.tail=null:h.sibling=null;break;case"collapsed":h=l.tail;for(var v=null;h!==null;)h.alternate!==null&&(v=h),h=h.sibling;v===null?f||l.tail===null?l.tail=null:l.tail.sibling=null:v.sibling=null}}function ms(l){var f=l.alternate!==null&&l.alternate.child===l.child,h=0,v=0;if(f)for(var A=l.child;A!==null;)h|=A.lanes|A.childLanes,v|=A.subtreeFlags&65011712,v|=A.flags&65011712,A.return=l,A=A.sibling;else for(A=l.child;A!==null;)h|=A.lanes|A.childLanes,v|=A.subtreeFlags,v|=A.flags,A.return=l,A=A.sibling;return l.subtreeFlags|=v,l.childLanes=h,f}function UH(l,f,h){var v=f.pendingProps;switch(T0(f),f.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ms(f),null;case 1:return ms(f),null;case 3:return h=f.stateNode,v=null,l!==null&&(v=l.memoizedState.cache),f.memoizedState.cache!==v&&(f.flags|=2048),mo(Ps),ee(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(l===null||l.child===null)&&(Ei(f)?Iu(f):l===null||l.memoizedState.isDehydrated&&(f.flags&256)===0||(f.flags|=1024,Xm())),ms(f),null;case 26:var A=f.type,k=f.memoizedState;return l===null?(Iu(f),k!==null?(ms(f),XN(f,k)):(ms(f),Lw(f,A,null,v,h))):k?k!==l.memoizedState?(Iu(f),ms(f),XN(f,k)):(ms(f),f.flags&=-16777217):(l=l.memoizedProps,l!==v&&Iu(f),ms(f),Lw(f,A,l,v,h)),null;case 27:if(He(f),h=ue.current,A=f.type,l!==null&&f.stateNode!=null)l.memoizedProps!==v&&Iu(f);else{if(!v){if(f.stateNode===null)throw Error(r(166));return ms(f),null}l=Y.current,Ei(f)?Ym(f):(l=rI(A,v,h),f.stateNode=l,Iu(f))}return ms(f),null;case 5:if(He(f),A=f.type,l!==null&&f.stateNode!=null)l.memoizedProps!==v&&Iu(f);else{if(!v){if(f.stateNode===null)throw Error(r(166));return ms(f),null}if(k=Y.current,Ei(f))Ym(f);else{var X=Ev(ue.current);switch(k){case 1:k=X.createElementNS("http://www.w3.org/2000/svg",A);break;case 2:k=X.createElementNS("http://www.w3.org/1998/Math/MathML",A);break;default:switch(A){case"svg":k=X.createElementNS("http://www.w3.org/2000/svg",A);break;case"math":k=X.createElementNS("http://www.w3.org/1998/Math/MathML",A);break;case"script":k=X.createElement("div"),k.innerHTML="<script><\/script>",k=k.removeChild(k.firstChild);break;case"select":k=typeof v.is=="string"?X.createElement("select",{is:v.is}):X.createElement("select"),v.multiple?k.multiple=!0:v.size&&(k.size=v.size);break;default:k=typeof v.is=="string"?X.createElement(A,{is:v.is}):X.createElement(A)}}k[be]=f,k[Te]=v;e:for(X=f.child;X!==null;){if(X.tag===5||X.tag===6)k.appendChild(X.stateNode);else if(X.tag!==4&&X.tag!==27&&X.child!==null){X.child.return=X,X=X.child;continue}if(X===f)break e;for(;X.sibling===null;){if(X.return===null||X.return===f)break e;X=X.return}X.sibling.return=X.return,X=X.sibling}f.stateNode=k;e:switch(oa(k,A,v),A){case"button":case"input":case"select":case"textarea":v=!!v.autoFocus;break e;case"img":v=!0;break e;default:v=!1}v&&Iu(f)}}return ms(f),Lw(f,f.type,l===null?null:l.memoizedProps,f.pendingProps,h),null;case 6:if(l&&f.stateNode!=null)l.memoizedProps!==v&&Iu(f);else{if(typeof v!="string"&&f.stateNode===null)throw Error(r(166));if(l=ue.current,Ei(f)){if(l=f.stateNode,h=f.memoizedProps,v=null,A=_i,A!==null)switch(A.tag){case 27:case 5:v=A.memoizedProps}l[be]=f,l=!!(l.nodeValue===h||v!==null&&v.suppressHydrationWarning===!0||$4(l.nodeValue,h)),l||Tc(f,!0)}else l=Ev(l).createTextNode(v),l[be]=f,f.stateNode=l}return ms(f),null;case 31:if(h=f.memoizedState,l===null||l.memoizedState!==null){if(v=Ei(f),h!==null){if(l===null){if(!v)throw Error(r(318));if(l=f.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(557));l[be]=f}else Eu(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;ms(f),l=!1}else h=Xm(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=h),l=!0;if(!l)return f.flags&256?(jr(f),f):(jr(f),null);if((f.flags&128)!==0)throw Error(r(558))}return ms(f),null;case 13:if(v=f.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(A=Ei(f),v!==null&&v.dehydrated!==null){if(l===null){if(!A)throw Error(r(318));if(A=f.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(r(317));A[be]=f}else Eu(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;ms(f),A=!1}else A=Xm(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=A),A=!0;if(!A)return f.flags&256?(jr(f),f):(jr(f),null)}return jr(f),(f.flags&128)!==0?(f.lanes=h,f):(h=v!==null,l=l!==null&&l.memoizedState!==null,h&&(v=f.child,A=null,v.alternate!==null&&v.alternate.memoizedState!==null&&v.alternate.memoizedState.cachePool!==null&&(A=v.alternate.memoizedState.cachePool.pool),k=null,v.memoizedState!==null&&v.memoizedState.cachePool!==null&&(k=v.memoizedState.cachePool.pool),k!==A&&(v.flags|=2048)),h!==l&&h&&(f.child.flags|=8192),lv(f,f.updateQueue),ms(f),null);case 4:return ee(),l===null&&r_(f.stateNode.containerInfo),ms(f),null;case 10:return mo(f.type),ms(f),null;case 19:if(B(mr),v=f.memoizedState,v===null)return ms(f),null;if(A=(f.flags&128)!==0,k=v.rendering,k===null)if(A)lg(v,!1);else{if(qs!==0||l!==null&&(l.flags&128)!==0)for(l=f.child;l!==null;){if(k=Hi(l),k!==null){for(f.flags|=128,lg(v,!1),l=k.updateQueue,f.updateQueue=l,lv(f,l),f.subtreeFlags=0,l=h,h=f.child;h!==null;)Kd(h,l),h=h.sibling;return K(mr,mr.current&1|2),ir&&za(f,v.treeForkCount),f.child}l=l.sibling}v.tail!==null&&Jt()>hv&&(f.flags|=128,A=!0,lg(v,!1),f.lanes=4194304)}else{if(!A)if(l=Hi(k),l!==null){if(f.flags|=128,A=!0,l=l.updateQueue,f.updateQueue=l,lv(f,l),lg(v,!0),v.tail===null&&v.tailMode==="hidden"&&!k.alternate&&!ir)return ms(f),null}else 2*Jt()-v.renderingStartTime>hv&&h!==536870912&&(f.flags|=128,A=!0,lg(v,!1),f.lanes=4194304);v.isBackwards?(k.sibling=f.child,f.child=k):(l=v.last,l!==null?l.sibling=k:f.child=k,v.last=k)}return v.tail!==null?(l=v.tail,v.rendering=l,v.tail=l.sibling,v.renderingStartTime=Jt(),l.sibling=null,h=mr.current,K(mr,A?h&1|2:h&1),ir&&za(f,v.treeForkCount),l):(ms(f),null);case 22:case 23:return jr(f),Qs(),v=f.memoizedState!==null,l!==null?l.memoizedState!==null!==v&&(f.flags|=8192):v&&(f.flags|=8192),v?(h&536870912)!==0&&(f.flags&128)===0&&(ms(f),f.subtreeFlags&6&&(f.flags|=8192)):ms(f),h=f.updateQueue,h!==null&&lv(f,h.retryQueue),h=null,l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(h=l.memoizedState.cachePool.pool),v=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(v=f.memoizedState.cachePool.pool),v!==h&&(f.flags|=2048),l!==null&&B(fe),null;case 24:return h=null,l!==null&&(h=l.memoizedState.cache),f.memoizedState.cache!==h&&(f.flags|=2048),mo(Ps),ms(f),null;case 25:return null;case 30:return null}throw Error(r(156,f.tag))}function jH(l,f){switch(T0(f),f.tag){case 1:return l=f.flags,l&65536?(f.flags=l&-65537|128,f):null;case 3:return mo(Ps),ee(),l=f.flags,(l&65536)!==0&&(l&128)===0?(f.flags=l&-65537|128,f):null;case 26:case 27:case 5:return He(f),null;case 31:if(f.memoizedState!==null){if(jr(f),f.alternate===null)throw Error(r(340));Eu()}return l=f.flags,l&65536?(f.flags=l&-65537|128,f):null;case 13:if(jr(f),l=f.memoizedState,l!==null&&l.dehydrated!==null){if(f.alternate===null)throw Error(r(340));Eu()}return l=f.flags,l&65536?(f.flags=l&-65537|128,f):null;case 19:return B(mr),null;case 4:return ee(),null;case 10:return mo(f.type),null;case 22:case 23:return jr(f),Qs(),l!==null&&B(fe),l=f.flags,l&65536?(f.flags=l&-65537|128,f):null;case 24:return mo(Ps),null;case 25:return null;default:return null}}function JN(l,f){switch(T0(f),f.tag){case 3:mo(Ps),ee();break;case 26:case 27:case 5:He(f);break;case 4:ee();break;case 31:f.memoizedState!==null&&jr(f);break;case 13:jr(f);break;case 19:B(mr);break;case 10:mo(f.type);break;case 22:case 23:jr(f),Qs(),l!==null&&B(fe);break;case 24:mo(Ps)}}function cg(l,f){try{var h=f.updateQueue,v=h!==null?h.lastEffect:null;if(v!==null){var A=v.next;h=A;do{if((h.tag&l)===l){v=void 0;var k=h.create,X=h.inst;v=k(),X.destroy=v}h=h.next}while(h!==A)}}catch(me){Hr(f,f.return,me)}}function Rf(l,f,h){try{var v=f.updateQueue,A=v!==null?v.lastEffect:null;if(A!==null){var k=A.next;v=k;do{if((v.tag&l)===l){var X=v.inst,me=X.destroy;if(me!==void 0){X.destroy=void 0,A=f;var De=h,tt=me;try{tt()}catch(dt){Hr(A,De,dt)}}}v=v.next}while(v!==k)}}catch(dt){Hr(f,f.return,dt)}}function QN(l){var f=l.updateQueue;if(f!==null){var h=l.stateNode;try{Bs(f,h)}catch(v){Hr(l,l.return,v)}}}function ZN(l,f,h){h.props=th(l.type,l.memoizedProps),h.state=l.memoizedState;try{h.componentWillUnmount()}catch(v){Hr(l,f,v)}}function ug(l,f){try{var h=l.ref;if(h!==null){switch(l.tag){case 26:case 27:case 5:var v=l.stateNode;break;case 30:v=l.stateNode;break;default:v=l.stateNode}typeof h=="function"?l.refCleanup=h(v):h.current=v}}catch(A){Hr(l,f,A)}}function Dc(l,f){var h=l.ref,v=l.refCleanup;if(h!==null)if(typeof v=="function")try{v()}catch(A){Hr(l,f,A)}finally{l.refCleanup=null,l=l.alternate,l!=null&&(l.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(A){Hr(l,f,A)}else h.current=null}function e4(l){var f=l.type,h=l.memoizedProps,v=l.stateNode;try{e:switch(f){case"button":case"input":case"select":case"textarea":h.autoFocus&&v.focus();break e;case"img":h.src?v.src=h.src:h.srcSet&&(v.srcset=h.srcSet)}}catch(A){Hr(l,l.return,A)}}function Fw(l,f,h){try{var v=l.stateNode;cz(v,l.type,h,f),v[Te]=f}catch(A){Hr(l,l.return,A)}}function t4(l){return l.tag===5||l.tag===3||l.tag===26||l.tag===27&&Bf(l.type)||l.tag===4}function Ow(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||t4(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.tag===27&&Bf(l.type)||l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function Bw(l,f,h){var v=l.tag;if(v===5||v===6)l=l.stateNode,f?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(l,f):(f=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,f.appendChild(l),h=h._reactRootContainer,h!=null||f.onclick!==null||(f.onclick=Oa));else if(v!==4&&(v===27&&Bf(l.type)&&(h=l.stateNode,f=null),l=l.child,l!==null))for(Bw(l,f,h),l=l.sibling;l!==null;)Bw(l,f,h),l=l.sibling}function cv(l,f,h){var v=l.tag;if(v===5||v===6)l=l.stateNode,f?h.insertBefore(l,f):h.appendChild(l);else if(v!==4&&(v===27&&Bf(l.type)&&(h=l.stateNode),l=l.child,l!==null))for(cv(l,f,h),l=l.sibling;l!==null;)cv(l,f,h),l=l.sibling}function n4(l){var f=l.stateNode,h=l.memoizedProps;try{for(var v=l.type,A=f.attributes;A.length;)f.removeAttributeNode(A[0]);oa(f,v,h),f[be]=l,f[Te]=h}catch(k){Hr(l,l.return,k)}}var ku=!1,ci=!1,Vw=!1,r4=typeof WeakSet=="function"?WeakSet:Set,zi=null;function qH(l,f){if(l=l.containerInfo,a_=kv,l=jl(l),ul(l)){if("selectionStart"in l)var h={start:l.selectionStart,end:l.selectionEnd};else e:{h=(h=l.ownerDocument)&&h.defaultView||window;var v=h.getSelection&&h.getSelection();if(v&&v.rangeCount!==0){h=v.anchorNode;var A=v.anchorOffset,k=v.focusNode;v=v.focusOffset;try{h.nodeType,k.nodeType}catch{h=null;break e}var X=0,me=-1,De=-1,tt=0,dt=0,gt=l,rt=null;t:for(;;){for(var ot;gt!==h||A!==0&&gt.nodeType!==3||(me=X+A),gt!==k||v!==0&&gt.nodeType!==3||(De=X+v),gt.nodeType===3&&(X+=gt.nodeValue.length),(ot=gt.firstChild)!==null;)rt=gt,gt=ot;for(;;){if(gt===l)break t;if(rt===h&&++tt===A&&(me=X),rt===k&&++dt===v&&(De=X),(ot=gt.nextSibling)!==null)break;gt=rt,rt=gt.parentNode}gt=ot}h=me===-1||De===-1?null:{start:me,end:De}}else h=null}h=h||{start:0,end:0}}else h=null;for(o_={focusedElem:l,selectionRange:h},kv=!1,zi=f;zi!==null;)if(f=zi,l=f.child,(f.subtreeFlags&1028)!==0&&l!==null)l.return=f,zi=l;else for(;zi!==null;){switch(f=zi,k=f.alternate,l=f.flags,f.tag){case 0:if((l&4)!==0&&(l=f.updateQueue,l=l!==null?l.events:null,l!==null))for(h=0;h<l.length;h++)A=l[h],A.ref.impl=A.nextImpl;break;case 11:case 15:break;case 1:if((l&1024)!==0&&k!==null){l=void 0,h=f,A=k.memoizedProps,k=k.memoizedState,v=h.stateNode;try{var nn=th(h.type,A);l=v.getSnapshotBeforeUpdate(nn,k),v.__reactInternalSnapshotBeforeUpdate=l}catch(In){Hr(h,h.return,In)}}break;case 3:if((l&1024)!==0){if(l=f.stateNode.containerInfo,h=l.nodeType,h===9)u_(l);else if(h===1)switch(l.nodeName){case"HEAD":case"HTML":case"BODY":u_(l);break;default:l.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((l&1024)!==0)throw Error(r(163))}if(l=f.sibling,l!==null){l.return=f.return,zi=l;break}zi=f.return}}function s4(l,f,h){var v=h.flags;switch(h.tag){case 0:case 11:case 15:Pu(l,h),v&4&&cg(5,h);break;case 1:if(Pu(l,h),v&4)if(l=h.stateNode,f===null)try{l.componentDidMount()}catch(X){Hr(h,h.return,X)}else{var A=th(h.type,f.memoizedProps);f=f.memoizedState;try{l.componentDidUpdate(A,f,l.__reactInternalSnapshotBeforeUpdate)}catch(X){Hr(h,h.return,X)}}v&64&&QN(h),v&512&&ug(h,h.return);break;case 3:if(Pu(l,h),v&64&&(l=h.updateQueue,l!==null)){if(f=null,h.child!==null)switch(h.child.tag){case 27:case 5:f=h.child.stateNode;break;case 1:f=h.child.stateNode}try{Bs(l,f)}catch(X){Hr(h,h.return,X)}}break;case 27:f===null&&v&4&&n4(h);case 26:case 5:Pu(l,h),f===null&&v&4&&e4(h),v&512&&ug(h,h.return);break;case 12:Pu(l,h);break;case 31:Pu(l,h),v&4&&o4(l,h);break;case 13:Pu(l,h),v&4&&l4(l,h),v&64&&(l=h.memoizedState,l!==null&&(l=l.dehydrated,l!==null&&(h=JH.bind(null,h),xz(l,h))));break;case 22:if(v=h.memoizedState!==null||ku,!v){f=f!==null&&f.memoizedState!==null||ci,A=ku;var k=ci;ku=v,(ci=f)&&!k?Du(l,h,(h.subtreeFlags&8772)!==0):Pu(l,h),ku=A,ci=k}break;case 30:break;default:Pu(l,h)}}function i4(l){var f=l.alternate;f!==null&&(l.alternate=null,i4(f)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(f=l.stateNode,f!==null&&bt(f)),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}var Es=null,xo=!1;function Ru(l,f,h){for(h=h.child;h!==null;)a4(l,f,h),h=h.sibling}function a4(l,f,h){if(Ct&&typeof Ct.onCommitFiberUnmount=="function")try{Ct.onCommitFiberUnmount(Ot,h)}catch{}switch(h.tag){case 26:ci||Dc(h,f),Ru(l,f,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:ci||Dc(h,f);var v=Es,A=xo;Bf(h.type)&&(Es=h.stateNode,xo=!1),Ru(l,f,h),yg(h.stateNode),Es=v,xo=A;break;case 5:ci||Dc(h,f);case 6:if(v=Es,A=xo,Es=null,Ru(l,f,h),Es=v,xo=A,Es!==null)if(xo)try{(Es.nodeType===9?Es.body:Es.nodeName==="HTML"?Es.ownerDocument.body:Es).removeChild(h.stateNode)}catch(k){Hr(h,f,k)}else try{Es.removeChild(h.stateNode)}catch(k){Hr(h,f,k)}break;case 18:Es!==null&&(xo?(l=Es,Q4(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,h.stateNode),Y0(l)):Q4(Es,h.stateNode));break;case 4:v=Es,A=xo,Es=h.stateNode.containerInfo,xo=!0,Ru(l,f,h),Es=v,xo=A;break;case 0:case 11:case 14:case 15:Rf(2,h,f),ci||Rf(4,h,f),Ru(l,f,h);break;case 1:ci||(Dc(h,f),v=h.stateNode,typeof v.componentWillUnmount=="function"&&ZN(h,f,v)),Ru(l,f,h);break;case 21:Ru(l,f,h);break;case 22:ci=(v=ci)||h.memoizedState!==null,Ru(l,f,h),ci=v;break;default:Ru(l,f,h)}}function o4(l,f){if(f.memoizedState===null&&(l=f.alternate,l!==null&&(l=l.memoizedState,l!==null))){l=l.dehydrated;try{Y0(l)}catch(h){Hr(f,f.return,h)}}}function l4(l,f){if(f.memoizedState===null&&(l=f.alternate,l!==null&&(l=l.memoizedState,l!==null&&(l=l.dehydrated,l!==null))))try{Y0(l)}catch(h){Hr(f,f.return,h)}}function HH(l){switch(l.tag){case 31:case 13:case 19:var f=l.stateNode;return f===null&&(f=l.stateNode=new r4),f;case 22:return l=l.stateNode,f=l._retryCache,f===null&&(f=l._retryCache=new r4),f;default:throw Error(r(435,l.tag))}}function uv(l,f){var h=HH(l);f.forEach(function(v){if(!h.has(v)){h.add(v);var A=QH.bind(null,l,v);v.then(A,A)}})}function vo(l,f){var h=f.deletions;if(h!==null)for(var v=0;v<h.length;v++){var A=h[v],k=l,X=f,me=X;e:for(;me!==null;){switch(me.tag){case 27:if(Bf(me.type)){Es=me.stateNode,xo=!1;break e}break;case 5:Es=me.stateNode,xo=!1;break e;case 3:case 4:Es=me.stateNode.containerInfo,xo=!0;break e}me=me.return}if(Es===null)throw Error(r(160));a4(k,X,A),Es=null,xo=!1,k=A.alternate,k!==null&&(k.return=null),A.return=null}if(f.subtreeFlags&13886)for(f=f.child;f!==null;)c4(f,l),f=f.sibling}var Yl=null;function c4(l,f){var h=l.alternate,v=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:vo(f,l),yo(l),v&4&&(Rf(3,l,l.return),cg(3,l),Rf(5,l,l.return));break;case 1:vo(f,l),yo(l),v&512&&(ci||h===null||Dc(h,h.return)),v&64&&ku&&(l=l.updateQueue,l!==null&&(v=l.callbacks,v!==null&&(h=l.shared.hiddenCallbacks,l.shared.hiddenCallbacks=h===null?v:h.concat(v))));break;case 26:var A=Yl;if(vo(f,l),yo(l),v&512&&(ci||h===null||Dc(h,h.return)),v&4){var k=h!==null?h.memoizedState:null;if(v=l.memoizedState,h===null)if(v===null)if(l.stateNode===null){e:{v=l.type,h=l.memoizedProps,A=A.ownerDocument||A;t:switch(v){case"title":k=A.getElementsByTagName("title")[0],(!k||k[Qe]||k[be]||k.namespaceURI==="http://www.w3.org/2000/svg"||k.hasAttribute("itemprop"))&&(k=A.createElement(v),A.head.insertBefore(k,A.querySelector("head > title"))),oa(k,v,h),k[be]=l,Yt(k),v=k;break e;case"link":var X=cI("link","href",A).get(v+(h.href||""));if(X){for(var me=0;me<X.length;me++)if(k=X[me],k.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&k.getAttribute("rel")===(h.rel==null?null:h.rel)&&k.getAttribute("title")===(h.title==null?null:h.title)&&k.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){X.splice(me,1);break t}}k=A.createElement(v),oa(k,v,h),A.head.appendChild(k);break;case"meta":if(X=cI("meta","content",A).get(v+(h.content||""))){for(me=0;me<X.length;me++)if(k=X[me],k.getAttribute("content")===(h.content==null?null:""+h.content)&&k.getAttribute("name")===(h.name==null?null:h.name)&&k.getAttribute("property")===(h.property==null?null:h.property)&&k.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&k.getAttribute("charset")===(h.charSet==null?null:h.charSet)){X.splice(me,1);break t}}k=A.createElement(v),oa(k,v,h),A.head.appendChild(k);break;default:throw Error(r(468,v))}k[be]=l,Yt(k),v=k}l.stateNode=v}else uI(A,l.type,l.stateNode);else l.stateNode=lI(A,v,l.memoizedProps);else k!==v?(k===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):k.count--,v===null?uI(A,l.type,l.stateNode):lI(A,v,l.memoizedProps)):v===null&&l.stateNode!==null&&Fw(l,l.memoizedProps,h.memoizedProps)}break;case 27:vo(f,l),yo(l),v&512&&(ci||h===null||Dc(h,h.return)),h!==null&&v&4&&Fw(l,l.memoizedProps,h.memoizedProps);break;case 5:if(vo(f,l),yo(l),v&512&&(ci||h===null||Dc(h,h.return)),l.flags&32){A=l.stateNode;try{Ys(A,"")}catch(nn){Hr(l,l.return,nn)}}v&4&&l.stateNode!=null&&(A=l.memoizedProps,Fw(l,A,h!==null?h.memoizedProps:A)),v&1024&&(Vw=!0);break;case 6:if(vo(f,l),yo(l),v&4){if(l.stateNode===null)throw Error(r(162));v=l.memoizedProps,h=l.stateNode;try{h.nodeValue=v}catch(nn){Hr(l,l.return,nn)}}break;case 3:if(Av=null,A=Yl,Yl=Tv(f.containerInfo),vo(f,l),Yl=A,yo(l),v&4&&h!==null&&h.memoizedState.isDehydrated)try{Y0(f.containerInfo)}catch(nn){Hr(l,l.return,nn)}Vw&&(Vw=!1,u4(l));break;case 4:v=Yl,Yl=Tv(l.stateNode.containerInfo),vo(f,l),yo(l),Yl=v;break;case 12:vo(f,l),yo(l);break;case 31:vo(f,l),yo(l),v&4&&(v=l.updateQueue,v!==null&&(l.updateQueue=null,uv(l,v)));break;case 13:vo(f,l),yo(l),l.child.flags&8192&&l.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(dv=Jt()),v&4&&(v=l.updateQueue,v!==null&&(l.updateQueue=null,uv(l,v)));break;case 22:A=l.memoizedState!==null;var De=h!==null&&h.memoizedState!==null,tt=ku,dt=ci;if(ku=tt||A,ci=dt||De,vo(f,l),ci=dt,ku=tt,yo(l),v&8192)e:for(f=l.stateNode,f._visibility=A?f._visibility&-2:f._visibility|1,A&&(h===null||De||ku||ci||nh(l)),h=null,f=l;;){if(f.tag===5||f.tag===26){if(h===null){De=h=f;try{if(k=De.stateNode,A)X=k.style,typeof X.setProperty=="function"?X.setProperty("display","none","important"):X.display="none";else{me=De.stateNode;var gt=De.memoizedProps.style,rt=gt!=null&&gt.hasOwnProperty("display")?gt.display:null;me.style.display=rt==null||typeof rt=="boolean"?"":(""+rt).trim()}}catch(nn){Hr(De,De.return,nn)}}}else if(f.tag===6){if(h===null){De=f;try{De.stateNode.nodeValue=A?"":De.memoizedProps}catch(nn){Hr(De,De.return,nn)}}}else if(f.tag===18){if(h===null){De=f;try{var ot=De.stateNode;A?Z4(ot,!0):Z4(De.stateNode,!1)}catch(nn){Hr(De,De.return,nn)}}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===l)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===l)break e;for(;f.sibling===null;){if(f.return===null||f.return===l)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}v&4&&(v=l.updateQueue,v!==null&&(h=v.retryQueue,h!==null&&(v.retryQueue=null,uv(l,h))));break;case 19:vo(f,l),yo(l),v&4&&(v=l.updateQueue,v!==null&&(l.updateQueue=null,uv(l,v)));break;case 30:break;case 21:break;default:vo(f,l),yo(l)}}function yo(l){var f=l.flags;if(f&2){try{for(var h,v=l.return;v!==null;){if(t4(v)){h=v;break}v=v.return}if(h==null)throw Error(r(160));switch(h.tag){case 27:var A=h.stateNode,k=Ow(l);cv(l,k,A);break;case 5:var X=h.stateNode;h.flags&32&&(Ys(X,""),h.flags&=-33);var me=Ow(l);cv(l,me,X);break;case 3:case 4:var De=h.stateNode.containerInfo,tt=Ow(l);Bw(l,tt,De);break;default:throw Error(r(161))}}catch(dt){Hr(l,l.return,dt)}l.flags&=-3}f&4096&&(l.flags&=-4097)}function u4(l){if(l.subtreeFlags&1024)for(l=l.child;l!==null;){var f=l;u4(f),f.tag===5&&f.flags&1024&&f.stateNode.reset(),l=l.sibling}}function Pu(l,f){if(f.subtreeFlags&8772)for(f=f.child;f!==null;)s4(l,f.alternate,f),f=f.sibling}function nh(l){for(l=l.child;l!==null;){var f=l;switch(f.tag){case 0:case 11:case 14:case 15:Rf(4,f,f.return),nh(f);break;case 1:Dc(f,f.return);var h=f.stateNode;typeof h.componentWillUnmount=="function"&&ZN(f,f.return,h),nh(f);break;case 27:yg(f.stateNode);case 26:case 5:Dc(f,f.return),nh(f);break;case 22:f.memoizedState===null&&nh(f);break;case 30:nh(f);break;default:nh(f)}l=l.sibling}}function Du(l,f,h){for(h=h&&(f.subtreeFlags&8772)!==0,f=f.child;f!==null;){var v=f.alternate,A=l,k=f,X=k.flags;switch(k.tag){case 0:case 11:case 15:Du(A,k,h),cg(4,k);break;case 1:if(Du(A,k,h),v=k,A=v.stateNode,typeof A.componentDidMount=="function")try{A.componentDidMount()}catch(tt){Hr(v,v.return,tt)}if(v=k,A=v.updateQueue,A!==null){var me=v.stateNode;try{var De=A.shared.hiddenCallbacks;if(De!==null)for(A.shared.hiddenCallbacks=null,A=0;A<De.length;A++)qi(De[A],me)}catch(tt){Hr(v,v.return,tt)}}h&&X&64&&QN(k),ug(k,k.return);break;case 27:n4(k);case 26:case 5:Du(A,k,h),h&&v===null&&X&4&&e4(k),ug(k,k.return);break;case 12:Du(A,k,h);break;case 31:Du(A,k,h),h&&X&4&&o4(A,k);break;case 13:Du(A,k,h),h&&X&4&&l4(A,k);break;case 22:k.memoizedState===null&&Du(A,k,h),ug(k,k.return);break;case 30:break;default:Du(A,k,h)}f=f.sibling}}function Uw(l,f){var h=null;l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(h=l.memoizedState.cachePool.pool),l=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(l=f.memoizedState.cachePool.pool),l!==h&&(l!=null&&l.refCount++,h!=null&&Jd(h))}function jw(l,f){l=null,f.alternate!==null&&(l=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==l&&(f.refCount++,l!=null&&Jd(l))}function Xl(l,f,h,v){if(f.subtreeFlags&10256)for(f=f.child;f!==null;)f4(l,f,h,v),f=f.sibling}function f4(l,f,h,v){var A=f.flags;switch(f.tag){case 0:case 11:case 15:Xl(l,f,h,v),A&2048&&cg(9,f);break;case 1:Xl(l,f,h,v);break;case 3:Xl(l,f,h,v),A&2048&&(l=null,f.alternate!==null&&(l=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==l&&(f.refCount++,l!=null&&Jd(l)));break;case 12:if(A&2048){Xl(l,f,h,v),l=f.stateNode;try{var k=f.memoizedProps,X=k.id,me=k.onPostCommit;typeof me=="function"&&me(X,f.alternate===null?"mount":"update",l.passiveEffectDuration,-0)}catch(De){Hr(f,f.return,De)}}else Xl(l,f,h,v);break;case 31:Xl(l,f,h,v);break;case 13:Xl(l,f,h,v);break;case 23:break;case 22:k=f.stateNode,X=f.alternate,f.memoizedState!==null?k._visibility&2?Xl(l,f,h,v):fg(l,f):k._visibility&2?Xl(l,f,h,v):(k._visibility|=2,B0(l,f,h,v,(f.subtreeFlags&10256)!==0||!1)),A&2048&&Uw(X,f);break;case 24:Xl(l,f,h,v),A&2048&&jw(f.alternate,f);break;default:Xl(l,f,h,v)}}function B0(l,f,h,v,A){for(A=A&&((f.subtreeFlags&10256)!==0||!1),f=f.child;f!==null;){var k=l,X=f,me=h,De=v,tt=X.flags;switch(X.tag){case 0:case 11:case 15:B0(k,X,me,De,A),cg(8,X);break;case 23:break;case 22:var dt=X.stateNode;X.memoizedState!==null?dt._visibility&2?B0(k,X,me,De,A):fg(k,X):(dt._visibility|=2,B0(k,X,me,De,A)),A&&tt&2048&&Uw(X.alternate,X);break;case 24:B0(k,X,me,De,A),A&&tt&2048&&jw(X.alternate,X);break;default:B0(k,X,me,De,A)}f=f.sibling}}function fg(l,f){if(f.subtreeFlags&10256)for(f=f.child;f!==null;){var h=l,v=f,A=v.flags;switch(v.tag){case 22:fg(h,v),A&2048&&Uw(v.alternate,v);break;case 24:fg(h,v),A&2048&&jw(v.alternate,v);break;default:fg(h,v)}f=f.sibling}}var dg=8192;function V0(l,f,h){if(l.subtreeFlags&dg)for(l=l.child;l!==null;)d4(l,f,h),l=l.sibling}function d4(l,f,h){switch(l.tag){case 26:V0(l,f,h),l.flags&dg&&l.memoizedState!==null&&Iz(h,Yl,l.memoizedState,l.memoizedProps);break;case 5:V0(l,f,h);break;case 3:case 4:var v=Yl;Yl=Tv(l.stateNode.containerInfo),V0(l,f,h),Yl=v;break;case 22:l.memoizedState===null&&(v=l.alternate,v!==null&&v.memoizedState!==null?(v=dg,dg=16777216,V0(l,f,h),dg=v):V0(l,f,h));break;default:V0(l,f,h)}}function h4(l){var f=l.alternate;if(f!==null&&(l=f.child,l!==null)){f.child=null;do f=l.sibling,l.sibling=null,l=f;while(l!==null)}}function hg(l){var f=l.deletions;if((l.flags&16)!==0){if(f!==null)for(var h=0;h<f.length;h++){var v=f[h];zi=v,m4(v,l)}h4(l)}if(l.subtreeFlags&10256)for(l=l.child;l!==null;)p4(l),l=l.sibling}function p4(l){switch(l.tag){case 0:case 11:case 15:hg(l),l.flags&2048&&Rf(9,l,l.return);break;case 3:hg(l);break;case 12:hg(l);break;case 22:var f=l.stateNode;l.memoizedState!==null&&f._visibility&2&&(l.return===null||l.return.tag!==13)?(f._visibility&=-3,fv(l)):hg(l);break;default:hg(l)}}function fv(l){var f=l.deletions;if((l.flags&16)!==0){if(f!==null)for(var h=0;h<f.length;h++){var v=f[h];zi=v,m4(v,l)}h4(l)}for(l=l.child;l!==null;){switch(f=l,f.tag){case 0:case 11:case 15:Rf(8,f,f.return),fv(f);break;case 22:h=f.stateNode,h._visibility&2&&(h._visibility&=-3,fv(f));break;default:fv(f)}l=l.sibling}}function m4(l,f){for(;zi!==null;){var h=zi;switch(h.tag){case 0:case 11:case 15:Rf(8,h,f);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var v=h.memoizedState.cachePool.pool;v!=null&&v.refCount++}break;case 24:Jd(h.memoizedState.cache)}if(v=h.child,v!==null)v.return=h,zi=v;else e:for(h=l;zi!==null;){v=zi;var A=v.sibling,k=v.return;if(i4(v),v===h){zi=null;break e}if(A!==null){A.return=k,zi=A;break e}zi=k}}}var zH={getCacheForType:function(l){var f=Ti(Ps),h=f.data.get(l);return h===void 0&&(h=l(),f.data.set(l,h)),h},cacheSignal:function(){return Ti(Ps).controller.signal}},GH=typeof WeakMap=="function"?WeakMap:Map,Or=0,os=null,ar=null,fr=0,qr=0,Vo=null,Pf=!1,U0=!1,qw=!1,Mu=0,qs=0,Df=0,rh=0,Hw=0,Uo=0,j0=0,pg=null,bo=null,zw=!1,dv=0,g4=0,hv=1/0,pv=null,Mf=null,Ai=0,Lf=null,q0=null,Lu=0,Gw=0,$w=null,x4=null,mg=0,Ww=null;function jo(){return(Or&2)!==0&&fr!==0?fr&-fr:ae.T!==null?Zw():se()}function v4(){if(Uo===0)if((fr&536870912)===0||ir){var l=cr;cr<<=1,(cr&3932160)===0&&(cr=262144),Uo=l}else Uo=536870912;return l=ps.current,l!==null&&(l.flags|=32),Uo}function wo(l,f,h){(l===os&&(qr===2||qr===9)||l.cancelPendingCommit!==null)&&(H0(l,0),Ff(l,fr,Uo,!1)),hn(l,h),((Or&2)===0||l!==os)&&(l===os&&((Or&2)===0&&(rh|=h),qs===4&&Ff(l,fr,Uo,!1)),Mc(l))}function y4(l,f,h){if((Or&6)!==0)throw Error(r(327));var v=!h&&(f&127)===0&&(f&l.expiredLanes)===0||us(l,f),A=v?KH(l,f):Yw(l,f,!0),k=v;do{if(A===0){U0&&!v&&Ff(l,f,0,!1);break}else{if(h=l.current.alternate,k&&!$H(h)){A=Yw(l,f,!1),k=!1;continue}if(A===2){if(k=f,l.errorRecoveryDisabledLanes&k)var X=0;else X=l.pendingLanes&-536870913,X=X!==0?X:X&536870912?536870912:0;if(X!==0){f=X;e:{var me=l;A=pg;var De=me.current.memoizedState.isDehydrated;if(De&&(H0(me,X).flags|=256),X=Yw(me,X,!1),X!==2){if(qw&&!De){me.errorRecoveryDisabledLanes|=k,rh|=k,A=4;break e}k=bo,bo=A,k!==null&&(bo===null?bo=k:bo.push.apply(bo,k))}A=X}if(k=!1,A!==2)continue}}if(A===1){H0(l,0),Ff(l,f,0,!0);break}e:{switch(v=l,k=A,k){case 0:case 1:throw Error(r(345));case 4:if((f&4194048)!==f)break;case 6:Ff(v,f,Uo,!Pf);break e;case 2:bo=null;break;case 3:case 5:break;default:throw Error(r(329))}if((f&62914560)===f&&(A=dv+300-Jt(),10<A)){if(Ff(v,f,Uo,!Pf),On(v,0,!0)!==0)break e;Lu=f,v.timeoutHandle=X4(b4.bind(null,v,h,bo,pv,zw,f,Uo,rh,j0,Pf,k,"Throttled",-0,0),A);break e}b4(v,h,bo,pv,zw,f,Uo,rh,j0,Pf,k,null,-0,0)}}break}while(!0);Mc(l)}function b4(l,f,h,v,A,k,X,me,De,tt,dt,gt,rt,ot){if(l.timeoutHandle=-1,gt=f.subtreeFlags,gt&8192||(gt&16785408)===16785408){gt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Oa},d4(f,k,gt);var nn=(k&62914560)===k?dv-Jt():(k&4194048)===k?g4-Jt():0;if(nn=kz(gt,nn),nn!==null){Lu=k,l.cancelPendingCommit=nn(N4.bind(null,l,f,k,h,v,A,X,me,De,dt,gt,null,rt,ot)),Ff(l,k,X,!tt);return}}N4(l,f,k,h,v,A,X,me,De)}function $H(l){for(var f=l;;){var h=f.tag;if((h===0||h===11||h===15)&&f.flags&16384&&(h=f.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var v=0;v<h.length;v++){var A=h[v],k=A.getSnapshot;A=A.value;try{if(!bi(k(),A))return!1}catch{return!1}}if(h=f.child,f.subtreeFlags&16384&&h!==null)h.return=f,f=h;else{if(f===l)break;for(;f.sibling===null;){if(f.return===null||f.return===l)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function Ff(l,f,h,v){f&=~Hw,f&=~rh,l.suspendedLanes|=f,l.pingedLanes&=~f,v&&(l.warmLanes|=f),v=l.expirationTimes;for(var A=f;0<A;){var k=31-vn(A),X=1<<k;v[k]=-1,A&=~X}h!==0&&Mt(l,h,f)}function mv(){return(Or&6)===0?(gg(0),!1):!0}function Kw(){if(ar!==null){if(qr===0)var l=ar.return;else l=ar,dl=Sc=null,R0(l),xt=null,sn=0,l=ar;for(;l!==null;)JN(l.alternate,l),l=l.return;ar=null}}function H0(l,f){var h=l.timeoutHandle;h!==-1&&(l.timeoutHandle=-1,dz(h)),h=l.cancelPendingCommit,h!==null&&(l.cancelPendingCommit=null,h()),Lu=0,Kw(),os=l,ar=h=lo(l.current,null),fr=f,qr=0,Vo=null,Pf=!1,U0=us(l,f),qw=!1,j0=Uo=Hw=rh=Df=qs=0,bo=pg=null,zw=!1,(f&8)!==0&&(f|=f&32);var v=l.entangledLanes;if(v!==0)for(l=l.entanglements,v&=f;0<v;){var A=31-vn(v),k=1<<A;f|=l[A],v&=~k}return Mu=f,Gd(),h}function w4(l,f){_n=null,ae.H=ag,f===Le||f===Ce?(f=ht(),qr=3):f===Ze?(f=ht(),qr=4):qr=f===Aw?8:f!==null&&typeof f=="object"&&typeof f.then=="function"?6:1,Vo=f,ar===null&&(qs=1,sv(l,co(f,l.current)))}function _4(){var l=ps.current;return l===null?!0:(fr&4194048)===fr?br===null:(fr&62914560)===fr||(fr&536870912)!==0?l===br:!1}function E4(){var l=ae.H;return ae.H=ag,l===null?ag:l}function T4(){var l=ae.A;return ae.A=zH,l}function gv(){qs=4,Pf||(fr&4194048)!==fr&&ps.current!==null||(U0=!0),(Df&134217727)===0&&(rh&134217727)===0||os===null||Ff(os,fr,Uo,!1)}function Yw(l,f,h){var v=Or;Or|=2;var A=E4(),k=T4();(os!==l||fr!==f)&&(pv=null,H0(l,f)),f=!1;var X=qs;e:do try{if(qr!==0&&ar!==null){var me=ar,De=Vo;switch(qr){case 8:Kw(),X=6;break e;case 3:case 2:case 9:case 6:ps.current===null&&(f=!0);var tt=qr;if(qr=0,Vo=null,z0(l,me,De,tt),h&&U0){X=0;break e}break;default:tt=qr,qr=0,Vo=null,z0(l,me,De,tt)}}WH(),X=qs;break}catch(dt){w4(l,dt)}while(!0);return f&&l.shellSuspendCounter++,dl=Sc=null,Or=v,ae.H=A,ae.A=k,ar===null&&(os=null,fr=0,Gd()),X}function WH(){for(;ar!==null;)S4(ar)}function KH(l,f){var h=Or;Or|=2;var v=E4(),A=T4();os!==l||fr!==f?(pv=null,hv=Jt()+500,H0(l,f)):U0=us(l,f);e:do try{if(qr!==0&&ar!==null){f=ar;var k=Vo;t:switch(qr){case 1:qr=0,Vo=null,z0(l,f,k,1);break;case 2:case 9:if(Ye(k)){qr=0,Vo=null,A4(f);break}f=function(){qr!==2&&qr!==9||os!==l||(qr=7),Mc(l)},k.then(f,f);break e;case 3:qr=7;break e;case 4:qr=5;break e;case 7:Ye(k)?(qr=0,Vo=null,A4(f)):(qr=0,Vo=null,z0(l,f,k,7));break;case 5:var X=null;switch(ar.tag){case 26:X=ar.memoizedState;case 5:case 27:var me=ar;if(X?fI(X):me.stateNode.complete){qr=0,Vo=null;var De=me.sibling;if(De!==null)ar=De;else{var tt=me.return;tt!==null?(ar=tt,xv(tt)):ar=null}break t}}qr=0,Vo=null,z0(l,f,k,5);break;case 6:qr=0,Vo=null,z0(l,f,k,6);break;case 8:Kw(),qs=6;break e;default:throw Error(r(462))}}YH();break}catch(dt){w4(l,dt)}while(!0);return dl=Sc=null,ae.H=v,ae.A=A,Or=h,ar!==null?0:(os=null,fr=0,Gd(),qs)}function YH(){for(;ar!==null&&!Rt();)S4(ar)}function S4(l){var f=YN(l.alternate,l,Mu);l.memoizedProps=l.pendingProps,f===null?xv(l):ar=f}function A4(l){var f=l,h=f.alternate;switch(f.tag){case 15:case 0:f=HN(h,f,f.pendingProps,f.type,void 0,fr);break;case 11:f=HN(h,f,f.pendingProps,f.type.render,f.ref,fr);break;case 5:R0(f);default:JN(h,f),f=ar=Kd(f,Mu),f=YN(h,f,Mu)}l.memoizedProps=l.pendingProps,f===null?xv(l):ar=f}function z0(l,f,h,v){dl=Sc=null,R0(f),xt=null,sn=0;var A=f.return;try{if(OH(l,A,f,h,fr)){qs=1,sv(l,co(h,l.current)),ar=null;return}}catch(k){if(A!==null)throw ar=A,k;qs=1,sv(l,co(h,l.current)),ar=null;return}f.flags&32768?(ir||v===1?l=!0:U0||(fr&536870912)!==0?l=!1:(Pf=l=!0,(v===2||v===9||v===3||v===6)&&(v=ps.current,v!==null&&v.tag===13&&(v.flags|=16384))),C4(f,l)):xv(f)}function xv(l){var f=l;do{if((f.flags&32768)!==0){C4(f,Pf);return}l=f.return;var h=UH(f.alternate,f,Mu);if(h!==null){ar=h;return}if(f=f.sibling,f!==null){ar=f;return}ar=f=l}while(f!==null);qs===0&&(qs=5)}function C4(l,f){do{var h=jH(l.alternate,l);if(h!==null){h.flags&=32767,ar=h;return}if(h=l.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!f&&(l=l.sibling,l!==null)){ar=l;return}ar=l=h}while(l!==null);qs=6,ar=null}function N4(l,f,h,v,A,k,X,me,De){l.cancelPendingCommit=null;do vv();while(Ai!==0);if((Or&6)!==0)throw Error(r(327));if(f!==null){if(f===l.current)throw Error(r(177));if(k=f.lanes|f.childLanes,k|=x0,Fe(l,h,k,X,me,De),l===os&&(ar=os=null,fr=0),q0=f,Lf=l,Lu=h,Gw=k,$w=A,x4=v,(f.subtreeFlags&10256)!==0||(f.flags&10256)!==0?(l.callbackNode=null,l.callbackPriority=0,ZH(Qt,function(){return D4(),null})):(l.callbackNode=null,l.callbackPriority=0),v=(f.flags&13878)!==0,(f.subtreeFlags&13878)!==0||v){v=ae.T,ae.T=null,A=pe.p,pe.p=2,X=Or,Or|=4;try{qH(l,f,h)}finally{Or=X,pe.p=A,ae.T=v}}Ai=1,I4(),k4(),R4()}}function I4(){if(Ai===1){Ai=0;var l=Lf,f=q0,h=(f.flags&13878)!==0;if((f.subtreeFlags&13878)!==0||h){h=ae.T,ae.T=null;var v=pe.p;pe.p=2;var A=Or;Or|=4;try{c4(f,l);var k=o_,X=jl(l.containerInfo),me=k.focusedElem,De=k.selectionRange;if(X!==me&&me&&me.ownerDocument&&Ul(me.ownerDocument.documentElement,me)){if(De!==null&&ul(me)){var tt=De.start,dt=De.end;if(dt===void 0&&(dt=tt),"selectionStart"in me)me.selectionStart=tt,me.selectionEnd=Math.min(dt,me.value.length);else{var gt=me.ownerDocument||document,rt=gt&&gt.defaultView||window;if(rt.getSelection){var ot=rt.getSelection(),nn=me.textContent.length,In=Math.min(De.start,nn),Zr=De.end===void 0?In:Math.min(De.end,nn);!ot.extend&&In>Zr&&(X=Zr,Zr=In,In=X);var ze=bf(me,In),Oe=bf(me,Zr);if(ze&&Oe&&(ot.rangeCount!==1||ot.anchorNode!==ze.node||ot.anchorOffset!==ze.offset||ot.focusNode!==Oe.node||ot.focusOffset!==Oe.offset)){var et=gt.createRange();et.setStart(ze.node,ze.offset),ot.removeAllRanges(),In>Zr?(ot.addRange(et),ot.extend(Oe.node,Oe.offset)):(et.setEnd(Oe.node,Oe.offset),ot.addRange(et))}}}}for(gt=[],ot=me;ot=ot.parentNode;)ot.nodeType===1&&gt.push({element:ot,left:ot.scrollLeft,top:ot.scrollTop});for(typeof me.focus=="function"&&me.focus(),me=0;me<gt.length;me++){var pt=gt[me];pt.element.scrollLeft=pt.left,pt.element.scrollTop=pt.top}}kv=!!a_,o_=a_=null}finally{Or=A,pe.p=v,ae.T=h}}l.current=f,Ai=2}}function k4(){if(Ai===2){Ai=0;var l=Lf,f=q0,h=(f.flags&8772)!==0;if((f.subtreeFlags&8772)!==0||h){h=ae.T,ae.T=null;var v=pe.p;pe.p=2;var A=Or;Or|=4;try{s4(l,f.alternate,f)}finally{Or=A,pe.p=v,ae.T=h}}Ai=3}}function R4(){if(Ai===4||Ai===3){Ai=0,Ut();var l=Lf,f=q0,h=Lu,v=x4;(f.subtreeFlags&10256)!==0||(f.flags&10256)!==0?Ai=5:(Ai=0,q0=Lf=null,P4(l,l.pendingLanes));var A=l.pendingLanes;if(A===0&&(Mf=null),Gn(h),f=f.stateNode,Ct&&typeof Ct.onCommitFiberRoot=="function")try{Ct.onCommitFiberRoot(Ot,f,void 0,(f.current.flags&128)===128)}catch{}if(v!==null){f=ae.T,A=pe.p,pe.p=2,ae.T=null;try{for(var k=l.onRecoverableError,X=0;X<v.length;X++){var me=v[X];k(me.value,{componentStack:me.stack})}}finally{ae.T=f,pe.p=A}}(Lu&3)!==0&&vv(),Mc(l),A=l.pendingLanes,(h&261930)!==0&&(A&42)!==0?l===Ww?mg++:(mg=0,Ww=l):mg=0,gg(0)}}function P4(l,f){(l.pooledCacheLanes&=f)===0&&(f=l.pooledCache,f!=null&&(l.pooledCache=null,Jd(f)))}function vv(){return I4(),k4(),R4(),D4()}function D4(){if(Ai!==5)return!1;var l=Lf,f=Gw;Gw=0;var h=Gn(Lu),v=ae.T,A=pe.p;try{pe.p=32>h?32:h,ae.T=null,h=$w,$w=null;var k=Lf,X=Lu;if(Ai=0,q0=Lf=null,Lu=0,(Or&6)!==0)throw Error(r(331));var me=Or;if(Or|=4,p4(k.current),f4(k,k.current,X,h),Or=me,gg(0,!1),Ct&&typeof Ct.onPostCommitFiberRoot=="function")try{Ct.onPostCommitFiberRoot(Ot,k)}catch{}return!0}finally{pe.p=A,ae.T=v,P4(l,f)}}function M4(l,f,h){f=co(h,f),f=Sw(l.stateNode,f,2),l=$n(l,f,2),l!==null&&(hn(l,2),Mc(l))}function Hr(l,f,h){if(l.tag===3)M4(l,l,h);else for(;f!==null;){if(f.tag===3){M4(f,l,h);break}else if(f.tag===1){var v=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(Mf===null||!Mf.has(v))){l=co(h,l),h=LN(2),v=$n(f,h,2),v!==null&&(FN(h,v,f,l),hn(v,2),Mc(v));break}}f=f.return}}function Xw(l,f,h){var v=l.pingCache;if(v===null){v=l.pingCache=new GH;var A=new Set;v.set(f,A)}else A=v.get(f),A===void 0&&(A=new Set,v.set(f,A));A.has(h)||(qw=!0,A.add(h),l=XH.bind(null,l,f,h),f.then(l,l))}function XH(l,f,h){var v=l.pingCache;v!==null&&v.delete(f),l.pingedLanes|=l.suspendedLanes&h,l.warmLanes&=~h,os===l&&(fr&h)===h&&(qs===4||qs===3&&(fr&62914560)===fr&&300>Jt()-dv?(Or&2)===0&&H0(l,0):Hw|=h,j0===fr&&(j0=0)),Mc(l)}function L4(l,f){f===0&&(f=Li()),l=Hl(l,f),l!==null&&(hn(l,f),Mc(l))}function JH(l){var f=l.memoizedState,h=0;f!==null&&(h=f.retryLane),L4(l,h)}function QH(l,f){var h=0;switch(l.tag){case 31:case 13:var v=l.stateNode,A=l.memoizedState;A!==null&&(h=A.retryLane);break;case 19:v=l.stateNode;break;case 22:v=l.stateNode._retryCache;break;default:throw Error(r(314))}v!==null&&v.delete(f),L4(l,h)}function ZH(l,f){return yt(l,f)}var yv=null,G0=null,Jw=!1,bv=!1,Qw=!1,Of=0;function Mc(l){l!==G0&&l.next===null&&(G0===null?yv=G0=l:G0=G0.next=l),bv=!0,Jw||(Jw=!0,tz())}function gg(l,f){if(!Qw&&bv){Qw=!0;do for(var h=!1,v=yv;v!==null;){if(l!==0){var A=v.pendingLanes;if(A===0)var k=0;else{var X=v.suspendedLanes,me=v.pingedLanes;k=(1<<31-vn(42|l)+1)-1,k&=A&~(X&~me),k=k&201326741?k&201326741|1:k?k|2:0}k!==0&&(h=!0,V4(v,k))}else k=fr,k=On(v,v===os?k:0,v.cancelPendingCommit!==null||v.timeoutHandle!==-1),(k&3)===0||us(v,k)||(h=!0,V4(v,k));v=v.next}while(h);Qw=!1}}function ez(){F4()}function F4(){bv=Jw=!1;var l=0;Of!==0&&fz()&&(l=Of);for(var f=Jt(),h=null,v=yv;v!==null;){var A=v.next,k=O4(v,f);k===0?(v.next=null,h===null?yv=A:h.next=A,A===null&&(G0=h)):(h=v,(l!==0||(k&3)!==0)&&(bv=!0)),v=A}Ai!==0&&Ai!==5||gg(l),Of!==0&&(Of=0)}function O4(l,f){for(var h=l.suspendedLanes,v=l.pingedLanes,A=l.expirationTimes,k=l.pendingLanes&-62914561;0<k;){var X=31-vn(k),me=1<<X,De=A[X];De===-1?((me&h)===0||(me&v)!==0)&&(A[X]=fs(me,f)):De<=f&&(l.expiredLanes|=me),k&=~me}if(f=os,h=fr,h=On(l,l===f?h:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),v=l.callbackNode,h===0||l===f&&(qr===2||qr===9)||l.cancelPendingCommit!==null)return v!==null&&v!==null&&St(v),l.callbackNode=null,l.callbackPriority=0;if((h&3)===0||us(l,h)){if(f=h&-h,f===l.callbackPriority)return f;switch(v!==null&&St(v),Gn(h)){case 2:case 8:h=Nn;break;case 32:h=Qt;break;case 268435456:h=kt;break;default:h=Qt}return v=B4.bind(null,l),h=yt(h,v),l.callbackPriority=f,l.callbackNode=h,f}return v!==null&&v!==null&&St(v),l.callbackPriority=2,l.callbackNode=null,2}function B4(l,f){if(Ai!==0&&Ai!==5)return l.callbackNode=null,l.callbackPriority=0,null;var h=l.callbackNode;if(vv()&&l.callbackNode!==h)return null;var v=fr;return v=On(l,l===os?v:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),v===0?null:(y4(l,v,f),O4(l,Jt()),l.callbackNode!=null&&l.callbackNode===h?B4.bind(null,l):null)}function V4(l,f){if(vv())return null;y4(l,f,!0)}function tz(){hz(function(){(Or&6)!==0?yt(Gt,ez):F4()})}function Zw(){if(Of===0){var l=_;l===0&&(l=pn,pn<<=1,(pn&261888)===0&&(pn=256)),Of=l}return Of}function U4(l){return l==null||typeof l=="symbol"||typeof l=="boolean"?null:typeof l=="function"?l:Oi(""+l)}function j4(l,f){var h=f.ownerDocument.createElement("input");return h.name=f.name,h.value=f.value,l.id&&h.setAttribute("form",l.id),f.parentNode.insertBefore(h,f),l=new FormData(l),h.parentNode.removeChild(h),l}function nz(l,f,h,v,A){if(f==="submit"&&h&&h.stateNode===A){var k=U4((A[Te]||null).action),X=v.submitter;X&&(f=(f=X[Te]||null)?U4(f.formAction):X.getAttribute("formAction"),f!==null&&(k=f,X=null));var me=new ii("action","action",null,v,A);l.push({event:me,listeners:[{instance:null,listener:function(){if(v.defaultPrevented){if(Of!==0){var De=X?j4(A,X):new FormData(A);yw(h,{pending:!0,data:De,method:A.method,action:k},null,De)}}else typeof k=="function"&&(me.preventDefault(),De=X?j4(A,X):new FormData(A),yw(h,{pending:!0,data:De,method:A.method,action:k},k,De))},currentTarget:A}]})}}for(var e_=0;e_<bu.length;e_++){var t_=bu[e_],rz=t_.toLowerCase(),sz=t_[0].toUpperCase()+t_.slice(1);oo(rz,"on"+sz)}oo(yu,"onAnimationEnd"),oo(Hd,"onAnimationIteration"),oo(Gm,"onAnimationStart"),oo("dblclick","onDoubleClick"),oo("focusin","onFocus"),oo("focusout","onBlur"),oo(Gx,"onTransitionRun"),oo($x,"onTransitionStart"),oo(Wx,"onTransitionCancel"),oo($m,"onTransitionEnd"),Ks("onMouseEnter",["mouseout","mouseover"]),Ks("onMouseLeave",["mouseout","mouseover"]),Ks("onPointerEnter",["pointerout","pointerover"]),Ks("onPointerLeave",["pointerout","pointerover"]),Ar("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ar("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ar("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ar("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ar("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ar("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xg="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iz=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(xg));function q4(l,f){f=(f&4)!==0;for(var h=0;h<l.length;h++){var v=l[h],A=v.event;v=v.listeners;e:{var k=void 0;if(f)for(var X=v.length-1;0<=X;X--){var me=v[X],De=me.instance,tt=me.currentTarget;if(me=me.listener,De!==k&&A.isPropagationStopped())break e;k=me,A.currentTarget=tt;try{k(A)}catch(dt){zd(dt)}A.currentTarget=null,k=De}else for(X=0;X<v.length;X++){if(me=v[X],De=me.instance,tt=me.currentTarget,me=me.listener,De!==k&&A.isPropagationStopped())break e;k=me,A.currentTarget=tt;try{k(A)}catch(dt){zd(dt)}A.currentTarget=null,k=De}}}}function or(l,f){var h=f[Ue];h===void 0&&(h=f[Ue]=new Set);var v=l+"__bubble";h.has(v)||(H4(f,l,2,!1),h.add(v))}function n_(l,f,h){var v=0;f&&(v|=4),H4(h,l,v,f)}var wv="_reactListening"+Math.random().toString(36).slice(2);function r_(l){if(!l[wv]){l[wv]=!0,vr.forEach(function(h){h!=="selectionchange"&&(iz.has(h)||n_(h,!1,l),n_(h,!0,l))});var f=l.nodeType===9?l:l.ownerDocument;f===null||f[wv]||(f[wv]=!0,n_("selectionchange",!1,f))}}function H4(l,f,h,v){switch(vI(f)){case 2:var A=Dz;break;case 8:A=Mz;break;default:A=v_}h=A.bind(null,f,h,l),A=void 0,!Dl||f!=="touchstart"&&f!=="touchmove"&&f!=="wheel"||(A=!0),v?A!==void 0?l.addEventListener(f,h,{capture:!0,passive:A}):l.addEventListener(f,h,!0):A!==void 0?l.addEventListener(f,h,{passive:A}):l.addEventListener(f,h,!1)}function s_(l,f,h,v,A){var k=v;if((f&1)===0&&(f&2)===0&&v!==null)e:for(;;){if(v===null)return;var X=v.tag;if(X===3||X===4){var me=v.stateNode.containerInfo;if(me===A)break;if(X===4)for(X=v.return;X!==null;){var De=X.tag;if((De===3||De===4)&&X.stateNode.containerInfo===A)return;X=X.return}for(;me!==null;){if(X=Tt(me),X===null)return;if(De=X.tag,De===5||De===6||De===26||De===27){v=k=X;continue e}me=me.parentNode}}v=v.return}nl(function(){var tt=k,dt=Bi(h),gt=[];e:{var rt=Wm.get(l);if(rt!==void 0){var ot=ii,nn=l;switch(l){case"keypress":if(Zi(h)===0)break e;case"keydown":case"keyup":ot=rr;break;case"focusin":nn="focus",ot=Va;break;case"focusout":nn="blur",ot=Va;break;case"beforeblur":case"afterblur":ot=Va;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ot=yc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ot=io;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ot=H;break;case yu:case Hd:case Gm:ot=V;break;case $m:ot=ye;break;case"scroll":case"scrollend":ot=rl;break;case"wheel":ot=nt;break;case"copy":case"cut":case"paste":ot=Ne;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ot=Br;break;case"toggle":case"beforetoggle":ot=Rn}var In=(f&4)!==0,Zr=!In&&(l==="scroll"||l==="scrollend"),ze=In?rt!==null?rt+"Capture":null:rt;In=[];for(var Oe=tt,et;Oe!==null;){var pt=Oe;if(et=pt.stateNode,pt=pt.tag,pt!==5&&pt!==26&&pt!==27||et===null||ze===null||(pt=Xs(Oe,ze),pt!=null&&In.push(vg(Oe,pt,et))),Zr)break;Oe=Oe.return}0<In.length&&(rt=new ot(rt,nn,null,h,dt),gt.push({event:rt,listeners:In}))}}if((f&7)===0){e:{if(rt=l==="mouseover"||l==="pointerover",ot=l==="mouseout"||l==="pointerout",rt&&h!==Do&&(nn=h.relatedTarget||h.fromElement)&&(Tt(nn)||nn[Ae]))break e;if((ot||rt)&&(rt=dt.window===dt?dt:(rt=dt.ownerDocument)?rt.defaultView||rt.parentWindow:window,ot?(nn=h.relatedTarget||h.toElement,ot=tt,nn=nn?Tt(nn):null,nn!==null&&(Zr=i(nn),In=nn.tag,nn!==Zr||In!==5&&In!==27&&In!==6)&&(nn=null)):(ot=null,nn=tt),ot!==nn)){if(In=yc,pt="onMouseLeave",ze="onMouseEnter",Oe="mouse",(l==="pointerout"||l==="pointerover")&&(In=Br,pt="onPointerLeave",ze="onPointerEnter",Oe="pointer"),Zr=ot==null?rt:wt(ot),et=nn==null?rt:wt(nn),rt=new In(pt,Oe+"leave",ot,h,dt),rt.target=Zr,rt.relatedTarget=et,pt=null,Tt(dt)===tt&&(In=new In(ze,Oe+"enter",nn,h,dt),In.target=et,In.relatedTarget=Zr,pt=In),Zr=pt,ot&&nn)t:{for(In=az,ze=ot,Oe=nn,et=0,pt=ze;pt;pt=In(pt))et++;pt=0;for(var Sn=Oe;Sn;Sn=In(Sn))pt++;for(;0<et-pt;)ze=In(ze),et--;for(;0<pt-et;)Oe=In(Oe),pt--;for(;et--;){if(ze===Oe||Oe!==null&&ze===Oe.alternate){In=ze;break t}ze=In(ze),Oe=In(Oe)}In=null}else In=null;ot!==null&&z4(gt,rt,ot,In,!1),nn!==null&&Zr!==null&&z4(gt,Zr,nn,In,!0)}}e:{if(rt=tt?wt(tt):window,ot=rt.nodeName&&rt.nodeName.toLowerCase(),ot==="select"||ot==="input"&&rt.type==="file")var Pr=wc;else if(jd(rt))if(xa)Pr=ll;else{Pr=ks;var mn=vf}else ot=rt.nodeName,!ot||ot.toLowerCase()!=="input"||rt.type!=="checkbox"&&rt.type!=="radio"?tt&&gc(tt.elementType)&&(Pr=wc):Pr=g0;if(Pr&&(Pr=Pr(l,tt))){ja(gt,Pr,h,dt);break e}mn&&mn(l,rt,tt),l==="focusout"&&tt&&rt.type==="number"&&tt.memoizedProps.value!=null&&du(rt,"number",rt.value)}switch(mn=tt?wt(tt):window,l){case"focusin":(jd(mn)||mn.contentEditable==="true")&&(qa=mn,ql=tt,Vi=null);break;case"focusout":Vi=ql=qa=null;break;case"mousedown":ao=!0;break;case"contextmenu":case"mouseup":case"dragend":ao=!1,Cr(gt,h,dt);break;case"selectionchange":if(vu)break;case"keydown":case"keyup":Cr(gt,h,dt)}var Xn;if(Jn)e:{switch(l){case"compositionstart":var dr="onCompositionStart";break e;case"compositionend":dr="onCompositionEnd";break e;case"compositionupdate":dr="onCompositionUpdate";break e}dr=void 0}else il?Ua(l,h)&&(dr="onCompositionEnd"):l==="keydown"&&h.keyCode===229&&(dr="onCompositionStart");dr&&(vi&&h.locale!=="ko"&&(il||dr!=="onCompositionStart"?dr==="onCompositionEnd"&&il&&(Xn=gu()):(Qi=dt,Ml="value"in Qi?Qi.value:Qi.textContent,il=!0)),mn=_v(tt,dr),0<mn.length&&(dr=new qe(dr,l,null,h,dt),gt.push({event:dr,listeners:mn}),Xn?dr.data=Xn:(Xn=sl(h),Xn!==null&&(dr.data=Xn)))),(Xn=ai?na(l,h):Fl(l,h))&&(dr=_v(tt,"onBeforeInput"),0<dr.length&&(mn=new qe("onBeforeInput","beforeinput",null,h,dt),gt.push({event:mn,listeners:dr}),mn.data=Xn)),nz(gt,l,tt,h,dt)}q4(gt,f)})}function vg(l,f,h){return{instance:l,listener:f,currentTarget:h}}function _v(l,f){for(var h=f+"Capture",v=[];l!==null;){var A=l,k=A.stateNode;if(A=A.tag,A!==5&&A!==26&&A!==27||k===null||(A=Xs(l,h),A!=null&&v.unshift(vg(l,A,k)),A=Xs(l,f),A!=null&&v.push(vg(l,A,k))),l.tag===3)return v;l=l.return}return[]}function az(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5&&l.tag!==27);return l||null}function z4(l,f,h,v,A){for(var k=f._reactName,X=[];h!==null&&h!==v;){var me=h,De=me.alternate,tt=me.stateNode;if(me=me.tag,De!==null&&De===v)break;me!==5&&me!==26&&me!==27||tt===null||(De=tt,A?(tt=Xs(h,k),tt!=null&&X.unshift(vg(h,tt,De))):A||(tt=Xs(h,k),tt!=null&&X.push(vg(h,tt,De)))),h=h.return}X.length!==0&&l.push({event:f,listeners:X})}var oz=/\r\n?/g,lz=/\u0000|\uFFFD/g;function G4(l){return(typeof l=="string"?l:""+l).replace(oz,`
`).replace(lz,"")}function $4(l,f){return f=G4(f),G4(l)===f}function Qr(l,f,h,v,A,k){switch(h){case"children":typeof v=="string"?f==="body"||f==="textarea"&&v===""||Ys(l,v):(typeof v=="number"||typeof v=="bigint")&&f!=="body"&&Ys(l,""+v);break;case"className":si(l,"class",v);break;case"tabIndex":si(l,"tabindex",v);break;case"dir":case"role":case"viewBox":case"width":case"height":si(l,h,v);break;case"style":mu(l,v,k);break;case"data":if(f!=="object"){si(l,"data",v);break}case"src":case"href":if(v===""&&(f!=="a"||h!=="href")){l.removeAttribute(h);break}if(v==null||typeof v=="function"||typeof v=="symbol"||typeof v=="boolean"){l.removeAttribute(h);break}v=Oi(""+v),l.setAttribute(h,v);break;case"action":case"formAction":if(typeof v=="function"){l.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof k=="function"&&(h==="formAction"?(f!=="input"&&Qr(l,f,"name",A.name,A,null),Qr(l,f,"formEncType",A.formEncType,A,null),Qr(l,f,"formMethod",A.formMethod,A,null),Qr(l,f,"formTarget",A.formTarget,A,null)):(Qr(l,f,"encType",A.encType,A,null),Qr(l,f,"method",A.method,A,null),Qr(l,f,"target",A.target,A,null)));if(v==null||typeof v=="symbol"||typeof v=="boolean"){l.removeAttribute(h);break}v=Oi(""+v),l.setAttribute(h,v);break;case"onClick":v!=null&&(l.onclick=Oa);break;case"onScroll":v!=null&&or("scroll",l);break;case"onScrollEnd":v!=null&&or("scrollend",l);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(r(61));if(h=v.__html,h!=null){if(A.children!=null)throw Error(r(60));l.innerHTML=h}}break;case"multiple":l.multiple=v&&typeof v!="function"&&typeof v!="symbol";break;case"muted":l.muted=v&&typeof v!="function"&&typeof v!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(v==null||typeof v=="function"||typeof v=="boolean"||typeof v=="symbol"){l.removeAttribute("xlink:href");break}h=Oi(""+v),l.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":v!=null&&typeof v!="function"&&typeof v!="symbol"?l.setAttribute(h,""+v):l.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":v&&typeof v!="function"&&typeof v!="symbol"?l.setAttribute(h,""):l.removeAttribute(h);break;case"capture":case"download":v===!0?l.setAttribute(h,""):v!==!1&&v!=null&&typeof v!="function"&&typeof v!="symbol"?l.setAttribute(h,v):l.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":v!=null&&typeof v!="function"&&typeof v!="symbol"&&!isNaN(v)&&1<=v?l.setAttribute(h,v):l.removeAttribute(h);break;case"rowSpan":case"start":v==null||typeof v=="function"||typeof v=="symbol"||isNaN(v)?l.removeAttribute(h):l.setAttribute(h,v);break;case"popover":or("beforetoggle",l),or("toggle",l),rs(l,"popover",v);break;case"xlinkActuate":vs(l,"http://www.w3.org/1999/xlink","xlink:actuate",v);break;case"xlinkArcrole":vs(l,"http://www.w3.org/1999/xlink","xlink:arcrole",v);break;case"xlinkRole":vs(l,"http://www.w3.org/1999/xlink","xlink:role",v);break;case"xlinkShow":vs(l,"http://www.w3.org/1999/xlink","xlink:show",v);break;case"xlinkTitle":vs(l,"http://www.w3.org/1999/xlink","xlink:title",v);break;case"xlinkType":vs(l,"http://www.w3.org/1999/xlink","xlink:type",v);break;case"xmlBase":vs(l,"http://www.w3.org/XML/1998/namespace","xml:base",v);break;case"xmlLang":vs(l,"http://www.w3.org/XML/1998/namespace","xml:lang",v);break;case"xmlSpace":vs(l,"http://www.w3.org/XML/1998/namespace","xml:space",v);break;case"is":rs(l,"is",v);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=xc.get(h)||h,rs(l,h,v))}}function i_(l,f,h,v,A,k){switch(h){case"style":mu(l,v,k);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(r(61));if(h=v.__html,h!=null){if(A.children!=null)throw Error(r(60));l.innerHTML=h}}break;case"children":typeof v=="string"?Ys(l,v):(typeof v=="number"||typeof v=="bigint")&&Ys(l,""+v);break;case"onScroll":v!=null&&or("scroll",l);break;case"onScrollEnd":v!=null&&or("scrollend",l);break;case"onClick":v!=null&&(l.onclick=Oa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Wn.hasOwnProperty(h))e:{if(h[0]==="o"&&h[1]==="n"&&(A=h.endsWith("Capture"),f=h.slice(2,A?h.length-7:void 0),k=l[Te]||null,k=k!=null?k[h]:null,typeof k=="function"&&l.removeEventListener(f,k,A),typeof v=="function")){typeof k!="function"&&k!==null&&(h in l?l[h]=null:l.hasAttribute(h)&&l.removeAttribute(h)),l.addEventListener(f,v,A);break e}h in l?l[h]=v:v===!0?l.setAttribute(h,""):rs(l,h,v)}}}function oa(l,f,h){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":or("error",l),or("load",l);var v=!1,A=!1,k;for(k in h)if(h.hasOwnProperty(k)){var X=h[k];if(X!=null)switch(k){case"src":v=!0;break;case"srcSet":A=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,f));default:Qr(l,f,k,X,h,null)}}A&&Qr(l,f,"srcSet",h.srcSet,h,null),v&&Qr(l,f,"src",h.src,h,null);return;case"input":or("invalid",l);var me=k=X=A=null,De=null,tt=null;for(v in h)if(h.hasOwnProperty(v)){var dt=h[v];if(dt!=null)switch(v){case"name":A=dt;break;case"type":X=dt;break;case"checked":De=dt;break;case"defaultChecked":tt=dt;break;case"value":k=dt;break;case"defaultValue":me=dt;break;case"children":case"dangerouslySetInnerHTML":if(dt!=null)throw Error(r(137,f));break;default:Qr(l,f,v,dt,h,null)}}mf(l,k,me,De,tt,X,A,!1);return;case"select":or("invalid",l),v=X=k=null;for(A in h)if(h.hasOwnProperty(A)&&(me=h[A],me!=null))switch(A){case"value":k=me;break;case"defaultValue":X=me;break;case"multiple":v=me;default:Qr(l,f,A,me,h,null)}f=k,h=X,l.multiple=!!v,f!=null?xi(l,!!v,f,!1):h!=null&&xi(l,!!v,h,!0);return;case"textarea":or("invalid",l),k=A=v=null;for(X in h)if(h.hasOwnProperty(X)&&(me=h[X],me!=null))switch(X){case"value":v=me;break;case"defaultValue":A=me;break;case"children":k=me;break;case"dangerouslySetInnerHTML":if(me!=null)throw Error(r(91));break;default:Qr(l,f,X,me,h,null)}Ro(l,v,A,k);return;case"option":for(De in h)if(h.hasOwnProperty(De)&&(v=h[De],v!=null))switch(De){case"selected":l.selected=v&&typeof v!="function"&&typeof v!="symbol";break;default:Qr(l,f,De,v,h,null)}return;case"dialog":or("beforetoggle",l),or("toggle",l),or("cancel",l),or("close",l);break;case"iframe":case"object":or("load",l);break;case"video":case"audio":for(v=0;v<xg.length;v++)or(xg[v],l);break;case"image":or("error",l),or("load",l);break;case"details":or("toggle",l);break;case"embed":case"source":case"link":or("error",l),or("load",l);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(tt in h)if(h.hasOwnProperty(tt)&&(v=h[tt],v!=null))switch(tt){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,f));default:Qr(l,f,tt,v,h,null)}return;default:if(gc(f)){for(dt in h)h.hasOwnProperty(dt)&&(v=h[dt],v!==void 0&&i_(l,f,dt,v,h,void 0));return}}for(me in h)h.hasOwnProperty(me)&&(v=h[me],v!=null&&Qr(l,f,me,v,h,null))}function cz(l,f,h,v){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var A=null,k=null,X=null,me=null,De=null,tt=null,dt=null;for(ot in h){var gt=h[ot];if(h.hasOwnProperty(ot)&&gt!=null)switch(ot){case"checked":break;case"value":break;case"defaultValue":De=gt;default:v.hasOwnProperty(ot)||Qr(l,f,ot,null,v,gt)}}for(var rt in v){var ot=v[rt];if(gt=h[rt],v.hasOwnProperty(rt)&&(ot!=null||gt!=null))switch(rt){case"type":k=ot;break;case"name":A=ot;break;case"checked":tt=ot;break;case"defaultChecked":dt=ot;break;case"value":X=ot;break;case"defaultValue":me=ot;break;case"children":case"dangerouslySetInnerHTML":if(ot!=null)throw Error(r(137,f));break;default:ot!==gt&&Qr(l,f,rt,ot,v,gt)}}Rl(l,X,me,De,tt,dt,k,A);return;case"select":ot=X=me=rt=null;for(k in h)if(De=h[k],h.hasOwnProperty(k)&&De!=null)switch(k){case"value":break;case"multiple":ot=De;default:v.hasOwnProperty(k)||Qr(l,f,k,null,v,De)}for(A in v)if(k=v[A],De=h[A],v.hasOwnProperty(A)&&(k!=null||De!=null))switch(A){case"value":rt=k;break;case"defaultValue":me=k;break;case"multiple":X=k;default:k!==De&&Qr(l,f,A,k,v,De)}f=me,h=X,v=ot,rt!=null?xi(l,!!h,rt,!1):!!v!=!!h&&(f!=null?xi(l,!!h,f,!0):xi(l,!!h,h?[]:"",!1));return;case"textarea":ot=rt=null;for(me in h)if(A=h[me],h.hasOwnProperty(me)&&A!=null&&!v.hasOwnProperty(me))switch(me){case"value":break;case"children":break;default:Qr(l,f,me,null,v,A)}for(X in v)if(A=v[X],k=h[X],v.hasOwnProperty(X)&&(A!=null||k!=null))switch(X){case"value":rt=A;break;case"defaultValue":ot=A;break;case"children":break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(r(91));break;default:A!==k&&Qr(l,f,X,A,v,k)}hu(l,rt,ot);return;case"option":for(var nn in h)if(rt=h[nn],h.hasOwnProperty(nn)&&rt!=null&&!v.hasOwnProperty(nn))switch(nn){case"selected":l.selected=!1;break;default:Qr(l,f,nn,null,v,rt)}for(De in v)if(rt=v[De],ot=h[De],v.hasOwnProperty(De)&&rt!==ot&&(rt!=null||ot!=null))switch(De){case"selected":l.selected=rt&&typeof rt!="function"&&typeof rt!="symbol";break;default:Qr(l,f,De,rt,v,ot)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var In in h)rt=h[In],h.hasOwnProperty(In)&&rt!=null&&!v.hasOwnProperty(In)&&Qr(l,f,In,null,v,rt);for(tt in v)if(rt=v[tt],ot=h[tt],v.hasOwnProperty(tt)&&rt!==ot&&(rt!=null||ot!=null))switch(tt){case"children":case"dangerouslySetInnerHTML":if(rt!=null)throw Error(r(137,f));break;default:Qr(l,f,tt,rt,v,ot)}return;default:if(gc(f)){for(var Zr in h)rt=h[Zr],h.hasOwnProperty(Zr)&&rt!==void 0&&!v.hasOwnProperty(Zr)&&i_(l,f,Zr,void 0,v,rt);for(dt in v)rt=v[dt],ot=h[dt],!v.hasOwnProperty(dt)||rt===ot||rt===void 0&&ot===void 0||i_(l,f,dt,rt,v,ot);return}}for(var ze in h)rt=h[ze],h.hasOwnProperty(ze)&&rt!=null&&!v.hasOwnProperty(ze)&&Qr(l,f,ze,null,v,rt);for(gt in v)rt=v[gt],ot=h[gt],!v.hasOwnProperty(gt)||rt===ot||rt==null&&ot==null||Qr(l,f,gt,rt,v,ot)}function W4(l){switch(l){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function uz(){if(typeof performance.getEntriesByType=="function"){for(var l=0,f=0,h=performance.getEntriesByType("resource"),v=0;v<h.length;v++){var A=h[v],k=A.transferSize,X=A.initiatorType,me=A.duration;if(k&&me&&W4(X)){for(X=0,me=A.responseEnd,v+=1;v<h.length;v++){var De=h[v],tt=De.startTime;if(tt>me)break;var dt=De.transferSize,gt=De.initiatorType;dt&&W4(gt)&&(De=De.responseEnd,X+=dt*(De<me?1:(me-tt)/(De-tt)))}if(--v,f+=8*(k+X)/(A.duration/1e3),l++,10<l)break}}if(0<l)return f/l/1e6}return navigator.connection&&(l=navigator.connection.downlink,typeof l=="number")?l:5}var a_=null,o_=null;function Ev(l){return l.nodeType===9?l:l.ownerDocument}function K4(l){switch(l){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Y4(l,f){if(l===0)switch(f){case"svg":return 1;case"math":return 2;default:return 0}return l===1&&f==="foreignObject"?0:l}function l_(l,f){return l==="textarea"||l==="noscript"||typeof f.children=="string"||typeof f.children=="number"||typeof f.children=="bigint"||typeof f.dangerouslySetInnerHTML=="object"&&f.dangerouslySetInnerHTML!==null&&f.dangerouslySetInnerHTML.__html!=null}var c_=null;function fz(){var l=window.event;return l&&l.type==="popstate"?l===c_?!1:(c_=l,!0):(c_=null,!1)}var X4=typeof setTimeout=="function"?setTimeout:void 0,dz=typeof clearTimeout=="function"?clearTimeout:void 0,J4=typeof Promise=="function"?Promise:void 0,hz=typeof queueMicrotask=="function"?queueMicrotask:typeof J4<"u"?function(l){return J4.resolve(null).then(l).catch(pz)}:X4;function pz(l){setTimeout(function(){throw l})}function Bf(l){return l==="head"}function Q4(l,f){var h=f,v=0;do{var A=h.nextSibling;if(l.removeChild(h),A&&A.nodeType===8)if(h=A.data,h==="/$"||h==="/&"){if(v===0){l.removeChild(A),Y0(f);return}v--}else if(h==="$"||h==="$?"||h==="$~"||h==="$!"||h==="&")v++;else if(h==="html")yg(l.ownerDocument.documentElement);else if(h==="head"){h=l.ownerDocument.head,yg(h);for(var k=h.firstChild;k;){var X=k.nextSibling,me=k.nodeName;k[Qe]||me==="SCRIPT"||me==="STYLE"||me==="LINK"&&k.rel.toLowerCase()==="stylesheet"||h.removeChild(k),k=X}}else h==="body"&&yg(l.ownerDocument.body);h=A}while(h);Y0(f)}function Z4(l,f){var h=l;l=0;do{var v=h.nextSibling;if(h.nodeType===1?f?(h._stashedDisplay=h.style.display,h.style.display="none"):(h.style.display=h._stashedDisplay||"",h.getAttribute("style")===""&&h.removeAttribute("style")):h.nodeType===3&&(f?(h._stashedText=h.nodeValue,h.nodeValue=""):h.nodeValue=h._stashedText||""),v&&v.nodeType===8)if(h=v.data,h==="/$"){if(l===0)break;l--}else h!=="$"&&h!=="$?"&&h!=="$~"&&h!=="$!"||l++;h=v}while(h)}function u_(l){var f=l.firstChild;for(f&&f.nodeType===10&&(f=f.nextSibling);f;){var h=f;switch(f=f.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":u_(h),bt(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}l.removeChild(h)}}function mz(l,f,h,v){for(;l.nodeType===1;){var A=h;if(l.nodeName.toLowerCase()!==f.toLowerCase()){if(!v&&(l.nodeName!=="INPUT"||l.type!=="hidden"))break}else if(v){if(!l[Qe])switch(f){case"meta":if(!l.hasAttribute("itemprop"))break;return l;case"link":if(k=l.getAttribute("rel"),k==="stylesheet"&&l.hasAttribute("data-precedence"))break;if(k!==A.rel||l.getAttribute("href")!==(A.href==null||A.href===""?null:A.href)||l.getAttribute("crossorigin")!==(A.crossOrigin==null?null:A.crossOrigin)||l.getAttribute("title")!==(A.title==null?null:A.title))break;return l;case"style":if(l.hasAttribute("data-precedence"))break;return l;case"script":if(k=l.getAttribute("src"),(k!==(A.src==null?null:A.src)||l.getAttribute("type")!==(A.type==null?null:A.type)||l.getAttribute("crossorigin")!==(A.crossOrigin==null?null:A.crossOrigin))&&k&&l.hasAttribute("async")&&!l.hasAttribute("itemprop"))break;return l;default:return l}}else if(f==="input"&&l.type==="hidden"){var k=A.name==null?null:""+A.name;if(A.type==="hidden"&&l.getAttribute("name")===k)return l}else return l;if(l=ml(l.nextSibling),l===null)break}return null}function gz(l,f,h){if(f==="")return null;for(;l.nodeType!==3;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!h||(l=ml(l.nextSibling),l===null))return null;return l}function eI(l,f){for(;l.nodeType!==8;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!f||(l=ml(l.nextSibling),l===null))return null;return l}function f_(l){return l.data==="$?"||l.data==="$~"}function d_(l){return l.data==="$!"||l.data==="$?"&&l.ownerDocument.readyState!=="loading"}function xz(l,f){var h=l.ownerDocument;if(l.data==="$~")l._reactRetry=f;else if(l.data!=="$?"||h.readyState!=="loading")f();else{var v=function(){f(),h.removeEventListener("DOMContentLoaded",v)};h.addEventListener("DOMContentLoaded",v),l._reactRetry=v}}function ml(l){for(;l!=null;l=l.nextSibling){var f=l.nodeType;if(f===1||f===3)break;if(f===8){if(f=l.data,f==="$"||f==="$!"||f==="$?"||f==="$~"||f==="&"||f==="F!"||f==="F")break;if(f==="/$"||f==="/&")return null}}return l}var h_=null;function tI(l){l=l.nextSibling;for(var f=0;l;){if(l.nodeType===8){var h=l.data;if(h==="/$"||h==="/&"){if(f===0)return ml(l.nextSibling);f--}else h!=="$"&&h!=="$!"&&h!=="$?"&&h!=="$~"&&h!=="&"||f++}l=l.nextSibling}return null}function nI(l){l=l.previousSibling;for(var f=0;l;){if(l.nodeType===8){var h=l.data;if(h==="$"||h==="$!"||h==="$?"||h==="$~"||h==="&"){if(f===0)return l;f--}else h!=="/$"&&h!=="/&"||f++}l=l.previousSibling}return null}function rI(l,f,h){switch(f=Ev(h),l){case"html":if(l=f.documentElement,!l)throw Error(r(452));return l;case"head":if(l=f.head,!l)throw Error(r(453));return l;case"body":if(l=f.body,!l)throw Error(r(454));return l;default:throw Error(r(451))}}function yg(l){for(var f=l.attributes;f.length;)l.removeAttributeNode(f[0]);bt(l)}var gl=new Map,sI=new Set;function Tv(l){return typeof l.getRootNode=="function"?l.getRootNode():l.nodeType===9?l:l.ownerDocument}var Fu=pe.d;pe.d={f:vz,r:yz,D:bz,C:wz,L:_z,m:Ez,X:Sz,S:Tz,M:Az};function vz(){var l=Fu.f(),f=mv();return l||f}function yz(l){var f=Dt(l);f!==null&&f.tag===5&&f.type==="form"?wN(f):Fu.r(l)}var $0=typeof document>"u"?null:document;function iI(l,f,h){var v=$0;if(v&&typeof f=="string"&&f){var A=ys(f);A='link[rel="'+l+'"][href="'+A+'"]',typeof h=="string"&&(A+='[crossorigin="'+h+'"]'),sI.has(A)||(sI.add(A),l={rel:l,crossOrigin:h,href:f},v.querySelector(A)===null&&(f=v.createElement("link"),oa(f,"link",l),Yt(f),v.head.appendChild(f)))}}function bz(l){Fu.D(l),iI("dns-prefetch",l,null)}function wz(l,f){Fu.C(l,f),iI("preconnect",l,f)}function _z(l,f,h){Fu.L(l,f,h);var v=$0;if(v&&l&&f){var A='link[rel="preload"][as="'+ys(f)+'"]';f==="image"&&h&&h.imageSrcSet?(A+='[imagesrcset="'+ys(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(A+='[imagesizes="'+ys(h.imageSizes)+'"]')):A+='[href="'+ys(l)+'"]';var k=A;switch(f){case"style":k=W0(l);break;case"script":k=K0(l)}gl.has(k)||(l=p({rel:"preload",href:f==="image"&&h&&h.imageSrcSet?void 0:l,as:f},h),gl.set(k,l),v.querySelector(A)!==null||f==="style"&&v.querySelector(bg(k))||f==="script"&&v.querySelector(wg(k))||(f=v.createElement("link"),oa(f,"link",l),Yt(f),v.head.appendChild(f)))}}function Ez(l,f){Fu.m(l,f);var h=$0;if(h&&l){var v=f&&typeof f.as=="string"?f.as:"script",A='link[rel="modulepreload"][as="'+ys(v)+'"][href="'+ys(l)+'"]',k=A;switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":k=K0(l)}if(!gl.has(k)&&(l=p({rel:"modulepreload",href:l},f),gl.set(k,l),h.querySelector(A)===null)){switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(wg(k)))return}v=h.createElement("link"),oa(v,"link",l),Yt(v),h.head.appendChild(v)}}}function Tz(l,f,h){Fu.S(l,f,h);var v=$0;if(v&&l){var A=Pt(v).hoistableStyles,k=W0(l);f=f||"default";var X=A.get(k);if(!X){var me={loading:0,preload:null};if(X=v.querySelector(bg(k)))me.loading=5;else{l=p({rel:"stylesheet",href:l,"data-precedence":f},h),(h=gl.get(k))&&p_(l,h);var De=X=v.createElement("link");Yt(De),oa(De,"link",l),De._p=new Promise(function(tt,dt){De.onload=tt,De.onerror=dt}),De.addEventListener("load",function(){me.loading|=1}),De.addEventListener("error",function(){me.loading|=2}),me.loading|=4,Sv(X,f,v)}X={type:"stylesheet",instance:X,count:1,state:me},A.set(k,X)}}}function Sz(l,f){Fu.X(l,f);var h=$0;if(h&&l){var v=Pt(h).hoistableScripts,A=K0(l),k=v.get(A);k||(k=h.querySelector(wg(A)),k||(l=p({src:l,async:!0},f),(f=gl.get(A))&&m_(l,f),k=h.createElement("script"),Yt(k),oa(k,"link",l),h.head.appendChild(k)),k={type:"script",instance:k,count:1,state:null},v.set(A,k))}}function Az(l,f){Fu.M(l,f);var h=$0;if(h&&l){var v=Pt(h).hoistableScripts,A=K0(l),k=v.get(A);k||(k=h.querySelector(wg(A)),k||(l=p({src:l,async:!0,type:"module"},f),(f=gl.get(A))&&m_(l,f),k=h.createElement("script"),Yt(k),oa(k,"link",l),h.head.appendChild(k)),k={type:"script",instance:k,count:1,state:null},v.set(A,k))}}function aI(l,f,h,v){var A=(A=ue.current)?Tv(A):null;if(!A)throw Error(r(446));switch(l){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(f=W0(h.href),h=Pt(A).hoistableStyles,v=h.get(f),v||(v={type:"style",instance:null,count:0,state:null},h.set(f,v)),v):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){l=W0(h.href);var k=Pt(A).hoistableStyles,X=k.get(l);if(X||(A=A.ownerDocument||A,X={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},k.set(l,X),(k=A.querySelector(bg(l)))&&!k._p&&(X.instance=k,X.state.loading=5),gl.has(l)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},gl.set(l,h),k||Cz(A,l,h,X.state))),f&&v===null)throw Error(r(528,""));return X}if(f&&v!==null)throw Error(r(529,""));return null;case"script":return f=h.async,h=h.src,typeof h=="string"&&f&&typeof f!="function"&&typeof f!="symbol"?(f=K0(h),h=Pt(A).hoistableScripts,v=h.get(f),v||(v={type:"script",instance:null,count:0,state:null},h.set(f,v)),v):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,l))}}function W0(l){return'href="'+ys(l)+'"'}function bg(l){return'link[rel="stylesheet"]['+l+"]"}function oI(l){return p({},l,{"data-precedence":l.precedence,precedence:null})}function Cz(l,f,h,v){l.querySelector('link[rel="preload"][as="style"]['+f+"]")?v.loading=1:(f=l.createElement("link"),v.preload=f,f.addEventListener("load",function(){return v.loading|=1}),f.addEventListener("error",function(){return v.loading|=2}),oa(f,"link",h),Yt(f),l.head.appendChild(f))}function K0(l){return'[src="'+ys(l)+'"]'}function wg(l){return"script[async]"+l}function lI(l,f,h){if(f.count++,f.instance===null)switch(f.type){case"style":var v=l.querySelector('style[data-href~="'+ys(h.href)+'"]');if(v)return f.instance=v,Yt(v),v;var A=p({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return v=(l.ownerDocument||l).createElement("style"),Yt(v),oa(v,"style",A),Sv(v,h.precedence,l),f.instance=v;case"stylesheet":A=W0(h.href);var k=l.querySelector(bg(A));if(k)return f.state.loading|=4,f.instance=k,Yt(k),k;v=oI(h),(A=gl.get(A))&&p_(v,A),k=(l.ownerDocument||l).createElement("link"),Yt(k);var X=k;return X._p=new Promise(function(me,De){X.onload=me,X.onerror=De}),oa(k,"link",v),f.state.loading|=4,Sv(k,h.precedence,l),f.instance=k;case"script":return k=K0(h.src),(A=l.querySelector(wg(k)))?(f.instance=A,Yt(A),A):(v=h,(A=gl.get(k))&&(v=p({},h),m_(v,A)),l=l.ownerDocument||l,A=l.createElement("script"),Yt(A),oa(A,"link",v),l.head.appendChild(A),f.instance=A);case"void":return null;default:throw Error(r(443,f.type))}else f.type==="stylesheet"&&(f.state.loading&4)===0&&(v=f.instance,f.state.loading|=4,Sv(v,h.precedence,l));return f.instance}function Sv(l,f,h){for(var v=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),A=v.length?v[v.length-1]:null,k=A,X=0;X<v.length;X++){var me=v[X];if(me.dataset.precedence===f)k=me;else if(k!==A)break}k?k.parentNode.insertBefore(l,k.nextSibling):(f=h.nodeType===9?h.head:h,f.insertBefore(l,f.firstChild))}function p_(l,f){l.crossOrigin==null&&(l.crossOrigin=f.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=f.referrerPolicy),l.title==null&&(l.title=f.title)}function m_(l,f){l.crossOrigin==null&&(l.crossOrigin=f.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=f.referrerPolicy),l.integrity==null&&(l.integrity=f.integrity)}var Av=null;function cI(l,f,h){if(Av===null){var v=new Map,A=Av=new Map;A.set(h,v)}else A=Av,v=A.get(h),v||(v=new Map,A.set(h,v));if(v.has(l))return v;for(v.set(l,null),h=h.getElementsByTagName(l),A=0;A<h.length;A++){var k=h[A];if(!(k[Qe]||k[be]||l==="link"&&k.getAttribute("rel")==="stylesheet")&&k.namespaceURI!=="http://www.w3.org/2000/svg"){var X=k.getAttribute(f)||"";X=l+X;var me=v.get(X);me?me.push(k):v.set(X,[k])}}return v}function uI(l,f,h){l=l.ownerDocument||l,l.head.insertBefore(h,f==="title"?l.querySelector("head > title"):null)}function Nz(l,f,h){if(h===1||f.itemProp!=null)return!1;switch(l){case"meta":case"title":return!0;case"style":if(typeof f.precedence!="string"||typeof f.href!="string"||f.href==="")break;return!0;case"link":if(typeof f.rel!="string"||typeof f.href!="string"||f.href===""||f.onLoad||f.onError)break;switch(f.rel){case"stylesheet":return l=f.disabled,typeof f.precedence=="string"&&l==null;default:return!0}case"script":if(f.async&&typeof f.async!="function"&&typeof f.async!="symbol"&&!f.onLoad&&!f.onError&&f.src&&typeof f.src=="string")return!0}return!1}function fI(l){return!(l.type==="stylesheet"&&(l.state.loading&3)===0)}function Iz(l,f,h,v){if(h.type==="stylesheet"&&(typeof v.media!="string"||matchMedia(v.media).matches!==!1)&&(h.state.loading&4)===0){if(h.instance===null){var A=W0(v.href),k=f.querySelector(bg(A));if(k){f=k._p,f!==null&&typeof f=="object"&&typeof f.then=="function"&&(l.count++,l=Cv.bind(l),f.then(l,l)),h.state.loading|=4,h.instance=k,Yt(k);return}k=f.ownerDocument||f,v=oI(v),(A=gl.get(A))&&p_(v,A),k=k.createElement("link"),Yt(k);var X=k;X._p=new Promise(function(me,De){X.onload=me,X.onerror=De}),oa(k,"link",v),h.instance=k}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(h,f),(f=h.state.preload)&&(h.state.loading&3)===0&&(l.count++,h=Cv.bind(l),f.addEventListener("load",h),f.addEventListener("error",h))}}var g_=0;function kz(l,f){return l.stylesheets&&l.count===0&&Iv(l,l.stylesheets),0<l.count||0<l.imgCount?function(h){var v=setTimeout(function(){if(l.stylesheets&&Iv(l,l.stylesheets),l.unsuspend){var k=l.unsuspend;l.unsuspend=null,k()}},6e4+f);0<l.imgBytes&&g_===0&&(g_=62500*uz());var A=setTimeout(function(){if(l.waitingForImages=!1,l.count===0&&(l.stylesheets&&Iv(l,l.stylesheets),l.unsuspend)){var k=l.unsuspend;l.unsuspend=null,k()}},(l.imgBytes>g_?50:800)+f);return l.unsuspend=h,function(){l.unsuspend=null,clearTimeout(v),clearTimeout(A)}}:null}function Cv(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Iv(this,this.stylesheets);else if(this.unsuspend){var l=this.unsuspend;this.unsuspend=null,l()}}}var Nv=null;function Iv(l,f){l.stylesheets=null,l.unsuspend!==null&&(l.count++,Nv=new Map,f.forEach(Rz,l),Nv=null,Cv.call(l))}function Rz(l,f){if(!(f.state.loading&4)){var h=Nv.get(l);if(h)var v=h.get(null);else{h=new Map,Nv.set(l,h);for(var A=l.querySelectorAll("link[data-precedence],style[data-precedence]"),k=0;k<A.length;k++){var X=A[k];(X.nodeName==="LINK"||X.getAttribute("media")!=="not all")&&(h.set(X.dataset.precedence,X),v=X)}v&&h.set(null,v)}A=f.instance,X=A.getAttribute("data-precedence"),k=h.get(X)||v,k===v&&h.set(null,A),h.set(X,A),this.count++,v=Cv.bind(this),A.addEventListener("load",v),A.addEventListener("error",v),k?k.parentNode.insertBefore(A,k.nextSibling):(l=l.nodeType===9?l.head:l,l.insertBefore(A,l.firstChild)),f.state.loading|=4}}var _g={$$typeof:I,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function Pz(l,f,h,v,A,k,X,me,De){this.tag=1,this.containerInfo=l,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ns(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ns(0),this.hiddenUpdates=ns(null),this.identifierPrefix=v,this.onUncaughtError=A,this.onCaughtError=k,this.onRecoverableError=X,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=De,this.incompleteTransitions=new Map}function dI(l,f,h,v,A,k,X,me,De,tt,dt,gt){return l=new Pz(l,f,h,X,De,tt,dt,gt,me),f=1,k===!0&&(f|=24),k=ji(3,null,null,f),l.current=k,k.stateNode=l,f=Af(),f.refCount++,l.pooledCache=f,f.refCount++,k.memoizedState={element:v,isDehydrated:h,cache:f},Ft(k),l}function hI(l){return l?(l=wi,l):wi}function pI(l,f,h,v,A,k){A=hI(A),v.context===null?v.context=A:v.pendingContext=A,v=Cn(f),v.payload={element:h},k=k===void 0?null:k,k!==null&&(v.callback=k),h=$n(l,v,f),h!==null&&(wo(h,l,f),Lr(h,l,f))}function mI(l,f){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var h=l.retryLane;l.retryLane=h!==0&&h<f?h:f}}function x_(l,f){mI(l,f),(l=l.alternate)&&mI(l,f)}function gI(l){if(l.tag===13||l.tag===31){var f=Hl(l,67108864);f!==null&&wo(f,l,67108864),x_(l,67108864)}}function xI(l){if(l.tag===13||l.tag===31){var f=jo();f=Zt(f);var h=Hl(l,f);h!==null&&wo(h,l,f),x_(l,f)}}var kv=!0;function Dz(l,f,h,v){var A=ae.T;ae.T=null;var k=pe.p;try{pe.p=2,v_(l,f,h,v)}finally{pe.p=k,ae.T=A}}function Mz(l,f,h,v){var A=ae.T;ae.T=null;var k=pe.p;try{pe.p=8,v_(l,f,h,v)}finally{pe.p=k,ae.T=A}}function v_(l,f,h,v){if(kv){var A=y_(v);if(A===null)s_(l,f,v,Rv,h),yI(l,v);else if(Fz(A,l,f,h,v))v.stopPropagation();else if(yI(l,v),f&4&&-1<Lz.indexOf(l)){for(;A!==null;){var k=Dt(A);if(k!==null)switch(k.tag){case 3:if(k=k.stateNode,k.current.memoizedState.isDehydrated){var X=Kt(k.pendingLanes);if(X!==0){var me=k;for(me.pendingLanes|=2,me.entangledLanes|=2;X;){var De=1<<31-vn(X);me.entanglements[1]|=De,X&=~De}Mc(k),(Or&6)===0&&(hv=Jt()+500,gg(0))}}break;case 31:case 13:me=Hl(k,2),me!==null&&wo(me,k,2),mv(),x_(k,2)}if(k=y_(v),k===null&&s_(l,f,v,Rv,h),k===A)break;A=k}A!==null&&v.stopPropagation()}else s_(l,f,v,null,h)}}function y_(l){return l=Bi(l),b_(l)}var Rv=null;function b_(l){if(Rv=null,l=Tt(l),l!==null){var f=i(l);if(f===null)l=null;else{var h=f.tag;if(h===13){if(l=a(f),l!==null)return l;l=null}else if(h===31){if(l=o(f),l!==null)return l;l=null}else if(h===3){if(f.stateNode.current.memoizedState.isDehydrated)return f.tag===3?f.stateNode.containerInfo:null;l=null}else f!==l&&(l=null)}}return Rv=l,null}function vI(l){switch(l){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(zt()){case Gt:return 2;case Nn:return 8;case Qt:case Lt:return 32;case kt:return 268435456;default:return 32}default:return 32}}var w_=!1,Vf=null,Uf=null,jf=null,Eg=new Map,Tg=new Map,qf=[],Lz="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function yI(l,f){switch(l){case"focusin":case"focusout":Vf=null;break;case"dragenter":case"dragleave":Uf=null;break;case"mouseover":case"mouseout":jf=null;break;case"pointerover":case"pointerout":Eg.delete(f.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tg.delete(f.pointerId)}}function Sg(l,f,h,v,A,k){return l===null||l.nativeEvent!==k?(l={blockedOn:f,domEventName:h,eventSystemFlags:v,nativeEvent:k,targetContainers:[A]},f!==null&&(f=Dt(f),f!==null&&gI(f)),l):(l.eventSystemFlags|=v,f=l.targetContainers,A!==null&&f.indexOf(A)===-1&&f.push(A),l)}function Fz(l,f,h,v,A){switch(f){case"focusin":return Vf=Sg(Vf,l,f,h,v,A),!0;case"dragenter":return Uf=Sg(Uf,l,f,h,v,A),!0;case"mouseover":return jf=Sg(jf,l,f,h,v,A),!0;case"pointerover":var k=A.pointerId;return Eg.set(k,Sg(Eg.get(k)||null,l,f,h,v,A)),!0;case"gotpointercapture":return k=A.pointerId,Tg.set(k,Sg(Tg.get(k)||null,l,f,h,v,A)),!0}return!1}function bI(l){var f=Tt(l.target);if(f!==null){var h=i(f);if(h!==null){if(f=h.tag,f===13){if(f=a(h),f!==null){l.blockedOn=f,_e(l.priority,function(){xI(h)});return}}else if(f===31){if(f=o(h),f!==null){l.blockedOn=f,_e(l.priority,function(){xI(h)});return}}else if(f===3&&h.stateNode.current.memoizedState.isDehydrated){l.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}l.blockedOn=null}function Pv(l){if(l.blockedOn!==null)return!1;for(var f=l.targetContainers;0<f.length;){var h=y_(l.nativeEvent);if(h===null){h=l.nativeEvent;var v=new h.constructor(h.type,h);Do=v,h.target.dispatchEvent(v),Do=null}else return f=Dt(h),f!==null&&gI(f),l.blockedOn=h,!1;f.shift()}return!0}function wI(l,f,h){Pv(l)&&h.delete(f)}function Oz(){w_=!1,Vf!==null&&Pv(Vf)&&(Vf=null),Uf!==null&&Pv(Uf)&&(Uf=null),jf!==null&&Pv(jf)&&(jf=null),Eg.forEach(wI),Tg.forEach(wI)}function Dv(l,f){l.blockedOn===f&&(l.blockedOn=null,w_||(w_=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Oz)))}var Mv=null;function _I(l){Mv!==l&&(Mv=l,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Mv===l&&(Mv=null);for(var f=0;f<l.length;f+=3){var h=l[f],v=l[f+1],A=l[f+2];if(typeof v!="function"){if(b_(v||h)===null)continue;break}var k=Dt(h);k!==null&&(l.splice(f,3),f-=3,yw(k,{pending:!0,data:A,method:h.method,action:v},v,A))}}))}function Y0(l){function f(De){return Dv(De,l)}Vf!==null&&Dv(Vf,l),Uf!==null&&Dv(Uf,l),jf!==null&&Dv(jf,l),Eg.forEach(f),Tg.forEach(f);for(var h=0;h<qf.length;h++){var v=qf[h];v.blockedOn===l&&(v.blockedOn=null)}for(;0<qf.length&&(h=qf[0],h.blockedOn===null);)bI(h),h.blockedOn===null&&qf.shift();if(h=(l.ownerDocument||l).$$reactFormReplay,h!=null)for(v=0;v<h.length;v+=3){var A=h[v],k=h[v+1],X=A[Te]||null;if(typeof k=="function")X||_I(h);else if(X){var me=null;if(k&&k.hasAttribute("formAction")){if(A=k,X=k[Te]||null)me=X.formAction;else if(b_(A)!==null)continue}else me=X.action;typeof me=="function"?h[v+1]=me:(h.splice(v,3),v-=3),_I(h)}}}function EI(){function l(k){k.canIntercept&&k.info==="react-transition"&&k.intercept({handler:function(){return new Promise(function(X){return A=X})},focusReset:"manual",scroll:"manual"})}function f(){A!==null&&(A(),A=null),v||setTimeout(h,20)}function h(){if(!v&&!navigation.transition){var k=navigation.currentEntry;k&&k.url!=null&&navigation.navigate(k.url,{state:k.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var v=!1,A=null;return navigation.addEventListener("navigate",l),navigation.addEventListener("navigatesuccess",f),navigation.addEventListener("navigateerror",f),setTimeout(h,100),function(){v=!0,navigation.removeEventListener("navigate",l),navigation.removeEventListener("navigatesuccess",f),navigation.removeEventListener("navigateerror",f),A!==null&&(A(),A=null)}}}function __(l){this._internalRoot=l}Lv.prototype.render=__.prototype.render=function(l){var f=this._internalRoot;if(f===null)throw Error(r(409));var h=f.current,v=jo();pI(h,v,l,f,null,null)},Lv.prototype.unmount=__.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var f=l.containerInfo;pI(l.current,2,null,l,null,null),mv(),f[Ae]=null}};function Lv(l){this._internalRoot=l}Lv.prototype.unstable_scheduleHydration=function(l){if(l){var f=se();l={blockedOn:null,target:l,priority:f};for(var h=0;h<qf.length&&f!==0&&f<qf[h].priority;h++);qf.splice(h,0,l),h===0&&bI(l)}};var TI=e.version;if(TI!=="19.2.0")throw Error(r(527,TI,"19.2.0"));pe.findDOMNode=function(l){var f=l._reactInternals;if(f===void 0)throw typeof l.render=="function"?Error(r(188)):(l=Object.keys(l).join(","),Error(r(268,l)));return l=u(f),l=l!==null?d(l):null,l=l===null?null:l.stateNode,l};var Bz={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:ae,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fv.isDisabled&&Fv.supportsFiber)try{Ot=Fv.inject(Bz),Ct=Fv}catch{}}return Cg.createRoot=function(l,f){if(!s(l))throw Error(r(299));var h=!1,v="",A=RN,k=PN,X=DN;return f!=null&&(f.unstable_strictMode===!0&&(h=!0),f.identifierPrefix!==void 0&&(v=f.identifierPrefix),f.onUncaughtError!==void 0&&(A=f.onUncaughtError),f.onCaughtError!==void 0&&(k=f.onCaughtError),f.onRecoverableError!==void 0&&(X=f.onRecoverableError)),f=dI(l,1,!1,null,null,h,v,null,A,k,X,EI),l[Ae]=f.current,r_(l),new __(f)},Cg.hydrateRoot=function(l,f,h){if(!s(l))throw Error(r(299));var v=!1,A="",k=RN,X=PN,me=DN,De=null;return h!=null&&(h.unstable_strictMode===!0&&(v=!0),h.identifierPrefix!==void 0&&(A=h.identifierPrefix),h.onUncaughtError!==void 0&&(k=h.onUncaughtError),h.onCaughtError!==void 0&&(X=h.onCaughtError),h.onRecoverableError!==void 0&&(me=h.onRecoverableError),h.formState!==void 0&&(De=h.formState)),f=dI(l,1,!0,f,h??null,v,A,De,k,X,me,EI),f.context=hI(null),h=f.current,v=jo(),v=Zt(v),A=Cn(v),A.callback=null,$n(h,A,v),h=v,f.current.lanes=h,hn(f,h),Mc(f),l[Ae]=f.current,r_(l),new Lv(f)},Cg.version="19.2.0",Cg}var MI;function Kz(){if(MI)return T_.exports;MI=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),T_.exports=Wz(),T_.exports}var Yz=Kz(),J=vS();const Ho=xS(J),uL=Uz({__proto__:null,default:Ho},[J]),yS=J.createContext({});function db(t){const e=J.useRef(null);return e.current===null&&(e.current=t()),e.current}const bS=typeof window<"u",wS=bS?J.useLayoutEffect:J.useEffect,hb=J.createContext(null);function _S(t,e){t.indexOf(e)===-1&&t.push(e)}function ES(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const tu=(t,e,n)=>n>e?e:n<t?t:n;let N1=()=>{};const Ju={},fL=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function dL(t){return typeof t=="object"&&t!==null}const hL=t=>/^0[^.\s]+$/u.test(t);function TS(t){let e;return()=>(e===void 0&&(e=t()),e)}const Ao=t=>t,Xz=(t,e)=>n=>e(t(n)),fx=(...t)=>t.reduce(Xz),em=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class SS{constructor(){this.subscriptions=[]}add(e){return _S(this.subscriptions,e),()=>ES(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const a=this.subscriptions[i];a&&a(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Wc=t=>t*1e3,El=t=>t/1e3;function AS(t,e){return e?t*(1e3/e):0}const pL=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,Jz=1e-7,Qz=12;function Zz(t,e,n,r,s){let i,a,o=0;do a=e+(n-e)/2,i=pL(a,r,s)-t,i>0?n=a:e=a;while(Math.abs(i)>Jz&&++o<Qz);return a}function dx(t,e,n,r){if(t===e&&n===r)return Ao;const s=i=>Zz(i,0,1,t,n);return i=>i===0||i===1?i:pL(s(i),e,r)}const mL=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,gL=t=>e=>1-t(1-e),xL=dx(.33,1.53,.69,.99),CS=gL(xL),vL=mL(CS),yL=t=>(t*=2)<1?.5*CS(t):.5*(2-Math.pow(2,-10*(t-1))),NS=t=>1-Math.sin(Math.acos(t)),bL=gL(NS),wL=mL(NS),eG=dx(.42,0,1,1),tG=dx(0,0,.58,1),_L=dx(.42,0,.58,1),nG=t=>Array.isArray(t)&&typeof t[0]!="number",EL=t=>Array.isArray(t)&&typeof t[0]=="number",rG={linear:Ao,easeIn:eG,easeInOut:_L,easeOut:tG,circIn:NS,circInOut:wL,circOut:bL,backIn:CS,backInOut:vL,backOut:xL,anticipate:yL},sG=t=>typeof t=="string",LI=t=>{if(EL(t)){N1(t.length===4);const[e,n,r,s]=t;return dx(e,n,r,s)}else if(sG(t))return rG[t];return t},Ov=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function iG(t,e){let n=new Set,r=new Set,s=!1,i=!1;const a=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function c(d){a.has(d)&&(u.schedule(d),t()),d(o)}const u={schedule:(d,p=!1,g=!1)=>{const w=g&&s?n:r;return p&&a.add(d),w.has(d)||w.add(d),d},cancel:d=>{r.delete(d),a.delete(d)},process:d=>{if(o=d,s){i=!0;return}s=!0,[n,r]=[r,n],n.forEach(c),n.clear(),s=!1,i&&(i=!1,u.process(d))}};return u}const aG=40;function TL(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,a=Ov.reduce((I,D)=>(I[D]=iG(i),I),{}),{setup:o,read:c,resolveKeyframes:u,preUpdate:d,update:p,preRender:g,render:x,postRender:w}=a,y=()=>{const I=Ju.useManualTiming?s.timestamp:performance.now();n=!1,Ju.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(I-s.timestamp,aG),1)),s.timestamp=I,s.isProcessing=!0,o.process(s),c.process(s),u.process(s),d.process(s),p.process(s),g.process(s),x.process(s),w.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(y))},S=()=>{n=!0,r=!0,s.isProcessing||t(y)};return{schedule:Ov.reduce((I,D)=>{const z=a[D];return I[D]=(G,P=!1,M=!1)=>(n||S(),z.schedule(G,P,M)),I},{}),cancel:I=>{for(let D=0;D<Ov.length;D++)a[Ov[D]].cancel(I)},state:s,steps:a}}const{schedule:es,cancel:nu,state:Gi,steps:I_}=TL(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ao,!0);let Sy;function oG(){Sy=void 0}const To={now:()=>(Sy===void 0&&To.set(Gi.isProcessing||Ju.useManualTiming?Gi.timestamp:performance.now()),Sy),set:t=>{Sy=t,queueMicrotask(oG)}},SL=t=>e=>typeof e=="string"&&e.startsWith(t),IS=SL("--"),lG=SL("var(--"),kS=t=>lG(t)?cG.test(t.split("/*")[0].trim()):!1,cG=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,_m={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},I1={..._m,transform:t=>tu(0,1,t)},Bv={..._m,default:1},t1=t=>Math.round(t*1e5)/1e5,RS=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function uG(t){return t==null}const fG=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,PS=(t,e)=>n=>!!(typeof n=="string"&&fG.test(n)&&n.startsWith(t)||e&&!uG(n)&&Object.prototype.hasOwnProperty.call(n,e)),AL=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,i,a,o]=r.match(RS);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(a),alpha:o!==void 0?parseFloat(o):1}},dG=t=>tu(0,255,t),k_={..._m,transform:t=>Math.round(dG(t))},vh={test:PS("rgb","red"),parse:AL("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+k_.transform(t)+", "+k_.transform(e)+", "+k_.transform(n)+", "+t1(I1.transform(r))+")"};function hG(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const w5={test:PS("#"),parse:hG,transform:vh.transform},hx=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Zf=hx("deg"),Kc=hx("%"),Pn=hx("px"),pG=hx("vh"),mG=hx("vw"),FI={...Kc,parse:t=>Kc.parse(t)/100,transform:t=>Kc.transform(t*100)},bp={test:PS("hsl","hue"),parse:AL("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Kc.transform(t1(e))+", "+Kc.transform(t1(n))+", "+t1(I1.transform(r))+")"},pi={test:t=>vh.test(t)||w5.test(t)||bp.test(t),parse:t=>vh.test(t)?vh.parse(t):bp.test(t)?bp.parse(t):w5.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?vh.transform(t):bp.transform(t),getAnimatableNone:t=>{const e=pi.parse(t);return e.alpha=0,pi.transform(e)}},gG=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function xG(t){return isNaN(t)&&typeof t=="string"&&(t.match(RS)?.length||0)+(t.match(gG)?.length||0)>0}const CL="number",NL="color",vG="var",yG="var(",OI="${}",bG=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function k1(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const o=e.replace(bG,c=>(pi.test(c)?(r.color.push(i),s.push(NL),n.push(pi.parse(c))):c.startsWith(yG)?(r.var.push(i),s.push(vG),n.push(c)):(r.number.push(i),s.push(CL),n.push(parseFloat(c))),++i,OI)).split(OI);return{values:n,split:o,indexes:r,types:s}}function IL(t){return k1(t).values}function kL(t){const{split:e,types:n}=k1(t),r=e.length;return s=>{let i="";for(let a=0;a<r;a++)if(i+=e[a],s[a]!==void 0){const o=n[a];o===CL?i+=t1(s[a]):o===NL?i+=pi.transform(s[a]):i+=s[a]}return i}}const wG=t=>typeof t=="number"?0:pi.test(t)?pi.getAnimatableNone(t):t;function _G(t){const e=IL(t);return kL(t)(e.map(wG))}const yd={test:xG,parse:IL,createTransformer:kL,getAnimatableNone:_G};function R_(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function EG({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,a=0;if(!e)s=i=a=n;else{const o=n<.5?n*(1+e):n+e-n*e,c=2*n-o;s=R_(c,o,t+1/3),i=R_(c,o,t),a=R_(c,o,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(a*255),alpha:r}}function o2(t,e){return n=>n>0?e:t}const Ms=(t,e,n)=>t+(e-t)*n,P_=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},TG=[w5,vh,bp],SG=t=>TG.find(e=>e.test(t));function BI(t){const e=SG(t);if(!e)return!1;let n=e.parse(t);return e===bp&&(n=EG(n)),n}const VI=(t,e)=>{const n=BI(t),r=BI(e);if(!n||!r)return o2(t,e);const s={...n};return i=>(s.red=P_(n.red,r.red,i),s.green=P_(n.green,r.green,i),s.blue=P_(n.blue,r.blue,i),s.alpha=Ms(n.alpha,r.alpha,i),vh.transform(s))},_5=new Set(["none","hidden"]);function AG(t,e){return _5.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function CG(t,e){return n=>Ms(t,e,n)}function DS(t){return typeof t=="number"?CG:typeof t=="string"?kS(t)?o2:pi.test(t)?VI:kG:Array.isArray(t)?RL:typeof t=="object"?pi.test(t)?VI:NG:o2}function RL(t,e){const n=[...t],r=n.length,s=t.map((i,a)=>DS(i)(i,e[a]));return i=>{for(let a=0;a<r;a++)n[a]=s[a](i);return n}}function NG(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=DS(t[s])(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function IG(t,e){const n=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const i=e.types[s],a=t.indexes[i][r[i]],o=t.values[a]??0;n[s]=o,r[i]++}return n}const kG=(t,e)=>{const n=yd.createTransformer(e),r=k1(t),s=k1(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?_5.has(t)&&!s.values.length||_5.has(e)&&!r.values.length?AG(t,e):fx(RL(IG(r,s),s.values),n):o2(t,e)};function PL(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Ms(t,e,n):DS(t)(t,e)}const RG=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>es.update(e,n),stop:()=>nu(e),now:()=>Gi.isProcessing?Gi.timestamp:To.now()}},DL=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let i=0;i<s;i++)r+=Math.round(t(i/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},l2=2e4;function MS(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<l2;)e+=n,r=t.next(e);return e>=l2?1/0:e}function PG(t,e=100,n){const r=n({...t,keyframes:[0,e]}),s=Math.min(MS(r),l2);return{type:"keyframes",ease:i=>r.next(s*i).value/e,duration:El(s)}}const DG=5;function ML(t,e,n){const r=Math.max(e-DG,0);return AS(n-t(r),e-r)}const zs={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},D_=.001;function MG({duration:t=zs.duration,bounce:e=zs.bounce,velocity:n=zs.velocity,mass:r=zs.mass}){let s,i,a=1-e;a=tu(zs.minDamping,zs.maxDamping,a),t=tu(zs.minDuration,zs.maxDuration,El(t)),a<1?(s=u=>{const d=u*a,p=d*t,g=d-n,x=E5(u,a),w=Math.exp(-p);return D_-g/x*w},i=u=>{const p=u*a*t,g=p*n+n,x=Math.pow(a,2)*Math.pow(u,2)*t,w=Math.exp(-p),y=E5(Math.pow(u,2),a);return(-s(u)+D_>0?-1:1)*((g-x)*w)/y}):(s=u=>{const d=Math.exp(-u*t),p=(u-n)*t+1;return-D_+d*p},i=u=>{const d=Math.exp(-u*t),p=(n-u)*(t*t);return d*p});const o=5/t,c=FG(s,i,o);if(t=Wc(t),isNaN(c))return{stiffness:zs.stiffness,damping:zs.damping,duration:t};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:a*2*Math.sqrt(r*u),duration:t}}}const LG=12;function FG(t,e,n){let r=n;for(let s=1;s<LG;s++)r=r-t(r)/e(r);return r}function E5(t,e){return t*Math.sqrt(1-e*e)}const OG=["duration","bounce"],BG=["stiffness","damping","mass"];function UI(t,e){return e.some(n=>t[n]!==void 0)}function VG(t){let e={velocity:zs.velocity,stiffness:zs.stiffness,damping:zs.damping,mass:zs.mass,isResolvedFromDuration:!1,...t};if(!UI(t,BG)&&UI(t,OG))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*tu(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:zs.mass,stiffness:s,damping:i}}else{const n=MG(t);e={...e,...n,mass:zs.mass},e.isResolvedFromDuration=!0}return e}function c2(t=zs.visualDuration,e=zs.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],o={done:!1,value:i},{stiffness:c,damping:u,mass:d,duration:p,velocity:g,isResolvedFromDuration:x}=VG({...n,velocity:-El(n.velocity||0)}),w=g||0,y=u/(2*Math.sqrt(c*d)),S=a-i,C=El(Math.sqrt(c/d)),F=Math.abs(S)<5;r||(r=F?zs.restSpeed.granular:zs.restSpeed.default),s||(s=F?zs.restDelta.granular:zs.restDelta.default);let I;if(y<1){const z=E5(C,y);I=G=>{const P=Math.exp(-y*C*G);return a-P*((w+y*C*S)/z*Math.sin(z*G)+S*Math.cos(z*G))}}else if(y===1)I=z=>a-Math.exp(-C*z)*(S+(w+C*S)*z);else{const z=C*Math.sqrt(y*y-1);I=G=>{const P=Math.exp(-y*C*G),M=Math.min(z*G,300);return a-P*((w+y*C*S)*Math.sinh(M)+z*S*Math.cosh(M))/z}}const D={calculatedDuration:x&&p||null,next:z=>{const G=I(z);if(x)o.done=z>=p;else{let P=z===0?w:0;y<1&&(P=z===0?Wc(w):ML(I,z,G));const M=Math.abs(P)<=r,R=Math.abs(a-G)<=s;o.done=M&&R}return o.value=o.done?a:G,o},toString:()=>{const z=Math.min(MS(D),l2),G=DL(P=>D.next(z*P).value,z,30);return z+"ms "+G},toTransition:()=>{}};return D}c2.applyToOptions=t=>{const e=PG(t,100,c2);return t.ease=e.ease,t.duration=Wc(e.duration),t.type="keyframes",t};function T5({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:a,min:o,max:c,restDelta:u=.5,restSpeed:d}){const p=t[0],g={done:!1,value:p},x=M=>o!==void 0&&M<o||c!==void 0&&M>c,w=M=>o===void 0?c:c===void 0||Math.abs(o-M)<Math.abs(c-M)?o:c;let y=n*e;const S=p+y,C=a===void 0?S:a(S);C!==S&&(y=C-p);const F=M=>-y*Math.exp(-M/r),I=M=>C+F(M),D=M=>{const R=F(M),U=I(M);g.done=Math.abs(R)<=u,g.value=g.done?C:U};let z,G;const P=M=>{x(g.value)&&(z=M,G=c2({keyframes:[g.value,w(g.value)],velocity:ML(I,M,g.value),damping:s,stiffness:i,restDelta:u,restSpeed:d}))};return P(0),{calculatedDuration:null,next:M=>{let R=!1;return!G&&z===void 0&&(R=!0,D(M),P(M)),z!==void 0&&M>=z?G.next(M-z):(!R&&D(M),g)}}}function UG(t,e,n){const r=[],s=n||Ju.mix||PL,i=t.length-1;for(let a=0;a<i;a++){let o=s(t[a],t[a+1]);if(e){const c=Array.isArray(e)?e[a]||Ao:e;o=fx(c,o)}r.push(o)}return r}function LL(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(N1(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=UG(e,r,s),c=o.length,u=d=>{if(a&&d<t[0])return e[0];let p=0;if(c>1)for(;p<t.length-2&&!(d<t[p+1]);p++);const g=em(t[p],t[p+1],d);return o[p](g)};return n?d=>u(tu(t[0],t[i-1],d)):u}function jG(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=em(0,e,r);t.push(Ms(n,1,s))}}function FL(t){const e=[0];return jG(e,t.length-1),e}function qG(t,e){return t.map(n=>n*e)}function HG(t,e){return t.map(()=>e||_L).splice(0,t.length-1)}function n1({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=nG(r)?r.map(LI):LI(r),i={done:!1,value:e[0]},a=qG(n&&n.length===e.length?n:FL(e),t),o=LL(a,e,{ease:Array.isArray(s)?s:HG(e,s)});return{calculatedDuration:t,next:c=>(i.value=o(c),i.done=c>=t,i)}}const zG=t=>t!==null;function LS(t,{repeat:e,repeatType:n="loop"},r,s=1){const i=t.filter(zG),o=s<0||e&&n!=="loop"&&e%2===1?0:i.length-1;return!o||r===void 0?i[o]:r}const GG={decay:T5,inertia:T5,tween:n1,keyframes:n1,spring:c2};function OL(t){typeof t.type=="string"&&(t.type=GG[t.type])}class FS{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const $G=t=>t/100;class OS extends FS{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==To.now()&&this.tick(To.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;OL(e);const{type:n=n1,repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:a=0}=e;let{keyframes:o}=e;const c=n||n1;c!==n1&&typeof o[0]!="number"&&(this.mixKeyframes=fx($G,PL(o[0],o[1])),o=[0,100]);const u=c({...e,keyframes:o});i==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...o].reverse(),velocity:-a})),u.calculatedDuration===null&&(u.calculatedDuration=MS(u));const{calculatedDuration:d}=u;this.calculatedDuration=d,this.resolvedDuration=d+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=u}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:s,mixKeyframes:i,mirroredGenerator:a,resolvedDuration:o,calculatedDuration:c}=this;if(this.startTime===null)return r.next(0);const{delay:u=0,keyframes:d,repeat:p,repeatType:g,repeatDelay:x,type:w,onUpdate:y,finalKeyframe:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const C=this.currentTime-u*(this.playbackSpeed>=0?1:-1),F=this.playbackSpeed>=0?C<0:C>s;this.currentTime=Math.max(C,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let I=this.currentTime,D=r;if(p){const M=Math.min(this.currentTime,s)/o;let R=Math.floor(M),U=M%1;!U&&M>=1&&(U=1),U===1&&R--,R=Math.min(R,p+1),!!(R%2)&&(g==="reverse"?(U=1-U,x&&(U-=x/o)):g==="mirror"&&(D=a)),I=tu(0,1,U)*o}const z=F?{done:!1,value:d[0]}:D.next(I);i&&(z.value=i(z.value));let{done:G}=z;!F&&c!==null&&(G=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const P=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&G);return P&&w!==T5&&(z.value=LS(d,this.options,S,this.speed)),y&&y(z.value),P&&this.finish(),z}then(e,n){return this.finished.then(e,n)}get duration(){return El(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+El(e)}get time(){return El(this.currentTime)}set time(e){e=Wc(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(To.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=El(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=RG,startTime:n}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(To.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function WG(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const yh=t=>t*180/Math.PI,S5=t=>{const e=yh(Math.atan2(t[1],t[0]));return A5(e)},KG={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:S5,rotateZ:S5,skewX:t=>yh(Math.atan(t[1])),skewY:t=>yh(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},A5=t=>(t=t%360,t<0&&(t+=360),t),jI=S5,qI=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),HI=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),YG={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:qI,scaleY:HI,scale:t=>(qI(t)+HI(t))/2,rotateX:t=>A5(yh(Math.atan2(t[6],t[5]))),rotateY:t=>A5(yh(Math.atan2(-t[2],t[0]))),rotateZ:jI,rotate:jI,skewX:t=>yh(Math.atan(t[4])),skewY:t=>yh(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function C5(t){return t.includes("scale")?1:0}function N5(t,e){if(!t||t==="none")return C5(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=YG,s=n;else{const o=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=KG,s=o}if(!s)return C5(e);const i=r[e],a=s[1].split(",").map(JG);return typeof i=="function"?i(a):a[i]}const XG=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return N5(n,e)};function JG(t){return parseFloat(t.trim())}const Em=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Tm=new Set(Em),zI=t=>t===_m||t===Pn,QG=new Set(["x","y","z"]),ZG=Em.filter(t=>!QG.has(t));function e$(t){const e=[];return ZG.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const _h={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>N5(e,"x"),y:(t,{transform:e})=>N5(e,"y")};_h.translateX=_h.x;_h.translateY=_h.y;const Eh=new Set;let I5=!1,k5=!1,R5=!1;function BL(){if(k5){const t=Array.from(Eh).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=e$(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,a])=>{r.getValue(i)?.set(a)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}k5=!1,I5=!1,Eh.forEach(t=>t.complete(R5)),Eh.clear()}function VL(){Eh.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(k5=!0)})}function t$(){R5=!0,VL(),BL(),R5=!1}class BS{constructor(e,n,r,s,i,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(Eh.add(this),I5||(I5=!0,es.read(VL),es.resolveKeyframes(BL))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;if(e[0]===null){const i=s?.get(),a=e[e.length-1];if(i!==void 0)e[0]=i;else if(r&&n){const o=r.readValue(n,a);o!=null&&(e[0]=o)}e[0]===void 0&&(e[0]=a),s&&i===void 0&&s.set(e[0])}WG(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Eh.delete(this)}cancel(){this.state==="scheduled"&&(Eh.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const n$=t=>t.startsWith("--");function r$(t,e,n){n$(e)?t.style.setProperty(e,n):t.style[e]=n}const UL=TS(()=>window.ScrollTimeline!==void 0),s$={};function i$(t,e){const n=TS(t);return()=>s$[e]??n()}const jL=i$(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ug=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,GI={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ug([0,.65,.55,1]),circOut:Ug([.55,0,1,.45]),backIn:Ug([.31,.01,.66,-.59]),backOut:Ug([.33,1.53,.69,.99])};function qL(t,e){if(t)return typeof t=="function"?jL()?DL(t,e):"ease-out":EL(t)?Ug(t):Array.isArray(t)?t.map(n=>qL(n,e)||GI.easeOut):GI[t]}function a$(t,e,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:a="loop",ease:o="easeOut",times:c}={},u=void 0){const d={[e]:n};c&&(d.offset=c);const p=qL(o,s);Array.isArray(p)&&(d.easing=p);const g={delay:r,duration:s,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:i+1,direction:a==="reverse"?"alternate":"normal"};return u&&(g.pseudoElement=u),t.animate(d,g)}function HL(t){return typeof t=="function"&&"applyToOptions"in t}function o$({type:t,...e}){return HL(t)&&jL()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class l$ extends FS{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:s,pseudoElement:i,allowFlatten:a=!1,finalKeyframe:o,onComplete:c}=e;this.isPseudoElement=!!i,this.allowFlatten=a,this.options=e,N1(typeof e.type!="string");const u=o$(e);this.animation=a$(n,r,s,u,i),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const d=LS(s,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(d):r$(n,r,d),this.animation.cancel()}c?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return El(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+El(e)}get time(){return El(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Wc(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&UL()?(this.animation.timeline=e,Ao):n(this)}}const zL={anticipate:yL,backInOut:vL,circInOut:wL};function c$(t){return t in zL}function u$(t){typeof t.ease=="string"&&c$(t.ease)&&(t.ease=zL[t.ease])}const $I=10;class f$ extends l${constructor(e){u$(e),OL(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:s,element:i,...a}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const o=new OS({...a,autoplay:!1}),c=Wc(this.finishedTime??this.time);n.setWithVelocity(o.sample(c-$I).value,o.sample(c).value,$I),o.stop()}}const WI=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(yd.test(t)||t==="0")&&!t.startsWith("url("));function d$(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function h$(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],a=WI(s,e),o=WI(i,e);return!a||!o?!1:d$(t)||(n==="spring"||HL(n))&&r}function P5(t){t.duration=0,t.type="keyframes"}const p$=new Set(["opacity","clipPath","filter","transform"]),m$=TS(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function g$(t){const{motionValue:e,name:n,repeatDelay:r,repeatType:s,damping:i,type:a}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=e.owner.getProps();return m$()&&n&&p$.has(n)&&(n!=="transform"||!u)&&!c&&!r&&s!=="mirror"&&i!==0&&a!=="inertia"}const x$=40;class v$ extends FS{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:a="loop",keyframes:o,name:c,motionValue:u,element:d,...p}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=To.now();const g={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:a,name:c,motionValue:u,element:d,...p},x=d?.KeyframeResolver||BS;this.keyframeResolver=new x(o,(w,y,S)=>this.onKeyframesResolved(w,y,g,!S),c,u,d),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,r,s){this.keyframeResolver=void 0;const{name:i,type:a,velocity:o,delay:c,isHandoff:u,onUpdate:d}=r;this.resolvedAt=To.now(),h$(e,i,a,o)||((Ju.instantAnimations||!c)&&d?.(LS(e,r,n)),e[0]=e[e.length-1],P5(r),r.repeat=0);const g={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>x$?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},x=!u&&g$(g)?new f$({...g,element:g.motionValue.owner.current}):new OS(g);x.finished.then(()=>this.notifyFinished()).catch(Ao),this.pendingTimeline&&(this.stopTimeline=x.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=x}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),t$()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const y$=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function b$(t){const e=y$.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function GL(t,e,n=1){const[r,s]=b$(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const a=i.trim();return fL(a)?parseFloat(a):a}return kS(s)?GL(s,e,n+1):s}function VS(t,e){return t?.[e]??t?.default??t}const $L=new Set(["width","height","top","left","right","bottom",...Em]),w$={test:t=>t==="auto",parse:t=>t},WL=t=>e=>e.test(t),KL=[_m,Pn,Kc,Zf,mG,pG,w$],KI=t=>KL.find(WL(t));function _$(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||hL(t):!0}const E$=new Set(["brightness","contrast","saturate","opacity"]);function T$(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(RS)||[];if(!r)return t;const s=n.replace(r,"");let i=E$.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const S$=/\b([a-z-]*)\(.*?\)/gu,D5={...yd,getAnimatableNone:t=>{const e=t.match(S$);return e?e.map(T$).join(" "):t}},YI={..._m,transform:Math.round},A$={rotate:Zf,rotateX:Zf,rotateY:Zf,rotateZ:Zf,scale:Bv,scaleX:Bv,scaleY:Bv,scaleZ:Bv,skew:Zf,skewX:Zf,skewY:Zf,distance:Pn,translateX:Pn,translateY:Pn,translateZ:Pn,x:Pn,y:Pn,z:Pn,perspective:Pn,transformPerspective:Pn,opacity:I1,originX:FI,originY:FI,originZ:Pn},US={borderWidth:Pn,borderTopWidth:Pn,borderRightWidth:Pn,borderBottomWidth:Pn,borderLeftWidth:Pn,borderRadius:Pn,radius:Pn,borderTopLeftRadius:Pn,borderTopRightRadius:Pn,borderBottomRightRadius:Pn,borderBottomLeftRadius:Pn,width:Pn,maxWidth:Pn,height:Pn,maxHeight:Pn,top:Pn,right:Pn,bottom:Pn,left:Pn,padding:Pn,paddingTop:Pn,paddingRight:Pn,paddingBottom:Pn,paddingLeft:Pn,margin:Pn,marginTop:Pn,marginRight:Pn,marginBottom:Pn,marginLeft:Pn,backgroundPositionX:Pn,backgroundPositionY:Pn,...A$,zIndex:YI,fillOpacity:I1,strokeOpacity:I1,numOctaves:YI},C$={...US,color:pi,backgroundColor:pi,outlineColor:pi,fill:pi,stroke:pi,borderColor:pi,borderTopColor:pi,borderRightColor:pi,borderBottomColor:pi,borderLeftColor:pi,filter:D5,WebkitFilter:D5},YL=t=>C$[t];function XL(t,e){let n=YL(t);return n!==D5&&(n=yd),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const N$=new Set(["auto","none","0"]);function I$(t,e,n){let r=0,s;for(;r<t.length&&!s;){const i=t[r];typeof i=="string"&&!N$.has(i)&&k1(i).values.length&&(s=t[r]),r++}if(s&&n)for(const i of e)t[i]=XL(n,s)}class k$ extends BS{constructor(e,n,r,s,i){super(e,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="string"&&(u=u.trim(),kS(u))){const d=GL(u,n.current);d!==void 0&&(e[c]=d),c===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!$L.has(r)||e.length!==2)return;const[s,i]=e,a=KI(s),o=KI(i);if(a!==o)if(zI(a)&&zI(o))for(let c=0;c<e.length;c++){const u=e[c];typeof u=="string"&&(e[c]=parseFloat(u))}else _h[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)(e[s]===null||_$(e[s]))&&r.push(s);r.length&&I$(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=_h[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const s=e.getValue(n);s&&s.jump(this.measuredOrigin,!1);const i=r.length-1,a=r[i];r[i]=_h[n](e.measureViewportBox(),window.getComputedStyle(e.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),this.removedTransforms?.length&&this.removedTransforms.forEach(([o,c])=>{e.getValue(o).set(c)}),this.resolveNoneKeyframes()}}function JL(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){const s=document.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const QL=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function jS(t){return dL(t)&&"offsetHeight"in t}const XI=30,R$=t=>!isNaN(parseFloat(t));class P${constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const s=To.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const i of this.dependents)i.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=To.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=R$(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new SS);const r=this.events[e].add(n);return e==="change"?()=>{r(),es.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=To.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>XI)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,XI);return AS(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function qc(t,e){return new P$(t,e)}const{schedule:qS}=TL(queueMicrotask,!1),tc={x:!1,y:!1};function ZL(){return tc.x||tc.y}function D$(t){return t==="x"||t==="y"?tc[t]?null:(tc[t]=!0,()=>{tc[t]=!1}):tc.x||tc.y?null:(tc.x=tc.y=!0,()=>{tc.x=tc.y=!1})}function eF(t,e){const n=JL(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function JI(t){return!(t.pointerType==="touch"||ZL())}function M$(t,e,n={}){const[r,s,i]=eF(t,n),a=o=>{if(!JI(o))return;const{target:c}=o,u=e(c,o);if(typeof u!="function"||!c)return;const d=p=>{JI(p)&&(u(p),c.removeEventListener("pointerleave",d))};c.addEventListener("pointerleave",d,s)};return r.forEach(o=>{o.addEventListener("pointerenter",a,s)}),i}const tF=(t,e)=>e?t===e?!0:tF(t,e.parentElement):!1,HS=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,L$=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function F$(t){return L$.has(t.tagName)||t.tabIndex!==-1}const Ay=new WeakSet;function QI(t){return e=>{e.key==="Enter"&&t(e)}}function M_(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const O$=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=QI(()=>{if(Ay.has(n))return;M_(n,"down");const s=QI(()=>{M_(n,"up")}),i=()=>M_(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function ZI(t){return HS(t)&&!ZL()}function B$(t,e,n={}){const[r,s,i]=eF(t,n),a=o=>{const c=o.currentTarget;if(!ZI(o))return;Ay.add(c);const u=e(c,o),d=(x,w)=>{window.removeEventListener("pointerup",p),window.removeEventListener("pointercancel",g),Ay.has(c)&&Ay.delete(c),ZI(x)&&typeof u=="function"&&u(x,{success:w})},p=x=>{d(x,c===window||c===document||n.useGlobalTarget||tF(c,x.target))},g=x=>{d(x,!1)};window.addEventListener("pointerup",p,s),window.addEventListener("pointercancel",g,s)};return r.forEach(o=>{(n.useGlobalTarget?window:o).addEventListener("pointerdown",a,s),jS(o)&&(o.addEventListener("focus",u=>O$(u,s)),!F$(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),i}function zS(t){return dL(t)&&"ownerSVGElement"in t}const Cy=new WeakMap;let Ny;const nF=(t,e,n)=>(r,s)=>s&&s[0]?s[0][t+"Size"]:zS(r)&&"getBBox"in r?r.getBBox()[e]:r[n],V$=nF("inline","width","offsetWidth"),U$=nF("block","height","offsetHeight");function j$({target:t,borderBoxSize:e}){Cy.get(t)?.forEach(n=>{n(t,{get width(){return V$(t,e)},get height(){return U$(t,e)}})})}function q$(t){t.forEach(j$)}function H$(){typeof ResizeObserver>"u"||(Ny=new ResizeObserver(q$))}function z$(t,e){Ny||H$();const n=JL(t);return n.forEach(r=>{let s=Cy.get(r);s||(s=new Set,Cy.set(r,s)),s.add(e),Ny?.observe(r)}),()=>{n.forEach(r=>{const s=Cy.get(r);s?.delete(e),s?.size||Ny?.unobserve(r)})}}const Iy=new Set;let wp;function G$(){wp=()=>{const t={get width(){return window.innerWidth},get height(){return window.innerHeight}};Iy.forEach(e=>e(t))},window.addEventListener("resize",wp)}function $$(t){return Iy.add(t),wp||G$(),()=>{Iy.delete(t),!Iy.size&&typeof wp=="function"&&(window.removeEventListener("resize",wp),wp=void 0)}}function W$(t,e){return typeof t=="function"?$$(t):z$(t,e)}function rF(t,e){let n;const r=()=>{const{currentTime:s}=e,a=(s===null?0:s.value)/100;n!==a&&t(a),n=a};return es.preUpdate(r,!0),()=>nu(r)}function K$(t){return zS(t)&&t.tagName==="svg"}const ka=t=>!!(t&&t.getVelocity),Y$=[...KL,pi,yd],X$=t=>Y$.find(WL(t)),GS=J.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function ek(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function J$(...t){return e=>{let n=!1;const r=t.map(s=>{const i=ek(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():ek(t[s],null)}}}}function Q$(...t){return J.useCallback(J$(...t),t)}class Z$ extends J.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=jS(r)&&r.offsetWidth||0,i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft,i.right=s-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function eW({children:t,isPresent:e,anchorX:n,root:r}){const s=J.useId(),i=J.useRef(null),a=J.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=J.useContext(GS),c=Q$(i,t?.ref);return J.useInsertionEffect(()=>{const{width:u,height:d,top:p,left:g,right:x}=a.current;if(e||!i.current||!u||!d)return;const w=n==="left"?`left: ${g}`:`right: ${x}`;i.current.dataset.motionPopId=s;const y=document.createElement("style");o&&(y.nonce=o);const S=r??document.head;return S.appendChild(y),y.sheet&&y.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${d}px !important;
            ${w}px !important;
            top: ${p}px !important;
          }
        `),()=>{S.contains(y)&&S.removeChild(y)}},[e]),m.jsx(Z$,{isPresent:e,childRef:i,sizeRef:a,children:J.cloneElement(t,{ref:c})})}const tW=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:a,anchorX:o,root:c})=>{const u=db(nW),d=J.useId();let p=!0,g=J.useMemo(()=>(p=!1,{id:d,initial:e,isPresent:n,custom:s,onExitComplete:x=>{u.set(x,!0);for(const w of u.values())if(!w)return;r&&r()},register:x=>(u.set(x,!1),()=>u.delete(x))}),[n,u,r]);return i&&p&&(g={...g}),J.useMemo(()=>{u.forEach((x,w)=>u.set(w,!1))},[n]),J.useEffect(()=>{!n&&!u.size&&r&&r()},[n]),a==="popLayout"&&(t=m.jsx(eW,{isPresent:n,anchorX:o,root:c,children:t})),m.jsx(hb.Provider,{value:g,children:t})};function nW(){return new Map}function sF(t=!0){const e=J.useContext(hb);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,i=J.useId();J.useEffect(()=>{if(t)return s(i)},[t]);const a=J.useCallback(()=>t&&r&&r(i),[i,r,t]);return!n&&r?[!1,a]:[!0]}const Vv=t=>t.key||"";function tk(t){const e=[];return J.Children.forEach(t,n=>{J.isValidElement(n)&&e.push(n)}),e}const ru=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:a=!1,anchorX:o="left",root:c})=>{const[u,d]=sF(a),p=J.useMemo(()=>tk(t),[t]),g=a&&!u?[]:p.map(Vv),x=J.useRef(!0),w=J.useRef(p),y=db(()=>new Map),[S,C]=J.useState(p),[F,I]=J.useState(p);wS(()=>{x.current=!1,w.current=p;for(let G=0;G<F.length;G++){const P=Vv(F[G]);g.includes(P)?y.delete(P):y.get(P)!==!0&&y.set(P,!1)}},[F,g.length,g.join("-")]);const D=[];if(p!==S){let G=[...p];for(let P=0;P<F.length;P++){const M=F[P],R=Vv(M);g.includes(R)||(G.splice(P,0,M),D.push(M))}return i==="wait"&&D.length&&(G=D),I(tk(G)),C(p),null}const{forceRender:z}=J.useContext(yS);return m.jsx(m.Fragment,{children:F.map(G=>{const P=Vv(G),M=a&&!u?!1:p===F||g.includes(P),R=()=>{if(y.has(P))y.set(P,!0);else return;let U=!0;y.forEach(L=>{L||(U=!1)}),U&&(z?.(),I(w.current),a&&d?.(),r&&r())};return m.jsx(tW,{isPresent:M,initial:!x.current||n?void 0:!1,custom:e,presenceAffectsLayout:s,mode:i,root:c,onExitComplete:M?void 0:R,anchorX:o,children:G},P)})})},iF=J.createContext({strict:!1}),nk={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},tm={};for(const t in nk)tm[t]={isEnabled:e=>nk[t].some(n=>!!e[n])};function rW(t){for(const e in t)tm[e]={...tm[e],...t[e]}}const sW=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function u2(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||sW.has(t)}let aF=t=>!u2(t);function iW(t){typeof t=="function"&&(aF=e=>e.startsWith("on")?!u2(e):t(e))}try{iW(require("@emotion/is-prop-valid").default)}catch{}function aW(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(aF(s)||n===!0&&u2(s)||!e&&!u2(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}const pb=J.createContext({});function mb(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function R1(t){return typeof t=="string"||Array.isArray(t)}const $S=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],WS=["initial",...$S];function gb(t){return mb(t.animate)||WS.some(e=>R1(t[e]))}function oF(t){return!!(gb(t)||t.variants)}function oW(t,e){if(gb(t)){const{initial:n,animate:r}=t;return{initial:n===!1||R1(n)?n:void 0,animate:R1(r)?r:void 0}}return t.inherit!==!1?e:{}}function lW(t){const{initial:e,animate:n}=oW(t,J.useContext(pb));return J.useMemo(()=>({initial:e,animate:n}),[rk(e),rk(n)])}function rk(t){return Array.isArray(t)?t.join(" "):t}const P1={};function cW(t){for(const e in t)P1[e]=t[e],IS(e)&&(P1[e].isCSSVariable=!0)}function lF(t,{layout:e,layoutId:n}){return Tm.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!P1[t]||t==="opacity")}const uW={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},fW=Em.length;function dW(t,e,n){let r="",s=!0;for(let i=0;i<fW;i++){const a=Em[i],o=t[a];if(o===void 0)continue;let c=!0;if(typeof o=="number"?c=o===(a.startsWith("scale")?1:0):c=parseFloat(o)===0,!c||n){const u=QL(o,US[a]);if(!c){s=!1;const d=uW[a]||a;r+=`${d}(${u}) `}n&&(e[a]=u)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function KS(t,e,n){const{style:r,vars:s,transformOrigin:i}=t;let a=!1,o=!1;for(const c in e){const u=e[c];if(Tm.has(c)){a=!0;continue}else if(IS(c)){s[c]=u;continue}else{const d=QL(u,US[c]);c.startsWith("origin")?(o=!0,i[c]=d):r[c]=d}}if(e.transform||(a||n?r.transform=dW(e,t.transform,n):r.transform&&(r.transform="none")),o){const{originX:c="50%",originY:u="50%",originZ:d=0}=i;r.transformOrigin=`${c} ${u} ${d}`}}const YS=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function cF(t,e,n){for(const r in e)!ka(e[r])&&!lF(r,n)&&(t[r]=e[r])}function hW({transformTemplate:t},e){return J.useMemo(()=>{const n=YS();return KS(n,e,t),Object.assign({},n.vars,n.style)},[e])}function pW(t,e){const n=t.style||{},r={};return cF(r,n,t),Object.assign(r,hW(t,e)),r}function mW(t,e){const n={},r=pW(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const gW={offset:"stroke-dashoffset",array:"stroke-dasharray"},xW={offset:"strokeDashoffset",array:"strokeDasharray"};function vW(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?gW:xW;t[i.offset]=Pn.transform(-r);const a=Pn.transform(e),o=Pn.transform(n);t[i.array]=`${a} ${o}`}function uF(t,{attrX:e,attrY:n,attrScale:r,pathLength:s,pathSpacing:i=1,pathOffset:a=0,...o},c,u,d){if(KS(t,o,u),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:g}=t;p.transform&&(g.transform=p.transform,delete p.transform),(g.transform||p.transformOrigin)&&(g.transformOrigin=p.transformOrigin??"50% 50%",delete p.transformOrigin),g.transform&&(g.transformBox=d?.transformBox??"fill-box",delete p.transformBox),e!==void 0&&(p.x=e),n!==void 0&&(p.y=n),r!==void 0&&(p.scale=r),s!==void 0&&vW(p,s,i,a,!1)}const fF=()=>({...YS(),attrs:{}}),dF=t=>typeof t=="string"&&t.toLowerCase()==="svg";function yW(t,e,n,r){const s=J.useMemo(()=>{const i=fF();return uF(i,e,dF(r),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};cF(i,t.style,t),s.style={...i,...s.style}}return s}const bW=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function XS(t){return typeof t!="string"||t.includes("-")?!1:!!(bW.indexOf(t)>-1||/[A-Z]/u.test(t))}function wW(t,e,n,{latestValues:r},s,i=!1){const o=(XS(t)?yW:mW)(e,r,s,t),c=aW(e,typeof t=="string",i),u=t!==J.Fragment?{...c,...o,ref:n}:{},{children:d}=e,p=J.useMemo(()=>ka(d)?d.get():d,[d]);return J.createElement(t,{...u,children:p})}function sk(t){const e=[{},{}];return t?.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function JS(t,e,n,r){if(typeof e=="function"){const[s,i]=sk(r);e=e(n!==void 0?n:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=sk(r);e=e(n!==void 0?n:t.custom,s,i)}return e}function ky(t){return ka(t)?t.get():t}function _W({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,s){return{latestValues:EW(n,r,s,t),renderState:e()}}function EW(t,e,n,r){const s={},i=r(t,{});for(const g in i)s[g]=ky(i[g]);let{initial:a,animate:o}=t;const c=gb(t),u=oF(t);e&&u&&!c&&t.inherit!==!1&&(a===void 0&&(a=e.initial),o===void 0&&(o=e.animate));let d=n?n.initial===!1:!1;d=d||a===!1;const p=d?o:a;if(p&&typeof p!="boolean"&&!mb(p)){const g=Array.isArray(p)?p:[p];for(let x=0;x<g.length;x++){const w=JS(t,g[x]);if(w){const{transitionEnd:y,transition:S,...C}=w;for(const F in C){let I=C[F];if(Array.isArray(I)){const D=d?I.length-1:0;I=I[D]}I!==null&&(s[F]=I)}for(const F in y)s[F]=y[F]}}}return s}const hF=t=>(e,n)=>{const r=J.useContext(pb),s=J.useContext(hb),i=()=>_W(t,e,r,s);return n?i():db(i)};function QS(t,e,n){const{style:r}=t,s={};for(const i in r)(ka(r[i])||e.style&&ka(e.style[i])||lF(i,t)||n?.getValue(i)?.liveStyle!==void 0)&&(s[i]=r[i]);return s}const TW=hF({scrapeMotionValuesFromProps:QS,createRenderState:YS});function pF(t,e,n){const r=QS(t,e,n);for(const s in t)if(ka(t[s])||ka(e[s])){const i=Em.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=t[s]}return r}const SW=hF({scrapeMotionValuesFromProps:pF,createRenderState:fF}),AW=Symbol.for("motionComponentSymbol");function _p(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function CW(t,e,n){return J.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):_p(n)&&(n.current=r))},[e])}const ZS=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),NW="framerAppearId",mF="data-"+ZS(NW),gF=J.createContext({});function IW(t,e,n,r,s){const{visualElement:i}=J.useContext(pb),a=J.useContext(iF),o=J.useContext(hb),c=J.useContext(GS).reducedMotion,u=J.useRef(null);r=r||a.renderer,!u.current&&r&&(u.current=r(t,{visualState:e,parent:i,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:c}));const d=u.current,p=J.useContext(gF);d&&!d.projection&&s&&(d.type==="html"||d.type==="svg")&&kW(u.current,n,s,p);const g=J.useRef(!1);J.useInsertionEffect(()=>{d&&g.current&&d.update(n,o)});const x=n[mF],w=J.useRef(!!x&&!window.MotionHandoffIsComplete?.(x)&&window.MotionHasOptimisedAnimation?.(x));return wS(()=>{d&&(g.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),w.current&&d.animationState&&d.animationState.animateChanges())}),J.useEffect(()=>{d&&(!w.current&&d.animationState&&d.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(x)}),w.current=!1),d.enteringChildren=void 0)}),d}function kW(t,e,n,r){const{layoutId:s,layout:i,drag:a,dragConstraints:o,layoutScroll:c,layoutRoot:u,layoutCrossfade:d}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:xF(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!a||o&&_p(o),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:d,layoutScroll:c,layoutRoot:u})}function xF(t){if(t)return t.options.allowProjection!==!1?t.projection:xF(t.parent)}function L_(t,{forwardMotionProps:e=!1}={},n,r){n&&rW(n);const s=XS(t)?SW:TW;function i(o,c){let u;const d={...J.useContext(GS),...o,layoutId:RW(o)},{isStatic:p}=d,g=lW(o),x=s(o,p);if(!p&&bS){PW();const w=DW(d);u=w.MeasureLayout,g.visualElement=IW(t,x,d,r,w.ProjectionNode)}return m.jsxs(pb.Provider,{value:g,children:[u&&g.visualElement?m.jsx(u,{visualElement:g.visualElement,...d}):null,wW(t,o,CW(x,g.visualElement,c),x,p,e)]})}i.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const a=J.forwardRef(i);return a[AW]=t,a}function RW({layoutId:t}){const e=J.useContext(yS).id;return e&&t!==void 0?e+"-"+t:t}function PW(t,e){J.useContext(iF).strict}function DW(t){const{drag:e,layout:n}=tm;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function MW(t,e){if(typeof Proxy>"u")return L_;const n=new Map,r=(i,a)=>L_(i,a,t,e),s=(i,a)=>r(i,a);return new Proxy(s,{get:(i,a)=>a==="create"?r:(n.has(a)||n.set(a,L_(a,void 0,t,e)),n.get(a))})}function vF({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function LW({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function FW(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function F_(t){return t===void 0||t===1}function M5({scale:t,scaleX:e,scaleY:n}){return!F_(t)||!F_(e)||!F_(n)}function oh(t){return M5(t)||yF(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function yF(t){return ik(t.x)||ik(t.y)}function ik(t){return t&&t!=="0%"}function f2(t,e,n){const r=t-n,s=e*r;return n+s}function ak(t,e,n,r,s){return s!==void 0&&(t=f2(t,s,r)),f2(t,n,r)+e}function L5(t,e=0,n=1,r,s){t.min=ak(t.min,e,n,r,s),t.max=ak(t.max,e,n,r,s)}function bF(t,{x:e,y:n}){L5(t.x,e.translate,e.scale,e.originPoint),L5(t.y,n.translate,n.scale,n.originPoint)}const ok=.999999999999,lk=1.0000000000001;function OW(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,a;for(let o=0;o<s;o++){i=n[o],a=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Tp(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,bF(t,a)),r&&oh(i.latestValues)&&Tp(t,i.latestValues))}e.x<lk&&e.x>ok&&(e.x=1),e.y<lk&&e.y>ok&&(e.y=1)}function Ep(t,e){t.min=t.min+e,t.max=t.max+e}function ck(t,e,n,r,s=.5){const i=Ms(t.min,t.max,s);L5(t,e,n,i,r)}function Tp(t,e){ck(t.x,e.x,e.scaleX,e.scale,e.originX),ck(t.y,e.y,e.scaleY,e.scale,e.originY)}function wF(t,e){return vF(FW(t.getBoundingClientRect(),e))}function BW(t,e,n){const r=wF(t,n),{scroll:s}=e;return s&&(Ep(r.x,s.offset.x),Ep(r.y,s.offset.y)),r}const uk=()=>({translate:0,scale:1,origin:0,originPoint:0}),Sp=()=>({x:uk(),y:uk()}),fk=()=>({min:0,max:0}),Ni=()=>({x:fk(),y:fk()}),F5={current:null},_F={current:!1};function VW(){if(_F.current=!0,!!bS)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>F5.current=t.matches;t.addEventListener("change",e),e()}else F5.current=!1}const UW=new WeakMap;function jW(t,e,n){for(const r in e){const s=e[r],i=n[r];if(ka(s))t.addValue(r,s);else if(ka(i))t.addValue(r,qc(s,{owner:t}));else if(i!==s)if(t.hasValue(r)){const a=t.getValue(r);a.liveStyle===!0?a.jump(s):a.hasAnimated||a.set(s)}else{const a=t.getStaticValue(r);t.addValue(r,qc(a!==void 0?a:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const dk=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class qW{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=BS,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=To.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,es.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=a;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=o,this.blockInitialAnimation=!!i,this.isControllingVariants=gb(n),this.isVariantNode=oF(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...p}=this.scrapeMotionValuesFromProps(n,{},this);for(const g in p){const x=p[g];c[g]!==void 0&&ka(x)&&x.set(c[g])}}mount(e){this.current=e,UW.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),_F.current||VW(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:F5.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),nu(this.notifyUpdate),nu(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Tm.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&es.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),i&&i(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in tm){const n=tm[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ni()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<dk.length;r++){const s=dk[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,a=e[i];a&&(this.propEventSubscriptions[s]=this.on(s,a))}this.prevMotionValues=jW(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=qc(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(fL(r)||hL(r))?r=parseFloat(r):!X$(r)&&yd.test(n)&&(r=XL(e,n)),this.setBaseTarget(e,ka(r)?r.get():r)),ka(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const i=JS(this.props,n,this.presenceContext?.custom);i&&(r=i[e])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!ka(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new SS),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){qS.render(this.render)}}class EF extends qW{constructor(){super(...arguments),this.KeyframeResolver=k$}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ka(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function TF(t,{style:e,vars:n},r,s){const i=t.style;let a;for(a in e)i[a]=e[a];s?.applyProjectionStyles(i,r);for(a in n)i.setProperty(a,n[a])}function HW(t){return window.getComputedStyle(t)}class zW extends EF{constructor(){super(...arguments),this.type="html",this.renderInstance=TF}readValueFromInstance(e,n){if(Tm.has(n))return this.projection?.isProjecting?C5(n):XG(e,n);{const r=HW(e),s=(IS(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return wF(e,n)}build(e,n,r){KS(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return QS(e,n,r)}}const SF=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function GW(t,e,n,r){TF(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(SF.has(s)?s:ZS(s),e.attrs[s])}class $W extends EF{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ni}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Tm.has(n)){const r=YL(n);return r&&r.default||0}return n=SF.has(n)?n:ZS(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return pF(e,n,r)}build(e,n,r){uF(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,s){GW(e,n,r,s)}mount(e){this.isSVGTag=dF(e.tagName),super.mount(e)}}const WW=(t,e)=>XS(t)?new $W(e):new zW(e,{allowProjection:t!==J.Fragment});function Mp(t,e,n){const r=t.getProps();return JS(r,e,n!==void 0?n:r.custom,t)}const O5=t=>Array.isArray(t);function KW(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,qc(n))}function YW(t){return O5(t)?t[t.length-1]||0:t}function XW(t,e){const n=Mp(t,e);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const a in i){const o=YW(i[a]);KW(t,a,o)}}function JW(t){return!!(ka(t)&&t.add)}function B5(t,e){const n=t.getValue("willChange");if(JW(n))return n.add(e);if(!n&&Ju.WillChange){const r=new Ju.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function AF(t){return t.props[mF]}const QW=t=>t!==null;function ZW(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(QW),i=e&&n!=="loop"&&e%2===1?0:s.length-1;return s[i]}const eK={type:"spring",stiffness:500,damping:25,restSpeed:10},tK=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),nK={type:"keyframes",duration:.8},rK={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},sK=(t,{keyframes:e})=>e.length>2?nK:Tm.has(t)?t.startsWith("scale")?tK(e[1]):eK:rK;function iK({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:a,repeatDelay:o,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const eA=(t,e,n,r={},s,i)=>a=>{const o=VS(r,t)||{},c=o.delay||r.delay||0;let{elapsed:u=0}=r;u=u-Wc(c);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...o,delay:-u,onUpdate:g=>{e.set(g),o.onUpdate&&o.onUpdate(g)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:t,motionValue:e,element:i?void 0:s};iK(o)||Object.assign(d,sK(t,d)),d.duration&&(d.duration=Wc(d.duration)),d.repeatDelay&&(d.repeatDelay=Wc(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let p=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(P5(d),d.delay===0&&(p=!0)),(Ju.instantAnimations||Ju.skipAnimations)&&(p=!0,P5(d),d.delay=0),d.allowFlatten=!o.type&&!o.ease,p&&!i&&e.get()!==void 0){const g=ZW(d.keyframes,o);if(g!==void 0){es.update(()=>{d.onUpdate(g),d.onComplete()});return}}return o.isSync?new OS(d):new v$(d)};function aK({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function CF(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:a,...o}=e;r&&(i=r);const c=[],u=s&&t.animationState&&t.animationState.getState()[s];for(const d in o){const p=t.getValue(d,t.latestValues[d]??null),g=o[d];if(g===void 0||u&&aK(u,d))continue;const x={delay:n,...VS(i||{},d)},w=p.get();if(w!==void 0&&!p.isAnimating&&!Array.isArray(g)&&g===w&&!x.velocity)continue;let y=!1;if(window.MotionHandoffAnimation){const C=AF(t);if(C){const F=window.MotionHandoffAnimation(C,d,es);F!==null&&(x.startTime=F,y=!0)}}B5(t,d),p.start(eA(d,p,g,t.shouldReduceMotion&&$L.has(d)?{type:!1}:x,t,y));const S=p.animation;S&&c.push(S)}return a&&Promise.all(c).then(()=>{es.update(()=>{a&&XW(t,a)})}),c}function NF(t,e,n,r=0,s=1){const i=Array.from(t).sort((u,d)=>u.sortNodePosition(d)).indexOf(e),a=t.size,o=(a-1)*r;return typeof n=="function"?n(i,a):s===1?i*r:o-i*r}function V5(t,e,n={}){const r=Mp(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(CF(t,r,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:p}=s;return oK(t,e,c,u,d,p,n)}:()=>Promise.resolve(),{when:o}=s;if(o){const[c,u]=o==="beforeChildren"?[i,a]:[a,i];return c().then(()=>u())}else return Promise.all([i(),a(n.delay)])}function oK(t,e,n=0,r=0,s=0,i=1,a){const o=[];for(const c of t.variantChildren)c.notify("AnimationStart",e),o.push(V5(c,e,{...a,delay:n+(typeof r=="function"?0:r)+NF(t.variantChildren,c,r,s,i)}).then(()=>c.notify("AnimationComplete",e)));return Promise.all(o)}function lK(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>V5(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=V5(t,e,n);else{const s=typeof e=="function"?Mp(t,e,n.custom):e;r=Promise.all(CF(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function IF(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const cK=WS.length;function kF(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?kF(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<cK;n++){const r=WS[n],s=t.props[r];(R1(s)||s===!1)&&(e[r]=s)}return e}const uK=[...$S].reverse(),fK=$S.length;function dK(t){return e=>Promise.all(e.map(({animation:n,options:r})=>lK(t,n,r)))}function hK(t){let e=dK(t),n=hk(),r=!0;const s=c=>(u,d)=>{const p=Mp(t,d,c==="exit"?t.presenceContext?.custom:void 0);if(p){const{transition:g,transitionEnd:x,...w}=p;u={...u,...w,...x}}return u};function i(c){e=c(t)}function a(c){const{props:u}=t,d=kF(t.parent)||{},p=[],g=new Set;let x={},w=1/0;for(let S=0;S<fK;S++){const C=uK[S],F=n[C],I=u[C]!==void 0?u[C]:d[C],D=R1(I),z=C===c?F.isActive:null;z===!1&&(w=S);let G=I===d[C]&&I!==u[C]&&D;if(G&&r&&t.manuallyAnimateOnMount&&(G=!1),F.protectedKeys={...x},!F.isActive&&z===null||!I&&!F.prevProp||mb(I)||typeof I=="boolean")continue;const P=pK(F.prevProp,I);let M=P||C===c&&F.isActive&&!G&&D||S>w&&D,R=!1;const U=Array.isArray(I)?I:[I];let L=U.reduce(s(C),{});z===!1&&(L={});const{prevResolvedValues:O={}}=F,j={...O,...L},ie=pe=>{M=!0,g.has(pe)&&(R=!0,g.delete(pe)),F.needsAnimating[pe]=!0;const de=t.getValue(pe);de&&(de.liveStyle=!1)};for(const pe in j){const de=L[pe],oe=O[pe];if(x.hasOwnProperty(pe))continue;let ke=!1;O5(de)&&O5(oe)?ke=!IF(de,oe):ke=de!==oe,ke?de!=null?ie(pe):g.add(pe):de!==void 0&&g.has(pe)?ie(pe):F.protectedKeys[pe]=!0}F.prevProp=I,F.prevResolvedValues=L,F.isActive&&(x={...x,...L}),r&&t.blockInitialAnimation&&(M=!1);const Ee=G&&P;M&&(!Ee||R)&&p.push(...U.map(pe=>{const de={type:C};if(typeof pe=="string"&&r&&!Ee&&t.manuallyAnimateOnMount&&t.parent){const{parent:oe}=t,ke=Mp(oe,pe);if(oe.enteringChildren&&ke){const{delayChildren:ne}=ke.transition||{};de.delay=NF(oe.enteringChildren,t,ne)}}return{animation:pe,options:de}}))}if(g.size){const S={};if(typeof u.initial!="boolean"){const C=Mp(t,Array.isArray(u.initial)?u.initial[0]:u.initial);C&&C.transition&&(S.transition=C.transition)}g.forEach(C=>{const F=t.getBaseTarget(C),I=t.getValue(C);I&&(I.liveStyle=!0),S[C]=F??null}),p.push({animation:S})}let y=!!p.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(y=!1),r=!1,y?e(p):Promise.resolve()}function o(c,u){if(n[c].isActive===u)return Promise.resolve();t.variantChildren?.forEach(p=>p.animationState?.setActive(c,u)),n[c].isActive=u;const d=a(c);for(const p in n)n[p].protectedKeys={};return d}return{animateChanges:a,setActive:o,setAnimateFunction:i,getState:()=>n,reset:()=>{n=hk()}}}function pK(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!IF(e,t):!1}function sh(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function hk(){return{animate:sh(!0),whileInView:sh(),whileHover:sh(),whileTap:sh(),whileDrag:sh(),whileFocus:sh(),exit:sh()}}class Dd{constructor(e){this.isMounted=!1,this.node=e}update(){}}class mK extends Dd{constructor(e){super(e),e.animationState||(e.animationState=hK(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();mb(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let gK=0;class xK extends Dd{constructor(){super(...arguments),this.id=gK++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const vK={animation:{Feature:mK},exit:{Feature:xK}};function D1(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function px(t){return{point:{x:t.pageX,y:t.pageY}}}const yK=t=>e=>HS(e)&&t(e,px(e));function r1(t,e,n,r){return D1(t,e,yK(n),r)}const RF=1e-4,bK=1-RF,wK=1+RF,PF=.01,_K=0-PF,EK=0+PF;function Ka(t){return t.max-t.min}function TK(t,e,n){return Math.abs(t-e)<=n}function pk(t,e,n,r=.5){t.origin=r,t.originPoint=Ms(e.min,e.max,t.origin),t.scale=Ka(n)/Ka(e),t.translate=Ms(n.min,n.max,t.origin)-t.originPoint,(t.scale>=bK&&t.scale<=wK||isNaN(t.scale))&&(t.scale=1),(t.translate>=_K&&t.translate<=EK||isNaN(t.translate))&&(t.translate=0)}function s1(t,e,n,r){pk(t.x,e.x,n.x,r?r.originX:void 0),pk(t.y,e.y,n.y,r?r.originY:void 0)}function mk(t,e,n){t.min=n.min+e.min,t.max=t.min+Ka(e)}function SK(t,e,n){mk(t.x,e.x,n.x),mk(t.y,e.y,n.y)}function gk(t,e,n){t.min=e.min-n.min,t.max=t.min+Ka(e)}function d2(t,e,n){gk(t.x,e.x,n.x),gk(t.y,e.y,n.y)}function yl(t){return[t("x"),t("y")]}const DF=({current:t})=>t?t.ownerDocument.defaultView:null,xk=(t,e)=>Math.abs(t-e);function AK(t,e){const n=xk(t.x,e.x),r=xk(t.y,e.y);return Math.sqrt(n**2+r**2)}class MF{constructor(e,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:a=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=B_(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,w=AK(g.offset,{x:0,y:0})>=this.distanceThreshold;if(!x&&!w)return;const{point:y}=g,{timestamp:S}=Gi;this.history.push({...y,timestamp:S});const{onStart:C,onMove:F}=this.handlers;x||(C&&C(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),F&&F(this.lastMoveEvent,g)},this.handlePointerMove=(g,x)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=O_(x,this.transformPagePoint),es.update(this.updatePoint,!0)},this.handlePointerUp=(g,x)=>{this.end();const{onEnd:w,onSessionEnd:y,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=B_(g.type==="pointercancel"?this.lastMoveEventInfo:O_(x,this.transformPagePoint),this.history);this.startEvent&&w&&w(g,C),y&&y(g,C)},!HS(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=a,this.contextWindow=s||window;const o=px(e),c=O_(o,this.transformPagePoint),{point:u}=c,{timestamp:d}=Gi;this.history=[{...u,timestamp:d}];const{onSessionStart:p}=n;p&&p(e,B_(c,this.history)),this.removeListeners=fx(r1(this.contextWindow,"pointermove",this.handlePointerMove),r1(this.contextWindow,"pointerup",this.handlePointerUp),r1(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),nu(this.updatePoint)}}function O_(t,e){return e?{point:e(t.point)}:t}function vk(t,e){return{x:t.x-e.x,y:t.y-e.y}}function B_({point:t},e){return{point:t,delta:vk(t,LF(e)),offset:vk(t,CK(e)),velocity:NK(e,.1)}}function CK(t){return t[0]}function LF(t){return t[t.length-1]}function NK(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=LF(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>Wc(e)));)n--;if(!r)return{x:0,y:0};const i=El(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const a={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function IK(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Ms(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Ms(n,t,r.max):Math.min(t,n)),t}function yk(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function kK(t,{top:e,left:n,bottom:r,right:s}){return{x:yk(t.x,n,s),y:yk(t.y,e,r)}}function bk(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function RK(t,e){return{x:bk(t.x,e.x),y:bk(t.y,e.y)}}function PK(t,e){let n=.5;const r=Ka(t),s=Ka(e);return s>r?n=em(e.min,e.max-r,t.min):r>s&&(n=em(t.min,t.max-s,e.min)),tu(0,1,n)}function DK(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const U5=.35;function MK(t=U5){return t===!1?t=0:t===!0&&(t=U5),{x:wk(t,"left","right"),y:wk(t,"top","bottom")}}function wk(t,e,n){return{min:_k(t,e),max:_k(t,n)}}function _k(t,e){return typeof t=="number"?t:t[e]||0}const LK=new WeakMap;class FK{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ni(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=p=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(px(p).point)},a=(p,g)=>{const{drag:x,dragPropagation:w,onDragStart:y}=this.getProps();if(x&&!w&&(this.openDragLock&&this.openDragLock(),this.openDragLock=D$(x),!this.openDragLock))return;this.latestPointerEvent=p,this.latestPanInfo=g,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),yl(C=>{let F=this.getAxisMotionValue(C).get()||0;if(Kc.test(F)){const{projection:I}=this.visualElement;if(I&&I.layout){const D=I.layout.layoutBox[C];D&&(F=Ka(D)*(parseFloat(F)/100))}}this.originPoint[C]=F}),y&&es.postRender(()=>y(p,g)),B5(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},o=(p,g)=>{this.latestPointerEvent=p,this.latestPanInfo=g;const{dragPropagation:x,dragDirectionLock:w,onDirectionLock:y,onDrag:S}=this.getProps();if(!x&&!this.openDragLock)return;const{offset:C}=g;if(w&&this.currentDirection===null){this.currentDirection=OK(C),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",g.point,C),this.updateAxis("y",g.point,C),this.visualElement.render(),S&&S(p,g)},c=(p,g)=>{this.latestPointerEvent=p,this.latestPanInfo=g,this.stop(p,g),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>yl(p=>this.getAnimationState(p)==="paused"&&this.getAxisMotionValue(p).animation?.play()),{dragSnapToOrigin:d}=this.getProps();this.panSession=new MF(e,{onSessionStart:i,onStart:a,onMove:o,onSessionEnd:c,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:r,contextWindow:DF(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,s=n||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!r)return;const{velocity:a}=s;this.startAnimation(a);const{onDragEnd:o}=this.getProps();o&&es.postRender(()=>o(r,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!Uv(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=IK(a,this.constraints[e],this.elastic[e])),i.set(a)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,s=this.constraints;e&&_p(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=kK(r.layoutBox,e):this.constraints=!1,this.elastic=MK(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&yl(i=>{this.constraints!==!1&&this.getAxisMotionValue(i)&&(this.constraints[i]=DK(r.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!_p(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=BW(r,s.root,this.visualElement.getTransformPagePoint());let a=RK(s.layout.layoutBox,i);if(n){const o=n(LW(a));this.hasMutatedConstraints=!!o,o&&(a=vF(o))}return a}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),c=this.constraints||{},u=yl(d=>{if(!Uv(d,n,this.currentDirection))return;let p=c&&c[d]||{};a&&(p={min:0,max:0});const g=s?200:1e6,x=s?40:1e7,w={type:"inertia",velocity:r?e[d]:0,bounceStiffness:g,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...i,...p};return this.startAxisValueAnimation(d,w)});return Promise.all(u).then(o)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return B5(this.visualElement,e),r.start(eA(e,r,0,n,this.visualElement,!1))}stopAnimation(){yl(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){yl(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){yl(n=>{const{drag:r}=this.getProps();if(!Uv(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:a,max:o}=s.layout.layoutBox[n];i.set(e[n]-Ms(a,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!_p(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};yl(a=>{const o=this.getAxisMotionValue(a);if(o&&this.constraints!==!1){const c=o.get();s[a]=PK({min:c,max:c},this.constraints[a])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),yl(a=>{if(!Uv(a,e,null))return;const o=this.getAxisMotionValue(a),{min:c,max:u}=this.constraints[a];o.set(Ms(c,u,s[a]))})}addListeners(){if(!this.visualElement.current)return;LK.set(this.visualElement,this);const e=this.visualElement.current,n=r1(e,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();_p(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),es.read(r);const a=D1(window,"resize",()=>this.scalePositionWithinConstraints()),o=s.addEventListener("didUpdate",(({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(yl(d=>{const p=this.getAxisMotionValue(d);p&&(this.originPoint[d]+=c[d].translate,p.set(p.get()+c[d].translate))}),this.visualElement.render())}));return()=>{a(),n(),i(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:a=U5,dragMomentum:o=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:a,dragMomentum:o}}}function Uv(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function OK(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class BK extends Dd{constructor(e){super(e),this.removeGroupControls=Ao,this.removeListeners=Ao,this.controls=new FK(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ao}unmount(){this.removeGroupControls(),this.removeListeners()}}const Ek=t=>(e,n)=>{t&&es.postRender(()=>t(e,n))};class VK extends Dd{constructor(){super(...arguments),this.removePointerDownListener=Ao}onPointerDown(e){this.session=new MF(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:DF(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:Ek(e),onStart:Ek(n),onMove:r,onEnd:(i,a)=>{delete this.session,s&&es.postRender(()=>s(i,a))}}}mount(){this.removePointerDownListener=r1(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ry={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Tk(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Ng={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Pn.test(t))t=parseFloat(t);else return t;const n=Tk(t,e.target.x),r=Tk(t,e.target.y);return`${n}% ${r}%`}},UK={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=yd.parse(t);if(s.length>5)return r;const i=yd.createTransformer(t),a=typeof s[0]!="number"?1:0,o=n.x.scale*e.x,c=n.y.scale*e.y;s[0+a]/=o,s[1+a]/=c;const u=Ms(o,c,.5);return typeof s[2+a]=="number"&&(s[2+a]/=u),typeof s[3+a]=="number"&&(s[3+a]/=u),i(s)}};let V_=!1;class jK extends J.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;cW(qK),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),V_&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Ry.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,{projection:a}=r;return a&&(a.isPresent=i,V_=!0,s||e.layoutDependency!==n||n===void 0||e.isPresent!==i?a.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?a.promote():a.relegate()||es.postRender(()=>{const o=a.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),qS.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;V_=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function FF(t){const[e,n]=sF(),r=J.useContext(yS);return m.jsx(jK,{...t,layoutGroup:r,switchLayoutGroup:J.useContext(gF),isPresent:e,safeToRemove:n})}const qK={borderRadius:{...Ng,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ng,borderTopRightRadius:Ng,borderBottomLeftRadius:Ng,borderBottomRightRadius:Ng,boxShadow:UK};function HK(t,e,n){const r=ka(t)?t:qc(t);return r.start(eA("",r,e,n)),r.animation}const zK=(t,e)=>t.depth-e.depth;class GK{constructor(){this.children=[],this.isDirty=!1}add(e){_S(this.children,e),this.isDirty=!0}remove(e){ES(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(zK),this.isDirty=!1,this.children.forEach(e)}}function $K(t,e){const n=To.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(nu(r),t(i-e))};return es.setup(r,!0),()=>nu(r)}const OF=["TopLeft","TopRight","BottomLeft","BottomRight"],WK=OF.length,Sk=t=>typeof t=="string"?parseFloat(t):t,Ak=t=>typeof t=="number"||Pn.test(t);function KK(t,e,n,r,s,i){s?(t.opacity=Ms(0,n.opacity??1,YK(r)),t.opacityExit=Ms(e.opacity??1,0,XK(r))):i&&(t.opacity=Ms(e.opacity??1,n.opacity??1,r));for(let a=0;a<WK;a++){const o=`border${OF[a]}Radius`;let c=Ck(e,o),u=Ck(n,o);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||Ak(c)===Ak(u)?(t[o]=Math.max(Ms(Sk(c),Sk(u),r),0),(Kc.test(u)||Kc.test(c))&&(t[o]+="%")):t[o]=u}(e.rotate||n.rotate)&&(t.rotate=Ms(e.rotate||0,n.rotate||0,r))}function Ck(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const YK=BF(0,.5,bL),XK=BF(.5,.95,Ao);function BF(t,e,n){return r=>r<t?0:r>e?1:n(em(t,e,r))}function Nk(t,e){t.min=e.min,t.max=e.max}function Jl(t,e){Nk(t.x,e.x),Nk(t.y,e.y)}function Ik(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function kk(t,e,n,r,s){return t-=e,t=f2(t,1/n,r),s!==void 0&&(t=f2(t,1/s,r)),t}function JK(t,e=0,n=1,r=.5,s,i=t,a=t){if(Kc.test(e)&&(e=parseFloat(e),e=Ms(a.min,a.max,e/100)-a.min),typeof e!="number")return;let o=Ms(i.min,i.max,r);t===i&&(o-=e),t.min=kk(t.min,e,n,o,s),t.max=kk(t.max,e,n,o,s)}function Rk(t,e,[n,r,s],i,a){JK(t,e[n],e[r],e[s],e.scale,i,a)}const QK=["x","scaleX","originX"],ZK=["y","scaleY","originY"];function Pk(t,e,n,r){Rk(t.x,e,QK,n?n.x:void 0,r?r.x:void 0),Rk(t.y,e,ZK,n?n.y:void 0,r?r.y:void 0)}function Dk(t){return t.translate===0&&t.scale===1}function VF(t){return Dk(t.x)&&Dk(t.y)}function Mk(t,e){return t.min===e.min&&t.max===e.max}function eY(t,e){return Mk(t.x,e.x)&&Mk(t.y,e.y)}function Lk(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function UF(t,e){return Lk(t.x,e.x)&&Lk(t.y,e.y)}function Fk(t){return Ka(t.x)/Ka(t.y)}function Ok(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class tY{constructor(){this.members=[]}add(e){_S(this.members,e),e.scheduleRender()}remove(e){if(ES(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function nY(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y,a=n?.z||0;if((s||i||a)&&(r=`translate3d(${s}px, ${i}px, ${a}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:p,rotateY:g,skewX:x,skewY:w}=n;u&&(r=`perspective(${u}px) ${r}`),d&&(r+=`rotate(${d}deg) `),p&&(r+=`rotateX(${p}deg) `),g&&(r+=`rotateY(${g}deg) `),x&&(r+=`skewX(${x}deg) `),w&&(r+=`skewY(${w}deg) `)}const o=t.x.scale*e.x,c=t.y.scale*e.y;return(o!==1||c!==1)&&(r+=`scale(${o}, ${c})`),r||"none"}const U_=["","X","Y","Z"],rY=1e3;let sY=0;function j_(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function jF(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=AF(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",es,!(s||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&jF(r)}function qF({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(a={},o=e?.()){this.id=sY++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(oY),this.nodes.forEach(fY),this.nodes.forEach(dY),this.nodes.forEach(lY)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new GK)}addEventListener(a,o){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new SS),this.eventHandlers.get(a).add(o)}notifyListeners(a,...o){const c=this.eventHandlers.get(a);c&&c.notify(...o)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=zS(a)&&!K$(a),this.instance=a;const{layoutId:o,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||o)&&(this.isLayoutDirty=!0),t){let d,p=0;const g=()=>this.root.updateBlockedByResize=!1;es.read(()=>{p=window.innerWidth}),t(a,()=>{const x=window.innerWidth;x!==p&&(p=x,this.root.updateBlockedByResize=!0,d&&d(),d=$K(g,250),Ry.hasAnimatedSinceResize&&(Ry.hasAnimatedSinceResize=!1,this.nodes.forEach(Uk)))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&u&&(o||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:p,hasRelativeLayoutChanged:g,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||u.getDefaultTransition()||xY,{onLayoutAnimationStart:y,onLayoutAnimationComplete:S}=u.getProps(),C=!this.targetLayout||!UF(this.targetLayout,x),F=!p&&g;if(this.options.layoutRoot||this.resumeFrom||F||p&&(C||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const I={...VS(w,"layout"),onPlay:y,onComplete:S};(u.shouldReduceMotion||this.options.layoutRoot)&&(I.delay=0,I.type=!1),this.startAnimation(I),this.setAnimationOrigin(d,F)}else p||Uk(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),nu(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(hY),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&jF(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const p=this.path[d];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:o,layout:c}=this.options;if(o===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Bk);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Vk);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(uY),this.nodes.forEach(iY),this.nodes.forEach(aY)):this.nodes.forEach(Vk),this.clearAllSnapshots();const o=To.now();Gi.delta=tu(0,1e3/60,o-Gi.timestamp),Gi.timestamp=o,Gi.isProcessing=!0,I_.update.process(Gi),I_.preRender.process(Gi),I_.render.process(Gi),Gi.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,qS.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(cY),this.sharedNodes.forEach(pY)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,es.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){es.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Ka(this.snapshot.measuredBox.x)&&!Ka(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Ni(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(o=!1),o&&this.instance){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!s)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!VF(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;a&&this.instance&&(o||oh(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const o=this.measurePageBox();let c=this.removeElementScroll(o);return a&&(c=this.removeTransform(c)),vY(c),{animationId:this.root.animationId,measuredBox:o,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:a}=this.options;if(!a)return Ni();const o=a.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(yY))){const{scroll:u}=this.root;u&&(Ep(o.x,u.offset.x),Ep(o.y,u.offset.y))}return o}removeElementScroll(a){const o=Ni();if(Jl(o,a),this.scroll?.wasRoot)return o;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:p}=u;u!==this.root&&d&&p.layoutScroll&&(d.wasRoot&&Jl(o,a),Ep(o.x,d.offset.x),Ep(o.y,d.offset.y))}return o}applyTransform(a,o=!1){const c=Ni();Jl(c,a);for(let u=0;u<this.path.length;u++){const d=this.path[u];!o&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Tp(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),oh(d.latestValues)&&Tp(c,d.latestValues)}return oh(this.latestValues)&&Tp(c,this.latestValues),c}removeTransform(a){const o=Ni();Jl(o,a);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!oh(u.latestValues))continue;M5(u.latestValues)&&u.updateSnapshot();const d=Ni(),p=u.measurePageBox();Jl(d,p),Pk(o,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return oh(this.latestValues)&&Pk(o,this.latestValues),o}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Gi.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==o;if(!(a||c&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:p}=this.options;if(!this.layout||!(d||p))return;this.resolvedRelativeTargetAt=Gi.timestamp;const g=this.getClosestProjectingParent();g&&this.linkedParentVersion!==g.layoutVersion&&!g.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(g&&g.layout?this.createRelativeTarget(g,this.layout.layoutBox,g.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ni(),this.targetWithTransforms=Ni()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),SK(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Jl(this.target,this.layout.layoutBox),bF(this.target,this.targetDelta)):Jl(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?this.createRelativeTarget(g,this.target,g.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||M5(this.parent.latestValues)||yF(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(a,o,c){this.relativeParent=a,this.linkedParentVersion=a.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ni(),this.relativeTargetOrigin=Ni(),d2(this.relativeTargetOrigin,o,c),Jl(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const a=this.getLead(),o=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(c=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Gi.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;Jl(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,g=this.treeScale.y;OW(this.layoutCorrected,this.treeScale,this.path,o),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Ni());const{target:x}=a;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Ik(this.prevProjectionDelta.x,this.projectionDelta.x),Ik(this.prevProjectionDelta.y,this.projectionDelta.y)),s1(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==g||!Ok(this.projectionDelta.x,this.prevProjectionDelta.x)||!Ok(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){if(this.options.visualElement?.scheduleRender(),a){const o=this.getStack();o&&o.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Sp(),this.projectionDelta=Sp(),this.projectionDeltaWithTransform=Sp()}setAnimationOrigin(a,o=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},p=Sp();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const g=Ni(),x=c?c.source:void 0,w=this.layout?this.layout.source:void 0,y=x!==w,S=this.getStack(),C=!S||S.members.length<=1,F=!!(y&&!C&&this.options.crossfade===!0&&!this.path.some(gY));this.animationProgress=0;let I;this.mixTargetDelta=D=>{const z=D/1e3;jk(p.x,a.x,z),jk(p.y,a.y,z),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(d2(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),mY(this.relativeTarget,this.relativeTargetOrigin,g,z),I&&eY(this.relativeTarget,I)&&(this.isProjectionDirty=!1),I||(I=Ni()),Jl(I,this.relativeTarget)),y&&(this.animationValues=d,KK(d,u,this.latestValues,z,F,C)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=z},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(nu(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=es.update(()=>{Ry.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=qc(0)),this.currentAnimation=HK(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:o=>{this.mixTargetDelta(o),a.onUpdate&&a.onUpdate(o)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(rY),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:o,target:c,layout:u,latestValues:d}=a;if(!(!o||!c||!u)){if(this!==a&&this.layout&&u&&HF(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Ni();const p=Ka(this.layout.layoutBox.x);c.x.min=a.target.x.min,c.x.max=c.x.min+p;const g=Ka(this.layout.layoutBox.y);c.y.min=a.target.y.min,c.y.max=c.y.min+g}Jl(o,c),Tp(o,d),s1(this.projectionDeltaWithTransform,this.layoutCorrected,o,d)}}registerSharedNode(a,o){this.sharedNodes.has(a)||this.sharedNodes.set(a,new tY),this.sharedNodes.get(a).add(o);const u=o.options.initialPromotionConfig;o.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(o):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){const{layoutId:a}=this.options;return a?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:a}=this.options;return a?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:o,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),a&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let o=!1;const{latestValues:c}=a;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(o=!0),!o)return;const u={};c.z&&j_("z",a,u,this.animationValues);for(let d=0;d<U_.length;d++)j_(`rotate${U_[d]}`,a,u,this.animationValues),j_(`skew${U_[d]}`,a,u,this.animationValues);a.render();for(const d in u)a.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);a.scheduleRender()}applyProjectionStyles(a,o){if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=ky(o?.pointerEvents)||"",a.transform=c?c(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(a.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,a.pointerEvents=ky(o?.pointerEvents)||""),this.hasProjected&&!oh(this.latestValues)&&(a.transform=c?c({},""):"none",this.hasProjected=!1);return}a.visibility="";const d=u.animationValues||u.latestValues;this.applyTransformsToTarget();let p=nY(this.projectionDeltaWithTransform,this.treeScale,d);c&&(p=c(d,p)),a.transform=p;const{x:g,y:x}=this.projectionDelta;a.transformOrigin=`${g.origin*100}% ${x.origin*100}% 0`,u.animationValues?a.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:a.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const w in P1){if(d[w]===void 0)continue;const{correct:y,applyTo:S,isCSSVariable:C}=P1[w],F=p==="none"?d[w]:y(d[w],u);if(S){const I=S.length;for(let D=0;D<I;D++)a[S[D]]=F}else C?this.options.visualElement.renderState.vars[w]=F:a[w]=F}this.options.layoutId&&(a.pointerEvents=u===this?ky(o?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>a.currentAnimation?.stop()),this.root.nodes.forEach(Bk),this.root.sharedNodes.clear()}}}function iY(t){t.updateLayout()}function aY(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=t.layout,{animationType:s}=t.options,i=e.source!==t.layout.source;s==="size"?yl(d=>{const p=i?e.measuredBox[d]:e.layoutBox[d],g=Ka(p);p.min=n[d].min,p.max=p.min+g}):HF(s,e.layoutBox,n)&&yl(d=>{const p=i?e.measuredBox[d]:e.layoutBox[d],g=Ka(n[d]);p.max=p.min+g,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+g)});const a=Sp();s1(a,n,e.layoutBox);const o=Sp();i?s1(o,t.applyTransform(r,!0),e.measuredBox):s1(o,n,e.layoutBox);const c=!VF(a);let u=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:p,layout:g}=d;if(p&&g){const x=Ni();d2(x,e.layoutBox,p.layoutBox);const w=Ni();d2(w,n,g.layoutBox),UF(x,w)||(u=!0),d.options.layoutRoot&&(t.relativeTarget=w,t.relativeTargetOrigin=x,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:o,layoutDelta:a,hasLayoutChanged:c,hasRelativeLayoutChanged:u})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function oY(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function lY(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function cY(t){t.clearSnapshot()}function Bk(t){t.clearMeasurements()}function Vk(t){t.isLayoutDirty=!1}function uY(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Uk(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function fY(t){t.resolveTargetDelta()}function dY(t){t.calcProjection()}function hY(t){t.resetSkewAndRotation()}function pY(t){t.removeLeadSnapshot()}function jk(t,e,n){t.translate=Ms(e.translate,0,n),t.scale=Ms(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function qk(t,e,n,r){t.min=Ms(e.min,n.min,r),t.max=Ms(e.max,n.max,r)}function mY(t,e,n,r){qk(t.x,e.x,n.x,r),qk(t.y,e.y,n.y,r)}function gY(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const xY={duration:.45,ease:[.4,0,.1,1]},Hk=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),zk=Hk("applewebkit/")&&!Hk("chrome/")?Math.round:Ao;function Gk(t){t.min=zk(t.min),t.max=zk(t.max)}function vY(t){Gk(t.x),Gk(t.y)}function HF(t,e,n){return t==="position"||t==="preserve-aspect"&&!TK(Fk(e),Fk(n),.2)}function yY(t){return t!==t.root&&t.scroll?.wasRoot}const bY=qF({attachResizeListener:(t,e)=>D1(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),q_={current:void 0},zF=qF({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!q_.current){const t=new bY({});t.mount(window),t.setOptions({layoutScroll:!0}),q_.current=t}return q_.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),wY={pan:{Feature:VK},drag:{Feature:BK,ProjectionNode:zF,MeasureLayout:FF}};function $k(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&es.postRender(()=>i(e,px(e)))}class _Y extends Dd{mount(){const{current:e}=this.node;e&&(this.unmount=M$(e,(n,r)=>($k(this.node,r,"Start"),s=>$k(this.node,s,"End"))))}unmount(){}}class EY extends Dd{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=fx(D1(this.node.current,"focus",()=>this.onFocus()),D1(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Wk(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&es.postRender(()=>i(e,px(e)))}class TY extends Dd{mount(){const{current:e}=this.node;e&&(this.unmount=B$(e,(n,r)=>(Wk(this.node,r,"Start"),(s,{success:i})=>Wk(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const j5=new WeakMap,H_=new WeakMap,SY=t=>{const e=j5.get(t.target);e&&e(t)},AY=t=>{t.forEach(SY)};function CY({root:t,...e}){const n=t||document;H_.has(n)||H_.set(n,{});const r=H_.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(AY,{root:t,...e})),r[s]}function NY(t,e,n){const r=CY(e);return j5.set(t,n),r.observe(t),()=>{j5.delete(t),r.unobserve(t)}}const IY={some:0,all:1};class kY extends Dd{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:IY[s]},o=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:p}=this.node.getProps(),g=u?d:p;g&&g(c)};return NY(this.node.current,a,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(RY(e,n))&&this.startObserver()}unmount(){}}function RY({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const PY={inView:{Feature:kY},tap:{Feature:TY},focus:{Feature:EY},hover:{Feature:_Y}},DY={layout:{ProjectionNode:zF,MeasureLayout:FF}},MY={...vK,...PY,...wY,...DY},Fn=MW(MY,WW);function LY(t,e,n){J.useInsertionEffect(()=>t.on(e,n),[t,e,n])}const FY=50,Kk=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),OY=()=>({time:0,x:Kk(),y:Kk()}),BY={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function Yk(t,e,n,r){const s=n[e],{length:i,position:a}=BY[e],o=s.current,c=n.time;s.current=t[`scroll${a}`],s.scrollLength=t[`scroll${i}`]-t[`client${i}`],s.offset.length=0,s.offset[0]=0,s.offset[1]=s.scrollLength,s.progress=em(0,s.scrollLength,s.current);const u=r-c;s.velocity=u>FY?0:AS(s.current-o,u)}function VY(t,e,n){Yk(t,"x",e,n),Yk(t,"y",e,n),e.time=n}function UY(t,e){const n={x:0,y:0};let r=t;for(;r&&r!==e;)if(jS(r))n.x+=r.offsetLeft,n.y+=r.offsetTop,r=r.offsetParent;else if(r.tagName==="svg"){const s=r.getBoundingClientRect();r=r.parentElement;const i=r.getBoundingClientRect();n.x+=s.left-i.left,n.y+=s.top-i.top}else if(r instanceof SVGGraphicsElement){const{x:s,y:i}=r.getBBox();n.x+=s,n.y+=i;let a=null,o=r.parentNode;for(;!a;)o.tagName==="svg"&&(a=o),o=r.parentNode;r=a}else break;return n}const q5={start:0,center:.5,end:1};function Xk(t,e,n=0){let r=0;if(t in q5&&(t=q5[t]),typeof t=="string"){const s=parseFloat(t);t.endsWith("px")?r=s:t.endsWith("%")?t=s/100:t.endsWith("vw")?r=s/100*document.documentElement.clientWidth:t.endsWith("vh")?r=s/100*document.documentElement.clientHeight:t=s}return typeof t=="number"&&(r=e*t),n+r}const jY=[0,0];function qY(t,e,n,r){let s=Array.isArray(t)?t:jY,i=0,a=0;return typeof t=="number"?s=[t,t]:typeof t=="string"&&(t=t.trim(),t.includes(" ")?s=t.split(" "):s=[t,q5[t]?t:"0"]),i=Xk(s[0],n,r),a=Xk(s[1],e),i-a}const HY={All:[[0,0],[1,1]]},zY={x:0,y:0};function GY(t){return"getBBox"in t&&t.tagName!=="svg"?t.getBBox():{width:t.clientWidth,height:t.clientHeight}}function $Y(t,e,n){const{offset:r=HY.All}=n,{target:s=t,axis:i="y"}=n,a=i==="y"?"height":"width",o=s!==t?UY(s,t):zY,c=s===t?{width:t.scrollWidth,height:t.scrollHeight}:GY(s),u={width:t.clientWidth,height:t.clientHeight};e[i].offset.length=0;let d=!e[i].interpolate;const p=r.length;for(let g=0;g<p;g++){const x=qY(r[g],u[a],c[a],o[i]);!d&&x!==e[i].interpolatorOffsets[g]&&(d=!0),e[i].offset[g]=x}d&&(e[i].interpolate=LL(e[i].offset,FL(r),{clamp:!1}),e[i].interpolatorOffsets=[...e[i].offset]),e[i].progress=tu(0,1,e[i].interpolate(e[i].current))}function WY(t,e=t,n){if(n.x.targetOffset=0,n.y.targetOffset=0,e!==t){let r=e;for(;r&&r!==t;)n.x.targetOffset+=r.offsetLeft,n.y.targetOffset+=r.offsetTop,r=r.offsetParent}n.x.targetLength=e===t?e.scrollWidth:e.clientWidth,n.y.targetLength=e===t?e.scrollHeight:e.clientHeight,n.x.containerLength=t.clientWidth,n.y.containerLength=t.clientHeight}function KY(t,e,n,r={}){return{measure:s=>{WY(t,r.target,n),VY(t,n,s),(r.offset||r.target)&&$Y(t,n,r)},notify:()=>e(n)}}const Ig=new WeakMap,Jk=new WeakMap,z_=new WeakMap,Qk=t=>t===document.scrollingElement?window:t;function GF(t,{container:e=document.scrollingElement,...n}={}){if(!e)return Ao;let r=z_.get(e);r||(r=new Set,z_.set(e,r));const s=OY(),i=KY(e,t,s,n);if(r.add(i),!Ig.has(e)){const o=()=>{for(const p of r)p.measure(Gi.timestamp);es.preUpdate(c)},c=()=>{for(const p of r)p.notify()},u=()=>es.read(o);Ig.set(e,u);const d=Qk(e);window.addEventListener("resize",u,{passive:!0}),e!==document.documentElement&&Jk.set(e,W$(e,u)),d.addEventListener("scroll",u,{passive:!0}),u()}const a=Ig.get(e);return es.read(a,!1,!0),()=>{nu(a);const o=z_.get(e);if(!o||(o.delete(i),o.size))return;const c=Ig.get(e);Ig.delete(e),c&&(Qk(e).removeEventListener("scroll",c),Jk.get(e)?.(),window.removeEventListener("resize",c))}}const Zk=new Map;function YY(t){const e={value:0},n=GF(r=>{e.value=r[t.axis].progress*100},t);return{currentTime:e,cancel:n}}function $F({source:t,container:e,...n}){const{axis:r}=n;t&&(e=t);const s=Zk.get(e)??new Map;Zk.set(e,s);const i=n.target??"self",a=s.get(i)??{},o=r+(n.offset??[]).join(",");return a[o]||(a[o]=!n.target&&UL()?new ScrollTimeline({source:e,axis:r}):YY({container:e,...n})),a[o]}function XY(t,e){const n=$F(e);return t.attachTimeline({timeline:e.target?void 0:n,observe:r=>(r.pause(),rF(s=>{r.time=r.iterationDuration*s},n))})}function JY(t){return t.length===2}function QY(t,e){return JY(t)?GF(n=>{t(n[e.axis].progress,n)},e):rF(t,$F(e))}function ZY(t,{axis:e="y",container:n=document.scrollingElement,...r}={}){if(!n)return Ao;const s={axis:e,container:n,...r};return typeof t=="function"?QY(t,s):XY(t,s)}const eX=()=>({scrollX:qc(0),scrollY:qc(0),scrollXProgress:qc(0),scrollYProgress:qc(0)}),jv=t=>t?!t.current:!1;function tX({container:t,target:e,...n}={}){const r=db(eX),s=J.useRef(null),i=J.useRef(!1),a=J.useCallback(()=>(s.current=ZY((o,{x:c,y:u})=>{r.scrollX.set(c.current),r.scrollXProgress.set(c.progress),r.scrollY.set(u.current),r.scrollYProgress.set(u.progress)},{...n,container:t?.current||void 0,target:e?.current||void 0}),()=>{s.current?.()}),[t,e,JSON.stringify(n.offset)]);return wS(()=>{if(i.current=!1,jv(t)||jv(e)){i.current=!0;return}else return a()},[a]),J.useEffect(()=>{if(i.current)return N1(!jv(t)),N1(!jv(e)),a()},[a]),r}var cn=(t=>(t.DASHBOARD="DASHBOARD",t.INVOICES="INVOICES",t.ALL_INVOICES="ALL_INVOICES",t.CREATE_INVOICE="CREATE_INVOICE",t.EDIT_INVOICE="EDIT_INVOICE",t.INVENTORY="INVENTORY",t.CUSTOMERS="CUSTOMERS",t.VIEW_INVOICE="VIEW_INVOICE",t.CUSTOMER_LEDGER="CUSTOMER_LEDGER",t.SETTINGS="SETTINGS",t.DAYBOOK="DAYBOOK",t.IMPORT="IMPORT",t.EXPENSES="EXPENSES",t.REPORTS="REPORTS",t.PAYMENTS="PAYMENTS",t))(cn||{});const Ap={name:"ABC Trading Company",address:"123, Market Road, Delhi - 110001",phone:"9876543210",email:"info@abctrading.com",state:"Delhi",gst_enabled:!0};const nX=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),rX=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),e3=t=>{const e=rX(t);return e.charAt(0).toUpperCase()+e.slice(1)},WF=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),sX=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var iX={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const aX=J.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:a,...o},c)=>J.createElement("svg",{ref:c,...iX,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:WF("lucide",s),...!i&&!sX(o)&&{"aria-hidden":"true"},...o},[...a.map(([u,d])=>J.createElement(u,d)),...Array.isArray(i)?i:[i]]));const tn=(t,e)=>{const n=J.forwardRef(({className:r,...s},i)=>J.createElement(aX,{ref:i,iconNode:e,className:WF(`lucide-${nX(e3(t))}`,`lucide-${t}`,r),...s}));return n.displayName=e3(t),n};const oX=[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]],Ph=tn("arrow-down-left",oX);const lX=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Qu=tn("arrow-left",lX);const cX=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],uX=tn("arrow-right",cX);const fX=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],dX=tn("arrow-up-right",fX);const hX=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],H5=tn("banknote",hX);const pX=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],mX=tn("bell",pX);const gX=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],xX=tn("briefcase",gX);const vX=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],KF=tn("building-2",vX);const yX=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],z5=tn("calculator",yX);const bX=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],tA=tn("calendar",bX);const wX=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],jg=tn("check",wX);const _X=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],YF=tn("chevron-right",_X);const EX=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],mx=tn("circle-alert",EX);const TX=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],i1=tn("circle-check-big",TX);const SX=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],AX=tn("circle-plus",SX);const CX=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],NX=tn("circle-x",CX);const IX=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],kX=tn("circle",IX);const RX=[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5.782 5.782A7 7 0 0 0 9 19h8.5a4.5 4.5 0 0 0 1.307-.193",key:"yfwify"}],["path",{d:"M21.532 16.5A4.5 4.5 0 0 0 17.5 10h-1.79A7.008 7.008 0 0 0 10 5.07",key:"jlfiyv"}]],PX=tn("cloud-off",RX);const DX=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],XF=tn("cloud",DX);const MX=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],LX=tn("copy",MX);const FX=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],OX=tn("credit-card",FX);const BX=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],VX=tn("database",BX);const UX=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Sm=tn("download",UX);const jX=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],JF=tn("ellipsis-vertical",jX);const qX=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],QF=tn("external-link",qX);const HX=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ZF=tn("eye",HX);const zX=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],bd=tn("file-text",zX);const GX=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],$X=tn("funnel",GX);const WX=[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]],G5=tn("indian-rupee",WX);const KX=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],eO=tn("layout-dashboard",KX);const YX=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],tO=tn("loader-circle",YX);const XX=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],nO=tn("log-out",XX);const JX=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],QX=tn("lock",JX);const ZX=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],h2=tn("mail",ZX);const eJ=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],rO=tn("map-pin",eJ);const tJ=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],$5=tn("menu",tJ);const nJ=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],Cp=tn("message-circle",nJ);const rJ=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],sO=tn("moon",rJ);const sJ=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Th=tn("package",sJ);const iJ=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],W5=tn("pen",iJ);const aJ=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Py=tn("phone",aJ);const oJ=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],lJ=tn("play",oJ);const cJ=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],wd=tn("plus",cJ);const uJ=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],G_=tn("printer",uJ);const fJ=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],nA=tn("receipt",fJ);const dJ=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],p2=tn("save",dJ);const hJ=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],rA=tn("search",hJ);const pJ=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],mJ=tn("send",pJ);const gJ=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],iO=tn("settings",gJ);const xJ=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],vJ=tn("shield-alert",xJ);const yJ=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],sA=tn("square-pen",yJ);const bJ=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],aO=tn("sun",bJ);const wJ=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],_J=tn("tag",wJ);const EJ=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],_d=tn("trash-2",EJ);const TJ=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],SJ=tn("trending-down",TJ);const AJ=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Lp=tn("trending-up",AJ);const CJ=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],oO=tn("triangle-alert",CJ);const NJ=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],xb=tn("upload",NJ);const IJ=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],iA=tn("user-plus",IJ);const kJ=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],nm=tn("users",kJ);const RJ=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],t3=tn("user",RJ);const PJ=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],DJ=tn("wallet",PJ);const MJ=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],n3=tn("wand-sparkles",MJ);const LJ=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],FJ=tn("wifi-off",LJ);const OJ=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],BJ=tn("wifi",OJ);const VJ=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Wu=tn("x",VJ),UJ=()=>{};var r3={};const lO=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},jJ=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],a=t[n++],o=t[n++],c=((s&7)<<18|(i&63)<<12|(a&63)<<6|o&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],a=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|a&63)}}return e.join("")},cO={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],a=s+1<t.length,o=a?t[s+1]:0,c=s+2<t.length,u=c?t[s+2]:0,d=i>>2,p=(i&3)<<4|o>>4;let g=(o&15)<<2|u>>6,x=u&63;c||(x=64,a||(g=64)),r.push(n[d],n[p],n[g],n[x])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(lO(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):jJ(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],o=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const p=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||o==null||u==null||p==null)throw new qJ;const g=i<<2|o>>4;if(r.push(g),u!==64){const x=o<<4&240|u>>2;if(r.push(x),p!==64){const w=u<<6&192|p;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class qJ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const HJ=function(t){const e=lO(t);return cO.encodeByteArray(e,!0)},m2=function(t){return HJ(t).replace(/\./g,"")},uO=function(t){try{return cO.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function fO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const zJ=()=>fO().__FIREBASE_DEFAULTS__,GJ=()=>{if(typeof process>"u"||typeof r3>"u")return;const t=r3.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},$J=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&uO(t[1]);return e&&JSON.parse(e)},vb=()=>{try{return UJ()||zJ()||GJ()||$J()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},dO=t=>vb()?.emulatorHosts?.[t],WJ=t=>{const e=dO(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},hO=()=>vb()?.config,pO=t=>vb()?.[`_${t}`];class KJ{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function Am(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function mO(t){return(await fetch(t,{credentials:"include"})).ok}function YJ(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[m2(JSON.stringify(n)),m2(JSON.stringify(a)),""].join(".")}const a1={};function XJ(){const t={prod:[],emulator:[]};for(const e of Object.keys(a1))a1[e]?t.emulator.push(e):t.prod.push(e);return t}function JJ(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let s3=!1;function gO(t,e){if(typeof window>"u"||typeof document>"u"||!Am(window.location.host)||a1[t]===e||a1[t]||s3)return;a1[t]=e;function n(g){return`__firebase__banner__${g}`}const r="__firebase__banner",i=XJ().prod.length>0;function a(){const g=document.getElementById(r);g&&g.remove()}function o(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function c(g,x){g.setAttribute("width","24"),g.setAttribute("id",x),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function u(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{s3=!0,a()},g}function d(g,x){g.setAttribute("id",x),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function p(){const g=JJ(r),x=n("text"),w=document.getElementById(x)||document.createElement("span"),y=n("learnmore"),S=document.getElementById(y)||document.createElement("a"),C=n("preprendIcon"),F=document.getElementById(C)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const I=g.element;o(I),d(S,y);const D=u();c(F,C),I.append(F,w,S,D),document.body.appendChild(I)}i?(w.innerText="Preview backend disconnected.",F.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(F.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function Di(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function QJ(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Di())}function xO(){const t=vb()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ZJ(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function eQ(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function tQ(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function nQ(){const t=Di();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function vO(){return!xO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function yO(){return!xO()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function bO(){try{return typeof indexedDB=="object"}catch{return!1}}function rQ(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{e(s.error?.message||"")}}catch(n){e(n)}})}const sQ="FirebaseError";class cf extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=sQ,Object.setPrototypeOf(this,cf.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gx.prototype.create)}}class gx{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],a=i?iQ(i,r):"Error",o=`${this.serviceName}: ${a} (${s}).`;return new cf(s,o,r)}}function iQ(t,e){return t.replace(aQ,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const aQ=/\{\$([^}]+)}/g;function oQ(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Dh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],a=e[s];if(i3(i)&&i3(a)){if(!Dh(i,a))return!1}else if(i!==a)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function i3(t){return t!==null&&typeof t=="object"}function xx(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function qg(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Hg(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function lQ(t,e){const n=new cQ(t,e);return n.subscribe.bind(n)}class cQ{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");uQ(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=$_),s.error===void 0&&(s.error=$_),s.complete===void 0&&(s.complete=$_);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function uQ(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function $_(){}function Xi(t){return t&&t._delegate?t._delegate:t}class Mh{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const lh="[DEFAULT]";class fQ{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new KJ;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(hQ(e))try{this.getOrInitializeService({instanceIdentifier:lh})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=lh){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=lh){return this.instances.has(e)}getOptions(e=lh){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);r===o&&a.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:dQ(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=lh){return this.component?this.component.multipleInstances?e:lh:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function dQ(t){return t===lh?void 0:t}function hQ(t){return t.instantiationMode==="EAGER"}class pQ{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new fQ(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var hr;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(hr||(hr={}));const mQ={debug:hr.DEBUG,verbose:hr.VERBOSE,info:hr.INFO,warn:hr.WARN,error:hr.ERROR,silent:hr.SILENT},gQ=hr.INFO,xQ={[hr.DEBUG]:"log",[hr.VERBOSE]:"log",[hr.INFO]:"info",[hr.WARN]:"warn",[hr.ERROR]:"error"},vQ=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=xQ[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class aA{constructor(e){this.name=e,this._logLevel=gQ,this._logHandler=vQ,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in hr))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?mQ[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,hr.DEBUG,...e),this._logHandler(this,hr.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,hr.VERBOSE,...e),this._logHandler(this,hr.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,hr.INFO,...e),this._logHandler(this,hr.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,hr.WARN,...e),this._logHandler(this,hr.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,hr.ERROR,...e),this._logHandler(this,hr.ERROR,...e)}}const yQ=(t,e)=>e.some(n=>t instanceof n);let a3,o3;function bQ(){return a3||(a3=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function wQ(){return o3||(o3=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const wO=new WeakMap,K5=new WeakMap,_O=new WeakMap,W_=new WeakMap,oA=new WeakMap;function _Q(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",a)},i=()=>{n(dd(t.result)),s()},a=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&wO.set(n,t)}).catch(()=>{}),oA.set(e,t),e}function EQ(t){if(K5.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",a),t.removeEventListener("abort",a)},i=()=>{n(),s()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",a),t.addEventListener("abort",a)});K5.set(t,e)}let Y5={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return K5.get(t);if(e==="objectStoreNames")return t.objectStoreNames||_O.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return dd(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function TQ(t){Y5=t(Y5)}function SQ(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(K_(this),e,...n);return _O.set(r,e.sort?e.sort():[e]),dd(r)}:wQ().includes(t)?function(...e){return t.apply(K_(this),e),dd(wO.get(this))}:function(...e){return dd(t.apply(K_(this),e))}}function AQ(t){return typeof t=="function"?SQ(t):(t instanceof IDBTransaction&&EQ(t),yQ(t,bQ())?new Proxy(t,Y5):t)}function dd(t){if(t instanceof IDBRequest)return _Q(t);if(W_.has(t))return W_.get(t);const e=AQ(t);return e!==t&&(W_.set(t,e),oA.set(e,t)),e}const K_=t=>oA.get(t);function CQ(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const a=indexedDB.open(t,e),o=dd(a);return r&&a.addEventListener("upgradeneeded",c=>{r(dd(a.result),c.oldVersion,c.newVersion,dd(a.transaction),c)}),n&&a.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),o.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),o}const NQ=["get","getKey","getAll","getAllKeys","count"],IQ=["put","add","delete","clear"],Y_=new Map;function l3(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Y_.get(e))return Y_.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=IQ.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||NQ.includes(n)))return;const i=async function(a,...o){const c=this.transaction(a,s?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(o.shift())),(await Promise.all([u[n](...o),s&&c.done]))[0]};return Y_.set(e,i),i}TQ(t=>({...t,get:(e,n,r)=>l3(e,n)||t.get(e,n,r),has:(e,n)=>!!l3(e,n)||t.has(e,n)}));class kQ{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(RQ(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function RQ(t){return t.getComponent()?.type==="VERSION"}const X5="@firebase/app",c3="0.14.6";const Zu=new aA("@firebase/app"),PQ="@firebase/app-compat",DQ="@firebase/analytics-compat",MQ="@firebase/analytics",LQ="@firebase/app-check-compat",FQ="@firebase/app-check",OQ="@firebase/auth",BQ="@firebase/auth-compat",VQ="@firebase/database",UQ="@firebase/data-connect",jQ="@firebase/database-compat",qQ="@firebase/functions",HQ="@firebase/functions-compat",zQ="@firebase/installations",GQ="@firebase/installations-compat",$Q="@firebase/messaging",WQ="@firebase/messaging-compat",KQ="@firebase/performance",YQ="@firebase/performance-compat",XQ="@firebase/remote-config",JQ="@firebase/remote-config-compat",QQ="@firebase/storage",ZQ="@firebase/storage-compat",eZ="@firebase/firestore",tZ="@firebase/ai",nZ="@firebase/firestore-compat",rZ="firebase",sZ="12.6.0";const J5="[DEFAULT]",iZ={[X5]:"fire-core",[PQ]:"fire-core-compat",[MQ]:"fire-analytics",[DQ]:"fire-analytics-compat",[FQ]:"fire-app-check",[LQ]:"fire-app-check-compat",[OQ]:"fire-auth",[BQ]:"fire-auth-compat",[VQ]:"fire-rtdb",[UQ]:"fire-data-connect",[jQ]:"fire-rtdb-compat",[qQ]:"fire-fn",[HQ]:"fire-fn-compat",[zQ]:"fire-iid",[GQ]:"fire-iid-compat",[$Q]:"fire-fcm",[WQ]:"fire-fcm-compat",[KQ]:"fire-perf",[YQ]:"fire-perf-compat",[XQ]:"fire-rc",[JQ]:"fire-rc-compat",[QQ]:"fire-gcs",[ZQ]:"fire-gcs-compat",[eZ]:"fire-fst",[nZ]:"fire-fst-compat",[tZ]:"fire-vertex","fire-js":"fire-js",[rZ]:"fire-js-all"};const M1=new Map,aZ=new Map,Q5=new Map;function u3(t,e){try{t.container.addComponent(e)}catch(n){Zu.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function rm(t){const e=t.name;if(Q5.has(e))return Zu.debug(`There were multiple attempts to register component ${e}.`),!1;Q5.set(e,t);for(const n of M1.values())u3(n,t);for(const n of aZ.values())u3(n,t);return!0}function lA(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function wl(t){return t==null?!1:t.settings!==void 0}const oZ={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},hd=new gx("app","Firebase",oZ);class lZ{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Mh("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw hd.create("app-deleted",{appName:this._name})}}const Cm=sZ;function EO(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:J5,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw hd.create("bad-app-name",{appName:String(s)});if(n||(n=hO()),!n)throw hd.create("no-options");const i=M1.get(s);if(i){if(Dh(n,i.options)&&Dh(r,i.config))return i;throw hd.create("duplicate-app",{appName:s})}const a=new pQ(s);for(const c of Q5.values())a.addComponent(c);const o=new lZ(n,r,a);return M1.set(s,o),o}function cA(t=J5){const e=M1.get(t);if(!e&&t===J5&&hO())return EO();if(!e)throw hd.create("no-app",{appName:t});return e}function cZ(){return Array.from(M1.values())}function pd(t,e,n){let r=iZ[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const a=[`Unable to register library "${r}" with version "${e}":`];s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&a.push("and"),i&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Zu.warn(a.join(" "));return}rm(new Mh(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const uZ="firebase-heartbeat-database",fZ=1,L1="firebase-heartbeat-store";let X_=null;function TO(){return X_||(X_=CQ(uZ,fZ,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(L1)}catch(n){console.warn(n)}}}}).catch(t=>{throw hd.create("idb-open",{originalErrorMessage:t.message})})),X_}async function dZ(t){try{const n=(await TO()).transaction(L1),r=await n.objectStore(L1).get(SO(t));return await n.done,r}catch(e){if(e instanceof cf)Zu.warn(e.message);else{const n=hd.create("idb-get",{originalErrorMessage:e?.message});Zu.warn(n.message)}}}async function f3(t,e){try{const r=(await TO()).transaction(L1,"readwrite");await r.objectStore(L1).put(e,SO(t)),await r.done}catch(n){if(n instanceof cf)Zu.warn(n.message);else{const r=hd.create("idb-set",{originalErrorMessage:n?.message});Zu.warn(r.message)}}}function SO(t){return`${t.name}!${t.options.appId}`}const hZ=1024,pZ=30;class mZ{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new xZ(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=d3();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>pZ){const s=vZ(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Zu.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=d3(),{heartbeatsToSend:n,unsentEntries:r}=gZ(this._heartbeatsCache.heartbeats),s=m2(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return Zu.warn(e),""}}}function d3(){return new Date().toISOString().substring(0,10)}function gZ(t,e=hZ){const n=[];let r=t.slice();for(const s of t){const i=n.find(a=>a.agent===s.agent);if(i){if(i.dates.push(s.date),h3(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),h3(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class xZ{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return bO()?rQ().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await dZ(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return f3(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return f3(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function h3(t){return m2(JSON.stringify({version:2,heartbeats:t})).length}function vZ(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function yZ(t){rm(new Mh("platform-logger",e=>new kQ(e),"PRIVATE")),rm(new Mh("heartbeat",e=>new mZ(e),"PRIVATE")),pd(X5,c3,t),pd(X5,c3,"esm2020"),pd("fire-js","")}yZ("");function AO(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const bZ=AO,CO=new gx("auth","Firebase",AO());const g2=new aA("@firebase/auth");function wZ(t,...e){g2.logLevel<=hr.WARN&&g2.warn(`Auth (${Cm}): ${t}`,...e)}function Dy(t,...e){g2.logLevel<=hr.ERROR&&g2.error(`Auth (${Cm}): ${t}`,...e)}function cc(t,...e){throw uA(t,...e)}function Yc(t,...e){return uA(t,...e)}function NO(t,e,n){const r={...bZ(),[e]:n};return new gx("auth","Firebase",r).create(e,{appName:t.name})}function Ku(t){return NO(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function uA(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return CO.create(t,...e)}function kn(t,e,...n){if(!t)throw uA(e,...n)}function qu(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Dy(e),new Error(e)}function ef(t,e){t||qu(e)}function Z5(){return typeof self<"u"&&self.location?.href||""}function _Z(){return p3()==="http:"||p3()==="https:"}function p3(){return typeof self<"u"&&self.location?.protocol||null}function EZ(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_Z()||eQ()||"connection"in navigator)?navigator.onLine:!0}function TZ(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class vx{constructor(e,n){this.shortDelay=e,this.longDelay=n,ef(n>e,"Short delay should be less than long delay!"),this.isMobile=QJ()||tQ()}get(){return EZ()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function fA(t,e){ef(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class IO{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;qu("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;qu("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;qu("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const SZ={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const AZ=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],CZ=new vx(3e4,6e4);function Md(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Ld(t,e,n,r,s={}){return kO(t,s,async()=>{let i={},a={};r&&(e==="GET"?a=r:i={body:JSON.stringify(r)});const o=xx({key:t.config.apiKey,...a}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:c,...i};return ZJ()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&Am(t.emulatorConfig.host)&&(u.credentials="include"),IO.fetch()(await RO(t,t.config.apiHost,n,o),u)})}async function kO(t,e,n){t._canInitEmulator=!1;const r={...SZ,...e};try{const s=new IZ(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const a=await i.json();if("needConfirmation"in a)throw qv(t,"account-exists-with-different-credential",a);if(i.ok&&!("errorMessage"in a))return a;{const o=i.ok?a.errorMessage:a.error.message,[c,u]=o.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw qv(t,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw qv(t,"email-already-in-use",a);if(c==="USER_DISABLED")throw qv(t,"user-disabled",a);const d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw NO(t,d,u);cc(t,d)}}catch(s){if(s instanceof cf)throw s;cc(t,"network-request-failed",{message:String(s)})}}async function yx(t,e,n,r,s={}){const i=await Ld(t,e,n,r,s);return"mfaPendingCredential"in i&&cc(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function RO(t,e,n,r){const s=`${e}${n}?${r}`,i=t,a=i.config.emulator?fA(t.config,s):`${t.config.apiScheme}://${s}`;return AZ.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(a).toString():a}function NZ(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class IZ{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Yc(this.auth,"network-request-failed")),CZ.get())})}}function qv(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Yc(t,e,r);return s.customData._tokenResponse=n,s}function m3(t){return t!==void 0&&t.enterprise!==void 0}class kZ{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return NZ(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function RZ(t,e){return Ld(t,"GET","/v2/recaptchaConfig",Md(t,e))}async function PZ(t,e){return Ld(t,"POST","/v1/accounts:delete",e)}async function x2(t,e){return Ld(t,"POST","/v1/accounts:lookup",e)}function o1(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function DZ(t,e=!1){const n=Xi(t),r=await n.getIdToken(e),s=dA(r);kn(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,a=i?.sign_in_provider;return{claims:s,token:r,authTime:o1(J_(s.auth_time)),issuedAtTime:o1(J_(s.iat)),expirationTime:o1(J_(s.exp)),signInProvider:a||null,signInSecondFactor:i?.sign_in_second_factor||null}}function J_(t){return Number(t)*1e3}function dA(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Dy("JWT malformed, contained fewer than 3 sections"),null;try{const s=uO(n);return s?JSON.parse(s):(Dy("Failed to decode base64 JWT payload"),null)}catch(s){return Dy("Caught error parsing JWT payload as JSON",s?.toString()),null}}function g3(t){const e=dA(t);return kn(e,"internal-error"),kn(typeof e.exp<"u","internal-error"),kn(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function F1(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof cf&&MZ(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function MZ({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class LZ{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class eT{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=o1(this.lastLoginAt),this.creationTime=o1(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function v2(t){const e=t.auth,n=await t.getIdToken(),r=await F1(t,x2(e,{idToken:n}));kn(r?.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=s.providerUserInfo?.length?PO(s.providerUserInfo):[],a=OZ(t.providerData,i),o=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!a?.length,u=o?c:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new eT(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function FZ(t){const e=Xi(t);await v2(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function OZ(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function PO(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function BZ(t,e){const n=await kO(t,{},async()=>{const r=xx({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,a=await RO(t,s,"/v1/token",`key=${i}`),o=await t._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:o,body:r};return t.emulatorConfig&&Am(t.emulatorConfig.host)&&(c.credentials="include"),IO.fetch()(a,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function VZ(t,e){return Ld(t,"POST","/v2/accounts:revokeToken",Md(t,e))}class Fp{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){kn(e.idToken,"internal-error"),kn(typeof e.idToken<"u","internal-error"),kn(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):g3(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){kn(e.length!==0,"internal-error");const n=g3(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(kn(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await BZ(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,a=new Fp;return r&&(kn(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),s&&(kn(typeof s=="string","internal-error",{appName:e}),a.accessToken=s),i&&(kn(typeof i=="number","internal-error",{appName:e}),a.expirationTime=i),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Fp,this.toJSON())}_performRefresh(){return qu("not implemented")}}function zf(t,e){kn(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ic{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new LZ(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new eT(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await F1(this,this.stsTokenManager.getToken(this.auth,e));return kn(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return DZ(this,e)}reload(){return FZ(this)}_assign(e){this!==e&&(kn(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ic({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){kn(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await v2(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(wl(this.auth.app))return Promise.reject(Ku(this.auth));const e=await this.getIdToken();return await F1(this,PZ(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,a=n.photoURL??void 0,o=n.tenantId??void 0,c=n._redirectEventId??void 0,u=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:p,emailVerified:g,isAnonymous:x,providerData:w,stsTokenManager:y}=n;kn(p&&y,e,"internal-error");const S=Fp.fromJSON(this.name,y);kn(typeof p=="string",e,"internal-error"),zf(r,e.name),zf(s,e.name),kn(typeof g=="boolean",e,"internal-error"),kn(typeof x=="boolean",e,"internal-error"),zf(i,e.name),zf(a,e.name),zf(o,e.name),zf(c,e.name),zf(u,e.name),zf(d,e.name);const C=new ic({uid:p,auth:e,email:s,emailVerified:g,displayName:r,isAnonymous:x,photoURL:a,phoneNumber:i,tenantId:o,stsTokenManager:S,createdAt:u,lastLoginAt:d});return w&&Array.isArray(w)&&(C.providerData=w.map(F=>({...F}))),c&&(C._redirectEventId=c),C}static async _fromIdTokenResponse(e,n,r=!1){const s=new Fp;s.updateFromServerResponse(n);const i=new ic({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await v2(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];kn(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?PO(s.providerUserInfo):[],a=!(s.email&&s.passwordHash)&&!i?.length,o=new Fp;o.updateFromIdToken(r);const c=new ic({uid:s.localId,auth:e,stsTokenManager:o,isAnonymous:a}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new eT(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!i?.length};return Object.assign(c,u),c}}const x3=new Map;function Hu(t){ef(t instanceof Function,"Expected a class definition");let e=x3.get(t);return e?(ef(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,x3.set(t,e),e)}class DO{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}DO.type="NONE";const v3=DO;function My(t,e,n){return`firebase:${t}:${e}:${n}`}class Op{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=My(this.userKey,s.apiKey,i),this.fullPersistenceKey=My("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await x2(this.auth,{idToken:e}).catch(()=>{});return n?ic._fromGetAccountInfoResponse(this.auth,n,e):null}return ic._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Op(Hu(v3),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||Hu(v3);const a=My(r,e.config.apiKey,e.name);let o=null;for(const u of n)try{const d=await u._get(a);if(d){let p;if(typeof d=="string"){const g=await x2(e,{idToken:d}).catch(()=>{});if(!g)break;p=await ic._fromGetAccountInfoResponse(e,g,d)}else p=ic._fromJSON(e,d);u!==i&&(o=p),i=u;break}}catch{}const c=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new Op(i,e,r):(i=c[0],o&&await i._set(a,o.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(a)}catch{}})),new Op(i,e,r))}}function y3(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(OO(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(MO(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(VO(e))return"Blackberry";if(UO(e))return"Webos";if(LO(e))return"Safari";if((e.includes("chrome/")||FO(e))&&!e.includes("edge/"))return"Chrome";if(BO(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function MO(t=Di()){return/firefox\//i.test(t)}function LO(t=Di()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function FO(t=Di()){return/crios\//i.test(t)}function OO(t=Di()){return/iemobile/i.test(t)}function BO(t=Di()){return/android/i.test(t)}function VO(t=Di()){return/blackberry/i.test(t)}function UO(t=Di()){return/webos/i.test(t)}function hA(t=Di()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function UZ(t=Di()){return hA(t)&&!!window.navigator?.standalone}function jZ(){return nQ()&&document.documentMode===10}function jO(t=Di()){return hA(t)||BO(t)||UO(t)||VO(t)||/windows phone/i.test(t)||OO(t)}function qO(t,e=[]){let n;switch(t){case"Browser":n=y3(Di());break;case"Worker":n=`${y3(Di())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Cm}/${r}`}class qZ{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((a,o)=>{try{const c=e(i);a(c)}catch(c){o(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function HZ(t,e={}){return Ld(t,"GET","/v2/passwordPolicy",Md(t,e))}const zZ=6;class GZ{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??zZ,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class $Z{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new b3(this),this.idTokenSubscription=new b3(this),this.beforeStateQueue=new qZ(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=CO,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Hu(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Op.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await x2(this,{idToken:e}),r=await ic._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(wl(this.app)){const i=this.app.settings.authIdToken;return i?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(i).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const i=this.redirectUser?._redirectEventId,a=r?._redirectEventId,o=await this.tryRedirectSignIn(e);(!i||i===a)&&o?.user&&(r=o.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(i){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(i))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return kn(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await v2(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=TZ()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(wl(this.app))return Promise.reject(Ku(this));const n=e?Xi(e):null;return n&&kn(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&kn(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return wl(this.app)?Promise.reject(Ku(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return wl(this.app)?Promise.reject(Ku(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Hu(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await HZ(this),n=new GZ(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new gx("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await VZ(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Hu(e)||this._popupRedirectResolver;kn(n,this,"argument-error"),this.redirectPersistenceManager=await Op.create(this,[Hu(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(kn(o,this,"internal-error"),o.then(()=>{a||i(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,s);return()=>{a=!0,c()}}else{const c=e.addObserver(n);return()=>{a=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return kn(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=qO(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(wl(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&wZ(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Qh(t){return Xi(t)}class b3{constructor(e){this.auth=e,this.observer=null,this.addObserver=lQ(n=>this.observer=n)}get next(){return kn(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let yb={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function WZ(t){yb=t}function HO(t){return yb.loadJS(t)}function KZ(){return yb.recaptchaEnterpriseScript}function YZ(){return yb.gapiScript}function XZ(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class JZ{constructor(){this.enterprise=new QZ}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class QZ{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const ZZ="recaptcha-enterprise",zO="NO_RECAPTCHA";class eee{constructor(e){this.type=ZZ,this.auth=Qh(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(a,o)=>{RZ(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const u=new kZ(c);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,a(u.siteKey)}}).catch(c=>{o(c)})})}function s(i,a,o){const c=window.grecaptcha;m3(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:e}).then(u=>{a(u)}).catch(()=>{a(zO)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new JZ().execute("siteKey",{action:"verify"}):new Promise((i,a)=>{r(this.auth).then(o=>{if(!n&&m3(window.grecaptcha))s(o,i,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let c=KZ();c.length!==0&&(c+=o),HO(c).then(()=>{s(o,i,a)}).catch(u=>{a(u)})}}).catch(o=>{a(o)})})}}async function w3(t,e,n,r=!1,s=!1){const i=new eee(t);let a;if(s)a=zO;else try{a=await i.verify(n)}catch{a=await i.verify(n,!0)}const o={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in o){const c=o.phoneEnrollmentInfo.phoneNumber,u=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:u,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const c=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return r?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function tT(t,e,n,r,s){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await w3(t,e,n,n==="getOobCode");return r(t,i)}else return r(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await w3(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(i)})}function tee(t,e){const n=lA(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Dh(i,e??{}))return s;cc(s,"already-initialized")}return n.initialize({options:e})}function nee(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Hu);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function ree(t,e,n){const r=Qh(t);kn(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=GO(e),{host:a,port:o}=see(e),c=o===null?"":`:${o}`,u={url:`${i}//${a}${c}/`},d=Object.freeze({host:a,port:o,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){kn(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),kn(Dh(u,r.config.emulator)&&Dh(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,Am(a)?(mO(`${i}//${a}${c}`),gO("Auth",!0)):iee()}function GO(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function see(t){const e=GO(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:_3(r.substr(i.length+1))}}else{const[i,a]=r.split(":");return{host:i,port:_3(a)}}}function _3(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function iee(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class pA{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return qu("not implemented")}_getIdTokenResponse(e){return qu("not implemented")}_linkToIdToken(e,n){return qu("not implemented")}_getReauthenticationResolver(e){return qu("not implemented")}}async function aee(t,e){return Ld(t,"POST","/v1/accounts:signUp",e)}async function oee(t,e){return yx(t,"POST","/v1/accounts:signInWithPassword",Md(t,e))}async function lee(t,e){return yx(t,"POST","/v1/accounts:signInWithEmailLink",Md(t,e))}async function cee(t,e){return yx(t,"POST","/v1/accounts:signInWithEmailLink",Md(t,e))}class O1 extends pA{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new O1(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new O1(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return tT(e,n,"signInWithPassword",oee);case"emailLink":return lee(e,{email:this._email,oobCode:this._password});default:cc(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return tT(e,r,"signUpPassword",aee);case"emailLink":return cee(e,{idToken:n,email:this._email,oobCode:this._password});default:cc(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Bp(t,e){return yx(t,"POST","/v1/accounts:signInWithIdp",Md(t,e))}const uee="http://localhost";class Lh extends pA{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Lh(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):cc("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const a=new Lh(r,s);return a.idToken=i.idToken||void 0,a.accessToken=i.accessToken||void 0,a.secret=i.secret,a.nonce=i.nonce,a.pendingToken=i.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return Bp(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Bp(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Bp(e,n)}buildRequest(){const e={requestUri:uee,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=xx(n)}return e}}function fee(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function dee(t){const e=qg(Hg(t)).link,n=e?qg(Hg(e)).deep_link_id:null,r=qg(Hg(t)).deep_link_id;return(r?qg(Hg(r)).link:null)||r||n||e||t}class mA{constructor(e){const n=qg(Hg(e)),r=n.apiKey??null,s=n.oobCode??null,i=fee(n.mode??null);kn(r&&s&&i,"argument-error"),this.apiKey=r,this.operation=i,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=dee(e);try{return new mA(n)}catch{return null}}}class Nm{constructor(){this.providerId=Nm.PROVIDER_ID}static credential(e,n){return O1._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=mA.parseLink(n);return kn(r,"argument-error"),O1._fromEmailAndCode(e,r.code,r.tenantId)}}Nm.PROVIDER_ID="password";Nm.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Nm.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class $O{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class bx extends $O{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class td extends bx{constructor(){super("facebook.com")}static credential(e){return Lh._fromParams({providerId:td.PROVIDER_ID,signInMethod:td.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return td.credentialFromTaggedObject(e)}static credentialFromError(e){return td.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return td.credential(e.oauthAccessToken)}catch{return null}}}td.FACEBOOK_SIGN_IN_METHOD="facebook.com";td.PROVIDER_ID="facebook.com";class nd extends bx{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Lh._fromParams({providerId:nd.PROVIDER_ID,signInMethod:nd.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return nd.credentialFromTaggedObject(e)}static credentialFromError(e){return nd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return nd.credential(n,r)}catch{return null}}}nd.GOOGLE_SIGN_IN_METHOD="google.com";nd.PROVIDER_ID="google.com";class rd extends bx{constructor(){super("github.com")}static credential(e){return Lh._fromParams({providerId:rd.PROVIDER_ID,signInMethod:rd.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return rd.credentialFromTaggedObject(e)}static credentialFromError(e){return rd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return rd.credential(e.oauthAccessToken)}catch{return null}}}rd.GITHUB_SIGN_IN_METHOD="github.com";rd.PROVIDER_ID="github.com";class sd extends bx{constructor(){super("twitter.com")}static credential(e,n){return Lh._fromParams({providerId:sd.PROVIDER_ID,signInMethod:sd.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return sd.credentialFromTaggedObject(e)}static credentialFromError(e){return sd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return sd.credential(n,r)}catch{return null}}}sd.TWITTER_SIGN_IN_METHOD="twitter.com";sd.PROVIDER_ID="twitter.com";async function hee(t,e){return yx(t,"POST","/v1/accounts:signUp",Md(t,e))}class Fh{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await ic._fromIdTokenResponse(e,r,s),a=E3(r);return new Fh({user:i,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=E3(r);return new Fh({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function E3(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class y2 extends cf{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,y2.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new y2(e,n,r,s)}}function WO(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?y2._fromErrorAndOperation(t,i,e,r):i})}async function pee(t,e,n=!1){const r=await F1(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Fh._forOperation(t,"link",r)}async function mee(t,e,n=!1){const{auth:r}=t;if(wl(r.app))return Promise.reject(Ku(r));const s="reauthenticate";try{const i=await F1(t,WO(r,s,e,t),n);kn(i.idToken,r,"internal-error");const a=dA(i.idToken);kn(a,r,"internal-error");const{sub:o}=a;return kn(t.uid===o,r,"user-mismatch"),Fh._forOperation(t,s,i)}catch(i){throw i?.code==="auth/user-not-found"&&cc(r,"user-mismatch"),i}}async function KO(t,e,n=!1){if(wl(t.app))return Promise.reject(Ku(t));const r="signIn",s=await WO(t,r,e),i=await Fh._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function gee(t,e){return KO(Qh(t),e)}async function YO(t){const e=Qh(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function xee(t,e,n){if(wl(t.app))return Promise.reject(Ku(t));const r=Qh(t),a=await tT(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",hee).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&YO(t),c}),o=await Fh._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(o.user),o}function vee(t,e,n){return wl(t.app)?Promise.reject(Ku(t)):gee(Xi(t),Nm.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&YO(t),r})}function yee(t,e,n,r){return Xi(t).onIdTokenChanged(e,n,r)}function bee(t,e,n){return Xi(t).beforeAuthStateChanged(e,n)}function wee(t,e,n,r){return Xi(t).onAuthStateChanged(e,n,r)}function _ee(t){return Xi(t).signOut()}const b2="__sak";class XO{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(b2,"1"),this.storage.removeItem(b2),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Eee=1e3,Tee=10;class JO extends XO{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=jO(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,o,c)=>{this.notifyListeners(a,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},i=this.storage.getItem(r);jZ()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,Tee):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Eee)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}JO.type="LOCAL";const See=JO;class QO extends XO{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}QO.type="SESSION";const ZO=QO;function Aee(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class bb{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new bb(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,a=this.handlersMap[s];if(!a?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const o=Array.from(a).map(async u=>u(n.origin,i)),c=await Aee(o);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}bb.receivers=[];function gA(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}class Cee{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,a;return new Promise((o,c)=>{const u=gA("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(p){const g=p;if(g.data.eventId===u)switch(g.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),o(g.data.response);break;default:clearTimeout(d),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(a),s.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}function Xc(){return window}function Nee(t){Xc().location.href=t}function e7(){return typeof Xc().WorkerGlobalScope<"u"&&typeof Xc().importScripts=="function"}async function Iee(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function kee(){return navigator?.serviceWorker?.controller||null}function Ree(){return e7()?self:null}const t7="firebaseLocalStorageDb",Pee=1,w2="firebaseLocalStorage",n7="fbase_key";class wx{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function wb(t,e){return t.transaction([w2],e?"readwrite":"readonly").objectStore(w2)}function Dee(){const t=indexedDB.deleteDatabase(t7);return new wx(t).toPromise()}function nT(){const t=indexedDB.open(t7,Pee);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(w2,{keyPath:n7})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(w2)?e(r):(r.close(),await Dee(),e(await nT()))})})}async function T3(t,e,n){const r=wb(t,!0).put({[n7]:e,value:n});return new wx(r).toPromise()}async function Mee(t,e){const n=wb(t,!1).get(e),r=await new wx(n).toPromise();return r===void 0?null:r.value}function S3(t,e){const n=wb(t,!0).delete(e);return new wx(n).toPromise()}const Lee=800,Fee=3;class r7{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await nT(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Fee)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return e7()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=bb._getInstance(Ree()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Iee(),!this.activeServiceWorker)return;this.sender=new Cee(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||kee()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await nT();return await T3(e,b2,"1"),await S3(e,b2),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>T3(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Mee(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>S3(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=wb(s,!1).getAll();return new wx(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Lee)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}r7.type="LOCAL";const Oee=r7;new vx(3e4,6e4);function Bee(t,e){return e?Hu(e):(kn(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class xA extends pA{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Bp(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Bp(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Bp(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Vee(t){return KO(t.auth,new xA(t),t.bypassAuthState)}function Uee(t){const{auth:e,user:n}=t;return kn(n,e,"internal-error"),mee(n,new xA(t),t.bypassAuthState)}async function jee(t){const{auth:e,user:n}=t;return kn(n,e,"internal-error"),pee(n,new xA(t),t.bypassAuthState)}class s7{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:a,type:o}=e;if(a){this.reject(a);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Vee;case"linkViaPopup":case"linkViaRedirect":return jee;case"reauthViaPopup":case"reauthViaRedirect":return Uee;default:cc(this.auth,"internal-error")}}resolve(e){ef(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ef(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const qee=new vx(2e3,1e4);class Np extends s7{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Np.currentPopupAction&&Np.currentPopupAction.cancel(),Np.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return kn(e,this.auth,"internal-error"),e}async onExecution(){ef(this.filter.length===1,"Popup operations only handle one event");const e=gA();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Yc(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Yc(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Np.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Yc(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,qee.get())};e()}}Np.currentPopupAction=null;const Hee="pendingRedirect",Ly=new Map;class zee extends s7{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Ly.get(this.auth._key());if(!e){try{const r=await Gee(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Ly.set(this.auth._key(),e)}return this.bypassAuthState||Ly.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Gee(t,e){const n=Kee(e),r=Wee(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function $ee(t,e){Ly.set(t._key(),e)}function Wee(t){return Hu(t._redirectPersistence)}function Kee(t){return My(Hee,t.config.apiKey,t.name)}async function Yee(t,e,n=!1){if(wl(t.app))return Promise.reject(Ku(t));const r=Qh(t),s=Bee(r,e),a=await new zee(r,s,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}const Xee=600*1e3;class Jee{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Qee(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!i7(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Yc(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Xee&&this.cachedEventUids.clear(),this.cachedEventUids.has(A3(e))}saveEventToCache(e){this.cachedEventUids.add(A3(e)),this.lastProcessedEventTime=Date.now()}}function A3(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function i7({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function Qee(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return i7(t);default:return!1}}async function Zee(t,e={}){return Ld(t,"GET","/v1/projects",e)}const ete=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,tte=/^https?/;async function nte(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Zee(t);for(const n of e)try{if(rte(n))return}catch{}cc(t,"unauthorized-domain")}function rte(t){const e=Z5(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!tte.test(n))return!1;if(ete.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}const ste=new vx(3e4,6e4);function C3(){const t=Xc().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function ite(t){return new Promise((e,n)=>{function r(){C3(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{C3(),n(Yc(t,"network-request-failed"))},timeout:ste.get()})}if(Xc().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Xc().gapi?.load)r();else{const s=XZ("iframefcb");return Xc()[s]=()=>{gapi.load?r():n(Yc(t,"network-request-failed"))},HO(`${YZ()}?onload=${s}`).catch(i=>n(i))}}).catch(e=>{throw Fy=null,e})}let Fy=null;function ate(t){return Fy=Fy||ite(t),Fy}const ote=new vx(5e3,15e3),lte="__/auth/iframe",cte="emulator/auth/iframe",ute={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},fte=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function dte(t){const e=t.config;kn(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?fA(e,cte):`https://${t.config.authDomain}/${lte}`,r={apiKey:e.apiKey,appName:t.name,v:Cm},s=fte.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${xx(r).slice(1)}`}async function hte(t){const e=await ate(t),n=Xc().gapi;return kn(n,t,"internal-error"),e.open({where:document.body,url:dte(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ute,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const a=Yc(t,"network-request-failed"),o=Xc().setTimeout(()=>{i(a)},ote.get());function c(){Xc().clearTimeout(o),s(r)}r.ping(c).then(c,()=>{i(a)})}))}const pte={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},mte=500,gte=600,xte="_blank",vte="http://localhost";class N3{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function yte(t,e,n,r=mte,s=gte){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const c={...pte,width:r.toString(),height:s.toString(),top:i,left:a},u=Di().toLowerCase();n&&(o=FO(u)?xte:n),MO(u)&&(e=e||vte,c.scrollbars="yes");const d=Object.entries(c).reduce((g,[x,w])=>`${g}${x}=${w},`,"");if(UZ(u)&&o!=="_self")return bte(e||"",o),new N3(null);const p=window.open(e||"",o,d);kn(p,t,"popup-blocked");try{p.focus()}catch{}return new N3(p)}function bte(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const wte="__/auth/handler",_te="emulator/auth/handler",Ete=encodeURIComponent("fac");async function I3(t,e,n,r,s,i){kn(t.config.authDomain,t,"auth-domain-config-required"),kn(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Cm,eventId:s};if(e instanceof $O){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",oQ(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,p]of Object.entries({}))a[d]=p}if(e instanceof bx){const d=e.getScopes().filter(p=>p!=="");d.length>0&&(a.scopes=d.join(","))}t.tenantId&&(a.tid=t.tenantId);const o=a;for(const d of Object.keys(o))o[d]===void 0&&delete o[d];const c=await t._getAppCheckToken(),u=c?`#${Ete}=${encodeURIComponent(c)}`:"";return`${Tte(t)}?${xx(o).slice(1)}${u}`}function Tte({config:t}){return t.emulator?fA(t,_te):`https://${t.authDomain}/${wte}`}const Q_="webStorageSupport";class Ste{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ZO,this._completeRedirectFn=Yee,this._overrideRedirectResult=$ee}async _openPopup(e,n,r,s){ef(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const i=await I3(e,n,r,Z5(),s);return yte(e,i,gA())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await I3(e,n,r,Z5(),s);return Nee(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(ef(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await hte(e),r=new Jee(e);return n.register("authEvent",s=>(kn(s?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Q_,{type:Q_},s=>{const i=s?.[0]?.[Q_];i!==void 0&&n(!!i),cc(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=nte(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return jO()||LO()||hA()}}const Ate=Ste;var k3="@firebase/auth",R3="1.11.1";class Cte{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){kn(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Nte(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Ite(t){rm(new Mh("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;kn(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:a,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qO(t)},u=new $Z(r,s,i,c);return nee(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),rm(new Mh("auth-internal",e=>{const n=Qh(e.getProvider("auth").getImmediate());return(r=>new Cte(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),pd(k3,R3,Nte(t)),pd(k3,R3,"esm2020")}const kte=300,Rte=pO("authIdTokenMaxAge")||kte;let P3=null;const Pte=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Rte)return;const s=n?.token;P3!==s&&(P3=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function Dte(t=cA()){const e=lA(t,"auth");if(e.isInitialized())return e.getImmediate();const n=tee(t,{popupRedirectResolver:Ate,persistence:[Oee,See,ZO]}),r=pO("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const a=Pte(i.toString());bee(n,a,()=>a(n.currentUser)),yee(n,o=>a(o))}}const s=dO("auth");return s&&ree(n,`http://${s}`),n}function Mte(){return document.getElementsByTagName("head")?.[0]??document}WZ({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Yc("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",Mte().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Ite("Browser");var Lte="firebase",Fte="12.6.0";pd(Lte,Fte,"app");var D3=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var md,a7;(function(){var t;function e(P,M){function R(){}R.prototype=M.prototype,P.F=M.prototype,P.prototype=new R,P.prototype.constructor=P,P.D=function(U,L,O){for(var j=Array(arguments.length-2),ie=2;ie<arguments.length;ie++)j[ie-2]=arguments[ie];return M.prototype[L].apply(U,j)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(P,M,R){R||(R=0);const U=Array(16);if(typeof M=="string")for(var L=0;L<16;++L)U[L]=M.charCodeAt(R++)|M.charCodeAt(R++)<<8|M.charCodeAt(R++)<<16|M.charCodeAt(R++)<<24;else for(L=0;L<16;++L)U[L]=M[R++]|M[R++]<<8|M[R++]<<16|M[R++]<<24;M=P.g[0],R=P.g[1],L=P.g[2];let O=P.g[3],j;j=M+(O^R&(L^O))+U[0]+3614090360&4294967295,M=R+(j<<7&4294967295|j>>>25),j=O+(L^M&(R^L))+U[1]+3905402710&4294967295,O=M+(j<<12&4294967295|j>>>20),j=L+(R^O&(M^R))+U[2]+606105819&4294967295,L=O+(j<<17&4294967295|j>>>15),j=R+(M^L&(O^M))+U[3]+3250441966&4294967295,R=L+(j<<22&4294967295|j>>>10),j=M+(O^R&(L^O))+U[4]+4118548399&4294967295,M=R+(j<<7&4294967295|j>>>25),j=O+(L^M&(R^L))+U[5]+1200080426&4294967295,O=M+(j<<12&4294967295|j>>>20),j=L+(R^O&(M^R))+U[6]+2821735955&4294967295,L=O+(j<<17&4294967295|j>>>15),j=R+(M^L&(O^M))+U[7]+4249261313&4294967295,R=L+(j<<22&4294967295|j>>>10),j=M+(O^R&(L^O))+U[8]+1770035416&4294967295,M=R+(j<<7&4294967295|j>>>25),j=O+(L^M&(R^L))+U[9]+2336552879&4294967295,O=M+(j<<12&4294967295|j>>>20),j=L+(R^O&(M^R))+U[10]+4294925233&4294967295,L=O+(j<<17&4294967295|j>>>15),j=R+(M^L&(O^M))+U[11]+2304563134&4294967295,R=L+(j<<22&4294967295|j>>>10),j=M+(O^R&(L^O))+U[12]+1804603682&4294967295,M=R+(j<<7&4294967295|j>>>25),j=O+(L^M&(R^L))+U[13]+4254626195&4294967295,O=M+(j<<12&4294967295|j>>>20),j=L+(R^O&(M^R))+U[14]+2792965006&4294967295,L=O+(j<<17&4294967295|j>>>15),j=R+(M^L&(O^M))+U[15]+1236535329&4294967295,R=L+(j<<22&4294967295|j>>>10),j=M+(L^O&(R^L))+U[1]+4129170786&4294967295,M=R+(j<<5&4294967295|j>>>27),j=O+(R^L&(M^R))+U[6]+3225465664&4294967295,O=M+(j<<9&4294967295|j>>>23),j=L+(M^R&(O^M))+U[11]+643717713&4294967295,L=O+(j<<14&4294967295|j>>>18),j=R+(O^M&(L^O))+U[0]+3921069994&4294967295,R=L+(j<<20&4294967295|j>>>12),j=M+(L^O&(R^L))+U[5]+3593408605&4294967295,M=R+(j<<5&4294967295|j>>>27),j=O+(R^L&(M^R))+U[10]+38016083&4294967295,O=M+(j<<9&4294967295|j>>>23),j=L+(M^R&(O^M))+U[15]+3634488961&4294967295,L=O+(j<<14&4294967295|j>>>18),j=R+(O^M&(L^O))+U[4]+3889429448&4294967295,R=L+(j<<20&4294967295|j>>>12),j=M+(L^O&(R^L))+U[9]+568446438&4294967295,M=R+(j<<5&4294967295|j>>>27),j=O+(R^L&(M^R))+U[14]+3275163606&4294967295,O=M+(j<<9&4294967295|j>>>23),j=L+(M^R&(O^M))+U[3]+4107603335&4294967295,L=O+(j<<14&4294967295|j>>>18),j=R+(O^M&(L^O))+U[8]+1163531501&4294967295,R=L+(j<<20&4294967295|j>>>12),j=M+(L^O&(R^L))+U[13]+2850285829&4294967295,M=R+(j<<5&4294967295|j>>>27),j=O+(R^L&(M^R))+U[2]+4243563512&4294967295,O=M+(j<<9&4294967295|j>>>23),j=L+(M^R&(O^M))+U[7]+1735328473&4294967295,L=O+(j<<14&4294967295|j>>>18),j=R+(O^M&(L^O))+U[12]+2368359562&4294967295,R=L+(j<<20&4294967295|j>>>12),j=M+(R^L^O)+U[5]+4294588738&4294967295,M=R+(j<<4&4294967295|j>>>28),j=O+(M^R^L)+U[8]+2272392833&4294967295,O=M+(j<<11&4294967295|j>>>21),j=L+(O^M^R)+U[11]+1839030562&4294967295,L=O+(j<<16&4294967295|j>>>16),j=R+(L^O^M)+U[14]+4259657740&4294967295,R=L+(j<<23&4294967295|j>>>9),j=M+(R^L^O)+U[1]+2763975236&4294967295,M=R+(j<<4&4294967295|j>>>28),j=O+(M^R^L)+U[4]+1272893353&4294967295,O=M+(j<<11&4294967295|j>>>21),j=L+(O^M^R)+U[7]+4139469664&4294967295,L=O+(j<<16&4294967295|j>>>16),j=R+(L^O^M)+U[10]+3200236656&4294967295,R=L+(j<<23&4294967295|j>>>9),j=M+(R^L^O)+U[13]+681279174&4294967295,M=R+(j<<4&4294967295|j>>>28),j=O+(M^R^L)+U[0]+3936430074&4294967295,O=M+(j<<11&4294967295|j>>>21),j=L+(O^M^R)+U[3]+3572445317&4294967295,L=O+(j<<16&4294967295|j>>>16),j=R+(L^O^M)+U[6]+76029189&4294967295,R=L+(j<<23&4294967295|j>>>9),j=M+(R^L^O)+U[9]+3654602809&4294967295,M=R+(j<<4&4294967295|j>>>28),j=O+(M^R^L)+U[12]+3873151461&4294967295,O=M+(j<<11&4294967295|j>>>21),j=L+(O^M^R)+U[15]+530742520&4294967295,L=O+(j<<16&4294967295|j>>>16),j=R+(L^O^M)+U[2]+3299628645&4294967295,R=L+(j<<23&4294967295|j>>>9),j=M+(L^(R|~O))+U[0]+4096336452&4294967295,M=R+(j<<6&4294967295|j>>>26),j=O+(R^(M|~L))+U[7]+1126891415&4294967295,O=M+(j<<10&4294967295|j>>>22),j=L+(M^(O|~R))+U[14]+2878612391&4294967295,L=O+(j<<15&4294967295|j>>>17),j=R+(O^(L|~M))+U[5]+4237533241&4294967295,R=L+(j<<21&4294967295|j>>>11),j=M+(L^(R|~O))+U[12]+1700485571&4294967295,M=R+(j<<6&4294967295|j>>>26),j=O+(R^(M|~L))+U[3]+2399980690&4294967295,O=M+(j<<10&4294967295|j>>>22),j=L+(M^(O|~R))+U[10]+4293915773&4294967295,L=O+(j<<15&4294967295|j>>>17),j=R+(O^(L|~M))+U[1]+2240044497&4294967295,R=L+(j<<21&4294967295|j>>>11),j=M+(L^(R|~O))+U[8]+1873313359&4294967295,M=R+(j<<6&4294967295|j>>>26),j=O+(R^(M|~L))+U[15]+4264355552&4294967295,O=M+(j<<10&4294967295|j>>>22),j=L+(M^(O|~R))+U[6]+2734768916&4294967295,L=O+(j<<15&4294967295|j>>>17),j=R+(O^(L|~M))+U[13]+1309151649&4294967295,R=L+(j<<21&4294967295|j>>>11),j=M+(L^(R|~O))+U[4]+4149444226&4294967295,M=R+(j<<6&4294967295|j>>>26),j=O+(R^(M|~L))+U[11]+3174756917&4294967295,O=M+(j<<10&4294967295|j>>>22),j=L+(M^(O|~R))+U[2]+718787259&4294967295,L=O+(j<<15&4294967295|j>>>17),j=R+(O^(L|~M))+U[9]+3951481745&4294967295,P.g[0]=P.g[0]+M&4294967295,P.g[1]=P.g[1]+(L+(j<<21&4294967295|j>>>11))&4294967295,P.g[2]=P.g[2]+L&4294967295,P.g[3]=P.g[3]+O&4294967295}r.prototype.v=function(P,M){M===void 0&&(M=P.length);const R=M-this.blockSize,U=this.C;let L=this.h,O=0;for(;O<M;){if(L==0)for(;O<=R;)s(this,P,O),O+=this.blockSize;if(typeof P=="string"){for(;O<M;)if(U[L++]=P.charCodeAt(O++),L==this.blockSize){s(this,U),L=0;break}}else for(;O<M;)if(U[L++]=P[O++],L==this.blockSize){s(this,U),L=0;break}}this.h=L,this.o+=M},r.prototype.A=function(){var P=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);P[0]=128;for(var M=1;M<P.length-8;++M)P[M]=0;M=this.o*8;for(var R=P.length-8;R<P.length;++R)P[R]=M&255,M/=256;for(this.v(P),P=Array(16),M=0,R=0;R<4;++R)for(let U=0;U<32;U+=8)P[M++]=this.g[R]>>>U&255;return P};function i(P,M){var R=o;return Object.prototype.hasOwnProperty.call(R,P)?R[P]:R[P]=M(P)}function a(P,M){this.h=M;const R=[];let U=!0;for(let L=P.length-1;L>=0;L--){const O=P[L]|0;U&&O==M||(R[L]=O,U=!1)}this.g=R}var o={};function c(P){return-128<=P&&P<128?i(P,function(M){return new a([M|0],M<0?-1:0)}):new a([P|0],P<0?-1:0)}function u(P){if(isNaN(P)||!isFinite(P))return p;if(P<0)return S(u(-P));const M=[];let R=1;for(let U=0;P>=R;U++)M[U]=P/R|0,R*=4294967296;return new a(M,0)}function d(P,M){if(P.length==0)throw Error("number format error: empty string");if(M=M||10,M<2||36<M)throw Error("radix out of range: "+M);if(P.charAt(0)=="-")return S(d(P.substring(1),M));if(P.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=u(Math.pow(M,8));let U=p;for(let O=0;O<P.length;O+=8){var L=Math.min(8,P.length-O);const j=parseInt(P.substring(O,O+L),M);L<8?(L=u(Math.pow(M,L)),U=U.j(L).add(u(j))):(U=U.j(R),U=U.add(u(j)))}return U}var p=c(0),g=c(1),x=c(16777216);t=a.prototype,t.m=function(){if(y(this))return-S(this).m();let P=0,M=1;for(let R=0;R<this.g.length;R++){const U=this.i(R);P+=(U>=0?U:4294967296+U)*M,M*=4294967296}return P},t.toString=function(P){if(P=P||10,P<2||36<P)throw Error("radix out of range: "+P);if(w(this))return"0";if(y(this))return"-"+S(this).toString(P);const M=u(Math.pow(P,6));var R=this;let U="";for(;;){const L=D(R,M).g;R=C(R,L.j(M));let O=((R.g.length>0?R.g[0]:R.h)>>>0).toString(P);if(R=L,w(R))return O+U;for(;O.length<6;)O="0"+O;U=O+U}},t.i=function(P){return P<0?0:P<this.g.length?this.g[P]:this.h};function w(P){if(P.h!=0)return!1;for(let M=0;M<P.g.length;M++)if(P.g[M]!=0)return!1;return!0}function y(P){return P.h==-1}t.l=function(P){return P=C(this,P),y(P)?-1:w(P)?0:1};function S(P){const M=P.g.length,R=[];for(let U=0;U<M;U++)R[U]=~P.g[U];return new a(R,~P.h).add(g)}t.abs=function(){return y(this)?S(this):this},t.add=function(P){const M=Math.max(this.g.length,P.g.length),R=[];let U=0;for(let L=0;L<=M;L++){let O=U+(this.i(L)&65535)+(P.i(L)&65535),j=(O>>>16)+(this.i(L)>>>16)+(P.i(L)>>>16);U=j>>>16,O&=65535,j&=65535,R[L]=j<<16|O}return new a(R,R[R.length-1]&-2147483648?-1:0)};function C(P,M){return P.add(S(M))}t.j=function(P){if(w(this)||w(P))return p;if(y(this))return y(P)?S(this).j(S(P)):S(S(this).j(P));if(y(P))return S(this.j(S(P)));if(this.l(x)<0&&P.l(x)<0)return u(this.m()*P.m());const M=this.g.length+P.g.length,R=[];for(var U=0;U<2*M;U++)R[U]=0;for(U=0;U<this.g.length;U++)for(let L=0;L<P.g.length;L++){const O=this.i(U)>>>16,j=this.i(U)&65535,ie=P.i(L)>>>16,Ee=P.i(L)&65535;R[2*U+2*L]+=j*Ee,F(R,2*U+2*L),R[2*U+2*L+1]+=O*Ee,F(R,2*U+2*L+1),R[2*U+2*L+1]+=j*ie,F(R,2*U+2*L+1),R[2*U+2*L+2]+=O*ie,F(R,2*U+2*L+2)}for(P=0;P<M;P++)R[P]=R[2*P+1]<<16|R[2*P];for(P=M;P<2*M;P++)R[P]=0;return new a(R,0)};function F(P,M){for(;(P[M]&65535)!=P[M];)P[M+1]+=P[M]>>>16,P[M]&=65535,M++}function I(P,M){this.g=P,this.h=M}function D(P,M){if(w(M))throw Error("division by zero");if(w(P))return new I(p,p);if(y(P))return M=D(S(P),M),new I(S(M.g),S(M.h));if(y(M))return M=D(P,S(M)),new I(S(M.g),M.h);if(P.g.length>30){if(y(P)||y(M))throw Error("slowDivide_ only works with positive integers.");for(var R=g,U=M;U.l(P)<=0;)R=z(R),U=z(U);var L=G(R,1),O=G(U,1);for(U=G(U,2),R=G(R,2);!w(U);){var j=O.add(U);j.l(P)<=0&&(L=L.add(R),O=j),U=G(U,1),R=G(R,1)}return M=C(P,L.j(M)),new I(L,M)}for(L=p;P.l(M)>=0;){for(R=Math.max(1,Math.floor(P.m()/M.m())),U=Math.ceil(Math.log(R)/Math.LN2),U=U<=48?1:Math.pow(2,U-48),O=u(R),j=O.j(M);y(j)||j.l(P)>0;)R-=U,O=u(R),j=O.j(M);w(O)&&(O=g),L=L.add(O),P=C(P,j)}return new I(L,P)}t.B=function(P){return D(this,P).h},t.and=function(P){const M=Math.max(this.g.length,P.g.length),R=[];for(let U=0;U<M;U++)R[U]=this.i(U)&P.i(U);return new a(R,this.h&P.h)},t.or=function(P){const M=Math.max(this.g.length,P.g.length),R=[];for(let U=0;U<M;U++)R[U]=this.i(U)|P.i(U);return new a(R,this.h|P.h)},t.xor=function(P){const M=Math.max(this.g.length,P.g.length),R=[];for(let U=0;U<M;U++)R[U]=this.i(U)^P.i(U);return new a(R,this.h^P.h)};function z(P){const M=P.g.length+1,R=[];for(let U=0;U<M;U++)R[U]=P.i(U)<<1|P.i(U-1)>>>31;return new a(R,P.h)}function G(P,M){const R=M>>5;M%=32;const U=P.g.length-R,L=[];for(let O=0;O<U;O++)L[O]=M>0?P.i(O+R)>>>M|P.i(O+R+1)<<32-M:P.i(O+R);return new a(L,P.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,a7=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.B,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=u,a.fromString=d,md=a}).apply(typeof D3<"u"?D3:typeof self<"u"?self:typeof window<"u"?window:{});var Hv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var o7,zg,l7,Oy,rT,c7,u7,f7;(function(){var t,e=Object.defineProperty;function n(E){E=[typeof globalThis=="object"&&globalThis,E,typeof window=="object"&&window,typeof self=="object"&&self,typeof Hv=="object"&&Hv];for(var H=0;H<E.length;++H){var Z=E[H];if(Z&&Z.Math==Math)return Z}throw Error("Cannot find global object")}var r=n(this);function s(E,H){if(H)e:{var Z=r;E=E.split(".");for(var ye=0;ye<E.length-1;ye++){var Ke=E[ye];if(!(Ke in Z))break e;Z=Z[Ke]}E=E[E.length-1],ye=Z[E],H=H(ye),H!=ye&&H!=null&&e(Z,E,{configurable:!0,writable:!0,value:H})}}s("Symbol.dispose",function(E){return E||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(E){return E||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(E){return E||function(H){var Z=[],ye;for(ye in H)Object.prototype.hasOwnProperty.call(H,ye)&&Z.push([ye,H[ye]]);return Z}});var i=i||{},a=this||self;function o(E){var H=typeof E;return H=="object"&&E!=null||H=="function"}function c(E,H,Z){return E.call.apply(E.bind,arguments)}function u(E,H,Z){return u=c,u.apply(null,arguments)}function d(E,H){var Z=Array.prototype.slice.call(arguments,1);return function(){var ye=Z.slice();return ye.push.apply(ye,arguments),E.apply(this,ye)}}function p(E,H){function Z(){}Z.prototype=H.prototype,E.Z=H.prototype,E.prototype=new Z,E.prototype.constructor=E,E.Ob=function(ye,Ke,nt){for(var It=Array(arguments.length-2),Rn=2;Rn<arguments.length;Rn++)It[Rn-2]=arguments[Rn];return H.prototype[Ke].apply(ye,It)}}var g=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?E=>E&&AsyncContext.Snapshot.wrap(E):E=>E;function x(E){const H=E.length;if(H>0){const Z=Array(H);for(let ye=0;ye<H;ye++)Z[ye]=E[ye];return Z}return[]}function w(E,H){for(let ye=1;ye<arguments.length;ye++){const Ke=arguments[ye];var Z=typeof Ke;if(Z=Z!="object"?Z:Ke?Array.isArray(Ke)?"array":Z:"null",Z=="array"||Z=="object"&&typeof Ke.length=="number"){Z=E.length||0;const nt=Ke.length||0;E.length=Z+nt;for(let It=0;It<nt;It++)E[Z+It]=Ke[It]}else E.push(Ke)}}class y{constructor(H,Z){this.i=H,this.j=Z,this.h=0,this.g=null}get(){let H;return this.h>0?(this.h--,H=this.g,this.g=H.next,H.next=null):H=this.i(),H}}function S(E){a.setTimeout(()=>{throw E},0)}function C(){var E=P;let H=null;return E.g&&(H=E.g,E.g=E.g.next,E.g||(E.h=null),H.next=null),H}class F{constructor(){this.h=this.g=null}add(H,Z){const ye=I.get();ye.set(H,Z),this.h?this.h.next=ye:this.g=ye,this.h=ye}}var I=new y(()=>new D,E=>E.reset());class D{constructor(){this.next=this.g=this.h=null}set(H,Z){this.h=H,this.g=Z,this.next=null}reset(){this.next=this.g=this.h=null}}let z,G=!1,P=new F,M=()=>{const E=Promise.resolve(void 0);z=()=>{E.then(R)}};function R(){for(var E;E=C();){try{E.h.call(E.g)}catch(Z){S(Z)}var H=I;H.j(E),H.h<100&&(H.h++,E.next=H.g,H.g=E)}G=!1}function U(){this.u=this.u,this.C=this.C}U.prototype.u=!1,U.prototype.dispose=function(){this.u||(this.u=!0,this.N())},U.prototype[Symbol.dispose]=function(){this.dispose()},U.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function L(E,H){this.type=E,this.g=this.target=H,this.defaultPrevented=!1}L.prototype.h=function(){this.defaultPrevented=!0};var O=(function(){if(!a.addEventListener||!Object.defineProperty)return!1;var E=!1,H=Object.defineProperty({},"passive",{get:function(){E=!0}});try{const Z=()=>{};a.addEventListener("test",Z,H),a.removeEventListener("test",Z,H)}catch{}return E})();function j(E){return/^[\s\xa0]*$/.test(E)}function ie(E,H){L.call(this,E?E.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,E&&this.init(E,H)}p(ie,L),ie.prototype.init=function(E,H){const Z=this.type=E.type,ye=E.changedTouches&&E.changedTouches.length?E.changedTouches[0]:null;this.target=E.target||E.srcElement,this.g=H,H=E.relatedTarget,H||(Z=="mouseover"?H=E.fromElement:Z=="mouseout"&&(H=E.toElement)),this.relatedTarget=H,ye?(this.clientX=ye.clientX!==void 0?ye.clientX:ye.pageX,this.clientY=ye.clientY!==void 0?ye.clientY:ye.pageY,this.screenX=ye.screenX||0,this.screenY=ye.screenY||0):(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0),this.button=E.button,this.key=E.key||"",this.ctrlKey=E.ctrlKey,this.altKey=E.altKey,this.shiftKey=E.shiftKey,this.metaKey=E.metaKey,this.pointerId=E.pointerId||0,this.pointerType=E.pointerType,this.state=E.state,this.i=E,E.defaultPrevented&&ie.Z.h.call(this)},ie.prototype.h=function(){ie.Z.h.call(this);const E=this.i;E.preventDefault?E.preventDefault():E.returnValue=!1};var Ee="closure_listenable_"+(Math.random()*1e6|0),ae=0;function pe(E,H,Z,ye,Ke){this.listener=E,this.proxy=null,this.src=H,this.type=Z,this.capture=!!ye,this.ha=Ke,this.key=++ae,this.da=this.fa=!1}function de(E){E.da=!0,E.listener=null,E.proxy=null,E.src=null,E.ha=null}function oe(E,H,Z){for(const ye in E)H.call(Z,E[ye],ye,E)}function ke(E,H){for(const Z in E)H.call(void 0,E[Z],Z,E)}function ne(E){const H={};for(const Z in E)H[Z]=E[Z];return H}const B="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function K(E,H){let Z,ye;for(let Ke=1;Ke<arguments.length;Ke++){ye=arguments[Ke];for(Z in ye)E[Z]=ye[Z];for(let nt=0;nt<B.length;nt++)Z=B[nt],Object.prototype.hasOwnProperty.call(ye,Z)&&(E[Z]=ye[Z])}}function Y(E){this.src=E,this.g={},this.h=0}Y.prototype.add=function(E,H,Z,ye,Ke){const nt=E.toString();E=this.g[nt],E||(E=this.g[nt]=[],this.h++);const It=ue(E,H,ye,Ke);return It>-1?(H=E[It],Z||(H.fa=!1)):(H=new pe(H,this.src,nt,!!ye,Ke),H.fa=Z,E.push(H)),H};function Q(E,H){const Z=H.type;if(Z in E.g){var ye=E.g[Z],Ke=Array.prototype.indexOf.call(ye,H,void 0),nt;(nt=Ke>=0)&&Array.prototype.splice.call(ye,Ke,1),nt&&(de(H),E.g[Z].length==0&&(delete E.g[Z],E.h--))}}function ue(E,H,Z,ye){for(let Ke=0;Ke<E.length;++Ke){const nt=E[Ke];if(!nt.da&&nt.listener==H&&nt.capture==!!Z&&nt.ha==ye)return Ke}return-1}var ge="closure_lm_"+(Math.random()*1e6|0),Pe={};function ee(E,H,Z,ye,Ke){if(Array.isArray(H)){for(let nt=0;nt<H.length;nt++)ee(E,H[nt],Z,ye,Ke);return null}return Z=Et(Z),E&&E[Ee]?E.J(H,Z,o(ye)?!!ye.capture:!1,Ke):Re(E,H,Z,!1,ye,Ke)}function Re(E,H,Z,ye,Ke,nt){if(!H)throw Error("Invalid event type");const It=o(Ke)?!!Ke.capture:!!Ke;let Rn=Ge(E);if(Rn||(E[ge]=Rn=new Y(E)),Z=Rn.add(H,Z,ye,It,nt),Z.proxy)return Z;if(ye=He(),Z.proxy=ye,ye.src=E,ye.listener=Z,E.addEventListener)O||(Ke=It),Ke===void 0&&(Ke=!1),E.addEventListener(H.toString(),ye,Ke);else if(E.attachEvent)E.attachEvent(We(H.toString()),ye);else if(E.addListener&&E.removeListener)E.addListener(ye);else throw Error("addEventListener and attachEvent are unavailable.");return Z}function He(){function E(Z){return H.call(E.src,E.listener,Z)}const H=le;return E}function he(E,H,Z,ye,Ke){if(Array.isArray(H))for(var nt=0;nt<H.length;nt++)he(E,H[nt],Z,ye,Ke);else ye=o(ye)?!!ye.capture:!!ye,Z=Et(Z),E&&E[Ee]?(E=E.i,nt=String(H).toString(),nt in E.g&&(H=E.g[nt],Z=ue(H,Z,ye,Ke),Z>-1&&(de(H[Z]),Array.prototype.splice.call(H,Z,1),H.length==0&&(delete E.g[nt],E.h--)))):E&&(E=Ge(E))&&(H=E.g[H.toString()],E=-1,H&&(E=ue(H,Z,ye,Ke)),(Z=E>-1?H[E]:null)&&Se(Z))}function Se(E){if(typeof E!="number"&&E&&!E.da){var H=E.src;if(H&&H[Ee])Q(H.i,E);else{var Z=E.type,ye=E.proxy;H.removeEventListener?H.removeEventListener(Z,ye,E.capture):H.detachEvent?H.detachEvent(We(Z),ye):H.addListener&&H.removeListener&&H.removeListener(ye),(Z=Ge(H))?(Q(Z,E),Z.h==0&&(Z.src=null,H[ge]=null)):de(E)}}}function We(E){return E in Pe?Pe[E]:Pe[E]="on"+E}function le(E,H){if(E.da)E=!0;else{H=new ie(H,this);const Z=E.listener,ye=E.ha||E.src;E.fa&&Se(E),E=Z.call(ye,H)}return E}function Ge(E){return E=E[ge],E instanceof Y?E:null}var st="__closure_events_fn_"+(Math.random()*1e9>>>0);function Et(E){return typeof E=="function"?E:(E[st]||(E[st]=function(H){return E.handleEvent(H)}),E[st])}function je(){U.call(this),this.i=new Y(this),this.M=this,this.G=null}p(je,U),je.prototype[Ee]=!0,je.prototype.removeEventListener=function(E,H,Z,ye){he(this,E,H,Z,ye)};function yt(E,H){var Z,ye=E.G;if(ye)for(Z=[];ye;ye=ye.G)Z.push(ye);if(E=E.M,ye=H.type||H,typeof H=="string")H=new L(H,E);else if(H instanceof L)H.target=H.target||E;else{var Ke=H;H=new L(ye,E),K(H,Ke)}Ke=!0;let nt,It;if(Z)for(It=Z.length-1;It>=0;It--)nt=H.g=Z[It],Ke=St(nt,ye,!0,H)&&Ke;if(nt=H.g=E,Ke=St(nt,ye,!0,H)&&Ke,Ke=St(nt,ye,!1,H)&&Ke,Z)for(It=0;It<Z.length;It++)nt=H.g=Z[It],Ke=St(nt,ye,!1,H)&&Ke}je.prototype.N=function(){if(je.Z.N.call(this),this.i){var E=this.i;for(const H in E.g){const Z=E.g[H];for(let ye=0;ye<Z.length;ye++)de(Z[ye]);delete E.g[H],E.h--}}this.G=null},je.prototype.J=function(E,H,Z,ye){return this.i.add(String(E),H,!1,Z,ye)},je.prototype.K=function(E,H,Z,ye){return this.i.add(String(E),H,!0,Z,ye)};function St(E,H,Z,ye){if(H=E.i.g[String(H)],!H)return!0;H=H.concat();let Ke=!0;for(let nt=0;nt<H.length;++nt){const It=H[nt];if(It&&!It.da&&It.capture==Z){const Rn=It.listener,Kr=It.ha||It.src;It.fa&&Q(E.i,It),Ke=Rn.call(Kr,ye)!==!1&&Ke}}return Ke&&!ye.defaultPrevented}function Rt(E,H){if(typeof E!="function")if(E&&typeof E.handleEvent=="function")E=u(E.handleEvent,E);else throw Error("Invalid listener argument");return Number(H)>2147483647?-1:a.setTimeout(E,H||0)}function Ut(E){E.g=Rt(()=>{E.g=null,E.i&&(E.i=!1,Ut(E))},E.l);const H=E.h;E.h=null,E.m.apply(null,H)}class Jt extends U{constructor(H,Z){super(),this.m=H,this.l=Z,this.h=null,this.i=!1,this.g=null}j(H){this.h=arguments,this.g?this.i=!0:Ut(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function zt(E){U.call(this),this.h=E,this.g={}}p(zt,U);var Gt=[];function Nn(E){oe(E.g,function(H,Z){this.g.hasOwnProperty(Z)&&Se(H)},E),E.g={}}zt.prototype.N=function(){zt.Z.N.call(this),Nn(this)},zt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Qt=a.JSON.stringify,Lt=a.JSON.parse,kt=class{stringify(E){return a.JSON.stringify(E,void 0)}parse(E){return a.JSON.parse(E,void 0)}};function At(){}function zn(){}var Ot={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ct(){L.call(this,"d")}p(Ct,L);function Ht(){L.call(this,"c")}p(Ht,L);var vn={},fn=null;function Zn(){return fn=fn||new je}vn.Ia="serverreachability";function xn(E){L.call(this,vn.Ia,E)}p(xn,L);function pn(E){const H=Zn();yt(H,new xn(H))}vn.STAT_EVENT="statevent";function cr(E,H){L.call(this,vn.STAT_EVENT,E),this.stat=H}p(cr,L);function dn(E){const H=Zn();yt(H,new cr(H,E))}vn.Ja="timingevent";function Kt(E,H){L.call(this,vn.Ja,E),this.size=H}p(Kt,L);function On(E,H){if(typeof E!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){E()},H)}function us(){this.g=!0}us.prototype.ua=function(){this.g=!1};function fs(E,H,Z,ye,Ke,nt){E.info(function(){if(E.g)if(nt){var It="",Rn=nt.split("&");for(let Jn=0;Jn<Rn.length;Jn++){var Kr=Rn[Jn].split("=");if(Kr.length>1){const Rr=Kr[0];Kr=Kr[1];const ai=Rr.split("_");It=ai.length>=2&&ai[1]=="type"?It+(Rr+"="+Kr+"&"):It+(Rr+"=redacted&")}}}else It=null;else It=nt;return"XMLHTTP REQ ("+ye+") [attempt "+Ke+"]: "+H+`
`+Z+`
`+It})}function Li(E,H,Z,ye,Ke,nt,It){E.info(function(){return"XMLHTTP RESP ("+ye+") [ attempt "+Ke+"]: "+H+`
`+Z+`
`+nt+" "+It})}function ns(E,H,Z,ye){E.info(function(){return"XMLHTTP TEXT ("+H+"): "+Fe(E,Z)+(ye?" "+ye:"")})}function hn(E,H){E.info(function(){return"TIMEOUT: "+H})}us.prototype.info=function(){};function Fe(E,H){if(!E.g)return H;if(!H)return null;try{const nt=JSON.parse(H);if(nt){for(E=0;E<nt.length;E++)if(Array.isArray(nt[E])){var Z=nt[E];if(!(Z.length<2)){var ye=Z[1];if(Array.isArray(ye)&&!(ye.length<1)){var Ke=ye[0];if(Ke!="noop"&&Ke!="stop"&&Ke!="close")for(let It=1;It<ye.length;It++)ye[It]=""}}}}return Qt(nt)}catch{return H}}var Mt={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},jt={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Yn;function Zt(){}p(Zt,At),Zt.prototype.g=function(){return new XMLHttpRequest},Yn=new Zt;function Gn(E){return encodeURIComponent(String(E))}function se(E){var H=1;E=E.split(":");const Z=[];for(;H>0&&E.length;)Z.push(E.shift()),H--;return E.length&&Z.push(E.join(":")),Z}function _e(E,H,Z,ye){this.j=E,this.i=H,this.l=Z,this.S=ye||1,this.V=new zt(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ve}function ve(){this.i=null,this.g="",this.h=!1}var be={},Te={};function Ae(E,H,Z){E.M=1,E.A=Zo(vs(H)),E.u=Z,E.R=!0,Ue(E,null)}function Ue(E,H){E.F=Date.now(),Qe(E),E.B=vs(E.A);var Z=E.B,ye=E.S;Array.isArray(ye)||(ye=[String(ye)]),gc(Z.i,"t",ye),E.C=0,Z=E.j.L,E.h=new ve,E.g=Xt(E.j,Z?H:null,!E.u),E.P>0&&(E.O=new Jt(u(E.Y,E,E.g),E.P)),H=E.V,Z=E.g,ye=E.ba;var Ke="readystatechange";Array.isArray(Ke)||(Ke&&(Gt[0]=Ke.toString()),Ke=Gt);for(let nt=0;nt<Ke.length;nt++){const It=ee(Z,Ke[nt],ye||H.handleEvent,!1,H.h||H);if(!It)break;H.g[It.key]=It}H=E.J?ne(E.J):{},E.u?(E.v||(E.v="POST"),H["Content-Type"]="application/x-www-form-urlencoded",E.g.ea(E.B,E.v,E.u,H)):(E.v="GET",E.g.ea(E.B,E.v,null,H)),pn(),fs(E.i,E.v,E.B,E.l,E.S,E.u)}_e.prototype.ba=function(E){E=E.target;const H=this.O;H&&ea(E)==3?H.j():this.Y(E)},_e.prototype.Y=function(E){try{if(E==this.g)e:{const Rn=ea(this.g),Kr=this.g.ya(),Jn=this.g.ca();if(!(Rn<3)&&(Rn!=3||this.g&&(this.h.h||this.g.la()||Is(this.g)))){this.K||Rn!=4||Kr==7||(Kr==8||Jn<=0?pn(3):pn(2)),Tt(this);var H=this.g.ca();this.X=H;var Z=at(this);if(this.o=H==200,Li(this.i,this.v,this.B,this.l,this.S,Rn,H),this.o){if(this.U&&!this.L){t:{if(this.g){var ye,Ke=this.g;if((ye=Ke.g?Ke.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!j(ye)){var nt=ye;break t}}nt=null}if(E=nt)ns(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Pt(this,E);else{this.o=!1,this.m=3,dn(12),wt(this),Dt(this);break e}}if(this.R){E=!0;let Rr;for(;!this.K&&this.C<Z.length;)if(Rr=$e(this,Z),Rr==Te){Rn==4&&(this.m=4,dn(14),E=!1),ns(this.i,this.l,null,"[Incomplete Response]");break}else if(Rr==be){this.m=4,dn(15),ns(this.i,this.l,Z,"[Invalid Chunk]"),E=!1;break}else ns(this.i,this.l,Rr,null),Pt(this,Rr);if(Be(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rn!=4||Z.length!=0||this.h.h||(this.m=1,dn(16),E=!1),this.o=this.o&&E,!E)ns(this.i,this.l,Z,"[Invalid Chunked Response]"),wt(this),Dt(this);else if(Z.length>0&&!this.W){this.W=!0;var It=this.j;It.g==this&&It.aa&&!It.P&&(It.j.info("Great, no buffering proxy detected. Bytes received: "+Z.length),bc(It),It.P=!0,dn(11))}}else ns(this.i,this.l,Z,null),Pt(this,Z);Rn==4&&wt(this),this.o&&!this.K&&(Rn==4?Ne(this.j,this):(this.o=!1,Qe(this)))}else to(this.g),H==400&&Z.indexOf("Unknown SID")>0?(this.m=3,dn(12)):(this.m=0,dn(13)),wt(this),Dt(this)}}}catch{}finally{}};function at(E){if(!Be(E))return E.g.la();const H=Is(E.g);if(H==="")return"";let Z="";const ye=H.length,Ke=ea(E.g)==4;if(!E.h.i){if(typeof TextDecoder>"u")return wt(E),Dt(E),"";E.h.i=new a.TextDecoder}for(let nt=0;nt<ye;nt++)E.h.h=!0,Z+=E.h.i.decode(H[nt],{stream:!(Ke&&nt==ye-1)});return H.length=0,E.h.g+=Z,E.C=0,E.h.g}function Be(E){return E.g?E.v=="GET"&&E.M!=2&&E.j.Aa:!1}function $e(E,H){var Z=E.C,ye=H.indexOf(`
`,Z);return ye==-1?Te:(Z=Number(H.substring(Z,ye)),isNaN(Z)?be:(ye+=1,ye+Z>H.length?Te:(H=H.slice(ye,ye+Z),E.C=ye+Z,H)))}_e.prototype.cancel=function(){this.K=!0,wt(this)};function Qe(E){E.T=Date.now()+E.H,bt(E,E.H)}function bt(E,H){if(E.D!=null)throw Error("WatchDog timer not null");E.D=On(u(E.aa,E),H)}function Tt(E){E.D&&(a.clearTimeout(E.D),E.D=null)}_e.prototype.aa=function(){this.D=null;const E=Date.now();E-this.T>=0?(hn(this.i,this.B),this.M!=2&&(pn(),dn(17)),wt(this),this.m=2,Dt(this)):bt(this,this.T-E)};function Dt(E){E.j.I==0||E.K||Ne(E.j,E)}function wt(E){Tt(E);var H=E.O;H&&typeof H.dispose=="function"&&H.dispose(),E.O=null,Nn(E.V),E.g&&(H=E.g,E.g=null,H.abort(),H.dispose())}function Pt(E,H){try{var Z=E.j;if(Z.I!=0&&(Z.g==E||Ks(Z.h,E))){if(!E.L&&Ks(Z.h,E)&&Z.I==3){try{var ye=Z.Ba.g.parse(H)}catch{ye=null}if(Array.isArray(ye)&&ye.length==3){var Ke=ye;if(Ke[0]==0){e:if(!Z.v){if(Z.g)if(Z.g.F+3e3<E.F)te(Z),ro(Z);else break e;Va(Z),dn(18)}}else Z.xa=Ke[1],0<Z.xa-Z.K&&Ke[2]<37500&&Z.F&&Z.A==0&&!Z.C&&(Z.C=On(u(Z.Va,Z),6e3));Ar(Z.h)<=1&&Z.ta&&(Z.ta=void 0)}else qe(Z,11)}else if((E.L||Z.g==E)&&te(Z),!j(H))for(Ke=Z.Ba.g.parse(H),H=0;H<Ke.length;H++){let Jn=Ke[H];const Rr=Jn[0];if(!(Rr<=Z.K))if(Z.K=Rr,Jn=Jn[1],Z.I==2)if(Jn[0]=="c"){Z.M=Jn[1],Z.ba=Jn[2];const ai=Jn[3];ai!=null&&(Z.ka=ai,Z.j.info("VER="+Z.ka));const vi=Jn[4];vi!=null&&(Z.za=vi,Z.j.info("SVER="+Z.za));const Ur=Jn[5];Ur!=null&&typeof Ur=="number"&&Ur>0&&(ye=1.5*Ur,Z.O=ye,Z.j.info("backChannelRequestTimeoutMs_="+ye)),ye=Z;const yi=E.g;if(yi){const Ua=yi.g?yi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ua){var nt=ye.h;nt.g||Ua.indexOf("spdy")==-1&&Ua.indexOf("quic")==-1&&Ua.indexOf("h2")==-1||(nt.j=nt.l,nt.g=new Set,nt.h&&(Ji(nt,nt.h),nt.h=null))}if(ye.G){const sl=yi.g?yi.g.getResponseHeader("X-HTTP-Session-Id"):null;sl&&(ye.wa=sl,ur(ye.J,ye.G,sl))}}Z.I=3,Z.l&&Z.l.ra(),Z.aa&&(Z.T=Date.now()-E.F,Z.j.info("Handshake RTT: "+Z.T+"ms")),ye=Z;var It=E;if(ye.na=vt(ye,ye.L?ye.ba:null,ye.W),It.L){pa(ye.h,It);var Rn=It,Kr=ye.O;Kr&&(Rn.H=Kr),Rn.D&&(Tt(Rn),Qe(Rn)),ye.g=It}else xu(ye);Z.i.length>0&&ga(Z)}else Jn[0]!="stop"&&Jn[0]!="close"||qe(Z,7);else Z.I==3&&(Jn[0]=="stop"||Jn[0]=="close"?Jn[0]=="stop"?qe(Z,7):rl(Z):Jn[0]!="noop"&&Z.l&&Z.l.qa(Jn),Z.A=0)}}pn(4)}catch{}}var Yt=class{constructor(E,H){this.g=E,this.map=H}};function vr(E){this.l=E||10,a.PerformanceNavigationTiming?(E=a.performance.getEntriesByType("navigation"),E=E.length>0&&(E[0].nextHopProtocol=="hq"||E[0].nextHopProtocol=="h2")):E=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=E?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Wn(E){return E.h?!0:E.g?E.g.size>=E.j:!1}function Ar(E){return E.h?1:E.g?E.g.size:0}function Ks(E,H){return E.h?E.h==H:E.g?E.g.has(H):!1}function Ji(E,H){E.g?E.g.add(H):E.h=H}function pa(E,H){E.h&&E.h==H?E.h=null:E.g&&E.g.has(H)&&E.g.delete(H)}vr.prototype.cancel=function(){if(this.i=Fi(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const E of this.g.values())E.cancel();this.g.clear()}};function Fi(E){if(E.h!=null)return E.i.concat(E.h.G);if(E.g!=null&&E.g.size!==0){let H=E.i;for(const Z of E.g.values())H=H.concat(Z.G);return H}return x(E.i)}var Io=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function rs(E,H){if(E){E=E.split("&");for(let Z=0;Z<E.length;Z++){const ye=E[Z].indexOf("=");let Ke,nt=null;ye>=0?(Ke=E[Z].substring(0,ye),nt=E[Z].substring(ye+1)):Ke=E[Z],H(Ke,nt?decodeURIComponent(nt.replace(/\+/g," ")):"")}}}function si(E){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let H;E instanceof si?(this.l=E.l,er(this,E.j),this.o=E.o,this.g=E.g,ko(this,E.u),this.h=E.h,ma(this,xc(E.i)),this.m=E.m):E&&(H=String(E).match(Io))?(this.l=!1,er(this,H[1]||"",!0),this.o=Ns(H[2]||""),this.g=Ns(H[3]||"",!0),ko(this,H[4]),this.h=Ns(H[5]||"",!0),ma(this,H[6]||"",!0),this.m=Ns(H[7]||"")):(this.l=!1,this.i=new Ro(null,this.l))}si.prototype.toString=function(){const E=[];var H=this.j;H&&E.push(ss(H,Rl,!0),":");var Z=this.g;return(Z||H=="file")&&(E.push("//"),(H=this.o)&&E.push(ss(H,Rl,!0),"@"),E.push(Gn(Z).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),Z=this.u,Z!=null&&E.push(":",String(Z))),(Z=this.h)&&(this.g&&Z.charAt(0)!="/"&&E.push("/"),E.push(ss(Z,Z.charAt(0)=="/"?du:mf,!0))),(Z=this.i.toString())&&E.push("?",Z),(Z=this.m)&&E.push("#",ss(Z,hu)),E.join("")},si.prototype.resolve=function(E){const H=vs(this);let Z=!!E.j;Z?er(H,E.j):Z=!!E.o,Z?H.o=E.o:Z=!!E.g,Z?H.g=E.g:Z=E.u!=null;var ye=E.h;if(Z)ko(H,E.u);else if(Z=!!E.h){if(ye.charAt(0)!="/")if(this.g&&!this.h)ye="/"+ye;else{var Ke=H.h.lastIndexOf("/");Ke!=-1&&(ye=H.h.slice(0,Ke+1)+ye)}if(Ke=ye,Ke==".."||Ke==".")ye="";else if(Ke.indexOf("./")!=-1||Ke.indexOf("/.")!=-1){ye=Ke.lastIndexOf("/",0)==0,Ke=Ke.split("/");const nt=[];for(let It=0;It<Ke.length;){const Rn=Ke[It++];Rn=="."?ye&&It==Ke.length&&nt.push(""):Rn==".."?((nt.length>1||nt.length==1&&nt[0]!="")&&nt.pop(),ye&&It==Ke.length&&nt.push("")):(nt.push(Rn),ye=!0)}ye=nt.join("/")}else ye=Ke}return Z?H.h=ye:Z=E.i.toString()!=="",Z?ma(H,xc(E.i)):Z=!!E.m,Z&&(H.m=E.m),H};function vs(E){return new si(E)}function er(E,H,Z){E.j=Z?Ns(H,!0):H,E.j&&(E.j=E.j.replace(/:$/,""))}function ko(E,H){if(H){if(H=Number(H),isNaN(H)||H<0)throw Error("Bad port number "+H);E.u=H}else E.u=null}function ma(E,H,Z){H instanceof Ro?(E.i=H,Oi(E.i,E.l)):(Z||(H=ss(H,xi)),E.i=new Ro(H,E.l))}function ur(E,H,Z){E.i.set(H,Z)}function Zo(E){return ur(E,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),E}function Ns(E,H){return E?H?decodeURI(E.replace(/%25/g,"%2525")):decodeURIComponent(E):""}function ss(E,H,Z){return typeof E=="string"?(E=encodeURI(E).replace(H,ys),Z&&(E=E.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E):null}function ys(E){return E=E.charCodeAt(0),"%"+(E>>4&15).toString(16)+(E&15).toString(16)}var Rl=/[#\/\?@]/g,mf=/[#\?:]/g,du=/[#\?]/g,xi=/[#\?@]/g,hu=/#/g;function Ro(E,H){this.h=this.g=null,this.i=E||null,this.j=!!H}function Ys(E){E.g||(E.g=new Map,E.h=0,E.i&&rs(E.i,function(H,Z){E.add(decodeURIComponent(H.replace(/\+/g," ")),Z)}))}t=Ro.prototype,t.add=function(E,H){Ys(this),this.i=null,E=Po(this,E);let Z=this.g.get(E);return Z||this.g.set(E,Z=[]),Z.push(H),this.h+=1,this};function el(E,H){Ys(E),H=Po(E,H),E.g.has(H)&&(E.i=null,E.h-=E.g.get(H).length,E.g.delete(H))}function pu(E,H){return Ys(E),H=Po(E,H),E.g.has(H)}t.forEach=function(E,H){Ys(this),this.g.forEach(function(Z,ye){Z.forEach(function(Ke){E.call(H,Ke,ye,this)},this)},this)};function mu(E,H){Ys(E);let Z=[];if(typeof H=="string")pu(E,H)&&(Z=Z.concat(E.g.get(Po(E,H))));else for(E=Array.from(E.g.values()),H=0;H<E.length;H++)Z=Z.concat(E[H]);return Z}t.set=function(E,H){return Ys(this),this.i=null,E=Po(this,E),pu(this,E)&&(this.h-=this.g.get(E).length),this.g.set(E,[H]),this.h+=1,this},t.get=function(E,H){return E?(E=mu(this,E),E.length>0?String(E[0]):H):H};function gc(E,H,Z){el(E,H),Z.length>0&&(E.i=null,E.g.set(Po(E,H),x(Z)),E.h+=Z.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const E=[],H=Array.from(this.g.keys());for(let ye=0;ye<H.length;ye++){var Z=H[ye];const Ke=Gn(Z);Z=mu(this,Z);for(let nt=0;nt<Z.length;nt++){let It=Ke;Z[nt]!==""&&(It+="="+Gn(Z[nt])),E.push(It)}}return this.i=E.join("&")};function xc(E){const H=new Ro;return H.i=E.i,E.g&&(H.g=new Map(E.g),H.h=E.h),H}function Po(E,H){return H=String(H),E.j&&(H=H.toLowerCase()),H}function Oi(E,H){H&&!E.j&&(Ys(E),E.i=null,E.g.forEach(function(Z,ye){const Ke=ye.toLowerCase();ye!=Ke&&(el(this,ye),gc(this,Ke,Z))},E)),E.j=H}function Oa(E,H){const Z=new us;if(a.Image){const ye=new Image;ye.onload=d(Bi,Z,"TestLoadImage: loaded",!0,H,ye),ye.onerror=d(Bi,Z,"TestLoadImage: error",!1,H,ye),ye.onabort=d(Bi,Z,"TestLoadImage: abort",!1,H,ye),ye.ontimeout=d(Bi,Z,"TestLoadImage: timeout",!1,H,ye),a.setTimeout(function(){ye.ontimeout&&ye.ontimeout()},1e4),ye.src=E}else H(!1)}function Do(E,H){const Z=new us,ye=new AbortController,Ke=setTimeout(()=>{ye.abort(),Bi(Z,"TestPingServer: timeout",!1,H)},1e4);fetch(E,{signal:ye.signal}).then(nt=>{clearTimeout(Ke),nt.ok?Bi(Z,"TestPingServer: ok",!0,H):Bi(Z,"TestPingServer: server error",!1,H)}).catch(()=>{clearTimeout(Ke),Bi(Z,"TestPingServer: error",!1,H)})}function Bi(E,H,Z,ye,Ke){try{Ke&&(Ke.onload=null,Ke.onerror=null,Ke.onabort=null,Ke.ontimeout=null),ye(Z)}catch{}}function tl(){this.g=new kt}function wn(E){this.i=E.Sb||null,this.h=E.ab||!1}p(wn,At),wn.prototype.g=function(){return new Pl(this.i,this.h)};function Pl(E,H){je.call(this),this.H=E,this.o=H,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}p(Pl,je),t=Pl.prototype,t.open=function(E,H){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=E,this.D=H,this.readyState=1,Xs(this)},t.send=function(E){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const H={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};E&&(H.body=E),(this.H||a).fetch(new Request(this.D,H)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,nl(this)),this.readyState=0},t.Pa=function(E){if(this.g&&(this.l=E,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=E.headers,this.readyState=2,Xs(this)),this.g&&(this.readyState=3,Xs(this),this.g)))if(this.responseType==="arraybuffer")E.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in E){if(this.j=E.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;vc(this)}else E.text().then(this.Oa.bind(this),this.ga.bind(this))};function vc(E){E.j.read().then(E.Ma.bind(E)).catch(E.ga.bind(E))}t.Ma=function(E){if(this.g){if(this.o&&E.value)this.response.push(E.value);else if(!this.o){var H=E.value?E.value:new Uint8Array(0);(H=this.B.decode(H,{stream:!E.done}))&&(this.response=this.responseText+=H)}E.done?nl(this):Xs(this),this.readyState==3&&vc(this)}},t.Oa=function(E){this.g&&(this.response=this.responseText=E,nl(this))},t.Na=function(E){this.g&&(this.response=E,nl(this))},t.ga=function(){this.g&&nl(this)};function nl(E){E.readyState=4,E.l=null,E.j=null,E.B=null,Xs(E)}t.setRequestHeader=function(E,H){this.A.append(E,H)},t.getResponseHeader=function(E){return this.h&&this.h.get(E.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const E=[],H=this.h.entries();for(var Z=H.next();!Z.done;)Z=Z.value,E.push(Z[0]+": "+Z[1]),Z=H.next();return E.join(`\r
`)};function Xs(E){E.onreadystatechange&&E.onreadystatechange.call(E)}Object.defineProperty(Pl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(E){this.m=E?"include":"same-origin"}});function Fs(E){let H="";return oe(E,function(Z,ye){H+=ye,H+=":",H+=Z,H+=`\r
`}),H}function Dl(E,H,Z){e:{for(ye in Z){var ye=!1;break e}ye=!0}ye||(Z=Fs(Z),typeof E=="string"?Z!=null&&Gn(Z):ur(E,H,Z))}function kr(E){je.call(this),this.headers=new Map,this.L=E||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}p(kr,je);var Qi=/^https?$/i,Ml=["POST","PUT"];t=kr.prototype,t.Fa=function(E){this.H=E},t.ea=function(E,H,Z,ye){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+E);H=H?H.toUpperCase():"GET",this.D=E,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Yn.g(),this.g.onreadystatechange=g(u(this.Ca,this));try{this.B=!0,this.g.open(H,String(E),!0),this.B=!1}catch(nt){Ba(this,nt);return}if(E=Z||"",Z=new Map(this.headers),ye)if(Object.getPrototypeOf(ye)===Object.prototype)for(var Ke in ye)Z.set(Ke,ye[Ke]);else if(typeof ye.keys=="function"&&typeof ye.get=="function")for(const nt of ye.keys())Z.set(nt,ye.get(nt));else throw Error("Unknown input type for opt_headers: "+String(ye));ye=Array.from(Z.keys()).find(nt=>nt.toLowerCase()=="content-type"),Ke=a.FormData&&E instanceof a.FormData,!(Array.prototype.indexOf.call(Ml,H,void 0)>=0)||ye||Ke||Z.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[nt,It]of Z)this.g.setRequestHeader(nt,It);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(E),this.v=!1}catch(nt){Ba(this,nt)}};function Ba(E,H){E.h=!1,E.g&&(E.j=!0,E.g.abort(),E.j=!1),E.l=H,E.o=5,gu(E),Mo(E)}function gu(E){E.A||(E.A=!0,yt(E,"complete"),yt(E,"error"))}t.abort=function(E){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=E||7,yt(this,"complete"),yt(this,"abort"),Mo(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Mo(this,!0)),kr.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Zi(this):this.Xa())},t.Xa=function(){Zi(this)};function Zi(E){if(E.h&&typeof i<"u"){if(E.v&&ea(E)==4)setTimeout(E.Ca.bind(E),0);else if(yt(E,"readystatechange"),ea(E)==4){E.h=!1;try{const nt=E.ca();e:switch(nt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var H=!0;break e;default:H=!1}var Z;if(!(Z=H)){var ye;if(ye=nt===0){let It=String(E.D).match(Io)[1]||null;!It&&a.self&&a.self.location&&(It=a.self.location.protocol.slice(0,-1)),ye=!Qi.test(It?It.toLowerCase():"")}Z=ye}if(Z)yt(E,"complete"),yt(E,"success");else{E.o=6;try{var Ke=ea(E)>2?E.g.statusText:""}catch{Ke=""}E.l=Ke+" ["+E.ca()+"]",gu(E)}}finally{Mo(E)}}}}function Mo(E,H){if(E.g){E.m&&(clearTimeout(E.m),E.m=null);const Z=E.g;E.g=null,H||yt(E,"ready");try{Z.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function ea(E){return E.g?E.g.readyState:0}t.ca=function(){try{return ea(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(E){if(this.g){var H=this.g.responseText;return E&&H.indexOf(E)==0&&(H=H.substring(E.length)),Lt(H)}};function Is(E){try{if(!E.g)return null;if("response"in E.g)return E.g.response;switch(E.F){case"":case"text":return E.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in E.g)return E.g.mozResponseArrayBuffer}return null}catch{return null}}function to(E){const H={};E=(E.g&&ea(E)>=2&&E.g.getAllResponseHeaders()||"").split(`\r
`);for(let ye=0;ye<E.length;ye++){if(j(E[ye]))continue;var Z=se(E[ye]);const Ke=Z[0];if(Z=Z[1],typeof Z!="string")continue;Z=Z.trim();const nt=H[Ke]||[];H[Ke]=nt,nt.push(Z)}ke(H,function(ye){return ye.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ii(E,H,Z){return Z&&Z.internalChannelParams&&Z.internalChannelParams[E]||H}function no(E){this.za=0,this.i=[],this.j=new us,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ii("failFast",!1,E),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ii("baseRetryDelayMs",5e3,E),this.Za=ii("retryDelaySeedMs",1e4,E),this.Ta=ii("forwardChannelMaxRetries",2,E),this.va=ii("forwardChannelRequestTimeoutMs",2e4,E),this.ma=E&&E.xmlHttpFactory||void 0,this.Ua=E&&E.Rb||void 0,this.Aa=E&&E.useFetchStreams||!1,this.O=void 0,this.L=E&&E.supportsCrossDomainXhr||!1,this.M="",this.h=new vr(E&&E.concurrentRequestLimit),this.Ba=new tl,this.S=E&&E.fastHandshake||!1,this.R=E&&E.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=E&&E.Pb||!1,E&&E.ua&&this.j.ua(),E&&E.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&E&&E.detectBufferingProxy||!1,this.ia=void 0,E&&E.longPollingTimeout&&E.longPollingTimeout>0&&(this.ia=E.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=no.prototype,t.ka=8,t.I=1,t.connect=function(E,H,Z,ye){dn(0),this.W=E,this.H=H||{},Z&&ye!==void 0&&(this.H.OSID=Z,this.H.OAID=ye),this.F=this.X,this.J=vt(this,null,this.W),ga(this)};function rl(E){if(so(E),E.I==3){var H=E.V++,Z=vs(E.J);if(ur(Z,"SID",E.M),ur(Z,"RID",H),ur(Z,"TYPE","terminate"),ta(E,Z),H=new _e(E,E.j,H),H.M=2,H.A=Zo(vs(Z)),Z=!1,a.navigator&&a.navigator.sendBeacon)try{Z=a.navigator.sendBeacon(H.A.toString(),"")}catch{}!Z&&a.Image&&(new Image().src=H.A,Z=!0),Z||(H.g=Xt(H.j,null),H.g.ea(H.A)),H.F=Date.now(),Qe(H)}ft(E)}function ro(E){E.g&&(bc(E),E.g.cancel(),E.g=null)}function so(E){ro(E),E.v&&(a.clearTimeout(E.v),E.v=null),te(E),E.h.cancel(),E.m&&(typeof E.m=="number"&&a.clearTimeout(E.m),E.m=null)}function ga(E){if(!Wn(E.h)&&!E.m){E.m=!0;var H=E.Ea;z||M(),G||(z(),G=!0),P.add(H,E),E.D=0}}function Ll(E,H){return Ar(E.h)>=E.h.j-(E.m?1:0)?!1:E.m?(E.i=H.G.concat(E.i),!0):E.I==1||E.I==2||E.D>=(E.Sa?0:E.Ta)?!1:(E.m=On(u(E.Ea,E,H),Me(E,E.D)),E.D++,!0)}t.Ea=function(E){if(this.m)if(this.m=null,this.I==1){if(!E){this.V=Math.floor(Math.random()*1e5),E=this.V++;const Ke=new _e(this,this.j,E);let nt=this.o;if(this.U&&(nt?(nt=ne(nt),K(nt,this.U)):nt=this.U),this.u!==null||this.R||(Ke.J=nt,nt=null),this.S)e:{for(var H=0,Z=0;Z<this.i.length;Z++){t:{var ye=this.i[Z];if("__data__"in ye.map&&(ye=ye.map.__data__,typeof ye=="string")){ye=ye.length;break t}ye=void 0}if(ye===void 0)break;if(H+=ye,H>4096){H=Z;break e}if(H===4096||Z===this.i.length-1){H=Z+1;break e}}H=1e3}else H=1e3;H=io(this,Ke,H),Z=vs(this.J),ur(Z,"RID",E),ur(Z,"CVER",22),this.G&&ur(Z,"X-HTTP-Session-Id",this.G),ta(this,Z),nt&&(this.R?H="headers="+Gn(Fs(nt))+"&"+H:this.u&&Dl(Z,this.u,nt)),Ji(this.h,Ke),this.Ra&&ur(Z,"TYPE","init"),this.S?(ur(Z,"$req",H),ur(Z,"SID","null"),Ke.U=!0,Ae(Ke,Z,null)):Ae(Ke,Z,H),this.I=2}}else this.I==3&&(E?yc(this,E):this.i.length==0||Wn(this.h)||yc(this))};function yc(E,H){var Z;H?Z=H.l:Z=E.V++;const ye=vs(E.J);ur(ye,"SID",E.M),ur(ye,"RID",Z),ur(ye,"AID",E.K),ta(E,ye),E.u&&E.o&&Dl(ye,E.u,E.o),Z=new _e(E,E.j,Z,E.D+1),E.u===null&&(Z.J=E.o),H&&(E.i=H.G.concat(E.i)),H=io(E,Z,1e3),Z.H=Math.round(E.va*.5)+Math.round(E.va*.5*Math.random()),Ji(E.h,Z),Ae(Z,ye,H)}function ta(E,H){E.H&&oe(E.H,function(Z,ye){ur(H,ye,Z)}),E.l&&oe({},function(Z,ye){ur(H,ye,Z)})}function io(E,H,Z){Z=Math.min(E.i.length,Z);const ye=E.l?u(E.l.Ka,E.l,E):null;e:{var Ke=E.i;let Rn=-1;for(;;){const Kr=["count="+Z];Rn==-1?Z>0?(Rn=Ke[0].g,Kr.push("ofs="+Rn)):Rn=0:Kr.push("ofs="+Rn);let Jn=!0;for(let Rr=0;Rr<Z;Rr++){var nt=Ke[Rr].g;const ai=Ke[Rr].map;if(nt-=Rn,nt<0)Rn=Math.max(0,Ke[Rr].g-100),Jn=!1;else try{nt="req"+nt+"_"||"";try{var It=ai instanceof Map?ai:Object.entries(ai);for(const[vi,Ur]of It){let yi=Ur;o(Ur)&&(yi=Qt(Ur)),Kr.push(nt+vi+"="+encodeURIComponent(yi))}}catch(vi){throw Kr.push(nt+"type="+encodeURIComponent("_badmap")),vi}}catch{ye&&ye(ai)}}if(Jn){It=Kr.join("&");break e}}It=void 0}return E=E.i.splice(0,Z),H.G=E,It}function xu(E){if(!E.g&&!E.v){E.Y=1;var H=E.Da;z||M(),G||(z(),G=!0),P.add(H,E),E.A=0}}function Va(E){return E.g||E.v||E.A>=3?!1:(E.Y++,E.v=On(u(E.Da,E),Me(E,E.A)),E.A++,!0)}t.Da=function(){if(this.v=null,V(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var E=4*this.T;this.j.info("BP detection timer enabled: "+E),this.B=On(u(this.Wa,this),E)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,dn(10),ro(this),V(this))};function bc(E){E.B!=null&&(a.clearTimeout(E.B),E.B=null)}function V(E){E.g=new _e(E,E.j,"rpc",E.Y),E.u===null&&(E.g.J=E.o),E.g.P=0;var H=vs(E.na);ur(H,"RID","rpc"),ur(H,"SID",E.M),ur(H,"AID",E.K),ur(H,"CI",E.F?"0":"1"),!E.F&&E.ia&&ur(H,"TO",E.ia),ur(H,"TYPE","xmlhttp"),ta(E,H),E.u&&E.o&&Dl(H,E.u,E.o),E.O&&(E.g.H=E.O);var Z=E.g;E=E.ba,Z.M=1,Z.A=Zo(vs(H)),Z.u=null,Z.R=!0,Ue(Z,E)}t.Va=function(){this.C!=null&&(this.C=null,ro(this),Va(this),dn(19))};function te(E){E.C!=null&&(a.clearTimeout(E.C),E.C=null)}function Ne(E,H){var Z=null;if(E.g==H){te(E),bc(E),E.g=null;var ye=2}else if(Ks(E.h,H))Z=H.G,pa(E.h,H),ye=1;else return;if(E.I!=0){if(H.o)if(ye==1){Z=H.u?H.u.length:0,H=Date.now()-H.F;var Ke=E.D;ye=Zn(),yt(ye,new Kt(ye,Z)),ga(E)}else xu(E);else if(Ke=H.m,Ke==3||Ke==0&&H.X>0||!(ye==1&&Ll(E,H)||ye==2&&Va(E)))switch(Z&&Z.length>0&&(H=E.h,H.i=H.i.concat(Z)),Ke){case 1:qe(E,5);break;case 4:qe(E,10);break;case 3:qe(E,6);break;default:qe(E,2)}}}function Me(E,H){let Z=E.Qa+Math.floor(Math.random()*E.Za);return E.isActive()||(Z*=2),Z*H}function qe(E,H){if(E.j.info("Error code "+H),H==2){var Z=u(E.bb,E),ye=E.Ua;const Ke=!ye;ye=new si(ye||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||er(ye,"https"),Zo(ye),Ke?Oa(ye.toString(),Z):Do(ye.toString(),Z)}else dn(2);E.I=0,E.l&&E.l.pa(H),ft(E),so(E)}t.bb=function(E){E?(this.j.info("Successfully pinged google.com"),dn(2)):(this.j.info("Failed to ping google.com"),dn(1))};function ft(E){if(E.I=0,E.ja=[],E.l){const H=Fi(E.h);(H.length!=0||E.i.length!=0)&&(w(E.ja,H),w(E.ja,E.i),E.h.i.length=0,x(E.i),E.i.length=0),E.l.oa()}}function vt(E,H,Z){var ye=Z instanceof si?vs(Z):new si(Z);if(ye.g!="")H&&(ye.g=H+"."+ye.g),ko(ye,ye.u);else{var Ke=a.location;ye=Ke.protocol,H=H?H+"."+Ke.hostname:Ke.hostname,Ke=+Ke.port;const nt=new si(null);ye&&er(nt,ye),H&&(nt.g=H),Ke&&ko(nt,Ke),Z&&(nt.h=Z),ye=nt}return Z=E.G,H=E.wa,Z&&H&&ur(ye,Z,H),ur(ye,"VER",E.ka),ta(E,ye),ye}function Xt(E,H,Z){if(H&&!E.L)throw Error("Can't create secondary domain capable XhrIo object.");return H=E.Aa&&!E.ma?new kr(new wn({ab:Z})):new kr(E.ma),H.Fa(E.L),H}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function rn(){}t=rn.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function En(){}En.prototype.g=function(E,H){return new yn(E,H)};function yn(E,H){je.call(this),this.g=new no(H),this.l=E,this.h=H&&H.messageUrlParams||null,E=H&&H.messageHeaders||null,H&&H.clientProtocolHeaderRequired&&(E?E["X-Client-Protocol"]="webchannel":E={"X-Client-Protocol":"webchannel"}),this.g.o=E,E=H&&H.initMessageHeaders||null,H&&H.messageContentType&&(E?E["X-WebChannel-Content-Type"]=H.messageContentType:E={"X-WebChannel-Content-Type":H.messageContentType}),H&&H.sa&&(E?E["X-WebChannel-Client-Profile"]=H.sa:E={"X-WebChannel-Client-Profile":H.sa}),this.g.U=E,(E=H&&H.Qb)&&!j(E)&&(this.g.u=E),this.A=H&&H.supportsCrossDomainXhr||!1,this.v=H&&H.sendRawJson||!1,(H=H&&H.httpSessionIdParam)&&!j(H)&&(this.g.G=H,E=this.h,E!==null&&H in E&&(E=this.h,H in E&&delete E[H])),this.j=new Br(this)}p(yn,je),yn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},yn.prototype.close=function(){rl(this.g)},yn.prototype.o=function(E){var H=this.g;if(typeof E=="string"){var Z={};Z.__data__=E,E=Z}else this.v&&(Z={},Z.__data__=Qt(E),E=Z);H.i.push(new Yt(H.Ya++,E)),H.I==3&&ga(H)},yn.prototype.N=function(){this.g.l=null,delete this.j,rl(this.g),delete this.g,yn.Z.N.call(this)};function rr(E){Ct.call(this),E.__headers__&&(this.headers=E.__headers__,this.statusCode=E.__status__,delete E.__headers__,delete E.__status__);var H=E.__sm__;if(H){e:{for(const Z in H){E=Z;break e}E=void 0}(this.i=E)&&(E=this.i,H=H!==null&&E in H?H[E]:void 0),this.data=H}else this.data=E}p(rr,Ct);function Wr(){Ht.call(this),this.status=1}p(Wr,Ht);function Br(E){this.g=E}p(Br,rn),Br.prototype.ra=function(){yt(this.g,"a")},Br.prototype.qa=function(E){yt(this.g,new rr(E))},Br.prototype.pa=function(E){yt(this.g,new Wr)},Br.prototype.oa=function(){yt(this.g,"b")},En.prototype.createWebChannel=En.prototype.g,yn.prototype.send=yn.prototype.o,yn.prototype.open=yn.prototype.m,yn.prototype.close=yn.prototype.close,f7=function(){return new En},u7=function(){return Zn()},c7=vn,rT={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Mt.NO_ERROR=0,Mt.TIMEOUT=8,Mt.HTTP_ERROR=6,Oy=Mt,jt.COMPLETE="complete",l7=jt,zn.EventType=Ot,Ot.OPEN="a",Ot.CLOSE="b",Ot.ERROR="c",Ot.MESSAGE="d",je.prototype.listen=je.prototype.J,zg=zn,kr.prototype.listenOnce=kr.prototype.K,kr.prototype.getLastError=kr.prototype.Ha,kr.prototype.getLastErrorCode=kr.prototype.ya,kr.prototype.getStatus=kr.prototype.ca,kr.prototype.getResponseJson=kr.prototype.La,kr.prototype.getResponseText=kr.prototype.la,kr.prototype.send=kr.prototype.ea,kr.prototype.setWithCredentials=kr.prototype.Fa,o7=kr}).apply(typeof Hv<"u"?Hv:typeof self<"u"?self:typeof window<"u"?window:{});const M3="@firebase/firestore",L3="4.9.2";class la{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}la.UNAUTHENTICATED=new la(null),la.GOOGLE_CREDENTIALS=new la("google-credentials-uid"),la.FIRST_PARTY=new la("first-party-uid"),la.MOCK_USER=new la("mock-user");let Im="12.3.0";const Oh=new aA("@firebase/firestore");function dp(){return Oh.logLevel}function Nt(t,...e){if(Oh.logLevel<=hr.DEBUG){const n=e.map(vA);Oh.debug(`Firestore (${Im}): ${t}`,...n)}}function Wa(t,...e){if(Oh.logLevel<=hr.ERROR){const n=e.map(vA);Oh.error(`Firestore (${Im}): ${t}`,...n)}}function Bh(t,...e){if(Oh.logLevel<=hr.WARN){const n=e.map(vA);Oh.warn(`Firestore (${Im}): ${t}`,...n)}}function vA(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function un(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,d7(t,r,n)}function d7(t,e,n){let r=`FIRESTORE (${Im}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Wa(r),new Error(r)}function bn(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||d7(e,s,r)}function Vn(t,e){return t}const mt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Bt extends cf{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Jc{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class h7{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Ote{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(la.UNAUTHENTICATED)))}shutdown(){}}class Bte{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class Vte{constructor(e){this.t=e,this.currentUser=la.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){bn(this.o===void 0,42304);let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new Jc;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Jc,e.enqueueRetryable((()=>s(this.currentUser)))};const a=()=>{const c=i;e.enqueueRetryable((async()=>{await c.promise,await s(this.currentUser)}))},o=c=>{Nt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit((c=>o(c))),setTimeout((()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?o(c):(Nt("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Jc)}}),0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Nt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(bn(typeof r.accessToken=="string",31837,{l:r}),new h7(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return bn(e===null||typeof e=="string",2055,{h:e}),new la(e)}}class Ute{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=la.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class jte{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new Ute(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(la.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class F3{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class qte{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,wl(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){bn(this.o===void 0,3512);const r=i=>{i.error!=null&&Nt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const a=i.token!==this.m;return this.m=i.token,Nt("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable((()=>r(i)))};const s=i=>{Nt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((i=>s(i))),setTimeout((()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):Nt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new F3(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(bn(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new F3(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Hte(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class yA{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=Hte(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function Bn(t,e){return t<e?-1:t>e?1:0}function sT(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return Z_(s)===Z_(i)?Bn(s,i):Z_(s)?1:-1}return Bn(t.length,e.length)}const zte=55296,Gte=57343;function Z_(t){const e=t.charCodeAt(0);return e>=zte&&e<=Gte}function sm(t,e,n){return t.length===e.length&&t.every(((r,s)=>n(r,e[s])))}function p7(t){return t+"\0"}const O3="__name__";class Uc{constructor(e,n,r){n===void 0?n=0:n>e.length&&un(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&un(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Uc.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Uc?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=Uc.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return Bn(e.length,n.length)}static compareSegments(e,n){const r=Uc.isNumericId(e),s=Uc.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Uc.extractNumericId(e).compare(Uc.extractNumericId(n)):sT(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return md.fromString(e.substring(4,e.length-2))}}class Vr extends Uc{construct(e,n,r){return new Vr(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Bt(mt.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((s=>s.length>0)))}return new Vr(n)}static emptyPath(){return new Vr([])}}const $te=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ls extends Uc{construct(e,n,r){return new Ls(e,n,r)}static isValidIdentifier(e){return $te.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ls.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===O3}static keyField(){return new Ls([O3])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new Bt(mt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;s<e.length;){const o=e[s];if(o==="\\"){if(s+1===e.length)throw new Bt(mt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Bt(mt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else o==="`"?(a=!a,s++):o!=="."||a?(r+=o,s++):(i(),s++)}if(i(),a)throw new Bt(mt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ls(n)}static emptyPath(){return new Ls([])}}class Vt{constructor(e){this.path=e}static fromPath(e){return new Vt(Vr.fromString(e))}static fromName(e){return new Vt(Vr.fromString(e).popFirst(5))}static empty(){return new Vt(Vr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Vr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Vr.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Vt(new Vr(e.slice()))}}function m7(t,e,n){if(!n)throw new Bt(mt.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Wte(t,e,n,r){if(e===!0&&r===!0)throw new Bt(mt.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function B3(t){if(!Vt.isDocumentKey(t))throw new Bt(mt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function V3(t){if(Vt.isDocumentKey(t))throw new Bt(mt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function g7(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function bA(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":un(12329,{type:typeof t})}function su(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Bt(mt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=bA(t);throw new Bt(mt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function mi(t,e){const n={typeString:t};return e&&(n.value=e),n}function _x(t,e){if(!g7(t))throw new Bt(mt.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const a=t[r];if(s&&typeof a!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&a!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new Bt(mt.INVALID_ARGUMENT,n);return!0}const U3=-62135596800,j3=1e6;class Gr{static now(){return Gr.fromMillis(Date.now())}static fromDate(e){return Gr.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*j3);return new Gr(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Bt(mt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Bt(mt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<U3)throw new Bt(mt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Bt(mt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/j3}_compareTo(e){return this.seconds===e.seconds?Bn(this.nanoseconds,e.nanoseconds):Bn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Gr._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(_x(e,Gr._jsonSchema))return new Gr(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-U3;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Gr._jsonSchemaVersion="firestore/timestamp/1.0",Gr._jsonSchema={type:mi("string",Gr._jsonSchemaVersion),seconds:mi("number"),nanoseconds:mi("number")};class An{static fromTimestamp(e){return new An(e)}static min(){return new An(new Gr(0,0))}static max(){return new An(new Gr(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const B1=-1;class _2{constructor(e,n,r,s){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=s}}function iT(t){return t.fields.find((e=>e.kind===2))}function ch(t){return t.fields.filter((e=>e.kind!==2))}_2.UNKNOWN_ID=-1;class By{constructor(e,n){this.fieldPath=e,this.kind=n}}class V1{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new V1(0,Jo.min())}}function Kte(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=An.fromTimestamp(r===1e9?new Gr(n+1,0):new Gr(n,r));return new Jo(s,Vt.empty(),e)}function x7(t){return new Jo(t.readTime,t.key,B1)}class Jo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Jo(An.min(),Vt.empty(),B1)}static max(){return new Jo(An.max(),Vt.empty(),B1)}}function wA(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Vt.comparator(t.documentKey,e.documentKey),n!==0?n:Bn(t.largestBatchId,e.largestBatchId))}const v7="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class y7{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Zh(t){if(t.code!==mt.FAILED_PRECONDITION||t.message!==v7)throw t;Nt("LocalStore","Unexpectedly lost primary lease")}class Je{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&un(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Je(((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof Je?n:Je.resolve(n)}catch(n){return Je.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):Je.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):Je.reject(n)}static resolve(e){return new Je(((n,r)=>{n(e)}))}static reject(e){return new Je(((n,r)=>{r(e)}))}static waitFor(e){return new Je(((n,r)=>{let s=0,i=0,a=!1;e.forEach((o=>{++s,o.next((()=>{++i,a&&i===s&&n()}),(c=>r(c)))})),a=!0,i===s&&n()}))}static or(e){let n=Je.resolve(!1);for(const r of e)n=n.next((s=>s?Je.resolve(s):r()));return n}static forEach(e,n){const r=[];return e.forEach(((s,i)=>{r.push(n.call(this,s,i))})),this.waitFor(r)}static mapArray(e,n){return new Je(((r,s)=>{const i=e.length,a=new Array(i);let o=0;for(let c=0;c<i;c++){const u=c;n(e[u]).next((d=>{a[u]=d,++o,o===i&&r(a)}),(d=>s(d)))}}))}static doWhile(e,n){return new Je(((r,s)=>{const i=()=>{e()===!0?n().next((()=>{i()}),s):r()};i()}))}}const zo="SimpleDb";class _b{static open(e,n,r,s){try{return new _b(n,e.transaction(s,r))}catch(i){throw new l1(n,i)}}constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.S=new Jc,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{n.error?this.S.reject(new l1(e,n.error)):this.S.resolve()},this.transaction.onerror=r=>{const s=_A(r.target.error);this.S.reject(new l1(e,s))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(Nt(zo,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new Xte(n)}}class gd{static delete(e){return Nt(zo,"Removing database:",e),dh(fO().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!bO())return!1;if(gd.F())return!0;const e=Di(),n=gd.M(e),r=0<n&&n<10,s=b7(e),i=0<s&&s<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||i)}static F(){return typeof process<"u"&&process.__PRIVATE_env?.__PRIVATE_USE_MOCK_PERSISTENCE==="YES"}static O(e,n){return e.store(n)}static M(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,n,r){this.name=e,this.version=n,this.N=r,this.B=null,gd.M(Di())===12.2&&Wa("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(Nt(zo,"Opening database:",this.name),this.db=await new Promise(((n,r)=>{const s=indexedDB.open(this.name,this.version);s.onsuccess=i=>{const a=i.target.result;n(a)},s.onblocked=()=>{r(new l1(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=i=>{const a=i.target.error;a.name==="VersionError"?r(new Bt(mt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a.name==="InvalidStateError"?r(new Bt(mt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a)):r(new l1(e,a))},s.onupgradeneeded=i=>{Nt(zo,'Database "'+this.name+'" requires upgrade from version:',i.oldVersion);const a=i.target.result;this.N.k(a,s.transaction,i.oldVersion,this.version).next((()=>{Nt(zo,"Database upgrade to version "+this.version+" complete")}))}}))),this.q&&(this.db.onversionchange=n=>this.q(n)),this.db}$(e){this.q=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,s){const i=n==="readonly";let a=0;for(;;){++a;try{this.db=await this.L(e);const o=_b.open(this.db,e,i?"readonly":"readwrite",r),c=s(o).next((u=>(o.C(),u))).catch((u=>(o.abort(u),Je.reject(u)))).toPromise();return c.catch((()=>{})),await o.D,c}catch(o){const c=o,u=c.name!=="FirebaseError"&&a<3;if(Nt(zo,"Transaction failed with error:",c.message,"Retrying:",u),this.close(),!u)return Promise.reject(c)}}}close(){this.db&&this.db.close(),this.db=void 0}}function b7(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class Yte{constructor(e){this.U=e,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(e){this.U=e}done(){this.K=!0}j(e){this.W=e}delete(){return dh(this.U.delete())}}class l1 extends Bt{constructor(e,n){super(mt.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Fd(t){return t.name==="IndexedDbTransactionError"}class Xte{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(Nt(zo,"PUT",this.store.name,e,n),r=this.store.put(n,e)):(Nt(zo,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),dh(r)}add(e){return Nt(zo,"ADD",this.store.name,e,e),dh(this.store.add(e))}get(e){return dh(this.store.get(e)).next((n=>(n===void 0&&(n=null),Nt(zo,"GET",this.store.name,e,n),n)))}delete(e){return Nt(zo,"DELETE",this.store.name,e),dh(this.store.delete(e))}count(){return Nt(zo,"COUNT",this.store.name),dh(this.store.count())}J(e,n){const r=this.options(e,n),s=r.index?this.store.index(r.index):this.store;if(typeof s.getAll=="function"){const i=s.getAll(r.range);return new Je(((a,o)=>{i.onerror=c=>{o(c.target.error)},i.onsuccess=c=>{a(c.target.result)}}))}{const i=this.cursor(r),a=[];return this.H(i,((o,c)=>{a.push(c)})).next((()=>a))}}Y(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new Je(((s,i)=>{r.onerror=a=>{i(a.target.error)},r.onsuccess=a=>{s(a.target.result)}}))}Z(e,n){Nt(zo,"DELETE ALL",this.store.name);const r=this.options(e,n);r.X=!1;const s=this.cursor(r);return this.H(s,((i,a,o)=>o.delete()))}ee(e,n){let r;n?r=e:(r={},n=e);const s=this.cursor(r);return this.H(s,n)}te(e){const n=this.cursor({});return new Je(((r,s)=>{n.onerror=i=>{const a=_A(i.target.error);s(a)},n.onsuccess=i=>{const a=i.target.result;a?e(a.primaryKey,a.value).next((o=>{o?a.continue():r()})):r()}}))}H(e,n){const r=[];return new Je(((s,i)=>{e.onerror=a=>{i(a.target.error)},e.onsuccess=a=>{const o=a.target.result;if(!o)return void s();const c=new Yte(o),u=n(o.primaryKey,o.value,c);if(u instanceof Je){const d=u.catch((p=>(c.done(),Je.reject(p))));r.push(d)}c.isDone?s():c.G===null?o.continue():o.continue(c.G)}})).next((()=>Je.waitFor(r)))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function dh(t){return new Je(((e,n)=>{t.onsuccess=r=>{const s=r.target.result;e(s)},t.onerror=r=>{const s=_A(r.target.error);n(s)}}))}let q3=!1;function _A(t){const e=gd.M(Di());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new Bt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return q3||(q3=!0,setTimeout((()=>{throw r}),0)),r}}return t}const c1="IndexBackfiller";class Jte{constructor(e,n){this.asyncQueue=e,this.ne=n,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){Nt(c1,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const n=await this.ne.ie();Nt(c1,`Documents written: ${n}`)}catch(n){Fd(n)?Nt(c1,"Ignoring IndexedDB error during index backfill: ",n):await Zh(n)}await this.re(6e4)}))}}class Qte{constructor(e,n){this.localStore=e,this.persistence=n}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(n=>this.se(n,e)))}se(e,n){const r=new Set;let s=n,i=!0;return Je.doWhile((()=>i===!0&&s>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((a=>{if(a!==null&&!r.has(a))return Nt(c1,`Processing collection: ${a}`),this.oe(e,a,s).next((o=>{s-=o,r.add(a)}));i=!1})))).next((()=>n-s))}oe(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next((s=>this.localStore.localDocuments.getNextDocuments(e,n,s,r).next((i=>{const a=i.changes;return this.localStore.indexManager.updateIndexEntries(e,a).next((()=>this._e(s,i))).next((o=>(Nt(c1,`Updating offset: ${o}`),this.localStore.indexManager.updateCollectionGroup(e,n,o)))).next((()=>a.size))}))))}_e(e,n){let r=e;return n.changes.forEach(((s,i)=>{const a=x7(i);wA(a,r)>0&&(r=a)})),new Jo(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}class Tl{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Tl.ce=-1;const Sh=-1;function Eb(t){return t==null}function U1(t){return t===0&&1/t==-1/0}function Zte(t){return typeof t=="number"&&Number.isInteger(t)&&!U1(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const E2="";function Da(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=H3(e)),e=ene(t.get(n),e);return H3(e)}function ene(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case E2:n+="";break;default:n+=i}}return n}function H3(t){return t+E2+""}function Hc(t){const e=t.length;if(bn(e>=2,64408,{path:t}),e===2)return bn(t.charAt(0)===E2&&t.charAt(1)==="",56145,{path:t}),Vr.emptyPath();const n=e-2,r=[];let s="";for(let i=0;i<e;){const a=t.indexOf(E2,i);switch((a<0||a>n)&&un(50515,{path:t}),t.charAt(a+1)){case"":const o=t.substring(i,a);let c;s.length===0?c=o:(s+=o,c=s,s=""),r.push(c);break;case"":s+=t.substring(i,a),s+="\0";break;case"":s+=t.substring(i,a+1);break;default:un(61167,{path:t})}i=a+2}return new Vr(r)}const uh="remoteDocuments",Ex="owner",X0="owner",j1="mutationQueues",tne="userId",nc="mutations",z3="batchId",bh="userMutationsIndex",G3=["userId","batchId"];function Vy(t,e){return[t,Da(e)]}function w7(t,e,n){return[t,Da(e),n]}const nne={},im="documentMutations",T2="remoteDocumentsV14",rne=["prefixPath","collectionGroup","readTime","documentId"],Uy="documentKeyIndex",sne=["prefixPath","collectionGroup","documentId"],_7="collectionGroupIndex",ine=["collectionGroup","readTime","prefixPath","documentId"],q1="remoteDocumentGlobal",aT="remoteDocumentGlobalKey",am="targets",E7="queryTargetsIndex",ane=["canonicalId","targetId"],om="targetDocuments",one=["targetId","path"],EA="documentTargetsIndex",lne=["path","targetId"],S2="targetGlobalKey",Ah="targetGlobal",H1="collectionParents",cne=["collectionId","parent"],lm="clientMetadata",une="clientId",Tb="bundles",fne="bundleId",Sb="namedQueries",dne="name",TA="indexConfiguration",hne="indexId",oT="collectionGroupIndex",pne="collectionGroup",u1="indexState",mne=["indexId","uid"],T7="sequenceNumberIndex",gne=["uid","sequenceNumber"],f1="indexEntries",xne=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],S7="documentKeyIndex",vne=["indexId","uid","orderedDocumentKey"],Ab="documentOverlays",yne=["userId","collectionPath","documentId"],lT="collectionPathOverlayIndex",bne=["userId","collectionPath","largestBatchId"],A7="collectionGroupOverlayIndex",wne=["userId","collectionGroup","largestBatchId"],SA="globals",_ne="name",C7=[j1,nc,im,uh,am,Ex,Ah,om,lm,q1,H1,Tb,Sb],Ene=[...C7,Ab],N7=[j1,nc,im,T2,am,Ex,Ah,om,lm,q1,H1,Tb,Sb,Ab],I7=N7,AA=[...I7,TA,u1,f1],Tne=AA,k7=[...AA,SA],Sne=k7;class cT extends y7{constructor(e,n){super(),this.le=e,this.currentSequenceNumber=n}}function Mi(t,e){const n=Vn(t);return gd.O(n.le,e)}function $3(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Od(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function R7(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Cs{constructor(e,n){this.comparator=e,this.root=n||ca.EMPTY}insert(e,n){return new Cs(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ca.BLACK,null,null))}remove(e){return new Cs(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ca.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new zv(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new zv(this.root,e,this.comparator,!1)}getReverseIterator(){return new zv(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new zv(this.root,e,this.comparator,!0)}}class zv{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ca{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??ca.RED,this.left=s??ca.EMPTY,this.right=i??ca.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new ca(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return ca.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return ca.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ca.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ca.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw un(43730,{key:this.key,value:this.value});if(this.right.isRed())throw un(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw un(27949);return e+(this.isRed()?0:1)}}ca.EMPTY=null,ca.RED=!0,ca.BLACK=!1;ca.EMPTY=new class{constructor(){this.size=0}get key(){throw un(57766)}get value(){throw un(16141)}get color(){throw un(16727)}get left(){throw un(29726)}get right(){throw un(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new ca(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class $r{constructor(e){this.comparator=e,this.data=new Cs(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new W3(this.data.getIterator())}getIteratorFrom(e){return new W3(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof $r)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new $r(this.comparator);return n.data=e,n}}class W3{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function J0(t){return t.hasNext()?t.getNext():void 0}class So{constructor(e){this.fields=e,e.sort(Ls.comparator)}static empty(){return new So([])}unionWith(e){let n=new $r(Ls.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new So(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return sm(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class P7 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class gi{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new P7("Invalid base64 string: "+i):i}})(e);return new gi(n)}static fromUint8Array(e){const n=(function(s){let i="";for(let a=0;a<s.length;++a)i+=String.fromCharCode(s[a]);return i})(e);return new gi(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Bn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}gi.EMPTY_BYTE_STRING=new gi("");const Ane=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function tf(t){if(bn(!!t,39018),typeof t=="string"){let e=0;const n=Ane.exec(t);if(bn(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ss(t.seconds),nanos:Ss(t.nanos)}}function Ss(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function nf(t){return typeof t=="string"?gi.fromBase64String(t):gi.fromUint8Array(t)}const D7="server_timestamp",M7="__type__",L7="__previous_value__",F7="__local_write_time__";function CA(t){return(t?.mapValue?.fields||{})[M7]?.stringValue===D7}function Cb(t){const e=t.mapValue.fields[L7];return CA(e)?Cb(e):e}function z1(t){const e=tf(t.mapValue.fields[F7].timestampValue);return new Gr(e.seconds,e.nanos)}class Cne{constructor(e,n,r,s,i,a,o,c,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=d}}const A2="(default)";class Vh{constructor(e,n){this.projectId=e,this.database=n||A2}static empty(){return new Vh("","")}get isDefaultDatabase(){return this.database===A2}isEqual(e){return e instanceof Vh&&e.projectId===this.projectId&&e.database===this.database}}const NA="__type__",O7="__max__",od={mapValue:{fields:{__type__:{stringValue:O7}}}},IA="__vector__",cm="value",jy={nullValue:"NULL_VALUE"};function Ed(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?CA(t)?4:B7(t)?9007199254740991:Nb(t)?10:11:un(28295,{value:t})}function iu(t,e){if(t===e)return!0;const n=Ed(t);if(n!==Ed(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return z1(t).isEqual(z1(e));case 3:return(function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const a=tf(s.timestampValue),o=tf(i.timestampValue);return a.seconds===o.seconds&&a.nanos===o.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(s,i){return nf(s.bytesValue).isEqual(nf(i.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(s,i){return Ss(s.geoPointValue.latitude)===Ss(i.geoPointValue.latitude)&&Ss(s.geoPointValue.longitude)===Ss(i.geoPointValue.longitude)})(t,e);case 2:return(function(s,i){if("integerValue"in s&&"integerValue"in i)return Ss(s.integerValue)===Ss(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const a=Ss(s.doubleValue),o=Ss(i.doubleValue);return a===o?U1(a)===U1(o):isNaN(a)&&isNaN(o)}return!1})(t,e);case 9:return sm(t.arrayValue.values||[],e.arrayValue.values||[],iu);case 10:case 11:return(function(s,i){const a=s.mapValue.fields||{},o=i.mapValue.fields||{};if($3(a)!==$3(o))return!1;for(const c in a)if(a.hasOwnProperty(c)&&(o[c]===void 0||!iu(a[c],o[c])))return!1;return!0})(t,e);default:return un(52216,{left:t})}}function G1(t,e){return(t.values||[]).find((n=>iu(n,e)))!==void 0}function Td(t,e){if(t===e)return 0;const n=Ed(t),r=Ed(e);if(n!==r)return Bn(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Bn(t.booleanValue,e.booleanValue);case 2:return(function(i,a){const o=Ss(i.integerValue||i.doubleValue),c=Ss(a.integerValue||a.doubleValue);return o<c?-1:o>c?1:o===c?0:isNaN(o)?isNaN(c)?0:-1:1})(t,e);case 3:return K3(t.timestampValue,e.timestampValue);case 4:return K3(z1(t),z1(e));case 5:return sT(t.stringValue,e.stringValue);case 6:return(function(i,a){const o=nf(i),c=nf(a);return o.compareTo(c)})(t.bytesValue,e.bytesValue);case 7:return(function(i,a){const o=i.split("/"),c=a.split("/");for(let u=0;u<o.length&&u<c.length;u++){const d=Bn(o[u],c[u]);if(d!==0)return d}return Bn(o.length,c.length)})(t.referenceValue,e.referenceValue);case 8:return(function(i,a){const o=Bn(Ss(i.latitude),Ss(a.latitude));return o!==0?o:Bn(Ss(i.longitude),Ss(a.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return Y3(t.arrayValue,e.arrayValue);case 10:return(function(i,a){const o=i.fields||{},c=a.fields||{},u=o[cm]?.arrayValue,d=c[cm]?.arrayValue,p=Bn(u?.values?.length||0,d?.values?.length||0);return p!==0?p:Y3(u,d)})(t.mapValue,e.mapValue);case 11:return(function(i,a){if(i===od.mapValue&&a===od.mapValue)return 0;if(i===od.mapValue)return 1;if(a===od.mapValue)return-1;const o=i.fields||{},c=Object.keys(o),u=a.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let p=0;p<c.length&&p<d.length;++p){const g=sT(c[p],d[p]);if(g!==0)return g;const x=Td(o[c[p]],u[d[p]]);if(x!==0)return x}return Bn(c.length,d.length)})(t.mapValue,e.mapValue);default:throw un(23264,{he:n})}}function K3(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Bn(t,e);const n=tf(t),r=tf(e),s=Bn(n.seconds,r.seconds);return s!==0?s:Bn(n.nanos,r.nanos)}function Y3(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Td(n[s],r[s]);if(i)return i}return Bn(n.length,r.length)}function um(t){return uT(t)}function uT(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=tf(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return nf(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Vt.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=uT(i);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const a of r)i?i=!1:s+=",",s+=`${a}:${uT(n.fields[a])}`;return s+"}"})(t.mapValue):un(61005,{value:t})}function qy(t){switch(Ed(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Cb(t);return e?16+qy(e):16;case 5:return 2*t.stringValue.length;case 6:return nf(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((s,i)=>s+qy(i)),0)})(t.arrayValue);case 10:case 11:return(function(r){let s=0;return Od(r.fields,((i,a)=>{s+=i.length+qy(a)})),s})(t.mapValue);default:throw un(13486,{value:t})}}function kA(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function fT(t){return!!t&&"integerValue"in t}function $1(t){return!!t&&"arrayValue"in t}function X3(t){return!!t&&"nullValue"in t}function J3(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Hy(t){return!!t&&"mapValue"in t}function Nb(t){return(t?.mapValue?.fields||{})[NA]?.stringValue===IA}function d1(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Od(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=d1(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=d1(t.arrayValue.values[n]);return e}return{...t}}function B7(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===O7}const V7={mapValue:{fields:{[NA]:{stringValue:IA},[cm]:{arrayValue:{}}}}};function Nne(t){return"nullValue"in t?jy:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?kA(Vh.empty(),Vt.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?Nb(t)?V7:{mapValue:{}}:un(35942,{value:t})}function Ine(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?kA(Vh.empty(),Vt.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?V7:"mapValue"in t?Nb(t)?{mapValue:{}}:od:un(61959,{value:t})}function Q3(t,e){const n=Td(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function Z3(t,e){const n=Td(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}class Na{constructor(e){this.value=e}static empty(){return new Na({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Hy(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=d1(n)}setAll(e){let n=Ls.emptyPath(),r={},s=[];e.forEach(((a,o)=>{if(!n.isImmediateParentOf(o)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=o.popLast()}a?r[o.lastSegment()]=d1(a):s.push(o.lastSegment())}));const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Hy(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return iu(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Hy(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Od(n,((s,i)=>e[s]=i));for(const s of r)delete e[s]}clone(){return new Na(d1(this.value))}}function U7(t){const e=[];return Od(t.fields,((n,r)=>{const s=new Ls([n]);if(Hy(r)){const i=U7(r.mapValue).fields;if(i.length===0)e.push(s);else for(const a of i)e.push(s.child(a))}else e.push(s)})),new So(e)}class $s{constructor(e,n,r,s,i,a,o){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=a,this.documentState=o}static newInvalidDocument(e){return new $s(e,0,An.min(),An.min(),An.min(),Na.empty(),0)}static newFoundDocument(e,n,r,s){return new $s(e,1,n,An.min(),r,s,0)}static newNoDocument(e,n){return new $s(e,2,n,An.min(),An.min(),Na.empty(),0)}static newUnknownDocument(e,n){return new $s(e,3,n,An.min(),An.min(),Na.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(An.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Na.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Na.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=An.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof $s&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new $s(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class fm{constructor(e,n){this.position=e,this.inclusive=n}}function eR(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],a=t.position[s];if(i.field.isKeyField()?r=Vt.comparator(Vt.fromName(a.referenceValue),n.key):r=Td(a,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function tR(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!iu(t.position[n],e.position[n]))return!1;return!0}class C2{constructor(e,n="asc"){this.field=e,this.dir=n}}function kne(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class j7{}class xr extends j7{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Rne(e,n,r):n==="array-contains"?new Mne(e,r):n==="in"?new W7(e,r):n==="not-in"?new Lne(e,r):n==="array-contains-any"?new Fne(e,r):new xr(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Pne(e,r):new Dne(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Td(n,this.value)):n!==null&&Ed(this.value)===Ed(n)&&this.matchesComparison(Td(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return un(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ts extends j7{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ts(e,n)}matches(e){return dm(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function dm(t){return t.op==="and"}function dT(t){return t.op==="or"}function RA(t){return q7(t)&&dm(t)}function q7(t){for(const e of t.filters)if(e instanceof ts)return!1;return!0}function hT(t){if(t instanceof xr)return t.field.canonicalString()+t.op.toString()+um(t.value);if(RA(t))return t.filters.map((e=>hT(e))).join(",");{const e=t.filters.map((n=>hT(n))).join(",");return`${t.op}(${e})`}}function H7(t,e){return t instanceof xr?(function(r,s){return s instanceof xr&&r.op===s.op&&r.field.isEqual(s.field)&&iu(r.value,s.value)})(t,e):t instanceof ts?(function(r,s){return s instanceof ts&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((i,a,o)=>i&&H7(a,s.filters[o])),!0):!1})(t,e):void un(19439)}function z7(t,e){const n=t.filters.concat(e);return ts.create(n,t.op)}function G7(t){return t instanceof xr?(function(n){return`${n.field.canonicalString()} ${n.op} ${um(n.value)}`})(t):t instanceof ts?(function(n){return n.op.toString()+" {"+n.getFilters().map(G7).join(" ,")+"}"})(t):"Filter"}class Rne extends xr{constructor(e,n,r){super(e,n,r),this.key=Vt.fromName(r.referenceValue)}matches(e){const n=Vt.comparator(e.key,this.key);return this.matchesComparison(n)}}class Pne extends xr{constructor(e,n){super(e,"in",n),this.keys=$7("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class Dne extends xr{constructor(e,n){super(e,"not-in",n),this.keys=$7("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function $7(t,e){return(e.arrayValue?.values||[]).map((n=>Vt.fromName(n.referenceValue)))}class Mne extends xr{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return $1(n)&&G1(n.arrayValue,this.value)}}class W7 extends xr{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&G1(this.value.arrayValue,n)}}class Lne extends xr{constructor(e,n){super(e,"not-in",n)}matches(e){if(G1(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!G1(this.value.arrayValue,n)}}class Fne extends xr{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!$1(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>G1(this.value.arrayValue,r)))}}class One{constructor(e,n=null,r=[],s=[],i=null,a=null,o=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=a,this.endAt=o,this.Te=null}}function pT(t,e=null,n=[],r=[],s=null,i=null,a=null){return new One(t,e,n,r,s,i,a)}function Uh(t){const e=Vn(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>hT(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(i){return i.field.canonicalString()+i.dir})(r))).join(","),Eb(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>um(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>um(r))).join(",")),e.Te=n}return e.Te}function Tx(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!kne(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!H7(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!tR(t.startAt,e.startAt)&&tR(t.endAt,e.endAt)}function N2(t){return Vt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function I2(t,e){return t.filters.filter((n=>n instanceof xr&&n.field.isEqual(e)))}function nR(t,e,n){let r=jy,s=!0;for(const i of I2(t,e)){let a=jy,o=!0;switch(i.op){case"<":case"<=":a=Nne(i.value);break;case"==":case"in":case">=":a=i.value;break;case">":a=i.value,o=!1;break;case"!=":case"not-in":a=jy}Q3({value:r,inclusive:s},{value:a,inclusive:o})<0&&(r=a,s=o)}if(n!==null){for(let i=0;i<t.orderBy.length;++i)if(t.orderBy[i].field.isEqual(e)){const a=n.position[i];Q3({value:r,inclusive:s},{value:a,inclusive:n.inclusive})<0&&(r=a,s=n.inclusive);break}}return{value:r,inclusive:s}}function rR(t,e,n){let r=od,s=!0;for(const i of I2(t,e)){let a=od,o=!0;switch(i.op){case">=":case">":a=Ine(i.value),o=!1;break;case"==":case"in":case"<=":a=i.value;break;case"<":a=i.value,o=!1;break;case"!=":case"not-in":a=od}Z3({value:r,inclusive:s},{value:a,inclusive:o})>0&&(r=a,s=o)}if(n!==null){for(let i=0;i<t.orderBy.length;++i)if(t.orderBy[i].field.isEqual(e)){const a=n.position[i];Z3({value:r,inclusive:s},{value:a,inclusive:n.inclusive})>0&&(r=a,s=n.inclusive);break}}return{value:r,inclusive:s}}class Ib{constructor(e,n=null,r=[],s=[],i=null,a="F",o=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=a,this.startAt=o,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Bne(t,e,n,r,s,i,a,o){return new Ib(t,e,n,r,s,i,a,o)}function kb(t){return new Ib(t)}function sR(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Vne(t){return t.collectionGroup!==null}function h1(t){const e=Vn(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let o=new $r(Ls.comparator);return a.filters.forEach((c=>{c.getFlattenedFilters().forEach((u=>{u.isInequality()&&(o=o.add(u.field))}))})),o})(e).forEach((i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new C2(i,r))})),n.has(Ls.keyField().canonicalString())||e.Ie.push(new C2(Ls.keyField(),r))}return e.Ie}function Sl(t){const e=Vn(t);return e.Ee||(e.Ee=Une(e,h1(t))),e.Ee}function Une(t,e){if(t.limitType==="F")return pT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((s=>{const i=s.dir==="desc"?"asc":"desc";return new C2(s.field,i)}));const n=t.endAt?new fm(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new fm(t.startAt.position,t.startAt.inclusive):null;return pT(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function mT(t,e,n){return new Ib(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Rb(t,e){return Tx(Sl(t),Sl(e))&&t.limitType===e.limitType}function K7(t){return`${Uh(Sl(t))}|lt:${t.limitType}`}function hp(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((s=>G7(s))).join(", ")}]`),Eb(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((s=>(function(a){return`${a.field.canonicalString()} (${a.dir})`})(s))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((s=>um(s))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((s=>um(s))).join(",")),`Target(${r})`})(Sl(t))}; limitType=${t.limitType})`}function Sx(t,e){return e.isFoundDocument()&&(function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):Vt.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)})(t,e)&&(function(r,s){for(const i of h1(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0})(t,e)&&(function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0})(t,e)&&(function(r,s){return!(r.startAt&&!(function(a,o,c){const u=eR(a,o,c);return a.inclusive?u<=0:u<0})(r.startAt,h1(r),s)||r.endAt&&!(function(a,o,c){const u=eR(a,o,c);return a.inclusive?u>=0:u>0})(r.endAt,h1(r),s))})(t,e)}function jne(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Y7(t){return(e,n)=>{let r=!1;for(const s of h1(t)){const i=qne(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function qne(t,e,n){const r=t.field.isKeyField()?Vt.comparator(e.key,n.key):(function(i,a,o){const c=a.data.field(i),u=o.data.field(i);return c!==null&&u!==null?Td(c,u):un(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return un(19790,{direction:t.dir})}}class uf{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Od(this.inner,((n,r)=>{for(const[s,i]of r)e(s,i)}))}isEmpty(){return R7(this.inner)}size(){return this.innerSize}}const Hne=new Cs(Vt.comparator);function Ko(){return Hne}const X7=new Cs(Vt.comparator);function Gg(...t){let e=X7;for(const n of t)e=e.insert(n.key,n);return e}function J7(t){let e=X7;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function zc(){return p1()}function Q7(){return p1()}function p1(){return new uf((t=>t.toString()),((t,e)=>t.isEqual(e)))}const zne=new Cs(Vt.comparator),Gne=new $r(Vt.comparator);function nr(...t){let e=Gne;for(const n of t)e=e.add(n);return e}const $ne=new $r(Bn);function Wne(){return $ne}function PA(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:U1(e)?"-0":e}}function Z7(t){return{integerValue:""+t}}function Kne(t,e){return Zte(e)?Z7(e):PA(t,e)}class Pb{constructor(){this._=void 0}}function Yne(t,e,n){return t instanceof hm?(function(s,i){const a={fields:{[M7]:{stringValue:D7},[F7]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&CA(i)&&(i=Cb(i)),i&&(a.fields[L7]=i),{mapValue:a}})(n,e):t instanceof pm?t9(t,e):t instanceof mm?n9(t,e):(function(s,i){const a=e9(s,i),o=iR(a)+iR(s.Ae);return fT(a)&&fT(s.Ae)?Z7(o):PA(s.serializer,o)})(t,e)}function Xne(t,e,n){return t instanceof pm?t9(t,e):t instanceof mm?n9(t,e):n}function e9(t,e){return t instanceof W1?(function(r){return fT(r)||(function(i){return!!i&&"doubleValue"in i})(r)})(e)?e:{integerValue:0}:null}class hm extends Pb{}class pm extends Pb{constructor(e){super(),this.elements=e}}function t9(t,e){const n=r9(e);for(const r of t.elements)n.some((s=>iu(s,r)))||n.push(r);return{arrayValue:{values:n}}}class mm extends Pb{constructor(e){super(),this.elements=e}}function n9(t,e){let n=r9(e);for(const r of t.elements)n=n.filter((s=>!iu(s,r)));return{arrayValue:{values:n}}}class W1 extends Pb{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function iR(t){return Ss(t.integerValue||t.doubleValue)}function r9(t){return $1(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class s9{constructor(e,n){this.field=e,this.transform=n}}function Jne(t,e){return t.field.isEqual(e.field)&&(function(r,s){return r instanceof pm&&s instanceof pm||r instanceof mm&&s instanceof mm?sm(r.elements,s.elements,iu):r instanceof W1&&s instanceof W1?iu(r.Ae,s.Ae):r instanceof hm&&s instanceof hm})(t.transform,e.transform)}class Qne{constructor(e,n){this.version=e,this.transformResults=n}}class fa{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new fa}static exists(e){return new fa(void 0,e)}static updateTime(e){return new fa(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function zy(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Db{}function i9(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Ax(t.key,fa.none()):new km(t.key,t.data,fa.none());{const n=t.data,r=Na.empty();let s=new $r(Ls.comparator);for(let i of e.fields)if(!s.has(i)){let a=n.field(i);a===null&&i.length>1&&(i=i.popLast(),a=n.field(i)),a===null?r.delete(i):r.set(i,a),s=s.add(i)}return new ff(t.key,r,new So(s.toArray()),fa.none())}}function Zne(t,e,n){t instanceof km?(function(s,i,a){const o=s.value.clone(),c=oR(s.fieldTransforms,i,a.transformResults);o.setAll(c),i.convertToFoundDocument(a.version,o).setHasCommittedMutations()})(t,e,n):t instanceof ff?(function(s,i,a){if(!zy(s.precondition,i))return void i.convertToUnknownDocument(a.version);const o=oR(s.fieldTransforms,i,a.transformResults),c=i.data;c.setAll(a9(s)),c.setAll(o),i.convertToFoundDocument(a.version,c).setHasCommittedMutations()})(t,e,n):(function(s,i,a){i.convertToNoDocument(a.version).setHasCommittedMutations()})(0,e,n)}function m1(t,e,n,r){return t instanceof km?(function(i,a,o,c){if(!zy(i.precondition,a))return o;const u=i.value.clone(),d=lR(i.fieldTransforms,c,a);return u.setAll(d),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),null})(t,e,n,r):t instanceof ff?(function(i,a,o,c){if(!zy(i.precondition,a))return o;const u=lR(i.fieldTransforms,c,a),d=a.data;return d.setAll(a9(i)),d.setAll(u),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map((p=>p.field)))})(t,e,n,r):(function(i,a,o){return zy(i.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):o})(t,e,n)}function ere(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=e9(r.transform,s||null);i!=null&&(n===null&&(n=Na.empty()),n.set(r.field,i))}return n||null}function aR(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&sm(r,s,((i,a)=>Jne(i,a)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class km extends Db{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ff extends Db{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function a9(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function oR(t,e,n){const r=new Map;bn(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],a=i.transform,o=e.data.field(i.field);r.set(i.field,Xne(a,o,n[s]))}return r}function lR(t,e,n){const r=new Map;for(const s of t){const i=s.transform,a=n.data.field(s.field);r.set(s.field,Yne(i,a,e))}return r}class Ax extends Db{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class o9 extends Db{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class DA{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&Zne(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=m1(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=m1(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Q7();return this.mutations.forEach((s=>{const i=e.get(s.key),a=i.overlayedDocument;let o=this.applyToLocalView(a,i.mutatedFields);o=n.has(s.key)?null:o;const c=i9(a,o);c!==null&&r.set(s.key,c),a.isValidDocument()||a.convertToNoDocument(An.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),nr())}isEqual(e){return this.batchId===e.batchId&&sm(this.mutations,e.mutations,((n,r)=>aR(n,r)))&&sm(this.baseMutations,e.baseMutations,((n,r)=>aR(n,r)))}}class MA{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){bn(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=(function(){return zne})();const i=e.mutations;for(let a=0;a<i.length;a++)s=s.insert(i[a].key,r[a].version);return new MA(e,n,r,s)}}class LA{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class tre{constructor(e,n){this.count=e,this.unchangedNames=n}}var fi,_r;function nre(t){switch(t){case mt.OK:return un(64938);case mt.CANCELLED:case mt.UNKNOWN:case mt.DEADLINE_EXCEEDED:case mt.RESOURCE_EXHAUSTED:case mt.INTERNAL:case mt.UNAVAILABLE:case mt.UNAUTHENTICATED:return!1;case mt.INVALID_ARGUMENT:case mt.NOT_FOUND:case mt.ALREADY_EXISTS:case mt.PERMISSION_DENIED:case mt.FAILED_PRECONDITION:case mt.ABORTED:case mt.OUT_OF_RANGE:case mt.UNIMPLEMENTED:case mt.DATA_LOSS:return!0;default:return un(15467,{code:t})}}function l9(t){if(t===void 0)return Wa("GRPC error has no .code"),mt.UNKNOWN;switch(t){case fi.OK:return mt.OK;case fi.CANCELLED:return mt.CANCELLED;case fi.UNKNOWN:return mt.UNKNOWN;case fi.DEADLINE_EXCEEDED:return mt.DEADLINE_EXCEEDED;case fi.RESOURCE_EXHAUSTED:return mt.RESOURCE_EXHAUSTED;case fi.INTERNAL:return mt.INTERNAL;case fi.UNAVAILABLE:return mt.UNAVAILABLE;case fi.UNAUTHENTICATED:return mt.UNAUTHENTICATED;case fi.INVALID_ARGUMENT:return mt.INVALID_ARGUMENT;case fi.NOT_FOUND:return mt.NOT_FOUND;case fi.ALREADY_EXISTS:return mt.ALREADY_EXISTS;case fi.PERMISSION_DENIED:return mt.PERMISSION_DENIED;case fi.FAILED_PRECONDITION:return mt.FAILED_PRECONDITION;case fi.ABORTED:return mt.ABORTED;case fi.OUT_OF_RANGE:return mt.OUT_OF_RANGE;case fi.UNIMPLEMENTED:return mt.UNIMPLEMENTED;case fi.DATA_LOSS:return mt.DATA_LOSS;default:return un(39323,{code:t})}}(_r=fi||(fi={}))[_r.OK=0]="OK",_r[_r.CANCELLED=1]="CANCELLED",_r[_r.UNKNOWN=2]="UNKNOWN",_r[_r.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_r[_r.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_r[_r.NOT_FOUND=5]="NOT_FOUND",_r[_r.ALREADY_EXISTS=6]="ALREADY_EXISTS",_r[_r.PERMISSION_DENIED=7]="PERMISSION_DENIED",_r[_r.UNAUTHENTICATED=16]="UNAUTHENTICATED",_r[_r.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_r[_r.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_r[_r.ABORTED=10]="ABORTED",_r[_r.OUT_OF_RANGE=11]="OUT_OF_RANGE",_r[_r.UNIMPLEMENTED=12]="UNIMPLEMENTED",_r[_r.INTERNAL=13]="INTERNAL",_r[_r.UNAVAILABLE=14]="UNAVAILABLE",_r[_r.DATA_LOSS=15]="DATA_LOSS";function rre(){return new TextEncoder}const sre=new md([4294967295,4294967295],0);function cR(t){const e=rre().encode(t),n=new a7;return n.update(e),new Uint8Array(n.digest())}function uR(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new md([n,r],0),new md([s,i],0)]}class FA{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new $g(`Invalid padding: ${n}`);if(r<0)throw new $g(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new $g(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new $g(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=md.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(md.fromNumber(r)));return s.compare(sre)===1&&(s=new md([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=cR(e),[r,s]=uR(n);for(let i=0;i<this.hashCount;i++){const a=this.ye(r,s,i);if(!this.we(a))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),a=new FA(i,s,n);return r.forEach((o=>a.insert(o))),a}insert(e){if(this.ge===0)return;const n=cR(e),[r,s]=uR(n);for(let i=0;i<this.hashCount;i++){const a=this.ye(r,s,i);this.Se(a)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class $g extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Mb{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Cx.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Mb(An.min(),s,new Cs(Bn),Ko(),nr())}}class Cx{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Cx(r,n,nr(),nr(),nr())}}class Gy{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class c9{constructor(e,n){this.targetId=e,this.Ce=n}}class u9{constructor(e,n,r=gi.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class fR{constructor(){this.ve=0,this.Fe=dR(),this.Me=gi.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=nr(),n=nr(),r=nr();return this.Fe.forEach(((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:un(38017,{changeType:i})}})),new Cx(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=dR()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,bn(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class ire{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ko(),this.Je=Gv(),this.He=Gv(),this.Ye=new Cs(Bn)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:un(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,s)=>{this.rt(s)&&n(s)}))}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(N2(i))if(r===0){const a=new Vt(i.path);this.et(n,a,$s.newNoDocument(a,An.min()))}else bn(r===1,20013,{expectedCount:r});else{const a=this._t(n);if(a!==r){const o=this.ut(e),c=o?this.ct(o,e,a):1;if(c!==0){this.it(n);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,u)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let a,o;try{a=nf(r).toUint8Array()}catch(c){if(c instanceof P7)return Bh("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{o=new FA(a,s,i)}catch(c){return Bh(c instanceof $g?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return o.ge===0?null:o}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach((i=>{const a=this.Ge.ht(),o=`projects/${a.projectId}/databases/${a.database}/documents/${i.path.canonicalString()}`;e.mightContain(o)||(this.et(n,i,null),s++)})),s}Tt(e){const n=new Map;this.ze.forEach(((i,a)=>{const o=this.ot(a);if(o){if(i.current&&N2(o.target)){const c=new Vt(o.target.path);this.It(c).has(a)||this.Et(a,c)||this.et(a,c,$s.newNoDocument(c,e))}i.Be&&(n.set(a,i.ke()),i.qe())}}));let r=nr();this.He.forEach(((i,a)=>{let o=!0;a.forEachWhile((c=>{const u=this.ot(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)})),o&&(r=r.add(i))})),this.je.forEach(((i,a)=>a.setReadTime(e)));const s=new Mb(e,n,this.Ye,this.je,r);return this.je=Ko(),this.Je=Gv(),this.He=Gv(),this.Ye=new Cs(Bn),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new fR,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new $r(Bn),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new $r(Bn),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Nt("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new fR),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Gv(){return new Cs(Vt.comparator)}function dR(){return new Cs(Vt.comparator)}const are={asc:"ASCENDING",desc:"DESCENDING"},ore={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},lre={and:"AND",or:"OR"};class cre{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function gT(t,e){return t.useProto3Json||Eb(e)?e:{value:e}}function gm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function f9(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function ure(t,e){return gm(t,e.toTimestamp())}function Xa(t){return bn(!!t,49232),An.fromTimestamp((function(n){const r=tf(n);return new Gr(r.seconds,r.nanos)})(t))}function OA(t,e){return xT(t,e).canonicalString()}function xT(t,e){const n=(function(s){return new Vr(["projects",s.projectId,"databases",s.database])})(t).child("documents");return e===void 0?n:n.child(e)}function d9(t){const e=Vr.fromString(t);return bn(w9(e),10190,{key:e.toString()}),e}function k2(t,e){return OA(t.databaseId,e.path)}function Ch(t,e){const n=d9(e);if(n.get(1)!==t.databaseId.projectId)throw new Bt(mt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Bt(mt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Vt(m9(n))}function h9(t,e){return OA(t.databaseId,e)}function p9(t){const e=d9(t);return e.length===4?Vr.emptyPath():m9(e)}function vT(t){return new Vr(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function m9(t){return bn(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function hR(t,e,n){return{name:k2(t,e),fields:n.value.mapValue.fields}}function fre(t,e,n){const r=Ch(t,e.name),s=Xa(e.updateTime),i=e.createTime?Xa(e.createTime):An.min(),a=new Na({mapValue:{fields:e.fields}}),o=$s.newFoundDocument(r,s,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function dre(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:un(39313,{state:u})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=(function(u,d){return u.useProto3Json?(bn(d===void 0||typeof d=="string",58123),gi.fromBase64String(d||"")):(bn(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),gi.fromUint8Array(d||new Uint8Array))})(t,e.targetChange.resumeToken),a=e.targetChange.cause,o=a&&(function(u){const d=u.code===void 0?mt.UNKNOWN:l9(u.code);return new Bt(d,u.message||"")})(a);n=new u9(r,s,i,o||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Ch(t,r.document.name),i=Xa(r.document.updateTime),a=r.document.createTime?Xa(r.document.createTime):An.min(),o=new Na({mapValue:{fields:r.document.fields}}),c=$s.newFoundDocument(s,i,a,o),u=r.targetIds||[],d=r.removedTargetIds||[];n=new Gy(u,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Ch(t,r.document),i=r.readTime?Xa(r.readTime):An.min(),a=$s.newNoDocument(s,i),o=r.removedTargetIds||[];n=new Gy([],o,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Ch(t,r.document),i=r.removedTargetIds||[];n=new Gy([],i,s,null)}else{if(!("filter"in e))return un(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,a=new tre(s,i),o=r.targetId;n=new c9(o,a)}}return n}function R2(t,e){let n;if(e instanceof km)n={update:hR(t,e.key,e.value)};else if(e instanceof Ax)n={delete:k2(t,e.key)};else if(e instanceof ff)n={update:hR(t,e.key,e.data),updateMask:vre(e.fieldMask)};else{if(!(e instanceof o9))return un(16599,{Vt:e.type});n={verify:k2(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(i,a){const o=a.transform;if(o instanceof hm)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof pm)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof mm)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof W1)return{fieldPath:a.field.canonicalString(),increment:o.Ae};throw un(20930,{transform:a.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(s,i){return i.updateTime!==void 0?{updateTime:ure(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:un(27497)})(t,e.precondition)),n}function yT(t,e){const n=e.currentDocument?(function(i){return i.updateTime!==void 0?fa.updateTime(Xa(i.updateTime)):i.exists!==void 0?fa.exists(i.exists):fa.none()})(e.currentDocument):fa.none(),r=e.updateTransforms?e.updateTransforms.map((s=>(function(a,o){let c=null;if("setToServerValue"in o)bn(o.setToServerValue==="REQUEST_TIME",16630,{proto:o}),c=new hm;else if("appendMissingElements"in o){const d=o.appendMissingElements.values||[];c=new pm(d)}else if("removeAllFromArray"in o){const d=o.removeAllFromArray.values||[];c=new mm(d)}else"increment"in o?c=new W1(a,o.increment):un(16584,{proto:o});const u=Ls.fromServerFormat(o.fieldPath);return new s9(u,c)})(t,s))):[];if(e.update){e.update.name;const s=Ch(t,e.update.name),i=new Na({mapValue:{fields:e.update.fields}});if(e.updateMask){const a=(function(c){const u=c.fieldPaths||[];return new So(u.map((d=>Ls.fromServerFormat(d))))})(e.updateMask);return new ff(s,i,a,n,r)}return new km(s,i,n,r)}if(e.delete){const s=Ch(t,e.delete);return new Ax(s,n)}if(e.verify){const s=Ch(t,e.verify);return new o9(s,n)}return un(1463,{proto:e})}function hre(t,e){return t&&t.length>0?(bn(e!==void 0,14353),t.map((n=>(function(s,i){let a=s.updateTime?Xa(s.updateTime):Xa(i);return a.isEqual(An.min())&&(a=Xa(i)),new Qne(a,s.transformResults||[])})(n,e)))):[]}function g9(t,e){return{documents:[h9(t,e.path)]}}function x9(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=h9(t,s);const i=(function(u){if(u.length!==0)return b9(ts.create(u,"and"))})(e.filters);i&&(n.structuredQuery.where=i);const a=(function(u){if(u.length!==0)return u.map((d=>(function(g){return{field:pp(g.field),direction:mre(g.dir)}})(d)))})(e.orderBy);a&&(n.structuredQuery.orderBy=a);const o=gT(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=(function(u){return{before:u.inclusive,values:u.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(u){return{before:!u.inclusive,values:u.position}})(e.endAt)),{ft:n,parent:s}}function v9(t){let e=p9(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){bn(r===1,65062);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=(function(p){const g=y9(p);return g instanceof ts&&RA(g)?g.getFilters():[g]})(n.where));let a=[];n.orderBy&&(a=(function(p){return p.map((g=>(function(w){return new C2(mp(w.field),(function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(w.direction))})(g)))})(n.orderBy));let o=null;n.limit&&(o=(function(p){let g;return g=typeof p=="object"?p.value:p,Eb(g)?null:g})(n.limit));let c=null;n.startAt&&(c=(function(p){const g=!!p.before,x=p.values||[];return new fm(x,g)})(n.startAt));let u=null;return n.endAt&&(u=(function(p){const g=!p.before,x=p.values||[];return new fm(x,g)})(n.endAt)),Bne(e,s,a,i,o,"F",c,u)}function pre(t,e){const n=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return un(28987,{purpose:s})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function y9(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=mp(n.unaryFilter.field);return xr.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=mp(n.unaryFilter.field);return xr.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=mp(n.unaryFilter.field);return xr.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=mp(n.unaryFilter.field);return xr.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return un(61313);default:return un(60726)}})(t):t.fieldFilter!==void 0?(function(n){return xr.create(mp(n.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return un(58110);default:return un(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return ts.create(n.compositeFilter.filters.map((r=>y9(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return un(1026)}})(n.compositeFilter.op))})(t):un(30097,{filter:t})}function mre(t){return are[t]}function gre(t){return ore[t]}function xre(t){return lre[t]}function pp(t){return{fieldPath:t.canonicalString()}}function mp(t){return Ls.fromServerFormat(t.fieldPath)}function b9(t){return t instanceof xr?(function(n){if(n.op==="=="){if(J3(n.value))return{unaryFilter:{field:pp(n.field),op:"IS_NAN"}};if(X3(n.value))return{unaryFilter:{field:pp(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(J3(n.value))return{unaryFilter:{field:pp(n.field),op:"IS_NOT_NAN"}};if(X3(n.value))return{unaryFilter:{field:pp(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:pp(n.field),op:gre(n.op),value:n.value}}})(t):t instanceof ts?(function(n){const r=n.getFilters().map((s=>b9(s)));return r.length===1?r[0]:{compositeFilter:{op:xre(n.op),filters:r}}})(t):un(54877,{filter:t})}function vre(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function w9(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class zu{constructor(e,n,r,s,i=An.min(),a=An.min(),o=gi.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=c}withSequenceNumber(e){return new zu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new zu(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new zu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new zu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class _9{constructor(e){this.yt=e}}function yre(t,e){let n;if(e.document)n=fre(t.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Vt.fromSegments(e.noDocument.path),s=qh(e.noDocument.readTime);n=$s.newNoDocument(r,s),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return un(56709);{const r=Vt.fromSegments(e.unknownDocument.path),s=qh(e.unknownDocument.version);n=$s.newUnknownDocument(r,s)}}return e.readTime&&n.setReadTime((function(s){const i=new Gr(s[0],s[1]);return An.fromTimestamp(i)})(e.readTime)),n}function pR(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:P2(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=(function(i,a){return{name:k2(i,a.key),fields:a.data.value.mapValue.fields,updateTime:gm(i,a.version.toTimestamp()),createTime:gm(i,a.createTime.toTimestamp())}})(t.yt,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:jh(e.version)};else{if(!e.isUnknownDocument())return un(57904,{document:e});r.unknownDocument={path:n.path.toArray(),version:jh(e.version)}}return r}function P2(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function jh(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function qh(t){const e=new Gr(t.seconds,t.nanoseconds);return An.fromTimestamp(e)}function hh(t,e){const n=(e.baseMutations||[]).map((i=>yT(t.yt,i)));for(let i=0;i<e.mutations.length-1;++i){const a=e.mutations[i];if(i+1<e.mutations.length&&e.mutations[i+1].transform!==void 0){const o=e.mutations[i+1];a.updateTransforms=o.transform.fieldTransforms,e.mutations.splice(i+1,1),++i}}const r=e.mutations.map((i=>yT(t.yt,i))),s=Gr.fromMillis(e.localWriteTimeMs);return new DA(e.batchId,s,n,r)}function Wg(t){const e=qh(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?qh(t.lastLimboFreeSnapshotVersion):An.min();let r;return r=(function(i){return i.documents!==void 0})(t.query)?(function(i){const a=i.documents.length;return bn(a===1,1966,{count:a}),Sl(kb(p9(i.documents[0])))})(t.query):(function(i){return Sl(v9(i))})(t.query),new zu(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,gi.fromBase64String(t.resumeToken))}function E9(t,e){const n=jh(e.snapshotVersion),r=jh(e.lastLimboFreeSnapshotVersion);let s;s=N2(e.target)?g9(t.yt,e.target):x9(t.yt,e.target).ft;const i=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Uh(e.target),readTime:n,resumeToken:i,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:s}}function T9(t){const e=v9({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?mT(e,e.limit,"L"):e}function eE(t,e){return new LA(e.largestBatchId,yT(t.yt,e.overlayMutation))}function mR(t,e){const n=e.path.lastSegment();return[t,Da(e.path.popLast()),n]}function gR(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:jh(r.readTime),documentKey:Da(r.documentKey.path),largestBatchId:r.largestBatchId}}class bre{getBundleMetadata(e,n){return xR(e).get(n).next((r=>{if(r)return(function(i){return{id:i.bundleId,createTime:qh(i.createTime),version:i.version}})(r)}))}saveBundleMetadata(e,n){return xR(e).put((function(s){return{bundleId:s.id,createTime:jh(Xa(s.createTime)),version:s.version}})(n))}getNamedQuery(e,n){return vR(e).get(n).next((r=>{if(r)return(function(i){return{name:i.name,query:T9(i.bundledQuery),readTime:qh(i.readTime)}})(r)}))}saveNamedQuery(e,n){return vR(e).put((function(s){return{name:s.name,readTime:jh(Xa(s.readTime)),bundledQuery:s.bundledQuery}})(n))}}function xR(t){return Mi(t,Tb)}function vR(t){return Mi(t,Sb)}class Lb{constructor(e,n){this.serializer=e,this.userId=n}static wt(e,n){const r=n.uid||"";return new Lb(e,r)}getOverlay(e,n){return kg(e).get(mR(this.userId,n)).next((r=>r?eE(this.serializer,r):null))}getOverlays(e,n){const r=zc();return Je.forEach(n,(s=>this.getOverlay(e,s).next((i=>{i!==null&&r.set(s,i)})))).next((()=>r))}saveOverlays(e,n,r){const s=[];return r.forEach(((i,a)=>{const o=new LA(n,a);s.push(this.St(e,o))})),Je.waitFor(s)}removeOverlaysForBatchId(e,n,r){const s=new Set;n.forEach((a=>s.add(Da(a.getCollectionPath()))));const i=[];return s.forEach((a=>{const o=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,r+1],!1,!0);i.push(kg(e).Z(lT,o))})),Je.waitFor(i)}getOverlaysForCollection(e,n,r){const s=zc(),i=Da(n),a=IDBKeyRange.bound([this.userId,i,r],[this.userId,i,Number.POSITIVE_INFINITY],!0);return kg(e).J(lT,a).next((o=>{for(const c of o){const u=eE(this.serializer,c);s.set(u.getKey(),u)}return s}))}getOverlaysForCollectionGroup(e,n,r,s){const i=zc();let a;const o=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return kg(e).ee({index:A7,range:o},((c,u,d)=>{const p=eE(this.serializer,u);i.size()<s||p.largestBatchId===a?(i.set(p.getKey(),p),a=p.largestBatchId):d.done()})).next((()=>i))}St(e,n){return kg(e).put((function(s,i,a){const[o,c,u]=mR(i,a.mutation.key);return{userId:i,collectionPath:c,documentId:u,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:R2(s.yt,a.mutation)}})(this.serializer,this.userId,n))}}function kg(t){return Mi(t,Ab)}class wre{bt(e){return Mi(e,SA)}getSessionToken(e){return this.bt(e).get("sessionToken").next((n=>{const r=n?.value;return r?gi.fromUint8Array(r):gi.EMPTY_BYTE_STRING}))}setSessionToken(e,n){return this.bt(e).put({name:"sessionToken",value:n.toUint8Array()})}}class ph{constructor(){}Dt(e,n){this.Ct(e,n),n.vt()}Ct(e,n){if("nullValue"in e)this.Ft(n,5);else if("booleanValue"in e)this.Ft(n,10),n.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(n,15),n.Mt(Ss(e.integerValue));else if("doubleValue"in e){const r=Ss(e.doubleValue);isNaN(r)?this.Ft(n,13):(this.Ft(n,15),U1(r)?n.Mt(0):n.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(n,20),typeof r=="string"&&(r=tf(r)),n.xt(`${r.seconds||""}`),n.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,n),this.Nt(n);else if("bytesValue"in e)this.Ft(n,30),n.Bt(nf(e.bytesValue)),this.Nt(n);else if("referenceValue"in e)this.Lt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ft(n,45),n.Mt(r.latitude||0),n.Mt(r.longitude||0)}else"mapValue"in e?B7(e)?this.Ft(n,Number.MAX_SAFE_INTEGER):Nb(e)?this.kt(e.mapValue,n):(this.qt(e.mapValue,n),this.Nt(n)):"arrayValue"in e?(this.Qt(e.arrayValue,n),this.Nt(n)):un(19022,{$t:e})}Ot(e,n){this.Ft(n,25),this.Ut(e,n)}Ut(e,n){n.xt(e)}qt(e,n){const r=e.fields||{};this.Ft(n,55);for(const s of Object.keys(r))this.Ot(s,n),this.Ct(r[s],n)}kt(e,n){const r=e.fields||{};this.Ft(n,53);const s=cm,i=r[s].arrayValue?.values?.length||0;this.Ft(n,15),n.Mt(Ss(i)),this.Ot(s,n),this.Ct(r[s],n)}Qt(e,n){const r=e.values||[];this.Ft(n,50);for(const s of r)this.Ct(s,n)}Lt(e,n){this.Ft(n,37),Vt.fromName(e).path.forEach((r=>{this.Ft(n,60),this.Ut(r,n)}))}Ft(e,n){e.Mt(n)}Nt(e){e.Mt(2)}}ph.Kt=new ph;const Q0=255;function _re(t){if(t===0)return 8;let e=0;return t>>4||(e+=4,t<<=4),t>>6||(e+=2,t<<=2),t>>7||(e+=1),e}function yR(t){const e=64-(function(r){let s=0;for(let i=0;i<8;++i){const a=_re(255&r[i]);if(s+=a,a!==8)break}return s})(t);return Math.ceil(e/8)}class Ere{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Gt(r.value),r=n.next();this.zt()}jt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Jt(r.value),r=n.next();this.Ht()}Yt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const s=n.codePointAt(0);this.Gt(240|s>>>18),this.Gt(128|63&s>>>12),this.Gt(128|63&s>>>6),this.Gt(128|63&s)}}this.zt()}Zt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Jt(r);else if(r<2048)this.Jt(960|r>>>6),this.Jt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Jt(480|r>>>12),this.Jt(128|63&r>>>6),this.Jt(128|63&r);else{const s=n.codePointAt(0);this.Jt(240|s>>>18),this.Jt(128|63&s>>>12),this.Jt(128|63&s>>>6),this.Jt(128|63&s)}}this.Ht()}Xt(e){const n=this.en(e),r=yR(n);this.tn(1+r),this.buffer[this.position++]=255&r;for(let s=n.length-r;s<n.length;++s)this.buffer[this.position++]=255&n[s]}nn(e){const n=this.en(e),r=yR(n);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let s=n.length-r;s<n.length;++s)this.buffer[this.position++]=~(255&n[s])}rn(){this.sn(Q0),this.sn(255)}_n(){this.an(Q0),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const n=(function(i){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,i,!1),new Uint8Array(a.buffer)})(e),r=!!(128&n[0]);n[0]^=r?255:128;for(let s=1;s<n.length;++s)n[s]^=r?255:0;return n}Gt(e){const n=255&e;n===0?(this.sn(0),this.sn(255)):n===Q0?(this.sn(Q0),this.sn(0)):this.sn(n)}Jt(e){const n=255&e;n===0?(this.an(0),this.an(255)):n===Q0?(this.an(Q0),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const s=new Uint8Array(r);s.set(this.buffer),this.buffer=s}}class Tre{constructor(e){this.cn=e}Bt(e){this.cn.Wt(e)}xt(e){this.cn.Yt(e)}Mt(e){this.cn.Xt(e)}vt(){this.cn.rn()}}class Sre{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class Rg{constructor(){this.cn=new Ere,this.ln=new Tre(this.cn),this.hn=new Sre(this.cn)}seed(e){this.cn.seed(e)}Pn(e){return e===0?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}}class mh{constructor(e,n,r,s){this.Tn=e,this.In=n,this.En=r,this.dn=s}An(){const e=this.dn.length,n=e===0||this.dn[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.dn,0),n!==e?r.set([0],this.dn.length):++r[r.length-1],new mh(this.Tn,this.In,this.En,r)}Rn(e,n,r){return{indexId:this.Tn,uid:e,arrayValue:$y(this.En),directionalValue:$y(this.dn),orderedDocumentKey:$y(n),documentKey:r.path.toArray()}}Vn(e,n,r){const s=this.Rn(e,n,r);return[s.indexId,s.uid,s.arrayValue,s.directionalValue,s.orderedDocumentKey,s.documentKey]}}function Gf(t,e){let n=t.Tn-e.Tn;return n!==0?n:(n=bR(t.En,e.En),n!==0?n:(n=bR(t.dn,e.dn),n!==0?n:Vt.comparator(t.In,e.In)))}function bR(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}function $y(t){return yO()?(function(n){let r="";for(let s=0;s<n.length;s++)r+=String.fromCharCode(n[s]);return r})(t):t}function wR(t){return typeof t!="string"?t:(function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r})(t)}class _R{constructor(e){this.mn=new $r(((n,r)=>Ls.comparator(n.field,r.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.fn=e.orderBy,this.gn=[];for(const n of e.filters){const r=n;r.isInequality()?this.mn=this.mn.add(r):this.gn.push(r)}}get pn(){return this.mn.size>1}yn(e){if(bn(e.collectionGroup===this.collectionId,49279),this.pn)return!1;const n=iT(e);if(n!==void 0&&!this.wn(n))return!1;const r=ch(e);let s=new Set,i=0,a=0;for(;i<r.length&&this.wn(r[i]);++i)s=s.add(r[i].fieldPath.canonicalString());if(i===r.length)return!0;if(this.mn.size>0){const o=this.mn.getIterator().getNext();if(!s.has(o.field.canonicalString())){const c=r[i];if(!this.Sn(o,c)||!this.bn(this.fn[a++],c))return!1}++i}for(;i<r.length;++i){const o=r[i];if(a>=this.fn.length||!this.bn(this.fn[a++],o))return!1}return!0}Dn(){if(this.pn)return null;let e=new $r(Ls.comparator);const n=[];for(const r of this.gn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new By(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new By(r.field,0))}for(const r of this.fn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new By(r.field,r.dir==="asc"?0:1)));return new _2(_2.UNKNOWN_ID,this.collectionId,n,V1.empty())}wn(e){for(const n of this.gn)if(this.Sn(n,e))return!0;return!1}Sn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}bn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}function S9(t){if(bn(t instanceof xr||t instanceof ts,20012),t instanceof xr){if(t instanceof W7){const n=t.value.arrayValue?.values?.map((r=>xr.create(t.field,"==",r)))||[];return ts.create(n,"or")}return t}const e=t.filters.map((n=>S9(n)));return ts.create(e,t.op)}function Are(t){if(t.getFilters().length===0)return[];const e=_T(S9(t));return bn(A9(e),7391),bT(e)||wT(e)?[e]:e.getFilters()}function bT(t){return t instanceof xr}function wT(t){return t instanceof ts&&RA(t)}function A9(t){return bT(t)||wT(t)||(function(n){if(n instanceof ts&&dT(n)){for(const r of n.getFilters())if(!bT(r)&&!wT(r))return!1;return!0}return!1})(t)}function _T(t){if(bn(t instanceof xr||t instanceof ts,34018),t instanceof xr)return t;if(t.filters.length===1)return _T(t.filters[0]);const e=t.filters.map((r=>_T(r)));let n=ts.create(e,t.op);return n=D2(n),A9(n)?n:(bn(n instanceof ts,64498),bn(dm(n),40251),bn(n.filters.length>1,57927),n.filters.reduce(((r,s)=>BA(r,s))))}function BA(t,e){let n;return bn(t instanceof xr||t instanceof ts,38388),bn(e instanceof xr||e instanceof ts,25473),n=t instanceof xr?e instanceof xr?(function(s,i){return ts.create([s,i],"and")})(t,e):ER(t,e):e instanceof xr?ER(e,t):(function(s,i){if(bn(s.filters.length>0&&i.filters.length>0,48005),dm(s)&&dm(i))return z7(s,i.getFilters());const a=dT(s)?s:i,o=dT(s)?i:s,c=a.filters.map((u=>BA(u,o)));return ts.create(c,"or")})(t,e),D2(n)}function ER(t,e){if(dm(e))return z7(e,t.getFilters());{const n=e.filters.map((r=>BA(t,r)));return ts.create(n,"or")}}function D2(t){if(bn(t instanceof xr||t instanceof ts,11850),t instanceof xr)return t;const e=t.getFilters();if(e.length===1)return D2(e[0]);if(q7(t))return t;const n=e.map((s=>D2(s))),r=[];return n.forEach((s=>{s instanceof xr?r.push(s):s instanceof ts&&(s.op===t.op?r.push(...s.filters):r.push(s))})),r.length===1?r[0]:ts.create(r,t.op)}class Cre{constructor(){this.Cn=new VA}addToCollectionParentIndex(e,n){return this.Cn.add(n),Je.resolve()}getCollectionParents(e,n){return Je.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Je.resolve()}deleteFieldIndex(e,n){return Je.resolve()}deleteAllFieldIndexes(e){return Je.resolve()}createTargetIndexes(e,n){return Je.resolve()}getDocumentsMatchingTarget(e,n){return Je.resolve(null)}getIndexType(e,n){return Je.resolve(0)}getFieldIndexes(e,n){return Je.resolve([])}getNextCollectionGroupToUpdate(e){return Je.resolve(null)}getMinOffset(e,n){return Je.resolve(Jo.min())}getMinOffsetFromCollectionGroup(e,n){return Je.resolve(Jo.min())}updateCollectionGroup(e,n,r){return Je.resolve()}updateIndexEntries(e,n){return Je.resolve()}}class VA{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new $r(Vr.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new $r(Vr.comparator)).toArray()}}const TR="IndexedDbIndexManager",$v=new Uint8Array(0);class Nre{constructor(e,n){this.databaseId=n,this.vn=new VA,this.Fn=new uf((r=>Uh(r)),((r,s)=>Tx(r,s))),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.vn.has(n)){const r=n.lastSegment(),s=n.popLast();e.addOnCommittedListener((()=>{this.vn.add(n)}));const i={collectionId:r,parent:Da(s)};return SR(e).put(i)}return Je.resolve()}getCollectionParents(e,n){const r=[],s=IDBKeyRange.bound([n,""],[p7(n),""],!1,!0);return SR(e).J(s).next((i=>{for(const a of i){if(a.collectionId!==n)break;r.push(Hc(a.parent))}return r}))}addFieldIndex(e,n){const r=Pg(e),s=(function(o){return{indexId:o.indexId,collectionGroup:o.collectionGroup,fields:o.fields.map((c=>[c.fieldPath.canonicalString(),c.kind]))}})(n);delete s.indexId;const i=r.add(s);if(n.indexState){const a=ep(e);return i.next((o=>{a.put(gR(o,this.uid,n.indexState.sequenceNumber,n.indexState.offset))}))}return i.next()}deleteFieldIndex(e,n){const r=Pg(e),s=ep(e),i=Z0(e);return r.delete(n.indexId).next((()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))).next((()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const n=Pg(e),r=Z0(e),s=ep(e);return n.Z().next((()=>r.Z())).next((()=>s.Z()))}createTargetIndexes(e,n){return Je.forEach(this.Mn(n),(r=>this.getIndexType(e,r).next((s=>{if(s===0||s===1){const i=new _R(r).Dn();if(i!=null)return this.addFieldIndex(e,i)}}))))}getDocumentsMatchingTarget(e,n){const r=Z0(e);let s=!0;const i=new Map;return Je.forEach(this.Mn(n),(a=>this.xn(e,a).next((o=>{s&&(s=!!o),i.set(a,o)})))).next((()=>{if(s){let a=nr();const o=[];return Je.forEach(i,((c,u)=>{Nt(TR,`Using index ${(function(I){return`id=${I.indexId}|cg=${I.collectionGroup}|f=${I.fields.map((D=>`${D.fieldPath}:${D.kind}`)).join(",")}`})(c)} to execute ${Uh(n)}`);const d=(function(I,D){const z=iT(D);if(z===void 0)return null;for(const G of I2(I,z.fieldPath))switch(G.op){case"array-contains-any":return G.value.arrayValue.values||[];case"array-contains":return[G.value]}return null})(u,c),p=(function(I,D){const z=new Map;for(const G of ch(D))for(const P of I2(I,G.fieldPath))switch(P.op){case"==":case"in":z.set(G.fieldPath.canonicalString(),P.value);break;case"not-in":case"!=":return z.set(G.fieldPath.canonicalString(),P.value),Array.from(z.values())}return null})(u,c),g=(function(I,D){const z=[];let G=!0;for(const P of ch(D)){const M=P.kind===0?nR(I,P.fieldPath,I.startAt):rR(I,P.fieldPath,I.startAt);z.push(M.value),G&&(G=M.inclusive)}return new fm(z,G)})(u,c),x=(function(I,D){const z=[];let G=!0;for(const P of ch(D)){const M=P.kind===0?rR(I,P.fieldPath,I.endAt):nR(I,P.fieldPath,I.endAt);z.push(M.value),G&&(G=M.inclusive)}return new fm(z,G)})(u,c),w=this.On(c,u,g),y=this.On(c,u,x),S=this.Nn(c,u,p),C=this.Bn(c.indexId,d,w,g.inclusive,y,x.inclusive,S);return Je.forEach(C,(F=>r.Y(F,n.limit).next((I=>{I.forEach((D=>{const z=Vt.fromSegments(D.documentKey);a.has(z)||(a=a.add(z),o.push(z))}))}))))})).next((()=>o))}return Je.resolve(null)}))}Mn(e){let n=this.Fn.get(e);return n||(e.filters.length===0?n=[e]:n=Are(ts.create(e.filters,"and")).map((r=>pT(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt))),this.Fn.set(e,n),n)}Bn(e,n,r,s,i,a,o){const c=(n!=null?n.length:1)*Math.max(r.length,i.length),u=c/(n!=null?n.length:1),d=[];for(let p=0;p<c;++p){const g=n?this.Ln(n[p/u]):$v,x=this.kn(e,g,r[p%u],s),w=this.qn(e,g,i[p%u],a),y=o.map((S=>this.kn(e,g,S,!0)));d.push(...this.createRange(x,w,y))}return d}kn(e,n,r,s){const i=new mh(e,Vt.empty(),n,r);return s?i:i.An()}qn(e,n,r,s){const i=new mh(e,Vt.empty(),n,r);return s?i.An():i}xn(e,n){const r=new _R(n),s=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,s).next((i=>{let a=null;for(const o of i)r.yn(o)&&(!a||o.fields.length>a.fields.length)&&(a=o);return a}))}getIndexType(e,n){let r=2;const s=this.Mn(n);return Je.forEach(s,(i=>this.xn(e,i).next((a=>{a?r!==0&&a.fields.length<(function(c){let u=new $r(Ls.comparator),d=!1;for(const p of c.filters)for(const g of p.getFlattenedFilters())g.field.isKeyField()||(g.op==="array-contains"||g.op==="array-contains-any"?d=!0:u=u.add(g.field));for(const p of c.orderBy)p.field.isKeyField()||(u=u.add(p.field));return u.size+(d?1:0)})(i)&&(r=1):r=0})))).next((()=>(function(a){return a.limit!==null})(n)&&s.length>1&&r===2?1:r))}Qn(e,n){const r=new Rg;for(const s of ch(e)){const i=n.data.field(s.fieldPath);if(i==null)return null;const a=r.Pn(s.kind);ph.Kt.Dt(i,a)}return r.un()}Ln(e){const n=new Rg;return ph.Kt.Dt(e,n.Pn(0)),n.un()}$n(e,n){const r=new Rg;return ph.Kt.Dt(kA(this.databaseId,n),r.Pn((function(i){const a=ch(i);return a.length===0?0:a[a.length-1].kind})(e))),r.un()}Nn(e,n,r){if(r===null)return[];let s=[];s.push(new Rg);let i=0;for(const a of ch(e)){const o=r[i++];for(const c of s)if(this.Un(n,a.fieldPath)&&$1(o))s=this.Kn(s,a,o);else{const u=c.Pn(a.kind);ph.Kt.Dt(o,u)}}return this.Wn(s)}On(e,n,r){return this.Nn(e,n,r.position)}Wn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].un();return n}Kn(e,n,r){const s=[...e],i=[];for(const a of r.arrayValue.values||[])for(const o of s){const c=new Rg;c.seed(o.un()),ph.Kt.Dt(a,c.Pn(n.kind)),i.push(c)}return i}Un(e,n){return!!e.filters.find((r=>r instanceof xr&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in")))}getFieldIndexes(e,n){const r=Pg(e),s=ep(e);return(n?r.J(oT,IDBKeyRange.bound(n,n)):r.J()).next((i=>{const a=[];return Je.forEach(i,(o=>s.get([o.indexId,this.uid]).next((c=>{a.push((function(d,p){const g=p?new V1(p.sequenceNumber,new Jo(qh(p.readTime),new Vt(Hc(p.documentKey)),p.largestBatchId)):V1.empty(),x=d.fields.map((([w,y])=>new By(Ls.fromServerFormat(w),y)));return new _2(d.indexId,d.collectionGroup,x,g)})(o,c))})))).next((()=>a))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((n=>n.length===0?null:(n.sort(((r,s)=>{const i=r.indexState.sequenceNumber-s.indexState.sequenceNumber;return i!==0?i:Bn(r.collectionGroup,s.collectionGroup)})),n[0].collectionGroup)))}updateCollectionGroup(e,n,r){const s=Pg(e),i=ep(e);return this.Gn(e).next((a=>s.J(oT,IDBKeyRange.bound(n,n)).next((o=>Je.forEach(o,(c=>i.put(gR(c.indexId,this.uid,a,r))))))))}updateIndexEntries(e,n){const r=new Map;return Je.forEach(n,((s,i)=>{const a=r.get(s.collectionGroup);return(a?Je.resolve(a):this.getFieldIndexes(e,s.collectionGroup)).next((o=>(r.set(s.collectionGroup,o),Je.forEach(o,(c=>this.zn(e,s,c).next((u=>{const d=this.jn(i,c);return u.isEqual(d)?Je.resolve():this.Jn(e,i,c,u,d)})))))))}))}Hn(e,n,r,s){return Z0(e).put(s.Rn(this.uid,this.$n(r,n.key),n.key))}Yn(e,n,r,s){return Z0(e).delete(s.Vn(this.uid,this.$n(r,n.key),n.key))}zn(e,n,r){const s=Z0(e);let i=new $r(Gf);return s.ee({index:S7,range:IDBKeyRange.only([r.indexId,this.uid,$y(this.$n(r,n))])},((a,o)=>{i=i.add(new mh(r.indexId,n,wR(o.arrayValue),wR(o.directionalValue)))})).next((()=>i))}jn(e,n){let r=new $r(Gf);const s=this.Qn(n,e);if(s==null)return r;const i=iT(n);if(i!=null){const a=e.data.field(i.fieldPath);if($1(a))for(const o of a.arrayValue.values||[])r=r.add(new mh(n.indexId,e.key,this.Ln(o),s))}else r=r.add(new mh(n.indexId,e.key,$v,s));return r}Jn(e,n,r,s,i){Nt(TR,"Updating index entries for document '%s'",n.key);const a=[];return(function(c,u,d,p,g){const x=c.getIterator(),w=u.getIterator();let y=J0(x),S=J0(w);for(;y||S;){let C=!1,F=!1;if(y&&S){const I=d(y,S);I<0?F=!0:I>0&&(C=!0)}else y!=null?F=!0:C=!0;C?(p(S),S=J0(w)):F?(g(y),y=J0(x)):(y=J0(x),S=J0(w))}})(s,i,Gf,(o=>{a.push(this.Hn(e,n,r,o))}),(o=>{a.push(this.Yn(e,n,r,o))})),Je.waitFor(a)}Gn(e){let n=1;return ep(e).ee({index:T7,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((r,s,i)=>{i.done(),n=s.sequenceNumber+1})).next((()=>n))}createRange(e,n,r){r=r.sort(((a,o)=>Gf(a,o))).filter(((a,o,c)=>!o||Gf(a,c[o-1])!==0));const s=[];s.push(e);for(const a of r){const o=Gf(a,e),c=Gf(a,n);if(o===0)s[0]=e.An();else if(o>0&&c<0)s.push(a),s.push(a.An());else if(c>0)break}s.push(n);const i=[];for(let a=0;a<s.length;a+=2){if(this.Zn(s[a],s[a+1]))return[];const o=s[a].Vn(this.uid,$v,Vt.empty()),c=s[a+1].Vn(this.uid,$v,Vt.empty());i.push(IDBKeyRange.bound(o,c))}return i}Zn(e,n){return Gf(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(AR)}getMinOffset(e,n){return Je.mapArray(this.Mn(n),(r=>this.xn(e,r).next((s=>s||un(44426))))).next(AR)}}function SR(t){return Mi(t,H1)}function Z0(t){return Mi(t,f1)}function Pg(t){return Mi(t,TA)}function ep(t){return Mi(t,u1)}function AR(t){bn(t.length!==0,28825);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const s=t[r].indexState.offset;wA(s,e)<0&&(e=s),n<s.largestBatchId&&(n=s.largestBatchId)}return new Jo(e.readTime,e.documentKey,n)}const CR={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},C9=41943040;class Aa{static withCacheSize(e){return new Aa(e,Aa.DEFAULT_COLLECTION_PERCENTILE,Aa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}function N9(t,e,n){const r=t.store(nc),s=t.store(im),i=[],a=IDBKeyRange.only(n.batchId);let o=0;const c=r.ee({range:a},((d,p,g)=>(o++,g.delete())));i.push(c.next((()=>{bn(o===1,47070,{batchId:n.batchId})})));const u=[];for(const d of n.mutations){const p=w7(e,d.key.path,n.batchId);i.push(s.delete(p)),u.push(d.key)}return Je.waitFor(i).next((()=>u))}function M2(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw un(14731);e=t.noDocument}return JSON.stringify(e).length}Aa.DEFAULT_COLLECTION_PERCENTILE=10,Aa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Aa.DEFAULT=new Aa(C9,Aa.DEFAULT_COLLECTION_PERCENTILE,Aa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Aa.DISABLED=new Aa(-1,0,0);class Fb{constructor(e,n,r,s){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=s,this.Xn={}}static wt(e,n,r,s){bn(e.uid!=="",64387);const i=e.isAuthenticated()?e.uid:"";return new Fb(i,n,r,s)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return $f(e).ee({index:bh,range:r},((s,i,a)=>{n=!1,a.done()})).next((()=>n))}addMutationBatch(e,n,r,s){const i=gp(e),a=$f(e);return a.add({}).next((o=>{bn(typeof o=="number",49019);const c=new DA(o,n,r,s),u=(function(x,w,y){const S=y.baseMutations.map((F=>R2(x.yt,F))),C=y.mutations.map((F=>R2(x.yt,F)));return{userId:w,batchId:y.batchId,localWriteTimeMs:y.localWriteTime.toMillis(),baseMutations:S,mutations:C}})(this.serializer,this.userId,c),d=[];let p=new $r(((g,x)=>Bn(g.canonicalString(),x.canonicalString())));for(const g of s){const x=w7(this.userId,g.key.path,o);p=p.add(g.key.path.popLast()),d.push(a.put(u)),d.push(i.put(x,nne))}return p.forEach((g=>{d.push(this.indexManager.addToCollectionParentIndex(e,g))})),e.addOnCommittedListener((()=>{this.Xn[o]=c.keys()})),Je.waitFor(d).next((()=>c))}))}lookupMutationBatch(e,n){return $f(e).get(n).next((r=>r?(bn(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:n}),hh(this.serializer,r)):null))}er(e,n){return this.Xn[n]?Je.resolve(this.Xn[n]):this.lookupMutationBatch(e,n).next((r=>{if(r){const s=r.keys();return this.Xn[n]=s,s}return null}))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=IDBKeyRange.lowerBound([this.userId,r]);let i=null;return $f(e).ee({index:bh,range:s},((a,o,c)=>{o.userId===this.userId&&(bn(o.batchId>=r,47524,{tr:r}),i=hh(this.serializer,o)),c.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=Sh;return $f(e).ee({index:bh,range:n,reverse:!0},((s,i,a)=>{r=i.batchId,a.done()})).next((()=>r))}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,Sh],[this.userId,Number.POSITIVE_INFINITY]);return $f(e).J(bh,n).next((r=>r.map((s=>hh(this.serializer,s)))))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=Vy(this.userId,n.path),s=IDBKeyRange.lowerBound(r),i=[];return gp(e).ee({range:s},((a,o,c)=>{const[u,d,p]=a,g=Hc(d);if(u===this.userId&&n.path.isEqual(g))return $f(e).get(p).next((x=>{if(!x)throw un(61480,{nr:a,batchId:p});bn(x.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:x.userId,batchId:p}),i.push(hh(this.serializer,x))}));c.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new $r(Bn);const s=[];return n.forEach((i=>{const a=Vy(this.userId,i.path),o=IDBKeyRange.lowerBound(a),c=gp(e).ee({range:o},((u,d,p)=>{const[g,x,w]=u,y=Hc(x);g===this.userId&&i.path.isEqual(y)?r=r.add(w):p.done()}));s.push(c)})),Je.waitFor(s).next((()=>this.rr(e,r)))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1,i=Vy(this.userId,r),a=IDBKeyRange.lowerBound(i);let o=new $r(Bn);return gp(e).ee({range:a},((c,u,d)=>{const[p,g,x]=c,w=Hc(g);p===this.userId&&r.isPrefixOf(w)?w.length===s&&(o=o.add(x)):d.done()})).next((()=>this.rr(e,o)))}rr(e,n){const r=[],s=[];return n.forEach((i=>{s.push($f(e).get(i).next((a=>{if(a===null)throw un(35274,{batchId:i});bn(a.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:a.userId,batchId:i}),r.push(hh(this.serializer,a))})))})),Je.waitFor(s).next((()=>r))}removeMutationBatch(e,n){return N9(e.le,this.userId,n).next((r=>(e.addOnCommittedListener((()=>{this.ir(n.batchId)})),Je.forEach(r,(s=>this.referenceDelegate.markPotentiallyOrphaned(e,s))))))}ir(e){delete this.Xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((n=>{if(!n)return Je.resolve();const r=IDBKeyRange.lowerBound((function(a){return[a]})(this.userId)),s=[];return gp(e).ee({range:r},((i,a,o)=>{if(i[0]===this.userId){const c=Hc(i[1]);s.push(c)}else o.done()})).next((()=>{bn(s.length===0,56720,{sr:s.map((i=>i.canonicalString()))})}))}))}containsKey(e,n){return I9(e,this.userId,n)}_r(e){return k9(e).get(this.userId).next((n=>n||{userId:this.userId,lastAcknowledgedBatchId:Sh,lastStreamToken:""}))}}function I9(t,e,n){const r=Vy(e,n.path),s=r[1],i=IDBKeyRange.lowerBound(r);let a=!1;return gp(t).ee({range:i,X:!0},((o,c,u)=>{const[d,p,g]=o;d===e&&p===s&&(a=!0),u.done()})).next((()=>a))}function $f(t){return Mi(t,nc)}function gp(t){return Mi(t,im)}function k9(t){return Mi(t,j1)}class Hh{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Hh(0)}static cr(){return new Hh(-1)}}class Ire{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.lr(e).next((n=>{const r=new Hh(n.highestTargetId);return n.highestTargetId=r.next(),this.hr(e,n).next((()=>n.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.lr(e).next((n=>An.fromTimestamp(new Gr(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.lr(e).next((n=>n.highestListenSequenceNumber))}setTargetsMetadata(e,n,r){return this.lr(e).next((s=>(s.highestListenSequenceNumber=n,r&&(s.lastRemoteSnapshotVersion=r.toTimestamp()),n>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=n),this.hr(e,s))))}addTargetData(e,n){return this.Pr(e,n).next((()=>this.lr(e).next((r=>(r.targetCount+=1,this.Tr(n,r),this.hr(e,r))))))}updateTargetData(e,n){return this.Pr(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next((()=>tp(e).delete(n.targetId))).next((()=>this.lr(e))).next((r=>(bn(r.targetCount>0,8065),r.targetCount-=1,this.hr(e,r))))}removeTargets(e,n,r){let s=0;const i=[];return tp(e).ee(((a,o)=>{const c=Wg(o);c.sequenceNumber<=n&&r.get(c.targetId)===null&&(s++,i.push(this.removeTargetData(e,c)))})).next((()=>Je.waitFor(i))).next((()=>s))}forEachTarget(e,n){return tp(e).ee(((r,s)=>{const i=Wg(s);n(i)}))}lr(e){return NR(e).get(S2).next((n=>(bn(n!==null,2888),n)))}hr(e,n){return NR(e).put(S2,n)}Pr(e,n){return tp(e).put(E9(this.serializer,n))}Tr(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.lr(e).next((n=>n.targetCount))}getTargetData(e,n){const r=Uh(n),s=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let i=null;return tp(e).ee({range:s,index:E7},((a,o,c)=>{const u=Wg(o);Tx(n,u.target)&&(i=u,c.done())})).next((()=>i))}addMatchingKeys(e,n,r){const s=[],i=id(e);return n.forEach((a=>{const o=Da(a.path);s.push(i.put({targetId:r,path:o})),s.push(this.referenceDelegate.addReference(e,r,a))})),Je.waitFor(s)}removeMatchingKeys(e,n,r){const s=id(e);return Je.forEach(n,(i=>{const a=Da(i.path);return Je.waitFor([s.delete([r,a]),this.referenceDelegate.removeReference(e,r,i)])}))}removeMatchingKeysForTargetId(e,n){const r=id(e),s=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(s)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),s=id(e);let i=nr();return s.ee({range:r,X:!0},((a,o,c)=>{const u=Hc(a[1]),d=new Vt(u);i=i.add(d)})).next((()=>i))}containsKey(e,n){const r=Da(n.path),s=IDBKeyRange.bound([r],[p7(r)],!1,!0);let i=0;return id(e).ee({index:EA,X:!0,range:s},(([a,o],c,u)=>{a!==0&&(i++,u.done())})).next((()=>i>0))}At(e,n){return tp(e).get(n).next((r=>r?Wg(r):null))}}function tp(t){return Mi(t,am)}function NR(t){return Mi(t,Ah)}function id(t){return Mi(t,om)}const IR="LruGarbageCollector",kre=1048576;function kR([t,e],[n,r]){const s=Bn(t,n);return s===0?Bn(e,r):s}class Rre{constructor(e){this.Ir=e,this.buffer=new $r(kR),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();kR(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class R9{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Nt(IR,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Fd(n)?Nt(IR,"Ignoring IndexedDB error during garbage collection: ",n):await Zh(n)}await this.Vr(3e5)}))}}class Pre{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return Je.resolve(Tl.ce);const r=new Rre(n);return this.mr.forEachTarget(e,(s=>r.Ar(s.sequenceNumber))).next((()=>this.mr.pr(e,(s=>r.Ar(s))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Nt("LruGarbageCollector","Garbage collection skipped; disabled"),Je.resolve(CR)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Nt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),CR):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,a,o,c,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((p=>(p>this.params.maximumSequenceNumbersToCollect?(Nt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),s=this.params.maximumSequenceNumbersToCollect):s=p,a=Date.now(),this.nthSequenceNumber(e,s)))).next((p=>(r=p,o=Date.now(),this.removeTargets(e,r,n)))).next((p=>(i=p,c=Date.now(),this.removeOrphanedDocuments(e,r)))).next((p=>(u=Date.now(),dp()<=hr.DEBUG&&Nt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-d}ms
	Determined least recently used ${s} in `+(o-a)+`ms
	Removed ${i} targets in `+(c-o)+`ms
	Removed ${p} documents in `+(u-c)+`ms
Total Duration: ${u-d}ms`),Je.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:p}))))}}function P9(t,e){return new Pre(t,e)}class Dre{constructor(e,n){this.db=e,this.garbageCollector=P9(this,n)}gr(e){const n=this.wr(e);return this.db.getTargetCache().getTargetCount(e).next((r=>n.next((s=>r+s))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}pr(e,n){return this.Sr(e,((r,s)=>n(s)))}addReference(e,n,r){return Wv(e,r)}removeReference(e,n,r){return Wv(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return Wv(e,n)}br(e,n){return(function(s,i){let a=!1;return k9(s).te((o=>I9(s,o,i).next((c=>(c&&(a=!0),Je.resolve(!c)))))).next((()=>a))})(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[];let i=0;return this.Sr(e,((a,o)=>{if(o<=n){const c=this.br(e,a).next((u=>{if(!u)return i++,r.getEntry(e,a).next((()=>(r.removeEntry(a,An.min()),id(e).delete((function(p){return[0,Da(p.path)]})(a)))))}));s.push(c)}})).next((()=>Je.waitFor(s))).next((()=>r.apply(e))).next((()=>i))}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return Wv(e,n)}Sr(e,n){const r=id(e);let s,i=Tl.ce;return r.ee({index:EA},(([a,o],{path:c,sequenceNumber:u})=>{a===0?(i!==Tl.ce&&n(new Vt(Hc(s)),i),i=u,s=c):i=Tl.ce})).next((()=>{i!==Tl.ce&&n(new Vt(Hc(s)),i)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Wv(t,e){return id(t).put((function(r,s){return{targetId:0,path:Da(r.path),sequenceNumber:s}})(e,t.currentSequenceNumber))}class D9{constructor(){this.changes=new uf((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,$s.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Je.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Mre{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return ih(e).put(r)}removeEntry(e,n,r){return ih(e).delete((function(i,a){const o=i.path.toArray();return[o.slice(0,o.length-2),o[o.length-2],P2(a),o[o.length-1]]})(n,r))}updateMetadata(e,n){return this.getMetadata(e).next((r=>(r.byteSize+=n,this.Dr(e,r))))}getEntry(e,n){let r=$s.newInvalidDocument(n);return ih(e).ee({index:Uy,range:IDBKeyRange.only(Dg(n))},((s,i)=>{r=this.Cr(n,i)})).next((()=>r))}vr(e,n){let r={size:0,document:$s.newInvalidDocument(n)};return ih(e).ee({index:Uy,range:IDBKeyRange.only(Dg(n))},((s,i)=>{r={document:this.Cr(n,i),size:M2(i)}})).next((()=>r))}getEntries(e,n){let r=Ko();return this.Fr(e,n,((s,i)=>{const a=this.Cr(s,i);r=r.insert(s,a)})).next((()=>r))}Mr(e,n){let r=Ko(),s=new Cs(Vt.comparator);return this.Fr(e,n,((i,a)=>{const o=this.Cr(i,a);r=r.insert(i,o),s=s.insert(i,M2(a))})).next((()=>({documents:r,Or:s})))}Fr(e,n,r){if(n.isEmpty())return Je.resolve();let s=new $r(DR);n.forEach((c=>s=s.add(c)));const i=IDBKeyRange.bound(Dg(s.first()),Dg(s.last())),a=s.getIterator();let o=a.getNext();return ih(e).ee({index:Uy,range:i},((c,u,d)=>{const p=Vt.fromSegments([...u.prefixPath,u.collectionGroup,u.documentId]);for(;o&&DR(o,p)<0;)r(o,null),o=a.getNext();o&&o.isEqual(p)&&(r(o,u),o=a.hasNext()?a.getNext():null),o?d.j(Dg(o)):d.done()})).next((()=>{for(;o;)r(o,null),o=a.hasNext()?a.getNext():null}))}getDocumentsMatchingQuery(e,n,r,s,i){const a=n.path,o=[a.popLast().toArray(),a.lastSegment(),P2(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],c=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ih(e).J(IDBKeyRange.bound(o,c,!0)).next((u=>{i?.incrementDocumentReadCount(u.length);let d=Ko();for(const p of u){const g=this.Cr(Vt.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);g.isFoundDocument()&&(Sx(n,g)||s.has(g.key))&&(d=d.insert(g.key,g))}return d}))}getAllFromCollectionGroup(e,n,r,s){let i=Ko();const a=PR(n,r),o=PR(n,Jo.max());return ih(e).ee({index:_7,range:IDBKeyRange.bound(a,o,!0)},((c,u,d)=>{const p=this.Cr(Vt.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);i=i.insert(p.key,p),i.size===s&&d.done()})).next((()=>i))}newChangeBuffer(e){return new Lre(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((n=>n.byteSize))}getMetadata(e){return RR(e).get(aT).next((n=>(bn(!!n,20021),n)))}Dr(e,n){return RR(e).put(aT,n)}Cr(e,n){if(n){const r=yre(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(An.min())))return r}return $s.newInvalidDocument(e)}}function M9(t){return new Mre(t)}class Lre extends D9{constructor(e,n){super(),this.Nr=e,this.trackRemovals=n,this.Br=new uf((r=>r.toString()),((r,s)=>r.isEqual(s)))}applyChanges(e){const n=[];let r=0,s=new $r(((i,a)=>Bn(i.canonicalString(),a.canonicalString())));return this.changes.forEach(((i,a)=>{const o=this.Br.get(i);if(n.push(this.Nr.removeEntry(e,i,o.readTime)),a.isValidDocument()){const c=pR(this.Nr.serializer,a);s=s.add(i.path.popLast());const u=M2(c);r+=u-o.size,n.push(this.Nr.addEntry(e,i,c))}else if(r-=o.size,this.trackRemovals){const c=pR(this.Nr.serializer,a.convertToNoDocument(An.min()));n.push(this.Nr.addEntry(e,i,c))}})),s.forEach((i=>{n.push(this.Nr.indexManager.addToCollectionParentIndex(e,i))})),n.push(this.Nr.updateMetadata(e,r)),Je.waitFor(n)}getFromCache(e,n){return this.Nr.vr(e,n).next((r=>(this.Br.set(n,{size:r.size,readTime:r.document.readTime}),r.document)))}getAllFromCache(e,n){return this.Nr.Mr(e,n).next((({documents:r,Or:s})=>(s.forEach(((i,a)=>{this.Br.set(i,{size:a,readTime:r.get(i).readTime})})),r)))}}function RR(t){return Mi(t,q1)}function ih(t){return Mi(t,T2)}function Dg(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function PR(t,e){const n=e.documentKey.path.toArray();return[t,P2(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function DR(t,e){const n=t.path.toArray(),r=e.path.toArray();let s=0;for(let i=0;i<n.length-2&&i<r.length-2;++i)if(s=Bn(n[i],r[i]),s)return s;return s=Bn(n.length,r.length),s||(s=Bn(n[n.length-2],r[r.length-2]),s||Bn(n[n.length-1],r[r.length-1]))}class Fre{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class L9{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,n)))).next((s=>(r!==null&&m1(r.mutation,s,So.empty(),Gr.now()),s)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,nr()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=nr()){const s=zc();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,r).next((i=>{let a=Gg();return i.forEach(((o,c)=>{a=a.insert(o,c.overlayedDocument)})),a}))))}getOverlayedDocuments(e,n){const r=zc();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,nr())))}populateOverlays(e,n,r){const s=[];return r.forEach((i=>{n.has(i)||s.push(i)})),this.documentOverlayCache.getOverlays(e,s).next((i=>{i.forEach(((a,o)=>{n.set(a,o)}))}))}computeViews(e,n,r,s){let i=Ko();const a=p1(),o=(function(){return p1()})();return n.forEach(((c,u)=>{const d=r.get(u.key);s.has(u.key)&&(d===void 0||d.mutation instanceof ff)?i=i.insert(u.key,u):d!==void 0?(a.set(u.key,d.mutation.getFieldMask()),m1(d.mutation,u,d.mutation.getFieldMask(),Gr.now())):a.set(u.key,So.empty())})),this.recalculateAndSaveOverlays(e,i).next((c=>(c.forEach(((u,d)=>a.set(u,d))),n.forEach(((u,d)=>o.set(u,new Fre(d,a.get(u)??null)))),o)))}recalculateAndSaveOverlays(e,n){const r=p1();let s=new Cs(((a,o)=>a-o)),i=nr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((a=>{for(const o of a)o.keys().forEach((c=>{const u=n.get(c);if(u===null)return;let d=r.get(c)||So.empty();d=o.applyToLocalView(u,d),r.set(c,d);const p=(s.get(o.batchId)||nr()).add(c);s=s.insert(o.batchId,p)}))})).next((()=>{const a=[],o=s.getReverseIterator();for(;o.hasNext();){const c=o.getNext(),u=c.key,d=c.value,p=Q7();d.forEach((g=>{if(!i.has(g)){const x=i9(n.get(g),r.get(g));x!==null&&p.set(g,x),i=i.add(g)}})),a.push(this.documentOverlayCache.saveOverlays(e,u,p))}return Je.waitFor(a)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,s){return(function(a){return Vt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Vne(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next((i=>{const a=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):Je.resolve(zc());let o=B1,c=i;return a.next((u=>Je.forEach(u,((d,p)=>(o<p.largestBatchId&&(o=p.largestBatchId),i.get(d)?Je.resolve():this.remoteDocumentCache.getEntry(e,d).next((g=>{c=c.insert(d,g)}))))).next((()=>this.populateOverlays(e,u,i))).next((()=>this.computeViews(e,c,u,nr()))).next((d=>({batchId:o,changes:J7(d)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Vt(n)).next((r=>{let s=Gg();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let a=Gg();return this.indexManager.getCollectionParents(e,i).next((o=>Je.forEach(o,(c=>{const u=(function(p,g){return new Ib(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next((d=>{d.forEach(((p,g)=>{a=a.insert(p,g)}))}))})).next((()=>a))))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s)))).next((a=>{i.forEach(((c,u)=>{const d=u.getKey();a.get(d)===null&&(a=a.insert(d,$s.newInvalidDocument(d)))}));let o=Gg();return a.forEach(((c,u)=>{const d=i.get(c);d!==void 0&&m1(d.mutation,u,So.empty(),Gr.now()),Sx(n,u)&&(o=o.insert(c,u))})),o}))}}class Ore{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return Je.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(s){return{id:s.id,version:s.version,createTime:Xa(s.createTime)}})(n)),Je.resolve()}getNamedQuery(e,n){return Je.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(s){return{name:s.name,query:T9(s.bundledQuery),readTime:Xa(s.readTime)}})(n)),Je.resolve()}}class Bre{constructor(){this.overlays=new Cs(Vt.comparator),this.qr=new Map}getOverlay(e,n){return Je.resolve(this.overlays.get(n))}getOverlays(e,n){const r=zc();return Je.forEach(n,(s=>this.getOverlay(e,s).next((i=>{i!==null&&r.set(s,i)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((s,i)=>{this.St(e,n,i)})),Je.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach((i=>this.overlays=this.overlays.remove(i))),this.qr.delete(r)),Je.resolve()}getOverlaysForCollection(e,n,r){const s=zc(),i=n.length+1,a=new Vt(n.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const c=o.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return Je.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Cs(((u,d)=>u-d));const a=this.overlays.getIterator();for(;a.hasNext();){const u=a.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=i.get(u.largestBatchId);d===null&&(d=zc(),i=i.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const o=zc(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach(((u,d)=>o.set(u,d))),!(o.size()>=s)););return Je.resolve(o)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const a=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new LA(n,r));let i=this.qr.get(n);i===void 0&&(i=nr(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}class Vre{constructor(){this.sessionToken=gi.EMPTY_BYTE_STRING}getSessionToken(e){return Je.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Je.resolve()}}class UA{constructor(){this.Qr=new $r($i.$r),this.Ur=new $r($i.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new $i(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new $i(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new Vt(new Vr([])),r=new $i(n,e),s=new $i(n,e+1),i=[];return this.Ur.forEachInRange([r,s],(a=>{this.Gr(a),i.push(a.key)})),i}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Vt(new Vr([])),r=new $i(n,e),s=new $i(n,e+1);let i=nr();return this.Ur.forEachInRange([r,s],(a=>{i=i.add(a.key)})),i}containsKey(e){const n=new $i(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class $i{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Vt.comparator(e.key,n.key)||Bn(e.Yr,n.Yr)}static Kr(e,n){return Bn(e.Yr,n.Yr)||Vt.comparator(e.key,n.key)}}class Ure{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new $r($i.$r)}checkEmpty(e){return Je.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new DA(i,n,r,s);this.mutationQueue.push(a);for(const o of s)this.Zr=this.Zr.add(new $i(o.key,i)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return Je.resolve(a)}lookupMutationBatch(e,n){return Je.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return Je.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Je.resolve(this.mutationQueue.length===0?Sh:this.tr-1)}getAllMutationBatches(e){return Je.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new $i(n,0),s=new $i(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],(a=>{const o=this.Xr(a.Yr);i.push(o)})),Je.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new $r(Bn);return n.forEach((s=>{const i=new $i(s,0),a=new $i(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,a],(o=>{r=r.add(o.Yr)}))})),Je.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;Vt.isDocumentKey(i)||(i=i.child(""));const a=new $i(new Vt(i),0);let o=new $r(Bn);return this.Zr.forEachWhile((c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(o=o.add(c.Yr)),!0)}),a),Je.resolve(this.ti(o))}ti(e){const n=[];return e.forEach((r=>{const s=this.Xr(r);s!==null&&n.push(s)})),n}removeMutationBatch(e,n){bn(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Je.forEach(n.mutations,(s=>{const i=new $i(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new $i(n,0),s=this.Zr.firstAfterOrEqual(r);return Je.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Je.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class jre{constructor(e){this.ri=e,this.docs=(function(){return new Cs(Vt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,a=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Je.resolve(r?r.document.mutableCopy():$s.newInvalidDocument(n))}getEntries(e,n){let r=Ko();return n.forEach((s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():$s.newInvalidDocument(s))})),Je.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Ko();const a=n.path,o=new Vt(a.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(o);for(;c.hasNext();){const{key:u,value:{document:d}}=c.getNext();if(!a.isPrefixOf(u.path))break;u.path.length>a.length+1||wA(x7(d),r)<=0||(s.has(d.key)||Sx(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return Je.resolve(i)}getAllFromCollectionGroup(e,n,r,s){un(9500)}ii(e,n){return Je.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new qre(this)}getSize(e){return Je.resolve(this.size)}}class qre extends D9{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)})),Je.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class Hre{constructor(e){this.persistence=e,this.si=new uf((n=>Uh(n)),Tx),this.lastRemoteSnapshotVersion=An.min(),this.highestTargetId=0,this.oi=0,this._i=new UA,this.targetCount=0,this.ai=Hh.ur()}forEachTarget(e,n){return this.si.forEach(((r,s)=>n(s))),Je.resolve()}getLastRemoteSnapshotVersion(e){return Je.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Je.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Je.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),Je.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Hh(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,Je.resolve()}updateTargetData(e,n){return this.Pr(n),Je.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Je.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach(((a,o)=>{o.sequenceNumber<=n&&r.get(o.targetId)===null&&(this.si.delete(a),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),s++)})),Je.waitFor(i).next((()=>s))}getTargetCount(e){return Je.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return Je.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),Je.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach((a=>{i.push(s.markPotentiallyOrphaned(e,a))})),Je.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),Je.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return Je.resolve(r)}containsKey(e,n){return Je.resolve(this._i.containsKey(n))}}class jA{constructor(e,n){this.ui={},this.overlays={},this.ci=new Tl(0),this.li=!1,this.li=!0,this.hi=new Vre,this.referenceDelegate=e(this),this.Pi=new Hre(this),this.indexManager=new Cre,this.remoteDocumentCache=(function(s){return new jre(s)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new _9(n),this.Ii=new Ore(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Bre,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new Ure(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Nt("MemoryPersistence","Starting transaction:",e);const s=new zre(this.ci.next());return this.referenceDelegate.Ei(),r(s).next((i=>this.referenceDelegate.di(s).next((()=>i)))).toPromise().then((i=>(s.raiseOnCommittedEvent(),i)))}Ai(e,n){return Je.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class zre extends y7{constructor(e){super(),this.currentSequenceNumber=e}}class Ob{constructor(e){this.persistence=e,this.Ri=new UA,this.Vi=null}static mi(e){return new Ob(e)}get fi(){if(this.Vi)return this.Vi;throw un(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),Je.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),Je.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),Je.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((s=>this.fi.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((s=>{s.forEach((i=>this.fi.add(i.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Je.forEach(this.fi,(r=>{const s=Vt.fromPath(r);return this.gi(e,s).next((i=>{i||n.removeEntry(s,An.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return Je.or([()=>Je.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class L2{constructor(e,n){this.persistence=e,this.pi=new uf((r=>Da(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=P9(this,n)}static mi(e,n){return new L2(e,n)}Ei(){}di(e){return Je.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((s=>r+s))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return Je.forEach(this.pi,((r,s)=>this.br(e,r,s).next((i=>i?Je.resolve():n(s)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,(a=>this.br(e,a,n).next((o=>{o||(r++,i.removeEntry(a,An.min()))})))).next((()=>i.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),Je.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Je.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Je.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),Je.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=qy(e.data.value)),n}br(e,n,r){return Je.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return Je.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Gre{constructor(e){this.serializer=e}k(e,n,r,s){const i=new _b("createOrUpgrade",n);r<1&&s>=1&&((function(c){c.createObjectStore(Ex)})(e),(function(c){c.createObjectStore(j1,{keyPath:tne}),c.createObjectStore(nc,{keyPath:z3,autoIncrement:!0}).createIndex(bh,G3,{unique:!0}),c.createObjectStore(im)})(e),MR(e),(function(c){c.createObjectStore(uh)})(e));let a=Je.resolve();return r<3&&s>=3&&(r!==0&&((function(c){c.deleteObjectStore(om),c.deleteObjectStore(am),c.deleteObjectStore(Ah)})(e),MR(e)),a=a.next((()=>(function(c){const u=c.store(Ah),d={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:An.min().toTimestamp(),targetCount:0};return u.put(S2,d)})(i)))),r<4&&s>=4&&(r!==0&&(a=a.next((()=>(function(c,u){return u.store(nc).J().next((p=>{c.deleteObjectStore(nc),c.createObjectStore(nc,{keyPath:z3,autoIncrement:!0}).createIndex(bh,G3,{unique:!0});const g=u.store(nc),x=p.map((w=>g.put(w)));return Je.waitFor(x)}))})(e,i)))),a=a.next((()=>{(function(c){c.createObjectStore(lm,{keyPath:une})})(e)}))),r<5&&s>=5&&(a=a.next((()=>this.yi(i)))),r<6&&s>=6&&(a=a.next((()=>((function(c){c.createObjectStore(q1)})(e),this.wi(i))))),r<7&&s>=7&&(a=a.next((()=>this.Si(i)))),r<8&&s>=8&&(a=a.next((()=>this.bi(e,i)))),r<9&&s>=9&&(a=a.next((()=>{(function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")})(e)}))),r<10&&s>=10&&(a=a.next((()=>this.Di(i)))),r<11&&s>=11&&(a=a.next((()=>{(function(c){c.createObjectStore(Tb,{keyPath:fne})})(e),(function(c){c.createObjectStore(Sb,{keyPath:dne})})(e)}))),r<12&&s>=12&&(a=a.next((()=>{(function(c){const u=c.createObjectStore(Ab,{keyPath:yne});u.createIndex(lT,bne,{unique:!1}),u.createIndex(A7,wne,{unique:!1})})(e)}))),r<13&&s>=13&&(a=a.next((()=>(function(c){const u=c.createObjectStore(T2,{keyPath:rne});u.createIndex(Uy,sne),u.createIndex(_7,ine)})(e))).next((()=>this.Ci(e,i))).next((()=>e.deleteObjectStore(uh)))),r<14&&s>=14&&(a=a.next((()=>this.Fi(e,i)))),r<15&&s>=15&&(a=a.next((()=>(function(c){c.createObjectStore(TA,{keyPath:hne,autoIncrement:!0}).createIndex(oT,pne,{unique:!1}),c.createObjectStore(u1,{keyPath:mne}).createIndex(T7,gne,{unique:!1}),c.createObjectStore(f1,{keyPath:xne}).createIndex(S7,vne,{unique:!1})})(e)))),r<16&&s>=16&&(a=a.next((()=>{n.objectStore(u1).clear()})).next((()=>{n.objectStore(f1).clear()}))),r<17&&s>=17&&(a=a.next((()=>{(function(c){c.createObjectStore(SA,{keyPath:_ne})})(e)}))),r<18&&s>=18&&yO()&&(a=a.next((()=>{n.objectStore(u1).clear()})).next((()=>{n.objectStore(f1).clear()}))),a}wi(e){let n=0;return e.store(uh).ee(((r,s)=>{n+=M2(s)})).next((()=>{const r={byteSize:n};return e.store(q1).put(aT,r)}))}yi(e){const n=e.store(j1),r=e.store(nc);return n.J().next((s=>Je.forEach(s,(i=>{const a=IDBKeyRange.bound([i.userId,Sh],[i.userId,i.lastAcknowledgedBatchId]);return r.J(bh,a).next((o=>Je.forEach(o,(c=>{bn(c.userId===i.userId,18650,"Cannot process batch from unexpected user",{batchId:c.batchId});const u=hh(this.serializer,c);return N9(e,i.userId,u).next((()=>{}))}))))}))))}Si(e){const n=e.store(om),r=e.store(uh);return e.store(Ah).get(S2).next((s=>{const i=[];return r.ee(((a,o)=>{const c=new Vr(a),u=(function(p){return[0,Da(p)]})(c);i.push(n.get(u).next((d=>d?Je.resolve():(p=>n.put({targetId:0,path:Da(p),sequenceNumber:s.highestListenSequenceNumber}))(c))))})).next((()=>Je.waitFor(i)))}))}bi(e,n){e.createObjectStore(H1,{keyPath:cne});const r=n.store(H1),s=new VA,i=a=>{if(s.add(a)){const o=a.lastSegment(),c=a.popLast();return r.put({collectionId:o,parent:Da(c)})}};return n.store(uh).ee({X:!0},((a,o)=>{const c=new Vr(a);return i(c.popLast())})).next((()=>n.store(im).ee({X:!0},(([a,o,c],u)=>{const d=Hc(o);return i(d.popLast())}))))}Di(e){const n=e.store(am);return n.ee(((r,s)=>{const i=Wg(s),a=E9(this.serializer,i);return n.put(a)}))}Ci(e,n){const r=n.store(uh),s=[];return r.ee(((i,a)=>{const o=n.store(T2),c=(function(p){return p.document?new Vt(Vr.fromString(p.document.name).popFirst(5)):p.noDocument?Vt.fromSegments(p.noDocument.path):p.unknownDocument?Vt.fromSegments(p.unknownDocument.path):un(36783)})(a).path.toArray(),u={prefixPath:c.slice(0,c.length-2),collectionGroup:c[c.length-2],documentId:c[c.length-1],readTime:a.readTime||[0,0],unknownDocument:a.unknownDocument,noDocument:a.noDocument,document:a.document,hasCommittedMutations:!!a.hasCommittedMutations};s.push(o.put(u))})).next((()=>Je.waitFor(s)))}Fi(e,n){const r=n.store(nc),s=M9(this.serializer),i=new jA(Ob.mi,this.serializer.yt);return r.J().next((a=>{const o=new Map;return a.forEach((c=>{let u=o.get(c.userId)??nr();hh(this.serializer,c).keys().forEach((d=>u=u.add(d))),o.set(c.userId,u)})),Je.forEach(o,((c,u)=>{const d=new la(u),p=Lb.wt(this.serializer,d),g=i.getIndexManager(d),x=Fb.wt(d,this.serializer,g,i.referenceDelegate);return new L9(s,x,p,g).recalculateAndSaveOverlaysForDocumentKeys(new cT(n,Tl.ce),c).next()}))}))}}function MR(t){t.createObjectStore(om,{keyPath:one}).createIndex(EA,lne,{unique:!0}),t.createObjectStore(am,{keyPath:"targetId"}).createIndex(E7,ane,{unique:!0}),t.createObjectStore(Ah)}const Wf="IndexedDbPersistence",tE=18e5,nE=5e3,rE="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",$re="main";class qA{constructor(e,n,r,s,i,a,o,c,u,d,p=18){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Mi=i,this.window=a,this.document=o,this.xi=u,this.Oi=d,this.Ni=p,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=g=>Promise.resolve(),!qA.v())throw new Bt(mt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Dre(this,s),this.$i=n+$re,this.serializer=new _9(c),this.Ui=new gd(this.$i,this.Ni,new Gre(this.serializer)),this.hi=new wre,this.Pi=new Ire(this.referenceDelegate,this.serializer),this.remoteDocumentCache=M9(this.serializer),this.Ii=new bre,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,d===!1&&Wa(Wf,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Bt(mt.FAILED_PRECONDITION,rE);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Pi.getHighestSequenceNumber(e)))})).then((e=>{this.ci=new Tl(e,this.xi)})).then((()=>{this.li=!0})).catch((e=>(this.Ui&&this.Ui.close(),Promise.reject(e))))}Ji(e){return this.Qi=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ui.$((async n=>{n.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Mi.enqueueAndForget((async()=>{this.started&&await this.Wi()})))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>Kv(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Hi(e).next((n=>{n||(this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))))}))})).next((()=>this.Yi(e))).next((n=>this.isPrimary&&!n?this.Zi(e).next((()=>!1)):!!n&&this.Xi(e).next((()=>!0)))))).catch((e=>{if(Fd(e))return Nt(Wf,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Nt(Wf,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Mi.enqueueRetryable((()=>this.Qi(e))),this.isPrimary=e}))}Hi(e){return Mg(e).get(X0).next((n=>Je.resolve(this.es(n))))}ts(e){return Kv(e).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.rs(this.qi,tE)){this.qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(n=>{const r=Mi(n,lm);return r.J().next((s=>{const i=this.ss(s,tE),a=s.filter((o=>i.indexOf(o)===-1));return Je.forEach(a,(o=>r.delete(o.clientId))).next((()=>a))}))})).catch((()=>[]));if(this.Ki)for(const n of e)this.Ki.removeItem(this._s(n.clientId))}}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Wi().then((()=>this.ns())).then((()=>this.ji()))))}es(e){return!!e&&e.ownerId===this.clientId}Yi(e){return this.Oi?Je.resolve(!0):Mg(e).get(X0).next((n=>{if(n!==null&&this.rs(n.leaseTimestampMs,nE)&&!this.us(n.ownerId)){if(this.es(n)&&this.networkEnabled)return!0;if(!this.es(n)){if(!n.allowTabSynchronization)throw new Bt(mt.FAILED_PRECONDITION,rE);return!1}}return!(!this.networkEnabled||!this.inForeground)||Kv(e).J().next((r=>this.ss(r,nE).find((s=>{if(this.clientId!==s.clientId){const i=!this.networkEnabled&&s.networkEnabled,a=!this.inForeground&&s.inForeground,o=this.networkEnabled===s.networkEnabled;if(i||a&&o)return!0}return!1}))===void 0))})).next((n=>(this.isPrimary!==n&&Nt(Wf,`Client ${n?"is":"is not"} eligible for a primary lease.`),n)))}async shutdown(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),await this.Ui.runTransaction("shutdown","readwrite",[Ex,lm],(e=>{const n=new cT(e,Tl.ce);return this.Zi(n).next((()=>this.ts(n)))})),this.Ui.close(),this.Ps()}ss(e,n){return e.filter((r=>this.rs(r.updateTimeMs,n)&&!this.us(r.clientId)))}Ts(){return this.runTransaction("getActiveClients","readonly",(e=>Kv(e).J().next((n=>this.ss(n,tE).map((r=>r.clientId))))))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(e,n){return Fb.wt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Nre(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return Lb.wt(this.serializer,e)}getBundleCache(){return this.Ii}runTransaction(e,n,r){Nt(Wf,"Starting transaction:",e);const s=n==="readonly"?"readonly":"readwrite",i=(function(c){return c===18?Sne:c===17?k7:c===16?Tne:c===15?AA:c===14?I7:c===13?N7:c===12?Ene:c===11?C7:void un(60245)})(this.Ni);let a;return this.Ui.runTransaction(e,s,i,(o=>(a=new cT(o,this.ci?this.ci.next():Tl.ce),n==="readwrite-primary"?this.Hi(a).next((c=>!!c||this.Yi(a))).next((c=>{if(!c)throw Wa(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))),new Bt(mt.FAILED_PRECONDITION,v7);return r(a)})).next((c=>this.Xi(a).next((()=>c)))):this.Is(a).next((()=>r(a)))))).then((o=>(a.raiseOnCommittedEvent(),o)))}Is(e){return Mg(e).get(X0).next((n=>{if(n!==null&&this.rs(n.leaseTimestampMs,nE)&&!this.us(n.ownerId)&&!this.es(n)&&!(this.Oi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new Bt(mt.FAILED_PRECONDITION,rE)}))}Xi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Mg(e).put(X0,n)}static v(){return gd.v()}Zi(e){const n=Mg(e);return n.get(X0).next((r=>this.es(r)?(Nt(Wf,"Releasing primary lease."),n.delete(X0)):Je.resolve()))}rs(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(Wa(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Li=()=>{this.Mi.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.Wi())))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground=this.document.visibilityState==="visible")}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){typeof this.window?.addEventListener=="function"&&(this.Bi=()=>{this.cs();const e=/(?:Version|Mobile)\/1[456]/;vO()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(e){try{const n=this.Ki?.getItem(this._s(e))!==null;return Nt(Wf,`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(n){return Wa(Wf,"Failed to get zombied client id.",n),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(e){Wa("Failed to set zombie client id.",e)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch{}}_s(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Mg(t){return Mi(t,Ex)}function Kv(t){return Mi(t,lm)}function Wre(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}class HA{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=nr(),s=nr();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new HA(e,n.fromCache,r,s)}}class Kre{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class F9{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return vO()?8:b7(Di())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next((a=>{i.result=a})).next((()=>{if(!i.result)return this.ws(e,n,s,r).next((a=>{i.result=a}))})).next((()=>{if(i.result)return;const a=new Kre;return this.Ss(e,n,a).next((o=>{if(i.result=o,this.Vs)return this.bs(e,n,a,o.size)}))})).next((()=>i.result))}bs(e,n,r,s){return r.documentReadCount<this.fs?(dp()<=hr.DEBUG&&Nt("QueryEngine","SDK will not create cache indexes for query:",hp(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Je.resolve()):(dp()<=hr.DEBUG&&Nt("QueryEngine","Query:",hp(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(dp()<=hr.DEBUG&&Nt("QueryEngine","The SDK decides to create cache indexes for query:",hp(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Sl(n))):Je.resolve())}ys(e,n){if(sR(n))return Je.resolve(null);let r=Sl(n);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(n.limit!==null&&s===1&&(n=mT(n,null,"F"),r=Sl(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((i=>{const a=nr(...i);return this.ps.getDocuments(e,a).next((o=>this.indexManager.getMinOffset(e,r).next((c=>{const u=this.Ds(n,o);return this.Cs(n,u,a,c.readTime)?this.ys(e,mT(n,null,"F")):this.vs(e,u,n,c)}))))})))))}ws(e,n,r,s){return sR(n)||s.isEqual(An.min())?Je.resolve(null):this.ps.getDocuments(e,r).next((i=>{const a=this.Ds(n,i);return this.Cs(n,a,r,s)?Je.resolve(null):(dp()<=hr.DEBUG&&Nt("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),hp(n)),this.vs(e,a,n,Kte(s,B1)).next((o=>o)))}))}Ds(e,n){let r=new $r(Y7(e));return n.forEach(((s,i)=>{Sx(e,i)&&(r=r.add(i))})),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return dp()<=hr.DEBUG&&Nt("QueryEngine","Using full collection scan to execute query:",hp(n)),this.ps.getDocumentsMatchingQuery(e,n,Jo.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next((i=>(n.forEach((a=>{i=i.insert(a.key,a)})),i)))}}const zA="LocalStore",Yre=3e8;class Xre{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new Cs(Bn),this.xs=new uf((i=>Uh(i)),Tx),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new L9(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function O9(t,e,n,r){return new Xre(t,e,n,r)}async function B9(t,e){const n=Vn(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next((i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((i=>{const a=[],o=[];let c=nr();for(const u of s){a.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}for(const u of i){o.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}return n.localDocuments.getDocuments(r,c).next((u=>({Ls:u,removedBatchIds:a,addedBatchIds:o})))}))}))}function Jre(t,e){const n=Vn(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(o,c,u,d){const p=u.batch,g=p.keys();let x=Je.resolve();return g.forEach((w=>{x=x.next((()=>d.getEntry(c,w))).next((y=>{const S=u.docVersions.get(w);bn(S!==null,48541),y.version.compareTo(S)<0&&(p.applyToRemoteDocument(y,u),y.isValidDocument()&&(y.setReadTime(u.commitVersion),d.addEntry(y)))}))})),x.next((()=>o.mutationQueue.removeMutationBatch(c,p)))})(n,r,e,i).next((()=>i.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(o){let c=nr();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(c=c.add(o.batch.mutations[u].key));return c})(e)))).next((()=>n.localDocuments.getDocuments(r,s)))}))}function V9(t){const e=Vn(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function Qre(t,e){const n=Vn(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(i=>{const a=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const o=[];e.targetChanges.forEach(((d,p)=>{const g=s.get(p);if(!g)return;o.push(n.Pi.removeMatchingKeys(i,d.removedDocuments,p).next((()=>n.Pi.addMatchingKeys(i,d.addedDocuments,p))));let x=g.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(p)!==null?x=x.withResumeToken(gi.EMPTY_BYTE_STRING,An.min()).withLastLimboFreeSnapshotVersion(An.min()):d.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(d.resumeToken,r)),s=s.insert(p,x),(function(y,S,C){return y.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=Yre?!0:C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0})(g,x,d)&&o.push(n.Pi.updateTargetData(i,x))}));let c=Ko(),u=nr();if(e.documentUpdates.forEach((d=>{e.resolvedLimboDocuments.has(d)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))})),o.push(Zre(i,a,e.documentUpdates).next((d=>{c=d.ks,u=d.qs}))),!r.isEqual(An.min())){const d=n.Pi.getLastRemoteSnapshotVersion(i).next((p=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r)));o.push(d)}return Je.waitFor(o).next((()=>a.apply(i))).next((()=>n.localDocuments.getLocalViewOfDocuments(i,c,u))).next((()=>c))})).then((i=>(n.Ms=s,i)))}function Zre(t,e,n){let r=nr(),s=nr();return n.forEach((i=>r=r.add(i))),e.getEntries(t,r).next((i=>{let a=Ko();return n.forEach(((o,c)=>{const u=i.get(o);c.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(o)),c.isNoDocument()&&c.version.isEqual(An.min())?(e.removeEntry(o,c.readTime),a=a.insert(o,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),a=a.insert(o,c)):Nt(zA,"Ignoring outdated watch update for ",o,". Current version:",u.version," Watch version:",c.version)})),{ks:a,qs:s}}))}function ese(t,e){const n=Vn(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Sh),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function tse(t,e){const n=Vn(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return n.Pi.getTargetData(r,e).next((i=>i?(s=i,Je.resolve(s)):n.Pi.allocateTargetId(r).next((a=>(s=new zu(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function ET(t,e,n){const r=Vn(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,(a=>r.persistence.referenceDelegate.removeTarget(a,s)))}catch(a){if(!Fd(a))throw a;Nt(zA,`Failed to update sequence numbers for target ${e}: ${a}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function LR(t,e,n){const r=Vn(t);let s=An.min(),i=nr();return r.persistence.runTransaction("Execute query","readwrite",(a=>(function(c,u,d){const p=Vn(c),g=p.xs.get(d);return g!==void 0?Je.resolve(p.Ms.get(g)):p.Pi.getTargetData(u,d)})(r,a,Sl(e)).next((o=>{if(o)return s=o.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(a,o.targetId).next((c=>{i=c}))})).next((()=>r.Fs.getDocumentsMatchingQuery(a,e,n?s:An.min(),n?i:nr()))).next((o=>(nse(r,jne(e),o),{documents:o,Qs:i})))))}function nse(t,e,n){let r=t.Os.get(e)||An.min();n.forEach(((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)})),t.Os.set(e,r)}class FR{constructor(){this.activeTargetIds=Wne()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class U9{constructor(){this.Mo=new FR,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new FR,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class rse{Oo(e){}shutdown(){}}const OR="ConnectivityMonitor";class BR{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Nt(OR,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Nt(OR,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Yv=null;function TT(){return Yv===null?Yv=(function(){return 268435456+Math.round(2147483648*Math.random())})():Yv++,"0x"+Yv.toString(16)}const sE="RestConnection",sse={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ise{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===A2?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const a=TT(),o=this.zo(e,n.toUriEncodedString());Nt(sE,`Sending RPC '${e}' ${a}:`,o,r);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,s,i);const{host:u}=new URL(o),d=Am(u);return this.Jo(e,o,c,r,d).then((p=>(Nt(sE,`Received RPC '${e}' ${a}: `,p),p)),(p=>{throw Bh(sE,`RPC '${e}' ${a} failed with error: `,p,"url: ",o,"request:",r),p}))}Ho(e,n,r,s,i,a){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Im})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((s,i)=>e[i]=s)),r&&r.headers.forEach(((s,i)=>e[i]=s))}zo(e,n){const r=sse[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}class ase{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const ba="WebChannelConnection";class ose extends ise{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const a=TT();return new Promise(((o,c)=>{const u=new o7;u.setWithCredentials(!0),u.listenOnce(l7.COMPLETE,(()=>{try{switch(u.getLastErrorCode()){case Oy.NO_ERROR:const p=u.getResponseJson();Nt(ba,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(p)),o(p);break;case Oy.TIMEOUT:Nt(ba,`RPC '${e}' ${a} timed out`),c(new Bt(mt.DEADLINE_EXCEEDED,"Request time out"));break;case Oy.HTTP_ERROR:const g=u.getStatus();if(Nt(ba,`RPC '${e}' ${a} failed with status:`,g,"response text:",u.getResponseText()),g>0){let x=u.getResponseJson();Array.isArray(x)&&(x=x[0]);const w=x?.error;if(w&&w.status&&w.message){const y=(function(C){const F=C.toLowerCase().replace(/_/g,"-");return Object.values(mt).indexOf(F)>=0?F:mt.UNKNOWN})(w.status);c(new Bt(y,w.message))}else c(new Bt(mt.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new Bt(mt.UNAVAILABLE,"Connection failed."));break;default:un(9055,{l_:e,streamId:a,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{Nt(ba,`RPC '${e}' ${a} completed.`)}}));const d=JSON.stringify(s);Nt(ba,`RPC '${e}' ${a} sending request:`,s),u.send(n,"POST",d,r,15)}))}T_(e,n,r){const s=TT(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=f7(),o=u7(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const d=i.join("");Nt(ba,`Creating RPC '${e}' stream ${s}: ${d}`,c);const p=a.createWebChannel(d,c);this.I_(p);let g=!1,x=!1;const w=new ase({Yo:S=>{x?Nt(ba,`Not sending because RPC '${e}' stream ${s} is closed:`,S):(g||(Nt(ba,`Opening RPC '${e}' stream ${s} transport.`),p.open(),g=!0),Nt(ba,`RPC '${e}' stream ${s} sending:`,S),p.send(S))},Zo:()=>p.close()}),y=(S,C,F)=>{S.listen(C,(I=>{try{F(I)}catch(D){setTimeout((()=>{throw D}),0)}}))};return y(p,zg.EventType.OPEN,(()=>{x||(Nt(ba,`RPC '${e}' stream ${s} transport opened.`),w.o_())})),y(p,zg.EventType.CLOSE,(()=>{x||(x=!0,Nt(ba,`RPC '${e}' stream ${s} transport closed`),w.a_(),this.E_(p))})),y(p,zg.EventType.ERROR,(S=>{x||(x=!0,Bh(ba,`RPC '${e}' stream ${s} transport errored. Name:`,S.name,"Message:",S.message),w.a_(new Bt(mt.UNAVAILABLE,"The operation could not be completed")))})),y(p,zg.EventType.MESSAGE,(S=>{if(!x){const C=S.data[0];bn(!!C,16349);const F=C,I=F?.error||F[0]?.error;if(I){Nt(ba,`RPC '${e}' stream ${s} received error:`,I);const D=I.status;let z=(function(M){const R=fi[M];if(R!==void 0)return l9(R)})(D),G=I.message;z===void 0&&(z=mt.INTERNAL,G="Unknown error status: "+D+" with message "+I.message),x=!0,w.a_(new Bt(z,G)),p.close()}else Nt(ba,`RPC '${e}' stream ${s} received:`,C),w.u_(C)}})),y(o,c7.STAT_EVENT,(S=>{S.stat===rT.PROXY?Nt(ba,`RPC '${e}' stream ${s} detected buffering proxy`):S.stat===rT.NOPROXY&&Nt(ba,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{w.__()}),0),w}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function lse(){return typeof window<"u"?window:null}function Wy(){return typeof document<"u"?document:null}function Bb(t){return new cre(t,!0)}class j9{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&Nt("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const VR="PersistentStream";class q9{constructor(e,n,r,s,i,a,o,c){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new j9(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===mt.RESOURCE_EXHAUSTED?(Wa(n.toString()),Wa("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===mt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.D_===n&&this.G_(r,s)}),(r=>{e((()=>{const s=new Bt(mt.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((s=>{r((()=>this.z_(s)))})),this.stream.onMessage((s=>{r((()=>++this.F_==1?this.J_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Nt(VR,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(Nt(VR,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class cse extends q9{constructor(e,n,r,s,i,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,a),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=dre(this.serializer,e),r=(function(i){if(!("targetChange"in i))return An.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?An.min():a.readTime?Xa(a.readTime):An.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=vT(this.serializer),n.addTarget=(function(i,a){let o;const c=a.target;if(o=N2(c)?{documents:g9(i,c)}:{query:x9(i,c).ft},o.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){o.resumeToken=f9(i,a.resumeToken);const u=gT(i,a.expectedCount);u!==null&&(o.expectedCount=u)}else if(a.snapshotVersion.compareTo(An.min())>0){o.readTime=gm(i,a.snapshotVersion.toTimestamp());const u=gT(i,a.expectedCount);u!==null&&(o.expectedCount=u)}return o})(this.serializer,e);const r=pre(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=vT(this.serializer),n.removeTarget=e,this.q_(n)}}class use extends q9{constructor(e,n,r,s,i,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,a),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return bn(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,bn(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){bn(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=hre(e.writeResults,e.commitTime),r=Xa(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=vT(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>R2(this.serializer,r)))};this.q_(n)}}class fse{}class dse extends fse{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new Bt(mt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,a])=>this.connection.Go(e,xT(n,r),s,i,a))).catch((i=>{throw i.name==="FirebaseError"?(i.code===mt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Bt(mt.UNKNOWN,i.toString())}))}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,o])=>this.connection.Ho(e,xT(n,r),s,a,o,i))).catch((a=>{throw a.name==="FirebaseError"?(a.code===mt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Bt(mt.UNKNOWN,a.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class hse{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Wa(n),this.aa=!1):Nt("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const zh="RemoteStore";class pse{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo((a=>{r.enqueueAndForget((async()=>{e0(this)&&(Nt(zh,"Restarting streams for network reachability change."),await(async function(c){const u=Vn(c);u.Ea.add(4),await Nx(u),u.Ra.set("Unknown"),u.Ea.delete(4),await Vb(u)})(this))}))})),this.Ra=new hse(r,s)}}async function Vb(t){if(e0(t))for(const e of t.da)await e(!0)}async function Nx(t){for(const e of t.da)await e(!1)}function H9(t,e){const n=Vn(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),KA(n)?WA(n):Rm(n).O_()&&$A(n,e))}function GA(t,e){const n=Vn(t),r=Rm(n);n.Ia.delete(e),r.O_()&&z9(n,e),n.Ia.size===0&&(r.O_()?r.L_():e0(n)&&n.Ra.set("Unknown"))}function $A(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(An.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Rm(t).Y_(e)}function z9(t,e){t.Va.Ue(e),Rm(t).Z_(e)}function WA(t){t.Va=new ire({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Rm(t).start(),t.Ra.ua()}function KA(t){return e0(t)&&!Rm(t).x_()&&t.Ia.size>0}function e0(t){return Vn(t).Ea.size===0}function G9(t){t.Va=void 0}async function mse(t){t.Ra.set("Online")}async function gse(t){t.Ia.forEach(((e,n)=>{$A(t,e)}))}async function xse(t,e){G9(t),KA(t)?(t.Ra.ha(e),WA(t)):t.Ra.set("Unknown")}async function vse(t,e,n){if(t.Ra.set("Online"),e instanceof u9&&e.state===2&&e.cause)try{await(async function(s,i){const a=i.cause;for(const o of i.targetIds)s.Ia.has(o)&&(await s.remoteSyncer.rejectListen(o,a),s.Ia.delete(o),s.Va.removeTarget(o))})(t,e)}catch(r){Nt(zh,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await F2(t,r)}else if(e instanceof Gy?t.Va.Ze(e):e instanceof c9?t.Va.st(e):t.Va.tt(e),!n.isEqual(An.min()))try{const r=await V9(t.localStore);n.compareTo(r)>=0&&await(function(i,a){const o=i.Va.Tt(a);return o.targetChanges.forEach(((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const d=i.Ia.get(u);d&&i.Ia.set(u,d.withResumeToken(c.resumeToken,a))}})),o.targetMismatches.forEach(((c,u)=>{const d=i.Ia.get(c);if(!d)return;i.Ia.set(c,d.withResumeToken(gi.EMPTY_BYTE_STRING,d.snapshotVersion)),z9(i,c);const p=new zu(d.target,c,u,d.sequenceNumber);$A(i,p)})),i.remoteSyncer.applyRemoteEvent(o)})(t,n)}catch(r){Nt(zh,"Failed to raise snapshot:",r),await F2(t,r)}}async function F2(t,e,n){if(!Fd(e))throw e;t.Ea.add(1),await Nx(t),t.Ra.set("Offline"),n||(n=()=>V9(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Nt(zh,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Vb(t)}))}function $9(t,e){return e().catch((n=>F2(t,n,e)))}async function Ix(t){const e=Vn(t),n=Sd(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Sh;for(;yse(e);)try{const s=await ese(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,bse(e,s)}catch(s){await F2(e,s)}W9(e)&&K9(e)}function yse(t){return e0(t)&&t.Ta.length<10}function bse(t,e){t.Ta.push(e);const n=Sd(t);n.O_()&&n.X_&&n.ea(e.mutations)}function W9(t){return e0(t)&&!Sd(t).x_()&&t.Ta.length>0}function K9(t){Sd(t).start()}async function wse(t){Sd(t).ra()}async function _se(t){const e=Sd(t);for(const n of t.Ta)e.ea(n.mutations)}async function Ese(t,e,n){const r=t.Ta.shift(),s=MA.from(r,e,n);await $9(t,(()=>t.remoteSyncer.applySuccessfulWrite(s))),await Ix(t)}async function Tse(t,e){e&&Sd(t).X_&&await(async function(r,s){if((function(a){return nre(a)&&a!==mt.ABORTED})(s.code)){const i=r.Ta.shift();Sd(r).B_(),await $9(r,(()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s))),await Ix(r)}})(t,e),W9(t)&&K9(t)}async function UR(t,e){const n=Vn(t);n.asyncQueue.verifyOperationInProgress(),Nt(zh,"RemoteStore received new credentials");const r=e0(n);n.Ea.add(3),await Nx(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Vb(n)}async function Sse(t,e){const n=Vn(t);e?(n.Ea.delete(2),await Vb(n)):e||(n.Ea.add(2),await Nx(n),n.Ra.set("Unknown"))}function Rm(t){return t.ma||(t.ma=(function(n,r,s){const i=Vn(n);return i.sa(),new cse(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)})(t.datastore,t.asyncQueue,{Xo:mse.bind(null,t),t_:gse.bind(null,t),r_:xse.bind(null,t),H_:vse.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),KA(t)?WA(t):t.Ra.set("Unknown")):(await t.ma.stop(),G9(t))}))),t.ma}function Sd(t){return t.fa||(t.fa=(function(n,r,s){const i=Vn(n);return i.sa(),new use(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:wse.bind(null,t),r_:Tse.bind(null,t),ta:_se.bind(null,t),na:Ese.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Ix(t)):(await t.fa.stop(),t.Ta.length>0&&(Nt(zh,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class YA{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Jc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((a=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const a=Date.now()+r,o=new YA(e,n,a,s,i);return o.start(r),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Bt(mt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function XA(t,e){if(Wa("AsyncQueue",`${e}: ${t}`),Fd(t))return new Bt(mt.UNAVAILABLE,`${e}: ${t}`);throw t}class Vp{static emptySet(e){return new Vp(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Vt.comparator(n.key,r.key):(n,r)=>Vt.comparator(n.key,r.key),this.keyedMap=Gg(),this.sortedSet=new Cs(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Vp)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Vp;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class jR{constructor(){this.ga=new Cs(Vt.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):un(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class xm{constructor(e,n,r,s,i,a,o,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,i){const a=[];return n.forEach((o=>{a.push({type:0,doc:o})})),new xm(e,n,Vp.emptySet(n),a,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Rb(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}class Ase{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class Cse{constructor(){this.queries=qR(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=Vn(n),i=s.queries;s.queries=qR(),i.forEach(((a,o)=>{for(const c of o.Sa)c.onError(r)}))})(this,new Bt(mt.ABORTED,"Firestore shutting down"))}}function qR(){return new uf((t=>K7(t)),Rb)}async function Y9(t,e){const n=Vn(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new Ase,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(a){const o=XA(a,`Initialization of query '${hp(e.query)}' failed`);return void e.onError(o)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&JA(n)}async function X9(t,e){const n=Vn(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const a=i.Sa.indexOf(e);a>=0&&(i.Sa.splice(a,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Nse(t,e){const n=Vn(t);let r=!1;for(const s of e){const i=s.query,a=n.queries.get(i);if(a){for(const o of a.Sa)o.Fa(s)&&(r=!0);a.wa=s}}r&&JA(n)}function Ise(t,e,n){const r=Vn(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function JA(t){t.Ca.forEach((e=>{e.next()}))}var ST,HR;(HR=ST||(ST={})).Ma="default",HR.Cache="cache";class J9{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new xm(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=xm.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==ST.Cache}}class Q9{constructor(e){this.key=e}}class Z9{constructor(e){this.key=e}}class kse{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=nr(),this.mutatedKeys=nr(),this.eu=Y7(e),this.tu=new Vp(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new jR,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,a=s,o=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((d,p)=>{const g=s.get(d),x=Sx(this.query,p)?p:null,w=!!g&&this.mutatedKeys.has(g.key),y=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let S=!1;g&&x?g.data.isEqual(x.data)?w!==y&&(r.track({type:3,doc:x}),S=!0):this.su(g,x)||(r.track({type:2,doc:x}),S=!0,(c&&this.eu(x,c)>0||u&&this.eu(x,u)<0)&&(o=!0)):!g&&x?(r.track({type:0,doc:x}),S=!0):g&&!x&&(r.track({type:1,doc:g}),S=!0,(c||u)&&(o=!0)),S&&(x?(a=a.add(x),i=y?i.add(d):i.delete(d)):(a=a.delete(d),i=i.delete(d)))})),this.query.limit!==null)for(;a.size>this.query.limit;){const d=this.query.limitType==="F"?a.last():a.first();a=a.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{tu:a,iu:r,Cs:o,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort(((d,p)=>(function(x,w){const y=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return un(20277,{Rt:S})}};return y(x)-y(w)})(d.type,p.type)||this.eu(d.doc,p.doc))),this.ou(r),s=s??!1;const o=n&&!s?this._u():[],c=this.Xa.size===0&&this.current&&!s?1:0,u=c!==this.Za;return this.Za=c,a.length!==0||u?{snapshot:new xm(this.query,e.tu,i,a,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new jR,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=nr(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new Z9(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new Q9(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=nr();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return xm.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const QA="SyncEngine";class Rse{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Pse{constructor(e){this.key=e,this.hu=!1}}class Dse{constructor(e,n,r,s,i,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new uf((o=>K7(o)),Rb),this.Iu=new Map,this.Eu=new Set,this.du=new Cs(Vt.comparator),this.Au=new Map,this.Ru=new UA,this.Vu={},this.mu=new Map,this.fu=Hh.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Mse(t,e,n=!0){const r=iB(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await eB(r,e,n,!0),s}async function Lse(t,e){const n=iB(t);await eB(n,e,!0,!1)}async function eB(t,e,n,r){const s=await tse(t.localStore,Sl(e)),i=s.targetId,a=t.sharedClientState.addLocalQueryTarget(i,n);let o;return r&&(o=await Fse(t,e,i,a==="current",s.resumeToken)),t.isPrimaryClient&&n&&H9(t.remoteStore,s),o}async function Fse(t,e,n,r,s){t.pu=(p,g,x)=>(async function(y,S,C,F){let I=S.view.ru(C);I.Cs&&(I=await LR(y.localStore,S.query,!1).then((({documents:P})=>S.view.ru(P,I))));const D=F&&F.targetChanges.get(S.targetId),z=F&&F.targetMismatches.get(S.targetId)!=null,G=S.view.applyChanges(I,y.isPrimaryClient,D,z);return GR(y,S.targetId,G.au),G.snapshot})(t,p,g,x);const i=await LR(t.localStore,e,!0),a=new kse(e,i.Qs),o=a.ru(i.documents),c=Cx.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=a.applyChanges(o,t.isPrimaryClient,c);GR(t,n,u.au);const d=new Rse(e,n,a);return t.Tu.set(e,d),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function Ose(t,e,n){const r=Vn(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter((a=>!Rb(a,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await ET(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),n&&GA(r.remoteStore,s.targetId),AT(r,s.targetId)})).catch(Zh)):(AT(r,s.targetId),await ET(r.localStore,s.targetId,!0))}async function Bse(t,e){const n=Vn(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),GA(n.remoteStore,r.targetId))}async function Vse(t,e,n){const r=aB(t);try{const s=await(function(a,o){const c=Vn(a),u=Gr.now(),d=o.reduce(((x,w)=>x.add(w.key)),nr());let p,g;return c.persistence.runTransaction("Locally write mutations","readwrite",(x=>{let w=Ko(),y=nr();return c.Ns.getEntries(x,d).next((S=>{w=S,w.forEach(((C,F)=>{F.isValidDocument()||(y=y.add(C))}))})).next((()=>c.localDocuments.getOverlayedDocuments(x,w))).next((S=>{p=S;const C=[];for(const F of o){const I=ere(F,p.get(F.key).overlayedDocument);I!=null&&C.push(new ff(F.key,I,U7(I.value.mapValue),fa.exists(!0)))}return c.mutationQueue.addMutationBatch(x,u,C,o)})).next((S=>{g=S;const C=S.applyToLocalDocumentSet(p,y);return c.documentOverlayCache.saveOverlays(x,S.batchId,C)}))})).then((()=>({batchId:g.batchId,changes:J7(p)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),(function(a,o,c){let u=a.Vu[a.currentUser.toKey()];u||(u=new Cs(Bn)),u=u.insert(o,c),a.Vu[a.currentUser.toKey()]=u})(r,s.batchId,n),await kx(r,s.changes),await Ix(r.remoteStore)}catch(s){const i=XA(s,"Failed to persist write");n.reject(i)}}async function tB(t,e){const n=Vn(t);try{const r=await Qre(n.localStore,e);e.targetChanges.forEach(((s,i)=>{const a=n.Au.get(i);a&&(bn(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?a.hu=!0:s.modifiedDocuments.size>0?bn(a.hu,14607):s.removedDocuments.size>0&&(bn(a.hu,42227),a.hu=!1))})),await kx(n,r,e)}catch(r){await Zh(r)}}function zR(t,e,n){const r=Vn(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach(((i,a)=>{const o=a.view.va(e);o.snapshot&&s.push(o.snapshot)})),(function(a,o){const c=Vn(a);c.onlineState=o;let u=!1;c.queries.forEach(((d,p)=>{for(const g of p.Sa)g.va(o)&&(u=!0)})),u&&JA(c)})(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Use(t,e,n){const r=Vn(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let a=new Cs(Vt.comparator);a=a.insert(i,$s.newNoDocument(i,An.min()));const o=nr().add(i),c=new Mb(An.min(),new Map,new Cs(Bn),a,o);await tB(r,c),r.du=r.du.remove(i),r.Au.delete(e),ZA(r)}else await ET(r.localStore,e,!1).then((()=>AT(r,e,n))).catch(Zh)}async function jse(t,e){const n=Vn(t),r=e.batch.batchId;try{const s=await Jre(n.localStore,e);rB(n,r,null),nB(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await kx(n,s)}catch(s){await Zh(s)}}async function qse(t,e,n){const r=Vn(t);try{const s=await(function(a,o){const c=Vn(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",(u=>{let d;return c.mutationQueue.lookupMutationBatch(u,o).next((p=>(bn(p!==null,37113),d=p.keys(),c.mutationQueue.removeMutationBatch(u,p)))).next((()=>c.mutationQueue.performConsistencyCheck(u))).next((()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,o))).next((()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d))).next((()=>c.localDocuments.getDocuments(u,d)))}))})(r.localStore,e);rB(r,e,n),nB(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await kx(r,s)}catch(s){await Zh(s)}}function nB(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function rB(t,e,n){const r=Vn(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function AT(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||sB(t,r)}))}function sB(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(GA(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),ZA(t))}function GR(t,e,n){for(const r of n)r instanceof Q9?(t.Ru.addReference(r.key,e),Hse(t,r)):r instanceof Z9?(Nt(QA,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||sB(t,r.key)):un(19791,{wu:r})}function Hse(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Nt(QA,"New document in limbo: "+n),t.Eu.add(r),ZA(t))}function ZA(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Vt(Vr.fromString(e)),r=t.fu.next();t.Au.set(r,new Pse(n)),t.du=t.du.insert(n,r),H9(t.remoteStore,new zu(Sl(kb(n.path)),r,"TargetPurposeLimboResolution",Tl.ce))}}async function kx(t,e,n){const r=Vn(t),s=[],i=[],a=[];r.Tu.isEmpty()||(r.Tu.forEach(((o,c)=>{a.push(r.pu(c,e,n).then((u=>{if((u||n)&&r.isPrimaryClient){const d=u?!u.fromCache:n?.targetChanges.get(c.targetId)?.current;r.sharedClientState.updateQueryState(c.targetId,d?"current":"not-current")}if(u){s.push(u);const d=HA.As(c.targetId,u);i.push(d)}})))})),await Promise.all(a),r.Pu.H_(s),await(async function(c,u){const d=Vn(c);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",(p=>Je.forEach(u,(g=>Je.forEach(g.Es,(x=>d.persistence.referenceDelegate.addReference(p,g.targetId,x))).next((()=>Je.forEach(g.ds,(x=>d.persistence.referenceDelegate.removeReference(p,g.targetId,x)))))))))}catch(p){if(!Fd(p))throw p;Nt(zA,"Failed to update sequence numbers: "+p)}for(const p of u){const g=p.targetId;if(!p.fromCache){const x=d.Ms.get(g),w=x.snapshotVersion,y=x.withLastLimboFreeSnapshotVersion(w);d.Ms=d.Ms.insert(g,y)}}})(r.localStore,i))}async function zse(t,e){const n=Vn(t);if(!n.currentUser.isEqual(e)){Nt(QA,"User change. New user:",e.toKey());const r=await B9(n.localStore,e);n.currentUser=e,(function(i,a){i.mu.forEach((o=>{o.forEach((c=>{c.reject(new Bt(mt.CANCELLED,a))}))})),i.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await kx(n,r.Ls)}}function Gse(t,e){const n=Vn(t),r=n.Au.get(e);if(r&&r.hu)return nr().add(r.key);{let s=nr();const i=n.Iu.get(e);if(!i)return s;for(const a of i){const o=n.Tu.get(a);s=s.unionWith(o.view.nu)}return s}}function iB(t){const e=Vn(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=tB.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Gse.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Use.bind(null,e),e.Pu.H_=Nse.bind(null,e.eventManager),e.Pu.yu=Ise.bind(null,e.eventManager),e}function aB(t){const e=Vn(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=jse.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=qse.bind(null,e),e}class K1{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Bb(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return O9(this.persistence,new F9,e.initialUser,this.serializer)}Cu(e){return new jA(Ob.mi,this.serializer)}Du(e){return new U9}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}K1.provider={build:()=>new K1};class $se extends K1{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){bn(this.persistence.referenceDelegate instanceof L2,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new R9(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Aa.withCacheSize(this.cacheSizeBytes):Aa.DEFAULT;return new jA((r=>L2.mi(r,n)),this.serializer)}}class Wse extends K1{constructor(e,n,r){super(),this.xu=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await aB(this.xu.syncEngine),await Ix(this.xu.remoteStore),await this.persistence.Ji((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return O9(this.persistence,new F9,e.initialUser,this.serializer)}Fu(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new R9(r,e.asyncQueue,n)}Mu(e,n){const r=new Qte(n,this.persistence);return new Jte(e.asyncQueue,r)}Cu(e){const n=Wre(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Aa.withCacheSize(this.cacheSizeBytes):Aa.DEFAULT;return new qA(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,lse(),Wy(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new U9}}class O2{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>zR(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=zse.bind(null,this.syncEngine),await Sse(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Cse})()}createDatastore(e){const n=Bb(e.databaseInfo.databaseId),r=(function(i){return new ose(i)})(e.databaseInfo);return(function(i,a,o,c){return new dse(i,a,o,c)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,s,i,a,o){return new pse(r,s,i,a,o)})(this.localStore,this.datastore,e.asyncQueue,(n=>zR(this.syncEngine,n,0)),(function(){return BR.v()?new BR:new rse})())}createSyncEngine(e,n){return(function(s,i,a,o,c,u,d){const p=new Dse(s,i,a,o,c,u);return d&&(p.gu=!0),p})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Vn(n);Nt(zh,"RemoteStore shutting down."),r.Ea.add(5),await Nx(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}O2.provider={build:()=>new O2};class oB{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Wa("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Ad="FirestoreClient";class Kse{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=la.UNAUTHENTICATED,this.clientId=yA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,(async a=>{Nt(Ad,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a})),this.appCheckCredentials.start(r,(a=>(Nt(Ad,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Jc;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=XA(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function iE(t,e){t.asyncQueue.verifyOperationInProgress(),Nt(Ad,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async s=>{r.isEqual(s)||(await B9(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function $R(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Yse(t);Nt(Ad,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>UR(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,s)=>UR(e.remoteStore,s))),t._onlineComponents=e}async function Yse(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Nt(Ad,"Using user provided OfflineComponentProvider");try{await iE(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(s){return s.name==="FirebaseError"?s.code===mt.FAILED_PRECONDITION||s.code===mt.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(n))throw n;Bh("Error using user provided cache. Falling back to memory cache: "+n),await iE(t,new K1)}}else Nt(Ad,"Using default OfflineComponentProvider"),await iE(t,new $se(void 0));return t._offlineComponents}async function lB(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Nt(Ad,"Using user provided OnlineComponentProvider"),await $R(t,t._uninitializedComponentsProvider._online)):(Nt(Ad,"Using default OnlineComponentProvider"),await $R(t,new O2))),t._onlineComponents}function Xse(t){return lB(t).then((e=>e.syncEngine))}async function cB(t){const e=await lB(t),n=e.eventManager;return n.onListen=Mse.bind(null,e.syncEngine),n.onUnlisten=Ose.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Lse.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Bse.bind(null,e.syncEngine),n}function Jse(t,e,n={}){const r=new Jc;return t.asyncQueue.enqueueAndForget((async()=>(function(i,a,o,c,u){const d=new oB({next:g=>{d.Nu(),a.enqueueAndForget((()=>X9(i,p)));const x=g.docs.has(o);!x&&g.fromCache?u.reject(new Bt(mt.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&g.fromCache&&c&&c.source==="server"?u.reject(new Bt(mt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(g)},error:g=>u.reject(g)}),p=new J9(kb(o.path),d,{includeMetadataChanges:!0,qa:!0});return Y9(i,p)})(await cB(t),t.asyncQueue,e,n,r))),r.promise}function Qse(t,e,n={}){const r=new Jc;return t.asyncQueue.enqueueAndForget((async()=>(function(i,a,o,c,u){const d=new oB({next:g=>{d.Nu(),a.enqueueAndForget((()=>X9(i,p))),g.fromCache&&c.source==="server"?u.reject(new Bt(mt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(g)},error:g=>u.reject(g)}),p=new J9(o,d,{includeMetadataChanges:!0,qa:!0});return Y9(i,p)})(await cB(t),t.asyncQueue,e,n,r))),r.promise}function uB(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const WR=new Map;const fB="firestore.googleapis.com",KR=!0;class YR{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Bt(mt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=fB,this.ssl=KR}else this.host=e.host,this.ssl=e.ssl??KR;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=C9;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<kre)throw new Bt(mt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Wte("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=uB(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Bt(mt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Bt(mt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Bt(mt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ub{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new YR({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Bt(mt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Bt(mt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new YR(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new Ote;switch(r.type){case"firstParty":return new jte(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Bt(mt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=WR.get(n);r&&(Nt("ComponentProvider","Removing Datastore"),WR.delete(n),r.terminate())})(this),Promise.resolve()}}function Zse(t,e,n,r={}){t=su(t,Ub);const s=Am(e),i=t._getSettings(),a={...i,emulatorOptions:t._getEmulatorOptions()},o=`${e}:${n}`;s&&(mO(`https://${o}`),gO("Firestore",!0)),i.host!==fB&&i.host!==o&&Bh("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...i,host:o,ssl:s,emulatorOptions:r};if(!Dh(c,a)&&(t._setSettings(c),r.mockUserToken)){let u,d;if(typeof r.mockUserToken=="string")u=r.mockUserToken,d=la.MOCK_USER;else{u=YJ(r.mockUserToken,t._app?.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new Bt(mt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new la(p)}t._authCredentials=new Bte(new h7(u,d))}}class jb{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new jb(this.firestore,e,this._query)}}class ki{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new xd(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ki(this.firestore,e,this._key)}toJSON(){return{type:ki._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(_x(n,ki._jsonSchema))return new ki(e,r||null,new Vt(Vr.fromString(n.referencePath)))}}ki._jsonSchemaVersion="firestore/documentReference/1.0",ki._jsonSchema={type:mi("string",ki._jsonSchemaVersion),referencePath:mi("string")};class xd extends jb{constructor(e,n,r){super(e,n,kb(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ki(this.firestore,null,new Vt(e))}withConverter(e){return new xd(this.firestore,e,this._path)}}function eie(t,e,...n){if(t=Xi(t),m7("collection","path",e),t instanceof Ub){const r=Vr.fromString(e,...n);return V3(r),new xd(t,null,r)}{if(!(t instanceof ki||t instanceof xd))throw new Bt(mt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Vr.fromString(e,...n));return V3(r),new xd(t.firestore,null,r)}}function Ip(t,e,...n){if(t=Xi(t),arguments.length===1&&(e=yA.newId()),m7("doc","path",e),t instanceof Ub){const r=Vr.fromString(e,...n);return B3(r),new ki(t,null,new Vt(r))}{if(!(t instanceof ki||t instanceof xd))throw new Bt(mt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Vr.fromString(e,...n));return B3(r),new ki(t.firestore,t instanceof xd?t.converter:null,new Vt(r))}}const XR="AsyncQueue";class JR{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new j9(this,"async_queue_retry"),this._c=()=>{const r=Wy();r&&Nt(XR,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Wy();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Wy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Jc;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Fd(e))throw e;Nt(XR,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Wa("INTERNAL UNHANDLED ERROR: ",QR(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=YA.createAndSchedule(this,e,n,r,(i=>this.hc(i)));return this.tc.push(s),s}uc(){this.nc&&un(47125,{Pc:QR(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function QR(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class t0 extends Ub{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new JR,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new JR(e),this._firestoreClient=void 0,await e}}}function tie(t,e){const n=typeof t=="object"?t:cA(),r=typeof t=="string"?t:A2,s=lA(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=WJ("firestore");i&&Zse(s,...i)}return s}function qb(t){if(t._terminated)throw new Bt(mt.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||dB(t),t._firestoreClient}function dB(t){const e=t._freezeSettings(),n=(function(s,i,a,o){return new Cne(s,i,a,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,uB(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new Kse(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(s){const i=s?._online.build();return{_offline:s?._offline.build(i),_online:i}})(t._componentsProvider))}function nie(t,e){Bh("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings();return rie(t,O2.provider,{build:r=>new Wse(r,n.cacheSizeBytes,e?.forceOwnership)}),Promise.resolve()}function rie(t,e,n){if((t=su(t,t0))._firestoreClient||t._terminated)throw new Bt(mt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new Bt(mt.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:n},dB(t)}class _l{constructor(e){this._byteString=e}static fromBase64String(e){try{return new _l(gi.fromBase64String(e))}catch(n){throw new Bt(mt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new _l(gi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:_l._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(_x(e,_l._jsonSchema))return _l.fromBase64String(e.bytes)}}_l._jsonSchemaVersion="firestore/bytes/1.0",_l._jsonSchema={type:mi("string",_l._jsonSchemaVersion),bytes:mi("string")};class Hb{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Bt(mt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ls(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class zb{constructor(e){this._methodName=e}}class Qc{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Bt(mt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Bt(mt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Bn(this._lat,e._lat)||Bn(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Qc._jsonSchemaVersion}}static fromJSON(e){if(_x(e,Qc._jsonSchema))return new Qc(e.latitude,e.longitude)}}Qc._jsonSchemaVersion="firestore/geoPoint/1.0",Qc._jsonSchema={type:mi("string",Qc._jsonSchemaVersion),latitude:mi("number"),longitude:mi("number")};class Zc{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Zc._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(_x(e,Zc._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Zc(e.vectorValues);throw new Bt(mt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Zc._jsonSchemaVersion="firestore/vectorValue/1.0",Zc._jsonSchema={type:mi("string",Zc._jsonSchemaVersion),vectorValues:mi("object")};const sie=/^__.*__$/;class iie{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ff(e,this.data,this.fieldMask,n,this.fieldTransforms):new km(e,this.data,n,this.fieldTransforms)}}class hB{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ff(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function pB(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw un(40011,{Ac:t})}}class eC{constructor(e,n,r,s,i,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new eC({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return B2(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(pB(this.Ac)&&sie.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class aie{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Bb(e)}Cc(e,n,r,s=!1){return new eC({Ac:e,methodName:n,Dc:r,path:Ls.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function mB(t){const e=t._freezeSettings(),n=Bb(t._databaseId);return new aie(t._databaseId,!!e.ignoreUndefinedProperties,n)}function gB(t,e,n,r,s,i={}){const a=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);nC("Data must be an object, but it was:",a,r);const o=xB(r,a);let c,u;if(i.merge)c=new So(a.fieldMask),u=a.fieldTransforms;else if(i.mergeFields){const d=[];for(const p of i.mergeFields){const g=CT(e,p,n);if(!a.contains(g))throw new Bt(mt.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);yB(d,g)||d.push(g)}c=new So(d),u=a.fieldTransforms.filter((p=>c.covers(p.field)))}else c=null,u=a.fieldTransforms;return new iie(new Na(o),c,u)}class Gb extends zb{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Gb}}class tC extends zb{_toFieldTransform(e){return new s9(e.path,new hm)}isEqual(e){return e instanceof tC}}function oie(t,e,n,r){const s=t.Cc(1,e,n);nC("Data must be an object, but it was:",s,r);const i=[],a=Na.empty();Od(r,((c,u)=>{const d=rC(e,c,n);u=Xi(u);const p=s.yc(d);if(u instanceof Gb)i.push(d);else{const g=$b(u,p);g!=null&&(i.push(d),a.set(d,g))}}));const o=new So(i);return new hB(a,o,s.fieldTransforms)}function lie(t,e,n,r,s,i){const a=t.Cc(1,e,n),o=[CT(e,r,n)],c=[s];if(i.length%2!=0)throw new Bt(mt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<i.length;g+=2)o.push(CT(e,i[g])),c.push(i[g+1]);const u=[],d=Na.empty();for(let g=o.length-1;g>=0;--g)if(!yB(u,o[g])){const x=o[g];let w=c[g];w=Xi(w);const y=a.yc(x);if(w instanceof Gb)u.push(x);else{const S=$b(w,y);S!=null&&(u.push(x),d.set(x,S))}}const p=new So(u);return new hB(d,p,a.fieldTransforms)}function $b(t,e){if(vB(t=Xi(t)))return nC("Unsupported field value:",e,t),xB(t,e);if(t instanceof zb)return(function(r,s){if(!pB(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,s){const i=[];let a=0;for(const o of r){let c=$b(o,s.wc(a));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),a++}return{arrayValue:{values:i}}})(t,e)}return(function(r,s){if((r=Xi(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Kne(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Gr.fromDate(r);return{timestampValue:gm(s.serializer,i)}}if(r instanceof Gr){const i=new Gr(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:gm(s.serializer,i)}}if(r instanceof Qc)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof _l)return{bytesValue:f9(s.serializer,r._byteString)};if(r instanceof ki){const i=s.databaseId,a=r.firestore._databaseId;if(!a.isEqual(i))throw s.Sc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:OA(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Zc)return(function(a,o){return{mapValue:{fields:{[NA]:{stringValue:IA},[cm]:{arrayValue:{values:a.toArray().map((u=>{if(typeof u!="number")throw o.Sc("VectorValues must only contain numeric values.");return PA(o.serializer,u)}))}}}}}})(r,s);throw s.Sc(`Unsupported field value: ${bA(r)}`)})(t,e)}function xB(t,e){const n={};return R7(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Od(t,((r,s)=>{const i=$b(s,e.mc(r));i!=null&&(n[r]=i)})),{mapValue:{fields:n}}}function vB(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Gr||t instanceof Qc||t instanceof _l||t instanceof ki||t instanceof zb||t instanceof Zc)}function nC(t,e,n){if(!vB(n)||!g7(n)){const r=bA(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function CT(t,e,n){if((e=Xi(e))instanceof Hb)return e._internalPath;if(typeof e=="string")return rC(t,e);throw B2("Field path arguments must be of type string or ",t,!1,void 0,n)}const cie=new RegExp("[~\\*/\\[\\]]");function rC(t,e,n){if(e.search(cie)>=0)throw B2(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Hb(...e.split("."))._internalPath}catch{throw B2(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function B2(t,e,n,r,s){const i=r&&!r.isEmpty(),a=s!==void 0;let o=`Function ${e}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let c="";return(i||a)&&(c+=" (found",i&&(c+=` in field ${r}`),a&&(c+=` in document ${s}`),c+=")"),new Bt(mt.INVALID_ARGUMENT,o+t+c)}function yB(t,e){return t.some((n=>n.isEqual(e)))}class bB{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new ki(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new uie(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(wB("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class uie extends bB{data(){return super.data()}}function wB(t,e){return typeof e=="string"?rC(t,e):e instanceof Hb?e._internalPath:e._delegate._internalPath}function fie(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Bt(mt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class die{convertValue(e,n="none"){switch(Ed(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ss(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(nf(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw un(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Od(e,((s,i)=>{r[s]=this.convertValue(i,n)})),r}convertVectorValue(e){const n=e.fields?.[cm].arrayValue?.values?.map((r=>Ss(r.doubleValue)));return new Zc(n)}convertGeoPoint(e){return new Qc(Ss(e.latitude),Ss(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Cb(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(z1(e));default:return null}}convertTimestamp(e){const n=tf(e);return new Gr(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Vr.fromString(e);bn(w9(r),9688,{name:e});const s=new Vh(r.get(1),r.get(3)),i=new Vt(r.popFirst(5));return s.isEqual(n)||Wa(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}function _B(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Kg{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Nh extends bB{constructor(e,n,r,s,i,a){super(e,n,r,s,a),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ky(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(wB("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Bt(mt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Nh._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Nh._jsonSchemaVersion="firestore/documentSnapshot/1.0",Nh._jsonSchema={type:mi("string",Nh._jsonSchemaVersion),bundleSource:mi("string","DocumentSnapshot"),bundleName:mi("string"),bundle:mi("string")};class Ky extends Nh{data(e={}){return super.data(e)}}class Up{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Kg(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Ky(this._firestore,this._userDataWriter,r.key,r,new Kg(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Bt(mt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(s,i){if(s._snapshot.oldDocs.isEmpty()){let a=0;return s._snapshot.docChanges.map((o=>{const c=new Ky(s._firestore,s._userDataWriter,o.doc.key,o.doc,new Kg(s._snapshot.mutatedKeys.has(o.doc.key),s._snapshot.fromCache),s.query.converter);return o.doc,{type:"added",doc:c,oldIndex:-1,newIndex:a++}}))}{let a=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((o=>i||o.type!==3)).map((o=>{const c=new Ky(s._firestore,s._userDataWriter,o.doc.key,o.doc,new Kg(s._snapshot.mutatedKeys.has(o.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,d=-1;return o.type!==0&&(u=a.indexOf(o.doc.key),a=a.delete(o.doc.key)),o.type!==1&&(a=a.add(o.doc),d=a.indexOf(o.doc.key)),{type:hie(o.type),doc:c,oldIndex:u,newIndex:d}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Bt(mt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Up._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=yA.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach((i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function hie(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return un(61501,{type:t})}}function pie(t){t=su(t,ki);const e=su(t.firestore,t0);return Jse(qb(e),t._key).then((n=>xie(e,t,n)))}Up._jsonSchemaVersion="firestore/querySnapshot/1.0",Up._jsonSchema={type:mi("string",Up._jsonSchemaVersion),bundleSource:mi("string","QuerySnapshot"),bundleName:mi("string"),bundle:mi("string")};class EB extends die{constructor(e){super(),this.firestore=e}convertBytes(e){return new _l(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ki(this.firestore,null,n)}}function mie(t){t=su(t,jb);const e=su(t.firestore,t0),n=qb(e),r=new EB(e);return fie(t._query),Qse(n,t._query).then((s=>new Up(e,r,t,s)))}function NT(t,e,n){t=su(t,ki);const r=su(t.firestore,t0),s=_B(t.converter,e,n);return sC(r,[gB(mB(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,fa.none())])}function gie(t){return sC(su(t.firestore,t0),[new Ax(t._key,fa.none())])}function sC(t,e){return(function(r,s){const i=new Jc;return r.asyncQueue.enqueueAndForget((async()=>Vse(await Xse(r),s,i))),i.promise})(qb(t),e)}function xie(t,e,n){const r=n.docs.get(e._key),s=new EB(t);return new Nh(t,s,e._key,r,new Kg(n.hasPendingWrites,n.fromCache),e.converter)}class vie{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=mB(e)}set(e,n,r){this._verifyNotCommitted();const s=aE(e,this._firestore),i=_B(s.converter,n,r),a=gB(this._dataReader,"WriteBatch.set",s._key,i,s.converter!==null,r);return this._mutations.push(a.toMutation(s._key,fa.none())),this}update(e,n,r,...s){this._verifyNotCommitted();const i=aE(e,this._firestore);let a;return a=typeof(n=Xi(n))=="string"||n instanceof Hb?lie(this._dataReader,"WriteBatch.update",i._key,n,r,s):oie(this._dataReader,"WriteBatch.update",i._key,n),this._mutations.push(a.toMutation(i._key,fa.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=aE(e,this._firestore);return this._mutations=this._mutations.concat(new Ax(n._key,fa.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Bt(mt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function aE(t,e){if((t=Xi(t)).firestore!==e)throw new Bt(mt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function yie(){return new tC("serverTimestamp")}function bie(t){return qb(t=su(t,t0)),new vie(t,(e=>sC(t,e)))}(function(e,n=!0){(function(s){Im=s})(Cm),rm(new Mh("firestore",((r,{instanceIdentifier:s,options:i})=>{const a=r.getProvider("app").getImmediate(),o=new t0(new Vte(r.getProvider("auth-internal")),new qte(a,r.getProvider("app-check-internal")),(function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Bt(mt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vh(u.options.projectId,d)})(a,s),a);return i={useFetchStreams:n,...i},o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),pd(M3,L3,e),pd(M3,L3,"esm2020")})();const wie={apiKey:"AIzaSyDOhuszbQuXpMO0WY-FXzkyY8dABjj4MHg",authDomain:"sample-firebase-ai-app-1f72d.firebaseapp.com",projectId:"sample-firebase-ai-app-1f72d",storageBucket:"sample-firebase-ai-app-1f72d.firebasestorage.app",messagingSenderId:"231225025529",appId:"1:231225025529:web:e079fe0aa1be713625d328"},TB=cZ().length?cA():EO(wie),Xv=Dte(TB),Uu=tie(TB);typeof window<"u"&&nie(Uu).catch(t=>{t.code==="failed-precondition"?console.warn("Multiple tabs open, persistence can only be enabled in one tab at a time."):t.code==="unimplemented"&&console.warn("The current browser does not support persistence.")});const SB=J.createContext(void 0);function _ie({children:t}){const[e,n]=J.useState(null),[r,s]=J.useState(!0);J.useEffect(()=>(console.log("Setting up auth state listener..."),wee(Xv,u=>{console.log("Auth state changed. User:",u?`${u.email}`:"null"),n(u),s(!1)})),[]);const i=async(c,u)=>{await vee(Xv,c,u)},a=async(c,u)=>{await xee(Xv,c,u)},o=async()=>{await _ee(Xv)};return m.jsx(SB.Provider,{value:{user:e,loading:r,signIn:i,signUp:a,signOut:o},children:t})}function Rx(){const t=J.useContext(SB);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}var Eie=(t,e,n,r,s,i,a,o)=>{let c=document.documentElement,u=["light","dark"];function d(x){(Array.isArray(t)?t:[t]).forEach(w=>{let y=w==="class",S=y&&i?s.map(C=>i[C]||C):s;y?(c.classList.remove(...S),c.classList.add(i&&i[x]?i[x]:x)):c.setAttribute(w,x)}),p(x)}function p(x){o&&u.includes(x)&&(c.style.colorScheme=x)}function g(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(r)d(r);else try{let x=localStorage.getItem(e)||n,w=a&&x==="system"?g():x;d(w)}catch{}},ZR=["light","dark"],AB="(prefers-color-scheme: dark)",Tie=typeof window>"u",iC=J.createContext(void 0),Sie={setTheme:t=>{},themes:[]},CB=()=>{var t;return(t=J.useContext(iC))!=null?t:Sie},Aie=t=>J.useContext(iC)?J.createElement(J.Fragment,null,t.children):J.createElement(Nie,{...t}),Cie=["light","dark"],Nie=({forcedTheme:t,disableTransitionOnChange:e=!1,enableSystem:n=!0,enableColorScheme:r=!0,storageKey:s="theme",themes:i=Cie,defaultTheme:a=n?"system":"light",attribute:o="data-theme",value:c,children:u,nonce:d,scriptProps:p})=>{let[g,x]=J.useState(()=>kie(s,a)),[w,y]=J.useState(()=>g==="system"?oE():g),S=c?Object.values(c):i,C=J.useCallback(z=>{let G=z;if(!G)return;z==="system"&&n&&(G=oE());let P=c?c[G]:G,M=e?Rie(d):null,R=document.documentElement,U=L=>{L==="class"?(R.classList.remove(...S),P&&R.classList.add(P)):L.startsWith("data-")&&(P?R.setAttribute(L,P):R.removeAttribute(L))};if(Array.isArray(o)?o.forEach(U):U(o),r){let L=ZR.includes(a)?a:null,O=ZR.includes(G)?G:L;R.style.colorScheme=O}M?.()},[d]),F=J.useCallback(z=>{let G=typeof z=="function"?z(g):z;x(G);try{localStorage.setItem(s,G)}catch{}},[g]),I=J.useCallback(z=>{let G=oE(z);y(G),g==="system"&&n&&!t&&C("system")},[g,t]);J.useEffect(()=>{let z=window.matchMedia(AB);return z.addListener(I),I(z),()=>z.removeListener(I)},[I]),J.useEffect(()=>{let z=G=>{G.key===s&&(G.newValue?x(G.newValue):F(a))};return window.addEventListener("storage",z),()=>window.removeEventListener("storage",z)},[F]),J.useEffect(()=>{C(t??g)},[t,g]);let D=J.useMemo(()=>({theme:g,setTheme:F,forcedTheme:t,resolvedTheme:g==="system"?w:g,themes:n?[...i,"system"]:i,systemTheme:n?w:void 0}),[g,F,t,w,n,i]);return J.createElement(iC.Provider,{value:D},J.createElement(Iie,{forcedTheme:t,storageKey:s,attribute:o,enableSystem:n,enableColorScheme:r,defaultTheme:a,value:c,themes:i,nonce:d,scriptProps:p}),u)},Iie=J.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:a,themes:o,nonce:c,scriptProps:u})=>{let d=JSON.stringify([n,e,i,t,o,a,r,s]).slice(1,-1);return J.createElement("script",{...u,suppressHydrationWarning:!0,nonce:typeof window>"u"?c:"",dangerouslySetInnerHTML:{__html:`(${Eie.toString()})(${d})`}})}),kie=(t,e)=>{if(Tie)return;let n;try{n=localStorage.getItem(t)||void 0}catch{}return n||e},Rie=t=>{let e=document.createElement("style");return t&&e.setAttribute("nonce",t),e.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(e)},1)}},oE=t=>(t||(t=window.matchMedia(AB)),t.matches?"dark":"light");const Pie="modulepreload",Die=function(t,e){return new URL(t,e).href},e6={},jp=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){let u=function(d){return Promise.all(d.map(p=>Promise.resolve(p).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};const a=document.getElementsByTagName("link"),o=document.querySelector("meta[property=csp-nonce]"),c=o?.nonce||o?.getAttribute("nonce");s=u(n.map(d=>{if(d=Die(d,r),d in e6)return;e6[d]=!0;const p=d.endsWith(".css"),g=p?'[rel="stylesheet"]':"";if(r)for(let w=a.length-1;w>=0;w--){const y=a[w];if(y.href===d&&(!p||y.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${d}"]${g}`))return;const x=document.createElement("link");if(x.rel=p?"stylesheet":Pie,p||(x.as="script"),x.crossOrigin="",x.href=d,c&&x.setAttribute("nonce",c),document.head.appendChild(x),p)return new Promise((w,y)=>{x.addEventListener("load",w),x.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${d}`)))})}))}function i(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return s.then(a=>{for(const o of a||[])o.status==="rejected"&&i(o.reason);return e().catch(i)})};var vm;(function(t){t.Unimplemented="UNIMPLEMENTED",t.Unavailable="UNAVAILABLE"})(vm||(vm={}));class lE extends Error{constructor(e,n,r){super(e),this.message=e,this.code=n,this.data=r}}const Mie=t=>{var e,n;return t?.androidBridge?"android":!((n=(e=t?.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||n===void 0)&&n.bridge?"ios":"web"},Lie=t=>{const e=t.CapacitorCustomPlatform||null,n=t.Capacitor||{},r=n.Plugins=n.Plugins||{},s=()=>e!==null?e.name:Mie(t),i=()=>s()!=="web",a=p=>{const g=u.get(p);return!!(g?.platforms.has(s())||o(p))},o=p=>{var g;return(g=n.PluginHeaders)===null||g===void 0?void 0:g.find(x=>x.name===p)},c=p=>t.console.error(p),u=new Map,d=(p,g={})=>{const x=u.get(p);if(x)return console.warn(`Capacitor plugin "${p}" already registered. Cannot register plugins twice.`),x.proxy;const w=s(),y=o(p);let S;const C=async()=>(!S&&w in g?S=typeof g[w]=="function"?S=await g[w]():S=g[w]:e!==null&&!S&&"web"in g&&(S=typeof g.web=="function"?S=await g.web():S=g.web),S),F=(M,R)=>{var U,L;if(y){const O=y?.methods.find(j=>R===j.name);if(O)return O.rtype==="promise"?j=>n.nativePromise(p,R.toString(),j):(j,ie)=>n.nativeCallback(p,R.toString(),j,ie);if(M)return(U=M[R])===null||U===void 0?void 0:U.bind(M)}else{if(M)return(L=M[R])===null||L===void 0?void 0:L.bind(M);throw new lE(`"${p}" plugin is not implemented on ${w}`,vm.Unimplemented)}},I=M=>{let R;const U=(...L)=>{const O=C().then(j=>{const ie=F(j,M);if(ie){const Ee=ie(...L);return R=Ee?.remove,Ee}else throw new lE(`"${p}.${M}()" is not implemented on ${w}`,vm.Unimplemented)});return M==="addListener"&&(O.remove=async()=>R()),O};return U.toString=()=>`${M.toString()}() { [capacitor code] }`,Object.defineProperty(U,"name",{value:M,writable:!1,configurable:!1}),U},D=I("addListener"),z=I("removeListener"),G=(M,R)=>{const U=D({eventName:M},R),L=async()=>{const j=await U;z({eventName:M,callbackId:j},R)},O=new Promise(j=>U.then(()=>j({remove:L})));return O.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await L()},O},P=new Proxy({},{get(M,R){switch(R){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return y?G:D;case"removeListener":return z;default:return I(R)}}});return r[p]=P,u.set(p,{name:p,proxy:P,platforms:new Set([...Object.keys(g),...y?[w]:[]])}),P};return n.convertFileSrc||(n.convertFileSrc=p=>p),n.getPlatform=s,n.handleError=c,n.isNativePlatform=i,n.isPluginAvailable=a,n.registerPlugin=d,n.Exception=lE,n.DEBUG=!!n.DEBUG,n.isLoggingEnabled=!!n.isLoggingEnabled,n},Fie=t=>t.Capacitor=Lie(t),Gh=Fie(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),Pm=Gh.registerPlugin;class aC{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(e,n){let r=!1;this.listeners[e]||(this.listeners[e]=[],r=!0),this.listeners[e].push(n);const i=this.windowListeners[e];i&&!i.registered&&this.addWindowListener(i),r&&this.sendRetainedArgumentsForEvent(e);const a=async()=>this.removeListener(e,n);return Promise.resolve({remove:a})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,n,r){const s=this.listeners[e];if(!s){if(r){let i=this.retainedEventArguments[e];i||(i=[]),i.push(n),this.retainedEventArguments[e]=i}return}s.forEach(i=>i(n))}hasListeners(e){var n;return!!(!((n=this.listeners[e])===null||n===void 0)&&n.length)}registerWindowListener(e,n){this.windowListeners[n]={registered:!1,windowEventName:e,pluginEventName:n,handler:r=>{this.notifyListeners(n,r)}}}unimplemented(e="not implemented"){return new Gh.Exception(e,vm.Unimplemented)}unavailable(e="not available"){return new Gh.Exception(e,vm.Unavailable)}async removeListener(e,n){const r=this.listeners[e];if(!r)return;const s=r.indexOf(n);this.listeners[e].splice(s,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const n=this.retainedEventArguments[e];n&&(delete this.retainedEventArguments[e],n.forEach(r=>{this.notifyListeners(e,r)}))}}const t6=t=>encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),n6=t=>t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class Oie extends aC{async getCookies(){const e=document.cookie,n={};return e.split(";").forEach(r=>{if(r.length<=0)return;let[s,i]=r.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");s=n6(s).trim(),i=n6(i).trim(),n[s]=i}),n}async setCookie(e){try{const n=t6(e.key),r=t6(e.value),s=`; expires=${(e.expires||"").replace("expires=","")}`,i=(e.path||"/").replace("path=",""),a=e.url!=null&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${n}=${r||""}${s}; path=${i}; ${a};`}catch(n){return Promise.reject(n)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(n){return Promise.reject(n)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const n of e)document.cookie=n.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}Pm("CapacitorCookies",{web:()=>new Oie});const Bie=async t=>new Promise((e,n)=>{const r=new FileReader;r.onload=()=>{const s=r.result;e(s.indexOf(",")>=0?s.split(",")[1]:s)},r.onerror=s=>n(s),r.readAsDataURL(t)}),Vie=(t={})=>{const e=Object.keys(t);return Object.keys(t).map(s=>s.toLocaleLowerCase()).reduce((s,i,a)=>(s[i]=t[e[a]],s),{})},Uie=(t,e=!0)=>t?Object.entries(t).reduce((r,s)=>{const[i,a]=s;let o,c;return Array.isArray(a)?(c="",a.forEach(u=>{o=e?encodeURIComponent(u):u,c+=`${i}=${o}&`}),c.slice(0,-1)):(o=e?encodeURIComponent(a):a,c=`${i}=${o}`),`${r}&${c}`},"").substr(1):null,jie=(t,e={})=>{const n=Object.assign({method:t.method||"GET",headers:t.headers},e),s=Vie(t.headers)["content-type"]||"";if(typeof t.data=="string")n.body=t.data;else if(s.includes("application/x-www-form-urlencoded")){const i=new URLSearchParams;for(const[a,o]of Object.entries(t.data||{}))i.set(a,o);n.body=i.toString()}else if(s.includes("multipart/form-data")||t.data instanceof FormData){const i=new FormData;if(t.data instanceof FormData)t.data.forEach((o,c)=>{i.append(c,o)});else for(const o of Object.keys(t.data))i.append(o,t.data[o]);n.body=i;const a=new Headers(n.headers);a.delete("content-type"),n.headers=a}else(s.includes("application/json")||typeof t.data=="object")&&(n.body=JSON.stringify(t.data));return n};class qie extends aC{async request(e){const n=jie(e,e.webFetchExtra),r=Uie(e.params,e.shouldEncodeUrlParams),s=r?`${e.url}?${r}`:e.url,i=await fetch(s,n),a=i.headers.get("content-type")||"";let{responseType:o="text"}=i.ok?e:{};a.includes("application/json")&&(o="json");let c,u;switch(o){case"arraybuffer":case"blob":u=await i.blob(),c=await Bie(u);break;case"json":c=await i.json();break;case"document":case"text":default:c=await i.text()}const d={};return i.headers.forEach((p,g)=>{d[g]=p}),{data:c,headers:d,status:i.status,url:i.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}Pm("CapacitorHttp",{web:()=>new qie});var r6;(function(t){t.Dark="DARK",t.Light="LIGHT",t.Default="DEFAULT"})(r6||(r6={}));var s6;(function(t){t.StatusBar="StatusBar",t.NavigationBar="NavigationBar"})(s6||(s6={}));class Hie extends aC{async setStyle(){this.unavailable("not available for web")}async setAnimation(){this.unavailable("not available for web")}async show(){this.unavailable("not available for web")}async hide(){this.unavailable("not available for web")}}Pm("SystemBars",{web:()=>new Hie});var kp;(function(t){t.Heavy="HEAVY",t.Medium="MEDIUM",t.Light="LIGHT"})(kp||(kp={}));var i6;(function(t){t.Success="SUCCESS",t.Warning="WARNING",t.Error="ERROR"})(i6||(i6={}));const a6=Pm("Haptics",{web:()=>jp(()=>import("./web-DbTNvMvS.js"),[],import.meta.url).then(t=>new t.HapticsWeb)}),ri={impact:async(t=kp.Light)=>{try{await a6.impact({style:t})}catch{console.warn("Haptics not available")}},notification:async(t="success")=>{try{await a6.vibrate()}catch{console.warn("Haptics not available")}},light:()=>ri.impact(kp.Light),medium:()=>ri.impact(kp.Medium),heavy:()=>ri.impact(kp.Heavy),success:()=>ri.notification("success"),error:()=>ri.notification("error")},zie=({currentView:t,onChangeView:e,isCloudConnected:n=!1,onClose:r})=>{const{signOut:s}=Rx(),{theme:i,setTheme:a}=CB(),o=[{id:cn.DASHBOARD,label:"Home",icon:eO},{id:cn.INVOICES,label:"Invoices",icon:bd},{id:cn.INVENTORY,label:"Inventory",icon:Th},{id:cn.CREATE_INVOICE,label:"Create",icon:AX},{id:cn.EXPENSES,label:"Expenses",icon:nA},{id:cn.PAYMENTS,label:"Receipts",icon:Ph},{id:cn.CUSTOMERS,label:"People",icon:nm},{id:cn.IMPORT,label:"Import",icon:xb},{id:cn.SETTINGS,label:"Settings",icon:iO}],c=async()=>{await s()};return m.jsx(m.Fragment,{children:m.jsxs("div",{className:"flex w-72 md:w-64 bg-slate-900 text-slate-100 h-full flex-col flex-shrink-0 transition-all duration-300",children:[m.jsxs("div",{className:"p-6 flex items-center justify-between border-b border-slate-800",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"bg-white/10 p-1.5 rounded-xl backdrop-blur-md border border-white/20",children:m.jsx("img",{src:"/logo.png",alt:"BillBook Logo",className:"w-10 h-10 object-contain rounded-lg shadow-lg"})}),m.jsxs("div",{children:[m.jsx("h1",{className:"text-xl font-black tracking-tighter bg-gradient-to-r from-white to-blue-400 bg-clip-text text-transparent italic",children:"BillBook"}),m.jsx("p",{className:"text-xs text-blue-300 font-semibold",children:"by Lavneet Rathi"}),m.jsx("div",{className:"flex items-center gap-1 text-[10px] font-medium mt-0.5",children:n?m.jsxs("span",{className:"text-green-400 flex items-center gap-1",children:[m.jsx(XF,{className:"w-3 h-3"})," Cloud Sync"]}):m.jsxs("span",{className:"text-slate-500 flex items-center gap-1",children:[m.jsx(PX,{className:"w-3 h-3"})," Local Mode"]})})]})]}),m.jsx("button",{onClick:r,className:"p-2 md:hidden text-slate-400 hover:text-white",children:m.jsx(Wu,{className:"w-6 h-6"})})]}),m.jsxs("nav",{className:"flex-1 py-6 px-3 space-y-1 overflow-y-auto scroll-smooth",children:[o.map(u=>m.jsxs("button",{onClick:()=>{e(u.id),ri.light()},className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium transition-colors ${t===u.id?"bg-blue-600 text-white shadow-md":"text-slate-400 hover:bg-slate-800 hover:text-white"}`,children:[m.jsx(u.icon,{className:"w-5 h-5"}),u.label==="Home"?"Dashboard":u.label==="People"?"Customers":u.label==="Create"?"New Invoice":u.label]},u.id)),m.jsxs("button",{onClick:()=>{a(i==="dark"?"light":"dark"),ri.medium()},className:"w-full mt-4 flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium text-slate-400 hover:bg-slate-800 hover:text-white transition-colors",children:[i==="dark"?m.jsx(aO,{className:"w-5 h-5 text-yellow-500"}):m.jsx(sO,{className:"w-5 h-5 text-blue-400"}),i==="dark"?"Light Mode":"Dark Mode"]})]}),m.jsxs("div",{className:"p-4 border-t border-slate-800 space-y-3",children:[m.jsxs("button",{onClick:c,className:"w-full flex items-center justify-center gap-2 px-4 py-2 rounded-lg text-sm font-medium text-slate-400 hover:bg-slate-800 hover:text-red-400 transition-colors","data-testid":"button-logout",children:[m.jsx(nO,{className:"w-4 h-4"}),"Logout"]}),m.jsxs("div",{className:"text-xs text-slate-500 text-center",children:[" 2025 BillFlow",m.jsx("br",{}),"by Lavneet Rathi"]})]})]})})},Gie=({currentView:t,onChangeView:e})=>{const[n,r]=J.useState(!1),{signOut:s}=Rx(),i=o=>{e(o),r(!1)},a=[{id:cn.CUSTOMERS,label:"Customers",icon:nm,color:"text-orange-500",bgColor:"bg-orange-50"},{id:cn.EXPENSES,label:"Expenses",icon:nA,color:"text-red-500",bgColor:"bg-red-50"},{id:cn.PAYMENTS,label:"Receipts",icon:Ph,color:"text-green-500",bgColor:"bg-green-50"},{id:cn.IMPORT,label:"Import Data",icon:xb,color:"text-purple-500",bgColor:"bg-purple-50"},{id:cn.SETTINGS,label:"Settings",icon:iO,color:"text-gray-500",bgColor:"bg-gray-50"}];return m.jsxs(m.Fragment,{children:[m.jsx(ru,{children:n&&m.jsxs(m.Fragment,{children:[m.jsx(Fn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>r(!1),className:"fixed inset-0 bg-black/40 z-40 backdrop-blur-sm"}),m.jsxs(Fn.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",damping:25,stiffness:300},className:"fixed bottom-0 left-0 right-0 bg-white dark:bg-slate-900 rounded-t-3xl shadow-xl z-50 overflow-hidden pb-safe",children:[m.jsx("div",{className:"flex justify-center pt-4 pb-2",children:m.jsx("div",{className:"w-10 h-1 bg-gray-300 rounded-full"})}),m.jsxs("div",{className:"p-6 pt-2",children:[m.jsxs("div",{className:"flex justify-between items-center mb-6",children:[m.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-slate-100",children:"More"}),m.jsx("button",{onClick:()=>r(!1),className:"p-2 bg-gray-100 rounded-full dark:bg-slate-800",children:m.jsx(Wu,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})})]}),m.jsx("div",{className:"grid grid-cols-4 gap-4 mb-6",children:a.map(o=>m.jsxs("button",{onClick:()=>i(o.id),className:"flex flex-col items-center gap-2 group",children:[m.jsx("div",{className:"w-14 h-14 rounded-2xl bg-slate-50 dark:bg-slate-800 flex items-center justify-center group-hover:bg-slate-100 transition-colors border border-slate-100 dark:border-slate-700",children:m.jsx(o.icon,{className:`w-6 h-6 ${o.color}`})}),m.jsx("span",{className:"text-xs font-medium text-slate-600 dark:text-slate-400 text-center leading-tight",children:o.label})]},o.id))}),m.jsx("div",{className:"border-t border-slate-100 dark:border-slate-800 pt-4",children:m.jsxs("button",{onClick:()=>s(),className:"w-full flex items-center justify-center gap-2 p-4 text-red-600 dark:text-red-400 font-semibold bg-red-50 dark:bg-red-500/10 rounded-[24px] hover:bg-red-100 dark:hover:bg-red-500/20 transition-all border border-red-100/50 dark:border-red-500/20",children:[m.jsx(nO,{className:"w-5 h-5"}),"Sign Out"]})})]})]})]})}),m.jsx("div",{className:"fixed bottom-28 right-6 z-40",children:m.jsx(Fn.button,{whileTap:{scale:.9},onClick:()=>i(cn.CREATE_INVOICE),className:"w-16 h-16 rounded-[24px] bg-primary text-white shadow-xl flex items-center justify-center hover:shadow-2xl transition-all border-none",children:m.jsx(wd,{className:"w-8 h-8",strokeWidth:3})})}),m.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white/80 dark:bg-slate-900/80 backdrop-blur-xl border-t border-slate-200/50 dark:border-slate-800/50 pb-safe z-30 h-[88px]",children:m.jsxs("div",{className:"flex justify-around items-center h-full px-2 max-w-lg mx-auto",children:[m.jsx(Jv,{active:t===cn.DASHBOARD,onClick:()=>i(cn.DASHBOARD),icon:eO,label:"Home"}),m.jsx(Jv,{active:t===cn.INVOICES,onClick:()=>i(cn.INVOICES),icon:bd,label:"Invoices"}),m.jsx(Jv,{active:t===cn.PAYMENTS,onClick:()=>i(cn.PAYMENTS),icon:Ph,label:"Receipts"}),m.jsx(Jv,{active:n,onClick:()=>r(!n),icon:$5,label:"More"})]})})]})},Jv=({active:t,onClick:e,icon:n,label:r})=>m.jsxs("button",{onClick:e,className:"flex flex-col items-center justify-center w-full h-full group",children:[m.jsx("div",{className:`
        flex items-center justify-center w-16 h-8 rounded-full mb-1.5 transition-all duration-300
        ${t?"bg-primary/10 dark:bg-primary/20":"bg-transparent"}
    `,children:m.jsx(n,{className:`w-6 h-6 ${t?"text-primary":"text-slate-400 dark:text-slate-500 group-hover:text-slate-600"}`,strokeWidth:t?2.5:2})}),m.jsx("span",{className:`text-[10px] font-black uppercase tracking-widest transition-colors ${t?"text-primary":"text-slate-400 dark:text-slate-500"}`,children:r})]});var Wb=cL();const $ie=xS(Wb),lr={init:t=>(console.log("Firebase already initialized via lib/firebase"),!0),isReady:()=>!0,testConnection:async()=>{try{const t=Ip(Uu,"system","connection_test");return await NT(t,{status:"connected",timestamp:new Date().toISOString()}),{success:!0,message:"Connection Successful! Read/Write access confirmed."}}catch(t){return console.error("Test Connection Failed:",t),t.code==="permission-denied"?{success:!1,message:"Permission Denied. Please set Firestore Rules to 'allow read, write: if true;' in Firebase Console."}:{success:!1,message:t.message||"Unknown error during connection test."}}},fetchCollection:async t=>{try{return(await mie(eie(Uu,t))).docs.map(n=>n.data())}catch(e){return console.error(`Error fetching ${t}:`,e),[]}},saveDocument:async(t,e,n)=>{try{await NT(Ip(Uu,t,e),n)}catch(r){console.error(`Error saving to ${t}:`,r)}},deleteDocument:async(t,e)=>{try{await gie(Ip(Uu,t,e))}catch(n){console.error(`Error deleting from ${t}:`,n)}},batchSave:async(t,e)=>{try{const n=bie(Uu);e.forEach(r=>{const s=Ip(Uu,t,r.id);n.set(s,r)}),await n.commit(),console.log(`Batch saved ${e.length} items to ${t}`)}catch(n){console.error("Batch save error",n)}}},_o={PRODUCTS:"app_products",CUSTOMERS:"app_customers",INVOICES:"app_invoices",PAYMENTS:"app_payments",EXPENSES:"app_expenses",COMPANY:"app_company",FIREBASE_CONFIG:"app_firebase_config"},o6={apiKey:"AIzaSyBDto4M27_AmBJ-eGNZyQI-Jtmhfnv1X5g",authDomain:"studio-5843390050-90c53.firebaseapp.com",projectId:"studio-5843390050-90c53",storageBucket:"studio-5843390050-90c53.firebasestorage.app",messagingSenderId:"796126072517",appId:"1:796126072517:web:be2ff390a075fad7bcaaac"},Wie=[{id:"1",name:"Product A",price:500,stock:100,category:"Electronics"},{id:"2",name:"Product B",price:800,stock:45,category:"Electronics"}],Kie=[{id:"c1",name:"John Doe",company:"XYZ Enterprises",email:"john@xyz.com",phone:"9123456789",address:"456, Business Park, Mumbai",balance:0,notifications:[]}];let ct={products:[],customers:[],invoices:[],payments:[],expenses:[],company:Ap,isLoaded:!1,currentUserId:null};const it={init:async(t=null)=>{if(ct.currentUserId!==t&&(ct={products:[],customers:[],invoices:[],payments:[],expenses:[],company:Ap,isLoaded:!1,currentUserId:t}),ct.isLoaded)return;const e=o6;if(localStorage.setItem(_o.FIREBASE_CONFIG,JSON.stringify(e)),lr.init(e),t){const n=`users/${t}`,[r,s,i,a,o,c]=await Promise.all([lr.fetchCollection(`${n}/products`),lr.fetchCollection(`${n}/customers`),lr.fetchCollection(`${n}/invoices`),lr.fetchCollection(`${n}/payments`),lr.fetchCollection(`${n}/expenses`),lr.fetchCollection(`${n}/company`)]);ct.products=r,ct.customers=s,ct.invoices=i,ct.payments=a,ct.expenses=o,ct.company=c.length>0?c[0]:Ap,ct.isLoaded=!0;return}if(t)ct.products=[],ct.customers=[],ct.invoices=[],ct.payments=[],ct.expenses=[],ct.company=Ap,ct.isLoaded=!0;else{const n=localStorage.getItem(_o.PRODUCTS);ct.products=n?JSON.parse(n):Wie;const r=localStorage.getItem(_o.CUSTOMERS);ct.customers=r?JSON.parse(r):Kie;const s=localStorage.getItem(_o.INVOICES);ct.invoices=s?JSON.parse(s):[];const i=localStorage.getItem(_o.PAYMENTS);ct.payments=i?JSON.parse(i):[];const a=localStorage.getItem(_o.EXPENSES);ct.expenses=a?JSON.parse(a):[];const o=localStorage.getItem(_o.COMPANY);ct.company=o?JSON.parse(o):Ap,ct.isLoaded=!0}},getCollectionPath:t=>ct.currentUserId?`users/${ct.currentUserId}/${t}`:t,persistToLocalStorage:()=>{ct.currentUserId||(localStorage.setItem(_o.PRODUCTS,JSON.stringify(ct.products)),localStorage.setItem(_o.CUSTOMERS,JSON.stringify(ct.customers)),localStorage.setItem(_o.INVOICES,JSON.stringify(ct.invoices)),localStorage.setItem(_o.PAYMENTS,JSON.stringify(ct.payments)),localStorage.setItem(_o.EXPENSES,JSON.stringify(ct.expenses)),localStorage.setItem(_o.COMPANY,JSON.stringify(ct.company)))},getProducts:()=>[...ct.products],getCustomers:()=>[...ct.customers],getInvoices:()=>[...ct.invoices],getPayments:()=>[...ct.payments],getExpenses:()=>[...ct.expenses],getCompanyProfile:()=>ct.company,getFirebaseConfig:()=>o6,saveFirebaseConfig:t=>{localStorage.setItem(_o.FIREBASE_CONFIG,JSON.stringify(t))},saveProduct:t=>{const e=ct.products.findIndex(r=>r.id===t.id),n=[...ct.products];e>=0?n[e]=t:n.push(t),ct.products=n,it.persistToLocalStorage(),lr.saveDocument(it.getCollectionPath("products"),t.id,t)},updateProduct:t=>{it.saveProduct(t)},deleteProduct:t=>{ct.products=ct.products.filter(e=>e.id!==t),it.persistToLocalStorage(),lr.deleteDocument(it.getCollectionPath("products"),t)},saveCustomer:t=>{const e=ct.customers.findIndex(r=>r.id===t.id),n=[...ct.customers];e>=0?n[e]=t:n.push(t),ct.customers=n,it.persistToLocalStorage(),lr.saveDocument(it.getCollectionPath("customers"),t.id,t)},addNotification:(t,e)=>{const n=ct.customers.findIndex(r=>r.id===t);if(n>=0){const r={id:crypto.randomUUID(),read:!1,...e},s={...ct.customers[n]};s.notifications||(s.notifications=[]),s.notifications=[r,...s.notifications];const i=[...ct.customers];i[n]=s,ct.customers=i,it.persistToLocalStorage(),lr.saveDocument(it.getCollectionPath("customers"),t,ct.customers[n])}},saveInvoice:t=>{const e=[...ct.products];t.items.forEach(s=>{const i=e.findIndex(a=>a.id===s.productId);if(i>=0&&e[i].category!=="Services"){const a={...e[i]};a.stock-=s.quantity,e[i]=a,lr.saveDocument(it.getCollectionPath("products"),a.id,a)}}),ct.products=e;const n=[...ct.customers],r=n.findIndex(s=>s.id===t.customerId);if(r>=0&&t.status==="PENDING"){const s={...n[r]};s.balance+=t.total,n[r]=s,lr.saveDocument(it.getCollectionPath("customers"),s.id,s)}ct.customers=n,ct.invoices=[t,...ct.invoices],it.persistToLocalStorage(),lr.saveDocument(it.getCollectionPath("invoices"),t.id,t),it.addNotification(t.customerId,{type:"INVOICE",title:"New Invoice Generated",message:`Invoice #${t.invoiceNumber} for ${t.total} has been created.`,date:new Date().toISOString().split("T")[0]})},savePayment:t=>{ct.payments=[t,...ct.payments];const e=[...ct.customers],n=e.findIndex(r=>r.id===t.customerId);if(n>=0){const r={...e[n]};r.balance-=t.amount,e[n]=r,lr.saveDocument(it.getCollectionPath("customers"),r.id,r)}ct.customers=e,it.persistToLocalStorage(),lr.saveDocument(it.getCollectionPath("payments"),t.id,t),it.addNotification(t.customerId,{type:"PAYMENT",title:"Payment Received",message:`Payment of ${t.amount} received via ${t.mode}.`,date:t.date})},updatePayment:t=>{const e=ct.payments.findIndex(s=>s.id===t.id);if(e===-1)return;const n=ct.payments[e],r=ct.customers.find(s=>s.id===t.customerId);r&&(r.balance+=n.amount,r.balance-=t.amount,lr.saveDocument(it.getCollectionPath("customers"),r.id,r)),ct.payments[e]=t,it.persistToLocalStorage(),lr.saveDocument(it.getCollectionPath("payments"),t.id,t)},deletePayment:t=>{const e=ct.payments.findIndex(s=>s.id===t);if(e===-1)return;const n=ct.payments[e],r=ct.customers.find(s=>s.id===n.customerId);r&&(r.balance+=n.amount,lr.saveDocument(it.getCollectionPath("customers"),r.id,r)),ct.payments.splice(e,1),it.persistToLocalStorage(),lr.deleteDocument(it.getCollectionPath("payments"),t)},deleteInvoice:t=>{const e=ct.invoices.findIndex(s=>s.id===t);if(e===-1)return;const n=ct.invoices[e];n.items.forEach(s=>{const i=ct.products.findIndex(a=>a.id===s.productId);i>=0&&ct.products[i].category!=="Services"&&(ct.products[i].stock+=s.quantity,lr.saveDocument(it.getCollectionPath("products"),ct.products[i].id,ct.products[i]))});const r=ct.customers.findIndex(s=>s.id===n.customerId);r>=0&&n.status==="PENDING"&&(ct.customers[r].balance-=n.total,lr.saveDocument(it.getCollectionPath("customers"),ct.customers[r].id,ct.customers[r])),ct.invoices.splice(e,1),it.persistToLocalStorage(),lr.deleteDocument(it.getCollectionPath("invoices"),t)},updateInvoice:t=>{const e=ct.invoices.findIndex(a=>a.id===t.id);if(e===-1)return;const n=ct.invoices[e],r=new Set;n.items.forEach(a=>{const o=ct.products.findIndex(c=>c.id===a.productId);o>=0&&ct.products[o].category!=="Services"&&(ct.products[o].stock+=a.quantity,r.add(ct.products[o].id))});const s=ct.customers.findIndex(a=>a.id===n.customerId);s>=0&&n.status==="PENDING"&&(ct.customers[s].balance-=n.total),t.items.forEach(a=>{const o=ct.products.findIndex(c=>c.id===a.productId);o>=0&&ct.products[o].category!=="Services"&&(ct.products[o].stock-=a.quantity,r.add(ct.products[o].id))});const i=ct.customers.findIndex(a=>a.id===t.customerId);i>=0&&t.status==="PENDING"&&(ct.customers[i].balance+=t.total);{r.forEach(o=>{const c=ct.products.find(u=>u.id===o);c&&lr.saveDocument(it.getCollectionPath("products"),c.id,c)});const a=ct.customers[s];if(a&&lr.saveDocument(it.getCollectionPath("customers"),a.id,a),s!==i){const o=ct.customers[i];o&&lr.saveDocument(it.getCollectionPath("customers"),o.id,o)}}ct.invoices[e]=t,it.persistToLocalStorage(),lr.saveDocument(it.getCollectionPath("invoices"),t.id,t),n.total!==t.total&&it.addNotification(t.customerId,{type:"INVOICE",title:"Invoice Updated",message:`Invoice #${t.invoiceNumber} has been updated to ${t.total}.`,date:new Date().toISOString().split("T")[0]})},saveCompanyProfile:t=>{ct.company=t,it.persistToLocalStorage(),lr.saveDocument(it.getCollectionPath("company"),"profile",t)},getLastSalePrice:(t,e)=>{const n=ct.invoices.filter(r=>r.customerId===t);for(const r of n){const s=r.items.find(i=>i.productId===e);if(s)return s.rate}return null},getCustomerBehaviorScore:t=>{const e=ct.invoices.filter(i=>i.customerId===t);if(e.length===0)return 100;const n=e.reduce((i,a)=>i+a.total,0),r=ct.payments.filter(i=>i.customerId===t).reduce((i,a)=>i+a.amount,0)+e.filter(i=>i.status==="PAID").reduce((i,a)=>i+a.total,0);if(n===0)return 100;const s=r/n*100;return Math.min(Math.round(s),100)},predictNextItem:t=>{if(!t)return null;const e=ct.invoices.filter(s=>s.customerId===t);if(e.length===0){const s={};ct.invoices.forEach(a=>{a.items.forEach(o=>{s[o.productId]=(s[o.productId]||0)+1})});const i=Object.keys(s).sort((a,o)=>s[o]-s[a])[0];return i&&ct.products.find(a=>a.id===i)||null}const n={};e.forEach(s=>{s.items.forEach(i=>{n[i.productId]=(n[i.productId]||0)+1})});const r=Object.keys(n).sort((s,i)=>n[i]-n[s])[0];return r&&ct.products.find(s=>s.id===r)||null},updateCustomer:t=>{const e=ct.customers.findIndex(n=>n.id===t.id);e>=0&&(ct.customers[e]=t,it.persistToLocalStorage(),lr.saveDocument(it.getCollectionPath("customers"),t.id,t))},deleteCustomer:t=>{const e=ct.customers.findIndex(n=>n.id===t);e>=0&&(ct.customers.splice(e,1),it.persistToLocalStorage(),lr.deleteDocument(it.getCollectionPath("customers"),t))},saveExpense:t=>{const e=ct.expenses.findIndex(n=>n.id===t.id);e>=0?ct.expenses[e]=t:ct.expenses.unshift(t),it.persistToLocalStorage(),lr.saveDocument(it.getCollectionPath("expenses"),t.id,t)},deleteExpense:t=>{const e=ct.expenses.findIndex(n=>n.id===t);e>=0&&(ct.expenses.splice(e,1),it.persistToLocalStorage(),lr.deleteDocument(it.getCollectionPath("expenses"),t))},generateInvoiceNumber:(t,e)=>{const n=ct.customers.find(x=>x.id===t);if(!n)return`inv-${Date.now()}`;const r=n.name.replace(/[^a-zA-Z]/g,"").substring(0,3).toLowerCase(),s=new Date(e),a=["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"][s.getMonth()],o=3;let c=s.getFullYear();s.getMonth()<o&&(c-=1);const u=new Date(c,o,1),d=new Date(c+1,o,0),g=(ct.invoices.filter(x=>{if(x.customerId!==t)return!1;const w=new Date(x.date);return w>=u&&w<=d}).length+1).toString().padStart(3,"0");return`${r}${a}${g}`},exportAllData:()=>{const t={products:JSON.stringify(ct.products),customers:JSON.stringify(ct.customers),invoices:JSON.stringify(ct.invoices),payments:JSON.stringify(ct.payments),expenses:JSON.stringify(ct.expenses),company:JSON.stringify(ct.company),timestamp:new Date().toISOString()};return JSON.stringify(t)},importData:t=>{try{const e=JSON.parse(t);return e.products&&(ct.products=JSON.parse(e.products)),e.customers&&(ct.customers=JSON.parse(e.customers)),e.invoices&&(ct.invoices=JSON.parse(e.invoices)),e.payments&&(ct.payments=JSON.parse(e.payments)),e.company&&(ct.company=JSON.parse(e.company)),it.persistToLocalStorage(),lr.isReady()&&it.init(ct.currentUserId),!0}catch(e){return console.error("Failed to import data",e),!1}}};let Yie,Xie;function Jie(){return{geminiUrl:Yie,vertexUrl:Xie}}function Qie(t,e,n,r){var s,i;if(!t?.baseUrl){const a=Jie();return e?(s=a.vertexUrl)!==null&&s!==void 0?s:n:(i=a.geminiUrl)!==null&&i!==void 0?i:r}return t.baseUrl}class df{}function qt(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,s)=>{if(Object.prototype.hasOwnProperty.call(e,s)){const i=e[s];return i!=null?String(i):""}else throw new Error(`Key '${s}' not found in valueMap.`)})}function T(t,e,n){for(let i=0;i<e.length-1;i++){const a=e[i];if(a.endsWith("[]")){const o=a.slice(0,-2);if(!(o in t))if(Array.isArray(n))t[o]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${a}`);if(Array.isArray(t[o])){const c=t[o];if(Array.isArray(n))for(let u=0;u<c.length;u++){const d=c[u];T(d,e.slice(i+1),n[u])}else for(const u of c)T(u,e.slice(i+1),n)}return}else if(a.endsWith("[0]")){const o=a.slice(0,-3);o in t||(t[o]=[{}]);const c=t[o];T(c[0],e.slice(i+1),n);return}(!t[a]||typeof t[a]!="object")&&(t[a]={}),t=t[a]}const r=e[e.length-1],s=t[r];if(s!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===s)return;if(typeof s=="object"&&typeof n=="object"&&s!==null&&n!==null)Object.assign(s,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function b(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const s=e[r];if(s.endsWith("[]")){const i=s.slice(0,-2);if(i in t){const a=t[i];return Array.isArray(a)?a.map(o=>b(o,e.slice(r+1),n)):n}else return n}else t=t[s]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function Zie(t,e){for(const[n,r]of Object.entries(e)){const s=n.split("."),i=r.split("."),a=new Set;let o=-1;for(let c=0;c<s.length;c++)if(s[c]==="*"){o=c;break}if(o!==-1&&i.length>o)for(let c=o;c<i.length;c++){const u=i[c];u!=="*"&&!u.endsWith("[]")&&!u.endsWith("[0]")&&a.add(u)}IT(t,s,i,0,a)}}function IT(t,e,n,r,s){if(r>=e.length||typeof t!="object"||t===null)return;const i=e[r];if(i.endsWith("[]")){const a=i.slice(0,-2),o=t;if(a in o&&Array.isArray(o[a]))for(const c of o[a])IT(c,e,n,r+1,s)}else if(i==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const a=t,o=Object.keys(a).filter(u=>!u.startsWith("_")&&!s.has(u)),c={};for(const u of o)c[u]=a[u];for(const[u,d]of Object.entries(c)){const p=[];for(const g of n.slice(r))g==="*"?p.push(u):p.push(g);T(a,p,d)}for(const u of o)delete a[u]}}else{const a=t;i in a&&IT(a[i],e,n,r+1,s)}}function oC(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}function eae(t){const e={},n=b(t,["operationName"]);n!=null&&T(e,["operationName"],n);const r=b(t,["resourceName"]);return r!=null&&T(e,["_url","resourceName"],r),e}function tae(t){const e={},n=b(t,["name"]);n!=null&&T(e,["name"],n);const r=b(t,["metadata"]);r!=null&&T(e,["metadata"],r);const s=b(t,["done"]);s!=null&&T(e,["done"],s);const i=b(t,["error"]);i!=null&&T(e,["error"],i);const a=b(t,["response","generateVideoResponse"]);return a!=null&&T(e,["response"],rae(a)),e}function nae(t){const e={},n=b(t,["name"]);n!=null&&T(e,["name"],n);const r=b(t,["metadata"]);r!=null&&T(e,["metadata"],r);const s=b(t,["done"]);s!=null&&T(e,["done"],s);const i=b(t,["error"]);i!=null&&T(e,["error"],i);const a=b(t,["response"]);return a!=null&&T(e,["response"],sae(a)),e}function rae(t){const e={},n=b(t,["generatedSamples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>iae(a))),T(e,["generatedVideos"],i)}const r=b(t,["raiMediaFilteredCount"]);r!=null&&T(e,["raiMediaFilteredCount"],r);const s=b(t,["raiMediaFilteredReasons"]);return s!=null&&T(e,["raiMediaFilteredReasons"],s),e}function sae(t){const e={},n=b(t,["videos"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>aae(a))),T(e,["generatedVideos"],i)}const r=b(t,["raiMediaFilteredCount"]);r!=null&&T(e,["raiMediaFilteredCount"],r);const s=b(t,["raiMediaFilteredReasons"]);return s!=null&&T(e,["raiMediaFilteredReasons"],s),e}function iae(t){const e={},n=b(t,["video"]);return n!=null&&T(e,["video"],dae(n)),e}function aae(t){const e={},n=b(t,["_self"]);return n!=null&&T(e,["video"],hae(n)),e}function oae(t){const e={},n=b(t,["operationName"]);return n!=null&&T(e,["_url","operationName"],n),e}function lae(t){const e={},n=b(t,["operationName"]);return n!=null&&T(e,["_url","operationName"],n),e}function cae(t){const e={},n=b(t,["name"]);n!=null&&T(e,["name"],n);const r=b(t,["metadata"]);r!=null&&T(e,["metadata"],r);const s=b(t,["done"]);s!=null&&T(e,["done"],s);const i=b(t,["error"]);i!=null&&T(e,["error"],i);const a=b(t,["response"]);return a!=null&&T(e,["response"],uae(a)),e}function uae(t){const e={},n=b(t,["sdkHttpResponse"]);n!=null&&T(e,["sdkHttpResponse"],n);const r=b(t,["parent"]);r!=null&&T(e,["parent"],r);const s=b(t,["documentName"]);return s!=null&&T(e,["documentName"],s),e}function NB(t){const e={},n=b(t,["name"]);n!=null&&T(e,["name"],n);const r=b(t,["metadata"]);r!=null&&T(e,["metadata"],r);const s=b(t,["done"]);s!=null&&T(e,["done"],s);const i=b(t,["error"]);i!=null&&T(e,["error"],i);const a=b(t,["response"]);return a!=null&&T(e,["response"],fae(a)),e}function fae(t){const e={},n=b(t,["sdkHttpResponse"]);n!=null&&T(e,["sdkHttpResponse"],n);const r=b(t,["parent"]);r!=null&&T(e,["parent"],r);const s=b(t,["documentName"]);return s!=null&&T(e,["documentName"],s),e}function dae(t){const e={},n=b(t,["uri"]);n!=null&&T(e,["uri"],n);const r=b(t,["encodedVideo"]);r!=null&&T(e,["videoBytes"],oC(r));const s=b(t,["encoding"]);return s!=null&&T(e,["mimeType"],s),e}function hae(t){const e={},n=b(t,["gcsUri"]);n!=null&&T(e,["uri"],n);const r=b(t,["bytesBase64Encoded"]);r!=null&&T(e,["videoBytes"],oC(r));const s=b(t,["mimeType"]);return s!=null&&T(e,["mimeType"],s),e}var l6;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(l6||(l6={}));var c6;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(c6||(c6={}));var u6;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(u6||(u6={}));var ld;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(ld||(ld={}));var f6;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(f6||(f6={}));var d6;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(d6||(d6={}));var h6;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(h6||(h6={}));var p6;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(p6||(p6={}));var m6;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(m6||(m6={}));var g6;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.HIGH="HIGH"})(g6||(g6={}));var x6;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(x6||(x6={}));var v6;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(v6||(v6={}));var y6;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(y6||(y6={}));var b6;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE"})(b6||(b6={}));var w6;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(w6||(w6={}));var _6;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(_6||(_6={}));var E6;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(E6||(E6={}));var T6;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(T6||(T6={}));var S6;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(S6||(S6={}));var Y1;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Y1||(Y1={}));var A6;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(A6||(A6={}));var C6;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(C6||(C6={}));var N6;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(N6||(N6={}));var kT;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(kT||(kT={}));var I6;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(I6||(I6={}));var k6;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(k6||(k6={}));var R6;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(R6||(R6={}));var P6;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(P6||(P6={}));var D6;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(D6||(D6={}));var M6;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(M6||(M6={}));var L6;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(L6||(L6={}));var F6;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(F6||(F6={}));var O6;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(O6||(O6={}));var B6;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(B6||(B6={}));var V6;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(V6||(V6={}));var U6;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(U6||(U6={}));var j6;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(j6||(j6={}));var q6;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(q6||(q6={}));var H6;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(H6||(H6={}));var z6;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(z6||(z6={}));var G6;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(G6||(G6={}));var $6;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})($6||($6={}));var W6;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(W6||(W6={}));var K6;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(K6||(K6={}));var Y6;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(Y6||(Y6={}));var X6;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(X6||(X6={}));var J6;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(J6||(J6={}));var Q6;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(Q6||(Q6={}));var Z6;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Z6||(Z6={}));var eP;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(eP||(eP={}));var tP;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(tP||(tP={}));var nP;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(nP||(nP={}));var rP;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(rP||(rP={}));var sP;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(sP||(sP={}));var Rp;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Rp||(Rp={}));class RT{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Lg{get text(){var e,n,r,s,i,a,o,c;if(((s=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let u="",d=!1;const p=[];for(const g of(c=(o=(a=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)!==null&&c!==void 0?c:[]){for(const[x,w]of Object.entries(g))x!=="text"&&x!=="thought"&&x!=="thoughtSignature"&&(w!==null||w!==void 0)&&p.push(x);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;d=!0,u+=g.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?u:void 0}get data(){var e,n,r,s,i,a,o,c;if(((s=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let u="";const d=[];for(const p of(c=(o=(a=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)!==null&&c!==void 0?c:[]){for(const[g,x]of Object.entries(p))g!=="inlineData"&&(x!==null||x!==void 0)&&d.push(g);p.inlineData&&typeof p.inlineData.data=="string"&&(u+=atob(p.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}get functionCalls(){var e,n,r,s,i,a,o,c;if(((s=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const u=(c=(o=(a=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)===null||c===void 0?void 0:c.filter(d=>d.functionCall).map(d=>d.functionCall).filter(d=>d!==void 0);if(u?.length!==0)return u}get executableCode(){var e,n,r,s,i,a,o,c,u;if(((s=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const d=(c=(o=(a=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)===null||c===void 0?void 0:c.filter(p=>p.executableCode).map(p=>p.executableCode).filter(p=>p!==void 0);if(d?.length!==0)return(u=d?.[0])===null||u===void 0?void 0:u.code}get codeExecutionResult(){var e,n,r,s,i,a,o,c,u;if(((s=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const d=(c=(o=(a=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)===null||c===void 0?void 0:c.filter(p=>p.codeExecutionResult).map(p=>p.codeExecutionResult).filter(p=>p!==void 0);if(d?.length!==0)return(u=d?.[0])===null||u===void 0?void 0:u.output}}class iP{}class aP{}class pae{}class mae{}class gae{}class xae{}class oP{}class lP{}class cP{}class vae{}class V2{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new V2;let s;const i=e;return n?s=nae(i):s=tae(i),Object.assign(r,s),r}}class uP{}class fP{}class dP{}class yae{}class bae{}class wae{}class lC{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new lC,i=cae(e);return Object.assign(r,i),r}}class _ae{}class Eae{}class Tae{}class hP{}class Sae{get text(){var e,n,r;let s="",i=!1;const a=[];for(const o of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[c,u]of Object.entries(o))c!=="text"&&c!=="thought"&&u!==null&&a.push(c);if(typeof o.text=="string"){if(typeof o.thought=="boolean"&&o.thought)continue;i=!0,s+=o.text}}return a.length>0&&console.warn(`there are non-text parts ${a} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),i?s:void 0}get data(){var e,n,r;let s="";const i=[];for(const a of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[o,c]of Object.entries(a))o!=="inlineData"&&c!==null&&i.push(o);a.inlineData&&typeof a.inlineData.data=="string"&&(s+=atob(a.inlineData.data))}return i.length>0&&console.warn(`there are non-data parts ${i} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),s.length>0?btoa(s):void 0}}class Aae{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class cC{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new cC,i=NB(e);return Object.assign(r,i),r}}function Mr(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function IB(t,e){const n=Mr(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function kB(t){return Array.isArray(t)?t.map(e=>U2(e)):[U2(t)]}function U2(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function RB(t){const e=U2(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function PB(t){const e=U2(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function pP(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function DB(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>pP(e)):[pP(t)]}function PT(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function mP(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function gP(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Ra(t){if(t==null)throw new Error("ContentUnion is required");return PT(t)?t:{role:"user",parts:DB(t)}}function uC(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=Ra(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=Ra(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Ra(n)):[Ra(e)]}function Al(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(mP(t)||gP(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Ra(t)]}const e=[],n=[],r=PT(t[0]);for(const s of t){const i=PT(s);if(i!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(i)e.push(s);else{if(mP(s)||gP(s))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(s)}}return r||e.push({role:"user",parts:DB(n)}),e}function Cae(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(ld).includes(n[0].toUpperCase())?n[0].toUpperCase():ld.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(ld).includes(r.toUpperCase())?r.toUpperCase():ld.TYPE_UNSPECIFIED})}}function qp(t){const e={},n=["items"],r=["anyOf"],s=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const i=t.anyOf;i!=null&&i.length==2&&(i[0].type==="null"?(e.nullable=!0,t=i[1]):i[1].type==="null"&&(e.nullable=!0,t=i[0])),t.type instanceof Array&&Cae(t.type,e);for(const[a,o]of Object.entries(t))if(o!=null)if(a=="type"){if(o==="null")throw new Error("type: null can not be the only possible type for the field.");if(o instanceof Array)continue;e.type=Object.values(ld).includes(o.toUpperCase())?o.toUpperCase():ld.TYPE_UNSPECIFIED}else if(n.includes(a))e[a]=qp(o);else if(r.includes(a)){const c=[];for(const u of o){if(u.type=="null"){e.nullable=!0;continue}c.push(qp(u))}e[a]=c}else if(s.includes(a)){const c={};for(const[u,d]of Object.entries(o))c[u]=qp(d);e[a]=c}else{if(a==="additionalProperties")continue;e[a]=o}return e}function fC(t){return qp(t)}function dC(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function hC(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Dm(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=qp(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=qp(e.response));return t}function Mm(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function Nae(t,e,n,r=1){const s=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:s?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:s?`${n}/${e}`:e}function hf(t,e){if(typeof e!="string")throw new Error("name must be a string");return Nae(t,e,"cachedContents")}function MB(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Bd(t){return oC(t)}function Iae(t){return t!=null&&typeof t=="object"&&"name"in t}function kae(t){return t!=null&&typeof t=="object"&&"video"in t}function Rae(t){return t!=null&&typeof t=="object"&&"uri"in t}function LB(t){var e;let n;if(Iae(t)&&(n=t.name),!(Rae(t)&&(n=t.uri,n===void 0))&&!(kae(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const s=n.split("files/")[1].match(/[a-z0-9]+/);if(s===null)throw new Error(`Could not extract file name from URI ${n}`);n=s[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function FB(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function OB(t){for(const e of["models","tunedModels","publisherModels"])if(Pae(t,e))return t[e];return[]}function Pae(t,e){return t!==null&&typeof t=="object"&&e in t}function Dae(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function Mae(t,e={}){const n=[],r=new Set;for(const s of t){const i=s.name;if(r.has(i))throw new Error(`Duplicate function name ${i} found in MCP tools. Please ensure function names are unique.`);r.add(i);const a=Dae(s,e);a.functionDeclarations&&n.push(...a.functionDeclarations)}return{functionDeclarations:n}}function BB(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,s=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(s>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||s!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function Lae(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function VB(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const s=n.inlinedResponses;if(!Array.isArray(s)||s.length===0)return t;let i=!1;for(const a of s){if(typeof a!="object"||a===null)continue;const c=a.response;if(typeof c!="object"||c===null)continue;if(c.embedding!==void 0){i=!0;break}}return i&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function Lm(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function UB(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}function Fae(t){const e={},n=b(t,["responsesFile"]);n!=null&&T(e,["fileName"],n);const r=b(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>goe(a))),T(e,["inlinedResponses"],i)}const s=b(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(s!=null){let i=s;Array.isArray(i)&&(i=i.map(a=>a)),T(e,["inlinedEmbedContentResponses"],i)}return e}function Oae(t){const e={},n=b(t,["predictionsFormat"]);n!=null&&T(e,["format"],n);const r=b(t,["gcsDestination","outputUriPrefix"]);r!=null&&T(e,["gcsUri"],r);const s=b(t,["bigqueryDestination","outputUri"]);return s!=null&&T(e,["bigqueryUri"],s),e}function Bae(t){const e={},n=b(t,["format"]);n!=null&&T(e,["predictionsFormat"],n);const r=b(t,["gcsUri"]);r!=null&&T(e,["gcsDestination","outputUriPrefix"],r);const s=b(t,["bigqueryUri"]);if(s!=null&&T(e,["bigqueryDestination","outputUri"],s),b(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(b(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(b(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Yy(t){const e={},n=b(t,["name"]);n!=null&&T(e,["name"],n);const r=b(t,["metadata","displayName"]);r!=null&&T(e,["displayName"],r);const s=b(t,["metadata","state"]);s!=null&&T(e,["state"],UB(s));const i=b(t,["metadata","createTime"]);i!=null&&T(e,["createTime"],i);const a=b(t,["metadata","endTime"]);a!=null&&T(e,["endTime"],a);const o=b(t,["metadata","updateTime"]);o!=null&&T(e,["updateTime"],o);const c=b(t,["metadata","model"]);c!=null&&T(e,["model"],c);const u=b(t,["metadata","output"]);return u!=null&&T(e,["dest"],Fae(VB(u))),e}function DT(t){const e={},n=b(t,["name"]);n!=null&&T(e,["name"],n);const r=b(t,["displayName"]);r!=null&&T(e,["displayName"],r);const s=b(t,["state"]);s!=null&&T(e,["state"],UB(s));const i=b(t,["error"]);i!=null&&T(e,["error"],i);const a=b(t,["createTime"]);a!=null&&T(e,["createTime"],a);const o=b(t,["startTime"]);o!=null&&T(e,["startTime"],o);const c=b(t,["endTime"]);c!=null&&T(e,["endTime"],c);const u=b(t,["updateTime"]);u!=null&&T(e,["updateTime"],u);const d=b(t,["model"]);d!=null&&T(e,["model"],d);const p=b(t,["inputConfig"]);p!=null&&T(e,["src"],Vae(p));const g=b(t,["outputConfig"]);g!=null&&T(e,["dest"],Oae(VB(g)));const x=b(t,["completionStats"]);return x!=null&&T(e,["completionStats"],x),e}function Vae(t){const e={},n=b(t,["instancesFormat"]);n!=null&&T(e,["format"],n);const r=b(t,["gcsSource","uris"]);r!=null&&T(e,["gcsUri"],r);const s=b(t,["bigquerySource","inputUri"]);return s!=null&&T(e,["bigqueryUri"],s),e}function Uae(t,e){const n={};if(b(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(b(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(b(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=b(e,["fileName"]);r!=null&&T(n,["fileName"],r);const s=b(e,["inlinedRequests"]);if(s!=null){let i=s;Array.isArray(i)&&(i=i.map(a=>moe(t,a))),T(n,["requests","requests"],i)}return n}function jae(t){const e={},n=b(t,["format"]);n!=null&&T(e,["instancesFormat"],n);const r=b(t,["gcsUri"]);r!=null&&T(e,["gcsSource","uris"],r);const s=b(t,["bigqueryUri"]);if(s!=null&&T(e,["bigquerySource","inputUri"],s),b(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(b(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function qae(t){const e={},n=b(t,["data"]);if(n!=null&&T(e,["data"],n),b(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=b(t,["mimeType"]);return r!=null&&T(e,["mimeType"],r),e}function Hae(t,e){const n={},r=b(e,["name"]);return r!=null&&T(n,["_url","name"],Lm(t,r)),n}function zae(t,e){const n={},r=b(e,["name"]);return r!=null&&T(n,["_url","name"],Lm(t,r)),n}function Gae(t){const e={},n=b(t,["content"]);n!=null&&T(e,["content"],n);const r=b(t,["citationMetadata"]);r!=null&&T(e,["citationMetadata"],$ae(r));const s=b(t,["tokenCount"]);s!=null&&T(e,["tokenCount"],s);const i=b(t,["finishReason"]);i!=null&&T(e,["finishReason"],i);const a=b(t,["avgLogprobs"]);a!=null&&T(e,["avgLogprobs"],a);const o=b(t,["groundingMetadata"]);o!=null&&T(e,["groundingMetadata"],o);const c=b(t,["index"]);c!=null&&T(e,["index"],c);const u=b(t,["logprobsResult"]);u!=null&&T(e,["logprobsResult"],u);const d=b(t,["safetyRatings"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(x=>x)),T(e,["safetyRatings"],g)}const p=b(t,["urlContextMetadata"]);return p!=null&&T(e,["urlContextMetadata"],p),e}function $ae(t){const e={},n=b(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>s)),T(e,["citations"],r)}return e}function jB(t){const e={},n=b(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(i=>Eoe(i))),T(e,["parts"],s)}const r=b(t,["role"]);return r!=null&&T(e,["role"],r),e}function Wae(t,e){const n={},r=b(t,["displayName"]);if(e!==void 0&&r!=null&&T(e,["batch","displayName"],r),b(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function Kae(t,e){const n={},r=b(t,["displayName"]);e!==void 0&&r!=null&&T(e,["displayName"],r);const s=b(t,["dest"]);return e!==void 0&&s!=null&&T(e,["outputConfig"],Bae(Lae(s))),n}function xP(t,e){const n={},r=b(e,["model"]);r!=null&&T(n,["_url","model"],Mr(t,r));const s=b(e,["src"]);s!=null&&T(n,["batch","inputConfig"],Uae(t,BB(t,s)));const i=b(e,["config"]);return i!=null&&Wae(i,n),n}function Yae(t,e){const n={},r=b(e,["model"]);r!=null&&T(n,["model"],Mr(t,r));const s=b(e,["src"]);s!=null&&T(n,["inputConfig"],jae(BB(t,s)));const i=b(e,["config"]);return i!=null&&Kae(i,n),n}function Xae(t,e){const n={},r=b(t,["displayName"]);return e!==void 0&&r!=null&&T(e,["batch","displayName"],r),n}function Jae(t,e){const n={},r=b(e,["model"]);r!=null&&T(n,["_url","model"],Mr(t,r));const s=b(e,["src"]);s!=null&&T(n,["batch","inputConfig"],soe(t,s));const i=b(e,["config"]);return i!=null&&Xae(i,n),n}function Qae(t,e){const n={},r=b(e,["name"]);return r!=null&&T(n,["_url","name"],Lm(t,r)),n}function Zae(t,e){const n={},r=b(e,["name"]);return r!=null&&T(n,["_url","name"],Lm(t,r)),n}function eoe(t){const e={},n=b(t,["sdkHttpResponse"]);n!=null&&T(e,["sdkHttpResponse"],n);const r=b(t,["name"]);r!=null&&T(e,["name"],r);const s=b(t,["done"]);s!=null&&T(e,["done"],s);const i=b(t,["error"]);return i!=null&&T(e,["error"],i),e}function toe(t){const e={},n=b(t,["sdkHttpResponse"]);n!=null&&T(e,["sdkHttpResponse"],n);const r=b(t,["name"]);r!=null&&T(e,["name"],r);const s=b(t,["done"]);s!=null&&T(e,["done"],s);const i=b(t,["error"]);return i!=null&&T(e,["error"],i),e}function noe(t,e){const n={},r=b(e,["contents"]);if(r!=null){let i=uC(t,r);Array.isArray(i)&&(i=i.map(a=>a)),T(n,["requests[]","request","content"],i)}const s=b(e,["config"]);return s!=null&&(T(n,["_self"],roe(s,n)),Zie(n,{"requests[].*":"requests[].request.*"})),n}function roe(t,e){const n={},r=b(t,["taskType"]);e!==void 0&&r!=null&&T(e,["requests[]","taskType"],r);const s=b(t,["title"]);e!==void 0&&s!=null&&T(e,["requests[]","title"],s);const i=b(t,["outputDimensionality"]);if(e!==void 0&&i!=null&&T(e,["requests[]","outputDimensionality"],i),b(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(b(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function soe(t,e){const n={},r=b(e,["fileName"]);r!=null&&T(n,["file_name"],r);const s=b(e,["inlinedRequests"]);return s!=null&&T(n,["requests"],noe(t,s)),n}function ioe(t){const e={};if(b(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=b(t,["fileUri"]);n!=null&&T(e,["fileUri"],n);const r=b(t,["mimeType"]);return r!=null&&T(e,["mimeType"],r),e}function aoe(t){const e={},n=b(t,["id"]);n!=null&&T(e,["id"],n);const r=b(t,["args"]);r!=null&&T(e,["args"],r);const s=b(t,["name"]);if(s!=null&&T(e,["name"],s),b(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(b(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function ooe(t){const e={},n=b(t,["mode"]);n!=null&&T(e,["mode"],n);const r=b(t,["allowedFunctionNames"]);if(r!=null&&T(e,["allowedFunctionNames"],r),b(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function loe(t,e,n){const r={},s=b(e,["systemInstruction"]);n!==void 0&&s!=null&&T(n,["systemInstruction"],jB(Ra(s)));const i=b(e,["temperature"]);i!=null&&T(r,["temperature"],i);const a=b(e,["topP"]);a!=null&&T(r,["topP"],a);const o=b(e,["topK"]);o!=null&&T(r,["topK"],o);const c=b(e,["candidateCount"]);c!=null&&T(r,["candidateCount"],c);const u=b(e,["maxOutputTokens"]);u!=null&&T(r,["maxOutputTokens"],u);const d=b(e,["stopSequences"]);d!=null&&T(r,["stopSequences"],d);const p=b(e,["responseLogprobs"]);p!=null&&T(r,["responseLogprobs"],p);const g=b(e,["logprobs"]);g!=null&&T(r,["logprobs"],g);const x=b(e,["presencePenalty"]);x!=null&&T(r,["presencePenalty"],x);const w=b(e,["frequencyPenalty"]);w!=null&&T(r,["frequencyPenalty"],w);const y=b(e,["seed"]);y!=null&&T(r,["seed"],y);const S=b(e,["responseMimeType"]);S!=null&&T(r,["responseMimeType"],S);const C=b(e,["responseSchema"]);C!=null&&T(r,["responseSchema"],fC(C));const F=b(e,["responseJsonSchema"]);if(F!=null&&T(r,["responseJsonSchema"],F),b(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(b(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const I=b(e,["safetySettings"]);if(n!==void 0&&I!=null){let O=I;Array.isArray(O)&&(O=O.map(j=>Toe(j))),T(n,["safetySettings"],O)}const D=b(e,["tools"]);if(n!==void 0&&D!=null){let O=Mm(D);Array.isArray(O)&&(O=O.map(j=>Aoe(Dm(j)))),T(n,["tools"],O)}const z=b(e,["toolConfig"]);if(n!==void 0&&z!=null&&T(n,["toolConfig"],Soe(z)),b(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const G=b(e,["cachedContent"]);n!==void 0&&G!=null&&T(n,["cachedContent"],hf(t,G));const P=b(e,["responseModalities"]);P!=null&&T(r,["responseModalities"],P);const M=b(e,["mediaResolution"]);M!=null&&T(r,["mediaResolution"],M);const R=b(e,["speechConfig"]);if(R!=null&&T(r,["speechConfig"],dC(R)),b(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const U=b(e,["thinkingConfig"]);U!=null&&T(r,["thinkingConfig"],U);const L=b(e,["imageConfig"]);return L!=null&&T(r,["imageConfig"],poe(L)),r}function coe(t){const e={},n=b(t,["sdkHttpResponse"]);n!=null&&T(e,["sdkHttpResponse"],n);const r=b(t,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(u=>Gae(u))),T(e,["candidates"],c)}const s=b(t,["modelVersion"]);s!=null&&T(e,["modelVersion"],s);const i=b(t,["promptFeedback"]);i!=null&&T(e,["promptFeedback"],i);const a=b(t,["responseId"]);a!=null&&T(e,["responseId"],a);const o=b(t,["usageMetadata"]);return o!=null&&T(e,["usageMetadata"],o),e}function uoe(t,e){const n={},r=b(e,["name"]);return r!=null&&T(n,["_url","name"],Lm(t,r)),n}function foe(t,e){const n={},r=b(e,["name"]);return r!=null&&T(n,["_url","name"],Lm(t,r)),n}function doe(t){const e={};if(b(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=b(t,["enableWidget"]);return n!=null&&T(e,["enableWidget"],n),e}function hoe(t){const e={};if(b(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(b(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=b(t,["timeRangeFilter"]);return n!=null&&T(e,["timeRangeFilter"],n),e}function poe(t){const e={},n=b(t,["aspectRatio"]);n!=null&&T(e,["aspectRatio"],n);const r=b(t,["imageSize"]);if(r!=null&&T(e,["imageSize"],r),b(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(b(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function moe(t,e){const n={},r=b(e,["model"]);r!=null&&T(n,["request","model"],Mr(t,r));const s=b(e,["contents"]);if(s!=null){let o=Al(s);Array.isArray(o)&&(o=o.map(c=>jB(c))),T(n,["request","contents"],o)}const i=b(e,["metadata"]);i!=null&&T(n,["metadata"],i);const a=b(e,["config"]);return a!=null&&T(n,["request","generationConfig"],loe(t,a,b(n,["request"],{}))),n}function goe(t){const e={},n=b(t,["response"]);n!=null&&T(e,["response"],coe(n));const r=b(t,["error"]);return r!=null&&T(e,["error"],r),e}function xoe(t,e){const n={},r=b(t,["pageSize"]);e!==void 0&&r!=null&&T(e,["_query","pageSize"],r);const s=b(t,["pageToken"]);if(e!==void 0&&s!=null&&T(e,["_query","pageToken"],s),b(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function voe(t,e){const n={},r=b(t,["pageSize"]);e!==void 0&&r!=null&&T(e,["_query","pageSize"],r);const s=b(t,["pageToken"]);e!==void 0&&s!=null&&T(e,["_query","pageToken"],s);const i=b(t,["filter"]);return e!==void 0&&i!=null&&T(e,["_query","filter"],i),n}function yoe(t){const e={},n=b(t,["config"]);return n!=null&&xoe(n,e),e}function boe(t){const e={},n=b(t,["config"]);return n!=null&&voe(n,e),e}function woe(t){const e={},n=b(t,["sdkHttpResponse"]);n!=null&&T(e,["sdkHttpResponse"],n);const r=b(t,["nextPageToken"]);r!=null&&T(e,["nextPageToken"],r);const s=b(t,["operations"]);if(s!=null){let i=s;Array.isArray(i)&&(i=i.map(a=>Yy(a))),T(e,["batchJobs"],i)}return e}function _oe(t){const e={},n=b(t,["sdkHttpResponse"]);n!=null&&T(e,["sdkHttpResponse"],n);const r=b(t,["nextPageToken"]);r!=null&&T(e,["nextPageToken"],r);const s=b(t,["batchPredictionJobs"]);if(s!=null){let i=s;Array.isArray(i)&&(i=i.map(a=>DT(a))),T(e,["batchJobs"],i)}return e}function Eoe(t){const e={},n=b(t,["mediaResolution"]);n!=null&&T(e,["mediaResolution"],n);const r=b(t,["codeExecutionResult"]);r!=null&&T(e,["codeExecutionResult"],r);const s=b(t,["executableCode"]);s!=null&&T(e,["executableCode"],s);const i=b(t,["fileData"]);i!=null&&T(e,["fileData"],ioe(i));const a=b(t,["functionCall"]);a!=null&&T(e,["functionCall"],aoe(a));const o=b(t,["functionResponse"]);o!=null&&T(e,["functionResponse"],o);const c=b(t,["inlineData"]);c!=null&&T(e,["inlineData"],qae(c));const u=b(t,["text"]);u!=null&&T(e,["text"],u);const d=b(t,["thought"]);d!=null&&T(e,["thought"],d);const p=b(t,["thoughtSignature"]);p!=null&&T(e,["thoughtSignature"],p);const g=b(t,["videoMetadata"]);return g!=null&&T(e,["videoMetadata"],g),e}function Toe(t){const e={},n=b(t,["category"]);if(n!=null&&T(e,["category"],n),b(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=b(t,["threshold"]);return r!=null&&T(e,["threshold"],r),e}function Soe(t){const e={},n=b(t,["functionCallingConfig"]);n!=null&&T(e,["functionCallingConfig"],ooe(n));const r=b(t,["retrievalConfig"]);return r!=null&&T(e,["retrievalConfig"],r),e}function Aoe(t){const e={},n=b(t,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(p=>p)),T(e,["functionDeclarations"],d)}if(b(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=b(t,["googleSearchRetrieval"]);r!=null&&T(e,["googleSearchRetrieval"],r);const s=b(t,["computerUse"]);s!=null&&T(e,["computerUse"],s);const i=b(t,["fileSearch"]);i!=null&&T(e,["fileSearch"],i);const a=b(t,["codeExecution"]);if(a!=null&&T(e,["codeExecution"],a),b(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=b(t,["googleMaps"]);o!=null&&T(e,["googleMaps"],doe(o));const c=b(t,["googleSearch"]);c!=null&&T(e,["googleSearch"],hoe(c));const u=b(t,["urlContext"]);return u!=null&&T(e,["urlContext"],u),e}var rf;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(rf||(rf={}));class n0{constructor(e,n,r,s){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,s)}init(e,n,r){var s,i;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n?.sdkHttpResponse,this.idxInternal=0;let a={config:{}};!r||Object.keys(r).length===0?a={config:{}}:typeof r=="object"?a=Object.assign({},r):a=r,a.config&&(a.config.pageToken=n.nextPageToken),this.paramsInternal=a,this.pageInternalSize=(i=(s=a.config)===null||s===void 0?void 0:s.pageSize)!==null&&i!==void 0?i:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}class Coe extends df{constructor(e){super(),this.apiClient=e,this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)},this.list=async(n={})=>new n0(rf.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n)}createInlinedGenerateContentRequest(e){const n=xP(this.apiClient,e),r=n._url,s=qt("{model}:batchGenerateContent",r),o=n.batch.inputConfig.requests,c=o.requests,u=[];for(const d of c){const p=Object.assign({},d);if(p.systemInstruction){const g=p.systemInstruction;delete p.systemInstruction;const x=p.request;x.systemInstruction=g,p.request=x}u.push(p)}return o.requests=u,delete n.config,delete n._url,delete n._query,{path:s,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},s=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${s}`),r.dest===void 0){const i=this.getGcsUri(e),a=this.getBigqueryUri(e);if(i)i.endsWith(".jsonl")?r.dest=`${i.slice(0,-6)}/dest`:r.dest=`${i}_dest_${s}`;else if(a)r.dest=`${a}_dest_${s}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,s,i;let a,o="",c={};if(this.apiClient.isVertexAI()){const u=Yae(this.apiClient,e);return o=qt("batchPredictionJobs",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>DT(d))}else{const u=xP(this.apiClient,e);return o=qt("{model}:batchGenerateContent",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),a.then(d=>Yy(d))}}async createEmbeddingsInternal(e){var n,r;let s,i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Jae(this.apiClient,e);return i=qt("{model}:asyncBatchEmbedContent",o._url),a=o._query,delete o._url,delete o._query,s=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>Yy(c))}}async get(e){var n,r,s,i;let a,o="",c={};if(this.apiClient.isVertexAI()){const u=foe(this.apiClient,e);return o=qt("batchPredictionJobs/{name}",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>DT(d))}else{const u=uoe(this.apiClient,e);return o=qt("batches/{name}",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),a.then(d=>Yy(d))}}async cancel(e){var n,r,s,i;let a="",o={};if(this.apiClient.isVertexAI()){const c=zae(this.apiClient,e);a=qt("batchPredictionJobs/{name}:cancel",c._url),o=c._query,delete c._url,delete c._query,await this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const c=Hae(this.apiClient,e);a=qt("batches/{name}:cancel",c._url),o=c._query,delete c._url,delete c._query,await this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var n,r,s,i;let a,o="",c={};if(this.apiClient.isVertexAI()){const u=boe(e);return o=qt("batchPredictionJobs",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const p=_oe(d),g=new hP;return Object.assign(g,p),g})}else{const u=yoe(e);return o=qt("batches",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const p=woe(d),g=new hP;return Object.assign(g,p),g})}}async delete(e){var n,r,s,i;let a,o="",c={};if(this.apiClient.isVertexAI()){const u=Zae(this.apiClient,e);return o=qt("batchPredictionJobs/{name}",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>toe(d))}else{const u=Qae(this.apiClient,e);return o=qt("batches/{name}",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>eoe(d))}}}function Noe(t){const e={},n=b(t,["data"]);if(n!=null&&T(e,["data"],n),b(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=b(t,["mimeType"]);return r!=null&&T(e,["mimeType"],r),e}function vP(t){const e={},n=b(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(i=>Joe(i))),T(e,["parts"],s)}const r=b(t,["role"]);return r!=null&&T(e,["role"],r),e}function Ioe(t,e){const n={},r=b(t,["ttl"]);e!==void 0&&r!=null&&T(e,["ttl"],r);const s=b(t,["expireTime"]);e!==void 0&&s!=null&&T(e,["expireTime"],s);const i=b(t,["displayName"]);e!==void 0&&i!=null&&T(e,["displayName"],i);const a=b(t,["contents"]);if(e!==void 0&&a!=null){let d=Al(a);Array.isArray(d)&&(d=d.map(p=>vP(p))),T(e,["contents"],d)}const o=b(t,["systemInstruction"]);e!==void 0&&o!=null&&T(e,["systemInstruction"],vP(Ra(o)));const c=b(t,["tools"]);if(e!==void 0&&c!=null){let d=c;Array.isArray(d)&&(d=d.map(p=>Zoe(p))),T(e,["tools"],d)}const u=b(t,["toolConfig"]);if(e!==void 0&&u!=null&&T(e,["toolConfig"],Qoe(u)),b(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function koe(t,e){const n={},r=b(t,["ttl"]);e!==void 0&&r!=null&&T(e,["ttl"],r);const s=b(t,["expireTime"]);e!==void 0&&s!=null&&T(e,["expireTime"],s);const i=b(t,["displayName"]);e!==void 0&&i!=null&&T(e,["displayName"],i);const a=b(t,["contents"]);if(e!==void 0&&a!=null){let p=Al(a);Array.isArray(p)&&(p=p.map(g=>g)),T(e,["contents"],p)}const o=b(t,["systemInstruction"]);e!==void 0&&o!=null&&T(e,["systemInstruction"],Ra(o));const c=b(t,["tools"]);if(e!==void 0&&c!=null){let p=c;Array.isArray(p)&&(p=p.map(g=>ele(g))),T(e,["tools"],p)}const u=b(t,["toolConfig"]);e!==void 0&&u!=null&&T(e,["toolConfig"],u);const d=b(t,["kmsKeyName"]);return e!==void 0&&d!=null&&T(e,["encryption_spec","kmsKeyName"],d),n}function Roe(t,e){const n={},r=b(e,["model"]);r!=null&&T(n,["model"],IB(t,r));const s=b(e,["config"]);return s!=null&&Ioe(s,n),n}function Poe(t,e){const n={},r=b(e,["model"]);r!=null&&T(n,["model"],IB(t,r));const s=b(e,["config"]);return s!=null&&koe(s,n),n}function Doe(t,e){const n={},r=b(e,["name"]);return r!=null&&T(n,["_url","name"],hf(t,r)),n}function Moe(t,e){const n={},r=b(e,["name"]);return r!=null&&T(n,["_url","name"],hf(t,r)),n}function Loe(t){const e={},n=b(t,["sdkHttpResponse"]);return n!=null&&T(e,["sdkHttpResponse"],n),e}function Foe(t){const e={},n=b(t,["sdkHttpResponse"]);return n!=null&&T(e,["sdkHttpResponse"],n),e}function Ooe(t){const e={};if(b(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=b(t,["fileUri"]);n!=null&&T(e,["fileUri"],n);const r=b(t,["mimeType"]);return r!=null&&T(e,["mimeType"],r),e}function Boe(t){const e={},n=b(t,["id"]);n!=null&&T(e,["id"],n);const r=b(t,["args"]);r!=null&&T(e,["args"],r);const s=b(t,["name"]);if(s!=null&&T(e,["name"],s),b(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(b(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Voe(t){const e={},n=b(t,["mode"]);n!=null&&T(e,["mode"],n);const r=b(t,["allowedFunctionNames"]);if(r!=null&&T(e,["allowedFunctionNames"],r),b(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Uoe(t){const e={};if(b(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=b(t,["description"]);n!=null&&T(e,["description"],n);const r=b(t,["name"]);r!=null&&T(e,["name"],r);const s=b(t,["parameters"]);s!=null&&T(e,["parameters"],s);const i=b(t,["parametersJsonSchema"]);i!=null&&T(e,["parametersJsonSchema"],i);const a=b(t,["response"]);a!=null&&T(e,["response"],a);const o=b(t,["responseJsonSchema"]);return o!=null&&T(e,["responseJsonSchema"],o),e}function joe(t,e){const n={},r=b(e,["name"]);return r!=null&&T(n,["_url","name"],hf(t,r)),n}function qoe(t,e){const n={},r=b(e,["name"]);return r!=null&&T(n,["_url","name"],hf(t,r)),n}function Hoe(t){const e={};if(b(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=b(t,["enableWidget"]);return n!=null&&T(e,["enableWidget"],n),e}function zoe(t){const e={};if(b(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(b(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=b(t,["timeRangeFilter"]);return n!=null&&T(e,["timeRangeFilter"],n),e}function Goe(t,e){const n={},r=b(t,["pageSize"]);e!==void 0&&r!=null&&T(e,["_query","pageSize"],r);const s=b(t,["pageToken"]);return e!==void 0&&s!=null&&T(e,["_query","pageToken"],s),n}function $oe(t,e){const n={},r=b(t,["pageSize"]);e!==void 0&&r!=null&&T(e,["_query","pageSize"],r);const s=b(t,["pageToken"]);return e!==void 0&&s!=null&&T(e,["_query","pageToken"],s),n}function Woe(t){const e={},n=b(t,["config"]);return n!=null&&Goe(n,e),e}function Koe(t){const e={},n=b(t,["config"]);return n!=null&&$oe(n,e),e}function Yoe(t){const e={},n=b(t,["sdkHttpResponse"]);n!=null&&T(e,["sdkHttpResponse"],n);const r=b(t,["nextPageToken"]);r!=null&&T(e,["nextPageToken"],r);const s=b(t,["cachedContents"]);if(s!=null){let i=s;Array.isArray(i)&&(i=i.map(a=>a)),T(e,["cachedContents"],i)}return e}function Xoe(t){const e={},n=b(t,["sdkHttpResponse"]);n!=null&&T(e,["sdkHttpResponse"],n);const r=b(t,["nextPageToken"]);r!=null&&T(e,["nextPageToken"],r);const s=b(t,["cachedContents"]);if(s!=null){let i=s;Array.isArray(i)&&(i=i.map(a=>a)),T(e,["cachedContents"],i)}return e}function Joe(t){const e={},n=b(t,["mediaResolution"]);n!=null&&T(e,["mediaResolution"],n);const r=b(t,["codeExecutionResult"]);r!=null&&T(e,["codeExecutionResult"],r);const s=b(t,["executableCode"]);s!=null&&T(e,["executableCode"],s);const i=b(t,["fileData"]);i!=null&&T(e,["fileData"],Ooe(i));const a=b(t,["functionCall"]);a!=null&&T(e,["functionCall"],Boe(a));const o=b(t,["functionResponse"]);o!=null&&T(e,["functionResponse"],o);const c=b(t,["inlineData"]);c!=null&&T(e,["inlineData"],Noe(c));const u=b(t,["text"]);u!=null&&T(e,["text"],u);const d=b(t,["thought"]);d!=null&&T(e,["thought"],d);const p=b(t,["thoughtSignature"]);p!=null&&T(e,["thoughtSignature"],p);const g=b(t,["videoMetadata"]);return g!=null&&T(e,["videoMetadata"],g),e}function Qoe(t){const e={},n=b(t,["functionCallingConfig"]);n!=null&&T(e,["functionCallingConfig"],Voe(n));const r=b(t,["retrievalConfig"]);return r!=null&&T(e,["retrievalConfig"],r),e}function Zoe(t){const e={},n=b(t,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(p=>p)),T(e,["functionDeclarations"],d)}if(b(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=b(t,["googleSearchRetrieval"]);r!=null&&T(e,["googleSearchRetrieval"],r);const s=b(t,["computerUse"]);s!=null&&T(e,["computerUse"],s);const i=b(t,["fileSearch"]);i!=null&&T(e,["fileSearch"],i);const a=b(t,["codeExecution"]);if(a!=null&&T(e,["codeExecution"],a),b(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=b(t,["googleMaps"]);o!=null&&T(e,["googleMaps"],Hoe(o));const c=b(t,["googleSearch"]);c!=null&&T(e,["googleSearch"],zoe(c));const u=b(t,["urlContext"]);return u!=null&&T(e,["urlContext"],u),e}function ele(t){const e={},n=b(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(g=>Uoe(g))),T(e,["functionDeclarations"],p)}const r=b(t,["retrieval"]);r!=null&&T(e,["retrieval"],r);const s=b(t,["googleSearchRetrieval"]);s!=null&&T(e,["googleSearchRetrieval"],s);const i=b(t,["computerUse"]);if(i!=null&&T(e,["computerUse"],i),b(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=b(t,["codeExecution"]);a!=null&&T(e,["codeExecution"],a);const o=b(t,["enterpriseWebSearch"]);o!=null&&T(e,["enterpriseWebSearch"],o);const c=b(t,["googleMaps"]);c!=null&&T(e,["googleMaps"],c);const u=b(t,["googleSearch"]);u!=null&&T(e,["googleSearch"],u);const d=b(t,["urlContext"]);return d!=null&&T(e,["urlContext"],d),e}function tle(t,e){const n={},r=b(t,["ttl"]);e!==void 0&&r!=null&&T(e,["ttl"],r);const s=b(t,["expireTime"]);return e!==void 0&&s!=null&&T(e,["expireTime"],s),n}function nle(t,e){const n={},r=b(t,["ttl"]);e!==void 0&&r!=null&&T(e,["ttl"],r);const s=b(t,["expireTime"]);return e!==void 0&&s!=null&&T(e,["expireTime"],s),n}function rle(t,e){const n={},r=b(e,["name"]);r!=null&&T(n,["_url","name"],hf(t,r));const s=b(e,["config"]);return s!=null&&tle(s,n),n}function sle(t,e){const n={},r=b(e,["name"]);r!=null&&T(n,["_url","name"],hf(t,r));const s=b(e,["config"]);return s!=null&&nle(s,n),n}class ile extends df{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new n0(rf.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,s,i;let a,o="",c={};if(this.apiClient.isVertexAI()){const u=Poe(this.apiClient,e);return o=qt("cachedContents",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>d)}else{const u=Roe(this.apiClient,e);return o=qt("cachedContents",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),a.then(d=>d)}}async get(e){var n,r,s,i;let a,o="",c={};if(this.apiClient.isVertexAI()){const u=qoe(this.apiClient,e);return o=qt("{name}",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>d)}else{const u=joe(this.apiClient,e);return o=qt("{name}",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),a.then(d=>d)}}async delete(e){var n,r,s,i;let a,o="",c={};if(this.apiClient.isVertexAI()){const u=Moe(this.apiClient,e);return o=qt("{name}",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const p=Foe(d),g=new fP;return Object.assign(g,p),g})}else{const u=Doe(this.apiClient,e);return o=qt("{name}",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const p=Loe(d),g=new fP;return Object.assign(g,p),g})}}async update(e){var n,r,s,i;let a,o="",c={};if(this.apiClient.isVertexAI()){const u=sle(this.apiClient,e);return o=qt("{name}",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>d)}else{const u=rle(this.apiClient,e);return o=qt("{name}",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),a.then(d=>d)}}async listInternal(e){var n,r,s,i;let a,o="",c={};if(this.apiClient.isVertexAI()){const u=Koe(e);return o=qt("cachedContents",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const p=Xoe(d),g=new dP;return Object.assign(g,p),g})}else{const u=Woe(e);return o=qt("cachedContents",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const p=Yoe(d),g=new dP;return Object.assign(g,p),g})}}}function yP(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function gs(t){return this instanceof gs?(this.v=t,this):new gs(t)}function Hp(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",a),s[Symbol.asyncIterator]=function(){return this},s;function a(x){return function(w){return Promise.resolve(w).then(x,p)}}function o(x,w){r[x]&&(s[x]=function(y){return new Promise(function(S,C){i.push([x,y,S,C])>1||c(x,y)})},w&&(s[x]=w(s[x])))}function c(x,w){try{u(r[x](w))}catch(y){g(i[0][3],y)}}function u(x){x.value instanceof gs?Promise.resolve(x.value.v).then(d,p):g(i[0][2],x)}function d(x){c("next",x)}function p(x){c("throw",x)}function g(x,w){x(w),i.shift(),i.length&&c(i[0][0],i[0][1])}}function g1(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof yP=="function"?yP(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=t[i]&&function(a){return new Promise(function(o,c){a=t[i](a),s(o,c,a.done,a.value)})}}function s(i,a,o,c){Promise.resolve(c).then(function(u){i({value:u,done:o})},a)}}function ale(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:qB(n)}function qB(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function ole(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function bP(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const s=[];let i=!0;for(;r<n&&t[r].role==="model";)s.push(t[r]),i&&!qB(t[r])&&(i=!1),r++;i?e.push(...s):e.pop()}return e}class lle{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new cle(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class cle{constructor(e,n,r,s={},i=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=s,this.history=i,this.sendPromise=Promise.resolve(),ole(i)}async sendMessage(e){var n;await this.sendPromise;const r=Ra(e.message),s=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var i,a,o;const c=await s,u=(a=(i=c.candidates)===null||i===void 0?void 0:i[0])===null||a===void 0?void 0:a.content,d=c.automaticFunctionCallingHistory,p=this.getHistory(!0).length;let g=[];d!=null&&(g=(o=d.slice(p))!==null&&o!==void 0?o:[]);const x=u?[u]:[];this.recordHistory(r,x,g)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),s}async sendMessageStream(e){var n;await this.sendPromise;const r=Ra(e.message),s=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=s.then(()=>{}).catch(()=>{});const i=await s;return this.processStreamResponse(i,r)}getHistory(e=!1){const n=e?bP(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var r,s;return Hp(this,arguments,function*(){var a,o,c,u;const d=[];try{for(var p=!0,g=g1(e),x;x=yield gs(g.next()),a=x.done,!a;p=!0){u=x.value,p=!1;const w=u;if(ale(w)){const y=(s=(r=w.candidates)===null||r===void 0?void 0:r[0])===null||s===void 0?void 0:s.content;y!==void 0&&d.push(y)}yield yield gs(w)}}catch(w){o={error:w}}finally{try{!p&&!a&&(c=g.return)&&(yield gs(c.call(g)))}finally{if(o)throw o.error}}this.recordHistory(n,d)})}recordHistory(e,n,r){let s=[];n.length>0&&n.every(i=>i.role!==void 0)?s=n:s.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...bP(r)):this.history.push(e),this.history.push(...s)}}class Kb extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Kb.prototype)}}function ule(t){const e={},n=b(t,["file"]);return n!=null&&T(e,["file"],n),e}function fle(t){const e={},n=b(t,["sdkHttpResponse"]);return n!=null&&T(e,["sdkHttpResponse"],n),e}function dle(t){const e={},n=b(t,["name"]);return n!=null&&T(e,["_url","file"],LB(n)),e}function hle(t){const e={},n=b(t,["sdkHttpResponse"]);return n!=null&&T(e,["sdkHttpResponse"],n),e}function ple(t){const e={},n=b(t,["name"]);return n!=null&&T(e,["_url","file"],LB(n)),e}function mle(t,e){const n={},r=b(t,["pageSize"]);e!==void 0&&r!=null&&T(e,["_query","pageSize"],r);const s=b(t,["pageToken"]);return e!==void 0&&s!=null&&T(e,["_query","pageToken"],s),n}function gle(t){const e={},n=b(t,["config"]);return n!=null&&mle(n,e),e}function xle(t){const e={},n=b(t,["sdkHttpResponse"]);n!=null&&T(e,["sdkHttpResponse"],n);const r=b(t,["nextPageToken"]);r!=null&&T(e,["nextPageToken"],r);const s=b(t,["files"]);if(s!=null){let i=s;Array.isArray(i)&&(i=i.map(a=>a)),T(e,["files"],i)}return e}class vle extends df{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new n0(rf.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let s,i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=gle(e);return i=qt("files",o._url),a=o._query,delete o._url,delete o._query,s=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const u=xle(c),d=new _ae;return Object.assign(d,u),d})}}async createInternal(e){var n,r;let s,i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=ule(e);return i=qt("upload/v1beta/files",o._url),a=o._query,delete o._url,delete o._query,s=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>{const u=fle(c),d=new Eae;return Object.assign(d,u),d})}}async get(e){var n,r;let s,i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=ple(e);return i=qt("files/{file}",o._url),a=o._query,delete o._url,delete o._query,s=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>c)}}async delete(e){var n,r;let s,i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=dle(e);return i=qt("files/{file}",o._url),a=o._query,delete o._url,delete o._query,s=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const u=hle(c),d=new Tae;return Object.assign(d,u),d})}}}function Xy(t){const e={},n=b(t,["data"]);if(n!=null&&T(e,["data"],n),b(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=b(t,["mimeType"]);return r!=null&&T(e,["mimeType"],r),e}function yle(t){const e={},n=b(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(i=>Lle(i))),T(e,["parts"],s)}const r=b(t,["role"]);return r!=null&&T(e,["role"],r),e}function ble(t){const e={};if(b(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=b(t,["fileUri"]);n!=null&&T(e,["fileUri"],n);const r=b(t,["mimeType"]);return r!=null&&T(e,["mimeType"],r),e}function wle(t){const e={},n=b(t,["id"]);n!=null&&T(e,["id"],n);const r=b(t,["args"]);r!=null&&T(e,["args"],r);const s=b(t,["name"]);if(s!=null&&T(e,["name"],s),b(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(b(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function _le(t){const e={};if(b(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=b(t,["description"]);n!=null&&T(e,["description"],n);const r=b(t,["name"]);r!=null&&T(e,["name"],r);const s=b(t,["parameters"]);s!=null&&T(e,["parameters"],s);const i=b(t,["parametersJsonSchema"]);i!=null&&T(e,["parametersJsonSchema"],i);const a=b(t,["response"]);a!=null&&T(e,["response"],a);const o=b(t,["responseJsonSchema"]);return o!=null&&T(e,["responseJsonSchema"],o),e}function Ele(t){const e={},n=b(t,["modelSelectionConfig"]);n!=null&&T(e,["modelConfig"],n);const r=b(t,["responseJsonSchema"]);r!=null&&T(e,["responseJsonSchema"],r);const s=b(t,["audioTimestamp"]);s!=null&&T(e,["audioTimestamp"],s);const i=b(t,["candidateCount"]);i!=null&&T(e,["candidateCount"],i);const a=b(t,["enableAffectiveDialog"]);a!=null&&T(e,["enableAffectiveDialog"],a);const o=b(t,["frequencyPenalty"]);o!=null&&T(e,["frequencyPenalty"],o);const c=b(t,["logprobs"]);c!=null&&T(e,["logprobs"],c);const u=b(t,["maxOutputTokens"]);u!=null&&T(e,["maxOutputTokens"],u);const d=b(t,["mediaResolution"]);d!=null&&T(e,["mediaResolution"],d);const p=b(t,["presencePenalty"]);p!=null&&T(e,["presencePenalty"],p);const g=b(t,["responseLogprobs"]);g!=null&&T(e,["responseLogprobs"],g);const x=b(t,["responseMimeType"]);x!=null&&T(e,["responseMimeType"],x);const w=b(t,["responseModalities"]);w!=null&&T(e,["responseModalities"],w);const y=b(t,["responseSchema"]);y!=null&&T(e,["responseSchema"],y);const S=b(t,["routingConfig"]);S!=null&&T(e,["routingConfig"],S);const C=b(t,["seed"]);C!=null&&T(e,["seed"],C);const F=b(t,["speechConfig"]);F!=null&&T(e,["speechConfig"],HB(F));const I=b(t,["stopSequences"]);I!=null&&T(e,["stopSequences"],I);const D=b(t,["temperature"]);D!=null&&T(e,["temperature"],D);const z=b(t,["thinkingConfig"]);z!=null&&T(e,["thinkingConfig"],z);const G=b(t,["topK"]);G!=null&&T(e,["topK"],G);const P=b(t,["topP"]);if(P!=null&&T(e,["topP"],P),b(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function Tle(t){const e={};if(b(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=b(t,["enableWidget"]);return n!=null&&T(e,["enableWidget"],n),e}function Sle(t){const e={};if(b(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(b(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=b(t,["timeRangeFilter"]);return n!=null&&T(e,["timeRangeFilter"],n),e}function Ale(t,e){const n={},r=b(t,["generationConfig"]);e!==void 0&&r!=null&&T(e,["setup","generationConfig"],r);const s=b(t,["responseModalities"]);e!==void 0&&s!=null&&T(e,["setup","generationConfig","responseModalities"],s);const i=b(t,["temperature"]);e!==void 0&&i!=null&&T(e,["setup","generationConfig","temperature"],i);const a=b(t,["topP"]);e!==void 0&&a!=null&&T(e,["setup","generationConfig","topP"],a);const o=b(t,["topK"]);e!==void 0&&o!=null&&T(e,["setup","generationConfig","topK"],o);const c=b(t,["maxOutputTokens"]);e!==void 0&&c!=null&&T(e,["setup","generationConfig","maxOutputTokens"],c);const u=b(t,["mediaResolution"]);e!==void 0&&u!=null&&T(e,["setup","generationConfig","mediaResolution"],u);const d=b(t,["seed"]);e!==void 0&&d!=null&&T(e,["setup","generationConfig","seed"],d);const p=b(t,["speechConfig"]);e!==void 0&&p!=null&&T(e,["setup","generationConfig","speechConfig"],hC(p));const g=b(t,["thinkingConfig"]);e!==void 0&&g!=null&&T(e,["setup","generationConfig","thinkingConfig"],g);const x=b(t,["enableAffectiveDialog"]);e!==void 0&&x!=null&&T(e,["setup","generationConfig","enableAffectiveDialog"],x);const w=b(t,["systemInstruction"]);e!==void 0&&w!=null&&T(e,["setup","systemInstruction"],yle(Ra(w)));const y=b(t,["tools"]);if(e!==void 0&&y!=null){let G=Mm(y);Array.isArray(G)&&(G=G.map(P=>Ole(Dm(P)))),T(e,["setup","tools"],G)}const S=b(t,["sessionResumption"]);e!==void 0&&S!=null&&T(e,["setup","sessionResumption"],Fle(S));const C=b(t,["inputAudioTranscription"]);e!==void 0&&C!=null&&T(e,["setup","inputAudioTranscription"],C);const F=b(t,["outputAudioTranscription"]);e!==void 0&&F!=null&&T(e,["setup","outputAudioTranscription"],F);const I=b(t,["realtimeInputConfig"]);e!==void 0&&I!=null&&T(e,["setup","realtimeInputConfig"],I);const D=b(t,["contextWindowCompression"]);e!==void 0&&D!=null&&T(e,["setup","contextWindowCompression"],D);const z=b(t,["proactivity"]);return e!==void 0&&z!=null&&T(e,["setup","proactivity"],z),n}function Cle(t,e){const n={},r=b(t,["generationConfig"]);e!==void 0&&r!=null&&T(e,["setup","generationConfig"],Ele(r));const s=b(t,["responseModalities"]);e!==void 0&&s!=null&&T(e,["setup","generationConfig","responseModalities"],s);const i=b(t,["temperature"]);e!==void 0&&i!=null&&T(e,["setup","generationConfig","temperature"],i);const a=b(t,["topP"]);e!==void 0&&a!=null&&T(e,["setup","generationConfig","topP"],a);const o=b(t,["topK"]);e!==void 0&&o!=null&&T(e,["setup","generationConfig","topK"],o);const c=b(t,["maxOutputTokens"]);e!==void 0&&c!=null&&T(e,["setup","generationConfig","maxOutputTokens"],c);const u=b(t,["mediaResolution"]);e!==void 0&&u!=null&&T(e,["setup","generationConfig","mediaResolution"],u);const d=b(t,["seed"]);e!==void 0&&d!=null&&T(e,["setup","generationConfig","seed"],d);const p=b(t,["speechConfig"]);e!==void 0&&p!=null&&T(e,["setup","generationConfig","speechConfig"],HB(hC(p)));const g=b(t,["thinkingConfig"]);e!==void 0&&g!=null&&T(e,["setup","generationConfig","thinkingConfig"],g);const x=b(t,["enableAffectiveDialog"]);e!==void 0&&x!=null&&T(e,["setup","generationConfig","enableAffectiveDialog"],x);const w=b(t,["systemInstruction"]);e!==void 0&&w!=null&&T(e,["setup","systemInstruction"],Ra(w));const y=b(t,["tools"]);if(e!==void 0&&y!=null){let G=Mm(y);Array.isArray(G)&&(G=G.map(P=>Ble(Dm(P)))),T(e,["setup","tools"],G)}const S=b(t,["sessionResumption"]);e!==void 0&&S!=null&&T(e,["setup","sessionResumption"],S);const C=b(t,["inputAudioTranscription"]);e!==void 0&&C!=null&&T(e,["setup","inputAudioTranscription"],C);const F=b(t,["outputAudioTranscription"]);e!==void 0&&F!=null&&T(e,["setup","outputAudioTranscription"],F);const I=b(t,["realtimeInputConfig"]);e!==void 0&&I!=null&&T(e,["setup","realtimeInputConfig"],I);const D=b(t,["contextWindowCompression"]);e!==void 0&&D!=null&&T(e,["setup","contextWindowCompression"],D);const z=b(t,["proactivity"]);return e!==void 0&&z!=null&&T(e,["setup","proactivity"],z),n}function Nle(t,e){const n={},r=b(e,["model"]);r!=null&&T(n,["setup","model"],Mr(t,r));const s=b(e,["config"]);return s!=null&&T(n,["config"],Ale(s,n)),n}function Ile(t,e){const n={},r=b(e,["model"]);r!=null&&T(n,["setup","model"],Mr(t,r));const s=b(e,["config"]);return s!=null&&T(n,["config"],Cle(s,n)),n}function kle(t){const e={},n=b(t,["musicGenerationConfig"]);return n!=null&&T(e,["musicGenerationConfig"],n),e}function Rle(t){const e={},n=b(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>s)),T(e,["weightedPrompts"],r)}return e}function Ple(t){const e={},n=b(t,["media"]);if(n!=null){let u=kB(n);Array.isArray(u)&&(u=u.map(d=>Xy(d))),T(e,["mediaChunks"],u)}const r=b(t,["audio"]);r!=null&&T(e,["audio"],Xy(PB(r)));const s=b(t,["audioStreamEnd"]);s!=null&&T(e,["audioStreamEnd"],s);const i=b(t,["video"]);i!=null&&T(e,["video"],Xy(RB(i)));const a=b(t,["text"]);a!=null&&T(e,["text"],a);const o=b(t,["activityStart"]);o!=null&&T(e,["activityStart"],o);const c=b(t,["activityEnd"]);return c!=null&&T(e,["activityEnd"],c),e}function Dle(t){const e={},n=b(t,["media"]);if(n!=null){let u=kB(n);Array.isArray(u)&&(u=u.map(d=>d)),T(e,["mediaChunks"],u)}const r=b(t,["audio"]);r!=null&&T(e,["audio"],PB(r));const s=b(t,["audioStreamEnd"]);s!=null&&T(e,["audioStreamEnd"],s);const i=b(t,["video"]);i!=null&&T(e,["video"],RB(i));const a=b(t,["text"]);a!=null&&T(e,["text"],a);const o=b(t,["activityStart"]);o!=null&&T(e,["activityStart"],o);const c=b(t,["activityEnd"]);return c!=null&&T(e,["activityEnd"],c),e}function Mle(t){const e={},n=b(t,["setupComplete"]);n!=null&&T(e,["setupComplete"],n);const r=b(t,["serverContent"]);r!=null&&T(e,["serverContent"],r);const s=b(t,["toolCall"]);s!=null&&T(e,["toolCall"],s);const i=b(t,["toolCallCancellation"]);i!=null&&T(e,["toolCallCancellation"],i);const a=b(t,["usageMetadata"]);a!=null&&T(e,["usageMetadata"],Vle(a));const o=b(t,["goAway"]);o!=null&&T(e,["goAway"],o);const c=b(t,["sessionResumptionUpdate"]);return c!=null&&T(e,["sessionResumptionUpdate"],c),e}function Lle(t){const e={},n=b(t,["mediaResolution"]);n!=null&&T(e,["mediaResolution"],n);const r=b(t,["codeExecutionResult"]);r!=null&&T(e,["codeExecutionResult"],r);const s=b(t,["executableCode"]);s!=null&&T(e,["executableCode"],s);const i=b(t,["fileData"]);i!=null&&T(e,["fileData"],ble(i));const a=b(t,["functionCall"]);a!=null&&T(e,["functionCall"],wle(a));const o=b(t,["functionResponse"]);o!=null&&T(e,["functionResponse"],o);const c=b(t,["inlineData"]);c!=null&&T(e,["inlineData"],Xy(c));const u=b(t,["text"]);u!=null&&T(e,["text"],u);const d=b(t,["thought"]);d!=null&&T(e,["thought"],d);const p=b(t,["thoughtSignature"]);p!=null&&T(e,["thoughtSignature"],p);const g=b(t,["videoMetadata"]);return g!=null&&T(e,["videoMetadata"],g),e}function Fle(t){const e={},n=b(t,["handle"]);if(n!=null&&T(e,["handle"],n),b(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function HB(t){const e={},n=b(t,["languageCode"]);n!=null&&T(e,["languageCode"],n);const r=b(t,["voiceConfig"]);if(r!=null&&T(e,["voiceConfig"],r),b(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function Ole(t){const e={},n=b(t,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(p=>p)),T(e,["functionDeclarations"],d)}if(b(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=b(t,["googleSearchRetrieval"]);r!=null&&T(e,["googleSearchRetrieval"],r);const s=b(t,["computerUse"]);s!=null&&T(e,["computerUse"],s);const i=b(t,["fileSearch"]);i!=null&&T(e,["fileSearch"],i);const a=b(t,["codeExecution"]);if(a!=null&&T(e,["codeExecution"],a),b(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=b(t,["googleMaps"]);o!=null&&T(e,["googleMaps"],Tle(o));const c=b(t,["googleSearch"]);c!=null&&T(e,["googleSearch"],Sle(c));const u=b(t,["urlContext"]);return u!=null&&T(e,["urlContext"],u),e}function Ble(t){const e={},n=b(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(g=>_le(g))),T(e,["functionDeclarations"],p)}const r=b(t,["retrieval"]);r!=null&&T(e,["retrieval"],r);const s=b(t,["googleSearchRetrieval"]);s!=null&&T(e,["googleSearchRetrieval"],s);const i=b(t,["computerUse"]);if(i!=null&&T(e,["computerUse"],i),b(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=b(t,["codeExecution"]);a!=null&&T(e,["codeExecution"],a);const o=b(t,["enterpriseWebSearch"]);o!=null&&T(e,["enterpriseWebSearch"],o);const c=b(t,["googleMaps"]);c!=null&&T(e,["googleMaps"],c);const u=b(t,["googleSearch"]);u!=null&&T(e,["googleSearch"],u);const d=b(t,["urlContext"]);return d!=null&&T(e,["urlContext"],d),e}function Vle(t){const e={},n=b(t,["promptTokenCount"]);n!=null&&T(e,["promptTokenCount"],n);const r=b(t,["cachedContentTokenCount"]);r!=null&&T(e,["cachedContentTokenCount"],r);const s=b(t,["candidatesTokenCount"]);s!=null&&T(e,["responseTokenCount"],s);const i=b(t,["toolUsePromptTokenCount"]);i!=null&&T(e,["toolUsePromptTokenCount"],i);const a=b(t,["thoughtsTokenCount"]);a!=null&&T(e,["thoughtsTokenCount"],a);const o=b(t,["totalTokenCount"]);o!=null&&T(e,["totalTokenCount"],o);const c=b(t,["promptTokensDetails"]);if(c!=null){let x=c;Array.isArray(x)&&(x=x.map(w=>w)),T(e,["promptTokensDetails"],x)}const u=b(t,["cacheTokensDetails"]);if(u!=null){let x=u;Array.isArray(x)&&(x=x.map(w=>w)),T(e,["cacheTokensDetails"],x)}const d=b(t,["candidatesTokensDetails"]);if(d!=null){let x=d;Array.isArray(x)&&(x=x.map(w=>w)),T(e,["responseTokensDetails"],x)}const p=b(t,["toolUsePromptTokensDetails"]);if(p!=null){let x=p;Array.isArray(x)&&(x=x.map(w=>w)),T(e,["toolUsePromptTokensDetails"],x)}const g=b(t,["trafficType"]);return g!=null&&T(e,["trafficType"],g),e}function Ule(t){const e={},n=b(t,["data"]);if(n!=null&&T(e,["data"],n),b(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=b(t,["mimeType"]);return r!=null&&T(e,["mimeType"],r),e}function jle(t){const e={},n=b(t,["content"]);n!=null&&T(e,["content"],n);const r=b(t,["citationMetadata"]);r!=null&&T(e,["citationMetadata"],qle(r));const s=b(t,["tokenCount"]);s!=null&&T(e,["tokenCount"],s);const i=b(t,["finishReason"]);i!=null&&T(e,["finishReason"],i);const a=b(t,["avgLogprobs"]);a!=null&&T(e,["avgLogprobs"],a);const o=b(t,["groundingMetadata"]);o!=null&&T(e,["groundingMetadata"],o);const c=b(t,["index"]);c!=null&&T(e,["index"],c);const u=b(t,["logprobsResult"]);u!=null&&T(e,["logprobsResult"],u);const d=b(t,["safetyRatings"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(x=>x)),T(e,["safetyRatings"],g)}const p=b(t,["urlContextMetadata"]);return p!=null&&T(e,["urlContextMetadata"],p),e}function qle(t){const e={},n=b(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>s)),T(e,["citations"],r)}return e}function Hle(t,e){const n={},r=b(e,["model"]);r!=null&&T(n,["_url","model"],Mr(t,r));const s=b(e,["contents"]);if(s!=null){let i=Al(s);Array.isArray(i)&&(i=i.map(a=>a)),T(n,["contents"],i)}return n}function zle(t){const e={},n=b(t,["sdkHttpResponse"]);n!=null&&T(e,["sdkHttpResponse"],n);const r=b(t,["tokensInfo"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(i=>i)),T(e,["tokensInfo"],s)}return e}function Gle(t){const e={},n=b(t,["values"]);n!=null&&T(e,["values"],n);const r=b(t,["statistics"]);return r!=null&&T(e,["statistics"],$le(r)),e}function $le(t){const e={},n=b(t,["truncated"]);n!=null&&T(e,["truncated"],n);const r=b(t,["token_count"]);return r!=null&&T(e,["tokenCount"],r),e}function Yb(t){const e={},n=b(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(i=>tue(i))),T(e,["parts"],s)}const r=b(t,["role"]);return r!=null&&T(e,["role"],r),e}function Wle(t){const e={},n=b(t,["controlType"]);n!=null&&T(e,["controlType"],n);const r=b(t,["enableControlImageComputation"]);return r!=null&&T(e,["computeControl"],r),e}function Kle(t){const e={};if(b(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(b(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(b(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function Yle(t,e){const n={},r=b(t,["systemInstruction"]);e!==void 0&&r!=null&&T(e,["systemInstruction"],Ra(r));const s=b(t,["tools"]);if(e!==void 0&&s!=null){let a=s;Array.isArray(a)&&(a=a.map(o=>KB(o))),T(e,["tools"],a)}const i=b(t,["generationConfig"]);return e!==void 0&&i!=null&&T(e,["generationConfig"],Uce(i)),n}function Xle(t,e){const n={},r=b(e,["model"]);r!=null&&T(n,["_url","model"],Mr(t,r));const s=b(e,["contents"]);if(s!=null){let a=Al(s);Array.isArray(a)&&(a=a.map(o=>Yb(o))),T(n,["contents"],a)}const i=b(e,["config"]);return i!=null&&Kle(i),n}function Jle(t,e){const n={},r=b(e,["model"]);r!=null&&T(n,["_url","model"],Mr(t,r));const s=b(e,["contents"]);if(s!=null){let a=Al(s);Array.isArray(a)&&(a=a.map(o=>o)),T(n,["contents"],a)}const i=b(e,["config"]);return i!=null&&Yle(i,n),n}function Qle(t){const e={},n=b(t,["sdkHttpResponse"]);n!=null&&T(e,["sdkHttpResponse"],n);const r=b(t,["totalTokens"]);r!=null&&T(e,["totalTokens"],r);const s=b(t,["cachedContentTokenCount"]);return s!=null&&T(e,["cachedContentTokenCount"],s),e}function Zle(t){const e={},n=b(t,["sdkHttpResponse"]);n!=null&&T(e,["sdkHttpResponse"],n);const r=b(t,["totalTokens"]);return r!=null&&T(e,["totalTokens"],r),e}function ece(t,e){const n={},r=b(e,["model"]);return r!=null&&T(n,["_url","name"],Mr(t,r)),n}function tce(t,e){const n={},r=b(e,["model"]);return r!=null&&T(n,["_url","name"],Mr(t,r)),n}function nce(t){const e={},n=b(t,["sdkHttpResponse"]);return n!=null&&T(e,["sdkHttpResponse"],n),e}function rce(t){const e={},n=b(t,["sdkHttpResponse"]);return n!=null&&T(e,["sdkHttpResponse"],n),e}function sce(t,e){const n={},r=b(t,["outputGcsUri"]);e!==void 0&&r!=null&&T(e,["parameters","storageUri"],r);const s=b(t,["negativePrompt"]);e!==void 0&&s!=null&&T(e,["parameters","negativePrompt"],s);const i=b(t,["numberOfImages"]);e!==void 0&&i!=null&&T(e,["parameters","sampleCount"],i);const a=b(t,["aspectRatio"]);e!==void 0&&a!=null&&T(e,["parameters","aspectRatio"],a);const o=b(t,["guidanceScale"]);e!==void 0&&o!=null&&T(e,["parameters","guidanceScale"],o);const c=b(t,["seed"]);e!==void 0&&c!=null&&T(e,["parameters","seed"],c);const u=b(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&T(e,["parameters","safetySetting"],u);const d=b(t,["personGeneration"]);e!==void 0&&d!=null&&T(e,["parameters","personGeneration"],d);const p=b(t,["includeSafetyAttributes"]);e!==void 0&&p!=null&&T(e,["parameters","includeSafetyAttributes"],p);const g=b(t,["includeRaiReason"]);e!==void 0&&g!=null&&T(e,["parameters","includeRaiReason"],g);const x=b(t,["language"]);e!==void 0&&x!=null&&T(e,["parameters","language"],x);const w=b(t,["outputMimeType"]);e!==void 0&&w!=null&&T(e,["parameters","outputOptions","mimeType"],w);const y=b(t,["outputCompressionQuality"]);e!==void 0&&y!=null&&T(e,["parameters","outputOptions","compressionQuality"],y);const S=b(t,["addWatermark"]);e!==void 0&&S!=null&&T(e,["parameters","addWatermark"],S);const C=b(t,["labels"]);e!==void 0&&C!=null&&T(e,["labels"],C);const F=b(t,["editMode"]);e!==void 0&&F!=null&&T(e,["parameters","editMode"],F);const I=b(t,["baseSteps"]);return e!==void 0&&I!=null&&T(e,["parameters","editConfig","baseSteps"],I),n}function ice(t,e){const n={},r=b(e,["model"]);r!=null&&T(n,["_url","model"],Mr(t,r));const s=b(e,["prompt"]);s!=null&&T(n,["instances[0]","prompt"],s);const i=b(e,["referenceImages"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(c=>oue(c))),T(n,["instances[0]","referenceImages"],o)}const a=b(e,["config"]);return a!=null&&sce(a,n),n}function ace(t){const e={},n=b(t,["sdkHttpResponse"]);n!=null&&T(e,["sdkHttpResponse"],n);const r=b(t,["predictions"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(i=>Xb(i))),T(e,["generatedImages"],s)}return e}function oce(t,e){const n={},r=b(t,["taskType"]);e!==void 0&&r!=null&&T(e,["requests[]","taskType"],r);const s=b(t,["title"]);e!==void 0&&s!=null&&T(e,["requests[]","title"],s);const i=b(t,["outputDimensionality"]);if(e!==void 0&&i!=null&&T(e,["requests[]","outputDimensionality"],i),b(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(b(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function lce(t,e){const n={},r=b(t,["taskType"]);e!==void 0&&r!=null&&T(e,["instances[]","task_type"],r);const s=b(t,["title"]);e!==void 0&&s!=null&&T(e,["instances[]","title"],s);const i=b(t,["outputDimensionality"]);e!==void 0&&i!=null&&T(e,["parameters","outputDimensionality"],i);const a=b(t,["mimeType"]);e!==void 0&&a!=null&&T(e,["instances[]","mimeType"],a);const o=b(t,["autoTruncate"]);return e!==void 0&&o!=null&&T(e,["parameters","autoTruncate"],o),n}function cce(t,e){const n={},r=b(e,["model"]);r!=null&&T(n,["_url","model"],Mr(t,r));const s=b(e,["contents"]);if(s!=null){let o=uC(t,s);Array.isArray(o)&&(o=o.map(c=>c)),T(n,["requests[]","content"],o)}const i=b(e,["config"]);i!=null&&oce(i,n);const a=b(e,["model"]);return a!==void 0&&T(n,["requests[]","model"],Mr(t,a)),n}function uce(t,e){const n={},r=b(e,["model"]);r!=null&&T(n,["_url","model"],Mr(t,r));const s=b(e,["contents"]);if(s!=null){let a=uC(t,s);Array.isArray(a)&&(a=a.map(o=>o)),T(n,["instances[]","content"],a)}const i=b(e,["config"]);return i!=null&&lce(i,n),n}function fce(t){const e={},n=b(t,["sdkHttpResponse"]);n!=null&&T(e,["sdkHttpResponse"],n);const r=b(t,["embeddings"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),T(e,["embeddings"],i)}const s=b(t,["metadata"]);return s!=null&&T(e,["metadata"],s),e}function dce(t){const e={},n=b(t,["sdkHttpResponse"]);n!=null&&T(e,["sdkHttpResponse"],n);const r=b(t,["predictions[]","embeddings"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>Gle(a))),T(e,["embeddings"],i)}const s=b(t,["metadata"]);return s!=null&&T(e,["metadata"],s),e}function hce(t){const e={},n=b(t,["endpoint"]);n!=null&&T(e,["name"],n);const r=b(t,["deployedModelId"]);return r!=null&&T(e,["deployedModelId"],r),e}function pce(t){const e={};if(b(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=b(t,["fileUri"]);n!=null&&T(e,["fileUri"],n);const r=b(t,["mimeType"]);return r!=null&&T(e,["mimeType"],r),e}function mce(t){const e={},n=b(t,["id"]);n!=null&&T(e,["id"],n);const r=b(t,["args"]);r!=null&&T(e,["args"],r);const s=b(t,["name"]);if(s!=null&&T(e,["name"],s),b(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(b(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function gce(t){const e={},n=b(t,["mode"]);n!=null&&T(e,["mode"],n);const r=b(t,["allowedFunctionNames"]);if(r!=null&&T(e,["allowedFunctionNames"],r),b(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function xce(t){const e={};if(b(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=b(t,["description"]);n!=null&&T(e,["description"],n);const r=b(t,["name"]);r!=null&&T(e,["name"],r);const s=b(t,["parameters"]);s!=null&&T(e,["parameters"],s);const i=b(t,["parametersJsonSchema"]);i!=null&&T(e,["parametersJsonSchema"],i);const a=b(t,["response"]);a!=null&&T(e,["response"],a);const o=b(t,["responseJsonSchema"]);return o!=null&&T(e,["responseJsonSchema"],o),e}function vce(t,e,n){const r={},s=b(e,["systemInstruction"]);n!==void 0&&s!=null&&T(n,["systemInstruction"],Yb(Ra(s)));const i=b(e,["temperature"]);i!=null&&T(r,["temperature"],i);const a=b(e,["topP"]);a!=null&&T(r,["topP"],a);const o=b(e,["topK"]);o!=null&&T(r,["topK"],o);const c=b(e,["candidateCount"]);c!=null&&T(r,["candidateCount"],c);const u=b(e,["maxOutputTokens"]);u!=null&&T(r,["maxOutputTokens"],u);const d=b(e,["stopSequences"]);d!=null&&T(r,["stopSequences"],d);const p=b(e,["responseLogprobs"]);p!=null&&T(r,["responseLogprobs"],p);const g=b(e,["logprobs"]);g!=null&&T(r,["logprobs"],g);const x=b(e,["presencePenalty"]);x!=null&&T(r,["presencePenalty"],x);const w=b(e,["frequencyPenalty"]);w!=null&&T(r,["frequencyPenalty"],w);const y=b(e,["seed"]);y!=null&&T(r,["seed"],y);const S=b(e,["responseMimeType"]);S!=null&&T(r,["responseMimeType"],S);const C=b(e,["responseSchema"]);C!=null&&T(r,["responseSchema"],fC(C));const F=b(e,["responseJsonSchema"]);if(F!=null&&T(r,["responseJsonSchema"],F),b(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(b(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const I=b(e,["safetySettings"]);if(n!==void 0&&I!=null){let O=I;Array.isArray(O)&&(O=O.map(j=>lue(j))),T(n,["safetySettings"],O)}const D=b(e,["tools"]);if(n!==void 0&&D!=null){let O=Mm(D);Array.isArray(O)&&(O=O.map(j=>mue(Dm(j)))),T(n,["tools"],O)}const z=b(e,["toolConfig"]);if(n!==void 0&&z!=null&&T(n,["toolConfig"],pue(z)),b(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const G=b(e,["cachedContent"]);n!==void 0&&G!=null&&T(n,["cachedContent"],hf(t,G));const P=b(e,["responseModalities"]);P!=null&&T(r,["responseModalities"],P);const M=b(e,["mediaResolution"]);M!=null&&T(r,["mediaResolution"],M);const R=b(e,["speechConfig"]);if(R!=null&&T(r,["speechConfig"],dC(R)),b(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const U=b(e,["thinkingConfig"]);U!=null&&T(r,["thinkingConfig"],U);const L=b(e,["imageConfig"]);return L!=null&&T(r,["imageConfig"],Gce(L)),r}function yce(t,e,n){const r={},s=b(e,["systemInstruction"]);n!==void 0&&s!=null&&T(n,["systemInstruction"],Ra(s));const i=b(e,["temperature"]);i!=null&&T(r,["temperature"],i);const a=b(e,["topP"]);a!=null&&T(r,["topP"],a);const o=b(e,["topK"]);o!=null&&T(r,["topK"],o);const c=b(e,["candidateCount"]);c!=null&&T(r,["candidateCount"],c);const u=b(e,["maxOutputTokens"]);u!=null&&T(r,["maxOutputTokens"],u);const d=b(e,["stopSequences"]);d!=null&&T(r,["stopSequences"],d);const p=b(e,["responseLogprobs"]);p!=null&&T(r,["responseLogprobs"],p);const g=b(e,["logprobs"]);g!=null&&T(r,["logprobs"],g);const x=b(e,["presencePenalty"]);x!=null&&T(r,["presencePenalty"],x);const w=b(e,["frequencyPenalty"]);w!=null&&T(r,["frequencyPenalty"],w);const y=b(e,["seed"]);y!=null&&T(r,["seed"],y);const S=b(e,["responseMimeType"]);S!=null&&T(r,["responseMimeType"],S);const C=b(e,["responseSchema"]);C!=null&&T(r,["responseSchema"],fC(C));const F=b(e,["responseJsonSchema"]);F!=null&&T(r,["responseJsonSchema"],F);const I=b(e,["routingConfig"]);I!=null&&T(r,["routingConfig"],I);const D=b(e,["modelSelectionConfig"]);D!=null&&T(r,["modelConfig"],D);const z=b(e,["safetySettings"]);if(n!==void 0&&z!=null){let ae=z;Array.isArray(ae)&&(ae=ae.map(pe=>pe)),T(n,["safetySettings"],ae)}const G=b(e,["tools"]);if(n!==void 0&&G!=null){let ae=Mm(G);Array.isArray(ae)&&(ae=ae.map(pe=>KB(Dm(pe)))),T(n,["tools"],ae)}const P=b(e,["toolConfig"]);n!==void 0&&P!=null&&T(n,["toolConfig"],P);const M=b(e,["labels"]);n!==void 0&&M!=null&&T(n,["labels"],M);const R=b(e,["cachedContent"]);n!==void 0&&R!=null&&T(n,["cachedContent"],hf(t,R));const U=b(e,["responseModalities"]);U!=null&&T(r,["responseModalities"],U);const L=b(e,["mediaResolution"]);L!=null&&T(r,["mediaResolution"],L);const O=b(e,["speechConfig"]);O!=null&&T(r,["speechConfig"],WB(dC(O)));const j=b(e,["audioTimestamp"]);j!=null&&T(r,["audioTimestamp"],j);const ie=b(e,["thinkingConfig"]);ie!=null&&T(r,["thinkingConfig"],ie);const Ee=b(e,["imageConfig"]);return Ee!=null&&T(r,["imageConfig"],$ce(Ee)),r}function wP(t,e){const n={},r=b(e,["model"]);r!=null&&T(n,["_url","model"],Mr(t,r));const s=b(e,["contents"]);if(s!=null){let a=Al(s);Array.isArray(a)&&(a=a.map(o=>Yb(o))),T(n,["contents"],a)}const i=b(e,["config"]);return i!=null&&T(n,["generationConfig"],vce(t,i,n)),n}function _P(t,e){const n={},r=b(e,["model"]);r!=null&&T(n,["_url","model"],Mr(t,r));const s=b(e,["contents"]);if(s!=null){let a=Al(s);Array.isArray(a)&&(a=a.map(o=>o)),T(n,["contents"],a)}const i=b(e,["config"]);return i!=null&&T(n,["generationConfig"],yce(t,i,n)),n}function EP(t){const e={},n=b(t,["sdkHttpResponse"]);n!=null&&T(e,["sdkHttpResponse"],n);const r=b(t,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(u=>jle(u))),T(e,["candidates"],c)}const s=b(t,["modelVersion"]);s!=null&&T(e,["modelVersion"],s);const i=b(t,["promptFeedback"]);i!=null&&T(e,["promptFeedback"],i);const a=b(t,["responseId"]);a!=null&&T(e,["responseId"],a);const o=b(t,["usageMetadata"]);return o!=null&&T(e,["usageMetadata"],o),e}function TP(t){const e={},n=b(t,["sdkHttpResponse"]);n!=null&&T(e,["sdkHttpResponse"],n);const r=b(t,["candidates"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(d=>d)),T(e,["candidates"],u)}const s=b(t,["createTime"]);s!=null&&T(e,["createTime"],s);const i=b(t,["modelVersion"]);i!=null&&T(e,["modelVersion"],i);const a=b(t,["promptFeedback"]);a!=null&&T(e,["promptFeedback"],a);const o=b(t,["responseId"]);o!=null&&T(e,["responseId"],o);const c=b(t,["usageMetadata"]);return c!=null&&T(e,["usageMetadata"],c),e}function bce(t,e){const n={};if(b(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(b(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=b(t,["numberOfImages"]);e!==void 0&&r!=null&&T(e,["parameters","sampleCount"],r);const s=b(t,["aspectRatio"]);e!==void 0&&s!=null&&T(e,["parameters","aspectRatio"],s);const i=b(t,["guidanceScale"]);if(e!==void 0&&i!=null&&T(e,["parameters","guidanceScale"],i),b(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=b(t,["safetyFilterLevel"]);e!==void 0&&a!=null&&T(e,["parameters","safetySetting"],a);const o=b(t,["personGeneration"]);e!==void 0&&o!=null&&T(e,["parameters","personGeneration"],o);const c=b(t,["includeSafetyAttributes"]);e!==void 0&&c!=null&&T(e,["parameters","includeSafetyAttributes"],c);const u=b(t,["includeRaiReason"]);e!==void 0&&u!=null&&T(e,["parameters","includeRaiReason"],u);const d=b(t,["language"]);e!==void 0&&d!=null&&T(e,["parameters","language"],d);const p=b(t,["outputMimeType"]);e!==void 0&&p!=null&&T(e,["parameters","outputOptions","mimeType"],p);const g=b(t,["outputCompressionQuality"]);if(e!==void 0&&g!=null&&T(e,["parameters","outputOptions","compressionQuality"],g),b(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(b(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const x=b(t,["imageSize"]);if(e!==void 0&&x!=null&&T(e,["parameters","sampleImageSize"],x),b(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function wce(t,e){const n={},r=b(t,["outputGcsUri"]);e!==void 0&&r!=null&&T(e,["parameters","storageUri"],r);const s=b(t,["negativePrompt"]);e!==void 0&&s!=null&&T(e,["parameters","negativePrompt"],s);const i=b(t,["numberOfImages"]);e!==void 0&&i!=null&&T(e,["parameters","sampleCount"],i);const a=b(t,["aspectRatio"]);e!==void 0&&a!=null&&T(e,["parameters","aspectRatio"],a);const o=b(t,["guidanceScale"]);e!==void 0&&o!=null&&T(e,["parameters","guidanceScale"],o);const c=b(t,["seed"]);e!==void 0&&c!=null&&T(e,["parameters","seed"],c);const u=b(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&T(e,["parameters","safetySetting"],u);const d=b(t,["personGeneration"]);e!==void 0&&d!=null&&T(e,["parameters","personGeneration"],d);const p=b(t,["includeSafetyAttributes"]);e!==void 0&&p!=null&&T(e,["parameters","includeSafetyAttributes"],p);const g=b(t,["includeRaiReason"]);e!==void 0&&g!=null&&T(e,["parameters","includeRaiReason"],g);const x=b(t,["language"]);e!==void 0&&x!=null&&T(e,["parameters","language"],x);const w=b(t,["outputMimeType"]);e!==void 0&&w!=null&&T(e,["parameters","outputOptions","mimeType"],w);const y=b(t,["outputCompressionQuality"]);e!==void 0&&y!=null&&T(e,["parameters","outputOptions","compressionQuality"],y);const S=b(t,["addWatermark"]);e!==void 0&&S!=null&&T(e,["parameters","addWatermark"],S);const C=b(t,["labels"]);e!==void 0&&C!=null&&T(e,["labels"],C);const F=b(t,["imageSize"]);e!==void 0&&F!=null&&T(e,["parameters","sampleImageSize"],F);const I=b(t,["enhancePrompt"]);return e!==void 0&&I!=null&&T(e,["parameters","enhancePrompt"],I),n}function _ce(t,e){const n={},r=b(e,["model"]);r!=null&&T(n,["_url","model"],Mr(t,r));const s=b(e,["prompt"]);s!=null&&T(n,["instances[0]","prompt"],s);const i=b(e,["config"]);return i!=null&&bce(i,n),n}function Ece(t,e){const n={},r=b(e,["model"]);r!=null&&T(n,["_url","model"],Mr(t,r));const s=b(e,["prompt"]);s!=null&&T(n,["instances[0]","prompt"],s);const i=b(e,["config"]);return i!=null&&wce(i,n),n}function Tce(t){const e={},n=b(t,["sdkHttpResponse"]);n!=null&&T(e,["sdkHttpResponse"],n);const r=b(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>Fce(a))),T(e,["generatedImages"],i)}const s=b(t,["positivePromptSafetyAttributes"]);return s!=null&&T(e,["positivePromptSafetyAttributes"],GB(s)),e}function Sce(t){const e={},n=b(t,["sdkHttpResponse"]);n!=null&&T(e,["sdkHttpResponse"],n);const r=b(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>Xb(a))),T(e,["generatedImages"],i)}const s=b(t,["positivePromptSafetyAttributes"]);return s!=null&&T(e,["positivePromptSafetyAttributes"],$B(s)),e}function Ace(t,e){const n={},r=b(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&T(e,["parameters","sampleCount"],r),b(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(b(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const s=b(t,["durationSeconds"]);if(e!==void 0&&s!=null&&T(e,["parameters","durationSeconds"],s),b(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const i=b(t,["aspectRatio"]);e!==void 0&&i!=null&&T(e,["parameters","aspectRatio"],i);const a=b(t,["resolution"]);e!==void 0&&a!=null&&T(e,["parameters","resolution"],a);const o=b(t,["personGeneration"]);if(e!==void 0&&o!=null&&T(e,["parameters","personGeneration"],o),b(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const c=b(t,["negativePrompt"]);e!==void 0&&c!=null&&T(e,["parameters","negativePrompt"],c);const u=b(t,["enhancePrompt"]);if(e!==void 0&&u!=null&&T(e,["parameters","enhancePrompt"],u),b(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const d=b(t,["lastFrame"]);e!==void 0&&d!=null&&T(e,["instances[0]","lastFrame"],Jb(d));const p=b(t,["referenceImages"]);if(e!==void 0&&p!=null){let g=p;Array.isArray(g)&&(g=g.map(x=>Nue(x))),T(e,["instances[0]","referenceImages"],g)}if(b(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(b(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function Cce(t,e){const n={},r=b(t,["numberOfVideos"]);e!==void 0&&r!=null&&T(e,["parameters","sampleCount"],r);const s=b(t,["outputGcsUri"]);e!==void 0&&s!=null&&T(e,["parameters","storageUri"],s);const i=b(t,["fps"]);e!==void 0&&i!=null&&T(e,["parameters","fps"],i);const a=b(t,["durationSeconds"]);e!==void 0&&a!=null&&T(e,["parameters","durationSeconds"],a);const o=b(t,["seed"]);e!==void 0&&o!=null&&T(e,["parameters","seed"],o);const c=b(t,["aspectRatio"]);e!==void 0&&c!=null&&T(e,["parameters","aspectRatio"],c);const u=b(t,["resolution"]);e!==void 0&&u!=null&&T(e,["parameters","resolution"],u);const d=b(t,["personGeneration"]);e!==void 0&&d!=null&&T(e,["parameters","personGeneration"],d);const p=b(t,["pubsubTopic"]);e!==void 0&&p!=null&&T(e,["parameters","pubsubTopic"],p);const g=b(t,["negativePrompt"]);e!==void 0&&g!=null&&T(e,["parameters","negativePrompt"],g);const x=b(t,["enhancePrompt"]);e!==void 0&&x!=null&&T(e,["parameters","enhancePrompt"],x);const w=b(t,["generateAudio"]);e!==void 0&&w!=null&&T(e,["parameters","generateAudio"],w);const y=b(t,["lastFrame"]);e!==void 0&&y!=null&&T(e,["instances[0]","lastFrame"],hc(y));const S=b(t,["referenceImages"]);if(e!==void 0&&S!=null){let I=S;Array.isArray(I)&&(I=I.map(D=>Iue(D))),T(e,["instances[0]","referenceImages"],I)}const C=b(t,["mask"]);e!==void 0&&C!=null&&T(e,["instances[0]","mask"],Cue(C));const F=b(t,["compressionQuality"]);return e!==void 0&&F!=null&&T(e,["parameters","compressionQuality"],F),n}function Nce(t){const e={},n=b(t,["name"]);n!=null&&T(e,["name"],n);const r=b(t,["metadata"]);r!=null&&T(e,["metadata"],r);const s=b(t,["done"]);s!=null&&T(e,["done"],s);const i=b(t,["error"]);i!=null&&T(e,["error"],i);const a=b(t,["response","generateVideoResponse"]);return a!=null&&T(e,["response"],Pce(a)),e}function Ice(t){const e={},n=b(t,["name"]);n!=null&&T(e,["name"],n);const r=b(t,["metadata"]);r!=null&&T(e,["metadata"],r);const s=b(t,["done"]);s!=null&&T(e,["done"],s);const i=b(t,["error"]);i!=null&&T(e,["error"],i);const a=b(t,["response"]);return a!=null&&T(e,["response"],Dce(a)),e}function kce(t,e){const n={},r=b(e,["model"]);r!=null&&T(n,["_url","model"],Mr(t,r));const s=b(e,["prompt"]);s!=null&&T(n,["instances[0]","prompt"],s);const i=b(e,["image"]);i!=null&&T(n,["instances[0]","image"],Jb(i));const a=b(e,["video"]);a!=null&&T(n,["instances[0]","video"],YB(a));const o=b(e,["source"]);o!=null&&Mce(o,n);const c=b(e,["config"]);return c!=null&&Ace(c,n),n}function Rce(t,e){const n={},r=b(e,["model"]);r!=null&&T(n,["_url","model"],Mr(t,r));const s=b(e,["prompt"]);s!=null&&T(n,["instances[0]","prompt"],s);const i=b(e,["image"]);i!=null&&T(n,["instances[0]","image"],hc(i));const a=b(e,["video"]);a!=null&&T(n,["instances[0]","video"],XB(a));const o=b(e,["source"]);o!=null&&Lce(o,n);const c=b(e,["config"]);return c!=null&&Cce(c,n),n}function Pce(t){const e={},n=b(t,["generatedSamples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>Bce(a))),T(e,["generatedVideos"],i)}const r=b(t,["raiMediaFilteredCount"]);r!=null&&T(e,["raiMediaFilteredCount"],r);const s=b(t,["raiMediaFilteredReasons"]);return s!=null&&T(e,["raiMediaFilteredReasons"],s),e}function Dce(t){const e={},n=b(t,["videos"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>Vce(a))),T(e,["generatedVideos"],i)}const r=b(t,["raiMediaFilteredCount"]);r!=null&&T(e,["raiMediaFilteredCount"],r);const s=b(t,["raiMediaFilteredReasons"]);return s!=null&&T(e,["raiMediaFilteredReasons"],s),e}function Mce(t,e){const n={},r=b(t,["prompt"]);e!==void 0&&r!=null&&T(e,["instances[0]","prompt"],r);const s=b(t,["image"]);e!==void 0&&s!=null&&T(e,["instances[0]","image"],Jb(s));const i=b(t,["video"]);return e!==void 0&&i!=null&&T(e,["instances[0]","video"],YB(i)),n}function Lce(t,e){const n={},r=b(t,["prompt"]);e!==void 0&&r!=null&&T(e,["instances[0]","prompt"],r);const s=b(t,["image"]);e!==void 0&&s!=null&&T(e,["instances[0]","image"],hc(s));const i=b(t,["video"]);return e!==void 0&&i!=null&&T(e,["instances[0]","video"],XB(i)),n}function Fce(t){const e={},n=b(t,["_self"]);n!=null&&T(e,["image"],Wce(n));const r=b(t,["raiFilteredReason"]);r!=null&&T(e,["raiFilteredReason"],r);const s=b(t,["_self"]);return s!=null&&T(e,["safetyAttributes"],GB(s)),e}function Xb(t){const e={},n=b(t,["_self"]);n!=null&&T(e,["image"],zB(n));const r=b(t,["raiFilteredReason"]);r!=null&&T(e,["raiFilteredReason"],r);const s=b(t,["_self"]);s!=null&&T(e,["safetyAttributes"],$B(s));const i=b(t,["prompt"]);return i!=null&&T(e,["enhancedPrompt"],i),e}function Oce(t){const e={},n=b(t,["_self"]);n!=null&&T(e,["mask"],zB(n));const r=b(t,["labels"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(i=>i)),T(e,["labels"],s)}return e}function Bce(t){const e={},n=b(t,["video"]);return n!=null&&T(e,["video"],Sue(n)),e}function Vce(t){const e={},n=b(t,["_self"]);return n!=null&&T(e,["video"],Aue(n)),e}function Uce(t){const e={},n=b(t,["modelSelectionConfig"]);n!=null&&T(e,["modelConfig"],n);const r=b(t,["responseJsonSchema"]);r!=null&&T(e,["responseJsonSchema"],r);const s=b(t,["audioTimestamp"]);s!=null&&T(e,["audioTimestamp"],s);const i=b(t,["candidateCount"]);i!=null&&T(e,["candidateCount"],i);const a=b(t,["enableAffectiveDialog"]);a!=null&&T(e,["enableAffectiveDialog"],a);const o=b(t,["frequencyPenalty"]);o!=null&&T(e,["frequencyPenalty"],o);const c=b(t,["logprobs"]);c!=null&&T(e,["logprobs"],c);const u=b(t,["maxOutputTokens"]);u!=null&&T(e,["maxOutputTokens"],u);const d=b(t,["mediaResolution"]);d!=null&&T(e,["mediaResolution"],d);const p=b(t,["presencePenalty"]);p!=null&&T(e,["presencePenalty"],p);const g=b(t,["responseLogprobs"]);g!=null&&T(e,["responseLogprobs"],g);const x=b(t,["responseMimeType"]);x!=null&&T(e,["responseMimeType"],x);const w=b(t,["responseModalities"]);w!=null&&T(e,["responseModalities"],w);const y=b(t,["responseSchema"]);y!=null&&T(e,["responseSchema"],y);const S=b(t,["routingConfig"]);S!=null&&T(e,["routingConfig"],S);const C=b(t,["seed"]);C!=null&&T(e,["seed"],C);const F=b(t,["speechConfig"]);F!=null&&T(e,["speechConfig"],WB(F));const I=b(t,["stopSequences"]);I!=null&&T(e,["stopSequences"],I);const D=b(t,["temperature"]);D!=null&&T(e,["temperature"],D);const z=b(t,["thinkingConfig"]);z!=null&&T(e,["thinkingConfig"],z);const G=b(t,["topK"]);G!=null&&T(e,["topK"],G);const P=b(t,["topP"]);if(P!=null&&T(e,["topP"],P),b(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function jce(t,e){const n={},r=b(e,["model"]);return r!=null&&T(n,["_url","name"],Mr(t,r)),n}function qce(t,e){const n={},r=b(e,["model"]);return r!=null&&T(n,["_url","name"],Mr(t,r)),n}function Hce(t){const e={};if(b(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=b(t,["enableWidget"]);return n!=null&&T(e,["enableWidget"],n),e}function zce(t){const e={};if(b(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(b(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=b(t,["timeRangeFilter"]);return n!=null&&T(e,["timeRangeFilter"],n),e}function Gce(t){const e={},n=b(t,["aspectRatio"]);n!=null&&T(e,["aspectRatio"],n);const r=b(t,["imageSize"]);if(r!=null&&T(e,["imageSize"],r),b(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(b(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function $ce(t){const e={},n=b(t,["aspectRatio"]);n!=null&&T(e,["aspectRatio"],n);const r=b(t,["imageSize"]);r!=null&&T(e,["imageSize"],r);const s=b(t,["outputMimeType"]);s!=null&&T(e,["imageOutputOptions","mimeType"],s);const i=b(t,["outputCompressionQuality"]);return i!=null&&T(e,["imageOutputOptions","compressionQuality"],i),e}function Wce(t){const e={},n=b(t,["bytesBase64Encoded"]);n!=null&&T(e,["imageBytes"],Bd(n));const r=b(t,["mimeType"]);return r!=null&&T(e,["mimeType"],r),e}function zB(t){const e={},n=b(t,["gcsUri"]);n!=null&&T(e,["gcsUri"],n);const r=b(t,["bytesBase64Encoded"]);r!=null&&T(e,["imageBytes"],Bd(r));const s=b(t,["mimeType"]);return s!=null&&T(e,["mimeType"],s),e}function Jb(t){const e={};if(b(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=b(t,["imageBytes"]);n!=null&&T(e,["bytesBase64Encoded"],Bd(n));const r=b(t,["mimeType"]);return r!=null&&T(e,["mimeType"],r),e}function hc(t){const e={},n=b(t,["gcsUri"]);n!=null&&T(e,["gcsUri"],n);const r=b(t,["imageBytes"]);r!=null&&T(e,["bytesBase64Encoded"],Bd(r));const s=b(t,["mimeType"]);return s!=null&&T(e,["mimeType"],s),e}function Kce(t,e,n){const r={},s=b(e,["pageSize"]);n!==void 0&&s!=null&&T(n,["_query","pageSize"],s);const i=b(e,["pageToken"]);n!==void 0&&i!=null&&T(n,["_query","pageToken"],i);const a=b(e,["filter"]);n!==void 0&&a!=null&&T(n,["_query","filter"],a);const o=b(e,["queryBase"]);return n!==void 0&&o!=null&&T(n,["_url","models_url"],FB(t,o)),r}function Yce(t,e,n){const r={},s=b(e,["pageSize"]);n!==void 0&&s!=null&&T(n,["_query","pageSize"],s);const i=b(e,["pageToken"]);n!==void 0&&i!=null&&T(n,["_query","pageToken"],i);const a=b(e,["filter"]);n!==void 0&&a!=null&&T(n,["_query","filter"],a);const o=b(e,["queryBase"]);return n!==void 0&&o!=null&&T(n,["_url","models_url"],FB(t,o)),r}function Xce(t,e){const n={},r=b(e,["config"]);return r!=null&&Kce(t,r,n),n}function Jce(t,e){const n={},r=b(e,["config"]);return r!=null&&Yce(t,r,n),n}function Qce(t){const e={},n=b(t,["sdkHttpResponse"]);n!=null&&T(e,["sdkHttpResponse"],n);const r=b(t,["nextPageToken"]);r!=null&&T(e,["nextPageToken"],r);const s=b(t,["_self"]);if(s!=null){let i=OB(s);Array.isArray(i)&&(i=i.map(a=>MT(a))),T(e,["models"],i)}return e}function Zce(t){const e={},n=b(t,["sdkHttpResponse"]);n!=null&&T(e,["sdkHttpResponse"],n);const r=b(t,["nextPageToken"]);r!=null&&T(e,["nextPageToken"],r);const s=b(t,["_self"]);if(s!=null){let i=OB(s);Array.isArray(i)&&(i=i.map(a=>LT(a))),T(e,["models"],i)}return e}function eue(t){const e={},n=b(t,["maskMode"]);n!=null&&T(e,["maskMode"],n);const r=b(t,["segmentationClasses"]);r!=null&&T(e,["maskClasses"],r);const s=b(t,["maskDilation"]);return s!=null&&T(e,["dilation"],s),e}function MT(t){const e={},n=b(t,["name"]);n!=null&&T(e,["name"],n);const r=b(t,["displayName"]);r!=null&&T(e,["displayName"],r);const s=b(t,["description"]);s!=null&&T(e,["description"],s);const i=b(t,["version"]);i!=null&&T(e,["version"],i);const a=b(t,["_self"]);a!=null&&T(e,["tunedModelInfo"],gue(a));const o=b(t,["inputTokenLimit"]);o!=null&&T(e,["inputTokenLimit"],o);const c=b(t,["outputTokenLimit"]);c!=null&&T(e,["outputTokenLimit"],c);const u=b(t,["supportedGenerationMethods"]);u!=null&&T(e,["supportedActions"],u);const d=b(t,["temperature"]);d!=null&&T(e,["temperature"],d);const p=b(t,["maxTemperature"]);p!=null&&T(e,["maxTemperature"],p);const g=b(t,["topP"]);g!=null&&T(e,["topP"],g);const x=b(t,["topK"]);x!=null&&T(e,["topK"],x);const w=b(t,["thinking"]);return w!=null&&T(e,["thinking"],w),e}function LT(t){const e={},n=b(t,["name"]);n!=null&&T(e,["name"],n);const r=b(t,["displayName"]);r!=null&&T(e,["displayName"],r);const s=b(t,["description"]);s!=null&&T(e,["description"],s);const i=b(t,["versionId"]);i!=null&&T(e,["version"],i);const a=b(t,["deployedModels"]);if(a!=null){let p=a;Array.isArray(p)&&(p=p.map(g=>hce(g))),T(e,["endpoints"],p)}const o=b(t,["labels"]);o!=null&&T(e,["labels"],o);const c=b(t,["_self"]);c!=null&&T(e,["tunedModelInfo"],xue(c));const u=b(t,["defaultCheckpointId"]);u!=null&&T(e,["defaultCheckpointId"],u);const d=b(t,["checkpoints"]);if(d!=null){let p=d;Array.isArray(p)&&(p=p.map(g=>g)),T(e,["checkpoints"],p)}return e}function tue(t){const e={},n=b(t,["mediaResolution"]);n!=null&&T(e,["mediaResolution"],n);const r=b(t,["codeExecutionResult"]);r!=null&&T(e,["codeExecutionResult"],r);const s=b(t,["executableCode"]);s!=null&&T(e,["executableCode"],s);const i=b(t,["fileData"]);i!=null&&T(e,["fileData"],pce(i));const a=b(t,["functionCall"]);a!=null&&T(e,["functionCall"],mce(a));const o=b(t,["functionResponse"]);o!=null&&T(e,["functionResponse"],o);const c=b(t,["inlineData"]);c!=null&&T(e,["inlineData"],Ule(c));const u=b(t,["text"]);u!=null&&T(e,["text"],u);const d=b(t,["thought"]);d!=null&&T(e,["thought"],d);const p=b(t,["thoughtSignature"]);p!=null&&T(e,["thoughtSignature"],p);const g=b(t,["videoMetadata"]);return g!=null&&T(e,["videoMetadata"],g),e}function nue(t){const e={},n=b(t,["productImage"]);return n!=null&&T(e,["image"],hc(n)),e}function rue(t,e){const n={},r=b(t,["numberOfImages"]);e!==void 0&&r!=null&&T(e,["parameters","sampleCount"],r);const s=b(t,["baseSteps"]);e!==void 0&&s!=null&&T(e,["parameters","baseSteps"],s);const i=b(t,["outputGcsUri"]);e!==void 0&&i!=null&&T(e,["parameters","storageUri"],i);const a=b(t,["seed"]);e!==void 0&&a!=null&&T(e,["parameters","seed"],a);const o=b(t,["safetyFilterLevel"]);e!==void 0&&o!=null&&T(e,["parameters","safetySetting"],o);const c=b(t,["personGeneration"]);e!==void 0&&c!=null&&T(e,["parameters","personGeneration"],c);const u=b(t,["addWatermark"]);e!==void 0&&u!=null&&T(e,["parameters","addWatermark"],u);const d=b(t,["outputMimeType"]);e!==void 0&&d!=null&&T(e,["parameters","outputOptions","mimeType"],d);const p=b(t,["outputCompressionQuality"]);e!==void 0&&p!=null&&T(e,["parameters","outputOptions","compressionQuality"],p);const g=b(t,["enhancePrompt"]);e!==void 0&&g!=null&&T(e,["parameters","enhancePrompt"],g);const x=b(t,["labels"]);return e!==void 0&&x!=null&&T(e,["labels"],x),n}function sue(t,e){const n={},r=b(e,["model"]);r!=null&&T(n,["_url","model"],Mr(t,r));const s=b(e,["source"]);s!=null&&aue(s,n);const i=b(e,["config"]);return i!=null&&rue(i,n),n}function iue(t){const e={},n=b(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>Xb(s))),T(e,["generatedImages"],r)}return e}function aue(t,e){const n={},r=b(t,["prompt"]);e!==void 0&&r!=null&&T(e,["instances[0]","prompt"],r);const s=b(t,["personImage"]);e!==void 0&&s!=null&&T(e,["instances[0]","personImage","image"],hc(s));const i=b(t,["productImages"]);if(e!==void 0&&i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>nue(o))),T(e,["instances[0]","productImages"],a)}return n}function oue(t){const e={},n=b(t,["referenceImage"]);n!=null&&T(e,["referenceImage"],hc(n));const r=b(t,["referenceId"]);r!=null&&T(e,["referenceId"],r);const s=b(t,["referenceType"]);s!=null&&T(e,["referenceType"],s);const i=b(t,["maskImageConfig"]);i!=null&&T(e,["maskImageConfig"],eue(i));const a=b(t,["controlImageConfig"]);a!=null&&T(e,["controlImageConfig"],Wle(a));const o=b(t,["styleImageConfig"]);o!=null&&T(e,["styleImageConfig"],o);const c=b(t,["subjectImageConfig"]);return c!=null&&T(e,["subjectImageConfig"],c),e}function GB(t){const e={},n=b(t,["safetyAttributes","categories"]);n!=null&&T(e,["categories"],n);const r=b(t,["safetyAttributes","scores"]);r!=null&&T(e,["scores"],r);const s=b(t,["contentType"]);return s!=null&&T(e,["contentType"],s),e}function $B(t){const e={},n=b(t,["safetyAttributes","categories"]);n!=null&&T(e,["categories"],n);const r=b(t,["safetyAttributes","scores"]);r!=null&&T(e,["scores"],r);const s=b(t,["contentType"]);return s!=null&&T(e,["contentType"],s),e}function lue(t){const e={},n=b(t,["category"]);if(n!=null&&T(e,["category"],n),b(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=b(t,["threshold"]);return r!=null&&T(e,["threshold"],r),e}function cue(t){const e={},n=b(t,["image"]);return n!=null&&T(e,["image"],hc(n)),e}function uue(t,e){const n={},r=b(t,["mode"]);e!==void 0&&r!=null&&T(e,["parameters","mode"],r);const s=b(t,["maxPredictions"]);e!==void 0&&s!=null&&T(e,["parameters","maxPredictions"],s);const i=b(t,["confidenceThreshold"]);e!==void 0&&i!=null&&T(e,["parameters","confidenceThreshold"],i);const a=b(t,["maskDilation"]);e!==void 0&&a!=null&&T(e,["parameters","maskDilation"],a);const o=b(t,["binaryColorThreshold"]);e!==void 0&&o!=null&&T(e,["parameters","binaryColorThreshold"],o);const c=b(t,["labels"]);return e!==void 0&&c!=null&&T(e,["labels"],c),n}function fue(t,e){const n={},r=b(e,["model"]);r!=null&&T(n,["_url","model"],Mr(t,r));const s=b(e,["source"]);s!=null&&hue(s,n);const i=b(e,["config"]);return i!=null&&uue(i,n),n}function due(t){const e={},n=b(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>Oce(s))),T(e,["generatedMasks"],r)}return e}function hue(t,e){const n={},r=b(t,["prompt"]);e!==void 0&&r!=null&&T(e,["instances[0]","prompt"],r);const s=b(t,["image"]);e!==void 0&&s!=null&&T(e,["instances[0]","image"],hc(s));const i=b(t,["scribbleImage"]);return e!==void 0&&i!=null&&T(e,["instances[0]","scribble"],cue(i)),n}function WB(t){const e={},n=b(t,["languageCode"]);n!=null&&T(e,["languageCode"],n);const r=b(t,["voiceConfig"]);if(r!=null&&T(e,["voiceConfig"],r),b(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function pue(t){const e={},n=b(t,["functionCallingConfig"]);n!=null&&T(e,["functionCallingConfig"],gce(n));const r=b(t,["retrievalConfig"]);return r!=null&&T(e,["retrievalConfig"],r),e}function mue(t){const e={},n=b(t,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(p=>p)),T(e,["functionDeclarations"],d)}if(b(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=b(t,["googleSearchRetrieval"]);r!=null&&T(e,["googleSearchRetrieval"],r);const s=b(t,["computerUse"]);s!=null&&T(e,["computerUse"],s);const i=b(t,["fileSearch"]);i!=null&&T(e,["fileSearch"],i);const a=b(t,["codeExecution"]);if(a!=null&&T(e,["codeExecution"],a),b(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=b(t,["googleMaps"]);o!=null&&T(e,["googleMaps"],Hce(o));const c=b(t,["googleSearch"]);c!=null&&T(e,["googleSearch"],zce(c));const u=b(t,["urlContext"]);return u!=null&&T(e,["urlContext"],u),e}function KB(t){const e={},n=b(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(g=>xce(g))),T(e,["functionDeclarations"],p)}const r=b(t,["retrieval"]);r!=null&&T(e,["retrieval"],r);const s=b(t,["googleSearchRetrieval"]);s!=null&&T(e,["googleSearchRetrieval"],s);const i=b(t,["computerUse"]);if(i!=null&&T(e,["computerUse"],i),b(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=b(t,["codeExecution"]);a!=null&&T(e,["codeExecution"],a);const o=b(t,["enterpriseWebSearch"]);o!=null&&T(e,["enterpriseWebSearch"],o);const c=b(t,["googleMaps"]);c!=null&&T(e,["googleMaps"],c);const u=b(t,["googleSearch"]);u!=null&&T(e,["googleSearch"],u);const d=b(t,["urlContext"]);return d!=null&&T(e,["urlContext"],d),e}function gue(t){const e={},n=b(t,["baseModel"]);n!=null&&T(e,["baseModel"],n);const r=b(t,["createTime"]);r!=null&&T(e,["createTime"],r);const s=b(t,["updateTime"]);return s!=null&&T(e,["updateTime"],s),e}function xue(t){const e={},n=b(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&T(e,["baseModel"],n);const r=b(t,["createTime"]);r!=null&&T(e,["createTime"],r);const s=b(t,["updateTime"]);return s!=null&&T(e,["updateTime"],s),e}function vue(t,e){const n={},r=b(t,["displayName"]);e!==void 0&&r!=null&&T(e,["displayName"],r);const s=b(t,["description"]);e!==void 0&&s!=null&&T(e,["description"],s);const i=b(t,["defaultCheckpointId"]);return e!==void 0&&i!=null&&T(e,["defaultCheckpointId"],i),n}function yue(t,e){const n={},r=b(t,["displayName"]);e!==void 0&&r!=null&&T(e,["displayName"],r);const s=b(t,["description"]);e!==void 0&&s!=null&&T(e,["description"],s);const i=b(t,["defaultCheckpointId"]);return e!==void 0&&i!=null&&T(e,["defaultCheckpointId"],i),n}function bue(t,e){const n={},r=b(e,["model"]);r!=null&&T(n,["_url","name"],Mr(t,r));const s=b(e,["config"]);return s!=null&&vue(s,n),n}function wue(t,e){const n={},r=b(e,["model"]);r!=null&&T(n,["_url","model"],Mr(t,r));const s=b(e,["config"]);return s!=null&&yue(s,n),n}function _ue(t,e){const n={},r=b(t,["outputGcsUri"]);e!==void 0&&r!=null&&T(e,["parameters","storageUri"],r);const s=b(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&T(e,["parameters","safetySetting"],s);const i=b(t,["personGeneration"]);e!==void 0&&i!=null&&T(e,["parameters","personGeneration"],i);const a=b(t,["includeRaiReason"]);e!==void 0&&a!=null&&T(e,["parameters","includeRaiReason"],a);const o=b(t,["outputMimeType"]);e!==void 0&&o!=null&&T(e,["parameters","outputOptions","mimeType"],o);const c=b(t,["outputCompressionQuality"]);e!==void 0&&c!=null&&T(e,["parameters","outputOptions","compressionQuality"],c);const u=b(t,["enhanceInputImage"]);e!==void 0&&u!=null&&T(e,["parameters","upscaleConfig","enhanceInputImage"],u);const d=b(t,["imagePreservationFactor"]);e!==void 0&&d!=null&&T(e,["parameters","upscaleConfig","imagePreservationFactor"],d);const p=b(t,["labels"]);e!==void 0&&p!=null&&T(e,["labels"],p);const g=b(t,["numberOfImages"]);e!==void 0&&g!=null&&T(e,["parameters","sampleCount"],g);const x=b(t,["mode"]);return e!==void 0&&x!=null&&T(e,["parameters","mode"],x),n}function Eue(t,e){const n={},r=b(e,["model"]);r!=null&&T(n,["_url","model"],Mr(t,r));const s=b(e,["image"]);s!=null&&T(n,["instances[0]","image"],hc(s));const i=b(e,["upscaleFactor"]);i!=null&&T(n,["parameters","upscaleConfig","upscaleFactor"],i);const a=b(e,["config"]);return a!=null&&_ue(a,n),n}function Tue(t){const e={},n=b(t,["sdkHttpResponse"]);n!=null&&T(e,["sdkHttpResponse"],n);const r=b(t,["predictions"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(i=>Xb(i))),T(e,["generatedImages"],s)}return e}function Sue(t){const e={},n=b(t,["uri"]);n!=null&&T(e,["uri"],n);const r=b(t,["encodedVideo"]);r!=null&&T(e,["videoBytes"],Bd(r));const s=b(t,["encoding"]);return s!=null&&T(e,["mimeType"],s),e}function Aue(t){const e={},n=b(t,["gcsUri"]);n!=null&&T(e,["uri"],n);const r=b(t,["bytesBase64Encoded"]);r!=null&&T(e,["videoBytes"],Bd(r));const s=b(t,["mimeType"]);return s!=null&&T(e,["mimeType"],s),e}function Cue(t){const e={},n=b(t,["image"]);n!=null&&T(e,["_self"],hc(n));const r=b(t,["maskMode"]);return r!=null&&T(e,["maskMode"],r),e}function Nue(t){const e={},n=b(t,["image"]);n!=null&&T(e,["image"],Jb(n));const r=b(t,["referenceType"]);return r!=null&&T(e,["referenceType"],r),e}function Iue(t){const e={},n=b(t,["image"]);n!=null&&T(e,["image"],hc(n));const r=b(t,["referenceType"]);return r!=null&&T(e,["referenceType"],r),e}function YB(t){const e={},n=b(t,["uri"]);n!=null&&T(e,["uri"],n);const r=b(t,["videoBytes"]);r!=null&&T(e,["encodedVideo"],Bd(r));const s=b(t,["mimeType"]);return s!=null&&T(e,["encoding"],s),e}function XB(t){const e={},n=b(t,["uri"]);n!=null&&T(e,["gcsUri"],n);const r=b(t,["videoBytes"]);r!=null&&T(e,["bytesBase64Encoded"],Bd(r));const s=b(t,["mimeType"]);return s!=null&&T(e,["mimeType"],s),e}const kue="Content-Type",Rue="X-Server-Timeout",Pue="User-Agent",FT="x-goog-api-client",Due="1.30.0",Mue=`google-genai-sdk/${Due}`,Lue="v1beta1",Fue="v1beta",SP=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class Oue{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const s={};this.clientOptions.vertexai?(s.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:Lue,s.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(s.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:Fue,s.baseUrl="https://generativelanguage.googleapis.com/"),s.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=s,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(s,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const s=[this.getRequestUrlInternal(n)];return r&&s.push(this.getBaseResourcePath()),e!==""&&s.push(e),new URL(`${s.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),s=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[a,o]of Object.entries(e.queryParams))s.searchParams.append(a,String(o));let i={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else i.body=e.body;return i=await this.includeExtraHttpOptionsToRequestInit(i,n,s.toString(),e.abortSignal),this.unaryApiCall(s,i,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[s,i]of Object.entries(n))typeof i=="object"?r[s]=Object.assign(Object.assign({},r[s]),i):i!==void 0&&(r[s]=i);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),s=this.constructUrl(e.path,n,r);(!s.searchParams.has("alt")||s.searchParams.get("alt")!=="sse")&&s.searchParams.set("alt","sse");let i={};return i.body=e.body,i=await this.includeExtraHttpOptionsToRequestInit(i,n,s.toString(),e.abortSignal),this.streamApiCall(s,i,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,s){if(n&&n.timeout||s){const i=new AbortController,a=i.signal;if(n.timeout&&n?.timeout>0){const o=setTimeout(()=>i.abort(),n.timeout);o&&typeof o.unref=="function"&&o.unref()}s&&s.addEventListener("abort",()=>{i.abort()}),e.signal=a}return n&&n.extraBody!==null&&Bue(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async s=>(await AP(s),new RT(s))).catch(s=>{throw s instanceof Error?s:new Error(JSON.stringify(s))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async s=>(await AP(s),this.processStreamResponse(s))).catch(s=>{throw s instanceof Error?s:new Error(JSON.stringify(s))})}processStreamResponse(e){var n;return Hp(this,arguments,function*(){const s=(n=e?.body)===null||n===void 0?void 0:n.getReader(),i=new TextDecoder("utf-8");if(!s)throw new Error("Response body is empty");try{let a="";for(;;){const{done:o,value:c}=yield gs(s.read());if(o){if(a.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const u=i.decode(c,{stream:!0});try{const p=JSON.parse(u);if("error"in p){const g=JSON.parse(JSON.stringify(p.error)),x=g.status,w=g.code,y=`got status: ${x}. ${JSON.stringify(p)}`;if(w>=400&&w<600)throw new Kb({message:y,status:w})}}catch(p){if(p.name==="ApiError")throw p}a+=u;let d=a.match(SP);for(;d;){const p=d[1];try{const g=new Response(p,{headers:e?.headers,status:e?.status,statusText:e?.statusText});yield yield gs(new RT(g)),a=a.slice(d[0].length),d=a.match(SP)}catch(g){throw new Error(`exception parsing stream chunk ${p}. ${g}`)}}}}finally{s.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=Mue+" "+this.clientOptions.userAgentExtra;return e[Pue]=n,e[FT]=n,e[kue]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[s,i]of Object.entries(e.headers))r.append(s,i);e.timeout&&e.timeout>0&&r.append(Rue,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const s={};n!=null&&(s.mimeType=n.mimeType,s.name=n.name,s.displayName=n.displayName),s.name&&!s.name.startsWith("files/")&&(s.name=`files/${s.name}`);const i=this.clientOptions.uploader,a=await i.stat(e);s.sizeBytes=String(a.size);const o=(r=n?.mimeType)!==null&&r!==void 0?r:a.type;if(o===void 0||o==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");s.mimeType=o;const c={file:s},u=this.getFileName(e),d=qt("upload/v1beta/files",c._url),p=await this.fetchUploadUrl(d,s.sizeBytes,s.mimeType,u,c,n?.httpOptions);return i.upload(e,p,this)}async uploadFileToFileSearchStore(e,n,r){var s;const i=this.clientOptions.uploader,a=await i.stat(n),o=String(a.size),c=(s=r?.mimeType)!==null&&s!==void 0?s:a.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const u=`upload/v1beta/${e}:uploadToFileSearchStore`,d=this.getFileName(n),p={};r?.customMetadata&&(p.customMetadata=r.customMetadata),r?.chunkingConfig&&(p.chunkingConfig=r.chunkingConfig);const g=await this.fetchUploadUrl(u,o,c,d,p,r?.httpOptions);return i.uploadToFileSearchStore(n,g,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,s,i,a){var o;let c={};a?c=a:c={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},s?{"X-Goog-Upload-File-Name":s}:{})};const u=await this.request({path:e,body:JSON.stringify(i),httpMethod:"POST",httpOptions:c});if(!u||!u?.headers)throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const d=(o=u?.headers)===null||o===void 0?void 0:o["x-goog-upload-url"];if(d===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return d}}async function AP(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const s=JSON.stringify(r);throw n>=400&&n<600?new Kb({message:s,status:n}):new Error(s)}}function Bue(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const i=JSON.parse(t.body);if(typeof i=="object"&&i!==null&&!Array.isArray(i))n=i;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(i,a){const o=Object.assign({},i);for(const c in a)if(Object.prototype.hasOwnProperty.call(a,c)){const u=a[c],d=o[c];u&&typeof u=="object"&&!Array.isArray(u)&&d&&typeof d=="object"&&!Array.isArray(d)?o[c]=r(d,u):(d&&u&&typeof d!=typeof u&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${c}". Original type: ${typeof d}, New type: ${typeof u}. Overwriting.`),o[c]=u)}return o}const s=r(n,e);t.body=JSON.stringify(s)}const Vue="mcp_used/unknown";let Uue=!1;function JB(t){for(const e of t)if(jue(e)||typeof e=="object"&&"inputSchema"in e)return!0;return Uue}function QB(t){var e;const n=(e=t[FT])!==null&&e!==void 0?e:"";t[FT]=(n+` ${Vue}`).trimStart()}function jue(t){return t!==null&&typeof t=="object"&&t instanceof pC}function que(t,e=100){return Hp(this,arguments,function*(){let r,s=0;for(;s<e;){const i=yield gs(t.listTools({cursor:r}));for(const a of i.tools)yield yield gs(a),s++;if(!i.nextCursor)break;r=i.nextCursor}})}class pC{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new pC(e,n)}async initialize(){var e,n,r,s;if(this.mcpTools.length>0)return;const i={},a=[];for(const d of this.mcpClients)try{for(var o=!0,c=(n=void 0,g1(que(d))),u;u=await c.next(),e=u.done,!e;o=!0){s=u.value,o=!1;const p=s;a.push(p);const g=p.name;if(i[g])throw new Error(`Duplicate function name ${g} found in MCP tools. Please ensure function names are unique.`);i[g]=d}}catch(p){n={error:p}}finally{try{!o&&!e&&(r=c.return)&&await r.call(c)}finally{if(n)throw n.error}}this.mcpTools=a,this.functionNameToMcpClient=i}async tool(){return await this.initialize(),Mae(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const s=this.functionNameToMcpClient[r.name];let i;this.config.timeout&&(i={timeout:this.config.timeout});const a=await s.callTool({name:r.name,arguments:r.args},void 0,i);n.push({functionResponse:{name:r.name,response:a.isError?{error:a}:a}})}return n}}async function Hue(t,e,n){const r=new Aae;let s;n.data instanceof Blob?s=JSON.parse(await n.data.text()):s=JSON.parse(n.data),Object.assign(r,s),e(r)}class zue{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const s=this.apiClient.getWebsocketBaseUrl(),i=this.apiClient.getApiVersion(),a=Wue(this.apiClient.getDefaultHeaders()),o=this.apiClient.getApiKey(),c=`${s}/ws/google.ai.generativelanguage.${i}.GenerativeService.BidiGenerateMusic?key=${o}`;let u=()=>{};const d=new Promise(I=>{u=I}),p=e.callbacks,g=function(){u({})},x=this.apiClient,w={onopen:g,onmessage:I=>{Hue(x,p.onmessage,I)},onerror:(n=p?.onerror)!==null&&n!==void 0?n:function(I){},onclose:(r=p?.onclose)!==null&&r!==void 0?r:function(I){}},y=this.webSocketFactory.create(c,$ue(a),w);y.connect(),await d;const F={setup:{model:Mr(this.apiClient,e.model)}};return y.send(JSON.stringify(F)),new Gue(y,this.apiClient)}}class Gue{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=Rle(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=kle(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Rp.PLAY)}pause(){this.sendPlaybackControl(Rp.PAUSE)}stop(){this.sendPlaybackControl(Rp.STOP)}resetContext(){this.sendPlaybackControl(Rp.RESET_CONTEXT)}close(){this.conn.close()}}function $ue(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function Wue(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}const Kue="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function Yue(t,e,n){const r=new Sae;let s;n.data instanceof Blob?s=await n.data.text():n.data instanceof ArrayBuffer?s=new TextDecoder().decode(n.data):s=n.data;const i=JSON.parse(s);if(t.isVertexAI()){const a=Mle(i);Object.assign(r,a)}else Object.assign(r,i);e(r)}class Xue{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new zue(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,s,i,a,o;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const c=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion();let d;const p=this.apiClient.getHeaders();e.config&&e.config.tools&&JB(e.config.tools)&&QB(p);const g=efe(p);if(this.apiClient.isVertexAI())d=`${c}/ws/google.cloud.aiplatform.${u}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(g,d);else{const R=this.apiClient.getApiKey();let U="BidiGenerateContent",L="key";R?.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),u!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),U="BidiGenerateContentConstrained",L="access_token"),d=`${c}/ws/google.ai.generativelanguage.${u}.GenerativeService.${U}?${L}=${R}`}let x=()=>{};const w=new Promise(R=>{x=R}),y=e.callbacks,S=function(){var R;(R=y?.onopen)===null||R===void 0||R.call(y),x({})},C=this.apiClient,F={onopen:S,onmessage:R=>{Yue(C,y.onmessage,R)},onerror:(n=y?.onerror)!==null&&n!==void 0?n:function(R){},onclose:(r=y?.onclose)!==null&&r!==void 0?r:function(R){}},I=this.webSocketFactory.create(d,Zue(g),F);I.connect(),await w;let D=Mr(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&D.startsWith("publishers/")){const R=this.apiClient.getProject(),U=this.apiClient.getLocation();D=`projects/${R}/locations/${U}/`+D}let z={};this.apiClient.isVertexAI()&&((s=e.config)===null||s===void 0?void 0:s.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Y1.AUDIO]}:e.config.responseModalities=[Y1.AUDIO]),!((i=e.config)===null||i===void 0)&&i.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const G=(o=(a=e.config)===null||a===void 0?void 0:a.tools)!==null&&o!==void 0?o:[],P=[];for(const R of G)if(this.isCallableTool(R)){const U=R;P.push(await U.tool())}else P.push(R);P.length>0&&(e.config.tools=P);const M={model:D,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?z=Ile(this.apiClient,M):z=Nle(this.apiClient,M),delete z.config,I.send(JSON.stringify(z)),new Que(I,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const Jue={turnComplete:!0};class Que{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=Al(n.turns),e.isVertexAI()||(r=r.map(s=>Yb(s)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const i of r){if(typeof i!="object"||i===null||!("name"in i)||!("response"in i))throw new Error(`Could not parse function response, type '${typeof i}'.`);if(!e.isVertexAI()&&!("id"in i))throw new Error(Kue)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},Jue),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:Dle(e)}:n={realtimeInput:Ple(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function Zue(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function efe(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}const CP=10;function NP(t){var e,n,r;if(!((e=t?.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let s=!1;for(const a of(n=t?.tools)!==null&&n!==void 0?n:[])if(zp(a)){s=!0;break}if(!s)return!0;const i=(r=t?.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return i&&(i<0||!Number.isInteger(i))||i==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",i),!0):!1}function zp(t){return"callTool"in t&&typeof t.callTool=="function"}function tfe(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(s=>zp(s)))!==null&&r!==void 0?r:!1}function IP(t){var e;const n=[];return!((e=t?.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,s)=>{if(zp(r))return;const i=r;i.functionDeclarations&&i.functionDeclarations.length>0&&n.push(s)}),n}function kP(t){var e;return!(!((e=t?.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}class nfe extends df{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,s,i,a,o;const c=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!tfe(n)||NP(n.config))return await this.generateContentInternal(c);const u=IP(n);if(u.length>0){const y=u.map(S=>`tools[${S}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${y}.`)}let d,p;const g=Al(c.contents),x=(i=(s=(r=c.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls)!==null&&i!==void 0?i:CP;let w=0;for(;w<x&&(d=await this.generateContentInternal(c),!(!d.functionCalls||d.functionCalls.length===0));){const y=d.candidates[0].content,S=[];for(const C of(o=(a=n.config)===null||a===void 0?void 0:a.tools)!==null&&o!==void 0?o:[])if(zp(C)){const I=await C.callTool(d.functionCalls);S.push(...I)}w++,p={role:"user",parts:S},c.contents=Al(c.contents),c.contents.push(y),c.contents.push(p),kP(c.config)&&(g.push(y),g.push(p))}return kP(c.config)&&(d.automaticFunctionCallingHistory=g),d},this.generateContentStream=async n=>{var r,s,i,a,o;if(this.maybeMoveToResponseJsonSchem(n),NP(n.config)){const p=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(p)}const c=IP(n);if(c.length>0){const p=c.map(g=>`tools[${g}]`).join(", ");throw new Error(`Incompatible tools found at ${p}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const u=(i=(s=(r=n?.config)===null||r===void 0?void 0:r.toolConfig)===null||s===void 0?void 0:s.functionCallingConfig)===null||i===void 0?void 0:i.streamFunctionCallArguments,d=(o=(a=n?.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||o===void 0?void 0:o.disable;if(u&&!d)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var s;let i;const a=[];if(r?.generatedImages)for(const c of r.generatedImages)c&&c?.safetyAttributes&&((s=c?.safetyAttributes)===null||s===void 0?void 0:s.contentType)==="Positive Prompt"?i=c?.safetyAttributes:a.push(c);let o;return i?o={generatedImages:a,positivePromptSafetyAttributes:i,sdkHttpResponse:r.sdkHttpResponse}:o={generatedImages:a,sdkHttpResponse:r.sdkHttpResponse},o}),this.list=async n=>{var r;const a={config:Object.assign(Object.assign({},{queryBase:!0}),n?.config)};if(this.apiClient.isVertexAI()&&!a.config.queryBase){if(!((r=a.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");a.config.filter="labels.tune-type:*"}return new n0(rf.PAGED_ITEM_MODELS,o=>this.listInternal(o),await this.listInternal(a),a)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(s=>s.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const s={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(s)},this.generateVideos=async n=>{var r,s,i,a,o,c;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((s=n.video)===null||s===void 0)&&s.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((a=(i=n.source)===null||i===void 0?void 0:i.video)===null||a===void 0)&&a.uri&&(!((c=(o=n.source)===null||o===void 0?void 0:o.video)===null||c===void 0)&&c.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,s;const i=(n=e.config)===null||n===void 0?void 0:n.tools;if(!i)return e;const a=await Promise.all(i.map(async c=>zp(c)?await c.tool():c)),o={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:a})};if(o.config.tools=a,e.config&&e.config.tools&&JB(e.config.tools)){const c=(s=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&s!==void 0?s:{};let u=Object.assign({},c);Object.keys(u).length===0&&(u=this.apiClient.getDefaultHeaders()),QB(u),o.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:u})}return o}async initAfcToolsMap(e){var n,r,s;const i=new Map;for(const a of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(zp(a)){const o=a,c=await o.tool();for(const u of(s=c.functionDeclarations)!==null&&s!==void 0?s:[]){if(!u.name)throw new Error("Function declaration name is required.");if(i.has(u.name))throw new Error(`Duplicate tool declaration name: ${u.name}`);i.set(u.name,o)}}return i}async processAfcStream(e){var n,r,s;const i=(s=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&s!==void 0?s:CP;let a=!1,o=0;const c=await this.initAfcToolsMap(e);return(function(u,d,p){var g,x;return Hp(this,arguments,function*(){for(var w,y,S,C;o<i;){a&&(o++,a=!1);const z=yield gs(u.processParamsMaybeAddMcpUsage(p)),G=yield gs(u.generateContentStreamInternal(z)),P=[],M=[];try{for(var F=!0,I=(y=void 0,g1(G)),D;D=yield gs(I.next()),w=D.done,!w;F=!0){C=D.value,F=!1;const R=C;if(yield yield gs(R),R.candidates&&(!((g=R.candidates[0])===null||g===void 0)&&g.content)){M.push(R.candidates[0].content);for(const U of(x=R.candidates[0].content.parts)!==null&&x!==void 0?x:[])if(o<i&&U.functionCall){if(!U.functionCall.name)throw new Error("Function call name was not returned by the model.");if(d.has(U.functionCall.name)){const L=yield gs(d.get(U.functionCall.name).callTool([U.functionCall]));P.push(...L)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${d.keys()}, mising tool: ${U.functionCall.name}`)}}}}catch(R){y={error:R}}finally{try{!F&&!w&&(S=I.return)&&(yield gs(S.call(I)))}finally{if(y)throw y.error}}if(P.length>0){a=!0;const R=new Lg;R.candidates=[{content:{role:"user",parts:P}}],yield yield gs(R);const U=[];U.push(...M),U.push({role:"user",parts:P});const L=Al(p.contents).concat(U);p.contents=L}else break}})})(this,c,e)}async generateContentInternal(e){var n,r,s,i;let a,o="",c={};if(this.apiClient.isVertexAI()){const u=_P(this.apiClient,e);return o=qt("{model}:generateContent",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const p=TP(d),g=new Lg;return Object.assign(g,p),g})}else{const u=wP(this.apiClient,e);return o=qt("{model}:generateContent",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const p=EP(d),g=new Lg;return Object.assign(g,p),g})}}async generateContentStreamInternal(e){var n,r,s,i;let a,o="",c={};if(this.apiClient.isVertexAI()){const u=_P(this.apiClient,e);return o=qt("{model}:streamGenerateContent?alt=sse",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.requestStream({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),a.then(function(p){return Hp(this,arguments,function*(){var g,x,w,y;try{for(var S=!0,C=g1(p),F;F=yield gs(C.next()),g=F.done,!g;S=!0){y=F.value,S=!1;const I=y,D=TP(yield gs(I.json()));D.sdkHttpResponse={headers:I.headers};const z=new Lg;Object.assign(z,D),yield yield gs(z)}}catch(I){x={error:I}}finally{try{!S&&!g&&(w=C.return)&&(yield gs(w.call(C)))}finally{if(x)throw x.error}}})})}else{const u=wP(this.apiClient,e);return o=qt("{model}:streamGenerateContent?alt=sse",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.requestStream({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),a.then(function(p){return Hp(this,arguments,function*(){var g,x,w,y;try{for(var S=!0,C=g1(p),F;F=yield gs(C.next()),g=F.done,!g;S=!0){y=F.value,S=!1;const I=y,D=EP(yield gs(I.json()));D.sdkHttpResponse={headers:I.headers};const z=new Lg;Object.assign(z,D),yield yield gs(z)}}catch(I){x={error:I}}finally{try{!S&&!g&&(w=C.return)&&(yield gs(w.call(C)))}finally{if(x)throw x.error}}})})}}async embedContent(e){var n,r,s,i;let a,o="",c={};if(this.apiClient.isVertexAI()){const u=uce(this.apiClient,e);return o=qt("{model}:predict",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const p=dce(d),g=new iP;return Object.assign(g,p),g})}else{const u=cce(this.apiClient,e);return o=qt("{model}:batchEmbedContents",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const p=fce(d),g=new iP;return Object.assign(g,p),g})}}async generateImagesInternal(e){var n,r,s,i;let a,o="",c={};if(this.apiClient.isVertexAI()){const u=Ece(this.apiClient,e);return o=qt("{model}:predict",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const p=Sce(d),g=new aP;return Object.assign(g,p),g})}else{const u=_ce(this.apiClient,e);return o=qt("{model}:predict",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const p=Tce(d),g=new aP;return Object.assign(g,p),g})}}async editImageInternal(e){var n,r;let s,i="",a={};if(this.apiClient.isVertexAI()){const o=ice(this.apiClient,e);return i=qt("{model}:predict",o._url),a=o._query,delete o._url,delete o._query,s=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const u=ace(c),d=new pae;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let s,i="",a={};if(this.apiClient.isVertexAI()){const o=Eue(this.apiClient,e);return i=qt("{model}:predict",o._url),a=o._query,delete o._url,delete o._query,s=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const u=Tue(c),d=new mae;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let s,i="",a={};if(this.apiClient.isVertexAI()){const o=sue(this.apiClient,e);return i=qt("{model}:predict",o._url),a=o._query,delete o._url,delete o._query,s=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>{const u=iue(c),d=new gae;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let s,i="",a={};if(this.apiClient.isVertexAI()){const o=fue(this.apiClient,e);return i=qt("{model}:predict",o._url),a=o._query,delete o._url,delete o._query,s=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>{const u=due(c),d=new xae;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,s,i;let a,o="",c={};if(this.apiClient.isVertexAI()){const u=qce(this.apiClient,e);return o=qt("{name}",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>LT(d))}else{const u=jce(this.apiClient,e);return o=qt("{name}",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),a.then(d=>MT(d))}}async listInternal(e){var n,r,s,i;let a,o="",c={};if(this.apiClient.isVertexAI()){const u=Jce(this.apiClient,e);return o=qt("{models_url}",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const p=Zce(d),g=new oP;return Object.assign(g,p),g})}else{const u=Xce(this.apiClient,e);return o=qt("{models_url}",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const p=Qce(d),g=new oP;return Object.assign(g,p),g})}}async update(e){var n,r,s,i;let a,o="",c={};if(this.apiClient.isVertexAI()){const u=wue(this.apiClient,e);return o=qt("{model}",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>LT(d))}else{const u=bue(this.apiClient,e);return o=qt("{name}",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),a.then(d=>MT(d))}}async delete(e){var n,r,s,i;let a,o="",c={};if(this.apiClient.isVertexAI()){const u=tce(this.apiClient,e);return o=qt("{name}",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const p=rce(d),g=new lP;return Object.assign(g,p),g})}else{const u=ece(this.apiClient,e);return o=qt("{name}",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const p=nce(d),g=new lP;return Object.assign(g,p),g})}}async countTokens(e){var n,r,s,i;let a,o="",c={};if(this.apiClient.isVertexAI()){const u=Jle(this.apiClient,e);return o=qt("{model}:countTokens",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const p=Zle(d),g=new cP;return Object.assign(g,p),g})}else{const u=Xle(this.apiClient,e);return o=qt("{model}:countTokens",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const p=Qle(d),g=new cP;return Object.assign(g,p),g})}}async computeTokens(e){var n,r;let s,i="",a={};if(this.apiClient.isVertexAI()){const o=Hle(this.apiClient,e);return i=qt("{model}:computeTokens",o._url),a=o._query,delete o._url,delete o._query,s=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const u=zle(c),d=new vae;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,s,i;let a,o="",c={};if(this.apiClient.isVertexAI()){const u=Rce(this.apiClient,e);return o=qt("{model}:predictLongRunning",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>{const p=Ice(d),g=new V2;return Object.assign(g,p),g})}else{const u=kce(this.apiClient,e);return o=qt("{model}:predictLongRunning",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),a.then(d=>{const p=Nce(d),g=new V2;return Object.assign(g,p),g})}}}class rfe extends df{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const s=n.name.split("/operations/")[0];let i;r&&"httpOptions"in r&&(i=r.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:s,config:{httpOptions:i}});return n._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const s=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const s=n.name.split("/operations/")[0];let i;r&&"httpOptions"in r&&(i=r.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:s,config:{httpOptions:i}});return n._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const s=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,s,i;let a,o="",c={};if(this.apiClient.isVertexAI()){const u=lae(e);return o=qt("{operationName}",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a}else{const u=oae(e);return o=qt("{operationName}",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),a}}async fetchPredictVideosOperationInternal(e){var n,r;let s,i="",a={};if(this.apiClient.isVertexAI()){const o=eae(e);return i=qt("{resourceName}:fetchPredictOperation",o._url),a=o._query,delete o._url,delete o._query,s=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s}else throw new Error("This method is only supported by the Vertex AI.")}}function sfe(t){const e={},n=b(t,["data"]);if(n!=null&&T(e,["data"],n),b(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=b(t,["mimeType"]);return r!=null&&T(e,["mimeType"],r),e}function ife(t){const e={},n=b(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(i=>pfe(i))),T(e,["parts"],s)}const r=b(t,["role"]);return r!=null&&T(e,["role"],r),e}function afe(t,e,n){const r={},s=b(e,["expireTime"]);n!==void 0&&s!=null&&T(n,["expireTime"],s);const i=b(e,["newSessionExpireTime"]);n!==void 0&&i!=null&&T(n,["newSessionExpireTime"],i);const a=b(e,["uses"]);n!==void 0&&a!=null&&T(n,["uses"],a);const o=b(e,["liveConnectConstraints"]);n!==void 0&&o!=null&&T(n,["bidiGenerateContentSetup"],hfe(t,o));const c=b(e,["lockAdditionalFields"]);return n!==void 0&&c!=null&&T(n,["fieldMask"],c),r}function ofe(t,e){const n={},r=b(e,["config"]);return r!=null&&T(n,["config"],afe(t,r,n)),n}function lfe(t){const e={};if(b(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=b(t,["fileUri"]);n!=null&&T(e,["fileUri"],n);const r=b(t,["mimeType"]);return r!=null&&T(e,["mimeType"],r),e}function cfe(t){const e={},n=b(t,["id"]);n!=null&&T(e,["id"],n);const r=b(t,["args"]);r!=null&&T(e,["args"],r);const s=b(t,["name"]);if(s!=null&&T(e,["name"],s),b(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(b(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function ufe(t){const e={};if(b(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=b(t,["enableWidget"]);return n!=null&&T(e,["enableWidget"],n),e}function ffe(t){const e={};if(b(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(b(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=b(t,["timeRangeFilter"]);return n!=null&&T(e,["timeRangeFilter"],n),e}function dfe(t,e){const n={},r=b(t,["generationConfig"]);e!==void 0&&r!=null&&T(e,["setup","generationConfig"],r);const s=b(t,["responseModalities"]);e!==void 0&&s!=null&&T(e,["setup","generationConfig","responseModalities"],s);const i=b(t,["temperature"]);e!==void 0&&i!=null&&T(e,["setup","generationConfig","temperature"],i);const a=b(t,["topP"]);e!==void 0&&a!=null&&T(e,["setup","generationConfig","topP"],a);const o=b(t,["topK"]);e!==void 0&&o!=null&&T(e,["setup","generationConfig","topK"],o);const c=b(t,["maxOutputTokens"]);e!==void 0&&c!=null&&T(e,["setup","generationConfig","maxOutputTokens"],c);const u=b(t,["mediaResolution"]);e!==void 0&&u!=null&&T(e,["setup","generationConfig","mediaResolution"],u);const d=b(t,["seed"]);e!==void 0&&d!=null&&T(e,["setup","generationConfig","seed"],d);const p=b(t,["speechConfig"]);e!==void 0&&p!=null&&T(e,["setup","generationConfig","speechConfig"],hC(p));const g=b(t,["thinkingConfig"]);e!==void 0&&g!=null&&T(e,["setup","generationConfig","thinkingConfig"],g);const x=b(t,["enableAffectiveDialog"]);e!==void 0&&x!=null&&T(e,["setup","generationConfig","enableAffectiveDialog"],x);const w=b(t,["systemInstruction"]);e!==void 0&&w!=null&&T(e,["setup","systemInstruction"],ife(Ra(w)));const y=b(t,["tools"]);if(e!==void 0&&y!=null){let G=Mm(y);Array.isArray(G)&&(G=G.map(P=>gfe(Dm(P)))),T(e,["setup","tools"],G)}const S=b(t,["sessionResumption"]);e!==void 0&&S!=null&&T(e,["setup","sessionResumption"],mfe(S));const C=b(t,["inputAudioTranscription"]);e!==void 0&&C!=null&&T(e,["setup","inputAudioTranscription"],C);const F=b(t,["outputAudioTranscription"]);e!==void 0&&F!=null&&T(e,["setup","outputAudioTranscription"],F);const I=b(t,["realtimeInputConfig"]);e!==void 0&&I!=null&&T(e,["setup","realtimeInputConfig"],I);const D=b(t,["contextWindowCompression"]);e!==void 0&&D!=null&&T(e,["setup","contextWindowCompression"],D);const z=b(t,["proactivity"]);return e!==void 0&&z!=null&&T(e,["setup","proactivity"],z),n}function hfe(t,e){const n={},r=b(e,["model"]);r!=null&&T(n,["setup","model"],Mr(t,r));const s=b(e,["config"]);return s!=null&&T(n,["config"],dfe(s,n)),n}function pfe(t){const e={},n=b(t,["mediaResolution"]);n!=null&&T(e,["mediaResolution"],n);const r=b(t,["codeExecutionResult"]);r!=null&&T(e,["codeExecutionResult"],r);const s=b(t,["executableCode"]);s!=null&&T(e,["executableCode"],s);const i=b(t,["fileData"]);i!=null&&T(e,["fileData"],lfe(i));const a=b(t,["functionCall"]);a!=null&&T(e,["functionCall"],cfe(a));const o=b(t,["functionResponse"]);o!=null&&T(e,["functionResponse"],o);const c=b(t,["inlineData"]);c!=null&&T(e,["inlineData"],sfe(c));const u=b(t,["text"]);u!=null&&T(e,["text"],u);const d=b(t,["thought"]);d!=null&&T(e,["thought"],d);const p=b(t,["thoughtSignature"]);p!=null&&T(e,["thoughtSignature"],p);const g=b(t,["videoMetadata"]);return g!=null&&T(e,["videoMetadata"],g),e}function mfe(t){const e={},n=b(t,["handle"]);if(n!=null&&T(e,["handle"],n),b(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function gfe(t){const e={},n=b(t,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(p=>p)),T(e,["functionDeclarations"],d)}if(b(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=b(t,["googleSearchRetrieval"]);r!=null&&T(e,["googleSearchRetrieval"],r);const s=b(t,["computerUse"]);s!=null&&T(e,["computerUse"],s);const i=b(t,["fileSearch"]);i!=null&&T(e,["fileSearch"],i);const a=b(t,["codeExecution"]);if(a!=null&&T(e,["codeExecution"],a),b(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=b(t,["googleMaps"]);o!=null&&T(e,["googleMaps"],ufe(o));const c=b(t,["googleSearch"]);c!=null&&T(e,["googleSearch"],ffe(c));const u=b(t,["urlContext"]);return u!=null&&T(e,["urlContext"],u),e}function xfe(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const s=Object.keys(r).map(i=>`${n}.${i}`);e.push(...s)}else e.push(n)}return e.join(",")}function vfe(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const i=r.setup;typeof i=="object"&&i!==null?(t.bidiGenerateContentSetup=i,n=i):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const s=t.fieldMask;if(n){const i=xfe(n);if(Array.isArray(e?.lockAdditionalFields)&&e?.lockAdditionalFields.length===0)i?t.fieldMask=i:delete t.fieldMask;else if(e?.lockAdditionalFields&&e.lockAdditionalFields.length>0&&s!==null&&Array.isArray(s)&&s.length>0){const a=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let o=[];s.length>0&&(o=s.map(u=>a.includes(u)?`generationConfig.${u}`:u));const c=[];i&&c.push(i),o.length>0&&c.push(...o),c.length>0?t.fieldMask=c.join(","):delete t.fieldMask}else delete t.fieldMask}else s!==null&&Array.isArray(s)&&s.length>0?t.fieldMask=s.join(","):delete t.fieldMask;return t}class yfe extends df{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let s,i="",a={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const o=ofe(this.apiClient,e);i=qt("auth_tokens",o._url),a=o._query,delete o.config,delete o._url,delete o._query;const c=vfe(o,e.config);return s=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),s.then(u=>u)}}}function bfe(t,e){const n={},r=b(t,["displayName"]);return e!==void 0&&r!=null&&T(e,["displayName"],r),n}function wfe(t){const e={},n=b(t,["config"]);return n!=null&&bfe(n,e),e}function _fe(t,e){const n={},r=b(t,["force"]);return e!==void 0&&r!=null&&T(e,["_query","force"],r),n}function Efe(t){const e={},n=b(t,["name"]);n!=null&&T(e,["_url","name"],n);const r=b(t,["config"]);return r!=null&&_fe(r,e),e}function Tfe(t){const e={},n=b(t,["name"]);return n!=null&&T(e,["_url","name"],n),e}function Sfe(t,e){const n={},r=b(t,["customMetadata"]);if(e!==void 0&&r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),T(e,["customMetadata"],i)}const s=b(t,["chunkingConfig"]);return e!==void 0&&s!=null&&T(e,["chunkingConfig"],s),n}function Afe(t){const e={},n=b(t,["name"]);n!=null&&T(e,["name"],n);const r=b(t,["metadata"]);r!=null&&T(e,["metadata"],r);const s=b(t,["done"]);s!=null&&T(e,["done"],s);const i=b(t,["error"]);i!=null&&T(e,["error"],i);const a=b(t,["response"]);return a!=null&&T(e,["response"],Nfe(a)),e}function Cfe(t){const e={},n=b(t,["fileSearchStoreName"]);n!=null&&T(e,["_url","file_search_store_name"],n);const r=b(t,["fileName"]);r!=null&&T(e,["fileName"],r);const s=b(t,["config"]);return s!=null&&Sfe(s,e),e}function Nfe(t){const e={},n=b(t,["sdkHttpResponse"]);n!=null&&T(e,["sdkHttpResponse"],n);const r=b(t,["parent"]);r!=null&&T(e,["parent"],r);const s=b(t,["documentName"]);return s!=null&&T(e,["documentName"],s),e}function Ife(t,e){const n={},r=b(t,["pageSize"]);e!==void 0&&r!=null&&T(e,["_query","pageSize"],r);const s=b(t,["pageToken"]);return e!==void 0&&s!=null&&T(e,["_query","pageToken"],s),n}function kfe(t){const e={},n=b(t,["config"]);return n!=null&&Ife(n,e),e}function Rfe(t){const e={},n=b(t,["sdkHttpResponse"]);n!=null&&T(e,["sdkHttpResponse"],n);const r=b(t,["nextPageToken"]);r!=null&&T(e,["nextPageToken"],r);const s=b(t,["fileSearchStores"]);if(s!=null){let i=s;Array.isArray(i)&&(i=i.map(a=>a)),T(e,["fileSearchStores"],i)}return e}function Pfe(t,e){const n={},r=b(t,["mimeType"]);e!==void 0&&r!=null&&T(e,["mimeType"],r);const s=b(t,["displayName"]);e!==void 0&&s!=null&&T(e,["displayName"],s);const i=b(t,["customMetadata"]);if(e!==void 0&&i!=null){let o=i;Array.isArray(o)&&(o=o.map(c=>c)),T(e,["customMetadata"],o)}const a=b(t,["chunkingConfig"]);return e!==void 0&&a!=null&&T(e,["chunkingConfig"],a),n}function Dfe(t){const e={},n=b(t,["fileSearchStoreName"]);n!=null&&T(e,["_url","file_search_store_name"],n);const r=b(t,["config"]);return r!=null&&Pfe(r,e),e}function Mfe(t){const e={},n=b(t,["sdkHttpResponse"]);return n!=null&&T(e,["sdkHttpResponse"],n),e}function Lfe(t,e){const n={},r=b(t,["force"]);return e!==void 0&&r!=null&&T(e,["_query","force"],r),n}function Ffe(t){const e={},n=b(t,["name"]);n!=null&&T(e,["_url","name"],n);const r=b(t,["config"]);return r!=null&&Lfe(r,e),e}function Ofe(t){const e={},n=b(t,["name"]);return n!=null&&T(e,["_url","name"],n),e}function Bfe(t,e){const n={},r=b(t,["pageSize"]);e!==void 0&&r!=null&&T(e,["_query","pageSize"],r);const s=b(t,["pageToken"]);return e!==void 0&&s!=null&&T(e,["_query","pageToken"],s),n}function Vfe(t){const e={},n=b(t,["parent"]);n!=null&&T(e,["_url","parent"],n);const r=b(t,["config"]);return r!=null&&Bfe(r,e),e}function Ufe(t){const e={},n=b(t,["sdkHttpResponse"]);n!=null&&T(e,["sdkHttpResponse"],n);const r=b(t,["nextPageToken"]);r!=null&&T(e,["nextPageToken"],r);const s=b(t,["documents"]);if(s!=null){let i=s;Array.isArray(i)&&(i=i.map(a=>a)),T(e,["documents"],i)}return e}class jfe extends df{constructor(e){super(),this.apiClient=e,this.list=async n=>new n0(rf.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let s,i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Ofe(e);return i=qt("{name}",o._url),a=o._query,delete o._url,delete o._query,s=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>c)}}async delete(e){var n,r;let s="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Ffe(e);s=qt("{name}",a._url),i=a._query,delete a._url,delete a._query,await this.apiClient.request({path:s,queryParams:i,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let s,i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Vfe(e);return i=qt("{parent}/documents",o._url),a=o._query,delete o._url,delete o._query,s=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>{const u=Ufe(c),d=new yae;return Object.assign(d,u),d})}}}class qfe extends df{constructor(e,n=new jfe(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new n0(rf.PAGED_ITEM_FILE_SEARCH_STORES,s=>this.listInternal(s),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let s,i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=wfe(e);return i=qt("fileSearchStores",o._url),a=o._query,delete o._url,delete o._query,s=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>c)}}async get(e){var n,r;let s,i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Tfe(e);return i=qt("{name}",o._url),a=o._query,delete o._url,delete o._query,s=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>c)}}async delete(e){var n,r;let s="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Efe(e);s=qt("{name}",a._url),i=a._query,delete a._url,delete a._query,await this.apiClient.request({path:s,queryParams:i,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let s,i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=kfe(e);return i=qt("fileSearchStores",o._url),a=o._query,delete o._url,delete o._query,s=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>{const u=Rfe(c),d=new bae;return Object.assign(d,u),d})}}async uploadToFileSearchStoreInternal(e){var n,r;let s,i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Dfe(e);return i=qt("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",o._url),a=o._query,delete o._url,delete o._query,s=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>{const u=Mfe(c),d=new wae;return Object.assign(d,u),d})}}async importFile(e){var n,r;let s,i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Cfe(e);return i=qt("{file_search_store_name}:importFile",o._url),a=o._query,delete o._url,delete o._query,s=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>{const u=Afe(c),d=new lC;return Object.assign(d,u),d})}}}function Hfe(t,e){const n={},r=b(t,["name"]);return r!=null&&T(n,["_url","name"],r),n}function zfe(t,e){const n={},r=b(t,["name"]);return r!=null&&T(n,["_url","name"],r),n}function Gfe(t,e,n){const r={};if(b(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const s=b(t,["tunedModelDisplayName"]);if(e!==void 0&&s!=null&&T(e,["displayName"],s),b(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const i=b(t,["epochCount"]);e!==void 0&&i!=null&&T(e,["tuningTask","hyperparameters","epochCount"],i);const a=b(t,["learningRateMultiplier"]);if(a!=null&&T(r,["tuningTask","hyperparameters","learningRateMultiplier"],a),b(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(b(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(b(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const o=b(t,["batchSize"]);e!==void 0&&o!=null&&T(e,["tuningTask","hyperparameters","batchSize"],o);const c=b(t,["learningRate"]);if(e!==void 0&&c!=null&&T(e,["tuningTask","hyperparameters","learningRate"],c),b(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(b(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function $fe(t,e,n){const r={};let s=b(n,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const x=b(t,["validationDataset"]);e!==void 0&&x!=null&&T(e,["supervisedTuningSpec"],RP(x))}else if(s==="PREFERENCE_TUNING"){const x=b(t,["validationDataset"]);e!==void 0&&x!=null&&T(e,["preferenceOptimizationSpec"],RP(x))}const i=b(t,["tunedModelDisplayName"]);e!==void 0&&i!=null&&T(e,["tunedModelDisplayName"],i);const a=b(t,["description"]);e!==void 0&&a!=null&&T(e,["description"],a);let o=b(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const x=b(t,["epochCount"]);e!==void 0&&x!=null&&T(e,["supervisedTuningSpec","hyperParameters","epochCount"],x)}else if(o==="PREFERENCE_TUNING"){const x=b(t,["epochCount"]);e!==void 0&&x!=null&&T(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],x)}let c=b(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const x=b(t,["learningRateMultiplier"]);e!==void 0&&x!=null&&T(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],x)}else if(c==="PREFERENCE_TUNING"){const x=b(t,["learningRateMultiplier"]);e!==void 0&&x!=null&&T(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],x)}let u=b(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const x=b(t,["exportLastCheckpointOnly"]);e!==void 0&&x!=null&&T(e,["supervisedTuningSpec","exportLastCheckpointOnly"],x)}else if(u==="PREFERENCE_TUNING"){const x=b(t,["exportLastCheckpointOnly"]);e!==void 0&&x!=null&&T(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],x)}let d=b(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const x=b(t,["adapterSize"]);e!==void 0&&x!=null&&T(e,["supervisedTuningSpec","hyperParameters","adapterSize"],x)}else if(d==="PREFERENCE_TUNING"){const x=b(t,["adapterSize"]);e!==void 0&&x!=null&&T(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],x)}if(b(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(b(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const p=b(t,["labels"]);e!==void 0&&p!=null&&T(e,["labels"],p);const g=b(t,["beta"]);return e!==void 0&&g!=null&&T(e,["preferenceOptimizationSpec","hyperParameters","beta"],g),r}function Wfe(t,e){const n={},r=b(t,["baseModel"]);r!=null&&T(n,["baseModel"],r);const s=b(t,["preTunedModel"]);s!=null&&T(n,["preTunedModel"],s);const i=b(t,["trainingDataset"]);i!=null&&sde(i);const a=b(t,["config"]);return a!=null&&Gfe(a,n),n}function Kfe(t,e){const n={},r=b(t,["baseModel"]);r!=null&&T(n,["baseModel"],r);const s=b(t,["preTunedModel"]);s!=null&&T(n,["preTunedModel"],s);const i=b(t,["trainingDataset"]);i!=null&&ide(i,n,e);const a=b(t,["config"]);return a!=null&&$fe(a,n,e),n}function Yfe(t,e){const n={},r=b(t,["name"]);return r!=null&&T(n,["_url","name"],r),n}function Xfe(t,e){const n={},r=b(t,["name"]);return r!=null&&T(n,["_url","name"],r),n}function Jfe(t,e,n){const r={},s=b(t,["pageSize"]);e!==void 0&&s!=null&&T(e,["_query","pageSize"],s);const i=b(t,["pageToken"]);e!==void 0&&i!=null&&T(e,["_query","pageToken"],i);const a=b(t,["filter"]);return e!==void 0&&a!=null&&T(e,["_query","filter"],a),r}function Qfe(t,e,n){const r={},s=b(t,["pageSize"]);e!==void 0&&s!=null&&T(e,["_query","pageSize"],s);const i=b(t,["pageToken"]);e!==void 0&&i!=null&&T(e,["_query","pageToken"],i);const a=b(t,["filter"]);return e!==void 0&&a!=null&&T(e,["_query","filter"],a),r}function Zfe(t,e){const n={},r=b(t,["config"]);return r!=null&&Jfe(r,n),n}function ede(t,e){const n={},r=b(t,["config"]);return r!=null&&Qfe(r,n),n}function tde(t,e){const n={},r=b(t,["sdkHttpResponse"]);r!=null&&T(n,["sdkHttpResponse"],r);const s=b(t,["nextPageToken"]);s!=null&&T(n,["nextPageToken"],s);const i=b(t,["tunedModels"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>ZB(o))),T(n,["tuningJobs"],a)}return n}function nde(t,e){const n={},r=b(t,["sdkHttpResponse"]);r!=null&&T(n,["sdkHttpResponse"],r);const s=b(t,["nextPageToken"]);s!=null&&T(n,["nextPageToken"],s);const i=b(t,["tuningJobs"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>OT(o))),T(n,["tuningJobs"],a)}return n}function rde(t,e){const n={},r=b(t,["name"]);r!=null&&T(n,["model"],r);const s=b(t,["name"]);return s!=null&&T(n,["endpoint"],s),n}function sde(t,e){const n={};if(b(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(b(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=b(t,["examples"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(i=>i)),T(n,["examples","examples"],s)}return n}function ide(t,e,n){const r={};let s=b(n,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const a=b(t,["gcsUri"]);e!==void 0&&a!=null&&T(e,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(s==="PREFERENCE_TUNING"){const a=b(t,["gcsUri"]);e!==void 0&&a!=null&&T(e,["preferenceOptimizationSpec","trainingDatasetUri"],a)}let i=b(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const a=b(t,["vertexDatasetResource"]);e!==void 0&&a!=null&&T(e,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(i==="PREFERENCE_TUNING"){const a=b(t,["vertexDatasetResource"]);e!==void 0&&a!=null&&T(e,["preferenceOptimizationSpec","trainingDatasetUri"],a)}if(b(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function ZB(t,e){const n={},r=b(t,["sdkHttpResponse"]);r!=null&&T(n,["sdkHttpResponse"],r);const s=b(t,["name"]);s!=null&&T(n,["name"],s);const i=b(t,["state"]);i!=null&&T(n,["state"],MB(i));const a=b(t,["createTime"]);a!=null&&T(n,["createTime"],a);const o=b(t,["tuningTask","startTime"]);o!=null&&T(n,["startTime"],o);const c=b(t,["tuningTask","completeTime"]);c!=null&&T(n,["endTime"],c);const u=b(t,["updateTime"]);u!=null&&T(n,["updateTime"],u);const d=b(t,["description"]);d!=null&&T(n,["description"],d);const p=b(t,["baseModel"]);p!=null&&T(n,["baseModel"],p);const g=b(t,["_self"]);return g!=null&&T(n,["tunedModel"],rde(g)),n}function OT(t,e){const n={},r=b(t,["sdkHttpResponse"]);r!=null&&T(n,["sdkHttpResponse"],r);const s=b(t,["name"]);s!=null&&T(n,["name"],s);const i=b(t,["state"]);i!=null&&T(n,["state"],MB(i));const a=b(t,["createTime"]);a!=null&&T(n,["createTime"],a);const o=b(t,["startTime"]);o!=null&&T(n,["startTime"],o);const c=b(t,["endTime"]);c!=null&&T(n,["endTime"],c);const u=b(t,["updateTime"]);u!=null&&T(n,["updateTime"],u);const d=b(t,["error"]);d!=null&&T(n,["error"],d);const p=b(t,["description"]);p!=null&&T(n,["description"],p);const g=b(t,["baseModel"]);g!=null&&T(n,["baseModel"],g);const x=b(t,["tunedModel"]);x!=null&&T(n,["tunedModel"],x);const w=b(t,["preTunedModel"]);w!=null&&T(n,["preTunedModel"],w);const y=b(t,["supervisedTuningSpec"]);y!=null&&T(n,["supervisedTuningSpec"],y);const S=b(t,["preferenceOptimizationSpec"]);S!=null&&T(n,["preferenceOptimizationSpec"],S);const C=b(t,["tuningDataStats"]);C!=null&&T(n,["tuningDataStats"],C);const F=b(t,["encryptionSpec"]);F!=null&&T(n,["encryptionSpec"],F);const I=b(t,["partnerModelTuningSpec"]);I!=null&&T(n,["partnerModelTuningSpec"],I);const D=b(t,["customBaseModel"]);D!=null&&T(n,["customBaseModel"],D);const z=b(t,["experiment"]);z!=null&&T(n,["experiment"],z);const G=b(t,["labels"]);G!=null&&T(n,["labels"],G);const P=b(t,["outputUri"]);P!=null&&T(n,["outputUri"],P);const M=b(t,["pipelineJob"]);M!=null&&T(n,["pipelineJob"],M);const R=b(t,["serviceAccount"]);R!=null&&T(n,["serviceAccount"],R);const U=b(t,["tunedModelDisplayName"]);U!=null&&T(n,["tunedModelDisplayName"],U);const L=b(t,["veoTuningSpec"]);return L!=null&&T(n,["veoTuningSpec"],L),n}function ade(t,e){const n={},r=b(t,["sdkHttpResponse"]);r!=null&&T(n,["sdkHttpResponse"],r);const s=b(t,["name"]);s!=null&&T(n,["name"],s);const i=b(t,["metadata"]);i!=null&&T(n,["metadata"],i);const a=b(t,["done"]);a!=null&&T(n,["done"],a);const o=b(t,["error"]);return o!=null&&T(n,["error"],o),n}function RP(t,e){const n={},r=b(t,["gcsUri"]);r!=null&&T(n,["validationDatasetUri"],r);const s=b(t,["vertexDatasetResource"]);return s!=null&&T(n,["validationDatasetUri"],s),n}class ode extends df{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new n0(rf.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const s={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(s.checkpointId=n.config.preTunedModelCheckpointId);const i=Object.assign(Object.assign({},n),{preTunedModel:s});return i.baseModel=void 0,await this.tuneInternal(i)}else{const s=Object.assign({},n);return await this.tuneInternal(s)}else{const s=Object.assign({},n),i=await this.tuneMldevInternal(s);let a="";return i.metadata!==void 0&&i.metadata.tunedModel!==void 0?a=i.metadata.tunedModel:i.name!==void 0&&i.name.includes("/operations/")&&(a=i.name.split("/operations/")[0]),{name:a,state:kT.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,s,i;let a,o="",c={};if(this.apiClient.isVertexAI()){const u=Xfe(e);return o=qt("{name}",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>OT(d))}else{const u=Yfe(e);return o=qt("{name}",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>ZB(d))}}async listInternal(e){var n,r,s,i;let a,o="",c={};if(this.apiClient.isVertexAI()){const u=ede(e);return o=qt("tuningJobs",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const p=nde(d),g=new uP;return Object.assign(g,p),g})}else{const u=Zfe(e);return o=qt("tunedModels",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:d.headers},g})),a.then(d=>{const p=tde(d),g=new uP;return Object.assign(g,p),g})}}async cancel(e){var n,r,s,i;let a="",o={};if(this.apiClient.isVertexAI()){const c=zfe(e);a=qt("{name}:cancel",c._url),o=c._query,delete c._url,delete c._query,await this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const c=Hfe(e);a=qt("{name}:cancel",c._url),o=c._query,delete c._url,delete c._query,await this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async tuneInternal(e){var n,r;let s,i="",a={};if(this.apiClient.isVertexAI()){const o=Kfe(e,e);return i=qt("tuningJobs",o._url),a=o._query,delete o._url,delete o._query,s=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>OT(c))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let s,i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Wfe(e);return i=qt("tunedModels",o._url),a=o._query,delete o._url,delete o._query,s=this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>ade(c))}}}class lde{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const cde=1024*1024*8,ude=3,fde=1e3,dde=2,j2="x-goog-upload-status";async function hde(t,e,n){var r;const s=await eV(t,e,n),i=await s?.json();if(((r=s?.headers)===null||r===void 0?void 0:r[j2])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return i.file}async function pde(t,e,n){var r;const s=await eV(t,e,n),i=await s?.json();if(((r=s?.headers)===null||r===void 0?void 0:r[j2])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const a=NB(i),o=new cC;return Object.assign(o,a),o}async function eV(t,e,n){var r,s;let i=0,a=0,o=new RT(new Response),c="upload";for(i=t.size;a<i;){const u=Math.min(cde,i-a),d=t.slice(a,a+u);a+u>=i&&(c+=", finalize");let p=0,g=fde;for(;p<ude&&(o=await n.request({path:"",body:d,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":c,"X-Goog-Upload-Offset":String(a),"Content-Length":String(u)}}}),!(!((r=o?.headers)===null||r===void 0)&&r[j2]));)p++,await gde(g),g=g*dde;if(a+=u,((s=o?.headers)===null||s===void 0?void 0:s[j2])!=="active")break;if(i<=a)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return o}async function mde(t){return{size:t.size,type:t.type}}function gde(t){return new Promise(e=>setTimeout(e,t))}class xde{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await hde(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await pde(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await mde(e)}}class vde{create(e,n,r){return new yde(e,n,r)}}class yde{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}const PP="x-goog-api-key";class bde{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(PP)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(PP,this.apiKey)}}}const wde="gl-node/";class _de{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=Qie(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion;const s=new bde(this.apiKey);this.apiClient=new Oue({auth:s,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:wde+"web",uploader:new xde,downloader:new lde}),this.models=new nfe(this.apiClient),this.live=new Xue(this.apiClient,s,new vde),this.batches=new Coe(this.apiClient),this.chats=new lle(this.models,this.apiClient),this.caches=new ile(this.apiClient),this.files=new vle(this.apiClient),this.operations=new rfe(this.apiClient),this.authTokens=new yfe(this.apiClient),this.tunings=new ode(this.apiClient),this.fileSearchStores=new qfe(this.apiClient)}}var DP={};function Ede(t){const e=atob(t),n=e.length,r=new Uint8Array(n);for(let s=0;s<n;s++)r[s]=e.charCodeAt(s);return r}async function Tde(t,e,n,r){const s=new Int16Array(t.buffer),i=s.length/r,a=e.createBuffer(r,i,n);for(let o=0;o<r;o++){const c=a.getChannelData(o);for(let u=0;u<i;u++)c[u]=s[u*r+o]/32768}return a}const Sde={generateSpeech:async t=>{if(!DP.API_KEY){console.error("API Key is missing"),alert("API Key missing in environment variables.");return}const e=new _de({apiKey:DP.API_KEY});try{const r=(await e.models.generateContent({model:"gemini-2.5-flash-preview-tts",contents:[{parts:[{text:t}]}],config:{responseModalities:[Y1.AUDIO],speechConfig:{voiceConfig:{prebuiltVoiceConfig:{voiceName:"Kore"}}}}})).candidates?.[0]?.content?.parts?.[0]?.inlineData?.data;if(!r)throw new Error("No audio data returned from Gemini.");const s=new(window.AudioContext||window.webkitAudioContext)({sampleRate:24e3}),i=s.createGain();i.connect(s.destination);const a=Ede(r),o=await Tde(a,s,24e3,1),c=s.createBufferSource();c.buffer=o,c.connect(i),c.start()}catch(n){console.error("Error generating speech:",n),alert("Failed to generate speech. Please try again.")}}},q2={shareInvoice:(t,e,n)=>{if(!e)return alert("Customer data not found.");const r=e.phone.replace(/\D/g,"");if(!r)return alert("Customer phone number missing.");const s=t.items.map(c=>`- ${c.description} (x${c.quantity})`).join("%0A"),i=`https://billflow-app.web.app/invoice/${t.id}`,a=`https://billflow-app.web.app/customer/${e.id}/ledger`,o=`*TAX INVOICE* %0A*${n.name}* %0A%0AHello ${e.company||e.name}, %0AHere are your invoice details: %0A%0A*Inv No:* ${t.invoiceNumber} %0A*Date:* ${t.date} %0A*Amount:* Rs. ${t.total.toFixed(2)} %0A*Status:* ${t.status==="PAID"?"PAID ":"PENDING "} %0A%0A*Items:* %0A${s} %0A%0A *View Invoice:* ${i} %0A *View Ledger:* ${a} %0A%0AThank you for your business!`;window.open(`https://wa.me/${r}?text=${o}`,"_blank")},sharePayment:(t,e,n)=>{if(!e)return alert("Customer data not found.");const r=e.phone.replace(/\D/g,"");if(!r)return alert("Customer phone number missing.");const s=`https://billflow-app.web.app/customer/${e.id}/ledger`,i=`*PAYMENT RECEIPT* %0A*${n.name}* %0A%0AHello ${e.company||e.name}, %0AWe have received your payment. %0A%0A*Amount:* Rs. ${t.amount.toFixed(2)} %0A*Date:* ${t.date} %0A*Mode:* ${t.mode} %0A*Ref:* ${t.reference||"N/A"} %0A%0A*Current Balance:* Rs. ${e.balance.toFixed(2)} %0A%0A *View Ledger:* ${s} %0A%0AThank you!`;window.open(`https://wa.me/${r}?text=${i}`,"_blank")}};function zr(t){"@babel/helpers - typeof";return zr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zr(t)}var uc=Uint8Array,Yo=Uint16Array,mC=Int32Array,gC=new uc([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),xC=new uc([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),MP=new uc([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),tV=function(t,e){for(var n=new Yo(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var s=new mC(n[30]),r=1;r<30;++r)for(var i=n[r];i<n[r+1];++i)s[i]=i-n[r]<<5|r;return{b:n,r:s}},nV=tV(gC,2),Ade=nV.b,BT=nV.r;Ade[28]=258,BT[258]=28;var Cde=tV(xC,0),LP=Cde.r,VT=new Yo(32768);for(var xs=0;xs<32768;++xs){var Kf=(xs&43690)>>1|(xs&21845)<<1;Kf=(Kf&52428)>>2|(Kf&13107)<<2,Kf=(Kf&61680)>>4|(Kf&3855)<<4,VT[xs]=((Kf&65280)>>8|(Kf&255)<<8)>>1}var x1=(function(t,e,n){for(var r=t.length,s=0,i=new Yo(e);s<r;++s)t[s]&&++i[t[s]-1];var a=new Yo(e);for(s=1;s<e;++s)a[s]=a[s-1]+i[s-1]<<1;var o;if(n){o=new Yo(1<<e);var c=15-e;for(s=0;s<r;++s)if(t[s])for(var u=s<<4|t[s],d=e-t[s],p=a[t[s]-1]++<<d,g=p|(1<<d)-1;p<=g;++p)o[VT[p]>>c]=u}else for(o=new Yo(r),s=0;s<r;++s)t[s]&&(o[s]=VT[a[t[s]-1]++]>>15-t[s]);return o}),$h=new uc(288);for(var xs=0;xs<144;++xs)$h[xs]=8;for(var xs=144;xs<256;++xs)$h[xs]=9;for(var xs=256;xs<280;++xs)$h[xs]=7;for(var xs=280;xs<288;++xs)$h[xs]=8;var H2=new uc(32);for(var xs=0;xs<32;++xs)H2[xs]=5;var Nde=x1($h,9,0),Ide=x1(H2,5,0),rV=function(t){return(t+7)/8|0},kde=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new uc(t.subarray(e,n))},Ou=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},Fg=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},cE=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var s=n.length,i=n.slice();if(!s)return{t:iV,l:0};if(s==1){var a=new uc(n[0].s+1);return a[n[0].s]=1,{t:a,l:1}}n.sort(function(z,G){return z.f-G.f}),n.push({s:-1,f:25001});var o=n[0],c=n[1],u=0,d=1,p=2;for(n[0]={s:-1,f:o.f+c.f,l:o,r:c};d!=s-1;)o=n[n[u].f<n[p].f?u++:p++],c=n[u!=d&&n[u].f<n[p].f?u++:p++],n[d++]={s:-1,f:o.f+c.f,l:o,r:c};for(var g=i[0].s,r=1;r<s;++r)i[r].s>g&&(g=i[r].s);var x=new Yo(g+1),w=UT(n[d-1],x,0);if(w>e){var r=0,y=0,S=w-e,C=1<<S;for(i.sort(function(G,P){return x[P.s]-x[G.s]||G.f-P.f});r<s;++r){var F=i[r].s;if(x[F]>e)y+=C-(1<<w-x[F]),x[F]=e;else break}for(y>>=S;y>0;){var I=i[r].s;x[I]<e?y-=1<<e-x[I]++-1:++r}for(;r>=0&&y;--r){var D=i[r].s;x[D]==e&&(--x[D],++y)}w=e}return{t:new uc(x),l:w}},UT=function(t,e,n){return t.s==-1?Math.max(UT(t.l,e,n+1),UT(t.r,e,n+1)):e[t.s]=n},FP=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new Yo(++e),r=0,s=t[0],i=1,a=function(c){n[r++]=c},o=1;o<=e;++o)if(t[o]==s&&o!=e)++i;else{if(!s&&i>2){for(;i>138;i-=138)a(32754);i>2&&(a(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(a(s),--i;i>6;i-=6)a(8304);i>2&&(a(i-3<<5|8208),i=0)}for(;i--;)a(s);i=1,s=t[o]}return{c:n.subarray(0,r),n:e}},Og=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},sV=function(t,e,n){var r=n.length,s=rV(e+2);t[s]=r&255,t[s+1]=r>>8,t[s+2]=t[s]^255,t[s+3]=t[s+1]^255;for(var i=0;i<r;++i)t[s+i+4]=n[i];return(s+4+r)*8},OP=function(t,e,n,r,s,i,a,o,c,u,d){Ou(e,d++,n),++s[256];for(var p=cE(s,15),g=p.t,x=p.l,w=cE(i,15),y=w.t,S=w.l,C=FP(g),F=C.c,I=C.n,D=FP(y),z=D.c,G=D.n,P=new Yo(19),M=0;M<F.length;++M)++P[F[M]&31];for(var M=0;M<z.length;++M)++P[z[M]&31];for(var R=cE(P,7),U=R.t,L=R.l,O=19;O>4&&!U[MP[O-1]];--O);var j=u+5<<3,ie=Og(s,$h)+Og(i,H2)+a,Ee=Og(s,g)+Og(i,y)+a+14+3*O+Og(P,U)+2*P[16]+3*P[17]+7*P[18];if(c>=0&&j<=ie&&j<=Ee)return sV(e,d,t.subarray(c,c+u));var ae,pe,de,oe;if(Ou(e,d,1+(Ee<ie)),d+=2,Ee<ie){ae=x1(g,x,0),pe=g,de=x1(y,S,0),oe=y;var ke=x1(U,L,0);Ou(e,d,I-257),Ou(e,d+5,G-1),Ou(e,d+10,O-4),d+=14;for(var M=0;M<O;++M)Ou(e,d+3*M,U[MP[M]]);d+=3*O;for(var ne=[F,z],B=0;B<2;++B)for(var K=ne[B],M=0;M<K.length;++M){var Y=K[M]&31;Ou(e,d,ke[Y]),d+=U[Y],Y>15&&(Ou(e,d,K[M]>>5&127),d+=K[M]>>12)}}else ae=Nde,pe=$h,de=Ide,oe=H2;for(var M=0;M<o;++M){var Q=r[M];if(Q>255){var Y=Q>>18&31;Fg(e,d,ae[Y+257]),d+=pe[Y+257],Y>7&&(Ou(e,d,Q>>23&31),d+=gC[Y]);var ue=Q&31;Fg(e,d,de[ue]),d+=oe[ue],ue>3&&(Fg(e,d,Q>>5&8191),d+=xC[ue])}else Fg(e,d,ae[Q]),d+=pe[Q]}return Fg(e,d,ae[256]),d+pe[256]},Rde=new mC([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),iV=new uc(0),Pde=function(t,e,n,r,s,i){var a=i.z||t.length,o=new uc(r+a+5*(1+Math.ceil(a/7e3))+s),c=o.subarray(r,o.length-s),u=i.l,d=(i.r||0)&7;if(e){d&&(c[0]=i.r>>3);for(var p=Rde[e-1],g=p>>13,x=p&8191,w=(1<<n)-1,y=i.p||new Yo(32768),S=i.h||new Yo(w+1),C=Math.ceil(n/3),F=2*C,I=function(We){return(t[We]^t[We+1]<<C^t[We+2]<<F)&w},D=new mC(25e3),z=new Yo(288),G=new Yo(32),P=0,M=0,R=i.i||0,U=0,L=i.w||0,O=0;R+2<a;++R){var j=I(R),ie=R&32767,Ee=S[j];if(y[ie]=Ee,S[j]=ie,L<=R){var ae=a-R;if((P>7e3||U>24576)&&(ae>423||!u)){d=OP(t,c,0,D,z,G,M,U,O,R-O,d),U=P=M=0,O=R;for(var pe=0;pe<286;++pe)z[pe]=0;for(var pe=0;pe<30;++pe)G[pe]=0}var de=2,oe=0,ke=x,ne=ie-Ee&32767;if(ae>2&&j==I(R-ne))for(var B=Math.min(g,ae)-1,K=Math.min(32767,R),Y=Math.min(258,ae);ne<=K&&--ke&&ie!=Ee;){if(t[R+de]==t[R+de-ne]){for(var Q=0;Q<Y&&t[R+Q]==t[R+Q-ne];++Q);if(Q>de){if(de=Q,oe=ne,Q>B)break;for(var ue=Math.min(ne,Q-2),ge=0,pe=0;pe<ue;++pe){var Pe=R-ne+pe&32767,ee=y[Pe],Re=Pe-ee&32767;Re>ge&&(ge=Re,Ee=Pe)}}}ie=Ee,Ee=y[ie],ne+=ie-Ee&32767}if(oe){D[U++]=268435456|BT[de]<<18|LP[oe];var He=BT[de]&31,he=LP[oe]&31;M+=gC[He]+xC[he],++z[257+He],++G[he],L=R+de,++P}else D[U++]=t[R],++z[t[R]]}}for(R=Math.max(R,L);R<a;++R)D[U++]=t[R],++z[t[R]];d=OP(t,c,u,D,z,G,M,U,O,R-O,d),u||(i.r=d&7|c[d/8|0]<<3,d-=7,i.h=S,i.p=y,i.i=R,i.w=L)}else{for(var R=i.w||0;R<a+u;R+=65535){var Se=R+65535;Se>=a&&(c[d/8|0]=u,Se=a),d=sV(c,d+1,t.subarray(R,Se))}i.i=a}return kde(o,0,r+rV(d)+s)},aV=function(){var t=1,e=0;return{p:function(n){for(var r=t,s=e,i=n.length|0,a=0;a!=i;){for(var o=Math.min(a+2655,i);a<o;++a)s+=r+=n[a];r=(r&65535)+15*(r>>16),s=(s&65535)+15*(s>>16)}t=r,e=s},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},Dde=function(t,e,n,r,s){if(!s&&(s={l:1},e.dictionary)){var i=e.dictionary.subarray(-32768),a=new uc(i.length+t.length);a.set(i),a.set(t,i.length),t=a,s.w=i.length}return Pde(t,e.level==null?6:e.level,e.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,s)},oV=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},Mde=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var s=aV();s.p(e.dictionary),oV(t,2,s.d())}};function jT(t,e){e||(e={});var n=aV();n.p(t);var r=Dde(t,e,e.dictionary?6:2,4);return Mde(r,e),oV(r,r.length-4,n.d()),r}var Lde=typeof TextDecoder<"u"&&new TextDecoder,Fde=0;try{Lde.decode(iV,{stream:!0}),Fde=1}catch{}function Ode(t){if(Array.isArray(t))return t}function Bde(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,i,a,o=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(c=(r=i.call(n)).done)&&(o.push(r.value),o.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw s}}return o}}function BP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Vde(t,e){if(t){if(typeof t=="string")return BP(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?BP(t,e):void 0}}function Ude(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VP(t,e){return Ode(t)||Bde(t,e)||Vde(t,e)||Ude()}function UP(t,e="utf8"){return new TextDecoder(e).decode(t)}const jde=new TextEncoder;function qde(t){return jde.encode(t)}const Hde=1024*8,zde=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),uE={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class vC{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=Hde,n={}){let r=!1;typeof e=="number"?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);const s=n.offset?n.offset>>>0:0,i=e.byteLength-s;let a=s;(ArrayBuffer.isView(e)||e instanceof vC)&&(e.byteLength!==e.buffer.byteLength&&(a=e.byteOffset+s),e=e.buffer),r?this.lastWrittenByte=i:this.lastWrittenByte=0,this.buffer=e,this.length=i,this.byteLength=i,this.byteOffset=a,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,a,i),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const r=(this.offset+e)*2,s=new Uint8Array(r);s.set(new Uint8Array(this.buffer)),this.buffer=s.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,n){const r=uE[n].BYTES_PER_ELEMENT*e,s=this.byteOffset+this.offset,i=this.buffer.slice(s,s+r);if(this.littleEndian===zde&&n!=="uint8"&&n!=="int8"){const o=new Uint8Array(this.buffer.slice(s,s+r));o.reverse();const c=new uE[n](o.buffer);return this.offset+=r,c.reverse(),c}const a=new uE[n](i);return this.offset+=r,a}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let n="";for(let r=0;r<e;r++)n+=this.readChar();return n}readUtf8(e=1){return UP(this.readBytes(e))}decodeText(e=1,n="utf8"){return UP(this.readBytes(e),n)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let n=0;n<e.length;n++)this._data.setUint8(this.offset++,e[n]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let n=0;n<e.length;n++)this.writeUint8(e.charCodeAt(n));return this}writeUtf8(e){return this.writeBytes(qde(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Fm(t){let e=t.length;for(;--e>=0;)t[e]=0}const Gde=3,$de=258,lV=29,Wde=256,Kde=Wde+1+lV,cV=30,Yde=512,Xde=new Array((Kde+2)*2);Fm(Xde);const Jde=new Array(cV*2);Fm(Jde);const Qde=new Array(Yde);Fm(Qde);const Zde=new Array($de-Gde+1);Fm(Zde);const ehe=new Array(lV);Fm(ehe);const the=new Array(cV);Fm(the);const nhe=(t,e,n,r)=>{let s=t&65535|0,i=t>>>16&65535|0,a=0;for(;n!==0;){a=n>2e3?2e3:n,n-=a;do s=s+e[r++]|0,i=i+s|0;while(--a);s%=65521,i%=65521}return s|i<<16|0};var qT=nhe;const rhe=()=>{let t,e=[];for(var n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=t&1?3988292384^t>>>1:t>>>1;e[n]=t}return e},she=new Uint32Array(rhe()),ihe=(t,e,n,r)=>{const s=she,i=r+n;t^=-1;for(let a=r;a<i;a++)t=t>>>8^s[(t^e[a])&255];return t^-1};var Lc=ihe,HT={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},uV={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const ahe=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var ohe=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const n=e.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)ahe(n,r)&&(t[r]=n[r])}}return t},lhe=t=>{let e=0;for(let r=0,s=t.length;r<s;r++)e+=t[r].length;const n=new Uint8Array(e);for(let r=0,s=0,i=t.length;r<i;r++){let a=t[r];n.set(a,s),s+=a.length}return n},fV={assign:ohe,flattenChunks:lhe};let dV=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{dV=!1}const X1=new Uint8Array(256);for(let t=0;t<256;t++)X1[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;X1[254]=X1[254]=1;var che=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,n,r,s,i,a=t.length,o=0;for(s=0;s<a;s++)n=t.charCodeAt(s),(n&64512)===55296&&s+1<a&&(r=t.charCodeAt(s+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),s++)),o+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(o),i=0,s=0;i<o;s++)n=t.charCodeAt(s),(n&64512)===55296&&s+1<a&&(r=t.charCodeAt(s+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),s++)),n<128?e[i++]=n:n<2048?(e[i++]=192|n>>>6,e[i++]=128|n&63):n<65536?(e[i++]=224|n>>>12,e[i++]=128|n>>>6&63,e[i++]=128|n&63):(e[i++]=240|n>>>18,e[i++]=128|n>>>12&63,e[i++]=128|n>>>6&63,e[i++]=128|n&63);return e};const uhe=(t,e)=>{if(e<65534&&t.subarray&&dV)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let n="";for(let r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n};var fhe=(t,e)=>{const n=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let r,s;const i=new Array(n*2);for(s=0,r=0;r<n;){let a=t[r++];if(a<128){i[s++]=a;continue}let o=X1[a];if(o>4){i[s++]=65533,r+=o-1;continue}for(a&=o===2?31:o===3?15:7;o>1&&r<n;)a=a<<6|t[r++]&63,o--;if(o>1){i[s++]=65533;continue}a<65536?i[s++]=a:(a-=65536,i[s++]=55296|a>>10&1023,i[s++]=56320|a&1023)}return uhe(i,s)},dhe=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let n=e-1;for(;n>=0&&(t[n]&192)===128;)n--;return n<0||n===0?e:n+X1[t[n]]>e?n:e},zT={string2buf:che,buf2string:fhe,utf8border:dhe};function hhe(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var phe=hhe;const Qv=16209,mhe=16191;var ghe=function(e,n){let r,s,i,a,o,c,u,d,p,g,x,w,y,S,C,F,I,D,z,G,P,M,R,U;const L=e.state;r=e.next_in,R=e.input,s=r+(e.avail_in-5),i=e.next_out,U=e.output,a=i-(n-e.avail_out),o=i+(e.avail_out-257),c=L.dmax,u=L.wsize,d=L.whave,p=L.wnext,g=L.window,x=L.hold,w=L.bits,y=L.lencode,S=L.distcode,C=(1<<L.lenbits)-1,F=(1<<L.distbits)-1;e:do{w<15&&(x+=R[r++]<<w,w+=8,x+=R[r++]<<w,w+=8),I=y[x&C];t:for(;;){if(D=I>>>24,x>>>=D,w-=D,D=I>>>16&255,D===0)U[i++]=I&65535;else if(D&16){z=I&65535,D&=15,D&&(w<D&&(x+=R[r++]<<w,w+=8),z+=x&(1<<D)-1,x>>>=D,w-=D),w<15&&(x+=R[r++]<<w,w+=8,x+=R[r++]<<w,w+=8),I=S[x&F];n:for(;;){if(D=I>>>24,x>>>=D,w-=D,D=I>>>16&255,D&16){if(G=I&65535,D&=15,w<D&&(x+=R[r++]<<w,w+=8,w<D&&(x+=R[r++]<<w,w+=8)),G+=x&(1<<D)-1,G>c){e.msg="invalid distance too far back",L.mode=Qv;break e}if(x>>>=D,w-=D,D=i-a,G>D){if(D=G-D,D>d&&L.sane){e.msg="invalid distance too far back",L.mode=Qv;break e}if(P=0,M=g,p===0){if(P+=u-D,D<z){z-=D;do U[i++]=g[P++];while(--D);P=i-G,M=U}}else if(p<D){if(P+=u+p-D,D-=p,D<z){z-=D;do U[i++]=g[P++];while(--D);if(P=0,p<z){D=p,z-=D;do U[i++]=g[P++];while(--D);P=i-G,M=U}}}else if(P+=p-D,D<z){z-=D;do U[i++]=g[P++];while(--D);P=i-G,M=U}for(;z>2;)U[i++]=M[P++],U[i++]=M[P++],U[i++]=M[P++],z-=3;z&&(U[i++]=M[P++],z>1&&(U[i++]=M[P++]))}else{P=i-G;do U[i++]=U[P++],U[i++]=U[P++],U[i++]=U[P++],z-=3;while(z>2);z&&(U[i++]=U[P++],z>1&&(U[i++]=U[P++]))}}else if((D&64)===0){I=S[(I&65535)+(x&(1<<D)-1)];continue n}else{e.msg="invalid distance code",L.mode=Qv;break e}break}}else if((D&64)===0){I=y[(I&65535)+(x&(1<<D)-1)];continue t}else if(D&32){L.mode=mhe;break e}else{e.msg="invalid literal/length code",L.mode=Qv;break e}break}}while(r<s&&i<o);z=w>>3,r-=z,w-=z<<3,x&=(1<<w)-1,e.next_in=r,e.next_out=i,e.avail_in=r<s?5+(s-r):5-(r-s),e.avail_out=i<o?257+(o-i):257-(i-o),L.hold=x,L.bits=w};const np=15,jP=852,qP=592,HP=0,fE=1,zP=2,xhe=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),vhe=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),yhe=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),bhe=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),whe=(t,e,n,r,s,i,a,o)=>{const c=o.bits;let u=0,d=0,p=0,g=0,x=0,w=0,y=0,S=0,C=0,F=0,I,D,z,G,P,M=null,R;const U=new Uint16Array(np+1),L=new Uint16Array(np+1);let O=null,j,ie,Ee;for(u=0;u<=np;u++)U[u]=0;for(d=0;d<r;d++)U[e[n+d]]++;for(x=c,g=np;g>=1&&U[g]===0;g--);if(x>g&&(x=g),g===0)return s[i++]=1<<24|64<<16|0,s[i++]=1<<24|64<<16|0,o.bits=1,0;for(p=1;p<g&&U[p]===0;p++);for(x<p&&(x=p),S=1,u=1;u<=np;u++)if(S<<=1,S-=U[u],S<0)return-1;if(S>0&&(t===HP||g!==1))return-1;for(L[1]=0,u=1;u<np;u++)L[u+1]=L[u]+U[u];for(d=0;d<r;d++)e[n+d]!==0&&(a[L[e[n+d]]++]=d);if(t===HP?(M=O=a,R=20):t===fE?(M=xhe,O=vhe,R=257):(M=yhe,O=bhe,R=0),F=0,d=0,u=p,P=i,w=x,y=0,z=-1,C=1<<x,G=C-1,t===fE&&C>jP||t===zP&&C>qP)return 1;for(;;){j=u-y,a[d]+1<R?(ie=0,Ee=a[d]):a[d]>=R?(ie=O[a[d]-R],Ee=M[a[d]-R]):(ie=96,Ee=0),I=1<<u-y,D=1<<w,p=D;do D-=I,s[P+(F>>y)+D]=j<<24|ie<<16|Ee|0;while(D!==0);for(I=1<<u-1;F&I;)I>>=1;if(I!==0?(F&=I-1,F+=I):F=0,d++,--U[u]===0){if(u===g)break;u=e[n+a[d]]}if(u>x&&(F&G)!==z){for(y===0&&(y=x),P+=p,w=u-y,S=1<<w;w+y<g&&(S-=U[w+y],!(S<=0));)w++,S<<=1;if(C+=1<<w,t===fE&&C>jP||t===zP&&C>qP)return 1;z=F&G,s[z]=x<<24|w<<16|P-i|0}}return F!==0&&(s[P+F]=u-y<<24|64<<16|0),o.bits=x,0};var v1=whe;const _he=0,hV=1,pV=2,{Z_FINISH:GP,Z_BLOCK:Ehe,Z_TREES:Zv,Z_OK:Wh,Z_STREAM_END:The,Z_NEED_DICT:She,Z_STREAM_ERROR:Nl,Z_DATA_ERROR:mV,Z_MEM_ERROR:gV,Z_BUF_ERROR:Ahe,Z_DEFLATED:$P}=uV,Qb=16180,WP=16181,KP=16182,YP=16183,XP=16184,JP=16185,QP=16186,ZP=16187,eD=16188,tD=16189,z2=16190,Bu=16191,dE=16192,nD=16193,hE=16194,rD=16195,sD=16196,iD=16197,aD=16198,ey=16199,ty=16200,oD=16201,lD=16202,cD=16203,uD=16204,fD=16205,pE=16206,dD=16207,hD=16208,Ts=16209,xV=16210,vV=16211,Che=852,Nhe=592,Ihe=15,khe=Ihe,pD=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function Rhe(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const r0=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<Qb||e.mode>vV?1:0},yV=t=>{if(r0(t))return Nl;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=Qb,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(Che),e.distcode=e.distdyn=new Int32Array(Nhe),e.sane=1,e.back=-1,Wh},bV=t=>{if(r0(t))return Nl;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,yV(t)},wV=(t,e)=>{let n;if(r0(t))return Nl;const r=t.state;return e<0?(n=0,e=-e):(n=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Nl:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,bV(t))},_V=(t,e)=>{if(!t)return Nl;const n=new Rhe;t.state=n,n.strm=t,n.window=null,n.mode=Qb;const r=wV(t,e);return r!==Wh&&(t.state=null),r},Phe=t=>_V(t,khe);let mD=!0,mE,gE;const Dhe=t=>{if(mD){mE=new Int32Array(512),gE=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(v1(hV,t.lens,0,288,mE,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;v1(pV,t.lens,0,32,gE,0,t.work,{bits:5}),mD=!1}t.lencode=mE,t.lenbits=9,t.distcode=gE,t.distbits=5},EV=(t,e,n,r)=>{let s;const i=t.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),r>=i.wsize?(i.window.set(e.subarray(n-i.wsize,n),0),i.wnext=0,i.whave=i.wsize):(s=i.wsize-i.wnext,s>r&&(s=r),i.window.set(e.subarray(n-r,n-r+s),i.wnext),r-=s,r?(i.window.set(e.subarray(n-r,n),0),i.wnext=r,i.whave=i.wsize):(i.wnext+=s,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=s))),0},Mhe=(t,e)=>{let n,r,s,i,a,o,c,u,d,p,g,x,w,y,S=0,C,F,I,D,z,G,P,M;const R=new Uint8Array(4);let U,L;const O=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(r0(t)||!t.output||!t.input&&t.avail_in!==0)return Nl;n=t.state,n.mode===Bu&&(n.mode=dE),a=t.next_out,s=t.output,c=t.avail_out,i=t.next_in,r=t.input,o=t.avail_in,u=n.hold,d=n.bits,p=o,g=c,M=Wh;e:for(;;)switch(n.mode){case Qb:if(n.wrap===0){n.mode=dE;break}for(;d<16;){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}if(n.wrap&2&&u===35615){n.wbits===0&&(n.wbits=15),n.check=0,R[0]=u&255,R[1]=u>>>8&255,n.check=Lc(n.check,R,2,0),u=0,d=0,n.mode=WP;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((u&255)<<8)+(u>>8))%31){t.msg="incorrect header check",n.mode=Ts;break}if((u&15)!==$P){t.msg="unknown compression method",n.mode=Ts;break}if(u>>>=4,d-=4,P=(u&15)+8,n.wbits===0&&(n.wbits=P),P>15||P>n.wbits){t.msg="invalid window size",n.mode=Ts;break}n.dmax=1<<n.wbits,n.flags=0,t.adler=n.check=1,n.mode=u&512?tD:Bu,u=0,d=0;break;case WP:for(;d<16;){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}if(n.flags=u,(n.flags&255)!==$P){t.msg="unknown compression method",n.mode=Ts;break}if(n.flags&57344){t.msg="unknown header flags set",n.mode=Ts;break}n.head&&(n.head.text=u>>8&1),n.flags&512&&n.wrap&4&&(R[0]=u&255,R[1]=u>>>8&255,n.check=Lc(n.check,R,2,0)),u=0,d=0,n.mode=KP;case KP:for(;d<32;){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}n.head&&(n.head.time=u),n.flags&512&&n.wrap&4&&(R[0]=u&255,R[1]=u>>>8&255,R[2]=u>>>16&255,R[3]=u>>>24&255,n.check=Lc(n.check,R,4,0)),u=0,d=0,n.mode=YP;case YP:for(;d<16;){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}n.head&&(n.head.xflags=u&255,n.head.os=u>>8),n.flags&512&&n.wrap&4&&(R[0]=u&255,R[1]=u>>>8&255,n.check=Lc(n.check,R,2,0)),u=0,d=0,n.mode=XP;case XP:if(n.flags&1024){for(;d<16;){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}n.length=u,n.head&&(n.head.extra_len=u),n.flags&512&&n.wrap&4&&(R[0]=u&255,R[1]=u>>>8&255,n.check=Lc(n.check,R,2,0)),u=0,d=0}else n.head&&(n.head.extra=null);n.mode=JP;case JP:if(n.flags&1024&&(x=n.length,x>o&&(x=o),x&&(n.head&&(P=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(i,i+x),P)),n.flags&512&&n.wrap&4&&(n.check=Lc(n.check,r,x,i)),o-=x,i+=x,n.length-=x),n.length))break e;n.length=0,n.mode=QP;case QP:if(n.flags&2048){if(o===0)break e;x=0;do P=r[i+x++],n.head&&P&&n.length<65536&&(n.head.name+=String.fromCharCode(P));while(P&&x<o);if(n.flags&512&&n.wrap&4&&(n.check=Lc(n.check,r,x,i)),o-=x,i+=x,P)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=ZP;case ZP:if(n.flags&4096){if(o===0)break e;x=0;do P=r[i+x++],n.head&&P&&n.length<65536&&(n.head.comment+=String.fromCharCode(P));while(P&&x<o);if(n.flags&512&&n.wrap&4&&(n.check=Lc(n.check,r,x,i)),o-=x,i+=x,P)break e}else n.head&&(n.head.comment=null);n.mode=eD;case eD:if(n.flags&512){for(;d<16;){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}if(n.wrap&4&&u!==(n.check&65535)){t.msg="header crc mismatch",n.mode=Ts;break}u=0,d=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=Bu;break;case tD:for(;d<32;){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}t.adler=n.check=pD(u),u=0,d=0,n.mode=z2;case z2:if(n.havedict===0)return t.next_out=a,t.avail_out=c,t.next_in=i,t.avail_in=o,n.hold=u,n.bits=d,She;t.adler=n.check=1,n.mode=Bu;case Bu:if(e===Ehe||e===Zv)break e;case dE:if(n.last){u>>>=d&7,d-=d&7,n.mode=pE;break}for(;d<3;){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}switch(n.last=u&1,u>>>=1,d-=1,u&3){case 0:n.mode=nD;break;case 1:if(Dhe(n),n.mode=ey,e===Zv){u>>>=2,d-=2;break e}break;case 2:n.mode=sD;break;case 3:t.msg="invalid block type",n.mode=Ts}u>>>=2,d-=2;break;case nD:for(u>>>=d&7,d-=d&7;d<32;){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}if((u&65535)!==(u>>>16^65535)){t.msg="invalid stored block lengths",n.mode=Ts;break}if(n.length=u&65535,u=0,d=0,n.mode=hE,e===Zv)break e;case hE:n.mode=rD;case rD:if(x=n.length,x){if(x>o&&(x=o),x>c&&(x=c),x===0)break e;s.set(r.subarray(i,i+x),a),o-=x,i+=x,c-=x,a+=x,n.length-=x;break}n.mode=Bu;break;case sD:for(;d<14;){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}if(n.nlen=(u&31)+257,u>>>=5,d-=5,n.ndist=(u&31)+1,u>>>=5,d-=5,n.ncode=(u&15)+4,u>>>=4,d-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=Ts;break}n.have=0,n.mode=iD;case iD:for(;n.have<n.ncode;){for(;d<3;){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}n.lens[O[n.have++]]=u&7,u>>>=3,d-=3}for(;n.have<19;)n.lens[O[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,U={bits:n.lenbits},M=v1(_he,n.lens,0,19,n.lencode,0,n.work,U),n.lenbits=U.bits,M){t.msg="invalid code lengths set",n.mode=Ts;break}n.have=0,n.mode=aD;case aD:for(;n.have<n.nlen+n.ndist;){for(;S=n.lencode[u&(1<<n.lenbits)-1],C=S>>>24,F=S>>>16&255,I=S&65535,!(C<=d);){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}if(I<16)u>>>=C,d-=C,n.lens[n.have++]=I;else{if(I===16){for(L=C+2;d<L;){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}if(u>>>=C,d-=C,n.have===0){t.msg="invalid bit length repeat",n.mode=Ts;break}P=n.lens[n.have-1],x=3+(u&3),u>>>=2,d-=2}else if(I===17){for(L=C+3;d<L;){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}u>>>=C,d-=C,P=0,x=3+(u&7),u>>>=3,d-=3}else{for(L=C+7;d<L;){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}u>>>=C,d-=C,P=0,x=11+(u&127),u>>>=7,d-=7}if(n.have+x>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=Ts;break}for(;x--;)n.lens[n.have++]=P}}if(n.mode===Ts)break;if(n.lens[256]===0){t.msg="invalid code -- missing end-of-block",n.mode=Ts;break}if(n.lenbits=9,U={bits:n.lenbits},M=v1(hV,n.lens,0,n.nlen,n.lencode,0,n.work,U),n.lenbits=U.bits,M){t.msg="invalid literal/lengths set",n.mode=Ts;break}if(n.distbits=6,n.distcode=n.distdyn,U={bits:n.distbits},M=v1(pV,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,U),n.distbits=U.bits,M){t.msg="invalid distances set",n.mode=Ts;break}if(n.mode=ey,e===Zv)break e;case ey:n.mode=ty;case ty:if(o>=6&&c>=258){t.next_out=a,t.avail_out=c,t.next_in=i,t.avail_in=o,n.hold=u,n.bits=d,ghe(t,g),a=t.next_out,s=t.output,c=t.avail_out,i=t.next_in,r=t.input,o=t.avail_in,u=n.hold,d=n.bits,n.mode===Bu&&(n.back=-1);break}for(n.back=0;S=n.lencode[u&(1<<n.lenbits)-1],C=S>>>24,F=S>>>16&255,I=S&65535,!(C<=d);){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}if(F&&(F&240)===0){for(D=C,z=F,G=I;S=n.lencode[G+((u&(1<<D+z)-1)>>D)],C=S>>>24,F=S>>>16&255,I=S&65535,!(D+C<=d);){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}u>>>=D,d-=D,n.back+=D}if(u>>>=C,d-=C,n.back+=C,n.length=I,F===0){n.mode=fD;break}if(F&32){n.back=-1,n.mode=Bu;break}if(F&64){t.msg="invalid literal/length code",n.mode=Ts;break}n.extra=F&15,n.mode=oD;case oD:if(n.extra){for(L=n.extra;d<L;){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}n.length+=u&(1<<n.extra)-1,u>>>=n.extra,d-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=lD;case lD:for(;S=n.distcode[u&(1<<n.distbits)-1],C=S>>>24,F=S>>>16&255,I=S&65535,!(C<=d);){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}if((F&240)===0){for(D=C,z=F,G=I;S=n.distcode[G+((u&(1<<D+z)-1)>>D)],C=S>>>24,F=S>>>16&255,I=S&65535,!(D+C<=d);){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}u>>>=D,d-=D,n.back+=D}if(u>>>=C,d-=C,n.back+=C,F&64){t.msg="invalid distance code",n.mode=Ts;break}n.offset=I,n.extra=F&15,n.mode=cD;case cD:if(n.extra){for(L=n.extra;d<L;){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}n.offset+=u&(1<<n.extra)-1,u>>>=n.extra,d-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=Ts;break}n.mode=uD;case uD:if(c===0)break e;if(x=g-c,n.offset>x){if(x=n.offset-x,x>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=Ts;break}x>n.wnext?(x-=n.wnext,w=n.wsize-x):w=n.wnext-x,x>n.length&&(x=n.length),y=n.window}else y=s,w=a-n.offset,x=n.length;x>c&&(x=c),c-=x,n.length-=x;do s[a++]=y[w++];while(--x);n.length===0&&(n.mode=ty);break;case fD:if(c===0)break e;s[a++]=n.length,c--,n.mode=ty;break;case pE:if(n.wrap){for(;d<32;){if(o===0)break e;o--,u|=r[i++]<<d,d+=8}if(g-=c,t.total_out+=g,n.total+=g,n.wrap&4&&g&&(t.adler=n.check=n.flags?Lc(n.check,s,g,a-g):qT(n.check,s,g,a-g)),g=c,n.wrap&4&&(n.flags?u:pD(u))!==n.check){t.msg="incorrect data check",n.mode=Ts;break}u=0,d=0}n.mode=dD;case dD:if(n.wrap&&n.flags){for(;d<32;){if(o===0)break e;o--,u+=r[i++]<<d,d+=8}if(n.wrap&4&&u!==(n.total&4294967295)){t.msg="incorrect length check",n.mode=Ts;break}u=0,d=0}n.mode=hD;case hD:M=The;break e;case Ts:M=mV;break e;case xV:return gV;case vV:default:return Nl}return t.next_out=a,t.avail_out=c,t.next_in=i,t.avail_in=o,n.hold=u,n.bits=d,(n.wsize||g!==t.avail_out&&n.mode<Ts&&(n.mode<pE||e!==GP))&&EV(t,t.output,t.next_out,g-t.avail_out),p-=t.avail_in,g-=t.avail_out,t.total_in+=p,t.total_out+=g,n.total+=g,n.wrap&4&&g&&(t.adler=n.check=n.flags?Lc(n.check,s,g,t.next_out-g):qT(n.check,s,g,t.next_out-g)),t.data_type=n.bits+(n.last?64:0)+(n.mode===Bu?128:0)+(n.mode===ey||n.mode===hE?256:0),(p===0&&g===0||e===GP)&&M===Wh&&(M=Ahe),M},Lhe=t=>{if(r0(t))return Nl;let e=t.state;return e.window&&(e.window=null),t.state=null,Wh},Fhe=(t,e)=>{if(r0(t))return Nl;const n=t.state;return(n.wrap&2)===0?Nl:(n.head=e,e.done=!1,Wh)},Ohe=(t,e)=>{const n=e.length;let r,s,i;return r0(t)||(r=t.state,r.wrap!==0&&r.mode!==z2)?Nl:r.mode===z2&&(s=1,s=qT(s,e,n,0),s!==r.check)?mV:(i=EV(t,e,n,n),i?(r.mode=xV,gV):(r.havedict=1,Wh))};var Bhe=bV,Vhe=wV,Uhe=yV,jhe=Phe,qhe=_V,Hhe=Mhe,zhe=Lhe,Ghe=Fhe,$he=Ohe,Whe="pako inflate (from Nodeca project)",ju={inflateReset:Bhe,inflateReset2:Vhe,inflateResetKeep:Uhe,inflateInit:jhe,inflateInit2:qhe,inflate:Hhe,inflateEnd:zhe,inflateGetHeader:Ghe,inflateSetDictionary:$he,inflateInfo:Whe};function Khe(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Yhe=Khe;const TV=Object.prototype.toString,{Z_NO_FLUSH:Xhe,Z_FINISH:Jhe,Z_OK:J1,Z_STREAM_END:xE,Z_NEED_DICT:vE,Z_STREAM_ERROR:Qhe,Z_DATA_ERROR:gD,Z_MEM_ERROR:Zhe}=uV;function Px(t){this.options=fV.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new phe,this.strm.avail_out=0;let n=ju.inflateInit2(this.strm,e.windowBits);if(n!==J1)throw new Error(HT[n]);if(this.header=new Yhe,ju.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=zT.string2buf(e.dictionary):TV.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=ju.inflateSetDictionary(this.strm,e.dictionary),n!==J1)))throw new Error(HT[n])}Px.prototype.push=function(t,e){const n=this.strm,r=this.options.chunkSize,s=this.options.dictionary;let i,a,o;if(this.ended)return!1;for(e===~~e?a=e:a=e===!0?Jhe:Xhe,TV.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),i=ju.inflate(n,a),i===vE&&s&&(i=ju.inflateSetDictionary(n,s),i===J1?i=ju.inflate(n,a):i===gD&&(i=vE));n.avail_in>0&&i===xE&&n.state.wrap>0&&t[n.next_in]!==0;)ju.inflateReset(n),i=ju.inflate(n,a);switch(i){case Qhe:case gD:case vE:case Zhe:return this.onEnd(i),this.ended=!0,!1}if(o=n.avail_out,n.next_out&&(n.avail_out===0||i===xE))if(this.options.to==="string"){let c=zT.utf8border(n.output,n.next_out),u=n.next_out-c,d=zT.buf2string(n.output,c);n.next_out=u,n.avail_out=r-u,u&&n.output.set(n.output.subarray(c,c+u),0),this.onData(d)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(i===J1&&o===0)){if(i===xE)return i=ju.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};Px.prototype.onData=function(t){this.chunks.push(t)};Px.prototype.onEnd=function(t){t===J1&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=fV.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function e0e(t,e){const n=new Px(e);if(n.push(t),n.err)throw n.msg||HT[n.err];return n.result}var t0e=Px,n0e=e0e,r0e={Inflate:t0e,inflate:n0e};const{Inflate:s0e,inflate:i0e}=r0e;var xD=s0e,a0e=i0e;const SV=[];for(let t=0;t<256;t++){let e=t;for(let n=0;n<8;n++)e&1?e=3988292384^e>>>1:e=e>>>1;SV[t]=e}const vD=4294967295;function o0e(t,e,n){let r=t;for(let s=0;s<n;s++)r=SV[(r^e[s])&255]^r>>>8;return r}function l0e(t,e){return(o0e(vD,t,e)^vD)>>>0}function yD(t,e,n){const r=t.readUint32(),s=l0e(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(s!==r)throw new Error(`CRC mismatch for chunk ${n}. Expected ${r}, found ${s}`)}function AV(t,e,n){for(let r=0;r<n;r++)e[r]=t[r]}function CV(t,e,n,r){let s=0;for(;s<r;s++)e[s]=t[s];for(;s<n;s++)e[s]=t[s]+e[s-r]&255}function NV(t,e,n,r){let s=0;if(n.length===0)for(;s<r;s++)e[s]=t[s];else for(;s<r;s++)e[s]=t[s]+n[s]&255}function IV(t,e,n,r,s){let i=0;if(n.length===0){for(;i<s;i++)e[i]=t[i];for(;i<r;i++)e[i]=t[i]+(e[i-s]>>1)&255}else{for(;i<s;i++)e[i]=t[i]+(n[i]>>1)&255;for(;i<r;i++)e[i]=t[i]+(e[i-s]+n[i]>>1)&255}}function kV(t,e,n,r,s){let i=0;if(n.length===0){for(;i<s;i++)e[i]=t[i];for(;i<r;i++)e[i]=t[i]+e[i-s]&255}else{for(;i<s;i++)e[i]=t[i]+n[i]&255;for(;i<r;i++)e[i]=t[i]+c0e(e[i-s],n[i],n[i-s])&255}}function c0e(t,e,n){const r=t+e-n,s=Math.abs(r-t),i=Math.abs(r-e),a=Math.abs(r-n);return s<=i&&s<=a?t:i<=a?e:n}function u0e(t,e,n,r,s,i){switch(t){case 0:AV(e,n,s);break;case 1:CV(e,n,s,i);break;case 2:NV(e,n,r,s);break;case 3:IV(e,n,r,s,i);break;case 4:kV(e,n,r,s,i);break;default:throw new Error(`Unsupported filter: ${t}`)}}const f0e=new Uint16Array([255]),d0e=new Uint8Array(f0e.buffer),h0e=d0e[0]===255;function p0e(t){const{data:e,width:n,height:r,channels:s,depth:i}=t,a=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(i/8)*s,c=new Uint8Array(r*n*o);let u=0;for(let d=0;d<7;d++){const p=a[d],g=Math.ceil((n-p.x)/p.xStep),x=Math.ceil((r-p.y)/p.yStep);if(g<=0||x<=0)continue;const w=g*o,y=new Uint8Array(w);for(let S=0;S<x;S++){const C=e[u++],F=e.subarray(u,u+w);u+=w;const I=new Uint8Array(w);u0e(C,F,I,y,w,o),y.set(I);for(let D=0;D<g;D++){const z=p.x+D*p.xStep,G=p.y+S*p.yStep;if(!(z>=n||G>=r))for(let P=0;P<o;P++)c[(G*n+z)*o+P]=I[D*o+P]}}}if(i===16){const d=new Uint16Array(c.buffer);if(h0e)for(let p=0;p<d.length;p++)d[p]=m0e(d[p]);return d}else return c}function m0e(t){return(t&255)<<8|t>>8&255}const g0e=new Uint16Array([255]),x0e=new Uint8Array(g0e.buffer),v0e=x0e[0]===255,y0e=new Uint8Array(0);function bD(t){const{data:e,width:n,height:r,channels:s,depth:i}=t,a=Math.ceil(i/8)*s,o=Math.ceil(i/8*s*n),c=new Uint8Array(r*o);let u=y0e,d=0,p,g;for(let x=0;x<r;x++){switch(p=e.subarray(d+1,d+1+o),g=c.subarray(x*o,(x+1)*o),e[d]){case 0:AV(p,g,o);break;case 1:CV(p,g,o,a);break;case 2:NV(p,g,u,o);break;case 3:IV(p,g,u,o,a);break;case 4:kV(p,g,u,o,a);break;default:throw new Error(`Unsupported filter: ${e[d]}`)}u=g,d+=o+1}if(i===16){const x=new Uint16Array(c.buffer);if(v0e)for(let w=0;w<x.length;w++)x[w]=b0e(x[w]);return x}else return c}function b0e(t){return(t&255)<<8|t>>8&255}const Jy=Uint8Array.of(137,80,78,71,13,10,26,10);function wD(t){if(!w0e(t.readBytes(Jy.length)))throw new Error("wrong PNG signature")}function w0e(t){if(t.length<Jy.length)return!1;for(let e=0;e<Jy.length;e++)if(t[e]!==Jy[e])return!1;return!0}const _0e="tEXt",E0e=0,RV=new TextDecoder("latin1");function T0e(t){if(A0e(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const S0e=/^[\u0000-\u00FF]*$/;function A0e(t){if(!S0e.test(t))throw new Error("invalid latin1 text")}function C0e(t,e,n){const r=PV(e);t[r]=N0e(e,n-r.length-1)}function PV(t){for(t.mark();t.readByte()!==E0e;);const e=t.offset;t.reset();const n=RV.decode(t.readBytes(e-t.offset-1));return t.skip(1),T0e(n),n}function N0e(t,e){return RV.decode(t.readBytes(e))}const qo={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},yE={UNKNOWN:-1,DEFLATE:0},_D={UNKNOWN:-1,ADAPTIVE:0},bE={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},ny={NONE:0,BACKGROUND:1,PREVIOUS:2},wE={SOURCE:0,OVER:1};class I0e extends vC{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,n={}){super(e);const{checkCrc:r=!1}=n;this._checkCrc=r,this._inflator=new xD,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=yE.UNKNOWN,this._filterMethod=_D.UNKNOWN,this._interlaceMethod=bE.UNKNOWN,this._colorType=qo.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(wD(this);!this._end;){const e=this.readUint32(),n=this.readChars(4);this.decodeChunk(e,n)}return this.decodeImage(),this._png}decodeApng(){for(wD(this);!this._end;){const e=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(e,n)}return this.decodeApngImage(),this._apng}decodeChunk(e,n){const r=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case _0e:C0e(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?yD(this,e+4,n):this.skip(4)}decodeApngChunk(e,n){const r=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,n),this.offset=r+e;break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?yD(this,e+4,n):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=k0e(this.readUint8());const n=this.readUint8();this._colorType=n;let r;switch(n){case qo.GREYSCALE:r=1;break;case qo.TRUECOLOUR:r=3;break;case qo.INDEXED_COLOUR:r=1;break;case qo.GREYSCALE_ALPHA:r=2;break;case qo.TRUECOLOUR_ALPHA:r=4;break;case qo.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=r,this._compressionMethod=this.readUint8(),this._compressionMethod!==yE.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const n=e/3;this._hasPalette=!0;const r=[];this._palette=r;for(let s=0;s<n;s++)r.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const n=e,r=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,r,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let n=e,r=this.offset+this.byteOffset;if(r+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,r,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case qo.GREYSCALE:case qo.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let n=0;n<e/2;n++)this._transparency[n]=this.readUint16();break}case qo.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let n=0;for(;n<e;n++){const r=this.readByte();this._palette[n].push(r)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case qo.UNKNOWN:case qo.GREYSCALE_ALPHA:case qo.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const n=PV(this),r=this.readUint8();if(r!==yE.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${r}`);const s=this.readBytes(e-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:a0e(s)}}decodepHYs(){const e=this.readUint32(),n=this.readUint32(),r=this.readByte();this._png.resolution={x:e,y:n,unit:r}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const n={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},r=this._frames.at(e);if(r){if(r.data=bD({data:r.data,width:r.width,height:r.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||r.xOffset===0&&r.yOffset===0&&r.width===this._png.width&&r.height===this._png.height)n.data=r.data;else{const s=this._apng.frames.at(e-1);this.disposeFrame(r,s,n),this.addFrameDataToCanvas(n,r)}this._apng.frames.push(n)}}return this._apng}disposeFrame(e,n,r){switch(e.disposeOp){case ny.NONE:break;case ny.BACKGROUND:for(let s=0;s<this._png.height;s++)for(let i=0;i<this._png.width;i++){const a=(s*e.width+i)*this._png.channels;for(let o=0;o<this._png.channels;o++)r.data[a+o]=0}break;case ny.PREVIOUS:r.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,n){const r=1<<this._png.depth,s=(i,a)=>{const o=((i+n.yOffset)*this._png.width+n.xOffset+a)*this._png.channels,c=(i*n.width+a)*this._png.channels;return{index:o,frameIndex:c}};switch(n.blendOp){case wE.SOURCE:for(let i=0;i<n.height;i++)for(let a=0;a<n.width;a++){const{index:o,frameIndex:c}=s(i,a);for(let u=0;u<this._png.channels;u++)e.data[o+u]=n.data[c+u]}break;case wE.OVER:for(let i=0;i<n.height;i++)for(let a=0;a<n.width;a++){const{index:o,frameIndex:c}=s(i,a);for(let u=0;u<this._png.channels;u++){const d=n.data[c+this._png.channels-1]/r,p=u%(this._png.channels-1)===0?1:n.data[c+u],g=Math.floor(d*p+(1-d)*e.data[o+u]);e.data[o+u]+=g}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==_D.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===bE.NO_INTERLACE)this._png.data=bD({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===bE.ADAM7)this._png.data=p0e({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,n=this._frames.at(-1);n?n.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:ny.NONE,blendOp:wE.SOURCE,data:e}),this._inflator=new xD,this._writingDataChunks=!1}}function k0e(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var ED;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(ED||(ED={}));function R0e(t,e){return new I0e(t,e).decode()}var Ln=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function _E(){Ln.console&&typeof Ln.console.log=="function"&&Ln.console.log.apply(Ln.console,arguments)}var ls={log:_E,warn:function(t){Ln.console&&(typeof Ln.console.warn=="function"?Ln.console.warn.apply(Ln.console,arguments):_E.call(null,arguments))},error:function(t){Ln.console&&(typeof Ln.console.error=="function"?Ln.console.error.apply(Ln.console,arguments):_E(t))}};function EE(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){fh(r.response,e,n)},r.onerror=function(){ls.error("could not download file")},r.send()}function TD(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function ry(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var fh=Ln.saveAs||((typeof window>"u"?"undefined":zr(window))!=="object"||window!==Ln?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=Ln.URL||Ln.webkitURL,s=document.createElement("a");e=e||t.name||"download",s.download=e,s.rel="noopener",typeof t=="string"?(s.href=t,s.origin!==location.origin?TD(s.href)?EE(t,e,n):ry(s,s.target="_blank"):ry(s)):(s.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(s.href)},4e4),setTimeout(function(){ry(s)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(TD(t))EE(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){ry(r)})}else navigator.msSaveOrOpenBlob((function(s,i){return i===void 0?i={autoBom:!1}:zr(i)!=="object"&&(ls.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s})(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return EE(t,e,n);var s=t.type==="application/octet-stream",i=/constructor/i.test(Ln.HTMLElement)||Ln.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||s&&i)&&(typeof FileReader>"u"?"undefined":zr(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var d=o.result;d=a?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=d:location=d,r=null},o.readAsDataURL(t)}else{var c=Ln.URL||Ln.webkitURL,u=c.createObjectURL(t);r?r.location=u:location.href=u,r=null,setTimeout(function(){c.revokeObjectURL(u)},4e4)}});function DV(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],r=0;r<n.length;r++){var s=n[r].re,i=n[r].process,a=s.exec(t);a&&(e=i(a),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),c=this.g.toString(16),u=this.b.toString(16);return o.length==1&&(o="0"+o),c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),"#"+o+c+u}}var Qy=Ln.atob.bind(Ln),SD=Ln.btoa.bind(Ln);function TE(t,e){var n=t[0],r=t[1],s=t[2],i=t[3];n=wa(n,r,s,i,e[0],7,-680876936),i=wa(i,n,r,s,e[1],12,-389564586),s=wa(s,i,n,r,e[2],17,606105819),r=wa(r,s,i,n,e[3],22,-1044525330),n=wa(n,r,s,i,e[4],7,-176418897),i=wa(i,n,r,s,e[5],12,1200080426),s=wa(s,i,n,r,e[6],17,-1473231341),r=wa(r,s,i,n,e[7],22,-45705983),n=wa(n,r,s,i,e[8],7,1770035416),i=wa(i,n,r,s,e[9],12,-1958414417),s=wa(s,i,n,r,e[10],17,-42063),r=wa(r,s,i,n,e[11],22,-1990404162),n=wa(n,r,s,i,e[12],7,1804603682),i=wa(i,n,r,s,e[13],12,-40341101),s=wa(s,i,n,r,e[14],17,-1502002290),n=_a(n,r=wa(r,s,i,n,e[15],22,1236535329),s,i,e[1],5,-165796510),i=_a(i,n,r,s,e[6],9,-1069501632),s=_a(s,i,n,r,e[11],14,643717713),r=_a(r,s,i,n,e[0],20,-373897302),n=_a(n,r,s,i,e[5],5,-701558691),i=_a(i,n,r,s,e[10],9,38016083),s=_a(s,i,n,r,e[15],14,-660478335),r=_a(r,s,i,n,e[4],20,-405537848),n=_a(n,r,s,i,e[9],5,568446438),i=_a(i,n,r,s,e[14],9,-1019803690),s=_a(s,i,n,r,e[3],14,-187363961),r=_a(r,s,i,n,e[8],20,1163531501),n=_a(n,r,s,i,e[13],5,-1444681467),i=_a(i,n,r,s,e[2],9,-51403784),s=_a(s,i,n,r,e[7],14,1735328473),n=Ea(n,r=_a(r,s,i,n,e[12],20,-1926607734),s,i,e[5],4,-378558),i=Ea(i,n,r,s,e[8],11,-2022574463),s=Ea(s,i,n,r,e[11],16,1839030562),r=Ea(r,s,i,n,e[14],23,-35309556),n=Ea(n,r,s,i,e[1],4,-1530992060),i=Ea(i,n,r,s,e[4],11,1272893353),s=Ea(s,i,n,r,e[7],16,-155497632),r=Ea(r,s,i,n,e[10],23,-1094730640),n=Ea(n,r,s,i,e[13],4,681279174),i=Ea(i,n,r,s,e[0],11,-358537222),s=Ea(s,i,n,r,e[3],16,-722521979),r=Ea(r,s,i,n,e[6],23,76029189),n=Ea(n,r,s,i,e[9],4,-640364487),i=Ea(i,n,r,s,e[12],11,-421815835),s=Ea(s,i,n,r,e[15],16,530742520),n=Ta(n,r=Ea(r,s,i,n,e[2],23,-995338651),s,i,e[0],6,-198630844),i=Ta(i,n,r,s,e[7],10,1126891415),s=Ta(s,i,n,r,e[14],15,-1416354905),r=Ta(r,s,i,n,e[5],21,-57434055),n=Ta(n,r,s,i,e[12],6,1700485571),i=Ta(i,n,r,s,e[3],10,-1894986606),s=Ta(s,i,n,r,e[10],15,-1051523),r=Ta(r,s,i,n,e[1],21,-2054922799),n=Ta(n,r,s,i,e[8],6,1873313359),i=Ta(i,n,r,s,e[15],10,-30611744),s=Ta(s,i,n,r,e[6],15,-1560198380),r=Ta(r,s,i,n,e[13],21,1309151649),n=Ta(n,r,s,i,e[4],6,-145523070),i=Ta(i,n,r,s,e[11],10,-1120210379),s=Ta(s,i,n,r,e[2],15,718787259),r=Ta(r,s,i,n,e[9],21,-343485551),t[0]=cd(n,t[0]),t[1]=cd(r,t[1]),t[2]=cd(s,t[2]),t[3]=cd(i,t[3])}function Zb(t,e,n,r,s,i){return e=cd(cd(e,t),cd(r,i)),cd(e<<s|e>>>32-s,n)}function wa(t,e,n,r,s,i,a){return Zb(e&n|~e&r,t,e,s,i,a)}function _a(t,e,n,r,s,i,a){return Zb(e&r|n&~r,t,e,s,i,a)}function Ea(t,e,n,r,s,i,a){return Zb(e^n^r,t,e,s,i,a)}function Ta(t,e,n,r,s,i,a){return Zb(n^(e|~r),t,e,s,i,a)}function MV(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)TE(r,P0e(t.substring(e-64,e)));t=t.substring(e-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)s[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(s[e>>2]|=128<<(e%4<<3),e>55)for(TE(r,s),e=0;e<16;e++)s[e]=0;return s[14]=8*n,TE(r,s),r}function P0e(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}var AD="0123456789abcdef".split("");function D0e(t){for(var e="",n=0;n<4;n++)e+=AD[t>>8*n+4&15]+AD[t>>8*n&15];return e}function M0e(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function GT(t){return MV(t).map(M0e).join("")}var L0e=(function(t){for(var e=0;e<t.length;e++)t[e]=D0e(t[e]);return t.join("")})(MV("hello"))!="5d41402abc4b2a76b9719d911017c592";function cd(t,e){if(L0e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}function $T(t,e){var n,r,s,i;if(t!==n){for(var a=(s=t,i=1+(256/t.length|0),new Array(i+1).join(s)),o=[],c=0;c<256;c++)o[c]=c;var u=0;for(c=0;c<256;c++){var d=o[c];u=(u+d+a.charCodeAt(c))%256,o[c]=o[u],o[u]=d}n=t,r=o}else o=r;var p=e.length,g=0,x=0,w="";for(c=0;c<p;c++)x=(x+(d=o[g=(g+1)%256]))%256,o[g]=o[x],o[x]=d,a=o[(o[g]+o[x])%256],w+=String.fromCharCode(e.charCodeAt(c)^a);return w}var CD={print:4,modify:8,copy:16,"annot-forms":32};function xp(t,e,n,r){this.v=1,this.r=2;var s=192;t.forEach(function(o){if(CD.perm!==void 0)throw new Error("Invalid permission: "+o);s+=CD[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(e+this.padding).substr(0,32),a=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,a),this.P=-(1+(255^s)),this.encryptionKey=GT(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=$T(this.encryptionKey,this.padding)}function vp(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var s=t.charCodeAt(r);e+=s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?"#"+("0"+s.toString(16)).slice(-2):t[r]}return e}function ND(t){if(zr(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,s){if(s=s||!1,typeof n!="string"||typeof r!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var i=Math.random().toString(35);return e[n][i]=[r,!!s],i},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),s=[];for(var i in e[n]){var a=e[n][i];try{a[0].apply(t,r)}catch(o){Ln.console&&ls.error("jsPDF PubSub Error",o.message,o)}a[1]&&s.push(i)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function G2(t){if(!(this instanceof G2))return new G2(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function LV(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function gh(t,e,n,r,s){if(!(this instanceof gh))return new gh(t,e,n,r,s);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,LV.call(this,r,s)}function Pp(t,e,n,r,s){if(!(this instanceof Pp))return new Pp(t,e,n,r,s);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,LV.call(this,r,s)}function gn(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],s=arguments[2],i=arguments[3],a=[],o=1,c=16,u="S",d=null;zr(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,s=t.format||s,i=t.compress||t.compressPdf||i,(d=t.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),o=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(c=t.floatPrecision),u=t.defaultPathOperation||"S"),a=t.filters||(i===!0?["FlateEncode"]:a),r=r||"mm",n=(""+(n||"P")).toLowerCase();var p=t.putOnlyUsedFonts||!1,g={},x={internal:{},__private__:{}};x.__private__.PubSub=ND;var w="1.3",y=x.__private__.getPdfVersion=function(){return w};x.__private__.setPdfVersion=function(V){w=V};var S={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};x.__private__.getPageFormats=function(){return S};var C=x.__private__.getPageFormat=function(V){return S[V]};s=s||"a4";var F="compat",I="advanced",D=F;function z(){this.saveGraphicsState(),le(new hn(kt,0,0,-kt,0,Va()*kt).toString()+" cm"),this.setFontSize(this.getFontSize()/kt),u="n",D=I}function G(){this.restoreGraphicsState(),u="S",D=F}var P=x.__private__.combineFontStyleAndFontWeight=function(V,te){if(V=="bold"&&te=="normal"||V=="bold"&&te==400||V=="normal"&&te=="italic"||V=="bold"&&te=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return te&&(V=te==400||te==="normal"?V==="italic"?"italic":"normal":te!=700&&te!=="bold"||V!=="normal"?(te==700?"bold":te)+""+V:"bold"),V};x.advancedAPI=function(V){var te=D===F;return te&&z.call(this),typeof V!="function"||(V(this),te&&G.call(this)),this},x.compatAPI=function(V){var te=D===I;return te&&G.call(this),typeof V!="function"||(V(this),te&&z.call(this)),this},x.isAdvancedAPI=function(){return D===I};var M,R=function(V){if(D!==I)throw new Error(V+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},U=x.roundToPrecision=x.__private__.roundToPrecision=function(V,te){var Ne=e||te;if(isNaN(V)||isNaN(Ne))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return V.toFixed(Ne).replace(/0+$/,"")};M=x.hpf=x.__private__.hpf=typeof c=="number"?function(V){if(isNaN(V))throw new Error("Invalid argument passed to jsPDF.hpf");return U(V,c)}:c==="smart"?function(V){if(isNaN(V))throw new Error("Invalid argument passed to jsPDF.hpf");return U(V,V>-1&&V<1?16:5)}:function(V){if(isNaN(V))throw new Error("Invalid argument passed to jsPDF.hpf");return U(V,16)};var L=x.f2=x.__private__.f2=function(V){if(isNaN(V))throw new Error("Invalid argument passed to jsPDF.f2");return U(V,2)},O=x.__private__.f3=function(V){if(isNaN(V))throw new Error("Invalid argument passed to jsPDF.f3");return U(V,3)},j=x.scale=x.__private__.scale=function(V){if(isNaN(V))throw new Error("Invalid argument passed to jsPDF.scale");return D===F?V*kt:D===I?V:void 0},ie=function(V){return j((function(te){return D===F?Va()-te:D===I?te:void 0})(V))};x.__private__.setPrecision=x.setPrecision=function(V){typeof parseInt(V,10)=="number"&&(e=parseInt(V,10))};var Ee,ae="00000000000000000000000000000000",pe=x.__private__.getFileId=function(){return ae},de=x.__private__.setFileId=function(V){return ae=V!==void 0&&/^[a-fA-F0-9]{32}$/.test(V)?V.toUpperCase():ae.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(ss=new xp(d.userPermissions,d.userPassword,d.ownerPassword,ae)),ae};x.setFileId=function(V){return de(V),this},x.getFileId=function(){return pe()};var oe=x.__private__.convertDateToPDFDate=function(V){var te=V.getTimezoneOffset(),Ne=te<0?"+":"-",Me=Math.floor(Math.abs(te/60)),qe=Math.abs(te%60),ft=[Ne,Y(Me),"'",Y(qe),"'"].join("");return["D:",V.getFullYear(),Y(V.getMonth()+1),Y(V.getDate()),Y(V.getHours()),Y(V.getMinutes()),Y(V.getSeconds()),ft].join("")},ke=x.__private__.convertPDFDateToDate=function(V){var te=parseInt(V.substr(2,4),10),Ne=parseInt(V.substr(6,2),10)-1,Me=parseInt(V.substr(8,2),10),qe=parseInt(V.substr(10,2),10),ft=parseInt(V.substr(12,2),10),vt=parseInt(V.substr(14,2),10);return new Date(te,Ne,Me,qe,ft,vt,0)},ne=x.__private__.setCreationDate=function(V){var te;if(V===void 0&&(V=new Date),V instanceof Date)te=oe(V);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(V))throw new Error("Invalid argument passed to jsPDF.setCreationDate");te=V}return Ee=te},B=x.__private__.getCreationDate=function(V){var te=Ee;return V==="jsDate"&&(te=ke(Ee)),te};x.setCreationDate=function(V){return ne(V),this},x.getCreationDate=function(V){return B(V)};var K,Y=x.__private__.padd2=function(V){return("0"+parseInt(V)).slice(-2)},Q=x.__private__.padd2Hex=function(V){return("00"+(V=V.toString())).substr(V.length)},ue=0,ge=[],Pe=[],ee=0,Re=[],He=[],he=!1,Se=Pe;x.__private__.setCustomOutputDestination=function(V){he=!0,Se=V};var We=function(V){he||(Se=V)};x.__private__.resetCustomOutputDestination=function(){he=!1,Se=Pe};var le=x.__private__.out=function(V){return V=V.toString(),ee+=V.length+1,Se.push(V),Se},Ge=x.__private__.write=function(V){return le(arguments.length===1?V.toString():Array.prototype.join.call(arguments," "))},st=x.__private__.getArrayBuffer=function(V){for(var te=V.length,Ne=new ArrayBuffer(te),Me=new Uint8Array(Ne);te--;)Me[te]=V.charCodeAt(te);return Ne},Et=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];x.__private__.getStandardFonts=function(){return Et};var je=t.fontSize||16;x.__private__.setFontSize=x.setFontSize=function(V){return je=D===I?V/kt:V,this};var yt,St=x.__private__.getFontSize=x.getFontSize=function(){return D===F?je:je*kt},Rt=t.R2L||!1;x.__private__.setR2L=x.setR2L=function(V){return Rt=V,this},x.__private__.getR2L=x.getR2L=function(){return Rt};var Ut,Jt=x.__private__.setZoomMode=function(V){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(V))yt=V;else if(isNaN(V)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(V)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+V+'" is not recognized.');yt=V}else yt=parseInt(V,10)};x.__private__.getZoomMode=function(){return yt};var zt,Gt=x.__private__.setPageMode=function(V){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(V)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+V+'" is not recognized.');Ut=V};x.__private__.getPageMode=function(){return Ut};var Nn=x.__private__.setLayoutMode=function(V){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(V)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+V+'" is not recognized.');zt=V};x.__private__.getLayoutMode=function(){return zt},x.__private__.setDisplayMode=x.setDisplayMode=function(V,te,Ne){return Jt(V),Nn(te),Gt(Ne),this};var Qt={title:"",subject:"",author:"",keywords:"",creator:""};x.__private__.getDocumentProperty=function(V){if(Object.keys(Qt).indexOf(V)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Qt[V]},x.__private__.getDocumentProperties=function(){return Qt},x.__private__.setDocumentProperties=x.setProperties=x.setDocumentProperties=function(V){for(var te in Qt)Qt.hasOwnProperty(te)&&V[te]&&(Qt[te]=V[te]);return this},x.__private__.setDocumentProperty=function(V,te){if(Object.keys(Qt).indexOf(V)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Qt[V]=te};var Lt,kt,At,zn,Ot,Ct={},Ht={},vn=[],fn={},Zn={},xn={},pn={},cr=null,dn=0,Kt=[],On=new ND(x),us=t.hotfixes||[],fs={},Li={},ns=[],hn=function V(te,Ne,Me,qe,ft,vt){if(!(this instanceof V))return new V(te,Ne,Me,qe,ft,vt);isNaN(te)&&(te=1),isNaN(Ne)&&(Ne=0),isNaN(Me)&&(Me=0),isNaN(qe)&&(qe=1),isNaN(ft)&&(ft=0),isNaN(vt)&&(vt=0),this._matrix=[te,Ne,Me,qe,ft,vt]};Object.defineProperty(hn.prototype,"sx",{get:function(){return this._matrix[0]},set:function(V){this._matrix[0]=V}}),Object.defineProperty(hn.prototype,"shy",{get:function(){return this._matrix[1]},set:function(V){this._matrix[1]=V}}),Object.defineProperty(hn.prototype,"shx",{get:function(){return this._matrix[2]},set:function(V){this._matrix[2]=V}}),Object.defineProperty(hn.prototype,"sy",{get:function(){return this._matrix[3]},set:function(V){this._matrix[3]=V}}),Object.defineProperty(hn.prototype,"tx",{get:function(){return this._matrix[4]},set:function(V){this._matrix[4]=V}}),Object.defineProperty(hn.prototype,"ty",{get:function(){return this._matrix[5]},set:function(V){this._matrix[5]=V}}),Object.defineProperty(hn.prototype,"a",{get:function(){return this._matrix[0]},set:function(V){this._matrix[0]=V}}),Object.defineProperty(hn.prototype,"b",{get:function(){return this._matrix[1]},set:function(V){this._matrix[1]=V}}),Object.defineProperty(hn.prototype,"c",{get:function(){return this._matrix[2]},set:function(V){this._matrix[2]=V}}),Object.defineProperty(hn.prototype,"d",{get:function(){return this._matrix[3]},set:function(V){this._matrix[3]=V}}),Object.defineProperty(hn.prototype,"e",{get:function(){return this._matrix[4]},set:function(V){this._matrix[4]=V}}),Object.defineProperty(hn.prototype,"f",{get:function(){return this._matrix[5]},set:function(V){this._matrix[5]=V}}),Object.defineProperty(hn.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(hn.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(hn.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(hn.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),hn.prototype.join=function(V){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(M).join(V)},hn.prototype.multiply=function(V){var te=V.sx*this.sx+V.shy*this.shx,Ne=V.sx*this.shy+V.shy*this.sy,Me=V.shx*this.sx+V.sy*this.shx,qe=V.shx*this.shy+V.sy*this.sy,ft=V.tx*this.sx+V.ty*this.shx+this.tx,vt=V.tx*this.shy+V.ty*this.sy+this.ty;return new hn(te,Ne,Me,qe,ft,vt)},hn.prototype.decompose=function(){var V=this.sx,te=this.shy,Ne=this.shx,Me=this.sy,qe=this.tx,ft=this.ty,vt=Math.sqrt(V*V+te*te),Xt=(V/=vt)*Ne+(te/=vt)*Me;Ne-=V*Xt,Me-=te*Xt;var rn=Math.sqrt(Ne*Ne+Me*Me);return Xt/=rn,V*(Me/=rn)<te*(Ne/=rn)&&(V=-V,te=-te,Xt=-Xt,vt=-vt),{scale:new hn(vt,0,0,rn,0,0),translate:new hn(1,0,0,1,qe,ft),rotate:new hn(V,te,-te,V,0,0),skew:new hn(1,0,Xt,1,0,0)}},hn.prototype.toString=function(V){return this.join(" ")},hn.prototype.inversed=function(){var V=this.sx,te=this.shy,Ne=this.shx,Me=this.sy,qe=this.tx,ft=this.ty,vt=1/(V*Me-te*Ne),Xt=Me*vt,rn=-te*vt,En=-Ne*vt,yn=V*vt;return new hn(Xt,rn,En,yn,-Xt*qe-En*ft,-rn*qe-yn*ft)},hn.prototype.applyToPoint=function(V){var te=V.x*this.sx+V.y*this.shx+this.tx,Ne=V.x*this.shy+V.y*this.sy+this.ty;return new ii(te,Ne)},hn.prototype.applyToRectangle=function(V){var te=this.applyToPoint(V),Ne=this.applyToPoint(new ii(V.x+V.w,V.y+V.h));return new no(te.x,te.y,Ne.x-te.x,Ne.y-te.y)},hn.prototype.clone=function(){var V=this.sx,te=this.shy,Ne=this.shx,Me=this.sy,qe=this.tx,ft=this.ty;return new hn(V,te,Ne,Me,qe,ft)},x.Matrix=hn;var Fe=x.matrixMult=function(V,te){return te.multiply(V)},Mt=new hn(1,0,0,1,0,0);x.unitMatrix=x.identityMatrix=Mt;var jt=function(V,te){if(!Zn[V]){var Ne=(te instanceof gh?"Sh":"P")+(Object.keys(fn).length+1).toString(10);te.id=Ne,Zn[V]=Ne,fn[Ne]=te,On.publish("addPattern",te)}};x.ShadingPattern=gh,x.TilingPattern=Pp,x.addShadingPattern=function(V,te){return R("addShadingPattern()"),jt(V,te),this},x.beginTilingPattern=function(V){R("beginTilingPattern()"),ro(V.boundingBox[0],V.boundingBox[1],V.boundingBox[2]-V.boundingBox[0],V.boundingBox[3]-V.boundingBox[1],V.matrix)},x.endTilingPattern=function(V,te){R("endTilingPattern()"),te.stream=He[K].join(`
`),jt(V,te),On.publish("endTilingPattern",te),ns.pop().restore()};var Yn,Zt=x.__private__.newObject=function(){var V=Gn();return se(V,!0),V},Gn=x.__private__.newObjectDeferred=function(){return ue++,ge[ue]=function(){return ee},ue},se=function(V,te){return te=typeof te=="boolean"&&te,ge[V]=ee,te&&le(V+" 0 obj"),V},_e=x.__private__.newAdditionalObject=function(){var V={objId:Gn(),content:""};return Re.push(V),V},ve=Gn(),be=Gn(),Te=x.__private__.decodeColorString=function(V){var te=V.split(" ");if(te.length!==2||te[1]!=="g"&&te[1]!=="G")te.length!==5||te[4]!=="k"&&te[4]!=="K"||(te=[(1-te[0])*(1-te[3]),(1-te[1])*(1-te[3]),(1-te[2])*(1-te[3]),"r"]);else{var Ne=parseFloat(te[0]);te=[Ne,Ne,Ne,"r"]}for(var Me="#",qe=0;qe<3;qe++)Me+=("0"+Math.floor(255*parseFloat(te[qe])).toString(16)).slice(-2);return Me},Ae=x.__private__.encodeColorString=function(V){var te;typeof V=="string"&&(V={ch1:V});var Ne=V.ch1,Me=V.ch2,qe=V.ch3,ft=V.ch4,vt=V.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Ne=="string"&&Ne.charAt(0)!=="#"){var Xt=new DV(Ne);if(Xt.ok)Ne=Xt.toHex();else if(!/^\d*\.?\d*$/.test(Ne))throw new Error('Invalid color "'+Ne+'" passed to jsPDF.encodeColorString.')}if(typeof Ne=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Ne)&&(Ne="#"+Ne[1]+Ne[1]+Ne[2]+Ne[2]+Ne[3]+Ne[3]),typeof Ne=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Ne)){var rn=parseInt(Ne.substr(1),16);Ne=rn>>16&255,Me=rn>>8&255,qe=255&rn}if(Me===void 0||ft===void 0&&Ne===Me&&Me===qe)te=typeof Ne=="string"?Ne+" "+vt[0]:V.precision===2?L(Ne/255)+" "+vt[0]:O(Ne/255)+" "+vt[0];else if(ft===void 0||zr(ft)==="object"){if(ft&&!isNaN(ft.a)&&ft.a===0)return["1.","1.","1.",vt[1]].join(" ");te=typeof Ne=="string"?[Ne,Me,qe,vt[1]].join(" "):V.precision===2?[L(Ne/255),L(Me/255),L(qe/255),vt[1]].join(" "):[O(Ne/255),O(Me/255),O(qe/255),vt[1]].join(" ")}else te=typeof Ne=="string"?[Ne,Me,qe,ft,vt[2]].join(" "):V.precision===2?[L(Ne),L(Me),L(qe),L(ft),vt[2]].join(" "):[O(Ne),O(Me),O(qe),O(ft),vt[2]].join(" ");return te},Ue=x.__private__.getFilters=function(){return a},at=x.__private__.putStream=function(V){var te=(V=V||{}).data||"",Ne=V.filters||Ue(),Me=V.alreadyAppliedFilters||[],qe=V.addLength1||!1,ft=te.length,vt=V.objectId,Xt=function(H){return H};if(d!==null&&vt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(Xt=ss.encryptor(vt,0));var rn={};Ne===!0&&(Ne=["FlateEncode"]);var En=V.additionalKeyValues||[],yn=(rn=gn.API.processDataByFilters!==void 0?gn.API.processDataByFilters(te,Ne):{data:te,reverseChain:[]}).reverseChain+(Array.isArray(Me)?Me.join(" "):Me.toString());if(rn.data.length!==0&&(En.push({key:"Length",value:rn.data.length}),qe===!0&&En.push({key:"Length1",value:ft})),yn.length!=0)if(yn.split("/").length-1==1)En.push({key:"Filter",value:yn});else{En.push({key:"Filter",value:"["+yn+"]"});for(var rr=0;rr<En.length;rr+=1)if(En[rr].key==="DecodeParms"){for(var Wr=[],Br=0;Br<rn.reverseChain.split("/").length-1;Br+=1)Wr.push("null");Wr.push(En[rr].value),En[rr].value="["+Wr.join(" ")+"]"}}le("<<");for(var E=0;E<En.length;E++)le("/"+En[E].key+" "+En[E].value);le(">>"),rn.data.length!==0&&(le("stream"),le(Xt(rn.data)),le("endstream"))},Be=x.__private__.putPage=function(V){var te=V.number,Ne=V.data,Me=V.objId,qe=V.contentsObjId;se(Me,!0),le("<</Type /Page"),le("/Parent "+V.rootDictionaryObjId+" 0 R"),le("/Resources "+V.resourceDictionaryObjId+" 0 R"),le("/MediaBox ["+parseFloat(M(V.mediaBox.bottomLeftX))+" "+parseFloat(M(V.mediaBox.bottomLeftY))+" "+M(V.mediaBox.topRightX)+" "+M(V.mediaBox.topRightY)+"]"),V.cropBox!==null&&le("/CropBox ["+M(V.cropBox.bottomLeftX)+" "+M(V.cropBox.bottomLeftY)+" "+M(V.cropBox.topRightX)+" "+M(V.cropBox.topRightY)+"]"),V.bleedBox!==null&&le("/BleedBox ["+M(V.bleedBox.bottomLeftX)+" "+M(V.bleedBox.bottomLeftY)+" "+M(V.bleedBox.topRightX)+" "+M(V.bleedBox.topRightY)+"]"),V.trimBox!==null&&le("/TrimBox ["+M(V.trimBox.bottomLeftX)+" "+M(V.trimBox.bottomLeftY)+" "+M(V.trimBox.topRightX)+" "+M(V.trimBox.topRightY)+"]"),V.artBox!==null&&le("/ArtBox ["+M(V.artBox.bottomLeftX)+" "+M(V.artBox.bottomLeftY)+" "+M(V.artBox.topRightX)+" "+M(V.artBox.topRightY)+"]"),typeof V.userUnit=="number"&&V.userUnit!==1&&le("/UserUnit "+V.userUnit),On.publish("putPage",{objId:Me,pageContext:Kt[te],pageNumber:te,page:Ne}),le("/Contents "+qe+" 0 R"),le(">>"),le("endobj");var ft=Ne.join(`
`);return D===I&&(ft+=`
Q`),se(qe,!0),at({data:ft,filters:Ue(),objectId:qe}),le("endobj"),Me},$e=x.__private__.putPages=function(){var V,te,Ne=[];for(V=1;V<=dn;V++)Kt[V].objId=Gn(),Kt[V].contentsObjId=Gn();for(V=1;V<=dn;V++)Ne.push(Be({number:V,data:He[V],objId:Kt[V].objId,contentsObjId:Kt[V].contentsObjId,mediaBox:Kt[V].mediaBox,cropBox:Kt[V].cropBox,bleedBox:Kt[V].bleedBox,trimBox:Kt[V].trimBox,artBox:Kt[V].artBox,userUnit:Kt[V].userUnit,rootDictionaryObjId:ve,resourceDictionaryObjId:be}));se(ve,!0),le("<</Type /Pages");var Me="/Kids [";for(te=0;te<dn;te++)Me+=Ne[te]+" 0 R ";le(Me+"]"),le("/Count "+dn),le(">>"),le("endobj"),On.publish("postPutPages")},Qe=function(V){On.publish("putFont",{font:V,out:le,newObject:Zt,putStream:at}),V.isAlreadyPutted!==!0&&(V.objectNumber=Zt(),le("<<"),le("/Type /Font"),le("/BaseFont /"+vp(V.postScriptName)),le("/Subtype /Type1"),typeof V.encoding=="string"&&le("/Encoding /"+V.encoding),le("/FirstChar 32"),le("/LastChar 255"),le(">>"),le("endobj"))},bt=function(V){V.objectNumber=Zt();var te=[];te.push({key:"Type",value:"/XObject"}),te.push({key:"Subtype",value:"/Form"}),te.push({key:"BBox",value:"["+[M(V.x),M(V.y),M(V.x+V.width),M(V.y+V.height)].join(" ")+"]"}),te.push({key:"Matrix",value:"["+V.matrix.toString()+"]"});var Ne=V.pages[1].join(`
`);at({data:Ne,additionalKeyValues:te,objectId:V.objectNumber}),le("endobj")},Tt=function(V,te){te||(te=21);var Ne=Zt(),Me=(function(vt,Xt){var rn,En=[],yn=1/(Xt-1);for(rn=0;rn<1;rn+=yn)En.push(rn);if(En.push(1),vt[0].offset!=0){var rr={offset:0,color:vt[0].color};vt.unshift(rr)}if(vt[vt.length-1].offset!=1){var Wr={offset:1,color:vt[vt.length-1].color};vt.push(Wr)}for(var Br="",E=0,H=0;H<En.length;H++){for(rn=En[H];rn>vt[E+1].offset;)E++;var Z=vt[E].offset,ye=(rn-Z)/(vt[E+1].offset-Z),Ke=vt[E].color,nt=vt[E+1].color;Br+=Q(Math.round((1-ye)*Ke[0]+ye*nt[0]).toString(16))+Q(Math.round((1-ye)*Ke[1]+ye*nt[1]).toString(16))+Q(Math.round((1-ye)*Ke[2]+ye*nt[2]).toString(16))}return Br.trim()})(V.colors,te),qe=[];qe.push({key:"FunctionType",value:"0"}),qe.push({key:"Domain",value:"[0.0 1.0]"}),qe.push({key:"Size",value:"["+te+"]"}),qe.push({key:"BitsPerSample",value:"8"}),qe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),qe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),at({data:Me,additionalKeyValues:qe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Ne}),le("endobj"),V.objectNumber=Zt(),le("<< /ShadingType "+V.type),le("/ColorSpace /DeviceRGB");var ft="/Coords ["+M(parseFloat(V.coords[0]))+" "+M(parseFloat(V.coords[1]))+" ";V.type===2?ft+=M(parseFloat(V.coords[2]))+" "+M(parseFloat(V.coords[3])):ft+=M(parseFloat(V.coords[2]))+" "+M(parseFloat(V.coords[3]))+" "+M(parseFloat(V.coords[4]))+" "+M(parseFloat(V.coords[5])),le(ft+="]"),V.matrix&&le("/Matrix ["+V.matrix.toString()+"]"),le("/Function "+Ne+" 0 R"),le("/Extend [true true]"),le(">>"),le("endobj")},Dt=function(V,te){var Ne=Gn(),Me=Zt();te.push({resourcesOid:Ne,objectOid:Me}),V.objectNumber=Me;var qe=[];qe.push({key:"Type",value:"/Pattern"}),qe.push({key:"PatternType",value:"1"}),qe.push({key:"PaintType",value:"1"}),qe.push({key:"TilingType",value:"1"}),qe.push({key:"BBox",value:"["+V.boundingBox.map(M).join(" ")+"]"}),qe.push({key:"XStep",value:M(V.xStep)}),qe.push({key:"YStep",value:M(V.yStep)}),qe.push({key:"Resources",value:Ne+" 0 R"}),V.matrix&&qe.push({key:"Matrix",value:"["+V.matrix.toString()+"]"}),at({data:V.stream,additionalKeyValues:qe,objectId:V.objectNumber}),le("endobj")},wt=function(V){for(var te in V.objectNumber=Zt(),le("<<"),V)switch(te){case"opacity":le("/ca "+L(V[te]));break;case"stroke-opacity":le("/CA "+L(V[te]))}le(">>"),le("endobj")},Pt=function(V){se(V.resourcesOid,!0),le("<<"),le("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var te in le("/Font <<"),Ct)Ct.hasOwnProperty(te)&&(p===!1||p===!0&&g.hasOwnProperty(te))&&le("/"+te+" "+Ct[te].objectNumber+" 0 R");le(">>")})(),(function(){if(Object.keys(fn).length>0){for(var te in le("/Shading <<"),fn)fn.hasOwnProperty(te)&&fn[te]instanceof gh&&fn[te].objectNumber>=0&&le("/"+te+" "+fn[te].objectNumber+" 0 R");On.publish("putShadingPatternDict"),le(">>")}})(),(function(te){if(Object.keys(fn).length>0){for(var Ne in le("/Pattern <<"),fn)fn.hasOwnProperty(Ne)&&fn[Ne]instanceof x.TilingPattern&&fn[Ne].objectNumber>=0&&fn[Ne].objectNumber<te&&le("/"+Ne+" "+fn[Ne].objectNumber+" 0 R");On.publish("putTilingPatternDict"),le(">>")}})(V.objectOid),(function(){if(Object.keys(xn).length>0){var te;for(te in le("/ExtGState <<"),xn)xn.hasOwnProperty(te)&&xn[te].objectNumber>=0&&le("/"+te+" "+xn[te].objectNumber+" 0 R");On.publish("putGStateDict"),le(">>")}})(),(function(){for(var te in le("/XObject <<"),fs)fs.hasOwnProperty(te)&&fs[te].objectNumber>=0&&le("/"+te+" "+fs[te].objectNumber+" 0 R");On.publish("putXobjectDict"),le(">>")})(),le(">>"),le("endobj")},Yt=function(V){Ht[V.fontName]=Ht[V.fontName]||{},Ht[V.fontName][V.fontStyle]=V.id},vr=function(V,te,Ne,Me,qe){var ft={id:"F"+(Object.keys(Ct).length+1).toString(10),postScriptName:V,fontName:te,fontStyle:Ne,encoding:Me,isStandardFont:qe||!1,metadata:{}};return On.publish("addFont",{font:ft,instance:this}),Ct[ft.id]=ft,Yt(ft),ft.id},Wn=x.__private__.pdfEscape=x.pdfEscape=function(V,te){return(function(Ne,Me){var qe,ft,vt,Xt,rn,En,yn,rr,Wr;if(vt=(Me=Me||{}).sourceEncoding||"Unicode",rn=Me.outputEncoding,(Me.autoencode||rn)&&Ct[Lt].metadata&&Ct[Lt].metadata[vt]&&Ct[Lt].metadata[vt].encoding&&(Xt=Ct[Lt].metadata[vt].encoding,!rn&&Ct[Lt].encoding&&(rn=Ct[Lt].encoding),!rn&&Xt.codePages&&(rn=Xt.codePages[0]),typeof rn=="string"&&(rn=Xt[rn]),rn)){for(yn=!1,En=[],qe=0,ft=Ne.length;qe<ft;qe++)(rr=rn[Ne.charCodeAt(qe)])?En.push(String.fromCharCode(rr)):En.push(Ne[qe]),En[qe].charCodeAt(0)>>8&&(yn=!0);Ne=En.join("")}for(qe=Ne.length;yn===void 0&&qe!==0;)Ne.charCodeAt(qe-1)>>8&&(yn=!0),qe--;if(!yn)return Ne;for(En=Me.noBOM?[]:[254,255],qe=0,ft=Ne.length;qe<ft;qe++){if((Wr=(rr=Ne.charCodeAt(qe))>>8)>>8)throw new Error("Character at position "+qe+" of string '"+Ne+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");En.push(Wr),En.push(rr-(Wr<<8))}return String.fromCharCode.apply(void 0,En)})(V,te).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ar=x.__private__.beginPage=function(V){He[++dn]=[],Kt[dn]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(V[0]),topRightY:Number(V[1])}},pa(dn),We(He[K])},Ks=function(V,te){var Ne,Me,qe;switch(n=te||n,typeof V=="string"&&(Ne=C(V.toLowerCase()),Array.isArray(Ne)&&(Me=Ne[0],qe=Ne[1])),Array.isArray(V)&&(Me=V[0]*kt,qe=V[1]*kt),isNaN(Me)&&(Me=s[0],qe=s[1]),(Me>14400||qe>14400)&&(ls.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Me=Math.min(14400,Me),qe=Math.min(14400,qe)),s=[Me,qe],n.substr(0,1)){case"l":qe>Me&&(s=[qe,Me]);break;case"p":Me>qe&&(s=[qe,Me])}Ar(s),wn(Bi),le(Qi),ea!==0&&le(ea+" J"),Is!==0&&le(Is+" j"),On.publish("addPage",{pageNumber:dn})},Ji=function(V){V>0&&V<=dn&&(He.splice(V,1),Kt.splice(V,1),dn--,K>dn&&(K=dn),this.setPage(K))},pa=function(V){V>0&&V<=dn&&(K=V)},Fi=x.__private__.getNumberOfPages=x.getNumberOfPages=function(){return He.length-1},Io=function(V,te,Ne){var Me,qe=void 0;return Ne=Ne||{},V=V!==void 0?V:Ct[Lt].fontName,te=te!==void 0?te:Ct[Lt].fontStyle,Me=V.toLowerCase(),Ht[Me]!==void 0&&Ht[Me][te]!==void 0?qe=Ht[Me][te]:Ht[V]!==void 0&&Ht[V][te]!==void 0?qe=Ht[V][te]:Ne.disableWarning===!1&&ls.warn("Unable to look up font label for font '"+V+"', '"+te+"'. Refer to getFontList() for available fonts."),qe||Ne.noFallback||(qe=Ht.times[te])==null&&(qe=Ht.times.normal),qe},rs=x.__private__.putInfo=function(){var V=Zt(),te=function(Me){return Me};for(var Ne in d!==null&&(te=ss.encryptor(V,0)),le("<<"),le("/Producer ("+Wn(te("jsPDF "+gn.version))+")"),Qt)Qt.hasOwnProperty(Ne)&&Qt[Ne]&&le("/"+Ne.substr(0,1).toUpperCase()+Ne.substr(1)+" ("+Wn(te(Qt[Ne]))+")");le("/CreationDate ("+Wn(te(Ee))+")"),le(">>"),le("endobj")},si=x.__private__.putCatalog=function(V){var te=(V=V||{}).rootDictionaryObjId||ve;switch(Zt(),le("<<"),le("/Type /Catalog"),le("/Pages "+te+" 0 R"),yt||(yt="fullwidth"),yt){case"fullwidth":le("/OpenAction [3 0 R /FitH null]");break;case"fullheight":le("/OpenAction [3 0 R /FitV null]");break;case"fullpage":le("/OpenAction [3 0 R /Fit]");break;case"original":le("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Ne=""+yt;Ne.substr(Ne.length-1)==="%"&&(yt=parseInt(yt)/100),typeof yt=="number"&&le("/OpenAction [3 0 R /XYZ null null "+L(yt)+"]")}switch(zt||(zt="continuous"),zt){case"continuous":le("/PageLayout /OneColumn");break;case"single":le("/PageLayout /SinglePage");break;case"two":case"twoleft":le("/PageLayout /TwoColumnLeft");break;case"tworight":le("/PageLayout /TwoColumnRight")}Ut&&le("/PageMode /"+Ut),On.publish("putCatalog"),le(">>"),le("endobj")},vs=x.__private__.putTrailer=function(){le("trailer"),le("<<"),le("/Size "+(ue+1)),le("/Root "+ue+" 0 R"),le("/Info "+(ue-1)+" 0 R"),d!==null&&le("/Encrypt "+ss.oid+" 0 R"),le("/ID [ <"+ae+"> <"+ae+"> ]"),le(">>")},er=x.__private__.putHeader=function(){le("%PDF-"+w),le("%")},ko=x.__private__.putXRef=function(){var V="0000000000";le("xref"),le("0 "+(ue+1)),le("0000000000 65535 f ");for(var te=1;te<=ue;te++)typeof ge[te]=="function"?le((V+ge[te]()).slice(-10)+" 00000 n "):ge[te]!==void 0?le((V+ge[te]).slice(-10)+" 00000 n "):le("0000000000 00000 n ")},ma=x.__private__.buildDocument=function(){var V;ue=0,ee=0,Pe=[],ge=[],Re=[],ve=Gn(),be=Gn(),We(Pe),On.publish("buildDocument"),er(),$e(),(function(){On.publish("putAdditionalObjects");for(var Ne=0;Ne<Re.length;Ne++){var Me=Re[Ne];se(Me.objId,!0),le(Me.content),le("endobj")}On.publish("postPutAdditionalObjects")})(),V=[],(function(){for(var Ne in Ct)Ct.hasOwnProperty(Ne)&&(p===!1||p===!0&&g.hasOwnProperty(Ne))&&Qe(Ct[Ne])})(),(function(){var Ne;for(Ne in xn)xn.hasOwnProperty(Ne)&&wt(xn[Ne])})(),(function(){for(var Ne in fs)fs.hasOwnProperty(Ne)&&bt(fs[Ne])})(),(function(Ne){var Me;for(Me in fn)fn.hasOwnProperty(Me)&&(fn[Me]instanceof gh?Tt(fn[Me]):fn[Me]instanceof Pp&&Dt(fn[Me],Ne))})(V),On.publish("putResources"),V.forEach(Pt),Pt({resourcesOid:be,objectOid:Number.MAX_SAFE_INTEGER}),On.publish("postPutResources"),d!==null&&(ss.oid=Zt(),le("<<"),le("/Filter /Standard"),le("/V "+ss.v),le("/R "+ss.r),le("/U <"+ss.toHexString(ss.U)+">"),le("/O <"+ss.toHexString(ss.O)+">"),le("/P "+ss.P),le(">>"),le("endobj")),rs(),si();var te=ee;return ko(),vs(),le("startxref"),le(""+te),le("%%EOF"),We(He[K]),Pe.join(`
`)},ur=x.__private__.getBlob=function(V){return new Blob([st(V)],{type:"application/pdf"})},Zo=x.output=x.__private__.output=(Yn=function(V,te){switch(typeof(te=te||{})=="string"?te={filename:te}:te.filename=te.filename||"generated.pdf",V){case void 0:return ma();case"save":x.save(te.filename);break;case"arraybuffer":return st(ma());case"blob":return ur(ma());case"bloburi":case"bloburl":if(Ln.URL!==void 0&&typeof Ln.URL.createObjectURL=="function")return Ln.URL&&Ln.URL.createObjectURL(ur(ma()))||void 0;ls.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Ne="",Me=ma();try{Ne=SD(Me)}catch{Ne=SD(unescape(encodeURIComponent(Me)))}return"data:application/pdf;filename="+te.filename+";base64,"+Ne;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Ln)==="[object Window]"){var qe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",ft=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';te.pdfObjectUrl&&(qe=te.pdfObjectUrl,ft="");var vt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+qe+'"'+ft+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(te)+");<\/script></body></html>",Xt=Ln.open();return Xt!==null&&Xt.document.write(vt),Xt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Ln)==="[object Window]"){var rn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(te.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+te.filename+'" width="500px" height="400px" /></body></html>',En=Ln.open();if(En!==null){En.document.write(rn);var yn=this;En.document.documentElement.querySelector("#pdfViewer").onload=function(){En.document.title=te.filename,En.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(yn.output("bloburl"))}}return En}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Ln)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var rr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",te)+'"></iframe></body></html>',Wr=Ln.open();if(Wr!==null&&(Wr.document.write(rr),Wr.document.title=te.filename),Wr||typeof safari>"u")return Wr;break;case"datauri":case"dataurl":return Ln.document.location.href=this.output("datauristring",te);default:return null}},Yn.foo=function(){try{return Yn.apply(this,arguments)}catch(Ne){var V=Ne.stack||"";~V.indexOf(" at ")&&(V=V.split(" at ")[1]);var te="Error in function "+V.split(`
`)[0].split("<")[0]+": "+Ne.message;if(!Ln.console)throw new Error(te);Ln.console.error(te,Ne),Ln.alert&&alert(te)}},Yn.foo.bar=Yn,Yn.foo),Ns=function(V){return Array.isArray(us)===!0&&us.indexOf(V)>-1};switch(r){case"pt":kt=1;break;case"mm":kt=72/25.4;break;case"cm":kt=72/2.54;break;case"in":kt=72;break;case"px":kt=Ns("px_scaling")==1?.75:96/72;break;case"pc":case"em":kt=12;break;case"ex":kt=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);kt=r}var ss=null;ne(),de();var ys=x.__private__.getPageInfo=x.getPageInfo=function(V){if(isNaN(V)||V%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Kt[V].objId,pageNumber:V,pageContext:Kt[V]}},Rl=x.__private__.getPageInfoByObjId=function(V){if(isNaN(V)||V%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var te in Kt)if(Kt[te].objId===V)break;return ys(te)},mf=x.__private__.getCurrentPageInfo=x.getCurrentPageInfo=function(){return{objId:Kt[K].objId,pageNumber:K,pageContext:Kt[K]}};x.addPage=function(){return Ks.apply(this,arguments),this},x.setPage=function(){return pa.apply(this,arguments),We.call(this,He[K]),this},x.insertPage=function(V){return this.addPage(),this.movePage(K,V),this},x.movePage=function(V,te){var Ne,Me;if(V>te){Ne=He[V],Me=Kt[V];for(var qe=V;qe>te;qe--)He[qe]=He[qe-1],Kt[qe]=Kt[qe-1];He[te]=Ne,Kt[te]=Me,this.setPage(te)}else if(V<te){Ne=He[V],Me=Kt[V];for(var ft=V;ft<te;ft++)He[ft]=He[ft+1],Kt[ft]=Kt[ft+1];He[te]=Ne,Kt[te]=Me,this.setPage(te)}return this},x.deletePage=function(){return Ji.apply(this,arguments),this},x.__private__.text=x.text=function(V,te,Ne,Me,qe){var ft,vt,Xt,rn,En,yn,rr,Wr,Br,E=(Me=Me||{}).scope||this;if(typeof V=="number"&&typeof te=="number"&&(typeof Ne=="string"||Array.isArray(Ne))){var H=Ne;Ne=te,te=V,V=H}if(arguments[3]instanceof hn==0?(Xt=arguments[4],rn=arguments[5],zr(rr=arguments[3])==="object"&&rr!==null||(typeof Xt=="string"&&(rn=Xt,Xt=null),typeof rr=="string"&&(rn=rr,rr=null),typeof rr=="number"&&(Xt=rr,rr=null),Me={flags:rr,angle:Xt,align:rn})):(R("The transform parameter of text() with a Matrix value"),Br=qe),isNaN(te)||isNaN(Ne)||V==null)throw new Error("Invalid arguments passed to jsPDF.text");if(V.length===0)return E;var Z,ye="",Ke=typeof Me.lineHeightFactor=="number"?Me.lineHeightFactor:Do,nt=E.internal.scaleFactor;function It(Cr){return Cr=Cr.split("	").join(Array(Me.TabLen||9).join(" ")),Wn(Cr,rr)}function Rn(Cr){for(var pr,Yr=Cr.concat(),Rs=[],fl=Yr.length;fl--;)typeof(pr=Yr.shift())=="string"?Rs.push(pr):Array.isArray(Cr)&&(pr.length===1||pr[1]===void 0&&pr[2]===void 0)?Rs.push(pr[0]):Rs.push([pr[0],pr[1],pr[2]]);return Rs}function Kr(Cr,pr){var Yr;if(typeof Cr=="string")Yr=pr(Cr)[0];else if(Array.isArray(Cr)){for(var Rs,fl,Oo=Cr.concat(),yu=[],Hd=Oo.length;Hd--;)typeof(Rs=Oo.shift())=="string"?yu.push(pr(Rs)[0]):Array.isArray(Rs)&&typeof Rs[0]=="string"&&(fl=pr(Rs[0],Rs[1],Rs[2]),yu.push([fl[0],fl[1],fl[2]]));Yr=yu}return Yr}var Jn=!1,Rr=!0;if(typeof V=="string")Jn=!0;else if(Array.isArray(V)){var ai=V.concat();vt=[];for(var vi,Ur=ai.length;Ur--;)(typeof(vi=ai.shift())!="string"||Array.isArray(vi)&&typeof vi[0]!="string")&&(Rr=!1);Jn=Rr}if(Jn===!1)throw new Error('Type of text must be string or Array. "'+V+'" is not recognized.');typeof V=="string"&&(V=V.match(/[\r?\n]/)?V.split(/\r\n|\r|\n/g):[V]);var yi=je/E.internal.scaleFactor,Ua=yi*(Ke-1);switch(Me.baseline){case"bottom":Ne-=Ua;break;case"top":Ne+=yi-Ua;break;case"hanging":Ne+=yi-2*Ua;break;case"middle":Ne+=yi/2-Ua}if((yn=Me.maxWidth||0)>0&&(typeof V=="string"?V=E.splitTextToSize(V,yn):Object.prototype.toString.call(V)==="[object Array]"&&(V=V.reduce(function(Cr,pr){return Cr.concat(E.splitTextToSize(pr,yn))},[]))),ft={text:V,x:te,y:Ne,options:Me,mutex:{pdfEscape:Wn,activeFontKey:Lt,fonts:Ct,activeFontSize:je}},On.publish("preProcessText",ft),V=ft.text,Xt=(Me=ft.options).angle,Br instanceof hn==0&&Xt&&typeof Xt=="number"){Xt*=Math.PI/180,Me.rotationDirection===0&&(Xt=-Xt),D===I&&(Xt=-Xt);var sl=Math.cos(Xt),il=Math.sin(Xt);Br=new hn(sl,il,-il,sl,0,0)}else Xt&&Xt instanceof hn&&(Br=Xt);D!==I||Br||(Br=Mt),(En=Me.charSpace||Zi)!==void 0&&(ye+=M(j(En))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Wr=Me.horizontalScale)!==void 0&&(ye+=M(100*Wr)+` Tz
`),Me.lang;var na=-1,Fl=Me.renderingMode!==void 0?Me.renderingMode:Me.stroke,gf=E.internal.getCurrentPageInfo().pageContext;switch(Fl){case 0:case!1:case"fill":na=0;break;case 1:case!0:case"stroke":na=1;break;case 2:case"fillThenStroke":na=2;break;case 3:case"invisible":na=3;break;case 4:case"fillAndAddForClipping":na=4;break;case 5:case"strokeAndAddPathForClipping":na=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":na=6;break;case 7:case"addToPathForClipping":na=7}var jd=gf.usedRenderingMode!==void 0?gf.usedRenderingMode:-1;na!==-1?ye+=na+` Tr
`:jd!==-1&&(ye+=`0 Tr
`),na!==-1&&(gf.usedRenderingMode=na),rn=Me.align||"left";var ja,Lo=je*Ke,Ol=E.internal.pageSize.getWidth(),qd=Ct[Lt];En=Me.charSpace||Zi,yn=Me.maxWidth||0,rr=Object.assign({autoencode:!0,noBOM:!0},Me.flags);var Fo=[],wc=function(Cr){return E.getStringUnitWidth(Cr,{font:qd,charSpace:En,fontSize:je,doKerning:!1})*je/nt};if(Object.prototype.toString.call(V)==="[object Array]"){var xa;vt=Rn(V),rn!=="left"&&(ja=vt.map(wc));var ra,al=0;if(rn==="right"){te-=ja[0],V=[],Ur=vt.length;for(var ol=0;ol<Ur;ol++)ol===0?(ra=Xs(te),xa=Fs(Ne)):(ra=j(al-ja[ol]),xa=-Lo),V.push([vt[ol],ra,xa]),al=ja[ol]}else if(rn==="center"){te-=ja[0]/2,V=[],Ur=vt.length;for(var Bl=0;Bl<Ur;Bl++)Bl===0?(ra=Xs(te),xa=Fs(Ne)):(ra=j((al-ja[Bl])/2),xa=-Lo),V.push([vt[Bl],ra,xa]),al=ja[Bl]}else if(rn==="left"){V=[],Ur=vt.length;for(var xf=0;xf<Ur;xf++)V.push(vt[xf])}else if(rn==="justify"&&qd.encoding==="Identity-H"){V=[],Ur=vt.length,yn=yn!==0?yn:Ol;for(var vf=0,ks=0;ks<Ur;ks++)if(xa=ks===0?Fs(Ne):-Lo,ra=ks===0?Xs(te):vf,ks<Ur-1){var g0=j((yn-ja[ks])/(vt[ks].split(" ").length-1)),ll=vt[ks].split(" ");V.push([ll[0]+" ",ra,xa]),vf=0;for(var cl=1;cl<ll.length;cl++){var bi=(wc(ll[cl-1]+" "+ll[cl])-wc(ll[cl]))*nt+g0;cl==ll.length-1?V.push([ll[cl],bi,0]):V.push([ll[cl]+" ",bi,0]),vf-=bi}}else V.push([vt[ks],ra,xa]);V.push(["",vf,0])}else{if(rn!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(V=[],Ur=vt.length,yn=yn!==0?yn:Ol,ks=0;ks<Ur;ks++){xa=ks===0?Fs(Ne):-Lo,ra=ks===0?Xs(te):0;var Vl=vt[ks].split(" ").length-1,yf=Vl>0?(yn-ja[ks])/Vl:0;ks<Ur-1?Fo.push(M(j(yf))):Fo.push(0),V.push([vt[ks],ra,xa])}}}(typeof Me.R2L=="boolean"?Me.R2L:Rt)===!0&&(V=Kr(V,function(Cr,pr,Yr){return[Cr.split("").reverse().join(""),pr,Yr]})),ft={text:V,x:te,y:Ne,options:Me,mutex:{pdfEscape:Wn,activeFontKey:Lt,fonts:Ct,activeFontSize:je}},On.publish("postProcessText",ft),V=ft.text,Z=ft.mutex.isHex||!1;var bf=Ct[Lt].encoding;bf!=="WinAnsiEncoding"&&bf!=="StandardEncoding"||(V=Kr(V,function(Cr,pr,Yr){return[It(Cr),pr,Yr]})),vt=Rn(V),V=[];for(var Ul,jl,ul,vu=Array.isArray(vt[0])?1:0,qa="",ql=function(Cr,pr,Yr){var Rs="";return Yr instanceof hn?(Yr=typeof Me.angle=="number"?Fe(Yr,new hn(1,0,0,1,Cr,pr)):Fe(new hn(1,0,0,1,Cr,pr),Yr),D===I&&(Yr=Fe(new hn(1,0,0,-1,0,0),Yr)),Rs=Yr.join(" ")+` Tm
`):Rs=M(Cr)+" "+M(pr)+` Td
`,Rs},Vi=0;Vi<vt.length;Vi++){switch(qa="",vu){case 1:ul=(Z?"<":"(")+vt[Vi][0]+(Z?">":")"),Ul=parseFloat(vt[Vi][1]),jl=parseFloat(vt[Vi][2]);break;case 0:ul=(Z?"<":"(")+vt[Vi]+(Z?">":")"),Ul=Xs(te),jl=Fs(Ne)}Fo!==void 0&&Fo[Vi]!==void 0&&(qa=Fo[Vi]+` Tw
`),Vi===0?V.push(qa+ql(Ul,jl,Br)+ul):vu===0?V.push(qa+ul):vu===1&&V.push(qa+ql(Ul,jl,Br)+ul)}V=vu===0?V.join(` Tj
T* `):V.join(` Tj
`),V+=` Tj
`;var ao=`BT
/`;return ao+=Lt+" "+je+` Tf
`,ao+=M(je*Ke)+` TL
`,ao+=Ba+`
`,ao+=ye,ao+=V,le(ao+="ET"),g[Lt]=!0,E};var du=x.__private__.clip=x.clip=function(V){return le(V==="evenodd"?"W*":"W"),this};x.clipEvenOdd=function(){return du("evenodd")},x.__private__.discardPath=x.discardPath=function(){return le("n"),this};var xi=x.__private__.isValidStyle=function(V){var te=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(V)!==-1&&(te=!0),te};x.__private__.setDefaultPathOperation=x.setDefaultPathOperation=function(V){return xi(V)&&(u=V),this};var hu=x.__private__.getStyle=x.getStyle=function(V){var te=u;switch(V){case"D":case"S":te="S";break;case"F":te="f";break;case"FD":case"DF":te="B";break;case"f":case"f*":case"B":case"B*":te=V}return te},Ro=x.close=function(){return le("h"),this};x.stroke=function(){return le("S"),this},x.fill=function(V){return Ys("f",V),this},x.fillEvenOdd=function(V){return Ys("f*",V),this},x.fillStroke=function(V){return Ys("B",V),this},x.fillStrokeEvenOdd=function(V){return Ys("B*",V),this};var Ys=function(V,te){zr(te)==="object"?mu(te,V):le(V)},el=function(V){V===null||D===I&&V===void 0||(V=hu(V),le(V))};function pu(V,te,Ne,Me,qe){var ft=new Pp(te||this.boundingBox,Ne||this.xStep,Me||this.yStep,this.gState,qe||this.matrix);ft.stream=this.stream;var vt=V+"$$"+this.cloneIndex+++"$$";return jt(vt,ft),ft}var mu=function(V,te){var Ne=Zn[V.key],Me=fn[Ne];if(Me instanceof gh)le("q"),le(gc(te)),Me.gState&&x.setGState(Me.gState),le(V.matrix.toString()+" cm"),le("/"+Ne+" sh"),le("Q");else if(Me instanceof Pp){var qe=new hn(1,0,0,-1,0,Va());V.matrix&&(qe=qe.multiply(V.matrix||Mt),Ne=pu.call(Me,V.key,V.boundingBox,V.xStep,V.yStep,qe).id),le("q"),le("/Pattern cs"),le("/"+Ne+" scn"),Me.gState&&x.setGState(Me.gState),le(te),le("Q")}},gc=function(V){switch(V){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},xc=x.moveTo=function(V,te){return le(M(j(V))+" "+M(ie(te))+" m"),this},Po=x.lineTo=function(V,te){return le(M(j(V))+" "+M(ie(te))+" l"),this},Oi=x.curveTo=function(V,te,Ne,Me,qe,ft){return le([M(j(V)),M(ie(te)),M(j(Ne)),M(ie(Me)),M(j(qe)),M(ie(ft)),"c"].join(" ")),this};x.__private__.line=x.line=function(V,te,Ne,Me,qe){if(isNaN(V)||isNaN(te)||isNaN(Ne)||isNaN(Me)||!xi(qe))throw new Error("Invalid arguments passed to jsPDF.line");return D===F?this.lines([[Ne-V,Me-te]],V,te,[1,1],qe||"S"):this.lines([[Ne-V,Me-te]],V,te,[1,1]).stroke()},x.__private__.lines=x.lines=function(V,te,Ne,Me,qe,ft){var vt,Xt,rn,En,yn,rr,Wr,Br,E,H,Z,ye;if(typeof V=="number"&&(ye=Ne,Ne=te,te=V,V=ye),Me=Me||[1,1],ft=ft||!1,isNaN(te)||isNaN(Ne)||!Array.isArray(V)||!Array.isArray(Me)||!xi(qe)||typeof ft!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(xc(te,Ne),vt=Me[0],Xt=Me[1],En=V.length,H=te,Z=Ne,rn=0;rn<En;rn++)(yn=V[rn]).length===2?(H=yn[0]*vt+H,Z=yn[1]*Xt+Z,Po(H,Z)):(rr=yn[0]*vt+H,Wr=yn[1]*Xt+Z,Br=yn[2]*vt+H,E=yn[3]*Xt+Z,H=yn[4]*vt+H,Z=yn[5]*Xt+Z,Oi(rr,Wr,Br,E,H,Z));return ft&&Ro(),el(qe),this},x.path=function(V){for(var te=0;te<V.length;te++){var Ne=V[te],Me=Ne.c;switch(Ne.op){case"m":xc(Me[0],Me[1]);break;case"l":Po(Me[0],Me[1]);break;case"c":Oi.apply(this,Me);break;case"h":Ro()}}return this},x.__private__.rect=x.rect=function(V,te,Ne,Me,qe){if(isNaN(V)||isNaN(te)||isNaN(Ne)||isNaN(Me)||!xi(qe))throw new Error("Invalid arguments passed to jsPDF.rect");return D===F&&(Me=-Me),le([M(j(V)),M(ie(te)),M(j(Ne)),M(j(Me)),"re"].join(" ")),el(qe),this},x.__private__.triangle=x.triangle=function(V,te,Ne,Me,qe,ft,vt){if(isNaN(V)||isNaN(te)||isNaN(Ne)||isNaN(Me)||isNaN(qe)||isNaN(ft)||!xi(vt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Ne-V,Me-te],[qe-Ne,ft-Me],[V-qe,te-ft]],V,te,[1,1],vt,!0),this},x.__private__.roundedRect=x.roundedRect=function(V,te,Ne,Me,qe,ft,vt){if(isNaN(V)||isNaN(te)||isNaN(Ne)||isNaN(Me)||isNaN(qe)||isNaN(ft)||!xi(vt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Xt=4/3*(Math.SQRT2-1);return qe=Math.min(qe,.5*Ne),ft=Math.min(ft,.5*Me),this.lines([[Ne-2*qe,0],[qe*Xt,0,qe,ft-ft*Xt,qe,ft],[0,Me-2*ft],[0,ft*Xt,-qe*Xt,ft,-qe,ft],[2*qe-Ne,0],[-qe*Xt,0,-qe,-ft*Xt,-qe,-ft],[0,2*ft-Me],[0,-ft*Xt,qe*Xt,-ft,qe,-ft]],V+qe,te,[1,1],vt,!0),this},x.__private__.ellipse=x.ellipse=function(V,te,Ne,Me,qe){if(isNaN(V)||isNaN(te)||isNaN(Ne)||isNaN(Me)||!xi(qe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var ft=4/3*(Math.SQRT2-1)*Ne,vt=4/3*(Math.SQRT2-1)*Me;return xc(V+Ne,te),Oi(V+Ne,te-vt,V+ft,te-Me,V,te-Me),Oi(V-ft,te-Me,V-Ne,te-vt,V-Ne,te),Oi(V-Ne,te+vt,V-ft,te+Me,V,te+Me),Oi(V+ft,te+Me,V+Ne,te+vt,V+Ne,te),el(qe),this},x.__private__.circle=x.circle=function(V,te,Ne,Me){if(isNaN(V)||isNaN(te)||isNaN(Ne)||!xi(Me))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(V,te,Ne,Ne,Me)},x.setFont=function(V,te,Ne){return Ne&&(te=P(te,Ne)),Lt=Io(V,te,{disableWarning:!1}),this};var Oa=x.__private__.getFont=x.getFont=function(){return Ct[Io.apply(x,arguments)]};x.__private__.getFontList=x.getFontList=function(){var V,te,Ne={};for(V in Ht)if(Ht.hasOwnProperty(V))for(te in Ne[V]=[],Ht[V])Ht[V].hasOwnProperty(te)&&Ne[V].push(te);return Ne},x.addFont=function(V,te,Ne,Me,qe){var ft=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&ft.indexOf(arguments[3])!==-1?qe=arguments[3]:arguments[3]&&ft.indexOf(arguments[3])==-1&&(Ne=P(Ne,Me)),vr.call(this,V,te,Ne,qe=qe||"Identity-H")};var Do,Bi=t.lineWidth||.200025,tl=x.__private__.getLineWidth=x.getLineWidth=function(){return Bi},wn=x.__private__.setLineWidth=x.setLineWidth=function(V){return Bi=V,le(M(j(V))+" w"),this};x.__private__.setLineDash=gn.API.setLineDash=gn.API.setLineDashPattern=function(V,te){if(V=V||[],te=te||0,isNaN(te)||!Array.isArray(V))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return V=V.map(function(Ne){return M(j(Ne))}).join(" "),te=M(j(te)),le("["+V+"] "+te+" d"),this};var Pl=x.__private__.getLineHeight=x.getLineHeight=function(){return je*Do};x.__private__.getLineHeight=x.getLineHeight=function(){return je*Do};var vc=x.__private__.setLineHeightFactor=x.setLineHeightFactor=function(V){return typeof(V=V||1.15)=="number"&&(Do=V),this},nl=x.__private__.getLineHeightFactor=x.getLineHeightFactor=function(){return Do};vc(t.lineHeight);var Xs=x.__private__.getHorizontalCoordinate=function(V){return j(V)},Fs=x.__private__.getVerticalCoordinate=function(V){return D===I?V:Kt[K].mediaBox.topRightY-Kt[K].mediaBox.bottomLeftY-j(V)},Dl=x.__private__.getHorizontalCoordinateString=x.getHorizontalCoordinateString=function(V){return M(Xs(V))},kr=x.__private__.getVerticalCoordinateString=x.getVerticalCoordinateString=function(V){return M(Fs(V))},Qi=t.strokeColor||"0 G";x.__private__.getStrokeColor=x.getDrawColor=function(){return Te(Qi)},x.__private__.setStrokeColor=x.setDrawColor=function(V,te,Ne,Me){return Qi=Ae({ch1:V,ch2:te,ch3:Ne,ch4:Me,pdfColorType:"draw",precision:2}),le(Qi),this};var Ml=t.fillColor||"0 g";x.__private__.getFillColor=x.getFillColor=function(){return Te(Ml)},x.__private__.setFillColor=x.setFillColor=function(V,te,Ne,Me){return Ml=Ae({ch1:V,ch2:te,ch3:Ne,ch4:Me,pdfColorType:"fill",precision:2}),le(Ml),this};var Ba=t.textColor||"0 g",gu=x.__private__.getTextColor=x.getTextColor=function(){return Te(Ba)};x.__private__.setTextColor=x.setTextColor=function(V,te,Ne,Me){return Ba=Ae({ch1:V,ch2:te,ch3:Ne,ch4:Me,pdfColorType:"text",precision:3}),this};var Zi=t.charSpace,Mo=x.__private__.getCharSpace=x.getCharSpace=function(){return parseFloat(Zi||0)};x.__private__.setCharSpace=x.setCharSpace=function(V){if(isNaN(V))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Zi=V,this};var ea=0;x.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},x.__private__.setLineCap=x.setLineCap=function(V){var te=x.CapJoinStyles[V];if(te===void 0)throw new Error("Line cap style of '"+V+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ea=te,le(te+" J"),this};var Is=0;x.__private__.setLineJoin=x.setLineJoin=function(V){var te=x.CapJoinStyles[V];if(te===void 0)throw new Error("Line join style of '"+V+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Is=te,le(te+" j"),this},x.__private__.setLineMiterLimit=x.__private__.setMiterLimit=x.setLineMiterLimit=x.setMiterLimit=function(V){if(V=V||0,isNaN(V))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return le(M(j(V))+" M"),this},x.GState=G2,x.setGState=function(V){(V=typeof V=="string"?xn[pn[V]]:to(null,V)).equals(cr)||(le("/"+V.id+" gs"),cr=V)};var to=function(V,te){if(!V||!pn[V]){var Ne=!1;for(var Me in xn)if(xn.hasOwnProperty(Me)&&xn[Me].equals(te)){Ne=!0;break}if(Ne)te=xn[Me];else{var qe="GS"+(Object.keys(xn).length+1).toString(10);xn[qe]=te,te.id=qe}return V&&(pn[V]=te.id),On.publish("addGState",te),te}};x.addGState=function(V,te){return to(V,te),this},x.saveGraphicsState=function(){return le("q"),vn.push({key:Lt,size:je,color:Ba}),this},x.restoreGraphicsState=function(){le("Q");var V=vn.pop();return Lt=V.key,je=V.size,Ba=V.color,cr=null,this},x.setCurrentTransformationMatrix=function(V){return le(V.toString()+" cm"),this},x.comment=function(V){return le("#"+V),this};var ii=function(V,te){var Ne=V||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Ne},set:function(ft){isNaN(ft)||(Ne=parseFloat(ft))}});var Me=te||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Me},set:function(ft){isNaN(ft)||(Me=parseFloat(ft))}});var qe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return qe},set:function(ft){qe=ft.toString()}}),this},no=function(V,te,Ne,Me){ii.call(this,V,te),this.type="rect";var qe=Ne||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return qe},set:function(vt){isNaN(vt)||(qe=parseFloat(vt))}});var ft=Me||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return ft},set:function(vt){isNaN(vt)||(ft=parseFloat(vt))}}),this},rl=function(){this.page=dn,this.currentPage=K,this.pages=He.slice(0),this.pagesContext=Kt.slice(0),this.x=At,this.y=zn,this.matrix=Ot,this.width=ga(K),this.height=yc(K),this.outputDestination=Se,this.id="",this.objectNumber=-1};rl.prototype.restore=function(){dn=this.page,K=this.currentPage,Kt=this.pagesContext,He=this.pages,At=this.x,zn=this.y,Ot=this.matrix,Ll(K,this.width),ta(K,this.height),Se=this.outputDestination};var ro=function(V,te,Ne,Me,qe){ns.push(new rl),dn=K=0,He=[],At=V,zn=te,Ot=qe,Ar([Ne,Me])};for(var so in x.beginFormObject=function(V,te,Ne,Me,qe){return ro(V,te,Ne,Me,qe),this},x.endFormObject=function(V){return(function(te){if(Li[te])ns.pop().restore();else{var Ne=new rl,Me="Xo"+(Object.keys(fs).length+1).toString(10);Ne.id=Me,Li[te]=Me,fs[Me]=Ne,On.publish("addFormObject",Ne),ns.pop().restore()}})(V),this},x.doFormObject=function(V,te){var Ne=fs[Li[V]];return le("q"),le(te.toString()+" cm"),le("/"+Ne.id+" Do"),le("Q"),this},x.getFormObject=function(V){var te=fs[Li[V]];return{x:te.x,y:te.y,width:te.width,height:te.height,matrix:te.matrix}},x.save=function(V,te){return V=V||"generated.pdf",(te=te||{}).returnPromise=te.returnPromise||!1,te.returnPromise===!1?(fh(ur(ma()),V),typeof fh.unload=="function"&&Ln.setTimeout&&setTimeout(fh.unload,911),this):new Promise(function(Ne,Me){try{var qe=fh(ur(ma()),V);typeof fh.unload=="function"&&Ln.setTimeout&&setTimeout(fh.unload,911),Ne(qe)}catch(ft){Me(ft.message)}})},gn.API)gn.API.hasOwnProperty(so)&&(so==="events"&&gn.API.events.length?(function(V,te){var Ne,Me,qe;for(qe=te.length-1;qe!==-1;qe--)Ne=te[qe][0],Me=te[qe][1],V.subscribe.apply(V,[Ne].concat(typeof Me=="function"?[Me]:Me))})(On,gn.API.events):x[so]=gn.API[so]);function ga(V){return Kt[V].mediaBox.topRightX-Kt[V].mediaBox.bottomLeftX}function Ll(V,te){Kt[V].mediaBox.topRightX=te+Kt[V].mediaBox.bottomLeftX}function yc(V){return Kt[V].mediaBox.topRightY-Kt[V].mediaBox.bottomLeftY}function ta(V,te){Kt[V].mediaBox.topRightY=te+Kt[V].mediaBox.bottomLeftY}var io=x.getPageWidth=function(V){return ga(V=V||K)/kt},xu=x.setPageWidth=function(V,te){Ll(V,te*kt)},Va=x.getPageHeight=function(V){return yc(V=V||K)/kt},bc=x.setPageHeight=function(V,te){ta(V,te*kt)};return x.internal={pdfEscape:Wn,getStyle:hu,getFont:Oa,getFontSize:St,getCharSpace:Mo,getTextColor:gu,getLineHeight:Pl,getLineHeightFactor:nl,getLineWidth:tl,write:Ge,getHorizontalCoordinate:Xs,getVerticalCoordinate:Fs,getCoordinateString:Dl,getVerticalCoordinateString:kr,collections:{},newObject:Zt,newAdditionalObject:_e,newObjectDeferred:Gn,newObjectDeferredBegin:se,getFilters:Ue,putStream:at,events:On,scaleFactor:kt,pageSize:{getWidth:function(){return io(K)},setWidth:function(V){xu(K,V)},getHeight:function(){return Va(K)},setHeight:function(V){bc(K,V)}},encryptionOptions:d,encryption:ss,getEncryptor:function(V){return d!==null?ss.encryptor(V,0):function(te){return te}},output:Zo,getNumberOfPages:Fi,get pages(){return He},out:le,f2:L,f3:O,getPageInfo:ys,getPageInfoByObjId:Rl,getCurrentPageInfo:mf,getPDFVersion:y,Point:ii,Rectangle:no,Matrix:hn,hasHotfix:Ns},Object.defineProperty(x.internal.pageSize,"width",{get:function(){return io(K)},set:function(V){xu(K,V)},enumerable:!0,configurable:!0}),Object.defineProperty(x.internal.pageSize,"height",{get:function(){return Va(K)},set:function(V){bc(K,V)},enumerable:!0,configurable:!0}),(function(V){for(var te=0,Ne=Et.length;te<Ne;te++){var Me=vr.call(this,V[te][0],V[te][1],V[te][2],Et[te][3],!0);p===!1&&(g[Me]=!0);var qe=V[te][0].split("-");Yt({id:Me,fontName:qe[0],fontStyle:qe[1]||""})}On.publish("addFonts",{fonts:Ct,dictionary:Ht})}).call(x,Et),Lt="F1",Ks(s,n),On.publish("initialized"),x}xp.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},xp.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},xp.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},xp.prototype.processOwnerPassword=function(t,e){return $T(GT(e).substr(0,5),t)},xp.prototype.encryptor=function(t,e){var n=GT(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return $T(n,r)}},G2.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||zr(t)!==zr(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},gn.API={events:[]},gn.version="3.0.4";var Hs=gn.API,yC=1,s0=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},rp=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},qn=function(t){return t.toFixed(2)},Yf=function(t){return t.toFixed(5)};Hs.__acroform__={};var No=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},ID=function(t){return t*yC},Bc=function(t){var e=new OV,n=ln.internal.getHeight(t)||0,r=ln.internal.getWidth(t)||0;return e.BBox=[0,0,Number(qn(r)),Number(qn(n))],e},F0e=Hs.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},O0e=Hs.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},B0e=Hs.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},ei=Hs.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return B0e(t,e-1)},ti=Hs.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return F0e(t,e-1)},ni=Hs.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return O0e(t,e-1)},V0e=Hs.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,s=t[0],i=t[1],a=t[2],o=t[3],c={};return c.lowerLeft_X=n(s)||0,c.lowerLeft_Y=r(i+o)||0,c.upperRight_X=n(s+a)||0,c.upperRight_Y=r(i)||0,[Number(qn(c.lowerLeft_X)),Number(qn(c.lowerLeft_Y)),Number(qn(c.upperRight_X)),Number(qn(c.upperRight_Y))]},U0e=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=WT(t,n),s=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+s+" "+qn(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var i=Bc(t);return i.scope=t.scope,i.stream=e.join(`
`),i}},WT=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},s=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");s=t.multiline?s.map(function(L){return L.split(`
`)}):s.map(function(L){return[L]});var i=n,a=ln.internal.getHeight(t)||0;a=a<0?-a:a;var o=ln.internal.getWidth(t)||0;o=o<0?-o:o;var c=function(L,O,j){if(L+1<s.length){var ie=O+" "+s[L+1][0];return sy(ie,t,j).width<=o-4}return!1};i++;e:for(;i>0;){e="",i--;var u,d,p=sy("3",t,i).height,g=t.multiline?a-i:(a-p)/2,x=g+=2,w=0,y=0,S=0;if(i<=0){e=`(...) Tj
`,e+="% Width of Text: "+sy(e,t,i=12).width+", FieldWidth:"+o+`
`;break}for(var C="",F=0,I=0;I<s.length;I++)if(s.hasOwnProperty(I)){var D=!1;if(s[I].length!==1&&S!==s[I].length-1){if((p+2)*(F+2)+2>a)continue e;C+=s[I][S],D=!0,y=I,I--}else{C=(C+=s[I][S]+" ").substr(C.length-1)==" "?C.substr(0,C.length-1):C;var z=parseInt(I),G=c(z,C,i),P=I>=s.length-1;if(G&&!P){C+=" ",S=0;continue}if(G||P){if(P)y=z;else if(t.multiline&&(p+2)*(F+2)+2>a)continue e}else{if(!t.multiline||(p+2)*(F+2)+2>a)continue e;y=z}}for(var M="",R=w;R<=y;R++){var U=s[R];if(t.multiline){if(R===y){M+=U[S]+" ",S=(S+1)%U.length;continue}if(R===w){M+=U[U.length-1]+" ";continue}}M+=U[0]+" "}switch(M=M.substr(M.length-1)==" "?M.substr(0,M.length-1):M,d=sy(M,t,i).width,t.textAlign){case"right":u=o-d-2;break;case"center":u=(o-d)/2;break;default:u=2}e+=qn(u)+" "+qn(x)+` Td
`,e+="("+s0(M)+`) Tj
`,e+=-qn(u)+` 0 Td
`,x=-(i+2),d=0,w=D?y:y+1,F++,C=""}break}return r.text=e,r.fontSize=i,r},sy=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),s=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:s}},j0e={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},q0e=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},H0e=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(pc.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(j0e)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");yC=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new BV,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in r)if(r.hasOwnProperty(s)){var i=r[s];i.objId=void 0,i.hasAnnotation&&q0e(i,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(r,s){var i=!r;for(var a in r||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(a)){var o=r[a],c=[],u=o.Rect;if(o.Rect&&(o.Rect=V0e(o.Rect,s)),s.internal.newObjectDeferredBegin(o.objId,!0),o.DA=ln.createDefaultAppearanceStream(o),zr(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(c=o.getKeyValueListForStream()),o.Rect=u,o.hasAppearanceStream&&!o.appearanceStreamContent){var d=U0e(o);c.push({key:"AP",value:"<</N "+d+">>"}),s.internal.acroformPlugin.xForms.push(d)}if(o.appearanceStreamContent){var p="";for(var g in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(g)){var x=o.appearanceStreamContent[g];if(p+="/"+g+" ",p+="<<",Object.keys(x).length>=1||Array.isArray(x)){for(var a in x)if(x.hasOwnProperty(a)){var w=x[a];typeof w=="function"&&(w=w.call(s,o)),p+="/"+a+" "+w+" ",s.internal.acroformPlugin.xForms.indexOf(w)>=0||s.internal.acroformPlugin.xForms.push(w)}}else typeof(w=x)=="function"&&(w=w.call(s,o)),p+="/"+a+" "+w,s.internal.acroformPlugin.xForms.indexOf(w)>=0||s.internal.acroformPlugin.xForms.push(w);p+=">>"}c.push({key:"AP",value:`<<
`+p+">>"})}s.internal.putStream({additionalKeyValues:c,objectId:o.objId}),s.internal.out("endobj")}i&&(function(y,S){for(var C in y)if(y.hasOwnProperty(C)){var F=C,I=y[C];S.internal.newObjectDeferredBegin(I.objId,!0),zr(I)==="object"&&typeof I.putStream=="function"&&I.putStream(),delete y[F]}})(s.internal.acroformPlugin.xForms,s)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},FV=Hs.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(a){return a};if(Array.isArray(t)){for(var s="[",i=0;i<t.length;i++)switch(i!==0&&(s+=" "),zr(t[i])){case"boolean":case"number":case"object":s+=t[i].toString();break;case"string":t[i].substr(0,1)!=="/"?(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),s+="("+s0(r(t[i].toString()))+")"):s+=t[i].toString()}return s+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},SE=function(t,e,n){var r=function(s){return s};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),"("+s0(r(t))+")"},Gc=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Gc.prototype.toString=function(){return this.objId+" 0 R"},Gc.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Gc.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],s=this[r];s&&(Array.isArray(s)?t.push({key:r,value:FV(s,this.objId,this.scope)}):s instanceof Gc?(s.scope=this.scope,t.push({key:r,value:s.objId+" 0 R"})):typeof s!="function"&&t.push({key:r,value:s}))}return t};var OV=function(){Gc.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};No(OV,Gc);var BV=function(){Gc.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+s0(n(t))+")"}},set:function(n){t=n}})};No(BV,Gc);var pc=function t(){Gc.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(C){if(isNaN(C))throw new Error('Invalid value "'+C+'" for attribute F supplied.');e=C}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!ei(e,3)},set:function(C){C?this.F=ti(e,3):this.F=ni(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(C){if(isNaN(C))throw new Error('Invalid value "'+C+'" for attribute Ff supplied.');n=C}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(C){r=C!==void 0?C:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(C){r[0]=C}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(C){r[1]=C}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(C){r[2]=C}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(C){r[3]=C}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(C){switch(C){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=C;break;default:throw new Error('Invalid value "'+C+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof $2)return;i="FieldObject"+t.FieldNum++}var C=function(F){return F};return this.scope&&(C=this.scope.internal.getEncryptor(this.objId)),"("+s0(C(i))+")"},set:function(C){i=C.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(C){i=C}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(C){a=C}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(C){o=C}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(C){c=C}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/yC:u},set:function(C){u=C}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(C){d=C}});var p="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!p||this instanceof $2||this instanceof Ih))return SE(p,this.objId,this.scope)},set:function(C){C=C.toString(),p=C}});var g=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof Ki==0?SE(g,this.objId,this.scope):g},set:function(C){C=C.toString(),g=this instanceof Ki==0?C.substr(0,1)==="("?rp(C.substr(1,C.length-2)):rp(C):C}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ki==1?rp(g.substr(1,g.length-1)):g},set:function(C){C=C.toString(),g=this instanceof Ki==1?"/"+C:C}});var x=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(x)return x},set:function(C){this.V=C}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(x)return this instanceof Ki==0?SE(x,this.objId,this.scope):x},set:function(C){C=C.toString(),x=this instanceof Ki==0?C.substr(0,1)==="("?rp(C.substr(1,C.length-2)):rp(C):C}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ki==1?rp(x.substr(1,x.length-1)):x},set:function(C){C=C.toString(),x=this instanceof Ki==1?"/"+C:C}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var w,y=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return y},set:function(C){C=!!C,y=C}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(w)return w},set:function(C){w=C}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!ei(this.Ff,1)},set:function(C){C?this.Ff=ti(this.Ff,1):this.Ff=ni(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!ei(this.Ff,2)},set:function(C){C?this.Ff=ti(this.Ff,2):this.Ff=ni(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!ei(this.Ff,3)},set:function(C){C?this.Ff=ti(this.Ff,3):this.Ff=ni(this.Ff,3)}});var S=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(S!==null)return S},set:function(C){if([0,1,2].indexOf(C)===-1)throw new Error('Invalid value "'+C+'" for attribute Q supplied.');S=C}}),Object.defineProperty(this,"textAlign",{get:function(){var C;switch(S){case 0:default:C="left";break;case 1:C="center";break;case 2:C="right"}return C},configurable:!0,enumerable:!0,set:function(C){switch(C){case"right":case 2:S=2;break;case"center":case 1:S=1;break;default:S=0}}})};No(pc,Gc);var Gp=function(){pc.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return FV(e,this.objId,this.scope)},set:function(n){var r,s;s=[],typeof(r=n)=="string"&&(s=(function(i,a,o){o||(o=1);for(var c,u=[];c=a.exec(i);)u.push(c[o]);return u})(r,/\((.*?)\)/g)),e=s}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!ei(this.Ff,18)},set:function(n){n?this.Ff=ti(this.Ff,18):this.Ff=ni(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!ei(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=ti(this.Ff,19):this.Ff=ni(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!ei(this.Ff,20)},set:function(n){n?(this.Ff=ti(this.Ff,20),e.sort()):this.Ff=ni(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!ei(this.Ff,22)},set:function(n){n?this.Ff=ti(this.Ff,22):this.Ff=ni(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ei(this.Ff,23)},set:function(n){n?this.Ff=ti(this.Ff,23):this.Ff=ni(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!ei(this.Ff,27)},set:function(n){n?this.Ff=ti(this.Ff,27):this.Ff=ni(this.Ff,27)}}),this.hasAppearanceStream=!1};No(Gp,pc);var $p=function(){Gp.call(this),this.fontName="helvetica",this.combo=!1};No($p,Gp);var Wp=function(){$p.call(this),this.combo=!0};No(Wp,$p);var Zy=function(){Wp.call(this),this.edit=!0};No(Zy,Wp);var Ki=function(){pc.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!ei(this.Ff,15)},set:function(n){n?this.Ff=ti(this.Ff,15):this.Ff=ni(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!ei(this.Ff,16)},set:function(n){n?this.Ff=ti(this.Ff,16):this.Ff=ni(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!ei(this.Ff,17)},set:function(n){n?this.Ff=ti(this.Ff,17):this.Ff=ni(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!ei(this.Ff,26)},set:function(n){n?this.Ff=ti(this.Ff,26):this.Ff=ni(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(i){return i};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,s=[];for(r in s.push("<<"),e)s.push("/"+r+" ("+s0(n(e[r]))+")");return s.push(">>"),s.join(`
`)}},set:function(n){zr(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};No(Ki,pc);var e2=function(){Ki.call(this),this.pushButton=!0};No(e2,Ki);var Kp=function(){Ki.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};No(Kp,Ki);var $2=function(){var t,e;pc.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(s){t=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(s){e=s}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(o){return o};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var i,a=[];for(i in a.push("<<"),r)a.push("/"+i+" ("+s0(s(r[i]))+")");return a.push(">>"),a.join(`
`)},set:function(s){zr(s)==="object"&&(r=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(s){typeof s=="string"&&(r.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(s){n=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(s){n="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=ln.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};No($2,pc),Kp.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},Kp.prototype.createOption=function(t){var e=new $2;return e.Parent=this,e.optionName=t,this.Kids.push(e),z0e.call(this.scope,e),e};var t2=function(){Ki.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=ln.CheckBox.createAppearanceStream()};No(t2,Ki);var Ih=function(){pc.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!ei(this.Ff,13)},set:function(e){e?this.Ff=ti(this.Ff,13):this.Ff=ni(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!ei(this.Ff,21)},set:function(e){e?this.Ff=ti(this.Ff,21):this.Ff=ni(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ei(this.Ff,23)},set:function(e){e?this.Ff=ti(this.Ff,23):this.Ff=ni(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!ei(this.Ff,24)},set:function(e){e?this.Ff=ti(this.Ff,24):this.Ff=ni(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!ei(this.Ff,25)},set:function(e){e?this.Ff=ti(this.Ff,25):this.Ff=ni(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!ei(this.Ff,26)},set:function(e){e?this.Ff=ti(this.Ff,26):this.Ff=ni(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};No(Ih,pc);var n2=function(){Ih.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!ei(this.Ff,14)},set:function(t){t?this.Ff=ti(this.Ff,14):this.Ff=ni(this.Ff,14)}}),this.password=!0};No(n2,Ih);var ln={CheckBox:{createAppearanceStream:function(){return{N:{On:ln.CheckBox.YesNormal},D:{On:ln.CheckBox.YesPushDown,Off:ln.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Bc(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,s=t.scope.__private__.encodeColorString(t.color),i=WT(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+qn(ln.internal.getWidth(t))+" "+qn(ln.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+qn(i.fontSize)+" Tf "+s),n.push("BT"),n.push(i.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=Bc(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),s=[],i=ln.internal.getHeight(t),a=ln.internal.getWidth(t),o=WT(t,t.caption);return s.push("1 g"),s.push("0 0 "+qn(a)+" "+qn(i)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+qn(a-1)+" "+qn(i-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+n+" "+qn(o.fontSize)+" Tf "+r),s.push(o.text),s.push("ET"),s.push("Q"),e.stream=s.join(`
`),e},OffPushDown:function(t){var e=Bc(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+qn(ln.internal.getWidth(t))+" "+qn(ln.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:ln.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=ln.RadioButton.Circle.YesNormal,e.D[t]=ln.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Bc(t);e.scope=t.scope;var n=[],r=ln.internal.getWidth(t)<=ln.internal.getHeight(t)?ln.internal.getWidth(t)/4:ln.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var s=ln.internal.Bezier_C,i=Number((r*s).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+Yf(ln.internal.getWidth(t)/2)+" "+Yf(ln.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+i+" "+i+" "+r+" 0 "+r+" c"),n.push("-"+i+" "+r+" -"+r+" "+i+" -"+r+" 0 c"),n.push("-"+r+" -"+i+" -"+i+" -"+r+" 0 -"+r+" c"),n.push(i+" -"+r+" "+r+" -"+i+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Bc(t);e.scope=t.scope;var n=[],r=ln.internal.getWidth(t)<=ln.internal.getHeight(t)?ln.internal.getWidth(t)/4:ln.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var s=Number((2*r).toFixed(5)),i=Number((s*ln.internal.Bezier_C).toFixed(5)),a=Number((r*ln.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Yf(ln.internal.getWidth(t)/2)+" "+Yf(ln.internal.getHeight(t)/2)+" cm"),n.push(s+" 0 m"),n.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),n.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),n.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),n.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+Yf(ln.internal.getWidth(t)/2)+" "+Yf(ln.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),n.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),n.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),n.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Bc(t);e.scope=t.scope;var n=[],r=ln.internal.getWidth(t)<=ln.internal.getHeight(t)?ln.internal.getWidth(t)/4:ln.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var s=Number((2*r).toFixed(5)),i=Number((s*ln.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Yf(ln.internal.getWidth(t)/2)+" "+Yf(ln.internal.getHeight(t)/2)+" cm"),n.push(s+" 0 m"),n.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),n.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),n.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),n.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:ln.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=ln.RadioButton.Cross.YesNormal,e.D[t]=ln.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Bc(t);e.scope=t.scope;var n=[],r=ln.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+qn(ln.internal.getWidth(t)-2)+" "+qn(ln.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(qn(r.x1.x)+" "+qn(r.x1.y)+" m"),n.push(qn(r.x2.x)+" "+qn(r.x2.y)+" l"),n.push(qn(r.x4.x)+" "+qn(r.x4.y)+" m"),n.push(qn(r.x3.x)+" "+qn(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Bc(t);e.scope=t.scope;var n=ln.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+qn(ln.internal.getWidth(t))+" "+qn(ln.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+qn(ln.internal.getWidth(t)-2)+" "+qn(ln.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(qn(n.x1.x)+" "+qn(n.x1.y)+" m"),r.push(qn(n.x2.x)+" "+qn(n.x2.y)+" l"),r.push(qn(n.x4.x)+" "+qn(n.x4.y)+" m"),r.push(qn(n.x3.x)+" "+qn(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=Bc(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+qn(ln.internal.getWidth(t))+" "+qn(ln.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};ln.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=ln.internal.getWidth(t),n=ln.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},ln.internal.getWidth=function(t){var e=0;return zr(t)==="object"&&(e=ID(t.Rect[2])),e},ln.internal.getHeight=function(t){var e=0;return zr(t)==="object"&&(e=ID(t.Rect[3])),e};var z0e=Hs.addField=function(t){if(H0e(this,t),!(t instanceof pc))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Hs.AcroFormChoiceField=Gp,Hs.AcroFormListBox=$p,Hs.AcroFormComboBox=Wp,Hs.AcroFormEditBox=Zy,Hs.AcroFormButton=Ki,Hs.AcroFormPushButton=e2,Hs.AcroFormRadioButton=Kp,Hs.AcroFormCheckBox=t2,Hs.AcroFormTextField=Ih,Hs.AcroFormPasswordField=n2,Hs.AcroFormAppearance=ln,Hs.AcroForm={ChoiceField:Gp,ListBox:$p,ComboBox:Wp,EditBox:Zy,Button:Ki,PushButton:e2,RadioButton:Kp,CheckBox:t2,TextField:Ih,PasswordField:n2,Appearance:ln},gn.AcroForm={ChoiceField:Gp,ListBox:$p,ComboBox:Wp,EditBox:Zy,Button:Ki,PushButton:e2,RadioButton:Kp,CheckBox:t2,TextField:Ih,PasswordField:n2,Appearance:ln};gn.AcroForm;function VV(t){return t.reduce(function(e,n,r){return e[n]=r,e},{})}(function(t){var e="addImage_";t.__addimage__={};var n="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},s=t.__addimage__.getImageFileTypeByImageData=function(L,O){var j,ie,Ee,ae,pe,de=n;if((O=O||n)==="RGBA"||L.data!==void 0&&L.data instanceof Uint8ClampedArray&&"height"in L&&"width"in L)return"RGBA";if(G(L))for(pe in r)for(Ee=r[pe],j=0;j<Ee.length;j+=1){for(ae=!0,ie=0;ie<Ee[j].length;ie+=1)if(Ee[j][ie]!==void 0&&Ee[j][ie]!==L[ie]){ae=!1;break}if(ae===!0){de=pe;break}}else for(pe in r)for(Ee=r[pe],j=0;j<Ee.length;j+=1){for(ae=!0,ie=0;ie<Ee[j].length;ie+=1)if(Ee[j][ie]!==void 0&&Ee[j][ie]!==L.charCodeAt(ie)){ae=!1;break}if(ae===!0){de=pe;break}}return de===n&&O!==n&&(de=O),de},i=function L(O){for(var j=this.internal.write,ie=this.internal.putStream,Ee=(0,this.internal.getFilters)();Ee.indexOf("FlateEncode")!==-1;)Ee.splice(Ee.indexOf("FlateEncode"),1);O.objectId=this.internal.newObject();var ae=[];if(ae.push({key:"Type",value:"/XObject"}),ae.push({key:"Subtype",value:"/Image"}),ae.push({key:"Width",value:O.width}),ae.push({key:"Height",value:O.height}),O.colorSpace===C.INDEXED?ae.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(O.palette.length/3-1)+" "+("sMask"in O&&O.sMask!==void 0?O.objectId+2:O.objectId+1)+" 0 R]"}):(ae.push({key:"ColorSpace",value:"/"+O.colorSpace}),O.colorSpace===C.DEVICE_CMYK&&ae.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ae.push({key:"BitsPerComponent",value:O.bitsPerComponent}),"decodeParameters"in O&&O.decodeParameters!==void 0&&ae.push({key:"DecodeParms",value:"<<"+O.decodeParameters+">>"}),"transparency"in O&&Array.isArray(O.transparency)&&O.transparency.length>0){for(var pe="",de=0,oe=O.transparency.length;de<oe;de++)pe+=O.transparency[de]+" "+O.transparency[de]+" ";ae.push({key:"Mask",value:"["+pe+"]"})}O.sMask!==void 0&&ae.push({key:"SMask",value:O.objectId+1+" 0 R"});var ke=O.filter!==void 0?["/"+O.filter]:void 0;if(ie({data:O.data,additionalKeyValues:ae,alreadyAppliedFilters:ke,objectId:O.objectId}),j("endobj"),"sMask"in O&&O.sMask!==void 0){var ne,B=(ne=O.sMaskBitsPerComponent)!==null&&ne!==void 0?ne:O.bitsPerComponent,K={width:O.width,height:O.height,colorSpace:"DeviceGray",bitsPerComponent:B,data:O.sMask};"filter"in O&&(K.decodeParameters="/Predictor ".concat(O.predictor," /Colors 1 /BitsPerComponent ").concat(B," /Columns ").concat(O.width),K.filter=O.filter),L.call(this,K)}if(O.colorSpace===C.INDEXED){var Y=this.internal.newObject();ie({data:M(new Uint8Array(O.palette)),objectId:Y}),j("endobj")}},a=function(){var L=this.internal.collections[e+"images"];for(var O in L)i.call(this,L[O])},o=function(){var L,O=this.internal.collections[e+"images"],j=this.internal.write;for(var ie in O)j("/I"+(L=O[ie]).index,L.objectId,"0","R")},c=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",o))},u=function(){var L=this.internal.collections[e+"images"];return c.call(this),L},d=function(){return Object.keys(this.internal.collections[e+"images"]).length},p=function(L){return typeof t["process"+L.toUpperCase()]=="function"},g=function(L){return zr(L)==="object"&&L.nodeType===1},x=function(L,O){if(L.nodeName==="IMG"&&L.hasAttribute("src")){var j=""+L.getAttribute("src");if(j.indexOf("data:image/")===0)return Qy(unescape(j).split("base64,").pop());var ie=t.loadFile(j,!0);if(ie!==void 0)return ie}if(L.nodeName==="CANVAS"){if(L.width===0||L.height===0)throw new Error("Given canvas must have data. Canvas width: "+L.width+", height: "+L.height);var Ee;switch(O){case"PNG":Ee="image/png";break;case"WEBP":Ee="image/webp";break;default:Ee="image/jpeg"}return Qy(L.toDataURL(Ee,1).split("base64,").pop())}},w=function(L){var O=this.internal.collections[e+"images"];if(O){for(var j in O)if(L===O[j].alias)return O[j]}},y=function(L,O,j){return L||O||(L=-96,O=-96),L<0&&(L=-1*j.width*72/L/this.internal.scaleFactor),O<0&&(O=-1*j.height*72/O/this.internal.scaleFactor),L===0&&(L=O*j.width/j.height),O===0&&(O=L*j.height/j.width),[L,O]},S=function(L,O,j,ie,Ee,ae){var pe=y.call(this,j,ie,Ee),de=this.internal.getCoordinateString,oe=this.internal.getVerticalCoordinateString,ke=u.call(this);if(j=pe[0],ie=pe[1],ke[Ee.index]=Ee,ae){ae*=Math.PI/180;var ne=Math.cos(ae),B=Math.sin(ae),K=function(Q){return Q.toFixed(4)},Y=[K(ne),K(B),K(-1*B),K(ne),0,0,"cm"]}this.internal.write("q"),ae?(this.internal.write([1,"0","0",1,de(L),oe(O+ie),"cm"].join(" ")),this.internal.write(Y.join(" ")),this.internal.write([de(j),"0","0",de(ie),"0","0","cm"].join(" "))):this.internal.write([de(j),"0","0",de(ie),de(L),oe(O+ie),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Ee.index+" Do"),this.internal.write("Q")},C=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var F=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},I=t.__addimage__.sHashCode=function(L){var O,j,ie=0;if(typeof L=="string")for(j=L.length,O=0;O<j;O++)ie=(ie<<5)-ie+L.charCodeAt(O),ie|=0;else if(G(L))for(j=L.byteLength/2,O=0;O<j;O++)ie=(ie<<5)-ie+L[O],ie|=0;return ie},D=t.__addimage__.validateStringAsBase64=function(L){(L=L||"").toString().trim();var O=!0;return L.length===0&&(O=!1),L.length%4!=0&&(O=!1),/^[A-Za-z0-9+/]+$/.test(L.substr(0,L.length-2))===!1&&(O=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(L.substr(-2))===!1&&(O=!1),O},z=t.__addimage__.extractImageFromDataUrl=function(L){if(L==null||!(L=L.trim()).startsWith("data:"))return null;var O=L.indexOf(",");return O<0?null:L.substring(0,O).trim().endsWith("base64")?L.substring(O+1):null};t.__addimage__.isArrayBuffer=function(L){return L instanceof ArrayBuffer};var G=t.__addimage__.isArrayBufferView=function(L){return L instanceof Int8Array||L instanceof Uint8Array||L instanceof Uint8ClampedArray||L instanceof Int16Array||L instanceof Uint16Array||L instanceof Int32Array||L instanceof Uint32Array||L instanceof Float32Array||L instanceof Float64Array},P=t.__addimage__.binaryStringToUint8Array=function(L){for(var O=L.length,j=new Uint8Array(O),ie=0;ie<O;ie++)j[ie]=L.charCodeAt(ie);return j},M=t.__addimage__.arrayBufferToBinaryString=function(L){for(var O="",j=G(L)?L:new Uint8Array(L),ie=0;ie<j.length;ie+=8192)O+=String.fromCharCode.apply(null,j.subarray(ie,ie+8192));return O};t.addImage=function(){var L,O,j,ie,Ee,ae,pe,de,oe;if(typeof arguments[1]=="number"?(O=n,j=arguments[1],ie=arguments[2],Ee=arguments[3],ae=arguments[4],pe=arguments[5],de=arguments[6],oe=arguments[7]):(O=arguments[1],j=arguments[2],ie=arguments[3],Ee=arguments[4],ae=arguments[5],pe=arguments[6],de=arguments[7],oe=arguments[8]),zr(L=arguments[0])==="object"&&!g(L)&&"imageData"in L){var ke=L;L=ke.imageData,O=ke.format||O||n,j=ke.x||j||0,ie=ke.y||ie||0,Ee=ke.w||ke.width||Ee,ae=ke.h||ke.height||ae,pe=ke.alias||pe,de=ke.compression||de,oe=ke.rotation||ke.angle||oe}var ne=this.internal.getFilters();if(de===void 0&&ne.indexOf("FlateEncode")!==-1&&(de="SLOW"),isNaN(j)||isNaN(ie))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var B=R.call(this,L,O,pe,de);return S.call(this,j,ie,Ee,ae,B,oe),this};var R=function(L,O,j,ie){var Ee,ae,pe;if(typeof L=="string"&&s(L)===n){L=unescape(L);var de=U(L,!1);(de!==""||(de=t.loadFile(L,!0))!==void 0)&&(L=de)}if(g(L)&&(L=x(L,O)),O=s(L,O),!p(O))throw new Error("addImage does not support files of type '"+O+"', please ensure that a plugin for '"+O+"' support is added.");if(((pe=j)==null||pe.length===0)&&(j=(function(oe){return typeof oe=="string"||G(oe)?I(oe):G(oe.data)?I(oe.data):null})(L)),(Ee=w.call(this,j))||(L instanceof Uint8Array||O==="RGBA"||(ae=L,L=P(L)),Ee=this["process"+O.toUpperCase()](L,d.call(this),j,(function(oe){return oe&&typeof oe=="string"&&(oe=oe.toUpperCase()),oe in t.image_compression?oe:F.NONE})(ie),ae)),!Ee)throw new Error("An unknown error occurred whilst processing the image.");return Ee},U=t.__addimage__.convertBase64ToBinaryString=function(L,O){O=typeof O!="boolean"||O;var j,ie="";if(typeof L=="string"){var Ee;j=(Ee=z(L))!==null&&Ee!==void 0?Ee:L;try{ie=Qy(j)}catch(ae){if(O)throw D(j)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ae.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ie};t.getImageProperties=function(L){var O,j,ie="";if(g(L)&&(L=x(L)),typeof L=="string"&&s(L)===n&&((ie=U(L,!1))===""&&(ie=t.loadFile(L)||""),L=ie),j=s(L),!p(j))throw new Error("addImage does not support files of type '"+j+"', please ensure that a plugin for '"+j+"' support is added.");if(L instanceof Uint8Array||(L=P(L)),!(O=this["process"+j.toUpperCase()](L)))throw new Error("An unknown error occurred whilst processing the image");return O.fileType=j,O}})(gn.API),(function(t){var e=function(n){if(n!==void 0&&n!="")return!0};gn.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,s,i,a=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(n.objId),u=n.pageContext.annotations,d=!1,p=0;p<u.length&&!d;p++)switch((r=u[p]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var g=0;g<u.length;g++){r=u[g];var x=this.internal.pdfEscape,w=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var y=this.internal.newAdditionalObject(),S=this.internal.newAdditionalObject(),C=this.internal.getEncryptor(y.objId),F=r.title||"Note";i="<</Type /Annot /Subtype /Text "+(s="/Rect ["+a(r.bounds.x)+" "+o(r.bounds.y+r.bounds.h)+" "+a(r.bounds.x+r.bounds.w)+" "+o(r.bounds.y)+"] ")+"/Contents ("+x(C(r.contents))+")",i+=" /Popup "+S.objId+" 0 R",i+=" /P "+c.objId+" 0 R",i+=" /T ("+x(C(F))+") >>",y.content=i;var I=y.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+a(r.bounds.x+30)+" "+o(r.bounds.y+r.bounds.h)+" "+a(r.bounds.x+r.bounds.w+30)+" "+o(r.bounds.y)+"] ")+" /Parent "+I,r.open&&(i+=" /Open true"),i+=" >>",S.content=i,this.internal.write(y.objId,"0 R",S.objId,"0 R");break;case"freetext":s="/Rect ["+a(r.bounds.x)+" "+o(r.bounds.y)+" "+a(r.bounds.x+r.bounds.w)+" "+o(r.bounds.y+r.bounds.h)+"] ";var D=r.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+x(w(r.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+D+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(r.options.name){var z=this.annotations._nameMap[r.options.name];r.options.pageNumber=z.page,r.options.top=z.y}else r.options.top||(r.options.top=0);if(s="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",i="",r.options.url)i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+x(w(r.options.url))+") >>";else if(r.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,i+=" /FitV "+r.options.left+"]";break;default:var G=o(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),i+=" /XYZ "+r.options.left+" "+G+" "+r.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,s,i,a){var o=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:c(n),y:u(r),w:c(n+s),h:u(r+i)},options:a,type:"link"})},t.textWithLink=function(n,r,s,i){var a,o,c=this.getTextWidth(n),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){o=i.maxWidth;var d=this.splitTextToSize(n,o).length;a=Math.ceil(u*d)}else o=c,a=u;return this.text(n,r,s,i),s+=.2*u,i.align==="center"&&(r-=c/2),i.align==="right"&&(r-=c),this.link(r,s-u,o,a,i),c},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}})(gn.API),(function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];t.__arabicParser__={};var i=t.__arabicParser__.isInArabicSubstitutionA=function(y){return e[y.charCodeAt(0)]!==void 0},a=t.__arabicParser__.isArabicLetter=function(y){return typeof y=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(y)},o=t.__arabicParser__.isArabicEndLetter=function(y){return a(y)&&i(y)&&e[y.charCodeAt(0)].length<=2},c=t.__arabicParser__.isArabicAlfLetter=function(y){return a(y)&&s.indexOf(y.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(y){return a(y)&&i(y)&&e[y.charCodeAt(0)].length>=1};var u=t.__arabicParser__.arabicLetterHasFinalForm=function(y){return a(y)&&i(y)&&e[y.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(y){return a(y)&&i(y)&&e[y.charCodeAt(0)].length>=3};var d=t.__arabicParser__.arabicLetterHasMedialForm=function(y){return a(y)&&i(y)&&e[y.charCodeAt(0)].length==4},p=t.__arabicParser__.resolveLigatures=function(y){var S=0,C=n,F="",I=0;for(S=0;S<y.length;S+=1)C[y.charCodeAt(S)]!==void 0?(I++,typeof(C=C[y.charCodeAt(S)])=="number"&&(F+=String.fromCharCode(C),C=n,I=0),S===y.length-1&&(C=n,F+=y.charAt(S-(I-1)),S-=I-1,I=0)):(C=n,F+=y.charAt(S-I),S-=I,I=0);return F};t.__arabicParser__.isArabicDiacritic=function(y){return y!==void 0&&r[y.charCodeAt(0)]!==void 0};var g=t.__arabicParser__.getCorrectForm=function(y,S,C){return a(y)?i(y)===!1?-1:!u(y)||!a(S)&&!a(C)||!a(C)&&o(S)||o(y)&&!a(S)||o(y)&&c(S)||o(y)&&o(S)?0:d(y)&&a(S)&&!o(S)&&a(C)&&u(C)?3:o(y)||!a(C)?1:2:-1},x=function(y){var S=0,C=0,F=0,I="",D="",z="",G=(y=y||"").split("\\s+"),P=[];for(S=0;S<G.length;S+=1){for(P.push(""),C=0;C<G[S].length;C+=1)I=G[S][C],D=G[S][C-1],z=G[S][C+1],a(I)?(F=g(I,D,z),P[S]+=F!==-1?String.fromCharCode(e[I.charCodeAt(0)][F]):I):P[S]+=I;P[S]=p(P[S])}return P.join(" ")},w=t.__arabicParser__.processArabic=t.processArabic=function(){var y,S=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,C=[];if(Array.isArray(S)){var F=0;for(C=[],F=0;F<S.length;F+=1)Array.isArray(S[F])?C.push([x(S[F][0]),S[F][1],S[F][2]]):C.push([x(S[F])]);y=C}else y=x(S);return typeof arguments[0]=="string"?y:(arguments[0].text=y,arguments[0])};t.events.push(["preProcessText",w])})(gn.API),gn.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(o){n=o}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(o){r=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(o){s=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(o){i=o}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(o){a=o}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var s;if((n=n||"2d")!=="2d")return null;for(s in r)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=r[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(gn.API),(function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(y){c=y}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(y){u=y}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(y){d=y}});var p=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return p},set:function(y){p=y}});var g=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return g},set:function(y){g=y}});var x=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return x},set:function(y){x=y}});var w=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return w},set:function(y){w=y}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(c){return r.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},t.getTextDimensions=function(c,u){r.call(this);var d=(u=u||{}).fontSize||this.getFontSize(),p=u.font||this.getFont(),g=u.scaleFactor||this.internal.scaleFactor,x=0,w=0,y=0,S=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var C=u.maxWidth;C>0?typeof c=="string"?c=this.splitTextToSize(c,C):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(I,D){return I.concat(S.splitTextToSize(D,C))},[])):c=Array.isArray(c)?c:[c];for(var F=0;F<c.length;F++)x<(y=this.getStringUnitWidth(c[F],{font:p})*d)&&(x=y);return x!==0&&(w=c.length),{w:x/=g,h:Math.max((w*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/g,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var c=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new i(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=t.cell=function(){var c;c=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),r.call(this);var u=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,p=this.internal.__cell__.margins||e,g=this.internal.__cell__.tableHeaderRow,x=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===c.lineNumber?(c.x=(u.x||0)+(u.width||0),c.y=u.y||0):u.y+u.height+c.height+p.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=p.top,x&&g&&(this.printHeaderRow(c.lineNumber,!0),c.y+=g[0].height)):c.y=u.y+u.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,n===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-d,c.y+d,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+d,{align:"center",baseline:"top",maxWidth:c.width-d-d}):this.text(c.text,c.x+d,c.y+d,{align:"left",baseline:"top",maxWidth:c.width-d-d})),this.internal.__cell__.lastCell=c,this};t.table=function(c,u,d,p,g){if(r.call(this),!d)throw new Error("No data for PDF table.");var x,w,y,S,C=[],F=[],I=[],D={},z={},G=[],P=[],M=(g=g||{}).autoSize||!1,R=g.printHeaders!==!1,U=g.css&&g.css["font-size"]!==void 0?16*g.css["font-size"]:g.fontSize||12,L=g.margins||Object.assign({width:this.getPageWidth()},e),O=typeof g.padding=="number"?g.padding:3,j=g.headerBackgroundColor||"#c8c8c8",ie=g.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=R,this.internal.__cell__.margins=L,this.internal.__cell__.table_font_size=U,this.internal.__cell__.padding=O,this.internal.__cell__.headerBackgroundColor=j,this.internal.__cell__.headerTextColor=ie,this.setFontSize(U),p==null)F=C=Object.keys(d[0]),I=C.map(function(){return"left"});else if(Array.isArray(p)&&zr(p[0])==="object")for(C=p.map(function(ke){return ke.name}),F=p.map(function(ke){return ke.prompt||ke.name||""}),I=p.map(function(ke){return ke.align||"left"}),x=0;x<p.length;x+=1)z[p[x].name]=.7499990551181103*p[x].width;else Array.isArray(p)&&typeof p[0]=="string"&&(F=C=p,I=C.map(function(){return"left"}));if(M||Array.isArray(p)&&typeof p[0]=="string")for(x=0;x<C.length;x+=1){for(D[S=C[x]]=d.map(function(ke){return ke[S]}),this.setFont(void 0,"bold"),G.push(this.getTextDimensions(F[x],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),w=D[S],this.setFont(void 0,"normal"),y=0;y<w.length;y+=1)G.push(this.getTextDimensions(w[y],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);z[S]=Math.max.apply(null,G)+O+O,G=[]}if(R){var Ee={};for(x=0;x<C.length;x+=1)Ee[C[x]]={},Ee[C[x]].text=F[x],Ee[C[x]].align=I[x];var ae=o.call(this,Ee,z);P=C.map(function(ke){return new i(c,u,z[ke],ae,Ee[ke].text,void 0,Ee[ke].align)}),this.setTableHeaderRow(P),this.printHeaderRow(1,!1)}var pe=p.reduce(function(ke,ne){return ke[ne.name]=ne.align,ke},{});for(x=0;x<d.length;x+=1){"rowStart"in g&&g.rowStart instanceof Function&&g.rowStart({row:x,data:d[x]},this);var de=o.call(this,d[x],z);for(y=0;y<C.length;y+=1){var oe=d[x][C[y]];"cellStart"in g&&g.cellStart instanceof Function&&g.cellStart({row:x,col:y,data:oe},this),a.call(this,new i(c,u,z[C[y]],de,oe,x+2,pe[C[y]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=u,this};var o=function(c,u){var d=this.internal.__cell__.padding,p=this.internal.__cell__.table_font_size,g=this.internal.scaleFactor;return Object.keys(c).map(function(x){var w=c[x];return this.splitTextToSize(w.hasOwnProperty("text")?w.text:w,u[x]-d-d)},this).map(function(x){return this.getLineHeightFactor()*x.length*p/g+d+d},this).reduce(function(x,w){return Math.max(x,w)},0)};t.setTableHeaderRow=function(c){r.call(this),this.internal.__cell__.tableHeaderRow=c},t.printHeaderRow=function(c,u){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var p=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(p[0],p[1],p[2],p[3],void 0,-1)}this.setFont(void 0,"bold");for(var g=[],x=0;x<this.internal.__cell__.tableHeaderRow.length;x+=1){d=this.internal.__cell__.tableHeaderRow[x].clone(),u&&(d.y=this.internal.__cell__.margins.top||0,g.push(d)),d.lineNumber=c;var w=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,d),this.setTextColor(w)}g.length>0&&this.setTableHeaderRow(g),this.setFont(void 0,"normal"),n=!1}})(gn.API);var UV={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},jV=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],KT=VV(jV),qV=[100,200,300,400,500,600,700,800,900],G0e=VV(qV);function AE(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=(function(i){return UV[i=i||"normal"]?i:"normal"})(t.style),r=(function(i){return i?typeof i=="number"?i>=100&&i<=900&&i%100==0?i:400:/^\d00$/.test(i)?parseInt(i):i==="bold"?700:400:400})(t.weight),s=(function(i){return typeof KT[i=i||"normal"]=="number"?i:"normal"})(t.stretch);return{family:e,style:n,weight:r,stretch:s,src:t.src||[],ref:t.ref||{name:e,style:[s,n,r].join(" ")}}}function kD(t,e,n,r){var s;for(s=n;s>=0&&s<e.length;s+=r)if(t[e[s]])return t[e[s]];for(s=n;s>=0&&s<e.length;s-=r)if(t[e[s]])return t[e[s]]}var $0e={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},RD={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function PD(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function DD(t){return t.trimLeft()}function W0e(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function K0e(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var iy,MD,LD,sp,ay,FD,OD,BD,CE=["times"];function VD(t,e,n,r,s){var i=4,a=jD;switch(s){case gn.API.image_compression.FAST:i=1,a=UD;break;case gn.API.image_compression.MEDIUM:i=6,a=qD;break;case gn.API.image_compression.SLOW:i=9,a=HD}t=(function(c,u,d,p){for(var g,x=c.length/u,w=new Uint8Array(c.length+x),y=[Y0e,UD,jD,qD,HD],S=0;S<x;S+=1){var C=S*u,F=c.subarray(C,C+u);if(p)w.set(p(F,d,g),C+S);else{for(var I=y.length,D=[],z=0;z<I;z+=1)D[z]=y[z](F,d,g);var G=J0e(D.concat());w.set(D[G],C+S)}g=F}return w})(t,e,Math.ceil(n*r/8),a);var o=jT(t,{level:i});return gn.API.__addimage__.arrayBufferToBinaryString(o)}function Y0e(t){var e=Array.apply([],t);return e.unshift(0),e}function UD(t,e){var n=t.length,r=[];r[0]=1;for(var s=0;s<n;s+=1){var i=t[s-e]||0;r[s+1]=t[s]-i+256&255}return r}function jD(t,e,n){var r=t.length,s=[];s[0]=2;for(var i=0;i<r;i+=1){var a=n&&n[i]||0;s[i+1]=t[i]-a+256&255}return s}function qD(t,e,n){var r=t.length,s=[];s[0]=3;for(var i=0;i<r;i+=1){var a=t[i-e]||0,o=n&&n[i]||0;s[i+1]=t[i]+256-(a+o>>>1)&255}return s}function HD(t,e,n){var r=t.length,s=[];s[0]=4;for(var i=0;i<r;i+=1){var a=X0e(t[i-e]||0,n&&n[i]||0,n&&n[i-e]||0);s[i+1]=t[i]-a+256&255}return s}function X0e(t,e,n){if(t===e&&e===n)return t;var r=Math.abs(e-n),s=Math.abs(t-n),i=Math.abs(t+e-n-n);return r<=s&&r<=i?t:s<=i?e:n}function J0e(t){var e=t.map(function(n){return n.reduce(function(r,s){return r+Math.abs(s)},0)});return e.indexOf(Math.min.apply(null,e))}function NE(t,e,n){var r=e*n,s=Math.floor(r/8),i=16-(r-8*s+n),a=(1<<n)-1;return HV(t,s)>>i&a}function zD(t,e,n,r){var s=n*r,i=Math.floor(s/8),a=16-(s-8*i+r),o=(1<<r)-1,c=(e&o)<<a;(function(u,d,p){if(d+1<u.byteLength)u.setUint16(d,p,!1);else{var g=p>>8&255;u.setUint8(d,g)}})(t,i,HV(t,i)&~(o<<a)&65535|c)}function HV(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function Q0e(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,s=t[e++],i=s>>7,a=1<<1+(7&s);t[e++],t[e++];var o=null,c=null;i&&(o=e,c=a,e+=3*a);var u=!0,d=[],p=0,g=null,x=0,w=null;for(this.width=n,this.height=r;u&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,w=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((L=t[e++])>=0))throw Error("Invalid block size");if(L===0)break;e+=L}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var y=t[e++];p=t[e++]|t[e++]<<8,g=t[e++],1&y||(g=null),x=y>>2&7,e++;break;case 254:for(;;){if(!((L=t[e++])>=0))throw Error("Invalid block size");if(L===0)break;e+=L}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var S=t[e++]|t[e++]<<8,C=t[e++]|t[e++]<<8,F=t[e++]|t[e++]<<8,I=t[e++]|t[e++]<<8,D=t[e++],z=D>>6&1,G=1<<1+(7&D),P=o,M=c,R=!1;D>>7&&(R=!0,P=e,M=G,e+=3*G);var U=e;for(e++;;){var L;if(!((L=t[e++])>=0))throw Error("Invalid block size");if(L===0)break;e+=L}d.push({x:S,y:C,width:F,height:I,has_local_palette:R,palette_offset:P,palette_size:M,data_offset:U,data_length:e-U,transparent_index:g,interlaced:!!z,delay:p,disposal:x});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return w},this.frameInfo=function(O){if(O<0||O>=d.length)throw new Error("Frame index out of range.");return d[O]},this.decodeAndBlitFrameBGRA=function(O,j){var ie=this.frameInfo(O),Ee=ie.width*ie.height,ae=new Uint8Array(Ee);GD(t,ie.data_offset,ae,Ee);var pe=ie.palette_offset,de=ie.transparent_index;de===null&&(de=256);var oe=ie.width,ke=n-oe,ne=oe,B=4*(ie.y*n+ie.x),K=4*((ie.y+ie.height)*n+ie.x),Y=B,Q=4*ke;ie.interlaced===!0&&(Q+=4*n*7);for(var ue=8,ge=0,Pe=ae.length;ge<Pe;++ge){var ee=ae[ge];if(ne===0&&(ne=oe,(Y+=Q)>=K&&(Q=4*ke+4*n*(ue-1),Y=B+(oe+ke)*(ue<<1),ue>>=1)),ee===de)Y+=4;else{var Re=t[pe+3*ee],He=t[pe+3*ee+1],he=t[pe+3*ee+2];j[Y++]=he,j[Y++]=He,j[Y++]=Re,j[Y++]=255}--ne}},this.decodeAndBlitFrameRGBA=function(O,j){var ie=this.frameInfo(O),Ee=ie.width*ie.height,ae=new Uint8Array(Ee);GD(t,ie.data_offset,ae,Ee);var pe=ie.palette_offset,de=ie.transparent_index;de===null&&(de=256);var oe=ie.width,ke=n-oe,ne=oe,B=4*(ie.y*n+ie.x),K=4*((ie.y+ie.height)*n+ie.x),Y=B,Q=4*ke;ie.interlaced===!0&&(Q+=4*n*7);for(var ue=8,ge=0,Pe=ae.length;ge<Pe;++ge){var ee=ae[ge];if(ne===0&&(ne=oe,(Y+=Q)>=K&&(Q=4*ke+4*n*(ue-1),Y=B+(oe+ke)*(ue<<1),ue>>=1)),ee===de)Y+=4;else{var Re=t[pe+3*ee],He=t[pe+3*ee+1],he=t[pe+3*ee+2];j[Y++]=Re,j[Y++]=He,j[Y++]=he,j[Y++]=255}--ne}}}function GD(t,e,n,r){for(var s=t[e++],i=1<<s,a=i+1,o=a+1,c=s+1,u=(1<<c)-1,d=0,p=0,g=0,x=t[e++],w=new Int32Array(4096),y=null;;){for(;d<16&&x!==0;)p|=t[e++]<<d,d+=8,x===1?x=t[e++]:--x;if(d<c)break;var S=p&u;if(p>>=c,d-=c,S!==i){if(S===a)break;for(var C=S<o?S:y,F=0,I=C;I>i;)I=w[I]>>8,++F;var D=I;if(g+F+(C!==S?1:0)>r)return void ls.log("Warning, gif stream longer than expected.");n[g++]=D;var z=g+=F;for(C!==S&&(n[g++]=D),I=C;F--;)I=w[I],n[--z]=255&I,I>>=8;y!==null&&o<4096&&(w[o++]=y<<8|D,o>=u+1&&c<12&&(++c,u=u<<1|1)),y=S}else o=a+1,u=(1<<(c=s+1))-1,y=null}return g!==r&&ls.log("Warning, gif stream shorter than expected."),n}function IE(t){var e,n,r,s,i,a=Math.floor,o=new Array(64),c=new Array(64),u=new Array(64),d=new Array(64),p=new Array(65535),g=new Array(65535),x=new Array(64),w=new Array(64),y=[],S=0,C=7,F=new Array(64),I=new Array(64),D=new Array(64),z=new Array(256),G=new Array(2048),P=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],M=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],R=[0,1,2,3,4,5,6,7,8,9,10,11],U=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],L=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],O=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],j=[0,1,2,3,4,5,6,7,8,9,10,11],ie=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Ee=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ae(B,K){for(var Y=0,Q=0,ue=new Array,ge=1;ge<=16;ge++){for(var Pe=1;Pe<=B[ge];Pe++)ue[K[Q]]=[],ue[K[Q]][0]=Y,ue[K[Q]][1]=ge,Q++,Y++;Y*=2}return ue}function pe(B){for(var K=B[0],Y=B[1]-1;Y>=0;)K&1<<Y&&(S|=1<<C),Y--,--C<0&&(S==255?(de(255),de(0)):de(S),C=7,S=0)}function de(B){y.push(B)}function oe(B){de(B>>8&255),de(255&B)}function ke(B,K,Y,Q,ue){for(var ge,Pe=ue[0],ee=ue[240],Re=(function(je,yt){var St,Rt,Ut,Jt,zt,Gt,Nn,Qt,Lt,kt,At=0;for(Lt=0;Lt<8;++Lt){St=je[At],Rt=je[At+1],Ut=je[At+2],Jt=je[At+3],zt=je[At+4],Gt=je[At+5],Nn=je[At+6];var zn=St+(Qt=je[At+7]),Ot=St-Qt,Ct=Rt+Nn,Ht=Rt-Nn,vn=Ut+Gt,fn=Ut-Gt,Zn=Jt+zt,xn=Jt-zt,pn=zn+Zn,cr=zn-Zn,dn=Ct+vn,Kt=Ct-vn;je[At]=pn+dn,je[At+4]=pn-dn;var On=.707106781*(Kt+cr);je[At+2]=cr+On,je[At+6]=cr-On;var us=.382683433*((pn=xn+fn)-(Kt=Ht+Ot)),fs=.5411961*pn+us,Li=1.306562965*Kt+us,ns=.707106781*(dn=fn+Ht),hn=Ot+ns,Fe=Ot-ns;je[At+5]=Fe+fs,je[At+3]=Fe-fs,je[At+1]=hn+Li,je[At+7]=hn-Li,At+=8}for(At=0,Lt=0;Lt<8;++Lt){St=je[At],Rt=je[At+8],Ut=je[At+16],Jt=je[At+24],zt=je[At+32],Gt=je[At+40],Nn=je[At+48];var Mt=St+(Qt=je[At+56]),jt=St-Qt,Yn=Rt+Nn,Zt=Rt-Nn,Gn=Ut+Gt,se=Ut-Gt,_e=Jt+zt,ve=Jt-zt,be=Mt+_e,Te=Mt-_e,Ae=Yn+Gn,Ue=Yn-Gn;je[At]=be+Ae,je[At+32]=be-Ae;var at=.707106781*(Ue+Te);je[At+16]=Te+at,je[At+48]=Te-at;var Be=.382683433*((be=ve+se)-(Ue=Zt+jt)),$e=.5411961*be+Be,Qe=1.306562965*Ue+Be,bt=.707106781*(Ae=se+Zt),Tt=jt+bt,Dt=jt-bt;je[At+40]=Dt+$e,je[At+24]=Dt-$e,je[At+8]=Tt+Qe,je[At+56]=Tt-Qe,At++}for(Lt=0;Lt<64;++Lt)kt=je[Lt]*yt[Lt],x[Lt]=kt>0?kt+.5|0:kt-.5|0;return x})(B,K),He=0;He<64;++He)w[P[He]]=Re[He];var he=w[0]-Y;Y=w[0],he==0?pe(Q[0]):(pe(Q[g[ge=32767+he]]),pe(p[ge]));for(var Se=63;Se>0&&w[Se]==0;)Se--;if(Se==0)return pe(Pe),Y;for(var We,le=1;le<=Se;){for(var Ge=le;w[le]==0&&le<=Se;)++le;var st=le-Ge;if(st>=16){We=st>>4;for(var Et=1;Et<=We;++Et)pe(ee);st&=15}ge=32767+w[le],pe(ue[(st<<4)+g[ge]]),pe(p[ge]),le++}return Se!=63&&pe(Pe),Y}function ne(B){B=Math.min(Math.max(B,1),100),i!=B&&((function(K){for(var Y=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Q=0;Q<64;Q++){var ue=a((Y[Q]*K+50)/100);ue=Math.min(Math.max(ue,1),255),o[P[Q]]=ue}for(var ge=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Pe=0;Pe<64;Pe++){var ee=a((ge[Pe]*K+50)/100);ee=Math.min(Math.max(ee,1),255),c[P[Pe]]=ee}for(var Re=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],He=0,he=0;he<8;he++)for(var Se=0;Se<8;Se++)u[He]=1/(o[P[He]]*Re[he]*Re[Se]*8),d[He]=1/(c[P[He]]*Re[he]*Re[Se]*8),He++})(B<50?Math.floor(5e3/B):Math.floor(200-2*B)),i=B)}this.encode=function(B,K){K&&ne(K),y=new Array,S=0,C=7,oe(65496),oe(65504),oe(16),de(74),de(70),de(73),de(70),de(0),de(1),de(1),de(0),oe(1),oe(1),de(0),de(0),(function(){oe(65499),oe(132),de(0);for(var Rt=0;Rt<64;Rt++)de(o[Rt]);de(1);for(var Ut=0;Ut<64;Ut++)de(c[Ut])})(),(function(Rt,Ut){oe(65472),oe(17),de(8),oe(Ut),oe(Rt),de(3),de(1),de(17),de(0),de(2),de(17),de(1),de(3),de(17),de(1)})(B.width,B.height),(function(){oe(65476),oe(418),de(0);for(var Rt=0;Rt<16;Rt++)de(M[Rt+1]);for(var Ut=0;Ut<=11;Ut++)de(R[Ut]);de(16);for(var Jt=0;Jt<16;Jt++)de(U[Jt+1]);for(var zt=0;zt<=161;zt++)de(L[zt]);de(1);for(var Gt=0;Gt<16;Gt++)de(O[Gt+1]);for(var Nn=0;Nn<=11;Nn++)de(j[Nn]);de(17);for(var Qt=0;Qt<16;Qt++)de(ie[Qt+1]);for(var Lt=0;Lt<=161;Lt++)de(Ee[Lt])})(),oe(65498),oe(12),de(3),de(1),de(0),de(2),de(17),de(3),de(17),de(0),de(63),de(0);var Y=0,Q=0,ue=0;S=0,C=7,this.encode.displayName="_encode_";for(var ge,Pe,ee,Re,He,he,Se,We,le,Ge=B.data,st=B.width,Et=B.height,je=4*st,yt=0;yt<Et;){for(ge=0;ge<je;){for(He=je*yt+ge,Se=-1,We=0,le=0;le<64;le++)he=He+(We=le>>3)*je+(Se=4*(7&le)),yt+We>=Et&&(he-=je*(yt+1+We-Et)),ge+Se>=je&&(he-=ge+Se-je+4),Pe=Ge[he++],ee=Ge[he++],Re=Ge[he++],F[le]=(G[Pe]+G[ee+256|0]+G[Re+512|0]>>16)-128,I[le]=(G[Pe+768|0]+G[ee+1024|0]+G[Re+1280|0]>>16)-128,D[le]=(G[Pe+1280|0]+G[ee+1536|0]+G[Re+1792|0]>>16)-128;Y=ke(F,u,Y,e,r),Q=ke(I,d,Q,n,s),ue=ke(D,d,ue,n,s),ge+=32}yt+=8}if(C>=0){var St=[];St[1]=C+1,St[0]=(1<<C+1)-1,pe(St)}return oe(65497),new Uint8Array(y)},t=t||50,(function(){for(var B=String.fromCharCode,K=0;K<256;K++)z[K]=B(K)})(),e=ae(M,R),n=ae(O,j),r=ae(U,L),s=ae(ie,Ee),(function(){for(var B=1,K=2,Y=1;Y<=15;Y++){for(var Q=B;Q<K;Q++)g[32767+Q]=Y,p[32767+Q]=[],p[32767+Q][1]=Y,p[32767+Q][0]=Q;for(var ue=-(K-1);ue<=-B;ue++)g[32767+ue]=Y,p[32767+ue]=[],p[32767+ue][1]=Y,p[32767+ue][0]=K-1+ue;B<<=1,K<<=1}})(),(function(){for(var B=0;B<256;B++)G[B]=19595*B,G[B+256|0]=38470*B,G[B+512|0]=7471*B+32768,G[B+768|0]=-11059*B,G[B+1024|0]=-21709*B,G[B+1280|0]=32768*B+8421375,G[B+1536|0]=-27439*B,G[B+1792|0]=-5329*B})(),ne(t)}function Ql(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function $D(t){function e(R){if(!R)throw Error("assert :P")}function n(R,U,L){for(var O=0;4>O;O++)if(R[U+O]!=L.charCodeAt(O))return!0;return!1}function r(R,U,L,O,j){for(var ie=0;ie<j;ie++)R[U+ie]=L[O+ie]}function s(R,U,L,O){for(var j=0;j<O;j++)R[U+j]=L}function i(R){return new Int32Array(R)}function a(R,U){for(var L=[],O=0;O<R;O++)L.push(new U);return L}function o(R,U){var L=[];return(function O(j,ie,Ee){for(var ae=Ee[ie],pe=0;pe<ae&&(j.push(Ee.length>ie+1?[]:new U),!(Ee.length<ie+1));pe++)O(j[pe],ie+1,Ee)})(L,0,R),L}var c=function(){var R=this;function U(_,N){for(var q=1<<N-1>>>0;_&q;)q>>>=1;return q?(_&q-1)+q:_}function L(_,N,q,W,re){e(!(W%q));do _[N+(W-=q)]=re;while(0<W)}function O(_,N,q,W,re){if(e(2328>=re),512>=re)var ce=i(512);else if((ce=i(re))==null)return 0;return(function(fe,xe,we,Ie,Le,Ze){var Ce,Ve,Ye=xe,ut=1<<we,Xe=i(16),lt=i(16);for(e(Le!=0),e(Ie!=null),e(fe!=null),e(0<we),Ve=0;Ve<Le;++Ve){if(15<Ie[Ve])return 0;++Xe[Ie[Ve]]}if(Xe[0]==Le)return 0;for(lt[1]=0,Ce=1;15>Ce;++Ce){if(Xe[Ce]>1<<Ce)return 0;lt[Ce+1]=lt[Ce]+Xe[Ce]}for(Ve=0;Ve<Le;++Ve)Ce=Ie[Ve],0<Ie[Ve]&&(Ze[lt[Ce]++]=Ve);if(lt[15]==1)return(Ie=new j).g=0,Ie.value=Ze[0],L(fe,Ye,1,ut,Ie),ut;var ht,_t=-1,xt=ut-1,sn=0,$t=1,Mn=1,en=1<<we;for(Ve=0,Ce=1,Le=2;Ce<=we;++Ce,Le<<=1){if($t+=Mn<<=1,0>(Mn-=Xe[Ce]))return 0;for(;0<Xe[Ce];--Xe[Ce])(Ie=new j).g=Ce,Ie.value=Ze[Ve++],L(fe,Ye+sn,Le,en,Ie),sn=U(sn,Ce)}for(Ce=we+1,Le=2;15>=Ce;++Ce,Le<<=1){if($t+=Mn<<=1,0>(Mn-=Xe[Ce]))return 0;for(;0<Xe[Ce];--Xe[Ce]){if(Ie=new j,(sn&xt)!=_t){for(Ye+=en,ht=1<<(_t=Ce)-we;15>_t&&!(0>=(ht-=Xe[_t]));)++_t,ht<<=1;ut+=en=1<<(ht=_t-we),fe[xe+(_t=sn&xt)].g=ht+we,fe[xe+_t].value=Ye-xe-_t}Ie.g=Ce-we,Ie.value=Ze[Ve++],L(fe,Ye+(sn>>we),Le,en,Ie),sn=U(sn,Ce)}}return $t!=2*lt[15]-1?0:ut})(_,N,q,W,re,ce)}function j(){this.value=this.g=0}function ie(){this.value=this.g=0}function Ee(){this.G=a(5,j),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(wc,ie)}function ae(_,N,q,W){e(_!=null),e(N!=null),e(2147483648>W),_.Ca=254,_.I=0,_.b=-8,_.Ka=0,_.oa=N,_.pa=q,_.Jd=N,_.Yc=q+W,_.Zc=4<=W?q+W-4+1:q,Pe(_)}function pe(_,N){for(var q=0;0<N--;)q|=Re(_,128)<<N;return q}function de(_,N){var q=pe(_,N);return ee(_)?-q:q}function oe(_,N,q,W){var re,ce=0;for(e(_!=null),e(N!=null),e(4294967288>W),_.Sb=W,_.Ra=0,_.u=0,_.h=0,4<W&&(W=4),re=0;re<W;++re)ce+=N[q+re]<<8*re;_.Ra=ce,_.bb=W,_.oa=N,_.pa=q}function ke(_){for(;8<=_.u&&_.bb<_.Sb;)_.Ra>>>=8,_.Ra+=_.oa[_.pa+_.bb]<<al-8>>>0,++_.bb,_.u-=8;Q(_)&&(_.h=1,_.u=0)}function ne(_,N){if(e(0<=N),!_.h&&N<=ra){var q=Y(_)&xa[N];return _.u+=N,ke(_),q}return _.h=1,_.u=0}function B(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function K(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Y(_){return _.Ra>>>(_.u&al-1)>>>0}function Q(_){return e(_.bb<=_.Sb),_.h||_.bb==_.Sb&&_.u>al}function ue(_,N){_.u=N,_.h=Q(_)}function ge(_){_.u>=ol&&(e(_.u>=ol),ke(_))}function Pe(_){e(_!=null&&_.oa!=null),_.pa<_.Zc?(_.I=(_.oa[_.pa++]|_.I<<8)>>>0,_.b+=8):(e(_!=null&&_.oa!=null),_.pa<_.Yc?(_.b+=8,_.I=_.oa[_.pa++]|_.I<<8):_.Ka?_.b=0:(_.I<<=8,_.b+=8,_.Ka=1))}function ee(_){return pe(_,1)}function Re(_,N){var q=_.Ca;0>_.b&&Pe(_);var W=_.b,re=q*N>>>8,ce=(_.I>>>W>re)+0;for(ce?(q-=re,_.I-=re+1<<W>>>0):q=re+1,W=q,re=0;256<=W;)re+=8,W>>=8;return W=7^re+Bl[W],_.b-=W,_.Ca=(q<<W)-1,ce}function He(_,N,q){_[N+0]=q>>24&255,_[N+1]=q>>16&255,_[N+2]=q>>8&255,_[N+3]=255&q}function he(_,N){return _[N+0]|_[N+1]<<8}function Se(_,N){return he(_,N)|_[N+2]<<16}function We(_,N){return he(_,N)|he(_,N+2)<<16}function le(_,N){var q=1<<N;return e(_!=null),e(0<N),_.X=i(q),_.X==null?0:(_.Mb=32-N,_.Xa=N,1)}function Ge(_,N){e(_!=null),e(N!=null),e(_.Xa==N.Xa),r(N.X,0,_.X,0,1<<N.Xa)}function st(){this.X=[],this.Xa=this.Mb=0}function Et(_,N,q,W){e(q!=null),e(W!=null);var re=q[0],ce=W[0];return re==0&&(re=(_*ce+N/2)/N),ce==0&&(ce=(N*re+_/2)/_),0>=re||0>=ce?0:(q[0]=re,W[0]=ce,1)}function je(_,N){return _+(1<<N)-1>>>N}function yt(_,N){return((4278255360&_)+(4278255360&N)>>>0&4278255360)+((16711935&_)+(16711935&N)>>>0&16711935)>>>0}function St(_,N){R[N]=function(q,W,re,ce,fe,xe,we){var Ie;for(Ie=0;Ie<fe;++Ie){var Le=R[_](xe[we+Ie-1],re,ce+Ie);xe[we+Ie]=yt(q[W+Ie],Le)}}}function Rt(){this.ud=this.hd=this.jd=0}function Ut(_,N){return((4278124286&(_^N))>>>1)+(_&N)>>>0}function Jt(_){return 0<=_&&256>_?_:0>_?0:255<_?255:void 0}function zt(_,N){return Jt(_+(_-N+.5>>1))}function Gt(_,N,q){return Math.abs(N-q)-Math.abs(_-q)}function Nn(_,N,q,W,re,ce,fe){for(W=ce[fe-1],q=0;q<re;++q)ce[fe+q]=W=yt(_[N+q],W)}function Qt(_,N,q,W,re){var ce;for(ce=0;ce<q;++ce){var fe=_[N+ce],xe=fe>>8&255,we=16711935&(we=(we=16711935&fe)+((xe<<16)+xe));W[re+ce]=(4278255360&fe)+we>>>0}}function Lt(_,N){N.jd=255&_,N.hd=_>>8&255,N.ud=_>>16&255}function kt(_,N,q,W,re,ce){var fe;for(fe=0;fe<W;++fe){var xe=N[q+fe],we=xe>>>8,Ie=xe,Le=255&(Le=(Le=xe>>>16)+((_.jd<<24>>24)*(we<<24>>24)>>>5));Ie=255&(Ie=(Ie+=(_.hd<<24>>24)*(we<<24>>24)>>>5)+((_.ud<<24>>24)*(Le<<24>>24)>>>5)),re[ce+fe]=(4278255360&xe)+(Le<<16)+Ie}}function At(_,N,q,W,re){R[N]=function(ce,fe,xe,we,Ie,Le,Ze,Ce,Ve){for(we=Ze;we<Ce;++we)for(Ze=0;Ze<Ve;++Ze)Ie[Le++]=re(xe[W(ce[fe++])])},R[_]=function(ce,fe,xe,we,Ie,Le,Ze){var Ce=8>>ce.b,Ve=ce.Ea,Ye=ce.K[0],ut=ce.w;if(8>Ce)for(ce=(1<<ce.b)-1,ut=(1<<Ce)-1;fe<xe;++fe){var Xe,lt=0;for(Xe=0;Xe<Ve;++Xe)Xe&ce||(lt=W(we[Ie++])),Le[Ze++]=re(Ye[lt&ut]),lt>>=Ce}else R["VP8LMapColor"+q](we,Ie,Ye,ut,Le,Ze,fe,xe,Ve)}}function zn(_,N,q,W,re){for(q=N+q;N<q;){var ce=_[N++];W[re++]=ce>>16&255,W[re++]=ce>>8&255,W[re++]=255&ce}}function Ot(_,N,q,W,re){for(q=N+q;N<q;){var ce=_[N++];W[re++]=ce>>16&255,W[re++]=ce>>8&255,W[re++]=255&ce,W[re++]=ce>>24&255}}function Ct(_,N,q,W,re){for(q=N+q;N<q;){var ce=(fe=_[N++])>>16&240|fe>>12&15,fe=240&fe|fe>>28&15;W[re++]=ce,W[re++]=fe}}function Ht(_,N,q,W,re){for(q=N+q;N<q;){var ce=(fe=_[N++])>>16&248|fe>>13&7,fe=fe>>5&224|fe>>3&31;W[re++]=ce,W[re++]=fe}}function vn(_,N,q,W,re){for(q=N+q;N<q;){var ce=_[N++];W[re++]=255&ce,W[re++]=ce>>8&255,W[re++]=ce>>16&255}}function fn(_,N,q,W,re,ce){if(ce==0)for(q=N+q;N<q;)He(W,((ce=_[N++])[0]>>24|ce[1]>>8&65280|ce[2]<<8&16711680|ce[3]<<24)>>>0),re+=32;else r(W,re,_,N,q)}function Zn(_,N){R[N][0]=R[_+"0"],R[N][1]=R[_+"1"],R[N][2]=R[_+"2"],R[N][3]=R[_+"3"],R[N][4]=R[_+"4"],R[N][5]=R[_+"5"],R[N][6]=R[_+"6"],R[N][7]=R[_+"7"],R[N][8]=R[_+"8"],R[N][9]=R[_+"9"],R[N][10]=R[_+"10"],R[N][11]=R[_+"11"],R[N][12]=R[_+"12"],R[N][13]=R[_+"13"],R[N][14]=R[_+"0"],R[N][15]=R[_+"0"]}function xn(_){return _==Yd||_==w0||_==_f||_==_0}function pn(){this.eb=[],this.size=this.A=this.fb=0}function cr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function dn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new pn,this.f.kb=new cr,this.sd=null}function Kt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function On(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function us(_){return alert("todo:WebPSamplerProcessPlane"),_.T}function fs(_,N){var q=_.T,W=N.ba.f.RGBA,re=W.eb,ce=W.fb+_.ka*W.A,fe=Ei[N.ba.S],xe=_.y,we=_.O,Ie=_.f,Le=_.N,Ze=_.ea,Ce=_.W,Ve=N.cc,Ye=N.dc,ut=N.Mc,Xe=N.Nc,lt=_.ka,ht=_.ka+_.T,_t=_.U,xt=_t+1>>1;for(lt==0?fe(xe,we,null,null,Ie,Le,Ze,Ce,Ie,Le,Ze,Ce,re,ce,null,null,_t):(fe(N.ec,N.fc,xe,we,Ve,Ye,ut,Xe,Ie,Le,Ze,Ce,re,ce-W.A,re,ce,_t),++q);lt+2<ht;lt+=2)Ve=Ie,Ye=Le,ut=Ze,Xe=Ce,Le+=_.Rc,Ce+=_.Rc,ce+=2*W.A,fe(xe,(we+=2*_.fa)-_.fa,xe,we,Ve,Ye,ut,Xe,Ie,Le,Ze,Ce,re,ce-W.A,re,ce,_t);return we+=_.fa,_.j+ht<_.o?(r(N.ec,N.fc,xe,we,_t),r(N.cc,N.dc,Ie,Le,xt),r(N.Mc,N.Nc,Ze,Ce,xt),q--):1&ht||fe(xe,we,null,null,Ie,Le,Ze,Ce,Ie,Le,Ze,Ce,re,ce+W.A,null,null,_t),q}function Li(_,N,q){var W=_.F,re=[_.J];if(W!=null){var ce=_.U,fe=N.ba.S,xe=fe==Kd||fe==_f;N=N.ba.f.RGBA;var we=[0],Ie=_.ka;we[0]=_.T,_.Kb&&(Ie==0?--we[0]:(--Ie,re[0]-=_.width),_.j+_.ka+_.T==_.o&&(we[0]=_.o-_.j-Ie));var Le=N.eb;Ie=N.fb+Ie*N.A,_=zd(W,re[0],_.width,ce,we,Le,Ie+(xe?0:3),N.A),e(q==we),_&&xn(fe)&&bu(Le,Ie,xe,ce,we,N.A)}return 0}function ns(_){var N=_.ma,q=N.ba.S,W=11>q,re=q==ji||q==lo||q==Kd||q==wf||q==12||xn(q);if(N.memory=null,N.Ib=null,N.Jb=null,N.Nd=null,!Ol(N.Oa,_,re?11:12))return 0;if(re&&xn(q)&&Rn(),_.da)alert("todo:use_scaling");else{if(W){if(N.Ib=us,_.Kb){if(q=_.U+1>>1,N.memory=i(_.U+2*q),N.memory==null)return 0;N.ec=N.memory,N.fc=0,N.cc=N.ec,N.dc=N.fc+_.U,N.Mc=N.cc,N.Nc=N.dc+q,N.Ib=fs,Rn()}}else alert("todo:EmitYUV");re&&(N.Jb=Li,W&&nt())}if(W&&!Nc){for(_=0;256>_;++_)Ti[_]=89858*(_-128)+Sf>>mo,dw[_]=-22014*(_-128)+Sf,Xx[_]=-45773*(_-128),C0[_]=113618*(_-128)+Sf>>mo;for(_=Tu;_<Cc;++_)N=76283*(_-16)+Sf>>mo,hw[_-Tu]=rs(N,255),pw[_-Tu]=rs(N+8>>4,15);Nc=1}return 1}function hn(_){var N=_.ma,q=_.U,W=_.T;return e(!(1&_.ka)),0>=q||0>=W?0:(q=N.Ib(_,N),N.Jb!=null&&N.Jb(_,N,q),N.Dc+=q,1)}function Fe(_){_.ma.memory=null}function Mt(_,N,q,W){return ne(_,8)!=47?0:(N[0]=ne(_,14)+1,q[0]=ne(_,14)+1,W[0]=ne(_,1),ne(_,3)!=0?0:!_.h)}function jt(_,N){if(4>_)return _+1;var q=_-2>>1;return(2+(1&_)<<q)+ne(N,q)+1}function Yn(_,N){return 120<N?N-120:1<=(q=((q=uo[N-1])>>4)*_+(8-(15&q)))?q:1;var q}function Zt(_,N,q){var W=Y(q),re=_[N+=255&W].g-8;return 0<re&&(ue(q,q.u+8),W=Y(q),N+=_[N].value,N+=W&(1<<re)-1),ue(q,q.u+_[N].g),_[N].value}function Gn(_,N,q){return q.g+=_.g,q.value+=_.value<<N>>>0,e(8>=q.g),_.g}function se(_,N,q){var W=_.xc;return e((N=W==0?0:_.vc[_.md*(q>>W)+(N>>W)])<_.Wb),_.Ya[N]}function _e(_,N,q,W){var re=_.ab,ce=_.c*N,fe=_.C;N=fe+N;var xe=q,we=W;for(W=_.Ta,q=_.Ua;0<re--;){var Ie=_.gc[re],Le=fe,Ze=N,Ce=xe,Ve=we,Ye=(we=W,xe=q,Ie.Ea);switch(e(Le<Ze),e(Ze<=Ie.nc),Ie.hc){case 2:ks(Ce,Ve,(Ze-Le)*Ye,we,xe);break;case 0:var ut=Le,Xe=Ze,lt=we,ht=xe,_t=(en=Ie).Ea;ut==0&&(xf(Ce,Ve,null,null,1,lt,ht),Nn(Ce,Ve+1,0,0,_t-1,lt,ht+1),Ve+=_t,ht+=_t,++ut);for(var xt=1<<en.b,sn=xt-1,$t=je(_t,en.b),Mn=en.K,en=en.w+(ut>>en.b)*$t;ut<Xe;){var sr=Mn,as=en,Un=1;for(vf(Ce,Ve,lt,ht-_t,1,lt,ht);Un<_t;){var Wt=(Un&~sn)+xt;Wt>_t&&(Wt=_t),(0,Vl[sr[as++]>>8&15])(Ce,Ve+ +Un,lt,ht+Un-_t,Wt-Un,lt,ht+Un),Un=Wt}Ve+=_t,ht+=_t,++ut&sn||(en+=$t)}Ze!=Ie.nc&&r(we,xe-Ye,we,xe+(Ze-Le-1)*Ye,Ye);break;case 1:for(Ye=Ce,Xe=Ve,_t=(Ce=Ie.Ea)-(ht=Ce&~(lt=(Ve=1<<Ie.b)-1)),ut=je(Ce,Ie.b),xt=Ie.K,Ie=Ie.w+(Le>>Ie.b)*ut;Le<Ze;){for(sn=xt,$t=Ie,Mn=new Rt,en=Xe+ht,sr=Xe+Ce;Xe<en;)Lt(sn[$t++],Mn),yf(Mn,Ye,Xe,Ve,we,xe),Xe+=Ve,xe+=Ve;Xe<sr&&(Lt(sn[$t++],Mn),yf(Mn,Ye,Xe,_t,we,xe),Xe+=_t,xe+=_t),++Le&lt||(Ie+=ut)}break;case 3:if(Ce==we&&Ve==xe&&0<Ie.b){for(Xe=we,Ce=Ye=xe+(Ze-Le)*Ye-(ht=(Ze-Le)*je(Ie.Ea,Ie.b)),Ve=we,lt=xe,ut=[],ht=(_t=ht)-1;0<=ht;--ht)ut[ht]=Ve[lt+ht];for(ht=_t-1;0<=ht;--ht)Xe[Ce+ht]=ut[ht];g0(Ie,Le,Ze,we,Ye,we,xe)}else g0(Ie,Le,Ze,Ce,Ve,we,xe)}xe=W,we=q}we!=q&&r(W,q,xe,we,ce)}function ve(_,N){var q=_.V,W=_.Ba+_.c*_.C,re=N-_.C;if(e(N<=_.l.o),e(16>=re),0<re){var ce=_.l,fe=_.Ta,xe=_.Ua,we=ce.width;if(_e(_,re,q,W),re=xe=[xe],e((q=_.C)<(W=N)),e(ce.v<ce.va),W>ce.o&&(W=ce.o),q<ce.j){var Ie=ce.j-q;q=ce.j,re[0]+=Ie*we}if(q>=W?q=0:(re[0]+=4*ce.v,ce.ka=q-ce.j,ce.U=ce.va-ce.v,ce.T=W-q,q=1),q){if(xe=xe[0],11>(q=_.ca).S){var Le=q.f.RGBA,Ze=(W=q.S,re=ce.U,ce=ce.T,Ie=Le.eb,Le.A),Ce=ce;for(Le=Le.fb+_.Ma*Le.A;0<Ce--;){var Ve=fe,Ye=xe,ut=re,Xe=Ie,lt=Le;switch(W){case y0:bf(Ve,Ye,ut,Xe,lt);break;case ji:Ul(Ve,Ye,ut,Xe,lt);break;case Yd:Ul(Ve,Ye,ut,Xe,lt),bu(Xe,lt,0,ut,1,0);break;case b0:vu(Ve,Ye,ut,Xe,lt);break;case lo:fn(Ve,Ye,ut,Xe,lt,1);break;case w0:fn(Ve,Ye,ut,Xe,lt,1),bu(Xe,lt,0,ut,1,0);break;case Kd:fn(Ve,Ye,ut,Xe,lt,0);break;case _f:fn(Ve,Ye,ut,Xe,lt,0),bu(Xe,lt,1,ut,1,0);break;case wf:jl(Ve,Ye,ut,Xe,lt);break;case _0:jl(Ve,Ye,ut,Xe,lt),oo(Xe,lt,ut,1,0);break;case _c:ul(Ve,Ye,ut,Xe,lt);break;default:e(0)}xe+=we,Le+=Ze}_.Ma+=ce}else alert("todo:EmitRescaledRowsYUVA");e(_.Ma<=q.height)}}_.C=N,e(_.C<=_.i)}function be(_){var N;if(0<_.ua)return 0;for(N=0;N<_.Wb;++N){var q=_.Ya[N].G,W=_.Ya[N].H;if(0<q[1][W[1]+0].g||0<q[2][W[2]+0].g||0<q[3][W[3]+0].g)return 0}return 1}function Te(_,N,q,W,re,ce){if(_.Z!=0){var fe=_.qd,xe=_.rd;for(e(zl[_.Z]!=null);N<q;++N)zl[_.Z](fe,xe,W,re,W,re,ce),fe=W,xe=re,re+=ce;_.qd=fe,_.rd=xe}}function Ae(_,N){var q=_.l.ma,W=q.Z==0||q.Z==1?_.l.j:_.C;if(W=_.C<W?W:_.C,e(N<=_.l.o),N>W){var re=_.l.width,ce=q.ca,fe=q.tb+re*W,xe=_.V,we=_.Ba+_.c*W,Ie=_.gc;e(_.ab==1),e(Ie[0].hc==3),cl(Ie[0],W,N,xe,we,ce,fe),Te(q,W,N,ce,fe,re)}_.C=_.Ma=N}function Ue(_,N,q,W,re,ce,fe){var xe=_.$/W,we=_.$%W,Ie=_.m,Le=_.s,Ze=q+_.$,Ce=Ze;re=q+W*re;var Ve=q+W*ce,Ye=280+Le.ua,ut=_.Pb?xe:16777216,Xe=0<Le.ua?Le.Wa:null,lt=Le.wc,ht=Ze<Ve?se(Le,we,xe):null;e(_.C<ce),e(Ve<=re);var _t=!1;e:for(;;){for(;_t||Ze<Ve;){var xt=0;if(xe>=ut){var sn=Ze-q;e((ut=_).Pb),ut.wd=ut.m,ut.xd=sn,0<ut.s.ua&&Ge(ut.s.Wa,ut.s.vb),ut=xe+Ec}if(we&lt||(ht=se(Le,we,xe)),e(ht!=null),ht.Qb&&(N[Ze]=ht.qb,_t=!0),!_t)if(ge(Ie),ht.jc){xt=Ie,sn=N;var $t=Ze,Mn=ht.pd[Y(xt)&wc-1];e(ht.jc),256>Mn.g?(ue(xt,xt.u+Mn.g),sn[$t]=Mn.value,xt=0):(ue(xt,xt.u+Mn.g-256),e(256<=Mn.value),xt=Mn.value),xt==0&&(_t=!0)}else xt=Zt(ht.G[0],ht.H[0],Ie);if(Ie.h)break;if(_t||256>xt){if(!_t)if(ht.nd)N[Ze]=(ht.qb|xt<<8)>>>0;else{if(ge(Ie),_t=Zt(ht.G[1],ht.H[1],Ie),ge(Ie),sn=Zt(ht.G[2],ht.H[2],Ie),$t=Zt(ht.G[3],ht.H[3],Ie),Ie.h)break;N[Ze]=($t<<24|_t<<16|xt<<8|sn)>>>0}if(_t=!1,++Ze,++we>=W&&(we=0,++xe,fe!=null&&xe<=ce&&!(xe%16)&&fe(_,xe),Xe!=null))for(;Ce<Ze;)xt=N[Ce++],Xe.X[(506832829*xt&4294967295)>>>Xe.Mb]=xt}else if(280>xt){if(xt=jt(xt-256,Ie),sn=Zt(ht.G[4],ht.H[4],Ie),ge(Ie),sn=Yn(W,sn=jt(sn,Ie)),Ie.h)break;if(Ze-q<sn||re-Ze<xt)break e;for($t=0;$t<xt;++$t)N[Ze+$t]=N[Ze+$t-sn];for(Ze+=xt,we+=xt;we>=W;)we-=W,++xe,fe!=null&&xe<=ce&&!(xe%16)&&fe(_,xe);if(e(Ze<=re),we&lt&&(ht=se(Le,we,xe)),Xe!=null)for(;Ce<Ze;)xt=N[Ce++],Xe.X[(506832829*xt&4294967295)>>>Xe.Mb]=xt}else{if(!(xt<Ye))break e;for(_t=xt-280,e(Xe!=null);Ce<Ze;)xt=N[Ce++],Xe.X[(506832829*xt&4294967295)>>>Xe.Mb]=xt;xt=Ze,e(!(_t>>>(sn=Xe).Xa)),N[xt]=sn.X[_t],_t=!0}_t||e(Ie.h==Q(Ie))}if(_.Pb&&Ie.h&&Ze<re)e(_.m.h),_.a=5,_.m=_.wd,_.$=_.xd,0<_.s.ua&&Ge(_.s.vb,_.s.Wa);else{if(Ie.h)break e;fe?.(_,xe>ce?ce:xe),_.a=0,_.$=Ze-q}return 1}return _.a=3,0}function at(_){e(_!=null),_.vc=null,_.yc=null,_.Ya=null;var N=_.Wa;N!=null&&(N.X=null),_.vb=null,e(_!=null)}function Be(){var _=new En;return _==null?null:(_.a=0,_.xb=Ym,Zn("Predictor","VP8LPredictors"),Zn("Predictor","VP8LPredictors_C"),Zn("PredictorAdd","VP8LPredictorsAdd"),Zn("PredictorAdd","VP8LPredictorsAdd_C"),ks=Qt,yf=kt,bf=zn,Ul=Ot,jl=Ct,ul=Ht,vu=vn,R.VP8LMapColor32b=ll,R.VP8LMapColor8b=bi,_)}function $e(_,N,q,W,re){var ce=1,fe=[_],xe=[N],we=W.m,Ie=W.s,Le=null,Ze=0;e:for(;;){if(q)for(;ce&&ne(we,1);){var Ce=fe,Ve=xe,Ye=W,ut=1,Xe=Ye.m,lt=Ye.gc[Ye.ab],ht=ne(Xe,2);if(Ye.Oc&1<<ht)ce=0;else{switch(Ye.Oc|=1<<ht,lt.hc=ht,lt.Ea=Ce[0],lt.nc=Ve[0],lt.K=[null],++Ye.ab,e(4>=Ye.ab),ht){case 0:case 1:lt.b=ne(Xe,3)+2,ut=$e(je(lt.Ea,lt.b),je(lt.nc,lt.b),0,Ye,lt.K),lt.K=lt.K[0];break;case 3:var _t,xt=ne(Xe,8)+1,sn=16<xt?0:4<xt?1:2<xt?2:3;if(Ce[0]=je(lt.Ea,sn),lt.b=sn,_t=ut=$e(xt,1,0,Ye,lt.K)){var $t,Mn=xt,en=lt,sr=1<<(8>>en.b),as=i(sr);if(as==null)_t=0;else{var Un=en.K[0],Wt=en.w;for(as[0]=en.K[0][0],$t=1;$t<1*Mn;++$t)as[$t]=yt(Un[Wt+$t],as[$t-1]);for(;$t<4*sr;++$t)as[$t]=0;en.K[0]=null,en.K[0]=as,_t=1}}ut=_t;break;case 2:break;default:e(0)}ce=ut}}if(fe=fe[0],xe=xe[0],ce&&ne(we,1)&&!(ce=1<=(Ze=ne(we,4))&&11>=Ze)){W.a=3;break e}var Ft;if(Ft=ce)t:{var ds,Cn,$n,Lr=W,Js=fe,Si=xe,Xr=Ze,Os=q,qi=Lr.m,Bs=Lr.s,Qn=[null],yr=1,hs=0,Nr=fo[Xr];n:for(;;){if(Os&&ne(qi,1)){var Qs=ne(qi,3)+2,ps=je(Js,Qs),br=je(Si,Qs),Ds=ps*br;if(!$e(ps,br,0,Lr,Qn))break n;for(Qn=Qn[0],Bs.xc=Qs,ds=0;ds<Ds;++ds){var Fr=Qn[ds]>>8&65535;Qn[ds]=Fr,Fr>=yr&&(yr=Fr+1)}}if(qi.h)break n;for(Cn=0;5>Cn;++Cn){var Vs=_u[Cn];!Cn&&0<Xr&&(Vs+=1<<Xr),hs<Vs&&(hs=Vs)}var Us=a(yr*Nr,j),jr=yr,mr=a(jr,Ee);if(mr==null)var Hi=null;else e(65536>=jr),Hi=mr;var ws=i(hs);if(Hi==null||ws==null||Us==null){Lr.a=1;break n}var _n=Us;for(ds=$n=0;ds<yr;++ds){var Tn=Hi[ds],wr=Tn.G,va=Tn.H,go=0,ia=1,js=0;for(Cn=0;5>Cn;++Cn){Vs=_u[Cn],wr[Cn]=_n,va[Cn]=$n,!Cn&&0<Xr&&(Vs+=1<<Xr);s:{var Ic,kc=Vs,I0=Lr,Jr=ws,Jm=_n,Qm=$n,k0=0,Gl=I0.m,mw=ne(Gl,1);if(s(Jr,0,0,kc),mw){var Zm=ne(Gl,1)+1,eg=ne(Gl,1),R0=ne(Gl,eg==0?1:8);Jr[R0]=1,Zm==2&&(Jr[R0=ne(Gl,8)]=1);var oi=1}else{var _s=i(19),Zd=ne(Gl,4)+4;if(19<Zd){I0.a=3;var Rc=0;break s}for(Ic=0;Ic<Zd;++Ic)_s[Xd[Ic]]=ne(Gl,3);var Cf=void 0,Su=void 0,hl=I0,P0=_s,Nf=kc,D0=Jr,M0=0,$l=hl.m,tg=8,ng=a(128,j);r:for(;O(ng,0,7,P0,19);){if(ne($l,1)){var Jx=2+2*ne($l,3);if((Cf=2+ne($l,Jx))>Nf)break r}else Cf=Nf;for(Su=0;Su<Nf&&Cf--;){ge($l);var rg=ng[0+(127&Y($l))];ue($l,$l.u+rg.g);var Pc=rg.value;if(16>Pc)D0[Su++]=Pc,Pc!=0&&(tg=Pc);else{var Qx=Pc==16,Zx=Pc-16,ev=Ef[Zx],sg=ne($l,co[Zx])+ev;if(Su+sg>Nf)break r;for(var tv=Qx?tg:0;0<sg--;)D0[Su++]=tv}}M0=1;break r}M0||(hl.a=3),oi=M0}(oi=oi&&!Gl.h)&&(k0=O(Jm,Qm,8,Jr,kc)),oi&&k0!=0?Rc=k0:(I0.a=3,Rc=0)}if(Rc==0)break n;if(ia&&E0[Cn]==1&&(ia=_n[$n].g==0),go+=_n[$n].g,$n+=Rc,3>=Cn){var Au,L0=ws[0];for(Au=1;Au<Vs;++Au)ws[Au]>L0&&(L0=ws[Au]);js+=L0}}if(Tn.nd=ia,Tn.Qb=0,ia&&(Tn.qb=(wr[3][va[3]+0].value<<24|wr[1][va[1]+0].value<<16|wr[2][va[2]+0].value)>>>0,go==0&&256>wr[0][va[0]+0].value&&(Tn.Qb=1,Tn.qb+=wr[0][va[0]+0].value<<8)),Tn.jc=!Tn.Qb&&6>js,Tn.jc){var eh,pl=Tn;for(eh=0;eh<wc;++eh){var Wl=eh,Kl=pl.pd[Wl],F0=pl.G[0][pl.H[0]+Wl];256<=F0.value?(Kl.g=F0.g+256,Kl.value=F0.value):(Kl.g=0,Kl.value=0,Wl>>=Gn(F0,8,Kl),Wl>>=Gn(pl.G[1][pl.H[1]+Wl],16,Kl),Wl>>=Gn(pl.G[2][pl.H[2]+Wl],0,Kl),Gn(pl.G[3][pl.H[3]+Wl],24,Kl))}}}Bs.vc=Qn,Bs.Wb=yr,Bs.Ya=Hi,Bs.yc=Us,Ft=1;break t}Ft=0}if(!(ce=Ft)){W.a=3;break e}if(0<Ze){if(Ie.ua=1<<Ze,!le(Ie.Wa,Ze)){W.a=1,ce=0;break e}}else Ie.ua=0;var O0=W,Cu=fe,nv=xe,If=O0.s,kf=If.xc;if(O0.c=Cu,O0.i=nv,If.md=je(Cu,kf),If.wc=kf==0?-1:(1<<kf)-1,q){W.xb=Tc;break e}if((Le=i(fe*xe))==null){W.a=1,ce=0;break e}ce=(ce=Ue(W,Le,0,fe,xe,xe,null))&&!we.h;break e}return ce?(re!=null?re[0]=Le:(e(Le==null),e(q)),W.$=0,q||at(Ie)):at(Ie),ce}function Qe(_,N){var q=_.c*_.i,W=q+N+16*N;return e(_.c<=N),_.V=i(W),_.V==null?(_.Ta=null,_.Ua=0,_.a=1,0):(_.Ta=_.V,_.Ua=_.Ba+q+N,1)}function bt(_,N){var q=_.C,W=N-q,re=_.V,ce=_.Ba+_.c*q;for(e(N<=_.l.o);0<W;){var fe=16<W?16:W,xe=_.l.ma,we=_.l.width,Ie=we*fe,Le=xe.ca,Ze=xe.tb+we*q,Ce=_.Ta,Ve=_.Ua;_e(_,fe,re,ce),Ha(Ce,Ve,Le,Ze,Ie),Te(xe,q,q+fe,Le,Ze,we),W-=fe,re+=fe*_.c,q+=fe}e(q==N),_.C=_.Ma=N}function Tt(){this.ub=this.yd=this.td=this.Rb=0}function Dt(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function wt(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function Pt(){this.Yb=(function(){var _=[];return(function N(q,W,re){for(var ce=re[W],fe=0;fe<ce&&(q.push(re.length>W+1?[]:0),!(re.length<W+1));fe++)N(q[fe],W+1,re)})(_,0,[3,11]),_})()}function Yt(){this.jb=i(3),this.Wc=o([4,8],Pt),this.Xc=o([4,17],Pt)}function vr(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function Wn(){this.ld=this.La=this.dd=this.tc=0}function Ar(){this.Na=this.la=0}function Ks(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Ji(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function pa(){this.uc=this.M=this.Nb=0,this.wa=Array(new Wn),this.Y=0,this.ya=Array(new Ji),this.aa=0,this.l=new si}function Fi(){this.y=i(16),this.f=i(8),this.ea=i(8)}function Io(){this.cb=this.a=0,this.sc="",this.m=new B,this.Od=new Tt,this.Kc=new Dt,this.ed=new vr,this.Qa=new wt,this.Ic=this.$c=this.Aa=0,this.D=new pa,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,B),this.ia=0,this.pb=a(4,Ks),this.Pa=new Yt,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Fi),this.Hd=0,this.rb=Array(new Ar),this.sb=0,this.wa=Array(new Wn),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Ji),this.L=this.aa=0,this.gd=o([4,2],Wn),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function rs(_,N){return 0>_?0:_>N?N:_}function si(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function vs(){var _=new Io;return _!=null&&(_.a=0,_.sc="OK",_.cb=0,_.Xb=0,za||(za=ur)),_}function er(_,N,q){return _.a==0&&(_.a=N,_.sc=q,_.cb=0),0}function ko(_,N,q){return 3<=q&&_[N+0]==157&&_[N+1]==1&&_[N+2]==42}function ma(_,N){if(_==null)return 0;if(_.a=0,_.sc="OK",N==null)return er(_,2,"null VP8Io passed to VP8GetHeaders()");var q=N.data,W=N.w,re=N.ha;if(4>re)return er(_,7,"Truncated header.");var ce=q[W+0]|q[W+1]<<8|q[W+2]<<16,fe=_.Od;if(fe.Rb=!(1&ce),fe.td=ce>>1&7,fe.yd=ce>>4&1,fe.ub=ce>>5,3<fe.td)return er(_,3,"Incorrect keyframe parameters.");if(!fe.yd)return er(_,4,"Frame not displayable.");W+=3,re-=3;var xe=_.Kc;if(fe.Rb){if(7>re)return er(_,7,"cannot parse picture header");if(!ko(q,W,re))return er(_,3,"Bad code word");xe.c=16383&(q[W+4]<<8|q[W+3]),xe.Td=q[W+4]>>6,xe.i=16383&(q[W+6]<<8|q[W+5]),xe.Ud=q[W+6]>>6,W+=7,re-=7,_.za=xe.c+15>>4,_.Ub=xe.i+15>>4,N.width=xe.c,N.height=xe.i,N.Da=0,N.j=0,N.v=0,N.va=N.width,N.o=N.height,N.da=0,N.ib=N.width,N.hb=N.height,N.U=N.width,N.T=N.height,s((ce=_.Pa).jb,0,255,ce.jb.length),e((ce=_.Qa)!=null),ce.Cb=0,ce.Bb=0,ce.Fb=1,s(ce.Zb,0,0,ce.Zb.length),s(ce.Lb,0,0,ce.Lb)}if(fe.ub>re)return er(_,7,"bad partition length");ae(ce=_.m,q,W,fe.ub),W+=fe.ub,re-=fe.ub,fe.Rb&&(xe.Ld=ee(ce),xe.Kd=ee(ce)),xe=_.Qa;var we,Ie=_.Pa;if(e(ce!=null),e(xe!=null),xe.Cb=ee(ce),xe.Cb){if(xe.Bb=ee(ce),ee(ce)){for(xe.Fb=ee(ce),we=0;4>we;++we)xe.Zb[we]=ee(ce)?de(ce,7):0;for(we=0;4>we;++we)xe.Lb[we]=ee(ce)?de(ce,6):0}if(xe.Bb)for(we=0;3>we;++we)Ie.jb[we]=ee(ce)?pe(ce,8):255}else xe.Bb=0;if(ce.Ka)return er(_,3,"cannot parse segment header");if((xe=_.ed).zd=ee(ce),xe.Tb=pe(ce,6),xe.wb=pe(ce,3),xe.Pc=ee(ce),xe.Pc&&ee(ce)){for(Ie=0;4>Ie;++Ie)ee(ce)&&(xe.vd[Ie]=de(ce,6));for(Ie=0;4>Ie;++Ie)ee(ce)&&(xe.od[Ie]=de(ce,6))}if(_.L=xe.Tb==0?0:xe.zd?1:2,ce.Ka)return er(_,3,"cannot parse filter header");var Le=re;if(re=we=W,W=we+Le,xe=Le,_.Xb=(1<<pe(_.m,2))-1,Le<3*(Ie=_.Xb))q=7;else{for(we+=3*Ie,xe-=3*Ie,Le=0;Le<Ie;++Le){var Ze=q[re+0]|q[re+1]<<8|q[re+2]<<16;Ze>xe&&(Ze=xe),ae(_.Jc[+Le],q,we,Ze),we+=Ze,xe-=Ze,re+=3}ae(_.Jc[+Ie],q,we,xe),q=we<W?0:5}if(q!=0)return er(_,q,"cannot parse partitions");for(q=pe(we=_.m,7),re=ee(we)?de(we,4):0,W=ee(we)?de(we,4):0,xe=ee(we)?de(we,4):0,Ie=ee(we)?de(we,4):0,we=ee(we)?de(we,4):0,Le=_.Qa,Ze=0;4>Ze;++Ze){if(Le.Cb){var Ce=Le.Zb[Ze];Le.Fb||(Ce+=q)}else{if(0<Ze){_.pb[Ze]=_.pb[0];continue}Ce=q}var Ve=_.pb[Ze];Ve.Sc[0]=ho[rs(Ce+re,127)],Ve.Sc[1]=po[rs(Ce+0,127)],Ve.Eb[0]=2*ho[rs(Ce+W,127)],Ve.Eb[1]=101581*po[rs(Ce+xe,127)]>>16,8>Ve.Eb[1]&&(Ve.Eb[1]=8),Ve.Qc[0]=ho[rs(Ce+Ie,117)],Ve.Qc[1]=po[rs(Ce+we,127)],Ve.lc=Ce+we}if(!fe.Rb)return er(_,4,"Not a key frame.");for(ee(ce),fe=_.Pa,q=0;4>q;++q){for(re=0;8>re;++re)for(W=0;3>W;++W)for(xe=0;11>xe;++xe)Ie=Re(ce,is[q][re][W][xe])?pe(ce,8):Yx[q][re][W][xe],fe.Wc[q][re].Yb[W][xe]=Ie;for(re=0;17>re;++re)fe.Xc[q][re]=fe.Wc[q][ir[re]]}return _.kc=ee(ce),_.kc&&(_.Bd=pe(ce,8)),_.cb=1}function ur(_,N,q,W,re,ce,fe){var xe=N[re].Yb[q];for(q=0;16>re;++re){if(!Re(_,xe[q+0]))return re;for(;!Re(_,xe[q+1]);)if(xe=N[++re].Yb[0],q=0,re==16)return 16;var we=N[re+1].Yb;if(Re(_,xe[q+2])){var Ie=_,Le=0;if(Re(Ie,(Ce=xe)[(Ze=q)+3]))if(Re(Ie,Ce[Ze+6])){for(xe=0,Ze=2*(Le=Re(Ie,Ce[Ze+8]))+(Ce=Re(Ie,Ce[Ze+9+Le])),Le=0,Ce=Kx[Ze];Ce[xe];++xe)Le+=Le+Re(Ie,Ce[xe]);Le+=3+(8<<Ze)}else Re(Ie,Ce[Ze+7])?(Le=7+2*Re(Ie,165),Le+=Re(Ie,145)):Le=5+Re(Ie,159);else Le=Re(Ie,Ce[Ze+4])?3+Re(Ie,Ce[Ze+5]):2;xe=we[2]}else Le=1,xe=we[1];we=fe+Km[re],0>(Ie=_).b&&Pe(Ie);var Ze,Ce=Ie.b,Ve=(Ze=Ie.Ca>>1)-(Ie.I>>Ce)>>31;--Ie.b,Ie.Ca+=Ve,Ie.Ca|=1,Ie.I-=(Ze+1&Ve)<<Ce,ce[we]=((Le^Ve)-Ve)*W[(0<re)+0]}return 16}function Zo(_){var N=_.rb[_.sb-1];N.la=0,N.Na=0,s(_.zc,0,0,_.zc.length),_.ja=0}function Ns(_,N,q,W,re){re=_[N+q+32*W]+(re>>3),_[N+q+32*W]=-256&re?0>re?0:255:re}function ss(_,N,q,W,re,ce){Ns(_,N,0,q,W+re),Ns(_,N,1,q,W+ce),Ns(_,N,2,q,W-ce),Ns(_,N,3,q,W-re)}function ys(_){return(20091*_>>16)+_}function Rl(_,N,q,W){var re,ce=0,fe=i(16);for(re=0;4>re;++re){var xe=_[N+0]+_[N+8],we=_[N+0]-_[N+8],Ie=(35468*_[N+4]>>16)-ys(_[N+12]),Le=ys(_[N+4])+(35468*_[N+12]>>16);fe[ce+0]=xe+Le,fe[ce+1]=we+Ie,fe[ce+2]=we-Ie,fe[ce+3]=xe-Le,ce+=4,N++}for(re=ce=0;4>re;++re)xe=(_=fe[ce+0]+4)+fe[ce+8],we=_-fe[ce+8],Ie=(35468*fe[ce+4]>>16)-ys(fe[ce+12]),Ns(q,W,0,0,xe+(Le=ys(fe[ce+4])+(35468*fe[ce+12]>>16))),Ns(q,W,1,0,we+Ie),Ns(q,W,2,0,we-Ie),Ns(q,W,3,0,xe-Le),ce++,W+=32}function mf(_,N,q,W){var re=_[N+0]+4,ce=35468*_[N+4]>>16,fe=ys(_[N+4]),xe=35468*_[N+1]>>16;ss(q,W,0,re+fe,_=ys(_[N+1]),xe),ss(q,W,1,re+ce,_,xe),ss(q,W,2,re-ce,_,xe),ss(q,W,3,re-fe,_,xe)}function du(_,N,q,W,re){Rl(_,N,q,W),re&&Rl(_,N+16,q,W+4)}function xi(_,N,q,W){ql(_,N+0,q,W,1),ql(_,N+32,q,W+128,1)}function hu(_,N,q,W){var re;for(_=_[N+0]+4,re=0;4>re;++re)for(N=0;4>N;++N)Ns(q,W,N,re,_)}function Ro(_,N,q,W){_[N+0]&&Cr(_,N+0,q,W),_[N+16]&&Cr(_,N+16,q,W+4),_[N+32]&&Cr(_,N+32,q,W+128),_[N+48]&&Cr(_,N+48,q,W+128+4)}function Ys(_,N,q,W){var re,ce=i(16);for(re=0;4>re;++re){var fe=_[N+0+re]+_[N+12+re],xe=_[N+4+re]+_[N+8+re],we=_[N+4+re]-_[N+8+re],Ie=_[N+0+re]-_[N+12+re];ce[0+re]=fe+xe,ce[8+re]=fe-xe,ce[4+re]=Ie+we,ce[12+re]=Ie-we}for(re=0;4>re;++re)fe=(_=ce[0+4*re]+3)+ce[3+4*re],xe=ce[1+4*re]+ce[2+4*re],we=ce[1+4*re]-ce[2+4*re],Ie=_-ce[3+4*re],q[W+0]=fe+xe>>3,q[W+16]=Ie+we>>3,q[W+32]=fe-xe>>3,q[W+48]=Ie-we>>3,W+=64}function el(_,N,q){var W,re=N-32,ce=Ui,fe=255-_[re-1];for(W=0;W<q;++W){var xe,we=ce,Ie=fe+_[N-1];for(xe=0;xe<q;++xe)_[N+xe]=we[Ie+_[re+xe]];N+=32}}function pu(_,N){el(_,N,4)}function mu(_,N){el(_,N,8)}function gc(_,N){el(_,N,16)}function xc(_,N){var q;for(q=0;16>q;++q)r(_,N+32*q,_,N-32,16)}function Po(_,N){var q;for(q=16;0<q;--q)s(_,N,_[N-1],16),N+=32}function Oi(_,N,q){var W;for(W=0;16>W;++W)s(N,q+32*W,_,16)}function Oa(_,N){var q,W=16;for(q=0;16>q;++q)W+=_[N-1+32*q]+_[N+q-32];Oi(W>>5,_,N)}function Do(_,N){var q,W=8;for(q=0;16>q;++q)W+=_[N-1+32*q];Oi(W>>4,_,N)}function Bi(_,N){var q,W=8;for(q=0;16>q;++q)W+=_[N+q-32];Oi(W>>4,_,N)}function tl(_,N){Oi(128,_,N)}function wn(_,N,q){return _+2*N+q+2>>2}function Pl(_,N){var q,W=N-32;for(W=new Uint8Array([wn(_[W-1],_[W+0],_[W+1]),wn(_[W+0],_[W+1],_[W+2]),wn(_[W+1],_[W+2],_[W+3]),wn(_[W+2],_[W+3],_[W+4])]),q=0;4>q;++q)r(_,N+32*q,W,0,W.length)}function vc(_,N){var q=_[N-1],W=_[N-1+32],re=_[N-1+64],ce=_[N-1+96];He(_,N+0,16843009*wn(_[N-1-32],q,W)),He(_,N+32,16843009*wn(q,W,re)),He(_,N+64,16843009*wn(W,re,ce)),He(_,N+96,16843009*wn(re,ce,ce))}function nl(_,N){var q,W=4;for(q=0;4>q;++q)W+=_[N+q-32]+_[N-1+32*q];for(W>>=3,q=0;4>q;++q)s(_,N+32*q,W,4)}function Xs(_,N){var q=_[N-1+0],W=_[N-1+32],re=_[N-1+64],ce=_[N-1-32],fe=_[N+0-32],xe=_[N+1-32],we=_[N+2-32],Ie=_[N+3-32];_[N+0+96]=wn(W,re,_[N-1+96]),_[N+1+96]=_[N+0+64]=wn(q,W,re),_[N+2+96]=_[N+1+64]=_[N+0+32]=wn(ce,q,W),_[N+3+96]=_[N+2+64]=_[N+1+32]=_[N+0+0]=wn(fe,ce,q),_[N+3+64]=_[N+2+32]=_[N+1+0]=wn(xe,fe,ce),_[N+3+32]=_[N+2+0]=wn(we,xe,fe),_[N+3+0]=wn(Ie,we,xe)}function Fs(_,N){var q=_[N+1-32],W=_[N+2-32],re=_[N+3-32],ce=_[N+4-32],fe=_[N+5-32],xe=_[N+6-32],we=_[N+7-32];_[N+0+0]=wn(_[N+0-32],q,W),_[N+1+0]=_[N+0+32]=wn(q,W,re),_[N+2+0]=_[N+1+32]=_[N+0+64]=wn(W,re,ce),_[N+3+0]=_[N+2+32]=_[N+1+64]=_[N+0+96]=wn(re,ce,fe),_[N+3+32]=_[N+2+64]=_[N+1+96]=wn(ce,fe,xe),_[N+3+64]=_[N+2+96]=wn(fe,xe,we),_[N+3+96]=wn(xe,we,we)}function Dl(_,N){var q=_[N-1+0],W=_[N-1+32],re=_[N-1+64],ce=_[N-1-32],fe=_[N+0-32],xe=_[N+1-32],we=_[N+2-32],Ie=_[N+3-32];_[N+0+0]=_[N+1+64]=ce+fe+1>>1,_[N+1+0]=_[N+2+64]=fe+xe+1>>1,_[N+2+0]=_[N+3+64]=xe+we+1>>1,_[N+3+0]=we+Ie+1>>1,_[N+0+96]=wn(re,W,q),_[N+0+64]=wn(W,q,ce),_[N+0+32]=_[N+1+96]=wn(q,ce,fe),_[N+1+32]=_[N+2+96]=wn(ce,fe,xe),_[N+2+32]=_[N+3+96]=wn(fe,xe,we),_[N+3+32]=wn(xe,we,Ie)}function kr(_,N){var q=_[N+0-32],W=_[N+1-32],re=_[N+2-32],ce=_[N+3-32],fe=_[N+4-32],xe=_[N+5-32],we=_[N+6-32],Ie=_[N+7-32];_[N+0+0]=q+W+1>>1,_[N+1+0]=_[N+0+64]=W+re+1>>1,_[N+2+0]=_[N+1+64]=re+ce+1>>1,_[N+3+0]=_[N+2+64]=ce+fe+1>>1,_[N+0+32]=wn(q,W,re),_[N+1+32]=_[N+0+96]=wn(W,re,ce),_[N+2+32]=_[N+1+96]=wn(re,ce,fe),_[N+3+32]=_[N+2+96]=wn(ce,fe,xe),_[N+3+64]=wn(fe,xe,we),_[N+3+96]=wn(xe,we,Ie)}function Qi(_,N){var q=_[N-1+0],W=_[N-1+32],re=_[N-1+64],ce=_[N-1+96];_[N+0+0]=q+W+1>>1,_[N+2+0]=_[N+0+32]=W+re+1>>1,_[N+2+32]=_[N+0+64]=re+ce+1>>1,_[N+1+0]=wn(q,W,re),_[N+3+0]=_[N+1+32]=wn(W,re,ce),_[N+3+32]=_[N+1+64]=wn(re,ce,ce),_[N+3+64]=_[N+2+64]=_[N+0+96]=_[N+1+96]=_[N+2+96]=_[N+3+96]=ce}function Ml(_,N){var q=_[N-1+0],W=_[N-1+32],re=_[N-1+64],ce=_[N-1+96],fe=_[N-1-32],xe=_[N+0-32],we=_[N+1-32],Ie=_[N+2-32];_[N+0+0]=_[N+2+32]=q+fe+1>>1,_[N+0+32]=_[N+2+64]=W+q+1>>1,_[N+0+64]=_[N+2+96]=re+W+1>>1,_[N+0+96]=ce+re+1>>1,_[N+3+0]=wn(xe,we,Ie),_[N+2+0]=wn(fe,xe,we),_[N+1+0]=_[N+3+32]=wn(q,fe,xe),_[N+1+32]=_[N+3+64]=wn(W,q,fe),_[N+1+64]=_[N+3+96]=wn(re,W,q),_[N+1+96]=wn(ce,re,W)}function Ba(_,N){var q;for(q=0;8>q;++q)r(_,N+32*q,_,N-32,8)}function gu(_,N){var q;for(q=0;8>q;++q)s(_,N,_[N-1],8),N+=32}function Zi(_,N,q){var W;for(W=0;8>W;++W)s(N,q+32*W,_,8)}function Mo(_,N){var q,W=8;for(q=0;8>q;++q)W+=_[N+q-32]+_[N-1+32*q];Zi(W>>4,_,N)}function ea(_,N){var q,W=4;for(q=0;8>q;++q)W+=_[N+q-32];Zi(W>>3,_,N)}function Is(_,N){var q,W=4;for(q=0;8>q;++q)W+=_[N-1+32*q];Zi(W>>3,_,N)}function to(_,N){Zi(128,_,N)}function ii(_,N,q){var W=_[N-q],re=_[N+0],ce=3*(re-W)+Hl[1020+_[N-2*q]-_[N+q]],fe=Wd[112+(ce+4>>3)];_[N-q]=Ui[255+W+Wd[112+(ce+3>>3)]],_[N+0]=Ui[255+re-fe]}function no(_,N,q,W){var re=_[N+0],ce=_[N+q];return wi[255+_[N-2*q]-_[N-q]]>W||wi[255+ce-re]>W}function rl(_,N,q,W){return 4*wi[255+_[N-q]-_[N+0]]+wi[255+_[N-2*q]-_[N+q]]<=W}function ro(_,N,q,W,re){var ce=_[N-3*q],fe=_[N-2*q],xe=_[N-q],we=_[N+0],Ie=_[N+q],Le=_[N+2*q],Ze=_[N+3*q];return 4*wi[255+xe-we]+wi[255+fe-Ie]>W?0:wi[255+_[N-4*q]-ce]<=re&&wi[255+ce-fe]<=re&&wi[255+fe-xe]<=re&&wi[255+Ze-Le]<=re&&wi[255+Le-Ie]<=re&&wi[255+Ie-we]<=re}function so(_,N,q,W){var re=2*W+1;for(W=0;16>W;++W)rl(_,N+W,q,re)&&ii(_,N+W,q)}function ga(_,N,q,W){var re=2*W+1;for(W=0;16>W;++W)rl(_,N+W*q,1,re)&&ii(_,N+W*q,1)}function Ll(_,N,q,W){var re;for(re=3;0<re;--re)so(_,N+=4*q,q,W)}function yc(_,N,q,W){var re;for(re=3;0<re;--re)ga(_,N+=4,q,W)}function ta(_,N,q,W,re,ce,fe,xe){for(ce=2*ce+1;0<re--;){if(ro(_,N,q,ce,fe))if(no(_,N,q,xe))ii(_,N,q);else{var we=_,Ie=N,Le=q,Ze=we[Ie-2*Le],Ce=we[Ie-Le],Ve=we[Ie+0],Ye=we[Ie+Le],ut=we[Ie+2*Le],Xe=27*(ht=Hl[1020+3*(Ve-Ce)+Hl[1020+Ze-Ye]])+63>>7,lt=18*ht+63>>7,ht=9*ht+63>>7;we[Ie-3*Le]=Ui[255+we[Ie-3*Le]+ht],we[Ie-2*Le]=Ui[255+Ze+lt],we[Ie-Le]=Ui[255+Ce+Xe],we[Ie+0]=Ui[255+Ve-Xe],we[Ie+Le]=Ui[255+Ye-lt],we[Ie+2*Le]=Ui[255+ut-ht]}N+=W}}function io(_,N,q,W,re,ce,fe,xe){for(ce=2*ce+1;0<re--;){if(ro(_,N,q,ce,fe))if(no(_,N,q,xe))ii(_,N,q);else{var we=_,Ie=N,Le=q,Ze=we[Ie-Le],Ce=we[Ie+0],Ve=we[Ie+Le],Ye=Wd[112+(4+(ut=3*(Ce-Ze))>>3)],ut=Wd[112+(ut+3>>3)],Xe=Ye+1>>1;we[Ie-2*Le]=Ui[255+we[Ie-2*Le]+Xe],we[Ie-Le]=Ui[255+Ze+ut],we[Ie+0]=Ui[255+Ce-Ye],we[Ie+Le]=Ui[255+Ve-Xe]}N+=W}}function xu(_,N,q,W,re,ce){ta(_,N,q,1,16,W,re,ce)}function Va(_,N,q,W,re,ce){ta(_,N,1,q,16,W,re,ce)}function bc(_,N,q,W,re,ce){var fe;for(fe=3;0<fe;--fe)io(_,N+=4*q,q,1,16,W,re,ce)}function V(_,N,q,W,re,ce){var fe;for(fe=3;0<fe;--fe)io(_,N+=4,1,q,16,W,re,ce)}function te(_,N,q,W,re,ce,fe,xe){ta(_,N,re,1,8,ce,fe,xe),ta(q,W,re,1,8,ce,fe,xe)}function Ne(_,N,q,W,re,ce,fe,xe){ta(_,N,1,re,8,ce,fe,xe),ta(q,W,1,re,8,ce,fe,xe)}function Me(_,N,q,W,re,ce,fe,xe){io(_,N+4*re,re,1,8,ce,fe,xe),io(q,W+4*re,re,1,8,ce,fe,xe)}function qe(_,N,q,W,re,ce,fe,xe){io(_,N+4,1,re,8,ce,fe,xe),io(q,W+4,1,re,8,ce,fe,xe)}function ft(){this.ba=new dn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new On,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function vt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Xt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function rn(){this.ua=0,this.Wa=new st,this.vb=new st,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Ee,this.yc=new j}function En(){this.xb=this.a=0,this.l=new si,this.ca=new dn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new K,this.Pb=0,this.wd=new K,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new rn,this.ab=0,this.gc=a(4,Xt),this.Oc=0}function yn(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new si,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function rr(_,N,q,W,re,ce,fe){for(_=_==null?0:_[N+0],N=0;N<fe;++N)re[ce+N]=_+q[W+N]&255,_=re[ce+N]}function Wr(_,N,q,W,re,ce,fe){var xe;if(_==null)rr(null,null,q,W,re,ce,fe);else for(xe=0;xe<fe;++xe)re[ce+xe]=_[N+xe]+q[W+xe]&255}function Br(_,N,q,W,re,ce,fe){if(_==null)rr(null,null,q,W,re,ce,fe);else{var xe,we=_[N+0],Ie=we,Le=we;for(xe=0;xe<fe;++xe)Ie=Le+(we=_[N+xe])-Ie,Le=q[W+xe]+(-256&Ie?0>Ie?0:255:Ie)&255,Ie=we,re[ce+xe]=Le}}function E(_,N,q,W){var re=N.width,ce=N.o;if(e(_!=null&&N!=null),0>q||0>=W||q+W>ce)return null;if(!_.Cc){if(_.ga==null){var fe;if(_.ga=new yn,(fe=_.ga==null)||(fe=N.width*N.o,e(_.Gb.length==0),_.Gb=i(fe),_.Uc=0,_.Gb==null?fe=0:(_.mb=_.Gb,_.nb=_.Uc,_.rc=null,fe=1),fe=!fe),!fe){fe=_.ga;var xe=_.Fa,we=_.P,Ie=_.qc,Le=_.mb,Ze=_.nb,Ce=we+1,Ve=Ie-1,Ye=fe.l;if(e(xe!=null&&Le!=null&&N!=null),zl[0]=null,zl[1]=rr,zl[2]=Wr,zl[3]=Br,fe.ca=Le,fe.tb=Ze,fe.c=N.width,fe.i=N.height,e(0<fe.c&&0<fe.i),1>=Ie)N=0;else if(fe.$a=3&xe[we+0],fe.Z=xe[we+0]>>2&3,fe.Lc=xe[we+0]>>4&3,we=xe[we+0]>>6&3,0>fe.$a||1<fe.$a||4<=fe.Z||1<fe.Lc||we)N=0;else if(Ye.put=hn,Ye.ac=ns,Ye.bc=Fe,Ye.ma=fe,Ye.width=N.width,Ye.height=N.height,Ye.Da=N.Da,Ye.v=N.v,Ye.va=N.va,Ye.j=N.j,Ye.o=N.o,fe.$a)e:{e(fe.$a==1),N=Be();t:for(;;){if(N==null){N=0;break e}if(e(fe!=null),fe.mc=N,N.c=fe.c,N.i=fe.i,N.l=fe.l,N.l.ma=fe,N.l.width=fe.c,N.l.height=fe.i,N.a=0,oe(N.m,xe,Ce,Ve),!$e(fe.c,fe.i,1,N,null)||(N.ab==1&&N.gc[0].hc==3&&be(N.s)?(fe.ic=1,xe=N.c*N.i,N.Ta=null,N.Ua=0,N.V=i(xe),N.Ba=0,N.V==null?(N.a=1,N=0):N=1):(fe.ic=0,N=Qe(N,fe.c)),!N))break t;N=1;break e}fe.mc=null,N=0}else N=Ve>=fe.c*fe.i;fe=!N}if(fe)return null;_.ga.Lc!=1?_.Ga=0:W=ce-q}e(_.ga!=null),e(q+W<=ce);e:{if(N=(xe=_.ga).c,ce=xe.l.o,xe.$a==0){if(Ce=_.rc,Ve=_.Vc,Ye=_.Fa,we=_.P+1+q*N,Ie=_.mb,Le=_.nb+q*N,e(we<=_.P+_.qc),xe.Z!=0)for(e(zl[xe.Z]!=null),fe=0;fe<W;++fe)zl[xe.Z](Ce,Ve,Ye,we,Ie,Le,N),Ce=Ie,Ve=Le,Le+=N,we+=N;else for(fe=0;fe<W;++fe)r(Ie,Le,Ye,we,N),Ce=Ie,Ve=Le,Le+=N,we+=N;_.rc=Ce,_.Vc=Ve}else{if(e(xe.mc!=null),N=q+W,e((fe=xe.mc)!=null),e(N<=fe.i),fe.C>=N)N=1;else if(xe.ic||nt(),xe.ic){xe=fe.V,Ce=fe.Ba,Ve=fe.c;var ut=fe.i,Xe=(Ye=1,we=fe.$/Ve,Ie=fe.$%Ve,Le=fe.m,Ze=fe.s,fe.$),lt=Ve*ut,ht=Ve*N,_t=Ze.wc,xt=Xe<ht?se(Ze,Ie,we):null;e(Xe<=lt),e(N<=ut),e(be(Ze));t:for(;;){for(;!Le.h&&Xe<ht;){if(Ie&_t||(xt=se(Ze,Ie,we)),e(xt!=null),ge(Le),256>(ut=Zt(xt.G[0],xt.H[0],Le)))xe[Ce+Xe]=ut,++Xe,++Ie>=Ve&&(Ie=0,++we<=N&&!(we%16)&&Ae(fe,we));else{if(!(280>ut)){Ye=0;break t}ut=jt(ut-256,Le);var sn,$t=Zt(xt.G[4],xt.H[4],Le);if(ge(Le),!(Xe>=($t=Yn(Ve,$t=jt($t,Le)))&&lt-Xe>=ut)){Ye=0;break t}for(sn=0;sn<ut;++sn)xe[Ce+Xe+sn]=xe[Ce+Xe+sn-$t];for(Xe+=ut,Ie+=ut;Ie>=Ve;)Ie-=Ve,++we<=N&&!(we%16)&&Ae(fe,we);Xe<ht&&Ie&_t&&(xt=se(Ze,Ie,we))}e(Le.h==Q(Le))}Ae(fe,we>N?N:we);break t}!Ye||Le.h&&Xe<lt?(Ye=0,fe.a=Le.h?5:3):fe.$=Xe,N=Ye}else N=Ue(fe,fe.V,fe.Ba,fe.c,fe.i,N,bt);if(!N){W=0;break e}}q+W>=ce&&(_.Cc=1),W=1}if(!W)return null;if(_.Cc&&((W=_.ga)!=null&&(W.mc=null),_.ga=null,0<_.Ga))return alert("todo:WebPDequantizeLevels"),null}return _.nb+q*re}function H(_,N,q,W,re,ce){for(;0<re--;){var fe,xe=_,we=N+(q?1:0),Ie=_,Le=N+(q?0:3);for(fe=0;fe<W;++fe){var Ze=Ie[Le+4*fe];Ze!=255&&(Ze*=32897,xe[we+4*fe+0]=xe[we+4*fe+0]*Ze>>23,xe[we+4*fe+1]=xe[we+4*fe+1]*Ze>>23,xe[we+4*fe+2]=xe[we+4*fe+2]*Ze>>23)}N+=ce}}function Z(_,N,q,W,re){for(;0<W--;){var ce;for(ce=0;ce<q;++ce){var fe=_[N+2*ce+0],xe=15&(Ie=_[N+2*ce+1]),we=4369*xe,Ie=(240&Ie|Ie>>4)*we>>16;_[N+2*ce+0]=(240&fe|fe>>4)*we>>16&240|(15&fe|fe<<4)*we>>16>>4&15,_[N+2*ce+1]=240&Ie|xe}N+=re}}function ye(_,N,q,W,re,ce,fe,xe){var we,Ie,Le=255;for(Ie=0;Ie<re;++Ie){for(we=0;we<W;++we){var Ze=_[N+we];ce[fe+4*we]=Ze,Le&=Ze}N+=q,fe+=xe}return Le!=255}function Ke(_,N,q,W,re){var ce;for(ce=0;ce<re;++ce)q[W+ce]=_[N+ce]>>8}function nt(){bu=H,oo=Z,zd=ye,Ha=Ke}function It(_,N,q){R[_]=function(W,re,ce,fe,xe,we,Ie,Le,Ze,Ce,Ve,Ye,ut,Xe,lt,ht,_t){var xt,sn=_t-1>>1,$t=xe[we+0]|Ie[Le+0]<<16,Mn=Ze[Ce+0]|Ve[Ye+0]<<16;e(W!=null);var en=3*$t+Mn+131074>>2;for(N(W[re+0],255&en,en>>16,ut,Xe),ce!=null&&(en=3*Mn+$t+131074>>2,N(ce[fe+0],255&en,en>>16,lt,ht)),xt=1;xt<=sn;++xt){var sr=xe[we+xt]|Ie[Le+xt]<<16,as=Ze[Ce+xt]|Ve[Ye+xt]<<16,Un=$t+sr+Mn+as+524296,Wt=Un+2*(sr+Mn)>>3;en=Wt+$t>>1,$t=(Un=Un+2*($t+as)>>3)+sr>>1,N(W[re+2*xt-1],255&en,en>>16,ut,Xe+(2*xt-1)*q),N(W[re+2*xt-0],255&$t,$t>>16,ut,Xe+(2*xt-0)*q),ce!=null&&(en=Un+Mn>>1,$t=Wt+as>>1,N(ce[fe+2*xt-1],255&en,en>>16,lt,ht+(2*xt-1)*q),N(ce[fe+2*xt+0],255&$t,$t>>16,lt,ht+(2*xt+0)*q)),$t=sr,Mn=as}1&_t||(en=3*$t+Mn+131074>>2,N(W[re+_t-1],255&en,en>>16,ut,Xe+(_t-1)*q),ce!=null&&(en=3*Mn+$t+131074>>2,N(ce[fe+_t-1],255&en,en>>16,lt,ht+(_t-1)*q)))}}function Rn(){Ei[y0]=Eu,Ei[ji]=Tf,Ei[b0]=Xm,Ei[lo]=S0,Ei[Kd]=Sc,Ei[wf]=dl,Ei[_c]=Ac,Ei[Yd]=Tf,Ei[w0]=S0,Ei[_f]=Sc,Ei[_0]=dl}function Kr(_){return _&-16384?0>_?0:255:_>>A0}function Jn(_,N){return Kr((19077*_>>8)+(26149*N>>8)-14234)}function Rr(_,N,q){return Kr((19077*_>>8)-(6419*N>>8)-(13320*q>>8)+8708)}function ai(_,N){return Kr((19077*_>>8)+(33050*N>>8)-17685)}function vi(_,N,q,W,re){W[re+0]=Jn(_,q),W[re+1]=Rr(_,N,q),W[re+2]=ai(_,N)}function Ur(_,N,q,W,re){W[re+0]=ai(_,N),W[re+1]=Rr(_,N,q),W[re+2]=Jn(_,q)}function yi(_,N,q,W,re){var ce=Rr(_,N,q);N=ce<<3&224|ai(_,N)>>3,W[re+0]=248&Jn(_,q)|ce>>5,W[re+1]=N}function Ua(_,N,q,W,re){var ce=240&ai(_,N)|15;W[re+0]=240&Jn(_,q)|Rr(_,N,q)>>4,W[re+1]=ce}function sl(_,N,q,W,re){W[re+0]=255,vi(_,N,q,W,re+1)}function il(_,N,q,W,re){Ur(_,N,q,W,re),W[re+3]=255}function na(_,N,q,W,re){vi(_,N,q,W,re),W[re+3]=255}function Fl(_,N,q){R[_]=function(W,re,ce,fe,xe,we,Ie,Le,Ze){for(var Ce=Le+(-2&Ze)*q;Le!=Ce;)N(W[re+0],ce[fe+0],xe[we+0],Ie,Le),N(W[re+1],ce[fe+0],xe[we+0],Ie,Le+q),re+=2,++fe,++we,Le+=2*q;1&Ze&&N(W[re+0],ce[fe+0],xe[we+0],Ie,Le)}}function gf(_,N,q){return q==0?_==0?N==0?6:5:N==0?4:0:q}function jd(_,N,q,W,re){switch(_>>>30){case 3:ql(N,q,W,re,0);break;case 2:Vi(N,q,W,re);break;case 1:Cr(N,q,W,re)}}function ja(_,N){var q,W,re=N.M,ce=N.Nb,fe=_.oc,xe=_.pc+40,we=_.oc,Ie=_.pc+584,Le=_.oc,Ze=_.pc+600;for(q=0;16>q;++q)fe[xe+32*q-1]=129;for(q=0;8>q;++q)we[Ie+32*q-1]=129,Le[Ze+32*q-1]=129;for(0<re?fe[xe-1-32]=we[Ie-1-32]=Le[Ze-1-32]=129:(s(fe,xe-32-1,127,21),s(we,Ie-32-1,127,9),s(Le,Ze-32-1,127,9)),W=0;W<_.za;++W){var Ce=N.ya[N.aa+W];if(0<W){for(q=-1;16>q;++q)r(fe,xe+32*q-4,fe,xe+32*q+12,4);for(q=-1;8>q;++q)r(we,Ie+32*q-4,we,Ie+32*q+4,4),r(Le,Ze+32*q-4,Le,Ze+32*q+4,4)}var Ve=_.Gd,Ye=_.Hd+W,ut=Ce.ad,Xe=Ce.Hc;if(0<re&&(r(fe,xe-32,Ve[Ye].y,0,16),r(we,Ie-32,Ve[Ye].f,0,8),r(Le,Ze-32,Ve[Ye].ea,0,8)),Ce.Za){var lt=fe,ht=xe-32+16;for(0<re&&(W>=_.za-1?s(lt,ht,Ve[Ye].y[15],4):r(lt,ht,Ve[Ye+1].y,0,4)),q=0;4>q;q++)lt[ht+128+q]=lt[ht+256+q]=lt[ht+384+q]=lt[ht+0+q];for(q=0;16>q;++q,Xe<<=2)lt=fe,ht=xe+Ps[q],bs[Ce.Ob[q]](lt,ht),jd(Xe,ut,16*+q,lt,ht)}else if(lt=gf(W,re,Ce.Ob[0]),sa[lt](fe,xe),Xe!=0)for(q=0;16>q;++q,Xe<<=2)jd(Xe,ut,16*+q,fe,xe+Ps[q]);for(q=Ce.Gc,lt=gf(W,re,Ce.Dd),Bo[lt](we,Ie),Bo[lt](Le,Ze),Xe=ut,lt=we,ht=Ie,255&(Ce=0|q)&&(170&Ce?ao(Xe,256,lt,ht):pr(Xe,256,lt,ht)),Ce=Le,Xe=Ze,255&(q>>=8)&&(170&q?ao(ut,320,Ce,Xe):pr(ut,320,Ce,Xe)),re<_.Ub-1&&(r(Ve[Ye].y,0,fe,xe+480,16),r(Ve[Ye].f,0,we,Ie+224,8),r(Ve[Ye].ea,0,Le,Ze+224,8)),q=8*ce*_.B,Ve=_.sa,Ye=_.ta+16*W+16*ce*_.R,ut=_.qa,Ce=_.ra+8*W+q,Xe=_.Ha,lt=_.Ia+8*W+q,q=0;16>q;++q)r(Ve,Ye+q*_.R,fe,xe+32*q,16);for(q=0;8>q;++q)r(ut,Ce+q*_.B,we,Ie+32*q,8),r(Xe,lt+q*_.B,Le,Ze+32*q,8)}}function Lo(_,N,q,W,re,ce,fe,xe,we){var Ie=[0],Le=[0],Ze=0,Ce=we!=null?we.kd:0,Ve=we??new vt;if(_==null||12>q)return 7;Ve.data=_,Ve.w=N,Ve.ha=q,N=[N],q=[q],Ve.gb=[Ve.gb];e:{var Ye=N,ut=q,Xe=Ve.gb;if(e(_!=null),e(ut!=null),e(Xe!=null),Xe[0]=0,12<=ut[0]&&!n(_,Ye[0],"RIFF")){if(n(_,Ye[0]+8,"WEBP")){Xe=3;break e}var lt=We(_,Ye[0]+4);if(12>lt||4294967286<lt){Xe=3;break e}if(Ce&&lt>ut[0]-8){Xe=7;break e}Xe[0]=lt,Ye[0]+=12,ut[0]-=12}Xe=0}if(Xe!=0)return Xe;for(lt=0<Ve.gb[0],q=q[0];;){e:{var ht=_;ut=N,Xe=q;var _t=Ie,xt=Le,sn=Ye=[0];if((en=Ze=[Ze])[0]=0,8>Xe[0])Xe=7;else{if(!n(ht,ut[0],"VP8X")){if(We(ht,ut[0]+4)!=10){Xe=3;break e}if(18>Xe[0]){Xe=7;break e}var $t=We(ht,ut[0]+8),Mn=1+Se(ht,ut[0]+12);if(2147483648<=Mn*(ht=1+Se(ht,ut[0]+15))){Xe=3;break e}sn!=null&&(sn[0]=$t),_t!=null&&(_t[0]=Mn),xt!=null&&(xt[0]=ht),ut[0]+=18,Xe[0]-=18,en[0]=1}Xe=0}}if(Ze=Ze[0],Ye=Ye[0],Xe!=0)return Xe;if(ut=!!(2&Ye),!lt&&Ze)return 3;if(ce!=null&&(ce[0]=!!(16&Ye)),fe!=null&&(fe[0]=ut),xe!=null&&(xe[0]=0),fe=Ie[0],Ye=Le[0],Ze&&ut&&we==null){Xe=0;break}if(4>q){Xe=7;break}if(lt&&Ze||!lt&&!Ze&&!n(_,N[0],"ALPH")){q=[q],Ve.na=[Ve.na],Ve.P=[Ve.P],Ve.Sa=[Ve.Sa];e:{$t=_,Xe=N,lt=q;var en=Ve.gb;_t=Ve.na,xt=Ve.P,sn=Ve.Sa,Mn=22,e($t!=null),e(lt!=null),ht=Xe[0];var sr=lt[0];for(e(_t!=null),e(sn!=null),_t[0]=null,xt[0]=null,sn[0]=0;;){if(Xe[0]=ht,lt[0]=sr,8>sr){Xe=7;break e}var as=We($t,ht+4);if(4294967286<as){Xe=3;break e}var Un=8+as+1&-2;if(Mn+=Un,0<en&&Mn>en){Xe=3;break e}if(!n($t,ht,"VP8 ")||!n($t,ht,"VP8L")){Xe=0;break e}if(sr[0]<Un){Xe=7;break e}n($t,ht,"ALPH")||(_t[0]=$t,xt[0]=ht+8,sn[0]=as),ht+=Un,sr-=Un}}if(q=q[0],Ve.na=Ve.na[0],Ve.P=Ve.P[0],Ve.Sa=Ve.Sa[0],Xe!=0)break}q=[q],Ve.Ja=[Ve.Ja],Ve.xa=[Ve.xa];e:if(en=_,Xe=N,lt=q,_t=Ve.gb[0],xt=Ve.Ja,sn=Ve.xa,$t=Xe[0],ht=!n(en,$t,"VP8 "),Mn=!n(en,$t,"VP8L"),e(en!=null),e(lt!=null),e(xt!=null),e(sn!=null),8>lt[0])Xe=7;else{if(ht||Mn){if(en=We(en,$t+4),12<=_t&&en>_t-12){Xe=3;break e}if(Ce&&en>lt[0]-8){Xe=7;break e}xt[0]=en,Xe[0]+=8,lt[0]-=8,sn[0]=Mn}else sn[0]=5<=lt[0]&&en[$t+0]==47&&!(en[$t+4]>>5),xt[0]=lt[0];Xe=0}if(q=q[0],Ve.Ja=Ve.Ja[0],Ve.xa=Ve.xa[0],N=N[0],Xe!=0)break;if(4294967286<Ve.Ja)return 3;if(xe==null||ut||(xe[0]=Ve.xa?2:1),fe=[fe],Ye=[Ye],Ve.xa){if(5>q){Xe=7;break}xe=fe,Ce=Ye,ut=ce,_==null||5>q?_=0:5<=q&&_[N+0]==47&&!(_[N+4]>>5)?(lt=[0],en=[0],_t=[0],oe(xt=new K,_,N,q),Mt(xt,lt,en,_t)?(xe!=null&&(xe[0]=lt[0]),Ce!=null&&(Ce[0]=en[0]),ut!=null&&(ut[0]=_t[0]),_=1):_=0):_=0}else{if(10>q){Xe=7;break}xe=Ye,_==null||10>q||!ko(_,N+3,q-3)?_=0:(Ce=_[N+0]|_[N+1]<<8|_[N+2]<<16,ut=16383&(_[N+7]<<8|_[N+6]),_=16383&(_[N+9]<<8|_[N+8]),1&Ce||3<(Ce>>1&7)||!(Ce>>4&1)||Ce>>5>=Ve.Ja||!ut||!_?_=0:(fe&&(fe[0]=ut),xe&&(xe[0]=_),_=1))}if(!_||(fe=fe[0],Ye=Ye[0],Ze&&(Ie[0]!=fe||Le[0]!=Ye)))return 3;we!=null&&(we[0]=Ve,we.offset=N-we.w,e(4294967286>N-we.w),e(we.offset==we.ha-q));break}return Xe==0||Xe==7&&Ze&&we==null?(ce!=null&&(ce[0]|=Ve.na!=null&&0<Ve.na.length),W!=null&&(W[0]=fe),re!=null&&(re[0]=Ye),0):Xe}function Ol(_,N,q){var W=N.width,re=N.height,ce=0,fe=0,xe=W,we=re;if(N.Da=_!=null&&0<_.Da,N.Da&&(xe=_.cd,we=_.bd,ce=_.v,fe=_.j,11>q||(ce&=-2,fe&=-2),0>ce||0>fe||0>=xe||0>=we||ce+xe>W||fe+we>re))return 0;if(N.v=ce,N.j=fe,N.va=ce+xe,N.o=fe+we,N.U=xe,N.T=we,N.da=_!=null&&0<_.da,N.da){if(!Et(xe,we,q=[_.ib],ce=[_.hb]))return 0;N.ib=q[0],N.hb=ce[0]}return N.ob=_!=null&&_.ob,N.Kb=_==null||!_.Sd,N.da&&(N.ob=N.ib<3*W/4&&N.hb<3*re/4,N.Kb=0),1}function qd(_){if(_==null)return 2;if(11>_.S){var N=_.f.RGBA;N.fb+=(_.height-1)*N.A,N.A=-N.A}else N=_.f.kb,_=_.height,N.O+=(_-1)*N.fa,N.fa=-N.fa,N.N+=(_-1>>1)*N.Ab,N.Ab=-N.Ab,N.W+=(_-1>>1)*N.Db,N.Db=-N.Db,N.F!=null&&(N.J+=(_-1)*N.lb,N.lb=-N.lb);return 0}function Fo(_,N,q,W){if(W==null||0>=_||0>=N)return 2;if(q!=null){if(q.Da){var re=q.cd,ce=q.bd,fe=-2&q.v,xe=-2&q.j;if(0>fe||0>xe||0>=re||0>=ce||fe+re>_||xe+ce>N)return 2;_=re,N=ce}if(q.da){if(!Et(_,N,re=[q.ib],ce=[q.hb]))return 2;_=re[0],N=ce[0]}}W.width=_,W.height=N;e:{var we=W.width,Ie=W.height;if(_=W.S,0>=we||0>=Ie||!(_>=y0&&13>_))_=2;else{if(0>=W.Rd&&W.sd==null){fe=ce=re=N=0;var Le=(xe=we*N0[_])*Ie;if(11>_||(ce=(Ie+1)/2*(N=(we+1)/2),_==12&&(fe=(re=we)*Ie)),(Ie=i(Le+2*ce+fe))==null){_=1;break e}W.sd=Ie,11>_?((we=W.f.RGBA).eb=Ie,we.fb=0,we.A=xe,we.size=Le):((we=W.f.kb).y=Ie,we.O=0,we.fa=xe,we.Fd=Le,we.f=Ie,we.N=0+Le,we.Ab=N,we.Cd=ce,we.ea=Ie,we.W=0+Le+ce,we.Db=N,we.Ed=ce,_==12&&(we.F=Ie,we.J=0+Le+2*ce),we.Tc=fe,we.lb=re)}if(N=1,re=W.S,ce=W.width,fe=W.height,re>=y0&&13>re)if(11>re)_=W.f.RGBA,N&=(xe=Math.abs(_.A))*(fe-1)+ce<=_.size,N&=xe>=ce*N0[re],N&=_.eb!=null;else{_=W.f.kb,xe=(ce+1)/2,Le=(fe+1)/2,we=Math.abs(_.fa),Ie=Math.abs(_.Ab);var Ze=Math.abs(_.Db),Ce=Math.abs(_.lb),Ve=Ce*(fe-1)+ce;N&=we*(fe-1)+ce<=_.Fd,N&=Ie*(Le-1)+xe<=_.Cd,N=(N&=Ze*(Le-1)+xe<=_.Ed)&we>=ce&Ie>=xe&Ze>=xe,N&=_.y!=null,N&=_.f!=null,N&=_.ea!=null,re==12&&(N&=Ce>=ce,N&=Ve<=_.Tc,N&=_.F!=null)}else N=0;_=N?0:2}}return _!=0||q!=null&&q.fd&&(_=qd(W)),_}var wc=64,xa=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],ra=24,al=32,ol=8,Bl=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];St("Predictor0","PredictorAdd0"),R.Predictor0=function(){return 4278190080},R.Predictor1=function(_){return _},R.Predictor2=function(_,N,q){return N[q+0]},R.Predictor3=function(_,N,q){return N[q+1]},R.Predictor4=function(_,N,q){return N[q-1]},R.Predictor5=function(_,N,q){return Ut(Ut(_,N[q+1]),N[q+0])},R.Predictor6=function(_,N,q){return Ut(_,N[q-1])},R.Predictor7=function(_,N,q){return Ut(_,N[q+0])},R.Predictor8=function(_,N,q){return Ut(N[q-1],N[q+0])},R.Predictor9=function(_,N,q){return Ut(N[q+0],N[q+1])},R.Predictor10=function(_,N,q){return Ut(Ut(_,N[q-1]),Ut(N[q+0],N[q+1]))},R.Predictor11=function(_,N,q){var W=N[q+0];return 0>=Gt(W>>24&255,_>>24&255,(N=N[q-1])>>24&255)+Gt(W>>16&255,_>>16&255,N>>16&255)+Gt(W>>8&255,_>>8&255,N>>8&255)+Gt(255&W,255&_,255&N)?W:_},R.Predictor12=function(_,N,q){var W=N[q+0];return(Jt((_>>24&255)+(W>>24&255)-((N=N[q-1])>>24&255))<<24|Jt((_>>16&255)+(W>>16&255)-(N>>16&255))<<16|Jt((_>>8&255)+(W>>8&255)-(N>>8&255))<<8|Jt((255&_)+(255&W)-(255&N)))>>>0},R.Predictor13=function(_,N,q){var W=N[q-1];return(zt((_=Ut(_,N[q+0]))>>24&255,W>>24&255)<<24|zt(_>>16&255,W>>16&255)<<16|zt(_>>8&255,W>>8&255)<<8|zt(255&_,255&W))>>>0};var xf=R.PredictorAdd0;R.PredictorAdd1=Nn,St("Predictor2","PredictorAdd2"),St("Predictor3","PredictorAdd3"),St("Predictor4","PredictorAdd4"),St("Predictor5","PredictorAdd5"),St("Predictor6","PredictorAdd6"),St("Predictor7","PredictorAdd7"),St("Predictor8","PredictorAdd8"),St("Predictor9","PredictorAdd9"),St("Predictor10","PredictorAdd10"),St("Predictor11","PredictorAdd11"),St("Predictor12","PredictorAdd12"),St("Predictor13","PredictorAdd13");var vf=R.PredictorAdd2;At("ColorIndexInverseTransform","MapARGB","32b",function(_){return _>>8&255},function(_){return _}),At("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(_){return _},function(_){return _>>8&255});var ks,g0=R.ColorIndexInverseTransform,ll=R.MapARGB,cl=R.VP8LColorIndexInverseTransformAlpha,bi=R.MapAlpha,Vl=R.VP8LPredictorsAdd=[];Vl.length=16,(R.VP8LPredictors=[]).length=16,(R.VP8LPredictorsAdd_C=[]).length=16,(R.VP8LPredictors_C=[]).length=16;var yf,bf,Ul,jl,ul,vu,qa,ql,Vi,ao,Cr,pr,Yr,Rs,fl,Oo,yu,Hd,Gm,Gx,$x,Wx,$m,Wm,bu,oo,zd,Ha,wu=i(511),x0=i(2041),Gd=i(225),$d=i(767),v0=0,Hl=x0,Wd=Gd,Ui=$d,wi=wu,y0=0,ji=1,b0=2,lo=3,Kd=4,wf=5,_c=6,Yd=7,w0=8,_f=9,_0=10,co=[2,3,7],Ef=[3,3,11],_u=[280,256,256,256,40],E0=[0,1,1,1,0],Xd=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],uo=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],fo=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Ec=8,ho=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],po=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],za=null,Kx=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Km=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],T0=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Yx=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],_i=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],is=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],ir=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],sa=[],bs=[],Bo=[],Tc=1,Ym=2,zl=[],Ei=[];It("UpsampleRgbLinePair",vi,3),It("UpsampleBgrLinePair",Ur,3),It("UpsampleRgbaLinePair",na,4),It("UpsampleBgraLinePair",il,4),It("UpsampleArgbLinePair",sl,4),It("UpsampleRgba4444LinePair",Ua,2),It("UpsampleRgb565LinePair",yi,2);var Eu=R.UpsampleRgbLinePair,Xm=R.UpsampleBgrLinePair,Tf=R.UpsampleRgbaLinePair,S0=R.UpsampleBgraLinePair,Sc=R.UpsampleArgbLinePair,dl=R.UpsampleRgba4444LinePair,Ac=R.UpsampleRgb565LinePair,mo=16,Sf=1<<mo-1,Tu=-227,Cc=482,A0=6,Nc=0,Ti=i(256),C0=i(256),Xx=i(256),dw=i(256),hw=i(Cc-Tu),pw=i(Cc-Tu);Fl("YuvToRgbRow",vi,3),Fl("YuvToBgrRow",Ur,3),Fl("YuvToRgbaRow",na,4),Fl("YuvToBgraRow",il,4),Fl("YuvToArgbRow",sl,4),Fl("YuvToRgba4444Row",Ua,2),Fl("YuvToRgb565Row",yi,2);var Ps=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Af=[0,2,8],Jd=[8,7,6,4,4,2,2,2,1,1,1,1],Qd=1;this.WebPDecodeRGBA=function(_,N,q,W,re){var ce=ji,fe=new ft,xe=new dn;fe.ba=xe,xe.S=ce,xe.width=[xe.width],xe.height=[xe.height];var we=xe.width,Ie=xe.height,Le=new Kt;if(Le==null||_==null)var Ze=2;else e(Le!=null),Ze=Lo(_,N,q,Le.width,Le.height,Le.Pd,Le.Qd,Le.format,null);if(Ze!=0?we=0:(we!=null&&(we[0]=Le.width[0]),Ie!=null&&(Ie[0]=Le.height[0]),we=1),we){xe.width=xe.width[0],xe.height=xe.height[0],W!=null&&(W[0]=xe.width),re!=null&&(re[0]=xe.height);e:{if(W=new si,(re=new vt).data=_,re.w=N,re.ha=q,re.kd=1,N=[0],e(re!=null),((_=Lo(re.data,re.w,re.ha,null,null,null,N,null,re))==0||_==7)&&N[0]&&(_=4),(N=_)==0){if(e(fe!=null),W.data=re.data,W.w=re.w+re.offset,W.ha=re.ha-re.offset,W.put=hn,W.ac=ns,W.bc=Fe,W.ma=fe,re.xa){if((_=Be())==null){fe=1;break e}if((function(Ce,Ve){var Ye=[0],ut=[0],Xe=[0];t:for(;;){if(Ce==null)return 0;if(Ve==null)return Ce.a=2,0;if(Ce.l=Ve,Ce.a=0,oe(Ce.m,Ve.data,Ve.w,Ve.ha),!Mt(Ce.m,Ye,ut,Xe)){Ce.a=3;break t}if(Ce.xb=Ym,Ve.width=Ye[0],Ve.height=ut[0],!$e(Ye[0],ut[0],1,Ce,null))break t;return 1}return e(Ce.a!=0),0})(_,W)){if(W=(N=Fo(W.width,W.height,fe.Oa,fe.ba))==0){t:{W=_;n:for(;;){if(W==null){W=0;break t}if(e(W.s.yc!=null),e(W.s.Ya!=null),e(0<W.s.Wb),e((q=W.l)!=null),e((re=q.ma)!=null),W.xb!=0){if(W.ca=re.ba,W.tb=re.tb,e(W.ca!=null),!Ol(re.Oa,q,lo)){W.a=2;break n}if(!Qe(W,q.width)||q.da)break n;if((q.da||xn(W.ca.S))&&nt(),11>W.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),W.ca.f.kb.F!=null&&nt()),W.Pb&&0<W.s.ua&&W.s.vb.X==null&&!le(W.s.vb,W.s.Wa.Xa)){W.a=1;break n}W.xb=0}if(!Ue(W,W.V,W.Ba,W.c,W.i,q.o,ve))break n;re.Dc=W.Ma,W=1;break t}e(W.a!=0),W=0}W=!W}W&&(N=_.a)}else N=_.a}else{if((_=new vs)==null){fe=1;break e}if(_.Fa=re.na,_.P=re.P,_.qc=re.Sa,ma(_,W)){if((N=Fo(W.width,W.height,fe.Oa,fe.ba))==0){if(_.Aa=0,q=fe.Oa,e((re=_)!=null),q!=null){if(0<(we=0>(we=q.Md)?0:100<we?255:255*we/100)){for(Ie=Le=0;4>Ie;++Ie)12>(Ze=re.pb[Ie]).lc&&(Ze.ia=we*Jd[0>Ze.lc?0:Ze.lc]>>3),Le|=Ze.ia;Le&&(alert("todo:VP8InitRandom"),re.ia=1)}re.Ga=q.Id,100<re.Ga?re.Ga=100:0>re.Ga&&(re.Ga=0)}(function(Ce,Ve){if(Ce==null)return 0;if(Ve==null)return er(Ce,2,"NULL VP8Io parameter in VP8Decode().");if(!Ce.cb&&!ma(Ce,Ve))return 0;if(e(Ce.cb),Ve.ac==null||Ve.ac(Ve)){Ve.ob&&(Ce.L=0);var Ye=Af[Ce.L];if(Ce.L==2?(Ce.yb=0,Ce.zb=0):(Ce.yb=Ve.v-Ye>>4,Ce.zb=Ve.j-Ye>>4,0>Ce.yb&&(Ce.yb=0),0>Ce.zb&&(Ce.zb=0)),Ce.Va=Ve.o+15+Ye>>4,Ce.Hb=Ve.va+15+Ye>>4,Ce.Hb>Ce.za&&(Ce.Hb=Ce.za),Ce.Va>Ce.Ub&&(Ce.Va=Ce.Ub),0<Ce.L){var ut=Ce.ed;for(Ye=0;4>Ye;++Ye){var Xe;if(Ce.Qa.Cb){var lt=Ce.Qa.Lb[Ye];Ce.Qa.Fb||(lt+=ut.Tb)}else lt=ut.Tb;for(Xe=0;1>=Xe;++Xe){var ht=Ce.gd[Ye][Xe],_t=lt;if(ut.Pc&&(_t+=ut.vd[0],Xe&&(_t+=ut.od[0])),0<(_t=0>_t?0:63<_t?63:_t)){var xt=_t;0<ut.wb&&(xt=4<ut.wb?xt>>2:xt>>1)>9-ut.wb&&(xt=9-ut.wb),1>xt&&(xt=1),ht.dd=xt,ht.tc=2*_t+xt,ht.ld=40<=_t?2:15<=_t?1:0}else ht.tc=0;ht.La=Xe}}}Ye=0}else er(Ce,6,"Frame setup failed"),Ye=Ce.a;if(Ye=Ye==0){if(Ye){Ce.$c=0,0<Ce.Aa||(Ce.Ic=Qd);t:{Ye=Ce.Ic,ut=4*(xt=Ce.za);var sn=32*xt,$t=xt+1,Mn=0<Ce.L?xt*(0<Ce.Aa?2:1):0,en=(Ce.Aa==2?2:1)*xt;if((ht=ut+832+(Xe=3*(16*Ye+Af[Ce.L])/2*sn)+(lt=Ce.Fa!=null&&0<Ce.Fa.length?Ce.Kc.c*Ce.Kc.i:0))!=ht)Ye=0;else{if(ht>Ce.Vb){if(Ce.Vb=0,Ce.Ec=i(ht),Ce.Fc=0,Ce.Ec==null){Ye=er(Ce,1,"no memory during frame initialization.");break t}Ce.Vb=ht}ht=Ce.Ec,_t=Ce.Fc,Ce.Ac=ht,Ce.Bc=_t,_t+=ut,Ce.Gd=a(sn,Fi),Ce.Hd=0,Ce.rb=a($t+1,Ar),Ce.sb=1,Ce.wa=Mn?a(Mn,Wn):null,Ce.Y=0,Ce.D.Nb=0,Ce.D.wa=Ce.wa,Ce.D.Y=Ce.Y,0<Ce.Aa&&(Ce.D.Y+=xt),e(!0),Ce.oc=ht,Ce.pc=_t,_t+=832,Ce.ya=a(en,Ji),Ce.aa=0,Ce.D.ya=Ce.ya,Ce.D.aa=Ce.aa,Ce.Aa==2&&(Ce.D.aa+=xt),Ce.R=16*xt,Ce.B=8*xt,xt=(sn=Af[Ce.L])*Ce.R,sn=sn/2*Ce.B,Ce.sa=ht,Ce.ta=_t+xt,Ce.qa=Ce.sa,Ce.ra=Ce.ta+16*Ye*Ce.R+sn,Ce.Ha=Ce.qa,Ce.Ia=Ce.ra+8*Ye*Ce.B+sn,Ce.$c=0,_t+=Xe,Ce.mb=lt?ht:null,Ce.nb=lt?_t:null,e(_t+lt<=Ce.Fc+Ce.Vb),Zo(Ce),s(Ce.Ac,Ce.Bc,0,ut),Ye=1}}if(Ye){if(Ve.ka=0,Ve.y=Ce.sa,Ve.O=Ce.ta,Ve.f=Ce.qa,Ve.N=Ce.ra,Ve.ea=Ce.Ha,Ve.Vd=Ce.Ia,Ve.fa=Ce.R,Ve.Rc=Ce.B,Ve.F=null,Ve.J=0,!v0){for(Ye=-255;255>=Ye;++Ye)wu[255+Ye]=0>Ye?-Ye:Ye;for(Ye=-1020;1020>=Ye;++Ye)x0[1020+Ye]=-128>Ye?-128:127<Ye?127:Ye;for(Ye=-112;112>=Ye;++Ye)Gd[112+Ye]=-16>Ye?-16:15<Ye?15:Ye;for(Ye=-255;510>=Ye;++Ye)$d[255+Ye]=0>Ye?0:255<Ye?255:Ye;v0=1}qa=Ys,ql=du,ao=xi,Cr=hu,pr=Ro,Vi=mf,Yr=xu,Rs=Va,fl=te,Oo=Ne,yu=bc,Hd=V,Gm=Me,Gx=qe,$x=so,Wx=ga,$m=Ll,Wm=yc,bs[0]=nl,bs[1]=pu,bs[2]=Pl,bs[3]=vc,bs[4]=Xs,bs[5]=Dl,bs[6]=Fs,bs[7]=kr,bs[8]=Ml,bs[9]=Qi,sa[0]=Oa,sa[1]=gc,sa[2]=xc,sa[3]=Po,sa[4]=Do,sa[5]=Bi,sa[6]=tl,Bo[0]=Mo,Bo[1]=mu,Bo[2]=Ba,Bo[3]=gu,Bo[4]=Is,Bo[5]=ea,Bo[6]=to,Ye=1}else Ye=0}Ye&&(Ye=(function(sr,as){for(sr.M=0;sr.M<sr.Va;++sr.M){var Un,Wt=sr.Jc[sr.M&sr.Xb],Ft=sr.m,ds=sr;for(Un=0;Un<ds.za;++Un){var Cn=Ft,$n=ds,Lr=$n.Ac,Js=$n.Bc+4*Un,Si=$n.zc,Xr=$n.ya[$n.aa+Un];if($n.Qa.Bb?Xr.$b=Re(Cn,$n.Pa.jb[0])?2+Re(Cn,$n.Pa.jb[2]):Re(Cn,$n.Pa.jb[1]):Xr.$b=0,$n.kc&&(Xr.Ad=Re(Cn,$n.Bd)),Xr.Za=!Re(Cn,145)+0,Xr.Za){var Os=Xr.Ob,qi=0;for($n=0;4>$n;++$n){var Bs,Qn=Si[0+$n];for(Bs=0;4>Bs;++Bs){Qn=_i[Lr[Js+Bs]][Qn];for(var yr=T0[Re(Cn,Qn[0])];0<yr;)yr=T0[2*yr+Re(Cn,Qn[yr])];Qn=-yr,Lr[Js+Bs]=Qn}r(Os,qi,Lr,Js,4),qi+=4,Si[0+$n]=Qn}}else Qn=Re(Cn,156)?Re(Cn,128)?1:3:Re(Cn,163)?2:0,Xr.Ob[0]=Qn,s(Lr,Js,Qn,4),s(Si,0,Qn,4);Xr.Dd=Re(Cn,142)?Re(Cn,114)?Re(Cn,183)?1:3:2:0}if(ds.m.Ka)return er(sr,7,"Premature end-of-partition0 encountered.");for(;sr.ja<sr.za;++sr.ja){if(ds=Wt,Cn=(Ft=sr).rb[Ft.sb-1],Lr=Ft.rb[Ft.sb+Ft.ja],Un=Ft.ya[Ft.aa+Ft.ja],Js=Ft.kc?Un.Ad:0)Cn.la=Lr.la=0,Un.Za||(Cn.Na=Lr.Na=0),Un.Hc=0,Un.Gc=0,Un.ia=0;else{var hs,Nr;if(Cn=Lr,Lr=ds,Js=Ft.Pa.Xc,Si=Ft.ya[Ft.aa+Ft.ja],Xr=Ft.pb[Si.$b],$n=Si.ad,Os=0,qi=Ft.rb[Ft.sb-1],Qn=Bs=0,s($n,Os,0,384),Si.Za)var Qs=0,ps=Js[3];else{yr=i(16);var br=Cn.Na+qi.Na;if(br=za(Lr,Js[1],br,Xr.Eb,0,yr,0),Cn.Na=qi.Na=(0<br)+0,1<br)qa(yr,0,$n,Os);else{var Ds=yr[0]+3>>3;for(yr=0;256>yr;yr+=16)$n[Os+yr]=Ds}Qs=1,ps=Js[0]}var Fr=15&Cn.la,Vs=15&qi.la;for(yr=0;4>yr;++yr){var Us=1&Vs;for(Ds=Nr=0;4>Ds;++Ds)Fr=Fr>>1|(Us=(br=za(Lr,ps,br=Us+(1&Fr),Xr.Sc,Qs,$n,Os))>Qs)<<7,Nr=Nr<<2|(3<br?3:1<br?2:$n[Os+0]!=0),Os+=16;Fr>>=4,Vs=Vs>>1|Us<<7,Bs=(Bs<<8|Nr)>>>0}for(ps=Fr,Qs=Vs>>4,hs=0;4>hs;hs+=2){for(Nr=0,Fr=Cn.la>>4+hs,Vs=qi.la>>4+hs,yr=0;2>yr;++yr){for(Us=1&Vs,Ds=0;2>Ds;++Ds)br=Us+(1&Fr),Fr=Fr>>1|(Us=0<(br=za(Lr,Js[2],br,Xr.Qc,0,$n,Os)))<<3,Nr=Nr<<2|(3<br?3:1<br?2:$n[Os+0]!=0),Os+=16;Fr>>=2,Vs=Vs>>1|Us<<5}Qn|=Nr<<4*hs,ps|=Fr<<4<<hs,Qs|=(240&Vs)<<hs}Cn.la=ps,qi.la=Qs,Si.Hc=Bs,Si.Gc=Qn,Si.ia=43690&Qn?0:Xr.ia,Js=!(Bs|Qn)}if(0<Ft.L&&(Ft.wa[Ft.Y+Ft.ja]=Ft.gd[Un.$b][Un.Za],Ft.wa[Ft.Y+Ft.ja].La|=!Js),ds.Ka)return er(sr,7,"Premature end-of-file encountered.")}if(Zo(sr),Ft=as,ds=1,Un=(Wt=sr).D,Cn=0<Wt.L&&Wt.M>=Wt.zb&&Wt.M<=Wt.Va,Wt.Aa==0)t:{if(Un.M=Wt.M,Un.uc=Cn,ja(Wt,Un),ds=1,Un=(Nr=Wt.D).Nb,Cn=(Qn=Af[Wt.L])*Wt.R,Lr=Qn/2*Wt.B,yr=16*Un*Wt.R,Ds=8*Un*Wt.B,Js=Wt.sa,Si=Wt.ta-Cn+yr,Xr=Wt.qa,$n=Wt.ra-Lr+Ds,Os=Wt.Ha,qi=Wt.Ia-Lr+Ds,Vs=(Fr=Nr.M)==0,Bs=Fr>=Wt.Va-1,Wt.Aa==2&&ja(Wt,Nr),Nr.uc)for(Us=(br=Wt).D.M,e(br.D.uc),Nr=br.yb;Nr<br.Hb;++Nr){Qs=Nr,ps=Us;var jr=(mr=(js=br).D).Nb;hs=js.R;var mr=mr.wa[mr.Y+Qs],Hi=js.sa,ws=js.ta+16*jr*hs+16*Qs,_n=mr.dd,Tn=mr.tc;if(Tn!=0)if(e(3<=Tn),js.L==1)0<Qs&&Wx(Hi,ws,hs,Tn+4),mr.La&&Wm(Hi,ws,hs,Tn),0<ps&&$x(Hi,ws,hs,Tn+4),mr.La&&$m(Hi,ws,hs,Tn);else{var wr=js.B,va=js.qa,go=js.ra+8*jr*wr+8*Qs,ia=js.Ha,js=js.Ia+8*jr*wr+8*Qs;jr=mr.ld,0<Qs&&(Rs(Hi,ws,hs,Tn+4,_n,jr),Oo(va,go,ia,js,wr,Tn+4,_n,jr)),mr.La&&(Hd(Hi,ws,hs,Tn,_n,jr),Gx(va,go,ia,js,wr,Tn,_n,jr)),0<ps&&(Yr(Hi,ws,hs,Tn+4,_n,jr),fl(va,go,ia,js,wr,Tn+4,_n,jr)),mr.La&&(yu(Hi,ws,hs,Tn,_n,jr),Gm(va,go,ia,js,wr,Tn,_n,jr))}}if(Wt.ia&&alert("todo:DitherRow"),Ft.put!=null){if(Nr=16*Fr,Fr=16*(Fr+1),Vs?(Ft.y=Wt.sa,Ft.O=Wt.ta+yr,Ft.f=Wt.qa,Ft.N=Wt.ra+Ds,Ft.ea=Wt.Ha,Ft.W=Wt.Ia+Ds):(Nr-=Qn,Ft.y=Js,Ft.O=Si,Ft.f=Xr,Ft.N=$n,Ft.ea=Os,Ft.W=qi),Bs||(Fr-=Qn),Fr>Ft.o&&(Fr=Ft.o),Ft.F=null,Ft.J=null,Wt.Fa!=null&&0<Wt.Fa.length&&Nr<Fr&&(Ft.J=E(Wt,Ft,Nr,Fr-Nr),Ft.F=Wt.mb,Ft.F==null&&Ft.F.length==0)){ds=er(Wt,3,"Could not decode alpha data.");break t}Nr<Ft.j&&(Qn=Ft.j-Nr,Nr=Ft.j,e(!(1&Qn)),Ft.O+=Wt.R*Qn,Ft.N+=Wt.B*(Qn>>1),Ft.W+=Wt.B*(Qn>>1),Ft.F!=null&&(Ft.J+=Ft.width*Qn)),Nr<Fr&&(Ft.O+=Ft.v,Ft.N+=Ft.v>>1,Ft.W+=Ft.v>>1,Ft.F!=null&&(Ft.J+=Ft.v),Ft.ka=Nr-Ft.j,Ft.U=Ft.va-Ft.v,Ft.T=Fr-Nr,ds=Ft.put(Ft))}Un+1!=Wt.Ic||Bs||(r(Wt.sa,Wt.ta-Cn,Js,Si+16*Wt.R,Cn),r(Wt.qa,Wt.ra-Lr,Xr,$n+8*Wt.B,Lr),r(Wt.Ha,Wt.Ia-Lr,Os,qi+8*Wt.B,Lr))}if(!ds)return er(sr,6,"Output aborted.")}return 1})(Ce,Ve)),Ve.bc!=null&&Ve.bc(Ve),Ye&=1}return Ye?(Ce.cb=0,Ye):0})(_,W)||(N=_.a)}}else N=_.a}N==0&&fe.Oa!=null&&fe.Oa.fd&&(N=qd(fe.ba))}fe=N}ce=fe!=0?null:11>ce?xe.f.RGBA.eb:xe.f.kb.y}else ce=null;return ce};var N0=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(R,U){for(var L="",O=0;O<4;O++)L+=String.fromCharCode(R[U++]);return L}function d(R,U){return R[U+0]|R[U+1]<<8}function p(R,U){return(R[U+0]|R[U+1]<<8|R[U+2]<<16)>>>0}function g(R,U){return(R[U+0]|R[U+1]<<8|R[U+2]<<16|R[U+3]<<24)>>>0}new c;var x=[0],w=[0],y=[],S=new c,C=t,F=(function(R,U){var L={},O=0,j=!1,ie=0,Ee=0;if(L.frames=[],!(function(B,K){for(var Y=0;Y<4;Y++)if(B[K+Y]!="RIFF".charCodeAt(Y))return!0;return!1})(R,U)){for(g(R,U+=4),U+=8;U<R.length;){var ae=u(R,U),pe=g(R,U+=4);U+=4;var de=pe+(1&pe);switch(ae){case"VP8 ":case"VP8L":L.frames[O]===void 0&&(L.frames[O]={}),(ne=L.frames[O]).src_off=j?Ee:U-8,ne.src_size=ie+pe+8,O++,j&&(j=!1,ie=0,Ee=0);break;case"VP8X":(ne=L.header={}).feature_flags=R[U];var oe=U+4;ne.canvas_width=1+p(R,oe),oe+=3,ne.canvas_height=1+p(R,oe),oe+=3;break;case"ALPH":j=!0,ie=de+8,Ee=U-8;break;case"ANIM":(ne=L.header).bgcolor=g(R,U),oe=U+4,ne.loop_count=d(R,oe),oe+=2;break;case"ANMF":var ke,ne;(ne=L.frames[O]={}).offset_x=2*p(R,U),U+=3,ne.offset_y=2*p(R,U),U+=3,ne.width=1+p(R,U),U+=3,ne.height=1+p(R,U),U+=3,ne.duration=p(R,U),U+=3,ke=R[U++],ne.dispose=1&ke,ne.blend=ke>>1&1}ae!="ANMF"&&(U+=de)}return L}})(C,0);F.response=C,F.rgbaoutput=!0,F.dataurl=!1;var I=F.header?F.header:null,D=F.frames?F.frames:null;if(I){I.loop_counter=I.loop_count,x=[I.canvas_height],w=[I.canvas_width];for(var z=0;z<D.length&&D[z].blend!=0;z++);}var G=D[0],P=S.WebPDecodeRGBA(C,G.src_off,G.src_size,w,x);G.rgba=P,G.imgwidth=w[0],G.imgheight=x[0];for(var M=0;M<w[0]*x[0]*4;M++)y[M]=P[M];return this.width=w,this.height=x,this.data=y,this}(function(t){var e,n,r,s,i,a,o,c,u,d=function(B){return B=B||{},this.isStrokeTransparent=B.isStrokeTransparent||!1,this.strokeOpacity=B.strokeOpacity||1,this.strokeStyle=B.strokeStyle||"#000000",this.fillStyle=B.fillStyle||"#000000",this.isFillTransparent=B.isFillTransparent||!1,this.fillOpacity=B.fillOpacity||1,this.font=B.font||"10px sans-serif",this.textBaseline=B.textBaseline||"alphabetic",this.textAlign=B.textAlign||"left",this.lineWidth=B.lineWidth||1,this.lineJoin=B.lineJoin||"miter",this.lineCap=B.lineCap||"butt",this.path=B.path||[],this.transform=B.transform!==void 0?B.transform.clone():new c,this.globalCompositeOperation=B.globalCompositeOperation||"normal",this.globalAlpha=B.globalAlpha||1,this.clip_path=B.clip_path||[],this.currentPoint=B.currentPoint||new a,this.miterLimit=B.miterLimit||10,this.lastPoint=B.lastPoint||new a,this.lineDashOffset=B.lineDashOffset||0,this.lineDash=B.lineDash||[],this.margin=B.margin||[0,0,0,0],this.prevPageLastElemOffset=B.prevPageLastElemOffset||0,this.ignoreClearRect=typeof B.ignoreClearRect!="boolean"||B.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new p(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,a=this.internal.Point,o=this.internal.Rectangle,c=this.internal.Matrix,u=new d}]);var p=function(B){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var K=B;Object.defineProperty(this,"pdf",{get:function(){return K}});var Y=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Y},set:function(le){Y=!!le}});var Q=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Q},set:function(le){Q=!!le}});var ue=0;Object.defineProperty(this,"posX",{get:function(){return ue},set:function(le){isNaN(le)||(ue=le)}});var ge=0;Object.defineProperty(this,"posY",{get:function(){return ge},set:function(le){isNaN(le)||(ge=le)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(le){var Ge;typeof le=="number"?Ge=[le,le,le,le]:((Ge=new Array(4))[0]=le[0],Ge[1]=le.length>=2?le[1]:Ge[0],Ge[2]=le.length>=3?le[2]:Ge[0],Ge[3]=le.length>=4?le[3]:Ge[1]),u.margin=Ge}});var Pe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Pe},set:function(le){Pe=le}});var ee=0;Object.defineProperty(this,"lastBreak",{get:function(){return ee},set:function(le){ee=le}});var Re=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Re},set:function(le){Re=le}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(le){le instanceof d&&(u=le)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(le){u.path=le}});var He=[];Object.defineProperty(this,"ctxStack",{get:function(){return He},set:function(le){He=le}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(le){var Ge;Ge=g(le),this.ctx.fillStyle=Ge.style,this.ctx.isFillTransparent=Ge.a===0,this.ctx.fillOpacity=Ge.a,this.pdf.setFillColor(Ge.r,Ge.g,Ge.b,{a:Ge.a}),this.pdf.setTextColor(Ge.r,Ge.g,Ge.b,{a:Ge.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(le){var Ge=g(le);this.ctx.strokeStyle=Ge.style,this.ctx.isStrokeTransparent=Ge.a===0,this.ctx.strokeOpacity=Ge.a,Ge.a===0?this.pdf.setDrawColor(255,255,255):(Ge.a,this.pdf.setDrawColor(Ge.r,Ge.g,Ge.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(le){["butt","round","square"].indexOf(le)!==-1&&(this.ctx.lineCap=le,this.pdf.setLineCap(le))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(le){isNaN(le)||(this.ctx.lineWidth=le,this.pdf.setLineWidth(le))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(le){["bevel","round","miter"].indexOf(le)!==-1&&(this.ctx.lineJoin=le,this.pdf.setLineJoin(le))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(le){isNaN(le)||(this.ctx.miterLimit=le,this.pdf.setMiterLimit(le))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(le){this.ctx.textBaseline=le}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(le){["right","end","center","left","start"].indexOf(le)!==-1&&(this.ctx.textAlign=le)}});var he=null,Se=null,We=null;Object.defineProperty(this,"fontFaces",{get:function(){return We},set:function(le){he=null,Se=null,We=le}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(le){var Ge;if(this.ctx.font=le,(Ge=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(le))!==null){var st=Ge[1];Ge[2];var Et=Ge[3],je=Ge[4];Ge[5];var yt=Ge[6],St=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(je)[2];je=Math.floor(St==="px"?parseFloat(je)*this.pdf.internal.scaleFactor:St==="em"?parseFloat(je)*this.pdf.getFontSize():parseFloat(je)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(je);var Rt=(function(At){var zn,Ot,Ct=[],Ht=At.trim();if(Ht==="")return CE;if(Ht in RD)return[RD[Ht]];for(;Ht!=="";){switch(Ot=null,zn=(Ht=DD(Ht)).charAt(0)){case'"':case"'":Ot=W0e(Ht.substring(1),zn);break;default:Ot=K0e(Ht)}if(Ot===null||(Ct.push(Ot[0]),(Ht=DD(Ot[1]))!==""&&Ht.charAt(0)!==","))return CE;Ht=Ht.replace(/^,/,"")}return Ct})(yt);if(this.fontFaces){var Ut=(function(At,zn){var Ot=At.getFontList(),Ct=JSON.stringify(Ot);if(he===null||Se!==Ct){var Ht=(function(vn){var fn=[];return Object.keys(vn).forEach(function(Zn){vn[Zn].forEach(function(xn){var pn=null;switch(xn){case"bold":pn={family:Zn,weight:"bold"};break;case"italic":pn={family:Zn,style:"italic"};break;case"bolditalic":pn={family:Zn,weight:"bold",style:"italic"};break;case"":case"normal":pn={family:Zn}}pn!==null&&(pn.ref={name:Zn,style:xn},fn.push(pn))})}),fn})(Ot);he=(function(vn){for(var fn={},Zn=0;Zn<vn.length;++Zn){var xn=AE(vn[Zn]),pn=xn.family,cr=xn.stretch,dn=xn.style,Kt=xn.weight;fn[pn]=fn[pn]||{},fn[pn][cr]=fn[pn][cr]||{},fn[pn][cr][dn]=fn[pn][cr][dn]||{},fn[pn][cr][dn][Kt]=xn}return fn})(Ht.concat(zn)),Se=Ct}return he})(this.pdf,this.fontFaces),Jt=Rt.map(function(At){return{family:At,stretch:"normal",weight:Et,style:st}}),zt=(function(At,zn,Ot){for(var Ct=(Ot=Ot||{}).defaultFontFamily||"times",Ht=Object.assign({},$0e,Ot.genericFontFamilies||{}),vn=null,fn=null,Zn=0;Zn<zn.length;++Zn)if(Ht[(vn=AE(zn[Zn])).family]&&(vn.family=Ht[vn.family]),At.hasOwnProperty(vn.family)){fn=At[vn.family];break}if(!(fn=fn||At[Ct]))throw new Error("Could not find a font-family for the rule '"+PD(vn)+"' and default family '"+Ct+"'.");if(fn=(function(xn,pn){if(pn[xn])return pn[xn];var cr=KT[xn],dn=cr<=KT.normal?-1:1,Kt=kD(pn,jV,cr,dn);if(!Kt)throw new Error("Could not find a matching font-stretch value for "+xn);return Kt})(vn.stretch,fn),fn=(function(xn,pn){if(pn[xn])return pn[xn];for(var cr=UV[xn],dn=0;dn<cr.length;++dn)if(pn[cr[dn]])return pn[cr[dn]];throw new Error("Could not find a matching font-style for "+xn)})(vn.style,fn),!(fn=(function(xn,pn){if(pn[xn])return pn[xn];if(xn===400&&pn[500])return pn[500];if(xn===500&&pn[400])return pn[400];var cr=G0e[xn],dn=kD(pn,qV,cr,xn<400?-1:1);if(!dn)throw new Error("Could not find a matching font-weight for value "+xn);return dn})(vn.weight,fn)))throw new Error("Failed to resolve a font for the rule '"+PD(vn)+"'.");return fn})(Ut,Jt);this.pdf.setFont(zt.ref.name,zt.ref.style)}else{var Gt="";(Et==="bold"||parseInt(Et,10)>=700||st==="bold")&&(Gt="bold"),st==="italic"&&(Gt+="italic"),Gt.length===0&&(Gt="normal");for(var Nn="",Qt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Lt=0;Lt<Rt.length;Lt++){if(this.pdf.internal.getFont(Rt[Lt],Gt,{noFallback:!0,disableWarning:!0})!==void 0){Nn=Rt[Lt];break}if(Gt==="bolditalic"&&this.pdf.internal.getFont(Rt[Lt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Nn=Rt[Lt],Gt="bold";else if(this.pdf.internal.getFont(Rt[Lt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Nn=Rt[Lt],Gt="normal";break}}if(Nn===""){for(var kt=0;kt<Rt.length;kt++)if(Qt[Rt[kt]]){Nn=Qt[Rt[kt]];break}}Nn=Nn===""?"Times":Nn,this.pdf.setFont(Nn,Gt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(le){this.ctx.globalCompositeOperation=le}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(le){this.ctx.globalAlpha=le}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(le){this.ctx.lineDashOffset=le,ne.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(le){this.ctx.lineDash=le,ne.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(le){this.ctx.ignoreClearRect=!!le}})};p.prototype.setLineDash=function(B){this.lineDash=B},p.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},p.prototype.fill=function(){D.call(this,"fill",!1)},p.prototype.stroke=function(){D.call(this,"stroke",!1)},p.prototype.beginPath=function(){this.path=[{type:"begin"}]},p.prototype.moveTo=function(B,K){if(isNaN(B)||isNaN(K))throw ls.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Y=this.ctx.transform.applyToPoint(new a(B,K));this.path.push({type:"mt",x:Y.x,y:Y.y}),this.ctx.lastPoint=new a(B,K)},p.prototype.closePath=function(){var B=new a(0,0),K=0;for(K=this.path.length-1;K!==-1;K--)if(this.path[K].type==="begin"&&zr(this.path[K+1])==="object"&&typeof this.path[K+1].x=="number"){B=new a(this.path[K+1].x,this.path[K+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(B.x,B.y)},p.prototype.lineTo=function(B,K){if(isNaN(B)||isNaN(K))throw ls.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Y=this.ctx.transform.applyToPoint(new a(B,K));this.path.push({type:"lt",x:Y.x,y:Y.y}),this.ctx.lastPoint=new a(Y.x,Y.y)},p.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),D.call(this,null,!0)},p.prototype.quadraticCurveTo=function(B,K,Y,Q){if(isNaN(Y)||isNaN(Q)||isNaN(B)||isNaN(K))throw ls.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ue=this.ctx.transform.applyToPoint(new a(Y,Q)),ge=this.ctx.transform.applyToPoint(new a(B,K));this.path.push({type:"qct",x1:ge.x,y1:ge.y,x:ue.x,y:ue.y}),this.ctx.lastPoint=new a(ue.x,ue.y)},p.prototype.bezierCurveTo=function(B,K,Y,Q,ue,ge){if(isNaN(ue)||isNaN(ge)||isNaN(B)||isNaN(K)||isNaN(Y)||isNaN(Q))throw ls.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Pe=this.ctx.transform.applyToPoint(new a(ue,ge)),ee=this.ctx.transform.applyToPoint(new a(B,K)),Re=this.ctx.transform.applyToPoint(new a(Y,Q));this.path.push({type:"bct",x1:ee.x,y1:ee.y,x2:Re.x,y2:Re.y,x:Pe.x,y:Pe.y}),this.ctx.lastPoint=new a(Pe.x,Pe.y)},p.prototype.arc=function(B,K,Y,Q,ue,ge){if(isNaN(B)||isNaN(K)||isNaN(Y)||isNaN(Q)||isNaN(ue))throw ls.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ge=!!ge,!this.ctx.transform.isIdentity){var Pe=this.ctx.transform.applyToPoint(new a(B,K));B=Pe.x,K=Pe.y;var ee=this.ctx.transform.applyToPoint(new a(0,Y)),Re=this.ctx.transform.applyToPoint(new a(0,0));Y=Math.sqrt(Math.pow(ee.x-Re.x,2)+Math.pow(ee.y-Re.y,2))}Math.abs(ue-Q)>=2*Math.PI&&(Q=0,ue=2*Math.PI),this.path.push({type:"arc",x:B,y:K,radius:Y,startAngle:Q,endAngle:ue,counterclockwise:ge})},p.prototype.arcTo=function(B,K,Y,Q,ue){throw new Error("arcTo not implemented.")},p.prototype.rect=function(B,K,Y,Q){if(isNaN(B)||isNaN(K)||isNaN(Y)||isNaN(Q))throw ls.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(B,K),this.lineTo(B+Y,K),this.lineTo(B+Y,K+Q),this.lineTo(B,K+Q),this.lineTo(B,K),this.lineTo(B+Y,K),this.lineTo(B,K)},p.prototype.fillRect=function(B,K,Y,Q){if(isNaN(B)||isNaN(K)||isNaN(Y)||isNaN(Q))throw ls.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!x.call(this)){var ue={};this.lineCap!=="butt"&&(ue.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ue.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(B,K,Y,Q),this.fill(),ue.hasOwnProperty("lineCap")&&(this.lineCap=ue.lineCap),ue.hasOwnProperty("lineJoin")&&(this.lineJoin=ue.lineJoin)}},p.prototype.strokeRect=function(B,K,Y,Q){if(isNaN(B)||isNaN(K)||isNaN(Y)||isNaN(Q))throw ls.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");w.call(this)||(this.beginPath(),this.rect(B,K,Y,Q),this.stroke())},p.prototype.clearRect=function(B,K,Y,Q){if(isNaN(B)||isNaN(K)||isNaN(Y)||isNaN(Q))throw ls.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(B,K,Y,Q))},p.prototype.save=function(B){B=typeof B!="boolean"||B;for(var K=this.pdf.internal.getCurrentPageInfo().pageNumber,Y=0;Y<this.pdf.internal.getNumberOfPages();Y++)this.pdf.setPage(Y+1),this.pdf.internal.out("q");if(this.pdf.setPage(K),B){this.ctx.fontSize=this.pdf.internal.getFontSize();var Q=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Q}},p.prototype.restore=function(B){B=typeof B!="boolean"||B;for(var K=this.pdf.internal.getCurrentPageInfo().pageNumber,Y=0;Y<this.pdf.internal.getNumberOfPages();Y++)this.pdf.setPage(Y+1),this.pdf.internal.out("Q");this.pdf.setPage(K),B&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},p.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var g=function(B){var K,Y,Q,ue;if(B.isCanvasGradient===!0&&(B=B.getColor()),!B)return{r:0,g:0,b:0,a:0,style:B};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(B))K=0,Y=0,Q=0,ue=0;else{var ge=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(B);if(ge!==null)K=parseInt(ge[1]),Y=parseInt(ge[2]),Q=parseInt(ge[3]),ue=1;else if((ge=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(B))!==null)K=parseInt(ge[1]),Y=parseInt(ge[2]),Q=parseInt(ge[3]),ue=parseFloat(ge[4]);else{if(ue=1,typeof B=="string"&&B.charAt(0)!=="#"){var Pe=new DV(B);B=Pe.ok?Pe.toHex():"#000000"}B.length===4?(K=B.substring(1,2),K+=K,Y=B.substring(2,3),Y+=Y,Q=B.substring(3,4),Q+=Q):(K=B.substring(1,3),Y=B.substring(3,5),Q=B.substring(5,7)),K=parseInt(K,16),Y=parseInt(Y,16),Q=parseInt(Q,16)}}return{r:K,g:Y,b:Q,a:ue,style:B}},x=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},w=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};p.prototype.fillText=function(B,K,Y,Q){if(isNaN(K)||isNaN(Y)||typeof B!="string")throw ls.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Q=isNaN(Q)?void 0:Q,!x.call(this)){var ue=de(this.ctx.transform.rotation),ge=this.ctx.transform.scaleX;O.call(this,{text:B,x:K,y:Y,scale:ge,angle:ue,align:this.textAlign,maxWidth:Q})}},p.prototype.strokeText=function(B,K,Y,Q){if(isNaN(K)||isNaN(Y)||typeof B!="string")throw ls.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!w.call(this)){Q=isNaN(Q)?void 0:Q;var ue=de(this.ctx.transform.rotation),ge=this.ctx.transform.scaleX;O.call(this,{text:B,x:K,y:Y,scale:ge,renderingMode:"stroke",angle:ue,align:this.textAlign,maxWidth:Q})}},p.prototype.measureText=function(B){if(typeof B!="string")throw ls.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var K=this.pdf,Y=this.pdf.internal.scaleFactor,Q=K.internal.getFontSize(),ue=K.getStringUnitWidth(B)*Q/K.internal.scaleFactor;return new function(ge){var Pe=(ge=ge||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Pe}}),this}({width:ue*=Math.round(96*Y/72*1e4)/1e4})},p.prototype.scale=function(B,K){if(isNaN(B)||isNaN(K))throw ls.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Y=new c(B,0,0,K,0,0);this.ctx.transform=this.ctx.transform.multiply(Y)},p.prototype.rotate=function(B){if(isNaN(B))throw ls.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var K=new c(Math.cos(B),Math.sin(B),-Math.sin(B),Math.cos(B),0,0);this.ctx.transform=this.ctx.transform.multiply(K)},p.prototype.translate=function(B,K){if(isNaN(B)||isNaN(K))throw ls.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Y=new c(1,0,0,1,B,K);this.ctx.transform=this.ctx.transform.multiply(Y)},p.prototype.transform=function(B,K,Y,Q,ue,ge){if(isNaN(B)||isNaN(K)||isNaN(Y)||isNaN(Q)||isNaN(ue)||isNaN(ge))throw ls.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Pe=new c(B,K,Y,Q,ue,ge);this.ctx.transform=this.ctx.transform.multiply(Pe)},p.prototype.setTransform=function(B,K,Y,Q,ue,ge){B=isNaN(B)?1:B,K=isNaN(K)?0:K,Y=isNaN(Y)?0:Y,Q=isNaN(Q)?1:Q,ue=isNaN(ue)?0:ue,ge=isNaN(ge)?0:ge,this.ctx.transform=new c(B,K,Y,Q,ue,ge)};var y=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};p.prototype.drawImage=function(B,K,Y,Q,ue,ge,Pe,ee,Re){var He=this.pdf.getImageProperties(B),he=1,Se=1,We=1,le=1;Q!==void 0&&ee!==void 0&&(We=ee/Q,le=Re/ue,he=He.width/Q*ee/Q,Se=He.height/ue*Re/ue),ge===void 0&&(ge=K,Pe=Y,K=0,Y=0),Q!==void 0&&ee===void 0&&(ee=Q,Re=ue),Q===void 0&&ee===void 0&&(ee=He.width,Re=He.height);var Ge=this.ctx.transform.decompose(),st=de(Ge.rotate.shx),Et=new c,je=(Et=(Et=(Et=Et.multiply(Ge.translate)).multiply(Ge.skew)).multiply(Ge.scale)).applyToRectangle(new o(ge-K*We,Pe-Y*le,Q*he,ue*Se));if(this.autoPaging){for(var yt,St=S.call(this,je),Rt=[],Ut=0;Ut<St.length;Ut+=1)Rt.indexOf(St[Ut])===-1&&Rt.push(St[Ut]);I(Rt);for(var Jt=Rt[0],zt=Rt[Rt.length-1],Gt=Jt;Gt<zt+1;Gt++){this.pdf.setPage(Gt);var Nn=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Qt=Gt===1?this.posY+this.margin[0]:this.margin[0],Lt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],kt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],At=Gt===1?0:Lt+(Gt-2)*kt;if(this.ctx.clip_path.length!==0){var zn=this.path;yt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=F(yt,this.posX+this.margin[3],-At+Qt+this.ctx.prevPageLastElemOffset),z.call(this,"fill",!0),this.path=zn}var Ot=JSON.parse(JSON.stringify(je));Ot=F([Ot],this.posX+this.margin[3],-At+Qt+this.ctx.prevPageLastElemOffset)[0];var Ct=(Gt>Jt||Gt<zt)&&y.call(this);Ct&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Nn,kt,null).clip().discardPath()),this.pdf.addImage(B,"JPEG",Ot.x,Ot.y,Ot.w,Ot.h,null,null,st),Ct&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(B,"JPEG",je.x,je.y,je.w,je.h,null,null,st)};var S=function(B,K,Y){var Q=[];K=K||this.pdf.internal.pageSize.width,Y=Y||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ue=this.posY+this.ctx.prevPageLastElemOffset;switch(B.type){default:case"mt":case"lt":Q.push(Math.floor((B.y+ue)/Y)+1);break;case"arc":Q.push(Math.floor((B.y+ue-B.radius)/Y)+1),Q.push(Math.floor((B.y+ue+B.radius)/Y)+1);break;case"qct":var ge=oe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,B.x1,B.y1,B.x,B.y);Q.push(Math.floor((ge.y+ue)/Y)+1),Q.push(Math.floor((ge.y+ge.h+ue)/Y)+1);break;case"bct":var Pe=ke(this.ctx.lastPoint.x,this.ctx.lastPoint.y,B.x1,B.y1,B.x2,B.y2,B.x,B.y);Q.push(Math.floor((Pe.y+ue)/Y)+1),Q.push(Math.floor((Pe.y+Pe.h+ue)/Y)+1);break;case"rect":Q.push(Math.floor((B.y+ue)/Y)+1),Q.push(Math.floor((B.y+B.h+ue)/Y)+1)}for(var ee=0;ee<Q.length;ee+=1)for(;this.pdf.internal.getNumberOfPages()<Q[ee];)C.call(this);return Q},C=function(){var B=this.fillStyle,K=this.strokeStyle,Y=this.font,Q=this.lineCap,ue=this.lineWidth,ge=this.lineJoin;this.pdf.addPage(),this.fillStyle=B,this.strokeStyle=K,this.font=Y,this.lineCap=Q,this.lineWidth=ue,this.lineJoin=ge},F=function(B,K,Y){for(var Q=0;Q<B.length;Q++)switch(B[Q].type){case"bct":B[Q].x2+=K,B[Q].y2+=Y;case"qct":B[Q].x1+=K,B[Q].y1+=Y;default:B[Q].x+=K,B[Q].y+=Y}return B},I=function(B){return B.sort(function(K,Y){return K-Y})},D=function(B,K){var Y=this.fillStyle,Q=this.strokeStyle,ue=this.lineCap,ge=this.lineWidth,Pe=Math.abs(ge*this.ctx.transform.scaleX),ee=this.lineJoin;if(this.autoPaging){for(var Re,He,he=JSON.parse(JSON.stringify(this.path)),Se=JSON.parse(JSON.stringify(this.path)),We=[],le=0;le<Se.length;le++)if(Se[le].x!==void 0)for(var Ge=S.call(this,Se[le]),st=0;st<Ge.length;st+=1)We.indexOf(Ge[st])===-1&&We.push(Ge[st]);for(var Et=0;Et<We.length;Et++)for(;this.pdf.internal.getNumberOfPages()<We[Et];)C.call(this);I(We);for(var je=We[0],yt=We[We.length-1],St=je;St<yt+1;St++){this.pdf.setPage(St),this.fillStyle=Y,this.strokeStyle=Q,this.lineCap=ue,this.lineWidth=Pe,this.lineJoin=ee;var Rt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ut=St===1?this.posY+this.margin[0]:this.margin[0],Jt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],zt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Gt=St===1?0:Jt+(St-2)*zt;if(this.ctx.clip_path.length!==0){var Nn=this.path;Re=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=F(Re,this.posX+this.margin[3],-Gt+Ut+this.ctx.prevPageLastElemOffset),z.call(this,B,!0),this.path=Nn}if(He=JSON.parse(JSON.stringify(he)),this.path=F(He,this.posX+this.margin[3],-Gt+Ut+this.ctx.prevPageLastElemOffset),K===!1||St===0){var Qt=(St>je||St<yt)&&y.call(this);Qt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Rt,zt,null).clip().discardPath()),z.call(this,B,K),Qt&&this.pdf.restoreGraphicsState()}this.lineWidth=ge}this.path=he}else this.lineWidth=Pe,z.call(this,B,K),this.lineWidth=ge},z=function(B,K){if((B!=="stroke"||K||!w.call(this))&&(B==="stroke"||K||!x.call(this))){for(var Y,Q,ue=[],ge=this.path,Pe=0;Pe<ge.length;Pe++){var ee=ge[Pe];switch(ee.type){case"begin":ue.push({begin:!0});break;case"close":ue.push({close:!0});break;case"mt":ue.push({start:ee,deltas:[],abs:[]});break;case"lt":var Re=ue.length;if(ge[Pe-1]&&!isNaN(ge[Pe-1].x)&&(Y=[ee.x-ge[Pe-1].x,ee.y-ge[Pe-1].y],Re>0)){for(;Re>=0;Re--)if(ue[Re-1].close!==!0&&ue[Re-1].begin!==!0){ue[Re-1].deltas.push(Y),ue[Re-1].abs.push(ee);break}}break;case"bct":Y=[ee.x1-ge[Pe-1].x,ee.y1-ge[Pe-1].y,ee.x2-ge[Pe-1].x,ee.y2-ge[Pe-1].y,ee.x-ge[Pe-1].x,ee.y-ge[Pe-1].y],ue[ue.length-1].deltas.push(Y);break;case"qct":var He=ge[Pe-1].x+2/3*(ee.x1-ge[Pe-1].x),he=ge[Pe-1].y+2/3*(ee.y1-ge[Pe-1].y),Se=ee.x+2/3*(ee.x1-ee.x),We=ee.y+2/3*(ee.y1-ee.y),le=ee.x,Ge=ee.y;Y=[He-ge[Pe-1].x,he-ge[Pe-1].y,Se-ge[Pe-1].x,We-ge[Pe-1].y,le-ge[Pe-1].x,Ge-ge[Pe-1].y],ue[ue.length-1].deltas.push(Y);break;case"arc":ue.push({deltas:[],abs:[],arc:!0}),Array.isArray(ue[ue.length-1].abs)&&ue[ue.length-1].abs.push(ee)}}Q=K?null:B==="stroke"?"stroke":"fill";for(var st=!1,Et=0;Et<ue.length;Et++)if(ue[Et].arc)for(var je=ue[Et].abs,yt=0;yt<je.length;yt++){var St=je[yt];St.type==="arc"?M.call(this,St.x,St.y,St.radius,St.startAngle,St.endAngle,St.counterclockwise,void 0,K,!st):j.call(this,St.x,St.y),st=!0}else if(ue[Et].close===!0)this.pdf.internal.out("h"),st=!1;else if(ue[Et].begin!==!0){var Rt=ue[Et].start.x,Ut=ue[Et].start.y;ie.call(this,ue[Et].deltas,Rt,Ut),st=!0}Q&&R.call(this,Q),K&&U.call(this)}},G=function(B){var K=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Y=K*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return B-Y;case"top":return B+K-Y;case"hanging":return B+K-2*Y;case"middle":return B+K/2-Y;default:return B}},P=function(B){return B+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};p.prototype.createLinearGradient=function(){var B=function(){};return B.colorStops=[],B.addColorStop=function(K,Y){this.colorStops.push([K,Y])},B.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},B.isCanvasGradient=!0,B},p.prototype.createPattern=function(){return this.createLinearGradient()},p.prototype.createRadialGradient=function(){return this.createLinearGradient()};var M=function(B,K,Y,Q,ue,ge,Pe,ee,Re){for(var He=ae.call(this,Y,Q,ue,ge),he=0;he<He.length;he++){var Se=He[he];he===0&&(Re?L.call(this,Se.x1+B,Se.y1+K):j.call(this,Se.x1+B,Se.y1+K)),Ee.call(this,B,K,Se.x2,Se.y2,Se.x3,Se.y3,Se.x4,Se.y4)}ee?U.call(this):R.call(this,Pe)},R=function(B){switch(B){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},U=function(){this.pdf.clip(),this.pdf.discardPath()},L=function(B,K){this.pdf.internal.out(n(B)+" "+r(K)+" m")},O=function(B){var K;switch(B.align){case"right":case"end":K="right";break;case"center":K="center";break;default:K="left"}var Y,Q,ue,ge=this.pdf.getTextDimensions(B.text),Pe=G.call(this,B.y),ee=P.call(this,Pe)-ge.h,Re=this.ctx.transform.applyToPoint(new a(B.x,Pe));if(this.autoPaging){var He=this.ctx.transform.decompose(),he=new c;he=(he=(he=he.multiply(He.translate)).multiply(He.skew)).multiply(He.scale);for(var Se=this.ctx.transform.applyToRectangle(new o(B.x,Pe,ge.w,ge.h)),We=he.applyToRectangle(new o(B.x,ee,ge.w,ge.h)),le=S.call(this,We),Ge=[],st=0;st<le.length;st+=1)Ge.indexOf(le[st])===-1&&Ge.push(le[st]);I(Ge);for(var Et=Ge[0],je=Ge[Ge.length-1],yt=Et;yt<je+1;yt++){this.pdf.setPage(yt);var St=yt===1?this.posY+this.margin[0]:this.margin[0],Rt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ut=this.pdf.internal.pageSize.height-this.margin[2],Jt=Ut-this.margin[0],zt=this.pdf.internal.pageSize.width-this.margin[1],Gt=zt-this.margin[3],Nn=yt===1?0:Rt+(yt-2)*Jt;if(this.ctx.clip_path.length!==0){var Qt=this.path;Y=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=F(Y,this.posX+this.margin[3],-1*Nn+St),z.call(this,"fill",!0),this.path=Qt}var Lt=F([JSON.parse(JSON.stringify(We))],this.posX+this.margin[3],-Nn+St+this.ctx.prevPageLastElemOffset)[0];B.scale>=.01&&(Q=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Q*B.scale),ue=this.lineWidth,this.lineWidth=ue*B.scale);var kt=this.autoPaging!=="text";if(kt||Lt.y+Lt.h<=Ut){if(kt||Lt.y>=St&&Lt.x<=zt){var At=kt?B.text:this.pdf.splitTextToSize(B.text,B.maxWidth||zt-Lt.x)[0],zn=F([JSON.parse(JSON.stringify(Se))],this.posX+this.margin[3],-Nn+St+this.ctx.prevPageLastElemOffset)[0],Ot=kt&&(yt>Et||yt<je)&&y.call(this);Ot&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Gt,Jt,null).clip().discardPath()),this.pdf.text(At,zn.x,zn.y,{angle:B.angle,align:K,renderingMode:B.renderingMode}),Ot&&this.pdf.restoreGraphicsState()}}else Lt.y<Ut&&(this.ctx.prevPageLastElemOffset+=Ut-Lt.y);B.scale>=.01&&(this.pdf.setFontSize(Q),this.lineWidth=ue)}}else B.scale>=.01&&(Q=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Q*B.scale),ue=this.lineWidth,this.lineWidth=ue*B.scale),this.pdf.text(B.text,Re.x+this.posX,Re.y+this.posY,{angle:B.angle,align:K,renderingMode:B.renderingMode,maxWidth:B.maxWidth}),B.scale>=.01&&(this.pdf.setFontSize(Q),this.lineWidth=ue)},j=function(B,K,Y,Q){Y=Y||0,Q=Q||0,this.pdf.internal.out(n(B+Y)+" "+r(K+Q)+" l")},ie=function(B,K,Y){return this.pdf.lines(B,K,Y,null,null)},Ee=function(B,K,Y,Q,ue,ge,Pe,ee){this.pdf.internal.out([e(s(Y+B)),e(i(Q+K)),e(s(ue+B)),e(i(ge+K)),e(s(Pe+B)),e(i(ee+K)),"c"].join(" "))},ae=function(B,K,Y,Q){for(var ue=2*Math.PI,ge=Math.PI/2;K>Y;)K-=ue;var Pe=Math.abs(Y-K);Pe<ue&&Q&&(Pe=ue-Pe);for(var ee=[],Re=Q?-1:1,He=K;Pe>1e-5;){var he=He+Re*Math.min(Pe,ge);ee.push(pe.call(this,B,He,he)),Pe-=Math.abs(he-He),He=he}return ee},pe=function(B,K,Y){var Q=(Y-K)/2,ue=B*Math.cos(Q),ge=B*Math.sin(Q),Pe=ue,ee=-ge,Re=Pe*Pe+ee*ee,He=Re+Pe*ue+ee*ge,he=4/3*(Math.sqrt(2*Re*He)-He)/(Pe*ge-ee*ue),Se=Pe-he*ee,We=ee+he*Pe,le=Se,Ge=-We,st=Q+K,Et=Math.cos(st),je=Math.sin(st);return{x1:B*Math.cos(K),y1:B*Math.sin(K),x2:Se*Et-We*je,y2:Se*je+We*Et,x3:le*Et-Ge*je,y3:le*je+Ge*Et,x4:B*Math.cos(Y),y4:B*Math.sin(Y)}},de=function(B){return 180*B/Math.PI},oe=function(B,K,Y,Q,ue,ge){var Pe=B+.5*(Y-B),ee=K+.5*(Q-K),Re=ue+.5*(Y-ue),He=ge+.5*(Q-ge),he=Math.min(B,ue,Pe,Re),Se=Math.max(B,ue,Pe,Re),We=Math.min(K,ge,ee,He),le=Math.max(K,ge,ee,He);return new o(he,We,Se-he,le-We)},ke=function(B,K,Y,Q,ue,ge,Pe,ee){var Re,He,he,Se,We,le,Ge,st,Et,je,yt,St,Rt,Ut,Jt=Y-B,zt=Q-K,Gt=ue-Y,Nn=ge-Q,Qt=Pe-ue,Lt=ee-ge;for(He=0;He<41;He++)Et=(Ge=(he=B+(Re=He/40)*Jt)+Re*((We=Y+Re*Gt)-he))+Re*(We+Re*(ue+Re*Qt-We)-Ge),je=(st=(Se=K+Re*zt)+Re*((le=Q+Re*Nn)-Se))+Re*(le+Re*(ge+Re*Lt-le)-st),He==0?(yt=Et,St=je,Rt=Et,Ut=je):(yt=Math.min(yt,Et),St=Math.min(St,je),Rt=Math.max(Rt,Et),Ut=Math.max(Ut,je));return new o(Math.round(yt),Math.round(St),Math.round(Rt-yt),Math.round(Ut-St))},ne=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var B,K,Y=(B=this.ctx.lineDash,K=this.ctx.lineDashOffset,JSON.stringify({lineDash:B,lineDashOffset:K}));this.prevLineDash!==Y&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Y)}}})(gn.API),(function(t){var e=function(a){var o,c,u,d,p,g,x,w,y,S;for(c=[],u=0,d=(a+=o="\0\0\0\0".slice(a.length%4||4)).length;d>u;u+=4)(p=(a.charCodeAt(u)<<24)+(a.charCodeAt(u+1)<<16)+(a.charCodeAt(u+2)<<8)+a.charCodeAt(u+3))!==0?(g=(p=((p=((p=((p=(p-(S=p%85))/85)-(y=p%85))/85)-(w=p%85))/85)-(x=p%85))/85)%85,c.push(g+33,x+33,w+33,y+33,S+33)):c.push(122);return(function(C,F){for(var I=F;I>0;I--)C.pop()})(c,o.length),String.fromCharCode.apply(String,c)+"~>"},n=function(a){var o,c,u,d,p,g=String,x="length",w=255,y="charCodeAt",S="slice",C="replace";for(a[S](-2),a=a[S](0,-2)[C](/\s/g,"")[C]("z","!!!!!"),u=[],d=0,p=(a+=o="uuuuu"[S](a[x]%5||5))[x];p>d;d+=5)c=52200625*(a[y](d)-33)+614125*(a[y](d+1)-33)+7225*(a[y](d+2)-33)+85*(a[y](d+3)-33)+(a[y](d+4)-33),u.push(w&c>>24,w&c>>16,w&c>>8,w&c);return(function(F,I){for(var D=I;D>0;D--)F.pop()})(u,o[x]),g.fromCharCode.apply(g,u)},r=function(a){return a.split("").map(function(o){return("0"+o.charCodeAt().toString(16)).slice(-2)}).join("")+">"},s=function(a){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),o.test(a)===!1)return"";for(var c="",u=0;u<a.length;u+=2)c+=String.fromCharCode("0x"+(a[u]+a[u+1]));return c},i=function(a){for(var o=new Uint8Array(a.length),c=a.length;c--;)o[c]=a.charCodeAt(c);return(o=jT(o)).reduce(function(u,d){return u+String.fromCharCode(d)},"")};t.processDataByFilters=function(a,o){var c=0,u=a||"",d=[];for(typeof(o=o||[])=="string"&&(o=[o]),c=0;c<o.length;c+=1)switch(o[c]){case"ASCII85Decode":case"/ASCII85Decode":u=n(u),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=e(u),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=s(u),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=r(u),d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=i(u),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[c]+'" is not implemented')}return{data:u,reverseChain:d.reverse().join(" ")}}})(gn.API),(function(t){t.loadFile=function(e,n,r){return(function(s,i,a){i=i!==!1,a=typeof a=="function"?a:function(){};var o=void 0;try{o=(function(c,u,d){var p=new XMLHttpRequest,g=0,x=function(w){var y=w.length,S=[],C=String.fromCharCode;for(g=0;g<y;g+=1)S.push(C(255&w.charCodeAt(g)));return S.join("")};if(p.open("GET",c,!u),p.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(p.onload=function(){p.status===200?d(x(this.responseText)):d(void 0)}),p.send(null),u&&p.status===200)return x(p.responseText)})(s,i,a)}catch{}return o})(e,n,r)},t.loadImageFile=t.loadFile})(gn.API),(function(t){function e(){return(Ln.html2canvas?Promise.resolve(Ln.html2canvas):jp(()=>import("./html2canvas.esm-Ge7aVWlp.js"),[],import.meta.url)).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function n(){return(Ln.DOMPurify?Promise.resolve(Ln.DOMPurify):jp(()=>import("./purify.es-C65SP4u9.js"),[],import.meta.url)).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var r=function(o){var c=zr(o);return c==="undefined"?"undefined":c==="string"||o instanceof String?"string":c==="number"||o instanceof Number?"number":c==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":c==="object"?"object":"unknown"},s=function(o,c){var u=document.createElement(o);for(var d in c.className&&(u.className=c.className),c.innerHTML&&c.dompurify&&(u.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)u.style[d]=c.style[d];return u},i=function o(c,u){for(var d=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),p=c.firstChild;p;p=p.nextSibling)u!==!0&&p.nodeType===1&&p.nodeName==="SCRIPT"||d.appendChild(o(p,u));return c.nodeType===1&&(c.nodeName==="CANVAS"?(d.width=c.width,d.height=c.height,d.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(d.value=c.value),d.addEventListener("load",function(){d.scrollTop=c.scrollTop,d.scrollLeft=c.scrollLeft},!0)),d},a=function o(c){var u=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),d=o.convert(Promise.resolve(),u);return(d=d.setProgress(1,o,1,[o])).set(c)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(o,c){return o.__proto__=c||a.prototype,o},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(o,c){return this.then(function(){switch(c=c||(function(u){switch(r(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(o),c){case"string":return this.then(n).then(function(u){return this.set({src:s("div",{innerHTML:o,dompurify:u})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},a.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=i(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(c){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,c(this.prop.container,u)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(c){var u=this.opt.jsPDF,d=this.opt.fontFaces,p=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,g=Object.assign({async:!0,allowTaint:!0,scale:p,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete g.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=d,d)for(var x=0;x<d.length;++x){var w=d[x],y=w.src.find(function(S){return S.format==="truetype"});y&&u.addFont(y.url,w.ref.name,w.ref.style)}return g.windowHeight=g.windowHeight||0,g.windowHeight=g.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):g.windowHeight,u.context2d.save(!0),c(this.prop.container,g)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(o,c,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(o,c):this.outputPdf(o,c)},a.prototype.outputPdf=function(o,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,c)})},a.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},a.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(o){if(r(o)!=="object")return this;var c=Object.keys(o||{}).map(function(u){if(u in a.template.prop)return function(){this.prop[u]=o[u]};switch(u){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[u]=o[u]}}},this);return this.then(function(){return this.thenList(c)})},a.prototype.get=function(o,c){return this.then(function(){var u=o in a.template.prop?this.prop[o]:this.opt[o];return c?c(u):u})},a.prototype.setMargin=function(o){return this.then(function(){switch(r(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},a.prototype.setPageSize=function(o){function c(u,d){return Math.floor(u*d/72*96)}return this.then(function(){(o=o||gn.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:c(o.inner.width,o.k),height:c(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},a.prototype.setProgress=function(o,c,u,d){return o!=null&&(this.progress.val=o),c!=null&&(this.progress.state=c),u!=null&&(this.progress.n=u),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(o,c,u,d){return this.setProgress(o?this.progress.val+o:null,c||null,u?this.progress.n+u:null,d?this.progress.stack.concat(d):null)},a.prototype.then=function(o,c){var u=this;return this.thenCore(o,c,function(d,p){return u.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(g){return u.updateProgress(null,d),g}).then(d,p).then(function(g){return u.updateProgress(1),g})})},a.prototype.thenCore=function(o,c,u){u=u||Promise.prototype.then;var d=this;o&&(o=o.bind(d)),c&&(c=c.bind(d));var p=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?d:a.convert(Object.assign({},d),Promise.prototype),g=u.call(p,o,c);return a.convert(g,d.__proto__)},a.prototype.thenExternal=function(o,c){return Promise.prototype.then.call(this,o,c)},a.prototype.thenList=function(o){var c=this;return o.forEach(function(u){c=c.thenCore(u)}),c},a.prototype.catch=function(o){o&&(o=o.bind(this));var c=Promise.prototype.catch.call(this,o);return a.convert(c,this)},a.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},a.prototype.error=function(o){return this.then(function(){throw new Error(o)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,gn.getPageSize=function(o,c,u){if(zr(o)==="object"){var d=o;o=d.orientation,c=d.unit||c,u=d.format||u}c=c||"mm",u=u||"a4",o=(""+(o||"P")).toLowerCase();var p,g=(""+u).toLowerCase(),x={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":p=1;break;case"mm":p=72/25.4;break;case"cm":p=72/2.54;break;case"in":p=72;break;case"px":p=.75;break;case"pc":case"em":p=12;break;case"ex":p=6;break;default:throw"Invalid unit: "+c}var w,y=0,S=0;if(x.hasOwnProperty(g))y=x[g][1]/p,S=x[g][0]/p;else try{y=u[1],S=u[0]}catch{throw new Error("Invalid format: "+u)}if(o==="p"||o==="portrait")o="p",S>y&&(w=S,S=y,y=w);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",y>S&&(w=S,S=y,y=w)}return{width:S,height:y,unit:c,k:p,orientation:o}},t.html=function(o,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(AE):null;var u=new a(c);return c.worker?u:u.from(o).doCallback()}})(gn.API),gn.API.addJS=function(t){return LD=t,this.internal.events.subscribe("postPutResources",function(){iy=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(iy+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),MD=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+LD+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){iy!==void 0&&MD!==void 0&&this.internal.out("/Names <</JavaScript "+iy+" 0 R>>")}),this},(function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=n.outline.render().split(/\r\n/),i=0;i<s.length;i++){var a=s[i],o=r.exec(a);if(o!=null){var c=o[1];n.internal.newObjectDeferredBegin(c,!1)}n.internal.write(a)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,d=[];for(i=0;i<u;i++){var p=n.internal.newObject();d.push(p);var g=n.internal.getPageInfo(i+1);n.internal.write("<< /D["+g.objId+" 0 R /XYZ null null null]>> endobj")}var x=n.internal.newObject();for(n.internal.write("<< /Names [ "),i=0;i<d.length;i++)n.internal.write("(page_"+(i+1)+")"+d[i]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+x+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var n=this;n.outline.root.children.length>0&&(n.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&n.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,s,i){var a={title:s,options:i,children:[]};return r==null&&(r=this.root),r.children.push(a),a},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var s=0;s<r.children.length;s++)this.genIds_r(r.children[s])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<r.children.length;i++){var a=r.children[i];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(r)),i>0&&this.line("/Prev "+this.makeRef(r.children[i-1])),i<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[i+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var o=this.count=this.count_r({count:0},a);if(o>0&&this.line("/Count "+o),a.options&&a.options.pageNumber){var c=n.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var u=0;u<r.children.length;u++)this.renderItems(r.children[u])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,s){for(var i=0;i<s.children.length;i++)r.count++,this.count_r(r,s.children[i]);return r.count}}])})(gn.API),(function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,s,i,a,o){var c,u=this.decode.DCT_DECODE,d=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=a||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,c=(function(p){for(var g,x=256*p.charCodeAt(4)+p.charCodeAt(5),w=p.length,y={width:0,height:0,numcomponents:1},S=4;S<w;S+=2){if(S+=x,e.indexOf(p.charCodeAt(S+1))!==-1){g=256*p.charCodeAt(S+5)+p.charCodeAt(S+6),y={width:256*p.charCodeAt(S+7)+p.charCodeAt(S+8),height:g,numcomponents:p.charCodeAt(S+9)};break}x=256*p.charCodeAt(S+2)+p.charCodeAt(S+3)}return y})(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n),c.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}d={data:n,width:c.width,height:c.height,colorSpace:o,bitsPerComponent:8,filter:u,index:r,alias:s}}return d}})(gn.API),gn.API.processPNG=function(t,e,n,r){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var s,i=R0e(t,{checkCrc:!0}),a=i.width,o=i.height,c=i.channels,u=i.palette,d=i.depth;s=u&&c===1?(function(M){for(var R=M.width,U=M.height,L=M.data,O=M.palette,j=M.depth,ie=!1,Ee=[],ae=[],pe=void 0,de=!1,oe=0,ke=0;ke<O.length;ke++){var ne=VP(O[ke],4),B=ne[0],K=ne[1],Y=ne[2],Q=ne[3];Ee.push(B,K,Y),Q!=null&&(Q===0?(oe++,ae.length<1&&ae.push(ke)):Q<255&&(de=!0))}if(de||oe>1){ie=!0,ae=void 0;var ue=R*U;pe=new Uint8Array(ue);for(var ge=new DataView(L.buffer),Pe=0;Pe<ue;Pe++){var ee=NE(ge,Pe,j),Re=VP(O[ee],4)[3];pe[Pe]=Re}}else oe===0&&(ae=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:ie?8:void 0,colorBytes:L,alphaBytes:pe,needSMask:ie,palette:Ee,mask:ae}})(i):c===2||c===4?(function(M){for(var R=M.data,U=M.width,L=M.height,O=M.channels,j=M.depth,ie=O===2?"DeviceGray":"DeviceRGB",Ee=O-1,ae=U*L,pe=Ee,de=ae*pe,oe=1*ae,ke=Math.ceil(de*j/8),ne=Math.ceil(oe*j/8),B=new Uint8Array(ke),K=new Uint8Array(ne),Y=new DataView(R.buffer),Q=new DataView(B.buffer),ue=new DataView(K.buffer),ge=!1,Pe=0;Pe<ae;Pe++){for(var ee=Pe*O,Re=0;Re<pe;Re++)zD(Q,NE(Y,ee+Re,j),Pe*pe+Re,j);var He=NE(Y,ee+pe,j);He<(1<<j)-1&&(ge=!0),zD(ue,He,1*Pe,j)}return{colorSpace:ie,colorsPerPixel:Ee,sMaskBitsPerComponent:ge?j:void 0,colorBytes:B,alphaBytes:K,needSMask:ge}})(i):(function(M){var R=M.data,U=M.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:U,colorsPerPixel:U==="DeviceGray"?1:3,colorBytes:R instanceof Uint16Array?(function(L){for(var O=L.length,j=new Uint8Array(2*O),ie=new DataView(j.buffer,j.byteOffset,j.byteLength),Ee=0;Ee<O;Ee++)ie.setUint16(2*Ee,L[Ee],!1);return j})(R):R,needSMask:!1}})(i);var p,g,x,w=s,y=w.colorSpace,S=w.colorsPerPixel,C=w.sMaskBitsPerComponent,F=w.colorBytes,I=w.alphaBytes,D=w.needSMask,z=w.palette,G=w.mask,P=null;return r!==gn.API.image_compression.NONE&&typeof jT=="function"?(P=(function(M){var R;switch(M){case gn.API.image_compression.FAST:R=11;break;case gn.API.image_compression.MEDIUM:R=13;break;case gn.API.image_compression.SLOW:R=14;break;default:R=12}return R})(r),p=this.decode.FLATE_DECODE,g="/Predictor ".concat(P," /Colors ").concat(S," /BitsPerComponent ").concat(d," /Columns ").concat(a),t=VD(F,Math.ceil(a*S*d/8),S,d,r),D&&(x=VD(I,Math.ceil(a*C/8),1,C,r))):(p=void 0,g=void 0,t=F,D&&(x=I)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(x&&this.__addimage__.isArrayBuffer(x)||this.__addimage__.isArrayBufferView(x))&&(x=this.__addimage__.arrayBufferToBinaryString(x)),{alias:n,data:t,index:e,filter:p,decodeParameters:g,transparency:G,palette:z,sMask:x,predictor:P,width:a,height:o,bitsPerComponent:d,sMaskBitsPerComponent:C,colorSpace:y}}},(function(t){t.processGIF89A=function(e,n,r,s){var i=new Q0e(e),a=i.width,o=i.height,c=[];i.decodeAndBlitFrameRGBA(0,c);var u={data:c,width:a,height:o},d=new IE(100).encode(u,100);return t.processJPEG.call(this,d,n,r,s)},t.processGIF87A=t.processGIF89A})(gn.API),Ql.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:s,green:r,blue:n,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ql.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){ls.log("bit decode error:"+n)}},Ql.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,s=0;s<e;s++)for(var i=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+8*s*4,o=0;o<8&&8*s+o<this.width;o++){var c=this.palette[i>>7-o&1];this.data[a+4*o]=c.blue,this.data[a+4*o+1]=c.green,this.data[a+4*o+2]=c.red,this.data[a+4*o+3]=255}n!==0&&(this.pos+=4-n)}},Ql.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,s=0;s<t;s++){var i=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+2*s*4,o=i>>4,c=15&i,u=this.palette[o];if(this.data[a]=u.blue,this.data[a+1]=u.green,this.data[a+2]=u.red,this.data[a+3]=255,2*s+1>=this.width)break;u=this.palette[c],this.data[a+4]=u.blue,this.data[a+4+1]=u.green,this.data[a+4+2]=u.red,this.data[a+4+3]=255}e!==0&&(this.pos+=4-e)}},Ql.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var s=this.datav.getUint8(this.pos++,!0),i=n*this.width*4+4*r;if(s<this.palette.length){var a=this.palette[s];this.data[i]=a.red,this.data[i+1]=a.green,this.data[i+2]=a.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}t!==0&&(this.pos+=4-t)}},Ql.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(i&e)/e*255|0,o=(i>>5&e)/e*255|0,c=(i>>10&e)/e*255|0,u=i>>15?255:0,d=r*this.width*4+4*s;this.data[d]=c,this.data[d+1]=o,this.data[d+2]=a,this.data[d+3]=u}this.pos+=t}},Ql.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var s=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&e)/e*255|0,c=(a>>5&n)/n*255|0,u=(a>>11)/e*255|0,d=s*this.width*4+4*i;this.data[d]=u,this.data[d+1]=c,this.data[d+2]=o,this.data[d+3]=255}this.pos+=t}},Ql.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*n;this.data[a]=i,this.data[a+1]=s,this.data[a+2]=r,this.data[a+3]=255}this.pos+=this.width%4}},Ql.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*n;this.data[o]=i,this.data[o+1]=s,this.data[o+2]=r,this.data[o+3]=a}},Ql.prototype.getData=function(){return this.data},(function(t){t.processBMP=function(e,n,r,s){var i=new Ql(e,!1),a=i.width,o=i.height,c={data:i.getData(),width:a,height:o},u=new IE(100).encode(c,100);return t.processJPEG.call(this,u,n,r,s)}})(gn.API),$D.prototype.getData=function(){return this.data},(function(t){t.processWEBP=function(e,n,r,s){var i=new $D(e),a=i.width,o=i.height,c={data:i.getData(),width:a,height:o},u=new IE(100).encode(c,100);return t.processJPEG.call(this,u,n,r,s)}})(gn.API),gn.API.processRGBA=function(t,e,n){for(var r=t.data,s=r.length,i=new Uint8Array(s/4*3),a=new Uint8Array(s/4),o=0,c=0,u=0;u<s;u+=4){var d=r[u],p=r[u+1],g=r[u+2],x=r[u+3];i[o++]=d,i[o++]=p,i[o++]=g,a[c++]=x}var w=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:w,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},gn.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},sp=gn.API,ay=sp.getCharWidthsArray=function(t,e){var n,r,s=(e=e||{}).font||this.internal.getFont(),i=e.fontSize||this.internal.getFontSize(),a=e.charSpace||this.internal.getCharSpace(),o=e.widths?e.widths:s.metadata.Unicode.widths,c=o.fof?o.fof:1,u=e.kerning?e.kerning:s.metadata.Unicode.kerning,d=u.fof?u.fof:1,p=e.doKerning!==!1,g=0,x=t.length,w=0,y=o[0]||c,S=[];for(n=0;n<x;n++)r=t.charCodeAt(n),typeof s.metadata.widthOfString=="function"?S.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(r))+a*(1e3/i)||0)/1e3):(g=p&&zr(u[r])==="object"&&!isNaN(parseInt(u[r][w],10))?u[r][w]/d:0,S.push((o[r]||y)/c+g)),w=r;return S},FD=sp.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),s=e.charSpace||this.internal.getCharSpace();return sp.processArabic&&(t=sp.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,s)/n:ay.apply(this,arguments).reduce(function(i,a){return i+a},0)},OD=function(t,e,n,r){for(var s=[],i=0,a=t.length,o=0;i!==a&&o+e[i]<n;)o+=e[i],i++;s.push(t.slice(0,i));var c=i;for(o=0;i!==a;)o+e[i]>r&&(s.push(t.slice(c,i)),o=0,c=i),o+=e[i],i++;return c!==i&&s.push(t.slice(c,i)),s},BD=function(t,e,n){n||(n={});var r,s,i,a,o,c,u,d=[],p=[d],g=n.textIndent||0,x=0,w=0,y=t.split(" "),S=ay.apply(this,[" ",n])[0];if(c=n.lineIndent===-1?y[0].length+2:n.lineIndent||0){var C=Array(c).join(" "),F=[];y.map(function(D){(D=D.split(/\s*\n/)).length>1?F=F.concat(D.map(function(z,G){return(G&&z.length?`
`:"")+z})):F.push(D[0])}),y=F,c=FD.apply(this,[C,n])}for(i=0,a=y.length;i<a;i++){var I=0;if(r=y[i],c&&r[0]==`
`&&(r=r.substr(1),I=1),g+x+(w=(s=ay.apply(this,[r,n])).reduce(function(D,z){return D+z},0))>e||I){if(w>e){for(o=OD.apply(this,[r,s,e-(g+x),e]),d.push(o.shift()),d=[o.pop()];o.length;)p.push([o.shift()]);w=s.slice(r.length-(d[0]?d[0].length:0)).reduce(function(D,z){return D+z},0)}else d=[r];p.push(d),g=w+c,x=S}else d.push(r),g+=x+w,x=S}return u=c?function(D,z){return(z?C:"")+D.join(" ")}:function(D){return D.join(" ")},p.map(u)},sp.splitTextToSize=function(t,e,n){var r,s=(n=n||{}).fontSize||this.internal.getFontSize(),i=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var p=this.internal.getFont(d.fontName,d.fontStyle),g="Unicode";return p.metadata[g]?{widths:p.metadata[g].widths||{0:1},kerning:p.metadata[g].kerning||{}}:{font:p.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var a=1*this.internal.scaleFactor*e/s;i.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/s:0,i.lineIndent=n.lineIndent;var o,c,u=[];for(o=0,c=r.length;o<c;o++)u=u.concat(BD.apply(this,[r[o],a,i]));return u},(function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",n="klmnopqrstuvwxyz",r={},s={},i=0;i<16;i++)r[n[i]]=e[i],s[e[i]]=n[i];var a=function(g){return"0x"+parseInt(g,10).toString(16)},o=t.__fontmetrics__.compress=function(g){var x,w,y,S,C=["{"];for(var F in g){if(x=g[F],isNaN(parseInt(F,10))?w="'"+F+"'":(F=parseInt(F,10),w=(w=a(F).slice(2)).slice(0,-1)+s[w.slice(-1)]),typeof x=="number")x<0?(y=a(x).slice(3),S="-"):(y=a(x).slice(2),S=""),y=S+y.slice(0,-1)+s[y.slice(-1)];else{if(zr(x)!=="object")throw new Error("Don't know what to do with value type "+zr(x)+".");y=o(x)}C.push(w+y)}return C.push("}"),C.join("")},c=t.__fontmetrics__.uncompress=function(g){if(typeof g!="string")throw new Error("Invalid argument passed to uncompress.");for(var x,w,y,S,C={},F=1,I=C,D=[],z="",G="",P=g.length-1,M=1;M<P;M+=1)(S=g[M])=="'"?x?(y=x.join(""),x=void 0):x=[]:x?x.push(S):S=="{"?(D.push([I,y]),I={},y=void 0):S=="}"?((w=D.pop())[0][w[1]]=I,y=void 0,I=w[0]):S=="-"?F=-1:y===void 0?r.hasOwnProperty(S)?(z+=r[S],y=parseInt(z,16)*F,F=1,z=""):z+=S:r.hasOwnProperty(S)?(G+=r[S],I[y]=parseInt(G,16)*F,F=1,y=void 0,G=""):G+=S;return C},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},p={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(g){var x=g.font,w=p.Unicode[x.postScriptName];w&&(x.metadata.Unicode={},x.metadata.Unicode.widths=w.widths,x.metadata.Unicode.kerning=w.kerning);var y=d.Unicode[x.postScriptName];y&&(x.metadata.Unicode.encoding=y,x.encoding=y.codePages[0])}])})(gn.API),(function(t){var e=function(n){for(var r=n.length,s=new Uint8Array(r),i=0;i<r;i++)s[i]=n.charCodeAt(i);return s};t.API.events.push(["addFont",function(n){var r=void 0,s=n.font,i=n.instance;if(!s.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(r=i.existsFileInVFS(s.postScriptName)===!1?i.loadFile(s.postScriptName):i.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(a,o){o=/^\x00\x01\x00\x00/.test(o)?e(o):e(Qy(o)),a.metadata=t.API.TTFFont.open(o),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(s,r)}}])})(gn),gn.API.addSvgAsImage=function(t,e,n,r,s,i,a,o){if(isNaN(e)||isNaN(n))throw ls.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(s))throw ls.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=r,c.height=s;var u=c.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,c.width,c.height);var d={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return(Ln.canvg?Promise.resolve(Ln.canvg):jp(()=>import("./index.es-OhKCpNEI.js"),[],import.meta.url)).catch(function(g){return Promise.reject(new Error("Could not load canvg: "+g))}).then(function(g){return g.default?g.default:g}).then(function(g){return g.fromString(u,t,d)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(g){return g.render(d)}).then(function(){p.addImage(c.toDataURL("image/jpeg",1),e,n,r,s,a,o)})},gn.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var s=0;s<this.internal.pages[r].length;s++)this.internal.pages[r][s]=this.internal.pages[r][s].replace(e,n);return this},gn.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,s,i,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(a),c=[],u=0,d=0,p=0;function g(w,y){var S,C=!1;for(S=0;S<w.length;S+=1)w[S]===y&&(C=!0);return C}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var x=o.length;for(p=0;p<x;p+=1)n[o[p]].value=n[o[p]].defaultValue,n[o[p]].explicitSet=!1}if(zr(t)==="object"){for(s in t)if(i=t[s],g(o,s)&&i!==void 0){if(n[s].type==="boolean"&&typeof i=="boolean")n[s].value=i;else if(n[s].type==="name"&&g(n[s].valueSet,i))n[s].value=i;else if(n[s].type==="integer"&&Number.isInteger(i))n[s].value=i;else if(n[s].type==="array"){for(u=0;u<i.length;u+=1)if(r=!0,i[u].length===1&&typeof i[u][0]=="number")c.push(String(i[u]-1));else if(i[u].length>1){for(d=0;d<i[u].length;d+=1)typeof i[u][d]!="number"&&(r=!1);r===!0&&c.push([i[u][0]-1,i[u][1]-1].join(" "))}n[s].value="["+c.join(" ")+"]"}else n[s].value=n[s].defaultValue;n[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var w,y=[];for(w in n)n[w].explicitSet===!0&&(n[w].type==="name"?y.push("/"+w+" /"+n[w].value):y.push("/"+w+" "+n[w].value));y.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+y.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},(function(t){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(r)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),u=i.length+a.length+o.length+s.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(s+i+a+o+c),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(r,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}})(gn.API),(function(t){var e=t.API,n=e.pdfEscape16=function(i,a){for(var o,c=a.metadata.Unicode.widths,u=["","0","00","000","0000"],d=[""],p=0,g=i.length;p<g;++p){if(o=a.metadata.characterToGlyph(i.charCodeAt(p)),a.metadata.glyIdsUsed.push(o),a.metadata.toUnicode[o]=i.charCodeAt(p),c.indexOf(o)==-1&&(c.push(o),c.push([parseInt(a.metadata.widthOfGlyph(o),10)])),o=="0")return d.join("");o=o.toString(16),d.push(u[4-o.length],o)}return d.join("")},r=function(i){var a,o,c,u,d,p,g;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],p=0,g=(o=Object.keys(i).sort(function(x,w){return x-w})).length;p<g;p++)a=o[p],c.length>=100&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),i[a]!==void 0&&i[a]!==null&&typeof i[a].toString=="function"&&(u=("0000"+i[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),c.push("<"+a+"><"+u+">"));return c.length&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),d+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(i){(function(a){var o=a.font,c=a.out,u=a.newObject,d=a.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="Identity-H"){for(var p=o.metadata.Unicode.widths,g=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),x="",w=0;w<g.length;w++)x+=String.fromCharCode(g[w]);var y=u();d({data:x,addLength1:!0,objectId:y}),c("endobj");var S=u();d({data:r(o.metadata.toUnicode),addLength1:!0,objectId:S}),c("endobj");var C=u();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+vp(o.fontName)),c("/FontFile2 "+y+" 0 R"),c("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),c("/Flags "+o.metadata.flags),c("/StemV "+o.metadata.stemV),c("/ItalicAngle "+o.metadata.italicAngle),c("/Ascent "+o.metadata.ascender),c("/Descent "+o.metadata.decender),c("/CapHeight "+o.metadata.capHeight),c(">>"),c("endobj");var F=u();c("<<"),c("/Type /Font"),c("/BaseFont /"+vp(o.fontName)),c("/FontDescriptor "+C+" 0 R"),c("/W "+t.API.PDFObject.convert(p)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+o.encoding+")"),c(">>"),c(">>"),c("endobj"),o.objectNumber=u(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+S+" 0 R"),c("/BaseFont /"+vp(o.fontName)),c("/Encoding /"+o.encoding),c("/DescendantFonts ["+F+" 0 R]"),c(">>"),c("endobj"),o.isAlreadyPutted=!0}})(i)}]),e.events.push(["putFont",function(i){(function(a){var o=a.font,c=a.out,u=a.newObject,d=a.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var p=o.metadata.rawData,g="",x=0;x<p.length;x++)g+=String.fromCharCode(p[x]);var w=u();d({data:g,addLength1:!0,objectId:w}),c("endobj");var y=u();d({data:r(o.metadata.toUnicode),addLength1:!0,objectId:y}),c("endobj");var S=u();c("<<"),c("/Descent "+o.metadata.decender),c("/CapHeight "+o.metadata.capHeight),c("/StemV "+o.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+w+" 0 R"),c("/Flags 96"),c("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),c("/FontName /"+vp(o.fontName)),c("/ItalicAngle "+o.metadata.italicAngle),c("/Ascent "+o.metadata.ascender),c(">>"),c("endobj"),o.objectNumber=u();for(var C=0;C<o.metadata.hmtx.widths.length;C++)o.metadata.hmtx.widths[C]=parseInt(o.metadata.hmtx.widths[C]*(1e3/o.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+y+" 0 R/BaseFont/"+vp(o.fontName)+"/FontDescriptor "+S+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),c("endobj"),o.isAlreadyPutted=!0}})(i)}]);var s=function(i){var a,o=i.text||"",c=i.x,u=i.y,d=i.options||{},p=i.mutex||{},g=p.pdfEscape,x=p.activeFontKey,w=p.fonts,y=x,S="",C=0,F="",I=w[y].encoding;if(w[y].encoding!=="Identity-H")return{text:o,x:c,y:u,options:d,mutex:p};for(F=o,y=x,Array.isArray(o)&&(F=o[0]),C=0;C<F.length;C+=1)w[y].metadata.hasOwnProperty("cmap")&&(a=w[y].metadata.cmap.unicode.codeMap[F[C].charCodeAt(0)]),a||F[C].charCodeAt(0)<256&&w[y].metadata.hasOwnProperty("Unicode")?S+=F[C]:S+="";var D="";return parseInt(y.slice(1))<14||I==="WinAnsiEncoding"?D=g(S,y).split("").map(function(z){return z.charCodeAt(0).toString(16)}).join(""):I==="Identity-H"&&(D=n(S,w[y])),p.isHex=!0,{text:D,x:c,y:u,options:d,mutex:p}};e.events.push(["postProcessText",function(i){var a=i.text||"",o=[],c={text:a,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(a)){var u=0;for(u=0;u<a.length;u+=1)Array.isArray(a[u])&&a[u].length===3?o.push([s(Object.assign({},c,{text:a[u][0]})).text,a[u][1],a[u][2]]):o.push(s(Object.assign({},c,{text:a[u]})).text);i.text=o}else i.text=s(Object.assign({},c,{text:a})).text}])})(gn),(function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}})(gn.API),(function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var s,i,a,o,c,u,d,p=e,g=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],x=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],w={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},y={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},S=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],C=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),F=!1,I=0;this.__bidiEngine__={};var D=function(L){var O=L.charCodeAt(),j=O>>8,ie=y[j];return ie!==void 0?p[256*ie+(255&O)]:j===252||j===253?"AL":C.test(j)?"L":j===8?"R":"N"},z=function(L){for(var O,j=0;j<L.length;j++){if((O=D(L.charAt(j)))==="L")return!1;if(O==="R")return!0}return!1},G=function(L,O,j,ie){var Ee,ae,pe,de,oe=O[ie];switch(oe){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":F=!1;break;case"N":case"AN":break;case"EN":F&&(oe="AN");break;case"AL":F=!0,oe="R";break;case"WS":case"BN":oe="N";break;case"CS":ie<1||ie+1>=O.length||(Ee=j[ie-1])!=="EN"&&Ee!=="AN"||(ae=O[ie+1])!=="EN"&&ae!=="AN"?oe="N":F&&(ae="AN"),oe=ae===Ee?ae:"N";break;case"ES":oe=(Ee=ie>0?j[ie-1]:"B")==="EN"&&ie+1<O.length&&O[ie+1]==="EN"?"EN":"N";break;case"ET":if(ie>0&&j[ie-1]==="EN"){oe="EN";break}if(F){oe="N";break}for(pe=ie+1,de=O.length;pe<de&&O[pe]==="ET";)pe++;oe=pe<de&&O[pe]==="EN"?"EN":"N";break;case"NSM":if(a&&!o){for(de=O.length,pe=ie+1;pe<de&&O[pe]==="NSM";)pe++;if(pe<de){var ke=L[ie],ne=ke>=1425&&ke<=2303||ke===64286;if(Ee=O[pe],ne&&(Ee==="R"||Ee==="AL")){oe="R";break}}}oe=ie<1||(Ee=O[ie-1])==="B"?"N":j[ie-1];break;case"B":F=!1,s=!0,oe=I;break;case"S":i=!0,oe="N"}return oe},P=function(L,O,j){var ie=L.split("");return j&&M(ie,j,{hiLevel:I}),ie.reverse(),O&&O.reverse(),ie.join("")},M=function(L,O,j){var ie,Ee,ae,pe,de,oe=-1,ke=L.length,ne=0,B=[],K=I?x:g,Y=[];for(F=!1,s=!1,i=!1,Ee=0;Ee<ke;Ee++)Y[Ee]=D(L[Ee]);for(ae=0;ae<ke;ae++){if(de=ne,B[ae]=G(L,Y,B,ae),ie=240&(ne=K[de][w[B[ae]]]),ne&=15,O[ae]=pe=K[ne][5],ie>0)if(ie===16){for(Ee=oe;Ee<ae;Ee++)O[Ee]=1;oe=-1}else oe=-1;if(K[ne][6])oe===-1&&(oe=ae);else if(oe>-1){for(Ee=oe;Ee<ae;Ee++)O[Ee]=pe;oe=-1}Y[ae]==="B"&&(O[ae]=0),j.hiLevel|=pe}i&&(function(Q,ue,ge){for(var Pe=0;Pe<ge;Pe++)if(Q[Pe]==="S"){ue[Pe]=I;for(var ee=Pe-1;ee>=0&&Q[ee]==="WS";ee--)ue[ee]=I}})(Y,O,ke)},R=function(L,O,j,ie,Ee){if(!(Ee.hiLevel<L)){if(L===1&&I===1&&!s)return O.reverse(),void(j&&j.reverse());for(var ae,pe,de,oe,ke=O.length,ne=0;ne<ke;){if(ie[ne]>=L){for(de=ne+1;de<ke&&ie[de]>=L;)de++;for(oe=ne,pe=de-1;oe<pe;oe++,pe--)ae=O[oe],O[oe]=O[pe],O[pe]=ae,j&&(ae=j[oe],j[oe]=j[pe],j[pe]=ae);ne=de}ne++}}},U=function(L,O,j){var ie=L.split(""),Ee={hiLevel:I};return j||(j=[]),M(ie,j,Ee),(function(ae,pe,de){if(de.hiLevel!==0&&d)for(var oe,ke=0;ke<ae.length;ke++)pe[ke]===1&&(oe=S.indexOf(ae[ke]))>=0&&(ae[ke]=S[oe+1])})(ie,j,Ee),R(2,ie,O,j,Ee),R(1,ie,O,j,Ee),ie.join("")};return this.__bidiEngine__.doBidiReorder=function(L,O,j){if((function(Ee,ae){if(ae)for(var pe=0;pe<Ee.length;pe++)ae[pe]=pe;o===void 0&&(o=z(Ee)),u===void 0&&(u=z(Ee))})(L,O),a||!c||u)if(a&&c&&o^u)I=o?1:0,L=P(L,O,j);else if(!a&&c&&u)I=o?1:0,L=U(L,O,j),L=P(L,O);else if(!a||o||c||u){if(a&&!c&&o^u)L=P(L,O),o?(I=0,L=U(L,O,j)):(I=1,L=U(L,O,j),L=P(L,O));else if(a&&o&&!c&&u)I=1,L=U(L,O,j),L=P(L,O);else if(!a&&!c&&o^u){var ie=d;o?(I=1,L=U(L,O,j),I=0,d=!1,L=U(L,O,j),d=ie):(I=0,L=U(L,O,j),L=P(L,O),I=1,d=!1,L=U(L,O,j),d=ie,L=P(L,O))}}else I=0,L=U(L,O,j);else I=o?1:0,L=U(L,O,j);return L},this.__bidiEngine__.setOptions=function(L){L&&(a=L.isInputVisual,c=L.isOutputVisual,o=L.isInputRtl,u=L.isOutputRtl,d=L.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var s=r.text;r.x,r.y;var i=r.options||{};r.mutex,i.lang;var a=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,n.setOptions(i),Object.prototype.toString.call(s)==="[object Array]"){var o=0;for(a=[],o=0;o<s.length;o+=1)Object.prototype.toString.call(s[o])==="[object Array]"?a.push([n.doBidiReorder(s[o][0]),s[o][1],s[o][2]]):a.push([n.doBidiReorder(s[o])]);r.text=a}else r.text=n.doBidiReorder(s);n.setOptions({isInputVisual:!0})}])})(gn),gn.API.TTFFont=(function(){function t(e){var n;if(this.rawData=e,n=this.contents=new Cd(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new hpe(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new Z0e(this.contents),this.head=new tpe(this),this.name=new ape(this),this.cmap=new zV(this),this.toUnicode={},this.hhea=new npe(this),this.maxp=new ope(this),this.hmtx=new lpe(this),this.post=new spe(this),this.os2=new rpe(this),this.loca=new dpe(this),this.glyf=new cpe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,s,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,o,c,u;for(u=[],a=0,o=(c=this.bbox).length;a<o;a++)e=c[a],u.push(Math.round(e*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(r=255&(s=this.post.italic_angle),32768&(n=s>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var s,i,a,o;for(a=0,i=0,o=(e=""+e).length;0<=o?i<o:i>o;i=0<=o?++i:--i)s=e.charCodeAt(i),a+=this.widthOfGlyph(this.characterToGlyph(s))+r*(1e3/n)||0;return a*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t})();var mc,Cd=(function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,s;for(s=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)s.push(this.writeByte(e.charCodeAt(n)));return s},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,s,i,a,o,c;return e=this.readByte(),n=this.readByte(),r=this.readByte(),s=this.readByte(),i=this.readByte(),a=this.readByte(),o=this.readByte(),c=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^s)+16777216*(255^i)+65536*(255^a)+256*(255^o)+(255^c)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*s+16777216*i+65536*a+256*o+c},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,s,i;for(i=[],r=0,s=e.length;r<s;r++)n=e[r],i.push(this.writeByte(n));return i},t})(),Z0e=(function(){var t;function e(n){var r,s,i;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},s=0,i=this.tableCount;0<=i?s<i:s>i;s=0<=i?++s:--s)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,s,i,a,o,c,u,d,p,g,x,w,y;for(y in x=Object.keys(n).length,c=Math.log(2),p=16*Math.floor(Math.log(x)/c),a=Math.floor(p/c),d=16*x-p,(s=new Cd).writeInt(this.scalarType),s.writeShort(x),s.writeShort(p),s.writeShort(a),s.writeShort(d),i=16*x,u=s.pos+i,o=null,w=[],n)for(g=n[y],s.writeString(y),s.writeInt(t(g)),s.writeInt(u),s.writeInt(g.length),w=w.concat(g),y==="head"&&(o=u),u+=g.length;u%4;)w.push(0),u++;return s.write(w),r=2981146554-t(s.data),s.pos=o+8,s.writeUInt32(r),s.data},t=function(n){var r,s,i,a;for(n=GV.call(n);n.length%4;)n.push(0);for(i=new Cd(n),s=0,r=0,a=n.length;r<a;r=r+=4)s+=i.readUInt32();return 4294967295&s},e})(),epe={}.hasOwnProperty,lu=function(t,e){for(var n in e)epe.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};mc=(function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t})();var tpe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return lu(t,mc),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var n;return(n=new Cd).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(e),n.writeShort(this.glyphDataFormat),n.data},t})(),WD=(function(){function t(e,n){var r,s,i,a,o,c,u,d,p,g,x,w,y,S,C,F,I;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),p=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=e.readByte();break;case 4:for(x=e.readUInt16(),g=x/2,e.pos+=6,i=(function(){var D,z;for(z=[],c=D=0;0<=g?D<g:D>g;c=0<=g?++D:--D)z.push(e.readUInt16());return z})(),e.pos+=2,y=(function(){var D,z;for(z=[],c=D=0;0<=g?D<g:D>g;c=0<=g?++D:--D)z.push(e.readUInt16());return z})(),u=(function(){var D,z;for(z=[],c=D=0;0<=g?D<g:D>g;c=0<=g?++D:--D)z.push(e.readUInt16());return z})(),d=(function(){var D,z;for(z=[],c=D=0;0<=g?D<g:D>g;c=0<=g?++D:--D)z.push(e.readUInt16());return z})(),s=(this.length-e.pos+this.offset)/2,o=(function(){var D,z;for(z=[],c=D=0;0<=s?D<s:D>s;c=0<=s?++D:--D)z.push(e.readUInt16());return z})(),c=C=0,I=i.length;C<I;c=++C)for(S=i[c],r=F=w=y[c];w<=S?F<=S:F>=S;r=w<=S?++F:--F)d[c]===0?a=r+u[c]:(a=o[d[c]/2+(r-w)-(g-c)]||0)!==0&&(a+=u[c]),this.codeMap[r]=65535&a}e.pos=p}return t.encode=function(e,n){var r,s,i,a,o,c,u,d,p,g,x,w,y,S,C,F,I,D,z,G,P,M,R,U,L,O,j,ie,Ee,ae,pe,de,oe,ke,ne,B,K,Y,Q,ue,ge,Pe,ee,Re,He,he;switch(ie=new Cd,a=Object.keys(e).sort(function(Se,We){return Se-We}),n){case"macroman":for(y=0,S=(function(){var Se=[];for(w=0;w<256;++w)Se.push(0);return Se})(),F={0:0},i={},Ee=0,oe=a.length;Ee<oe;Ee++)F[ee=e[s=a[Ee]]]==null&&(F[ee]=++y),i[s]={old:e[s],new:F[e[s]]},S[s]=F[e[s]];return ie.writeUInt16(1),ie.writeUInt16(0),ie.writeUInt32(12),ie.writeUInt16(0),ie.writeUInt16(262),ie.writeUInt16(0),ie.write(S),{charMap:i,subtable:ie.data,maxGlyphID:y+1};case"unicode":for(O=[],p=[],I=0,F={},r={},C=u=null,ae=0,ke=a.length;ae<ke;ae++)F[z=e[s=a[ae]]]==null&&(F[z]=++I),r[s]={old:z,new:F[z]},o=F[z]-s,C!=null&&o===u||(C&&p.push(C),O.push(s),u=o),C=s;for(C&&p.push(C),p.push(65535),O.push(65535),U=2*(R=O.length),M=2*Math.pow(Math.log(R)/Math.LN2,2),g=Math.log(M/2)/Math.LN2,P=2*R-M,c=[],G=[],x=[],w=pe=0,ne=O.length;pe<ne;w=++pe){if(L=O[w],d=p[w],L===65535){c.push(0),G.push(0);break}if(L-(j=r[L].new)>=32768)for(c.push(0),G.push(2*(x.length+R-w)),s=de=L;L<=d?de<=d:de>=d;s=L<=d?++de:--de)x.push(r[s].new);else c.push(j-L),G.push(0)}for(ie.writeUInt16(3),ie.writeUInt16(1),ie.writeUInt32(12),ie.writeUInt16(4),ie.writeUInt16(16+8*R+2*x.length),ie.writeUInt16(0),ie.writeUInt16(U),ie.writeUInt16(M),ie.writeUInt16(g),ie.writeUInt16(P),ge=0,B=p.length;ge<B;ge++)s=p[ge],ie.writeUInt16(s);for(ie.writeUInt16(0),Pe=0,K=O.length;Pe<K;Pe++)s=O[Pe],ie.writeUInt16(s);for(Re=0,Y=c.length;Re<Y;Re++)o=c[Re],ie.writeUInt16(o);for(He=0,Q=G.length;He<Q;He++)D=G[He],ie.writeUInt16(D);for(he=0,ue=x.length;he<ue;he++)y=x[he],ie.writeUInt16(y);return{charMap:r,subtable:ie.data,maxGlyphID:I+1}}},t})(),zV=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return lu(t,mc),t.prototype.tag="cmap",t.prototype.parse=function(e){var n,r,s;for(e.pos=this.offset,this.version=e.readUInt16(),s=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=s?r<s:r>s;r=0<=s?++r:--r)n=new WD(e,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(e,n){var r,s;return n==null&&(n="macroman"),r=WD.encode(e,n),(s=new Cd).writeUInt16(0),s.writeUInt16(1),r.table=s.data.concat(r.subtable),r},t})(),npe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return lu(t,mc),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t})(),rpe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return lu(t,mc),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var n,r;for(r=[],n=0;n<10;++n)r.push(e.readByte());return r})(),this.charRange=(function(){var n,r;for(r=[],n=0;n<4;++n)r.push(e.readInt());return r})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var n,r;for(r=[],n=0;n<2;n=++n)r.push(e.readInt());return r})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t})(),spe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return lu(t,mc),t.prototype.tag="post",t.prototype.parse=function(e){var n,r,s;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var i;for(r=e.readUInt16(),this.glyphNameIndex=[],i=0;0<=r?i<r:i>r;i=0<=r?++i:--i)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],s=[];e.pos<this.offset+this.length;)n=e.readByte(),s.push(this.names.push(e.readString(n)));return s;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=(function(){var a,o,c;for(c=[],i=a=0,o=this.file.maxp.numGlyphs;0<=o?a<o:a>o;i=0<=o?++a:--a)c.push(e.readUInt32());return c}).call(this)}},t})(),ipe=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},ape=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return lu(t,mc),t.prototype.tag="name",t.prototype.parse=function(e){var n,r,s,i,a,o,c,u,d,p,g;for(e.pos=this.offset,e.readShort(),n=e.readShort(),o=e.readShort(),r=[],i=0;0<=n?i<n:i>n;i=0<=n?++i:--i)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+o+e.readShort()});for(c={},i=d=0,p=r.length;d<p;i=++d)s=r[i],e.pos=s.offset,u=e.readString(s.length),a=new ipe(u,s),c[g=s.nameID]==null&&(c[g]=[]),c[s.nameID].push(a);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},t})(),ope=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return lu(t,mc),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t})(),lpe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return lu(t,mc),t.prototype.tag="hmtx",t.prototype.parse=function(e){var n,r,s,i,a,o,c;for(e.pos=this.offset,this.metrics=[],n=0,o=this.file.hhea.numberOfMetrics;0<=o?n<o:n>o;n=0<=o?++n:--n)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var u,d;for(d=[],n=u=0;0<=s?u<s:u>s;n=0<=s?++u:--u)d.push(e.readInt16());return d})(),this.widths=(function(){var u,d,p,g;for(g=[],u=0,d=(p=this.metrics).length;u<d;u++)i=p[u],g.push(i.advance);return g}).call(this),r=this.widths[this.widths.length-1],c=[],n=a=0;0<=s?a<s:a>s;n=0<=s?++a:--a)c.push(this.widths.push(r));return c},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t})(),GV=[].slice,cpe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return lu(t,mc),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var n,r,s,i,a,o,c,u,d,p;return e in this.cache?this.cache[e]:(i=this.file.loca,n=this.file.contents,r=i.indexOf(e),(s=i.lengthOf(e))===0?this.cache[e]=null:(n.pos=this.offset+r,a=(o=new Cd(n.read(s))).readShort(),u=o.readShort(),p=o.readShort(),c=o.readShort(),d=o.readShort(),this.cache[e]=a===-1?new fpe(o,u,p,c,d):new upe(o,a,u,p,c,d),this.cache[e]))},t.prototype.encode=function(e,n,r){var s,i,a,o,c;for(a=[],i=[],o=0,c=n.length;o<c;o++)s=e[n[o]],i.push(a.length),s&&(a=a.concat(s.encode(r)));return i.push(a.length),{table:a,offsets:i}},t})(),upe=(function(){function t(e,n,r,s,i,a){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=s,this.xMax=i,this.yMax=a,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t})(),fpe=(function(){function t(e,n,r,s,i){var a,o;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=s,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;o=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&o;)a.pos+=1&o?4:2,128&o?a.pos+=8:64&o?a.pos+=4:8&o&&(a.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new Cd(GV.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t})(),dpe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return lu(t,mc),t.prototype.tag="loca",t.prototype.parse=function(e){var n,r;return e.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var s,i;for(i=[],r=0,s=this.length;r<s;r+=2)i.push(2*e.readUInt16());return i}).call(this):(function(){var s,i;for(i=[],r=0,s=this.length;r<s;r+=4)i.push(e.readUInt32());return i}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,n){for(var r=new Uint32Array(this.offsets.length),s=0,i=0,a=0;a<r.length;++a)if(r[a]=s,i<n.length&&n[i]==a){++i,r[a]=s;var o=this.offsets[a],c=this.offsets[a+1]-o;c>0&&(s+=c)}for(var u=new Array(4*r.length),d=0;d<r.length;++d)u[4*d+3]=255&r[d],u[4*d+2]=(65280&r[d])>>8,u[4*d+1]=(16711680&r[d])>>16,u[4*d]=(4278190080&r[d])>>24;return u},t})(),hpe=(function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,s,i;for(n in s=this.font.cmap.tables[0].codeMap,e={},i=this.subset)r=i[n],e[n]=s[r];return e},t.prototype.glyphsFor=function(e){var n,r,s,i,a,o,c;for(s={},a=0,o=e.length;a<o;a++)s[i=e[a]]=this.font.glyf.glyphFor(i);for(i in n=[],s)(r=s[i])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(i in c=this.glyphsFor(n))r=c[i],s[i]=r;return s},t.prototype.encode=function(e,n){var r,s,i,a,o,c,u,d,p,g,x,w,y,S,C;for(s in r=zV.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(e),x={0:0},C=r.charMap)x[(c=C[s]).old]=c.new;for(w in g=r.maxGlyphID,a)w in x||(x[w]=g++);return d=(function(F){var I,D;for(I in D={},F)D[F[I]]=I;return D})(x),p=Object.keys(d).sort(function(F,I){return F-I}),y=(function(){var F,I,D;for(D=[],F=0,I=p.length;F<I;F++)o=p[F],D.push(d[o]);return D})(),i=this.font.glyf.encode(a,y,x),u=this.font.loca.encode(i.offsets,y),S={cmap:this.font.cmap.raw(),glyf:i.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(S["OS/2"]=this.font.os2.raw()),this.font.directory.encode(S)},t})();gn.API.PDFObject=(function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,s,i,a;if(Array.isArray(n))return"["+(function(){var o,c,u;for(u=[],o=0,c=n.length;o<c;o++)r=n[o],u.push(e.convert(r));return u})().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n?.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(s in i=["<<"],n)a=n[s],i.push("/"+s+" "+e.convert(a));return i.push(">>"),i.join(`
`)}return""+n},e})();const $V=J.createContext(void 0);function ppe({children:t}){const{user:e}=Rx(),[n,r]=J.useState(null),[s,i]=J.useState(!0),[a,o]=J.useState(!1),c=async()=>{if(!e){r(null),i(!1);return}try{o(!1);const d=await pie(Ip(Uu,"companies",e.uid));d.exists()?r(d.data()):r(null)}catch(d){console.error("Error fetching company:",d),d.code==="permission-denied"&&o(!0),r(null)}finally{i(!1)}};J.useEffect(()=>{c()},[e]);const u=async d=>{if(e)try{await NT(Ip(Uu,"companies",e.uid),{...d,owner_uid:e.uid,owner_email:e.email,updated_at:yie()},{merge:!0}),await c()}catch(p){throw p.code==="permission-denied"?(o(!0),new Error("Permission denied. Please check Firestore Rules.")):p}};return m.jsx($V.Provider,{value:{company:n,loading:s,permissionError:a,saveCompany:u,reloadCompany:c},children:t})}function i0(){const t=J.useContext($V);if(t===void 0)throw new Error("useCompany must be used within a CompanyProvider");return t}function mpe(t){t.CapacitorUtils.Synapse=new Proxy({},{get(e,n){return new Proxy({},{get(r,s){return(i,a,o)=>{const c=t.Capacitor.Plugins[n];if(c===void 0){o(new Error(`Capacitor plugin ${n} not found`));return}if(typeof c[s]!="function"){o(new Error(`Method ${s} not found in Capacitor plugin ${n}`));return}(async()=>{try{const u=await c[s](i);a(u)}catch(u){o(u)}})()}}})}})}function gpe(t){t.CapacitorUtils.Synapse=new Proxy({},{get(e,n){return t.cordova.plugins[n]}})}function xpe(t=!1){typeof window>"u"||(window.CapacitorUtils=window.CapacitorUtils||{},window.Capacitor!==void 0&&!t?mpe(window):window.cordova!==void 0&&gpe(window))}var W2;(function(t){t.Documents="DOCUMENTS",t.Data="DATA",t.Library="LIBRARY",t.Cache="CACHE",t.External="EXTERNAL",t.ExternalStorage="EXTERNAL_STORAGE",t.ExternalCache="EXTERNAL_CACHE",t.LibraryNoCloud="LIBRARY_NO_CLOUD",t.Temporary="TEMPORARY"})(W2||(W2={}));var KD;(function(t){t.UTF8="utf8",t.ASCII="ascii",t.UTF16="utf16"})(KD||(KD={}));const r2=Pm("Filesystem",{web:()=>jp(()=>import("./web-CXVZiy7h.js"),[],import.meta.url).then(t=>new t.FilesystemWeb)});xpe();var ip={},kE,YD;function vpe(){return YD||(YD=1,kE=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),kE}var RE={},Xf={},XD;function a0(){if(XD)return Xf;XD=1;let t;const e=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return Xf.getSymbolSize=function(r){if(!r)throw new Error('"version" cannot be null or undefined');if(r<1||r>40)throw new Error('"version" should be in range from 1 to 40');return r*4+17},Xf.getSymbolTotalCodewords=function(r){return e[r]},Xf.getBCHDigit=function(n){let r=0;for(;n!==0;)r++,n>>>=1;return r},Xf.setToSJISFunction=function(r){if(typeof r!="function")throw new Error('"toSJISFunc" is not a valid function.');t=r},Xf.isKanjiModeEnabled=function(){return typeof t<"u"},Xf.toSJIS=function(r){return t(r)},Xf}var PE={},JD;function bC(){return JD||(JD=1,(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+n)}}t.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},t.from=function(r,s){if(t.isValid(r))return r;try{return e(r)}catch{return s}}})(PE)),PE}var DE,QD;function ype(){if(QD)return DE;QD=1;function t(){this.buffer=[],this.length=0}return t.prototype={get:function(e){const n=Math.floor(e/8);return(this.buffer[n]>>>7-e%8&1)===1},put:function(e,n){for(let r=0;r<n;r++)this.putBit((e>>>n-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const n=Math.floor(this.length/8);this.buffer.length<=n&&this.buffer.push(0),e&&(this.buffer[n]|=128>>>this.length%8),this.length++}},DE=t,DE}var ME,ZD;function bpe(){if(ZD)return ME;ZD=1;function t(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}return t.prototype.set=function(e,n,r,s){const i=e*this.size+n;this.data[i]=r,s&&(this.reservedBit[i]=!0)},t.prototype.get=function(e,n){return this.data[e*this.size+n]},t.prototype.xor=function(e,n,r){this.data[e*this.size+n]^=r},t.prototype.isReserved=function(e,n){return this.reservedBit[e*this.size+n]},ME=t,ME}var LE={},eM;function wpe(){return eM||(eM=1,(function(t){const e=a0().getSymbolSize;t.getRowColCoords=function(r){if(r===1)return[];const s=Math.floor(r/7)+2,i=e(r),a=i===145?26:Math.ceil((i-13)/(2*s-2))*2,o=[i-7];for(let c=1;c<s-1;c++)o[c]=o[c-1]-a;return o.push(6),o.reverse()},t.getPositions=function(r){const s=[],i=t.getRowColCoords(r),a=i.length;for(let o=0;o<a;o++)for(let c=0;c<a;c++)o===0&&c===0||o===0&&c===a-1||o===a-1&&c===0||s.push([i[o],i[c]]);return s}})(LE)),LE}var FE={},tM;function _pe(){if(tM)return FE;tM=1;const t=a0().getSymbolSize,e=7;return FE.getPositions=function(r){const s=t(r);return[[0,0],[s-e,0],[0,s-e]]},FE}var OE={},nM;function Epe(){return nM||(nM=1,(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(s){return s!=null&&s!==""&&!isNaN(s)&&s>=0&&s<=7},t.from=function(s){return t.isValid(s)?parseInt(s,10):void 0},t.getPenaltyN1=function(s){const i=s.size;let a=0,o=0,c=0,u=null,d=null;for(let p=0;p<i;p++){o=c=0,u=d=null;for(let g=0;g<i;g++){let x=s.get(p,g);x===u?o++:(o>=5&&(a+=e.N1+(o-5)),u=x,o=1),x=s.get(g,p),x===d?c++:(c>=5&&(a+=e.N1+(c-5)),d=x,c=1)}o>=5&&(a+=e.N1+(o-5)),c>=5&&(a+=e.N1+(c-5))}return a},t.getPenaltyN2=function(s){const i=s.size;let a=0;for(let o=0;o<i-1;o++)for(let c=0;c<i-1;c++){const u=s.get(o,c)+s.get(o,c+1)+s.get(o+1,c)+s.get(o+1,c+1);(u===4||u===0)&&a++}return a*e.N2},t.getPenaltyN3=function(s){const i=s.size;let a=0,o=0,c=0;for(let u=0;u<i;u++){o=c=0;for(let d=0;d<i;d++)o=o<<1&2047|s.get(u,d),d>=10&&(o===1488||o===93)&&a++,c=c<<1&2047|s.get(d,u),d>=10&&(c===1488||c===93)&&a++}return a*e.N3},t.getPenaltyN4=function(s){let i=0;const a=s.data.length;for(let c=0;c<a;c++)i+=s.data[c];return Math.abs(Math.ceil(i*100/a/5)-10)*e.N4};function n(r,s,i){switch(r){case t.Patterns.PATTERN000:return(s+i)%2===0;case t.Patterns.PATTERN001:return s%2===0;case t.Patterns.PATTERN010:return i%3===0;case t.Patterns.PATTERN011:return(s+i)%3===0;case t.Patterns.PATTERN100:return(Math.floor(s/2)+Math.floor(i/3))%2===0;case t.Patterns.PATTERN101:return s*i%2+s*i%3===0;case t.Patterns.PATTERN110:return(s*i%2+s*i%3)%2===0;case t.Patterns.PATTERN111:return(s*i%3+(s+i)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}t.applyMask=function(s,i){const a=i.size;for(let o=0;o<a;o++)for(let c=0;c<a;c++)i.isReserved(c,o)||i.xor(c,o,n(s,c,o))},t.getBestMask=function(s,i){const a=Object.keys(t.Patterns).length;let o=0,c=1/0;for(let u=0;u<a;u++){i(u),t.applyMask(u,s);const d=t.getPenaltyN1(s)+t.getPenaltyN2(s)+t.getPenaltyN3(s)+t.getPenaltyN4(s);t.applyMask(u,s),d<c&&(c=d,o=u)}return o}})(OE)),OE}var oy={},rM;function WV(){if(rM)return oy;rM=1;const t=bC(),e=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],n=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return oy.getBlocksCount=function(s,i){switch(i){case t.L:return e[(s-1)*4+0];case t.M:return e[(s-1)*4+1];case t.Q:return e[(s-1)*4+2];case t.H:return e[(s-1)*4+3];default:return}},oy.getTotalCodewordsCount=function(s,i){switch(i){case t.L:return n[(s-1)*4+0];case t.M:return n[(s-1)*4+1];case t.Q:return n[(s-1)*4+2];case t.H:return n[(s-1)*4+3];default:return}},oy}var BE={},Bg={},sM;function Tpe(){if(sM)return Bg;sM=1;const t=new Uint8Array(512),e=new Uint8Array(256);return(function(){let r=1;for(let s=0;s<255;s++)t[s]=r,e[r]=s,r<<=1,r&256&&(r^=285);for(let s=255;s<512;s++)t[s]=t[s-255]})(),Bg.log=function(r){if(r<1)throw new Error("log("+r+")");return e[r]},Bg.exp=function(r){return t[r]},Bg.mul=function(r,s){return r===0||s===0?0:t[e[r]+e[s]]},Bg}var iM;function Spe(){return iM||(iM=1,(function(t){const e=Tpe();t.mul=function(r,s){const i=new Uint8Array(r.length+s.length-1);for(let a=0;a<r.length;a++)for(let o=0;o<s.length;o++)i[a+o]^=e.mul(r[a],s[o]);return i},t.mod=function(r,s){let i=new Uint8Array(r);for(;i.length-s.length>=0;){const a=i[0];for(let c=0;c<s.length;c++)i[c]^=e.mul(s[c],a);let o=0;for(;o<i.length&&i[o]===0;)o++;i=i.slice(o)}return i},t.generateECPolynomial=function(r){let s=new Uint8Array([1]);for(let i=0;i<r;i++)s=t.mul(s,new Uint8Array([1,e.exp(i)]));return s}})(BE)),BE}var VE,aM;function Ape(){if(aM)return VE;aM=1;const t=Spe();function e(n){this.genPoly=void 0,this.degree=n,this.degree&&this.initialize(this.degree)}return e.prototype.initialize=function(r){this.degree=r,this.genPoly=t.generateECPolynomial(this.degree)},e.prototype.encode=function(r){if(!this.genPoly)throw new Error("Encoder not initialized");const s=new Uint8Array(r.length+this.degree);s.set(r);const i=t.mod(s,this.genPoly),a=this.degree-i.length;if(a>0){const o=new Uint8Array(this.degree);return o.set(i,a),o}return i},VE=e,VE}var UE={},jE={},qE={},oM;function KV(){return oM||(oM=1,qE.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}),qE}var Fc={},lM;function YV(){if(lM)return Fc;lM=1;const t="[0-9]+",e="[A-Z $%*+\\-./:]+";let n="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";n=n.replace(/u/g,"\\u");const r="(?:(?![A-Z0-9 $%*+\\-./:]|"+n+`)(?:.|[\r
]))+`;Fc.KANJI=new RegExp(n,"g"),Fc.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),Fc.BYTE=new RegExp(r,"g"),Fc.NUMERIC=new RegExp(t,"g"),Fc.ALPHANUMERIC=new RegExp(e,"g");const s=new RegExp("^"+n+"$"),i=new RegExp("^"+t+"$"),a=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return Fc.testKanji=function(c){return s.test(c)},Fc.testNumeric=function(c){return i.test(c)},Fc.testAlphanumeric=function(c){return a.test(c)},Fc}var cM;function o0(){return cM||(cM=1,(function(t){const e=KV(),n=YV();t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(i,a){if(!i.ccBits)throw new Error("Invalid mode: "+i);if(!e.isValid(a))throw new Error("Invalid version: "+a);return a>=1&&a<10?i.ccBits[0]:a<27?i.ccBits[1]:i.ccBits[2]},t.getBestModeForData=function(i){return n.testNumeric(i)?t.NUMERIC:n.testAlphanumeric(i)?t.ALPHANUMERIC:n.testKanji(i)?t.KANJI:t.BYTE},t.toString=function(i){if(i&&i.id)return i.id;throw new Error("Invalid mode")},t.isValid=function(i){return i&&i.bit&&i.ccBits};function r(s){if(typeof s!="string")throw new Error("Param is not a string");switch(s.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+s)}}t.from=function(i,a){if(t.isValid(i))return i;try{return r(i)}catch{return a}}})(jE)),jE}var uM;function Cpe(){return uM||(uM=1,(function(t){const e=a0(),n=WV(),r=bC(),s=o0(),i=KV(),a=7973,o=e.getBCHDigit(a);function c(g,x,w){for(let y=1;y<=40;y++)if(x<=t.getCapacity(y,w,g))return y}function u(g,x){return s.getCharCountIndicator(g,x)+4}function d(g,x){let w=0;return g.forEach(function(y){const S=u(y.mode,x);w+=S+y.getBitsLength()}),w}function p(g,x){for(let w=1;w<=40;w++)if(d(g,w)<=t.getCapacity(w,x,s.MIXED))return w}t.from=function(x,w){return i.isValid(x)?parseInt(x,10):w},t.getCapacity=function(x,w,y){if(!i.isValid(x))throw new Error("Invalid QR Code version");typeof y>"u"&&(y=s.BYTE);const S=e.getSymbolTotalCodewords(x),C=n.getTotalCodewordsCount(x,w),F=(S-C)*8;if(y===s.MIXED)return F;const I=F-u(y,x);switch(y){case s.NUMERIC:return Math.floor(I/10*3);case s.ALPHANUMERIC:return Math.floor(I/11*2);case s.KANJI:return Math.floor(I/13);case s.BYTE:default:return Math.floor(I/8)}},t.getBestVersionForData=function(x,w){let y;const S=r.from(w,r.M);if(Array.isArray(x)){if(x.length>1)return p(x,S);if(x.length===0)return 1;y=x[0]}else y=x;return c(y.mode,y.getLength(),S)},t.getEncodedBits=function(x){if(!i.isValid(x)||x<7)throw new Error("Invalid QR Code version");let w=x<<12;for(;e.getBCHDigit(w)-o>=0;)w^=a<<e.getBCHDigit(w)-o;return x<<12|w}})(UE)),UE}var HE={},fM;function Npe(){if(fM)return HE;fM=1;const t=a0(),e=1335,n=21522,r=t.getBCHDigit(e);return HE.getEncodedBits=function(i,a){const o=i.bit<<3|a;let c=o<<10;for(;t.getBCHDigit(c)-r>=0;)c^=e<<t.getBCHDigit(c)-r;return(o<<10|c)^n},HE}var zE={},GE,dM;function Ipe(){if(dM)return GE;dM=1;const t=o0();function e(n){this.mode=t.NUMERIC,this.data=n.toString()}return e.getBitsLength=function(r){return 10*Math.floor(r/3)+(r%3?r%3*3+1:0)},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(r){let s,i,a;for(s=0;s+3<=this.data.length;s+=3)i=this.data.substr(s,3),a=parseInt(i,10),r.put(a,10);const o=this.data.length-s;o>0&&(i=this.data.substr(s),a=parseInt(i,10),r.put(a,o*3+1))},GE=e,GE}var $E,hM;function kpe(){if(hM)return $E;hM=1;const t=o0(),e=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function n(r){this.mode=t.ALPHANUMERIC,this.data=r}return n.getBitsLength=function(s){return 11*Math.floor(s/2)+6*(s%2)},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(s){let i;for(i=0;i+2<=this.data.length;i+=2){let a=e.indexOf(this.data[i])*45;a+=e.indexOf(this.data[i+1]),s.put(a,11)}this.data.length%2&&s.put(e.indexOf(this.data[i]),6)},$E=n,$E}var WE,pM;function Rpe(){if(pM)return WE;pM=1;const t=o0();function e(n){this.mode=t.BYTE,typeof n=="string"?this.data=new TextEncoder().encode(n):this.data=new Uint8Array(n)}return e.getBitsLength=function(r){return r*8},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(n){for(let r=0,s=this.data.length;r<s;r++)n.put(this.data[r],8)},WE=e,WE}var KE,mM;function Ppe(){if(mM)return KE;mM=1;const t=o0(),e=a0();function n(r){this.mode=t.KANJI,this.data=r}return n.getBitsLength=function(s){return s*13},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(r){let s;for(s=0;s<this.data.length;s++){let i=e.toSJIS(this.data[s]);if(i>=33088&&i<=40956)i-=33088;else if(i>=57408&&i<=60351)i-=49472;else throw new Error("Invalid SJIS character: "+this.data[s]+`
Make sure your charset is UTF-8`);i=(i>>>8&255)*192+(i&255),r.put(i,13)}},KE=n,KE}var YE={exports:{}},gM;function Dpe(){return gM||(gM=1,(function(t){var e={single_source_shortest_paths:function(n,r,s){var i={},a={};a[r]=0;var o=e.PriorityQueue.make();o.push(r,0);for(var c,u,d,p,g,x,w,y,S;!o.empty();){c=o.pop(),u=c.value,p=c.cost,g=n[u]||{};for(d in g)g.hasOwnProperty(d)&&(x=g[d],w=p+x,y=a[d],S=typeof a[d]>"u",(S||y>w)&&(a[d]=w,o.push(d,w),i[d]=u))}if(typeof s<"u"&&typeof a[s]>"u"){var C=["Could not find a path from ",r," to ",s,"."].join("");throw new Error(C)}return i},extract_shortest_path_from_predecessor_list:function(n,r){for(var s=[],i=r;i;)s.push(i),n[i],i=n[i];return s.reverse(),s},find_path:function(n,r,s){var i=e.single_source_shortest_paths(n,r,s);return e.extract_shortest_path_from_predecessor_list(i,s)},PriorityQueue:{make:function(n){var r=e.PriorityQueue,s={},i;n=n||{};for(i in r)r.hasOwnProperty(i)&&(s[i]=r[i]);return s.queue=[],s.sorter=n.sorter||r.default_sorter,s},default_sorter:function(n,r){return n.cost-r.cost},push:function(n,r){var s={value:n,cost:r};this.queue.push(s),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e})(YE)),YE.exports}var xM;function Mpe(){return xM||(xM=1,(function(t){const e=o0(),n=Ipe(),r=kpe(),s=Rpe(),i=Ppe(),a=YV(),o=a0(),c=Dpe();function u(C){return unescape(encodeURIComponent(C)).length}function d(C,F,I){const D=[];let z;for(;(z=C.exec(I))!==null;)D.push({data:z[0],index:z.index,mode:F,length:z[0].length});return D}function p(C){const F=d(a.NUMERIC,e.NUMERIC,C),I=d(a.ALPHANUMERIC,e.ALPHANUMERIC,C);let D,z;return o.isKanjiModeEnabled()?(D=d(a.BYTE,e.BYTE,C),z=d(a.KANJI,e.KANJI,C)):(D=d(a.BYTE_KANJI,e.BYTE,C),z=[]),F.concat(I,D,z).sort(function(P,M){return P.index-M.index}).map(function(P){return{data:P.data,mode:P.mode,length:P.length}})}function g(C,F){switch(F){case e.NUMERIC:return n.getBitsLength(C);case e.ALPHANUMERIC:return r.getBitsLength(C);case e.KANJI:return i.getBitsLength(C);case e.BYTE:return s.getBitsLength(C)}}function x(C){return C.reduce(function(F,I){const D=F.length-1>=0?F[F.length-1]:null;return D&&D.mode===I.mode?(F[F.length-1].data+=I.data,F):(F.push(I),F)},[])}function w(C){const F=[];for(let I=0;I<C.length;I++){const D=C[I];switch(D.mode){case e.NUMERIC:F.push([D,{data:D.data,mode:e.ALPHANUMERIC,length:D.length},{data:D.data,mode:e.BYTE,length:D.length}]);break;case e.ALPHANUMERIC:F.push([D,{data:D.data,mode:e.BYTE,length:D.length}]);break;case e.KANJI:F.push([D,{data:D.data,mode:e.BYTE,length:u(D.data)}]);break;case e.BYTE:F.push([{data:D.data,mode:e.BYTE,length:u(D.data)}])}}return F}function y(C,F){const I={},D={start:{}};let z=["start"];for(let G=0;G<C.length;G++){const P=C[G],M=[];for(let R=0;R<P.length;R++){const U=P[R],L=""+G+R;M.push(L),I[L]={node:U,lastCount:0},D[L]={};for(let O=0;O<z.length;O++){const j=z[O];I[j]&&I[j].node.mode===U.mode?(D[j][L]=g(I[j].lastCount+U.length,U.mode)-g(I[j].lastCount,U.mode),I[j].lastCount+=U.length):(I[j]&&(I[j].lastCount=U.length),D[j][L]=g(U.length,U.mode)+4+e.getCharCountIndicator(U.mode,F))}}z=M}for(let G=0;G<z.length;G++)D[z[G]].end=0;return{map:D,table:I}}function S(C,F){let I;const D=e.getBestModeForData(C);if(I=e.from(F,D),I!==e.BYTE&&I.bit<D.bit)throw new Error('"'+C+'" cannot be encoded with mode '+e.toString(I)+`.
 Suggested mode is: `+e.toString(D));switch(I===e.KANJI&&!o.isKanjiModeEnabled()&&(I=e.BYTE),I){case e.NUMERIC:return new n(C);case e.ALPHANUMERIC:return new r(C);case e.KANJI:return new i(C);case e.BYTE:return new s(C)}}t.fromArray=function(F){return F.reduce(function(I,D){return typeof D=="string"?I.push(S(D,null)):D.data&&I.push(S(D.data,D.mode)),I},[])},t.fromString=function(F,I){const D=p(F,o.isKanjiModeEnabled()),z=w(D),G=y(z,I),P=c.find_path(G.map,"start","end"),M=[];for(let R=1;R<P.length-1;R++)M.push(G.table[P[R]].node);return t.fromArray(x(M))},t.rawSplit=function(F){return t.fromArray(p(F,o.isKanjiModeEnabled()))}})(zE)),zE}var vM;function Lpe(){if(vM)return RE;vM=1;const t=a0(),e=bC(),n=ype(),r=bpe(),s=wpe(),i=_pe(),a=Epe(),o=WV(),c=Ape(),u=Cpe(),d=Npe(),p=o0(),g=Mpe();function x(G,P){const M=G.size,R=i.getPositions(P);for(let U=0;U<R.length;U++){const L=R[U][0],O=R[U][1];for(let j=-1;j<=7;j++)if(!(L+j<=-1||M<=L+j))for(let ie=-1;ie<=7;ie++)O+ie<=-1||M<=O+ie||(j>=0&&j<=6&&(ie===0||ie===6)||ie>=0&&ie<=6&&(j===0||j===6)||j>=2&&j<=4&&ie>=2&&ie<=4?G.set(L+j,O+ie,!0,!0):G.set(L+j,O+ie,!1,!0))}}function w(G){const P=G.size;for(let M=8;M<P-8;M++){const R=M%2===0;G.set(M,6,R,!0),G.set(6,M,R,!0)}}function y(G,P){const M=s.getPositions(P);for(let R=0;R<M.length;R++){const U=M[R][0],L=M[R][1];for(let O=-2;O<=2;O++)for(let j=-2;j<=2;j++)O===-2||O===2||j===-2||j===2||O===0&&j===0?G.set(U+O,L+j,!0,!0):G.set(U+O,L+j,!1,!0)}}function S(G,P){const M=G.size,R=u.getEncodedBits(P);let U,L,O;for(let j=0;j<18;j++)U=Math.floor(j/3),L=j%3+M-8-3,O=(R>>j&1)===1,G.set(U,L,O,!0),G.set(L,U,O,!0)}function C(G,P,M){const R=G.size,U=d.getEncodedBits(P,M);let L,O;for(L=0;L<15;L++)O=(U>>L&1)===1,L<6?G.set(L,8,O,!0):L<8?G.set(L+1,8,O,!0):G.set(R-15+L,8,O,!0),L<8?G.set(8,R-L-1,O,!0):L<9?G.set(8,15-L-1+1,O,!0):G.set(8,15-L-1,O,!0);G.set(R-8,8,1,!0)}function F(G,P){const M=G.size;let R=-1,U=M-1,L=7,O=0;for(let j=M-1;j>0;j-=2)for(j===6&&j--;;){for(let ie=0;ie<2;ie++)if(!G.isReserved(U,j-ie)){let Ee=!1;O<P.length&&(Ee=(P[O]>>>L&1)===1),G.set(U,j-ie,Ee),L--,L===-1&&(O++,L=7)}if(U+=R,U<0||M<=U){U-=R,R=-R;break}}}function I(G,P,M){const R=new n;M.forEach(function(ie){R.put(ie.mode.bit,4),R.put(ie.getLength(),p.getCharCountIndicator(ie.mode,G)),ie.write(R)});const U=t.getSymbolTotalCodewords(G),L=o.getTotalCodewordsCount(G,P),O=(U-L)*8;for(R.getLengthInBits()+4<=O&&R.put(0,4);R.getLengthInBits()%8!==0;)R.putBit(0);const j=(O-R.getLengthInBits())/8;for(let ie=0;ie<j;ie++)R.put(ie%2?17:236,8);return D(R,G,P)}function D(G,P,M){const R=t.getSymbolTotalCodewords(P),U=o.getTotalCodewordsCount(P,M),L=R-U,O=o.getBlocksCount(P,M),j=R%O,ie=O-j,Ee=Math.floor(R/O),ae=Math.floor(L/O),pe=ae+1,de=Ee-ae,oe=new c(de);let ke=0;const ne=new Array(O),B=new Array(O);let K=0;const Y=new Uint8Array(G.buffer);for(let ee=0;ee<O;ee++){const Re=ee<ie?ae:pe;ne[ee]=Y.slice(ke,ke+Re),B[ee]=oe.encode(ne[ee]),ke+=Re,K=Math.max(K,Re)}const Q=new Uint8Array(R);let ue=0,ge,Pe;for(ge=0;ge<K;ge++)for(Pe=0;Pe<O;Pe++)ge<ne[Pe].length&&(Q[ue++]=ne[Pe][ge]);for(ge=0;ge<de;ge++)for(Pe=0;Pe<O;Pe++)Q[ue++]=B[Pe][ge];return Q}function z(G,P,M,R){let U;if(Array.isArray(G))U=g.fromArray(G);else if(typeof G=="string"){let Ee=P;if(!Ee){const ae=g.rawSplit(G);Ee=u.getBestVersionForData(ae,M)}U=g.fromString(G,Ee||40)}else throw new Error("Invalid data");const L=u.getBestVersionForData(U,M);if(!L)throw new Error("The amount of data is too big to be stored in a QR Code");if(!P)P=L;else if(P<L)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+L+`.
`);const O=I(P,M,U),j=t.getSymbolSize(P),ie=new r(j);return x(ie,P),w(ie),y(ie,P),C(ie,M,0),P>=7&&S(ie,P),F(ie,O),isNaN(R)&&(R=a.getBestMask(ie,C.bind(null,ie,M))),a.applyMask(R,ie),C(ie,M,R),{modules:ie,version:P,errorCorrectionLevel:M,maskPattern:R,segments:U}}return RE.create=function(P,M){if(typeof P>"u"||P==="")throw new Error("No input text");let R=e.M,U,L;return typeof M<"u"&&(R=e.from(M.errorCorrectionLevel,e.M),U=u.from(M.version),L=a.from(M.maskPattern),M.toSJISFunc&&t.setToSJISFunction(M.toSJISFunc)),z(P,U,R,L)},RE}var XE={},JE={},yM;function XV(){return yM||(yM=1,(function(t){function e(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let r=n.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+n);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(i){return[i,i]}))),r.length===6&&r.push("F","F");const s=parseInt(r.join(""),16);return{r:s>>24&255,g:s>>16&255,b:s>>8&255,a:s&255,hex:"#"+r.slice(0,6).join("")}}t.getOptions=function(r){r||(r={}),r.color||(r.color={});const s=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,i=r.width&&r.width>=21?r.width:void 0,a=r.scale||4;return{width:i,scale:i?4:a,margin:s,color:{dark:e(r.color.dark||"#000000ff"),light:e(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},t.getScale=function(r,s){return s.width&&s.width>=r+s.margin*2?s.width/(r+s.margin*2):s.scale},t.getImageWidth=function(r,s){const i=t.getScale(r,s);return Math.floor((r+s.margin*2)*i)},t.qrToImageData=function(r,s,i){const a=s.modules.size,o=s.modules.data,c=t.getScale(a,i),u=Math.floor((a+i.margin*2)*c),d=i.margin*c,p=[i.color.light,i.color.dark];for(let g=0;g<u;g++)for(let x=0;x<u;x++){let w=(g*u+x)*4,y=i.color.light;if(g>=d&&x>=d&&g<u-d&&x<u-d){const S=Math.floor((g-d)/c),C=Math.floor((x-d)/c);y=p[o[S*a+C]?1:0]}r[w++]=y.r,r[w++]=y.g,r[w++]=y.b,r[w]=y.a}}})(JE)),JE}var bM;function Fpe(){return bM||(bM=1,(function(t){const e=XV();function n(s,i,a){s.clearRect(0,0,i.width,i.height),i.style||(i.style={}),i.height=a,i.width=a,i.style.height=a+"px",i.style.width=a+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(i,a,o){let c=o,u=a;typeof c>"u"&&(!a||!a.getContext)&&(c=a,a=void 0),a||(u=r()),c=e.getOptions(c);const d=e.getImageWidth(i.modules.size,c),p=u.getContext("2d"),g=p.createImageData(d,d);return e.qrToImageData(g.data,i,c),n(p,u,d),p.putImageData(g,0,0),u},t.renderToDataURL=function(i,a,o){let c=o;typeof c>"u"&&(!a||!a.getContext)&&(c=a,a=void 0),c||(c={});const u=t.render(i,a,c),d=c.type||"image/png",p=c.rendererOpts||{};return u.toDataURL(d,p.quality)}})(XE)),XE}var QE={},wM;function Ope(){if(wM)return QE;wM=1;const t=XV();function e(s,i){const a=s.a/255,o=i+'="'+s.hex+'"';return a<1?o+" "+i+'-opacity="'+a.toFixed(2).slice(1)+'"':o}function n(s,i,a){let o=s+i;return typeof a<"u"&&(o+=" "+a),o}function r(s,i,a){let o="",c=0,u=!1,d=0;for(let p=0;p<s.length;p++){const g=Math.floor(p%i),x=Math.floor(p/i);!g&&!u&&(u=!0),s[p]?(d++,p>0&&g>0&&s[p-1]||(o+=u?n("M",g+a,.5+x+a):n("m",c,0),c=0,u=!1),g+1<i&&s[p+1]||(o+=n("h",d),d=0)):c++}return o}return QE.render=function(i,a,o){const c=t.getOptions(a),u=i.modules.size,d=i.modules.data,p=u+c.margin*2,g=c.color.light.a?"<path "+e(c.color.light,"fill")+' d="M0 0h'+p+"v"+p+'H0z"/>':"",x="<path "+e(c.color.dark,"stroke")+' d="'+r(d,u,c.margin)+'"/>',w='viewBox="0 0 '+p+" "+p+'"',S='<svg xmlns="http://www.w3.org/2000/svg" '+(c.width?'width="'+c.width+'" height="'+c.width+'" ':"")+w+' shape-rendering="crispEdges">'+g+x+`</svg>
`;return typeof o=="function"&&o(null,S),S},QE}var _M;function Bpe(){if(_M)return ip;_M=1;const t=vpe(),e=Lpe(),n=Fpe(),r=Ope();function s(i,a,o,c,u){const d=[].slice.call(arguments,1),p=d.length,g=typeof d[p-1]=="function";if(!g&&!t())throw new Error("Callback required as last argument");if(g){if(p<2)throw new Error("Too few arguments provided");p===2?(u=o,o=a,a=c=void 0):p===3&&(a.getContext&&typeof u>"u"?(u=c,c=void 0):(u=c,c=o,o=a,a=void 0))}else{if(p<1)throw new Error("Too few arguments provided");return p===1?(o=a,a=c=void 0):p===2&&!a.getContext&&(c=o,o=a,a=void 0),new Promise(function(x,w){try{const y=e.create(o,c);x(i(y,a,c))}catch(y){w(y)}})}try{const x=e.create(o,c);u(null,i(x,a,c))}catch(x){u(x)}}return ip.create=e.create,ip.toCanvas=s.bind(null,n.render),ip.toDataURL=s.bind(null,n.renderToDataURL),ip.toString=s.bind(null,function(i,a,o){return r.render(i,o)}),ip}var Vpe=Bpe();const Upe=xS(Vpe);var YT;(function(t){t.Home="home",t.Work="work",t.Other="other",t.Custom="custom",t.Mobile="mobile",t.FaxWork="fax_work",t.FaxHome="fax_home",t.Pager="pager",t.Callback="callback",t.Car="car",t.CompanyMain="company_main",t.Isdn="isdn",t.Main="main",t.OtherFax="other_fax",t.Radio="radio",t.Telex="telex",t.TtyTdd="tty_tdd",t.WorkMobile="work_mobile",t.WorkPager="work_pager",t.Assistant="assistant",t.Mms="mms"})(YT||(YT={}));var EM;(function(t){t.Home="home",t.Work="work",t.Other="other",t.Custom="custom",t.Mobile="mobile"})(EM||(EM={}));var TM;(function(t){t.Home="home",t.Work="work",t.Other="other",t.Custom="custom"})(TM||(TM={}));const Gu=Pm("Contacts",{web:()=>jp(()=>import("./web-Dni12ung.js"),[],import.meta.url).then(t=>new t.ContactsWeb)}),rc={normalizePhone:t=>t.replace(/\D/g,"").slice(-10),getContactNameFromPhone:async t=>{if(!Gh.isNativePlatform())return"";try{if((await Gu.checkPermissions()).contacts!=="granted"&&(await Gu.requestPermissions()).contacts!=="granted")return"";const{contacts:n}=await Gu.getContacts({projection:{name:!0,phones:!0}}),r=rc.normalizePhone(t);for(const s of n)if(s.phones){for(const i of s.phones)if(rc.normalizePhone(i.number||"")===r)return s.name?.display||""}}catch(e){console.warn("Contact read error",e)}return""},getCombinedContacts:async t=>{const e=[],n=t.toLowerCase().trim();if(it.getCustomers().forEach(i=>{(i.name.toLowerCase().includes(n)||i.phone.includes(n))&&e.push({id:i.id,name:i.name,phone:i.phone,source:"db"})}),Gh.isNativePlatform())try{const{contacts:i}=await Gu.getContacts({projection:{name:!0,phones:!0}});i.forEach(a=>{const o=a.name?.display||"";if(o.toLowerCase().includes(n)){const c=a.phones?.[0]?.number||"";c&&e.push({id:a.contactId||Math.random().toString(),name:o,phone:c,source:"phone"})}else{const c=a.phones?.find(u=>u.number?.includes(n));c&&e.push({id:a.contactId||Math.random().toString(),name:o,phone:c.number||"",source:"phone"})}})}catch(i){console.warn("Search contacts error",i)}const s=new Set;return e.filter(i=>{const a=rc.normalizePhone(i.phone);return s.has(a)?!1:(s.add(a),!0)}).slice(0,50)},resolveName:async t=>{const e=rc.normalizePhone(t);if(e.length<10)return{name:"",source:"manual"};const n=it.getCustomers().find(s=>rc.normalizePhone(s.phone)===e);if(n)return{name:n.name,source:"db"};const r=await rc.getContactNameFromPhone(e);return r?{name:r,source:"phone"}:{name:"",source:"manual"}}},jpe=(t,e)=>{const n={};return t.items.forEach(r=>{const s=r.hsn||"N/A";n[s]||(n[s]={hsn:s,description:r.description,quantity:0,baseAmount:0,cgstAmount:0,sgstAmount:0,igstAmount:0,gstRate:r.gstRate||0}),n[s].quantity+=r.quantity,n[s].baseAmount+=r.baseAmount||0,n[s].cgstAmount+=r.cgstAmount||0,n[s].sgstAmount+=r.sgstAmount||0,n[s].igstAmount+=r.igstAmount||0}),Object.values(n)},ap=t=>{const e=["","One","Two","Three","Four","Five","Six","Seven","Eight","Nine","Ten","Eleven","Twelve","Thirteen","Fourteen","Fifteen","Sixteen","Seventeen","Eighteen","Nineteen"],n=["","","Twenty","Thirty","Forty","Fifty","Sixty","Seventy","Eighty","Ninety"],r=o=>o===0?"":o<20?e[o]:o<100?n[Math.floor(o/10)]+(o%10!==0?" "+e[o%10]:""):o<1e3?e[Math.floor(o/100)]+" Hundred"+(o%100!==0?" and "+r(o%100):""):o<1e5?r(Math.floor(o/1e3))+" Thousand"+(o%1e3!==0?" "+r(o%1e3):""):o<1e7?r(Math.floor(o/1e5))+" Lakh"+(o%1e5!==0?" "+r(o%1e5):""):r(Math.floor(o/1e7))+" Crore"+(o%1e7!==0?" "+r(o%1e7):""),s=Math.floor(Math.abs(t)),i=Math.round((Math.abs(t)-s)*100);let a=s===0?"Zero":r(s);return i>0&&(a+=" and "+r(i)+" Paise"),a+" Only"},JV=({invoice:t,onBack:e,onEdit:n,onViewLedger:r,showPostSaveActions:s,onClosePostSaveActions:i})=>{const{company:a}=i0(),[o,c]=J.useState(!1),[u,d]=J.useState(!1),[p,g]=J.useState(Ap),[x,w]=J.useState(null),[y,S]=J.useState(!1),[C,F]=J.useState(!1),[I,D]=J.useState(!1),[z,G]=J.useState(!1),[P,M]=J.useState(t.customerName?.toUpperCase()==="CASH"||t.customerName?.toUpperCase()==="CASH SALES"),[R,U]=J.useState(""),[L,O]=J.useState(!1),[j,ie]=J.useState(""),[Ee,ae]=J.useState(""),[pe,de]=J.useState([]),[oe,ke]=J.useState(!1);J.useEffect(()=>{let ee;if(a?.name)ee={name:a.name||"",address:a.address||"",phone:a.phone||"",email:a.email||"",state:a.state||"",gst:a.gst||"",gstin:a.gstin||a.gst||"",gst_enabled:a.gst_enabled??!0,show_hsn_summary:a.show_hsn_summary??!0,upiId:a.upiId||p?.upiId||""};else{const He=it.getCompanyProfile();ee={...He,gstin:He.gstin||He.gst||"",gst_enabled:He.gst_enabled??!0,show_hsn_summary:He.show_hsn_summary??!0}}g(ee);const Re=it.getCustomers().find(He=>He.id===t.customerId);if(w(Re||null),ee.upiId&&t.total>0){const He=`upi://pay?pa=${ee.upiId}&pn=${encodeURIComponent(ee.name)}&am=${t.total}&cu=INR`;Upe.toDataURL(He,{margin:1,width:128},(he,Se)=>{he||U(Se)})}},[t,a,p?.upiId]),J.useEffect(()=>{t.customerName.toUpperCase()==="CASH"&&M(!0);const ee=it.getCustomers().find(Re=>Re.id===t.customerId);ee&&ee.phone&&ie(ee.phone)},[t.customerId,t.customerName]);const ne=()=>{i&&i(),setTimeout(()=>{window.print()},100)},B=async(ee,Re)=>{const He=ee.replace(/\D/g,"").slice(-10);if(He.length<10)return alert("Please enter a valid phone number first.");if(!Re||Re.trim()==="")return alert("Please enter a name first.");try{if((await Gu.checkPermissions()).contacts!=="granted"&&(await Gu.requestPermissions()).contacts!=="granted")return alert("Contact Permission Denied. Please enable it in Settings.");const Se=Re.trim().split(/\s+/),We=Se[0],le=Se.slice(1).join(" ");await Gu.createContact({contact:{name:{given:We,family:le},phones:[{type:YT.Mobile,label:"mobile",number:`+91${He}`}]}}),alert(`Contact "${Re}" saved directly to your phone!`)}catch(he){console.error("Save Contact Error:",he),alert("Failed to save contact. Please check app permissions.")}},K=(ee,Re)=>{const He=ee.replace(/\D/g,"").slice(-10),he=Re.trim()||t.customerName||"Customer";if(He.length===10){let yt=it.getCustomers().find(St=>St.phone===He);if(yt?yt.name.toUpperCase().includes("CASH")&&(yt.name=he,it.updateCustomer(yt),w(yt)):(yt={id:crypto.randomUUID(),name:he,company:he===t.customerName&&t.customerName||"",phone:He,email:"",address:t.customerAddress||"",gstin:t.customerGstin||"",balance:0,notifications:[]},it.saveCustomer(yt),w(yt)),yt){const St={...t};St.customerId=yt.id,St.customerName=yt.name,it.updateInvoice(St)}}const Se=`https://billbook-app.web.app/view/${t.id}`,We=p.name||"My Business",le=he,Ge=t.items.map((je,yt)=>`${yt+1}. ${je.description} x ${je.quantity} = ${Math.round(je.totalAmount||je.baseAmount||0)}`).join(`
`),st=`*${We}*
Invoice No: ${t.invoiceNumber}
Date: ${new Date(t.date).toLocaleDateString()}
Customer: ${le}

*Items:*
${Ge}

*Total Amount: ${t.total.toFixed(2)}*

Thank you for your business!
View your bill here:
${Se}`,Et=encodeURIComponent(st);window.open(`https://wa.me/91${He}?text=${Et}`,"_blank"),O(!1)},Y=()=>{i&&i();const ee=!t.customerName||t.customerName.toUpperCase().includes("CASH");ae(ee?"":t.customerName),j&&j.length>=10?K(j,ee?"":t.customerName):O(!0)},Q=()=>{it.deleteInvoice(t.id),e()},ue=async()=>{c(!0);const ee=ap(t.total),Re=`
      Invoice number ${t.invoiceNumber}.
      Dated ${t.date}.
      Billed to ${t.customerName}.
      Total amount is ${t.total} Rupees.
      ${ee}.
      Thank you for your business.
    `;await Sde.generateSpeech(Re),c(!1)},ge=()=>{if(x&&x.phone&&x.phone.length>=10)q2.shareInvoice(t,x,p);else{ie("");const ee=!t.customerName||t.customerName.toUpperCase().includes("CASH");ae(ee?"":t.customerName),O(!0)}},Pe=async()=>{d(!0);try{const ee=new gn({orientation:"portrait",unit:"mm",format:"a4"}),Re=210,He=15,he=Re-15;let Se=15;const We={name:p.name||"Company Name",address:p.address||"",phone:p.phone||"",email:p.email||""};if(ee.setFont("helvetica","bold"),ee.setFontSize(18),ee.text(We.name,Re/2,Se,{align:"center"}),Se+=6,ee.setFont("helvetica","normal"),ee.setFontSize(9),ee.setTextColor(80),ee.text(We.address,Re/2,Se,{align:"center"}),Se+=4,ee.text(`Ph: ${We.phone} | ${We.email}`,Re/2,Se,{align:"center"}),Se+=4,t.gstEnabled&&p&&(p.gstin||p.gst)){ee.setFont("helvetica","bold"),ee.setFontSize(9),ee.setTextColor(34,197,94);const Ct=p.gstin||p.gst||"";ee.text(`GSTIN: ${Ct}`,Re/2,Se,{align:"center"}),Se+=4,ee.setTextColor(0)}Se+=2,ee.setDrawColor(0),ee.setLineWidth(.5),ee.line(He,Se,he,Se),Se+=7,ee.setFont("helvetica","bold"),ee.setFontSize(14),ee.setTextColor(0),ee.text("TAX INVOICE",Re/2,Se,{align:"center"}),Se+=10;const le=Se;ee.setFontSize(9),ee.setFont("helvetica","bold"),ee.text("Bill To:",He,Se),Se+=4,ee.setFont("helvetica","bold"),ee.setFontSize(10),ee.text(t.customerName||"Customer",He,Se),Se+=4,ee.setFont("helvetica","normal"),ee.setFontSize(9);const Ge=ee.splitTextToSize(t.customerAddress||"",80);ee.text(Ge,He,Se);let st=le;const Et=120,je=5;ee.setFont("helvetica","bold"),ee.text("Invoice #:",Et,st),ee.setFont("helvetica","normal"),ee.text(t.invoiceNumber||"-",Et+25,st),st+=je,ee.setFont("helvetica","bold"),ee.text("Date:",Et,st),ee.setFont("helvetica","normal"),ee.text(new Date(t.date).toLocaleDateString(),Et+25,st),st+=je,ee.setFont("helvetica","bold"),ee.text("Mode:",Et,st),ee.setFont("helvetica","normal");const yt=t.status==="PAID"?"Cash":"Credit";ee.text(yt,Et+25,st),Se=Math.max(Se+Ge.length*4,st)+8,ee.setFillColor(245,247,250),ee.rect(He,Se,he-He,8,"F"),ee.setFont("helvetica","bold"),ee.setFontSize(8),ee.setTextColor(60);const St=t.items.some(Ct=>Ct.hsn),Rt={idx:He+5,desc:He+15,hsn:He+60,qty:he-(t.gstEnabled?75:65),rate:he-(t.gstEnabled?45:35),gst:he-20,amount:he-5};ee.text("#",Rt.idx,Se+5),ee.text("DESCRIPTION",Rt.desc,Se+5),St&&ee.text("HSN",Rt.hsn,Se+5),ee.text("QTY",Rt.qty,Se+5,{align:"right"}),ee.text("RATE",Rt.rate,Se+5,{align:"right"}),t.gstEnabled&&ee.text("GST%",Rt.gst,Se+5,{align:"right"}),ee.text("AMOUNT",Rt.amount,Se+5,{align:"right"}),Se+=8,ee.setFont("helvetica","normal"),ee.setTextColor(0),ee.setFontSize(9);const Ut=7,Jt=ee.internal.pageSize.getHeight();t.items.forEach((Ct,Ht)=>{Se>Jt-30&&(ee.addPage(),Se=20),ee.text(`${Ht+1}`,Rt.idx,Se+5),ee.text(Ct.description||"-",Rt.desc,Se+5),St&&ee.text(Ct.hsn||"-",Rt.hsn,Se+5),ee.text((Ct.quantity||0).toString(),Rt.qty,Se+5,{align:"right"}),ee.text(`Rs. ${(Ct.rate||0).toFixed(2)}`,Rt.rate,Se+5,{align:"right"}),t.gstEnabled&&ee.text(`${(Ct.gstRate||0).toFixed(1)}%`,Rt.gst,Se+5,{align:"right"}),ee.setFont("helvetica","bold");const vn=Ct.totalAmount||Ct.baseAmount||0;ee.text(`Rs. ${vn.toFixed(2)}`,Rt.amount,Se+5,{align:"right"}),ee.setFont("helvetica","normal"),ee.setDrawColor(230),ee.line(He,Se+Ut,he,Se+Ut),Se+=Ut}),Se+=4;const zt=he-45,Gt=he-5;ee.setFont("helvetica","bold"),ee.text("Subtotal:",zt,Se+5,{align:"right"}),ee.setFont("helvetica","normal"),ee.text(`Rs. ${(t.subtotal||0).toFixed(2)}`,Gt,Se+5,{align:"right"}),Se+=7;const Nn=(t.totalCgst||0)+(t.totalSgst||0)+(t.totalIgst||0);if(t.gstEnabled&&Nn>0&&((t.totalCgst||0)>0&&(ee.setFont("helvetica","bold"),ee.setTextColor(34,197,94),ee.text("CGST:",zt,Se+5,{align:"right"}),ee.setFont("helvetica","normal"),ee.text(`Rs. ${(t.totalCgst||0).toFixed(2)}`,Gt,Se+5,{align:"right"}),Se+=5),(t.totalSgst||0)>0&&(ee.setFont("helvetica","bold"),ee.text("SGST:",zt,Se+5,{align:"right"}),ee.setFont("helvetica","normal"),ee.text(`Rs. ${(t.totalSgst||0).toFixed(2)}`,Gt,Se+5,{align:"right"}),Se+=5),(t.totalIgst||0)>0&&(ee.setFont("helvetica","bold"),ee.text("IGST:",zt,Se+5,{align:"right"}),ee.setFont("helvetica","normal"),ee.text(`Rs. ${(t.totalIgst||0).toFixed(2)}`,Gt,Se+5,{align:"right"}),Se+=5),ee.setTextColor(0),Se+=2),ee.setDrawColor(0),ee.line(he-70,Se,he,Se),Se+=2,t.roundUpTo&&t.roundUpTo>0&&(ee.setFont("helvetica","normal"),ee.setFontSize(9),ee.text("Original:",zt,Se+5,{align:"right"}),ee.text(`${(t.total-(t.roundUpAmount||0)).toFixed(2)}`,Gt,Se+5,{align:"right"}),Se+=5,ee.text("Round Off:",zt,Se+5,{align:"right"}),ee.text(`${(t.roundUpAmount||0).toFixed(2)}`,Gt,Se+5,{align:"right"}),Se+=5),ee.setFont("helvetica","bold"),ee.setFontSize(10),ee.text("Total:",zt,Se+5,{align:"right"}),ee.text(`Rs. ${t.total.toFixed(2)}`,Gt,Se+5,{align:"right"}),Se+=8,C&&x){let Ct=x.balance||0;t.status==="PENDING"&&(Ct=(x.balance||0)-t.total),ee.setFont("helvetica","normal"),ee.setFontSize(9),ee.setTextColor(80),ee.text("Prev Balance:",zt,Se+5,{align:"right"}),ee.text(`Rs. ${Ct.toFixed(2)}`,Gt,Se+5,{align:"right"}),Se+=8}t.gstEnabled&&p.show_hsn_summary!==!1&&(Se+=8,ee.setFontSize(8),ee.setFont("helvetica","bold"),ee.text("HSN SUMMARY",He,Se),Se+=5,jpe(t,p).forEach(Ht=>{ee.setFont("helvetica","normal"),ee.text(`${Ht.hsn||"N/A"} - Taxable: ${(Ht.baseAmount||0).toFixed(2)} - Tax: ${(Ht.cgstAmount+Ht.sgstAmount+Ht.igstAmount).toFixed(2)}`,He,Se),Se+=5})),ee.setFont("helvetica","bold"),ee.setFontSize(9),ee.setTextColor(60),ee.text("Amount in Words:",He,Se),ee.setTextColor(0),ee.setFont("helvetica","normal");const Qt=C&&x?x.balance||0:t.total,Lt=ap(Qt),kt=He+35,At=Re-kt-he+50,zn=ee.splitTextToSize(Lt,At);ee.text(zn,kt,Se);let Ot=Math.max(Se+20,Jt-25);Ot>Jt-20&&(ee.addPage(),Ot=Jt-25),R&&(ee.setFontSize(8),ee.setFont("helvetica","bold"),ee.text("Scan to Pay:",he-25,Ot-4,{align:"right"}),ee.addImage(R,"PNG",he-30,Ot,25,25)),ee.setFontSize(8),ee.setTextColor(0),ee.setFont("helvetica","bold"),ee.text("Terms:",He,Ot),ee.setFont("helvetica","normal"),ee.text("Payment due within 30 days",He,Ot+4),ee.text(`For ${We.name}`,he-5,Ot+30,{align:"right"}),ee.text("Authorized Signatory",he-5,Ot+35,{align:"right"});try{if(Gh.isNativePlatform()){try{(await r2.checkPermissions()).publicStorage!=="granted"&&await r2.requestPermissions()}catch(vn){console.warn("Permission check failed:",vn)}const Ct=ee.output("datauristring").split(",")[1],Ht=`Invoice-${t.invoiceNumber}.pdf`;await r2.writeFile({path:Ht,data:Ct,directory:W2.Documents,recursive:!0}),alert(`Saved successfully to Documents folder as ${Ht}`)}else{const Ct=ee.output("blob"),Ht=URL.createObjectURL(Ct);if(navigator.share&&navigator.canShare&&navigator.canShare({files:[new File([Ct],`Invoice-${t.invoiceNumber}.pdf`,{type:"application/pdf"})]})){const vn=new File([Ct],`Invoice-${t.invoiceNumber}.pdf`,{type:"application/pdf"});await navigator.share({files:[vn],title:`Invoice ${t.invoiceNumber}`,text:`Invoice from ${We.name}`})}else ee.save(`Invoice-${t.invoiceNumber}.pdf`);setTimeout(()=>URL.revokeObjectURL(Ht),100)}}catch(Ct){console.warn("PDF Save/Share failed:",Ct),alert(`Error: FAILED TO SAVE. ${Ct}`)}}catch(ee){console.error("PDF Generation Error:",ee),alert("Error: FAILED TO SAVE. Please check app permissions.")}finally{d(!1)}};return m.jsxs("div",{className:"flex flex-col h-full bg-slate-50 dark:bg-slate-900 absolute inset-0 z-40",children:[m.jsxs("div",{className:"sticky top-0 z-50 bg-white dark:bg-slate-900 border-b border-slate-200 dark:border-slate-800 px-4 h-16 flex items-center justify-between shadow-sm flex-shrink-0 print:hidden",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("button",{onClick:e,className:"p-2 -ml-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors","aria-label":"Back",children:m.jsx(Qu,{className:"w-6 h-6 text-slate-700 dark:text-slate-200"})}),m.jsxs("div",{className:"flex flex-col",children:[m.jsxs("h1",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 leading-tight",children:["Invoice #",t.invoiceNumber]}),m.jsx("span",{className:`text-[10px] font-bold px-2 py-0.5 rounded-full w-fit ${t.status==="PAID"?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400"}`,children:t.status})]})]}),m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx("button",{onClick:()=>n(t),className:"p-2 rounded-full text-slate-600 hover:bg-slate-100 dark:text-slate-300 dark:hover:bg-slate-800","aria-label":"Edit",children:m.jsx(sA,{className:"w-5 h-5"})}),m.jsxs("div",{className:"relative",children:[m.jsx("button",{onClick:()=>G(!z),className:"p-2 rounded-full text-slate-600 hover:bg-slate-100 dark:text-slate-300 dark:hover:bg-slate-800","aria-label":"Options",children:m.jsx(JF,{className:"w-5 h-5"})}),z&&m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>G(!1)}),m.jsx("div",{className:"absolute right-0 mt-2 w-64 bg-white dark:bg-slate-800 rounded-xl shadow-xl border border-slate-100 dark:border-slate-700 z-50 overflow-hidden animate-in fade-in zoom-in-95 duration-100 origin-top-right",children:m.jsxs("div",{className:"p-1",children:[m.jsxs("button",{onClick:()=>{G(!1),ge()},className:"w-full flex items-center gap-3 px-3 py-3 text-sm font-medium text-slate-700 dark:text-slate-200 hover:bg-slate-50 dark:hover:bg-slate-700 rounded-lg",children:[m.jsx(Cp,{className:"w-4 h-4 text-green-500"})," Share on WhatsApp"]}),m.jsxs("button",{onClick:()=>{G(!1),Pe()},className:"w-full flex items-center gap-3 px-3 py-3 text-sm font-medium text-slate-700 dark:text-slate-200 hover:bg-slate-50 dark:hover:bg-slate-700 rounded-lg",children:[m.jsx(Sm,{className:"w-4 h-4 text-blue-500"})," Download PDF"]}),m.jsxs("button",{onClick:()=>{G(!1),r&&r(t.customerId)},className:"w-full flex items-center gap-3 px-3 py-3 text-sm font-medium text-slate-700 dark:text-slate-200 hover:bg-slate-50 dark:hover:bg-slate-700 rounded-lg",children:[m.jsx(nm,{className:"w-4 h-4 text-blue-500"})," View Customer Ledger"]}),m.jsxs("button",{onClick:()=>{G(!1),ne()},className:"w-full flex items-center gap-3 px-3 py-3 text-sm font-medium text-slate-700 dark:text-slate-200 hover:bg-slate-50 dark:hover:bg-slate-700 rounded-lg",children:[m.jsx(G_,{className:"w-4 h-4 text-slate-500"})," Print"]}),m.jsxs("button",{onClick:()=>{G(!1),ue()},className:"w-full flex items-center gap-3 px-3 py-3 text-sm font-medium text-slate-700 dark:text-slate-200 hover:bg-slate-50 dark:hover:bg-slate-700 rounded-lg",children:[m.jsx(lJ,{className:"w-4 h-4 text-purple-500"})," Read Aloud"]}),m.jsx("div",{className:"h-px bg-slate-100 dark:bg-slate-700 my-1"}),m.jsx("div",{className:"px-3 py-1.5 text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Settings"}),m.jsxs("button",{onClick:()=>F(!C),className:"w-full flex items-center justify-between px-3 py-3 text-sm text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700 rounded-lg",children:[m.jsx("span",{children:"Show Prev. Balance"}),C&&m.jsx(jg,{className:"w-4 h-4 text-blue-600"})]}),m.jsxs("button",{onClick:()=>D(!I),className:"w-full flex items-center justify-between px-3 py-3 text-sm text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700 rounded-lg",children:[m.jsx("span",{children:"Attach Ledger"}),I&&m.jsx(jg,{className:"w-4 h-4 text-blue-600"})]}),m.jsx("div",{className:"h-px bg-slate-100 dark:bg-slate-700 my-1"}),m.jsxs("button",{onClick:()=>{G(!1),M(!P)},className:"w-full flex items-center justify-between px-3 py-3 text-sm font-medium text-slate-700 dark:text-slate-200 hover:bg-slate-50 dark:hover:bg-slate-700 rounded-lg",children:[m.jsx("span",{children:"POS Mode (Thermal)"}),P&&m.jsx(jg,{className:"w-4 h-4 text-blue-600"})]}),m.jsxs("button",{onClick:()=>{G(!1),S(!0)},className:"w-full flex items-center gap-3 px-3 py-3 text-sm font-medium text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg",children:[m.jsx(_d,{className:"w-4 h-4"})," Delete Invoice"]})]})})]})]})]})]}),m.jsxs("div",{className:`flex-1 overflow-y-auto overflow-x-hidden bg-slate-100 dark:bg-slate-950 p-4 pb-24 print:p-0 print:bg-white ${P?"print:hidden":""}`,children:[m.jsx("div",{className:"max-w-3xl mx-auto bg-white dark:bg-slate-900 shadow-xl rounded-sm print:shadow-none print:w-full overflow-hidden scale-100 md:scale-100 origin-top border dark:border-slate-800 print:border-none",children:m.jsxs("div",{id:"invoice-print",className:"p-6 md:p-10 text-slate-900 dark:text-slate-100 print:text-black",children:[m.jsxs("div",{className:"text-center mb-6",children:[m.jsx("h1",{className:"text-2xl md:text-3xl font-bold mb-1 uppercase text-slate-900 dark:text-slate-100",children:p.name}),m.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:p.address}),m.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:["Ph: ",p.phone]}),t.gstEnabled&&(p.gstin||p.gst)&&m.jsxs("p",{className:"text-sm text-green-700 dark:text-green-500 font-bold mt-1",children:["GSTIN: ",p.gstin||p.gst]})]}),m.jsx("div",{className:"border-b-2 border-slate-800 dark:border-slate-700 mb-6"}),m.jsxs("div",{className:"flex justify-between items-start mb-8",children:[m.jsxs("div",{className:"text-left",children:[m.jsx("h3",{className:"font-bold text-xs uppercase text-slate-400 mb-1",children:"Billed To"}),m.jsx("h2",{className:"text-lg font-bold text-slate-800 dark:text-slate-100",children:t.customerName}),m.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 whitespace-pre-wrap max-w-[200px]",children:t.customerAddress})]}),m.jsxs("div",{className:"text-right",children:[m.jsxs("div",{className:"mb-2",children:[m.jsx("span",{className:"block text-xs font-bold text-slate-400 uppercase",children:"Invoice No"}),m.jsxs("span",{className:"text-lg font-bold text-slate-800 dark:text-slate-100",children:["#",t.invoiceNumber]})]}),m.jsxs("div",{children:[m.jsx("span",{className:"block text-xs font-bold text-slate-400 uppercase",children:"Date"}),m.jsx("span",{className:"text-base font-medium text-slate-800 dark:text-slate-100",children:new Date(t.date).toLocaleDateString()})]})]})]}),m.jsx("div",{className:"mb-8 overflow-hidden rounded-lg border border-slate-200 dark:border-slate-700",children:m.jsxs("table",{className:"w-full text-sm",children:[m.jsx("thead",{className:"bg-slate-50 dark:bg-slate-800 text-slate-900 dark:text-slate-100 font-bold uppercase text-xs",children:m.jsxs("tr",{children:[m.jsx("th",{className:"py-3 px-4 text-left",children:"Item"}),m.jsx("th",{className:"py-3 px-4 text-center",children:"Qty"}),m.jsx("th",{className:"py-3 px-4 text-right",children:"Price"}),m.jsx("th",{className:"py-3 px-4 text-right",children:"Total"})]})}),m.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-800",children:t.items.map((ee,Re)=>m.jsxs("tr",{children:[m.jsxs("td",{className:"py-3 px-4",children:[m.jsx("div",{className:"font-bold text-slate-800 dark:text-slate-200",children:ee.description}),ee.hsn&&m.jsxs("div",{className:"text-xs text-slate-400",children:["HSN: ",ee.hsn]})]}),m.jsx("td",{className:"py-3 px-4 text-center font-medium dark:text-slate-300",children:ee.quantity}),m.jsxs("td",{className:"py-3 px-4 text-right dark:text-slate-300",children:["",ee.rate]}),m.jsxs("td",{className:"py-3 px-4 text-right font-bold dark:text-slate-100",children:["",(ee.totalAmount||ee.baseAmount||0).toFixed(2)]})]},Re))})]})}),m.jsx("div",{className:"flex justify-end mb-8",children:m.jsxs("div",{className:"w-full md:w-1/2 space-y-2",children:[m.jsxs("div",{className:"flex justify-between text-sm",children:[m.jsx("span",{className:"text-slate-500 dark:text-slate-400 font-medium",children:"Subtotal"}),m.jsxs("span",{className:"font-bold text-slate-800 dark:text-slate-200",children:["",t.subtotal.toFixed(2)]})]}),t.gstEnabled&&(t.totalCgst||0)+(t.totalSgst||0)+(t.totalIgst||0)>0&&m.jsxs(m.Fragment,{children:[(t.totalCgst||0)>0&&m.jsxs("div",{className:"flex justify-between text-sm",children:[m.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:"CGST"}),m.jsxs("span",{className:"font-medium dark:text-slate-300",children:["",(t.totalCgst||0).toFixed(2)]})]}),(t.totalSgst||0)>0&&m.jsxs("div",{className:"flex justify-between text-sm",children:[m.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:"SGST"}),m.jsxs("span",{className:"font-medium dark:text-slate-300",children:["",(t.totalSgst||0).toFixed(2)]})]}),(t.totalIgst||0)>0&&m.jsxs("div",{className:"flex justify-between text-sm",children:[m.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:"IGST"}),m.jsxs("span",{className:"font-medium dark:text-slate-300",children:["",(t.totalIgst||0).toFixed(2)]})]})]}),m.jsxs("div",{className:"border-t border-slate-200 dark:border-slate-700 pt-2 flex justify-between items-end",children:[m.jsx("span",{className:"text-base font-bold text-slate-900 dark:text-slate-100",children:"Total"}),m.jsxs("span",{className:"text-2xl font-black text-blue-600 dark:text-blue-400",children:["",t.total.toFixed(2)]})]}),m.jsxs("div",{className:"text-[10px] text-right text-slate-400 mt-1 italic",children:["(",ap(Math.round(t.total)),")"]})]})}),m.jsxs("div",{className:"mt-12 flex flex-col md:flex-row justify-between items-start gap-8",children:[m.jsx("div",{className:"flex-1",children:m.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 p-4 rounded-xl border border-slate-100 dark:border-slate-800",children:[m.jsx("p",{className:"font-bold uppercase text-xs mb-1 text-slate-400",children:"Terms & Conditions"}),m.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400 font-medium",children:"1. Goods once sold will not be taken back."}),m.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400 font-medium",children:"2. Interest @18% will be charged if not paid within 30 days."}),m.jsx("p",{className:"mt-4 font-bold uppercase text-slate-900 dark:text-slate-100",children:"Thank you for your business!"})]})}),R&&m.jsxs("div",{className:"flex flex-col items-center p-4 bg-slate-50 dark:bg-slate-800/30 rounded-2xl border border-slate-100 dark:border-slate-800",children:[m.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 mb-2",children:"Scan to Pay"}),m.jsx("img",{src:R,className:"w-24 h-24 mix-blend-multiply dark:mix-blend-normal",alt:"Payment QR"}),m.jsx("p",{className:"text-[10px] font-bold text-slate-600 dark:text-slate-300 mt-2",children:p.upiId})]}),m.jsxs("div",{className:"text-right flex flex-col items-end min-w-[150px]",children:[m.jsx("div",{className:"h-16 w-32 border-b border-slate-200 dark:border-slate-800 mb-2"}),m.jsxs("p",{className:"font-bold text-sm",children:["For ",p.name]}),m.jsx("p",{className:"text-[10px] font-medium text-slate-400 uppercase",children:"Authorized Signatory"})]})]})]})}),P&&m.jsxs("div",{className:"fixed inset-0 z-[60] bg-slate-800/90 backdrop-blur-sm flex justify-center overflow-y-auto print:hidden",children:[m.jsxs("button",{onClick:()=>M(!1),className:"fixed top-4 right-4 bg-white/10 text-white p-2 rounded-full hover:bg-white/20 z-[70]",children:[m.jsx("span",{className:"sr-only",children:"Close"}),m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),m.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})]}),m.jsxs("div",{className:"bg-white text-black w-[80mm] min-h-0 h-fit shadow-2xl my-8 mx-auto p-2 py-4 font-mono text-[10px] leading-tight",onClick:ee=>ee.stopPropagation(),children:[m.jsxs("div",{className:"text-center mb-4",children:[m.jsx("h1",{className:"text-xl font-bold uppercase",children:p.name}),m.jsx("p",{className:"text-[10px]",children:p.address}),m.jsxs("p",{className:"text-[10px]",children:["Ph: ",p.phone]}),t.gstEnabled&&(p.gstin||p.gst)&&m.jsxs("p",{className:"text-[10px] font-bold mt-1",children:["GSTIN: ",p.gstin||p.gst]})]}),m.jsx("div",{className:"border-b border-dashed border-black my-2"}),m.jsxs("div",{className:"flex justify-between text-[10px] mb-1",children:[m.jsx("span",{children:"Invoice No:"}),m.jsxs("span",{className:"font-bold",children:["#",t.invoiceNumber]})]}),m.jsxs("div",{className:"flex justify-between text-[10px] mb-1",children:[m.jsx("span",{children:"Date:"}),m.jsx("span",{children:new Date(t.date).toLocaleDateString()})]}),m.jsxs("div",{className:"flex justify-between text-[10px] mb-4",children:[m.jsx("span",{children:"Customer:"}),m.jsx("span",{className:"font-bold",children:t.customerName})]}),m.jsx("div",{className:"border-b border-dashed border-black my-2"}),m.jsxs("table",{className:"w-full text-[10px] mb-4",children:[m.jsx("thead",{children:m.jsxs("tr",{children:[m.jsx("th",{className:"text-left py-1",children:"Item"}),m.jsx("th",{className:"text-center py-1",children:"Qty"}),m.jsx("th",{className:"text-right py-1",children:"Rate"}),m.jsx("th",{className:"text-right py-1",children:"Total"})]})}),m.jsx("tbody",{children:t.items.map((ee,Re)=>m.jsxs("tr",{children:[m.jsx("td",{className:"text-left py-1",children:ee.description}),m.jsx("td",{className:"text-center py-1",children:ee.quantity}),m.jsxs("td",{className:"text-right py-1",children:["",ee.rate]}),m.jsxs("td",{className:"text-right py-1",children:["",(ee.totalAmount||ee.baseAmount||0).toFixed(2)]})]},Re))})]}),m.jsx("div",{className:"border-b border-dashed border-black my-2"}),m.jsxs("div",{className:"text-[10px] text-right space-y-1 mb-4",children:[m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{children:"Subtotal:"}),m.jsx("span",{children:t.subtotal.toFixed(2)})]}),t.gstEnabled&&(t.totalCgst||0)+(t.totalSgst||0)+(t.totalIgst||0)>0&&m.jsxs(m.Fragment,{children:[(t.totalCgst||0)>0&&m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{children:"CGST:"}),m.jsx("span",{children:(t.totalCgst||0).toFixed(2)})]}),(t.totalSgst||0)>0&&m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{children:"SGST:"}),m.jsx("span",{children:(t.totalSgst||0).toFixed(2)})]}),(t.totalIgst||0)>0&&m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{children:"IGST:"}),m.jsx("span",{children:(t.totalIgst||0).toFixed(2)})]})]}),m.jsxs("div",{className:"flex justify-between font-bold text-sm mt-2 pt-2 border-t border-dashed border-black",children:[m.jsx("span",{children:"TOTAL:"}),m.jsxs("span",{children:["",Math.round(t.total).toFixed(2)]})]}),m.jsxs("div",{className:"text-xs text-center mt-2 italic",children:["(",ap(Math.round(t.total)),")"]})]}),m.jsx("div",{className:"border-b border-dashed border-black my-2"}),R&&m.jsxs("div",{className:"flex flex-col items-center py-4",children:[m.jsx("p",{className:"text-[9px] font-black uppercase mb-1",children:"Scan to Pay"}),m.jsx("img",{src:R,className:"w-32 h-32",alt:"POS Payment QR"}),m.jsx("p",{className:"text-[8px] font-bold mt-1",children:p.upiId})]}),m.jsxs("div",{className:"text-center text-[9px] mt-4",children:[m.jsx("p",{className:"font-bold uppercase mb-1",children:"Thank you for your business!"}),m.jsx("p",{children:"Terms & Conditions Apply"})]}),m.jsxs("button",{onClick:ne,className:"w-full mt-4 py-4 bg-blue-600 text-white font-bold rounded-lg flex items-center justify-center gap-2 shadow-lg shadow-blue-500/20 active:scale-95 transition-transform print:hidden",children:[m.jsx(G_,{className:"w-5 h-5"}),"Print Receipt"]}),m.jsx("button",{onClick:()=>M(!1),className:"w-full mt-2 py-3 bg-slate-100 text-slate-900 rounded-lg md:hidden print:hidden border border-slate-200",children:"Close View"})]})]}),Wb.createPortal(m.jsxs("div",{id:"print-mount",style:{display:"none"},children:[m.jsx("style",{children:`
                    @media print {
                        body > * { display: none !important; }
                        body > #print-mount { display: block !important; }
                        #print-mount {
                            position: absolute;
                            top: 0;
                            left: 0;
                            width: 100%;
                            height: auto;
                            background: white;
                            z-index: 9999;
                            -webkit-print-color-adjust: exact;
                            print-color-adjust: exact;
                        }
                        @page { margin: 0; size: auto; }
                    }
                `}),P?m.jsxs("div",{className:"bg-white text-black w-[80mm] font-mono text-[12px] leading-tight p-0 mx-auto",children:[m.jsxs("div",{className:"text-center mb-4",children:[m.jsx("h1",{className:"text-xl font-bold uppercase",children:p.name}),m.jsx("p",{className:"text-[10px]",children:p.address}),m.jsxs("p",{className:"text-[10px]",children:["Ph: ",p.phone]}),t.gstEnabled&&(p.gstin||p.gst)&&m.jsxs("p",{className:"text-[10px] font-bold mt-1",children:["GSTIN: ",p.gstin||p.gst]})]}),m.jsx("div",{className:"border-b border-dashed border-black my-2"}),m.jsxs("div",{className:"flex justify-between mb-1",children:[m.jsx("span",{children:"Invoice No:"}),m.jsxs("span",{className:"font-bold",children:["#",t.invoiceNumber]})]}),m.jsxs("div",{className:"flex justify-between mb-1",children:[m.jsx("span",{children:"Date:"}),m.jsx("span",{children:new Date(t.date).toLocaleDateString()})]}),m.jsxs("div",{className:"flex justify-between mb-4",children:[m.jsx("span",{children:"Customer:"}),m.jsx("span",{className:"font-bold",children:t.customerName})]}),m.jsx("div",{className:"border-b border-dashed border-black my-2"}),m.jsxs("table",{className:"w-full mb-4 text-left",children:[m.jsx("thead",{children:m.jsxs("tr",{children:[m.jsx("th",{className:"py-1 w-[40%]",children:"Item"}),m.jsx("th",{className:"py-1 text-center",children:"Qty"}),m.jsx("th",{className:"py-1 text-right",children:"Price"}),m.jsx("th",{className:"py-1 text-right",children:"Total"})]})}),m.jsx("tbody",{children:t.items.map((ee,Re)=>m.jsxs("tr",{children:[m.jsx("td",{className:"py-1",children:ee.description}),m.jsx("td",{className:"py-1 text-center",children:ee.quantity}),m.jsx("td",{className:"py-1 text-right",children:ee.rate}),m.jsx("td",{className:"py-1 text-right",children:(ee.totalAmount||ee.baseAmount||0).toFixed(2)})]},Re))})]}),m.jsx("div",{className:"border-b border-dashed border-black my-2"}),m.jsxs("div",{className:"text-right space-y-1 mb-4",children:[m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{children:"Subtotal:"}),m.jsx("span",{children:t.subtotal.toFixed(2)})]}),m.jsxs("div",{className:"flex justify-between font-bold text-sm mt-2 pt-2 border-t border-dashed border-black",children:[m.jsx("span",{children:"TOTAL:"}),m.jsxs("span",{children:["",Math.round(t.total).toFixed(2)]})]}),m.jsxs("div",{className:"text-[10px] text-center mt-2 italic",children:["(",ap(Math.round(t.total)),")"]})]}),m.jsx("div",{className:"border-b border-dashed border-black my-2"}),R&&m.jsxs("div",{className:"flex flex-col items-center py-4",children:[m.jsx("p",{className:"text-[9px] font-black uppercase mb-1",children:"Scan to Pay"}),m.jsx("img",{src:R,className:"w-32 h-32",alt:"Print QR"}),m.jsx("p",{className:"text-[8px] font-bold mt-1",children:p.upiId})]}),m.jsx("div",{className:"text-center text-[10px] mt-4",children:m.jsx("p",{className:"font-bold uppercase mb-1",children:"Thank you!"})})]}):m.jsxs("div",{className:"p-10 text-black max-w-[210mm] mx-auto bg-white",children:[m.jsxs("div",{className:"text-center mb-6",children:[m.jsx("h1",{className:"text-3xl font-bold mb-1 uppercase",children:p.name}),m.jsx("p",{className:"text-sm text-gray-600",children:p.address}),m.jsxs("p",{className:"text-sm text-gray-600",children:["Ph: ",p.phone]}),t.gstEnabled&&(p.gstin||p.gst)&&m.jsxs("p",{className:"text-sm font-bold mt-1",children:["GSTIN: ",p.gstin||p.gst]})]}),m.jsx("div",{className:"border-b-2 border-black mb-6"}),m.jsxs("div",{className:"flex justify-between items-start mb-8",children:[m.jsxs("div",{className:"text-left",children:[m.jsx("h3",{className:"font-bold text-xs uppercase text-gray-500 mb-1",children:"Billed To"}),m.jsx("h2",{className:"text-lg font-bold",children:t.customerName}),m.jsx("p",{className:"text-sm text-gray-600 whitespace-pre-wrap max-w-[250px]",children:t.customerAddress})]}),m.jsxs("div",{className:"text-right",children:[m.jsxs("div",{className:"mb-2",children:[m.jsx("span",{className:"block text-xs font-bold text-gray-500 uppercase",children:"Invoice No"}),m.jsxs("span",{className:"text-lg font-bold",children:["#",t.invoiceNumber]})]}),m.jsxs("div",{children:[m.jsx("span",{className:"block text-xs font-bold text-gray-500 uppercase",children:"Date"}),m.jsx("span",{className:"text-base font-medium",children:new Date(t.date).toLocaleDateString()})]})]})]}),m.jsxs("table",{className:"w-full text-sm mb-8 border-collapse",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"border-b border-black",children:[m.jsx("th",{className:"py-2 text-left",children:"Item"}),m.jsx("th",{className:"py-2 text-center",children:"Qty"}),m.jsx("th",{className:"py-2 text-right",children:"Price"}),m.jsx("th",{className:"py-2 text-right",children:"Total"})]})}),m.jsx("tbody",{children:t.items.map((ee,Re)=>m.jsxs("tr",{className:"border-b border-gray-200",children:[m.jsx("td",{className:"py-3",children:ee.description}),m.jsx("td",{className:"py-3 text-center",children:ee.quantity}),m.jsxs("td",{className:"py-3 text-right",children:["",ee.rate]}),m.jsxs("td",{className:"py-3 text-right font-bold",children:["",(ee.totalAmount||ee.baseAmount||0).toFixed(2)]})]},Re))})]}),m.jsx("div",{className:"flex justify-end mb-8",children:m.jsxs("div",{className:"w-1/2 space-y-2 text-right",children:[m.jsxs("div",{className:"flex justify-between text-sm",children:[m.jsx("span",{className:"text-gray-600 font-medium",children:"Subtotal"}),m.jsxs("span",{className:"font-bold",children:["",t.subtotal.toFixed(2)]})]}),m.jsxs("div",{className:"border-t border-black pt-2 flex justify-between items-end",children:[m.jsx("span",{className:"text-base font-bold",children:"Total"}),m.jsxs("span",{className:"text-2xl font-black",children:["",t.total.toFixed(2)]})]})]})}),m.jsxs("div",{className:"text-right text-[10px] italic mb-8 -mt-6",children:["(",ap(Math.round(t.total)),")"]}),m.jsxs("div",{className:"flex justify-between items-end mt-12 border-t pt-6",children:[m.jsxs("div",{className:"space-y-4",children:[R&&m.jsxs("div",{className:"flex flex-col items-center p-2 border border-gray-100 rounded",children:[m.jsx("p",{className:"text-[8px] font-bold uppercase mb-1 text-gray-400",children:"Scan to Pay"}),m.jsx("img",{src:R,className:"w-20 h-20",alt:"Print QR A4"}),m.jsx("p",{className:"text-[8px] font-bold mt-1",children:p.upiId})]}),m.jsxs("div",{className:"text-xs text-gray-500",children:[m.jsx("p",{className:"font-bold uppercase text-[10px] mb-1",children:"Terms:"}),m.jsx("p",{children:"1. Payment due within 30 days."}),m.jsx("p",{children:"2. Goods once sold will not be taken back."})]})]}),m.jsxs("div",{className:"text-right",children:[m.jsx("div",{className:"h-16 w-40 border-b border-gray-300 mb-2"}),m.jsxs("p",{className:"font-bold text-sm",children:["For ",p.name]}),m.jsx("p",{className:"text-xs text-gray-400 uppercase",children:"Authorized Signatory"})]})]}),m.jsx("div",{className:"text-center text-gray-400 text-[10px] mt-8",children:m.jsx("p",{className:"font-bold uppercase mb-1 tracking-widest",children:"Thank you for your business!"})})]})]}),document.body),y&&m.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-md flex items-center justify-center z-[60] p-4 print:hidden",children:m.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-[40px] p-8 shadow-2xl max-w-sm w-full animate-in zoom-in-95 duration-200 border border-slate-100 dark:border-slate-800",children:[m.jsx("h3",{className:"text-2xl font-black text-slate-900 dark:text-slate-100 mb-2 uppercase italic tracking-tight",children:"Delete Invoice?"}),m.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-8 font-medium",children:"Are you sure you want to delete this invoice? This action cannot be undone."}),m.jsxs("div",{className:"flex gap-4",children:[m.jsx("button",{onClick:()=>S(!1),className:"flex-1 px-6 py-4 bg-slate-100 dark:bg-slate-800 text-slate-700 dark:text-slate-300 rounded-2xl hover:bg-slate-200 dark:hover:bg-slate-700 font-black uppercase tracking-widest text-[10px] transition-all",children:"Cancel"}),m.jsx("button",{onClick:Q,className:"flex-1 px-6 py-4 bg-red-600 text-white rounded-2xl hover:bg-red-700 font-black uppercase tracking-widest text-[10px] shadow-xl shadow-red-500/30 transition-all active:scale-95",children:"Delete"})]})]})}),s&&m.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-md flex items-center justify-center z-[100] p-4 animate-in fade-in duration-200",children:m.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-[32px] p-6 w-full max-w-sm text-center shadow-2xl scale-100 animate-in zoom-in-95 duration-200",children:[m.jsx("div",{className:"w-20 h-20 bg-green-100 text-green-600 rounded-full flex items-center justify-center mx-auto mb-6 shadow-green-200 shadow-lg",children:m.jsx(jg,{className:"w-10 h-10"})}),m.jsx("h2",{className:"text-2xl font-black text-slate-800 dark:text-slate-100 mb-2",children:"Invoice Saved!"}),m.jsxs("p",{className:"text-slate-500 font-medium mb-8",children:["",t.total,"  #",t.invoiceNumber]}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("button",{onClick:ne,className:"w-full py-5 rounded-2xl bg-blue-600 text-white font-black text-lg shadow-xl shadow-blue-500/30 active:scale-95 transition-transform flex items-center justify-center gap-3",children:[m.jsx(G_,{className:"w-6 h-6"}),"Print Invoice"]}),m.jsxs("button",{onClick:Y,className:"w-full py-5 rounded-2xl bg-green-600 text-white font-black text-lg shadow-xl shadow-green-500/30 active:scale-95 transition-transform flex items-center justify-center gap-3",children:[m.jsx(Cp,{className:"w-6 h-6"}),"Send on WhatsApp"]}),m.jsx("button",{onClick:i,className:"w-full py-4 font-bold text-slate-400 mt-2",children:"Close"})]})]})}),L&&m.jsxs("div",{className:"fixed inset-0 z-[100] flex items-end justify-center p-0 md:p-6 sm:items-center",children:[m.jsx(Fn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>O(!1),className:"absolute inset-0 bg-black/40 backdrop-blur-sm"}),m.jsxs(Fn.div,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},className:"relative w-full max-w-lg bg-white dark:bg-slate-900 rounded-t-[32px] md:rounded-[32px] p-8 shadow-2xl z-[110] overflow-hidden",children:[m.jsx("div",{className:"w-12 h-1.5 bg-slate-200 dark:bg-slate-800 rounded-full mx-auto mb-8 md:hidden"}),m.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[m.jsx("div",{className:"w-14 h-14 rounded-2xl bg-green-50 dark:bg-green-900/30 flex items-center justify-center text-green-600 dark:text-green-400",children:m.jsx(Cp,{className:"w-8 h-8"})}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-2xl font-semibold text-slate-900 dark:text-slate-100 tracking-tight",children:"Send via WhatsApp"}),m.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"Link this bill to a phone number"})]})]}),m.jsxs("div",{className:"space-y-6 mb-10",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest px-1",children:"Customer Name"}),m.jsx("input",{type:"text",value:Ee,onChange:ee=>ae(ee.target.value),className:"w-full p-4 bg-slate-50 dark:bg-slate-950/50 border border-slate-100 dark:border-slate-800 rounded-2xl text-lg font-medium text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-primary outline-none transition-all placeholder:text-slate-300 dark:placeholder:text-slate-700",placeholder:"Enter Name"})]}),m.jsxs("div",{className:"space-y-2 relative",children:[m.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest px-1",children:"WhatsApp Number"}),m.jsxs("div",{className:"relative",children:[m.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 font-bold text-lg",children:"+91"}),m.jsx("input",{type:"tel",value:j,onChange:async ee=>{const Re=ee.target.value;ie(Re);const He=await rc.resolveName(Re);if(He.name&&ae(He.name),Re.length>=2){const he=await rc.getCombinedContacts(Re);de(he),ke(!0)}else ke(!1)},onFocus:()=>{j.length>=2&&ke(!0)},onBlur:()=>setTimeout(()=>ke(!1),200),className:"w-full p-4 pl-14 bg-slate-50 dark:bg-slate-950/50 border border-slate-100 dark:border-slate-800 rounded-2xl text-xl font-bold tracking-widest text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-primary outline-none transition-all placeholder:text-slate-300 dark:placeholder:text-slate-700",placeholder:"9999999999",autoFocus:!0})]}),oe&&pe.length>0&&m.jsx("div",{className:"absolute z-[120] left-0 right-0 top-full mt-2 bg-white dark:bg-slate-900 border border-slate-100 dark:border-slate-800 rounded-2xl shadow-2xl max-h-48 overflow-y-auto p-2",children:pe.map((ee,Re)=>m.jsxs("button",{type:"button",onClick:()=>{ie(ee.phone),ae(ee.name),ke(!1)},className:"w-full p-3 flex items-center gap-3 hover:bg-slate-50 dark:hover:bg-slate-800 rounded-xl transition-colors text-left",children:[m.jsx("div",{className:`w-9 h-9 rounded-full flex items-center justify-center text-[10px] font-bold shrink-0 ${ee.source==="db"?"bg-blue-100 text-blue-600":"bg-green-100 text-green-600"}`,children:ee.source==="db"?"DB":"PH"}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsx("div",{className:"text-xs font-bold text-slate-900 dark:text-slate-100 truncate",children:ee.name}),m.jsx("div",{className:"text-[10px] font-medium text-slate-400 tracking-widest",children:ee.phone})]})]},Re))})]})]}),m.jsxs("div",{className:"flex flex-col gap-3",children:[m.jsxs("button",{onClick:()=>K(j,Ee),className:"w-full py-4 bg-primary text-white rounded-2xl font-semibold tracking-wide shadow-xl shadow-primary/20 flex items-center justify-center gap-2 active:scale-95 transition-all",children:[m.jsx(Cp,{className:"w-5 h-5"}),"Send Link"]}),m.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[m.jsxs("button",{onClick:()=>B(j,Ee),className:"py-4 bg-slate-100 dark:bg-slate-800 text-slate-700 dark:text-slate-200 rounded-2xl font-semibold text-sm flex items-center justify-center gap-2 active:scale-95 transition-all",children:[m.jsx(iA,{className:"w-5 h-5"}),"Save Contact"]}),m.jsx("button",{onClick:()=>O(!1),className:"py-4 text-slate-400 font-semibold text-sm hover:text-slate-600 transition-colors",children:"Not Now"})]})]})]})]})]})]})},qpe=(t,e)=>{const n=t?t.length:0,r=e?e.length:0;if(n===0)return r;if(r===0)return n;const s=new Array(r+1);for(let a=0;a<=r;++a){let o=s[a]=new Array(n+1);o[0]=a}const i=s[0];for(let a=1;a<=n;++a)i[a]=a;for(let a=1;a<=r;++a)for(let o=1;o<=n;++o)e.charAt(a-1)===t.charAt(o-1)?s[a][o]=s[a-1][o-1]:s[a][o]=Math.min(s[a-1][o-1],s[a][o-1],s[a-1][o])+1;return s[r][n]},XT=({options:t,value:e,onChange:n,onCreate:r,placeholder:s="Search...",className:i="",onKeyDown:a,inputRef:o,autoFocus:c,type:u="customer"})=>{const[d,p]=J.useState(!1),[g,x]=J.useState(""),w=J.useRef(null),[y,S]=J.useState(-1);J.useEffect(()=>{const D=t.find(z=>z.id===e);D?x(D.label):e||x("")},[e,t]),J.useEffect(()=>{function D(z){if(w.current&&!w.current.contains(z.target)){p(!1);const G=t.find(P=>P.id===e);G?x(G.label):(e===""||e===null)&&x("")}}return document.addEventListener("mousedown",D),()=>document.removeEventListener("mousedown",D)},[w,e,t]);const C=J.useMemo(()=>{if(!g||t.find(P=>P.label===g)&&!d)return t.slice(0,10);const D=g.toLowerCase().trim(),z=D.length,G=z>5?2:z>2?1:0;return t.map(P=>{const R=(P.label||"").toLowerCase(),L=(P.subLabel||"").toLowerCase();let O=0;if(R===D)O=100;else if(R.startsWith(D))O=80;else if(R.split(/[\s-]+/).some(j=>j.startsWith(D)))O=70;else if(R.includes(D))O=60;else if(L.includes(D))O=50;else{const j=qpe(D,R);j<=G&&(O=40-j)}return{...P,score:O}}).filter(P=>P.score>0).sort((P,M)=>(M.score||0)-(P.score||0)).slice(0,8)},[g,t,d]),F=D=>{n(D),p(!1)},I=D=>{D.key==="ArrowDown"?(D.preventDefault(),S(z=>z<C.length-1?z+1:z)):D.key==="ArrowUp"?(D.preventDefault(),S(z=>z>-1?z-1:z)):D.key==="Enter"?y>=0&&y<C.length?(D.preventDefault(),F(C[y].id)):g&&r&&!t.some(z=>z.label.toLowerCase()===g.trim().toLowerCase())?(D.preventDefault(),r(g),p(!1)):a&&a(D):D.key==="Escape"?p(!1):a&&a(D)};return J.useEffect(()=>{S(-1)},[g]),m.jsxs("div",{ref:w,className:`relative ${i}`,children:[m.jsxs("div",{className:"relative group",children:[m.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-blue-500 transition-colors",children:u==="customer"?m.jsx(t3,{className:"w-5 h-5"}):m.jsx(Th,{className:"w-5 h-5"})}),m.jsx("input",{type:"text",className:"w-full bg-slate-50 dark:bg-slate-900 border-2 border-transparent focus:border-blue-500 rounded-[20px] py-4 pl-12 pr-4 text-base font-bold text-slate-800 dark:text-slate-100 placeholder:text-slate-400 dark:placeholder:text-slate-600 outline-none transition-all shadow-sm group-focus-within:shadow-md",placeholder:s,value:g,onChange:D=>{x(D.target.value),p(!0),D.target.value===""&&n("")},onFocus:()=>p(!0),onKeyDown:I,ref:o,autoFocus:c}),m.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2",children:m.jsx(rA,{className:"w-4 h-4 text-slate-300"})})]}),m.jsx(ru,{children:d&&m.jsx(Fn.div,{initial:{opacity:0,y:10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,scale:.95,y:10},className:"absolute z-[110] left-0 right-0 mt-2 bg-white/95 dark:bg-slate-800/95 backdrop-blur-xl border border-slate-200/50 dark:border-slate-700/50 rounded-[24px] shadow-2xl overflow-hidden",children:m.jsxs("div",{className:"max-h-[300px] overflow-y-auto p-2 space-y-1",children:[C.length>0?C.map((D,z)=>m.jsxs("button",{type:"button",onClick:()=>F(D.id),className:`w-full text-left p-3 rounded-xl flex items-center gap-3 transition-all ${y===z||e===D.id?"bg-blue-600 text-white shadow-lg shadow-blue-500/30 scale-[1.02]":"hover:bg-slate-100 dark:hover:bg-slate-700/50 text-slate-700 dark:text-slate-200"}`,children:[m.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center shrink-0 ${y===z||e===D.id?"bg-white/20":"bg-slate-100 dark:bg-slate-700"}`,children:u==="customer"?m.jsx(t3,{className:"w-5 h-5"}):m.jsx(Th,{className:"w-5 h-5"})}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsx("div",{className:"font-bold truncate text-sm",children:D.label}),D.subLabel&&m.jsx("div",{className:`text-[10px] font-bold uppercase tracking-wider ${y===z||e===D.id?"opacity-70":"text-slate-400"}`,children:D.subLabel})]}),m.jsx(YF,{className:`w-4 h-4 opacity-30 ${y===z||e===D.id?"opacity-70":""}`})]},D.id)):m.jsx("div",{className:"p-4 text-center",children:m.jsx("p",{className:"text-sm font-bold text-slate-400 italic",children:"No matches found"})}),g&&r&&!t.some(D=>D.label.toLowerCase()===g.trim().toLowerCase())&&m.jsx("div",{className:"border-t border-slate-100 dark:border-slate-700/50 mt-1 pt-1",children:m.jsxs("button",{type:"button",onClick:()=>{r(g),p(!1)},className:"w-full text-left p-3 rounded-xl flex items-center gap-3 text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-all group",children:[m.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center group-hover:scale-110 transition-transform",children:m.jsx(wd,{className:"w-5 h-5"})}),m.jsxs("div",{children:[m.jsx("div",{className:"font-black text-sm uppercase",children:"Create New"}),m.jsxs("div",{className:"text-xs font-bold opacity-70",children:['"',g,'"']})]})]})})]})})})]})},SM=({onSave:t,onCancel:e,initialInvoice:n,startSmartCalc:r})=>{const{company:s}=i0(),[i,a]=J.useState([]),[o,c]=J.useState([]),[u,d]=J.useState(""),[p,g]=J.useState(new Date().toISOString().split("T")[0]),[x,w]=J.useState(""),[y,S]=J.useState([]),C=s?.gst_enabled??!0,[F,I]=J.useState("CREDIT"),[D,z]=J.useState(s?.roundUpDefault??0),[G,P]=J.useState(""),[M,R]=J.useState(!1),[U,L]=J.useState(""),[O,j]=J.useState("");J.useEffect(()=>{r&&!n&&R(!0)},[r,n]);const[ie,Ee]=J.useState(!1),[ae,pe]=J.useState(!1),[de,oe]=J.useState(""),[ke,ne]=J.useState(""),[B,K]=J.useState(""),[Y,Q]=J.useState(""),[ue,ge]=J.useState(""),[Pe,ee]=J.useState("0"),[Re,He]=J.useState(""),[he,Se]=J.useState(null),We=()=>n?n.invoiceNumber:u?it.generateInvoiceNumber(u,p):"---",[le,Ge]=J.useState(!1),[st,Et]=J.useState(!1);Ho.useRef({}),J.useEffect(()=>{if(a(it.getCustomers()),c(it.getProducts()),n)d(n.customerId),g(n.date),w(n.dueDate),S(n.items.map(Fe=>({...Fe}))),I(n.status==="PAID"?"CASH":"CREDIT"),P(n.notes||"");else{const Fe=new Date;Fe.setDate(Fe.getDate()+30),w(Fe.toISOString().split("T")[0]),y.length===0&&je()}},[n]);const je=()=>{S([...y,{productId:"",description:"",quantity:1,rate:0,baseAmount:0,hsn:"",gstRate:0,cgstAmount:0,sgstAmount:0,igstAmount:0,totalAmount:0}])},yt=(Fe,Mt,jt)=>{const Yn=Fe.quantity*Fe.rate,Zt=Fe.gstRate||0;(Mt?.state===jt?.state?"INTRA_STATE":"INTER_STATE")==="INTRA_STATE"?(Fe.cgstAmount=Yn*(Zt/2)/100,Fe.sgstAmount=Yn*(Zt/2)/100,Fe.igstAmount=0):(Fe.cgstAmount=0,Fe.sgstAmount=0,Fe.igstAmount=Yn*Zt/100),Fe.baseAmount=Yn,Fe.totalAmount=Yn+(Fe.cgstAmount||0)+(Fe.sgstAmount||0)+(Fe.igstAmount||0),Fe.baseAmount=Yn,Fe.totalAmount=Yn+(Fe.cgstAmount||0)+(Fe.sgstAmount||0)+(Fe.igstAmount||0)},St=()=>{if(y.filter(Be=>Be.productId).length===0){R(!1);return}let Fe=u,Mt=i.find(Be=>Be.id===Fe);if(!Fe){let Be=i.find($e=>$e.name.toUpperCase()==="CASH");Be||(Be={id:crypto.randomUUID(),name:"CASH",company:"CASH SALES",phone:"",email:"",address:"",gstin:"",balance:0,notifications:[]},it.saveCustomer(Be),a(it.getCustomers())),Mt=Be,Fe=Be.id}if(!Mt)return;const jt=y.filter(Be=>Be.productId).map(Be=>({...Be,quantity:Number(Be.quantity)||1,rate:Number(Be.rate)||0,baseAmount:Number(Be.baseAmount)||0,gstRate:Number(Be.gstRate)||0,cgstAmount:Number(Be.cgstAmount)||0,sgstAmount:Number(Be.sgstAmount)||0,igstAmount:Number(Be.igstAmount)||0,totalAmount:Number(Be.totalAmount)||0})),Yn="PAID",Zt=jt.reduce((Be,$e)=>Be+($e.baseAmount||0),0),Gn=jt.reduce((Be,$e)=>Be+($e.cgstAmount||0),0),se=jt.reduce((Be,$e)=>Be+($e.sgstAmount||0),0),_e=jt.reduce((Be,$e)=>Be+($e.igstAmount||0),0),ve=s,be=(ve?.state||"Delhi")===(Mt.state||"")?"INTRA_STATE":"INTER_STATE",Te=Zt+Gn+se+_e;let Ae=Te,Ue=0;D>0&&(Ae=Math.ceil(Te/D)*D,Ue=Ae-Te);const at={id:crypto.randomUUID(),invoiceNumber:it.generateInvoiceNumber(Fe,p),customerId:Fe,customerName:Mt.company||Mt.name,customerAddress:Mt.address||"",customerState:Mt.state||"",customerGstin:Mt.gstin||"",supplierGstin:ve?.gstin||"",taxType:be,date:p,dueDate:x,items:jt,subtotal:Math.round(Zt*100)/100,totalCgst:Math.round(Gn*100)/100,totalSgst:Math.round(se*100)/100,totalIgst:Math.round(_e*100)/100,gstEnabled:C&&jt.some(Be=>(Be.gstRate||0)>0),roundUpTo:D,roundUpAmount:Math.round(Ue*100)/100,total:Math.round(Ae*100)/100,status:Yn,paymentMode:"CASH",notes:G};t(at,!0),R(!1)},[Rt,Ut]=J.useState(null),[Jt,zt]=J.useState(!1),Gt=Fe=>{Ut(Fe),zt(!0),ri.light()},Nn=Fe=>{const Mt=o.find(jt=>jt.id===Fe);Mt&&(K(Mt.name),Q(Mt.price.toString()),ge(Mt.hsn||""),ee(Mt.gstRate?.toString()||"0"),He(Mt.id),pe(!0))},Qt=()=>{const Fe=y.length;je(),setTimeout(()=>Gt(Fe),0)},Lt=(Fe,Mt,jt)=>{Ge(!0);const Yn=[...y],Zt=Yn[Fe],Gn=s,se=i.find(_e=>_e.id===u);if(Mt==="productId"){const _e=o.find(ve=>ve.id===jt);if(_e){Zt.productId=_e.id,Zt.description=_e.name,Zt.hsn=_e.hsn||"",Zt.gstRate=_e.gstRate||0;let ve=_e.price;if(u){const be=it.getLastSalePrice(u,_e.id);be!==null&&(ve=be)}Zt.rate=ve,Zt.baseAmount=Zt.quantity*Zt.rate,C?yt(Zt,Gn,se):Zt.totalAmount=Zt.baseAmount}}else Mt==="quantity"||Mt==="rate"?(Mt==="quantity"&&(Zt.quantity=Number(jt)),Mt==="rate"&&(Zt.rate=Number(jt)),Zt.baseAmount=Zt.quantity*Zt.rate,C?yt(Zt,Gn,se):Zt.totalAmount=Zt.baseAmount):Mt==="gstRate"?(Zt.gstRate=Number(jt),C&&yt(Zt,Gn,se)):Mt==="hsn"?Zt.hsn=jt:Mt==="description"&&(Zt.description=jt);S(Yn)},kt=Fe=>{Ge(!0),S(y.filter((Mt,jt)=>jt!==Fe))},At=Fe=>{ri.light(),j(""),Fe==="C"?L(""):Fe==="+"?U&&zn():L(Mt=>Mt+Fe)},zn=()=>{const Fe=o.find(jt=>jt.id===U);if(!Fe){j("Item ID not found"),ri.heavy();return}Ge(!0);const Mt=y.findIndex(jt=>jt.productId===Fe.id);if(Mt>-1)Lt(Mt,"quantity",y[Mt].quantity+1);else{const jt={productId:Fe.id,description:Fe.name,quantity:1,rate:Fe.price,baseAmount:0,hsn:Fe.hsn||"",gstRate:Fe.gstRate||0,cgstAmount:0,sgstAmount:0,igstAmount:0,totalAmount:0},Yn=s,Zt=i.find(se=>se.id===u);let Gn=Fe.price;if(u){const se=it.getLastSalePrice(u,Fe.id);se!==null&&(Gn=se)}jt.rate=Gn,jt.baseAmount=jt.quantity*jt.rate,C?yt(jt,Yn,Zt):jt.totalAmount=jt.baseAmount,S(se=>[...se.filter(_e=>_e.productId),jt])}L(""),ri.medium()},Ot=Ho.useRef({}),Ct=(Fe,Mt)=>{Fe.key==="Enter"&&(Fe.preventDefault(),Mt==="productId"?Ot.current.quantity?.focus():Mt==="quantity"?Ot.current.rate?.focus():Mt==="rate"&&(zt(!1),setTimeout(Qt,300)))},Ht=()=>y.reduce((Fe,Mt)=>Fe+(Mt.baseAmount||0),0),vn=()=>y.reduce((Fe,Mt)=>Fe+(Mt.cgstAmount||0),0),fn=()=>y.reduce((Fe,Mt)=>Fe+(Mt.sgstAmount||0),0),Zn=()=>y.reduce((Fe,Mt)=>Fe+(Mt.igstAmount||0),0),xn=()=>{const Fe=Ht(),Mt=vn(),jt=fn(),Yn=Zn();return Fe+Mt+jt+Yn},pn=()=>{const Fe=xn();return D===0?Fe:Math.ceil(Fe/D)*D},cr=()=>D===0?0:pn()-xn(),dn=Fe=>{oe(Fe),ne(""),Ee(!0)},Kt=()=>{const Fe={id:crypto.randomUUID(),name:de,company:de,email:"",phone:ke,address:"",balance:0,notifications:[]};it.saveCustomer(Fe),a(it.getCustomers()),d(Fe.id),Ee(!1)},On=(Fe,Mt)=>{K(Fe),Q(""),He(""),Se(Mt),pe(!0)},us=()=>{const Fe={id:Re.trim()||crypto.randomUUID(),name:B,price:Number(Y)||0,stock:100,category:"General",hsn:ue,gstRate:Number(Pe)||0};if(it.saveProduct(Fe),c(it.getProducts()),he!==null){const Mt=[...y],jt=Mt[he];jt.productId=Fe.id,jt.description=Fe.name,jt.rate=Fe.price,jt.quantity=1,jt.gstRate=Fe.gstRate||0,jt.hsn=Fe.hsn||"",yt(jt,s,i.find(Yn=>Yn.id===u)),S(Mt)}pe(!1),K(""),Q(""),ge(""),ee("0"),He(""),Se(null)},fs=()=>{if(n&&le&&!st){Et(!0);return}const Fe=i.find(Ue=>Ue.id===u);if(!Fe)return alert("Select a customer");if(y.length===0)return alert("Add at least one item");for(let Ue=0;Ue<y.length;Ue++)if(!y[Ue].productId)return alert(`Please select a product for Item ${Ue+1}`);const Mt=y.map(Ue=>({...Ue,quantity:Number(Ue.quantity)||1,rate:Number(Ue.rate)||0,baseAmount:Number(Ue.baseAmount)||0,gstRate:Number(Ue.gstRate)||0,cgstAmount:Number(Ue.cgstAmount)||0,sgstAmount:Number(Ue.sgstAmount)||0,igstAmount:Number(Ue.igstAmount)||0,totalAmount:Number(Ue.totalAmount)||0})),jt=F==="CASH"?"PAID":"PENDING",Yn=Ht(),Zt=vn(),Gn=fn(),se=Zn(),_e=s,ve=(_e?.state||"Delhi")===(Fe.state||"")?"INTRA_STATE":"INTER_STATE",be=pn(),Te=cr(),Ae={id:n?n.id:crypto.randomUUID(),invoiceNumber:n?n.invoiceNumber:it.generateInvoiceNumber(Fe.id,p),customerId:Fe.id,customerName:Fe.company||Fe.name,customerAddress:Fe.address||"",customerState:Fe.state||"",customerGstin:Fe.gstin||"",supplierGstin:_e?.gstin||"",taxType:ve,date:p,dueDate:x,items:Mt,subtotal:Math.round(Yn*100)/100,totalCgst:Math.round(Zt*100)/100,totalSgst:Math.round(Gn*100)/100,totalIgst:Math.round(se*100)/100,gstEnabled:C&&Mt.some(Ue=>(Ue.gstRate||0)>0),roundUpTo:D,roundUpAmount:Math.round(Te*100)/100,total:Math.round(be*100)/100,status:jt,notes:G};t(Ae)},{scrollY:Li}=tX(),[ns,hn]=J.useState(!1);return LY(Li,"change",Fe=>{hn(Fe>50)}),m.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900 min-h-screen pb-48",children:[st&&m.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-[100] p-4",children:m.jsxs(Fn.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"bg-white dark:bg-slate-800 rounded-[24px] shadow-2xl w-full max-w-sm p-6 text-center",children:[m.jsx("div",{className:"w-16 h-16 bg-amber-100 text-amber-600 rounded-full flex items-center justify-center mx-auto mb-4",children:m.jsx(mx,{className:"w-8 h-8"})}),m.jsx("h3",{className:"text-xl font-bold mb-2",children:"Save Changes?"}),m.jsx("p",{className:"text-slate-500 mb-6",children:"You are editing an existing invoice. This will update the customer balance and records."}),m.jsxs("div",{className:"flex gap-3",children:[m.jsx("button",{onClick:()=>Et(!1),className:"flex-1 py-3 font-bold text-slate-500 hover:bg-slate-100 rounded-xl",children:"Cancel"}),m.jsx("button",{onClick:fs,className:"flex-1 py-3 font-bold bg-blue-600 text-white rounded-xl shadow-lg shadow-blue-200",children:"Yes, Save"})]})]})}),m.jsx(Fn.div,{className:`sticky top-0 z-20 border-b transition-all duration-300 ${ns?"bg-white/80 dark:bg-slate-900/80 backdrop-blur-xl border-slate-200 dark:border-slate-800 shadow-sm":"bg-white dark:bg-slate-900 border-transparent"}`,children:m.jsxs("div",{className:"flex items-center justify-between px-4 h-16 max-w-5xl mx-auto",children:[m.jsx("button",{onClick:e,className:"p-2 -ml-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-800",children:m.jsx(Qu,{className:"w-6 h-6 text-slate-700 dark:text-slate-200"})}),m.jsx("h1",{className:"text-xl font-bold text-slate-800 dark:text-slate-100 flex-1 ml-2",children:n?"Edit Invoice":"New Invoice"}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("div",{className:"hidden md:block text-sm font-medium text-slate-500 bg-slate-100 dark:bg-slate-800 px-3 py-1 rounded-full",children:We()}),m.jsxs(Fn.button,{whileTap:{scale:.95},onClick:fs,className:"bg-blue-600 text-white px-5 py-2 rounded-xl font-bold shadow-lg shadow-blue-500/30 flex items-center gap-2 active:bg-blue-700",children:[m.jsx(p2,{className:"w-5 h-5"}),m.jsx("span",{children:"Save"})]})]})]})}),m.jsxs("div",{className:"max-w-5xl mx-auto space-y-6 pt-6 px-4",children:[m.jsxs("div",{className:"bg-white dark:bg-slate-900 p-8 rounded-[32px] shadow-sm border border-slate-100 dark:border-slate-800 mb-6",children:[m.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[m.jsx("div",{className:"w-10 h-10 rounded-xl bg-blue-50 dark:bg-blue-900/30 flex items-center justify-center text-blue-600 dark:text-blue-400",children:m.jsx(iA,{className:"w-5 h-5"})}),m.jsx("h2",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:"Bill To"})]}),m.jsx("div",{className:"relative group",children:m.jsx(XT,{options:i.map(Fe=>({id:Fe.id,label:Fe.company,subLabel:Fe.name})),value:u,onChange:Fe=>{d(Fe),Ge(!0);const Mt=it.predictNextItem(Fe);Mt&&y.length===1&&y[0].productId===""&&Lt(0,"productId",Mt.id)},onCreate:dn,placeholder:"Search Customer...",type:"customer"})}),u&&it.predictNextItem(u)&&m.jsxs("div",{className:"mt-3 flex items-center gap-2",children:[m.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"Suggested Product:"}),m.jsxs("button",{onClick:()=>{const Fe=it.predictNextItem(u);Fe&&je();const Mt=y.findIndex(jt=>jt.productId==="");if(Mt!==-1&&Fe)Lt(Mt,"productId",Fe.id);else if(Fe){const jt=y.length;je(),setTimeout(()=>Lt(jt,"productId",Fe.id),0)}ri.light()},className:"text-xs font-bold text-blue-600 bg-blue-50 dark:bg-blue-900/30 px-2 py-1 rounded-lg border border-blue-100 dark:border-blue-800",children:["+ ",it.predictNextItem(u)?.name]})]}),m.jsxs("div",{className:"flex gap-4 mt-6",children:[m.jsxs("div",{className:"flex-1",children:[m.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Date"}),m.jsx("div",{className:"mt-1 relative bg-slate-50 dark:bg-slate-900 rounded-xl overflow-hidden border border-slate-200 dark:border-slate-700",children:m.jsx("input",{type:"date",value:p,onChange:Fe=>{g(Fe.target.value),Ge(!0)},className:"w-full bg-transparent p-3 text-sm font-medium outline-none"})})]}),m.jsxs("div",{className:"flex-1",children:[m.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Due Date"}),m.jsx("div",{className:"mt-1 relative bg-slate-50 dark:bg-slate-900 rounded-xl overflow-hidden border border-slate-200 dark:border-slate-700",children:m.jsx("input",{type:"date",value:x,onChange:Fe=>{w(Fe.target.value),Ge(!0)},className:"w-full bg-transparent p-3 text-sm font-medium outline-none"})})]})]})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-900 overflow-hidden p-1.5 rounded-[24px] shadow-sm border border-slate-100 dark:border-slate-800 flex",children:[m.jsxs("button",{onClick:()=>{I("CREDIT"),Ge(!0)},className:`flex-1 py-3 px-4 rounded-[20px] flex items-center justify-center gap-2 transition-all ${F==="CREDIT"?"bg-red-50 dark:bg-red-900/40 text-red-600 dark:text-red-400 font-bold shadow-sm":"text-slate-500 dark:text-slate-500 font-medium opacity-60 hover:bg-slate-50 dark:hover:bg-slate-800/50"}`,children:[m.jsx(OX,{className:"w-5 h-5"})," Credit"]}),m.jsxs("button",{onClick:()=>{I("CASH"),Ge(!0)},className:`flex-1 py-3 px-4 rounded-[20px] flex items-center justify-center gap-2 transition-all ${F==="CASH"?"bg-emerald-50 dark:bg-emerald-900/40 text-emerald-600 dark:text-emerald-400 font-bold shadow-sm":"text-slate-500 dark:text-slate-500 font-medium opacity-60 hover:bg-slate-50 dark:hover:bg-slate-800/50"}`,children:[m.jsx(H5,{className:"w-5 h-5"})," Cash"]})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"flex items-center justify-between px-2",children:[m.jsx("h2",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider",children:"Items List"}),m.jsxs("div",{className:"hidden md:flex gap-16 text-[10px] font-black text-slate-400 uppercase mr-32",children:[m.jsx("span",{children:"Product"}),m.jsx("span",{children:"Rate"}),m.jsx("span",{children:"Qty"}),m.jsx("span",{children:"Total"})]})]}),m.jsx("div",{className:"space-y-3",children:m.jsx(ru,{mode:"popLayout",children:y.filter(Fe=>Fe.productId).map((Fe,Mt)=>m.jsxs(Fn.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,scale:.9},onClick:()=>Gt(y.indexOf(Fe)),className:"bg-white dark:bg-slate-900 p-5 rounded-[32px] shadow-sm border border-slate-100 dark:border-white/5 flex gap-4 items-center active:scale-[0.98] transition-all cursor-pointer group",children:[m.jsx("div",{className:"w-14 h-14 rounded-2xl bg-blue-50 dark:bg-blue-900/40 flex items-center justify-center text-blue-600 dark:text-blue-400 shrink-0 group-hover:bg-blue-600 group-hover:text-white transition-all",children:m.jsx(Th,{className:"w-7 h-7"})}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsx("p",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 truncate tracking-tight",children:Fe.description}),m.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[m.jsxs("span",{className:"px-2.5 py-0.5 rounded-full bg-slate-100 dark:bg-slate-800 text-[10px] font-bold text-slate-500 uppercase tracking-wider",children:[Fe.quantity," Unit"]}),m.jsx("span",{className:"text-[10px] font-bold text-slate-400",children:"@"}),m.jsxs("span",{className:"text-sm font-medium text-slate-600 dark:text-slate-400",children:["",Fe.rate]})]})]}),m.jsxs("div",{className:"text-right",children:[m.jsxs("p",{className:"text-2xl font-semibold text-primary tracking-tight",children:["",(Fe.totalAmount||0).toLocaleString("en-IN")]}),m.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest opacity-60",children:"Amount"})]})]},Mt))})}),m.jsxs("button",{onClick:Qt,className:"w-full py-6 rounded-[28px] border-2 border-dashed border-blue-200 dark:border-slate-800 bg-blue-50/30 dark:bg-slate-900/40 text-blue-600 dark:text-blue-400 font-black flex items-center justify-center gap-3 hover:bg-blue-50 dark:hover:bg-slate-800 transition-all active:scale-[0.98] group",children:[m.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-600 text-white flex items-center justify-center group-hover:scale-110 transition-transform shadow-lg shadow-blue-500/40",children:m.jsx(wd,{className:"w-5 h-5"})}),m.jsx("span",{children:"Add Item"})]})]})]}),m.jsx(ru,{children:Jt&&Rt!==null&&m.jsxs("div",{className:"fixed inset-0 z-[100] flex flex-col justify-end",children:[m.jsx(Fn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>zt(!1),className:"absolute inset-0 bg-slate-900/80 backdrop-blur-sm"}),m.jsxs(Fn.div,{initial:{y:"100%",borderRadius:"40px 40px 0 0"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",damping:25,stiffness:200},className:"relative bg-white dark:bg-slate-900 w-full max-h-[90vh] overflow-y-auto p-6 shadow-2xl pb-12",children:[m.jsx("div",{className:"w-12 h-1.5 bg-slate-200 dark:bg-slate-700 rounded-full mx-auto mb-8"}),m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2 block",children:"Item"}),m.jsx(XT,{options:o.map(Fe=>({id:Fe.id,label:Fe.name})),value:y[Rt].productId,onChange:Fe=>Lt(Rt,"productId",Fe),onCreate:Fe=>On(Fe,Rt),placeholder:"Search or Create Product...",type:"product",autoFocus:!0,onKeyDown:Fe=>Ct(Fe,"productId"),inputRef:Fe=>{Ot.current.productId=Fe}}),y[Rt].productId&&m.jsx("div",{className:"flex justify-end mt-1",children:m.jsx("button",{onClick:()=>Nn(y[Rt].productId),className:"text-[10px] font-bold text-blue-600 bg-blue-50 dark:bg-blue-900/30 px-2 py-1 rounded-lg flex items-center gap-1",children:"Edit Product Details"})})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{className:"bg-slate-50 dark:bg-slate-950 p-4 rounded-2xl border-2 border-slate-100 dark:border-slate-800",children:[m.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2 block",children:"Qty"}),m.jsx("input",{type:"number",className:"w-full bg-transparent text-2xl font-black text-blue-600 outline-none",value:y[Rt].quantity||"",onChange:Fe=>Lt(Rt,"quantity",Fe.target.value),placeholder:"1",onKeyDown:Fe=>Ct(Fe,"quantity"),ref:Fe=>{Ot.current.quantity=Fe}})]}),m.jsxs("div",{className:"bg-slate-50 dark:bg-slate-950 p-4 rounded-2xl border-2 border-slate-100 dark:border-slate-800",children:[m.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2 block",children:"Rate"}),m.jsx("input",{type:"number",className:"w-full bg-transparent text-2xl font-black text-slate-900 dark:text-slate-100 outline-none",value:y[Rt].rate||"",onChange:Fe=>Lt(Rt,"rate",Fe.target.value),placeholder:"0.00",onKeyDown:Fe=>Ct(Fe,"rate"),ref:Fe=>{Ot.current.rate=Fe}})]})]}),m.jsxs("div",{className:"flex gap-3 pt-2",children:[m.jsx("button",{onClick:()=>{zt(!1),setTimeout(Qt,300)},className:"flex-1 bg-slate-100 dark:bg-slate-800 text-slate-900 dark:text-slate-100 py-5 rounded-[24px] font-black text-xs uppercase tracking-wider active:scale-95 transition-all border border-slate-200 dark:border-slate-700",children:"Save & Add Next"}),m.jsx("button",{onClick:()=>zt(!1),className:"flex-1 bg-blue-600 text-white py-5 rounded-[24px] font-black text-xs uppercase tracking-wider shadow-lg shadow-blue-500/20 active:scale-95 transition-all",children:"Save & Done"}),m.jsx("button",{onClick:()=>{kt(Rt),zt(!1)},className:"w-16 bg-red-50 dark:bg-red-900/20 text-red-600 flex items-center justify-center rounded-[24px] active:scale-95 transition-all",children:m.jsx(_d,{className:"w-6 h-6"})})]}),m.jsxs("div",{className:"bg-gradient-to-br from-blue-600 to-blue-700 p-8 rounded-[40px] text-white flex justify-between items-center shadow-2xl shadow-blue-500/40 relative overflow-hidden",children:[m.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full -mr-16 -mt-16 blur-2xl"}),m.jsxs("div",{className:"relative z-10",children:[m.jsx("p",{className:"text-[11px] font-black uppercase opacity-70 tracking-widest mb-1",children:"Item Total Amount"}),m.jsxs("p",{className:"text-5xl font-black tracking-tighter drop-shadow-lg",children:["",(y[Rt].totalAmount||0).toFixed(2).toLocaleString()]})]}),m.jsx("div",{className:"text-right relative z-10",children:m.jsxs("div",{className:"bg-white/20 backdrop-blur-md px-3 py-1.5 rounded-xl border border-white/20",children:[m.jsx("p",{className:"text-[10px] font-black uppercase tracking-tight",children:"Tax Included"}),m.jsxs("p",{className:"text-sm font-black",children:["GST ",y[Rt].gstRate,"%"]})]})})]})]})]})]})}),m.jsx("div",{className:"max-w-5xl mx-auto px-4 pb-4 mt-6",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-[24px] shadow-sm border border-slate-100 dark:border-slate-700",children:[m.jsx("h2",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Additional Notes"}),m.jsx("textarea",{className:"w-full bg-slate-50 dark:bg-slate-900 border-none rounded-xl p-4 text-sm font-medium focus:ring-2 focus:ring-blue-500 outline-none resize-none",rows:3,value:G,onChange:Fe=>{P(Fe.target.value),Ge(!0)},placeholder:"Terms & Conditions, Payment Instructions, etc."})]})}),m.jsx(Fn.div,{initial:{y:0},animate:{y:0,scale:ns?.98:1,opacity:1},className:"fixed bottom-0 left-0 right-0 bg-white/80 dark:bg-slate-900/90 backdrop-blur-md border-t border-slate-200 dark:border-slate-700 p-4 pb-6 md:pb-4 z-30 shadow-[0_-5px_30px_rgba(0,0,0,0.1)]",children:m.jsxs("div",{className:"max-w-5xl mx-auto flex justify-between items-center px-4",children:[m.jsxs("div",{className:"flex flex-col",children:[m.jsx("span",{className:"text-[10px] text-slate-400 font-black uppercase tracking-widest",children:"Total Payable"}),m.jsxs("span",{className:"text-3xl font-black text-blue-600 tracking-tighter",children:["",pn().toLocaleString("en-IN")]})]}),m.jsxs("div",{className:"text-xs font-bold text-slate-400",children:[y.length," Items Added"]})]})}),M&&m.jsxs("div",{className:"fixed inset-0 bg-white dark:bg-slate-900 z-[60] flex flex-col",children:[m.jsxs("div",{className:"p-4 flex items-center justify-between border-b border-slate-100 dark:border-slate-800",children:[m.jsxs("h2",{className:"text-lg font-black flex items-center gap-2",children:[m.jsx(z5,{className:"w-5 h-5 text-emerald-500"}),"Smart Billing"]}),m.jsx("button",{onClick:()=>R(!1),className:"bg-slate-100 dark:bg-slate-800 p-2 rounded-full hover:bg-slate-200",children:m.jsx(Wu,{className:"w-5 h-5"})})]}),m.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-2 bg-slate-50 dark:bg-slate-950",children:y.filter(Fe=>Fe.productId).length===0?m.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-400 opacity-50",children:[m.jsx(z5,{className:"w-16 h-16 mb-2"}),m.jsx("p",{className:"font-bold",children:"Enter Item ID & Press '+'"})]}):y.filter(Fe=>Fe.productId).slice().reverse().map((Fe,Mt)=>m.jsxs(Fn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white dark:bg-slate-900 p-3 rounded-xl shadow-sm flex justify-between items-center border border-slate-100 dark:border-slate-800",onContextMenu:jt=>{jt.preventDefault(),window.confirm(`Remove ${Fe.description}?`)&&kt(y.indexOf(Fe))},children:[m.jsxs("div",{children:[m.jsx("p",{className:"font-bold text-sm text-slate-800 dark:text-slate-200 truncate max-w-[150px]",children:Fe.description}),m.jsxs("p",{className:"text-xs text-slate-400",children:["ID: ",Fe.productId," | ",Fe.rate]})]}),m.jsx("div",{className:"flex items-center gap-3",children:m.jsx("div",{className:"text-right",children:m.jsxs("p",{className:"font-black text-blue-600",children:["x",Fe.quantity]})})})]},Mt))}),m.jsxs("div",{className:"bg-white dark:bg-slate-900 p-4 pb-8 shadow-[0_-5px_30px_rgba(0,0,0,0.1)] rounded-t-[32px]",children:[m.jsxs("div",{className:"bg-slate-100 dark:bg-slate-800 rounded-2xl p-4 mb-4 flex flex-col items-end justify-center min-h-[80px]",children:[m.jsx("span",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:O||"ITEM ID"}),m.jsx("span",{className:`text-4xl font-mono font-black tracking-widest ${O?"text-red-500":"text-slate-800 dark:text-slate-100"}`,children:U||"0"})]}),m.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[[7,8,9].map(Fe=>m.jsx("button",{onClick:()=>At(Fe.toString()),className:"h-16 rounded-2xl bg-slate-50 dark:bg-slate-800 text-2xl font-bold hover:bg-slate-100 active:scale-95 transition-all shadow-sm border border-slate-200 dark:border-slate-700",children:Fe},Fe)),m.jsx("button",{onClick:()=>At("C"),className:"h-16 rounded-2xl bg-red-50 text-red-600 text-xl font-black hover:bg-red-100 active:scale-95 transition-all",children:"CLR"}),[4,5,6].map(Fe=>m.jsx("button",{onClick:()=>At(Fe.toString()),className:"h-16 rounded-2xl bg-slate-50 dark:bg-slate-800 text-2xl font-bold hover:bg-slate-100 active:scale-95 transition-all shadow-sm border border-slate-200 dark:border-slate-700",children:Fe},Fe)),m.jsx("button",{onClick:St,className:"h-16 rounded-2xl bg-slate-100 text-slate-500 font-bold active:scale-95 transition-all flex items-center justify-center",children:m.jsx("span",{className:"text-xs font-black uppercase text-blue-600",children:"Done"})}),[1,2,3].map(Fe=>m.jsx("button",{onClick:()=>At(Fe.toString()),className:"h-16 rounded-2xl bg-slate-50 dark:bg-slate-800 text-2xl font-bold hover:bg-slate-100 active:scale-95 transition-all shadow-sm border border-slate-200 dark:border-slate-700",children:Fe},Fe)),m.jsx("button",{onClick:()=>At("+"),className:"row-span-2 h-full rounded-2xl bg-blue-600 text-white text-3xl font-black hover:bg-blue-700 active:scale-95 transition-all shadow-lg shadow-blue-500/30",children:"+"}),m.jsx("button",{onClick:()=>At("0"),className:"col-span-2 h-16 rounded-2xl bg-slate-50 dark:bg-slate-800 text-2xl font-bold hover:bg-slate-100 active:scale-95 transition-all shadow-sm border border-slate-200 dark:border-slate-700",children:"0"}),m.jsx("button",{onClick:()=>At("."),className:"h-16 rounded-2xl bg-slate-50 dark:bg-slate-800 text-2xl font-bold hover:bg-slate-100 active:scale-95 transition-all shadow-sm border border-slate-200 dark:border-slate-700",children:"."})]})]})]}),ie&&m.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:m.jsxs(Fn.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"bg-white dark:bg-slate-800 rounded-[24px] shadow-2xl w-full max-w-md overflow-hidden",children:[m.jsxs("div",{className:"p-6 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center",children:[m.jsx("h3",{className:"text-lg font-bold",children:"New Customer"}),m.jsx("button",{onClick:()=>Ee(!1),className:"bg-slate-100 p-2 rounded-full",children:m.jsx(Wu,{className:"w-5 h-5"})})]}),m.jsxs("div",{className:"p-6 space-y-4",children:[m.jsx("input",{type:"text",autoFocus:!0,placeholder:"Customer Name",className:"w-full p-4 bg-slate-50 rounded-xl font-bold outline-none focus:ring-2 focus:ring-blue-500",value:de,onChange:Fe=>oe(Fe.target.value)}),m.jsx("input",{type:"text",placeholder:"Phone Number",className:"w-full p-4 bg-slate-50 rounded-xl font-medium outline-none focus:ring-2 focus:ring-blue-500",value:ke,onChange:Fe=>ne(Fe.target.value),onKeyDown:Fe=>Fe.key==="Enter"&&Kt()}),m.jsx("button",{onClick:Kt,className:"w-full bg-blue-600 text-white py-4 rounded-xl font-bold mt-4",children:"Save Customer"})]})]})}),ae&&m.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-[110] p-4",children:m.jsxs(Fn.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"bg-white dark:bg-slate-800 rounded-[24px] shadow-2xl w-full max-w-md overflow-hidden",children:[m.jsxs("div",{className:"p-6 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center",children:[m.jsx("h3",{className:"text-lg font-bold",children:"New Product"}),m.jsx("button",{onClick:()=>pe(!1),className:"bg-slate-100 p-2 rounded-full",children:m.jsx(Wu,{className:"w-5 h-5"})})]}),m.jsxs("div",{className:"p-6 space-y-4",children:[m.jsx("input",{type:"text",autoFocus:!0,placeholder:"Product Name",className:"w-full p-4 bg-slate-50 rounded-xl font-bold outline-none focus:ring-2 focus:ring-blue-500",value:B,onChange:Fe=>K(Fe.target.value)}),m.jsx("input",{type:"text",placeholder:"Item ID (Optional, for Calculator)",className:"w-full p-4 bg-slate-50 rounded-xl font-medium outline-none focus:ring-2 focus:ring-blue-500 uppercase tracking-widest",value:Re,onChange:Fe=>He(Fe.target.value)}),m.jsx("input",{type:"number",placeholder:"Price / Rate",className:"w-full p-4 bg-slate-50 rounded-xl font-medium outline-none focus:ring-2 focus:ring-blue-500",value:Y,onChange:Fe=>Q(Fe.target.value),onKeyDown:Fe=>Fe.key==="Enter"&&!C&&us()}),C&&m.jsxs("div",{className:"flex gap-4",children:[m.jsx("input",{type:"text",placeholder:"HSN",className:"flex-1 p-4 bg-slate-50 rounded-xl outline-none",value:ue,onChange:Fe=>ge(Fe.target.value)}),m.jsx("input",{type:"number",placeholder:"GST %",className:"w-24 p-4 bg-slate-50 rounded-xl outline-none",value:Pe,onChange:Fe=>ee(Fe.target.value),onKeyDown:Fe=>Fe.key==="Enter"&&us()})]}),m.jsx("button",{onClick:us,className:"w-full bg-blue-600 text-white py-4 rounded-xl font-bold mt-4",children:"Save Product"})]})]})})]})};function Tr(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t?.(s),n===!1||!s.defaultPrevented)return e?.(s)}}function AM(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Om(...t){return e=>{let n=!1;const r=t.map(s=>{const i=AM(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():AM(t[s],null)}}}}function Co(...t){return J.useCallback(Om(...t),t)}function Dx(t,e=[]){let n=[];function r(i,a){const o=J.createContext(a),c=n.length;n=[...n,a];const u=p=>{const{scope:g,children:x,...w}=p,y=g?.[t]?.[c]||o,S=J.useMemo(()=>w,Object.values(w));return m.jsx(y.Provider,{value:S,children:x})};u.displayName=i+"Provider";function d(p,g){const x=g?.[t]?.[c]||o,w=J.useContext(x);if(w)return w;if(a!==void 0)return a;throw new Error(`\`${p}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=n.map(a=>J.createContext(a));return function(o){const c=o?.[t]||i;return J.useMemo(()=>({[`__scope${t}`]:{...o,[t]:c}}),[o,c])}};return s.scopeName=t,[r,Hpe(s,...e)]}function Hpe(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=r.reduce((o,{useScope:c,scopeName:u})=>{const p=c(i)[`__scope${u}`];return{...o,...p}},{});return J.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}var Nd=globalThis?.document?J.useLayoutEffect:()=>{},zpe=uL[" useInsertionEffect ".trim().toString()]||Nd;function QV({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,a]=Gpe({defaultProp:e,onChange:n}),o=t!==void 0,c=o?t:s;{const d=J.useRef(t!==void 0);J.useEffect(()=>{const p=d.current;p!==o&&console.warn(`${r} is changing from ${p?"controlled":"uncontrolled"} to ${o?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=o},[o,r])}const u=J.useCallback(d=>{if(o){const p=$pe(d)?d(t):d;p!==t&&a.current?.(p)}else i(d)},[o,t,i,a]);return[c,u]}function Gpe({defaultProp:t,onChange:e}){const[n,r]=J.useState(t),s=J.useRef(n),i=J.useRef(e);return zpe(()=>{i.current=e},[e]),J.useEffect(()=>{s.current!==n&&(i.current?.(n),s.current=n)},[n,s]),[n,r,i]}function $pe(t){return typeof t=="function"}function Wpe(t){const e=Kpe(t),n=J.forwardRef((r,s)=>{const{children:i,...a}=r,o=J.Children.toArray(i),c=o.find(Xpe);if(c){const u=c.props.children,d=o.map(p=>p===c?J.Children.count(u)>1?J.Children.only(null):J.isValidElement(u)?u.props.children:null:p);return m.jsx(e,{...a,ref:s,children:J.isValidElement(u)?J.cloneElement(u,void 0,d):null})}return m.jsx(e,{...a,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function Kpe(t){const e=J.forwardRef((n,r)=>{const{children:s,...i}=n;if(J.isValidElement(s)){const a=Qpe(s),o=Jpe(i,s.props);return s.type!==J.Fragment&&(o.ref=r?Om(r,a):a),J.cloneElement(s,o)}return J.Children.count(s)>1?J.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Ype=Symbol("radix.slottable");function Xpe(t){return J.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Ype}function Jpe(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...o)=>{const c=i(...o);return s(...o),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function Qpe(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Zpe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Za=Zpe.reduce((t,e)=>{const n=Wpe(`Primitive.${e}`),r=J.forwardRef((s,i)=>{const{asChild:a,...o}=s,c=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),m.jsx(c,{...o,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function ZV(t,e){t&&Wb.flushSync(()=>t.dispatchEvent(e))}function CM(t){const e=eme(t),n=J.forwardRef((r,s)=>{const{children:i,...a}=r,o=J.Children.toArray(i),c=o.find(nme);if(c){const u=c.props.children,d=o.map(p=>p===c?J.Children.count(u)>1?J.Children.only(null):J.isValidElement(u)?u.props.children:null:p);return m.jsx(e,{...a,ref:s,children:J.isValidElement(u)?J.cloneElement(u,void 0,d):null})}return m.jsx(e,{...a,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function eme(t){const e=J.forwardRef((n,r)=>{const{children:s,...i}=n;if(J.isValidElement(s)){const a=sme(s),o=rme(i,s.props);return s.type!==J.Fragment&&(o.ref=r?Om(r,a):a),J.cloneElement(s,o)}return J.Children.count(s)>1?J.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var tme=Symbol("radix.slottable");function nme(t){return J.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===tme}function rme(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...o)=>{const c=i(...o);return s(...o),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function sme(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function eU(t){const e=t+"CollectionProvider",[n,r]=Dx(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),a=y=>{const{scope:S,children:C}=y,F=Ho.useRef(null),I=Ho.useRef(new Map).current;return m.jsx(s,{scope:S,itemMap:I,collectionRef:F,children:C})};a.displayName=e;const o=t+"CollectionSlot",c=CM(o),u=Ho.forwardRef((y,S)=>{const{scope:C,children:F}=y,I=i(o,C),D=Co(S,I.collectionRef);return m.jsx(c,{ref:D,children:F})});u.displayName=o;const d=t+"CollectionItemSlot",p="data-radix-collection-item",g=CM(d),x=Ho.forwardRef((y,S)=>{const{scope:C,children:F,...I}=y,D=Ho.useRef(null),z=Co(S,D),G=i(d,C);return Ho.useEffect(()=>(G.itemMap.set(D,{ref:D,...I}),()=>void G.itemMap.delete(D))),m.jsx(g,{[p]:"",ref:z,children:F})});x.displayName=d;function w(y){const S=i(t+"CollectionConsumer",y);return Ho.useCallback(()=>{const F=S.collectionRef.current;if(!F)return[];const I=Array.from(F.querySelectorAll(`[${p}]`));return Array.from(S.itemMap.values()).sort((G,P)=>I.indexOf(G.ref.current)-I.indexOf(P.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:a,Slot:u,ItemSlot:x},w,r]}var ime=J.createContext(void 0);function tU(t){const e=J.useContext(ime);return t||e||"ltr"}function sf(t){const e=J.useRef(t);return J.useEffect(()=>{e.current=t}),J.useMemo(()=>(...n)=>e.current?.(...n),[])}function ame(t,e=globalThis?.document){const n=sf(t);J.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var ome="DismissableLayer",JT="dismissableLayer.update",lme="dismissableLayer.pointerDownOutside",cme="dismissableLayer.focusOutside",NM,nU=J.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),rU=J.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:a,onDismiss:o,...c}=t,u=J.useContext(nU),[d,p]=J.useState(null),g=d?.ownerDocument??globalThis?.document,[,x]=J.useState({}),w=Co(e,P=>p(P)),y=Array.from(u.layers),[S]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),C=y.indexOf(S),F=d?y.indexOf(d):-1,I=u.layersWithOutsidePointerEventsDisabled.size>0,D=F>=C,z=dme(P=>{const M=P.target,R=[...u.branches].some(U=>U.contains(M));!D||R||(s?.(P),a?.(P),P.defaultPrevented||o?.())},g),G=hme(P=>{const M=P.target;[...u.branches].some(U=>U.contains(M))||(i?.(P),a?.(P),P.defaultPrevented||o?.())},g);return ame(P=>{F===u.layers.size-1&&(r?.(P),!P.defaultPrevented&&o&&(P.preventDefault(),o()))},g),J.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(NM=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),IM(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=NM)}},[d,g,n,u]),J.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),IM())},[d,u]),J.useEffect(()=>{const P=()=>x({});return document.addEventListener(JT,P),()=>document.removeEventListener(JT,P)},[]),m.jsx(Za.div,{...c,ref:w,style:{pointerEvents:I?D?"auto":"none":void 0,...t.style},onFocusCapture:Tr(t.onFocusCapture,G.onFocusCapture),onBlurCapture:Tr(t.onBlurCapture,G.onBlurCapture),onPointerDownCapture:Tr(t.onPointerDownCapture,z.onPointerDownCapture)})});rU.displayName=ome;var ume="DismissableLayerBranch",fme=J.forwardRef((t,e)=>{const n=J.useContext(nU),r=J.useRef(null),s=Co(e,r);return J.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),m.jsx(Za.div,{...t,ref:s})});fme.displayName=ume;function dme(t,e=globalThis?.document){const n=sf(t),r=J.useRef(!1),s=J.useRef(()=>{});return J.useEffect(()=>{const i=o=>{if(o.target&&!r.current){let c=function(){sU(lme,n,u,{discrete:!0})};const u={originalEvent:o};o.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);r.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function hme(t,e=globalThis?.document){const n=sf(t),r=J.useRef(!1);return J.useEffect(()=>{const s=i=>{i.target&&!r.current&&sU(cme,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function IM(){const t=new CustomEvent(JT);document.dispatchEvent(t)}function sU(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?ZV(s,i):s.dispatchEvent(i)}var ZE=0;function pme(){J.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??kM()),document.body.insertAdjacentElement("beforeend",t[1]??kM()),ZE++,()=>{ZE===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),ZE--}},[])}function kM(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var e5="focusScope.autoFocusOnMount",t5="focusScope.autoFocusOnUnmount",RM={bubbles:!1,cancelable:!0},mme="FocusScope",iU=J.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...a}=t,[o,c]=J.useState(null),u=sf(s),d=sf(i),p=J.useRef(null),g=Co(e,y=>c(y)),x=J.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;J.useEffect(()=>{if(r){let y=function(I){if(x.paused||!o)return;const D=I.target;o.contains(D)?p.current=D:ed(p.current,{select:!0})},S=function(I){if(x.paused||!o)return;const D=I.relatedTarget;D!==null&&(o.contains(D)||ed(p.current,{select:!0}))},C=function(I){if(document.activeElement===document.body)for(const z of I)z.removedNodes.length>0&&ed(o)};document.addEventListener("focusin",y),document.addEventListener("focusout",S);const F=new MutationObserver(C);return o&&F.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",S),F.disconnect()}}},[r,o,x.paused]),J.useEffect(()=>{if(o){DM.add(x);const y=document.activeElement;if(!o.contains(y)){const C=new CustomEvent(e5,RM);o.addEventListener(e5,u),o.dispatchEvent(C),C.defaultPrevented||(gme(wme(aU(o)),{select:!0}),document.activeElement===y&&ed(o))}return()=>{o.removeEventListener(e5,u),setTimeout(()=>{const C=new CustomEvent(t5,RM);o.addEventListener(t5,d),o.dispatchEvent(C),C.defaultPrevented||ed(y??document.body,{select:!0}),o.removeEventListener(t5,d),DM.remove(x)},0)}}},[o,u,d,x]);const w=J.useCallback(y=>{if(!n&&!r||x.paused)return;const S=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,C=document.activeElement;if(S&&C){const F=y.currentTarget,[I,D]=xme(F);I&&D?!y.shiftKey&&C===D?(y.preventDefault(),n&&ed(I,{select:!0})):y.shiftKey&&C===I&&(y.preventDefault(),n&&ed(D,{select:!0})):C===F&&y.preventDefault()}},[n,r,x.paused]);return m.jsx(Za.div,{tabIndex:-1,...a,ref:g,onKeyDown:w})});iU.displayName=mme;function gme(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(ed(r,{select:e}),document.activeElement!==n)return}function xme(t){const e=aU(t),n=PM(e,t),r=PM(e.reverse(),t);return[n,r]}function aU(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function PM(t,e){for(const n of t)if(!vme(n,{upTo:e}))return n}function vme(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function yme(t){return t instanceof HTMLInputElement&&"select"in t}function ed(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&yme(t)&&e&&t.select()}}var DM=bme();function bme(){let t=[];return{add(e){const n=t[0];e!==n&&n?.pause(),t=MM(t,e),t.unshift(e)},remove(e){t=MM(t,e),t[0]?.resume()}}}function MM(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function wme(t){return t.filter(e=>e.tagName!=="A")}var _me=uL[" useId ".trim().toString()]||(()=>{}),Eme=0;function QT(t){const[e,n]=J.useState(_me());return Nd(()=>{n(r=>r??String(Eme++))},[t]),e?`radix-${e}`:""}const Tme=["top","right","bottom","left"],Id=Math.min,Go=Math.max,K2=Math.round,ly=Math.floor,eu=t=>({x:t,y:t}),Sme={left:"right",right:"left",bottom:"top",top:"bottom"},Ame={start:"end",end:"start"};function ZT(t,e,n){return Go(t,Id(e,n))}function af(t,e){return typeof t=="function"?t(e):t}function of(t){return t.split("-")[0]}function Bm(t){return t.split("-")[1]}function wC(t){return t==="x"?"y":"x"}function _C(t){return t==="y"?"height":"width"}const Cme=new Set(["top","bottom"]);function $c(t){return Cme.has(of(t))?"y":"x"}function EC(t){return wC($c(t))}function Nme(t,e,n){n===void 0&&(n=!1);const r=Bm(t),s=EC(t),i=_C(s);let a=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(a=Y2(a)),[a,Y2(a)]}function Ime(t){const e=Y2(t);return[eS(t),e,eS(e)]}function eS(t){return t.replace(/start|end/g,e=>Ame[e])}const LM=["left","right"],FM=["right","left"],kme=["top","bottom"],Rme=["bottom","top"];function Pme(t,e,n){switch(t){case"top":case"bottom":return n?e?FM:LM:e?LM:FM;case"left":case"right":return e?kme:Rme;default:return[]}}function Dme(t,e,n,r){const s=Bm(t);let i=Pme(of(t),n==="start",r);return s&&(i=i.map(a=>a+"-"+s),e&&(i=i.concat(i.map(eS)))),i}function Y2(t){return t.replace(/left|right|bottom|top/g,e=>Sme[e])}function Mme(t){return{top:0,right:0,bottom:0,left:0,...t}}function oU(t){return typeof t!="number"?Mme(t):{top:t,right:t,bottom:t,left:t}}function X2(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function OM(t,e,n){let{reference:r,floating:s}=t;const i=$c(e),a=EC(e),o=_C(a),c=of(e),u=i==="y",d=r.x+r.width/2-s.width/2,p=r.y+r.height/2-s.height/2,g=r[o]/2-s[o]/2;let x;switch(c){case"top":x={x:d,y:r.y-s.height};break;case"bottom":x={x:d,y:r.y+r.height};break;case"right":x={x:r.x+r.width,y:p};break;case"left":x={x:r.x-s.width,y:p};break;default:x={x:r.x,y:r.y}}switch(Bm(e)){case"start":x[a]-=g*(n&&u?-1:1);break;case"end":x[a]+=g*(n&&u?-1:1);break}return x}const Lme=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:a}=n,o=i.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(e));let u=await a.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:p}=OM(u,r,c),g=r,x={},w=0;for(let y=0;y<o.length;y++){const{name:S,fn:C}=o[y],{x:F,y:I,data:D,reset:z}=await C({x:d,y:p,initialPlacement:r,placement:g,strategy:s,middlewareData:x,rects:u,platform:a,elements:{reference:t,floating:e}});d=F??d,p=I??p,x={...x,[S]:{...x[S],...D}},z&&w<=50&&(w++,typeof z=="object"&&(z.placement&&(g=z.placement),z.rects&&(u=z.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:s}):z.rects),{x:d,y:p}=OM(u,g,c)),y=-1)}return{x:d,y:p,placement:g,strategy:s,middlewareData:x}};async function Q1(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:a,elements:o,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:p="floating",altBoundary:g=!1,padding:x=0}=af(e,t),w=oU(x),S=o[g?p==="floating"?"reference":"floating":p],C=X2(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(S)))==null||n?S:S.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(o.floating)),boundary:u,rootBoundary:d,strategy:c})),F=p==="floating"?{x:r,y:s,width:a.floating.width,height:a.floating.height}:a.reference,I=await(i.getOffsetParent==null?void 0:i.getOffsetParent(o.floating)),D=await(i.isElement==null?void 0:i.isElement(I))?await(i.getScale==null?void 0:i.getScale(I))||{x:1,y:1}:{x:1,y:1},z=X2(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:F,offsetParent:I,strategy:c}):F);return{top:(C.top-z.top+w.top)/D.y,bottom:(z.bottom-C.bottom+w.bottom)/D.y,left:(C.left-z.left+w.left)/D.x,right:(z.right-C.right+w.right)/D.x}}const Fme=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:a,elements:o,middlewareData:c}=e,{element:u,padding:d=0}=af(t,e)||{};if(u==null)return{};const p=oU(d),g={x:n,y:r},x=EC(s),w=_C(x),y=await a.getDimensions(u),S=x==="y",C=S?"top":"left",F=S?"bottom":"right",I=S?"clientHeight":"clientWidth",D=i.reference[w]+i.reference[x]-g[x]-i.floating[w],z=g[x]-i.reference[x],G=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let P=G?G[I]:0;(!P||!await(a.isElement==null?void 0:a.isElement(G)))&&(P=o.floating[I]||i.floating[w]);const M=D/2-z/2,R=P/2-y[w]/2-1,U=Id(p[C],R),L=Id(p[F],R),O=U,j=P-y[w]-L,ie=P/2-y[w]/2+M,Ee=ZT(O,ie,j),ae=!c.arrow&&Bm(s)!=null&&ie!==Ee&&i.reference[w]/2-(ie<O?U:L)-y[w]/2<0,pe=ae?ie<O?ie-O:ie-j:0;return{[x]:g[x]+pe,data:{[x]:Ee,centerOffset:ie-Ee-pe,...ae&&{alignmentOffset:pe}},reset:ae}}}),Ome=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:a,initialPlacement:o,platform:c,elements:u}=e,{mainAxis:d=!0,crossAxis:p=!0,fallbackPlacements:g,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:y=!0,...S}=af(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const C=of(s),F=$c(o),I=of(o)===o,D=await(c.isRTL==null?void 0:c.isRTL(u.floating)),z=g||(I||!y?[Y2(o)]:Ime(o)),G=w!=="none";!g&&G&&z.push(...Dme(o,y,w,D));const P=[o,...z],M=await Q1(e,S),R=[];let U=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&R.push(M[C]),p){const ie=Nme(s,a,D);R.push(M[ie[0]],M[ie[1]])}if(U=[...U,{placement:s,overflows:R}],!R.every(ie=>ie<=0)){var L,O;const ie=(((L=i.flip)==null?void 0:L.index)||0)+1,Ee=P[ie];if(Ee&&(!(p==="alignment"?F!==$c(Ee):!1)||U.every(de=>$c(de.placement)===F?de.overflows[0]>0:!0)))return{data:{index:ie,overflows:U},reset:{placement:Ee}};let ae=(O=U.filter(pe=>pe.overflows[0]<=0).sort((pe,de)=>pe.overflows[1]-de.overflows[1])[0])==null?void 0:O.placement;if(!ae)switch(x){case"bestFit":{var j;const pe=(j=U.filter(de=>{if(G){const oe=$c(de.placement);return oe===F||oe==="y"}return!0}).map(de=>[de.placement,de.overflows.filter(oe=>oe>0).reduce((oe,ke)=>oe+ke,0)]).sort((de,oe)=>de[1]-oe[1])[0])==null?void 0:j[0];pe&&(ae=pe);break}case"initialPlacement":ae=o;break}if(s!==ae)return{reset:{placement:ae}}}return{}}}};function BM(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function VM(t){return Tme.some(e=>t[e]>=0)}const Bme=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=af(t,e);switch(r){case"referenceHidden":{const i=await Q1(e,{...s,elementContext:"reference"}),a=BM(i,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:VM(a)}}}case"escaped":{const i=await Q1(e,{...s,altBoundary:!0}),a=BM(i,n.floating);return{data:{escapedOffsets:a,escaped:VM(a)}}}default:return{}}}}},lU=new Set(["left","top"]);async function Vme(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),a=of(n),o=Bm(n),c=$c(n)==="y",u=lU.has(a)?-1:1,d=i&&c?-1:1,p=af(e,t);let{mainAxis:g,crossAxis:x,alignmentAxis:w}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return o&&typeof w=="number"&&(x=o==="end"?w*-1:w),c?{x:x*d,y:g*u}:{x:g*u,y:x*d}}const Ume=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:a,middlewareData:o}=e,c=await Vme(e,t);return a===((n=o.offset)==null?void 0:n.placement)&&(r=o.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:a}}}}},jme=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:a=!1,limiter:o={fn:S=>{let{x:C,y:F}=S;return{x:C,y:F}}},...c}=af(t,e),u={x:n,y:r},d=await Q1(e,c),p=$c(of(s)),g=wC(p);let x=u[g],w=u[p];if(i){const S=g==="y"?"top":"left",C=g==="y"?"bottom":"right",F=x+d[S],I=x-d[C];x=ZT(F,x,I)}if(a){const S=p==="y"?"top":"left",C=p==="y"?"bottom":"right",F=w+d[S],I=w-d[C];w=ZT(F,w,I)}const y=o.fn({...e,[g]:x,[p]:w});return{...y,data:{x:y.x-n,y:y.y-r,enabled:{[g]:i,[p]:a}}}}}},qme=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:a}=e,{offset:o=0,mainAxis:c=!0,crossAxis:u=!0}=af(t,e),d={x:n,y:r},p=$c(s),g=wC(p);let x=d[g],w=d[p];const y=af(o,e),S=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(c){const I=g==="y"?"height":"width",D=i.reference[g]-i.floating[I]+S.mainAxis,z=i.reference[g]+i.reference[I]-S.mainAxis;x<D?x=D:x>z&&(x=z)}if(u){var C,F;const I=g==="y"?"width":"height",D=lU.has(of(s)),z=i.reference[p]-i.floating[I]+(D&&((C=a.offset)==null?void 0:C[p])||0)+(D?0:S.crossAxis),G=i.reference[p]+i.reference[I]+(D?0:((F=a.offset)==null?void 0:F[p])||0)-(D?S.crossAxis:0);w<z?w=z:w>G&&(w=G)}return{[g]:x,[p]:w}}}},Hme=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:a,elements:o}=e,{apply:c=()=>{},...u}=af(t,e),d=await Q1(e,u),p=of(s),g=Bm(s),x=$c(s)==="y",{width:w,height:y}=i.floating;let S,C;p==="top"||p==="bottom"?(S=p,C=g===(await(a.isRTL==null?void 0:a.isRTL(o.floating))?"start":"end")?"left":"right"):(C=p,S=g==="end"?"top":"bottom");const F=y-d.top-d.bottom,I=w-d.left-d.right,D=Id(y-d[S],F),z=Id(w-d[C],I),G=!e.middlewareData.shift;let P=D,M=z;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(M=I),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(P=F),G&&!g){const U=Go(d.left,0),L=Go(d.right,0),O=Go(d.top,0),j=Go(d.bottom,0);x?M=w-2*(U!==0||L!==0?U+L:Go(d.left,d.right)):P=y-2*(O!==0||j!==0?O+j:Go(d.top,d.bottom))}await c({...e,availableWidth:M,availableHeight:P});const R=await a.getDimensions(o.floating);return w!==R.width||y!==R.height?{reset:{rects:!0}}:{}}}};function ew(){return typeof window<"u"}function Vm(t){return cU(t)?(t.nodeName||"").toLowerCase():"#document"}function Xo(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function cu(t){var e;return(e=(cU(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function cU(t){return ew()?t instanceof Node||t instanceof Xo(t).Node:!1}function fc(t){return ew()?t instanceof Element||t instanceof Xo(t).Element:!1}function au(t){return ew()?t instanceof HTMLElement||t instanceof Xo(t).HTMLElement:!1}function UM(t){return!ew()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Xo(t).ShadowRoot}const zme=new Set(["inline","contents"]);function Mx(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=dc(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!zme.has(s)}const Gme=new Set(["table","td","th"]);function $me(t){return Gme.has(Vm(t))}const Wme=[":popover-open",":modal"];function tw(t){return Wme.some(e=>{try{return t.matches(e)}catch{return!1}})}const Kme=["transform","translate","scale","rotate","perspective"],Yme=["transform","translate","scale","rotate","perspective","filter"],Xme=["paint","layout","strict","content"];function TC(t){const e=SC(),n=fc(t)?dc(t):t;return Kme.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||Yme.some(r=>(n.willChange||"").includes(r))||Xme.some(r=>(n.contain||"").includes(r))}function Jme(t){let e=kd(t);for(;au(e)&&!ym(e);){if(TC(e))return e;if(tw(e))return null;e=kd(e)}return null}function SC(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Qme=new Set(["html","body","#document"]);function ym(t){return Qme.has(Vm(t))}function dc(t){return Xo(t).getComputedStyle(t)}function nw(t){return fc(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function kd(t){if(Vm(t)==="html")return t;const e=t.assignedSlot||t.parentNode||UM(t)&&t.host||cu(t);return UM(e)?e.host:e}function uU(t){const e=kd(t);return ym(e)?t.ownerDocument?t.ownerDocument.body:t.body:au(e)&&Mx(e)?e:uU(e)}function Z1(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=uU(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),a=Xo(s);if(i){const o=tS(a);return e.concat(a,a.visualViewport||[],Mx(s)?s:[],o&&n?Z1(o):[])}return e.concat(s,Z1(s,[],n))}function tS(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function fU(t){const e=dc(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=au(t),i=s?t.offsetWidth:n,a=s?t.offsetHeight:r,o=K2(n)!==i||K2(r)!==a;return o&&(n=i,r=a),{width:n,height:r,$:o}}function AC(t){return fc(t)?t:t.contextElement}function Yp(t){const e=AC(t);if(!au(e))return eu(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=fU(e);let a=(i?K2(n.width):n.width)/r,o=(i?K2(n.height):n.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!o||!Number.isFinite(o))&&(o=1),{x:a,y:o}}const Zme=eu(0);function dU(t){const e=Xo(t);return!SC()||!e.visualViewport?Zme:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function ege(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Xo(t)?!1:e}function Kh(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=AC(t);let a=eu(1);e&&(r?fc(r)&&(a=Yp(r)):a=Yp(t));const o=ege(i,n,r)?dU(i):eu(0);let c=(s.left+o.x)/a.x,u=(s.top+o.y)/a.y,d=s.width/a.x,p=s.height/a.y;if(i){const g=Xo(i),x=r&&fc(r)?Xo(r):r;let w=g,y=tS(w);for(;y&&r&&x!==w;){const S=Yp(y),C=y.getBoundingClientRect(),F=dc(y),I=C.left+(y.clientLeft+parseFloat(F.paddingLeft))*S.x,D=C.top+(y.clientTop+parseFloat(F.paddingTop))*S.y;c*=S.x,u*=S.y,d*=S.x,p*=S.y,c+=I,u+=D,w=Xo(y),y=tS(w)}}return X2({width:d,height:p,x:c,y:u})}function rw(t,e){const n=nw(t).scrollLeft;return e?e.left+n:Kh(cu(t)).left+n}function hU(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-rw(t,n),s=n.top+e.scrollTop;return{x:r,y:s}}function tge(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",a=cu(r),o=e?tw(e.floating):!1;if(r===a||o&&i)return n;let c={scrollLeft:0,scrollTop:0},u=eu(1);const d=eu(0),p=au(r);if((p||!p&&!i)&&((Vm(r)!=="body"||Mx(a))&&(c=nw(r)),au(r))){const x=Kh(r);u=Yp(r),d.x=x.x+r.clientLeft,d.y=x.y+r.clientTop}const g=a&&!p&&!i?hU(a,c):eu(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+g.x,y:n.y*u.y-c.scrollTop*u.y+d.y+g.y}}function nge(t){return Array.from(t.getClientRects())}function rge(t){const e=cu(t),n=nw(t),r=t.ownerDocument.body,s=Go(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=Go(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+rw(t);const o=-n.scrollTop;return dc(r).direction==="rtl"&&(a+=Go(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:a,y:o}}const jM=25;function sge(t,e){const n=Xo(t),r=cu(t),s=n.visualViewport;let i=r.clientWidth,a=r.clientHeight,o=0,c=0;if(s){i=s.width,a=s.height;const d=SC();(!d||d&&e==="fixed")&&(o=s.offsetLeft,c=s.offsetTop)}const u=rw(r);if(u<=0){const d=r.ownerDocument,p=d.body,g=getComputedStyle(p),x=d.compatMode==="CSS1Compat"&&parseFloat(g.marginLeft)+parseFloat(g.marginRight)||0,w=Math.abs(r.clientWidth-p.clientWidth-x);w<=jM&&(i-=w)}else u<=jM&&(i+=u);return{width:i,height:a,x:o,y:c}}const ige=new Set(["absolute","fixed"]);function age(t,e){const n=Kh(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=au(t)?Yp(t):eu(1),a=t.clientWidth*i.x,o=t.clientHeight*i.y,c=s*i.x,u=r*i.y;return{width:a,height:o,x:c,y:u}}function qM(t,e,n){let r;if(e==="viewport")r=sge(t,n);else if(e==="document")r=rge(cu(t));else if(fc(e))r=age(e,n);else{const s=dU(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return X2(r)}function pU(t,e){const n=kd(t);return n===e||!fc(n)||ym(n)?!1:dc(n).position==="fixed"||pU(n,e)}function oge(t,e){const n=e.get(t);if(n)return n;let r=Z1(t,[],!1).filter(o=>fc(o)&&Vm(o)!=="body"),s=null;const i=dc(t).position==="fixed";let a=i?kd(t):t;for(;fc(a)&&!ym(a);){const o=dc(a),c=TC(a);!c&&o.position==="fixed"&&(s=null),(i?!c&&!s:!c&&o.position==="static"&&!!s&&ige.has(s.position)||Mx(a)&&!c&&pU(t,a))?r=r.filter(d=>d!==a):s=o,a=kd(a)}return e.set(t,r),r}function lge(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const a=[...n==="clippingAncestors"?tw(e)?[]:oge(e,this._c):[].concat(n),r],o=a[0],c=a.reduce((u,d)=>{const p=qM(e,d,s);return u.top=Go(p.top,u.top),u.right=Id(p.right,u.right),u.bottom=Id(p.bottom,u.bottom),u.left=Go(p.left,u.left),u},qM(e,o,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function cge(t){const{width:e,height:n}=fU(t);return{width:e,height:n}}function uge(t,e,n){const r=au(e),s=cu(e),i=n==="fixed",a=Kh(t,!0,i,e);let o={scrollLeft:0,scrollTop:0};const c=eu(0);function u(){c.x=rw(s)}if(r||!r&&!i)if((Vm(e)!=="body"||Mx(s))&&(o=nw(e)),r){const x=Kh(e,!0,i,e);c.x=x.x+e.clientLeft,c.y=x.y+e.clientTop}else s&&u();i&&!r&&s&&u();const d=s&&!r&&!i?hU(s,o):eu(0),p=a.left+o.scrollLeft-c.x-d.x,g=a.top+o.scrollTop-c.y-d.y;return{x:p,y:g,width:a.width,height:a.height}}function n5(t){return dc(t).position==="static"}function HM(t,e){if(!au(t)||dc(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return cu(t)===n&&(n=n.ownerDocument.body),n}function mU(t,e){const n=Xo(t);if(tw(t))return n;if(!au(t)){let s=kd(t);for(;s&&!ym(s);){if(fc(s)&&!n5(s))return s;s=kd(s)}return n}let r=HM(t,e);for(;r&&$me(r)&&n5(r);)r=HM(r,e);return r&&ym(r)&&n5(r)&&!TC(r)?n:r||Jme(t)||n}const fge=async function(t){const e=this.getOffsetParent||mU,n=this.getDimensions,r=await n(t.floating);return{reference:uge(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function dge(t){return dc(t).direction==="rtl"}const hge={convertOffsetParentRelativeRectToViewportRelativeRect:tge,getDocumentElement:cu,getClippingRect:lge,getOffsetParent:mU,getElementRects:fge,getClientRects:nge,getDimensions:cge,getScale:Yp,isElement:fc,isRTL:dge};function gU(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function pge(t,e){let n=null,r;const s=cu(t);function i(){var o;clearTimeout(r),(o=n)==null||o.disconnect(),n=null}function a(o,c){o===void 0&&(o=!1),c===void 0&&(c=1),i();const u=t.getBoundingClientRect(),{left:d,top:p,width:g,height:x}=u;if(o||e(),!g||!x)return;const w=ly(p),y=ly(s.clientWidth-(d+g)),S=ly(s.clientHeight-(p+x)),C=ly(d),I={rootMargin:-w+"px "+-y+"px "+-S+"px "+-C+"px",threshold:Go(0,Id(1,c))||1};let D=!0;function z(G){const P=G[0].intersectionRatio;if(P!==c){if(!D)return a();P?a(!1,P):r=setTimeout(()=>{a(!1,1e-7)},1e3)}P===1&&!gU(u,t.getBoundingClientRect())&&a(),D=!1}try{n=new IntersectionObserver(z,{...I,root:s.ownerDocument})}catch{n=new IntersectionObserver(z,I)}n.observe(t)}return a(!0),i}function mge(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=AC(t),d=s||i?[...u?Z1(u):[],...Z1(e)]:[];d.forEach(C=>{s&&C.addEventListener("scroll",n,{passive:!0}),i&&C.addEventListener("resize",n)});const p=u&&o?pge(u,n):null;let g=-1,x=null;a&&(x=new ResizeObserver(C=>{let[F]=C;F&&F.target===u&&x&&(x.unobserve(e),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var I;(I=x)==null||I.observe(e)})),n()}),u&&!c&&x.observe(u),x.observe(e));let w,y=c?Kh(t):null;c&&S();function S(){const C=Kh(t);y&&!gU(y,C)&&n(),y=C,w=requestAnimationFrame(S)}return n(),()=>{var C;d.forEach(F=>{s&&F.removeEventListener("scroll",n),i&&F.removeEventListener("resize",n)}),p?.(),(C=x)==null||C.disconnect(),x=null,c&&cancelAnimationFrame(w)}}const gge=Ume,xge=jme,vge=Ome,yge=Hme,bge=Bme,zM=Fme,wge=qme,_ge=(t,e,n)=>{const r=new Map,s={platform:hge,...n},i={...s.platform,_c:r};return Lme(t,e,{...s,platform:i})};var Ege=typeof document<"u",Tge=function(){},s2=Ege?J.useLayoutEffect:Tge;function J2(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!J2(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!J2(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function xU(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function GM(t,e){const n=xU(t);return Math.round(e*n)/n}function r5(t){const e=J.useRef(t);return s2(()=>{e.current=t}),e}function Sge(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:a}={},transform:o=!0,whileElementsMounted:c,open:u}=t,[d,p]=J.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[g,x]=J.useState(r);J2(g,r)||x(r);const[w,y]=J.useState(null),[S,C]=J.useState(null),F=J.useCallback(de=>{de!==G.current&&(G.current=de,y(de))},[]),I=J.useCallback(de=>{de!==P.current&&(P.current=de,C(de))},[]),D=i||w,z=a||S,G=J.useRef(null),P=J.useRef(null),M=J.useRef(d),R=c!=null,U=r5(c),L=r5(s),O=r5(u),j=J.useCallback(()=>{if(!G.current||!P.current)return;const de={placement:e,strategy:n,middleware:g};L.current&&(de.platform=L.current),_ge(G.current,P.current,de).then(oe=>{const ke={...oe,isPositioned:O.current!==!1};ie.current&&!J2(M.current,ke)&&(M.current=ke,Wb.flushSync(()=>{p(ke)}))})},[g,e,n,L,O]);s2(()=>{u===!1&&M.current.isPositioned&&(M.current.isPositioned=!1,p(de=>({...de,isPositioned:!1})))},[u]);const ie=J.useRef(!1);s2(()=>(ie.current=!0,()=>{ie.current=!1}),[]),s2(()=>{if(D&&(G.current=D),z&&(P.current=z),D&&z){if(U.current)return U.current(D,z,j);j()}},[D,z,j,U,R]);const Ee=J.useMemo(()=>({reference:G,floating:P,setReference:F,setFloating:I}),[F,I]),ae=J.useMemo(()=>({reference:D,floating:z}),[D,z]),pe=J.useMemo(()=>{const de={position:n,left:0,top:0};if(!ae.floating)return de;const oe=GM(ae.floating,d.x),ke=GM(ae.floating,d.y);return o?{...de,transform:"translate("+oe+"px, "+ke+"px)",...xU(ae.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:oe,top:ke}},[n,o,ae.floating,d.x,d.y]);return J.useMemo(()=>({...d,update:j,refs:Ee,elements:ae,floatingStyles:pe}),[d,j,Ee,ae,pe])}const Age=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?zM({element:r.current,padding:s}).fn(n):{}:r?zM({element:r,padding:s}).fn(n):{}}}},Cge=(t,e)=>({...gge(t),options:[t,e]}),Nge=(t,e)=>({...xge(t),options:[t,e]}),Ige=(t,e)=>({...wge(t),options:[t,e]}),kge=(t,e)=>({...vge(t),options:[t,e]}),Rge=(t,e)=>({...yge(t),options:[t,e]}),Pge=(t,e)=>({...bge(t),options:[t,e]}),Dge=(t,e)=>({...Age(t),options:[t,e]});var Mge="Arrow",vU=J.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return m.jsx(Za.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:m.jsx("polygon",{points:"0,0 30,0 15,10"})})});vU.displayName=Mge;var Lge=vU;function Fge(t){const[e,n]=J.useState(void 0);return Nd(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let a,o;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;a=u.inlineSize,o=u.blockSize}else a=t.offsetWidth,o=t.offsetHeight;n({width:a,height:o})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var CC="Popper",[yU,bU]=Dx(CC),[Oge,wU]=yU(CC),_U=t=>{const{__scopePopper:e,children:n}=t,[r,s]=J.useState(null);return m.jsx(Oge,{scope:e,anchor:r,onAnchorChange:s,children:n})};_U.displayName=CC;var EU="PopperAnchor",TU=J.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=wU(EU,n),a=J.useRef(null),o=Co(e,a),c=J.useRef(null);return J.useEffect(()=>{const u=c.current;c.current=r?.current||a.current,u!==c.current&&i.onAnchorChange(c.current)}),r?null:m.jsx(Za.div,{...s,ref:o})});TU.displayName=EU;var NC="PopperContent",[Bge,Vge]=yU(NC),SU=J.forwardRef((t,e)=>{const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:a=0,arrowPadding:o=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:p="partial",hideWhenDetached:g=!1,updatePositionStrategy:x="optimized",onPlaced:w,...y}=t,S=wU(NC,n),[C,F]=J.useState(null),I=Co(e,ge=>F(ge)),[D,z]=J.useState(null),G=Fge(D),P=G?.width??0,M=G?.height??0,R=r+(i!=="center"?"-"+i:""),U=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},L=Array.isArray(u)?u:[u],O=L.length>0,j={padding:U,boundary:L.filter(jge),altBoundary:O},{refs:ie,floatingStyles:Ee,placement:ae,isPositioned:pe,middlewareData:de}=Sge({strategy:"fixed",placement:R,whileElementsMounted:(...ge)=>mge(...ge,{animationFrame:x==="always"}),elements:{reference:S.anchor},middleware:[Cge({mainAxis:s+M,alignmentAxis:a}),c&&Nge({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?Ige():void 0,...j}),c&&kge({...j}),Rge({...j,apply:({elements:ge,rects:Pe,availableWidth:ee,availableHeight:Re})=>{const{width:He,height:he}=Pe.reference,Se=ge.floating.style;Se.setProperty("--radix-popper-available-width",`${ee}px`),Se.setProperty("--radix-popper-available-height",`${Re}px`),Se.setProperty("--radix-popper-anchor-width",`${He}px`),Se.setProperty("--radix-popper-anchor-height",`${he}px`)}}),D&&Dge({element:D,padding:o}),qge({arrowWidth:P,arrowHeight:M}),g&&Pge({strategy:"referenceHidden",...j})]}),[oe,ke]=NU(ae),ne=sf(w);Nd(()=>{pe&&ne?.()},[pe,ne]);const B=de.arrow?.x,K=de.arrow?.y,Y=de.arrow?.centerOffset!==0,[Q,ue]=J.useState();return Nd(()=>{C&&ue(window.getComputedStyle(C).zIndex)},[C]),m.jsx("div",{ref:ie.setFloating,"data-radix-popper-content-wrapper":"",style:{...Ee,transform:pe?Ee.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Q,"--radix-popper-transform-origin":[de.transformOrigin?.x,de.transformOrigin?.y].join(" "),...de.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:m.jsx(Bge,{scope:n,placedSide:oe,onArrowChange:z,arrowX:B,arrowY:K,shouldHideArrow:Y,children:m.jsx(Za.div,{"data-side":oe,"data-align":ke,...y,ref:I,style:{...y.style,animation:pe?void 0:"none"}})})})});SU.displayName=NC;var AU="PopperArrow",Uge={top:"bottom",right:"left",bottom:"top",left:"right"},CU=J.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=Vge(AU,r),a=Uge[i.placedSide];return m.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:m.jsx(Lge,{...s,ref:n,style:{...s.style,display:"block"}})})});CU.displayName=AU;function jge(t){return t!==null}var qge=t=>({name:"transformOrigin",options:t,fn(e){const{placement:n,rects:r,middlewareData:s}=e,a=s.arrow?.centerOffset!==0,o=a?0:t.arrowWidth,c=a?0:t.arrowHeight,[u,d]=NU(n),p={start:"0%",center:"50%",end:"100%"}[d],g=(s.arrow?.x??0)+o/2,x=(s.arrow?.y??0)+c/2;let w="",y="";return u==="bottom"?(w=a?p:`${g}px`,y=`${-c}px`):u==="top"?(w=a?p:`${g}px`,y=`${r.floating.height+c}px`):u==="right"?(w=`${-c}px`,y=a?p:`${x}px`):u==="left"&&(w=`${r.floating.width+c}px`,y=a?p:`${x}px`),{data:{x:w,y}}}});function NU(t){const[e,n="center"]=t.split("-");return[e,n]}var Hge=_U,zge=TU,Gge=SU,$ge=CU,Wge="Portal",IU=J.forwardRef((t,e)=>{const{container:n,...r}=t,[s,i]=J.useState(!1);Nd(()=>i(!0),[]);const a=n||s&&globalThis?.document?.body;return a?$ie.createPortal(m.jsx(Za.div,{...r,ref:e}),a):null});IU.displayName=Wge;function Kge(t,e){return J.useReducer((n,r)=>e[n][r]??n,t)}var Lx=t=>{const{present:e,children:n}=t,r=Yge(e),s=typeof n=="function"?n({present:r.isPresent}):J.Children.only(n),i=Co(r.ref,Xge(s));return typeof n=="function"||r.isPresent?J.cloneElement(s,{ref:i}):null};Lx.displayName="Presence";function Yge(t){const[e,n]=J.useState(),r=J.useRef(null),s=J.useRef(t),i=J.useRef("none"),a=t?"mounted":"unmounted",[o,c]=Kge(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return J.useEffect(()=>{const u=cy(r.current);i.current=o==="mounted"?u:"none"},[o]),Nd(()=>{const u=r.current,d=s.current;if(d!==t){const g=i.current,x=cy(u);t?c("MOUNT"):x==="none"||u?.display==="none"?c("UNMOUNT"):c(d&&g!==x?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),Nd(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,p=x=>{const y=cy(r.current).includes(CSS.escape(x.animationName));if(x.target===e&&y&&(c("ANIMATION_END"),!s.current)){const S=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=S)})}},g=x=>{x.target===e&&(i.current=cy(r.current))};return e.addEventListener("animationstart",g),e.addEventListener("animationcancel",p),e.addEventListener("animationend",p),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",g),e.removeEventListener("animationcancel",p),e.removeEventListener("animationend",p)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:J.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function cy(t){return t?.animationName||"none"}function Xge(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var s5="rovingFocusGroup.onEntryFocus",Jge={bubbles:!1,cancelable:!0},Fx="RovingFocusGroup",[nS,kU,Qge]=eU(Fx),[Zge,RU]=Dx(Fx,[Qge]),[e1e,t1e]=Zge(Fx),PU=J.forwardRef((t,e)=>m.jsx(nS.Provider,{scope:t.__scopeRovingFocusGroup,children:m.jsx(nS.Slot,{scope:t.__scopeRovingFocusGroup,children:m.jsx(n1e,{...t,ref:e})})}));PU.displayName=Fx;var n1e=J.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:a,defaultCurrentTabStopId:o,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...p}=t,g=J.useRef(null),x=Co(e,g),w=tU(i),[y,S]=QV({prop:a,defaultProp:o??null,onChange:c,caller:Fx}),[C,F]=J.useState(!1),I=sf(u),D=kU(n),z=J.useRef(!1),[G,P]=J.useState(0);return J.useEffect(()=>{const M=g.current;if(M)return M.addEventListener(s5,I),()=>M.removeEventListener(s5,I)},[I]),m.jsx(e1e,{scope:n,orientation:r,dir:w,loop:s,currentTabStopId:y,onItemFocus:J.useCallback(M=>S(M),[S]),onItemShiftTab:J.useCallback(()=>F(!0),[]),onFocusableItemAdd:J.useCallback(()=>P(M=>M+1),[]),onFocusableItemRemove:J.useCallback(()=>P(M=>M-1),[]),children:m.jsx(Za.div,{tabIndex:C||G===0?-1:0,"data-orientation":r,...p,ref:x,style:{outline:"none",...t.style},onMouseDown:Tr(t.onMouseDown,()=>{z.current=!0}),onFocus:Tr(t.onFocus,M=>{const R=!z.current;if(M.target===M.currentTarget&&R&&!C){const U=new CustomEvent(s5,Jge);if(M.currentTarget.dispatchEvent(U),!U.defaultPrevented){const L=D().filter(ae=>ae.focusable),O=L.find(ae=>ae.active),j=L.find(ae=>ae.id===y),Ee=[O,j,...L].filter(Boolean).map(ae=>ae.ref.current);LU(Ee,d)}}z.current=!1}),onBlur:Tr(t.onBlur,()=>F(!1))})})}),DU="RovingFocusGroupItem",MU=J.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,children:a,...o}=t,c=QT(),u=i||c,d=t1e(DU,n),p=d.currentTabStopId===u,g=kU(n),{onFocusableItemAdd:x,onFocusableItemRemove:w,currentTabStopId:y}=d;return J.useEffect(()=>{if(r)return x(),()=>w()},[r,x,w]),m.jsx(nS.ItemSlot,{scope:n,id:u,focusable:r,active:s,children:m.jsx(Za.span,{tabIndex:p?0:-1,"data-orientation":d.orientation,...o,ref:e,onMouseDown:Tr(t.onMouseDown,S=>{r?d.onItemFocus(u):S.preventDefault()}),onFocus:Tr(t.onFocus,()=>d.onItemFocus(u)),onKeyDown:Tr(t.onKeyDown,S=>{if(S.key==="Tab"&&S.shiftKey){d.onItemShiftTab();return}if(S.target!==S.currentTarget)return;const C=i1e(S,d.orientation,d.dir);if(C!==void 0){if(S.metaKey||S.ctrlKey||S.altKey||S.shiftKey)return;S.preventDefault();let I=g().filter(D=>D.focusable).map(D=>D.ref.current);if(C==="last")I.reverse();else if(C==="prev"||C==="next"){C==="prev"&&I.reverse();const D=I.indexOf(S.currentTarget);I=d.loop?a1e(I,D+1):I.slice(D+1)}setTimeout(()=>LU(I))}}),children:typeof a=="function"?a({isCurrentTabStop:p,hasTabStop:y!=null}):a})})});MU.displayName=DU;var r1e={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function s1e(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function i1e(t,e,n){const r=s1e(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return r1e[r]}function LU(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function a1e(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var o1e=PU,l1e=MU;function c1e(t){const e=u1e(t),n=J.forwardRef((r,s)=>{const{children:i,...a}=r,o=J.Children.toArray(i),c=o.find(d1e);if(c){const u=c.props.children,d=o.map(p=>p===c?J.Children.count(u)>1?J.Children.only(null):J.isValidElement(u)?u.props.children:null:p);return m.jsx(e,{...a,ref:s,children:J.isValidElement(u)?J.cloneElement(u,void 0,d):null})}return m.jsx(e,{...a,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function u1e(t){const e=J.forwardRef((n,r)=>{const{children:s,...i}=n;if(J.isValidElement(s)){const a=p1e(s),o=h1e(i,s.props);return s.type!==J.Fragment&&(o.ref=r?Om(r,a):a),J.cloneElement(s,o)}return J.Children.count(s)>1?J.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var f1e=Symbol("radix.slottable");function d1e(t){return J.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===f1e}function h1e(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...o)=>{const c=i(...o);return s(...o),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function p1e(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var m1e=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},op=new WeakMap,uy=new WeakMap,fy={},i5=0,FU=function(t){return t&&(t.host||FU(t.parentNode))},g1e=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=FU(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},x1e=function(t,e,n,r){var s=g1e(e,Array.isArray(t)?t:[t]);fy[n]||(fy[n]=new WeakMap);var i=fy[n],a=[],o=new Set,c=new Set(s),u=function(p){!p||o.has(p)||(o.add(p),u(p.parentNode))};s.forEach(u);var d=function(p){!p||c.has(p)||Array.prototype.forEach.call(p.children,function(g){if(o.has(g))d(g);else try{var x=g.getAttribute(r),w=x!==null&&x!=="false",y=(op.get(g)||0)+1,S=(i.get(g)||0)+1;op.set(g,y),i.set(g,S),a.push(g),y===1&&w&&uy.set(g,!0),S===1&&g.setAttribute(n,"true"),w||g.setAttribute(r,"true")}catch(C){console.error("aria-hidden: cannot operate on ",g,C)}})};return d(e),o.clear(),i5++,function(){a.forEach(function(p){var g=op.get(p)-1,x=i.get(p)-1;op.set(p,g),i.set(p,x),g||(uy.has(p)||p.removeAttribute(r),uy.delete(p)),x||p.removeAttribute(n)}),i5--,i5||(op=new WeakMap,op=new WeakMap,uy=new WeakMap,fy={})}},v1e=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=m1e(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),x1e(r,s,n,"aria-hidden")):function(){return null}},jc=function(){return jc=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},jc.apply(this,arguments)};function OU(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function y1e(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var i2="right-scroll-bar-position",a2="width-before-scroll-bar",b1e="with-scroll-bars-hidden",w1e="--removed-body-scroll-bar-size";function a5(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function _1e(t,e){var n=J.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var E1e=typeof window<"u"?J.useLayoutEffect:J.useEffect,$M=new WeakMap;function T1e(t,e){var n=_1e(null,function(r){return t.forEach(function(s){return a5(s,r)})});return E1e(function(){var r=$M.get(n);if(r){var s=new Set(r),i=new Set(t),a=n.current;s.forEach(function(o){i.has(o)||a5(o,null)}),i.forEach(function(o){s.has(o)||a5(o,a)})}$M.set(n,t)},[t]),n}function S1e(t){return t}function A1e(t,e){e===void 0&&(e=S1e);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var a=e(i,r);return n.push(a),function(){n=n.filter(function(o){return o!==a})}},assignSyncMedium:function(i){for(r=!0;n.length;){var a=n;n=[],a.forEach(i)}n={push:function(o){return i(o)},filter:function(){return n}}},assignMedium:function(i){r=!0;var a=[];if(n.length){var o=n;n=[],o.forEach(i),a=n}var c=function(){var d=a;a=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){a.push(d),u()},filter:function(d){return a=a.filter(d),n}}}};return s}function C1e(t){t===void 0&&(t={});var e=A1e(null);return e.options=jc({async:!0,ssr:!1},t),e}var BU=function(t){var e=t.sideCar,n=OU(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return J.createElement(r,jc({},n))};BU.isSideCarExport=!0;function N1e(t,e){return t.useMedium(e),BU}var VU=C1e(),o5=function(){},sw=J.forwardRef(function(t,e){var n=J.useRef(null),r=J.useState({onScrollCapture:o5,onWheelCapture:o5,onTouchMoveCapture:o5}),s=r[0],i=r[1],a=t.forwardProps,o=t.children,c=t.className,u=t.removeScrollBar,d=t.enabled,p=t.shards,g=t.sideCar,x=t.noRelative,w=t.noIsolation,y=t.inert,S=t.allowPinchZoom,C=t.as,F=C===void 0?"div":C,I=t.gapMode,D=OU(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),z=g,G=T1e([n,e]),P=jc(jc({},D),s);return J.createElement(J.Fragment,null,d&&J.createElement(z,{sideCar:VU,removeScrollBar:u,shards:p,noRelative:x,noIsolation:w,inert:y,setCallbacks:i,allowPinchZoom:!!S,lockRef:n,gapMode:I}),a?J.cloneElement(J.Children.only(o),jc(jc({},P),{ref:G})):J.createElement(F,jc({},P,{className:c,ref:G}),o))});sw.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};sw.classNames={fullWidth:a2,zeroRight:i2};var I1e=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function k1e(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=I1e();return e&&t.setAttribute("nonce",e),t}function R1e(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function P1e(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var D1e=function(){var t=0,e=null;return{add:function(n){t==0&&(e=k1e())&&(R1e(e,n),P1e(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},M1e=function(){var t=D1e();return function(e,n){J.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},UU=function(){var t=M1e(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},L1e={left:0,top:0,right:0,gap:0},l5=function(t){return parseInt(t||"",10)||0},F1e=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[l5(n),l5(r),l5(s)]},O1e=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return L1e;var e=F1e(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},B1e=UU(),Xp="data-scroll-locked",V1e=function(t,e,n,r){var s=t.left,i=t.top,a=t.right,o=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(b1e,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(o,"px ").concat(r,`;
  }
  body[`).concat(Xp,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(o,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(i2,` {
    right: `).concat(o,"px ").concat(r,`;
  }
  
  .`).concat(a2,` {
    margin-right: `).concat(o,"px ").concat(r,`;
  }
  
  .`).concat(i2," .").concat(i2,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(a2," .").concat(a2,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Xp,`] {
    `).concat(w1e,": ").concat(o,`px;
  }
`)},WM=function(){var t=parseInt(document.body.getAttribute(Xp)||"0",10);return isFinite(t)?t:0},U1e=function(){J.useEffect(function(){return document.body.setAttribute(Xp,(WM()+1).toString()),function(){var t=WM()-1;t<=0?document.body.removeAttribute(Xp):document.body.setAttribute(Xp,t.toString())}},[])},j1e=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;U1e();var i=J.useMemo(function(){return O1e(s)},[s]);return J.createElement(B1e,{styles:V1e(i,!e,s,n?"":"!important")})},rS=!1;if(typeof window<"u")try{var dy=Object.defineProperty({},"passive",{get:function(){return rS=!0,!0}});window.addEventListener("test",dy,dy),window.removeEventListener("test",dy,dy)}catch{rS=!1}var lp=rS?{passive:!1}:!1,q1e=function(t){return t.tagName==="TEXTAREA"},jU=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!q1e(t)&&n[e]==="visible")},H1e=function(t){return jU(t,"overflowY")},z1e=function(t){return jU(t,"overflowX")},KM=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=qU(t,r);if(s){var i=HU(t,r),a=i[1],o=i[2];if(a>o)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},G1e=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},$1e=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},qU=function(t,e){return t==="v"?H1e(e):z1e(e)},HU=function(t,e){return t==="v"?G1e(e):$1e(e)},W1e=function(t,e){return t==="h"&&e==="rtl"?-1:1},K1e=function(t,e,n,r,s){var i=W1e(t,window.getComputedStyle(e).direction),a=i*r,o=n.target,c=e.contains(o),u=!1,d=a>0,p=0,g=0;do{if(!o)break;var x=HU(t,o),w=x[0],y=x[1],S=x[2],C=y-S-i*w;(w||C)&&qU(t,o)&&(p+=C,g+=w);var F=o.parentNode;o=F&&F.nodeType===Node.DOCUMENT_FRAGMENT_NODE?F.host:F}while(!c&&o!==document.body||c&&(e.contains(o)||e===o));return(d&&Math.abs(p)<1||!d&&Math.abs(g)<1)&&(u=!0),u},hy=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},YM=function(t){return[t.deltaX,t.deltaY]},XM=function(t){return t&&"current"in t?t.current:t},Y1e=function(t,e){return t[0]===e[0]&&t[1]===e[1]},X1e=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},J1e=0,cp=[];function Q1e(t){var e=J.useRef([]),n=J.useRef([0,0]),r=J.useRef(),s=J.useState(J1e++)[0],i=J.useState(UU)[0],a=J.useRef(t);J.useEffect(function(){a.current=t},[t]),J.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var y=y1e([t.lockRef.current],(t.shards||[]).map(XM),!0).filter(Boolean);return y.forEach(function(S){return S.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),y.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var o=J.useCallback(function(y,S){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!a.current.allowPinchZoom;var C=hy(y),F=n.current,I="deltaX"in y?y.deltaX:F[0]-C[0],D="deltaY"in y?y.deltaY:F[1]-C[1],z,G=y.target,P=Math.abs(I)>Math.abs(D)?"h":"v";if("touches"in y&&P==="h"&&G.type==="range")return!1;var M=window.getSelection(),R=M&&M.anchorNode,U=R?R===G||R.contains(G):!1;if(U)return!1;var L=KM(P,G);if(!L)return!0;if(L?z=P:(z=P==="v"?"h":"v",L=KM(P,G)),!L)return!1;if(!r.current&&"changedTouches"in y&&(I||D)&&(r.current=z),!z)return!0;var O=r.current||z;return K1e(O,S,y,O==="h"?I:D)},[]),c=J.useCallback(function(y){var S=y;if(!(!cp.length||cp[cp.length-1]!==i)){var C="deltaY"in S?YM(S):hy(S),F=e.current.filter(function(z){return z.name===S.type&&(z.target===S.target||S.target===z.shadowParent)&&Y1e(z.delta,C)})[0];if(F&&F.should){S.cancelable&&S.preventDefault();return}if(!F){var I=(a.current.shards||[]).map(XM).filter(Boolean).filter(function(z){return z.contains(S.target)}),D=I.length>0?o(S,I[0]):!a.current.noIsolation;D&&S.cancelable&&S.preventDefault()}}},[]),u=J.useCallback(function(y,S,C,F){var I={name:y,delta:S,target:C,should:F,shadowParent:Z1e(C)};e.current.push(I),setTimeout(function(){e.current=e.current.filter(function(D){return D!==I})},1)},[]),d=J.useCallback(function(y){n.current=hy(y),r.current=void 0},[]),p=J.useCallback(function(y){u(y.type,YM(y),y.target,o(y,t.lockRef.current))},[]),g=J.useCallback(function(y){u(y.type,hy(y),y.target,o(y,t.lockRef.current))},[]);J.useEffect(function(){return cp.push(i),t.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:g}),document.addEventListener("wheel",c,lp),document.addEventListener("touchmove",c,lp),document.addEventListener("touchstart",d,lp),function(){cp=cp.filter(function(y){return y!==i}),document.removeEventListener("wheel",c,lp),document.removeEventListener("touchmove",c,lp),document.removeEventListener("touchstart",d,lp)}},[]);var x=t.removeScrollBar,w=t.inert;return J.createElement(J.Fragment,null,w?J.createElement(i,{styles:X1e(s)}):null,x?J.createElement(j1e,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function Z1e(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const exe=N1e(VU,Q1e);var zU=J.forwardRef(function(t,e){return J.createElement(sw,jc({},t,{ref:e,sideCar:exe}))});zU.classNames=sw.classNames;var sS=["Enter"," "],txe=["ArrowDown","PageUp","Home"],GU=["ArrowUp","PageDown","End"],nxe=[...txe,...GU],rxe={ltr:[...sS,"ArrowRight"],rtl:[...sS,"ArrowLeft"]},sxe={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Ox="Menu",[ex,ixe,axe]=eU(Ox),[l0,$U]=Dx(Ox,[axe,bU,RU]),iw=bU(),WU=RU(),[oxe,c0]=l0(Ox),[lxe,Bx]=l0(Ox),KU=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:s,onOpenChange:i,modal:a=!0}=t,o=iw(e),[c,u]=J.useState(null),d=J.useRef(!1),p=sf(i),g=tU(s);return J.useEffect(()=>{const x=()=>{d.current=!0,document.addEventListener("pointerdown",w,{capture:!0,once:!0}),document.addEventListener("pointermove",w,{capture:!0,once:!0})},w=()=>d.current=!1;return document.addEventListener("keydown",x,{capture:!0}),()=>{document.removeEventListener("keydown",x,{capture:!0}),document.removeEventListener("pointerdown",w,{capture:!0}),document.removeEventListener("pointermove",w,{capture:!0})}},[]),m.jsx(Hge,{...o,children:m.jsx(oxe,{scope:e,open:n,onOpenChange:p,content:c,onContentChange:u,children:m.jsx(lxe,{scope:e,onClose:J.useCallback(()=>p(!1),[p]),isUsingKeyboardRef:d,dir:g,modal:a,children:r})})})};KU.displayName=Ox;var cxe="MenuAnchor",IC=J.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=iw(n);return m.jsx(zge,{...s,...r,ref:e})});IC.displayName=cxe;var kC="MenuPortal",[uxe,YU]=l0(kC,{forceMount:void 0}),XU=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:s}=t,i=c0(kC,e);return m.jsx(uxe,{scope:e,forceMount:n,children:m.jsx(Lx,{present:n||i.open,children:m.jsx(IU,{asChild:!0,container:s,children:r})})})};XU.displayName=kC;var Cl="MenuContent",[fxe,RC]=l0(Cl),JU=J.forwardRef((t,e)=>{const n=YU(Cl,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=c0(Cl,t.__scopeMenu),a=Bx(Cl,t.__scopeMenu);return m.jsx(ex.Provider,{scope:t.__scopeMenu,children:m.jsx(Lx,{present:r||i.open,children:m.jsx(ex.Slot,{scope:t.__scopeMenu,children:a.modal?m.jsx(dxe,{...s,ref:e}):m.jsx(hxe,{...s,ref:e})})})})}),dxe=J.forwardRef((t,e)=>{const n=c0(Cl,t.__scopeMenu),r=J.useRef(null),s=Co(e,r);return J.useEffect(()=>{const i=r.current;if(i)return v1e(i)},[]),m.jsx(PC,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Tr(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),hxe=J.forwardRef((t,e)=>{const n=c0(Cl,t.__scopeMenu);return m.jsx(PC,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),pxe=c1e("MenuContent.ScrollLock"),PC=J.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:o,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:p,onInteractOutside:g,onDismiss:x,disableOutsideScroll:w,...y}=t,S=c0(Cl,n),C=Bx(Cl,n),F=iw(n),I=WU(n),D=ixe(n),[z,G]=J.useState(null),P=J.useRef(null),M=Co(e,P,S.onContentChange),R=J.useRef(0),U=J.useRef(""),L=J.useRef(0),O=J.useRef(null),j=J.useRef("right"),ie=J.useRef(0),Ee=w?zU:J.Fragment,ae=w?{as:pxe,allowPinchZoom:!0}:void 0,pe=oe=>{const ke=U.current+oe,ne=D().filter(ge=>!ge.disabled),B=document.activeElement,K=ne.find(ge=>ge.ref.current===B)?.textValue,Y=ne.map(ge=>ge.textValue),Q=Axe(Y,ke,K),ue=ne.find(ge=>ge.textValue===Q)?.ref.current;(function ge(Pe){U.current=Pe,window.clearTimeout(R.current),Pe!==""&&(R.current=window.setTimeout(()=>ge(""),1e3))})(ke),ue&&setTimeout(()=>ue.focus())};J.useEffect(()=>()=>window.clearTimeout(R.current),[]),pme();const de=J.useCallback(oe=>j.current===O.current?.side&&Nxe(oe,O.current?.area),[]);return m.jsx(fxe,{scope:n,searchRef:U,onItemEnter:J.useCallback(oe=>{de(oe)&&oe.preventDefault()},[de]),onItemLeave:J.useCallback(oe=>{de(oe)||(P.current?.focus(),G(null))},[de]),onTriggerLeave:J.useCallback(oe=>{de(oe)&&oe.preventDefault()},[de]),pointerGraceTimerRef:L,onPointerGraceIntentChange:J.useCallback(oe=>{O.current=oe},[]),children:m.jsx(Ee,{...ae,children:m.jsx(iU,{asChild:!0,trapped:s,onMountAutoFocus:Tr(i,oe=>{oe.preventDefault(),P.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:m.jsx(rU,{asChild:!0,disableOutsidePointerEvents:o,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:p,onInteractOutside:g,onDismiss:x,children:m.jsx(o1e,{asChild:!0,...I,dir:C.dir,orientation:"vertical",loop:r,currentTabStopId:z,onCurrentTabStopIdChange:G,onEntryFocus:Tr(c,oe=>{C.isUsingKeyboardRef.current||oe.preventDefault()}),preventScrollOnEntryFocus:!0,children:m.jsx(Gge,{role:"menu","aria-orientation":"vertical","data-state":hj(S.open),"data-radix-menu-content":"",dir:C.dir,...F,...y,ref:M,style:{outline:"none",...y.style},onKeyDown:Tr(y.onKeyDown,oe=>{const ne=oe.target.closest("[data-radix-menu-content]")===oe.currentTarget,B=oe.ctrlKey||oe.altKey||oe.metaKey,K=oe.key.length===1;ne&&(oe.key==="Tab"&&oe.preventDefault(),!B&&K&&pe(oe.key));const Y=P.current;if(oe.target!==Y||!nxe.includes(oe.key))return;oe.preventDefault();const ue=D().filter(ge=>!ge.disabled).map(ge=>ge.ref.current);GU.includes(oe.key)&&ue.reverse(),Txe(ue)}),onBlur:Tr(t.onBlur,oe=>{oe.currentTarget.contains(oe.target)||(window.clearTimeout(R.current),U.current="")}),onPointerMove:Tr(t.onPointerMove,tx(oe=>{const ke=oe.target,ne=ie.current!==oe.clientX;if(oe.currentTarget.contains(ke)&&ne){const B=oe.clientX>ie.current?"right":"left";j.current=B,ie.current=oe.clientX}}))})})})})})})});JU.displayName=Cl;var mxe="MenuGroup",DC=J.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return m.jsx(Za.div,{role:"group",...r,ref:e})});DC.displayName=mxe;var gxe="MenuLabel",QU=J.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return m.jsx(Za.div,{...r,ref:e})});QU.displayName=gxe;var Q2="MenuItem",JM="menu.itemSelect",aw=J.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...s}=t,i=J.useRef(null),a=Bx(Q2,t.__scopeMenu),o=RC(Q2,t.__scopeMenu),c=Co(e,i),u=J.useRef(!1),d=()=>{const p=i.current;if(!n&&p){const g=new CustomEvent(JM,{bubbles:!0,cancelable:!0});p.addEventListener(JM,x=>r?.(x),{once:!0}),ZV(p,g),g.defaultPrevented?u.current=!1:a.onClose()}};return m.jsx(ZU,{...s,ref:c,disabled:n,onClick:Tr(t.onClick,d),onPointerDown:p=>{t.onPointerDown?.(p),u.current=!0},onPointerUp:Tr(t.onPointerUp,p=>{u.current||p.currentTarget?.click()}),onKeyDown:Tr(t.onKeyDown,p=>{const g=o.searchRef.current!=="";n||g&&p.key===" "||sS.includes(p.key)&&(p.currentTarget.click(),p.preventDefault())})})});aw.displayName=Q2;var ZU=J.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...i}=t,a=RC(Q2,n),o=WU(n),c=J.useRef(null),u=Co(e,c),[d,p]=J.useState(!1),[g,x]=J.useState("");return J.useEffect(()=>{const w=c.current;w&&x((w.textContent??"").trim())},[i.children]),m.jsx(ex.ItemSlot,{scope:n,disabled:r,textValue:s??g,children:m.jsx(l1e,{asChild:!0,...o,focusable:!r,children:m.jsx(Za.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:u,onPointerMove:Tr(t.onPointerMove,tx(w=>{r?a.onItemLeave(w):(a.onItemEnter(w),w.defaultPrevented||w.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Tr(t.onPointerLeave,tx(w=>a.onItemLeave(w))),onFocus:Tr(t.onFocus,()=>p(!0)),onBlur:Tr(t.onBlur,()=>p(!1))})})})}),xxe="MenuCheckboxItem",ej=J.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...s}=t;return m.jsx(ij,{scope:t.__scopeMenu,checked:n,children:m.jsx(aw,{role:"menuitemcheckbox","aria-checked":Z2(n)?"mixed":n,...s,ref:e,"data-state":LC(n),onSelect:Tr(s.onSelect,()=>r?.(Z2(n)?!0:!n),{checkForDefaultPrevented:!1})})})});ej.displayName=xxe;var tj="MenuRadioGroup",[vxe,yxe]=l0(tj,{value:void 0,onValueChange:()=>{}}),nj=J.forwardRef((t,e)=>{const{value:n,onValueChange:r,...s}=t,i=sf(r);return m.jsx(vxe,{scope:t.__scopeMenu,value:n,onValueChange:i,children:m.jsx(DC,{...s,ref:e})})});nj.displayName=tj;var rj="MenuRadioItem",sj=J.forwardRef((t,e)=>{const{value:n,...r}=t,s=yxe(rj,t.__scopeMenu),i=n===s.value;return m.jsx(ij,{scope:t.__scopeMenu,checked:i,children:m.jsx(aw,{role:"menuitemradio","aria-checked":i,...r,ref:e,"data-state":LC(i),onSelect:Tr(r.onSelect,()=>s.onValueChange?.(n),{checkForDefaultPrevented:!1})})})});sj.displayName=rj;var MC="MenuItemIndicator",[ij,bxe]=l0(MC,{checked:!1}),aj=J.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...s}=t,i=bxe(MC,n);return m.jsx(Lx,{present:r||Z2(i.checked)||i.checked===!0,children:m.jsx(Za.span,{...s,ref:e,"data-state":LC(i.checked)})})});aj.displayName=MC;var wxe="MenuSeparator",oj=J.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return m.jsx(Za.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});oj.displayName=wxe;var _xe="MenuArrow",lj=J.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=iw(n);return m.jsx($ge,{...s,...r,ref:e})});lj.displayName=_xe;var Exe="MenuSub",[SAe,cj]=l0(Exe),Yg="MenuSubTrigger",uj=J.forwardRef((t,e)=>{const n=c0(Yg,t.__scopeMenu),r=Bx(Yg,t.__scopeMenu),s=cj(Yg,t.__scopeMenu),i=RC(Yg,t.__scopeMenu),a=J.useRef(null),{pointerGraceTimerRef:o,onPointerGraceIntentChange:c}=i,u={__scopeMenu:t.__scopeMenu},d=J.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return J.useEffect(()=>d,[d]),J.useEffect(()=>{const p=o.current;return()=>{window.clearTimeout(p),c(null)}},[o,c]),m.jsx(IC,{asChild:!0,...u,children:m.jsx(ZU,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":hj(n.open),...t,ref:Om(e,s.onTriggerChange),onClick:p=>{t.onClick?.(p),!(t.disabled||p.defaultPrevented)&&(p.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Tr(t.onPointerMove,tx(p=>{i.onItemEnter(p),!p.defaultPrevented&&!t.disabled&&!n.open&&!a.current&&(i.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:Tr(t.onPointerLeave,tx(p=>{d();const g=n.content?.getBoundingClientRect();if(g){const x=n.content?.dataset.side,w=x==="right",y=w?-5:5,S=g[w?"left":"right"],C=g[w?"right":"left"];i.onPointerGraceIntentChange({area:[{x:p.clientX+y,y:p.clientY},{x:S,y:g.top},{x:C,y:g.top},{x:C,y:g.bottom},{x:S,y:g.bottom}],side:x}),window.clearTimeout(o.current),o.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(p),p.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:Tr(t.onKeyDown,p=>{const g=i.searchRef.current!=="";t.disabled||g&&p.key===" "||rxe[r.dir].includes(p.key)&&(n.onOpenChange(!0),n.content?.focus(),p.preventDefault())})})})});uj.displayName=Yg;var fj="MenuSubContent",dj=J.forwardRef((t,e)=>{const n=YU(Cl,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=c0(Cl,t.__scopeMenu),a=Bx(Cl,t.__scopeMenu),o=cj(fj,t.__scopeMenu),c=J.useRef(null),u=Co(e,c);return m.jsx(ex.Provider,{scope:t.__scopeMenu,children:m.jsx(Lx,{present:r||i.open,children:m.jsx(ex.Slot,{scope:t.__scopeMenu,children:m.jsx(PC,{id:o.contentId,"aria-labelledby":o.triggerId,...s,ref:u,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{a.isUsingKeyboardRef.current&&c.current?.focus(),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:Tr(t.onFocusOutside,d=>{d.target!==o.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:Tr(t.onEscapeKeyDown,d=>{a.onClose(),d.preventDefault()}),onKeyDown:Tr(t.onKeyDown,d=>{const p=d.currentTarget.contains(d.target),g=sxe[a.dir].includes(d.key);p&&g&&(i.onOpenChange(!1),o.trigger?.focus(),d.preventDefault())})})})})})});dj.displayName=fj;function hj(t){return t?"open":"closed"}function Z2(t){return t==="indeterminate"}function LC(t){return Z2(t)?"indeterminate":t?"checked":"unchecked"}function Txe(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function Sxe(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function Axe(t,e,n){const s=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let a=Sxe(t,Math.max(i,0));s.length===1&&(a=a.filter(u=>u!==n));const c=a.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function Cxe(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,a=e.length-1;i<e.length;a=i++){const o=e[i],c=e[a],u=o.x,d=o.y,p=c.x,g=c.y;d>r!=g>r&&n<(p-u)*(r-d)/(g-d)+u&&(s=!s)}return s}function Nxe(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return Cxe(n,e)}function tx(t){return e=>e.pointerType==="mouse"?t(e):void 0}var Ixe=KU,kxe=IC,Rxe=XU,Pxe=JU,Dxe=DC,Mxe=QU,Lxe=aw,Fxe=ej,Oxe=nj,Bxe=sj,Vxe=aj,Uxe=oj,jxe=lj,qxe=uj,Hxe=dj,ow="DropdownMenu",[zxe]=Dx(ow,[$U]),eo=$U(),[Gxe,pj]=zxe(ow),mj=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:s,defaultOpen:i,onOpenChange:a,modal:o=!0}=t,c=eo(e),u=J.useRef(null),[d,p]=QV({prop:s,defaultProp:i??!1,onChange:a,caller:ow});return m.jsx(Gxe,{scope:e,triggerId:QT(),triggerRef:u,contentId:QT(),open:d,onOpenChange:p,onOpenToggle:J.useCallback(()=>p(g=>!g),[p]),modal:o,children:m.jsx(Ixe,{...c,open:d,onOpenChange:p,dir:r,modal:o,children:n})})};mj.displayName=ow;var gj="DropdownMenuTrigger",xj=J.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=t,i=pj(gj,n),a=eo(n);return m.jsx(kxe,{asChild:!0,...a,children:m.jsx(Za.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:Om(e,i.triggerRef),onPointerDown:Tr(t.onPointerDown,o=>{!r&&o.button===0&&o.ctrlKey===!1&&(i.onOpenToggle(),i.open||o.preventDefault())}),onKeyDown:Tr(t.onKeyDown,o=>{r||(["Enter"," "].includes(o.key)&&i.onOpenToggle(),o.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(o.key)&&o.preventDefault())})})})});xj.displayName=gj;var $xe="DropdownMenuPortal",vj=t=>{const{__scopeDropdownMenu:e,...n}=t,r=eo(e);return m.jsx(Rxe,{...r,...n})};vj.displayName=$xe;var yj="DropdownMenuContent",bj=J.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=pj(yj,n),i=eo(n),a=J.useRef(!1);return m.jsx(Pxe,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...r,ref:e,onCloseAutoFocus:Tr(t.onCloseAutoFocus,o=>{a.current||s.triggerRef.current?.focus(),a.current=!1,o.preventDefault()}),onInteractOutside:Tr(t.onInteractOutside,o=>{const c=o.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!s.modal||d)&&(a.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});bj.displayName=yj;var Wxe="DropdownMenuGroup",Kxe=J.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=eo(n);return m.jsx(Dxe,{...s,...r,ref:e})});Kxe.displayName=Wxe;var Yxe="DropdownMenuLabel",wj=J.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=eo(n);return m.jsx(Mxe,{...s,...r,ref:e})});wj.displayName=Yxe;var Xxe="DropdownMenuItem",_j=J.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=eo(n);return m.jsx(Lxe,{...s,...r,ref:e})});_j.displayName=Xxe;var Jxe="DropdownMenuCheckboxItem",Ej=J.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=eo(n);return m.jsx(Fxe,{...s,...r,ref:e})});Ej.displayName=Jxe;var Qxe="DropdownMenuRadioGroup",Zxe=J.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=eo(n);return m.jsx(Oxe,{...s,...r,ref:e})});Zxe.displayName=Qxe;var eve="DropdownMenuRadioItem",Tj=J.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=eo(n);return m.jsx(Bxe,{...s,...r,ref:e})});Tj.displayName=eve;var tve="DropdownMenuItemIndicator",Sj=J.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=eo(n);return m.jsx(Vxe,{...s,...r,ref:e})});Sj.displayName=tve;var nve="DropdownMenuSeparator",Aj=J.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=eo(n);return m.jsx(Uxe,{...s,...r,ref:e})});Aj.displayName=nve;var rve="DropdownMenuArrow",sve=J.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=eo(n);return m.jsx(jxe,{...s,...r,ref:e})});sve.displayName=rve;var ive="DropdownMenuSubTrigger",Cj=J.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=eo(n);return m.jsx(qxe,{...s,...r,ref:e})});Cj.displayName=ive;var ave="DropdownMenuSubContent",Nj=J.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=eo(n);return m.jsx(Hxe,{...s,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Nj.displayName=ave;var ove=mj,lve=xj,cve=vj,Ij=bj,kj=wj,Rj=_j,Pj=Ej,Dj=Tj,Mj=Sj,Lj=Aj,Fj=Cj,Oj=Nj;function Bj(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=Bj(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function uve(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=Bj(t))&&(r&&(r+=" "),r+=e);return r}const fve=(t,e)=>{const n=new Array(t.length+e.length);for(let r=0;r<t.length;r++)n[r]=t[r];for(let r=0;r<e.length;r++)n[t.length+r]=e[r];return n},dve=(t,e)=>({classGroupId:t,validator:e}),Vj=(t=new Map,e=null,n)=>({nextPart:t,validators:e,classGroupId:n}),eb="-",QM=[],hve="arbitrary..",pve=t=>{const e=gve(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:a=>{if(a.startsWith("[")&&a.endsWith("]"))return mve(a);const o=a.split(eb),c=o[0]===""&&o.length>1?1:0;return Uj(o,c,e)},getConflictingClassGroupIds:(a,o)=>{if(o){const c=r[a],u=n[a];return c?u?fve(u,c):c:u||QM}return n[a]||QM}}},Uj=(t,e,n)=>{if(t.length-e===0)return n.classGroupId;const s=t[e],i=n.nextPart.get(s);if(i){const u=Uj(t,e+1,i);if(u)return u}const a=n.validators;if(a===null)return;const o=e===0?t.join(eb):t.slice(e).join(eb),c=a.length;for(let u=0;u<c;u++){const d=a[u];if(d.validator(o))return d.classGroupId}},mve=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),n=e.indexOf(":"),r=e.slice(0,n);return r?hve+r:void 0})(),gve=t=>{const{theme:e,classGroups:n}=t;return xve(n,e)},xve=(t,e)=>{const n=Vj();for(const r in t){const s=t[r];FC(s,n,r,e)}return n},FC=(t,e,n,r)=>{const s=t.length;for(let i=0;i<s;i++){const a=t[i];vve(a,e,n,r)}},vve=(t,e,n,r)=>{if(typeof t=="string"){yve(t,e,n);return}if(typeof t=="function"){bve(t,e,n,r);return}wve(t,e,n,r)},yve=(t,e,n)=>{const r=t===""?e:jj(e,t);r.classGroupId=n},bve=(t,e,n,r)=>{if(_ve(t)){FC(t(r),e,n,r);return}e.validators===null&&(e.validators=[]),e.validators.push(dve(n,t))},wve=(t,e,n,r)=>{const s=Object.entries(t),i=s.length;for(let a=0;a<i;a++){const[o,c]=s[a];FC(c,jj(e,o),n,r)}},jj=(t,e)=>{let n=t;const r=e.split(eb),s=r.length;for(let i=0;i<s;i++){const a=r[i];let o=n.nextPart.get(a);o||(o=Vj(),n.nextPart.set(a,o)),n=o}return n},_ve=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,Eve=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=Object.create(null),r=Object.create(null);const s=(i,a)=>{n[i]=a,e++,e>t&&(e=0,r=n,n=Object.create(null))};return{get(i){let a=n[i];if(a!==void 0)return a;if((a=r[i])!==void 0)return s(i,a),a},set(i,a){i in n?n[i]=a:s(i,a)}}},iS="!",ZM=":",Tve=[],e8=(t,e,n,r,s)=>({modifiers:t,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:r,isExternal:s}),Sve=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=s=>{const i=[];let a=0,o=0,c=0,u;const d=s.length;for(let y=0;y<d;y++){const S=s[y];if(a===0&&o===0){if(S===ZM){i.push(s.slice(c,y)),c=y+1;continue}if(S==="/"){u=y;continue}}S==="["?a++:S==="]"?a--:S==="("?o++:S===")"&&o--}const p=i.length===0?s:s.slice(c);let g=p,x=!1;p.endsWith(iS)?(g=p.slice(0,-1),x=!0):p.startsWith(iS)&&(g=p.slice(1),x=!0);const w=u&&u>c?u-c:void 0;return e8(i,x,g,w)};if(e){const s=e+ZM,i=r;r=a=>a.startsWith(s)?i(a.slice(s.length)):e8(Tve,!1,a,void 0,!0)}if(n){const s=r;r=i=>n({className:i,parseClassName:s})}return r},Ave=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((n,r)=>{e.set(n,1e6+r)}),n=>{const r=[];let s=[];for(let i=0;i<n.length;i++){const a=n[i],o=a[0]==="[",c=e.has(a);o||c?(s.length>0&&(s.sort(),r.push(...s),s=[]),r.push(a)):s.push(a)}return s.length>0&&(s.sort(),r.push(...s)),r}},Cve=t=>({cache:Eve(t.cacheSize),parseClassName:Sve(t),sortModifiers:Ave(t),...pve(t)}),Nve=/\s+/,Ive=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s,sortModifiers:i}=e,a=[],o=t.trim().split(Nve);let c="";for(let u=o.length-1;u>=0;u-=1){const d=o[u],{isExternal:p,modifiers:g,hasImportantModifier:x,baseClassName:w,maybePostfixModifierPosition:y}=n(d);if(p){c=d+(c.length>0?" "+c:c);continue}let S=!!y,C=r(S?w.substring(0,y):w);if(!C){if(!S){c=d+(c.length>0?" "+c:c);continue}if(C=r(w),!C){c=d+(c.length>0?" "+c:c);continue}S=!1}const F=g.length===0?"":g.length===1?g[0]:i(g).join(":"),I=x?F+iS:F,D=I+C;if(a.indexOf(D)>-1)continue;a.push(D);const z=s(C,S);for(let G=0;G<z.length;++G){const P=z[G];a.push(I+P)}c=d+(c.length>0?" "+c:c)}return c},kve=(...t)=>{let e=0,n,r,s="";for(;e<t.length;)(n=t[e++])&&(r=qj(n))&&(s&&(s+=" "),s+=r);return s},qj=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=qj(t[r]))&&(n&&(n+=" "),n+=e);return n},Rve=(t,...e)=>{let n,r,s,i;const a=c=>{const u=e.reduce((d,p)=>p(d),t());return n=Cve(u),r=n.cache.get,s=n.cache.set,i=o,o(c)},o=c=>{const u=r(c);if(u)return u;const d=Ive(c,n);return s(c,d),d};return i=a,(...c)=>i(kve(...c))},Pve=[],Ci=t=>{const e=n=>n[t]||Pve;return e.isThemeGetter=!0,e},Hj=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,zj=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Dve=/^\d+\/\d+$/,Mve=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Lve=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Fve=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Ove=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Bve=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,up=t=>Dve.test(t),tr=t=>!!t&&!Number.isNaN(Number(t)),Jf=t=>!!t&&Number.isInteger(Number(t)),c5=t=>t.endsWith("%")&&tr(t.slice(0,-1)),Vu=t=>Mve.test(t),Vve=()=>!0,Uve=t=>Lve.test(t)&&!Fve.test(t),Gj=()=>!1,jve=t=>Ove.test(t),qve=t=>Bve.test(t),Hve=t=>!an(t)&&!on(t),zve=t=>Um(t,Kj,Gj),an=t=>Hj.test(t),ah=t=>Um(t,Yj,Uve),u5=t=>Um(t,Yve,tr),t8=t=>Um(t,$j,Gj),Gve=t=>Um(t,Wj,qve),py=t=>Um(t,Xj,jve),on=t=>zj.test(t),Vg=t=>jm(t,Yj),$ve=t=>jm(t,Xve),n8=t=>jm(t,$j),Wve=t=>jm(t,Kj),Kve=t=>jm(t,Wj),my=t=>jm(t,Xj,!0),Um=(t,e,n)=>{const r=Hj.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},jm=(t,e,n=!1)=>{const r=zj.exec(t);return r?r[1]?e(r[1]):n:!1},$j=t=>t==="position"||t==="percentage",Wj=t=>t==="image"||t==="url",Kj=t=>t==="length"||t==="size"||t==="bg-size",Yj=t=>t==="length",Yve=t=>t==="number",Xve=t=>t==="family-name",Xj=t=>t==="shadow",Jve=()=>{const t=Ci("color"),e=Ci("font"),n=Ci("text"),r=Ci("font-weight"),s=Ci("tracking"),i=Ci("leading"),a=Ci("breakpoint"),o=Ci("container"),c=Ci("spacing"),u=Ci("radius"),d=Ci("shadow"),p=Ci("inset-shadow"),g=Ci("text-shadow"),x=Ci("drop-shadow"),w=Ci("blur"),y=Ci("perspective"),S=Ci("aspect"),C=Ci("ease"),F=Ci("animate"),I=()=>["auto","avoid","all","avoid-page","page","left","right","column"],D=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],z=()=>[...D(),on,an],G=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto","contain","none"],M=()=>[on,an,c],R=()=>[up,"full","auto",...M()],U=()=>[Jf,"none","subgrid",on,an],L=()=>["auto",{span:["full",Jf,on,an]},Jf,on,an],O=()=>[Jf,"auto",on,an],j=()=>["auto","min","max","fr",on,an],ie=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Ee=()=>["start","end","center","stretch","center-safe","end-safe"],ae=()=>["auto",...M()],pe=()=>[up,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...M()],de=()=>[t,on,an],oe=()=>[...D(),n8,t8,{position:[on,an]}],ke=()=>["no-repeat",{repeat:["","x","y","space","round"]}],ne=()=>["auto","cover","contain",Wve,zve,{size:[on,an]}],B=()=>[c5,Vg,ah],K=()=>["","none","full",u,on,an],Y=()=>["",tr,Vg,ah],Q=()=>["solid","dashed","dotted","double"],ue=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ge=()=>[tr,c5,n8,t8],Pe=()=>["","none",w,on,an],ee=()=>["none",tr,on,an],Re=()=>["none",tr,on,an],He=()=>[tr,on,an],he=()=>[up,"full",...M()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Vu],breakpoint:[Vu],color:[Vve],container:[Vu],"drop-shadow":[Vu],ease:["in","out","in-out"],font:[Hve],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Vu],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Vu],shadow:[Vu],spacing:["px",tr],text:[Vu],"text-shadow":[Vu],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",up,an,on,S]}],container:["container"],columns:[{columns:[tr,an,on,o]}],"break-after":[{"break-after":I()}],"break-before":[{"break-before":I()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:z()}],overflow:[{overflow:G()}],"overflow-x":[{"overflow-x":G()}],"overflow-y":[{"overflow-y":G()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:R()}],"inset-x":[{"inset-x":R()}],"inset-y":[{"inset-y":R()}],start:[{start:R()}],end:[{end:R()}],top:[{top:R()}],right:[{right:R()}],bottom:[{bottom:R()}],left:[{left:R()}],visibility:["visible","invisible","collapse"],z:[{z:[Jf,"auto",on,an]}],basis:[{basis:[up,"full","auto",o,...M()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[tr,up,"auto","initial","none",an]}],grow:[{grow:["",tr,on,an]}],shrink:[{shrink:["",tr,on,an]}],order:[{order:[Jf,"first","last","none",on,an]}],"grid-cols":[{"grid-cols":U()}],"col-start-end":[{col:L()}],"col-start":[{"col-start":O()}],"col-end":[{"col-end":O()}],"grid-rows":[{"grid-rows":U()}],"row-start-end":[{row:L()}],"row-start":[{"row-start":O()}],"row-end":[{"row-end":O()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":j()}],"auto-rows":[{"auto-rows":j()}],gap:[{gap:M()}],"gap-x":[{"gap-x":M()}],"gap-y":[{"gap-y":M()}],"justify-content":[{justify:[...ie(),"normal"]}],"justify-items":[{"justify-items":[...Ee(),"normal"]}],"justify-self":[{"justify-self":["auto",...Ee()]}],"align-content":[{content:["normal",...ie()]}],"align-items":[{items:[...Ee(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Ee(),{baseline:["","last"]}]}],"place-content":[{"place-content":ie()}],"place-items":[{"place-items":[...Ee(),"baseline"]}],"place-self":[{"place-self":["auto",...Ee()]}],p:[{p:M()}],px:[{px:M()}],py:[{py:M()}],ps:[{ps:M()}],pe:[{pe:M()}],pt:[{pt:M()}],pr:[{pr:M()}],pb:[{pb:M()}],pl:[{pl:M()}],m:[{m:ae()}],mx:[{mx:ae()}],my:[{my:ae()}],ms:[{ms:ae()}],me:[{me:ae()}],mt:[{mt:ae()}],mr:[{mr:ae()}],mb:[{mb:ae()}],ml:[{ml:ae()}],"space-x":[{"space-x":M()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":M()}],"space-y-reverse":["space-y-reverse"],size:[{size:pe()}],w:[{w:[o,"screen",...pe()]}],"min-w":[{"min-w":[o,"screen","none",...pe()]}],"max-w":[{"max-w":[o,"screen","none","prose",{screen:[a]},...pe()]}],h:[{h:["screen","lh",...pe()]}],"min-h":[{"min-h":["screen","lh","none",...pe()]}],"max-h":[{"max-h":["screen","lh",...pe()]}],"font-size":[{text:["base",n,Vg,ah]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,on,u5]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",c5,an]}],"font-family":[{font:[$ve,an,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,on,an]}],"line-clamp":[{"line-clamp":[tr,"none",on,u5]}],leading:[{leading:[i,...M()]}],"list-image":[{"list-image":["none",on,an]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",on,an]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:de()}],"text-color":[{text:de()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Q(),"wavy"]}],"text-decoration-thickness":[{decoration:[tr,"from-font","auto",on,ah]}],"text-decoration-color":[{decoration:de()}],"underline-offset":[{"underline-offset":[tr,"auto",on,an]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",on,an]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",on,an]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:oe()}],"bg-repeat":[{bg:ke()}],"bg-size":[{bg:ne()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Jf,on,an],radial:["",on,an],conic:[Jf,on,an]},Kve,Gve]}],"bg-color":[{bg:de()}],"gradient-from-pos":[{from:B()}],"gradient-via-pos":[{via:B()}],"gradient-to-pos":[{to:B()}],"gradient-from":[{from:de()}],"gradient-via":[{via:de()}],"gradient-to":[{to:de()}],rounded:[{rounded:K()}],"rounded-s":[{"rounded-s":K()}],"rounded-e":[{"rounded-e":K()}],"rounded-t":[{"rounded-t":K()}],"rounded-r":[{"rounded-r":K()}],"rounded-b":[{"rounded-b":K()}],"rounded-l":[{"rounded-l":K()}],"rounded-ss":[{"rounded-ss":K()}],"rounded-se":[{"rounded-se":K()}],"rounded-ee":[{"rounded-ee":K()}],"rounded-es":[{"rounded-es":K()}],"rounded-tl":[{"rounded-tl":K()}],"rounded-tr":[{"rounded-tr":K()}],"rounded-br":[{"rounded-br":K()}],"rounded-bl":[{"rounded-bl":K()}],"border-w":[{border:Y()}],"border-w-x":[{"border-x":Y()}],"border-w-y":[{"border-y":Y()}],"border-w-s":[{"border-s":Y()}],"border-w-e":[{"border-e":Y()}],"border-w-t":[{"border-t":Y()}],"border-w-r":[{"border-r":Y()}],"border-w-b":[{"border-b":Y()}],"border-w-l":[{"border-l":Y()}],"divide-x":[{"divide-x":Y()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Y()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Q(),"hidden","none"]}],"divide-style":[{divide:[...Q(),"hidden","none"]}],"border-color":[{border:de()}],"border-color-x":[{"border-x":de()}],"border-color-y":[{"border-y":de()}],"border-color-s":[{"border-s":de()}],"border-color-e":[{"border-e":de()}],"border-color-t":[{"border-t":de()}],"border-color-r":[{"border-r":de()}],"border-color-b":[{"border-b":de()}],"border-color-l":[{"border-l":de()}],"divide-color":[{divide:de()}],"outline-style":[{outline:[...Q(),"none","hidden"]}],"outline-offset":[{"outline-offset":[tr,on,an]}],"outline-w":[{outline:["",tr,Vg,ah]}],"outline-color":[{outline:de()}],shadow:[{shadow:["","none",d,my,py]}],"shadow-color":[{shadow:de()}],"inset-shadow":[{"inset-shadow":["none",p,my,py]}],"inset-shadow-color":[{"inset-shadow":de()}],"ring-w":[{ring:Y()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:de()}],"ring-offset-w":[{"ring-offset":[tr,ah]}],"ring-offset-color":[{"ring-offset":de()}],"inset-ring-w":[{"inset-ring":Y()}],"inset-ring-color":[{"inset-ring":de()}],"text-shadow":[{"text-shadow":["none",g,my,py]}],"text-shadow-color":[{"text-shadow":de()}],opacity:[{opacity:[tr,on,an]}],"mix-blend":[{"mix-blend":[...ue(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ue()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[tr]}],"mask-image-linear-from-pos":[{"mask-linear-from":ge()}],"mask-image-linear-to-pos":[{"mask-linear-to":ge()}],"mask-image-linear-from-color":[{"mask-linear-from":de()}],"mask-image-linear-to-color":[{"mask-linear-to":de()}],"mask-image-t-from-pos":[{"mask-t-from":ge()}],"mask-image-t-to-pos":[{"mask-t-to":ge()}],"mask-image-t-from-color":[{"mask-t-from":de()}],"mask-image-t-to-color":[{"mask-t-to":de()}],"mask-image-r-from-pos":[{"mask-r-from":ge()}],"mask-image-r-to-pos":[{"mask-r-to":ge()}],"mask-image-r-from-color":[{"mask-r-from":de()}],"mask-image-r-to-color":[{"mask-r-to":de()}],"mask-image-b-from-pos":[{"mask-b-from":ge()}],"mask-image-b-to-pos":[{"mask-b-to":ge()}],"mask-image-b-from-color":[{"mask-b-from":de()}],"mask-image-b-to-color":[{"mask-b-to":de()}],"mask-image-l-from-pos":[{"mask-l-from":ge()}],"mask-image-l-to-pos":[{"mask-l-to":ge()}],"mask-image-l-from-color":[{"mask-l-from":de()}],"mask-image-l-to-color":[{"mask-l-to":de()}],"mask-image-x-from-pos":[{"mask-x-from":ge()}],"mask-image-x-to-pos":[{"mask-x-to":ge()}],"mask-image-x-from-color":[{"mask-x-from":de()}],"mask-image-x-to-color":[{"mask-x-to":de()}],"mask-image-y-from-pos":[{"mask-y-from":ge()}],"mask-image-y-to-pos":[{"mask-y-to":ge()}],"mask-image-y-from-color":[{"mask-y-from":de()}],"mask-image-y-to-color":[{"mask-y-to":de()}],"mask-image-radial":[{"mask-radial":[on,an]}],"mask-image-radial-from-pos":[{"mask-radial-from":ge()}],"mask-image-radial-to-pos":[{"mask-radial-to":ge()}],"mask-image-radial-from-color":[{"mask-radial-from":de()}],"mask-image-radial-to-color":[{"mask-radial-to":de()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":D()}],"mask-image-conic-pos":[{"mask-conic":[tr]}],"mask-image-conic-from-pos":[{"mask-conic-from":ge()}],"mask-image-conic-to-pos":[{"mask-conic-to":ge()}],"mask-image-conic-from-color":[{"mask-conic-from":de()}],"mask-image-conic-to-color":[{"mask-conic-to":de()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:oe()}],"mask-repeat":[{mask:ke()}],"mask-size":[{mask:ne()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",on,an]}],filter:[{filter:["","none",on,an]}],blur:[{blur:Pe()}],brightness:[{brightness:[tr,on,an]}],contrast:[{contrast:[tr,on,an]}],"drop-shadow":[{"drop-shadow":["","none",x,my,py]}],"drop-shadow-color":[{"drop-shadow":de()}],grayscale:[{grayscale:["",tr,on,an]}],"hue-rotate":[{"hue-rotate":[tr,on,an]}],invert:[{invert:["",tr,on,an]}],saturate:[{saturate:[tr,on,an]}],sepia:[{sepia:["",tr,on,an]}],"backdrop-filter":[{"backdrop-filter":["","none",on,an]}],"backdrop-blur":[{"backdrop-blur":Pe()}],"backdrop-brightness":[{"backdrop-brightness":[tr,on,an]}],"backdrop-contrast":[{"backdrop-contrast":[tr,on,an]}],"backdrop-grayscale":[{"backdrop-grayscale":["",tr,on,an]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[tr,on,an]}],"backdrop-invert":[{"backdrop-invert":["",tr,on,an]}],"backdrop-opacity":[{"backdrop-opacity":[tr,on,an]}],"backdrop-saturate":[{"backdrop-saturate":[tr,on,an]}],"backdrop-sepia":[{"backdrop-sepia":["",tr,on,an]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":M()}],"border-spacing-x":[{"border-spacing-x":M()}],"border-spacing-y":[{"border-spacing-y":M()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",on,an]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[tr,"initial",on,an]}],ease:[{ease:["linear","initial",C,on,an]}],delay:[{delay:[tr,on,an]}],animate:[{animate:["none",F,on,an]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[y,on,an]}],"perspective-origin":[{"perspective-origin":z()}],rotate:[{rotate:ee()}],"rotate-x":[{"rotate-x":ee()}],"rotate-y":[{"rotate-y":ee()}],"rotate-z":[{"rotate-z":ee()}],scale:[{scale:Re()}],"scale-x":[{"scale-x":Re()}],"scale-y":[{"scale-y":Re()}],"scale-z":[{"scale-z":Re()}],"scale-3d":["scale-3d"],skew:[{skew:He()}],"skew-x":[{"skew-x":He()}],"skew-y":[{"skew-y":He()}],transform:[{transform:[on,an,"","none","gpu","cpu"]}],"transform-origin":[{origin:z()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:he()}],"translate-x":[{"translate-x":he()}],"translate-y":[{"translate-y":he()}],"translate-z":[{"translate-z":he()}],"translate-none":["translate-none"],accent:[{accent:de()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:de()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",on,an]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",on,an]}],fill:[{fill:["none",...de()]}],"stroke-w":[{stroke:[tr,Vg,ah,u5]}],stroke:[{stroke:["none",...de()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Qve=Rve(Jve);function Vd(...t){return Qve(uve(t))}const Zve=ove,eye=lve,tye=J.forwardRef(({className:t,inset:e,children:n,...r},s)=>m.jsxs(Fj,{ref:s,className:Vd("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...r,children:[n,m.jsx(YF,{className:"ml-auto"})]}));tye.displayName=Fj.displayName;const nye=J.forwardRef(({className:t,...e},n)=>m.jsx(Oj,{ref:n,className:Vd("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...e}));nye.displayName=Oj.displayName;const Jj=J.forwardRef(({className:t,sideOffset:e=4,...n},r)=>m.jsx(cve,{children:m.jsx(Ij,{ref:r,sideOffset:e,className:Vd("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[12rem] overflow-y-auto overflow-x-hidden rounded-[24px] border border-slate-200 dark:border-slate-800 bg-white/80 dark:bg-slate-900/80 backdrop-blur-xl p-2 text-slate-950 dark:text-slate-50 shadow-2xl shadow-slate-200/50 dark:shadow-none","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...n})}));Jj.displayName=Ij.displayName;const Xg=J.forwardRef(({className:t,inset:e,...n},r)=>m.jsx(Rj,{ref:r,className:Vd("relative flex cursor-default select-none items-center gap-3 rounded-2xl px-3 py-2.5 text-xs font-black uppercase tracking-widest outline-none transition-all focus:bg-slate-100 dark:focus:bg-slate-800 focus:text-slate-900 dark:focus:text-slate-100 data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0 active:scale-95",e&&"pl-8",t),...n}));Xg.displayName=Rj.displayName;const rye=J.forwardRef(({className:t,children:e,checked:n,...r},s)=>m.jsxs(Pj,{ref:s,className:Vd("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[m.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:m.jsx(Mj,{children:m.jsx(jg,{className:"h-4 w-4"})})}),e]}));rye.displayName=Pj.displayName;const sye=J.forwardRef(({className:t,children:e,...n},r)=>m.jsxs(Dj,{ref:r,className:Vd("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[m.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:m.jsx(Mj,{children:m.jsx(kX,{className:"h-2 w-2 fill-current"})})}),e]}));sye.displayName=Dj.displayName;const iye=J.forwardRef(({className:t,inset:e,...n},r)=>m.jsx(kj,{ref:r,className:Vd("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));iye.displayName=kj.displayName;const Qj=J.forwardRef(({className:t,...e},n)=>m.jsx(Lj,{ref:n,className:Vd("-mx-1 my-1 h-px bg-muted",t),...e}));Qj.displayName=Lj.displayName;const r8=({invoices:t,onView:e,onEdit:n,onDelete:r,onViewLedger:s})=>{const i=t||it.getInvoices(),[a,o]=J.useState(""),[c,u]=J.useState("ALL"),d=J.useMemo(()=>i.filter(g=>{const x=g.customerName.toLowerCase().includes(a.toLowerCase())||g.invoiceNumber.toLowerCase().includes(a.toLowerCase()),w=c==="ALL"||g.status===c;return x&&w}).sort((g,x)=>new Date(x.date).getTime()-new Date(g.date).getTime()),[i,a,c]),p=g=>{confirm("Are you sure you want to delete this invoice?")&&(r?r(g):(it.deleteInvoice(g.id),window.location.reload()))};return m.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900 min-h-screen flex flex-col pb-32",children:[m.jsx("div",{className:"bg-slate-50/80 dark:bg-slate-900/80 backdrop-blur-xl sticky top-0 z-30 px-4 pt-6 pb-4",children:m.jsxs("div",{className:"max-w-5xl mx-auto",children:[m.jsxs("div",{className:"flex justify-between items-baseline mb-4",children:[m.jsx("h1",{className:"text-3xl font-black text-slate-900 dark:text-slate-100 tracking-tight",children:"Invoices"}),m.jsxs("p",{className:"text-slate-400 text-xs font-black uppercase tracking-widest",children:[d.length," Items"]})]}),m.jsxs("div",{className:"flex gap-3",children:[m.jsxs("div",{className:"flex-1 bg-white dark:bg-slate-800 rounded-2xl px-4 py-3.5 flex items-center gap-3 border border-slate-200 dark:border-slate-800 shadow-sm focus-within:ring-2 focus-within:ring-blue-500/20 transition-all",children:[m.jsx(rA,{className:"w-4 h-4 text-slate-400 group-focus-within:text-blue-500"}),m.jsx("input",{type:"text",placeholder:"Search invoices or clients...",className:"bg-transparent flex-1 outline-none text-sm font-black uppercase tracking-tight text-slate-700 dark:text-slate-200 placeholder:text-slate-400 placeholder:normal-case",value:a,onChange:g=>o(g.target.value)})]}),m.jsxs("div",{className:"relative",children:[m.jsxs("select",{className:"bg-white dark:bg-slate-800 rounded-2xl px-6 py-3.5 outline-none border border-slate-200 dark:border-slate-800 font-black text-[10px] uppercase tracking-widest text-slate-600 dark:text-slate-300 appearance-none min-w-[120px] shadow-sm cursor-pointer hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",value:c,onChange:g=>u(g.target.value),children:[m.jsx("option",{value:"ALL",children:"All Status"}),m.jsx("option",{value:"PAID",children:"Paid Only"}),m.jsx("option",{value:"PENDING",children:"Pending"})]}),m.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none",children:m.jsx("div",{className:"w-1.5 h-1.5 border-r-2 border-b-2 border-slate-400 rotate-45"})})]})]})]})}),m.jsxs("div",{className:"max-w-5xl mx-auto px-2 mt-4 space-y-2",children:[m.jsx(ru,{mode:"popLayout",children:d.map((g,x)=>m.jsxs("div",{className:"relative overflow-hidden rounded-2xl group",children:[m.jsx("div",{className:"absolute inset-0 bg-red-500 flex justify-end items-center px-6",children:m.jsx(_d,{className:"w-6 h-6 text-white"})}),m.jsxs(Fn.div,{drag:"x",dragConstraints:{left:-100,right:0},dragElastic:.05,onDragEnd:(w,y)=>{y.offset.x<-60&&(ri.medium(),p(g))},initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-100},transition:{delay:x*.03},className:"bg-white dark:bg-slate-800 p-4 flex justify-between items-center rounded-3xl border border-slate-100 dark:border-slate-800 shadow-sm hover:shadow-md hover:border-blue-100 dark:hover:border-blue-900/30 relative z-10 cursor-pointer transition-all active:scale-[0.99]",onClick:()=>e&&e(g),children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:"w-12 h-12 rounded-2xl bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-900/40 flex items-center justify-center text-blue-600 dark:text-blue-400 font-black text-lg shadow-inner",children:g.customerName.charAt(0)}),m.jsxs("div",{className:"overflow-hidden",children:[m.jsx("h3",{className:"font-black text-slate-900 dark:text-slate-100 text-sm tracking-tight truncate max-w-[180px]",children:g.customerName}),m.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[m.jsxs("span",{className:"text-[10px] text-slate-400 font-extrabold uppercase tracking-widest",children:["#",g.invoiceNumber]}),m.jsx("span",{className:"w-1 h-1 bg-slate-300 dark:bg-slate-700 rounded-full"}),m.jsx("span",{className:"text-[10px] text-slate-500 dark:text-slate-400 font-black tracking-widest uppercase",children:new Date(g.date).toLocaleDateString("en-IN",{day:"2-digit",month:"short"})})]})]})]}),m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsxs("div",{className:"text-right",children:[m.jsxs("p",{className:"text-lg font-black text-slate-900 dark:text-slate-100 italic",children:["",g.total.toLocaleString("en-IN")]}),m.jsxs("div",{className:"mt-1 flex items-center justify-end gap-1.5",children:[m.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${g.status==="PAID"?"bg-emerald-500":"bg-amber-500"}`}),m.jsx("span",{className:`text-[9px] font-black uppercase tracking-widest ${g.status==="PAID"?"text-emerald-600":"text-amber-600"}`,children:g.status})]})]}),m.jsxs(Zve,{children:[m.jsx(eye,{asChild:!0,children:m.jsx("button",{className:"p-3 -mr-2 rounded-2xl hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors text-slate-300 hover:text-slate-600 dark:hover:text-slate-200",onClick:w=>w.stopPropagation(),children:m.jsx(JF,{className:"w-5 h-5"})})}),m.jsxs(Jj,{align:"end",sideOffset:12,children:[m.jsxs(Xg,{onClick:w=>{w.stopPropagation(),e&&e(g)},children:[m.jsx(ZF,{className:"mr-3 h-4 w-4"})," View Invoice"]}),m.jsxs(Xg,{onClick:w=>{w.stopPropagation(),s&&s(g.customerId)},children:[m.jsx(nm,{className:"mr-3 h-4 w-4 text-blue-500"})," View Ledger"]}),m.jsxs(Xg,{onClick:w=>{w.stopPropagation(),n&&n(g)},children:[m.jsx(sA,{className:"mr-3 h-4 w-4 text-orange-500"})," Edit Invoice"]}),m.jsx(Qj,{}),m.jsxs(Xg,{className:"text-red-600",onClick:w=>{w.stopPropagation(),p(g)},children:[m.jsx(_d,{className:"mr-3 h-4 w-4"})," Delete Permanently"]})]})]})]})]})]},g.id))}),d.length===0&&m.jsxs("div",{className:"text-center py-20",children:[m.jsx("div",{className:"w-16 h-16 bg-slate-100 dark:bg-slate-800 rounded-full flex items-center justify-center mx-auto mb-4 border-none",children:m.jsx(bd,{className:"w-8 h-8 text-slate-300"})}),m.jsx("h3",{className:"text-slate-500 font-bold",children:"No results"}),m.jsx("p",{className:"text-slate-400 text-xs mt-1",children:"Adjust filters or search term"})]})]})]})},aye=()=>{const[t,e]=J.useState([]),[n,r]=J.useState(""),[s,i]=J.useState(!1),[a,o]=J.useState({name:"",price:0,stock:0,category:"General"}),[c,u]=J.useState(null);J.useEffect(()=>{e(it.getProducts())},[]);const d=S=>{o(S),u(S.id),i(!0)},p=S=>{if(S.preventDefault(),!a.name||a.price===void 0)return;const C=a.id?.trim()||crypto.randomUUID(),F={id:C,name:a.name,price:Number(a.price),stock:Number(a.stock)||0,category:a.category||"General",gstRate:a.gstRate,hsn:a.hsn};c&&c!==C&&it.deleteProduct(c),it.saveProduct(F),e(it.getProducts()),i(!1),o({name:"",price:0,stock:0,category:"General"}),u(null)},g=S=>{if(window.confirm("Delete this product?")){const C=t.filter(F=>F.id!==S);e(C)}},x=t.filter(S=>S.name.toLowerCase().includes(n.toLowerCase())),w=t.reduce((S,C)=>S+C.price*C.stock,0),y=t.filter(S=>S.stock<=10).length;return m.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900 min-h-screen pb-20",children:[m.jsx("div",{className:"bg-white dark:bg-slate-900 pt-8 pb-6 px-4 md:px-8 border-b border-slate-100 dark:border-slate-800",children:m.jsxs("div",{className:"max-w-6xl mx-auto flex flex-col md:flex-row md:items-center justify-between gap-4",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-slate-100 tracking-tight",children:"Inventory"}),m.jsx("p",{className:"text-slate-500 text-sm font-medium mt-1",children:"Manage your stock and pricing"})]}),m.jsxs("button",{onClick:()=>{i(!0),u(null),o({name:"",price:0,stock:0,category:"General"})},className:"bg-blue-600 text-white px-6 py-3 rounded-2xl flex items-center justify-center gap-2 font-bold shadow-lg shadow-blue-200 active:scale-95 transition-transform",children:[m.jsx(wd,{className:"w-5 h-5"})," Add Product"]})]})}),m.jsxs("div",{className:"max-w-6xl mx-auto p-4 md:p-8 space-y-8",children:[m.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-[28px] border border-slate-100 dark:border-slate-700 shadow-sm",children:[m.jsx(Th,{className:"w-6 h-6 text-blue-500 mb-3"}),m.jsx("p",{className:"text-2xl font-black text-slate-800 dark:text-slate-100",children:t.length}),m.jsx("p",{className:"text-[10px] uppercase font-bold text-slate-400 tracking-wider",children:"Total Items"})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-[28px] border border-slate-100 dark:border-slate-700 shadow-sm text-emerald-600",children:[m.jsx(Lp,{className:"w-6 h-6 mb-3"}),m.jsxs("p",{className:"text-2xl font-black",children:["",w.toLocaleString("en-IN")]}),m.jsx("p",{className:"text-[10px] uppercase font-bold opacity-60 tracking-wider",children:"Stock Value"})]}),m.jsxs("div",{className:`p-5 rounded-[28px] border shadow-sm ${y>0?"bg-orange-50 border-orange-100 text-orange-600":"bg-white border-slate-100 text-slate-400"}`,children:[m.jsx(oO,{className:"w-6 h-6 mb-3"}),m.jsx("p",{className:"text-2xl font-black",children:y}),m.jsx("p",{className:"text-[10px] uppercase font-bold opacity-60 tracking-wider",children:"Low Stock"})]})]}),m.jsxs("div",{className:"relative",children:[m.jsx(rA,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 w-5 h-5"}),m.jsx("input",{type:"text",placeholder:"Search products by name or category...",className:"w-full pl-12 pr-6 py-4 bg-white dark:bg-slate-800 border-none rounded-2xl shadow-sm focus:ring-2 focus:ring-blue-500 outline-none font-medium",value:n,onChange:S=>r(S.target.value)})]}),m.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:m.jsx(ru,{children:x.map(S=>m.jsxs(Fn.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"bg-white dark:bg-slate-800 p-5 rounded-[28px] border border-slate-100 dark:border-slate-700 shadow-sm relative group hover:border-blue-200 transition-colors",children:[m.jsxs("div",{className:"flex justify-between items-start mb-4",children:[m.jsx("div",{className:"w-12 h-12 rounded-2xl bg-slate-50 dark:bg-slate-700 flex items-center justify-center text-slate-400",children:m.jsx(Th,{className:"w-6 h-6"})}),m.jsxs("div",{className:"flex gap-1",children:[m.jsx("button",{onClick:()=>d(S),className:"p-2 text-slate-400 hover:text-blue-500 rounded-full hover:bg-blue-50",children:m.jsx(W5,{className:"w-4 h-4"})}),m.jsx("button",{onClick:()=>g(S.id),className:"p-2 text-slate-400 hover:text-red-500 rounded-full hover:bg-red-50",children:m.jsx(_d,{className:"w-4 h-4"})})]})]}),m.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-100 line-clamp-1",children:S.name}),m.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mb-4",children:S.category}),m.jsxs("div",{className:"flex items-end justify-between pt-4 border-t border-slate-50 dark:border-slate-700",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"Unit Price"}),m.jsxs("p",{className:"text-xl font-black text-blue-600",children:["",S.price.toFixed(2)]})]}),m.jsxs("div",{className:"text-right",children:[m.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"Stock"}),m.jsxs("span",{className:`text-sm font-black px-3 py-1 rounded-full ${S.stock>10?"bg-green-50 text-green-600":"bg-red-50 text-red-600"}`,children:[S.stock," Units"]})]})]})]},S.id))})}),x.length===0&&m.jsxs("div",{className:"text-center py-20",children:[m.jsx("div",{className:"w-20 h-20 bg-slate-100 dark:bg-slate-800 rounded-full flex items-center justify-center mx-auto mb-4",children:m.jsx(Th,{className:"w-10 h-10 text-slate-300"})}),m.jsx("h3",{className:"text-lg font-bold text-slate-600",children:"No products found"}),m.jsx("p",{className:"text-slate-400",children:"Add a product or try a different search"})]})]}),m.jsx(ru,{children:s&&m.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:m.jsxs(Fn.div,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},exit:{y:100,opacity:0},className:"bg-white dark:bg-slate-800 w-full max-w-lg rounded-[32px] overflow-hidden shadow-2xl",children:[m.jsxs("div",{className:"p-8 pb-0 flex justify-between items-center",children:[m.jsx("h2",{className:"text-2xl font-bold",children:a.id?"Edit Product":"New Product"}),m.jsx("button",{onClick:()=>i(!1),className:"w-10 h-10 bg-slate-100 rounded-full flex items-center justify-center",children:""})]}),m.jsxs("form",{onSubmit:p,className:"p-8 space-y-6",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-xs font-black text-slate-400 uppercase ml-2",children:"Item ID (For Smart Calc)"}),m.jsx("input",{className:"w-full p-4 bg-slate-50 dark:bg-slate-900 border-none rounded-2xl text-base font-bold text-slate-600 focus:ring-2 focus:ring-blue-500 outline-none font-mono",placeholder:"Auto-generated if empty",value:a.id||"",onChange:S=>o({...a,id:S.target.value})})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-xs font-black text-slate-400 uppercase ml-2",children:"Product Name"}),m.jsx("input",{required:!0,autoFocus:!0,className:"w-full p-4 bg-slate-50 dark:bg-slate-900 border-none rounded-2xl text-lg font-bold focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Enter Name...",value:a.name,onChange:S=>o({...a,name:S.target.value})})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-xs font-black text-slate-400 uppercase ml-2",children:"Sale Price"}),m.jsx("input",{required:!0,type:"number",className:"w-full p-4 bg-slate-50 dark:bg-slate-900 border-none rounded-2xl font-bold focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"",value:a.price||"",onChange:S=>o({...a,price:Number(S.target.value)})})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-xs font-black text-slate-400 uppercase ml-2",children:"Opening Stock"}),m.jsx("input",{required:!0,type:"number",className:"w-full p-4 bg-slate-50 dark:bg-slate-900 border-none rounded-2xl font-bold focus:ring-2 focus:ring-blue-500 outline-none",value:a.stock||"",onChange:S=>o({...a,stock:Number(S.target.value)})})]})]}),m.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white py-5 rounded-2xl font-black text-lg shadow-xl shadow-blue-200 active:scale-95 transition-transform",children:"Save Product"})]})]})})})]})},oye=({onEditInvoice:t,onBack:e})=>{const[n,r]=J.useState([]),[s,i]=J.useState(null),[a,o]=J.useState([]),[c,u]=J.useState("HISTORY"),[d,p]=J.useState(null),[g,x]=J.useState(!1),[w,y]=J.useState(""),[S,C]=J.useState(new Date().toISOString().split("T")[0]),[F,I]=J.useState("CASH"),[D,z]=J.useState(""),[G,P]=J.useState(""),[M,R]=J.useState(""),[U,L]=J.useState(!1),[O,j]=J.useState({name:"",company:"",email:"",phone:"",address:"",state:"",gstin:""}),[ie,Ee]=J.useState([]),[ae,pe]=J.useState(!1),[de,oe]=J.useState(!1),[ke,ne]=J.useState(null);J.useEffect(()=>{r(it.getCustomers());const Se=new Date,We=new Date(Se.getFullYear(),Se.getMonth(),1).toISOString().split("T")[0],le=new Date(Se.getFullYear(),Se.getMonth()+1,0).toISOString().split("T")[0];P(We),R(le)},[]);const B=Se=>{const We=it.getInvoices(),le=it.getPayments(),Ge=We.filter(je=>je.customerId===Se.id),st=le.filter(je=>je.customerId===Se.id),Et=[...Ge.map(je=>({id:je.id,date:je.date,type:"INVOICE",reference:je.invoiceNumber,amount:je.total,status:je.status,mode:je.status==="PAID"?"CASH":"CREDIT",data:je})),...st.map(je=>({id:je.id,date:je.date,type:"PAYMENT",reference:je.reference||"Payment",amount:je.amount,mode:je.mode,data:je}))];Et.sort((je,yt)=>new Date(yt.date).getTime()-new Date(je.date).getTime()),o(Et),i(Se),u("HISTORY")},K=Se=>{if(Se.preventDefault(),!s)return;const We=Number(w);if(!We||We<=0)return alert("Enter valid amount");const le={id:crypto.randomUUID(),customerId:s.id,date:S,amount:We,mode:F,note:D,reference:"PAY-"+Date.now().toString().slice(-6)};it.savePayment(le);const Ge=it.getCustomers();r(Ge);const st=Ge.find(Et=>Et.id===s.id)||null;i(st),st&&B(st),x(!1),y(""),z(""),I("CASH")},Y=Se=>{if(!s)return;const We=it.getCompanyProfile();Se.type==="INVOICE"?q2.shareInvoice(Se.data,s,We):q2.sharePayment(Se.data,s,We)},Q=Se=>{switch(Se){case"PAID":return"bg-green-100 text-green-800";case"PENDING":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},ue=()=>{if(!s)return;it.addNotification(s.id,{type:"REMINDER",title:"Payment Reminder Sent",message:`A payment reminder was sent to ${s.email}.`,date:new Date().toISOString().split("T")[0]}),alert(`Reminder sent to ${s.email}`);const Se=it.getCustomers(),We=Se.find(le=>le.id===s.id)||null;r(Se),i(We)},ge=()=>{if(!s)return;const Se=it.getCompanyProfile(),We=a.filter(je=>je.date>=G&&je.date<=M).sort((je,yt)=>new Date(je.date).getTime()-new Date(yt.date).getTime()),le=new gn;le.setFontSize(18),le.text("STATEMENT OF ACCOUNT",105,20,{align:"center"}),le.setFontSize(12),le.text(Se.name,105,30,{align:"center"}),le.setFontSize(10),le.text(`Customer: ${s.company}`,14,50),le.text(`Period: ${G} to ${M}`,14,56);let Ge=70;le.setFillColor(240,240,240),le.rect(14,Ge-6,182,8,"F"),le.setFont("helvetica","bold"),le.text("Date",16,Ge),le.text("Details / Ref",45,Ge),le.text("Debit",130,Ge,{align:"right"}),le.text("Credit",160,Ge,{align:"right"}),le.text("Mode",190,Ge,{align:"right"}),le.setFont("helvetica","normal"),Ge+=10;let st=0,Et=0;We.forEach(je=>{le.text(je.date,16,Ge),le.text(je.type==="INVOICE"?`Inv: ${je.reference}`:`Pay: ${je.reference}`,45,Ge),je.type==="INVOICE"?(le.text(je.amount.toFixed(2),130,Ge,{align:"right"}),st+=je.amount):le.text("-",130,Ge,{align:"right"}),je.type==="PAYMENT"?(le.text(je.amount.toFixed(2),160,Ge,{align:"right"}),Et+=je.amount):le.text("-",160,Ge,{align:"right"}),le.text(je.mode||"-",190,Ge,{align:"right"}),Ge+=8,Ge>280&&(le.addPage(),Ge=20)}),Ge+=5,le.line(14,Ge,196,Ge),Ge+=8,le.setFont("helvetica","bold"),le.text("Totals:",100,Ge),le.text(st.toFixed(2),130,Ge,{align:"right"}),le.text(Et.toFixed(2),160,Ge,{align:"right"}),Ge+=10,le.text("Current Outstanding Balance:",130,Ge,{align:"right"}),le.text(`Rs. ${s.balance.toFixed(2)}`,160,Ge,{align:"right"}),le.save(`Statement_${s.name}_${G}.pdf`)};if(s)return m.jsxs("div",{className:"p-4 md:p-6 bg-slate-50 min-h-full relative",children:[d&&m.jsx("div",{className:"fixed inset-0 z-50 bg-slate-100 overflow-y-auto",children:m.jsx(JV,{invoice:d,onBack:()=>p(null),onEdit:Se=>{p(null),t&&t(Se)}})}),m.jsx("div",{className:"flex justify-between items-center mb-6",children:m.jsxs("button",{onClick:()=>i(null),className:"flex items-center gap-2 text-slate-600 hover:text-slate-900 transition-colors",children:[m.jsx(Qu,{className:"w-4 h-4"})," Back to Customers"]})}),m.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-[28px] shadow-sm border border-slate-200 dark:border-slate-700 p-6 mb-6",children:m.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start gap-4",children:[m.jsxs("div",{className:"flex-1",children:[m.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100",children:s.company}),m.jsxs("div",{title:"Payment Behavior Score",className:`px-2 py-0.5 rounded-full text-[10px] font-black uppercase tracking-widest ${it.getCustomerBehaviorScore(s.id)>80?"bg-green-100 text-green-700":it.getCustomerBehaviorScore(s.id)>50?"bg-orange-100 text-orange-700":"bg-red-100 text-red-700"}`,children:["Score: ",it.getCustomerBehaviorScore(s.id),"%"]})]}),m.jsxs("div",{className:"flex flex-wrap gap-4 text-slate-600 dark:text-slate-400 mt-2",children:[m.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[m.jsx(h2,{className:"w-4 h-4"})," ",s.email]}),m.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[m.jsx(Py,{className:"w-4 h-4"})," ",s.phone]}),m.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[m.jsx(rO,{className:"w-4 h-4"})," ",s.address]})]})]}),m.jsxs("div",{className:"flex flex-col items-end gap-3 w-full md:w-auto",children:[m.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 p-4 rounded-[20px] text-center min-w-[150px] border border-red-100 dark:border-red-900/30 w-full md:w-auto",children:[m.jsx("div",{className:"text-xs text-red-600 dark:text-red-400 uppercase font-bold tracking-wider mb-1",children:"Total Outstanding"}),m.jsxs("div",{className:"text-3xl font-black text-red-600 dark:text-red-400",children:["",s.balance.toLocaleString()]})]}),m.jsxs("div",{className:"flex gap-2 w-full md:w-auto",children:[m.jsxs("button",{onClick:()=>{const Se=prompt("Enter follow-up note (e.g., 'Called for payment', 'Agreed to pay by Monday')");if(Se){const We={...s};We.followUpHistory||(We.followUpHistory=[]),We.followUpHistory.unshift({date:new Date().toISOString().split("T")[0],note:Se}),it.updateCustomer(We),i(We),ri.light()}},className:"flex-1 md:flex-none flex items-center justify-center gap-2 bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-200 px-4 py-2 rounded-xl font-bold hover:bg-slate-200 transition-colors",children:[m.jsx(Cp,{className:"w-4 h-4"})," Follow-up"]}),m.jsxs("button",{onClick:()=>x(!0),className:"flex-1 md:flex-none flex items-center justify-center gap-2 bg-blue-600 text-white px-6 py-2 rounded-xl shadow-lg shadow-blue-500/30 hover:bg-blue-700 transition-colors font-bold",children:[m.jsx(H5,{className:"w-4 h-4"})," Receive Payment"]})]})]})]})}),m.jsxs("div",{className:"flex gap-4 border-b border-gray-200 mb-6 overflow-x-auto",children:[m.jsx("button",{onClick:()=>u("HISTORY"),className:`pb-2 px-2 text-sm font-medium transition-colors whitespace-nowrap ${c==="HISTORY"?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:"Transaction History"}),m.jsx("button",{onClick:()=>u("STATEMENT"),className:`pb-2 px-2 text-sm font-medium transition-colors whitespace-nowrap ${c==="STATEMENT"?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:"Account Statement"}),m.jsxs("button",{onClick:()=>u("NOTIFICATIONS"),className:`pb-2 px-2 text-sm font-medium transition-colors whitespace-nowrap flex items-center gap-2 ${c==="NOTIFICATIONS"?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:["Notifications & Logs",s.notifications&&s.notifications.length>0&&m.jsx("span",{className:"bg-red-500 text-white text-[10px] px-1.5 rounded-full",children:s.notifications.length})]})]}),m.jsxs("div",{className:"bg-white rounded-lg shadow border border-gray-200",children:[c==="HISTORY"&&m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full min-w-[700px]",children:[m.jsx("thead",{className:"bg-slate-50 border-b",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Date"}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Type / Ref"}),m.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Debit (Out)"}),m.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Credit (In)"}),m.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Mode"}),m.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Actions"})]})}),m.jsxs("tbody",{className:"divide-y divide-slate-200",children:[a.map(Se=>m.jsxs("tr",{className:`hover:bg-slate-50 transition-colors ${Se.type==="PAYMENT"?"bg-green-50/30":""}`,children:[m.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500",children:m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(tA,{className:"w-3 h-3"})," ",Se.date]})}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-slate-700",children:m.jsxs("div",{className:"flex flex-col",children:[m.jsx("span",{className:Se.type==="INVOICE"?"text-blue-600":"text-green-600",children:Se.type==="INVOICE"?`Inv #${Se.reference}`:`Pay: ${Se.mode}`}),m.jsx("span",{className:"text-xs text-gray-400",children:Se.data.id.slice(0,8)})]})}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right font-medium text-slate-900",children:Se.type==="INVOICE"?`${Se.amount.toFixed(2)}`:"-"}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right font-medium text-green-600",children:Se.type==="PAYMENT"?`${Se.amount.toFixed(2)}`:"-"}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center text-xs",children:m.jsx("span",{className:`px-2 py-1 rounded-full ${Se.type==="INVOICE"?Q(Se.status):"bg-green-100 text-green-800"}`,children:Se.mode})}),m.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-center flex justify-center gap-2",children:[m.jsx("button",{onClick:()=>Y(Se),className:"text-green-500 hover:text-green-700",title:"Share on WhatsApp",children:m.jsx(Cp,{className:"w-4 h-4"})}),Se.type==="INVOICE"&&m.jsx("button",{onClick:()=>p(Se.data),className:"text-slate-400 hover:text-blue-600",title:"View Details",children:m.jsx(ZF,{className:"w-4 h-4"})})]})]},Se.id)),a.length===0&&m.jsx("tr",{children:m.jsx("td",{colSpan:6,className:"px-6 py-12 text-center text-slate-500",children:m.jsxs("div",{className:"flex flex-col items-center justify-center",children:[m.jsx(bd,{className:"w-12 h-12 text-gray-300 mb-2"}),m.jsx("p",{children:"No transactions found."})]})})})]})]})}),c==="STATEMENT"&&m.jsx("div",{className:"p-8",children:m.jsxs("div",{className:"max-w-2xl mx-auto",children:[m.jsxs("div",{className:"text-center mb-8",children:[m.jsx(Lp,{className:"w-12 h-12 text-blue-500 mx-auto mb-3"}),m.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"Generate Account Statement"}),m.jsx("p",{className:"text-slate-500",children:"Select a date range to download a PDF statement of all transactions."})]}),m.jsxs("div",{className:"bg-slate-50 p-6 rounded-lg border border-slate-200 grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Start Date"}),m.jsx("input",{type:"date",value:G,onChange:Se=>P(Se.target.value),className:"w-full border border-slate-300 rounded-md p-2"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"End Date"}),m.jsx("input",{type:"date",value:M,onChange:Se=>R(Se.target.value),className:"w-full border border-slate-300 rounded-md p-2"})]})]}),m.jsxs("button",{onClick:ge,className:"w-full flex items-center justify-center gap-2 bg-slate-800 text-white py-3 rounded-lg hover:bg-slate-900 transition-all",children:[m.jsx(Sm,{className:"w-5 h-5"})," Download PDF Statement"]})]})}),c==="NOTIFICATIONS"&&m.jsxs("div",{className:"p-4 md:p-6",children:[m.jsx("h3",{className:"text-sm font-bold text-slate-500 uppercase tracking-wider mb-4",children:"Follow-up History"}),m.jsxs("div",{className:"space-y-3 mb-8",children:[(s.followUpHistory||[]).map((Se,We)=>m.jsx("div",{className:"p-3 bg-blue-50/50 dark:bg-blue-900/10 border border-blue-100 dark:border-blue-900/30 rounded-xl",children:m.jsxs("div",{className:"flex justify-between items-center mb-1",children:[m.jsx("span",{className:"text-sm font-bold text-blue-700 dark:text-blue-400",children:Se.note}),m.jsx("span",{className:"text-[10px] text-slate-400 font-bold uppercase",children:Se.date})]})},We)),(!s.followUpHistory||s.followUpHistory.length===0)&&m.jsx("p",{className:"text-xs text-slate-400 italic",children:"No follow-up notes logged yet."})]}),m.jsxs("div",{className:"flex justify-between items-center mb-6",children:[m.jsx("h3",{className:"text-sm font-bold text-slate-500 uppercase tracking-wider",children:"Activity Log & Notifications"}),m.jsxs("button",{onClick:ue,className:"flex items-center gap-2 text-sm bg-indigo-50 text-indigo-600 px-3 py-2 rounded hover:bg-indigo-100",children:[m.jsx(mJ,{className:"w-4 h-4"})," Send Payment Reminder"]})]}),m.jsxs("div",{className:"space-y-4",children:[(s.notifications||[]).map(Se=>m.jsxs("div",{className:"flex gap-4 p-4 bg-slate-50 rounded-lg border border-slate-100",children:[m.jsx("div",{className:`p-2 rounded-full h-fit ${Se.type==="INVOICE"?"bg-blue-100 text-blue-600":Se.type==="REMINDER"?"bg-orange-100 text-orange-600":Se.type==="PAYMENT"?"bg-green-100 text-green-600":"bg-gray-200 text-gray-600"}`,children:Se.type==="INVOICE"?m.jsx(bd,{className:"w-5 h-5"}):Se.type==="REMINDER"?m.jsx(mx,{className:"w-5 h-5"}):Se.type==="PAYMENT"?m.jsx(H5,{className:"w-5 h-5"}):m.jsx(mX,{className:"w-5 h-5"})}),m.jsxs("div",{children:[m.jsx("h4",{className:"font-bold text-slate-800 text-sm",children:Se.title}),m.jsx("p",{className:"text-sm text-slate-600 mb-1",children:Se.message}),m.jsx("span",{className:"text-xs text-slate-400",children:Se.date})]})]},Se.id)),(!s.notifications||s.notifications.length===0)&&m.jsx("div",{className:"text-center py-10 text-gray-400",children:"No notifications yet."})]})]})]}),g&&m.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:m.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md p-6 animate-in fade-in zoom-in duration-200",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"Receive Payment"}),m.jsx("button",{onClick:()=>x(!1),children:m.jsx(Wu,{className:"w-5 h-5 text-gray-400 hover:text-gray-600"})})]}),m.jsxs("form",{onSubmit:K,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Amount ()"}),m.jsx("input",{type:"number",required:!0,value:w,onChange:Se=>y(Se.target.value),className:"w-full border border-slate-300 rounded-md p-2 text-lg font-bold",placeholder:"0.00"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),m.jsx("input",{type:"date",required:!0,value:S,onChange:Se=>C(Se.target.value),className:"w-full border border-slate-300 rounded-md p-2"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Mode"}),m.jsxs("select",{value:F,onChange:Se=>I(Se.target.value),className:"w-full border border-slate-300 rounded-md p-2",children:[m.jsx("option",{value:"CASH",children:"Cash"}),m.jsx("option",{value:"UPI",children:"UPI / Online"}),m.jsx("option",{value:"BANK_TRANSFER",children:"Bank Transfer"}),m.jsx("option",{value:"CHEQUE",children:"Cheque"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Note / Reference"}),m.jsx("input",{type:"text",value:D,onChange:Se=>z(Se.target.value),className:"w-full border border-slate-300 rounded-md p-2",placeholder:"Optional"})]}),m.jsx("button",{type:"submit",className:"w-full bg-green-600 text-white py-3 rounded-lg font-bold hover:bg-green-700 mt-2",children:"Save Payment"})]})]})})]});const Pe=Se=>{if(Se.preventDefault(),!O.name||!O.company||!O.email){alert("Please fill name, company, and email");return}const We={id:crypto.randomUUID(),name:O.name,company:O.company,email:O.email,phone:O.phone,address:O.address,state:O.state,gstin:O.gstin,balance:0,notifications:[]};it.saveCustomer(We),r(it.getCustomers()),L(!1),j({name:"",company:"",email:"",phone:"",address:"",state:"",gstin:""}),alert("Customer added successfully!")},ee=Se=>{ne({...Se}),oe(!0)},Re=Se=>{if(Se.preventDefault(),!!ke){if(!ke.name||!ke.company||!ke.email){alert("Please fill name, company, and email");return}it.updateCustomer(ke),r(it.getCustomers()),oe(!1),ne(null),alert("Customer updated successfully!")}},He=Se=>{confirm("Are you sure you want to delete this customer? This will also affect all their invoices and payments.")&&(it.deleteCustomer(Se),r(it.getCustomers()),oe(!1),ne(null))},he=()=>{const Se=it.getCompanyProfile();return!!(Se?.gst_enabled||Se?.gst)};return m.jsxs("div",{className:"p-4 md:p-6",children:[de&&ke&&(()=>{const Se=he();return m.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:m.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md p-6 animate-in fade-in zoom-in duration-200 max-h-[90vh] overflow-y-auto",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4 sticky top-0 bg-white",children:[m.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"Edit Customer"}),m.jsx("button",{onClick:()=>{oe(!1),ne(null)},className:"p-1",children:m.jsx(Wu,{className:"w-5 h-5 text-gray-400 hover:text-gray-600"})})]}),m.jsxs("form",{onSubmit:Re,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Customer Name *"}),m.jsx("input",{type:"text",required:!0,value:ke.name,onChange:We=>ne({...ke,name:We.target.value}),className:"w-full border border-slate-300 rounded-md p-2 text-sm",placeholder:"Full name","data-testid":"input-edit-customer-name"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Company Name *"}),m.jsx("input",{type:"text",required:!0,value:ke.company,onChange:We=>ne({...ke,company:We.target.value}),className:"w-full border border-slate-300 rounded-md p-2 text-sm",placeholder:"Company name","data-testid":"input-edit-company-name"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email *"}),m.jsx("input",{type:"email",required:!0,value:ke.email,onChange:We=>ne({...ke,email:We.target.value}),className:"w-full border border-slate-300 rounded-md p-2 text-sm",placeholder:"email@example.com","data-testid":"input-edit-email"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),m.jsx("input",{type:"tel",value:ke.phone,onChange:We=>ne({...ke,phone:We.target.value}),className:"w-full border border-slate-300 rounded-md p-2 text-sm",placeholder:"10-digit number","data-testid":"input-edit-phone"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),m.jsx("textarea",{value:ke.address,onChange:We=>ne({...ke,address:We.target.value}),rows:2,className:"w-full border border-slate-300 rounded-md p-2 text-sm resize-none",placeholder:"Billing address","data-testid":"textarea-edit-address"})]}),Se&&m.jsxs(m.Fragment,{children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"State"}),m.jsx("input",{type:"text",value:ke.state||"",onChange:We=>ne({...ke,state:We.target.value}),className:"w-full border border-slate-300 rounded-md p-2 text-sm",placeholder:"State name","data-testid":"input-edit-state"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"GST Number (Optional)"}),m.jsx("input",{type:"text",value:ke.gstin||"",onChange:We=>ne({...ke,gstin:We.target.value}),className:"w-full border border-slate-300 rounded-md p-2 text-sm",placeholder:"15-digit GSTIN",maxLength:15,"data-testid":"input-edit-gstin"})]})]}),m.jsxs("div",{className:"flex gap-3",children:[m.jsx("button",{type:"submit",className:"flex-1 bg-blue-600 text-white py-2 rounded-lg font-bold hover:bg-blue-700","data-testid":"button-save-customer",children:"Save Changes"}),m.jsx("button",{type:"button",onClick:()=>He(ke.id),className:"px-4 bg-red-50 text-red-600 py-2 rounded-lg font-bold hover:bg-red-100 flex items-center gap-2","data-testid":"button-delete-customer",children:m.jsx(_d,{className:"w-4 h-4"})})]})]})]})})})(),U&&(()=>{const Se=he();return m.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:m.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md p-6 animate-in fade-in zoom-in duration-200 max-h-[90vh] overflow-y-auto",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4 sticky top-0 bg-white",children:[m.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"Add New Customer"}),m.jsx("button",{onClick:()=>L(!1),className:"p-1",children:m.jsx(Wu,{className:"w-5 h-5 text-gray-400 hover:text-gray-600"})})]}),m.jsxs("form",{onSubmit:Pe,className:"space-y-4",children:[m.jsxs("div",{className:"relative",children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Customer Name *"}),m.jsx("input",{type:"text",required:!0,value:O.name,onChange:async We=>{const le=We.target.value;if(j({...O,name:le}),le.length>=2){const Ge=await rc.getCombinedContacts(le);Ee(Ge),pe(!0)}else pe(!1)},onFocus:()=>{O.name.length>=2&&pe(!0)},className:"w-full border border-slate-300 rounded-md p-2 text-sm",placeholder:"Full name","data-testid":"input-customer-name"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Company Name *"}),m.jsx("input",{type:"text",required:!0,value:O.company,onChange:We=>j({...O,company:We.target.value}),className:"w-full border border-slate-300 rounded-md p-2 text-sm",placeholder:"Company name","data-testid":"input-company-name"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email *"}),m.jsx("input",{type:"email",required:!0,value:O.email,onChange:We=>j({...O,email:We.target.value}),className:"w-full border border-slate-300 rounded-md p-2 text-sm",placeholder:"email@example.com","data-testid":"input-email"})]}),m.jsxs("div",{className:"relative",children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),m.jsx("input",{type:"tel",value:O.phone,onChange:async We=>{const le=We.target.value;j({...O,phone:le});const Ge=await rc.resolveName(le);if(Ge.name&&!O.name&&j(st=>({...st,name:Ge.name,phone:le})),le.length>=2){const st=await rc.getCombinedContacts(le);Ee(st),pe(!0)}else pe(!1)},onFocus:()=>{O.phone.length>=2&&pe(!0)},onBlur:()=>setTimeout(()=>pe(!1),200),className:"w-full border border-slate-300 rounded-md p-2 text-sm",placeholder:"10-digit number","data-testid":"input-phone"}),ae&&ie.length>0&&m.jsx("div",{className:"absolute z-[120] left-0 right-0 top-full mt-1 bg-white border border-slate-200 rounded-lg shadow-xl max-h-48 overflow-y-auto p-1",children:ie.map((We,le)=>m.jsxs("button",{type:"button",onClick:()=>{j(Ge=>({...Ge,name:We.name,phone:We.phone})),pe(!1)},className:"w-full p-2 flex items-center gap-3 hover:bg-slate-50 transition-colors text-left border-b border-slate-50 last:border-0",children:[m.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-[10px] font-bold shrink-0 ${We.source==="db"?"bg-blue-100 text-blue-600":"bg-green-100 text-green-600"}`,children:We.source==="db"?"DB":"PH"}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsx("div",{className:"text-xs font-bold text-slate-800 truncate",children:We.name}),m.jsx("div",{className:"text-[10px] text-slate-400",children:We.phone})]})]},le))})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),m.jsx("textarea",{value:O.address,onChange:We=>j({...O,address:We.target.value}),rows:2,className:"w-full border border-slate-300 rounded-md p-2 text-sm resize-none",placeholder:"Billing address","data-testid":"textarea-address"})]}),Se&&m.jsxs(m.Fragment,{children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"State"}),m.jsx("input",{type:"text",value:O.state,onChange:We=>j({...O,state:We.target.value}),className:"w-full border border-slate-300 rounded-md p-2 text-sm",placeholder:"State name","data-testid":"input-state"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"GST Number (Optional)"}),m.jsx("input",{type:"text",value:O.gstin,onChange:We=>j({...O,gstin:We.target.value}),className:"w-full border border-slate-300 rounded-md p-2 text-sm",placeholder:"15-digit GSTIN",maxLength:15,"data-testid":"input-gstin"}),m.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Only visible when GST is enabled in Settings"})]})]}),m.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 rounded-lg font-bold hover:bg-blue-700","data-testid":"button-add-customer",children:"Add Customer"})]})]})})})(),m.jsxs("div",{className:"p-4 md:p-6 bg-slate-50 min-h-full",children:[m.jsxs("div",{className:"flex justify-between items-center mb-6",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[e&&m.jsx("button",{onClick:e,className:"p-2 -ml-2 rounded-full hover:bg-slate-200",children:m.jsx(Qu,{className:"w-6 h-6 text-slate-700"})}),m.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Customers"})]}),m.jsxs("button",{onClick:()=>L(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg flex items-center gap-2 hover:bg-blue-700 font-medium shadow-sm transition-all",children:[m.jsx(iA,{className:"w-5 h-5"}),m.jsx("span",{className:"hidden sm:inline",children:"Add Customer"})]})]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.map(Se=>m.jsxs("div",{onClick:()=>B(Se),className:"bg-white p-5 rounded-xl shadow-sm border border-slate-100 hover:shadow-md transition-all cursor-pointer group",children:[m.jsxs("div",{className:"flex justify-between items-start mb-3",children:[m.jsx("div",{className:"w-12 h-12 bg-blue-50 text-blue-600 rounded-full flex items-center justify-center font-bold text-lg group-hover:bg-blue-100 transition-colors",children:Se.company.charAt(0)}),m.jsx("button",{onClick:We=>{We.stopPropagation(),ee(Se)},className:"p-2 text-slate-400 hover:text-blue-600 hover:bg-slate-50 rounded-full transition-colors",children:m.jsx(sA,{className:"w-4 h-4"})})]}),m.jsx("h3",{className:"font-bold text-slate-800 text-lg mb-1 truncate",children:Se.company}),m.jsx("p",{className:"text-slate-500 text-sm mb-4 truncate",children:Se.name}),m.jsx("div",{className:"flex flex-col gap-2 border-t border-slate-50 pt-3",children:m.jsxs("div",{className:"flex items-center justify-between text-sm",children:[m.jsx("span",{className:"text-slate-500",children:"Balance"}),m.jsxs("span",{className:`font-bold ${Se.balance>0?"text-red-600":"text-green-600"}`,children:["",Se.balance.toLocaleString()]})]})})]},Se.id))})]})]})},lye=()=>{const{company:t,saveCompany:e}=i0(),[n,r]=J.useState({name:"",address:"",phone:"",email:"",upiId:""}),[s,i]=J.useState({apiKey:"",authDomain:"",projectId:"",storageBucket:"",messagingSenderId:"",appId:""}),[a,o]=J.useState(!1),[c,u]=J.useState(t?.gst_enabled??!0),[d,p]=J.useState(t?.gst??""),[g,x]=J.useState(t?.show_hsn_summary??!0),[w,y]=J.useState(t?.roundUpDefault??0),[S,C]=J.useState("IDLE"),[F,I]=J.useState(!1),[D,z]=J.useState(!1),[G,P]=J.useState(""),[M,R]=J.useState(null),U=J.useRef(null);J.useEffect(()=>{if(t)r({name:t.name||"",address:t.address||"",phone:t.phone||"",email:t.email||"",upiId:t.upiId||""}),u(t.gst_enabled??!0),p(t.gst||""),x(t.show_hsn_summary??!0),y(t.roundUpDefault??0);else{const ne=it.getCompanyProfile();r(ne)}const ke=it.getFirebaseConfig();ke&&i(ke),I(lr.isReady())},[t]);const L=(ke,ne)=>{r(B=>({...B,[ke]:ne})),o(!1)},O=(ke,ne)=>{i(B=>({...B,[ke]:ne})),R(null)},j=async ke=>{ke.preventDefault();try{await e({name:n.name,address:n.address,phone:n.phone,email:n.email,gst:d,gst_enabled:c,show_hsn_summary:g,roundUpDefault:w,upiId:n.upiId}),it.saveCompanyProfile(n),o(!0),setTimeout(()=>o(!1),3e3)}catch(ne){console.error("Failed to save settings:",ne),alert("Failed to save settings. Please try again.")}},ie=async ke=>{ke.preventDefault(),R({success:!1,message:"Initializing..."}),it.saveFirebaseConfig(s),lr.init(s);{I(!0);const ne=await lr.testConnection();R(ne),ne.success&&confirm("Connection Successful! The app needs to reload to sync your data. Reload now?")&&window.location.reload()}},Ee=()=>{const ke=["apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId"];let ne=0;const B={...s};ke.forEach(K=>{const Y=new RegExp(`${K}\\s*:\\s*["']([^"']+)["']`),Q=G.match(Y);Q&&Q[1]&&(B[K]=Q[1],ne++)}),ne>0?(i(B),z(!1),P(""),alert(`Success! Auto-filled ${ne} fields. Click 'Save & Connect' to finish.`)):alert("Could not find any configuration keys. Please paste the full 'firebaseConfig' code block.")},ae=()=>{alert(`PRIVACY POLICY

1. DATA COLLECTION
- We collect your profile information (Name, Business Name, Logo, Phone, Email) for invoice generation.
- We collect customer details (Name, GST, Phone, Address) provided by you.
- We save your local invoices and business data on your device using Browser Storage (LocalStorage/IndexedDB).

2. PERMISSIONS
- CONTACTS: Permission is used ONLY to save customer contact details to your phone's native address book for your convenience. We do not mass-read or upload your personal contacts to our servers.
- STORAGE: Required to save and share PDF invoices generated by the app.

3. CLOUD SYNC
- If you connect your own Firebase instance, your data is stored in your private cloud account. We do not have access to your private Firebase data.

4. SECURITY
- We implement AES-256 equivalent logic and follow industry-best practices (Clean Architecture) to ensure data safety.

5. THIRD PARTIES
- We NEVER share or sell your data to any third-party marketing companies. All data remains within your control.

6. COMPLIANCE
- This policy is designed to comply with India's IT Act, 2000 and DPDP Act, 2023.`)},pe=()=>{alert(`TERMS OF USE

1. USAGE
- This application is a tool for inventory and invoice management. You are responsible for the accuracy of invoices generated.

2. DATA
- You own all the data you create. BillBook is just a facilitator. 
- Data is stored locally on your device. Clearing browser history/cache may delete your data if not synced to cloud.

3. WARRANTY
- The application is provided 'AS IS'. We do not guarantee 100% uptime but strive for it.

4. LIMITATION OF LIABILITY
- Developers of BillBook are not liable for any financial losses, tax calculation errors, or data loss incidents.

5. GOVERNING LAW
- These terms are governed by Indian laws and subject to Jaipur jurisdiction.`)},de=()=>{const ke=it.exportAllData(),ne="data:application/json;charset=utf-8,"+encodeURIComponent(ke),B=`billflow_backup_${new Date().toISOString().slice(0,10)}.json`,K=document.createElement("a");K.setAttribute("href",ne),K.setAttribute("download",B),K.click()},oe=ke=>{const ne=ke.target.files?.[0];if(!ne)return;const B=new FileReader;B.onload=K=>{const Y=K.target?.result;typeof Y=="string"&&(it.importData(Y)?(C("SUCCESS"),setTimeout(()=>window.location.reload(),1500)):C("ERROR"))},B.readAsText(ne),U.current&&(U.current.value="")};return m.jsxs("div",{className:"p-4 md:p-6 max-w-4xl mx-auto pb-24",children:[m.jsx("h2",{className:"text-xl md:text-3xl font-black text-slate-800 dark:text-slate-100 mb-2 tracking-tight uppercase italic",children:"Settings"}),m.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-8 font-medium",children:"Configure your company details and manage your data."}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[m.jsx("div",{className:"lg:col-span-2",children:m.jsxs("form",{onSubmit:j,className:"bg-white dark:bg-slate-900 rounded-[32px] shadow-sm border border-slate-200 dark:border-slate-800 overflow-hidden",children:[m.jsx("div",{className:"px-6 py-5 border-b border-slate-100 dark:border-slate-800 bg-slate-50 dark:bg-slate-900/50",children:m.jsxs("h3",{className:"text-lg font-black text-slate-900 dark:text-slate-100 flex items-center gap-3 uppercase italic tracking-tight",children:[m.jsx(KF,{className:"w-6 h-6 text-blue-600"})," Company Profile"]})}),m.jsxs("div",{className:"p-6 space-y-6",children:[m.jsxs("div",{className:"mb-4 p-4 bg-blue-50 dark:bg-blue-900/10 border border-blue-200 dark:border-blue-900/20 rounded-2xl",children:[m.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[m.jsx("input",{type:"checkbox",checked:c,onChange:ke=>u(ke.target.checked),className:"w-5 h-5 rounded-lg border-gray-300 dark:border-slate-700 bg-white dark:bg-slate-800"}),m.jsx("span",{className:"text-sm font-black text-blue-900 dark:text-blue-300",children:"Enable GST for Invoices"})]}),m.jsx("p",{className:"text-xs text-blue-700 dark:text-blue-400 mt-2 font-medium",children:"When enabled, GST rate can be set per item in invoices"})]}),c&&m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"space-y-1.5",children:[m.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-slate-500 mb-1",children:"GST Number"}),m.jsx("input",{type:"text",value:d,onChange:ke=>p(ke.target.value),placeholder:"Your GST Registration Number",className:"w-full rounded-2xl border border-slate-200 dark:border-slate-800 bg-slate-50 dark:bg-slate-800/50 p-3.5 text-sm font-bold text-slate-800 dark:text-slate-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"})]}),m.jsxs("div",{className:"pt-2",children:[m.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[m.jsx("input",{type:"checkbox",checked:g,onChange:ke=>x(ke.target.checked),className:"w-5 h-5 rounded-lg border-gray-300 dark:border-slate-700 bg-white dark:bg-slate-800"}),m.jsx("span",{className:"text-sm font-black text-slate-700 dark:text-slate-300",children:"Show HSN Summary in Invoices"})]}),m.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1 ml-8 italic",children:"Display HSN-wise tax summary in invoice PDFs (Tally format)"})]})]}),m.jsxs("div",{className:"mt-8 pt-8 border-t border-slate-100 dark:border-slate-800",children:[m.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-slate-500 mb-4",children:"Default Round Up for All Bills"}),m.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[m.jsxs("label",{className:`flex items-center justify-center gap-3 p-4 rounded-2xl border transition-all cursor-pointer ${w===0?"bg-primary text-white border-primary shadow-lg shadow-primary/20 scale-[1.02]":"bg-slate-50 dark:bg-slate-800/50 border-slate-200 dark:border-slate-800 text-slate-600 dark:text-slate-400"}`,children:[m.jsx("input",{type:"radio",name:"roundUp",className:"hidden",checked:w===0,onChange:()=>y(0)}),m.jsx("span",{className:"text-sm font-black uppercase tracking-tight",children:"No Rounding"})]}),m.jsxs("label",{className:`flex items-center justify-center gap-3 p-4 rounded-2xl border transition-all cursor-pointer ${w===10?"bg-primary text-white border-primary shadow-lg shadow-primary/20 scale-[1.02]":"bg-slate-50 dark:bg-slate-800/50 border-slate-200 dark:border-slate-800 text-slate-600 dark:text-slate-400"}`,children:[m.jsx("input",{type:"radio",name:"roundUp",className:"hidden",checked:w===10,onChange:()=>y(10)}),m.jsx("span",{className:"text-sm font-black uppercase tracking-tight",children:"Round to 10"})]}),m.jsxs("label",{className:`flex items-center justify-center gap-3 p-4 rounded-2xl border transition-all cursor-pointer ${w===100?"bg-primary text-white border-primary shadow-lg shadow-primary/20 scale-[1.02]":"bg-slate-50 dark:bg-slate-800/50 border-slate-200 dark:border-slate-800 text-slate-600 dark:text-slate-400"}`,children:[m.jsx("input",{type:"radio",name:"roundUp",className:"hidden",checked:w===100,onChange:()=>y(100)}),m.jsx("span",{className:"text-sm font-black uppercase tracking-tight",children:"Round to 100"})]})]}),m.jsx("p",{className:"text-[10px] text-slate-400 dark:text-slate-500 mt-4 font-black uppercase tracking-widest text-center italic opacity-60",children:"Applied to all new invoices automatically"})]}),m.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-slate-500 mb-1",children:"Company Name"}),m.jsx("input",{type:"text",required:!0,value:n.name,onChange:ke=>L("name",ke.target.value),className:"w-full rounded-2xl border border-slate-200 dark:border-slate-800 bg-slate-50 dark:bg-slate-800/50 p-3.5 text-sm font-bold text-slate-800 dark:text-slate-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-slate-500 mb-1",children:"Address"}),m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"absolute top-4 left-4 pointer-events-none",children:m.jsx(rO,{className:"h-4 w-4 text-slate-400"})}),m.jsx("textarea",{required:!0,rows:3,value:n.address,onChange:ke=>L("address",ke.target.value),className:"w-full rounded-2xl border border-slate-200 dark:border-slate-800 bg-slate-50 dark:bg-slate-800/50 pl-11 p-3.5 text-sm font-bold text-slate-800 dark:text-slate-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none resize-none"})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-slate-500 mb-1",children:"Phone Number"}),m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"absolute inset-y-0 left-4 flex items-center pointer-events-none",children:m.jsx(Py,{className:"h-4 w-4 text-slate-400"})}),m.jsx("input",{type:"text",required:!0,value:n.phone,onChange:ke=>L("phone",ke.target.value),className:"w-full rounded-2xl border border-slate-200 dark:border-slate-800 bg-slate-50 dark:bg-slate-800/50 pl-11 p-3.5 text-sm font-bold text-slate-800 dark:text-slate-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-slate-500 mb-1",children:"Email Address"}),m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"absolute inset-y-0 left-4 flex items-center pointer-events-none",children:m.jsx(h2,{className:"h-4 w-4 text-slate-400"})}),m.jsx("input",{type:"email",required:!0,value:n.email,onChange:ke=>L("email",ke.target.value),className:"w-full rounded-2xl border border-slate-200 dark:border-slate-800 bg-slate-50 dark:bg-slate-800/50 pl-11 p-3.5 text-sm font-bold text-slate-800 dark:text-slate-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"})]})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-slate-500 mb-1",children:"UPI ID (for Payments)"}),m.jsx("input",{type:"text",value:n.upiId||"",onChange:ke=>L("upiId",ke.target.value),placeholder:"e.g. 9876543210@upi or merchant@okaxis",className:"w-full rounded-2xl border border-slate-200 dark:border-slate-800 bg-slate-50 dark:bg-slate-800/50 p-3.5 text-sm font-bold text-slate-800 dark:text-slate-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"}),m.jsx("p",{className:"text-[10px] text-slate-400 dark:text-slate-500 mt-2 font-black uppercase tracking-widest opacity-60",children:"Used to generate payment QR code on invoices automatically."})]})]})]}),m.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900/50 px-6 py-5 flex justify-between items-center border-t border-slate-100 dark:border-slate-800",children:[m.jsx("div",{className:"text-xs font-black uppercase tracking-widest text-emerald-600 dark:text-emerald-400",children:a&&" Profiles Synced"}),m.jsxs("button",{type:"submit",className:"flex items-center gap-2 px-8 py-3 bg-blue-600 text-white rounded-2xl hover:bg-blue-700 font-black uppercase tracking-widest text-[10px] shadow-xl shadow-blue-500/30 transition-all active:scale-95",children:[m.jsx(p2,{className:"w-5 h-5 shadow-lg"})," Update Profile"]})]})]})}),m.jsx("div",{className:"lg:col-span-2 mt-8",children:m.jsxs("form",{onSubmit:ie,className:"bg-white dark:bg-slate-900 rounded-[32px] shadow-sm border border-slate-200 dark:border-slate-800 overflow-hidden",children:[m.jsxs("div",{className:"px-6 py-5 border-b border-slate-100 dark:border-slate-800 bg-slate-50 dark:bg-slate-900/50 flex justify-between items-center",children:[m.jsxs("h3",{className:"text-lg font-black text-slate-900 dark:text-slate-100 flex items-center gap-3 uppercase italic tracking-tight",children:[m.jsx(XF,{className:"w-6 h-6 text-orange-500"})," Cloud Sync (Firebase)"]}),F?m.jsxs("span",{className:"flex items-center gap-2 text-[10px] font-black uppercase tracking-widest text-emerald-600 bg-emerald-100 dark:bg-emerald-900/30 px-3 py-1.5 rounded-full",children:[m.jsx(i1,{className:"w-3 h-3"})," Connected"]}):m.jsx("span",{className:"flex items-center gap-2 text-[10px] font-black uppercase tracking-widest text-slate-500 bg-slate-100 dark:bg-slate-800 px-3 py-1.5 rounded-full",children:"Disconnected"})]}),m.jsxs("div",{className:"p-6 space-y-4",children:[m.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-8",children:[m.jsxs("button",{type:"button",onClick:()=>z(!0),className:"flex-1 bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600 text-white p-4 rounded-2xl shadow-xl shadow-purple-500/20 hover:scale-[1.02] transition-all flex items-center justify-center gap-3 font-black uppercase tracking-widest text-[11px]",children:[m.jsx(n3,{className:"w-5 h-5"})," Super Auto-Fill Config"]}),m.jsxs("a",{href:"https://console.firebase.google.com/",target:"_blank",rel:"noopener noreferrer",className:"bg-slate-100 dark:bg-slate-800 text-slate-700 dark:text-slate-300 p-4 rounded-2xl hover:bg-slate-200 dark:hover:bg-slate-700 flex items-center justify-center gap-2 font-black uppercase tracking-widest text-[11px]",children:[m.jsx(QF,{className:"w-5 h-5"})," Console"]})]}),m.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/10 p-4 rounded-2xl text-[10px] text-blue-800 dark:text-blue-300 border border-blue-100 dark:border-blue-900/20 mb-6 font-black uppercase tracking-wider italic",children:"Paste config code using the button above or fill manually."}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:["apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId"].map(ke=>m.jsxs("div",{children:[m.jsx("label",{className:"block text-[10px] font-black uppercase tracking-widest text-slate-500 mb-1",children:ke}),m.jsx("input",{type:"text",className:"w-full border border-slate-200 dark:border-slate-800 rounded-xl bg-slate-50 dark:bg-slate-800/50 p-2.5 text-xs font-bold text-slate-800 dark:text-slate-200 focus:ring-2 focus:ring-orange-500 outline-none",value:s[ke],onChange:ne=>O(ke,ne.target.value)})]},ke))}),M&&m.jsxs("div",{className:`p-3 rounded border text-sm flex items-start gap-2 ${M.success?"bg-green-50 border-green-200 text-green-800":"bg-red-50 border-red-200 text-red-800"}`,children:[M.success?m.jsx(BJ,{className:"w-5 h-5 flex-shrink-0"}):m.jsx(FJ,{className:"w-5 h-5 flex-shrink-0"}),m.jsxs("div",{children:[m.jsx("p",{className:"font-bold",children:M.success?"Connected":"Connection Failed"}),m.jsx("p",{className:"text-xs opacity-90",children:M.message})]})]})]}),m.jsx("div",{className:"bg-slate-50 dark:bg-slate-900/50 px-6 py-5 flex justify-end items-center border-t border-slate-100 dark:border-slate-800",children:m.jsxs("button",{type:"submit",className:"flex items-center gap-2 px-8 py-3 bg-orange-500 text-white rounded-2xl hover:bg-orange-600 font-black uppercase tracking-widest text-[10px] shadow-xl shadow-orange-500/30 transition-all active:scale-95",children:[m.jsx(p2,{className:"w-5 h-5 shadow-lg"})," Connect Database"]})})]})}),m.jsx("div",{className:"lg:col-span-2",children:m.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-[24px] shadow-sm border border-slate-200 dark:border-slate-800 overflow-hidden",children:[m.jsx("div",{className:"px-6 py-4 border-b border-gray-100 dark:border-slate-800 bg-gray-50 dark:bg-slate-900/50",children:m.jsxs("h3",{className:"text-lg font-bold text-slate-900 dark:text-slate-100 flex items-center gap-2",children:[m.jsx(VX,{className:"w-5 h-5 text-purple-600"})," Data Management"]})}),m.jsxs("div",{className:"p-6",children:[m.jsxs("div",{className:"p-4 bg-yellow-50 dark:bg-yellow-900/10 rounded-2xl border border-yellow-100 dark:border-yellow-900/20 mb-6 flex gap-3",children:[m.jsx(mx,{className:"w-5 h-5 text-yellow-600 flex-shrink-0 mt-0.5"}),m.jsxs("div",{className:"text-sm text-yellow-800 dark:text-yellow-200",children:[m.jsx("p",{className:"font-bold mb-1",children:"Manual Backup"}),"Download a backup regularly. If you clear browser history, your local data may be lost if not synced to cloud."]})]}),m.jsxs("div",{className:"mb-8 p-6 bg-emerald-50 dark:bg-emerald-900/10 border border-emerald-100 dark:border-emerald-900/20 rounded-[24px] flex items-center justify-between group",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:"w-12 h-12 rounded-2xl bg-emerald-500 text-white flex items-center justify-center shadow-lg shadow-emerald-500/20",children:m.jsx(i1,{className:"w-6 h-6"})}),m.jsxs("div",{children:[m.jsx("h4",{className:"font-bold text-slate-800 dark:text-slate-200",children:"GitHub Daily Auto-Backup"}),m.jsx("p",{className:"text-xs text-slate-500",children:"Scheduled: Daily 2:00 AM (Zero Cost)"})]})]}),m.jsx("div",{className:"px-4 py-1.5 bg-emerald-500 text-white text-[10px] font-black uppercase tracking-widest rounded-full shadow-lg shadow-emerald-500/30",children:"Active"})]}),m.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[m.jsxs("button",{onClick:de,className:"flex items-center justify-center gap-4 p-5 bg-slate-50 dark:bg-slate-800/50 rounded-2xl hover:bg-blue-50 dark:hover:bg-blue-900/10 transition-all group border border-dashed border-slate-300 dark:border-slate-700",children:[m.jsx("div",{className:"bg-blue-100 dark:bg-blue-900/30 p-3 rounded-2xl group-hover:scale-110 transition-transform",children:m.jsx(Sm,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),m.jsxs("div",{className:"text-left",children:[m.jsx("div",{className:"font-bold text-slate-800 dark:text-slate-200",children:"Backup Data"}),m.jsx("div",{className:"text-xs text-slate-500",children:"Secure JSON export"})]})]}),m.jsxs("button",{onClick:()=>U.current?.click(),className:"flex items-center justify-center gap-4 p-5 bg-slate-50 dark:bg-slate-800/50 rounded-2xl hover:bg-green-50 dark:hover:bg-green-900/10 transition-all group border border-dashed border-slate-300 dark:border-slate-700",children:[m.jsx("div",{className:"bg-green-100 dark:bg-green-900/30 p-3 rounded-2xl group-hover:scale-110 transition-transform",children:m.jsx(xb,{className:"w-6 h-6 text-green-600 dark:text-green-400"})}),m.jsxs("div",{className:"text-left",children:[m.jsx("div",{className:"font-bold text-slate-800 dark:text-slate-200",children:"Restore Data"}),m.jsx("div",{className:"text-xs text-slate-500",children:"Import from file"})]}),m.jsx("input",{type:"file",ref:U,onChange:oe,accept:".json",className:"hidden"})]})]}),S==="SUCCESS"&&m.jsx("div",{className:"mt-4 p-3 bg-green-100 dark:bg-green-900/20 text-green-800 dark:text-green-400 rounded-xl text-center text-sm font-bold",children:"Data restored successfully!"})]})]})}),m.jsx("div",{className:"lg:col-span-2",children:m.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-[24px] shadow-sm border border-slate-200 dark:border-slate-800 p-6",children:[m.jsxs("h3",{className:"text-lg font-bold text-slate-900 dark:text-slate-100 mb-4 flex items-center gap-2",children:[m.jsx(Py,{className:"w-5 h-5 text-blue-600"})," Support & Contact"]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("a",{href:"mailto:lovneetrathi@gmail.com",className:"flex items-center gap-4 p-4 bg-slate-50 dark:bg-slate-800/50 rounded-2xl border border-slate-100 dark:border-slate-800 hover:border-blue-500 transition-all",children:[m.jsx("div",{className:"p-3 bg-blue-100 dark:bg-blue-900/30 rounded-xl",children:m.jsx(h2,{className:"w-5 h-5 text-blue-600"})}),m.jsxs("div",{children:[m.jsx("p",{className:"text-xs text-slate-500 font-bold uppercase tracking-wider",children:"Email Us"}),m.jsx("p",{className:"text-sm font-bold text-slate-800 dark:text-slate-200",children:"lovneetrathi@gmail.com"})]})]}),m.jsxs("a",{href:"tel:+919413821007",className:"flex items-center gap-4 p-4 bg-slate-50 dark:bg-slate-800/50 rounded-2xl border border-slate-100 dark:border-slate-800 hover:border-green-500 transition-all",children:[m.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900/30 rounded-xl",children:m.jsx(Py,{className:"w-5 h-5 text-green-600"})}),m.jsxs("div",{children:[m.jsx("p",{className:"text-xs text-slate-500 font-bold uppercase tracking-wider",children:"Call Us"}),m.jsx("p",{className:"text-sm font-bold text-slate-800 dark:text-slate-200",children:"+91 9413821007"})]})]})]})]})}),m.jsx("div",{className:"lg:col-span-2",children:m.jsxs("div",{className:"bg-slate-100 dark:bg-slate-800/30 rounded-[24px] p-6 text-center",children:[m.jsx("h3",{className:"text-sm font-bold text-slate-400 uppercase tracking-widest mb-6 px-4 py-1 border border-slate-200 dark:border-slate-700 inline-block rounded-full",children:"Legal & Privacy"}),m.jsxs("div",{className:"flex flex-wrap justify-center gap-4 mb-8",children:[m.jsx("button",{onClick:ae,className:"px-6 py-2 bg-white dark:bg-slate-900 text-slate-600 dark:text-slate-400 rounded-full text-xs font-bold shadow-sm",children:"Privacy Policy"}),m.jsx("button",{onClick:pe,className:"px-6 py-2 bg-white dark:bg-slate-900 text-slate-600 dark:text-slate-400 rounded-full text-xs font-bold shadow-sm",children:"Terms of Use"}),m.jsx("button",{onClick:()=>alert(`Refund Policy:

BillBook is currently free to use. Should we introduce premium features, refunds will be processed via Google Play Store as per their standard policy. Contact support for any billing disputes.`),className:"px-6 py-2 bg-white dark:bg-slate-900 text-slate-600 dark:text-slate-400 rounded-full text-xs font-bold shadow-sm",children:"Refund Policy"})]}),m.jsxs("div",{className:"pt-6 border-t border-slate-200 dark:border-slate-800",children:[m.jsx("p",{className:"text-sm font-bold text-slate-800 dark:text-slate-200 italic",children:"BillBook - Version 1.3.4 (STABLE)"}),m.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Play Console Verified & Compliant"}),m.jsxs("div",{className:"mt-4 flex justify-center items-center gap-2 text-[10px] text-slate-400",children:[m.jsx(i1,{className:"w-3 h-3 text-green-500"})," Trusted for Play Console"]})]})]})})]}),D&&m.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-md flex items-center justify-center z-[100] p-4",children:m.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-[40px] shadow-2xl w-full max-w-2xl p-8 animate-in fade-in zoom-in duration-200 border border-slate-100 dark:border-slate-800",children:[m.jsxs("div",{className:"flex justify-between items-start mb-6",children:[m.jsxs("div",{children:[m.jsxs("h3",{className:"text-2xl font-black text-slate-900 dark:text-slate-100 flex items-center gap-3 uppercase italic tracking-tight",children:[m.jsx(n3,{className:"w-7 h-7 text-purple-600"})," Smart Auto-Fill"]}),m.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1 font-medium",children:"Paste the configuration code from Firebase console."})]}),m.jsx("button",{onClick:()=>z(!1),className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full transition-colors",children:m.jsx(NX,{className:"w-7 h-7 text-slate-300 hover:text-red-500 transition-colors"})})]}),m.jsx("textarea",{value:G,onChange:ke=>P(ke.target.value),placeholder:`Example paste:
const firebaseConfig = {
  apiKey: "AIzaSy...",
  authDomain: "project.firebaseapp.com",
  projectId: "project-id",
  ...
};`,className:"w-full h-64 p-5 border border-slate-200 dark:border-slate-800 rounded-3xl font-mono text-xs bg-slate-50 dark:bg-slate-950 text-slate-800 dark:text-slate-300 focus:ring-2 focus:ring-purple-500 outline-none mb-8 resize-none shadow-inner"}),m.jsxs("div",{className:"flex justify-end gap-3",children:[m.jsx("button",{onClick:()=>z(!1),className:"px-8 py-3 text-slate-500 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-2xl font-black uppercase tracking-widest text-[10px]",children:"Cancel"}),m.jsx("button",{onClick:Ee,className:"px-10 py-3 bg-purple-600 text-white rounded-2xl hover:bg-purple-700 font-black uppercase tracking-widest text-[10px] shadow-xl shadow-purple-500/30 active:scale-95",children:"Parse & Auto-Fill"})]})]})})]})},cye=({initialDate:t})=>{const[e,n]=J.useState(t||new Date().toISOString().split("T")[0]),[r,s]=J.useState([]),[i,a]=J.useState({totalSales:0,cashSales:0,creditSales:0,totalReceived:0,totalTransactions:0});J.useEffect(()=>{const c=it.getInvoices()||[],u=it.getPayments()||[],d=c.filter(C=>C.date===e),p=u.filter(C=>C.date===e),g=d.reduce((C,F)=>C+F.total,0),x=d.filter(C=>C.status==="PAID").reduce((C,F)=>C+F.total,0),w=d.filter(C=>C.status==="PENDING").reduce((C,F)=>C+F.total,0),y=p.reduce((C,F)=>C+F.amount,0);a({totalSales:g,cashSales:x,creditSales:w,totalReceived:y+x,totalTransactions:d.length+p.length});const S=[...d.map(C=>({id:C.id,time:"Invoice",type:"SALE",party:C.customerName,amount:C.total,mode:C.status==="PAID"?"CASH":"CREDIT",ref:C.invoiceNumber})),...p.map(C=>{const F=it.getCustomers().find(I=>I.id===C.customerId);return{id:C.id,time:"Payment",type:"RECEIPT",party:F?.company||F?.name||"Customer",amount:C.amount,mode:C.mode,ref:C.reference||"N/A"}})];s(S)},[e]);const o=()=>{ri.medium();try{const c=new gn("p","mm","a4"),u=it.getCompanyProfile(),d=c.internal.pageSize.getWidth();let p=20;c.setFontSize(22),c.setTextColor(30,41,59),c.text(u?.name||"Daybook",d/2,p,{align:"center"}),p+=10,c.setFontSize(10),c.setTextColor(100,116,139),c.text(`Transaction Summary for ${e}`,d/2,p,{align:"center"}),p+=15,c.save(`daybook-${e}.pdf`)}catch{alert("PDF Save failed")}};return m.jsx("div",{className:"p-4 md:p-8 bg-slate-50 dark:bg-slate-900 min-h-full pb-24",children:m.jsxs("div",{className:"max-w-5xl mx-auto",children:[m.jsxs("div",{className:"flex justify-between items-end mb-8",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-[10px] font-black text-blue-600 dark:text-blue-400 uppercase tracking-widest mb-1",children:"Accounting Ledger"}),m.jsx("h1",{className:"text-4xl font-black text-slate-900 dark:text-slate-100 tracking-tighter",children:"Day Book"})]}),m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-2 rounded-2xl border border-slate-200 dark:border-slate-700 shadow-sm flex items-center gap-2",children:[m.jsx(tA,{className:"w-4 h-4 text-slate-400"}),m.jsx("input",{type:"date",value:e,onChange:c=>n(c.target.value),className:"bg-transparent text-sm font-bold outline-none text-slate-700 dark:text-slate-200"})]}),m.jsx("button",{onClick:o,className:"bg-slate-900 dark:bg-blue-600 text-white p-3 rounded-2xl shadow-xl active:scale-95 transition-all",children:m.jsx(Sm,{className:"w-5 h-5"})})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[m.jsxs(Fn.div,{initial:{y:10,opacity:0},animate:{y:0,opacity:1},className:"bg-white dark:bg-slate-800 p-6 rounded-[32px] shadow-sm border border-slate-100 dark:border-slate-700",children:[m.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/30 w-10 h-10 rounded-xl flex items-center justify-center mb-4",children:m.jsx(xX,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),m.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mb-1",children:"Total Sales"}),m.jsxs("p",{className:"text-3xl font-black text-slate-900 dark:text-slate-100",children:["",i.totalSales.toLocaleString()]}),m.jsxs("p",{className:"text-[10px] font-bold text-slate-400 mt-2",children:["Cash: ",i.cashSales," | Credit: ",i.creditSales]})]}),m.jsxs(Fn.div,{initial:{y:10,opacity:0},animate:{y:0,opacity:1},transition:{delay:.1},className:"bg-emerald-600 p-6 rounded-[32px] shadow-lg shadow-emerald-500/20 text-white",children:[m.jsx("div",{className:"bg-white/20 w-10 h-10 rounded-xl flex items-center justify-center mb-4",children:m.jsx(DJ,{className:"w-5 h-5 text-white"})}),m.jsx("p",{className:"text-xs font-bold uppercase tracking-widest mb-1 opacity-70",children:"Cash In Hand"}),m.jsxs("p",{className:"text-3xl font-black",children:["",i.totalReceived.toLocaleString()]}),m.jsx("p",{className:"text-[10px] font-bold mt-2 opacity-70",children:"From Sales & Payments Received"})]}),m.jsxs(Fn.div,{initial:{y:10,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},className:"bg-white dark:bg-slate-800 p-6 rounded-[32px] shadow-sm border border-slate-100 dark:border-slate-700",children:[m.jsx("div",{className:"bg-purple-50 dark:bg-purple-900/30 w-10 h-10 rounded-xl flex items-center justify-center mb-4",children:m.jsx($X,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"})}),m.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mb-1",children:"Entries"}),m.jsx("p",{className:"text-3xl font-black text-slate-900 dark:text-slate-100",children:i.totalTransactions}),m.jsxs("p",{className:"text-[10px] font-bold text-slate-400 mt-2",children:["Activity for ",e]})]})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-[32px] shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden",children:[m.jsx("div",{className:"px-6 py-4 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center",children:m.jsx("h3",{className:"font-bold text-slate-800 dark:text-slate-100",children:"Transaction Register"})}),m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full",children:[m.jsx("thead",{className:"bg-slate-50 dark:bg-slate-900/50",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-slate-400 uppercase",children:"Type"}),m.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-slate-400 uppercase",children:"Party"}),m.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-slate-400 uppercase",children:"Reference"}),m.jsx("th",{className:"px-6 py-4 text-right text-[10px] font-black text-slate-400 uppercase",children:"Amount"}),m.jsx("th",{className:"px-6 py-4 text-center text-[10px] font-black text-slate-400 uppercase",children:"Mode"})]})}),m.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:r.map((c,u)=>m.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-900/50 transition-colors",children:[m.jsx("td",{className:"px-6 py-4",children:m.jsxs("div",{className:`inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-[10px] font-black uppercase ${c.type==="SALE"?"bg-blue-50 text-blue-600":"bg-emerald-50 text-emerald-600"}`,children:[c.type==="SALE"?m.jsx(dX,{className:"w-3 h-3"}):m.jsx(Ph,{className:"w-3 h-3"}),c.type]})}),m.jsx("td",{className:"px-6 py-4 text-sm font-bold text-slate-700 dark:text-slate-300",children:c.party}),m.jsx("td",{className:"px-6 py-4 text-xs font-medium text-slate-400",children:c.ref}),m.jsx("td",{className:"px-6 py-4 text-right",children:m.jsxs("p",{className:"text-sm font-black text-slate-900 dark:text-slate-100",children:["",c.amount.toLocaleString()]})}),m.jsx("td",{className:"px-6 py-4 text-center",children:m.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase",children:c.mode})})]},u))})]})})]})]})})},uye=["Rent","Electricity","Salary","Tea/Snacks","Transportation","Marketing","Maintenance","Other"],fye=({onBack:t})=>{const[e,n]=J.useState([]),[r,s]=J.useState(!1),[i,a]=J.useState({date:new Date().toISOString().split("T")[0],category:"Other",paymentMode:"CASH"});J.useEffect(()=>{n(it.getExpenses())},[]);const o=()=>{if(!i.amount||!i.category||!i.date){alert("Please fill all required fields");return}const d={id:crypto.randomUUID(),category:i.category,description:i.description||"",amount:Number(i.amount),date:i.date,paymentMode:i.paymentMode};it.saveExpense(d),n(it.getExpenses()),s(!1),a({date:new Date().toISOString().split("T")[0],category:"Other",paymentMode:"CASH"})},c=d=>{confirm("Are you sure you want to delete this expense?")&&(it.deleteExpense(d),n(it.getExpenses()))},u=e.reduce((d,p)=>d+p.amount,0);return m.jsxs("div",{className:"p-4 md:p-6 pb-24 md:pb-6 relative min-h-full",children:[m.jsxs("div",{className:"flex justify-between items-center mb-6",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[t&&m.jsx("button",{onClick:t,className:"md:hidden p-2 -ml-2 text-slate-500",children:m.jsx(Qu,{className:"w-5 h-5"})}),m.jsxs("div",{children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100",children:"Expenses"}),m.jsx("p",{className:"text-sm text-slate-500",children:"Track business costs"})]})]}),m.jsxs("button",{onClick:()=>s(!0),className:"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg flex items-center gap-2 shadow-sm transition-colors",children:[m.jsx(wd,{className:"w-4 h-4"}),m.jsx("span",{className:"hidden md:inline",children:"Add Expense"})]})]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700",children:[m.jsx("p",{className:"text-slate-500 text-sm font-medium",children:"Total Expenses"}),m.jsxs("h3",{className:"text-3xl font-bold text-red-600 mt-1",children:["",u.toFixed(2)]})]})}),m.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden",children:e.length>0?m.jsx("div",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:e.map(d=>m.jsxs("div",{className:"p-4 hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors flex items-center justify-between group",children:[m.jsxs("div",{className:"flex items-start gap-4",children:[m.jsx("div",{className:"w-10 h-10 rounded-full bg-red-50 dark:bg-red-900/20 text-red-500 flex items-center justify-center flex-shrink-0",children:m.jsx(_J,{className:"w-5 h-5"})}),m.jsxs("div",{children:[m.jsx("h4",{className:"font-semibold text-slate-800 dark:text-slate-200",children:d.category}),m.jsx("p",{className:"text-sm text-slate-500",children:d.description||"No description"}),m.jsxs("div",{className:"flex items-center gap-3 mt-1 text-xs text-slate-400",children:[m.jsxs("span",{className:"flex items-center gap-1",children:[m.jsx(tA,{className:"w-3 h-3"})," ",d.date]}),m.jsx("span",{className:"uppercase border border-slate-200 dark:border-slate-600 px-1.5 py-0.5 rounded text-[10px]",children:d.paymentMode})]})]})]}),m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsxs("p",{className:"font-bold text-slate-800 dark:text-slate-200",children:["",d.amount.toFixed(2)]}),m.jsx("button",{onClick:()=>c(d.id),className:"p-2 text-slate-400 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-opacity",children:m.jsx(_d,{className:"w-4 h-4"})})]})]},d.id))}):m.jsxs("div",{className:"p-12 text-center text-slate-400",children:[m.jsx("div",{className:"w-16 h-16 bg-slate-100 dark:bg-slate-800 rounded-full flex items-center justify-center mx-auto mb-4",children:m.jsx(G5,{className:"w-8 h-8 text-slate-300"})}),m.jsx("p",{children:"No expenses recorded yet."})]})}),m.jsx(ru,{children:r&&m.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-end md:items-center justify-center p-4 backdrop-blur-sm",children:m.jsxs(Fn.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},className:"bg-white dark:bg-slate-800 w-full max-w-md rounded-2xl shadow-xl overflow-hidden",children:[m.jsxs("div",{className:"p-6 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center",children:[m.jsx("h3",{className:"font-bold text-lg text-slate-800 dark:text-slate-100",children:"Add New Expense"}),m.jsx("button",{onClick:()=>s(!1),className:"text-slate-400 hover:text-slate-600",children:"Close"})]}),m.jsxs("div",{className:"p-6 space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Date"}),m.jsx("input",{type:"date",value:i.date,onChange:d=>a({...i,date:d.target.value}),className:"w-full p-2 border border-slate-200 dark:border-slate-600 rounded-lg dark:bg-slate-700 dark:text-white"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Category"}),m.jsx("select",{value:i.category,onChange:d=>a({...i,category:d.target.value}),className:"w-full p-2 border border-slate-200 dark:border-slate-600 rounded-lg dark:bg-slate-700 dark:text-white",children:uye.map(d=>m.jsx("option",{value:d,children:d},d))})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Amount ()"}),m.jsx("input",{type:"number",value:i.amount,onChange:d=>a({...i,amount:Number(d.target.value)}),placeholder:"0.00",className:"w-full p-2 border border-slate-200 dark:border-slate-600 rounded-lg dark:bg-slate-700 dark:text-white"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Description (Optional)"}),m.jsx("input",{type:"text",value:i.description,onChange:d=>a({...i,description:d.target.value}),placeholder:"Details...",className:"w-full p-2 border border-slate-200 dark:border-slate-600 rounded-lg dark:bg-slate-700 dark:text-white"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Payment Mode"}),m.jsx("div",{className:"flex gap-2",children:["CASH","UPI","BANK_TRANSFER"].map(d=>m.jsx("button",{onClick:()=>a({...i,paymentMode:d}),className:`flex-1 py-2 text-xs font-medium rounded-lg border ${i.paymentMode===d?"bg-blue-600 text-white border-blue-600":"bg-white text-slate-600 border-slate-200 hover:bg-slate-50"}`,children:d.replace("_"," ")},d))})]}),m.jsx("div",{className:"pt-4",children:m.jsx("button",{onClick:o,className:"w-full bg-blue-600 text-white py-3 rounded-lg font-bold hover:bg-blue-700 transition-colors",children:"Save Expense"})})]})]})})})]})},dye=({onBack:t,initialPayment:e})=>{const[n,r]=J.useState(it.getPayments()),[s]=J.useState(it.getCustomers()),[i,a]=J.useState(!1),[o,c]=J.useState(null),[u,d]=J.useState(""),[p,g]=J.useState(""),[x,w]=J.useState(new Date().toISOString().split("T")[0]),[y,S]=J.useState("CASH"),[C,F]=J.useState(""),[I,D]=J.useState("");Ho.useEffect(()=>{e&&G(e)},[e]);const z=()=>{c(null),d(""),g(""),w(new Date().toISOString().split("T")[0]),S("CASH"),F(""),D(""),a(!0),ri.light()},G=U=>{c(U),d(U.customerId),g(U.amount.toString()),w(U.date),S(U.mode),F(U.reference||""),D(U.note||""),a(!0),ri.light()},P=U=>{confirm("Are you sure you want to delete this receipt?")&&(it.deletePayment(U),r(it.getPayments()),ri.notification())},M=()=>{if(!u||!p)return alert("Please select customer and entering amount");const U={id:o?o.id:crypto.randomUUID(),customerId:u,date:x,amount:Number(p),mode:y,reference:C,note:I};o?it.updatePayment(U):it.savePayment(U),r(it.getPayments()),a(!1),ri.success(),c(null),d(""),g(""),F(""),D("")},R=U=>s.find(L=>L.id===U)?.company||s.find(L=>L.id===U)?.name||"Unknown";return m.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900 min-h-screen flex flex-col",children:[m.jsxs("div",{className:"bg-white dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700 p-4 sticky top-0 z-10 flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("button",{onClick:t,className:"p-2 -ml-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-700",children:m.jsx(Qu,{className:"w-6 h-6 text-slate-600 dark:text-slate-300"})}),m.jsx("h1",{className:"text-xl font-bold text-slate-800 dark:text-slate-100",children:"Payment Receipts"})]}),m.jsxs("button",{onClick:z,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium flex items-center gap-2",children:[m.jsx(wd,{className:"w-5 h-5"})," ",m.jsx("span",{className:"hidden sm:inline",children:"New Receipt"})]})]}),m.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3 pb-24",children:n.length===0?m.jsxs("div",{className:"text-center py-20 text-slate-400",children:[m.jsx(Ph,{className:"w-16 h-16 mx-auto mb-4 opacity-20"}),m.jsx("p",{children:"No payments received yet."})]}):n.slice().reverse().map(U=>m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl shadow-sm border border-slate-100 dark:border-slate-700 flex justify-between items-center group",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:"w-12 h-12 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center text-green-600 dark:text-green-400",children:m.jsx(Ph,{className:"w-6 h-6"})}),m.jsxs("div",{children:[m.jsx("h3",{className:"font-bold text-slate-800 dark:text-slate-200",children:R(U.customerId)}),m.jsxs("p",{className:"text-xs text-slate-500 font-medium flex items-center gap-2",children:[m.jsx("span",{children:new Date(U.date).toLocaleDateString()}),m.jsx("span",{className:"w-1 h-1 bg-slate-300 rounded-full"}),m.jsx("span",{className:"uppercase",children:U.mode})]})]})]}),m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:"text-right",children:m.jsxs("span",{className:"block text-lg font-bold text-green-600 dark:text-green-400",children:["+",U.amount.toLocaleString("en-IN")]})}),m.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[m.jsx("button",{onClick:()=>G(U),className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg text-slate-400 hover:text-blue-600",children:m.jsx(W5,{className:"w-4 h-4"})}),m.jsx("button",{onClick:()=>P(U.id),className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg text-slate-400 hover:text-red-600",children:m.jsx(_d,{className:"w-4 h-4"})})]}),m.jsx("div",{className:"md:hidden flex gap-1",children:m.jsx("button",{onClick:()=>G(U),className:"p-2 text-slate-400",children:m.jsx(W5,{className:"w-4 h-4"})})})]})]},U.id))}),i&&m.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-end sm:items-center justify-center p-0 sm:p-4 pb-safe",children:m.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-lg rounded-t-3xl sm:rounded-3xl p-6 shadow-2xl overflow-y-auto max-h-[90vh]",children:[m.jsxs("div",{className:"flex justify-between items-center mb-6",children:[m.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-100",children:o?"Edit Receipt":"Receive Payment"}),m.jsx("button",{onClick:()=>a(!1),className:"p-2 bg-slate-100 dark:bg-slate-800 rounded-full",children:m.jsx(Wu,{className:"w-5 h-5"})})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase mb-1 block",children:"Customer"}),m.jsx(XT,{options:s.map(U=>({id:U.id,label:U.company,subLabel:U.name})),value:u,onChange:d,onCreate:()=>{},placeholder:"Select Customer",type:"customer"})]}),m.jsxs("div",{className:"flex gap-4",children:[m.jsxs("div",{className:"flex-1",children:[m.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase mb-1 block",children:"Amount"}),m.jsxs("div",{className:"relative",children:[m.jsx("span",{className:"absolute left-3 top-3.5 text-slate-400 font-bold",children:""}),m.jsx("input",{type:"number",className:"w-full bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl py-3 pl-8 pr-4 font-bold outline-none focus:ring-2 focus:ring-blue-500",value:p,onChange:U=>g(U.target.value),placeholder:"0.00"})]})]}),m.jsxs("div",{className:"flex-1",children:[m.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase mb-1 block",children:"Date"}),m.jsx("input",{type:"date",className:"w-full bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl py-3 px-4 font-medium outline-none focus:ring-2 focus:ring-blue-500",value:x,onChange:U=>w(U.target.value)})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase mb-1 block",children:"Payment Mode"}),m.jsx("div",{className:"grid grid-cols-4 gap-2",children:["CASH","UPI","BANK_TRANSFER","CHEQUE"].map(U=>m.jsx("button",{onClick:()=>S(U),className:`py-2 rounded-lg text-[10px] font-bold uppercase transition-colors border ${y===U?"bg-blue-600 text-white border-blue-600":"bg-slate-50 dark:bg-slate-800 text-slate-500 border-slate-200 dark:border-slate-700"}`,children:U.replace("_"," ")},U))})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase mb-1 block",children:"Reference / Note"}),m.jsx("input",{type:"text",className:"w-full bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl py-3 px-4 font-medium outline-none focus:ring-2 focus:ring-blue-500",value:C,onChange:U=>F(U.target.value),placeholder:"e.g. UPI Ref ID or Cheque No."})]}),m.jsxs("div",{className:"pt-4 flex gap-3",children:[m.jsx("button",{onClick:()=>a(!1),className:"flex-1 py-3.5 rounded-xl font-bold text-slate-500 bg-slate-100 hover:bg-slate-200",children:"Cancel"}),m.jsx("button",{onClick:M,className:"flex-1 py-3.5 rounded-xl font-bold text-white bg-blue-600 hover:bg-blue-700 shadow-lg shadow-blue-600/20",children:o?"Update Receipt":"Save Receipt"})]})]})]})})]})};var Zj=1252,hye=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],OC={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},BC=function(t){hye.indexOf(t)!=-1&&(Zj=OC[0]=t)};function pye(){BC(1252)}var ac=function(t){BC(t)};function eq(){ac(1200),pye()}function s8(t){for(var e=[],n=0,r=t.length;n<r;++n)e[n]=t.charCodeAt(n);return e}function mye(t){for(var e=[],n=0;n<t.length>>1;++n)e[n]=String.fromCharCode(t.charCodeAt(2*n)+(t.charCodeAt(2*n+1)<<8));return e.join("")}function tq(t){for(var e=[],n=0;n<t.length>>1;++n)e[n]=String.fromCharCode(t.charCodeAt(2*n+1)+(t.charCodeAt(2*n)<<8));return e.join("")}var Jg=function(t){var e=t.charCodeAt(0),n=t.charCodeAt(1);return e==255&&n==254?mye(t.slice(2)):e==254&&n==255?tq(t.slice(2)):e==65279?t.slice(1):t},gy=function(e){return String.fromCharCode(e)},i8=function(e){return String.fromCharCode(e)},nx,ud="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function a8(t){for(var e="",n=0,r=0,s=0,i=0,a=0,o=0,c=0,u=0;u<t.length;)n=t.charCodeAt(u++),i=n>>2,r=t.charCodeAt(u++),a=(n&3)<<4|r>>4,s=t.charCodeAt(u++),o=(r&15)<<2|s>>6,c=s&63,isNaN(r)?o=c=64:isNaN(s)&&(c=64),e+=ud.charAt(i)+ud.charAt(a)+ud.charAt(o)+ud.charAt(c);return e}function Qo(t){var e="",n=0,r=0,s=0,i=0,a=0,o=0,c=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<t.length;)i=ud.indexOf(t.charAt(u++)),a=ud.indexOf(t.charAt(u++)),n=i<<2|a>>4,e+=String.fromCharCode(n),o=ud.indexOf(t.charAt(u++)),r=(a&15)<<4|o>>2,o!==64&&(e+=String.fromCharCode(r)),c=ud.indexOf(t.charAt(u++)),s=(o&3)<<6|c,c!==64&&(e+=String.fromCharCode(s));return e}var gr=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),u0=(function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(e,n){return n?new Buffer(e,n):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}})();function Rd(t){return gr?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function o8(t){return gr?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var sc=function(e){return gr?u0(e,"binary"):e.split("").map(function(n){return n.charCodeAt(0)&255})};function f0(t){if(Array.isArray(t))return t.map(function(r){return String.fromCharCode(r)}).join("");for(var e=[],n=0;n<t.length;++n)e[n]=String.fromCharCode(t[n]);return e.join("")}function VC(t){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(t instanceof ArrayBuffer)return VC(new Uint8Array(t));for(var e=new Array(t.length),n=0;n<t.length;++n)e[n]=t[n];return e}var ad=gr?function(t){return Buffer.concat(t.map(function(e){return Buffer.isBuffer(e)?e:u0(e)}))}:function(t){if(typeof Uint8Array<"u"){var e=0,n=0;for(e=0;e<t.length;++e)n+=t[e].length;var r=new Uint8Array(n),s=0;for(e=0,n=0;e<t.length;n+=s,++e)if(s=t[e].length,t[e]instanceof Uint8Array)r.set(t[e],n);else{if(typeof t[e]=="string")throw"wtf";r.set(new Uint8Array(t[e]),n)}return r}return[].concat.apply([],t.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function gye(t){for(var e=[],n=0,r=t.length+250,s=Rd(t.length+255),i=0;i<t.length;++i){var a=t.charCodeAt(i);if(a<128)s[n++]=a;else if(a<2048)s[n++]=192|a>>6&31,s[n++]=128|a&63;else if(a>=55296&&a<57344){a=(a&1023)+64;var o=t.charCodeAt(++i)&1023;s[n++]=240|a>>8&7,s[n++]=128|a>>2&63,s[n++]=128|o>>6&15|(a&3)<<4,s[n++]=128|o&63}else s[n++]=224|a>>12&15,s[n++]=128|a>>6&63,s[n++]=128|a&63;n>r&&(e.push(s.slice(0,n)),n=0,s=Rd(65535),r=65530)}return e.push(s.slice(0,n)),ad(e)}var Ja=/\u0000/g,Qg=/[\u0001-\u0006]/g;function Jp(t){for(var e="",n=t.length-1;n>=0;)e+=t.charAt(n--);return e}function oc(t,e){var n=""+t;return n.length>=e?n:Gs("0",e-n.length)+n}function UC(t,e){var n=""+t;return n.length>=e?n:Gs(" ",e-n.length)+n}function tb(t,e){var n=""+t;return n.length>=e?n:n+Gs(" ",e-n.length)}function xye(t,e){var n=""+Math.round(t);return n.length>=e?n:Gs("0",e-n.length)+n}function vye(t,e){var n=""+t;return n.length>=e?n:Gs("0",e-n.length)+n}var l8=Math.pow(2,32);function fp(t,e){if(t>l8||t<-l8)return xye(t,e);var n=Math.round(t);return vye(n,e)}function nb(t,e){return e=e||0,t.length>=7+e&&(t.charCodeAt(e)|32)===103&&(t.charCodeAt(e+1)|32)===101&&(t.charCodeAt(e+2)|32)===110&&(t.charCodeAt(e+3)|32)===101&&(t.charCodeAt(e+4)|32)===114&&(t.charCodeAt(e+5)|32)===97&&(t.charCodeAt(e+6)|32)===108}var c8=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],f5=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function yye(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"/ "hh""mm""ss" "',t}var Kn={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},u8={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},bye={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function rb(t,e,n){for(var r=t<0?-1:1,s=t*r,i=0,a=1,o=0,c=1,u=0,d=0,p=Math.floor(s);u<e&&(p=Math.floor(s),o=p*a+i,d=p*u+c,!(s-p<5e-8));)s=1/(s-p),i=a,a=o,c=u,u=d;if(d>e&&(u>e?(d=c,o=i):(d=u,o=a)),!n)return[0,r*o,d];var g=Math.floor(r*o/d);return[g,r*o-g*d,d]}function wh(t,e,n){if(t>2958465||t<0)return null;var r=t|0,s=Math.floor(86400*(t-r)),i=0,a=[],o={D:r,T:s,u:86400*(t-r)-s,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),e&&e.date1904&&(r+=1462),o.u>.9999&&(o.u=0,++s==86400&&(o.T=s=0,++r,++o.D)),r===60)a=n?[1317,10,29]:[1900,2,29],i=3;else if(r===0)a=n?[1317,8,29]:[1900,1,0],i=6;else{r>60&&--r;var c=new Date(1900,0,1);c.setDate(c.getDate()+r-1),a=[c.getFullYear(),c.getMonth()+1,c.getDate()],i=c.getDay(),r<60&&(i=(i+6)%7),n&&(i=Aye(c,a))}return o.y=a[0],o.m=a[1],o.d=a[2],o.S=s%60,s=Math.floor(s/60),o.M=s%60,s=Math.floor(s/60),o.H=s,o.q=i,o}var nq=new Date(1899,11,31,0,0,0),wye=nq.getTime(),_ye=new Date(1900,2,1,0,0,0);function rq(t,e){var n=t.getTime();return e?n-=1461*24*60*60*1e3:t>=_ye&&(n+=1440*60*1e3),(n-(wye+(t.getTimezoneOffset()-nq.getTimezoneOffset())*6e4))/(1440*60*1e3)}function jC(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function Eye(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function Tye(t){var e=t<0?12:11,n=jC(t.toFixed(12));return n.length<=e||(n=t.toPrecision(10),n.length<=e)?n:t.toExponential(5)}function Sye(t){var e=jC(t.toFixed(11));return e.length>(t<0?12:11)||e==="0"||e==="-0"?t.toPrecision(6):e}function rx(t){var e=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),n;return e>=-4&&e<=-1?n=t.toPrecision(10+e):Math.abs(e)<=9?n=Tye(t):e===10?n=t.toFixed(10).substr(0,12):n=Sye(t),jC(Eye(n.toUpperCase()))}function Yh(t,e){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):rx(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return Il(14,rq(t,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+t)}function Aye(t,e){e[0]-=581;var n=t.getDay();return t<60&&(n=(n+6)%7),n}function Cye(t,e,n,r){var s="",i=0,a=0,o=n.y,c,u=0;switch(t){case 98:o=n.y+543;case 121:switch(e.length){case 1:case 2:c=o%100,u=2;break;default:c=o%1e4,u=4;break}break;case 109:switch(e.length){case 1:case 2:c=n.m,u=e.length;break;case 3:return f5[n.m-1][1];case 5:return f5[n.m-1][0];default:return f5[n.m-1][2]}break;case 100:switch(e.length){case 1:case 2:c=n.d,u=e.length;break;case 3:return c8[n.q][0];default:return c8[n.q][1]}break;case 104:switch(e.length){case 1:case 2:c=1+(n.H+11)%12,u=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:c=n.H,u=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:c=n.M,u=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return n.u===0&&(e=="s"||e=="ss")?oc(n.S,e.length):(r>=2?a=r===3?1e3:100:a=r===1?10:1,i=Math.round(a*(n.S+n.u)),i>=60*a&&(i=0),e==="s"?i===0?"0":""+i/a:(s=oc(i,2+r),e==="ss"?s.substr(0,2):"."+s.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":c=n.D*24+n.H;break;case"[m]":case"[mm]":c=(n.D*24+n.H)*60+n.M;break;case"[s]":case"[ss]":c=((n.D*24+n.H)*60+n.M)*60+Math.round(n.S+n.u);break;default:throw"bad abstime format: "+e}u=e.length===3?1:2;break;case 101:c=o,u=1;break}var d=u>0?oc(c,u):"";return d}function fd(t){var e=3;if(t.length<=e)return t;for(var n=t.length%e,r=t.substr(0,n);n!=t.length;n+=e)r+=(r.length>0?",":"")+t.substr(n,e);return r}var sq=/%/g;function Nye(t,e,n){var r=e.replace(sq,""),s=e.length-r.length;return Yu(t,r,n*Math.pow(10,2*s))+Gs("%",s)}function Iye(t,e,n){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return Yu(t,e.substr(0,r),n/Math.pow(10,3*(e.length-r)))}function iq(t,e){var n,r=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+iq(t,-e);var s=t.indexOf(".");s===-1&&(s=t.indexOf("E"));var i=Math.floor(Math.log(e)*Math.LOG10E)%s;if(i<0&&(i+=s),n=(e/Math.pow(10,i)).toPrecision(r+1+(s+i)%s),n.indexOf("e")===-1){var a=Math.floor(Math.log(e)*Math.LOG10E);for(n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(a-n.length+i):n+="E+"+(a-i);n.substr(0,2)==="0.";)n=n.charAt(0)+n.substr(2,s)+"."+n.substr(2+s),n=n.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,c,u,d){return c+u+d.substr(0,(s+i)%s)+"."+d.substr(i)+"E"})}else n=e.toExponential(r);return t.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),t.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}var aq=/# (\?+)( ?)\/( ?)(\d+)/;function kye(t,e,n){var r=parseInt(t[4],10),s=Math.round(e*r),i=Math.floor(s/r),a=s-i*r,o=r;return n+(i===0?"":""+i)+" "+(a===0?Gs(" ",t[1].length+1+t[4].length):UC(a,t[1].length)+t[2]+"/"+t[3]+oc(o,t[4].length))}function Rye(t,e,n){return n+(e===0?"":""+e)+Gs(" ",t[1].length+2+t[4].length)}var oq=/^#*0*\.([0#]+)/,lq=/\).*[0#]/,cq=/\(###\) ###\\?-####/;function Ga(t){for(var e="",n,r=0;r!=t.length;++r)switch(n=t.charCodeAt(r)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(n)}return e}function f8(t,e){var n=Math.pow(10,e);return""+Math.round(t*n)/n}function d8(t,e){var n=t-Math.floor(t),r=Math.pow(10,e);return e<(""+Math.round(n*r)).length?0:Math.round(n*r)}function Pye(t,e){return e<(""+Math.round((t-Math.floor(t))*Math.pow(10,e))).length?1:0}function Dye(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function vl(t,e,n){if(t.charCodeAt(0)===40&&!e.match(lq)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?vl("n",r,n):"("+vl("n",r,-n)+")"}if(e.charCodeAt(e.length-1)===44)return Iye(t,e,n);if(e.indexOf("%")!==-1)return Nye(t,e,n);if(e.indexOf("E")!==-1)return iq(e,n);if(e.charCodeAt(0)===36)return"$"+vl(t,e.substr(e.charAt(1)==" "?2:1),n);var s,i,a,o,c=Math.abs(n),u=n<0?"-":"";if(e.match(/^00+$/))return u+fp(c,e.length);if(e.match(/^[#?]+$/))return s=fp(n,0),s==="0"&&(s=""),s.length>e.length?s:Ga(e.substr(0,e.length-s.length))+s;if(i=e.match(aq))return kye(i,c,u);if(e.match(/^#+0+$/))return u+fp(c,e.length-e.indexOf("0"));if(i=e.match(oq))return s=f8(n,i[1].length).replace(/^([^\.]+)$/,"$1."+Ga(i[1])).replace(/\.$/,"."+Ga(i[1])).replace(/\.(\d*)$/,function(w,y){return"."+y+Gs("0",Ga(i[1]).length-y.length)}),e.indexOf("0.")!==-1?s:s.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),i=e.match(/^(0*)\.(#*)$/))return u+f8(c,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=e.match(/^#{1,3},##0(\.?)$/))return u+fd(fp(c,0));if(i=e.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+vl(t,e,-n):fd(""+(Math.floor(n)+Pye(n,i[1].length)))+"."+oc(d8(n,i[1].length),i[1].length);if(i=e.match(/^#,#*,#0/))return vl(t,e.replace(/^#,#*,/,""),n);if(i=e.match(/^([0#]+)(\\?-([0#]+))+$/))return s=Jp(vl(t,e.replace(/[\\-]/g,""),n)),a=0,Jp(Jp(e.replace(/\\/g,"")).replace(/[0#]/g,function(w){return a<s.length?s.charAt(a++):w==="0"?"0":""}));if(e.match(cq))return s=vl(t,"##########",n),"("+s.substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var d="";if(i=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(i[4].length,7),o=rb(c,Math.pow(10,a)-1,!1),s=""+u,d=Yu("n",i[1],o[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),s+=d+i[2]+"/"+i[3],d=tb(o[2],a),d.length<i[4].length&&(d=Ga(i[4].substr(i[4].length-d.length))+d),s+=d,s;if(i=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(i[1].length,i[4].length),7),o=rb(c,Math.pow(10,a)-1,!0),u+(o[0]||(o[1]?"":"0"))+" "+(o[1]?UC(o[1],a)+i[2]+"/"+i[3]+tb(o[2],a):Gs(" ",2*a+1+i[2].length+i[3].length));if(i=e.match(/^[#0?]+$/))return s=fp(n,0),e.length<=s.length?s:Ga(e.substr(0,e.length-s.length))+s;if(i=e.match(/^([#0?]+)\.([#0]+)$/)){s=""+n.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),a=s.indexOf(".");var p=e.indexOf(".")-a,g=e.length-s.length-p;return Ga(e.substr(0,p)+s+e.substr(e.length-g))}if(i=e.match(/^00,000\.([#0]*0)$/))return a=d8(n,i[1].length),n<0?"-"+vl(t,e,-n):fd(Dye(n)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(w){return"00,"+(w.length<3?oc(0,3-w.length):"")+w})+"."+oc(a,i[1].length);switch(e){case"###,##0.00":return vl(t,"#,##0.00",n);case"###,###":case"##,###":case"#,###":var x=fd(fp(c,0));return x!=="0"?u+x:"";case"###,###.00":return vl(t,"###,##0.00",n).replace(/^0\./,".");case"#,###.00":return vl(t,"#,##0.00",n).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function Mye(t,e,n){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return Yu(t,e.substr(0,r),n/Math.pow(10,3*(e.length-r)))}function Lye(t,e,n){var r=e.replace(sq,""),s=e.length-r.length;return Yu(t,r,n*Math.pow(10,2*s))+Gs("%",s)}function uq(t,e){var n,r=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+uq(t,-e);var s=t.indexOf(".");s===-1&&(s=t.indexOf("E"));var i=Math.floor(Math.log(e)*Math.LOG10E)%s;if(i<0&&(i+=s),n=(e/Math.pow(10,i)).toPrecision(r+1+(s+i)%s),!n.match(/[Ee]/)){var a=Math.floor(Math.log(e)*Math.LOG10E);n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(a-n.length+i):n+="E+"+(a-i),n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,c,u,d){return c+u+d.substr(0,(s+i)%s)+"."+d.substr(i)+"E"})}else n=e.toExponential(r);return t.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),t.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}function Vc(t,e,n){if(t.charCodeAt(0)===40&&!e.match(lq)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?Vc("n",r,n):"("+Vc("n",r,-n)+")"}if(e.charCodeAt(e.length-1)===44)return Mye(t,e,n);if(e.indexOf("%")!==-1)return Lye(t,e,n);if(e.indexOf("E")!==-1)return uq(e,n);if(e.charCodeAt(0)===36)return"$"+Vc(t,e.substr(e.charAt(1)==" "?2:1),n);var s,i,a,o,c=Math.abs(n),u=n<0?"-":"";if(e.match(/^00+$/))return u+oc(c,e.length);if(e.match(/^[#?]+$/))return s=""+n,n===0&&(s=""),s.length>e.length?s:Ga(e.substr(0,e.length-s.length))+s;if(i=e.match(aq))return Rye(i,c,u);if(e.match(/^#+0+$/))return u+oc(c,e.length-e.indexOf("0"));if(i=e.match(oq))return s=(""+n).replace(/^([^\.]+)$/,"$1."+Ga(i[1])).replace(/\.$/,"."+Ga(i[1])),s=s.replace(/\.(\d*)$/,function(w,y){return"."+y+Gs("0",Ga(i[1]).length-y.length)}),e.indexOf("0.")!==-1?s:s.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),i=e.match(/^(0*)\.(#*)$/))return u+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=e.match(/^#{1,3},##0(\.?)$/))return u+fd(""+c);if(i=e.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+Vc(t,e,-n):fd(""+n)+"."+Gs("0",i[1].length);if(i=e.match(/^#,#*,#0/))return Vc(t,e.replace(/^#,#*,/,""),n);if(i=e.match(/^([0#]+)(\\?-([0#]+))+$/))return s=Jp(Vc(t,e.replace(/[\\-]/g,""),n)),a=0,Jp(Jp(e.replace(/\\/g,"")).replace(/[0#]/g,function(w){return a<s.length?s.charAt(a++):w==="0"?"0":""}));if(e.match(cq))return s=Vc(t,"##########",n),"("+s.substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var d="";if(i=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(i[4].length,7),o=rb(c,Math.pow(10,a)-1,!1),s=""+u,d=Yu("n",i[1],o[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),s+=d+i[2]+"/"+i[3],d=tb(o[2],a),d.length<i[4].length&&(d=Ga(i[4].substr(i[4].length-d.length))+d),s+=d,s;if(i=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(i[1].length,i[4].length),7),o=rb(c,Math.pow(10,a)-1,!0),u+(o[0]||(o[1]?"":"0"))+" "+(o[1]?UC(o[1],a)+i[2]+"/"+i[3]+tb(o[2],a):Gs(" ",2*a+1+i[2].length+i[3].length));if(i=e.match(/^[#0?]+$/))return s=""+n,e.length<=s.length?s:Ga(e.substr(0,e.length-s.length))+s;if(i=e.match(/^([#0]+)\.([#0]+)$/)){s=""+n.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),a=s.indexOf(".");var p=e.indexOf(".")-a,g=e.length-s.length-p;return Ga(e.substr(0,p)+s+e.substr(e.length-g))}if(i=e.match(/^00,000\.([#0]*0)$/))return n<0?"-"+Vc(t,e,-n):fd(""+n).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(w){return"00,"+(w.length<3?oc(0,3-w.length):"")+w})+"."+oc(0,i[1].length);switch(e){case"###,###":case"##,###":case"#,###":var x=fd(""+c);return x!=="0"?u+x:"";default:if(e.match(/\.[0#?]*$/))return Vc(t,e.slice(0,e.lastIndexOf(".")),n)+Ga(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function Yu(t,e,n){return(n|0)===n?Vc(t,e,n):vl(t,e,n)}function Fye(t){for(var e=[],n=!1,r=0,s=0;r<t.length;++r)switch(t.charCodeAt(r)){case 34:n=!n;break;case 95:case 42:case 92:++r;break;case 59:e[e.length]=t.substr(s,r-s),s=r+1}if(e[e.length]=t.substr(s),n===!0)throw new Error("Format |"+t+"| unterminated string ");return e}var fq=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function qm(t){for(var e=0,n="",r="";e<t.length;)switch(n=t.charAt(e)){case"G":nb(t,e)&&(e+=6),e++;break;case'"':for(;t.charCodeAt(++e)!==34&&e<t.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(t.charAt(e+1)==="1"||t.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(t.substr(e,3).toUpperCase()==="A/P"||t.substr(e,5).toUpperCase()==="AM/PM"||t.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(r=n;t.charAt(e++)!=="]"&&e<t.length;)r+=t.charAt(e);if(r.match(fq))return!0;break;case".":case"0":case"#":for(;e<t.length&&("0#?.,E+-%".indexOf(n=t.charAt(++e))>-1||n=="\\"&&t.charAt(e+1)=="-"&&"0#".indexOf(t.charAt(e+2))>-1););break;case"?":for(;t.charAt(++e)===n;);break;case"*":++e,(t.charAt(e)==" "||t.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<t.length&&"0123456789".indexOf(t.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function Oye(t,e,n,r){for(var s=[],i="",a=0,o="",c="t",u,d,p,g="H";a<t.length;)switch(o=t.charAt(a)){case"G":if(!nb(t,a))throw new Error("unrecognized character "+o+" in "+t);s[s.length]={t:"G",v:"General"},a+=7;break;case'"':for(i="";(p=t.charCodeAt(++a))!==34&&a<t.length;)i+=String.fromCharCode(p);s[s.length]={t:"t",v:i},++a;break;case"\\":var x=t.charAt(++a),w=x==="("||x===")"?x:"t";s[s.length]={t:w,v:x},++a;break;case"_":s[s.length]={t:"t",v:" "},a+=2;break;case"@":s[s.length]={t:"T",v:e},++a;break;case"B":case"b":if(t.charAt(a+1)==="1"||t.charAt(a+1)==="2"){if(u==null&&(u=wh(e,n,t.charAt(a+1)==="2"),u==null))return"";s[s.length]={t:"X",v:t.substr(a,2)},c=o,a+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||u==null&&(u=wh(e,n),u==null))return"";for(i=o;++a<t.length&&t.charAt(a).toLowerCase()===o;)i+=o;o==="m"&&c.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=g),s[s.length]={t:o,v:i},c=o;break;case"A":case"a":case"":var y={t:o,v:o};if(u==null&&(u=wh(e,n)),t.substr(a,3).toUpperCase()==="A/P"?(u!=null&&(y.v=u.H>=12?"P":"A"),y.t="T",g="h",a+=3):t.substr(a,5).toUpperCase()==="AM/PM"?(u!=null&&(y.v=u.H>=12?"PM":"AM"),y.t="T",a+=5,g="h"):t.substr(a,5).toUpperCase()==="/"?(u!=null&&(y.v=u.H>=12?"":""),y.t="T",a+=5,g="h"):(y.t="t",++a),u==null&&y.t==="T")return"";s[s.length]=y,c=o;break;case"[":for(i=o;t.charAt(a++)!=="]"&&a<t.length;)i+=t.charAt(a);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(fq)){if(u==null&&(u=wh(e,n),u==null))return"";s[s.length]={t:"Z",v:i.toLowerCase()},c=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",qm(t)||(s[s.length]={t:"t",v:i}));break;case".":if(u!=null){for(i=o;++a<t.length&&(o=t.charAt(a))==="0";)i+=o;s[s.length]={t:"s",v:i};break}case"0":case"#":for(i=o;++a<t.length&&"0#?.,E+-%".indexOf(o=t.charAt(a))>-1;)i+=o;s[s.length]={t:"n",v:i};break;case"?":for(i=o;t.charAt(++a)===o;)i+=o;s[s.length]={t:o,v:i},c=o;break;case"*":++a,(t.charAt(a)==" "||t.charAt(a)=="*")&&++a;break;case"(":case")":s[s.length]={t:r===1?"t":o,v:o},++a;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=o;a<t.length&&"0123456789".indexOf(t.charAt(++a))>-1;)i+=t.charAt(a);s[s.length]={t:"D",v:i};break;case" ":s[s.length]={t:o,v:o},++a;break;case"$":s[s.length]={t:"t",v:"$"},++a;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+t);s[s.length]={t:"t",v:o},++a;break}var S=0,C=0,F;for(a=s.length-1,c="t";a>=0;--a)switch(s[a].t){case"h":case"H":s[a].t=g,c="h",S<1&&(S=1);break;case"s":(F=s[a].v.match(/\.0+$/))&&(C=Math.max(C,F[0].length-1)),S<3&&(S=3);case"d":case"y":case"M":case"e":c=s[a].t;break;case"m":c==="s"&&(s[a].t="M",S<2&&(S=2));break;case"X":break;case"Z":S<1&&s[a].v.match(/[Hh]/)&&(S=1),S<2&&s[a].v.match(/[Mm]/)&&(S=2),S<3&&s[a].v.match(/[Ss]/)&&(S=3)}switch(S){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var I="",D;for(a=0;a<s.length;++a)switch(s[a].t){case"t":case"T":case" ":case"D":break;case"X":s[a].v="",s[a].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":s[a].v=Cye(s[a].t.charCodeAt(0),s[a].v,u,C),s[a].t="t";break;case"n":case"?":for(D=a+1;s[D]!=null&&((o=s[D].t)==="?"||o==="D"||(o===" "||o==="t")&&s[D+1]!=null&&(s[D+1].t==="?"||s[D+1].t==="t"&&s[D+1].v==="/")||s[a].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(s[D].v==="/"||s[D].v===" "&&s[D+1]!=null&&s[D+1].t=="?"));)s[a].v+=s[D].v,s[D]={v:"",t:";"},++D;I+=s[a].v,a=D-1;break;case"G":s[a].t="t",s[a].v=Yh(e,n);break}var z="",G,P;if(I.length>0){I.charCodeAt(0)==40?(G=e<0&&I.charCodeAt(0)===45?-e:e,P=Yu("n",I,G)):(G=e<0&&r>1?-e:e,P=Yu("n",I,G),G<0&&s[0]&&s[0].t=="t"&&(P=P.substr(1),s[0].v="-"+s[0].v)),D=P.length-1;var M=s.length;for(a=0;a<s.length;++a)if(s[a]!=null&&s[a].t!="t"&&s[a].v.indexOf(".")>-1){M=a;break}var R=s.length;if(M===s.length&&P.indexOf("E")===-1){for(a=s.length-1;a>=0;--a)s[a]==null||"n?".indexOf(s[a].t)===-1||(D>=s[a].v.length-1?(D-=s[a].v.length,s[a].v=P.substr(D+1,s[a].v.length)):D<0?s[a].v="":(s[a].v=P.substr(0,D+1),D=-1),s[a].t="t",R=a);D>=0&&R<s.length&&(s[R].v=P.substr(0,D+1)+s[R].v)}else if(M!==s.length&&P.indexOf("E")===-1){for(D=P.indexOf(".")-1,a=M;a>=0;--a)if(!(s[a]==null||"n?".indexOf(s[a].t)===-1)){for(d=s[a].v.indexOf(".")>-1&&a===M?s[a].v.indexOf(".")-1:s[a].v.length-1,z=s[a].v.substr(d+1);d>=0;--d)D>=0&&(s[a].v.charAt(d)==="0"||s[a].v.charAt(d)==="#")&&(z=P.charAt(D--)+z);s[a].v=z,s[a].t="t",R=a}for(D>=0&&R<s.length&&(s[R].v=P.substr(0,D+1)+s[R].v),D=P.indexOf(".")+1,a=M;a<s.length;++a)if(!(s[a]==null||"n?(".indexOf(s[a].t)===-1&&a!==M)){for(d=s[a].v.indexOf(".")>-1&&a===M?s[a].v.indexOf(".")+1:0,z=s[a].v.substr(0,d);d<s[a].v.length;++d)D<P.length&&(z+=P.charAt(D++));s[a].v=z,s[a].t="t",R=a}}}for(a=0;a<s.length;++a)s[a]!=null&&"n?".indexOf(s[a].t)>-1&&(G=r>1&&e<0&&a>0&&s[a-1].v==="-"?-e:e,s[a].v=Yu(s[a].t,s[a].v,G),s[a].t="t");var U="";for(a=0;a!==s.length;++a)s[a]!=null&&(U+=s[a].v);return U}var h8=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function p8(t,e){if(e==null)return!1;var n=parseFloat(e[2]);switch(e[1]){case"=":if(t==n)return!0;break;case">":if(t>n)return!0;break;case"<":if(t<n)return!0;break;case"<>":if(t!=n)return!0;break;case">=":if(t>=n)return!0;break;case"<=":if(t<=n)return!0;break}return!1}function Bye(t,e){var n=Fye(t),r=n.length,s=n[r-1].indexOf("@");if(r<4&&s>-1&&--r,n.length>4)throw new Error("cannot find right format for |"+n.join("|")+"|");if(typeof e!="number")return[4,n.length===4||s>-1?n[n.length-1]:"@"];switch(n.length){case 1:n=s>-1?["General","General","General",n[0]]:[n[0],n[0],n[0],"@"];break;case 2:n=s>-1?[n[0],n[0],n[0],n[1]]:[n[0],n[1],n[0],"@"];break;case 3:n=s>-1?[n[0],n[1],n[0],n[2]]:[n[0],n[1],n[2],"@"];break}var i=e>0?n[0]:e<0?n[1]:n[2];if(n[0].indexOf("[")===-1&&n[1].indexOf("[")===-1)return[r,i];if(n[0].match(/\[[=<>]/)!=null||n[1].match(/\[[=<>]/)!=null){var a=n[0].match(h8),o=n[1].match(h8);return p8(e,a)?[r,n[0]]:p8(e,o)?[r,n[1]]:[r,n[a!=null&&o!=null?2:1]]}return[r,i]}function Il(t,e,n){n==null&&(n={});var r="";switch(typeof t){case"string":t=="m/d/yy"&&n.dateNF?r=n.dateNF:r=t;break;case"number":t==14&&n.dateNF?r=n.dateNF:r=(n.table!=null?n.table:Kn)[t],r==null&&(r=n.table&&n.table[u8[t]]||Kn[u8[t]]),r==null&&(r=bye[t]||"General");break}if(nb(r,0))return Yh(e,n);e instanceof Date&&(e=rq(e,n.date1904));var s=Bye(r,e);if(nb(s[1]))return Yh(e,n);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return Oye(s[1],e,n,s[0])}function kh(t,e){if(typeof e!="number"){e=+e||-1;for(var n=0;n<392;++n){if(Kn[n]==null){e<0&&(e=n);continue}if(Kn[n]==t){e=n;break}}e<0&&(e=391)}return Kn[e]=t,e}function dq(){Kn=yye()}var Vye={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},hq=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function Uye(t){var e=typeof t=="number"?Kn[t]:t;return e=e.replace(hq,"(\\d+)"),new RegExp("^"+e+"$")}function jye(t,e,n){var r=-1,s=-1,i=-1,a=-1,o=-1,c=-1;(e.match(hq)||[]).forEach(function(p,g){var x=parseInt(n[g+1],10);switch(p.toLowerCase().charAt(0)){case"y":r=x;break;case"d":i=x;break;case"h":a=x;break;case"s":c=x;break;case"m":a>=0?o=x:s=x;break}}),c>=0&&o==-1&&s>=0&&(o=s,s=-1);var u=(""+(r>=0?r:new Date().getFullYear())).slice(-4)+"-"+("00"+(s>=1?s:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var d=("00"+(a>=0?a:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return a==-1&&o==-1&&c==-1?u:r==-1&&s==-1&&i==-1?d:u+"T"+d}var qye=(function(){var t={};t.version="1.2.0";function e(){for(var P=0,M=new Array(256),R=0;R!=256;++R)P=R,P=P&1?-306674912^P>>>1:P>>>1,P=P&1?-306674912^P>>>1:P>>>1,P=P&1?-306674912^P>>>1:P>>>1,P=P&1?-306674912^P>>>1:P>>>1,P=P&1?-306674912^P>>>1:P>>>1,P=P&1?-306674912^P>>>1:P>>>1,P=P&1?-306674912^P>>>1:P>>>1,P=P&1?-306674912^P>>>1:P>>>1,M[R]=P;return typeof Int32Array<"u"?new Int32Array(M):M}var n=e();function r(P){var M=0,R=0,U=0,L=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(U=0;U!=256;++U)L[U]=P[U];for(U=0;U!=256;++U)for(R=P[U],M=256+U;M<4096;M+=256)R=L[M]=R>>>8^P[R&255];var O=[];for(U=1;U!=16;++U)O[U-1]=typeof Int32Array<"u"?L.subarray(U*256,U*256+256):L.slice(U*256,U*256+256);return O}var s=r(n),i=s[0],a=s[1],o=s[2],c=s[3],u=s[4],d=s[5],p=s[6],g=s[7],x=s[8],w=s[9],y=s[10],S=s[11],C=s[12],F=s[13],I=s[14];function D(P,M){for(var R=M^-1,U=0,L=P.length;U<L;)R=R>>>8^n[(R^P.charCodeAt(U++))&255];return~R}function z(P,M){for(var R=M^-1,U=P.length-15,L=0;L<U;)R=I[P[L++]^R&255]^F[P[L++]^R>>8&255]^C[P[L++]^R>>16&255]^S[P[L++]^R>>>24]^y[P[L++]]^w[P[L++]]^x[P[L++]]^g[P[L++]]^p[P[L++]]^d[P[L++]]^u[P[L++]]^c[P[L++]]^o[P[L++]]^a[P[L++]]^i[P[L++]]^n[P[L++]];for(U+=15;L<U;)R=R>>>8^n[(R^P[L++])&255];return~R}function G(P,M){for(var R=M^-1,U=0,L=P.length,O=0,j=0;U<L;)O=P.charCodeAt(U++),O<128?R=R>>>8^n[(R^O)&255]:O<2048?(R=R>>>8^n[(R^(192|O>>6&31))&255],R=R>>>8^n[(R^(128|O&63))&255]):O>=55296&&O<57344?(O=(O&1023)+64,j=P.charCodeAt(U++)&1023,R=R>>>8^n[(R^(240|O>>8&7))&255],R=R>>>8^n[(R^(128|O>>2&63))&255],R=R>>>8^n[(R^(128|j>>6&15|(O&3)<<4))&255],R=R>>>8^n[(R^(128|j&63))&255]):(R=R>>>8^n[(R^(224|O>>12&15))&255],R=R>>>8^n[(R^(128|O>>6&63))&255],R=R>>>8^n[(R^(128|O&63))&255]);return~R}return t.table=n,t.bstr=D,t.buf=z,t.str=G,t})(),Er=(function(){var e={};e.version="1.2.1";function n(se,_e){for(var ve=se.split("/"),be=_e.split("/"),Te=0,Ae=0,Ue=Math.min(ve.length,be.length);Te<Ue;++Te){if(Ae=ve[Te].length-be[Te].length)return Ae;if(ve[Te]!=be[Te])return ve[Te]<be[Te]?-1:1}return ve.length-be.length}function r(se){if(se.charAt(se.length-1)=="/")return se.slice(0,-1).indexOf("/")===-1?se:r(se.slice(0,-1));var _e=se.lastIndexOf("/");return _e===-1?se:se.slice(0,_e+1)}function s(se){if(se.charAt(se.length-1)=="/")return s(se.slice(0,-1));var _e=se.lastIndexOf("/");return _e===-1?se:se.slice(_e+1)}function i(se,_e){typeof _e=="string"&&(_e=new Date(_e));var ve=_e.getHours();ve=ve<<6|_e.getMinutes(),ve=ve<<5|_e.getSeconds()>>>1,se.write_shift(2,ve);var be=_e.getFullYear()-1980;be=be<<4|_e.getMonth()+1,be=be<<5|_e.getDate(),se.write_shift(2,be)}function a(se){var _e=se.read_shift(2)&65535,ve=se.read_shift(2)&65535,be=new Date,Te=ve&31;ve>>>=5;var Ae=ve&15;ve>>>=4,be.setMilliseconds(0),be.setFullYear(ve+1980),be.setMonth(Ae-1),be.setDate(Te);var Ue=_e&31;_e>>>=5;var at=_e&63;return _e>>>=6,be.setHours(_e),be.setMinutes(at),be.setSeconds(Ue<<1),be}function o(se){ua(se,0);for(var _e={},ve=0;se.l<=se.length-4;){var be=se.read_shift(2),Te=se.read_shift(2),Ae=se.l+Te,Ue={};switch(be){case 21589:ve=se.read_shift(1),ve&1&&(Ue.mtime=se.read_shift(4)),Te>5&&(ve&2&&(Ue.atime=se.read_shift(4)),ve&4&&(Ue.ctime=se.read_shift(4))),Ue.mtime&&(Ue.mt=new Date(Ue.mtime*1e3));break}se.l=Ae,_e[be]=Ue}return _e}var c;function u(){return c||(c={})}function d(se,_e){if(se[0]==80&&se[1]==75)return pn(se,_e);if((se[0]|32)==109&&(se[1]|32)==105)return hn(se,_e);if(se.length<512)throw new Error("CFB file size "+se.length+" < 512");var ve=3,be=512,Te=0,Ae=0,Ue=0,at=0,Be=0,$e=[],Qe=se.slice(0,512);ua(Qe,0);var bt=p(Qe);switch(ve=bt[0],ve){case 3:be=512;break;case 4:be=4096;break;case 0:if(bt[1]==0)return pn(se,_e);default:throw new Error("Major Version: Expected 3 or 4 saw "+ve)}be!==512&&(Qe=se.slice(0,be),ua(Qe,28));var Tt=se.slice(0,be);g(Qe,ve);var Dt=Qe.read_shift(4,"i");if(ve===3&&Dt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Dt);Qe.l+=4,Ue=Qe.read_shift(4,"i"),Qe.l+=4,Qe.chk("00100000","Mini Stream Cutoff Size: "),at=Qe.read_shift(4,"i"),Te=Qe.read_shift(4,"i"),Be=Qe.read_shift(4,"i"),Ae=Qe.read_shift(4,"i");for(var wt=-1,Pt=0;Pt<109&&(wt=Qe.read_shift(4,"i"),!(wt<0));++Pt)$e[Pt]=wt;var Yt=x(se,be);S(Be,Ae,Yt,be,$e);var vr=F(Yt,Ue,$e,be);vr[Ue].name="!Directory",Te>0&&at!==j&&(vr[at].name="!MiniFAT"),vr[$e[0]].name="!FAT",vr.fat_addrs=$e,vr.ssz=be;var Wn={},Ar=[],Ks=[],Ji=[];I(Ue,vr,Yt,Ar,Te,Wn,Ks,at),w(Ks,Ji,Ar),Ar.shift();var pa={FileIndex:Ks,FullPaths:Ji};return _e&&_e.raw&&(pa.raw={header:Tt,sectors:Yt}),pa}function p(se){if(se[se.l]==80&&se[se.l+1]==75)return[0,0];se.chk(ie,"Header Signature: "),se.l+=16;var _e=se.read_shift(2,"u");return[se.read_shift(2,"u"),_e]}function g(se,_e){var ve=9;switch(se.l+=2,ve=se.read_shift(2)){case 9:if(_e!=3)throw new Error("Sector Shift: Expected 9 saw "+ve);break;case 12:if(_e!=4)throw new Error("Sector Shift: Expected 12 saw "+ve);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+ve)}se.chk("0600","Mini Sector Shift: "),se.chk("000000000000","Reserved: ")}function x(se,_e){for(var ve=Math.ceil(se.length/_e)-1,be=[],Te=1;Te<ve;++Te)be[Te-1]=se.slice(Te*_e,(Te+1)*_e);return be[ve-1]=se.slice(ve*_e),be}function w(se,_e,ve){for(var be=0,Te=0,Ae=0,Ue=0,at=0,Be=ve.length,$e=[],Qe=[];be<Be;++be)$e[be]=Qe[be]=be,_e[be]=ve[be];for(;at<Qe.length;++at)be=Qe[at],Te=se[be].L,Ae=se[be].R,Ue=se[be].C,$e[be]===be&&(Te!==-1&&$e[Te]!==Te&&($e[be]=$e[Te]),Ae!==-1&&$e[Ae]!==Ae&&($e[be]=$e[Ae])),Ue!==-1&&($e[Ue]=be),Te!==-1&&be!=$e[be]&&($e[Te]=$e[be],Qe.lastIndexOf(Te)<at&&Qe.push(Te)),Ae!==-1&&be!=$e[be]&&($e[Ae]=$e[be],Qe.lastIndexOf(Ae)<at&&Qe.push(Ae));for(be=1;be<Be;++be)$e[be]===be&&(Ae!==-1&&$e[Ae]!==Ae?$e[be]=$e[Ae]:Te!==-1&&$e[Te]!==Te&&($e[be]=$e[Te]));for(be=1;be<Be;++be)if(se[be].type!==0){if(at=be,at!=$e[at])do at=$e[at],_e[be]=_e[at]+"/"+_e[be];while(at!==0&&$e[at]!==-1&&at!=$e[at]);$e[be]=-1}for(_e[0]+="/",be=1;be<Be;++be)se[be].type!==2&&(_e[be]+="/")}function y(se,_e,ve){for(var be=se.start,Te=se.size,Ae=[],Ue=be;ve&&Te>0&&Ue>=0;)Ae.push(_e.slice(Ue*O,Ue*O+O)),Te-=O,Ue=xh(ve,Ue*4);return Ae.length===0?Ii(0):ad(Ae).slice(0,se.size)}function S(se,_e,ve,be,Te){var Ae=j;if(se===j){if(_e!==0)throw new Error("DIFAT chain shorter than expected")}else if(se!==-1){var Ue=ve[se],at=(be>>>2)-1;if(!Ue)return;for(var Be=0;Be<at&&(Ae=xh(Ue,Be*4))!==j;++Be)Te.push(Ae);S(xh(Ue,be-4),_e-1,ve,be,Te)}}function C(se,_e,ve,be,Te){var Ae=[],Ue=[];Te||(Te=[]);var at=be-1,Be=0,$e=0;for(Be=_e;Be>=0;){Te[Be]=!0,Ae[Ae.length]=Be,Ue.push(se[Be]);var Qe=ve[Math.floor(Be*4/be)];if($e=Be*4&at,be<4+$e)throw new Error("FAT boundary crossed: "+Be+" 4 "+be);if(!se[Qe])break;Be=xh(se[Qe],$e)}return{nodes:Ae,data:T8([Ue])}}function F(se,_e,ve,be){var Te=se.length,Ae=[],Ue=[],at=[],Be=[],$e=be-1,Qe=0,bt=0,Tt=0,Dt=0;for(Qe=0;Qe<Te;++Qe)if(at=[],Tt=Qe+_e,Tt>=Te&&(Tt-=Te),!Ue[Tt]){Be=[];var wt=[];for(bt=Tt;bt>=0;){wt[bt]=!0,Ue[bt]=!0,at[at.length]=bt,Be.push(se[bt]);var Pt=ve[Math.floor(bt*4/be)];if(Dt=bt*4&$e,be<4+Dt)throw new Error("FAT boundary crossed: "+bt+" 4 "+be);if(!se[Pt]||(bt=xh(se[Pt],Dt),wt[bt]))break}Ae[Tt]={nodes:at,data:T8([Be])}}return Ae}function I(se,_e,ve,be,Te,Ae,Ue,at){for(var Be=0,$e=be.length?2:0,Qe=_e[se].data,bt=0,Tt=0,Dt;bt<Qe.length;bt+=128){var wt=Qe.slice(bt,bt+128);ua(wt,64),Tt=wt.read_shift(2),Dt=$C(wt,0,Tt-$e),be.push(Dt);var Pt={name:Dt,type:wt.read_shift(1),color:wt.read_shift(1),L:wt.read_shift(4,"i"),R:wt.read_shift(4,"i"),C:wt.read_shift(4,"i"),clsid:wt.read_shift(16),state:wt.read_shift(4,"i"),start:0,size:0},Yt=wt.read_shift(2)+wt.read_shift(2)+wt.read_shift(2)+wt.read_shift(2);Yt!==0&&(Pt.ct=D(wt,wt.l-8));var vr=wt.read_shift(2)+wt.read_shift(2)+wt.read_shift(2)+wt.read_shift(2);vr!==0&&(Pt.mt=D(wt,wt.l-8)),Pt.start=wt.read_shift(4,"i"),Pt.size=wt.read_shift(4,"i"),Pt.size<0&&Pt.start<0&&(Pt.size=Pt.type=0,Pt.start=j,Pt.name=""),Pt.type===5?(Be=Pt.start,Te>0&&Be!==j&&(_e[Be].name="!StreamData")):Pt.size>=4096?(Pt.storage="fat",_e[Pt.start]===void 0&&(_e[Pt.start]=C(ve,Pt.start,_e.fat_addrs,_e.ssz)),_e[Pt.start].name=Pt.name,Pt.content=_e[Pt.start].data.slice(0,Pt.size)):(Pt.storage="minifat",Pt.size<0?Pt.size=0:Be!==j&&Pt.start!==j&&_e[Be]&&(Pt.content=y(Pt,_e[Be].data,(_e[at]||{}).data))),Pt.content&&ua(Pt.content,0),Ae[Dt]=Pt,Ue.push(Pt)}}function D(se,_e){return new Date(($o(se,_e+4)/1e7*Math.pow(2,32)+$o(se,_e)/1e7-11644473600)*1e3)}function z(se,_e){return u(),d(c.readFileSync(se),_e)}function G(se,_e){var ve=_e&&_e.type;switch(ve||gr&&Buffer.isBuffer(se)&&(ve="buffer"),ve||"base64"){case"file":return z(se,_e);case"base64":return d(sc(Qo(se)),_e);case"binary":return d(sc(se),_e)}return d(se,_e)}function P(se,_e){var ve=_e||{},be=ve.root||"Root Entry";if(se.FullPaths||(se.FullPaths=[]),se.FileIndex||(se.FileIndex=[]),se.FullPaths.length!==se.FileIndex.length)throw new Error("inconsistent CFB structure");se.FullPaths.length===0&&(se.FullPaths[0]=be+"/",se.FileIndex[0]={name:be,type:5}),ve.CLSID&&(se.FileIndex[0].clsid=ve.CLSID),M(se)}function M(se){var _e="Sh33tJ5";if(!Er.find(se,"/"+_e)){var ve=Ii(4);ve[0]=55,ve[1]=ve[3]=50,ve[2]=54,se.FileIndex.push({name:_e,type:2,content:ve,size:4,L:69,R:69,C:69}),se.FullPaths.push(se.FullPaths[0]+_e),R(se)}}function R(se,_e){P(se);for(var ve=!1,be=!1,Te=se.FullPaths.length-1;Te>=0;--Te){var Ae=se.FileIndex[Te];switch(Ae.type){case 0:be?ve=!0:(se.FileIndex.pop(),se.FullPaths.pop());break;case 1:case 2:case 5:be=!0,isNaN(Ae.R*Ae.L*Ae.C)&&(ve=!0),Ae.R>-1&&Ae.L>-1&&Ae.R==Ae.L&&(ve=!0);break;default:ve=!0;break}}if(!(!ve&&!_e)){var Ue=new Date(1987,1,19),at=0,Be=Object.create?Object.create(null):{},$e=[];for(Te=0;Te<se.FullPaths.length;++Te)Be[se.FullPaths[Te]]=!0,se.FileIndex[Te].type!==0&&$e.push([se.FullPaths[Te],se.FileIndex[Te]]);for(Te=0;Te<$e.length;++Te){var Qe=r($e[Te][0]);be=Be[Qe],be||($e.push([Qe,{name:s(Qe).replace("/",""),type:1,clsid:ae,ct:Ue,mt:Ue,content:null}]),Be[Qe]=!0)}for($e.sort(function(Dt,wt){return n(Dt[0],wt[0])}),se.FullPaths=[],se.FileIndex=[],Te=0;Te<$e.length;++Te)se.FullPaths[Te]=$e[Te][0],se.FileIndex[Te]=$e[Te][1];for(Te=0;Te<$e.length;++Te){var bt=se.FileIndex[Te],Tt=se.FullPaths[Te];if(bt.name=s(Tt).replace("/",""),bt.L=bt.R=bt.C=-(bt.color=1),bt.size=bt.content?bt.content.length:0,bt.start=0,bt.clsid=bt.clsid||ae,Te===0)bt.C=$e.length>1?1:-1,bt.size=0,bt.type=5;else if(Tt.slice(-1)=="/"){for(at=Te+1;at<$e.length&&r(se.FullPaths[at])!=Tt;++at);for(bt.C=at>=$e.length?-1:at,at=Te+1;at<$e.length&&r(se.FullPaths[at])!=r(Tt);++at);bt.R=at>=$e.length?-1:at,bt.type=1}else r(se.FullPaths[Te+1]||"")==r(Tt)&&(bt.R=Te+1),bt.type=2}}}function U(se,_e){var ve=_e||{};if(ve.fileType=="mad")return Fe(se,ve);switch(R(se),ve.fileType){case"zip":return dn(se,ve)}var be=(function(Dt){for(var wt=0,Pt=0,Yt=0;Yt<Dt.FileIndex.length;++Yt){var vr=Dt.FileIndex[Yt];if(vr.content){var Wn=vr.content.length;Wn>0&&(Wn<4096?wt+=Wn+63>>6:Pt+=Wn+511>>9)}}for(var Ar=Dt.FullPaths.length+3>>2,Ks=wt+7>>3,Ji=wt+127>>7,pa=Ks+Pt+Ar+Ji,Fi=pa+127>>7,Io=Fi<=109?0:Math.ceil((Fi-109)/127);pa+Fi+Io+127>>7>Fi;)Io=++Fi<=109?0:Math.ceil((Fi-109)/127);var rs=[1,Io,Fi,Ji,Ar,Pt,wt,0];return Dt.FileIndex[0].size=wt<<6,rs[7]=(Dt.FileIndex[0].start=rs[0]+rs[1]+rs[2]+rs[3]+rs[4]+rs[5])+(rs[6]+7>>3),rs})(se),Te=Ii(be[7]<<9),Ae=0,Ue=0;{for(Ae=0;Ae<8;++Ae)Te.write_shift(1,Ee[Ae]);for(Ae=0;Ae<8;++Ae)Te.write_shift(2,0);for(Te.write_shift(2,62),Te.write_shift(2,3),Te.write_shift(2,65534),Te.write_shift(2,9),Te.write_shift(2,6),Ae=0;Ae<3;++Ae)Te.write_shift(2,0);for(Te.write_shift(4,0),Te.write_shift(4,be[2]),Te.write_shift(4,be[0]+be[1]+be[2]+be[3]-1),Te.write_shift(4,0),Te.write_shift(4,4096),Te.write_shift(4,be[3]?be[0]+be[1]+be[2]-1:j),Te.write_shift(4,be[3]),Te.write_shift(-4,be[1]?be[0]-1:j),Te.write_shift(4,be[1]),Ae=0;Ae<109;++Ae)Te.write_shift(-4,Ae<be[2]?be[1]+Ae:-1)}if(be[1])for(Ue=0;Ue<be[1];++Ue){for(;Ae<236+Ue*127;++Ae)Te.write_shift(-4,Ae<be[2]?be[1]+Ae:-1);Te.write_shift(-4,Ue===be[1]-1?j:Ue+1)}var at=function(Dt){for(Ue+=Dt;Ae<Ue-1;++Ae)Te.write_shift(-4,Ae+1);Dt&&(++Ae,Te.write_shift(-4,j))};for(Ue=Ae=0,Ue+=be[1];Ae<Ue;++Ae)Te.write_shift(-4,pe.DIFSECT);for(Ue+=be[2];Ae<Ue;++Ae)Te.write_shift(-4,pe.FATSECT);at(be[3]),at(be[4]);for(var Be=0,$e=0,Qe=se.FileIndex[0];Be<se.FileIndex.length;++Be)Qe=se.FileIndex[Be],Qe.content&&($e=Qe.content.length,!($e<4096)&&(Qe.start=Ue,at($e+511>>9)));for(at(be[6]+7>>3);Te.l&511;)Te.write_shift(-4,pe.ENDOFCHAIN);for(Ue=Ae=0,Be=0;Be<se.FileIndex.length;++Be)Qe=se.FileIndex[Be],Qe.content&&($e=Qe.content.length,!(!$e||$e>=4096)&&(Qe.start=Ue,at($e+63>>6)));for(;Te.l&511;)Te.write_shift(-4,pe.ENDOFCHAIN);for(Ae=0;Ae<be[4]<<2;++Ae){var bt=se.FullPaths[Ae];if(!bt||bt.length===0){for(Be=0;Be<17;++Be)Te.write_shift(4,0);for(Be=0;Be<3;++Be)Te.write_shift(4,-1);for(Be=0;Be<12;++Be)Te.write_shift(4,0);continue}Qe=se.FileIndex[Ae],Ae===0&&(Qe.start=Qe.size?Qe.start-1:j);var Tt=Ae===0&&ve.root||Qe.name;if($e=2*(Tt.length+1),Te.write_shift(64,Tt,"utf16le"),Te.write_shift(2,$e),Te.write_shift(1,Qe.type),Te.write_shift(1,Qe.color),Te.write_shift(-4,Qe.L),Te.write_shift(-4,Qe.R),Te.write_shift(-4,Qe.C),Qe.clsid)Te.write_shift(16,Qe.clsid,"hex");else for(Be=0;Be<4;++Be)Te.write_shift(4,0);Te.write_shift(4,Qe.state||0),Te.write_shift(4,0),Te.write_shift(4,0),Te.write_shift(4,0),Te.write_shift(4,0),Te.write_shift(4,Qe.start),Te.write_shift(4,Qe.size),Te.write_shift(4,0)}for(Ae=1;Ae<se.FileIndex.length;++Ae)if(Qe=se.FileIndex[Ae],Qe.size>=4096)if(Te.l=Qe.start+1<<9,gr&&Buffer.isBuffer(Qe.content))Qe.content.copy(Te,Te.l,0,Qe.size),Te.l+=Qe.size+511&-512;else{for(Be=0;Be<Qe.size;++Be)Te.write_shift(1,Qe.content[Be]);for(;Be&511;++Be)Te.write_shift(1,0)}for(Ae=1;Ae<se.FileIndex.length;++Ae)if(Qe=se.FileIndex[Ae],Qe.size>0&&Qe.size<4096)if(gr&&Buffer.isBuffer(Qe.content))Qe.content.copy(Te,Te.l,0,Qe.size),Te.l+=Qe.size+63&-64;else{for(Be=0;Be<Qe.size;++Be)Te.write_shift(1,Qe.content[Be]);for(;Be&63;++Be)Te.write_shift(1,0)}if(gr)Te.l=Te.length;else for(;Te.l<Te.length;)Te.write_shift(1,0);return Te}function L(se,_e){var ve=se.FullPaths.map(function(Be){return Be.toUpperCase()}),be=ve.map(function(Be){var $e=Be.split("/");return $e[$e.length-(Be.slice(-1)=="/"?2:1)]}),Te=!1;_e.charCodeAt(0)===47?(Te=!0,_e=ve[0].slice(0,-1)+_e):Te=_e.indexOf("/")!==-1;var Ae=_e.toUpperCase(),Ue=Te===!0?ve.indexOf(Ae):be.indexOf(Ae);if(Ue!==-1)return se.FileIndex[Ue];var at=!Ae.match(Qg);for(Ae=Ae.replace(Ja,""),at&&(Ae=Ae.replace(Qg,"!")),Ue=0;Ue<ve.length;++Ue)if((at?ve[Ue].replace(Qg,"!"):ve[Ue]).replace(Ja,"")==Ae||(at?be[Ue].replace(Qg,"!"):be[Ue]).replace(Ja,"")==Ae)return se.FileIndex[Ue];return null}var O=64,j=-2,ie="d0cf11e0a1b11ae1",Ee=[208,207,17,224,161,177,26,225],ae="00000000000000000000000000000000",pe={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:j,FREESECT:-1,HEADER_SIGNATURE:ie,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:ae,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function de(se,_e,ve){u();var be=U(se,ve);c.writeFileSync(_e,be)}function oe(se){for(var _e=new Array(se.length),ve=0;ve<se.length;++ve)_e[ve]=String.fromCharCode(se[ve]);return _e.join("")}function ke(se,_e){var ve=U(se,_e);switch(_e&&_e.type||"buffer"){case"file":return u(),c.writeFileSync(_e.filename,ve),ve;case"binary":return typeof ve=="string"?ve:oe(ve);case"base64":return a8(typeof ve=="string"?ve:oe(ve));case"buffer":if(gr)return Buffer.isBuffer(ve)?ve:u0(ve);case"array":return typeof ve=="string"?sc(ve):ve}return ve}var ne;function B(se){try{var _e=se.InflateRaw,ve=new _e;if(ve._processChunk(new Uint8Array([3,0]),ve._finishFlushFlag),ve.bytesRead)ne=se;else throw new Error("zlib does not expose bytesRead")}catch(be){console.error("cannot use native zlib: "+(be.message||be))}}function K(se,_e){if(!ne)return Zn(se,_e);var ve=ne.InflateRaw,be=new ve,Te=be._processChunk(se.slice(se.l),be._finishFlushFlag);return se.l+=be.bytesRead,Te}function Y(se){return ne?ne.deflateRawSync(se):kt(se)}var Q=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ue=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],ge=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function Pe(se){var _e=(se<<1|se<<11)&139536|(se<<5|se<<15)&558144;return(_e>>16|_e>>8|_e)&255}for(var ee=typeof Uint8Array<"u",Re=ee?new Uint8Array(256):[],He=0;He<256;++He)Re[He]=Pe(He);function he(se,_e){var ve=Re[se&255];return _e<=8?ve>>>8-_e:(ve=ve<<8|Re[se>>8&255],_e<=16?ve>>>16-_e:(ve=ve<<8|Re[se>>16&255],ve>>>24-_e))}function Se(se,_e){var ve=_e&7,be=_e>>>3;return(se[be]|(ve<=6?0:se[be+1]<<8))>>>ve&3}function We(se,_e){var ve=_e&7,be=_e>>>3;return(se[be]|(ve<=5?0:se[be+1]<<8))>>>ve&7}function le(se,_e){var ve=_e&7,be=_e>>>3;return(se[be]|(ve<=4?0:se[be+1]<<8))>>>ve&15}function Ge(se,_e){var ve=_e&7,be=_e>>>3;return(se[be]|(ve<=3?0:se[be+1]<<8))>>>ve&31}function st(se,_e){var ve=_e&7,be=_e>>>3;return(se[be]|(ve<=1?0:se[be+1]<<8))>>>ve&127}function Et(se,_e,ve){var be=_e&7,Te=_e>>>3,Ae=(1<<ve)-1,Ue=se[Te]>>>be;return ve<8-be||(Ue|=se[Te+1]<<8-be,ve<16-be)||(Ue|=se[Te+2]<<16-be,ve<24-be)||(Ue|=se[Te+3]<<24-be),Ue&Ae}function je(se,_e,ve){var be=_e&7,Te=_e>>>3;return be<=5?se[Te]|=(ve&7)<<be:(se[Te]|=ve<<be&255,se[Te+1]=(ve&7)>>8-be),_e+3}function yt(se,_e,ve){var be=_e&7,Te=_e>>>3;return ve=(ve&1)<<be,se[Te]|=ve,_e+1}function St(se,_e,ve){var be=_e&7,Te=_e>>>3;return ve<<=be,se[Te]|=ve&255,ve>>>=8,se[Te+1]=ve,_e+8}function Rt(se,_e,ve){var be=_e&7,Te=_e>>>3;return ve<<=be,se[Te]|=ve&255,ve>>>=8,se[Te+1]=ve&255,se[Te+2]=ve>>>8,_e+16}function Ut(se,_e){var ve=se.length,be=2*ve>_e?2*ve:_e+5,Te=0;if(ve>=_e)return se;if(gr){var Ae=o8(be);if(se.copy)se.copy(Ae);else for(;Te<se.length;++Te)Ae[Te]=se[Te];return Ae}else if(ee){var Ue=new Uint8Array(be);if(Ue.set)Ue.set(se);else for(;Te<ve;++Te)Ue[Te]=se[Te];return Ue}return se.length=be,se}function Jt(se){for(var _e=new Array(se),ve=0;ve<se;++ve)_e[ve]=0;return _e}function zt(se,_e,ve){var be=1,Te=0,Ae=0,Ue=0,at=0,Be=se.length,$e=ee?new Uint16Array(32):Jt(32);for(Ae=0;Ae<32;++Ae)$e[Ae]=0;for(Ae=Be;Ae<ve;++Ae)se[Ae]=0;Be=se.length;var Qe=ee?new Uint16Array(Be):Jt(Be);for(Ae=0;Ae<Be;++Ae)$e[Te=se[Ae]]++,be<Te&&(be=Te),Qe[Ae]=0;for($e[0]=0,Ae=1;Ae<=be;++Ae)$e[Ae+16]=at=at+$e[Ae-1]<<1;for(Ae=0;Ae<Be;++Ae)at=se[Ae],at!=0&&(Qe[Ae]=$e[at+16]++);var bt=0;for(Ae=0;Ae<Be;++Ae)if(bt=se[Ae],bt!=0)for(at=he(Qe[Ae],be)>>be-bt,Ue=(1<<be+4-bt)-1;Ue>=0;--Ue)_e[at|Ue<<bt]=bt&15|Ae<<4;return be}var Gt=ee?new Uint16Array(512):Jt(512),Nn=ee?new Uint16Array(32):Jt(32);if(!ee){for(var Qt=0;Qt<512;++Qt)Gt[Qt]=0;for(Qt=0;Qt<32;++Qt)Nn[Qt]=0}(function(){for(var se=[],_e=0;_e<32;_e++)se.push(5);zt(se,Nn,32);var ve=[];for(_e=0;_e<=143;_e++)ve.push(8);for(;_e<=255;_e++)ve.push(9);for(;_e<=279;_e++)ve.push(7);for(;_e<=287;_e++)ve.push(8);zt(ve,Gt,288)})();var Lt=(function(){for(var _e=ee?new Uint8Array(32768):[],ve=0,be=0;ve<ge.length-1;++ve)for(;be<ge[ve+1];++be)_e[be]=ve;for(;be<32768;++be)_e[be]=29;var Te=ee?new Uint8Array(259):[];for(ve=0,be=0;ve<ue.length-1;++ve)for(;be<ue[ve+1];++be)Te[be]=ve;function Ae(at,Be){for(var $e=0;$e<at.length;){var Qe=Math.min(65535,at.length-$e),bt=$e+Qe==at.length;for(Be.write_shift(1,+bt),Be.write_shift(2,Qe),Be.write_shift(2,~Qe&65535);Qe-- >0;)Be[Be.l++]=at[$e++]}return Be.l}function Ue(at,Be){for(var $e=0,Qe=0,bt=ee?new Uint16Array(32768):[];Qe<at.length;){var Tt=Math.min(65535,at.length-Qe);if(Tt<10){for($e=je(Be,$e,+(Qe+Tt==at.length)),$e&7&&($e+=8-($e&7)),Be.l=$e/8|0,Be.write_shift(2,Tt),Be.write_shift(2,~Tt&65535);Tt-- >0;)Be[Be.l++]=at[Qe++];$e=Be.l*8;continue}$e=je(Be,$e,+(Qe+Tt==at.length)+2);for(var Dt=0;Tt-- >0;){var wt=at[Qe];Dt=(Dt<<5^wt)&32767;var Pt=-1,Yt=0;if((Pt=bt[Dt])&&(Pt|=Qe&-32768,Pt>Qe&&(Pt-=32768),Pt<Qe))for(;at[Pt+Yt]==at[Qe+Yt]&&Yt<250;)++Yt;if(Yt>2){wt=Te[Yt],wt<=22?$e=St(Be,$e,Re[wt+1]>>1)-1:(St(Be,$e,3),$e+=5,St(Be,$e,Re[wt-23]>>5),$e+=3);var vr=wt<8?0:wt-4>>2;vr>0&&(Rt(Be,$e,Yt-ue[wt]),$e+=vr),wt=_e[Qe-Pt],$e=St(Be,$e,Re[wt]>>3),$e-=3;var Wn=wt<4?0:wt-2>>1;Wn>0&&(Rt(Be,$e,Qe-Pt-ge[wt]),$e+=Wn);for(var Ar=0;Ar<Yt;++Ar)bt[Dt]=Qe&32767,Dt=(Dt<<5^at[Qe])&32767,++Qe;Tt-=Yt-1}else wt<=143?wt=wt+48:$e=yt(Be,$e,1),$e=St(Be,$e,Re[wt]),bt[Dt]=Qe&32767,++Qe}$e=St(Be,$e,0)-1}return Be.l=($e+7)/8|0,Be.l}return function(Be,$e){return Be.length<8?Ae(Be,$e):Ue(Be,$e)}})();function kt(se){var _e=Ii(50+Math.floor(se.length*1.1)),ve=Lt(se,_e);return _e.slice(0,ve)}var At=ee?new Uint16Array(32768):Jt(32768),zn=ee?new Uint16Array(32768):Jt(32768),Ot=ee?new Uint16Array(128):Jt(128),Ct=1,Ht=1;function vn(se,_e){var ve=Ge(se,_e)+257;_e+=5;var be=Ge(se,_e)+1;_e+=5;var Te=le(se,_e)+4;_e+=4;for(var Ae=0,Ue=ee?new Uint8Array(19):Jt(19),at=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Be=1,$e=ee?new Uint8Array(8):Jt(8),Qe=ee?new Uint8Array(8):Jt(8),bt=Ue.length,Tt=0;Tt<Te;++Tt)Ue[Q[Tt]]=Ae=We(se,_e),Be<Ae&&(Be=Ae),$e[Ae]++,_e+=3;var Dt=0;for($e[0]=0,Tt=1;Tt<=Be;++Tt)Qe[Tt]=Dt=Dt+$e[Tt-1]<<1;for(Tt=0;Tt<bt;++Tt)(Dt=Ue[Tt])!=0&&(at[Tt]=Qe[Dt]++);var wt=0;for(Tt=0;Tt<bt;++Tt)if(wt=Ue[Tt],wt!=0){Dt=Re[at[Tt]]>>8-wt;for(var Pt=(1<<7-wt)-1;Pt>=0;--Pt)Ot[Dt|Pt<<wt]=wt&7|Tt<<3}var Yt=[];for(Be=1;Yt.length<ve+be;)switch(Dt=Ot[st(se,_e)],_e+=Dt&7,Dt>>>=3){case 16:for(Ae=3+Se(se,_e),_e+=2,Dt=Yt[Yt.length-1];Ae-- >0;)Yt.push(Dt);break;case 17:for(Ae=3+We(se,_e),_e+=3;Ae-- >0;)Yt.push(0);break;case 18:for(Ae=11+st(se,_e),_e+=7;Ae-- >0;)Yt.push(0);break;default:Yt.push(Dt),Be<Dt&&(Be=Dt);break}var vr=Yt.slice(0,ve),Wn=Yt.slice(ve);for(Tt=ve;Tt<286;++Tt)vr[Tt]=0;for(Tt=be;Tt<30;++Tt)Wn[Tt]=0;return Ct=zt(vr,At,286),Ht=zt(Wn,zn,30),_e}function fn(se,_e){if(se[0]==3&&!(se[1]&3))return[Rd(_e),2];for(var ve=0,be=0,Te=o8(_e||1<<18),Ae=0,Ue=Te.length>>>0,at=0,Be=0;(be&1)==0;){if(be=We(se,ve),ve+=3,be>>>1)be>>1==1?(at=9,Be=5):(ve=vn(se,ve),at=Ct,Be=Ht);else{ve&7&&(ve+=8-(ve&7));var $e=se[ve>>>3]|se[(ve>>>3)+1]<<8;if(ve+=32,$e>0)for(!_e&&Ue<Ae+$e&&(Te=Ut(Te,Ae+$e),Ue=Te.length);$e-- >0;)Te[Ae++]=se[ve>>>3],ve+=8;continue}for(;;){!_e&&Ue<Ae+32767&&(Te=Ut(Te,Ae+32767),Ue=Te.length);var Qe=Et(se,ve,at),bt=be>>>1==1?Gt[Qe]:At[Qe];if(ve+=bt&15,bt>>>=4,(bt>>>8&255)===0)Te[Ae++]=bt;else{if(bt==256)break;bt-=257;var Tt=bt<8?0:bt-4>>2;Tt>5&&(Tt=0);var Dt=Ae+ue[bt];Tt>0&&(Dt+=Et(se,ve,Tt),ve+=Tt),Qe=Et(se,ve,Be),bt=be>>>1==1?Nn[Qe]:zn[Qe],ve+=bt&15,bt>>>=4;var wt=bt<4?0:bt-2>>1,Pt=ge[bt];for(wt>0&&(Pt+=Et(se,ve,wt),ve+=wt),!_e&&Ue<Dt&&(Te=Ut(Te,Dt+100),Ue=Te.length);Ae<Dt;)Te[Ae]=Te[Ae-Pt],++Ae}}}return _e?[Te,ve+7>>>3]:[Te.slice(0,Ae),ve+7>>>3]}function Zn(se,_e){var ve=se.slice(se.l||0),be=fn(ve,_e);return se.l+=be[1],be[0]}function xn(se,_e){if(se)typeof console<"u"&&console.error(_e);else throw new Error(_e)}function pn(se,_e){var ve=se;ua(ve,0);var be=[],Te=[],Ae={FileIndex:be,FullPaths:Te};P(Ae,{root:_e.root});for(var Ue=ve.length-4;(ve[Ue]!=80||ve[Ue+1]!=75||ve[Ue+2]!=5||ve[Ue+3]!=6)&&Ue>=0;)--Ue;ve.l=Ue+4,ve.l+=4;var at=ve.read_shift(2);ve.l+=6;var Be=ve.read_shift(4);for(ve.l=Be,Ue=0;Ue<at;++Ue){ve.l+=20;var $e=ve.read_shift(4),Qe=ve.read_shift(4),bt=ve.read_shift(2),Tt=ve.read_shift(2),Dt=ve.read_shift(2);ve.l+=8;var wt=ve.read_shift(4),Pt=o(ve.slice(ve.l+bt,ve.l+bt+Tt));ve.l+=bt+Tt+Dt;var Yt=ve.l;ve.l=wt+4,cr(ve,$e,Qe,Ae,Pt),ve.l=Yt}return Ae}function cr(se,_e,ve,be,Te){se.l+=2;var Ae=se.read_shift(2),Ue=se.read_shift(2),at=a(se);if(Ae&8257)throw new Error("Unsupported ZIP encryption");for(var Be=se.read_shift(4),$e=se.read_shift(4),Qe=se.read_shift(4),bt=se.read_shift(2),Tt=se.read_shift(2),Dt="",wt=0;wt<bt;++wt)Dt+=String.fromCharCode(se[se.l++]);if(Tt){var Pt=o(se.slice(se.l,se.l+Tt));(Pt[21589]||{}).mt&&(at=Pt[21589].mt),((Te||{})[21589]||{}).mt&&(at=Te[21589].mt)}se.l+=Tt;var Yt=se.slice(se.l,se.l+$e);switch(Ue){case 8:Yt=K(se,Qe);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Ue)}var vr=!1;Ae&8&&(Be=se.read_shift(4),Be==134695760&&(Be=se.read_shift(4),vr=!0),$e=se.read_shift(4),Qe=se.read_shift(4)),$e!=_e&&xn(vr,"Bad compressed size: "+_e+" != "+$e),Qe!=ve&&xn(vr,"Bad uncompressed size: "+ve+" != "+Qe),jt(be,Dt,Yt,{unsafe:!0,mt:at})}function dn(se,_e){var ve=_e||{},be=[],Te=[],Ae=Ii(1),Ue=ve.compression?8:0,at=0,Be=0,$e=0,Qe=0,bt=0,Tt=se.FullPaths[0],Dt=Tt,wt=se.FileIndex[0],Pt=[],Yt=0;for(Be=1;Be<se.FullPaths.length;++Be)if(Dt=se.FullPaths[Be].slice(Tt.length),wt=se.FileIndex[Be],!(!wt.size||!wt.content||Dt=="Sh33tJ5")){var vr=Qe,Wn=Ii(Dt.length);for($e=0;$e<Dt.length;++$e)Wn.write_shift(1,Dt.charCodeAt($e)&127);Wn=Wn.slice(0,Wn.l),Pt[bt]=qye.buf(wt.content,0);var Ar=wt.content;Ue==8&&(Ar=Y(Ar)),Ae=Ii(30),Ae.write_shift(4,67324752),Ae.write_shift(2,20),Ae.write_shift(2,at),Ae.write_shift(2,Ue),wt.mt?i(Ae,wt.mt):Ae.write_shift(4,0),Ae.write_shift(-4,Pt[bt]),Ae.write_shift(4,Ar.length),Ae.write_shift(4,wt.content.length),Ae.write_shift(2,Wn.length),Ae.write_shift(2,0),Qe+=Ae.length,be.push(Ae),Qe+=Wn.length,be.push(Wn),Qe+=Ar.length,be.push(Ar),Ae=Ii(46),Ae.write_shift(4,33639248),Ae.write_shift(2,0),Ae.write_shift(2,20),Ae.write_shift(2,at),Ae.write_shift(2,Ue),Ae.write_shift(4,0),Ae.write_shift(-4,Pt[bt]),Ae.write_shift(4,Ar.length),Ae.write_shift(4,wt.content.length),Ae.write_shift(2,Wn.length),Ae.write_shift(2,0),Ae.write_shift(2,0),Ae.write_shift(2,0),Ae.write_shift(2,0),Ae.write_shift(4,0),Ae.write_shift(4,vr),Yt+=Ae.l,Te.push(Ae),Yt+=Wn.length,Te.push(Wn),++bt}return Ae=Ii(22),Ae.write_shift(4,101010256),Ae.write_shift(2,0),Ae.write_shift(2,0),Ae.write_shift(2,bt),Ae.write_shift(2,bt),Ae.write_shift(4,Yt),Ae.write_shift(4,Qe),Ae.write_shift(2,0),ad([ad(be),ad(Te),Ae])}var Kt={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function On(se,_e){if(se.ctype)return se.ctype;var ve=se.name||"",be=ve.match(/\.([^\.]+)$/);return be&&Kt[be[1]]||_e&&(be=(ve=_e).match(/[\.\\]([^\.\\])+$/),be&&Kt[be[1]])?Kt[be[1]]:"application/octet-stream"}function us(se){for(var _e=a8(se),ve=[],be=0;be<_e.length;be+=76)ve.push(_e.slice(be,be+76));return ve.join(`\r
`)+`\r
`}function fs(se){var _e=se.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function($e){var Qe=$e.charCodeAt(0).toString(16).toUpperCase();return"="+(Qe.length==1?"0"+Qe:Qe)});_e=_e.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),_e.charAt(0)==`
`&&(_e="=0D"+_e.slice(1)),_e=_e.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var ve=[],be=_e.split(`\r
`),Te=0;Te<be.length;++Te){var Ae=be[Te];if(Ae.length==0){ve.push("");continue}for(var Ue=0;Ue<Ae.length;){var at=76,Be=Ae.slice(Ue,Ue+at);Be.charAt(at-1)=="="?at--:Be.charAt(at-2)=="="?at-=2:Be.charAt(at-3)=="="&&(at-=3),Be=Ae.slice(Ue,Ue+at),Ue+=at,Ue<Ae.length&&(Be+="="),ve.push(Be)}}return ve.join(`\r
`)}function Li(se){for(var _e=[],ve=0;ve<se.length;++ve){for(var be=se[ve];ve<=se.length&&be.charAt(be.length-1)=="=";)be=be.slice(0,be.length-1)+se[++ve];_e.push(be)}for(var Te=0;Te<_e.length;++Te)_e[Te]=_e[Te].replace(/[=][0-9A-Fa-f]{2}/g,function(Ae){return String.fromCharCode(parseInt(Ae.slice(1),16))});return sc(_e.join(`\r
`))}function ns(se,_e,ve){for(var be="",Te="",Ae="",Ue,at=0;at<10;++at){var Be=_e[at];if(!Be||Be.match(/^\s*$/))break;var $e=Be.match(/^(.*?):\s*([^\s].*)$/);if($e)switch($e[1].toLowerCase()){case"content-location":be=$e[2].trim();break;case"content-type":Ae=$e[2].trim();break;case"content-transfer-encoding":Te=$e[2].trim();break}}switch(++at,Te.toLowerCase()){case"base64":Ue=sc(Qo(_e.slice(at).join("")));break;case"quoted-printable":Ue=Li(_e.slice(at));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+Te)}var Qe=jt(se,be.slice(ve.length),Ue,{unsafe:!0});Ae&&(Qe.ctype=Ae)}function hn(se,_e){if(oe(se.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var ve=_e&&_e.root||"",be=(gr&&Buffer.isBuffer(se)?se.toString("binary"):oe(se)).split(`\r
`),Te=0,Ae="";for(Te=0;Te<be.length;++Te)if(Ae=be[Te],!!/^Content-Location:/i.test(Ae)&&(Ae=Ae.slice(Ae.indexOf("file")),ve||(ve=Ae.slice(0,Ae.lastIndexOf("/")+1)),Ae.slice(0,ve.length)!=ve))for(;ve.length>0&&(ve=ve.slice(0,ve.length-1),ve=ve.slice(0,ve.lastIndexOf("/")+1),Ae.slice(0,ve.length)!=ve););var Ue=(be[1]||"").match(/boundary="(.*?)"/);if(!Ue)throw new Error("MAD cannot find boundary");var at="--"+(Ue[1]||""),Be=[],$e=[],Qe={FileIndex:Be,FullPaths:$e};P(Qe);var bt,Tt=0;for(Te=0;Te<be.length;++Te){var Dt=be[Te];Dt!==at&&Dt!==at+"--"||(Tt++&&ns(Qe,be.slice(bt,Te),ve),bt=Te)}return Qe}function Fe(se,_e){var ve=_e||{},be=ve.boundary||"SheetJS";be="------="+be;for(var Te=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+be.slice(2)+'"',"","",""],Ae=se.FullPaths[0],Ue=Ae,at=se.FileIndex[0],Be=1;Be<se.FullPaths.length;++Be)if(Ue=se.FullPaths[Be].slice(Ae.length),at=se.FileIndex[Be],!(!at.size||!at.content||Ue=="Sh33tJ5")){Ue=Ue.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Yt){return"_x"+Yt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Yt){return"_u"+Yt.charCodeAt(0).toString(16)+"_"});for(var $e=at.content,Qe=gr&&Buffer.isBuffer($e)?$e.toString("binary"):oe($e),bt=0,Tt=Math.min(1024,Qe.length),Dt=0,wt=0;wt<=Tt;++wt)(Dt=Qe.charCodeAt(wt))>=32&&Dt<128&&++bt;var Pt=bt>=Tt*4/5;Te.push(be),Te.push("Content-Location: "+(ve.root||"file:///C:/SheetJS/")+Ue),Te.push("Content-Transfer-Encoding: "+(Pt?"quoted-printable":"base64")),Te.push("Content-Type: "+On(at,Ue)),Te.push(""),Te.push(Pt?fs(Qe):us(Qe))}return Te.push(be+`--\r
`),Te.join(`\r
`)}function Mt(se){var _e={};return P(_e,se),_e}function jt(se,_e,ve,be){var Te=be&&be.unsafe;Te||P(se);var Ae=!Te&&Er.find(se,_e);if(!Ae){var Ue=se.FullPaths[0];_e.slice(0,Ue.length)==Ue?Ue=_e:(Ue.slice(-1)!="/"&&(Ue+="/"),Ue=(Ue+_e).replace("//","/")),Ae={name:s(_e),type:2},se.FileIndex.push(Ae),se.FullPaths.push(Ue),Te||Er.utils.cfb_gc(se)}return Ae.content=ve,Ae.size=ve?ve.length:0,be&&(be.CLSID&&(Ae.clsid=be.CLSID),be.mt&&(Ae.mt=be.mt),be.ct&&(Ae.ct=be.ct)),Ae}function Yn(se,_e){P(se);var ve=Er.find(se,_e);if(ve){for(var be=0;be<se.FileIndex.length;++be)if(se.FileIndex[be]==ve)return se.FileIndex.splice(be,1),se.FullPaths.splice(be,1),!0}return!1}function Zt(se,_e,ve){P(se);var be=Er.find(se,_e);if(be){for(var Te=0;Te<se.FileIndex.length;++Te)if(se.FileIndex[Te]==be)return se.FileIndex[Te].name=s(ve),se.FullPaths[Te]=ve,!0}return!1}function Gn(se){R(se,!0)}return e.find=L,e.read=G,e.parse=d,e.write=ke,e.writeFile=de,e.utils={cfb_new:Mt,cfb_add:jt,cfb_del:Yn,cfb_mov:Zt,cfb_gc:Gn,ReadShift:y1,CheckField:Lq,prep_blob:ua,bconcat:ad,use_zlib:B,_deflateRaw:kt,_inflateRaw:Zn,consts:pe},e})();function Hye(t){if(typeof Deno<"u")return Deno.readFileSync(t);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var e=File(t);e.open("r"),e.encoding="binary";var n=e.read();return e.close(),n}catch(r){if(!r.message||!r.message.match(/onstruct/))throw r}throw new Error("Cannot access file "+t)}function ou(t){for(var e=Object.keys(t),n=[],r=0;r<e.length;++r)Object.prototype.hasOwnProperty.call(t,e[r])&&n.push(e[r]);return n}function qC(t){for(var e=[],n=ou(t),r=0;r!==n.length;++r)e[t[n[r]]]=n[r];return e}var sb=new Date(1899,11,30,0,0,0);function Qa(t,e){var n=t.getTime(),r=sb.getTime()+(t.getTimezoneOffset()-sb.getTimezoneOffset())*6e4;return(n-r)/(1440*60*1e3)}var pq=new Date,zye=sb.getTime()+(pq.getTimezoneOffset()-sb.getTimezoneOffset())*6e4,m8=pq.getTimezoneOffset();function lw(t){var e=new Date;return e.setTime(t*24*60*60*1e3+zye),e.getTimezoneOffset()!==m8&&e.setTime(e.getTime()+(e.getTimezoneOffset()-m8)*6e4),e}function Gye(t){var e=0,n=0,r=!1,s=t.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!s)throw new Error("|"+t+"| is not an ISO8601 Duration");for(var i=1;i!=s.length;++i)if(s[i]){switch(n=1,i>3&&(r=!0),s[i].slice(s[i].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+s[i].slice(s[i].length-1));case"D":n*=24;case"H":n*=60;case"M":if(r)n*=60;else throw new Error("Unsupported ISO Duration Field: M")}e+=n*parseInt(s[i],10)}return e}var g8=new Date("2017-02-19T19:06:09.000Z"),mq=isNaN(g8.getFullYear())?new Date("2/19/17"):g8,$ye=mq.getFullYear()==2017;function Yi(t,e){var n=new Date(t);if($ye)return e>0?n.setTime(n.getTime()+n.getTimezoneOffset()*60*1e3):e<0&&n.setTime(n.getTime()-n.getTimezoneOffset()*60*1e3),n;if(t instanceof Date)return t;if(mq.getFullYear()==1917&&!isNaN(n.getFullYear())){var r=n.getFullYear();return t.indexOf(""+r)>-1||n.setFullYear(n.getFullYear()+100),n}var s=t.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+s[0],+s[1]-1,+s[2],+s[3]||0,+s[4]||0,+s[5]||0);return t.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function Xh(t,e){if(gr&&Buffer.isBuffer(t)){if(e){if(t[0]==255&&t[1]==254)return e1(t.slice(2).toString("utf16le"));if(t[1]==254&&t[2]==255)return e1(tq(t.slice(2).toString("binary")))}return t.toString("binary")}if(typeof TextDecoder<"u")try{if(e){if(t[0]==255&&t[1]==254)return e1(new TextDecoder("utf-16le").decode(t.slice(2)));if(t[0]==254&&t[1]==255)return e1(new TextDecoder("utf-16be").decode(t.slice(2)))}var n={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[]/g,function(i){return n[i]||i})}catch{}for(var r=[],s=0;s!=t.length;++s)r.push(String.fromCharCode(t[s]));return r.join("")}function da(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=da(t[n]));return e}function Gs(t,e){for(var n="";n.length<e;)n+=t;return n}function lc(t){var e=Number(t);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(t))return e;var n=1,r=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return n*=100,""});return!isNaN(e=Number(r))||(r=r.replace(/[(](.*)[)]/,function(s,i){return n=-n,i}),!isNaN(e=Number(r)))?e/n:e}var Wye=["january","february","march","april","may","june","july","august","september","october","november","december"];function bm(t){var e=new Date(t),n=new Date(NaN),r=e.getYear(),s=e.getMonth(),i=e.getDate();if(isNaN(i))return n;var a=t.toLowerCase();if(a.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(a=a.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),a.length>3&&Wye.indexOf(a)==-1)return n}else if(a.match(/[a-z]/))return n;return r<0||r>8099?n:(s>0||i>1)&&r!=101?e:t.match(/[^-0-9:,\/\\]/)?n:e}var Kye=(function(){var t="abacaba".split(/(:?b)/i).length==5;return function(n,r,s){if(t||typeof r=="string")return n.split(r);for(var i=n.split(r),a=[i[0]],o=1;o<i.length;++o)a.push(s),a.push(i[o]);return a}})();function gq(t){return t?t.content&&t.type?Xh(t.content,!0):t.data?Jg(t.data):t.asNodeBuffer&&gr?Jg(t.asNodeBuffer().toString("binary")):t.asBinary?Jg(t.asBinary()):t._data&&t._data.getContent?Jg(Xh(Array.prototype.slice.call(t._data.getContent(),0))):null:null}function xq(t){if(!t)return null;if(t.data)return s8(t.data);if(t.asNodeBuffer&&gr)return t.asNodeBuffer();if(t._data&&t._data.getContent){var e=t._data.getContent();return typeof e=="string"?s8(e):Array.prototype.slice.call(e)}return t.content&&t.type?t.content:null}function Yye(t){return t&&t.name.slice(-4)===".bin"?xq(t):gq(t)}function bl(t,e){for(var n=t.FullPaths||ou(t.files),r=e.toLowerCase().replace(/[\/]/g,"\\"),s=r.replace(/\\/g,"/"),i=0;i<n.length;++i){var a=n[i].replace(/^Root Entry[\/]/,"").toLowerCase();if(r==a||s==a)return t.files?t.files[n[i]]:t.FileIndex[i]}return null}function HC(t,e){var n=bl(t,e);if(n==null)throw new Error("Cannot find file "+e+" in zip");return n}function di(t,e,n){if(!n)return Yye(HC(t,e));if(!e)return null;try{return di(t,e)}catch{return null}}function Wo(t,e,n){if(!n)return gq(HC(t,e));if(!e)return null;try{return Wo(t,e)}catch{return null}}function Xye(t,e,n){return xq(HC(t,e))}function x8(t){for(var e=t.FullPaths||ou(t.files),n=[],r=0;r<e.length;++r)e[r].slice(-1)!="/"&&n.push(e[r].replace(/^Root Entry[\/]/,""));return n.sort()}function Jye(t,e,n){if(t.FullPaths){if(typeof n=="string"){var r;return gr?r=u0(n):r=gye(n),Er.utils.cfb_add(t,e,r)}Er.utils.cfb_add(t,e,n)}else t.file(e,n)}function vq(t,e){switch(e.type){case"base64":return Er.read(t,{type:"base64"});case"binary":return Er.read(t,{type:"binary"});case"buffer":case"array":return Er.read(t,{type:"buffer"})}throw new Error("Unrecognized type "+e.type)}function Zg(t,e){if(t.charAt(0)=="/")return t.slice(1);var n=e.split("/");e.slice(-1)!="/"&&n.pop();for(var r=t.split("/");r.length!==0;){var s=r.shift();s===".."?n.pop():s!=="."&&n.push(s)}return n.join("/")}var yq=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,Qye=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,v8=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,Zye=/<[^>]*>/g,Fa=yq.match(v8)?v8:Zye,e2e=/<\w*:/,t2e=/<(\/?)\w+:/;function Dn(t,e,n){for(var r={},s=0,i=0;s!==t.length&&!((i=t.charCodeAt(s))===32||i===10||i===13);++s);if(e||(r[0]=t.slice(0,s)),s===t.length)return r;var a=t.match(Qye),o=0,c="",u=0,d="",p="",g=1;if(a)for(u=0;u!=a.length;++u){for(p=a[u],i=0;i!=p.length&&p.charCodeAt(i)!==61;++i);for(d=p.slice(0,i).trim();p.charCodeAt(i+1)==32;)++i;for(g=(s=p.charCodeAt(i+1))==34||s==39?1:0,c=p.slice(i+1+g,p.length-g),o=0;o!=d.length&&d.charCodeAt(o)!==58;++o);if(o===d.length)d.indexOf("_")>0&&(d=d.slice(0,d.indexOf("_"))),r[d]=c,r[d.toLowerCase()]=c;else{var x=(o===5&&d.slice(0,5)==="xmlns"?"xmlns":"")+d.slice(o+1);if(r[x]&&d.slice(o-3,o)=="ext")continue;r[x]=c,r[x.toLowerCase()]=c}}return r}function uu(t){return t.replace(t2e,"<$1")}var bq={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},n2e=qC(bq),Ir=(function(){var t=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,e=/_x([\da-fA-F]{4})_/ig;return function n(r){var s=r+"",i=s.indexOf("<![CDATA[");if(i==-1)return s.replace(t,function(o,c){return bq[o]||String.fromCharCode(parseInt(c,o.indexOf("x")>-1?16:10))||o}).replace(e,function(o,c){return String.fromCharCode(parseInt(c,16))});var a=s.indexOf("]]>");return n(s.slice(0,i))+s.slice(i+9,a)+n(s.slice(a+3))}})(),r2e=/[&<>'"]/g,s2e=/[\u0000-\u001f]/g;function zC(t){var e=t+"";return e.replace(r2e,function(n){return n2e[n]}).replace(/\n/g,"<br/>").replace(s2e,function(n){return"&#x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+";"})}var y8=(function(){var t=/&#(\d+);/g;function e(n,r){return String.fromCharCode(parseInt(r,10))}return function(r){return r.replace(t,e)}})();function As(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function d5(t){for(var e="",n=0,r=0,s=0,i=0,a=0,o=0;n<t.length;){if(r=t.charCodeAt(n++),r<128){e+=String.fromCharCode(r);continue}if(s=t.charCodeAt(n++),r>191&&r<224){a=(r&31)<<6,a|=s&63,e+=String.fromCharCode(a);continue}if(i=t.charCodeAt(n++),r<240){e+=String.fromCharCode((r&15)<<12|(s&63)<<6|i&63);continue}a=t.charCodeAt(n++),o=((r&7)<<18|(s&63)<<12|(i&63)<<6|a&63)-65536,e+=String.fromCharCode(55296+(o>>>10&1023)),e+=String.fromCharCode(56320+(o&1023))}return e}function b8(t){var e=Rd(2*t.length),n,r,s=1,i=0,a=0,o;for(r=0;r<t.length;r+=s)s=1,(o=t.charCodeAt(r))<128?n=o:o<224?(n=(o&31)*64+(t.charCodeAt(r+1)&63),s=2):o<240?(n=(o&15)*4096+(t.charCodeAt(r+1)&63)*64+(t.charCodeAt(r+2)&63),s=3):(s=4,n=(o&7)*262144+(t.charCodeAt(r+1)&63)*4096+(t.charCodeAt(r+2)&63)*64+(t.charCodeAt(r+3)&63),n-=65536,a=55296+(n>>>10&1023),n=56320+(n&1023)),a!==0&&(e[i++]=a&255,e[i++]=a>>>8,a=0),e[i++]=n%256,e[i++]=n>>>8;return e.slice(0,i).toString("ucs2")}function w8(t){return u0(t,"binary").toString("utf8")}var xy="foo bar baz",cs=gr&&(w8(xy)==d5(xy)&&w8||b8(xy)==d5(xy)&&b8)||d5,e1=gr?function(t){return u0(t,"utf8").toString("binary")}:function(t){for(var e=[],n=0,r=0,s=0;n<t.length;)switch(r=t.charCodeAt(n++),!0){case r<128:e.push(String.fromCharCode(r));break;case r<2048:e.push(String.fromCharCode(192+(r>>6))),e.push(String.fromCharCode(128+(r&63)));break;case(r>=55296&&r<57344):r-=55296,s=t.charCodeAt(n++)-56320+(r<<10),e.push(String.fromCharCode(240+(s>>18&7))),e.push(String.fromCharCode(144+(s>>12&63))),e.push(String.fromCharCode(128+(s>>6&63))),e.push(String.fromCharCode(128+(s&63)));break;default:e.push(String.fromCharCode(224+(r>>12))),e.push(String.fromCharCode(128+(r>>6&63))),e.push(String.fromCharCode(128+(r&63)))}return e.join("")},sx=(function(){var t={};return function(n,r){var s=n+"|"+(r||"");return t[s]?t[s]:t[s]=new RegExp("<(?:\\w+:)?"+n+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+n+">",r||"")}})(),wq=(function(){var t=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(n){for(var r=n.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),s=0;s<t.length;++s)r=r.replace(t[s][0],t[s][1]);return r}})(),i2e=(function(){var t={};return function(n){return t[n]!==void 0?t[n]:t[n]=new RegExp("<(?:vt:)?"+n+">([\\s\\S]*?)</(?:vt:)?"+n+">","g")}})(),a2e=/<\/?(?:vt:)?variant>/g,o2e=/<(?:vt:)([^>]*)>([\s\S]*)</;function _8(t,e){var n=Dn(t),r=t.match(i2e(n.baseType))||[],s=[];if(r.length!=n.size){if(e.WTF)throw new Error("unexpected vector length "+r.length+" != "+n.size);return s}return r.forEach(function(i){var a=i.replace(a2e,"").match(o2e);a&&s.push({v:cs(a[2]),t:a[1]})}),s}var l2e=/(^\s|\s$|\n)/;function c2e(t){return ou(t).map(function(e){return" "+e+'="'+t[e]+'"'}).join("")}function u2e(t,e,n){return"<"+t+(n!=null?c2e(n):"")+(e!=null?(e.match(l2e)?' xml:space="preserve"':"")+">"+e+"</"+t:"/")+">"}function GC(t){if(gr&&Buffer.isBuffer(t))return t.toString("utf8");if(typeof t=="string")return t;if(typeof Uint8Array<"u"&&t instanceof Uint8Array)return cs(f0(VC(t)));throw new Error("Bad input format: expected Buffer or string")}var ix=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,f2e={CT:"http://schemas.openxmlformats.org/package/2006/content-types"},d2e=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function h2e(t,e){for(var n=1-2*(t[e+7]>>>7),r=((t[e+7]&127)<<4)+(t[e+6]>>>4&15),s=t[e+6]&15,i=5;i>=0;--i)s=s*256+t[e+i];return r==2047?s==0?n*(1/0):NaN:(r==0?r=-1022:(r-=1023,s+=Math.pow(2,52)),n*Math.pow(2,r-52)*s)}function p2e(t,e,n){var r=(e<0||1/e==-1/0?1:0)<<7,s=0,i=0,a=r?-e:e;isFinite(a)?a==0?s=i=0:(s=Math.floor(Math.log(a)/Math.LN2),i=a*Math.pow(2,52-s),s<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?s=-1022:(i-=Math.pow(2,52),s+=1023)):(s=2047,i=isNaN(e)?26985:0);for(var o=0;o<=5;++o,i/=256)t[n+o]=i&255;t[n+6]=(s&15)<<4|i&15,t[n+7]=s>>4|r}var E8=function(t){for(var e=[],n=10240,r=0;r<t[0].length;++r)if(t[0][r])for(var s=0,i=t[0][r].length;s<i;s+=n)e.push.apply(e,t[0][r].slice(s,s+n));return e},T8=gr?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(e){return Buffer.isBuffer(e)?e:u0(e)})):E8(t)}:E8,S8=function(t,e,n){for(var r=[],s=e;s<n;s+=2)r.push(String.fromCharCode($u(t,s)));return r.join("").replace(Ja,"")},$C=gr?function(t,e,n){return Buffer.isBuffer(t)?t.toString("utf16le",e,n).replace(Ja,""):S8(t,e,n)}:S8,A8=function(t,e,n){for(var r=[],s=e;s<e+n;++s)r.push(("0"+t[s].toString(16)).slice(-2));return r.join("")},_q=gr?function(t,e,n){return Buffer.isBuffer(t)?t.toString("hex",e,e+n):A8(t,e,n)}:A8,C8=function(t,e,n){for(var r=[],s=e;s<n;s++)r.push(String.fromCharCode(yp(t,s)));return r.join("")},Vx=gr?function(e,n,r){return Buffer.isBuffer(e)?e.toString("utf8",n,r):C8(e,n,r)}:C8,Eq=function(t,e){var n=$o(t,e);return n>0?Vx(t,e+4,e+4+n-1):""},Tq=Eq,Sq=function(t,e){var n=$o(t,e);return n>0?Vx(t,e+4,e+4+n-1):""},Aq=Sq,Cq=function(t,e){var n=2*$o(t,e);return n>0?Vx(t,e+4,e+4+n-1):""},Nq=Cq,Iq=function(e,n){var r=$o(e,n);return r>0?$C(e,n+4,n+4+r):""},kq=Iq,Rq=function(t,e){var n=$o(t,e);return n>0?Vx(t,e+4,e+4+n):""},Pq=Rq,Dq=function(t,e){return h2e(t,e)},ib=Dq,Mq=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};gr&&(Tq=function(e,n){if(!Buffer.isBuffer(e))return Eq(e,n);var r=e.readUInt32LE(n);return r>0?e.toString("utf8",n+4,n+4+r-1):""},Aq=function(e,n){if(!Buffer.isBuffer(e))return Sq(e,n);var r=e.readUInt32LE(n);return r>0?e.toString("utf8",n+4,n+4+r-1):""},Nq=function(e,n){if(!Buffer.isBuffer(e))return Cq(e,n);var r=2*e.readUInt32LE(n);return e.toString("utf16le",n+4,n+4+r-1)},kq=function(e,n){if(!Buffer.isBuffer(e))return Iq(e,n);var r=e.readUInt32LE(n);return e.toString("utf16le",n+4,n+4+r)},Pq=function(e,n){if(!Buffer.isBuffer(e))return Rq(e,n);var r=e.readUInt32LE(n);return e.toString("utf8",n+4,n+4+r)},ib=function(e,n){return Buffer.isBuffer(e)?e.readDoubleLE(n):Dq(e,n)},Mq=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var yp=function(t,e){return t[e]},$u=function(t,e){return t[e+1]*256+t[e]},m2e=function(t,e){var n=t[e+1]*256+t[e];return n<32768?n:(65535-n+1)*-1},$o=function(t,e){return t[e+3]*(1<<24)+(t[e+2]<<16)+(t[e+1]<<8)+t[e]},xh=function(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]},g2e=function(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]};function y1(t,e){var n="",r,s,i=[],a,o,c,u;switch(e){case"dbcs":if(u=this.l,gr&&Buffer.isBuffer(this))n=this.slice(this.l,this.l+2*t).toString("utf16le");else for(c=0;c<t;++c)n+=String.fromCharCode($u(this,u)),u+=2;t*=2;break;case"utf8":n=Vx(this,this.l,this.l+t);break;case"utf16le":t*=2,n=$C(this,this.l,this.l+t);break;case"wstr":return y1.call(this,t,"dbcs");case"lpstr-ansi":n=Tq(this,this.l),t=4+$o(this,this.l);break;case"lpstr-cp":n=Aq(this,this.l),t=4+$o(this,this.l);break;case"lpwstr":n=Nq(this,this.l),t=4+2*$o(this,this.l);break;case"lpp4":t=4+$o(this,this.l),n=kq(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+$o(this,this.l),n=Pq(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,n="";(a=yp(this,this.l+t++))!==0;)i.push(gy(a));n=i.join("");break;case"_wstr":for(t=0,n="";(a=$u(this,this.l+t))!==0;)i.push(gy(a)),t+=2;t+=2,n=i.join("");break;case"dbcs-cont":for(n="",u=this.l,c=0;c<t;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return a=yp(this,u),this.l=u+1,o=y1.call(this,t-c,a?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push(gy($u(this,u))),u+=2}n=i.join(""),t*=2;break;case"cpstr":case"sbcs-cont":for(n="",u=this.l,c=0;c!=t;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return a=yp(this,u),this.l=u+1,o=y1.call(this,t-c,a?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push(gy(yp(this,u))),u+=1}n=i.join("");break;default:switch(t){case 1:return r=yp(this,this.l),this.l++,r;case 2:return r=(e==="i"?m2e:$u)(this,this.l),this.l+=2,r;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(r=(t>0?xh:g2e)(this,this.l),this.l+=4,r):(s=$o(this,this.l),this.l+=4,s);case 8:case-8:if(e==="f")return t==8?s=ib(this,this.l):s=ib([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,s;t=8;case 16:n=_q(this,this.l,t);break}}return this.l+=t,n}var x2e=function(t,e,n){t[n]=e&255,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24&255},v2e=function(t,e,n){t[n]=e&255,t[n+1]=e>>8&255,t[n+2]=e>>16&255,t[n+3]=e>>24&255},y2e=function(t,e,n){t[n]=e&255,t[n+1]=e>>>8&255};function b2e(t,e,n){var r=0,s=0;if(n==="dbcs"){for(s=0;s!=e.length;++s)y2e(this,e.charCodeAt(s),this.l+2*s);r=2*e.length}else if(n==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),s=0;s!=e.length;++s)this[this.l+s]=e.charCodeAt(s)&255;r=e.length}else if(n==="hex"){for(;s<t;++s)this[this.l++]=parseInt(e.slice(2*s,2*s+2),16)||0;return this}else if(n==="utf16le"){var i=Math.min(this.l+t,this.length);for(s=0;s<Math.min(e.length,t);++s){var a=e.charCodeAt(s);this[this.l++]=a&255,this[this.l++]=a>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(t){case 1:r=1,this[this.l]=e&255;break;case 2:r=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:r=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:r=4,x2e(this,e,this.l);break;case 8:if(r=8,n==="f"){p2e(this,e,this.l);break}case 16:break;case-4:r=4,v2e(this,e,this.l);break}return this.l+=r,this}function Lq(t,e){var n=_q(this,this.l,t.length>>1);if(n!==t)throw new Error(e+"Expected "+t+" saw "+n);this.l+=t.length>>1}function ua(t,e){t.l=e,t.read_shift=y1,t.chk=Lq,t.write_shift=b2e}function La(t,e){t.l+=e}function Ii(t){var e=Rd(t);return ua(e,0),e}function pf(t,e,n){if(t){var r,s,i;ua(t,t.l||0);for(var a=t.length,o=0,c=0;t.l<a;){o=t.read_shift(1),o&128&&(o=(o&127)+((t.read_shift(1)&127)<<7));var u=fb[o]||fb[65535];for(r=t.read_shift(1),i=r&127,s=1;s<4&&r&128;++s)i+=((r=t.read_shift(1))&127)<<7*s;c=t.l+i;var d=u.f&&u.f(t,i,n);if(t.l=c,e(d,u,o))return}}}function aS(){var t=[],e=gr?256:2048,n=function(u){var d=Ii(u);return ua(d,0),d},r=n(e),s=function(){r&&(r.length>r.l&&(r=r.slice(0,r.l),r.l=r.length),r.length>0&&t.push(r),r=null)},i=function(u){return r&&u<r.length-r.l?r:(s(),r=n(Math.max(u+1,e)))},a=function(){return s(),ad(t)},o=function(u){s(),r=u,r.l==null&&(r.l=r.length),i(e)};return{next:i,push:o,end:a,_bufs:t}}function b1(t,e,n){var r=da(t);if(e.s?(r.cRel&&(r.c+=e.s.c),r.rRel&&(r.r+=e.s.r)):(r.cRel&&(r.c+=e.c),r.rRel&&(r.r+=e.r)),!n||n.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function N8(t,e,n){var r=da(t);return r.s=b1(r.s,e.s,n),r.e=b1(r.e,e.s,n),r}function w1(t,e){if(t.cRel&&t.c<0)for(t=da(t);t.c<0;)t.c+=e>8?16384:256;if(t.rRel&&t.r<0)for(t=da(t);t.r<0;)t.r+=e>8?1048576:e>5?65536:16384;var n=Hn(t);return!t.cRel&&t.cRel!=null&&(n=E2e(n)),!t.rRel&&t.rRel!=null&&(n=w2e(n)),n}function h5(t,e){return t.s.r==0&&!t.s.rRel&&t.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+Ri(t.s.c)+":"+(t.e.cRel?"":"$")+Ri(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(e.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+ha(t.s.r)+":"+(t.e.rRel?"":"$")+ha(t.e.r):w1(t.s,e.biff)+":"+w1(t.e,e.biff)}function WC(t){return parseInt(_2e(t),10)-1}function ha(t){return""+(t+1)}function w2e(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function _2e(t){return t.replace(/\$(\d+)$/,"$1")}function KC(t){for(var e=T2e(t),n=0,r=0;r!==e.length;++r)n=26*n+e.charCodeAt(r)-64;return n-1}function Ri(t){if(t<0)throw new Error("invalid column "+t);var e="";for(++t;t;t=Math.floor((t-1)/26))e=String.fromCharCode((t-1)%26+65)+e;return e}function E2e(t){return t.replace(/^([A-Z])/,"$$$1")}function T2e(t){return t.replace(/^\$([A-Z])/,"$1")}function S2e(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Ya(t){for(var e=0,n=0,r=0;r<t.length;++r){var s=t.charCodeAt(r);s>=48&&s<=57?e=10*e+(s-48):s>=65&&s<=90&&(n=26*n+(s-64))}return{c:n-1,r:e-1}}function Hn(t){for(var e=t.c+1,n="";e;e=(e-1)/26|0)n=String.fromCharCode((e-1)%26+65)+n;return n+(t.r+1)}function Hm(t){var e=t.indexOf(":");return e==-1?{s:Ya(t),e:Ya(t)}:{s:Ya(t.slice(0,e)),e:Ya(t.slice(e+1))}}function Sr(t,e){return typeof e>"u"||typeof e=="number"?Sr(t.s,t.e):(typeof t!="string"&&(t=Hn(t)),typeof e!="string"&&(e=Hn(e)),t==e?t:t+":"+e)}function Ws(t){var e={s:{c:0,r:0},e:{c:0,r:0}},n=0,r=0,s=0,i=t.length;for(n=0;r<i&&!((s=t.charCodeAt(r)-64)<1||s>26);++r)n=26*n+s;for(e.s.c=--n,n=0;r<i&&!((s=t.charCodeAt(r)-48)<0||s>9);++r)n=10*n+s;if(e.s.r=--n,r===i||s!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++r,n=0;r!=i&&!((s=t.charCodeAt(r)-64)<1||s>26);++r)n=26*n+s;for(e.e.c=--n,n=0;r!=i&&!((s=t.charCodeAt(r)-48)<0||s>9);++r)n=10*n+s;return e.e.r=--n,e}function I8(t,e){var n=t.t=="d"&&e instanceof Date;if(t.z!=null)try{return t.w=Il(t.z,n?Qa(e):e)}catch{}try{return t.w=Il((t.XF||{}).numFmtId||(n?14:0),n?Qa(e):e)}catch{return""+e}}function lf(t,e,n){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&n&&n.dateNF&&(t.z=n.dateNF),t.t=="e"?p0[t.v]||t.v:e==null?I8(t,t.v):I8(t,e))}function Ud(t,e){var n=e&&e.sheet?e.sheet:"Sheet1",r={};return r[n]=t,{SheetNames:[n],Sheets:r}}function Fq(t,e,n){var r=n||{},s=t?Array.isArray(t):r.dense,i=t||(s?[]:{}),a=0,o=0;if(i&&r.origin!=null){if(typeof r.origin=="number")a=r.origin;else{var c=typeof r.origin=="string"?Ya(r.origin):r.origin;a=c.r,o=c.c}i["!ref"]||(i["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var d=Ws(i["!ref"]);u.s.c=d.s.c,u.s.r=d.s.r,u.e.c=Math.max(u.e.c,d.e.c),u.e.r=Math.max(u.e.r,d.e.r),a==-1&&(u.e.r=a=d.e.r+1)}for(var p=0;p!=e.length;++p)if(e[p]){if(!Array.isArray(e[p]))throw new Error("aoa_to_sheet expects an array of arrays");for(var g=0;g!=e[p].length;++g)if(!(typeof e[p][g]>"u")){var x={v:e[p][g]},w=a+p,y=o+g;if(u.s.r>w&&(u.s.r=w),u.s.c>y&&(u.s.c=y),u.e.r<w&&(u.e.r=w),u.e.c<y&&(u.e.c=y),e[p][g]&&typeof e[p][g]=="object"&&!Array.isArray(e[p][g])&&!(e[p][g]instanceof Date))x=e[p][g];else if(Array.isArray(x.v)&&(x.f=e[p][g][1],x.v=x.v[0]),x.v===null)if(x.f)x.t="n";else if(r.nullError)x.t="e",x.v=0;else if(r.sheetStubs)x.t="z";else continue;else typeof x.v=="number"?x.t="n":typeof x.v=="boolean"?x.t="b":x.v instanceof Date?(x.z=r.dateNF||Kn[14],r.cellDates?(x.t="d",x.w=Il(x.z,Qa(x.v))):(x.t="n",x.v=Qa(x.v),x.w=Il(x.z,x.v))):x.t="s";if(s)i[w]||(i[w]=[]),i[w][y]&&i[w][y].z&&(x.z=i[w][y].z),i[w][y]=x;else{var S=Hn({c:y,r:w});i[S]&&i[S].z&&(x.z=i[S].z),i[S]=x}}}return u.s.c<1e7&&(i["!ref"]=Sr(u)),i}function zm(t,e){return Fq(null,t,e)}function A2e(t){return t.read_shift(4,"i")}function Ma(t){var e=t.read_shift(4);return e===0?"":t.read_shift(e,"dbcs")}function C2e(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function YC(t,e){var n=t.l,r=t.read_shift(1),s=Ma(t),i=[],a={t:s,h:s};if((r&1)!==0){for(var o=t.read_shift(4),c=0;c!=o;++c)i.push(C2e(t));a.r=i}else a.r=[{ich:0,ifnt:0}];return t.l=n+e,a}var N2e=YC;function kl(t){var e=t.read_shift(4),n=t.read_shift(2);return n+=t.read_shift(1)<<16,t.l++,{c:e,iStyleRef:n}}function d0(t){var e=t.read_shift(2);return e+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:e}}var I2e=Ma;function XC(t){var e=t.read_shift(4);return e===0||e===4294967295?"":t.read_shift(e,"dbcs")}var k2e=Ma,oS=XC;function JC(t){var e=t.slice(t.l,t.l+4),n=e[0]&1,r=e[0]&2;t.l+=4;var s=r===0?ib([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):xh(e,0)>>2;return n?s/100:s}function Oq(t){var e={s:{},e:{}};return e.s.r=t.read_shift(4),e.e.r=t.read_shift(4),e.s.c=t.read_shift(4),e.e.c=t.read_shift(4),e}var h0=Oq;function Ia(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function R2e(t){var e={},n=t.read_shift(1),r=n>>>1,s=t.read_shift(1),i=t.read_shift(2,"i"),a=t.read_shift(1),o=t.read_shift(1),c=t.read_shift(1);switch(t.l++,r){case 0:e.auto=1;break;case 1:e.index=s;var u=Rh[s];u&&(e.rgb=ox(u));break;case 2:e.rgb=ox([a,o,c]);break;case 3:e.theme=s;break}return i!=0&&(e.tint=i>0?i/32767:i/32768),e}function P2e(t){var e=t.read_shift(1);t.l++;var n={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return n}function Bq(t,e){var n={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},r=t.read_shift(4);switch(r){case 0:return"";case 4294967295:case 4294967294:return n[t.read_shift(4)]||""}if(r>400)throw new Error("Unsupported Clipboard: "+r.toString(16));return t.l-=4,t.read_shift(0,e==1?"lpstr":"lpwstr")}function D2e(t){return Bq(t,1)}function M2e(t){return Bq(t,2)}var QC=2,Eo=3,vy=11,k8=12,ab=19,yy=64,L2e=65,F2e=71,O2e=4108,B2e=4126,Wi=80,Vq=81,V2e=[Wi,Vq],U2e={1:{n:"CodePage",t:QC},2:{n:"Category",t:Wi},3:{n:"PresentationFormat",t:Wi},4:{n:"ByteCount",t:Eo},5:{n:"LineCount",t:Eo},6:{n:"ParagraphCount",t:Eo},7:{n:"SlideCount",t:Eo},8:{n:"NoteCount",t:Eo},9:{n:"HiddenCount",t:Eo},10:{n:"MultimediaClipCount",t:Eo},11:{n:"ScaleCrop",t:vy},12:{n:"HeadingPairs",t:O2e},13:{n:"TitlesOfParts",t:B2e},14:{n:"Manager",t:Wi},15:{n:"Company",t:Wi},16:{n:"LinksUpToDate",t:vy},17:{n:"CharacterCount",t:Eo},19:{n:"SharedDoc",t:vy},22:{n:"HyperlinksChanged",t:vy},23:{n:"AppVersion",t:Eo,p:"version"},24:{n:"DigSig",t:L2e},26:{n:"ContentType",t:Wi},27:{n:"ContentStatus",t:Wi},28:{n:"Language",t:Wi},29:{n:"Version",t:Wi},255:{},2147483648:{n:"Locale",t:ab},2147483651:{n:"Behavior",t:ab},1919054434:{}},j2e={1:{n:"CodePage",t:QC},2:{n:"Title",t:Wi},3:{n:"Subject",t:Wi},4:{n:"Author",t:Wi},5:{n:"Keywords",t:Wi},6:{n:"Comments",t:Wi},7:{n:"Template",t:Wi},8:{n:"LastAuthor",t:Wi},9:{n:"RevNumber",t:Wi},10:{n:"EditTime",t:yy},11:{n:"LastPrinted",t:yy},12:{n:"CreatedDate",t:yy},13:{n:"ModifiedDate",t:yy},14:{n:"PageCount",t:Eo},15:{n:"WordCount",t:Eo},16:{n:"CharCount",t:Eo},17:{n:"Thumbnail",t:F2e},18:{n:"Application",t:Wi},19:{n:"DocSecurity",t:Eo},255:{},2147483648:{n:"Locale",t:ab},2147483651:{n:"Behavior",t:ab},1919054434:{}},R8={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},q2e=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function H2e(t){return t.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var z2e=H2e([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Rh=da(z2e),p0={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},Uq={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},P8={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function G2e(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function $2e(t){var e=G2e();if(!t||!t.match)return e;var n={};if((t.match(Fa)||[]).forEach(function(r){var s=Dn(r);switch(s[0].replace(e2e,"<")){case"<?xml":break;case"<Types":e.xmlns=s["xmlns"+(s[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":n[s.Extension]=s.ContentType;break;case"<Override":e[P8[s.ContentType]]!==void 0&&e[P8[s.ContentType]].push(s.PartName);break}}),e.xmlns!==f2e.CT)throw new Error("Unknown Namespace: "+e.xmlns);return e.calcchain=e.calcchains.length>0?e.calcchains[0]:"",e.sst=e.strs.length>0?e.strs[0]:"",e.style=e.styles.length>0?e.styles[0]:"",e.defaults=n,delete e.calcchains,e}var Dp={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function lS(t){var e=t.lastIndexOf("/");return t.slice(0,e+1)+"_rels/"+t.slice(e+1)+".rels"}function _1(t,e){var n={"!id":{}};if(!t)return n;e.charAt(0)!=="/"&&(e="/"+e);var r={};return(t.match(Fa)||[]).forEach(function(s){var i=Dn(s);if(i[0]==="<Relationship"){var a={};a.Type=i.Type,a.Target=i.Target,a.Id=i.Id,i.TargetMode&&(a.TargetMode=i.TargetMode);var o=i.TargetMode==="External"?i.Target:Zg(i.Target,e);n[o]=a,r[i.Id]=a}}),n["!id"]=r,n}var W2e="application/vnd.oasis.opendocument.spreadsheet";function K2e(t,e){for(var n=GC(t),r,s;r=ix.exec(n);)switch(r[3]){case"manifest":break;case"file-entry":if(s=Dn(r[0],!1),s.path=="/"&&s.type!==W2e)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(e&&e.WTF)throw r}}var E1=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],Y2e=(function(){for(var t=new Array(E1.length),e=0;e<E1.length;++e){var n=E1[e],r="(?:"+n[0].slice(0,n[0].indexOf(":"))+":)"+n[0].slice(n[0].indexOf(":")+1);t[e]=new RegExp("<"+r+"[^>]*>([\\s\\S]*?)</"+r+">")}return t})();function jq(t){var e={};t=cs(t);for(var n=0;n<E1.length;++n){var r=E1[n],s=t.match(Y2e[n]);s!=null&&s.length>0&&(e[r[1]]=Ir(s[1])),r[2]==="date"&&e[r[1]]&&(e[r[1]]=Yi(e[r[1]]))}return e}var X2e=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function qq(t,e,n,r){var s=[];if(typeof t=="string")s=_8(t,r);else for(var i=0;i<t.length;++i)s=s.concat(t[i].map(function(d){return{v:d}}));var a=typeof e=="string"?_8(e,r).map(function(d){return d.v}):e,o=0,c=0;if(a.length>0)for(var u=0;u!==s.length;u+=2){switch(c=+s[u+1].v,s[u].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":n.Worksheets=c,n.SheetNames=a.slice(o,o+c);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":n.NamedRanges=c,n.DefinedNames=a.slice(o,o+c);break;case"Charts":case"Diagramme":n.Chartsheets=c,n.ChartNames=a.slice(o,o+c);break}o+=c}}function J2e(t,e,n){var r={};return e||(e={}),t=cs(t),X2e.forEach(function(s){var i=(t.match(sx(s[0]))||[])[1];switch(s[2]){case"string":i&&(e[s[1]]=Ir(i));break;case"bool":e[s[1]]=i==="true";break;case"raw":var a=t.match(new RegExp("<"+s[0]+"[^>]*>([\\s\\S]*?)</"+s[0]+">"));a&&a.length>0&&(r[s[1]]=a[1]);break}}),r.HeadingPairs&&r.TitlesOfParts&&qq(r.HeadingPairs,r.TitlesOfParts,e,n),e}var Q2e=/<[^>]+>[^<]*/g;function Z2e(t,e){var n={},r="",s=t.match(Q2e);if(s)for(var i=0;i!=s.length;++i){var a=s[i],o=Dn(a);switch(o[0]){case"<?xml":break;case"<Properties":break;case"<property":r=Ir(o.name);break;case"</property>":r=null;break;default:if(a.indexOf("<vt:")===0){var c=a.split(">"),u=c[0].slice(4),d=c[1];switch(u){case"lpstr":case"bstr":case"lpwstr":n[r]=Ir(d);break;case"bool":n[r]=As(d);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":n[r]=parseInt(d,10);break;case"r4":case"r8":case"decimal":n[r]=parseFloat(d);break;case"filetime":case"date":n[r]=Yi(d);break;case"cy":case"error":n[r]=Ir(d);break;default:if(u.slice(-1)=="/")break;e.WTF&&typeof console<"u"&&console.warn("Unexpected",a,u,c)}}else if(a.slice(0,2)!=="</"){if(e.WTF)throw new Error(a)}}}return n}var ebe={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},p5;function tbe(t,e,n){p5||(p5=qC(ebe)),e=p5[e]||e,t[e]=n}function ZC(t){var e=t.read_shift(4),n=t.read_shift(4);return new Date((n/1e7*Math.pow(2,32)+e/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function Hq(t,e,n){var r=t.l,s=t.read_shift(0,"lpstr-cp");if(n)for(;t.l-r&3;)++t.l;return s}function zq(t,e,n){var r=t.read_shift(0,"lpwstr");return r}function Gq(t,e,n){return e===31?zq(t):Hq(t,e,n)}function cS(t,e,n){return Gq(t,e,n===!1?0:4)}function nbe(t,e){if(!e)throw new Error("VtUnalignedString must have positive length");return Gq(t,e,0)}function rbe(t){for(var e=t.read_shift(4),n=[],r=0;r!=e;++r){var s=t.l;n[r]=t.read_shift(0,"lpwstr").replace(Ja,""),t.l-s&2&&(t.l+=2)}return n}function sbe(t){for(var e=t.read_shift(4),n=[],r=0;r!=e;++r)n[r]=t.read_shift(0,"lpstr-cp").replace(Ja,"");return n}function ibe(t){var e=t.l,n=ob(t,Vq);t[t.l]==0&&t[t.l+1]==0&&t.l-e&2&&(t.l+=2);var r=ob(t,Eo);return[n,r]}function abe(t){for(var e=t.read_shift(4),n=[],r=0;r<e/2;++r)n.push(ibe(t));return n}function D8(t,e){for(var n=t.read_shift(4),r={},s=0;s!=n;++s){var i=t.read_shift(4),a=t.read_shift(4);r[i]=t.read_shift(a,e===1200?"utf16le":"utf8").replace(Ja,"").replace(Qg,"!"),e===1200&&a%2&&(t.l+=2)}return t.l&3&&(t.l=t.l>>3<<2),r}function $q(t){var e=t.read_shift(4),n=t.slice(t.l,t.l+e);return t.l+=e,(e&3)>0&&(t.l+=4-(e&3)&3),n}function obe(t){var e={};return e.Size=t.read_shift(4),t.l+=e.Size+3-(e.Size-1)%4,e}function ob(t,e,n){var r=t.read_shift(2),s,i=n||{};if(t.l+=2,e!==k8&&r!==e&&V2e.indexOf(e)===-1&&!((e&65534)==4126&&(r&65534)==4126))throw new Error("Expected type "+e+" saw "+r);switch(e===k8?r:e){case 2:return s=t.read_shift(2,"i"),i.raw||(t.l+=2),s;case 3:return s=t.read_shift(4,"i"),s;case 11:return t.read_shift(4)!==0;case 19:return s=t.read_shift(4),s;case 30:return Hq(t,r,4).replace(Ja,"");case 31:return zq(t);case 64:return ZC(t);case 65:return $q(t);case 71:return obe(t);case 80:return cS(t,r,!i.raw).replace(Ja,"");case 81:return nbe(t,r).replace(Ja,"");case 4108:return abe(t);case 4126:case 4127:return r==4127?rbe(t):sbe(t);default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+r)}}function M8(t,e){var n=t.l,r=t.read_shift(4),s=t.read_shift(4),i=[],a=0,o=0,c=-1,u={};for(a=0;a!=s;++a){var d=t.read_shift(4),p=t.read_shift(4);i[a]=[d,p+n]}i.sort(function(F,I){return F[1]-I[1]});var g={};for(a=0;a!=s;++a){if(t.l!==i[a][1]){var x=!0;if(a>0&&e)switch(e[i[a-1][0]].t){case 2:t.l+2===i[a][1]&&(t.l+=2,x=!1);break;case 80:t.l<=i[a][1]&&(t.l=i[a][1],x=!1);break;case 4108:t.l<=i[a][1]&&(t.l=i[a][1],x=!1);break}if((!e||a==0)&&t.l<=i[a][1]&&(x=!1,t.l=i[a][1]),x)throw new Error("Read Error: Expected address "+i[a][1]+" at "+t.l+" :"+a)}if(e){var w=e[i[a][0]];if(g[w.n]=ob(t,w.t,{raw:!0}),w.p==="version"&&(g[w.n]=String(g[w.n]>>16)+"."+("0000"+String(g[w.n]&65535)).slice(-4)),w.n=="CodePage")switch(g[w.n]){case 0:g[w.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:ac(o=g[w.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+g[w.n])}}else if(i[a][0]===1){if(o=g.CodePage=ob(t,QC),ac(o),c!==-1){var y=t.l;t.l=i[c][1],u=D8(t,o),t.l=y}}else if(i[a][0]===0){if(o===0){c=a,t.l=i[a+1][1];continue}u=D8(t,o)}else{var S=u[i[a][0]],C;switch(t[t.l]){case 65:t.l+=4,C=$q(t);break;case 30:t.l+=4,C=cS(t,t[t.l-4]).replace(/\u0000+$/,"");break;case 31:t.l+=4,C=cS(t,t[t.l-4]).replace(/\u0000+$/,"");break;case 3:t.l+=4,C=t.read_shift(4,"i");break;case 19:t.l+=4,C=t.read_shift(4);break;case 5:t.l+=4,C=t.read_shift(8,"f");break;case 11:t.l+=4,C=Zs(t,4);break;case 64:t.l+=4,C=Yi(ZC(t));break;default:throw new Error("unparsed value: "+t[t.l])}g[S]=C}}return t.l=n+r,g}function L8(t,e,n){var r=t.content;if(!r)return{};ua(r,0);var s,i,a,o,c=0;r.chk("feff","Byte Order: "),r.read_shift(2);var u=r.read_shift(4),d=r.read_shift(16);if(d!==Er.utils.consts.HEADER_CLSID&&d!==n)throw new Error("Bad PropertySet CLSID "+d);if(s=r.read_shift(4),s!==1&&s!==2)throw new Error("Unrecognized #Sets: "+s);if(i=r.read_shift(16),o=r.read_shift(4),s===1&&o!==r.l)throw new Error("Length mismatch: "+o+" !== "+r.l);s===2&&(a=r.read_shift(16),c=r.read_shift(4));var p=M8(r,e),g={SystemIdentifier:u};for(var x in p)g[x]=p[x];if(g.FMTID=i,s===1)return g;if(c-r.l==2&&(r.l+=2),r.l!==c)throw new Error("Length mismatch 2: "+r.l+" !== "+c);var w;try{w=M8(r,null)}catch{}for(x in w)g[x]=w[x];return g.FMTID=[i,a],g}function Qf(t,e){return t.read_shift(e),null}function lbe(t,e,n){for(var r=[],s=t.l+e;t.l<s;)r.push(n(t,s-t.l));if(s!==t.l)throw new Error("Slurp error");return r}function Zs(t,e){return t.read_shift(e)===1}function hi(t){return t.read_shift(2,"u")}function Wq(t,e){return lbe(t,e,hi)}function cbe(t){var e=t.read_shift(1),n=t.read_shift(1);return n===1?e:e===1}function Ux(t,e,n){var r=t.read_shift(n&&n.biff>=12?2:1),s="sbcs-cont";if(n&&n.biff>=8,!n||n.biff==8){var i=t.read_shift(1);i&&(s="dbcs-cont")}else n.biff==12&&(s="wstr");n.biff>=2&&n.biff<=5&&(s="cpstr");var a=r?t.read_shift(r,s):"";return a}function ube(t){var e=t.read_shift(2),n=t.read_shift(1),r=n&4,s=n&8,i=1+(n&1),a=0,o,c={};s&&(a=t.read_shift(2)),r&&(o=t.read_shift(4));var u=i==2?"dbcs-cont":"sbcs-cont",d=e===0?"":t.read_shift(e,u);return s&&(t.l+=4*a),r&&(t.l+=o),c.t=d,s||(c.raw="<t>"+c.t+"</t>",c.r=c.t),c}function Jh(t,e,n){var r;if(n){if(n.biff>=2&&n.biff<=5)return t.read_shift(e,"cpstr");if(n.biff>=12)return t.read_shift(e,"dbcs-cont")}var s=t.read_shift(1);return s===0?r=t.read_shift(e,"sbcs-cont"):r=t.read_shift(e,"dbcs-cont"),r}function jx(t,e,n){var r=t.read_shift(n&&n.biff==2?1:2);return r===0?(t.l++,""):Jh(t,r,n)}function m0(t,e,n){if(n.biff>5)return jx(t,e,n);var r=t.read_shift(1);return r===0?(t.l++,""):t.read_shift(r,n.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function fbe(t){var e=t.read_shift(1);t.l++;var n=t.read_shift(2);return t.l+=2,[e,n]}function dbe(t){var e=t.read_shift(4),n=t.l,r=!1;e>24&&(t.l+=e-24,t.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(r=!0),t.l=n);var s=t.read_shift((r?e-24:e)>>1,"utf16le").replace(Ja,"");return r&&(t.l+=24),s}function hbe(t){for(var e=t.read_shift(2),n="";e-- >0;)n+="../";var r=t.read_shift(0,"lpstr-ansi");if(t.l+=2,t.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var s=t.read_shift(4);if(s===0)return n+r.replace(/\\/g,"/");var i=t.read_shift(4);if(t.read_shift(2)!=3)throw new Error("Bad FileMoniker");var a=t.read_shift(i>>1,"utf16le").replace(Ja,"");return n+a}function pbe(t,e){var n=t.read_shift(16);switch(n){case"e0c9ea79f9bace118c8200aa004ba90b":return dbe(t);case"0303000000000000c000000000000046":return hbe(t);default:throw new Error("Unsupported Moniker "+n)}}function by(t){var e=t.read_shift(4),n=e>0?t.read_shift(e,"utf16le").replace(Ja,""):"";return n}function mbe(t,e){var n=t.l+e,r=t.read_shift(4);if(r!==2)throw new Error("Unrecognized streamVersion: "+r);var s=t.read_shift(2);t.l+=2;var i,a,o,c,u="",d,p;s&16&&(i=by(t,n-t.l)),s&128&&(a=by(t,n-t.l)),(s&257)===257&&(o=by(t,n-t.l)),(s&257)===1&&(c=pbe(t,n-t.l)),s&8&&(u=by(t,n-t.l)),s&32&&(d=t.read_shift(16)),s&64&&(p=ZC(t)),t.l=n;var g=a||o||c||"";g&&u&&(g+="#"+u),g||(g="#"+u),s&2&&g.charAt(0)=="/"&&g.charAt(1)!="/"&&(g="file://"+g);var x={Target:g};return d&&(x.guid=d),p&&(x.time=p),i&&(x.Tooltip=i),x}function Kq(t){var e=t.read_shift(1),n=t.read_shift(1),r=t.read_shift(1),s=t.read_shift(1);return[e,n,r,s]}function Yq(t,e){var n=Kq(t);return n[3]=0,n}function fu(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(2);return{r:e,c:n,ixfe:r}}function gbe(t){var e=t.read_shift(2),n=t.read_shift(2);return t.l+=8,{type:e,flags:n}}function xbe(t,e,n){return e===0?"":m0(t,e,n)}function vbe(t,e,n){var r=n.biff>8?4:2,s=t.read_shift(r),i=t.read_shift(r,"i"),a=t.read_shift(r,"i");return[s,i,a]}function Xq(t){var e=t.read_shift(2),n=JC(t);return[e,n]}function ybe(t,e,n){t.l+=4,e-=4;var r=t.l+e,s=Ux(t,e,n),i=t.read_shift(2);if(r-=t.l,i!==r)throw new Error("Malformed AddinUdf: padding = "+r+" != "+i);return t.l+=i,s}function cw(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(2),s=t.read_shift(2);return{s:{c:r,r:e},e:{c:s,r:n}}}function Jq(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(1),s=t.read_shift(1);return{s:{c:r,r:e},e:{c:s,r:n}}}var bbe=Jq;function Qq(t){t.l+=4;var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(2);return t.l+=12,[n,e,r]}function wbe(t){var e={};return t.l+=4,t.l+=16,e.fSharedNote=t.read_shift(2),t.l+=4,e}function _be(t){var e={};return t.l+=4,t.cf=t.read_shift(2),e}function Sa(t){t.l+=2,t.l+=t.read_shift(2)}var Ebe={0:Sa,4:Sa,5:Sa,6:Sa,7:_be,8:Sa,9:Sa,10:Sa,11:Sa,12:Sa,13:wbe,14:Sa,15:Sa,16:Sa,17:Sa,18:Sa,19:Sa,20:Sa,21:Qq};function Tbe(t,e){for(var n=t.l+e,r=[];t.l<n;){var s=t.read_shift(2);t.l-=2;try{r.push(Ebe[s](t,n-t.l))}catch{return t.l=n,r}}return t.l!=n&&(t.l=n),r}function wy(t,e){var n={BIFFVer:0,dt:0};switch(n.BIFFVer=t.read_shift(2),e-=2,e>=2&&(n.dt=t.read_shift(2),t.l-=2),n.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(e>6)throw new Error("Unexpected BIFF Ver "+n.BIFFVer)}return t.read_shift(e),n}function Sbe(t,e){return e===0||t.read_shift(2),1200}function Abe(t,e,n){if(n.enc)return t.l+=e,"";var r=t.l,s=m0(t,0,n);return t.read_shift(e+r-t.l),s}function Cbe(t,e,n){var r=n&&n.biff==8||e==2?t.read_shift(2):(t.l+=e,0);return{fDialog:r&16,fBelow:r&64,fRight:r&128}}function Nbe(t,e,n){var r=t.read_shift(4),s=t.read_shift(1)&3,i=t.read_shift(1);switch(i){case 0:i="Worksheet";break;case 1:i="Macrosheet";break;case 2:i="Chartsheet";break;case 6:i="VBAModule";break}var a=Ux(t,0,n);return a.length===0&&(a="Sheet1"),{pos:r,hs:s,dt:i,name:a}}function Ibe(t,e){for(var n=t.l+e,r=t.read_shift(4),s=t.read_shift(4),i=[],a=0;a!=s&&t.l<n;++a)i.push(ube(t));return i.Count=r,i.Unique=s,i}function kbe(t,e){var n={};return n.dsst=t.read_shift(2),t.l+=e-2,n}function Rbe(t){var e={};e.r=t.read_shift(2),e.c=t.read_shift(2),e.cnt=t.read_shift(2)-e.c;var n=t.read_shift(2);t.l+=4;var r=t.read_shift(1);return t.l+=3,r&7&&(e.level=r&7),r&32&&(e.hidden=!0),r&64&&(e.hpt=n/20),e}function Pbe(t){var e=gbe(t);if(e.type!=2211)throw new Error("Invalid Future Record "+e.type);var n=t.read_shift(4);return n!==0}function Dbe(t){return t.read_shift(2),t.read_shift(4)}function F8(t,e,n){var r=0;n&&n.biff==2||(r=t.read_shift(2));var s=t.read_shift(2);n&&n.biff==2&&(r=1-(s>>15),s&=32767);var i={Unsynced:r&1,DyZero:(r&2)>>1,ExAsc:(r&4)>>2,ExDsc:(r&8)>>3};return[i,s]}function Mbe(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(2),s=t.read_shift(2),i=t.read_shift(2),a=t.read_shift(2),o=t.read_shift(2),c=t.read_shift(2),u=t.read_shift(2);return{Pos:[e,n],Dim:[r,s],Flags:i,CurTab:a,FirstTab:o,Selected:c,TabRatio:u}}function Lbe(t,e,n){if(n&&n.biff>=2&&n.biff<5)return{};var r=t.read_shift(2);return{RTL:r&64}}function Fbe(){}function Obe(t,e,n){var r={dyHeight:t.read_shift(2),fl:t.read_shift(2)};switch(n&&n.biff||8){case 2:break;case 3:case 4:t.l+=2;break;default:t.l+=10;break}return r.name=Ux(t,0,n),r}function Bbe(t){var e=fu(t);return e.isst=t.read_shift(4),e}function Vbe(t,e,n){n.biffguess&&n.biff==2&&(n.biff=5);var r=t.l+e,s=fu(t);n.biff==2&&t.l++;var i=jx(t,r-t.l,n);return s.val=i,s}function Ube(t,e,n){var r=t.read_shift(2),s=m0(t,0,n);return[r,s]}var jbe=m0;function O8(t,e,n){var r=t.l+e,s=n.biff==8||!n.biff?4:2,i=t.read_shift(s),a=t.read_shift(s),o=t.read_shift(2),c=t.read_shift(2);return t.l=r,{s:{r:i,c:o},e:{r:a,c}}}function qbe(t){var e=t.read_shift(2),n=t.read_shift(2),r=Xq(t);return{r:e,c:n,ixfe:r[0],rknum:r[1]}}function Hbe(t,e){for(var n=t.l+e-2,r=t.read_shift(2),s=t.read_shift(2),i=[];t.l<n;)i.push(Xq(t));if(t.l!==n)throw new Error("MulRK read error");var a=t.read_shift(2);if(i.length!=a-s+1)throw new Error("MulRK length mismatch");return{r,c:s,C:a,rkrec:i}}function zbe(t,e){for(var n=t.l+e-2,r=t.read_shift(2),s=t.read_shift(2),i=[];t.l<n;)i.push(t.read_shift(2));if(t.l!==n)throw new Error("MulBlank read error");var a=t.read_shift(2);if(i.length!=a-s+1)throw new Error("MulBlank length mismatch");return{r,c:s,C:a,ixfe:i}}function Gbe(t,e,n,r){var s={},i=t.read_shift(4),a=t.read_shift(4),o=t.read_shift(4),c=t.read_shift(2);return s.patternType=q2e[o>>26],r.cellStyles&&(s.alc=i&7,s.fWrap=i>>3&1,s.alcV=i>>4&7,s.fJustLast=i>>7&1,s.trot=i>>8&255,s.cIndent=i>>16&15,s.fShrinkToFit=i>>20&1,s.iReadOrder=i>>22&2,s.fAtrNum=i>>26&1,s.fAtrFnt=i>>27&1,s.fAtrAlc=i>>28&1,s.fAtrBdr=i>>29&1,s.fAtrPat=i>>30&1,s.fAtrProt=i>>31&1,s.dgLeft=a&15,s.dgRight=a>>4&15,s.dgTop=a>>8&15,s.dgBottom=a>>12&15,s.icvLeft=a>>16&127,s.icvRight=a>>23&127,s.grbitDiag=a>>30&3,s.icvTop=o&127,s.icvBottom=o>>7&127,s.icvDiag=o>>14&127,s.dgDiag=o>>21&15,s.icvFore=c&127,s.icvBack=c>>7&127,s.fsxButton=c>>14&1),s}function $be(t,e,n){var r={};return r.ifnt=t.read_shift(2),r.numFmtId=t.read_shift(2),r.flags=t.read_shift(2),r.fStyle=r.flags>>2&1,e-=6,r.data=Gbe(t,e,r.fStyle,n),r}function Wbe(t){t.l+=4;var e=[t.read_shift(2),t.read_shift(2)];if(e[0]!==0&&e[0]--,e[1]!==0&&e[1]--,e[0]>7||e[1]>7)throw new Error("Bad Gutters: "+e.join("|"));return e}function B8(t,e,n){var r=fu(t);(n.biff==2||e==9)&&++t.l;var s=cbe(t);return r.val=s,r.t=s===!0||s===!1?"b":"e",r}function Kbe(t,e,n){n.biffguess&&n.biff==2&&(n.biff=5);var r=fu(t),s=Ia(t);return r.val=s,r}var V8=xbe;function Ybe(t,e,n){var r=t.l+e,s=t.read_shift(2),i=t.read_shift(2);if(n.sbcch=i,i==1025||i==14849)return[i,s];if(i<1||i>255)throw new Error("Unexpected SupBook type: "+i);for(var a=Jh(t,i),o=[];r>t.l;)o.push(jx(t));return[i,s,a,o]}function U8(t,e,n){var r=t.read_shift(2),s,i={fBuiltIn:r&1,fWantAdvise:r>>>1&1,fWantPict:r>>>2&1,fOle:r>>>3&1,fOleLink:r>>>4&1,cf:r>>>5&1023,fIcon:r>>>15&1};return n.sbcch===14849&&(s=ybe(t,e-2,n)),i.body=s||t.read_shift(e-2),typeof s=="string"&&(i.Name=s),i}var Xbe=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function j8(t,e,n){var r=t.l+e,s=t.read_shift(2),i=t.read_shift(1),a=t.read_shift(1),o=t.read_shift(n&&n.biff==2?1:2),c=0;(!n||n.biff>=5)&&(n.biff!=5&&(t.l+=2),c=t.read_shift(2),n.biff==5&&(t.l+=2),t.l+=4);var u=Jh(t,a,n);s&32&&(u=Xbe[u.charCodeAt(0)]);var d=r-t.l;n&&n.biff==2&&--d;var p=r==t.l||o===0||!(d>0)?[]:R5e(t,d,n,o);return{chKey:i,Name:u,itab:c,rgce:p}}function Zq(t,e,n){if(n.biff<8)return Jbe(t,e,n);for(var r=[],s=t.l+e,i=t.read_shift(n.biff>8?4:2);i--!==0;)r.push(vbe(t,n.biff>8?12:6,n));if(t.l!=s)throw new Error("Bad ExternSheet: "+t.l+" != "+s);return r}function Jbe(t,e,n){t[t.l+1]==3&&t[t.l]++;var r=Ux(t,e,n);return r.charCodeAt(0)==3?r.slice(1):r}function Qbe(t,e,n){if(n.biff<8){t.l+=e;return}var r=t.read_shift(2),s=t.read_shift(2),i=Jh(t,r,n),a=Jh(t,s,n);return[i,a]}function Zbe(t,e,n){var r=Jq(t);t.l++;var s=t.read_shift(1);return e-=8,[P5e(t,e,n),s,r]}function q8(t,e,n){var r=bbe(t);switch(n.biff){case 2:t.l++,e-=7;break;case 3:case 4:t.l+=2,e-=8;break;default:t.l+=6,e-=12}return[r,I5e(t,e,n)]}function ewe(t){var e=t.read_shift(4)!==0,n=t.read_shift(4)!==0,r=t.read_shift(4);return[e,n,r]}function twe(t,e,n){if(!(n.biff<8)){var r=t.read_shift(2),s=t.read_shift(2),i=t.read_shift(2),a=t.read_shift(2),o=m0(t,0,n);return n.biff<8&&t.read_shift(1),[{r,c:s},o,a,i]}}function nwe(t,e,n){return twe(t,e,n)}function rwe(t,e){for(var n=[],r=t.read_shift(2);r--;)n.push(cw(t));return n}function swe(t,e,n){if(n&&n.biff<8)return awe(t,e,n);var r=Qq(t),s=Tbe(t,e-22,r[1]);return{cmo:r,ft:s}}var iwe={8:function(t,e){var n=t.l+e;t.l+=10;var r=t.read_shift(2);t.l+=4,t.l+=2,t.l+=2,t.l+=2,t.l+=4;var s=t.read_shift(1);return t.l+=s,t.l=n,{fmt:r}}};function awe(t,e,n){t.l+=4;var r=t.read_shift(2),s=t.read_shift(2),i=t.read_shift(2);t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=6,e-=36;var a=[];return a.push((iwe[r]||La)(t,e,n)),{cmo:[s,r,i],ft:a}}function owe(t,e,n){var r=t.l,s="";try{t.l+=4;var i=(n.lastobj||{cmo:[0,0]}).cmo[1],a;[0,5,7,11,12,14].indexOf(i)==-1?t.l+=6:a=fbe(t,6,n);var o=t.read_shift(2);t.read_shift(2),hi(t,2);var c=t.read_shift(2);t.l+=c;for(var u=1;u<t.lens.length-1;++u){if(t.l-r!=t.lens[u])throw new Error("TxO: bad continue record");var d=t[t.l],p=Jh(t,t.lens[u+1]-t.lens[u]-1);if(s+=p,s.length>=(d?o:2*o))break}if(s.length!==o&&s.length!==o*2)throw new Error("cchText: "+o+" != "+s.length);return t.l=r+e,{t:s}}catch{return t.l=r+e,{t:s}}}function lwe(t,e){var n=cw(t);t.l+=16;var r=mbe(t,e-24);return[n,r]}function cwe(t,e){t.read_shift(2);var n=cw(t),r=t.read_shift((e-10)/2,"dbcs-cont");return r=r.replace(Ja,""),[n,r]}function uwe(t){var e=[0,0],n;return n=t.read_shift(2),e[0]=R8[n]||n,n=t.read_shift(2),e[1]=R8[n]||n,e}function fwe(t){for(var e=t.read_shift(2),n=[];e-- >0;)n.push(Yq(t));return n}function dwe(t){for(var e=t.read_shift(2),n=[];e-- >0;)n.push(Yq(t));return n}function hwe(t){t.l+=2;var e={cxfs:0,crc:0};return e.cxfs=t.read_shift(2),e.crc=t.read_shift(4),e}function eH(t,e,n){if(!n.cellStyles)return La(t,e);var r=n&&n.biff>=12?4:2,s=t.read_shift(r),i=t.read_shift(r),a=t.read_shift(r),o=t.read_shift(r),c=t.read_shift(2);r==2&&(t.l+=2);var u={s,e:i,w:a,ixfe:o,flags:c};return(n.biff>=5||!n.biff)&&(u.level=c>>8&7),u}function pwe(t,e){var n={};return e<32||(t.l+=16,n.header=Ia(t),n.footer=Ia(t),t.l+=2),n}function mwe(t,e,n){var r={area:!1};if(n.biff!=5)return t.l+=e,r;var s=t.read_shift(1);return t.l+=3,s&16&&(r.area=!0),r}var gwe=fu,xwe=Wq,vwe=jx;function ywe(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(4),s={fmt:e,env:n,len:r,data:t.slice(t.l,t.l+r)};return t.l+=r,s}function bwe(t,e,n){n.biffguess&&n.biff==5&&(n.biff=2);var r=fu(t);++t.l;var s=m0(t,e-7,n);return r.t="str",r.val=s,r}function wwe(t){var e=fu(t);++t.l;var n=Ia(t);return e.t="n",e.val=n,e}function _we(t){var e=fu(t);++t.l;var n=t.read_shift(2);return e.t="n",e.val=n,e}function Ewe(t){var e=t.read_shift(1);return e===0?(t.l++,""):t.read_shift(e,"sbcs-cont")}function Twe(t,e){t.l+=6,t.l+=2,t.l+=1,t.l+=3,t.l+=1,t.l+=e-13}function Swe(t,e,n){var r=t.l+e,s=fu(t),i=t.read_shift(2),a=Jh(t,i,n);return t.l=r,s.t="str",s.val=a,s}var Awe=[2,3,48,49,131,139,140,245],H8=(function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=qC({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function n(o,c){var u=[],d=Rd(1);switch(c.type){case"base64":d=sc(Qo(o));break;case"binary":d=sc(o);break;case"buffer":case"array":d=o;break}ua(d,0);var p=d.read_shift(1),g=!!(p&136),x=!1,w=!1;switch(p){case 2:break;case 3:break;case 48:x=!0,g=!0;break;case 49:x=!0,g=!0;break;case 131:break;case 139:break;case 140:w=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+p.toString(16))}var y=0,S=521;p==2&&(y=d.read_shift(2)),d.l+=3,p!=2&&(y=d.read_shift(4)),y>1048576&&(y=1e6),p!=2&&(S=d.read_shift(2));var C=d.read_shift(2),F=c.codepage||1252;p!=2&&(d.l+=16,d.read_shift(1),d[d.l]!==0&&(F=t[d[d.l]]),d.l+=1,d.l+=2),w&&(d.l+=36);for(var I=[],D={},z=Math.min(d.length,p==2?521:S-10-(x?264:0)),G=w?32:11;d.l<z&&d[d.l]!=13;)switch(D={},D.name=nx.utils.decode(F,d.slice(d.l,d.l+G)).replace(/[\u0000\r\n].*$/g,""),d.l+=G,D.type=String.fromCharCode(d.read_shift(1)),p!=2&&!w&&(D.offset=d.read_shift(4)),D.len=d.read_shift(1),p==2&&(D.offset=d.read_shift(2)),D.dec=d.read_shift(1),D.name.length&&I.push(D),p!=2&&(d.l+=w?13:14),D.type){case"B":(!x||D.len!=8)&&c.WTF&&console.log("Skipping "+D.name+":"+D.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+D.name+":"+D.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+D.type)}if(d[d.l]!==13&&(d.l=S-1),d.read_shift(1)!==13)throw new Error("DBF Terminator not found "+d.l+" "+d[d.l]);d.l=S;var P=0,M=0;for(u[0]=[],M=0;M!=I.length;++M)u[0][M]=I[M].name;for(;y-- >0;){if(d[d.l]===42){d.l+=C;continue}for(++d.l,u[++P]=[],M=0,M=0;M!=I.length;++M){var R=d.slice(d.l,d.l+I[M].len);d.l+=I[M].len,ua(R,0);var U=nx.utils.decode(F,R);switch(I[M].type){case"C":U.trim().length&&(u[P][M]=U.replace(/\s+$/,""));break;case"D":U.length===8?u[P][M]=new Date(+U.slice(0,4),+U.slice(4,6)-1,+U.slice(6,8)):u[P][M]=U;break;case"F":u[P][M]=parseFloat(U.trim());break;case"+":case"I":u[P][M]=w?R.read_shift(-4,"i")^2147483648:R.read_shift(4,"i");break;case"L":switch(U.trim().toUpperCase()){case"Y":case"T":u[P][M]=!0;break;case"N":case"F":u[P][M]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+U+"|")}break;case"M":if(!g)throw new Error("DBF Unexpected MEMO for type "+p.toString(16));u[P][M]="##MEMO##"+(w?parseInt(U.trim(),10):R.read_shift(4));break;case"N":U=U.replace(/\u0000/g,"").trim(),U&&U!="."&&(u[P][M]=+U||0);break;case"@":u[P][M]=new Date(R.read_shift(-8,"f")-621356832e5);break;case"T":u[P][M]=new Date((R.read_shift(4)-2440588)*864e5+R.read_shift(4));break;case"Y":u[P][M]=R.read_shift(4,"i")/1e4+R.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[P][M]=-R.read_shift(-8,"f");break;case"B":if(x&&I[M].len==8){u[P][M]=R.read_shift(8,"f");break}case"G":case"P":R.l+=I[M].len;break;case"0":if(I[M].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+I[M].type)}}}if(p!=2&&d.l<d.length&&d[d.l++]!=26)throw new Error("DBF EOF Marker missing "+(d.l-1)+" of "+d.length+" "+d[d.l-1].toString(16));return c&&c.sheetRows&&(u=u.slice(0,c.sheetRows)),c.DBF=I,u}function r(o,c){var u=c||{};u.dateNF||(u.dateNF="yyyymmdd");var d=zm(n(o,u),u);return d["!cols"]=u.DBF.map(function(p){return{wch:p.len,DBF:p}}),delete u.DBF,d}function s(o,c){try{return Ud(r(o,c),c)}catch(u){if(c&&c.WTF)throw u}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function a(o,c){var u=c||{};if(+u.codepage>=0&&ac(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var d=aS(),p=gS(o,{header:1,raw:!0,cellDates:!0}),g=p[0],x=p.slice(1),w=o["!cols"]||[],y=0,S=0,C=0,F=1;for(y=0;y<g.length;++y){if(((w[y]||{}).DBF||{}).name){g[y]=w[y].DBF.name,++C;continue}if(g[y]!=null){if(++C,typeof g[y]=="number"&&(g[y]=g[y].toString(10)),typeof g[y]!="string")throw new Error("DBF Invalid column name "+g[y]+" |"+typeof g[y]+"|");if(g.indexOf(g[y])!==y){for(S=0;S<1024;++S)if(g.indexOf(g[y]+"_"+S)==-1){g[y]+="_"+S;break}}}}var I=Ws(o["!ref"]),D=[],z=[],G=[];for(y=0;y<=I.e.c-I.s.c;++y){var P="",M="",R=0,U=[];for(S=0;S<x.length;++S)x[S][y]!=null&&U.push(x[S][y]);if(U.length==0||g[y]==null){D[y]="?";continue}for(S=0;S<U.length;++S){switch(typeof U[S]){case"number":M="B";break;case"string":M="C";break;case"boolean":M="L";break;case"object":M=U[S]instanceof Date?"D":"C";break;default:M="C"}R=Math.max(R,String(U[S]).length),P=P&&P!=M?"C":M}R>250&&(R=250),M=((w[y]||{}).DBF||{}).type,M=="C"&&w[y].DBF.len>R&&(R=w[y].DBF.len),P=="B"&&M=="N"&&(P="N",G[y]=w[y].DBF.dec,R=w[y].DBF.len),z[y]=P=="C"||M=="N"?R:i[P]||0,F+=z[y],D[y]=P}var L=d.next(32);for(L.write_shift(4,318902576),L.write_shift(4,x.length),L.write_shift(2,296+32*C),L.write_shift(2,F),y=0;y<4;++y)L.write_shift(4,0);for(L.write_shift(4,0|(+e[Zj]||3)<<8),y=0,S=0;y<g.length;++y)if(g[y]!=null){var O=d.next(32),j=(g[y].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);O.write_shift(1,j,"sbcs"),O.write_shift(1,D[y]=="?"?"C":D[y],"sbcs"),O.write_shift(4,S),O.write_shift(1,z[y]||i[D[y]]||0),O.write_shift(1,G[y]||0),O.write_shift(1,2),O.write_shift(4,0),O.write_shift(1,0),O.write_shift(4,0),O.write_shift(4,0),S+=z[y]||i[D[y]]||0}var ie=d.next(264);for(ie.write_shift(4,13),y=0;y<65;++y)ie.write_shift(4,0);for(y=0;y<x.length;++y){var Ee=d.next(F);for(Ee.write_shift(1,0),S=0;S<g.length;++S)if(g[S]!=null)switch(D[S]){case"L":Ee.write_shift(1,x[y][S]==null?63:x[y][S]?84:70);break;case"B":Ee.write_shift(8,x[y][S]||0,"f");break;case"N":var ae="0";for(typeof x[y][S]=="number"&&(ae=x[y][S].toFixed(G[S]||0)),C=0;C<z[S]-ae.length;++C)Ee.write_shift(1,32);Ee.write_shift(1,ae,"sbcs");break;case"D":x[y][S]?(Ee.write_shift(4,("0000"+x[y][S].getFullYear()).slice(-4),"sbcs"),Ee.write_shift(2,("00"+(x[y][S].getMonth()+1)).slice(-2),"sbcs"),Ee.write_shift(2,("00"+x[y][S].getDate()).slice(-2),"sbcs")):Ee.write_shift(8,"00000000","sbcs");break;case"C":var pe=String(x[y][S]!=null?x[y][S]:"").slice(0,z[S]);for(Ee.write_shift(1,pe,"sbcs"),C=0;C<z[S]-pe.length;++C)Ee.write_shift(1,32);break}}return d.next(1).write_shift(1,26),d.end()}return{to_workbook:s,to_sheet:r,from_sheet:a}})(),Cwe=(function(){var t={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+ou(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),n=function(g,x){var w=t[x];return typeof w=="number"?i8(w):w},r=function(g,x,w){var y=x.charCodeAt(0)-32<<4|w.charCodeAt(0)-48;return y==59?g:i8(y)};t["|"]=254;function s(g,x){switch(x.type){case"base64":return i(Qo(g),x);case"binary":return i(g,x);case"buffer":return i(gr&&Buffer.isBuffer(g)?g.toString("binary"):f0(g),x);case"array":return i(Xh(g),x)}throw new Error("Unrecognized type "+x.type)}function i(g,x){var w=g.split(/[\n\r]+/),y=-1,S=-1,C=0,F=0,I=[],D=[],z=null,G={},P=[],M=[],R=[],U=0,L;for(+x.codepage>=0&&ac(+x.codepage);C!==w.length;++C){U=0;var O=w[C].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(e,n),j=O.replace(/;;/g,"\0").split(";").map(function(Q){return Q.replace(/\u0000/g,";")}),ie=j[0],Ee;if(O.length>0)switch(ie){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":j[1].charAt(0)=="P"&&D.push(O.slice(3).replace(/;;/g,";"));break;case"C":var ae=!1,pe=!1,de=!1,oe=!1,ke=-1,ne=-1;for(F=1;F<j.length;++F)switch(j[F].charAt(0)){case"A":break;case"X":S=parseInt(j[F].slice(1))-1,pe=!0;break;case"Y":for(y=parseInt(j[F].slice(1))-1,pe||(S=0),L=I.length;L<=y;++L)I[L]=[];break;case"K":Ee=j[F].slice(1),Ee.charAt(0)==='"'?Ee=Ee.slice(1,Ee.length-1):Ee==="TRUE"?Ee=!0:Ee==="FALSE"?Ee=!1:isNaN(lc(Ee))?isNaN(bm(Ee).getDate())||(Ee=Yi(Ee)):(Ee=lc(Ee),z!==null&&qm(z)&&(Ee=lw(Ee))),ae=!0;break;case"E":oe=!0;var B=Qp(j[F].slice(1),{r:y,c:S});I[y][S]=[I[y][S],B];break;case"S":de=!0,I[y][S]=[I[y][S],"S5S"];break;case"G":break;case"R":ke=parseInt(j[F].slice(1))-1;break;case"C":ne=parseInt(j[F].slice(1))-1;break;default:if(x&&x.WTF)throw new Error("SYLK bad record "+O)}if(ae&&(I[y][S]&&I[y][S].length==2?I[y][S][0]=Ee:I[y][S]=Ee,z=null),de){if(oe)throw new Error("SYLK shared formula cannot have own formula");var K=ke>-1&&I[ke][ne];if(!K||!K[1])throw new Error("SYLK shared formula cannot find base");I[y][S][1]=uH(K[1],{r:y-ke,c:S-ne})}break;case"F":var Y=0;for(F=1;F<j.length;++F)switch(j[F].charAt(0)){case"X":S=parseInt(j[F].slice(1))-1,++Y;break;case"Y":for(y=parseInt(j[F].slice(1))-1,L=I.length;L<=y;++L)I[L]=[];break;case"M":U=parseInt(j[F].slice(1))/20;break;case"F":break;case"G":break;case"P":z=D[parseInt(j[F].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(R=j[F].slice(1).split(" "),L=parseInt(R[0],10);L<=parseInt(R[1],10);++L)U=parseInt(R[2],10),M[L-1]=U===0?{hidden:!0}:{wch:U},wm(M[L-1]);break;case"C":S=parseInt(j[F].slice(1))-1,M[S]||(M[S]={});break;case"R":y=parseInt(j[F].slice(1))-1,P[y]||(P[y]={}),U>0?(P[y].hpt=U,P[y].hpx=lx(U)):U===0&&(P[y].hidden=!0);break;default:if(x&&x.WTF)throw new Error("SYLK bad record "+O)}Y<1&&(z=null);break;default:if(x&&x.WTF)throw new Error("SYLK bad record "+O)}}return P.length>0&&(G["!rows"]=P),M.length>0&&(G["!cols"]=M),x&&x.sheetRows&&(I=I.slice(0,x.sheetRows)),[I,G]}function a(g,x){var w=s(g,x),y=w[0],S=w[1],C=zm(y,x);return ou(S).forEach(function(F){C[F]=S[F]}),C}function o(g,x){return Ud(a(g,x),x)}function c(g,x,w,y){var S="C;Y"+(w+1)+";X"+(y+1)+";K";switch(g.t){case"n":S+=g.v||0,g.f&&!g.F&&(S+=";E"+hEe(g.f,{r:w,c:y}));break;case"b":S+=g.v?"TRUE":"FALSE";break;case"e":S+=g.w||g.v;break;case"d":S+='"'+(g.w||g.v)+'"';break;case"s":S+='"'+g.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return S}function u(g,x){x.forEach(function(w,y){var S="F;W"+(y+1)+" "+(y+1)+" ";w.hidden?S+="0":(typeof w.width=="number"&&!w.wpx&&(w.wpx=cb(w.width)),typeof w.wpx=="number"&&!w.wch&&(w.wch=ub(w.wpx)),typeof w.wch=="number"&&(S+=Math.round(w.wch))),S.charAt(S.length-1)!=" "&&g.push(S)})}function d(g,x){x.forEach(function(w,y){var S="F;";w.hidden?S+="M0;":w.hpt?S+="M"+20*w.hpt+";":w.hpx&&(S+="M"+20*oH(w.hpx)+";"),S.length>2&&g.push(S+"R"+(y+1))})}function p(g,x){var w=["ID;PWXL;N;E"],y=[],S=Ws(g["!ref"]),C,F=Array.isArray(g),I=`\r
`;w.push("P;PGeneral"),w.push("F;P0;DG0G8;M255"),g["!cols"]&&u(w,g["!cols"]),g["!rows"]&&d(w,g["!rows"]),w.push("B;Y"+(S.e.r-S.s.r+1)+";X"+(S.e.c-S.s.c+1)+";D"+[S.s.c,S.s.r,S.e.c,S.e.r].join(" "));for(var D=S.s.r;D<=S.e.r;++D)for(var z=S.s.c;z<=S.e.c;++z){var G=Hn({r:D,c:z});C=F?(g[D]||[])[z]:g[G],!(!C||C.v==null&&(!C.f||C.F))&&y.push(c(C,g,D,z))}return w.join(I)+I+y.join(I)+I+"E"+I}return{to_workbook:o,to_sheet:a,from_sheet:p}})(),Nwe=(function(){function t(i,a){switch(a.type){case"base64":return e(Qo(i),a);case"binary":return e(i,a);case"buffer":return e(gr&&Buffer.isBuffer(i)?i.toString("binary"):f0(i),a);case"array":return e(Xh(i),a)}throw new Error("Unrecognized type "+a.type)}function e(i,a){for(var o=i.split(`
`),c=-1,u=-1,d=0,p=[];d!==o.length;++d){if(o[d].trim()==="BOT"){p[++c]=[],u=0;continue}if(!(c<0)){var g=o[d].trim().split(","),x=g[0],w=g[1];++d;for(var y=o[d]||"";(y.match(/["]/g)||[]).length&1&&d<o.length-1;)y+=`
`+o[++d];switch(y=y.trim(),+x){case-1:if(y==="BOT"){p[++c]=[],u=0;continue}else if(y!=="EOD")throw new Error("Unrecognized DIF special command "+y);break;case 0:y==="TRUE"?p[c][u]=!0:y==="FALSE"?p[c][u]=!1:isNaN(lc(w))?isNaN(bm(w).getDate())?p[c][u]=w:p[c][u]=Yi(w):p[c][u]=lc(w),++u;break;case 1:y=y.slice(1,y.length-1),y=y.replace(/""/g,'"'),y&&y.match(/^=".*"$/)&&(y=y.slice(2,-1)),p[c][u++]=y!==""?y:null;break}if(y==="EOD")break}}return a&&a.sheetRows&&(p=p.slice(0,a.sheetRows)),p}function n(i,a){return zm(t(i,a),a)}function r(i,a){return Ud(n(i,a),a)}var s=(function(){var i=function(c,u,d,p,g){c.push(u),c.push(d+","+p),c.push('"'+g.replace(/"/g,'""')+'"')},a=function(c,u,d,p){c.push(u+","+d),c.push(u==1?'"'+p.replace(/"/g,'""')+'"':p)};return function(c){var u=[],d=Ws(c["!ref"]),p,g=Array.isArray(c);i(u,"TABLE",0,1,"sheetjs"),i(u,"VECTORS",0,d.e.r-d.s.r+1,""),i(u,"TUPLES",0,d.e.c-d.s.c+1,""),i(u,"DATA",0,0,"");for(var x=d.s.r;x<=d.e.r;++x){a(u,-1,0,"BOT");for(var w=d.s.c;w<=d.e.c;++w){var y=Hn({r:x,c:w});if(p=g?(c[x]||[])[w]:c[y],!p){a(u,1,0,"");continue}switch(p.t){case"n":var S=p.w;!S&&p.v!=null&&(S=p.v),S==null?p.f&&!p.F?a(u,1,0,"="+p.f):a(u,1,0,""):a(u,0,S,"V");break;case"b":a(u,0,p.v?1:0,p.v?"TRUE":"FALSE");break;case"s":a(u,1,0,isNaN(p.v)?p.v:'="'+p.v+'"');break;case"d":p.w||(p.w=Il(p.z||Kn[14],Qa(Yi(p.v)))),a(u,0,p.w,"V");break;default:a(u,1,0,"")}}}a(u,-1,0,"EOD");var C=`\r
`,F=u.join(C);return F}})();return{to_workbook:r,to_sheet:n,from_sheet:s}})(),Iwe=(function(){function t(p){return p.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(p){return p.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function n(p,g){for(var x=p.split(`
`),w=-1,y=-1,S=0,C=[];S!==x.length;++S){var F=x[S].trim().split(":");if(F[0]==="cell"){var I=Ya(F[1]);if(C.length<=I.r)for(w=C.length;w<=I.r;++w)C[w]||(C[w]=[]);switch(w=I.r,y=I.c,F[2]){case"t":C[w][y]=t(F[3]);break;case"v":C[w][y]=+F[3];break;case"vtf":var D=F[F.length-1];case"vtc":switch(F[3]){case"nl":C[w][y]=!!+F[4];break;default:C[w][y]=+F[4];break}F[2]=="vtf"&&(C[w][y]=[C[w][y],D])}}}return g&&g.sheetRows&&(C=C.slice(0,g.sheetRows)),C}function r(p,g){return zm(n(p,g),g)}function s(p,g){return Ud(r(p,g),g)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),a=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function u(p){if(!p||!p["!ref"])return"";for(var g=[],x=[],w,y="",S=Hm(p["!ref"]),C=Array.isArray(p),F=S.s.r;F<=S.e.r;++F)for(var I=S.s.c;I<=S.e.c;++I)if(y=Hn({r:F,c:I}),w=C?(p[F]||[])[I]:p[y],!(!w||w.v==null||w.t==="z")){switch(x=["cell",y,"t"],w.t){case"s":case"str":x.push(e(w.v));break;case"n":w.f?(x[2]="vtf",x[3]="n",x[4]=w.v,x[5]=e(w.f)):(x[2]="v",x[3]=w.v);break;case"b":x[2]="vt"+(w.f?"f":"c"),x[3]="nl",x[4]=w.v?"1":"0",x[5]=e(w.f||(w.v?"TRUE":"FALSE"));break;case"d":var D=Qa(Yi(w.v));x[2]="vtc",x[3]="nd",x[4]=""+D,x[5]=w.w||Il(w.z||Kn[14],D);break;case"e":continue}g.push(x.join(":"))}return g.push("sheet:c:"+(S.e.c-S.s.c+1)+":r:"+(S.e.r-S.s.r+1)+":tvf:1"),g.push("valueformat:1:text-wiki"),g.join(`
`)}function d(p){return[i,a,o,a,u(p),c].join(`
`)}return{to_workbook:s,to_sheet:r,from_sheet:d}})(),ax=(function(){function t(d,p,g,x,w){w.raw?p[g][x]=d:d===""||(d==="TRUE"?p[g][x]=!0:d==="FALSE"?p[g][x]=!1:isNaN(lc(d))?isNaN(bm(d).getDate())?p[g][x]=d:p[g][x]=Yi(d):p[g][x]=lc(d))}function e(d,p){var g=p||{},x=[];if(!d||d.length===0)return x;for(var w=d.split(/[\r\n]/),y=w.length-1;y>=0&&w[y].length===0;)--y;for(var S=10,C=0,F=0;F<=y;++F)C=w[F].indexOf(" "),C==-1?C=w[F].length:C++,S=Math.max(S,C);for(F=0;F<=y;++F){x[F]=[];var I=0;for(t(w[F].slice(0,S).trim(),x,F,I,g),I=1;I<=(w[F].length-S)/10+1;++I)t(w[F].slice(S+(I-1)*10,S+I*10).trim(),x,F,I,g)}return g.sheetRows&&(x=x.slice(0,g.sheetRows)),x}var n={44:",",9:"	",59:";",124:"|"},r={44:3,9:2,59:1,124:0};function s(d){for(var p={},g=!1,x=0,w=0;x<d.length;++x)(w=d.charCodeAt(x))==34?g=!g:!g&&w in n&&(p[w]=(p[w]||0)+1);w=[];for(x in p)Object.prototype.hasOwnProperty.call(p,x)&&w.push([p[x],x]);if(!w.length){p=r;for(x in p)Object.prototype.hasOwnProperty.call(p,x)&&w.push([p[x],x])}return w.sort(function(y,S){return y[0]-S[0]||r[y[1]]-r[S[1]]}),n[w.pop()[1]]||44}function i(d,p){var g=p||{},x="",w=g.dense?[]:{},y={s:{c:0,r:0},e:{c:0,r:0}};d.slice(0,4)=="sep="?d.charCodeAt(5)==13&&d.charCodeAt(6)==10?(x=d.charAt(4),d=d.slice(7)):d.charCodeAt(5)==13||d.charCodeAt(5)==10?(x=d.charAt(4),d=d.slice(6)):x=s(d.slice(0,1024)):g&&g.FS?x=g.FS:x=s(d.slice(0,1024));var S=0,C=0,F=0,I=0,D=0,z=x.charCodeAt(0),G=!1,P=0,M=d.charCodeAt(0);d=d.replace(/\r\n/mg,`
`);var R=g.dateNF!=null?Uye(g.dateNF):null;function U(){var L=d.slice(I,D),O={};if(L.charAt(0)=='"'&&L.charAt(L.length-1)=='"'&&(L=L.slice(1,-1).replace(/""/g,'"')),L.length===0)O.t="z";else if(g.raw)O.t="s",O.v=L;else if(L.trim().length===0)O.t="s",O.v=L;else if(L.charCodeAt(0)==61)L.charCodeAt(1)==34&&L.charCodeAt(L.length-1)==34?(O.t="s",O.v=L.slice(2,-1).replace(/""/g,'"')):mEe(L)?(O.t="n",O.f=L.slice(1)):(O.t="s",O.v=L);else if(L=="TRUE")O.t="b",O.v=!0;else if(L=="FALSE")O.t="b",O.v=!1;else if(!isNaN(F=lc(L)))O.t="n",g.cellText!==!1&&(O.w=L),O.v=F;else if(!isNaN(bm(L).getDate())||R&&L.match(R)){O.z=g.dateNF||Kn[14];var j=0;R&&L.match(R)&&(L=jye(L,g.dateNF,L.match(R)||[]),j=1),g.cellDates?(O.t="d",O.v=Yi(L,j)):(O.t="n",O.v=Qa(Yi(L,j))),g.cellText!==!1&&(O.w=Il(O.z,O.v instanceof Date?Qa(O.v):O.v)),g.cellNF||delete O.z}else O.t="s",O.v=L;if(O.t=="z"||(g.dense?(w[S]||(w[S]=[]),w[S][C]=O):w[Hn({c:C,r:S})]=O),I=D+1,M=d.charCodeAt(I),y.e.c<C&&(y.e.c=C),y.e.r<S&&(y.e.r=S),P==z)++C;else if(C=0,++S,g.sheetRows&&g.sheetRows<=S)return!0}e:for(;D<d.length;++D)switch(P=d.charCodeAt(D)){case 34:M===34&&(G=!G);break;case z:case 10:case 13:if(!G&&U())break e;break}return D-I>0&&U(),w["!ref"]=Sr(y),w}function a(d,p){return!(p&&p.PRN)||p.FS||d.slice(0,4)=="sep="||d.indexOf("	")>=0||d.indexOf(",")>=0||d.indexOf(";")>=0?i(d,p):zm(e(d,p),p)}function o(d,p){var g="",x=p.type=="string"?[0,0,0,0]:oN(d,p);switch(p.type){case"base64":g=Qo(d);break;case"binary":g=d;break;case"buffer":p.codepage==65001?g=d.toString("utf8"):p.codepage&&typeof nx<"u"||(g=gr&&Buffer.isBuffer(d)?d.toString("binary"):f0(d));break;case"array":g=Xh(d);break;case"string":g=d;break;default:throw new Error("Unrecognized type "+p.type)}return x[0]==239&&x[1]==187&&x[2]==191?g=cs(g.slice(3)):p.type!="string"&&p.type!="buffer"&&p.codepage==65001?g=cs(g):p.type=="binary"&&typeof nx<"u",g.slice(0,19)=="socialcalc:version:"?Iwe.to_sheet(p.type=="string"?g:cs(g),p):a(g,p)}function c(d,p){return Ud(o(d,p),p)}function u(d){for(var p=[],g=Ws(d["!ref"]),x,w=Array.isArray(d),y=g.s.r;y<=g.e.r;++y){for(var S=[],C=g.s.c;C<=g.e.c;++C){var F=Hn({r:y,c:C});if(x=w?(d[y]||[])[C]:d[F],!x||x.v==null){S.push("          ");continue}for(var I=(x.w||(lf(x),x.w)||"").slice(0,10);I.length<10;)I+=" ";S.push(I+(C===0?" ":""))}p.push(S.join(""))}return p.join(`
`)}return{to_workbook:c,to_sheet:o,from_sheet:u}})();function kwe(t,e){var n=e||{},r=!!n.WTF;n.WTF=!0;try{var s=Cwe.to_workbook(t,n);return n.WTF=r,s}catch(i){if(n.WTF=r,!i.message.match(/SYLK bad record ID/)&&r)throw i;return ax.to_workbook(t,e)}}var T1=(function(){function t(B,K,Y){if(B){ua(B,B.l||0);for(var Q=Y.Enum||ke;B.l<B.length;){var ue=B.read_shift(2),ge=Q[ue]||Q[65535],Pe=B.read_shift(2),ee=B.l+Pe,Re=ge.f&&ge.f(B,Pe,Y);if(B.l=ee,K(Re,ge,ue))return}}}function e(B,K){switch(K.type){case"base64":return n(sc(Qo(B)),K);case"binary":return n(sc(B),K);case"buffer":case"array":return n(B,K)}throw"Unsupported type "+K.type}function n(B,K){if(!B)return B;var Y=K||{},Q=Y.dense?[]:{},ue="Sheet1",ge="",Pe=0,ee={},Re=[],He=[],he={s:{r:0,c:0},e:{r:0,c:0}},Se=Y.sheetRows||0;if(B[2]==0&&(B[3]==8||B[3]==9)&&B.length>=16&&B[14]==5&&B[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(B[2]==2)Y.Enum=ke,t(B,function(st,Et,je){switch(je){case 0:Y.vers=st,st>=4096&&(Y.qpro=!0);break;case 6:he=st;break;case 204:st&&(ge=st);break;case 222:ge=st;break;case 15:case 51:Y.qpro||(st[1].v=st[1].v.slice(1));case 13:case 14:case 16:je==14&&(st[2]&112)==112&&(st[2]&15)>1&&(st[2]&15)<15&&(st[1].z=Y.dateNF||Kn[14],Y.cellDates&&(st[1].t="d",st[1].v=lw(st[1].v))),Y.qpro&&st[3]>Pe&&(Q["!ref"]=Sr(he),ee[ue]=Q,Re.push(ue),Q=Y.dense?[]:{},he={s:{r:0,c:0},e:{r:0,c:0}},Pe=st[3],ue=ge||"Sheet"+(Pe+1),ge="");var yt=Y.dense?(Q[st[0].r]||[])[st[0].c]:Q[Hn(st[0])];if(yt){yt.t=st[1].t,yt.v=st[1].v,st[1].z!=null&&(yt.z=st[1].z),st[1].f!=null&&(yt.f=st[1].f);break}Y.dense?(Q[st[0].r]||(Q[st[0].r]=[]),Q[st[0].r][st[0].c]=st[1]):Q[Hn(st[0])]=st[1];break}},Y);else if(B[2]==26||B[2]==14)Y.Enum=ne,B[2]==14&&(Y.qpro=!0,B.l=0),t(B,function(st,Et,je){switch(je){case 204:ue=st;break;case 22:st[1].v=st[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(st[3]>Pe&&(Q["!ref"]=Sr(he),ee[ue]=Q,Re.push(ue),Q=Y.dense?[]:{},he={s:{r:0,c:0},e:{r:0,c:0}},Pe=st[3],ue="Sheet"+(Pe+1)),Se>0&&st[0].r>=Se)break;Y.dense?(Q[st[0].r]||(Q[st[0].r]=[]),Q[st[0].r][st[0].c]=st[1]):Q[Hn(st[0])]=st[1],he.e.c<st[0].c&&(he.e.c=st[0].c),he.e.r<st[0].r&&(he.e.r=st[0].r);break;case 27:st[14e3]&&(He[st[14e3][0]]=st[14e3][1]);break;case 1537:He[st[0]]=st[1],st[0]==Pe&&(ue=st[1]);break}},Y);else throw new Error("Unrecognized LOTUS BOF "+B[2]);if(Q["!ref"]=Sr(he),ee[ge||ue]=Q,Re.push(ge||ue),!He.length)return{SheetNames:Re,Sheets:ee};for(var We={},le=[],Ge=0;Ge<He.length;++Ge)ee[Re[Ge]]?(le.push(He[Ge]||Re[Ge]),We[He[Ge]]=ee[He[Ge]]||ee[Re[Ge]]):(le.push(He[Ge]),We[He[Ge]]={"!ref":"A1"});return{SheetNames:le,Sheets:We}}function r(B,K){var Y=K||{};if(+Y.codepage>=0&&ac(+Y.codepage),Y.type=="string")throw new Error("Cannot write WK1 to JS string");var Q=aS(),ue=Ws(B["!ref"]),ge=Array.isArray(B),Pe=[];ec(Q,0,i(1030)),ec(Q,6,c(ue));for(var ee=Math.min(ue.e.r,8191),Re=ue.s.r;Re<=ee;++Re)for(var He=ha(Re),he=ue.s.c;he<=ue.e.c;++he){Re===ue.s.r&&(Pe[he]=Ri(he));var Se=Pe[he]+He,We=ge?(B[Re]||[])[he]:B[Se];if(!(!We||We.t=="z"))if(We.t=="n")(We.v|0)==We.v&&We.v>=-32768&&We.v<=32767?ec(Q,13,x(Re,he,We.v)):ec(Q,14,y(Re,he,We.v));else{var le=lf(We);ec(Q,15,p(Re,he,le.slice(0,239)))}}return ec(Q,1),Q.end()}function s(B,K){var Y=K||{};if(+Y.codepage>=0&&ac(+Y.codepage),Y.type=="string")throw new Error("Cannot write WK3 to JS string");var Q=aS();ec(Q,0,a(B));for(var ue=0,ge=0;ue<B.SheetNames.length;++ue)(B.Sheets[B.SheetNames[ue]]||{})["!ref"]&&ec(Q,27,oe(B.SheetNames[ue],ge++));var Pe=0;for(ue=0;ue<B.SheetNames.length;++ue){var ee=B.Sheets[B.SheetNames[ue]];if(!(!ee||!ee["!ref"])){for(var Re=Ws(ee["!ref"]),He=Array.isArray(ee),he=[],Se=Math.min(Re.e.r,8191),We=Re.s.r;We<=Se;++We)for(var le=ha(We),Ge=Re.s.c;Ge<=Re.e.c;++Ge){We===Re.s.r&&(he[Ge]=Ri(Ge));var st=he[Ge]+le,Et=He?(ee[We]||[])[Ge]:ee[st];if(!(!Et||Et.t=="z"))if(Et.t=="n")ec(Q,23,U(We,Ge,Pe,Et.v));else{var je=lf(Et);ec(Q,22,P(We,Ge,Pe,je.slice(0,239)))}}++Pe}}return ec(Q,1),Q.end()}function i(B){var K=Ii(2);return K.write_shift(2,B),K}function a(B){var K=Ii(26);K.write_shift(2,4096),K.write_shift(2,4),K.write_shift(4,0);for(var Y=0,Q=0,ue=0,ge=0;ge<B.SheetNames.length;++ge){var Pe=B.SheetNames[ge],ee=B.Sheets[Pe];if(!(!ee||!ee["!ref"])){++ue;var Re=Hm(ee["!ref"]);Y<Re.e.r&&(Y=Re.e.r),Q<Re.e.c&&(Q=Re.e.c)}}return Y>8191&&(Y=8191),K.write_shift(2,Y),K.write_shift(1,ue),K.write_shift(1,Q),K.write_shift(2,0),K.write_shift(2,0),K.write_shift(1,1),K.write_shift(1,2),K.write_shift(4,0),K.write_shift(4,0),K}function o(B,K,Y){var Q={s:{c:0,r:0},e:{c:0,r:0}};return K==8&&Y.qpro?(Q.s.c=B.read_shift(1),B.l++,Q.s.r=B.read_shift(2),Q.e.c=B.read_shift(1),B.l++,Q.e.r=B.read_shift(2),Q):(Q.s.c=B.read_shift(2),Q.s.r=B.read_shift(2),K==12&&Y.qpro&&(B.l+=2),Q.e.c=B.read_shift(2),Q.e.r=B.read_shift(2),K==12&&Y.qpro&&(B.l+=2),Q.s.c==65535&&(Q.s.c=Q.e.c=Q.s.r=Q.e.r=0),Q)}function c(B){var K=Ii(8);return K.write_shift(2,B.s.c),K.write_shift(2,B.s.r),K.write_shift(2,B.e.c),K.write_shift(2,B.e.r),K}function u(B,K,Y){var Q=[{c:0,r:0},{t:"n",v:0},0,0];return Y.qpro&&Y.vers!=20768?(Q[0].c=B.read_shift(1),Q[3]=B.read_shift(1),Q[0].r=B.read_shift(2),B.l+=2):(Q[2]=B.read_shift(1),Q[0].c=B.read_shift(2),Q[0].r=B.read_shift(2)),Q}function d(B,K,Y){var Q=B.l+K,ue=u(B,K,Y);if(ue[1].t="s",Y.vers==20768){B.l++;var ge=B.read_shift(1);return ue[1].v=B.read_shift(ge,"utf8"),ue}return Y.qpro&&B.l++,ue[1].v=B.read_shift(Q-B.l,"cstr"),ue}function p(B,K,Y){var Q=Ii(7+Y.length);Q.write_shift(1,255),Q.write_shift(2,K),Q.write_shift(2,B),Q.write_shift(1,39);for(var ue=0;ue<Q.length;++ue){var ge=Y.charCodeAt(ue);Q.write_shift(1,ge>=128?95:ge)}return Q.write_shift(1,0),Q}function g(B,K,Y){var Q=u(B,K,Y);return Q[1].v=B.read_shift(2,"i"),Q}function x(B,K,Y){var Q=Ii(7);return Q.write_shift(1,255),Q.write_shift(2,K),Q.write_shift(2,B),Q.write_shift(2,Y,"i"),Q}function w(B,K,Y){var Q=u(B,K,Y);return Q[1].v=B.read_shift(8,"f"),Q}function y(B,K,Y){var Q=Ii(13);return Q.write_shift(1,255),Q.write_shift(2,K),Q.write_shift(2,B),Q.write_shift(8,Y,"f"),Q}function S(B,K,Y){var Q=B.l+K,ue=u(B,K,Y);if(ue[1].v=B.read_shift(8,"f"),Y.qpro)B.l=Q;else{var ge=B.read_shift(2);D(B.slice(B.l,B.l+ge),ue),B.l+=ge}return ue}function C(B,K,Y){var Q=K&32768;return K&=-32769,K=(Q?B:0)+(K>=8192?K-16384:K),(Q?"":"$")+(Y?Ri(K):ha(K))}var F={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},I=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function D(B,K){ua(B,0);for(var Y=[],Q=0,ue="",ge="",Pe="",ee="";B.l<B.length;){var Re=B[B.l++];switch(Re){case 0:Y.push(B.read_shift(8,"f"));break;case 1:ge=C(K[0].c,B.read_shift(2),!0),ue=C(K[0].r,B.read_shift(2),!1),Y.push(ge+ue);break;case 2:{var He=C(K[0].c,B.read_shift(2),!0),he=C(K[0].r,B.read_shift(2),!1);ge=C(K[0].c,B.read_shift(2),!0),ue=C(K[0].r,B.read_shift(2),!1),Y.push(He+he+":"+ge+ue)}break;case 3:if(B.l<B.length){console.error("WK1 premature formula end");return}break;case 4:Y.push("("+Y.pop()+")");break;case 5:Y.push(B.read_shift(2));break;case 6:{for(var Se="";Re=B[B.l++];)Se+=String.fromCharCode(Re);Y.push('"'+Se.replace(/"/g,'""')+'"')}break;case 8:Y.push("-"+Y.pop());break;case 23:Y.push("+"+Y.pop());break;case 22:Y.push("NOT("+Y.pop()+")");break;case 20:case 21:ee=Y.pop(),Pe=Y.pop(),Y.push(["AND","OR"][Re-20]+"("+Pe+","+ee+")");break;default:if(Re<32&&I[Re])ee=Y.pop(),Pe=Y.pop(),Y.push(Pe+I[Re]+ee);else if(F[Re]){if(Q=F[Re][1],Q==69&&(Q=B[B.l++]),Q>Y.length){console.error("WK1 bad formula parse 0x"+Re.toString(16)+":|"+Y.join("|")+"|");return}var We=Y.slice(-Q);Y.length-=Q,Y.push(F[Re][0]+"("+We.join(",")+")")}else return Re<=7?console.error("WK1 invalid opcode "+Re.toString(16)):Re<=24?console.error("WK1 unsupported op "+Re.toString(16)):Re<=30?console.error("WK1 invalid opcode "+Re.toString(16)):Re<=115?console.error("WK1 unsupported function opcode "+Re.toString(16)):console.error("WK1 unrecognized opcode "+Re.toString(16))}}Y.length==1?K[1].f=""+Y[0]:console.error("WK1 bad formula parse |"+Y.join("|")+"|")}function z(B){var K=[{c:0,r:0},{t:"n",v:0},0];return K[0].r=B.read_shift(2),K[3]=B[B.l++],K[0].c=B[B.l++],K}function G(B,K){var Y=z(B);return Y[1].t="s",Y[1].v=B.read_shift(K-4,"cstr"),Y}function P(B,K,Y,Q){var ue=Ii(6+Q.length);ue.write_shift(2,B),ue.write_shift(1,Y),ue.write_shift(1,K),ue.write_shift(1,39);for(var ge=0;ge<Q.length;++ge){var Pe=Q.charCodeAt(ge);ue.write_shift(1,Pe>=128?95:Pe)}return ue.write_shift(1,0),ue}function M(B,K){var Y=z(B);Y[1].v=B.read_shift(2);var Q=Y[1].v>>1;if(Y[1].v&1)switch(Q&7){case 0:Q=(Q>>3)*5e3;break;case 1:Q=(Q>>3)*500;break;case 2:Q=(Q>>3)/20;break;case 3:Q=(Q>>3)/200;break;case 4:Q=(Q>>3)/2e3;break;case 5:Q=(Q>>3)/2e4;break;case 6:Q=(Q>>3)/16;break;case 7:Q=(Q>>3)/64;break}return Y[1].v=Q,Y}function R(B,K){var Y=z(B),Q=B.read_shift(4),ue=B.read_shift(4),ge=B.read_shift(2);if(ge==65535)return Q===0&&ue===3221225472?(Y[1].t="e",Y[1].v=15):Q===0&&ue===3489660928?(Y[1].t="e",Y[1].v=42):Y[1].v=0,Y;var Pe=ge&32768;return ge=(ge&32767)-16446,Y[1].v=(1-Pe*2)*(ue*Math.pow(2,ge+32)+Q*Math.pow(2,ge)),Y}function U(B,K,Y,Q){var ue=Ii(14);if(ue.write_shift(2,B),ue.write_shift(1,Y),ue.write_shift(1,K),Q==0)return ue.write_shift(4,0),ue.write_shift(4,0),ue.write_shift(2,65535),ue;var ge=0,Pe=0,ee=0,Re=0;return Q<0&&(ge=1,Q=-Q),Pe=Math.log2(Q)|0,Q/=Math.pow(2,Pe-31),Re=Q>>>0,(Re&2147483648)==0&&(Q/=2,++Pe,Re=Q>>>0),Q-=Re,Re|=2147483648,Re>>>=0,Q*=Math.pow(2,32),ee=Q>>>0,ue.write_shift(4,ee),ue.write_shift(4,Re),Pe+=16383+(ge?32768:0),ue.write_shift(2,Pe),ue}function L(B,K){var Y=R(B);return B.l+=K-14,Y}function O(B,K){var Y=z(B),Q=B.read_shift(4);return Y[1].v=Q>>6,Y}function j(B,K){var Y=z(B),Q=B.read_shift(8,"f");return Y[1].v=Q,Y}function ie(B,K){var Y=j(B);return B.l+=K-10,Y}function Ee(B,K){return B[B.l+K-1]==0?B.read_shift(K,"cstr"):""}function ae(B,K){var Y=B[B.l++];Y>K-1&&(Y=K-1);for(var Q="";Q.length<Y;)Q+=String.fromCharCode(B[B.l++]);return Q}function pe(B,K,Y){if(!(!Y.qpro||K<21)){var Q=B.read_shift(1);B.l+=17,B.l+=1,B.l+=2;var ue=B.read_shift(K-21,"cstr");return[Q,ue]}}function de(B,K){for(var Y={},Q=B.l+K;B.l<Q;){var ue=B.read_shift(2);if(ue==14e3){for(Y[ue]=[0,""],Y[ue][0]=B.read_shift(2);B[B.l];)Y[ue][1]+=String.fromCharCode(B[B.l]),B.l++;B.l++}}return Y}function oe(B,K){var Y=Ii(5+B.length);Y.write_shift(2,14e3),Y.write_shift(2,K);for(var Q=0;Q<B.length;++Q){var ue=B.charCodeAt(Q);Y[Y.l++]=ue>127?95:ue}return Y[Y.l++]=0,Y}var ke={0:{n:"BOF",f:hi},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:g},14:{n:"NUMBER",f:w},15:{n:"LABEL",f:d},16:{n:"FORMULA",f:S},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:d},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:Ee},222:{n:"SHEETNAMELP",f:ae},65535:{n:""}},ne={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:G},23:{n:"NUMBER17",f:R},24:{n:"NUMBER18",f:M},25:{n:"FORMULA19",f:L},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:de},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:O},38:{n:"??"},39:{n:"NUMBER27",f:j},40:{n:"FORMULA28",f:ie},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:Ee},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:pe},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:r,book_to_wk3:s,to_workbook:e}})();function Rwe(t){var e={},n=t.match(Fa),r=0,s=!1;if(n)for(;r!=n.length;++r){var i=Dn(n[r]);switch(i[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!i.val)break;case"<shadow>":case"<shadow/>":e.shadow=1;break;case"</shadow>":break;case"<charset":if(i.val=="1")break;e.cp=OC[parseInt(i.val,10)];break;case"<outline":if(!i.val)break;case"<outline>":case"<outline/>":e.outline=1;break;case"</outline>":break;case"<rFont":e.name=i.val;break;case"<sz":e.sz=i.val;break;case"<strike":if(!i.val)break;case"<strike>":case"<strike/>":e.strike=1;break;case"</strike>":break;case"<u":if(!i.val)break;switch(i.val){case"double":e.uval="double";break;case"singleAccounting":e.uval="single-accounting";break;case"doubleAccounting":e.uval="double-accounting";break}case"<u>":case"<u/>":e.u=1;break;case"</u>":break;case"<b":if(i.val=="0")break;case"<b>":case"<b/>":e.b=1;break;case"</b>":break;case"<i":if(i.val=="0")break;case"<i>":case"<i/>":e.i=1;break;case"</i>":break;case"<color":i.rgb&&(e.color=i.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":e.family=i.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":e.valign=i.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(i[0].charCodeAt(1)!==47&&!s)throw new Error("Unrecognized rich format "+i[0])}}return e}var Pwe=(function(){var t=sx("t"),e=sx("rPr");function n(i){var a=i.match(t);if(!a)return{t:"s",v:""};var o={t:"s",v:Ir(a[1])},c=i.match(e);return c&&(o.s=Rwe(c[1])),o}var r=/<(?:\w+:)?r>/g,s=/<\/(?:\w+:)?r>/;return function(a){return a.replace(r,"").split(s).map(n).filter(function(o){return o.v})}})(),Dwe=(function(){var e=/(\r\n|\n)/g;function n(s,i,a){var o=[];s.u&&o.push("text-decoration: underline;"),s.uval&&o.push("text-underline-style:"+s.uval+";"),s.sz&&o.push("font-size:"+s.sz+"pt;"),s.outline&&o.push("text-effect: outline;"),s.shadow&&o.push("text-shadow: auto;"),i.push('<span style="'+o.join("")+'">'),s.b&&(i.push("<b>"),a.push("</b>")),s.i&&(i.push("<i>"),a.push("</i>")),s.strike&&(i.push("<s>"),a.push("</s>"));var c=s.valign||"";return c=="superscript"||c=="super"?c="sup":c=="subscript"&&(c="sub"),c!=""&&(i.push("<"+c+">"),a.push("</"+c+">")),a.push("</span>"),s}function r(s){var i=[[],s.v,[]];return s.v?(s.s&&n(s.s,i[0],i[2]),i[0].join("")+i[1].replace(e,"<br/>")+i[2].join("")):""}return function(i){return i.map(r).join("")}})(),Mwe=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,Lwe=/<(?:\w+:)?r>/,Fwe=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function eN(t,e){var n=e?e.cellHTML:!0,r={};return t?(t.match(/^\s*<(?:\w+:)?t[^>]*>/)?(r.t=Ir(cs(t.slice(t.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),r.r=cs(t),n&&(r.h=zC(r.t))):t.match(Lwe)&&(r.r=cs(t),r.t=Ir(cs((t.replace(Fwe,"").match(Mwe)||[]).join("").replace(Fa,""))),n&&(r.h=Dwe(Pwe(r.r)))),r):{t:""}}var Owe=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,Bwe=/<(?:\w+:)?(?:si|sstItem)>/g,Vwe=/<\/(?:\w+:)?(?:si|sstItem)>/;function Uwe(t,e){var n=[],r="";if(!t)return n;var s=t.match(Owe);if(s){r=s[2].replace(Bwe,"").split(Vwe);for(var i=0;i!=r.length;++i){var a=eN(r[i].trim(),e);a!=null&&(n[n.length]=a)}s=Dn(s[1]),n.Count=s.count,n.Unique=s.uniqueCount}return n}function jwe(t){return[t.read_shift(4),t.read_shift(4)]}function qwe(t,e){var n=[],r=!1;return pf(t,function(i,a,o){switch(o){case 159:n.Count=i[0],n.Unique=i[1];break;case 19:n.push(i);break;case 160:return!0;case 35:r=!0;break;case 36:r=!1;break;default:if(a.T,!r||e.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}}),n}function tH(t){for(var e=[],n=t.split(""),r=0;r<n.length;++r)e[r]=n[r].charCodeAt(0);return e}function Xu(t,e){var n={};return n.Major=t.read_shift(2),n.Minor=t.read_shift(2),e>=4&&(t.l+=e-4),n}function Hwe(t){var e={};return e.id=t.read_shift(0,"lpp4"),e.R=Xu(t,4),e.U=Xu(t,4),e.W=Xu(t,4),e}function zwe(t){for(var e=t.read_shift(4),n=t.l+e-4,r={},s=t.read_shift(4),i=[];s-- >0;)i.push({t:t.read_shift(4),v:t.read_shift(0,"lpp4")});if(r.name=t.read_shift(0,"lpp4"),r.comps=i,t.l!=n)throw new Error("Bad DataSpaceMapEntry: "+t.l+" != "+n);return r}function Gwe(t){var e=[];t.l+=4;for(var n=t.read_shift(4);n-- >0;)e.push(zwe(t));return e}function $we(t){var e=[];t.l+=4;for(var n=t.read_shift(4);n-- >0;)e.push(t.read_shift(0,"lpp4"));return e}function Wwe(t){var e={};return t.read_shift(4),t.l+=4,e.id=t.read_shift(0,"lpp4"),e.name=t.read_shift(0,"lpp4"),e.R=Xu(t,4),e.U=Xu(t,4),e.W=Xu(t,4),e}function Kwe(t){var e=Wwe(t);if(e.ename=t.read_shift(0,"8lpp4"),e.blksz=t.read_shift(4),e.cmode=t.read_shift(4),t.read_shift(4)!=4)throw new Error("Bad !Primary record");return e}function nH(t,e){var n=t.l+e,r={};r.Flags=t.read_shift(4)&63,t.l+=4,r.AlgID=t.read_shift(4);var s=!1;switch(r.AlgID){case 26126:case 26127:case 26128:s=r.Flags==36;break;case 26625:s=r.Flags==4;break;case 0:s=r.Flags==16||r.Flags==4||r.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+r.AlgID}if(!s)throw new Error("Encryption Flags/AlgID mismatch");return r.AlgIDHash=t.read_shift(4),r.KeySize=t.read_shift(4),r.ProviderType=t.read_shift(4),t.l+=8,r.CSPName=t.read_shift(n-t.l>>1,"utf16le"),t.l=n,r}function rH(t,e){var n={},r=t.l+e;return t.l+=4,n.Salt=t.slice(t.l,t.l+16),t.l+=16,n.Verifier=t.slice(t.l,t.l+16),t.l+=16,t.read_shift(4),n.VerifierHash=t.slice(t.l,r),t.l=r,n}function Ywe(t){var e=Xu(t);switch(e.Minor){case 2:return[e.Minor,Xwe(t)];case 3:return[e.Minor,Jwe()];case 4:return[e.Minor,Qwe(t)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+e.Minor)}function Xwe(t){var e=t.read_shift(4);if((e&63)!=36)throw new Error("EncryptionInfo mismatch");var n=t.read_shift(4),r=nH(t,n),s=rH(t,t.length-t.l);return{t:"Std",h:r,v:s}}function Jwe(){throw new Error("File is password-protected: ECMA-376 Extensible")}function Qwe(t){var e=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];t.l+=4;var n=t.read_shift(t.length-t.l,"utf8"),r={};return n.replace(Fa,function(i){var a=Dn(i);switch(uu(a[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":e.forEach(function(o){r[o]=a[o]});break;case"<dataIntegrity":r.encryptedHmacKey=a.encryptedHmacKey,r.encryptedHmacValue=a.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":r.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":r.uri=a.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":r.encs.push(a);break;default:throw a[0]}}),r}function Zwe(t,e){var n={},r=n.EncryptionVersionInfo=Xu(t,4);if(e-=4,r.Minor!=2)throw new Error("unrecognized minor version code: "+r.Minor);if(r.Major>4||r.Major<2)throw new Error("unrecognized major version code: "+r.Major);n.Flags=t.read_shift(4),e-=4;var s=t.read_shift(4);return e-=4,n.EncryptionHeader=nH(t,s),e-=s,n.EncryptionVerifier=rH(t,e),n}function e_e(t){var e={},n=e.EncryptionVersionInfo=Xu(t,4);if(n.Major!=1||n.Minor!=1)throw"unrecognized version code "+n.Major+" : "+n.Minor;return e.Salt=t.read_shift(16),e.EncryptedVerifier=t.read_shift(16),e.EncryptedVerifierHash=t.read_shift(16),e}function t_e(t){var e=0,n,r=tH(t),s=r.length+1,i,a,o,c,u;for(n=Rd(s),n[0]=r.length,i=1;i!=s;++i)n[i]=r[i-1];for(i=s-1;i>=0;--i)a=n[i],o=(e&16384)===0?0:1,c=e<<1&32767,u=o|c,e=u^a;return e^52811}var sH=(function(){var t=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],e=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],n=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],r=function(a){return(a/2|a*128)&255},s=function(a,o){return r(a^o)},i=function(a){for(var o=e[a.length-1],c=104,u=a.length-1;u>=0;--u)for(var d=a[u],p=0;p!=7;++p)d&64&&(o^=n[c]),d*=2,--c;return o};return function(a){for(var o=tH(a),c=i(o),u=o.length,d=Rd(16),p=0;p!=16;++p)d[p]=0;var g,x,w;for((u&1)===1&&(g=c>>8,d[u]=s(t[0],g),--u,g=c&255,x=o[o.length-1],d[u]=s(x,g));u>0;)--u,g=c>>8,d[u]=s(o[u],g),--u,g=c&255,d[u]=s(o[u],g);for(u=15,w=15-o.length;w>0;)g=c>>8,d[u]=s(t[w],g),--u,--w,g=c&255,d[u]=s(o[u],g),--u,--w;return d}})(),n_e=function(t,e,n,r,s){s||(s=e),r||(r=sH(t));var i,a;for(i=0;i!=e.length;++i)a=e[i],a^=r[n],a=(a>>5|a<<3)&255,s[i]=a,++n;return[s,n,r]},r_e=function(t){var e=0,n=sH(t);return function(r){var s=n_e("",r,e,n);return e=s[1],s[0]}};function s_e(t,e,n,r){var s={key:hi(t),verificationBytes:hi(t)};return n.password&&(s.verifier=t_e(n.password)),r.valid=s.verificationBytes===s.verifier,r.valid&&(r.insitu=r_e(n.password)),s}function i_e(t,e,n){var r=n||{};return r.Info=t.read_shift(2),t.l-=2,r.Info===1?r.Data=e_e(t):r.Data=Zwe(t,e),r}function a_e(t,e,n){var r={Type:n.biff>=8?t.read_shift(2):0};return r.Type?i_e(t,e-2,r):s_e(t,n.biff>=8?e:e-2,n,r),r}var o_e=(function(){function t(s,i){switch(i.type){case"base64":return e(Qo(s),i);case"binary":return e(s,i);case"buffer":return e(gr&&Buffer.isBuffer(s)?s.toString("binary"):f0(s),i);case"array":return e(Xh(s),i)}throw new Error("Unrecognized type "+i.type)}function e(s,i){var a=i||{},o=a.dense?[]:{},c=s.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(d,p){Array.isArray(o)&&(o[p]=[]);for(var g=/\\\w+\b/g,x=0,w,y=-1;w=g.exec(d);){switch(w[0]){case"\\cell":var S=d.slice(x,g.lastIndex-w[0].length);if(S[0]==" "&&(S=S.slice(1)),++y,S.length){var C={v:S,t:"s"};Array.isArray(o)?o[p][y]=C:o[Hn({r:p,c:y})]=C}break}x=g.lastIndex}y>u.e.c&&(u.e.c=y)}),o["!ref"]=Sr(u),o}function n(s,i){return Ud(t(s,i),i)}function r(s){for(var i=["{\\rtf1\\ansi"],a=Ws(s["!ref"]),o,c=Array.isArray(s),u=a.s.r;u<=a.e.r;++u){i.push("\\trowd\\trautofit1");for(var d=a.s.c;d<=a.e.c;++d)i.push("\\cellx"+(d+1));for(i.push("\\pard\\intbl"),d=a.s.c;d<=a.e.c;++d){var p=Hn({r:u,c:d});o=c?(s[u]||[])[d]:s[p],!(!o||o.v==null&&(!o.f||o.F))&&(i.push(" "+(o.w||(lf(o),o.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:n,to_sheet:t,from_sheet:r}})();function l_e(t){var e=t.slice(t[0]==="#"?1:0).slice(0,6);return[parseInt(e.slice(0,2),16),parseInt(e.slice(2,4),16),parseInt(e.slice(4,6),16)]}function ox(t){for(var e=0,n=1;e!=3;++e)n=n*256+(t[e]>255?255:t[e]<0?0:t[e]);return n.toString(16).toUpperCase().slice(1)}function c_e(t){var e=t[0]/255,n=t[1]/255,r=t[2]/255,s=Math.max(e,n,r),i=Math.min(e,n,r),a=s-i;if(a===0)return[0,0,e];var o=0,c=0,u=s+i;switch(c=a/(u>1?2-u:u),s){case e:o=((n-r)/a+6)%6;break;case n:o=(r-e)/a+2;break;case r:o=(e-n)/a+4;break}return[o/6,c,u/2]}function u_e(t){var e=t[0],n=t[1],r=t[2],s=n*2*(r<.5?r:1-r),i=r-s/2,a=[i,i,i],o=6*e,c;if(n!==0)switch(o|0){case 0:case 6:c=s*o,a[0]+=s,a[1]+=c;break;case 1:c=s*(2-o),a[0]+=c,a[1]+=s;break;case 2:c=s*(o-2),a[1]+=s,a[2]+=c;break;case 3:c=s*(4-o),a[1]+=c,a[2]+=s;break;case 4:c=s*(o-4),a[2]+=s,a[0]+=c;break;case 5:c=s*(6-o),a[2]+=c,a[0]+=s;break}for(var u=0;u!=3;++u)a[u]=Math.round(a[u]*255);return a}function lb(t,e){if(e===0)return t;var n=c_e(l_e(t));return e<0?n[2]=n[2]*(1+e):n[2]=1-(1-n[2])*(1-e),ox(u_e(n))}var iH=6,f_e=15,d_e=1,$a=iH;function cb(t){return Math.floor((t+Math.round(128/$a)/256)*$a)}function ub(t){return Math.floor((t-5)/$a*100+.5)/100}function uS(t){return Math.round((t*$a+5)/$a*256)/256}function m5(t){return uS(ub(cb(t)))}function tN(t){var e=Math.abs(t-m5(t)),n=$a;if(e>.005)for($a=d_e;$a<f_e;++$a)Math.abs(t-m5(t))<=e&&(e=Math.abs(t-m5(t)),n=$a);$a=n}function wm(t){t.width?(t.wpx=cb(t.width),t.wch=ub(t.wpx),t.MDW=$a):t.wpx?(t.wch=ub(t.wpx),t.width=uS(t.wch),t.MDW=$a):typeof t.wch=="number"&&(t.width=uS(t.wch),t.wpx=cb(t.width),t.MDW=$a),t.customWidth&&delete t.customWidth}var h_e=96,aH=h_e;function oH(t){return t*96/aH}function lx(t){return t*aH/96}var p_e={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function m_e(t,e,n,r){e.Borders=[];var s={},i=!1;(t[0].match(Fa)||[]).forEach(function(a){var o=Dn(a);switch(uu(o[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":s={},o.diagonalUp&&(s.diagonalUp=As(o.diagonalUp)),o.diagonalDown&&(s.diagonalDown=As(o.diagonalDown)),e.Borders.push(s);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(r&&r.WTF&&!i)throw new Error("unrecognized "+o[0]+" in borders")}})}function g_e(t,e,n,r){e.Fills=[];var s={},i=!1;(t[0].match(Fa)||[]).forEach(function(a){var o=Dn(a);switch(uu(o[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":s={},e.Fills.push(s);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":e.Fills.push(s),s={};break;case"<patternFill":case"<patternFill>":o.patternType&&(s.patternType=o.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":s.bgColor||(s.bgColor={}),o.indexed&&(s.bgColor.indexed=parseInt(o.indexed,10)),o.theme&&(s.bgColor.theme=parseInt(o.theme,10)),o.tint&&(s.bgColor.tint=parseFloat(o.tint)),o.rgb&&(s.bgColor.rgb=o.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":s.fgColor||(s.fgColor={}),o.theme&&(s.fgColor.theme=parseInt(o.theme,10)),o.tint&&(s.fgColor.tint=parseFloat(o.tint)),o.rgb!=null&&(s.fgColor.rgb=o.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(r&&r.WTF&&!i)throw new Error("unrecognized "+o[0]+" in fills")}})}function x_e(t,e,n,r){e.Fonts=[];var s={},i=!1;(t[0].match(Fa)||[]).forEach(function(a){var o=Dn(a);switch(uu(o[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":e.Fonts.push(s),s={};break;case"<name":o.val&&(s.name=cs(o.val));break;case"<name/>":case"</name>":break;case"<b":s.bold=o.val?As(o.val):1;break;case"<b/>":s.bold=1;break;case"<i":s.italic=o.val?As(o.val):1;break;case"<i/>":s.italic=1;break;case"<u":switch(o.val){case"none":s.underline=0;break;case"single":s.underline=1;break;case"double":s.underline=2;break;case"singleAccounting":s.underline=33;break;case"doubleAccounting":s.underline=34;break}break;case"<u/>":s.underline=1;break;case"<strike":s.strike=o.val?As(o.val):1;break;case"<strike/>":s.strike=1;break;case"<outline":s.outline=o.val?As(o.val):1;break;case"<outline/>":s.outline=1;break;case"<shadow":s.shadow=o.val?As(o.val):1;break;case"<shadow/>":s.shadow=1;break;case"<condense":s.condense=o.val?As(o.val):1;break;case"<condense/>":s.condense=1;break;case"<extend":s.extend=o.val?As(o.val):1;break;case"<extend/>":s.extend=1;break;case"<sz":o.val&&(s.sz=+o.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":o.val&&(s.vertAlign=o.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":o.val&&(s.family=parseInt(o.val,10));break;case"<family/>":case"</family>":break;case"<scheme":o.val&&(s.scheme=o.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(o.val=="1")break;o.codepage=OC[parseInt(o.val,10)];break;case"<color":if(s.color||(s.color={}),o.auto&&(s.color.auto=As(o.auto)),o.rgb)s.color.rgb=o.rgb.slice(-6);else if(o.indexed){s.color.index=parseInt(o.indexed,10);var c=Rh[s.color.index];s.color.index==81&&(c=Rh[1]),c||(c=Rh[1]),s.color.rgb=c[0].toString(16)+c[1].toString(16)+c[2].toString(16)}else o.theme&&(s.color.theme=parseInt(o.theme,10),o.tint&&(s.color.tint=parseFloat(o.tint)),o.theme&&n.themeElements&&n.themeElements.clrScheme&&(s.color.rgb=lb(n.themeElements.clrScheme[s.color.theme].rgb,s.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(r&&r.WTF&&!i)throw new Error("unrecognized "+o[0]+" in fonts")}})}function v_e(t,e,n){e.NumberFmt=[];for(var r=ou(Kn),s=0;s<r.length;++s)e.NumberFmt[r[s]]=Kn[r[s]];var i=t[0].match(Fa);if(i)for(s=0;s<i.length;++s){var a=Dn(i[s]);switch(uu(a[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var o=Ir(cs(a.formatCode)),c=parseInt(a.numFmtId,10);if(e.NumberFmt[c]=o,c>0){if(c>392){for(c=392;c>60&&e.NumberFmt[c]!=null;--c);e.NumberFmt[c]=o}kh(o,c)}}break;case"</numFmt>":break;default:if(n.WTF)throw new Error("unrecognized "+a[0]+" in numFmts")}}}var _y=["numFmtId","fillId","fontId","borderId","xfId"],Ey=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function y_e(t,e,n){e.CellXf=[];var r,s=!1;(t[0].match(Fa)||[]).forEach(function(i){var a=Dn(i),o=0;switch(uu(a[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(r=a,delete r[0],o=0;o<_y.length;++o)r[_y[o]]&&(r[_y[o]]=parseInt(r[_y[o]],10));for(o=0;o<Ey.length;++o)r[Ey[o]]&&(r[Ey[o]]=As(r[Ey[o]]));if(e.NumberFmt&&r.numFmtId>392){for(o=392;o>60;--o)if(e.NumberFmt[r.numFmtId]==e.NumberFmt[o]){r.numFmtId=o;break}}e.CellXf.push(r);break;case"</xf>":break;case"<alignment":case"<alignment/>":var c={};a.vertical&&(c.vertical=a.vertical),a.horizontal&&(c.horizontal=a.horizontal),a.textRotation!=null&&(c.textRotation=a.textRotation),a.indent&&(c.indent=a.indent),a.wrapText&&(c.wrapText=As(a.wrapText)),r.alignment=c;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":s=!0;break;case"</AlternateContent>":s=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+a[0]+" in cellXfs")}})}var b_e=(function(){var e=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,n=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,r=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,s=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,i=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(o,c,u){var d={};if(!o)return d;o=o.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var p;return(p=o.match(e))&&v_e(p,d,u),(p=o.match(s))&&x_e(p,d,c,u),(p=o.match(r))&&g_e(p,d,c,u),(p=o.match(i))&&m_e(p,d,c,u),(p=o.match(n))&&y_e(p,d,u),d}})();function w_e(t,e){var n=t.read_shift(2),r=Ma(t);return[n,r]}function __e(t,e,n){var r={};r.sz=t.read_shift(2)/20;var s=P2e(t);s.fItalic&&(r.italic=1),s.fCondense&&(r.condense=1),s.fExtend&&(r.extend=1),s.fShadow&&(r.shadow=1),s.fOutline&&(r.outline=1),s.fStrikeout&&(r.strike=1);var i=t.read_shift(2);switch(i===700&&(r.bold=1),t.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript";break}var a=t.read_shift(1);a!=0&&(r.underline=a);var o=t.read_shift(1);o>0&&(r.family=o);var c=t.read_shift(1);switch(c>0&&(r.charset=c),t.l++,r.color=R2e(t),t.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor";break}return r.name=Ma(t),r}var E_e=La;function T_e(t,e){var n=t.l+e,r=t.read_shift(2),s=t.read_shift(2);return t.l=n,{ixfe:r,numFmtId:s}}var S_e=La;function A_e(t,e,n){var r={};r.NumberFmt=[];for(var s in Kn)r.NumberFmt[s]=Kn[s];r.CellXf=[],r.Fonts=[];var i=[],a=!1;return pf(t,function(c,u,d){switch(d){case 44:r.NumberFmt[c[0]]=c[1],kh(c[1],c[0]);break;case 43:r.Fonts.push(c),c.color.theme!=null&&e&&e.themeElements&&e.themeElements.clrScheme&&(c.color.rgb=lb(e.themeElements.clrScheme[c.color.theme].rgb,c.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:i[i.length-1]==617&&r.CellXf.push(c);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:a=!0;break;case 36:a=!1;break;case 37:i.push(d),a=!0;break;case 38:i.pop(),a=!1;break;default:if(u.T>0)i.push(d);else if(u.T<0)i.pop();else if(!a||n.WTF&&i[i.length-1]!=37)throw new Error("Unexpected record 0x"+d.toString(16))}}),r}var C_e=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function N_e(t,e,n){e.themeElements.clrScheme=[];var r={};(t[0].match(Fa)||[]).forEach(function(s){var i=Dn(s);switch(i[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":r.rgb=i.val;break;case"<a:sysClr":r.rgb=i.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":i[0].charAt(1)==="/"?(e.themeElements.clrScheme[C_e.indexOf(i[0])]=r,r={}):r.name=i[0].slice(3,i[0].length-1);break;default:if(n&&n.WTF)throw new Error("Unrecognized "+i[0]+" in clrScheme")}})}function I_e(){}function k_e(){}var R_e=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,P_e=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,D_e=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function M_e(t,e,n){e.themeElements={};var r;[["clrScheme",R_e,N_e],["fontScheme",P_e,I_e],["fmtScheme",D_e,k_e]].forEach(function(s){if(!(r=t.match(s[1])))throw new Error(s[0]+" not found in themeElements");s[2](r,e,n)})}var L_e=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function lH(t,e){(!t||t.length===0)&&(t=F_e());var n,r={};if(!(n=t.match(L_e)))throw new Error("themeElements not found in theme");return M_e(n[0],r,e),r.raw=t,r}function F_e(t,e){var n=[yq];return n[n.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',n[n.length]="<a:themeElements>",n[n.length]='<a:clrScheme name="Office">',n[n.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',n[n.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',n[n.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',n[n.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',n[n.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',n[n.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',n[n.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',n[n.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',n[n.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',n[n.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',n[n.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',n[n.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',n[n.length]="</a:clrScheme>",n[n.length]='<a:fontScheme name="Office">',n[n.length]="<a:majorFont>",n[n.length]='<a:latin typeface="Cambria"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Times New Roman"/>',n[n.length]='<a:font script="Hebr" typeface="Times New Roman"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="MoolBoran"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Times New Roman"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:majorFont>",n[n.length]="<a:minorFont>",n[n.length]='<a:latin typeface="Calibri"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Arial"/>',n[n.length]='<a:font script="Hebr" typeface="Arial"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="DaunPenh"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Arial"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:minorFont>",n[n.length]="</a:fontScheme>",n[n.length]='<a:fmtScheme name="Office">',n[n.length]="<a:fillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="1"/>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="0"/>',n[n.length]="</a:gradFill>",n[n.length]="</a:fillStyleLst>",n[n.length]="<a:lnStyleLst>",n[n.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]="</a:lnStyleLst>",n[n.length]="<a:effectStyleLst>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',n[n.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',n[n.length]="</a:effectStyle>",n[n.length]="</a:effectStyleLst>",n[n.length]="<a:bgFillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]="</a:bgFillStyleLst>",n[n.length]="</a:fmtScheme>",n[n.length]="</a:themeElements>",n[n.length]="<a:objectDefaults>",n[n.length]="<a:spDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',n[n.length]="</a:spDef>",n[n.length]="<a:lnDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',n[n.length]="</a:lnDef>",n[n.length]="</a:objectDefaults>",n[n.length]="<a:extraClrSchemeLst/>",n[n.length]="</a:theme>",n.join("")}function O_e(t,e,n){var r=t.l+e,s=t.read_shift(4);if(s!==124226){if(!n.cellStyles){t.l=r;return}var i=t.slice(t.l);t.l=r;var a;try{a=vq(i,{type:"array"})}catch{return}var o=Wo(a,"theme/theme/theme1.xml",!0);if(o)return lH(o,n)}}function B_e(t){return t.read_shift(4)}function V_e(t){var e={};switch(e.xclrType=t.read_shift(2),e.nTintShade=t.read_shift(2),e.xclrType){case 0:t.l+=4;break;case 1:e.xclrValue=U_e(t,4);break;case 2:e.xclrValue=Kq(t);break;case 3:e.xclrValue=B_e(t);break;case 4:t.l+=4;break}return t.l+=8,e}function U_e(t,e){return La(t,e)}function j_e(t,e){return La(t,e)}function q_e(t){var e=t.read_shift(2),n=t.read_shift(2)-4,r=[e];switch(e){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:r[1]=V_e(t);break;case 6:r[1]=j_e(t,n);break;case 14:case 15:r[1]=t.read_shift(n===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+e+" "+n)}return r}function H_e(t,e){var n=t.l+e;t.l+=2;var r=t.read_shift(2);t.l+=2;for(var s=t.read_shift(2),i=[];s-- >0;)i.push(q_e(t,n-t.l));return{ixfe:r,ext:i}}function z_e(t,e){e.forEach(function(n){n[0]})}function G_e(t,e){return{flags:t.read_shift(4),version:t.read_shift(4),name:Ma(t)}}function $_e(t){for(var e=[],n=t.read_shift(4);n-- >0;)e.push([t.read_shift(4),t.read_shift(4)]);return e}function W_e(t){return t.l+=4,t.read_shift(4)!=0}function K_e(t,e,n){var r={Types:[],Cell:[],Value:[]},s=n||{},i=[],a=!1,o=2;return pf(t,function(c,u,d){switch(d){case 335:r.Types.push({name:c.name});break;case 51:c.forEach(function(p){o==1?r.Cell.push({type:r.Types[p[0]-1].name,index:p[1]}):o==0&&r.Value.push({type:r.Types[p[0]-1].name,index:p[1]})});break;case 337:o=c?1:0;break;case 338:o=2;break;case 35:i.push(d),a=!0;break;case 36:i.pop(),a=!1;break;default:if(!u.T){if(!a||s.WTF&&i[i.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}}),r}function Y_e(t,e,n){var r={Types:[],Cell:[],Value:[]};if(!t)return r;var s=!1,i=2,a;return t.replace(Fa,function(o){var c=Dn(o);switch(uu(c[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":r.Types.push({name:c.name});break;case"</metadataType>":break;case"<futureMetadata":for(var u=0;u<r.Types.length;++u)r.Types[u].name==c.name&&(a=r.Types[u]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":i==1?r.Cell.push({type:r.Types[c.t-1].name,index:+c.v}):i==0&&r.Value.push({type:r.Types[c.t-1].name,index:+c.v});break;case"</rc>":break;case"<cellMetadata":i=1;break;case"</cellMetadata>":i=2;break;case"<valueMetadata":i=0;break;case"</valueMetadata>":i=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;case"<rvb":if(!a)break;a.offsets||(a.offsets=[]),a.offsets.push(+c.i);break;default:if(!s&&n.WTF)throw new Error("unrecognized "+c[0]+" in metadata")}return o}),r}function X_e(t){var e=[];if(!t)return e;var n=1;return(t.match(Fa)||[]).forEach(function(r){var s=Dn(r);switch(s[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete s[0],s.i?n=s.i:s.i=n,e.push(s);break}}),e}function J_e(t){var e={};e.i=t.read_shift(4);var n={};n.r=t.read_shift(4),n.c=t.read_shift(4),e.r=Hn(n);var r=t.read_shift(1);return r&2&&(e.l="1"),r&8&&(e.a="1"),e}function Q_e(t,e,n){var r=[];return pf(t,function(i,a,o){switch(o){case 63:r.push(i);break;default:if(!a.T)throw new Error("Unexpected record 0x"+o.toString(16))}}),r}function Z_e(t,e,n,r){if(!t)return t;var s=r||{},i=!1;pf(t,function(o,c,u){switch(u){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:i=!0;break;case 36:i=!1;break;default:if(!c.T){if(!i||s.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}},s)}function eEe(t,e){if(!t)return"??";var n=(t.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return e["!id"][n].Target}function z8(t,e,n,r){var s=Array.isArray(t),i;e.forEach(function(a){var o=Ya(a.ref);if(s?(t[o.r]||(t[o.r]=[]),i=t[o.r][o.c]):i=t[a.ref],!i){i={t:"z"},s?t[o.r][o.c]=i:t[a.ref]=i;var c=Ws(t["!ref"]||"BDWGO1000001:A1");c.s.r>o.r&&(c.s.r=o.r),c.e.r<o.r&&(c.e.r=o.r),c.s.c>o.c&&(c.s.c=o.c),c.e.c<o.c&&(c.e.c=o.c);var u=Sr(c);u!==t["!ref"]&&(t["!ref"]=u)}i.c||(i.c=[]);var d={a:a.author,t:a.t,r:a.r,T:n};a.h&&(d.h=a.h);for(var p=i.c.length-1;p>=0;--p){if(!n&&i.c[p].T)return;n&&!i.c[p].T&&i.c.splice(p,1)}if(n&&r){for(p=0;p<r.length;++p)if(d.a==r[p].id){d.a=r[p].name||d.a;break}}i.c.push(d)})}function tEe(t,e){if(t.match(/<(?:\w+:)?comments *\/>/))return[];var n=[],r=[],s=t.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);s&&s[1]&&s[1].split(/<\/\w*:?author>/).forEach(function(a){if(!(a===""||a.trim()==="")){var o=a.match(/<(?:\w+:)?author[^>]*>(.*)/);o&&n.push(o[1])}});var i=t.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return i&&i[1]&&i[1].split(/<\/\w*:?comment>/).forEach(function(a){if(!(a===""||a.trim()==="")){var o=a.match(/<(?:\w+:)?comment[^>]*>/);if(o){var c=Dn(o[0]),u={author:c.authorId&&n[c.authorId]||"sheetjsghost",ref:c.ref,guid:c.guid},d=Ya(c.ref);if(!(e.sheetRows&&e.sheetRows<=d.r)){var p=a.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),g=!!p&&!!p[1]&&eN(p[1])||{r:"",t:"",h:""};u.r=g.r,g.r=="<t></t>"&&(g.t=g.h=""),u.t=(g.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.cellHTML&&(u.h=g.h),r.push(u)}}}}),r}function nEe(t,e){var n=[],r=!1,s={},i=0;return t.replace(Fa,function(o,c){var u=Dn(o);switch(uu(u[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":s={author:u.personId,guid:u.id,ref:u.ref,T:1};break;case"</threadedComment>":s.t!=null&&n.push(s);break;case"<text>":case"<text":i=c+o.length;break;case"</text>":s.t=t.slice(i,c).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":r=!0;break;case"</mentions>":r=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(!r&&e.WTF)throw new Error("unrecognized "+u[0]+" in threaded comments")}return o}),n}function rEe(t,e){var n=[],r=!1;return t.replace(Fa,function(i){var a=Dn(i);switch(uu(a[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":n.push({name:a.displayname,id:a.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(!r&&e.WTF)throw new Error("unrecognized "+a[0]+" in threaded comments")}return i}),n}function sEe(t){var e={};e.iauthor=t.read_shift(4);var n=h0(t);return e.rfx=n.s,e.ref=Hn(n.s),t.l+=16,e}var iEe=Ma;function aEe(t,e){var n=[],r=[],s={},i=!1;return pf(t,function(o,c,u){switch(u){case 632:r.push(o);break;case 635:s=o;break;case 637:s.t=o.t,s.h=o.h,s.r=o.r;break;case 636:if(s.author=r[s.iauthor],delete s.iauthor,e.sheetRows&&s.rfx&&e.sheetRows<=s.rfx.r)break;s.t||(s.t=""),delete s.rfx,n.push(s);break;case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:break;case 38:break;default:if(!c.T){if(!i||e.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}),n}var oEe="application/vnd.ms-office.vbaProject";function lEe(t){var e=Er.utils.cfb_new({root:"R"});return t.FullPaths.forEach(function(n,r){if(!(n.slice(-1)==="/"||!n.match(/_VBA_PROJECT_CUR/))){var s=n.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Er.utils.cfb_add(e,s,t.FileIndex[r].content)}}),Er.write(e)}function cEe(){return{"!type":"dialog"}}function uEe(){return{"!type":"dialog"}}function fEe(){return{"!type":"macro"}}function dEe(){return{"!type":"macro"}}var Qp=(function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function n(r,s,i,a){var o=!1,c=!1;i.length==0?c=!0:i.charAt(0)=="["&&(c=!0,i=i.slice(1,-1)),a.length==0?o=!0:a.charAt(0)=="["&&(o=!0,a=a.slice(1,-1));var u=i.length>0?parseInt(i,10)|0:0,d=a.length>0?parseInt(a,10)|0:0;return o?d+=e.c:--d,c?u+=e.r:--u,s+(o?"":"$")+Ri(d)+(c?"":"$")+ha(u)}return function(s,i){return e=i,s.replace(t,n)}})(),cH=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,hEe=(function(){return function(e,n){return e.replace(cH,function(r,s,i,a,o,c){var u=KC(a)-(i?0:n.c),d=WC(c)-(o?0:n.r),p=d==0?"":o?d+1:"["+d+"]",g=u==0?"":i?u+1:"["+u+"]";return s+"R"+p+"C"+g})}})();function uH(t,e){return t.replace(cH,function(n,r,s,i,a,o){return r+(s=="$"?s+i:Ri(KC(i)+e.c))+(a=="$"?a+o:ha(WC(o)+e.r))})}function pEe(t,e,n){var r=Hm(e),s=r.s,i=Ya(n),a={r:i.r-s.r,c:i.c-s.c};return uH(t,a)}function mEe(t){return t.length!=1}function G8(t){return t.replace(/_xlfn\./g,"")}function ui(t){t.l+=1}function Pd(t,e){var n=t.read_shift(2);return[n&16383,n>>14&1,n>>15&1]}function fH(t,e,n){var r=2;if(n){if(n.biff>=2&&n.biff<=5)return dH(t);n.biff==12&&(r=4)}var s=t.read_shift(r),i=t.read_shift(r),a=Pd(t),o=Pd(t);return{s:{r:s,c:a[0],cRel:a[1],rRel:a[2]},e:{r:i,c:o[0],cRel:o[1],rRel:o[2]}}}function dH(t){var e=Pd(t),n=Pd(t),r=t.read_shift(1),s=t.read_shift(1);return{s:{r:e[0],c:r,cRel:e[1],rRel:e[2]},e:{r:n[0],c:s,cRel:n[1],rRel:n[2]}}}function gEe(t,e,n){if(n.biff<8)return dH(t);var r=t.read_shift(n.biff==12?4:2),s=t.read_shift(n.biff==12?4:2),i=Pd(t),a=Pd(t);return{s:{r,c:i[0],cRel:i[1],rRel:i[2]},e:{r:s,c:a[0],cRel:a[1],rRel:a[2]}}}function hH(t,e,n){if(n&&n.biff>=2&&n.biff<=5)return xEe(t);var r=t.read_shift(n&&n.biff==12?4:2),s=Pd(t);return{r,c:s[0],cRel:s[1],rRel:s[2]}}function xEe(t){var e=Pd(t),n=t.read_shift(1);return{r:e[0],c:n,cRel:e[1],rRel:e[2]}}function vEe(t){var e=t.read_shift(2),n=t.read_shift(2);return{r:e,c:n&255,fQuoted:!!(n&16384),cRel:n>>15,rRel:n>>15}}function yEe(t,e,n){var r=n&&n.biff?n.biff:8;if(r>=2&&r<=5)return bEe(t);var s=t.read_shift(r>=12?4:2),i=t.read_shift(2),a=(i&16384)>>14,o=(i&32768)>>15;if(i&=16383,o==1)for(;s>524287;)s-=1048576;if(a==1)for(;i>8191;)i=i-16384;return{r:s,c:i,cRel:a,rRel:o}}function bEe(t){var e=t.read_shift(2),n=t.read_shift(1),r=(e&32768)>>15,s=(e&16384)>>14;return e&=16383,r==1&&e>=8192&&(e=e-16384),s==1&&n>=128&&(n=n-256),{r:e,c:n,cRel:s,rRel:r}}function wEe(t,e,n){var r=(t[t.l++]&96)>>5,s=fH(t,n.biff>=2&&n.biff<=5?6:8,n);return[r,s]}function _Ee(t,e,n){var r=(t[t.l++]&96)>>5,s=t.read_shift(2,"i"),i=8;if(n)switch(n.biff){case 5:t.l+=12,i=6;break;case 12:i=12;break}var a=fH(t,i,n);return[r,s,a]}function EEe(t,e,n){var r=(t[t.l++]&96)>>5;return t.l+=n&&n.biff>8?12:n.biff<8?6:8,[r]}function TEe(t,e,n){var r=(t[t.l++]&96)>>5,s=t.read_shift(2),i=8;if(n)switch(n.biff){case 5:t.l+=12,i=6;break;case 12:i=12;break}return t.l+=i,[r,s]}function SEe(t,e,n){var r=(t[t.l++]&96)>>5,s=gEe(t,e-1,n);return[r,s]}function AEe(t,e,n){var r=(t[t.l++]&96)>>5;return t.l+=n.biff==2?6:n.biff==12?14:7,[r]}function $8(t){var e=t[t.l+1]&1,n=1;return t.l+=4,[e,n]}function CEe(t,e,n){t.l+=2;for(var r=t.read_shift(n&&n.biff==2?1:2),s=[],i=0;i<=r;++i)s.push(t.read_shift(n&&n.biff==2?1:2));return s}function NEe(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=2,[r,t.read_shift(n&&n.biff==2?1:2)]}function IEe(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=2,[r,t.read_shift(n&&n.biff==2?1:2)]}function kEe(t){var e=t[t.l+1]&255?1:0;return t.l+=2,[e,t.read_shift(2)]}function REe(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=n&&n.biff==2?3:4,[r]}function pH(t){var e=t.read_shift(1),n=t.read_shift(1);return[e,n]}function PEe(t){return t.read_shift(2),pH(t)}function DEe(t){return t.read_shift(2),pH(t)}function MEe(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var s=hH(t,0,n);return[r,s]}function LEe(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var s=yEe(t,0,n);return[r,s]}function FEe(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var s=t.read_shift(2);n&&n.biff==5&&(t.l+=12);var i=hH(t,0,n);return[r,s,i]}function OEe(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var s=t.read_shift(n&&n.biff<=3?1:2);return[B5e[s],xH[s],r]}function BEe(t,e,n){var r=t[t.l++],s=t.read_shift(1),i=n&&n.biff<=3?[r==88?-1:0,t.read_shift(1)]:VEe(t);return[s,(i[0]===0?xH:O5e)[i[1]]]}function VEe(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function UEe(t,e,n){t.l+=n&&n.biff==2?3:4}function jEe(t,e,n){if(t.l++,n&&n.biff==12)return[t.read_shift(4,"i"),0];var r=t.read_shift(2),s=t.read_shift(n&&n.biff==2?1:2);return[r,s]}function qEe(t){return t.l++,p0[t.read_shift(1)]}function HEe(t){return t.l++,t.read_shift(2)}function zEe(t){return t.l++,t.read_shift(1)!==0}function GEe(t){return t.l++,Ia(t)}function $Ee(t,e,n){return t.l++,Ux(t,e-1,n)}function WEe(t,e){var n=[t.read_shift(1)];if(e==12)switch(n[0]){case 2:n[0]=4;break;case 4:n[0]=16;break;case 0:n[0]=1;break;case 1:n[0]=2;break}switch(n[0]){case 4:n[1]=Zs(t,1)?"TRUE":"FALSE",e!=12&&(t.l+=7);break;case 37:case 16:n[1]=p0[t[t.l]],t.l+=e==12?4:8;break;case 0:t.l+=8;break;case 1:n[1]=Ia(t);break;case 2:n[1]=m0(t,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+n[0])}return n}function KEe(t,e,n){for(var r=t.read_shift(n.biff==12?4:2),s=[],i=0;i!=r;++i)s.push((n.biff==12?h0:cw)(t));return s}function YEe(t,e,n){var r=0,s=0;n.biff==12?(r=t.read_shift(4),s=t.read_shift(4)):(s=1+t.read_shift(1),r=1+t.read_shift(2)),n.biff>=2&&n.biff<8&&(--r,--s==0&&(s=256));for(var i=0,a=[];i!=r&&(a[i]=[]);++i)for(var o=0;o!=s;++o)a[i][o]=WEe(t,n.biff);return a}function XEe(t,e,n){var r=t.read_shift(1)>>>5&3,s=!n||n.biff>=8?4:2,i=t.read_shift(s);switch(n.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[r,0,i]}function JEe(t,e,n){if(n.biff==5)return QEe(t);var r=t.read_shift(1)>>>5&3,s=t.read_shift(2),i=t.read_shift(4);return[r,s,i]}function QEe(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2,"i");t.l+=8;var r=t.read_shift(2);return t.l+=12,[e,n,r]}function ZEe(t,e,n){var r=t.read_shift(1)>>>5&3;t.l+=n&&n.biff==2?3:4;var s=t.read_shift(n&&n.biff==2?1:2);return[r,s]}function e5e(t,e,n){var r=t.read_shift(1)>>>5&3,s=t.read_shift(n&&n.biff==2?1:2);return[r,s]}function t5e(t,e,n){var r=t.read_shift(1)>>>5&3;return t.l+=4,n.biff<8&&t.l--,n.biff==12&&(t.l+=2),[r]}function n5e(t,e,n){var r=(t[t.l++]&96)>>5,s=t.read_shift(2),i=4;if(n)switch(n.biff){case 5:i=15;break;case 12:i=6;break}return t.l+=i,[r,s]}var r5e=La,s5e=La,i5e=La;function qx(t,e,n){return t.l+=2,[vEe(t)]}function nN(t){return t.l+=6,[]}var a5e=qx,o5e=nN,l5e=nN,c5e=qx;function mH(t){return t.l+=2,[hi(t),t.read_shift(2)&1]}var u5e=qx,f5e=mH,d5e=nN,h5e=qx,p5e=qx,m5e=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function g5e(t){t.l+=2;var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(4),s=t.read_shift(2),i=t.read_shift(2),a=m5e[n>>2&31];return{ixti:e,coltype:n&3,rt:a,idx:r,c:s,C:i}}function x5e(t){return t.l+=2,[t.read_shift(4)]}function v5e(t,e,n){return t.l+=5,t.l+=2,t.l+=n.biff==2?1:4,["PTGSHEET"]}function y5e(t,e,n){return t.l+=n.biff==2?4:5,["PTGENDSHEET"]}function b5e(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2);return[e,n]}function w5e(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2);return[e,n]}function _5e(t){return t.l+=4,[0,0]}var W8={1:{n:"PtgExp",f:jEe},2:{n:"PtgTbl",f:i5e},3:{n:"PtgAdd",f:ui},4:{n:"PtgSub",f:ui},5:{n:"PtgMul",f:ui},6:{n:"PtgDiv",f:ui},7:{n:"PtgPower",f:ui},8:{n:"PtgConcat",f:ui},9:{n:"PtgLt",f:ui},10:{n:"PtgLe",f:ui},11:{n:"PtgEq",f:ui},12:{n:"PtgGe",f:ui},13:{n:"PtgGt",f:ui},14:{n:"PtgNe",f:ui},15:{n:"PtgIsect",f:ui},16:{n:"PtgUnion",f:ui},17:{n:"PtgRange",f:ui},18:{n:"PtgUplus",f:ui},19:{n:"PtgUminus",f:ui},20:{n:"PtgPercent",f:ui},21:{n:"PtgParen",f:ui},22:{n:"PtgMissArg",f:ui},23:{n:"PtgStr",f:$Ee},26:{n:"PtgSheet",f:v5e},27:{n:"PtgEndSheet",f:y5e},28:{n:"PtgErr",f:qEe},29:{n:"PtgBool",f:zEe},30:{n:"PtgInt",f:HEe},31:{n:"PtgNum",f:GEe},32:{n:"PtgArray",f:AEe},33:{n:"PtgFunc",f:OEe},34:{n:"PtgFuncVar",f:BEe},35:{n:"PtgName",f:XEe},36:{n:"PtgRef",f:MEe},37:{n:"PtgArea",f:wEe},38:{n:"PtgMemArea",f:ZEe},39:{n:"PtgMemErr",f:r5e},40:{n:"PtgMemNoMem",f:s5e},41:{n:"PtgMemFunc",f:e5e},42:{n:"PtgRefErr",f:t5e},43:{n:"PtgAreaErr",f:EEe},44:{n:"PtgRefN",f:LEe},45:{n:"PtgAreaN",f:SEe},46:{n:"PtgMemAreaN",f:b5e},47:{n:"PtgMemNoMemN",f:w5e},57:{n:"PtgNameX",f:JEe},58:{n:"PtgRef3d",f:FEe},59:{n:"PtgArea3d",f:_Ee},60:{n:"PtgRefErr3d",f:n5e},61:{n:"PtgAreaErr3d",f:TEe},255:{}},E5e={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},T5e={1:{n:"PtgElfLel",f:mH},2:{n:"PtgElfRw",f:h5e},3:{n:"PtgElfCol",f:a5e},6:{n:"PtgElfRwV",f:p5e},7:{n:"PtgElfColV",f:c5e},10:{n:"PtgElfRadical",f:u5e},11:{n:"PtgElfRadicalS",f:d5e},13:{n:"PtgElfColS",f:o5e},15:{n:"PtgElfColSV",f:l5e},16:{n:"PtgElfRadicalLel",f:f5e},25:{n:"PtgList",f:g5e},29:{n:"PtgSxName",f:x5e},255:{}},S5e={0:{n:"PtgAttrNoop",f:_5e},1:{n:"PtgAttrSemi",f:REe},2:{n:"PtgAttrIf",f:IEe},4:{n:"PtgAttrChoose",f:CEe},8:{n:"PtgAttrGoto",f:NEe},16:{n:"PtgAttrSum",f:UEe},32:{n:"PtgAttrBaxcel",f:$8},33:{n:"PtgAttrBaxcel",f:$8},64:{n:"PtgAttrSpace",f:PEe},65:{n:"PtgAttrSpaceSemi",f:DEe},128:{n:"PtgAttrIfError",f:kEe},255:{}};function Hx(t,e,n,r){if(r.biff<8)return La(t,e);for(var s=t.l+e,i=[],a=0;a!==n.length;++a)switch(n[a][0]){case"PtgArray":n[a][1]=YEe(t,0,r),i.push(n[a][1]);break;case"PtgMemArea":n[a][2]=KEe(t,n[a][1],r),i.push(n[a][2]);break;case"PtgExp":r&&r.biff==12&&(n[a][1][1]=t.read_shift(4),i.push(n[a][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+n[a][0]}return e=s-t.l,e!==0&&i.push(La(t,e)),i}function zx(t,e,n){for(var r=t.l+e,s,i,a=[];r!=t.l;)e=r-t.l,i=t[t.l],s=W8[i]||W8[E5e[i]],(i===24||i===25)&&(s=(i===24?T5e:S5e)[t[t.l+1]]),!s||!s.f?La(t,e):a.push([s.n,s.f(t,e,n)]);return a}function A5e(t){for(var e=[],n=0;n<t.length;++n){for(var r=t[n],s=[],i=0;i<r.length;++i){var a=r[i];if(a)switch(a[0]){case 2:s.push('"'+a[1].replace(/"/g,'""')+'"');break;default:s.push(a[1])}else s.push("")}e.push(s.join(","))}return e.join(";")}var C5e={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function N5e(t,e){if(!t&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function gH(t,e,n){if(!t)return"SH33TJSERR0";if(n.biff>8&&(!t.XTI||!t.XTI[e]))return t.SheetNames[e];if(!t.XTI)return"SH33TJSERR6";var r=t.XTI[e];if(n.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":t.XTI[e-1];if(!r)return"SH33TJSERR1";var s="";if(n.biff>8)switch(t[r[0]][0]){case 357:return s=r[1]==-1?"#REF":t.SheetNames[r[1]],r[1]==r[2]?s:s+":"+t.SheetNames[r[2]];case 358:return n.SID!=null?t.SheetNames[n.SID]:"SH33TJSSAME"+t[r[0]][0];case 355:default:return"SH33TJSSRC"+t[r[0]][0]}switch(t[r[0]][0][0]){case 1025:return s=r[1]==-1?"#REF":t.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?s:s+":"+t.SheetNames[r[2]];case 14849:return t[r[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return t[r[0]][0][3]?(s=r[1]==-1?"#REF":t[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?s:s+":"+t[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function K8(t,e,n){var r=gH(t,e,n);return r=="#REF"?r:N5e(r,n)}function Ca(t,e,n,r,s){var i=s&&s.biff||8,a={s:{c:0,r:0}},o=[],c,u,d,p=0,g=0,x,w="";if(!t[0]||!t[0][0])return"";for(var y=-1,S="",C=0,F=t[0].length;C<F;++C){var I=t[0][C];switch(I[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=o.pop(),u=o.pop(),y>=0){switch(t[0][y][1][0]){case 0:S=Gs(" ",t[0][y][1][1]);break;case 1:S=Gs("\r",t[0][y][1][1]);break;default:if(S="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][y][1][0])}u=u+S,y=-1}o.push(u+C5e[I[0]]+c);break;case"PtgIsect":c=o.pop(),u=o.pop(),o.push(u+" "+c);break;case"PtgUnion":c=o.pop(),u=o.pop(),o.push(u+","+c);break;case"PtgRange":c=o.pop(),u=o.pop(),o.push(u+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":d=b1(I[1][1],a,s),o.push(w1(d,i));break;case"PtgRefN":d=n?b1(I[1][1],n,s):I[1][1],o.push(w1(d,i));break;case"PtgRef3d":p=I[1][1],d=b1(I[1][2],a,s),w=K8(r,p,s),o.push(w+"!"+w1(d,i));break;case"PtgFunc":case"PtgFuncVar":var D=I[1][0],z=I[1][1];D||(D=0),D&=127;var G=D==0?[]:o.slice(-D);o.length-=D,z==="User"&&(z=G.shift()),o.push(z+"("+G.join(",")+")");break;case"PtgBool":o.push(I[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(I[1]);break;case"PtgNum":o.push(String(I[1]));break;case"PtgStr":o.push('"'+I[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(I[1]);break;case"PtgAreaN":x=N8(I[1][1],n?{s:n}:a,s),o.push(h5(x,s));break;case"PtgArea":x=N8(I[1][1],a,s),o.push(h5(x,s));break;case"PtgArea3d":p=I[1][1],x=I[1][2],w=K8(r,p,s),o.push(w+"!"+h5(x,s));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":g=I[1][2];var P=(r.names||[])[g-1]||(r[0]||[])[g],M=P?P.Name:"SH33TJSNAME"+String(g);M&&M.slice(0,6)=="_xlfn."&&!s.xlfn&&(M=M.slice(6)),o.push(M);break;case"PtgNameX":var R=I[1][1];g=I[1][2];var U;if(s.biff<=5)R<0&&(R=-R),r[R]&&(U=r[R][g]);else{var L="";if(((r[R]||[])[0]||[])[0]==14849||(((r[R]||[])[0]||[])[0]==1025?r[R][g]&&r[R][g].itab>0&&(L=r.SheetNames[r[R][g].itab-1]+"!"):L=r.SheetNames[g-1]+"!"),r[R]&&r[R][g])L+=r[R][g].Name;else if(r[0]&&r[0][g])L+=r[0][g].Name;else{var O=(gH(r,R,s)||"").split(";;");O[g-1]?L=O[g-1]:L+="SH33TJSERRX"}o.push(L);break}U||(U={Name:"SH33TJSERRY"}),o.push(U.Name);break;case"PtgParen":var j="(",ie=")";if(y>=0){switch(S="",t[0][y][1][0]){case 2:j=Gs(" ",t[0][y][1][1])+j;break;case 3:j=Gs("\r",t[0][y][1][1])+j;break;case 4:ie=Gs(" ",t[0][y][1][1])+ie;break;case 5:ie=Gs("\r",t[0][y][1][1])+ie;break;default:if(s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][y][1][0])}y=-1}o.push(j+o.pop()+ie);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":d={c:I[1][1],r:I[1][0]};var Ee={c:n.c,r:n.r};if(r.sharedf[Hn(d)]){var ae=r.sharedf[Hn(d)];o.push(Ca(ae,a,Ee,r,s))}else{var pe=!1;for(c=0;c!=r.arrayf.length;++c)if(u=r.arrayf[c],!(d.c<u[0].s.c||d.c>u[0].e.c)&&!(d.r<u[0].s.r||d.r>u[0].e.r)){o.push(Ca(u[1],a,Ee,r,s)),pe=!0;break}pe||o.push(I[1])}break;case"PtgArray":o.push("{"+A5e(I[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":y=C;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+I[1].idx+"[#"+I[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(I));default:throw new Error("Unrecognized Formula Token: "+String(I))}var de=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(s.biff!=3&&y>=0&&de.indexOf(t[0][C][0])==-1){I=t[0][y];var oe=!0;switch(I[1][0]){case 4:oe=!1;case 0:S=Gs(" ",I[1][1]);break;case 5:oe=!1;case 1:S=Gs("\r",I[1][1]);break;default:if(S="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+I[1][0])}o.push((oe?S:"")+o.pop()+(oe?"":S)),y=-1}}if(o.length>1&&s.WTF)throw new Error("bad formula stack");return o[0]}function I5e(t,e,n){var r=t.l+e,s=n.biff==2?1:2,i,a=t.read_shift(s);if(a==65535)return[[],La(t,e-2)];var o=zx(t,a,n);return e!==a+s&&(i=Hx(t,e-a-s,o,n)),t.l=r,[o,i]}function k5e(t,e,n){var r=t.l+e,s=n.biff==2?1:2,i,a=t.read_shift(s);if(a==65535)return[[],La(t,e-2)];var o=zx(t,a,n);return e!==a+s&&(i=Hx(t,e-a-s,o,n)),t.l=r,[o,i]}function R5e(t,e,n,r){var s=t.l+e,i=zx(t,r,n),a;return s!==t.l&&(a=Hx(t,s-t.l,i,n)),[i,a]}function P5e(t,e,n){var r=t.l+e,s,i=t.read_shift(2),a=zx(t,i,n);return i==65535?[[],La(t,e-2)]:(e!==i+2&&(s=Hx(t,r-i-2,a,n)),[a,s])}function D5e(t){var e;if($u(t,t.l+6)!==65535)return[Ia(t),"n"];switch(t[t.l]){case 0:return t.l+=8,["String","s"];case 1:return e=t[t.l+2]===1,t.l+=8,[e,"b"];case 2:return e=t[t.l+2],t.l+=8,[e,"e"];case 3:return t.l+=8,["","s"]}return[]}function g5(t,e,n){var r=t.l+e,s=fu(t);n.biff==2&&++t.l;var i=D5e(t),a=t.read_shift(1);n.biff!=2&&(t.read_shift(1),n.biff>=5&&t.read_shift(4));var o=k5e(t,r-t.l,n);return{cell:s,val:i[0],formula:o,shared:a>>3&1,tt:i[1]}}function uw(t,e,n){var r=t.read_shift(4),s=zx(t,r,n),i=t.read_shift(4),a=i>0?Hx(t,i,s,n):null;return[s,a]}var M5e=uw,fw=uw,L5e=uw,F5e=uw,O5e={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},xH={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},B5e={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function Y8(t){return t.slice(0,3)=="of:"&&(t=t.slice(3)),t.charCodeAt(0)==61&&(t=t.slice(1),t.charCodeAt(0)==61&&(t=t.slice(1))),t=t.replace(/COM\.MICROSOFT\./g,""),t=t.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(e,n){return n.replace(/\./g,"")}),t=t.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),t.replace(/[;~]/g,",").replace(/\|/g,";")}function x5(t){var e=t.split(":"),n=e[0].split(".")[0];return[n,e[0].split(".")[1]+(e.length>1?":"+(e[1].split(".")[1]||e[1].split(".")[0]):"")]}var S1={},Zp={};function A1(t,e){if(t){var n=[.7,.7,.75,.75,.3,.3];e=="xlml"&&(n=[1,1,1,1,.5,.5]),t.left==null&&(t.left=n[0]),t.right==null&&(t.right=n[1]),t.top==null&&(t.top=n[2]),t.bottom==null&&(t.bottom=n[3]),t.header==null&&(t.header=n[4]),t.footer==null&&(t.footer=n[5])}}function vH(t,e,n,r,s,i){try{r.cellNF&&(t.z=Kn[e])}catch(o){if(r.WTF)throw o}if(!(t.t==="z"&&!r.cellStyles)){if(t.t==="d"&&typeof t.v=="string"&&(t.v=Yi(t.v)),(!r||r.cellText!==!1)&&t.t!=="z")try{if(Kn[e]==null&&kh(Vye[e]||"General",e),t.t==="e")t.w=t.w||p0[t.v];else if(e===0)if(t.t==="n")(t.v|0)===t.v?t.w=t.v.toString(10):t.w=rx(t.v);else if(t.t==="d"){var a=Qa(t.v);(a|0)===a?t.w=a.toString(10):t.w=rx(a)}else{if(t.v===void 0)return"";t.w=Yh(t.v,Zp)}else t.t==="d"?t.w=Il(e,Qa(t.v),Zp):t.w=Il(e,t.v,Zp)}catch(o){if(r.WTF)throw o}if(r.cellStyles&&n!=null)try{t.s=i.Fills[n],t.s.fgColor&&t.s.fgColor.theme&&!t.s.fgColor.rgb&&(t.s.fgColor.rgb=lb(s.themeElements.clrScheme[t.s.fgColor.theme].rgb,t.s.fgColor.tint||0),r.WTF&&(t.s.fgColor.raw_rgb=s.themeElements.clrScheme[t.s.fgColor.theme].rgb)),t.s.bgColor&&t.s.bgColor.theme&&(t.s.bgColor.rgb=lb(s.themeElements.clrScheme[t.s.bgColor.theme].rgb,t.s.bgColor.tint||0),r.WTF&&(t.s.bgColor.raw_rgb=s.themeElements.clrScheme[t.s.bgColor.theme].rgb))}catch(o){if(r.WTF&&i.Fills)throw o}}}function V5e(t,e){var n=Ws(e);n.s.r<=n.e.r&&n.s.c<=n.e.c&&n.s.r>=0&&n.s.c>=0&&(t["!ref"]=Sr(n))}var U5e=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,j5e=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,q5e=/<(?:\w:)?hyperlink [^>]*>/mg,H5e=/"(\w*:\w*)"/,z5e=/<(?:\w:)?col\b[^>]*[\/]?>/g,G5e=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,$5e=/<(?:\w:)?pageMargins[^>]*\/>/g,yH=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,W5e=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,K5e=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function Y5e(t,e,n,r,s,i,a){if(!t)return t;r||(r={"!id":{}});var o=e.dense?[]:{},c={s:{r:2e6,c:2e6},e:{r:0,c:0}},u="",d="",p=t.match(j5e);p?(u=t.slice(0,p.index),d=t.slice(p.index+p[0].length)):u=d=t;var g=u.match(yH);g?rN(g[0],o,s,n):(g=u.match(W5e))&&X5e(g[0],g[1]||"",o,s,n);var x=(u.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(x>0){var w=u.slice(x,x+50).match(H5e);w&&V5e(o,w[1])}var y=u.match(K5e);y&&y[1]&&nTe(y[1],s);var S=[];if(e.cellStyles){var C=u.match(z5e);C&&Z5e(S,C)}p&&rTe(p[1],o,e,c,i,a);var F=d.match(G5e);F&&(o["!autofilter"]=eTe(F[0]));var I=[],D=d.match(U5e);if(D)for(x=0;x!=D.length;++x)I[x]=Ws(D[x].slice(D[x].indexOf('"')+1));var z=d.match(q5e);z&&J5e(o,z,r);var G=d.match($5e);if(G&&(o["!margins"]=Q5e(Dn(G[0]))),!o["!ref"]&&c.e.c>=c.s.c&&c.e.r>=c.s.r&&(o["!ref"]=Sr(c)),e.sheetRows>0&&o["!ref"]){var P=Ws(o["!ref"]);e.sheetRows<=+P.e.r&&(P.e.r=e.sheetRows-1,P.e.r>c.e.r&&(P.e.r=c.e.r),P.e.r<P.s.r&&(P.s.r=P.e.r),P.e.c>c.e.c&&(P.e.c=c.e.c),P.e.c<P.s.c&&(P.s.c=P.e.c),o["!fullref"]=o["!ref"],o["!ref"]=Sr(P))}return S.length>0&&(o["!cols"]=S),I.length>0&&(o["!merges"]=I),o}function rN(t,e,n,r){var s=Dn(t);n.Sheets[r]||(n.Sheets[r]={}),s.codeName&&(n.Sheets[r].CodeName=Ir(cs(s.codeName)))}function X5e(t,e,n,r,s){rN(t.slice(0,t.indexOf(">")),n,r,s)}function J5e(t,e,n){for(var r=Array.isArray(t),s=0;s!=e.length;++s){var i=Dn(cs(e[s]),!0);if(!i.ref)return;var a=((n||{})["!id"]||[])[i.id];a?(i.Target=a.Target,i.location&&(i.Target+="#"+Ir(i.location))):(i.Target="#"+Ir(i.location),a={Target:i.Target,TargetMode:"Internal"}),i.Rel=a,i.tooltip&&(i.Tooltip=i.tooltip,delete i.tooltip);for(var o=Ws(i.ref),c=o.s.r;c<=o.e.r;++c)for(var u=o.s.c;u<=o.e.c;++u){var d=Hn({c:u,r:c});r?(t[c]||(t[c]=[]),t[c][u]||(t[c][u]={t:"z",v:void 0}),t[c][u].l=i):(t[d]||(t[d]={t:"z",v:void 0}),t[d].l=i)}}}function Q5e(t){var e={};return["left","right","top","bottom","header","footer"].forEach(function(n){t[n]&&(e[n]=parseFloat(t[n]))}),e}function Z5e(t,e){for(var n=!1,r=0;r!=e.length;++r){var s=Dn(e[r],!0);s.hidden&&(s.hidden=As(s.hidden));var i=parseInt(s.min,10)-1,a=parseInt(s.max,10)-1;for(s.outlineLevel&&(s.level=+s.outlineLevel||0),delete s.min,delete s.max,s.width=+s.width,!n&&s.width&&(n=!0,tN(s.width)),wm(s);i<=a;)t[i++]=da(s)}}function eTe(t){var e={ref:(t.match(/ref="([^"]*)"/)||[])[1]};return e}var tTe=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function nTe(t,e){e.Views||(e.Views=[{}]),(t.match(tTe)||[]).forEach(function(n,r){var s=Dn(n);e.Views[r]||(e.Views[r]={}),+s.zoomScale&&(e.Views[r].zoom=+s.zoomScale),As(s.rightToLeft)&&(e.Views[r].RTL=!0)})}var rTe=(function(){var t=/<(?:\w+:)?c[ \/>]/,e=/<\/(?:\w+:)?row>/,n=/r=["']([^"']*)["']/,r=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,s=/ref=["']([^"']*)["']/,i=sx("v"),a=sx("f");return function(c,u,d,p,g,x){for(var w=0,y="",S=[],C=[],F=0,I=0,D=0,z="",G,P,M=0,R=0,U,L,O=0,j=0,ie=Array.isArray(x.CellXf),Ee,ae=[],pe=[],de=Array.isArray(u),oe=[],ke={},ne=!1,B=!!d.sheetStubs,K=c.split(e),Y=0,Q=K.length;Y!=Q;++Y){y=K[Y].trim();var ue=y.length;if(ue!==0){var ge=0;e:for(w=0;w<ue;++w)switch(y[w]){case">":if(y[w-1]!="/"){++w;break e}if(d&&d.cellStyles){if(P=Dn(y.slice(ge,w),!0),M=P.r!=null?parseInt(P.r,10):M+1,R=-1,d.sheetRows&&d.sheetRows<M)continue;ke={},ne=!1,P.ht&&(ne=!0,ke.hpt=parseFloat(P.ht),ke.hpx=lx(ke.hpt)),P.hidden=="1"&&(ne=!0,ke.hidden=!0),P.outlineLevel!=null&&(ne=!0,ke.level=+P.outlineLevel),ne&&(oe[M-1]=ke)}break;case"<":ge=w;break}if(ge>=w)break;if(P=Dn(y.slice(ge,w),!0),M=P.r!=null?parseInt(P.r,10):M+1,R=-1,!(d.sheetRows&&d.sheetRows<M)){p.s.r>M-1&&(p.s.r=M-1),p.e.r<M-1&&(p.e.r=M-1),d&&d.cellStyles&&(ke={},ne=!1,P.ht&&(ne=!0,ke.hpt=parseFloat(P.ht),ke.hpx=lx(ke.hpt)),P.hidden=="1"&&(ne=!0,ke.hidden=!0),P.outlineLevel!=null&&(ne=!0,ke.level=+P.outlineLevel),ne&&(oe[M-1]=ke)),S=y.slice(w).split(t);for(var Pe=0;Pe!=S.length&&S[Pe].trim().charAt(0)=="<";++Pe);for(S=S.slice(Pe),w=0;w!=S.length;++w)if(y=S[w].trim(),y.length!==0){if(C=y.match(n),F=w,I=0,D=0,y="<c "+(y.slice(0,1)=="<"?">":"")+y,C!=null&&C.length===2){for(F=0,z=C[1],I=0;I!=z.length&&!((D=z.charCodeAt(I)-64)<1||D>26);++I)F=26*F+D;--F,R=F}else++R;for(I=0;I!=y.length&&y.charCodeAt(I)!==62;++I);if(++I,P=Dn(y.slice(0,I),!0),P.r||(P.r=Hn({r:M-1,c:R})),z=y.slice(I),G={t:""},(C=z.match(i))!=null&&C[1]!==""&&(G.v=Ir(C[1])),d.cellFormula){if((C=z.match(a))!=null&&C[1]!==""){if(G.f=Ir(cs(C[1])).replace(/\r\n/g,`
`),d.xlfn||(G.f=G8(G.f)),C[0].indexOf('t="array"')>-1)G.F=(z.match(s)||[])[1],G.F.indexOf(":")>-1&&ae.push([Ws(G.F),G.F]);else if(C[0].indexOf('t="shared"')>-1){L=Dn(C[0]);var ee=Ir(cs(C[1]));d.xlfn||(ee=G8(ee)),pe[parseInt(L.si,10)]=[L,ee,P.r]}}else(C=z.match(/<f[^>]*\/>/))&&(L=Dn(C[0]),pe[L.si]&&(G.f=pEe(pe[L.si][1],pe[L.si][2],P.r)));var Re=Ya(P.r);for(I=0;I<ae.length;++I)Re.r>=ae[I][0].s.r&&Re.r<=ae[I][0].e.r&&Re.c>=ae[I][0].s.c&&Re.c<=ae[I][0].e.c&&(G.F=ae[I][1])}if(P.t==null&&G.v===void 0)if(G.f||G.F)G.v=0,G.t="n";else if(B)G.t="z";else continue;else G.t=P.t||"n";switch(p.s.c>R&&(p.s.c=R),p.e.c<R&&(p.e.c=R),G.t){case"n":if(G.v==""||G.v==null){if(!B)continue;G.t="z"}else G.v=parseFloat(G.v);break;case"s":if(typeof G.v>"u"){if(!B)continue;G.t="z"}else U=S1[parseInt(G.v,10)],G.v=U.t,G.r=U.r,d.cellHTML&&(G.h=U.h);break;case"str":G.t="s",G.v=G.v!=null?cs(G.v):"",d.cellHTML&&(G.h=zC(G.v));break;case"inlineStr":C=z.match(r),G.t="s",C!=null&&(U=eN(C[1]))?(G.v=U.t,d.cellHTML&&(G.h=U.h)):G.v="";break;case"b":G.v=As(G.v);break;case"d":d.cellDates?G.v=Yi(G.v,1):(G.v=Qa(Yi(G.v,1)),G.t="n");break;case"e":(!d||d.cellText!==!1)&&(G.w=G.v),G.v=Uq[G.v];break}if(O=j=0,Ee=null,ie&&P.s!==void 0&&(Ee=x.CellXf[P.s],Ee!=null&&(Ee.numFmtId!=null&&(O=Ee.numFmtId),d.cellStyles&&Ee.fillId!=null&&(j=Ee.fillId))),vH(G,O,j,d,g,x),d.cellDates&&ie&&G.t=="n"&&qm(Kn[O])&&(G.t="d",G.v=lw(G.v)),P.cm&&d.xlmeta){var He=(d.xlmeta.Cell||[])[+P.cm-1];He&&He.type=="XLDAPR"&&(G.D=!0)}if(de){var he=Ya(P.r);u[he.r]||(u[he.r]=[]),u[he.r][he.c]=G}else u[P.r]=G}}}}oe.length>0&&(u["!rows"]=oe)}})();function sTe(t,e){var n={},r=t.l+e;n.r=t.read_shift(4),t.l+=4;var s=t.read_shift(2);t.l+=1;var i=t.read_shift(1);return t.l=r,i&7&&(n.level=i&7),i&16&&(n.hidden=!0),i&32&&(n.hpt=s/20),n}var iTe=h0;function aTe(){}function oTe(t,e){var n={},r=t[t.l];return++t.l,n.above=!(r&64),n.left=!(r&128),t.l+=18,n.name=I2e(t),n}function lTe(t){var e=kl(t);return[e]}function cTe(t){var e=d0(t);return[e]}function uTe(t){var e=kl(t),n=t.read_shift(1);return[e,n,"b"]}function fTe(t){var e=d0(t),n=t.read_shift(1);return[e,n,"b"]}function dTe(t){var e=kl(t),n=t.read_shift(1);return[e,n,"e"]}function hTe(t){var e=d0(t),n=t.read_shift(1);return[e,n,"e"]}function pTe(t){var e=kl(t),n=t.read_shift(4);return[e,n,"s"]}function mTe(t){var e=d0(t),n=t.read_shift(4);return[e,n,"s"]}function gTe(t){var e=kl(t),n=Ia(t);return[e,n,"n"]}function bH(t){var e=d0(t),n=Ia(t);return[e,n,"n"]}function xTe(t){var e=kl(t),n=JC(t);return[e,n,"n"]}function vTe(t){var e=d0(t),n=JC(t);return[e,n,"n"]}function yTe(t){var e=kl(t),n=YC(t);return[e,n,"is"]}function bTe(t){var e=kl(t),n=Ma(t);return[e,n,"str"]}function wTe(t){var e=d0(t),n=Ma(t);return[e,n,"str"]}function _Te(t,e,n){var r=t.l+e,s=kl(t);s.r=n["!row"];var i=t.read_shift(1),a=[s,i,"b"];if(n.cellFormula){t.l+=2;var o=fw(t,r-t.l,n);a[3]=Ca(o,null,s,n.supbooks,n)}else t.l=r;return a}function ETe(t,e,n){var r=t.l+e,s=kl(t);s.r=n["!row"];var i=t.read_shift(1),a=[s,i,"e"];if(n.cellFormula){t.l+=2;var o=fw(t,r-t.l,n);a[3]=Ca(o,null,s,n.supbooks,n)}else t.l=r;return a}function TTe(t,e,n){var r=t.l+e,s=kl(t);s.r=n["!row"];var i=Ia(t),a=[s,i,"n"];if(n.cellFormula){t.l+=2;var o=fw(t,r-t.l,n);a[3]=Ca(o,null,s,n.supbooks,n)}else t.l=r;return a}function STe(t,e,n){var r=t.l+e,s=kl(t);s.r=n["!row"];var i=Ma(t),a=[s,i,"str"];if(n.cellFormula){t.l+=2;var o=fw(t,r-t.l,n);a[3]=Ca(o,null,s,n.supbooks,n)}else t.l=r;return a}var ATe=h0;function CTe(t,e){var n=t.l+e,r=h0(t),s=XC(t),i=Ma(t),a=Ma(t),o=Ma(t);t.l=n;var c={rfx:r,relId:s,loc:i,display:o};return a&&(c.Tooltip=a),c}function NTe(){}function ITe(t,e,n){var r=t.l+e,s=Oq(t),i=t.read_shift(1),a=[s];if(a[2]=i,n.cellFormula){var o=M5e(t,r-t.l,n);a[1]=o}else t.l=r;return a}function kTe(t,e,n){var r=t.l+e,s=h0(t),i=[s];if(n.cellFormula){var a=F5e(t,r-t.l,n);i[1]=a,t.l=r}else t.l=r;return i}var RTe=["left","right","top","bottom","header","footer"];function PTe(t){var e={};return RTe.forEach(function(n){e[n]=Ia(t)}),e}function DTe(t){var e=t.read_shift(2);return t.l+=28,{RTL:e&32}}function MTe(){}function LTe(){}function FTe(t,e,n,r,s,i,a){if(!t)return t;var o=e||{};r||(r={"!id":{}});var c=o.dense?[]:{},u,d={s:{r:2e6,c:2e6},e:{r:0,c:0}},p=!1,g=!1,x,w,y,S,C,F,I,D,z,G=[];o.biff=12,o["!row"]=0;var P=0,M=!1,R=[],U={},L=o.supbooks||s.supbooks||[[]];if(L.sharedf=U,L.arrayf=R,L.SheetNames=s.SheetNames||s.Sheets.map(function(de){return de.name}),!o.supbooks&&(o.supbooks=L,s.Names))for(var O=0;O<s.Names.length;++O)L[0][O+1]=s.Names[O];var j=[],ie=[],Ee=!1;fb[16]={n:"BrtShortReal",f:bH};var ae;if(pf(t,function(oe,ke,ne){if(!g)switch(ne){case 148:u=oe;break;case 0:x=oe,o.sheetRows&&o.sheetRows<=x.r&&(g=!0),D=ha(S=x.r),o["!row"]=x.r,(oe.hidden||oe.hpt||oe.level!=null)&&(oe.hpt&&(oe.hpx=lx(oe.hpt)),ie[oe.r]=oe);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(w={t:oe[2]},oe[2]){case"n":w.v=oe[1];break;case"s":I=S1[oe[1]],w.v=I.t,w.r=I.r;break;case"b":w.v=!!oe[1];break;case"e":w.v=oe[1],o.cellText!==!1&&(w.w=p0[w.v]);break;case"str":w.t="s",w.v=oe[1];break;case"is":w.t="s",w.v=oe[1].t;break}if((y=a.CellXf[oe[0].iStyleRef])&&vH(w,y.numFmtId,null,o,i,a),C=oe[0].c==-1?C+1:oe[0].c,o.dense?(c[S]||(c[S]=[]),c[S][C]=w):c[Ri(C)+D]=w,o.cellFormula){for(M=!1,P=0;P<R.length;++P){var B=R[P];x.r>=B[0].s.r&&x.r<=B[0].e.r&&C>=B[0].s.c&&C<=B[0].e.c&&(w.F=Sr(B[0]),M=!0)}!M&&oe.length>3&&(w.f=oe[3])}if(d.s.r>x.r&&(d.s.r=x.r),d.s.c>C&&(d.s.c=C),d.e.r<x.r&&(d.e.r=x.r),d.e.c<C&&(d.e.c=C),o.cellDates&&y&&w.t=="n"&&qm(Kn[y.numFmtId])){var K=wh(w.v);K&&(w.t="d",w.v=new Date(K.y,K.m-1,K.d,K.H,K.M,K.S,K.u))}ae&&(ae.type=="XLDAPR"&&(w.D=!0),ae=void 0);break;case 1:case 12:if(!o.sheetStubs||p)break;w={t:"z",v:void 0},C=oe[0].c==-1?C+1:oe[0].c,o.dense?(c[S]||(c[S]=[]),c[S][C]=w):c[Ri(C)+D]=w,d.s.r>x.r&&(d.s.r=x.r),d.s.c>C&&(d.s.c=C),d.e.r<x.r&&(d.e.r=x.r),d.e.c<C&&(d.e.c=C),ae&&(ae.type=="XLDAPR"&&(w.D=!0),ae=void 0);break;case 176:G.push(oe);break;case 49:ae=((o.xlmeta||{}).Cell||[])[oe-1];break;case 494:var Y=r["!id"][oe.relId];for(Y?(oe.Target=Y.Target,oe.loc&&(oe.Target+="#"+oe.loc),oe.Rel=Y):oe.relId==""&&(oe.Target="#"+oe.loc),S=oe.rfx.s.r;S<=oe.rfx.e.r;++S)for(C=oe.rfx.s.c;C<=oe.rfx.e.c;++C)o.dense?(c[S]||(c[S]=[]),c[S][C]||(c[S][C]={t:"z",v:void 0}),c[S][C].l=oe):(F=Hn({c:C,r:S}),c[F]||(c[F]={t:"z",v:void 0}),c[F].l=oe);break;case 426:if(!o.cellFormula)break;R.push(oe),z=o.dense?c[S][C]:c[Ri(C)+D],z.f=Ca(oe[1],d,{r:x.r,c:C},L,o),z.F=Sr(oe[0]);break;case 427:if(!o.cellFormula)break;U[Hn(oe[0].s)]=oe[1],z=o.dense?c[S][C]:c[Ri(C)+D],z.f=Ca(oe[1],d,{r:x.r,c:C},L,o);break;case 60:if(!o.cellStyles)break;for(;oe.e>=oe.s;)j[oe.e--]={width:oe.w/256,hidden:!!(oe.flags&1),level:oe.level},Ee||(Ee=!0,tN(oe.w/256)),wm(j[oe.e+1]);break;case 161:c["!autofilter"]={ref:Sr(oe)};break;case 476:c["!margins"]=oe;break;case 147:s.Sheets[n]||(s.Sheets[n]={}),oe.name&&(s.Sheets[n].CodeName=oe.name),(oe.above||oe.left)&&(c["!outline"]={above:oe.above,left:oe.left});break;case 137:s.Views||(s.Views=[{}]),s.Views[0]||(s.Views[0]={}),oe.RTL&&(s.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:p=!0;break;case 36:p=!1;break;case 37:p=!0;break;case 38:p=!1;break;default:if(!ke.T){if(!p||o.WTF)throw new Error("Unexpected record 0x"+ne.toString(16))}}},o),delete o.supbooks,delete o["!row"],!c["!ref"]&&(d.s.r<2e6||u&&(u.e.r>0||u.e.c>0||u.s.r>0||u.s.c>0))&&(c["!ref"]=Sr(u||d)),o.sheetRows&&c["!ref"]){var pe=Ws(c["!ref"]);o.sheetRows<=+pe.e.r&&(pe.e.r=o.sheetRows-1,pe.e.r>d.e.r&&(pe.e.r=d.e.r),pe.e.r<pe.s.r&&(pe.s.r=pe.e.r),pe.e.c>d.e.c&&(pe.e.c=d.e.c),pe.e.c<pe.s.c&&(pe.s.c=pe.e.c),c["!fullref"]=c["!ref"],c["!ref"]=Sr(pe))}return G.length>0&&(c["!merges"]=G),j.length>0&&(c["!cols"]=j),ie.length>0&&(c["!rows"]=ie),c}function OTe(t){var e=[],n=t.match(/^<c:numCache>/),r;(t.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(i){var a=i.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);a&&(e[+a[1]]=n?+a[2]:a[2])});var s=Ir((t.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(t.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(i){r=i.replace(/<.*?>/g,"")}),[e,s,r]}function BTe(t,e,n,r,s,i){var a=i||{"!type":"chart"};if(!t)return i;var o=0,c=0,u="A",d={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(t.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(p){var g=OTe(p);d.s.r=d.s.c=0,d.e.c=o,u=Ri(o),g[0].forEach(function(x,w){a[u+ha(w)]={t:"n",v:x,z:g[1]},c=w}),d.e.r<c&&(d.e.r=c),++o}),o>0&&(a["!ref"]=Sr(d)),a}function VTe(t,e,n,r,s){if(!t)return t;r||(r={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},a,o=t.match(yH);return o&&rN(o[0],i,s,n),(a=t.match(/drawing r:id="(.*?)"/))&&(i["!rel"]=a[1]),r["!id"][i["!rel"]]&&(i["!drawel"]=r["!id"][i["!rel"]]),i}function UTe(t,e){t.l+=10;var n=Ma(t);return{name:n}}function jTe(t,e,n,r,s){if(!t)return t;r||(r={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},a=!1;return pf(t,function(c,u,d){switch(d){case 550:i["!rel"]=c;break;case 651:s.Sheets[n]||(s.Sheets[n]={}),c.name&&(s.Sheets[n].CodeName=c.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:a=!0;break;case 36:a=!1;break;case 37:break;case 38:break;default:if(!(u.T>0)){if(!(u.T<0)){if(!a||e.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}}},e),r["!id"][i["!rel"]]&&(i["!drawel"]=r["!id"][i["!rel"]]),i}var wH=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],qTe=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],HTe=[],zTe=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function X8(t,e){for(var n=0;n!=t.length;++n)for(var r=t[n],s=0;s!=e.length;++s){var i=e[s];if(r[i[0]]==null)r[i[0]]=i[1];else switch(i[2]){case"bool":typeof r[i[0]]=="string"&&(r[i[0]]=As(r[i[0]]));break;case"int":typeof r[i[0]]=="string"&&(r[i[0]]=parseInt(r[i[0]],10));break}}}function J8(t,e){for(var n=0;n!=e.length;++n){var r=e[n];if(t[r[0]]==null)t[r[0]]=r[1];else switch(r[2]){case"bool":typeof t[r[0]]=="string"&&(t[r[0]]=As(t[r[0]]));break;case"int":typeof t[r[0]]=="string"&&(t[r[0]]=parseInt(t[r[0]],10));break}}}function _H(t){J8(t.WBProps,wH),J8(t.CalcPr,zTe),X8(t.WBView,qTe),X8(t.Sheets,HTe),Zp.date1904=As(t.WBProps.date1904)}var GTe="][*?/\\".split("");function $Te(t,e){if(t.length>31)throw new Error("Sheet names cannot exceed 31 chars");var n=!0;return GTe.forEach(function(r){if(t.indexOf(r)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),n}var WTe=/<\w+:workbook/;function KTe(t,e){if(!t)throw new Error("Could not find file");var n={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},r=!1,s="xmlns",i={},a=0;if(t.replace(Fa,function(c,u){var d=Dn(c);switch(uu(d[0])){case"<?xml":break;case"<workbook":c.match(WTe)&&(s="xmlns"+c.match(/<(\w+):/)[1]),n.xmlns=d[s];break;case"</workbook>":break;case"<fileVersion":delete d[0],n.AppVersion=d;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":wH.forEach(function(p){if(d[p[0]]!=null)switch(p[2]){case"bool":n.WBProps[p[0]]=As(d[p[0]]);break;case"int":n.WBProps[p[0]]=parseInt(d[p[0]],10);break;default:n.WBProps[p[0]]=d[p[0]]}}),d.codeName&&(n.WBProps.CodeName=cs(d.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete d[0],n.WBView.push(d);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(d.state){case"hidden":d.Hidden=1;break;case"veryHidden":d.Hidden=2;break;default:d.Hidden=0}delete d.state,d.name=Ir(cs(d.name)),delete d[0],n.Sheets.push(d);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":r=!0;break;case"</definedNames>":r=!1;break;case"<definedName":i={},i.Name=cs(d.name),d.comment&&(i.Comment=d.comment),d.localSheetId&&(i.Sheet=+d.localSheetId),As(d.hidden||"0")&&(i.Hidden=!0),a=u+c.length;break;case"</definedName>":i.Ref=Ir(cs(t.slice(a,u))),n.Names.push(i);break;case"<definedName/>":break;case"<calcPr":delete d[0],n.CalcPr=d;break;case"<calcPr/>":delete d[0],n.CalcPr=d;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":r=!0;break;case"</AlternateContent>":r=!1;break;case"<revisionPtr":break;default:if(!r&&e.WTF)throw new Error("unrecognized "+d[0]+" in workbook")}return c}),d2e.indexOf(n.xmlns)===-1)throw new Error("Unknown Namespace: "+n.xmlns);return _H(n),n}function YTe(t,e){var n={};return n.Hidden=t.read_shift(4),n.iTabID=t.read_shift(4),n.strRelID=oS(t),n.name=Ma(t),n}function XTe(t,e){var n={},r=t.read_shift(4);n.defaultThemeVersion=t.read_shift(4);var s=e>8?Ma(t):"";return s.length>0&&(n.CodeName=s),n.autoCompressPictures=!!(r&65536),n.backupFile=!!(r&64),n.checkCompatibility=!!(r&4096),n.date1904=!!(r&1),n.filterPrivacy=!!(r&8),n.hidePivotFieldList=!!(r&1024),n.promptedSolutions=!!(r&16),n.publishItems=!!(r&2048),n.refreshAllConnections=!!(r&262144),n.saveExternalLinkValues=!!(r&128),n.showBorderUnselectedTables=!!(r&4),n.showInkAnnotation=!!(r&32),n.showObjects=["all","placeholders","none"][r>>13&3],n.showPivotChartFilter=!!(r&32768),n.updateLinks=["userSet","never","always"][r>>8&3],n}function JTe(t,e){var n={};return t.read_shift(4),n.ArchID=t.read_shift(4),t.l+=e-8,n}function QTe(t,e,n){var r=t.l+e;t.l+=4,t.l+=1;var s=t.read_shift(4),i=k2e(t),a=L5e(t,0,n),o=XC(t);t.l=r;var c={Name:i,Ptg:a};return s<268435455&&(c.Sheet=s),o&&(c.Comment=o),c}function ZTe(t,e){var n={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},r=[],s=!1;e||(e={}),e.biff=12;var i=[],a=[[]];return a.SheetNames=[],a.XTI=[],fb[16]={n:"BrtFRTArchID$",f:JTe},pf(t,function(c,u,d){switch(d){case 156:a.SheetNames.push(c.name),n.Sheets.push(c);break;case 153:n.WBProps=c;break;case 39:c.Sheet!=null&&(e.SID=c.Sheet),c.Ref=Ca(c.Ptg,null,null,a,e),delete e.SID,delete c.Ptg,i.push(c);break;case 1036:break;case 357:case 358:case 355:case 667:a[0].length?a.push([d,c]):a[0]=[d,c],a[a.length-1].XTI=[];break;case 362:a.length===0&&(a[0]=[],a[0].XTI=[]),a[a.length-1].XTI=a[a.length-1].XTI.concat(c),a.XTI=a.XTI.concat(c);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:r.push(d),s=!0;break;case 36:r.pop(),s=!1;break;case 37:r.push(d),s=!0;break;case 38:r.pop(),s=!1;break;case 16:break;default:if(!u.T){if(!s||e.WTF&&r[r.length-1]!=37&&r[r.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}},e),_H(n),n.Names=i,n.supbooks=a,n}function eSe(t,e,n){return e.slice(-4)===".bin"?ZTe(t,n):KTe(t,n)}function tSe(t,e,n,r,s,i,a,o){return e.slice(-4)===".bin"?FTe(t,r,n,s,i,a,o):Y5e(t,r,n,s,i,a,o)}function nSe(t,e,n,r,s,i,a,o){return e.slice(-4)===".bin"?jTe(t,r,n,s,i):VTe(t,r,n,s,i)}function rSe(t,e,n,r,s,i,a,o){return e.slice(-4)===".bin"?fEe():dEe()}function sSe(t,e,n,r,s,i,a,o){return e.slice(-4)===".bin"?cEe():uEe()}function iSe(t,e,n,r){return e.slice(-4)===".bin"?A_e(t,n,r):b_e(t,n,r)}function aSe(t,e,n){return lH(t,n)}function oSe(t,e,n){return e.slice(-4)===".bin"?qwe(t,n):Uwe(t,n)}function lSe(t,e,n){return e.slice(-4)===".bin"?aEe(t,n):tEe(t,n)}function cSe(t,e,n){return e.slice(-4)===".bin"?Q_e(t):X_e(t)}function uSe(t,e,n,r){return n.slice(-4)===".bin"?Z_e(t,e,n,r):void 0}function fSe(t,e,n){return e.slice(-4)===".bin"?K_e(t,e,n):Y_e(t,e,n)}var EH=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,TH=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function Zl(t,e){var n=t.split(/\s+/),r=[];if(r[0]=n[0],n.length===1)return r;var s=t.match(EH),i,a,o,c;if(s)for(c=0;c!=s.length;++c)i=s[c].match(TH),(a=i[1].indexOf(":"))===-1?r[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?o="xmlns"+i[1].slice(6):o=i[1].slice(a+1),r[o]=i[2].slice(1,i[2].length-1));return r}function dSe(t){var e=t.split(/\s+/),n={};if(e.length===1)return n;var r=t.match(EH),s,i,a,o;if(r)for(o=0;o!=r.length;++o)s=r[o].match(TH),(i=s[1].indexOf(":"))===-1?n[s[1]]=s[2].slice(1,s[2].length-1):(s[1].slice(0,6)==="xmlns:"?a="xmlns"+s[1].slice(6):a=s[1].slice(i+1),n[a]=s[2].slice(1,s[2].length-1));return n}var C1;function hSe(t,e){var n=C1[t]||Ir(t);return n==="General"?Yh(e):Il(n,e)}function pSe(t,e,n,r){var s=r;switch((n[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":s=As(r);break;case"i2":case"int":s=parseInt(r,10);break;case"r4":case"float":s=parseFloat(r);break;case"date":case"dateTime.tz":s=Yi(r);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+n[0])}t[Ir(e)]=s}function mSe(t,e,n){if(t.t!=="z"){if(!n||n.cellText!==!1)try{t.t==="e"?t.w=t.w||p0[t.v]:e==="General"?t.t==="n"?(t.v|0)===t.v?t.w=t.v.toString(10):t.w=rx(t.v):t.w=Yh(t.v):t.w=hSe(e||"General",t.v)}catch(i){if(n.WTF)throw i}try{var r=C1[e]||e||"General";if(n.cellNF&&(t.z=r),n.cellDates&&t.t=="n"&&qm(r)){var s=wh(t.v);s&&(t.t="d",t.v=new Date(s.y,s.m-1,s.d,s.H,s.M,s.S,s.u))}}catch(i){if(n.WTF)throw i}}}function gSe(t,e,n){if(n.cellStyles&&e.Interior){var r=e.Interior;r.Pattern&&(r.patternType=p_e[r.Pattern]||r.Pattern)}t[e.ID]=e}function xSe(t,e,n,r,s,i,a,o,c,u){var d="General",p=r.StyleID,g={};u=u||{};var x=[],w=0;for(p===void 0&&o&&(p=o.StyleID),p===void 0&&a&&(p=a.StyleID);i[p]!==void 0&&(i[p].nf&&(d=i[p].nf),i[p].Interior&&x.push(i[p].Interior),!!i[p].Parent);)p=i[p].Parent;switch(n.Type){case"Boolean":r.t="b",r.v=As(t);break;case"String":r.t="s",r.r=y8(Ir(t)),r.v=t.indexOf("<")>-1?Ir(e||t).replace(/<.*?>/g,""):r.r;break;case"DateTime":t.slice(-1)!="Z"&&(t+="Z"),r.v=(Yi(t)-new Date(Date.UTC(1899,11,30)))/(1440*60*1e3),r.v!==r.v?r.v=Ir(t):r.v<60&&(r.v=r.v-1),(!d||d=="General")&&(d="yyyy-mm-dd");case"Number":r.v===void 0&&(r.v=+t),r.t||(r.t="n");break;case"Error":r.t="e",r.v=Uq[t],u.cellText!==!1&&(r.w=t);break;default:t==""&&e==""?r.t="z":(r.t="s",r.v=y8(e||t));break}if(mSe(r,d,u),u.cellFormula!==!1)if(r.Formula){var y=Ir(r.Formula);y.charCodeAt(0)==61&&(y=y.slice(1)),r.f=Qp(y,s),delete r.Formula,r.ArrayRange=="RC"?r.F=Qp("RC:RC",s):r.ArrayRange&&(r.F=Qp(r.ArrayRange,s),c.push([Ws(r.F),r.F]))}else for(w=0;w<c.length;++w)s.r>=c[w][0].s.r&&s.r<=c[w][0].e.r&&s.c>=c[w][0].s.c&&s.c<=c[w][0].e.c&&(r.F=c[w][1]);u.cellStyles&&(x.forEach(function(S){!g.patternType&&S.patternType&&(g.patternType=S.patternType)}),r.s=g),r.StyleID!==void 0&&(r.ixfe=r.StyleID)}function vSe(t){t.t=t.v||"",t.t=t.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.v=t.w=t.ixfe=void 0}function v5(t,e){var n=e||{};dq();var r=Jg(GC(t));(n.type=="binary"||n.type=="array"||n.type=="base64")&&(r=cs(r));var s=r.slice(0,1024).toLowerCase(),i=!1;if(s=s.replace(/".*?"/g,""),(s.indexOf(">")&1023)>Math.min(s.indexOf(",")&1023,s.indexOf(";")&1023)){var a=da(n);return a.type="string",ax.to_workbook(r,a)}if(s.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(Et){s.indexOf("<"+Et)>=0&&(i=!0)}),i)return CSe(r,n);C1={"General Number":"General","General Date":Kn[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":Kn[15],"Short Date":Kn[14],"Long Time":Kn[19],"Medium Time":Kn[18],"Short Time":Kn[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:Kn[2],Standard:Kn[4],Percent:Kn[10],Scientific:Kn[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var o,c=[],u,d={},p=[],g=n.dense?[]:{},x="",w={},y={},S=Zl('<Data ss:Type="String">'),C=0,F=0,I=0,D={s:{r:2e6,c:2e6},e:{r:0,c:0}},z={},G={},P="",M=0,R=[],U={},L={},O=0,j=[],ie=[],Ee={},ae=[],pe,de=!1,oe=[],ke=[],ne={},B=0,K=0,Y={Sheets:[],WBProps:{date1904:!1}},Q={};ix.lastIndex=0,r=r.replace(/<!--([\s\S]*?)-->/mg,"");for(var ue="";o=ix.exec(r);)switch(o[3]=(ue=o[3]).toLowerCase()){case"data":if(ue=="data"){if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&c.push([o[3],!0]);break}if(c[c.length-1][1])break;o[1]==="/"?xSe(r.slice(C,o.index),P,S,c[c.length-1][0]=="comment"?Ee:w,{c:F,r:I},z,ae[F],y,oe,n):(P="",S=Zl(o[0]),C=o.index+o[0].length);break;case"cell":if(o[1]==="/")if(ie.length>0&&(w.c=ie),(!n.sheetRows||n.sheetRows>I)&&w.v!==void 0&&(n.dense?(g[I]||(g[I]=[]),g[I][F]=w):g[Ri(F)+ha(I)]=w),w.HRef&&(w.l={Target:Ir(w.HRef)},w.HRefScreenTip&&(w.l.Tooltip=w.HRefScreenTip),delete w.HRef,delete w.HRefScreenTip),(w.MergeAcross||w.MergeDown)&&(B=F+(parseInt(w.MergeAcross,10)|0),K=I+(parseInt(w.MergeDown,10)|0),R.push({s:{c:F,r:I},e:{c:B,r:K}})),!n.sheetStubs)w.MergeAcross?F=B+1:++F;else if(w.MergeAcross||w.MergeDown){for(var ge=F;ge<=B;++ge)for(var Pe=I;Pe<=K;++Pe)(ge>F||Pe>I)&&(n.dense?(g[Pe]||(g[Pe]=[]),g[Pe][ge]={t:"z"}):g[Ri(ge)+ha(Pe)]={t:"z"});F=B+1}else++F;else w=dSe(o[0]),w.Index&&(F=+w.Index-1),F<D.s.c&&(D.s.c=F),F>D.e.c&&(D.e.c=F),o[0].slice(-2)==="/>"&&++F,ie=[];break;case"row":o[1]==="/"||o[0].slice(-2)==="/>"?(I<D.s.r&&(D.s.r=I),I>D.e.r&&(D.e.r=I),o[0].slice(-2)==="/>"&&(y=Zl(o[0]),y.Index&&(I=+y.Index-1)),F=0,++I):(y=Zl(o[0]),y.Index&&(I=+y.Index-1),ne={},(y.AutoFitHeight=="0"||y.Height)&&(ne.hpx=parseInt(y.Height,10),ne.hpt=oH(ne.hpx),ke[I]=ne),y.Hidden=="1"&&(ne.hidden=!0,ke[I]=ne));break;case"worksheet":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"));p.push(x),D.s.r<=D.e.r&&D.s.c<=D.e.c&&(g["!ref"]=Sr(D),n.sheetRows&&n.sheetRows<=D.e.r&&(g["!fullref"]=g["!ref"],D.e.r=n.sheetRows-1,g["!ref"]=Sr(D))),R.length&&(g["!merges"]=R),ae.length>0&&(g["!cols"]=ae),ke.length>0&&(g["!rows"]=ke),d[x]=g}else D={s:{r:2e6,c:2e6},e:{r:0,c:0}},I=F=0,c.push([o[3],!1]),u=Zl(o[0]),x=Ir(u.Name),g=n.dense?[]:{},R=[],oe=[],ke=[],Q={name:x,Hidden:0},Y.Sheets.push(Q);break;case"table":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else{if(o[0].slice(-2)=="/>")break;c.push([o[3],!1]),ae=[],de=!1}break;case"style":o[1]==="/"?gSe(z,G,n):G=Zl(o[0]);break;case"numberformat":G.nf=Ir(Zl(o[0]).Format||"General"),C1[G.nf]&&(G.nf=C1[G.nf]);for(var ee=0;ee!=392&&Kn[ee]!=G.nf;++ee);if(ee==392){for(ee=57;ee!=392;++ee)if(Kn[ee]==null){kh(G.nf,ee);break}}break;case"column":if(c[c.length-1][0]!=="table")break;if(pe=Zl(o[0]),pe.Hidden&&(pe.hidden=!0,delete pe.Hidden),pe.Width&&(pe.wpx=parseInt(pe.Width,10)),!de&&pe.wpx>10){de=!0,$a=iH;for(var Re=0;Re<ae.length;++Re)ae[Re]&&wm(ae[Re])}de&&wm(pe),ae[pe.Index-1||ae.length]=pe;for(var He=0;He<+pe.Span;++He)ae[ae.length]=da(pe);break;case"namedrange":if(o[1]==="/")break;Y.Names||(Y.Names=[]);var he=Dn(o[0]),Se={Name:he.Name,Ref:Qp(he.RefersTo.slice(1),{r:0,c:0})};Y.Sheets.length>0&&(Se.Sheet=Y.Sheets.length-1),Y.Names.push(Se);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(o[0].slice(-2)==="/>")break;o[1]==="/"?P+=r.slice(M,o.index):M=o.index+o[0].length;break;case"interior":if(!n.cellStyles)break;G.Interior=Zl(o[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(o[0].slice(-2)==="/>")break;o[1]==="/"?tbe(U,ue,r.slice(O,o.index)):O=o.index+o[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else c.push([o[3],!1]);break;case"comment":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"));vSe(Ee),ie.push(Ee)}else c.push([o[3],!1]),u=Zl(o[0]),Ee={a:u.Author};break;case"autofilter":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else if(o[0].charAt(o[0].length-2)!=="/"){var We=Zl(o[0]);g["!autofilter"]={ref:Qp(We.Range).replace(/\$/g,"")},c.push([o[3],!0])}break;case"name":break;case"datavalidation":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&c.push([o[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&c.push([o[3],!0]);break;case"null":break;default:if(c.length==0&&o[3]=="document"||c.length==0&&o[3]=="uof")return rL(r,n);var le=!0;switch(c[c.length-1][0]){case"officedocumentsettings":switch(o[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:le=!1}break;case"componentoptions":switch(o[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:le=!1}break;case"excelworkbook":switch(o[3]){case"date1904":Y.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:le=!1}break;case"workbookoptions":switch(o[3]){case"owcversion":break;case"height":break;case"width":break;default:le=!1}break;case"worksheetoptions":switch(o[3]){case"visible":if(o[0].slice(-2)!=="/>")if(o[1]==="/")switch(r.slice(O,o.index)){case"SheetHidden":Q.Hidden=1;break;case"SheetVeryHidden":Q.Hidden=2;break}else O=o.index+o[0].length;break;case"header":g["!margins"]||A1(g["!margins"]={},"xlml"),isNaN(+Dn(o[0]).Margin)||(g["!margins"].header=+Dn(o[0]).Margin);break;case"footer":g["!margins"]||A1(g["!margins"]={},"xlml"),isNaN(+Dn(o[0]).Margin)||(g["!margins"].footer=+Dn(o[0]).Margin);break;case"pagemargins":var Ge=Dn(o[0]);g["!margins"]||A1(g["!margins"]={},"xlml"),isNaN(+Ge.Top)||(g["!margins"].top=+Ge.Top),isNaN(+Ge.Left)||(g["!margins"].left=+Ge.Left),isNaN(+Ge.Right)||(g["!margins"].right=+Ge.Right),isNaN(+Ge.Bottom)||(g["!margins"].bottom=+Ge.Bottom);break;case"displayrighttoleft":Y.Views||(Y.Views=[]),Y.Views[0]||(Y.Views[0]={}),Y.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":g["!outline"]||(g["!outline"]={}),g["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":g["!outline"]||(g["!outline"]={}),g["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:le=!1}break;case"pivottable":case"pivotcache":switch(o[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:le=!1}break;case"pagebreaks":switch(o[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:le=!1}break;case"autofilter":switch(o[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:le=!1}break;case"querytable":switch(o[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:le=!1}break;case"datavalidation":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:le=!1}break;case"sorting":case"conditionalformatting":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:le=!1}break;case"mapinfo":case"schema":case"data":switch(o[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:le=!1}break;case"smarttags":break;default:le=!1;break}if(le||o[3].match(/!\[CDATA/))break;if(!c[c.length-1][1])throw"Unrecognized tag: "+o[3]+"|"+c.join("|");if(c[c.length-1][0]==="customdocumentproperties"){if(o[0].slice(-2)==="/>")break;o[1]==="/"?pSe(L,ue,j,r.slice(O,o.index)):(j=o,O=o.index+o[0].length);break}if(n.WTF)throw"Unrecognized tag: "+o[3]+"|"+c.join("|")}var st={};return!n.bookSheets&&!n.bookProps&&(st.Sheets=d),st.SheetNames=p,st.Workbook=Y,st.SSF=da(Kn),st.Props=U,st.Custprops=L,st}function fS(t,e){switch(aN(e=e||{}),e.type||"base64"){case"base64":return v5(Qo(t),e);case"binary":case"buffer":case"file":return v5(t,e);case"array":return v5(f0(t),e)}}function ySe(t){var e={},n=t.content;if(n.l=28,e.AnsiUserType=n.read_shift(0,"lpstr-ansi"),e.AnsiClipboardFormat=D2e(n),n.length-n.l<=4)return e;var r=n.read_shift(4);if(r==0||r>40||(n.l-=4,e.Reserved1=n.read_shift(0,"lpstr-ansi"),n.length-n.l<=4)||(r=n.read_shift(4),r!==1907505652)||(e.UnicodeClipboardFormat=M2e(n),r=n.read_shift(4),r==0||r>40))return e;n.l-=4,e.Reserved2=n.read_shift(0,"lpwstr")}var bSe=[60,1084,2066,2165,2175];function wSe(t,e,n,r,s){var i=r,a=[],o=n.slice(n.l,n.l+i);if(s&&s.enc&&s.enc.insitu&&o.length>0)switch(t){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:s.enc.insitu(o)}a.push(o),n.l+=i;for(var c=$u(n,n.l),u=dS[c],d=0;u!=null&&bSe.indexOf(c)>-1;)i=$u(n,n.l+2),d=n.l+4,c==2066?d+=4:(c==2165||c==2175)&&(d+=12),o=n.slice(d,n.l+4+i),a.push(o),n.l+=4+i,u=dS[c=$u(n,n.l)];var p=ad(a);ua(p,0);var g=0;p.lens=[];for(var x=0;x<a.length;++x)p.lens.push(g),g+=a[x].length;if(p.length<r)throw"XLS Record 0x"+t.toString(16)+" Truncated: "+p.length+" < "+r;return e.f(p,p.length,s)}function Oc(t,e,n){if(t.t!=="z"&&t.XF){var r=0;try{r=t.z||t.XF.numFmtId||0,e.cellNF&&(t.z=Kn[r])}catch(i){if(e.WTF)throw i}if(!e||e.cellText!==!1)try{t.t==="e"?t.w=t.w||p0[t.v]:r===0||r=="General"?t.t==="n"?(t.v|0)===t.v?t.w=t.v.toString(10):t.w=rx(t.v):t.w=Yh(t.v):t.w=Il(r,t.v,{date1904:!!n,dateNF:e&&e.dateNF})}catch(i){if(e.WTF)throw i}if(e.cellDates&&r&&t.t=="n"&&qm(Kn[r]||String(r))){var s=wh(t.v);s&&(t.t="d",t.v=new Date(s.y,s.m-1,s.d,s.H,s.M,s.S,s.u))}}}function Ty(t,e,n){return{v:t,ixfe:e,t:n}}function _Se(t,e){var n={opts:{}},r={},s=e.dense?[]:{},i={},a={},o=null,c=[],u="",d={},p,g="",x,w,y,S,C={},F=[],I,D,z=[],G=[],P={Sheets:[],WBProps:{date1904:!1},Views:[{}]},M={},R=function(kt){return kt<8?Rh[kt]:kt<64&&G[kt-8]||Rh[kt]},U=function(kt,At,zn){var Ot=At.XF.data;if(!(!Ot||!Ot.patternType||!zn||!zn.cellStyles)){At.s={},At.s.patternType=Ot.patternType;var Ct;(Ct=ox(R(Ot.icvFore)))&&(At.s.fgColor={rgb:Ct}),(Ct=ox(R(Ot.icvBack)))&&(At.s.bgColor={rgb:Ct})}},L=function(kt,At,zn){if(!(ne>1)&&!(zn.sheetRows&&kt.r>=zn.sheetRows)){if(zn.cellStyles&&At.XF&&At.XF.data&&U(kt,At,zn),delete At.ixfe,delete At.XF,p=kt,g=Hn(kt),(!a||!a.s||!a.e)&&(a={s:{r:0,c:0},e:{r:0,c:0}}),kt.r<a.s.r&&(a.s.r=kt.r),kt.c<a.s.c&&(a.s.c=kt.c),kt.r+1>a.e.r&&(a.e.r=kt.r+1),kt.c+1>a.e.c&&(a.e.c=kt.c+1),zn.cellFormula&&At.f){for(var Ot=0;Ot<F.length;++Ot)if(!(F[Ot][0].s.c>kt.c||F[Ot][0].s.r>kt.r)&&!(F[Ot][0].e.c<kt.c||F[Ot][0].e.r<kt.r)){At.F=Sr(F[Ot][0]),(F[Ot][0].s.c!=kt.c||F[Ot][0].s.r!=kt.r)&&delete At.f,At.f&&(At.f=""+Ca(F[Ot][1],a,kt,oe,O));break}}zn.dense?(s[kt.r]||(s[kt.r]=[]),s[kt.r][kt.c]=At):s[g]=At}},O={enc:!1,sbcch:0,snames:[],sharedf:C,arrayf:F,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!e&&!!e.cellStyles,WTF:!!e&&!!e.wtf};e.password&&(O.password=e.password);var j,ie=[],Ee=[],ae=[],pe=[],de=!1,oe=[];oe.SheetNames=O.snames,oe.sharedf=O.sharedf,oe.arrayf=O.arrayf,oe.names=[],oe.XTI=[];var ke=0,ne=0,B=0,K=[],Y=[],Q;O.codepage=1200,ac(1200);for(var ue=!1;t.l<t.length-1;){var ge=t.l,Pe=t.read_shift(2);if(Pe===0&&ke===10)break;var ee=t.l===t.length?0:t.read_shift(2),Re=dS[Pe];if(Re&&Re.f){if(e.bookSheets&&ke===133&&Pe!==133)break;if(ke=Pe,Re.r===2||Re.r==12){var He=t.read_shift(2);if(ee-=2,!O.enc&&He!==Pe&&((He&255)<<8|He>>8)!==Pe)throw new Error("rt mismatch: "+He+"!="+Pe);Re.r==12&&(t.l+=10,ee-=10)}var he={};if(Pe===10?he=Re.f(t,ee,O):he=wSe(Pe,Re,t,ee,O),ne==0&&[9,521,1033,2057].indexOf(ke)===-1)continue;switch(Pe){case 34:n.opts.Date1904=P.WBProps.date1904=he;break;case 134:n.opts.WriteProtect=!0;break;case 47:if(O.enc||(t.l=0),O.enc=he,!e.password)throw new Error("File is password-protected");if(he.valid==null)throw new Error("Encryption scheme unsupported");if(!he.valid)throw new Error("Password is incorrect");break;case 92:O.lastuser=he;break;case 66:var Se=Number(he);switch(Se){case 21010:Se=1200;break;case 32768:Se=1e4;break;case 32769:Se=1252;break}ac(O.codepage=Se),ue=!0;break;case 317:O.rrtabid=he;break;case 25:O.winlocked=he;break;case 439:n.opts.RefreshAll=he;break;case 12:n.opts.CalcCount=he;break;case 16:n.opts.CalcDelta=he;break;case 17:n.opts.CalcIter=he;break;case 13:n.opts.CalcMode=he;break;case 14:n.opts.CalcPrecision=he;break;case 95:n.opts.CalcSaveRecalc=he;break;case 15:O.CalcRefMode=he;break;case 2211:n.opts.FullCalc=he;break;case 129:he.fDialog&&(s["!type"]="dialog"),he.fBelow||((s["!outline"]||(s["!outline"]={})).above=!0),he.fRight||((s["!outline"]||(s["!outline"]={})).left=!0);break;case 224:z.push(he);break;case 430:oe.push([he]),oe[oe.length-1].XTI=[];break;case 35:case 547:oe[oe.length-1].push(he);break;case 24:case 536:Q={Name:he.Name,Ref:Ca(he.rgce,a,null,oe,O)},he.itab>0&&(Q.Sheet=he.itab-1),oe.names.push(Q),oe[0]||(oe[0]=[],oe[0].XTI=[]),oe[oe.length-1].push(he),he.Name=="_xlnm._FilterDatabase"&&he.itab>0&&he.rgce&&he.rgce[0]&&he.rgce[0][0]&&he.rgce[0][0][0]=="PtgArea3d"&&(Y[he.itab-1]={ref:Sr(he.rgce[0][0][1][2])});break;case 22:O.ExternCount=he;break;case 23:oe.length==0&&(oe[0]=[],oe[0].XTI=[]),oe[oe.length-1].XTI=oe[oe.length-1].XTI.concat(he),oe.XTI=oe.XTI.concat(he);break;case 2196:if(O.biff<8)break;Q!=null&&(Q.Comment=he[1]);break;case 18:s["!protect"]=he;break;case 19:he!==0&&O.WTF&&console.error("Password verifier: "+he);break;case 133:i[he.pos]=he,O.snames.push(he.name);break;case 10:{if(--ne)break;if(a.e){if(a.e.r>0&&a.e.c>0){if(a.e.r--,a.e.c--,s["!ref"]=Sr(a),e.sheetRows&&e.sheetRows<=a.e.r){var We=a.e.r;a.e.r=e.sheetRows-1,s["!fullref"]=s["!ref"],s["!ref"]=Sr(a),a.e.r=We}a.e.r++,a.e.c++}ie.length>0&&(s["!merges"]=ie),Ee.length>0&&(s["!objects"]=Ee),ae.length>0&&(s["!cols"]=ae),pe.length>0&&(s["!rows"]=pe),P.Sheets.push(M)}u===""?d=s:r[u]=s,s=e.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(O.biff===8&&(O.biff={9:2,521:3,1033:4}[Pe]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[he.BIFFVer]||8),O.biffguess=he.BIFFVer==0,he.BIFFVer==0&&he.dt==4096&&(O.biff=5,ue=!0,ac(O.codepage=28591)),O.biff==8&&he.BIFFVer==0&&he.dt==16&&(O.biff=2),ne++)break;if(s=e.dense?[]:{},O.biff<8&&!ue&&(ue=!0,ac(O.codepage=e.codepage||1252)),O.biff<5||he.BIFFVer==0&&he.dt==4096){u===""&&(u="Sheet1"),a={s:{r:0,c:0},e:{r:0,c:0}};var le={pos:t.l-ee,name:u};i[le.pos]=le,O.snames.push(u)}else u=(i[ge]||{name:""}).name;he.dt==32&&(s["!type"]="chart"),he.dt==64&&(s["!type"]="macro"),ie=[],Ee=[],O.arrayf=F=[],ae=[],pe=[],de=!1,M={Hidden:(i[ge]||{hs:0}).hs,name:u}}break;case 515:case 3:case 2:s["!type"]=="chart"&&(e.dense?(s[he.r]||[])[he.c]:s[Hn({c:he.c,r:he.r})])&&++he.c,I={ixfe:he.ixfe,XF:z[he.ixfe]||{},v:he.val,t:"n"},B>0&&(I.z=K[I.ixfe>>8&63]),Oc(I,e,n.opts.Date1904),L({c:he.c,r:he.r},I,e);break;case 5:case 517:I={ixfe:he.ixfe,XF:z[he.ixfe],v:he.val,t:he.t},B>0&&(I.z=K[I.ixfe>>8&63]),Oc(I,e,n.opts.Date1904),L({c:he.c,r:he.r},I,e);break;case 638:I={ixfe:he.ixfe,XF:z[he.ixfe],v:he.rknum,t:"n"},B>0&&(I.z=K[I.ixfe>>8&63]),Oc(I,e,n.opts.Date1904),L({c:he.c,r:he.r},I,e);break;case 189:for(var Ge=he.c;Ge<=he.C;++Ge){var st=he.rkrec[Ge-he.c][0];I={ixfe:st,XF:z[st],v:he.rkrec[Ge-he.c][1],t:"n"},B>0&&(I.z=K[I.ixfe>>8&63]),Oc(I,e,n.opts.Date1904),L({c:Ge,r:he.r},I,e)}break;case 6:case 518:case 1030:{if(he.val=="String"){o=he;break}if(I=Ty(he.val,he.cell.ixfe,he.tt),I.XF=z[I.ixfe],e.cellFormula){var Et=he.formula;if(Et&&Et[0]&&Et[0][0]&&Et[0][0][0]=="PtgExp"){var je=Et[0][0][1][0],yt=Et[0][0][1][1],St=Hn({r:je,c:yt});C[St]?I.f=""+Ca(he.formula,a,he.cell,oe,O):I.F=((e.dense?(s[je]||[])[yt]:s[St])||{}).F}else I.f=""+Ca(he.formula,a,he.cell,oe,O)}B>0&&(I.z=K[I.ixfe>>8&63]),Oc(I,e,n.opts.Date1904),L(he.cell,I,e),o=he}break;case 7:case 519:if(o)o.val=he,I=Ty(he,o.cell.ixfe,"s"),I.XF=z[I.ixfe],e.cellFormula&&(I.f=""+Ca(o.formula,a,o.cell,oe,O)),B>0&&(I.z=K[I.ixfe>>8&63]),Oc(I,e,n.opts.Date1904),L(o.cell,I,e),o=null;else throw new Error("String record expects Formula");break;case 33:case 545:{F.push(he);var Rt=Hn(he[0].s);if(x=e.dense?(s[he[0].s.r]||[])[he[0].s.c]:s[Rt],e.cellFormula&&x){if(!o||!Rt||!x)break;x.f=""+Ca(he[1],a,he[0],oe,O),x.F=Sr(he[0])}}break;case 1212:{if(!e.cellFormula)break;if(g){if(!o)break;C[Hn(o.cell)]=he[0],x=e.dense?(s[o.cell.r]||[])[o.cell.c]:s[Hn(o.cell)],(x||{}).f=""+Ca(he[0],a,p,oe,O)}}break;case 253:I=Ty(c[he.isst].t,he.ixfe,"s"),c[he.isst].h&&(I.h=c[he.isst].h),I.XF=z[I.ixfe],B>0&&(I.z=K[I.ixfe>>8&63]),Oc(I,e,n.opts.Date1904),L({c:he.c,r:he.r},I,e);break;case 513:e.sheetStubs&&(I={ixfe:he.ixfe,XF:z[he.ixfe],t:"z"},B>0&&(I.z=K[I.ixfe>>8&63]),Oc(I,e,n.opts.Date1904),L({c:he.c,r:he.r},I,e));break;case 190:if(e.sheetStubs)for(var Ut=he.c;Ut<=he.C;++Ut){var Jt=he.ixfe[Ut-he.c];I={ixfe:Jt,XF:z[Jt],t:"z"},B>0&&(I.z=K[I.ixfe>>8&63]),Oc(I,e,n.opts.Date1904),L({c:Ut,r:he.r},I,e)}break;case 214:case 516:case 4:I=Ty(he.val,he.ixfe,"s"),I.XF=z[I.ixfe],B>0&&(I.z=K[I.ixfe>>8&63]),Oc(I,e,n.opts.Date1904),L({c:he.c,r:he.r},I,e);break;case 0:case 512:ne===1&&(a=he);break;case 252:c=he;break;case 1054:if(O.biff==4){K[B++]=he[1];for(var zt=0;zt<B+163&&Kn[zt]!=he[1];++zt);zt>=163&&kh(he[1],B+163)}else kh(he[1],he[0]);break;case 30:{K[B++]=he;for(var Gt=0;Gt<B+163&&Kn[Gt]!=he;++Gt);Gt>=163&&kh(he,B+163)}break;case 229:ie=ie.concat(he);break;case 93:Ee[he.cmo[0]]=O.lastobj=he;break;case 438:O.lastobj.TxO=he;break;case 127:O.lastobj.ImData=he;break;case 440:for(S=he[0].s.r;S<=he[0].e.r;++S)for(y=he[0].s.c;y<=he[0].e.c;++y)x=e.dense?(s[S]||[])[y]:s[Hn({c:y,r:S})],x&&(x.l=he[1]);break;case 2048:for(S=he[0].s.r;S<=he[0].e.r;++S)for(y=he[0].s.c;y<=he[0].e.c;++y)x=e.dense?(s[S]||[])[y]:s[Hn({c:y,r:S})],x&&x.l&&(x.l.Tooltip=he[1]);break;case 28:{if(O.biff<=5&&O.biff>=2)break;x=e.dense?(s[he[0].r]||[])[he[0].c]:s[Hn(he[0])];var Nn=Ee[he[2]];x||(e.dense?(s[he[0].r]||(s[he[0].r]=[]),x=s[he[0].r][he[0].c]={t:"z"}):x=s[Hn(he[0])]={t:"z"},a.e.r=Math.max(a.e.r,he[0].r),a.s.r=Math.min(a.s.r,he[0].r),a.e.c=Math.max(a.e.c,he[0].c),a.s.c=Math.min(a.s.c,he[0].c)),x.c||(x.c=[]),w={a:he[1],t:Nn.TxO.t},x.c.push(w)}break;case 2173:z_e(z[he.ixfe],he.ext);break;case 125:{if(!O.cellStyles)break;for(;he.e>=he.s;)ae[he.e--]={width:he.w/256,level:he.level||0,hidden:!!(he.flags&1)},de||(de=!0,tN(he.w/256)),wm(ae[he.e+1])}break;case 520:{var Qt={};he.level!=null&&(pe[he.r]=Qt,Qt.level=he.level),he.hidden&&(pe[he.r]=Qt,Qt.hidden=!0),he.hpt&&(pe[he.r]=Qt,Qt.hpt=he.hpt,Qt.hpx=lx(he.hpt))}break;case 38:case 39:case 40:case 41:s["!margins"]||A1(s["!margins"]={}),s["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[Pe]]=he;break;case 161:s["!margins"]||A1(s["!margins"]={}),s["!margins"].header=he.header,s["!margins"].footer=he.footer;break;case 574:he.RTL&&(P.Views[0].RTL=!0);break;case 146:G=he;break;case 2198:j=he;break;case 140:D=he;break;case 442:u?M.CodeName=he||M.name:P.WBProps.CodeName=he||"ThisWorkbook";break}}else Re||console.error("Missing Info for XLS Record 0x"+Pe.toString(16)),t.l+=ee}return n.SheetNames=ou(i).sort(function(Lt,kt){return Number(Lt)-Number(kt)}).map(function(Lt){return i[Lt].name}),e.bookSheets||(n.Sheets=r),!n.SheetNames.length&&d["!ref"]?(n.SheetNames.push("Sheet1"),n.Sheets&&(n.Sheets.Sheet1=d)):n.Preamble=d,n.Sheets&&Y.forEach(function(Lt,kt){n.Sheets[n.SheetNames[kt]]["!autofilter"]=Lt}),n.Strings=c,n.SSF=da(Kn),O.enc&&(n.Encryption=O.enc),j&&(n.Themes=j),n.Metadata={},D!==void 0&&(n.Metadata.Country=D),oe.names.length>0&&(P.Names=oe.names),n.Workbook=P,n}var Q8={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function ESe(t,e,n){var r=Er.find(t,"/!DocumentSummaryInformation");if(r&&r.size>0)try{var s=L8(r,U2e,Q8.DSI);for(var i in s)e[i]=s[i]}catch(u){if(n.WTF)throw u}var a=Er.find(t,"/!SummaryInformation");if(a&&a.size>0)try{var o=L8(a,j2e,Q8.SI);for(var c in o)e[c]==null&&(e[c]=o[c])}catch(u){if(n.WTF)throw u}e.HeadingPairs&&e.TitlesOfParts&&(qq(e.HeadingPairs,e.TitlesOfParts,e,n),delete e.HeadingPairs,delete e.TitlesOfParts)}function SH(t,e){e||(e={}),aN(e),eq(),e.codepage&&BC(e.codepage);var n,r;if(t.FullPaths){if(Er.find(t,"/encryption"))throw new Error("File is password-protected");n=Er.find(t,"!CompObj"),r=Er.find(t,"/Workbook")||Er.find(t,"/Book")}else{switch(e.type){case"base64":t=sc(Qo(t));break;case"binary":t=sc(t);break;case"buffer":break;case"array":Array.isArray(t)||(t=Array.prototype.slice.call(t));break}ua(t,0),r={content:t}}var s,i;if(n&&ySe(n),e.bookProps&&!e.bookSheets)s={};else{var a=gr?"buffer":"array";if(r&&r.content)s=_Se(r.content,e);else if((i=Er.find(t,"PerfectOffice_MAIN"))&&i.content)s=T1.to_workbook(i.content,(e.type=a,e));else if((i=Er.find(t,"NativeContent_MAIN"))&&i.content)s=T1.to_workbook(i.content,(e.type=a,e));else throw(i=Er.find(t,"MN0"))&&i.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");e.bookVBA&&t.FullPaths&&Er.find(t,"/_VBA_PROJECT_CUR/VBA/dir")&&(s.vbaraw=lEe(t))}var o={};return t.FullPaths&&ESe(t,o,e),s.Props=s.Custprops=o,e.bookFiles&&(s.cfb=t),s}var fb={0:{f:sTe},1:{f:lTe},2:{f:xTe},3:{f:dTe},4:{f:uTe},5:{f:gTe},6:{f:bTe},7:{f:pTe},8:{f:STe},9:{f:TTe},10:{f:_Te},11:{f:ETe},12:{f:cTe},13:{f:vTe},14:{f:hTe},15:{f:fTe},16:{f:bH},17:{f:wTe},18:{f:mTe},19:{f:YC},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:QTe},40:{},42:{},43:{f:__e},44:{f:w_e},45:{f:E_e},46:{f:S_e},47:{f:T_e},48:{},49:{f:A2e},50:{},51:{f:$_e},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:eH},62:{f:yTe},63:{f:J_e},64:{f:MTe},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:La,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:DTe},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:oTe},148:{f:iTe,p:16},151:{f:NTe},152:{},153:{f:XTe},154:{},155:{},156:{f:YTe},157:{},158:{},159:{T:1,f:jwe},160:{T:-1},161:{T:1,f:h0},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:ATe},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:G_e},336:{T:-1},337:{f:W_e,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:oS},357:{},358:{},359:{},360:{T:1},361:{},362:{f:Zq},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:ITe},427:{f:kTe},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:PTe},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:aTe},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:CTe},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:oS},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:iEe},633:{T:1},634:{T:-1},635:{T:1,f:sEe},636:{T:-1},637:{f:N2e},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:UTe},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:LTe},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},dS={6:{f:g5},10:{f:Qf},12:{f:hi},13:{f:hi},14:{f:Zs},15:{f:Zs},16:{f:Ia},17:{f:Zs},18:{f:Zs},19:{f:hi},20:{f:V8},21:{f:V8},23:{f:Zq},24:{f:j8},25:{f:Zs},26:{},27:{},28:{f:nwe},29:{},34:{f:Zs},35:{f:U8},38:{f:Ia},39:{f:Ia},40:{f:Ia},41:{f:Ia},42:{f:Zs},43:{f:Zs},47:{f:a_e},49:{f:Obe},51:{f:hi},60:{},61:{f:Mbe},64:{f:Zs},65:{f:Fbe},66:{f:hi},77:{},80:{},81:{},82:{},85:{f:hi},89:{},90:{},91:{},92:{f:Abe},93:{f:swe},94:{},95:{f:Zs},96:{},97:{},99:{f:Zs},125:{f:eH},128:{f:Wbe},129:{f:Cbe},130:{f:hi},131:{f:Zs},132:{f:Zs},133:{f:Nbe},134:{},140:{f:uwe},141:{f:hi},144:{},146:{f:dwe},151:{},152:{},153:{},154:{},155:{},156:{f:hi},157:{},158:{},160:{f:xwe},161:{f:pwe},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:Hbe},190:{f:zbe},193:{f:Qf},197:{},198:{},199:{},200:{},201:{},202:{f:Zs},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:hi},220:{},221:{f:Zs},222:{},224:{f:$be},225:{f:Sbe},226:{f:Qf},227:{},229:{f:rwe},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:Ibe},253:{f:Bbe},255:{f:kbe},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:Wq},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:Zs},353:{f:Qf},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:Ybe},431:{f:Zs},432:{},433:{},434:{},437:{},438:{f:owe},439:{f:Zs},440:{f:lwe},441:{},442:{f:jx},443:{},444:{f:hi},445:{},446:{},448:{f:Qf},449:{f:Dbe,r:2},450:{f:Qf},512:{f:O8},513:{f:gwe},515:{f:Kbe},516:{f:Vbe},517:{f:B8},519:{f:vwe},520:{f:Rbe},523:{},545:{f:q8},549:{f:F8},566:{},574:{f:Lbe},638:{f:qbe},659:{},1048:{},1054:{f:Ube},1084:{},1212:{f:Zbe},2048:{f:cwe},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:wy},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:Qf},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:hwe,r:12},2173:{f:H_e,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:Zs,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:Qbe,r:12},2197:{},2198:{f:O_e,r:12},2199:{},2200:{},2201:{},2202:{f:ewe,r:12},2203:{f:Qf},2204:{},2205:{},2206:{},2207:{},2211:{f:Pbe},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:hi},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:mwe},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:fwe},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:O8},1:{},2:{f:_we},3:{f:wwe},4:{f:bwe},5:{f:B8},7:{f:Ewe},8:{},9:{f:wy},11:{},22:{f:hi},30:{f:jbe},31:{},32:{},33:{f:q8},36:{},37:{f:F8},50:{f:Twe},62:{},52:{},67:{},68:{f:hi},69:{},86:{},126:{},127:{f:ywe},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:Swe},223:{},234:{},354:{},421:{},518:{f:g5},521:{f:wy},536:{f:j8},547:{f:U8},561:{},579:{},1030:{f:g5},1033:{f:wy},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function ec(t,e,n,r){var s=e;if(!isNaN(s)){var i=(n||[]).length||0,a=t.next(4);a.write_shift(2,s),a.write_shift(2,i),i>0&&Mq(n)&&t.push(n)}}function Z8(t,e){var n=e||{},r=n.dense?[]:{};t=t.replace(/<!--.*?-->/g,"");var s=t.match(/<table/i);if(!s)throw new Error("Invalid HTML: could not find <table>");var i=t.match(/<\/table/i),a=s.index,o=i&&i.index||t.length,c=Kye(t.slice(a,o),/(:?<tr[^>]*>)/i,"<tr>"),u=-1,d=0,p=0,g=0,x={s:{r:1e7,c:1e7},e:{r:0,c:0}},w=[];for(a=0;a<c.length;++a){var y=c[a].trim(),S=y.slice(0,3).toLowerCase();if(S=="<tr"){if(++u,n.sheetRows&&n.sheetRows<=u){--u;break}d=0;continue}if(!(S!="<td"&&S!="<th")){var C=y.split(/<\/t[dh]>/i);for(o=0;o<C.length;++o){var F=C[o].trim();if(F.match(/<t[dh]/i)){for(var I=F,D=0;I.charAt(0)=="<"&&(D=I.indexOf(">"))>-1;)I=I.slice(D+1);for(var z=0;z<w.length;++z){var G=w[z];G.s.c==d&&G.s.r<u&&u<=G.e.r&&(d=G.e.c+1,z=-1)}var P=Dn(F.slice(0,F.indexOf(">")));g=P.colspan?+P.colspan:1,((p=+P.rowspan)>1||g>1)&&w.push({s:{r:u,c:d},e:{r:u+(p||1)-1,c:d+g-1}});var M=P.t||P["data-t"]||"";if(!I.length){d+=g;continue}if(I=wq(I),x.s.r>u&&(x.s.r=u),x.e.r<u&&(x.e.r=u),x.s.c>d&&(x.s.c=d),x.e.c<d&&(x.e.c=d),!I.length){d+=g;continue}var R={t:"s",v:I};n.raw||!I.trim().length||M=="s"||(I==="TRUE"?R={t:"b",v:!0}:I==="FALSE"?R={t:"b",v:!1}:isNaN(lc(I))?isNaN(bm(I).getDate())||(R={t:"d",v:Yi(I)},n.cellDates||(R={t:"n",v:Qa(R.v)}),R.z=n.dateNF||Kn[14]):R={t:"n",v:lc(I)}),n.dense?(r[u]||(r[u]=[]),r[u][d]=R):r[Hn({r:u,c:d})]=R,d+=g}}}}return r["!ref"]=Sr(x),w.length&&(r["!merges"]=w),r}function TSe(t,e,n,r){for(var s=t["!merges"]||[],i=[],a=e.s.c;a<=e.e.c;++a){for(var o=0,c=0,u=0;u<s.length;++u)if(!(s[u].s.r>n||s[u].s.c>a)&&!(s[u].e.r<n||s[u].e.c<a)){if(s[u].s.r<n||s[u].s.c<a){o=-1;break}o=s[u].e.r-s[u].s.r+1,c=s[u].e.c-s[u].s.c+1;break}if(!(o<0)){var d=Hn({r:n,c:a}),p=r.dense?(t[n]||[])[a]:t[d],g=p&&p.v!=null&&(p.h||zC(p.w||(lf(p),p.w)||""))||"",x={};o>1&&(x.rowspan=o),c>1&&(x.colspan=c),r.editable?g='<span contenteditable="true">'+g+"</span>":p&&(x["data-t"]=p&&p.t||"z",p.v!=null&&(x["data-v"]=p.v),p.z!=null&&(x["data-z"]=p.z),p.l&&(p.l.Target||"#").charAt(0)!="#"&&(g='<a href="'+p.l.Target+'">'+g+"</a>")),x.id=(r.id||"sjs")+"-"+d,i.push(u2e("td",g,x))}}var w="<tr>";return w+i.join("")+"</tr>"}var SSe='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',ASe="</body></html>";function CSe(t,e){var n=t.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!n||n.length==0)throw new Error("Invalid HTML: could not find <table>");if(n.length==1)return Ud(Z8(n[0],e),e);var r=lN();return n.forEach(function(s,i){cN(r,Z8(s,e),"Sheet"+(i+1))}),r}function NSe(t,e,n){var r=[];return r.join("")+"<table"+(n&&n.id?' id="'+n.id+'"':"")+">"}function ISe(t,e){var n=e||{},r=n.header!=null?n.header:SSe,s=n.footer!=null?n.footer:ASe,i=[r],a=Hm(t["!ref"]);n.dense=Array.isArray(t),i.push(NSe(t,a,n));for(var o=a.s.r;o<=a.e.r;++o)i.push(TSe(t,a,o,n));return i.push("</table>"+s),i.join("")}function AH(t,e,n){var r=n||{},s=0,i=0;if(r.origin!=null)if(typeof r.origin=="number")s=r.origin;else{var a=typeof r.origin=="string"?Ya(r.origin):r.origin;s=a.r,i=a.c}var o=e.getElementsByTagName("tr"),c=Math.min(r.sheetRows||1e7,o.length),u={s:{r:0,c:0},e:{r:s,c:i}};if(t["!ref"]){var d=Hm(t["!ref"]);u.s.r=Math.min(u.s.r,d.s.r),u.s.c=Math.min(u.s.c,d.s.c),u.e.r=Math.max(u.e.r,d.e.r),u.e.c=Math.max(u.e.c,d.e.c),s==-1&&(u.e.r=s=d.e.r+1)}var p=[],g=0,x=t["!rows"]||(t["!rows"]=[]),w=0,y=0,S=0,C=0,F=0,I=0;for(t["!cols"]||(t["!cols"]=[]);w<o.length&&y<c;++w){var D=o[w];if(eL(D)){if(r.display)continue;x[y]={hidden:!0}}var z=D.children;for(S=C=0;S<z.length;++S){var G=z[S];if(!(r.display&&eL(G))){var P=G.hasAttribute("data-v")?G.getAttribute("data-v"):G.hasAttribute("v")?G.getAttribute("v"):wq(G.innerHTML),M=G.getAttribute("data-z")||G.getAttribute("z");for(g=0;g<p.length;++g){var R=p[g];R.s.c==C+i&&R.s.r<y+s&&y+s<=R.e.r&&(C=R.e.c+1-i,g=-1)}I=+G.getAttribute("colspan")||1,((F=+G.getAttribute("rowspan")||1)>1||I>1)&&p.push({s:{r:y+s,c:C+i},e:{r:y+s+(F||1)-1,c:C+i+(I||1)-1}});var U={t:"s",v:P},L=G.getAttribute("data-t")||G.getAttribute("t")||"";P!=null&&(P.length==0?U.t=L||"z":r.raw||P.trim().length==0||L=="s"||(P==="TRUE"?U={t:"b",v:!0}:P==="FALSE"?U={t:"b",v:!1}:isNaN(lc(P))?isNaN(bm(P).getDate())||(U={t:"d",v:Yi(P)},r.cellDates||(U={t:"n",v:Qa(U.v)}),U.z=r.dateNF||Kn[14]):U={t:"n",v:lc(P)})),U.z===void 0&&M!=null&&(U.z=M);var O="",j=G.getElementsByTagName("A");if(j&&j.length)for(var ie=0;ie<j.length&&!(j[ie].hasAttribute("href")&&(O=j[ie].getAttribute("href"),O.charAt(0)!="#"));++ie);O&&O.charAt(0)!="#"&&(U.l={Target:O}),r.dense?(t[y+s]||(t[y+s]=[]),t[y+s][C+i]=U):t[Hn({c:C+i,r:y+s})]=U,u.e.c<C+i&&(u.e.c=C+i),C+=I}}++y}return p.length&&(t["!merges"]=(t["!merges"]||[]).concat(p)),u.e.r=Math.max(u.e.r,y-1+s),t["!ref"]=Sr(u),y>=c&&(t["!fullref"]=Sr((u.e.r=o.length-w+y-1+s,u))),t}function CH(t,e){var n=e||{},r=n.dense?[]:{};return AH(r,t,e)}function kSe(t,e){return Ud(CH(t,e),e)}function eL(t){var e="",n=RSe(t);return n&&(e=n(t).getPropertyValue("display")),e||(e=t.style&&t.style.display),e==="none"}function RSe(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function PSe(t){var e=t.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(r,s){return Array(parseInt(s,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),n=Ir(e.replace(/<[^>]*>/g,""));return[n]}var tL={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function NH(t,e){var n=e||{},r=GC(t),s=[],i,a,o={name:""},c="",u=0,d,p,g={},x=[],w=n.dense?[]:{},y,S,C={value:""},F="",I=0,D=[],z=-1,G=-1,P={s:{r:1e6,c:1e7},e:{r:0,c:0}},M=0,R={},U=[],L={},O=0,j=0,ie=[],Ee=1,ae=1,pe=[],de={Names:[]},oe={},ke=["",""],ne=[],B={},K="",Y=0,Q=!1,ue=!1,ge=0;for(ix.lastIndex=0,r=r.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");y=ix.exec(r);)switch(y[3]=y[3].replace(/_.*$/,"")){case"table":case"":y[1]==="/"?(P.e.c>=P.s.c&&P.e.r>=P.s.r?w["!ref"]=Sr(P):w["!ref"]="A1:A1",n.sheetRows>0&&n.sheetRows<=P.e.r&&(w["!fullref"]=w["!ref"],P.e.r=n.sheetRows-1,w["!ref"]=Sr(P)),U.length&&(w["!merges"]=U),ie.length&&(w["!rows"]=ie),d.name=d.||d.name,typeof JSON<"u"&&JSON.stringify(d),x.push(d.name),g[d.name]=w,ue=!1):y[0].charAt(y[0].length-2)!=="/"&&(d=Dn(y[0],!1),z=G=-1,P.s.r=P.s.c=1e7,P.e.r=P.e.c=0,w=n.dense?[]:{},U=[],ie=[],ue=!0);break;case"table-row-group":y[1]==="/"?--M:++M;break;case"table-row":case"":if(y[1]==="/"){z+=Ee,Ee=1;break}if(p=Dn(y[0],!1),p.?z=p.-1:z==-1&&(z=0),Ee=+p["number-rows-repeated"]||1,Ee<10)for(ge=0;ge<Ee;++ge)M>0&&(ie[z+ge]={level:M});G=-1;break;case"covered-table-cell":y[1]!=="/"&&++G,n.sheetStubs&&(n.dense?(w[z]||(w[z]=[]),w[z][G]={t:"z"}):w[Hn({r:z,c:G})]={t:"z"}),F="",D=[];break;case"table-cell":case"":if(y[0].charAt(y[0].length-2)==="/")++G,C=Dn(y[0],!1),ae=parseInt(C["number-columns-repeated"]||"1",10),S={t:"z",v:null},C.formula&&n.cellFormula!=!1&&(S.f=Y8(Ir(C.formula))),(C.||C["value-type"])=="string"&&(S.t="s",S.v=Ir(C["string-value"]||""),n.dense?(w[z]||(w[z]=[]),w[z][G]=S):w[Hn({r:z,c:G})]=S),G+=ae-1;else if(y[1]!=="/"){++G,F="",I=0,D=[],ae=1;var Pe=Ee?z+Ee-1:z;if(G>P.e.c&&(P.e.c=G),G<P.s.c&&(P.s.c=G),z<P.s.r&&(P.s.r=z),Pe>P.e.r&&(P.e.r=Pe),C=Dn(y[0],!1),ne=[],B={},S={t:C.||C["value-type"],v:null},n.cellFormula)if(C.formula&&(C.formula=Ir(C.formula)),C["number-matrix-columns-spanned"]&&C["number-matrix-rows-spanned"]&&(O=parseInt(C["number-matrix-rows-spanned"],10)||0,j=parseInt(C["number-matrix-columns-spanned"],10)||0,L={s:{r:z,c:G},e:{r:z+O-1,c:G+j-1}},S.F=Sr(L),pe.push([L,S.F])),C.formula)S.f=Y8(C.formula);else for(ge=0;ge<pe.length;++ge)z>=pe[ge][0].s.r&&z<=pe[ge][0].e.r&&G>=pe[ge][0].s.c&&G<=pe[ge][0].e.c&&(S.F=pe[ge][1]);switch((C["number-columns-spanned"]||C["number-rows-spanned"])&&(O=parseInt(C["number-rows-spanned"],10)||0,j=parseInt(C["number-columns-spanned"],10)||0,L={s:{r:z,c:G},e:{r:z+O-1,c:G+j-1}},U.push(L)),C["number-columns-repeated"]&&(ae=parseInt(C["number-columns-repeated"],10)),S.t){case"boolean":S.t="b",S.v=As(C["boolean-value"]);break;case"float":S.t="n",S.v=parseFloat(C.value);break;case"percentage":S.t="n",S.v=parseFloat(C.value);break;case"currency":S.t="n",S.v=parseFloat(C.value);break;case"date":S.t="d",S.v=Yi(C["date-value"]),n.cellDates||(S.t="n",S.v=Qa(S.v)),S.z="m/d/yy";break;case"time":S.t="n",S.v=Gye(C["time-value"])/86400,n.cellDates&&(S.t="d",S.v=lw(S.v)),S.z="HH:MM:SS";break;case"number":S.t="n",S.v=parseFloat(C.);break;default:if(S.t==="string"||S.t==="text"||!S.t)S.t="s",C["string-value"]!=null&&(F=Ir(C["string-value"]),D=[]);else throw new Error("Unsupported value type "+S.t)}}else{if(Q=!1,S.t==="s"&&(S.v=F||"",D.length&&(S.R=D),Q=I==0),oe.Target&&(S.l=oe),ne.length>0&&(S.c=ne,ne=[]),F&&n.cellText!==!1&&(S.w=F),Q&&(S.t="z",delete S.v),(!Q||n.sheetStubs)&&!(n.sheetRows&&n.sheetRows<=z))for(var ee=0;ee<Ee;++ee){if(ae=parseInt(C["number-columns-repeated"]||"1",10),n.dense)for(w[z+ee]||(w[z+ee]=[]),w[z+ee][G]=ee==0?S:da(S);--ae>0;)w[z+ee][G+ae]=da(S);else for(w[Hn({r:z+ee,c:G})]=S;--ae>0;)w[Hn({r:z+ee,c:G+ae})]=da(S);P.e.c<=G&&(P.e.c=G)}ae=parseInt(C["number-columns-repeated"]||"1",10),G+=ae-1,ae=0,S={},F="",D=[]}oe={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(y[1]==="/"){if((i=s.pop())[0]!==y[3])throw"Bad state: "+i}else y[0].charAt(y[0].length-2)!=="/"&&s.push([y[3],!0]);break;case"annotation":if(y[1]==="/"){if((i=s.pop())[0]!==y[3])throw"Bad state: "+i;B.t=F,D.length&&(B.R=D),B.a=K,ne.push(B)}else y[0].charAt(y[0].length-2)!=="/"&&s.push([y[3],!1]);K="",Y=0,F="",I=0,D=[];break;case"creator":y[1]==="/"?K=r.slice(Y,y.index):Y=y.index+y[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(y[1]==="/"){if((i=s.pop())[0]!==y[3])throw"Bad state: "+i}else y[0].charAt(y[0].length-2)!=="/"&&s.push([y[3],!1]);F="",I=0,D=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(y[1]==="/"){if(R[o.name]=c,(i=s.pop())[0]!==y[3])throw"Bad state: "+i}else y[0].charAt(y[0].length-2)!=="/"&&(c="",o=Dn(y[0],!1),s.push([y[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(s[s.length-1][0]){case"time-style":case"date-style":a=Dn(y[0],!1),c+=tL[y[3]][a.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(s[s.length-1][0]){case"time-style":case"date-style":a=Dn(y[0],!1),c+=tL[y[3]][a.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(y[0].slice(-2)==="/>")break;if(y[1]==="/")switch(s[s.length-1][0]){case"number-style":case"date-style":case"time-style":c+=r.slice(u,y.index);break}else u=y.index+y[0].length;break;case"named-range":a=Dn(y[0],!1),ke=x5(a["cell-range-address"]);var Re={Name:a.name,Ref:ke[0]+"!"+ke[1]};ue&&(Re.Sheet=x.length),de.Names.push(Re);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(s[s.length-1][0])>-1)break;if(y[1]==="/"&&(!C||!C["string-value"])){var He=PSe(r.slice(I,y.index));F=(F.length>0?F+`
`:"")+He[0]}else Dn(y[0],!1),I=y.index+y[0].length;break;case"s":break;case"database-range":if(y[1]==="/")break;try{ke=x5(Dn(y[0])["target-range-address"]),g[ke[0]]["!autofilter"]={ref:ke[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(y[1]!=="/"){if(oe=Dn(y[0],!1),!oe.href)break;oe.Target=Ir(oe.href),delete oe.href,oe.Target.charAt(0)=="#"&&oe.Target.indexOf(".")>-1?(ke=x5(oe.Target.slice(1)),oe.Target="#"+ke[0]+"!"+ke[1]):oe.Target.match(/^\.\.[\\\/]/)&&(oe.Target=oe.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(y[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(n.WTF)throw new Error(y)}}var he={Sheets:g,SheetNames:x,Workbook:de};return n.bookSheets&&delete he.Sheets,he}function nL(t,e){e=e||{},bl(t,"META-INF/manifest.xml")&&K2e(di(t,"META-INF/manifest.xml"),e);var n=Wo(t,"content.xml");if(!n)throw new Error("Missing content.xml in ODS / UOF file");var r=NH(cs(n),e);return bl(t,"meta.xml")&&(r.Props=jq(di(t,"meta.xml"))),r}function rL(t,e){return NH(t,e)}function sN(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function hS(t){return typeof TextDecoder<"u"?new TextDecoder().decode(t):cs(f0(t))}function pS(t){var e=t.reduce(function(s,i){return s+i.length},0),n=new Uint8Array(e),r=0;return t.forEach(function(s){n.set(s,r),r+=s.length}),n}function sL(t){return t-=t>>1&1431655765,t=(t&858993459)+(t>>2&858993459),(t+(t>>4)&252645135)*16843009>>>24}function DSe(t,e){for(var n=(t[e+15]&127)<<7|t[e+14]>>1,r=t[e+14]&1,s=e+13;s>=e;--s)r=r*256+t[s];return(t[e+15]&128?-r:r)*Math.pow(10,n-6176)}function cx(t,e){var n=e?e[0]:0,r=t[n]&127;e:if(t[n++]>=128&&(r|=(t[n]&127)<<7,t[n++]<128||(r|=(t[n]&127)<<14,t[n++]<128)||(r|=(t[n]&127)<<21,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,28),++n,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,35),++n,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,42),++n,t[n++]<128)))break e;return e&&(e[0]=n),r}function Pi(t){var e=0,n=t[e]&127;e:if(t[e++]>=128){if(n|=(t[e]&127)<<7,t[e++]<128||(n|=(t[e]&127)<<14,t[e++]<128)||(n|=(t[e]&127)<<21,t[e++]<128))break e;n|=(t[e]&127)<<28}return n}function Pa(t){for(var e=[],n=[0];n[0]<t.length;){var r=n[0],s=cx(t,n),i=s&7;s=Math.floor(s/8);var a=0,o;if(s==0)break;switch(i){case 0:{for(var c=n[0];t[n[0]++]>=128;);o=t.slice(c,n[0])}break;case 5:a=4,o=t.slice(n[0],n[0]+a),n[0]+=a;break;case 1:a=8,o=t.slice(n[0],n[0]+a),n[0]+=a;break;case 2:a=cx(t,n),o=t.slice(n[0],n[0]+a),n[0]+=a;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(s," at offset ").concat(r))}var u={data:o,type:i};e[s]==null?e[s]=[u]:e[s].push(u)}return e}function iN(t,e){return t?.map(function(n){return e(n.data)})||[]}function MSe(t){for(var e,n=[],r=[0];r[0]<t.length;){var s=cx(t,r),i=Pa(t.slice(r[0],r[0]+s));r[0]+=s;var a={id:Pi(i[1][0].data),messages:[]};i[2].forEach(function(o){var c=Pa(o.data),u=Pi(c[3][0].data);a.messages.push({meta:c,data:t.slice(r[0],r[0]+u)}),r[0]+=u}),(e=i[3])!=null&&e[0]&&(a.merge=Pi(i[3][0].data)>>>0>0),n.push(a)}return n}function LSe(t,e){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var n=[0],r=cx(e,n),s=[];n[0]<e.length;){var i=e[n[0]]&3;if(i==0){var a=e[n[0]++]>>2;if(a<60)++a;else{var o=a-59;a=e[n[0]],o>1&&(a|=e[n[0]+1]<<8),o>2&&(a|=e[n[0]+2]<<16),o>3&&(a|=e[n[0]+3]<<24),a>>>=0,a++,n[0]+=o}s.push(e.slice(n[0],n[0]+a)),n[0]+=a;continue}else{var c=0,u=0;if(i==1?(u=(e[n[0]]>>2&7)+4,c=(e[n[0]++]&224)<<3,c|=e[n[0]++]):(u=(e[n[0]++]>>2)+1,i==2?(c=e[n[0]]|e[n[0]+1]<<8,n[0]+=2):(c=(e[n[0]]|e[n[0]+1]<<8|e[n[0]+2]<<16|e[n[0]+3]<<24)>>>0,n[0]+=4)),s=[pS(s)],c==0)throw new Error("Invalid offset 0");if(c>s[0].length)throw new Error("Invalid offset beyond length");if(u>=c)for(s.push(s[0].slice(-c)),u-=c;u>=s[s.length-1].length;)s.push(s[s.length-1]),u-=s[s.length-1].length;s.push(s[0].slice(-c,-c+u))}}var d=pS(s);if(d.length!=r)throw new Error("Unexpected length: ".concat(d.length," != ").concat(r));return d}function FSe(t){for(var e=[],n=0;n<t.length;){var r=t[n++],s=t[n]|t[n+1]<<8|t[n+2]<<16;n+=3,e.push(LSe(r,t.slice(n,n+s))),n+=s}if(n!==t.length)throw new Error("data is not a valid framed stream!");return pS(e)}function OSe(t,e,n,r){var s=sN(t),i=s.getUint32(4,!0),a=(r>1?12:8)+sL(i&(r>1?3470:398))*4,o=-1,c=-1,u=NaN,d=new Date(2001,0,1);i&512&&(o=s.getUint32(a,!0),a+=4),a+=sL(i&(r>1?12288:4096))*4,i&16&&(c=s.getUint32(a,!0),a+=4),i&32&&(u=s.getFloat64(a,!0),a+=8),i&64&&(d.setTime(d.getTime()+s.getFloat64(a,!0)*1e3),a+=8);var p;switch(t[2]){case 0:break;case 2:p={t:"n",v:u};break;case 3:p={t:"s",v:e[c]};break;case 5:p={t:"d",v:d};break;case 6:p={t:"b",v:u>0};break;case 7:p={t:"n",v:u/86400};break;case 8:p={t:"e",v:0};break;case 9:if(o>-1)p={t:"s",v:n[o]};else if(c>-1)p={t:"s",v:e[c]};else if(!isNaN(u))p={t:"n",v:u};else throw new Error("Unsupported cell type ".concat(t.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(t.slice(0,4)))}return p}function BSe(t,e,n){var r=sN(t),s=r.getUint32(8,!0),i=12,a=-1,o=-1,c=NaN,u=NaN,d=new Date(2001,0,1);s&1&&(c=DSe(t,i),i+=16),s&2&&(u=r.getFloat64(i,!0),i+=8),s&4&&(d.setTime(d.getTime()+r.getFloat64(i,!0)*1e3),i+=8),s&8&&(o=r.getUint32(i,!0),i+=4),s&16&&(a=r.getUint32(i,!0),i+=4);var p;switch(t[1]){case 0:break;case 2:p={t:"n",v:c};break;case 3:p={t:"s",v:e[o]};break;case 5:p={t:"d",v:d};break;case 6:p={t:"b",v:u>0};break;case 7:p={t:"n",v:u/86400};break;case 8:p={t:"e",v:0};break;case 9:if(a>-1)p={t:"s",v:n[a]};else throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(s&31," : ").concat(t.slice(0,4)));break;case 10:p={t:"n",v:c};break;default:throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(s&31," : ").concat(t.slice(0,4)))}return p}function VSe(t,e,n){switch(t[0]){case 0:case 1:case 2:case 3:return OSe(t,e,n,t[0]);case 5:return BSe(t,e,n);default:throw new Error("Unsupported payload version ".concat(t[0]))}}function vd(t){var e=Pa(t);return cx(e[1][0].data)}function iL(t,e){var n=Pa(e.data),r=Pi(n[1][0].data),s=n[3],i=[];return(s||[]).forEach(function(a){var o=Pa(a.data),c=Pi(o[1][0].data)>>>0;switch(r){case 1:i[c]=hS(o[3][0].data);break;case 8:{var u=t[vd(o[9][0].data)][0],d=Pa(u.data),p=t[vd(d[1][0].data)][0],g=Pi(p.meta[1][0].data);if(g!=2001)throw new Error("2000 unexpected reference to ".concat(g));var x=Pa(p.data);i[c]=x[3].map(function(w){return hS(w.data)}).join("")}break}}),i}function USe(t,e){var n,r,s,i,a,o,c,u,d,p,g,x,w,y,S=Pa(t),C=Pi(S[1][0].data)>>>0,F=Pi(S[2][0].data)>>>0,I=((r=(n=S[8])==null?void 0:n[0])==null?void 0:r.data)&&Pi(S[8][0].data)>0||!1,D,z;if((i=(s=S[7])==null?void 0:s[0])!=null&&i.data&&e!=0)D=(o=(a=S[7])==null?void 0:a[0])==null?void 0:o.data,z=(u=(c=S[6])==null?void 0:c[0])==null?void 0:u.data;else if((p=(d=S[4])==null?void 0:d[0])!=null&&p.data&&e!=1)D=(x=(g=S[4])==null?void 0:g[0])==null?void 0:x.data,z=(y=(w=S[3])==null?void 0:w[0])==null?void 0:y.data;else throw"NUMBERS Tile missing ".concat(e," cell storage");for(var G=I?4:1,P=sN(D),M=[],R=0;R<D.length/2;++R){var U=P.getUint16(R*2,!0);U<65535&&M.push([R,U])}if(M.length!=F)throw"Expected ".concat(F," cells, found ").concat(M.length);var L=[];for(R=0;R<M.length-1;++R)L[M[R][0]]=z.subarray(M[R][1]*G,M[R+1][1]*G);return M.length>=1&&(L[M[M.length-1][0]]=z.subarray(M[M.length-1][1]*G)),{R:C,cells:L}}function jSe(t,e){var n,r=Pa(e.data),s=(n=r?.[7])!=null&&n[0]?Pi(r[7][0].data)>>>0>0?1:0:-1,i=iN(r[5],function(a){return USe(a,s)});return{nrows:Pi(r[4][0].data)>>>0,data:i.reduce(function(a,o){return a[o.R]||(a[o.R]=[]),o.cells.forEach(function(c,u){if(a[o.R][u])throw new Error("Duplicate cell r=".concat(o.R," c=").concat(u));a[o.R][u]=c}),a},[])}}function qSe(t,e,n){var r,s=Pa(e.data),i={s:{r:0,c:0},e:{r:0,c:0}};if(i.e.r=(Pi(s[6][0].data)>>>0)-1,i.e.r<0)throw new Error("Invalid row varint ".concat(s[6][0].data));if(i.e.c=(Pi(s[7][0].data)>>>0)-1,i.e.c<0)throw new Error("Invalid col varint ".concat(s[7][0].data));n["!ref"]=Sr(i);var a=Pa(s[4][0].data),o=iL(t,t[vd(a[4][0].data)][0]),c=(r=a[17])!=null&&r[0]?iL(t,t[vd(a[17][0].data)][0]):[],u=Pa(a[3][0].data),d=0;u[1].forEach(function(p){var g=Pa(p.data),x=t[vd(g[2][0].data)][0],w=Pi(x.meta[1][0].data);if(w!=6002)throw new Error("6001 unexpected reference to ".concat(w));var y=jSe(t,x);y.data.forEach(function(S,C){S.forEach(function(F,I){var D=Hn({r:d+C,c:I}),z=VSe(F,o,c);z&&(n[D]=z)})}),d+=y.nrows})}function HSe(t,e){var n=Pa(e.data),r={"!ref":"A1"},s=t[vd(n[2][0].data)],i=Pi(s[0].meta[1][0].data);if(i!=6001)throw new Error("6000 unexpected reference to ".concat(i));return qSe(t,s[0],r),r}function zSe(t,e){var n,r=Pa(e.data),s={name:(n=r[1])!=null&&n[0]?hS(r[1][0].data):"",sheets:[]},i=iN(r[2],vd);return i.forEach(function(a){t[a].forEach(function(o){var c=Pi(o.meta[1][0].data);c==6e3&&s.sheets.push(HSe(t,o))})}),s}function GSe(t,e){var n=lN(),r=Pa(e.data),s=iN(r[1],vd);if(s.forEach(function(i){t[i].forEach(function(a){var o=Pi(a.meta[1][0].data);if(o==2){var c=zSe(t,a);c.sheets.forEach(function(u,d){cN(n,u,d==0?c.name:c.name+"_"+d,!0)})}})}),n.SheetNames.length==0)throw new Error("Empty NUMBERS file");return n}function y5(t){var e,n,r,s,i={},a=[];if(t.FullPaths.forEach(function(c){if(c.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),t.FileIndex.forEach(function(c){if(c.name.match(/\.iwa$/)){var u;try{u=FSe(c.content)}catch(p){return console.log("?? "+c.content.length+" "+(p.message||p))}var d;try{d=MSe(u)}catch(p){return console.log("## "+(p.message||p))}d.forEach(function(p){i[p.id]=p.messages,a.push(p.id)})}}),!a.length)throw new Error("File has no messages");var o=((s=(r=(n=(e=i?.[1])==null?void 0:e[0])==null?void 0:n.meta)==null?void 0:r[1])==null?void 0:s[0].data)&&Pi(i[1][0].meta[1][0].data)==1&&i[1][0];if(o||a.forEach(function(c){i[c].forEach(function(u){var d=Pi(u.meta[1][0].data)>>>0;if(d==1)if(!o)o=u;else throw new Error("Document has multiple roots")})}),!o)throw new Error("Cannot find Document root");return GSe(i,o)}function $Se(t){return function(n){for(var r=0;r!=t.length;++r){var s=t[r];n[s[0]]===void 0&&(n[s[0]]=s[1]),s[2]==="n"&&(n[s[0]]=Number(n[s[0]]))}}}function aN(t){$Se([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(t)}function WSe(t){return Dp.WS.indexOf(t)>-1?"sheet":t==Dp.CS?"chart":t==Dp.DS?"dialog":t==Dp.MS?"macro":t&&t.length?t:"sheet"}function KSe(t,e){if(!t)return 0;try{t=e.map(function(r){return r.id||(r.id=r.strRelID),[r.name,t["!id"][r.id].Target,WSe(t["!id"][r.id].Type)]})}catch{return null}return!t||t.length===0?null:t}function YSe(t,e,n,r,s,i,a,o,c,u,d,p){try{i[r]=_1(Wo(t,n,!0),e);var g=di(t,e),x;switch(o){case"sheet":x=tSe(g,e,s,c,i[r],u,d,p);break;case"chart":if(x=nSe(g,e,s,c,i[r],u,d,p),!x||!x["!drawel"])break;var w=Zg(x["!drawel"].Target,e),y=lS(w),S=eEe(Wo(t,w,!0),_1(Wo(t,y,!0),w)),C=Zg(S,w),F=lS(C);x=BTe(Wo(t,C,!0),C,c,_1(Wo(t,F,!0),C),u,x);break;case"macro":x=rSe(g,e,s,c,i[r],u,d,p);break;case"dialog":x=sSe(g,e,s,c,i[r],u,d,p);break;default:throw new Error("Unrecognized sheet type "+o)}a[r]=x;var I=[];i&&i[r]&&ou(i[r]).forEach(function(D){var z="";if(i[r][D].Type==Dp.CMNT){z=Zg(i[r][D].Target,e);var G=lSe(di(t,z,!0),z,c);if(!G||!G.length)return;z8(x,G,!1)}i[r][D].Type==Dp.TCMNT&&(z=Zg(i[r][D].Target,e),I=I.concat(nEe(di(t,z,!0),c)))}),I&&I.length&&z8(x,I,!0,c.people||[])}catch(D){if(c.WTF)throw D}}function xl(t){return t.charAt(0)=="/"?t.slice(1):t}function XSe(t,e){if(dq(),e=e||{},aN(e),bl(t,"META-INF/manifest.xml")||bl(t,"objectdata.xml"))return nL(t,e);if(bl(t,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof y5<"u"){if(t.FileIndex)return y5(t);var n=Er.utils.cfb_new();return x8(t).forEach(function(ie){Jye(n,ie,Xye(t,ie))}),y5(n)}throw new Error("Unsupported NUMBERS file")}if(!bl(t,"[Content_Types].xml"))throw bl(t,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):bl(t,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var r=x8(t),s=$2e(Wo(t,"[Content_Types].xml")),i=!1,a,o;if(s.workbooks.length===0&&(o="xl/workbook.xml",di(t,o,!0)&&s.workbooks.push(o)),s.workbooks.length===0){if(o="xl/workbook.bin",!di(t,o,!0))throw new Error("Could not find workbook");s.workbooks.push(o),i=!0}s.workbooks[0].slice(-3)=="bin"&&(i=!0);var c={},u={};if(!e.bookSheets&&!e.bookProps){if(S1=[],s.sst)try{S1=oSe(di(t,xl(s.sst)),s.sst,e)}catch(ie){if(e.WTF)throw ie}e.cellStyles&&s.themes.length&&(c=aSe(Wo(t,s.themes[0].replace(/^\//,""),!0)||"",s.themes[0],e)),s.style&&(u=iSe(di(t,xl(s.style)),s.style,c,e))}s.links.map(function(ie){try{var Ee=_1(Wo(t,lS(xl(ie))),ie);return uSe(di(t,xl(ie)),Ee,ie,e)}catch{}});var d=eSe(di(t,xl(s.workbooks[0])),s.workbooks[0],e),p={},g="";s.coreprops.length&&(g=di(t,xl(s.coreprops[0]),!0),g&&(p=jq(g)),s.extprops.length!==0&&(g=di(t,xl(s.extprops[0]),!0),g&&J2e(g,p,e)));var x={};(!e.bookSheets||e.bookProps)&&s.custprops.length!==0&&(g=Wo(t,xl(s.custprops[0]),!0),g&&(x=Z2e(g,e)));var w={};if((e.bookSheets||e.bookProps)&&(d.Sheets?a=d.Sheets.map(function(Ee){return Ee.name}):p.Worksheets&&p.SheetNames.length>0&&(a=p.SheetNames),e.bookProps&&(w.Props=p,w.Custprops=x),e.bookSheets&&typeof a<"u"&&(w.SheetNames=a),e.bookSheets?w.SheetNames:e.bookProps))return w;a={};var y={};e.bookDeps&&s.calcchain&&(y=cSe(di(t,xl(s.calcchain)),s.calcchain));var S=0,C={},F,I;{var D=d.Sheets;p.Worksheets=D.length,p.SheetNames=[];for(var z=0;z!=D.length;++z)p.SheetNames[z]=D[z].name}var G=i?"bin":"xml",P=s.workbooks[0].lastIndexOf("/"),M=(s.workbooks[0].slice(0,P+1)+"_rels/"+s.workbooks[0].slice(P+1)+".rels").replace(/^\//,"");bl(t,M)||(M="xl/_rels/workbook."+G+".rels");var R=_1(Wo(t,M,!0),M.replace(/_rels.*/,"s5s"));(s.metadata||[]).length>=1&&(e.xlmeta=fSe(di(t,xl(s.metadata[0])),s.metadata[0],e)),(s.people||[]).length>=1&&(e.people=rEe(di(t,xl(s.people[0])),e)),R&&(R=KSe(R,d.Sheets));var U=di(t,"xl/worksheets/sheet.xml",!0)?1:0;e:for(S=0;S!=p.Worksheets;++S){var L="sheet";if(R&&R[S]?(F="xl/"+R[S][1].replace(/[\/]?xl\//,""),bl(t,F)||(F=R[S][1]),bl(t,F)||(F=M.replace(/_rels\/.*$/,"")+R[S][1]),L=R[S][2]):(F="xl/worksheets/sheet"+(S+1-U)+"."+G,F=F.replace(/sheet0\./,"sheet.")),I=F.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),e&&e.sheets!=null)switch(typeof e.sheets){case"number":if(S!=e.sheets)continue e;break;case"string":if(p.SheetNames[S].toLowerCase()!=e.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(e.sheets)){for(var O=!1,j=0;j!=e.sheets.length;++j)typeof e.sheets[j]=="number"&&e.sheets[j]==S&&(O=1),typeof e.sheets[j]=="string"&&e.sheets[j].toLowerCase()==p.SheetNames[S].toLowerCase()&&(O=1);if(!O)continue e}}YSe(t,F,I,p.SheetNames[S],S,C,a,L,e,d,c,u)}return w={Directory:s,Workbook:d,Props:p,Custprops:x,Deps:y,Sheets:a,SheetNames:p.SheetNames,Strings:S1,Styles:u,Themes:c,SSF:da(Kn)},e&&e.bookFiles&&(t.files?(w.keys=r,w.files=t.files):(w.keys=[],w.files={},t.FullPaths.forEach(function(ie,Ee){ie=ie.replace(/^Root Entry[\/]/,""),w.keys.push(ie),w.files[ie]=t.FileIndex[Ee]}))),e&&e.bookVBA&&(s.vba.length>0?w.vbaraw=di(t,xl(s.vba[0]),!0):s.defaults&&s.defaults.bin===oEe&&(w.vbaraw=di(t,"xl/vbaProject.bin",!0))),w}function JSe(t,e){var n=e||{},r="Workbook",s=Er.find(t,r);try{if(r="/!DataSpaces/Version",s=Er.find(t,r),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+r);if(Hwe(s.content),r="/!DataSpaces/DataSpaceMap",s=Er.find(t,r),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+r);var i=Gwe(s.content);if(i.length!==1||i[0].comps.length!==1||i[0].comps[0].t!==0||i[0].name!=="StrongEncryptionDataSpace"||i[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+r);if(r="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",s=Er.find(t,r),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+r);var a=$we(s.content);if(a.length!=1||a[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+r);if(r="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",s=Er.find(t,r),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+r);Kwe(s.content)}catch{}if(r="/EncryptionInfo",s=Er.find(t,r),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+r);var o=Ywe(s.content);if(r="/EncryptedPackage",s=Er.find(t,r),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+r);if(o[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(o[1],s.content,n.password||"",n);if(o[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(o[1],s.content,n.password||"",n);throw new Error("File is password-protected")}function oN(t,e){var n="";switch((e||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":n=Qo(t.slice(0,12));break;case"binary":n=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[n.charCodeAt(0),n.charCodeAt(1),n.charCodeAt(2),n.charCodeAt(3),n.charCodeAt(4),n.charCodeAt(5),n.charCodeAt(6),n.charCodeAt(7)]}function QSe(t,e){return Er.find(t,"EncryptedPackage")?JSe(t,e):SH(t,e)}function ZSe(t,e){var n,r=t,s=e||{};return s.type||(s.type=gr&&Buffer.isBuffer(t)?"buffer":"base64"),n=vq(r,s),XSe(n,s)}function IH(t,e){var n=0;e:for(;n<t.length;)switch(t.charCodeAt(n)){case 10:case 13:case 32:++n;break;case 60:return fS(t.slice(n),e);default:break e}return ax.to_workbook(t,e)}function eAe(t,e){var n="",r=oN(t,e);switch(e.type){case"base64":n=Qo(t);break;case"binary":n=t;break;case"buffer":n=t.toString("binary");break;case"array":n=Xh(t);break;default:throw new Error("Unrecognized type "+e.type)}return r[0]==239&&r[1]==187&&r[2]==191&&(n=cs(n)),e.type="binary",IH(n,e)}function tAe(t,e){var n=t;return e.type=="base64"&&(n=Qo(n)),n=nx.utils.decode(1200,n.slice(2),"str"),e.type="binary",IH(n,e)}function nAe(t){return t.match(/[^\x00-\x7F]/)?e1(t):t}function b5(t,e,n,r){return r?(n.type="string",ax.to_workbook(t,n)):ax.to_workbook(e,n)}function mS(t,e){eq();var n=e||{};if(typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer)return mS(new Uint8Array(t),(n=da(n),n.type="array",n));typeof Uint8Array<"u"&&t instanceof Uint8Array&&!n.type&&(n.type=typeof Deno<"u"?"buffer":"array");var r=t,s=[0,0,0,0],i=!1;if(n.cellStyles&&(n.cellNF=!0,n.sheetStubs=!0),Zp={},n.dateNF&&(Zp.dateNF=n.dateNF),n.type||(n.type=gr&&Buffer.isBuffer(t)?"buffer":"base64"),n.type=="file"&&(n.type=gr?"buffer":"binary",r=Hye(t),typeof Uint8Array<"u"&&!gr&&(n.type="array")),n.type=="string"&&(i=!0,n.type="binary",n.codepage=65001,r=nAe(t)),n.type=="array"&&typeof Uint8Array<"u"&&t instanceof Uint8Array&&typeof ArrayBuffer<"u"){var a=new ArrayBuffer(3),o=new Uint8Array(a);if(o.foo="bar",!o.foo)return n=da(n),n.type="array",mS(VC(r),n)}switch((s=oN(r,n))[0]){case 208:if(s[1]===207&&s[2]===17&&s[3]===224&&s[4]===161&&s[5]===177&&s[6]===26&&s[7]===225)return QSe(Er.read(r,n),n);break;case 9:if(s[1]<=8)return SH(r,n);break;case 60:return fS(r,n);case 73:if(s[1]===73&&s[2]===42&&s[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(s[1]===68)return kwe(r,n);break;case 84:if(s[1]===65&&s[2]===66&&s[3]===76)return Nwe.to_workbook(r,n);break;case 80:return s[1]===75&&s[2]<9&&s[3]<9?ZSe(r,n):b5(t,r,n,i);case 239:return s[3]===60?fS(r,n):b5(t,r,n,i);case 255:if(s[1]===254)return tAe(r,n);if(s[1]===0&&s[2]===2&&s[3]===0)return T1.to_workbook(r,n);break;case 0:if(s[1]===0&&(s[2]>=2&&s[3]===0||s[2]===0&&(s[3]===8||s[3]===9)))return T1.to_workbook(r,n);break;case 3:case 131:case 139:case 140:return H8.to_workbook(r,n);case 123:if(s[1]===92&&s[2]===114&&s[3]===116)return o_e.to_workbook(r,n);break;case 10:case 13:case 32:return eAe(r,n);case 137:if(s[1]===80&&s[2]===78&&s[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return Awe.indexOf(s[0])>-1&&s[2]<=12&&s[3]<=31?H8.to_workbook(r,n):b5(t,r,n,i)}function rAe(t,e,n,r,s,i,a,o){var c=ha(n),u=o.defval,d=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),p=!0,g=s===1?[]:{};if(s!==1)if(Object.defineProperty)try{Object.defineProperty(g,"__rowNum__",{value:n,enumerable:!1})}catch{g.__rowNum__=n}else g.__rowNum__=n;if(!a||t[n])for(var x=e.s.c;x<=e.e.c;++x){var w=a?t[n][x]:t[r[x]+c];if(w===void 0||w.t===void 0){if(u===void 0)continue;i[x]!=null&&(g[i[x]]=u);continue}var y=w.v;switch(w.t){case"z":if(y==null)break;continue;case"e":y=y==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+w.t)}if(i[x]!=null){if(y==null)if(w.t=="e"&&y===null)g[i[x]]=null;else if(u!==void 0)g[i[x]]=u;else if(d&&y===null)g[i[x]]=null;else continue;else g[i[x]]=d&&(w.t!=="n"||w.t==="n"&&o.rawNumbers!==!1)?y:lf(w,y,o);y!=null&&(p=!1)}}return{row:g,isempty:p}}function gS(t,e){if(t==null||t["!ref"]==null)return[];var n={t:"n",v:0},r=0,s=1,i=[],a=0,o="",c={s:{r:0,c:0},e:{r:0,c:0}},u=e||{},d=u.range!=null?u.range:t["!ref"];switch(u.header===1?r=1:u.header==="A"?r=2:Array.isArray(u.header)?r=3:u.header==null&&(r=0),typeof d){case"string":c=Ws(d);break;case"number":c=Ws(t["!ref"]),c.s.r=d;break;default:c=d}r>0&&(s=0);var p=ha(c.s.r),g=[],x=[],w=0,y=0,S=Array.isArray(t),C=c.s.r,F=0,I={};S&&!t[C]&&(t[C]=[]);var D=u.skipHidden&&t["!cols"]||[],z=u.skipHidden&&t["!rows"]||[];for(F=c.s.c;F<=c.e.c;++F)if(!(D[F]||{}).hidden)switch(g[F]=Ri(F),n=S?t[C][F]:t[g[F]+p],r){case 1:i[F]=F-c.s.c;break;case 2:i[F]=g[F];break;case 3:i[F]=u.header[F-c.s.c];break;default:if(n==null&&(n={w:"__EMPTY",t:"s"}),o=a=lf(n,null,u),y=I[a]||0,!y)I[a]=1;else{do o=a+"_"+y++;while(I[o]);I[a]=y,I[o]=1}i[F]=o}for(C=c.s.r+s;C<=c.e.r;++C)if(!(z[C]||{}).hidden){var G=rAe(t,c,C,g,r,i,S,u);(G.isempty===!1||(r===1?u.blankrows!==!1:u.blankrows))&&(x[w++]=G.row)}return x.length=w,x}var aL=/"/g;function sAe(t,e,n,r,s,i,a,o){for(var c=!0,u=[],d="",p=ha(n),g=e.s.c;g<=e.e.c;++g)if(r[g]){var x=o.dense?(t[n]||[])[g]:t[r[g]+p];if(x==null)d="";else if(x.v!=null){c=!1,d=""+(o.rawNumbers&&x.t=="n"?x.v:lf(x,null,o));for(var w=0,y=0;w!==d.length;++w)if((y=d.charCodeAt(w))===s||y===i||y===34||o.forceQuotes){d='"'+d.replace(aL,'""')+'"';break}d=="ID"&&(d='"ID"')}else x.f!=null&&!x.F?(c=!1,d="="+x.f,d.indexOf(",")>=0&&(d='"'+d.replace(aL,'""')+'"')):d="";u.push(d)}return o.blankrows===!1&&c?null:u.join(a)}function kH(t,e){var n=[],r=e??{};if(t==null||t["!ref"]==null)return"";var s=Ws(t["!ref"]),i=r.FS!==void 0?r.FS:",",a=i.charCodeAt(0),o=r.RS!==void 0?r.RS:`
`,c=o.charCodeAt(0),u=new RegExp((i=="|"?"\\|":i)+"+$"),d="",p=[];r.dense=Array.isArray(t);for(var g=r.skipHidden&&t["!cols"]||[],x=r.skipHidden&&t["!rows"]||[],w=s.s.c;w<=s.e.c;++w)(g[w]||{}).hidden||(p[w]=Ri(w));for(var y=0,S=s.s.r;S<=s.e.r;++S)(x[S]||{}).hidden||(d=sAe(t,s,S,p,a,c,i,r),d!=null&&(r.strip&&(d=d.replace(u,"")),(d||r.blankrows!==!1)&&n.push((y++?o:"")+d)));return delete r.dense,n.join("")}function iAe(t,e){e||(e={}),e.FS="	",e.RS=`
`;var n=kH(t,e);return n}function aAe(t){var e="",n,r="";if(t==null||t["!ref"]==null)return[];var s=Ws(t["!ref"]),i="",a=[],o,c=[],u=Array.isArray(t);for(o=s.s.c;o<=s.e.c;++o)a[o]=Ri(o);for(var d=s.s.r;d<=s.e.r;++d)for(i=ha(d),o=s.s.c;o<=s.e.c;++o)if(e=a[o]+i,n=u?(t[d]||[])[o]:t[e],r="",n!==void 0){if(n.F!=null){if(e=n.F,!n.f)continue;r=n.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(n.f!=null)r=n.f;else{if(n.t=="z")continue;if(n.t=="n"&&n.v!=null)r=""+n.v;else if(n.t=="b")r=n.v?"TRUE":"FALSE";else if(n.w!==void 0)r="'"+n.w;else{if(n.v===void 0)continue;n.t=="s"?r="'"+n.v:r=""+n.v}}c[c.length]=e+"="+r}return c}function RH(t,e,n){var r=n||{},s=+!r.skipHeader,i=t||{},a=0,o=0;if(i&&r.origin!=null)if(typeof r.origin=="number")a=r.origin;else{var c=typeof r.origin=="string"?Ya(r.origin):r.origin;a=c.r,o=c.c}var u,d={s:{c:0,r:0},e:{c:o,r:a+e.length-1+s}};if(i["!ref"]){var p=Ws(i["!ref"]);d.e.c=Math.max(d.e.c,p.e.c),d.e.r=Math.max(d.e.r,p.e.r),a==-1&&(a=p.e.r+1,d.e.r=a+e.length-1+s)}else a==-1&&(a=0,d.e.r=e.length-1+s);var g=r.header||[],x=0;e.forEach(function(y,S){ou(y).forEach(function(C){(x=g.indexOf(C))==-1&&(g[x=g.length]=C);var F=y[C],I="z",D="",z=Hn({c:o+x,r:a+S+s});u=ux(i,z),F&&typeof F=="object"&&!(F instanceof Date)?i[z]=F:(typeof F=="number"?I="n":typeof F=="boolean"?I="b":typeof F=="string"?I="s":F instanceof Date?(I="d",r.cellDates||(I="n",F=Qa(F)),D=r.dateNF||Kn[14]):F===null&&r.nullError&&(I="e",F=0),u?(u.t=I,u.v=F,delete u.w,delete u.R,D&&(u.z=D)):i[z]=u={t:I,v:F},D&&(u.z=D))})}),d.e.c=Math.max(d.e.c,o+g.length-1);var w=ha(a);if(s)for(x=0;x<g.length;++x)i[Ri(x+o)+w]={t:"s",v:g[x]};return i["!ref"]=Sr(d),i}function oAe(t,e){return RH(null,t,e)}function ux(t,e,n){if(typeof e=="string"){if(Array.isArray(t)){var r=Ya(e);return t[r.r]||(t[r.r]=[]),t[r.r][r.c]||(t[r.r][r.c]={t:"z"})}return t[e]||(t[e]={t:"z"})}return typeof e!="number"?ux(t,Hn(e)):ux(t,Hn({r:e,c:n||0}))}function lAe(t,e){if(typeof e=="number"){if(e>=0&&t.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var n=t.SheetNames.indexOf(e);if(n>-1)return n;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function lN(){return{SheetNames:[],Sheets:{}}}function cN(t,e,n,r){var s=1;if(!n)for(;s<=65535&&t.SheetNames.indexOf(n="Sheet"+s)!=-1;++s,n=void 0);if(!n||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&t.SheetNames.indexOf(n)>=0){var i=n.match(/(^.*?)(\d+)$/);s=i&&+i[2]||0;var a=i&&i[1]||n;for(++s;s<=65535&&t.SheetNames.indexOf(n=a+s)!=-1;++s);}if($Te(n),t.SheetNames.indexOf(n)>=0)throw new Error("Worksheet with name |"+n+"| already exists!");return t.SheetNames.push(n),t.Sheets[n]=e,n}function cAe(t,e,n){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var r=lAe(t,e);switch(t.Workbook.Sheets[r]||(t.Workbook.Sheets[r]={}),n){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+n)}t.Workbook.Sheets[r].Hidden=n}function uAe(t,e){return t.z=e,t}function PH(t,e,n){return e?(t.l={Target:e},n&&(t.l.Tooltip=n)):delete t.l,t}function fAe(t,e,n){return PH(t,"#"+e,n)}function dAe(t,e,n){t.c||(t.c=[]),t.c.push({t:e,a:n||"SheetJS"})}function hAe(t,e,n,r){for(var s=typeof e!="string"?e:Ws(e),i=typeof e=="string"?e:Sr(e),a=s.s.r;a<=s.e.r;++a)for(var o=s.s.c;o<=s.e.c;++o){var c=ux(t,a,o);c.t="n",c.F=i,delete c.v,a==s.s.r&&o==s.s.c&&(c.f=n,r&&(c.D=!0))}return t}var oL={encode_col:Ri,encode_row:ha,encode_cell:Hn,encode_range:Sr,decode_col:KC,decode_row:WC,split_cell:S2e,decode_cell:Ya,decode_range:Hm,format_cell:lf,sheet_add_aoa:Fq,sheet_add_json:RH,sheet_add_dom:AH,aoa_to_sheet:zm,json_to_sheet:oAe,table_to_sheet:CH,table_to_book:kSe,sheet_to_csv:kH,sheet_to_txt:iAe,sheet_to_json:gS,sheet_to_html:ISe,sheet_to_formulae:aAe,sheet_to_row_object_array:gS,sheet_get_cell:ux,book_new:lN,book_append_sheet:cN,book_set_sheet_visibility:cAe,cell_set_number_format:uAe,cell_set_hyperlink:PH,cell_set_internal_link:fAe,cell_add_comment:dAe,sheet_set_array_formula:hAe,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const lL=({onClose:t,onImportComplete:e})=>{const{company:n}=i0(),[r,s]=J.useState(!1),[i,a]=J.useState({type:"idle",message:""}),[o,c]=J.useState({products:0,customers:0}),u=async g=>new Promise((x,w)=>{const y=new FileReader;y.onload=S=>{try{const C=new Uint8Array(S.target?.result),F=mS(C,{type:"array"}),I={products:[],customers:[]};if(F.SheetNames.includes("Products")){const D=oL.sheet_to_json(F.Sheets.Products);I.products=D.map(z=>({id:Math.random().toString(36).substr(2,9),name:z["Product Name"]||z.Name||"",price:parseFloat(z.Price||z.Rate||0),stock:parseInt(z.Stock||z.Quantity||0),category:z.Category||"",hsn:n?.gst_enabled&&(z.HSN||z["HSN Code"])||"",gstRate:n?.gst_enabled?parseFloat(z["GST Rate"]||z.GSTRATE||0):0}))}if(F.SheetNames.includes("Customers")){const D=oL.sheet_to_json(F.Sheets.Customers);I.customers=D.map(z=>({id:Math.random().toString(36).substr(2,9),name:z["Customer Name"]||z.Name||"",company:z.Company||"",email:z.Email||"",phone:z.Phone||z.Mobile||"",address:z.Address||"",state:n?.gst_enabled&&z.State||"",gstin:n?.gst_enabled&&z.GSTIN||"",balance:0,notifications:[]}))}x(I)}catch(C){w(C)}},y.onerror=()=>w(new Error("Failed to read file")),y.readAsArrayBuffer(g)}),d=g=>{const x={products:[],customers:[]};try{const y=new DOMParser().parseFromString(g,"text/xml");if(y.getElementsByTagName("parsererror").length>0)throw new Error("Invalid XML format");const S=y.getElementsByTagName("ITEM");for(let F=0;F<S.length;F++){const I=S[F],D=I.getElementsByTagName("NAME")[0]?.textContent||"",z=n?.gst_enabled&&I.getElementsByTagName("HSNCODE")[0]?.textContent||"",G=n?.gst_enabled?parseFloat(I.getElementsByTagName("GSTRATE")[0]?.textContent||"0"):0;D&&x.products.push({id:Math.random().toString(36).substr(2,9),name:D,price:0,stock:0,category:"Imported",hsn:z,gstRate:G})}const C=y.getElementsByTagName("LEDGER");for(let F=0;F<C.length;F++){const I=C[F],D=I.getElementsByTagName("NAME")[0]?.textContent||"",z=I.getElementsByTagName("ADDRESS")[0]?.textContent||"",G=n?.gst_enabled&&I.getElementsByTagName("STATE")[0]?.textContent||"",P=n?.gst_enabled&&I.getElementsByTagName("GSTIN")[0]?.textContent||"",M=I.getElementsByTagName("PHONE")[0]?.textContent||"",R=I.getElementsByTagName("EMAIL")[0]?.textContent||"";D&&!["Sales","Purchase","Duty","Tax"].includes(D)&&x.customers.push({id:Math.random().toString(36).substr(2,9),name:D,company:"",email:R||"",phone:M||"",address:z||"",state:G||"",gstin:P||"",balance:0,notifications:[]})}}catch(w){throw new Error("Failed to parse Tally XML: "+w.message)}return x},p=async g=>{const x=g.target.files?.[0];if(x){s(!0),a({type:"idle",message:""});try{let w;if(x.name.endsWith(".xlsx")||x.name.endsWith(".xls"))w=await u(x);else if(x.name.endsWith(".xml")){const y=await x.text();w=d(y)}else throw new Error("Unsupported file format. Use .xlsx, .xls, or .xml");w.products.length>0&&w.products.forEach(y=>{it.saveProduct(y)}),w.customers.length>0&&w.customers.forEach(y=>{it.saveCustomer(y)}),c({products:w.products.length,customers:w.customers.length}),a({type:"success",message:`Successfully imported ${w.products.length} products and ${w.customers.length} customers!`}),setTimeout(()=>{e(),t()},2e3)}catch(w){a({type:"error",message:w.message||"Import failed. Please check the file format."})}finally{s(!1)}}};return m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:m.jsxs("div",{className:"bg-white rounded-lg shadow-lg max-w-md w-full p-6",children:[m.jsx("h2",{className:"text-xl font-bold text-slate-900 mb-4",children:"Import Data"}),m.jsxs("div",{className:"space-y-4",children:[m.jsx("div",{className:"border-2 border-dashed border-blue-200 rounded-lg p-6 text-center hover:bg-blue-50 transition-colors",children:m.jsxs("label",{className:"cursor-pointer flex flex-col items-center gap-2",children:[m.jsx(xb,{className:"w-8 h-8 text-blue-500"}),m.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Drop or click to upload"}),m.jsx("span",{className:"text-xs text-slate-500",children:".xlsx, .xls, or Tally .xml"}),m.jsx("input",{type:"file",accept:".xlsx,.xls,.xml",onChange:p,disabled:r,className:"hidden","data-testid":"file-input-import"})]})}),i.type==="success"&&m.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 flex gap-3",children:[m.jsx(i1,{className:"w-5 h-5 text-green-600 flex-shrink-0"}),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm font-medium text-green-900",children:i.message}),m.jsxs("p",{className:"text-xs text-green-700 mt-1",children:[o.products," products, ",o.customers," customers"]})]})]}),i.type==="error"&&m.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex gap-3",children:[m.jsx(mx,{className:"w-5 h-5 text-red-600 flex-shrink-0"}),m.jsx("p",{className:"text-sm font-medium text-red-900",children:i.message})]}),r&&m.jsxs("div",{className:"flex items-center justify-center gap-2 py-4",children:[m.jsx(tO,{className:"w-5 h-5 text-blue-600 animate-spin"}),m.jsx("span",{className:"text-sm text-slate-600",children:"Processing..."})]}),m.jsx("div",{className:`rounded-lg p-3 ${n?.gst_enabled?"bg-blue-50 border border-blue-200":"bg-amber-50 border border-amber-200"}`,children:m.jsxs("p",{className:`text-xs ${n?.gst_enabled?"text-blue-900":"text-amber-900"}`,children:[m.jsx("span",{className:"font-medium",children:"Supported formats:"}),m.jsx("br",{})," Excel: Products sheet with Name, Price, Stock",n?.gst_enabled?", HSN, GST Rate":"",m.jsx("br",{})," Excel: Customers sheet with Name, Email, Phone, Address",n?.gst_enabled?", State, GSTIN":"",m.jsx("br",{})," Tally XML: Extract ITEM and LEDGER masters",!n?.gst_enabled&&m.jsxs(m.Fragment,{children:[m.jsx("br",{}),m.jsx("br",{}),m.jsx("span",{className:"font-medium",children:" GST is currently disabled"})," - GST fields will be ignored"]})]})})]}),m.jsx("button",{onClick:t,disabled:r,className:"w-full mt-6 px-4 py-2 border border-slate-300 rounded-md text-slate-700 hover:bg-slate-50 font-medium transition-colors disabled:opacity-50","data-testid":"button-close-import",children:"Close"})]})})},pAe=({customerId:t,onBack:e,onViewInvoice:n,onEditPayment:r})=>{const s=it.getCustomers().find(y=>y.id===t),i=it.getInvoices().filter(y=>y.customerId===t),a=it.getPayments().filter(y=>y.customerId===t),[o,c]=J.useState({from:new Date(new Date().getFullYear(),new Date().getMonth(),1).toISOString().split("T")[0],to:new Date().toISOString().split("T")[0]}),{debitItems:u,creditItems:d,openingBalance:p}=J.useMemo(()=>{const y=i.filter(D=>D.date<o.from).reduce((D,z)=>D+z.total,0),S=a.filter(D=>D.date<o.from).reduce((D,z)=>D+z.amount,0),C=y-S,F=i.filter(D=>D.date>=o.from&&D.date<=o.to).map(D=>({id:D.id,date:D.date,description:"To Sales",reference:D.invoiceNumber,amount:D.total,original:D,type:"INVOICE"})).sort((D,z)=>new Date(D.date).getTime()-new Date(z.date).getTime()),I=a.filter(D=>D.date>=o.from&&D.date<=o.to).map(D=>({id:D.id,date:D.date,description:"By Receipt",reference:D.mode,amount:D.amount,original:D,type:"PAYMENT"})).sort((D,z)=>new Date(D.date).getTime()-new Date(z.date).getTime());return{debitItems:F,creditItems:I,openingBalance:C}},[i,a,o]),g=J.useMemo(()=>{const y=u.reduce((I,D)=>I+D.amount,0),S=d.reduce((I,D)=>I+D.amount,0),C=p>0?p+y:y,F=p<0?Math.abs(p)+S:S;return{totalDebit:C,totalCredit:F,balance:p+y-S}},[u,d,p]),x=y=>{ri.light(),y.type==="INVOICE"?n(y.original):r(y.original)},w=()=>{if(!s)return;const y=new gn("l","mm","a4"),S=12,C=y.internal.pageSize.getWidth(),I=(C-S*2)/2;let D=20;y.setFontSize(22),y.setTextColor(40,40,40),y.text(`${s.company||s.name}`.toUpperCase(),C/2,D,{align:"center"}),D+=10,y.setFontSize(14),y.setTextColor(100,100,100),y.text("LEDGER ACCOUNT",C/2,D,{align:"center"}),D+=8,y.setFontSize(10),y.text(`Period: ${o.from} to ${o.to}`,C/2,D,{align:"center"}),D+=12,y.setDrawColor(0),y.setLineWidth(.5),y.line(S,D,C-S,D),D+=7,y.setFont("helvetica","bold"),y.setFontSize(11),y.text("Dr.",S,D-9),y.text("Date",S+2,D),y.text("Particulars",S+25,D),y.text("Ref",S+85,D),y.text("Amount (Rs.)",S+I-5,D,{align:"right"}),y.text("Cr.",C-S-5,D-9),y.text("Date",S+I+5,D),y.text("Particulars",S+I+28,D),y.text("Ref",S+I+88,D),y.text("Amount (Rs.)",C-S-2,D,{align:"right"}),D+=3,y.line(S,D,C-S,D),y.line(C/2,D-10,C/2,200),D+=8,y.setFontSize(10),p!==0&&(p>0?(y.text(o.from,S+2,D),y.text("To Opening Balance (b/d)",S+25,D),y.text(p.toLocaleString(),S+I-5,D,{align:"right"})):(y.text(o.from,S+I+5,D),y.text("By Opening Balance (b/d)",S+I+28,D),y.text(Math.abs(p).toLocaleString(),C-S-2,D,{align:"right"})),D+=8),y.setFont("helvetica","normal");const z=Math.max(u.length,d.length);for(let P=0;P<z;P++){if(D>180&&(y.addPage(),D=20,y.line(C/2,D,C/2,200)),u[P]){y.text(u[P].date,S+2,D),y.text(u[P].description,S+25,D);const M=u[P].reference.toString();y.text(M.length>20?M.substring(0,18)+"..":M,S+85,D),y.text(u[P].amount.toLocaleString(),S+I-5,D,{align:"right"})}if(d[P]){y.text(d[P].date,S+I+5,D),y.text(d[P].description,S+I+28,D);const M=d[P].reference.toString();y.text(M.length>20?M.substring(0,18)+"..":M,S+I+88,D),y.text(d[P].amount.toLocaleString(),C-S-2,D,{align:"right"})}D+=8}D=Math.max(D,180),y.setLineWidth(.3),y.line(S,D,C-S,D),D+=8,y.setFont("helvetica","bold"),y.text("Total Dr.",S+25,D),y.text("Rs. "+g.totalDebit.toLocaleString(),S+I-5,D,{align:"right"}),y.text("Total Cr.",S+I+28,D),y.text("Rs. "+g.totalCredit.toLocaleString(),C-S-2,D,{align:"right"}),D+=12,y.setFontSize(12);const G=`Net Closing Balance: Rs. ${Math.abs(g.balance).toLocaleString()} (${g.balance>=0?"Dr.":"Cr."})`;if(y.text(G,C-S,D,{align:"right"}),Gh.isNativePlatform())try{const P=y.output("datauristring").split(",")[1],M=`${s.name}-Ledger-${o.from}.pdf`;r2.writeFile({path:M,data:P,directory:W2.Documents}).then(()=>{alert(`Saved to Documents: ${M}`)}).catch(R=>alert(`Save Failed: ${R}`))}catch(P){alert("Native Save Error: "+P)}else y.save(`${s.name}-Ledger-${o.from}.pdf`)};return s?m.jsxs("div",{className:"bg-slate-50 dark:bg-black min-h-screen pb-24 font-['Outfit']",children:[m.jsx("div",{className:"sticky top-0 z-20 bg-white/80 dark:bg-black/80 backdrop-blur-md border-b border-slate-200 dark:border-gray-800 p-4",children:m.jsxs("div",{className:"max-w-6xl mx-auto flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("button",{onClick:e,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full transition-colors",children:m.jsx(Qu,{className:"w-6 h-6"})}),m.jsxs("div",{children:[m.jsx("h1",{className:"text-xl font-bold",children:"Ledger Account (T-Shape)"}),m.jsx("p",{className:"text-sm text-slate-500 font-medium",children:s.company||s.name})]})]}),m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsxs("div",{className:"hidden md:flex bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700 p-1",children:[m.jsx("input",{type:"date",className:"bg-transparent border-none text-xs font-bold p-2",value:o.from,onChange:y=>c({...o,from:y.target.value})}),m.jsx("div",{className:"self-center px-1 text-slate-400",children:""}),m.jsx("input",{type:"date",className:"bg-transparent border-none text-xs font-bold p-2",value:o.to,onChange:y=>c({...o,to:y.target.value})})]}),m.jsxs("button",{onClick:w,className:"bg-slate-900 dark:bg-white dark:text-black text-white px-5 py-2.5 rounded-2xl flex items-center gap-2 font-black shadow-xl active:scale-95 transition-all",children:[m.jsx(Sm,{className:"w-5 h-5"})," Export PDF"]})]})]})}),m.jsxs("div",{className:"max-w-6xl mx-auto p-4 space-y-6",children:[m.jsxs("div",{className:"md:hidden grid grid-cols-2 gap-4",children:[m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-3 rounded-2xl border border-slate-100",children:[m.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase mb-1",children:"From"}),m.jsx("input",{type:"date",className:"w-full bg-transparent font-bold text-sm",value:o.from,onChange:y=>c({...o,from:y.target.value})})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 p-3 rounded-2xl border border-slate-100",children:[m.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase mb-1",children:"To"}),m.jsx("input",{type:"date",className:"w-full bg-transparent font-bold text-sm",value:o.to,onChange:y=>c({...o,to:y.target.value})})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[m.jsxs("div",{className:"bg-white dark:bg-gray-900 p-5 rounded-[32px] border border-slate-100 dark:border-gray-800 shadow-sm relative overflow-hidden group",children:[m.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:scale-110 transition-transform",children:m.jsx(G5,{className:"w-12 h-12"})}),m.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mb-1",children:"Total Debits (Dr.)"}),m.jsxs("p",{className:"text-3xl font-black text-slate-900 dark:text-slate-100",children:["",g.totalDebit.toLocaleString()]})]}),m.jsxs("div",{className:"bg-white dark:bg-gray-900 p-5 rounded-[32px] border border-slate-100 dark:border-gray-800 shadow-sm text-emerald-600 relative overflow-hidden group",children:[m.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:scale-110 transition-transform",children:m.jsx(G5,{className:"w-12 h-12"})}),m.jsx("p",{className:"text-xs font-bold opacity-60 uppercase tracking-widest mb-1",children:"Total Credits (Cr.)"}),m.jsxs("p",{className:"text-3xl font-black",children:["",g.totalCredit.toLocaleString()]})]}),m.jsxs("div",{className:`${g.balance>=0?"bg-red-600":"bg-emerald-600"} p-5 rounded-[32px] shadow-lg shadow-blue-500/20 text-white relative overflow-hidden group`,children:[m.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-20 group-hover:scale-110 transition-transform",children:m.jsx(bd,{className:"w-12 h-12"})}),m.jsx("p",{className:"text-xs font-bold opacity-80 uppercase tracking-widest mb-1",children:"Closing Balance"}),m.jsxs("p",{className:"text-3xl font-black",children:["",Math.abs(g.balance).toLocaleString()]}),m.jsx("p",{className:"text-[10px] font-bold mt-1 uppercase opacity-70",children:g.balance>=0?"Debit Balance":"Credit Balance"})]})]}),m.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-[40px] shadow-xl border border-slate-100 dark:border-gray-800 overflow-hidden",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 divide-y md:divide-y-0 md:divide-x divide-slate-200 dark:divide-gray-800",children:[m.jsxs("div",{children:[m.jsxs("div",{className:"bg-slate-50 dark:bg-black/40 px-6 py-4 border-b border-slate-200 dark:border-gray-800 flex justify-between items-center",children:[m.jsx("span",{className:"text-xs font-black text-slate-400 uppercase tracking-tighter",children:"Debit (Dr.)"}),m.jsx("span",{className:"text-[10px] font-bold text-slate-400 px-2 py-1 bg-slate-100 dark:bg-slate-800 rounded-lg",children:"To Sales Account"})]}),m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full text-left",children:[m.jsx("thead",{className:"text-[10px] font-black text-slate-400 uppercase border-b border-slate-100 dark:border-slate-800",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-6 py-3",children:"Date"}),m.jsx("th",{className:"px-6 py-3",children:"Reference"}),m.jsx("th",{className:"px-6 py-3 text-right",children:"Amount"})]})}),m.jsxs("tbody",{className:"divide-y divide-slate-50 dark:divide-slate-800",children:[p>0&&m.jsxs("tr",{className:"bg-blue-50/30 dark:bg-blue-900/10 italic",children:[m.jsx("td",{className:"px-6 py-4 text-xs font-bold text-slate-400",children:o.from}),m.jsx("td",{className:"px-6 py-4 text-[10px] font-bold text-blue-600 uppercase",children:"To Opening Balance (b/d)"}),m.jsxs("td",{className:"px-6 py-4 text-right font-black text-blue-700",children:["",p.toLocaleString()]})]}),u.map(y=>m.jsxs("tr",{onClick:()=>x(y),className:"hover:bg-slate-50 dark:hover:bg-slate-900/30 cursor-pointer active:bg-slate-100 transition-colors",children:[m.jsx("td",{className:"px-6 py-4 text-xs font-bold text-slate-500",children:y.date}),m.jsx("td",{className:"px-6 py-4",children:m.jsx("div",{className:"text-[10px] font-bold text-slate-400 uppercase group-hover:text-blue-500",children:y.reference})}),m.jsxs("td",{className:"px-6 py-4 text-right font-black text-slate-800 dark:text-slate-100",children:["",y.amount.toLocaleString()]})]},y.id)),u.length===0&&p<=0&&m.jsx("tr",{children:m.jsx("td",{colSpan:3,className:"px-6 py-12 text-center text-xs text-slate-400 italic",children:"No debit entries"})})]})]})})]}),m.jsxs("div",{children:[m.jsxs("div",{className:"bg-slate-50 dark:bg-black/40 px-6 py-4 border-b border-slate-200 dark:border-gray-800 flex justify-between items-center text-emerald-600",children:[m.jsx("span",{className:"text-xs font-black uppercase tracking-tighter opacity-70",children:"Credit (Cr.)"}),m.jsx("span",{className:"text-[10px] font-bold opacity-70 px-2 py-1 bg-emerald-50 dark:bg-emerald-900/20 rounded-lg",children:"By Receipt Account"})]}),m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full text-left",children:[m.jsx("thead",{className:"text-[10px] font-black text-slate-400 uppercase border-b border-slate-100 dark:border-slate-800",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-6 py-3",children:"Date"}),m.jsx("th",{className:"px-6 py-3",children:"Reference"}),m.jsx("th",{className:"px-6 py-3 text-right",children:"Amount"})]})}),m.jsxs("tbody",{className:"divide-y divide-slate-50 dark:divide-slate-800",children:[p<0&&m.jsxs("tr",{className:"bg-emerald-50/30 dark:bg-emerald-900/10 italic",children:[m.jsx("td",{className:"px-6 py-4 text-xs font-bold text-slate-400",children:o.from}),m.jsx("td",{className:"px-6 py-4 text-[10px] font-bold text-emerald-600 uppercase",children:"By Opening Balance (b/d)"}),m.jsxs("td",{className:"px-6 py-4 text-right font-black text-emerald-700",children:["",Math.abs(p).toLocaleString()]})]}),d.map(y=>m.jsxs("tr",{onClick:()=>x(y),className:"hover:bg-slate-50 dark:hover:bg-slate-900/30 cursor-pointer active:bg-slate-100 transition-colors",children:[m.jsx("td",{className:"px-6 py-4 text-xs font-bold text-slate-500",children:y.date}),m.jsx("td",{className:"px-6 py-4",children:m.jsx("div",{className:"text-[10px] font-bold text-slate-400 uppercase group-hover:text-emerald-500",children:y.reference})}),m.jsxs("td",{className:"px-6 py-4 text-right font-black text-emerald-600",children:["",y.amount.toLocaleString()]})]},y.id)),d.length===0&&p>=0&&m.jsx("tr",{children:m.jsx("td",{colSpan:3,className:"px-6 py-12 text-center text-xs text-slate-400 italic",children:"No credit entries"})})]})]})})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 border-t border-slate-200 dark:border-gray-800 bg-slate-50 dark:bg-black/40",children:[m.jsxs("div",{className:"px-6 py-4 flex justify-between items-center border-b md:border-b-0 md:border-r border-slate-200 dark:border-slate-700",children:[m.jsx("span",{className:"text-xs font-black text-slate-800 dark:text-slate-100",children:"TOTAL DEBIT"}),m.jsxs("span",{className:"text-lg font-black text-slate-900 dark:text-slate-100",children:["",g.totalDebit.toLocaleString()]})]}),m.jsxs("div",{className:"px-6 py-4 flex justify-between items-center text-emerald-600",children:[m.jsx("span",{className:"text-xs font-black",children:"TOTAL CREDIT"}),m.jsxs("span",{className:"text-lg font-black",children:["",g.totalCredit.toLocaleString()]})]})]})]})]})]}):null},mAe=({invoices:t,onViewInvoice:e,onViewCustomerLedger:n,onViewDaybook:r,onQuickShare:s,onCreateInvoice:i,onOpenReports:a,onAddCustomer:o,onOpenSmartCalc:c})=>{const{company:u}=i0(),[d,p]=Ho.useState("ALL"),g=Ho.useMemo(()=>{const F=new Date,I=F.toISOString().split("T")[0],D=F.toISOString().slice(0,7);return t.filter(z=>d==="TODAY"?z.date===I:d==="MONTH"?z.date.startsWith(D):!0)},[t,d]),x=g.reduce((F,I)=>F+I.total,0),w=g.filter(F=>F.status==="PENDING").length,y=it.getProducts().length;it.getCustomers().length;const S={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.05}}},C={hidden:{opacity:0,y:10},show:{opacity:1,y:0}};return m.jsxs("div",{className:"pb-32 md:pb-6 bg-slate-50 dark:bg-slate-900/50 min-h-screen font-sans",children:[m.jsx("div",{className:"pt-16 pb-6 px-6 bg-transparent sticky top-0 z-10 transition-all",children:m.jsxs("div",{className:"max-w-5xl mx-auto flex justify-between items-end",children:[m.jsxs("div",{className:"overflow-hidden flex-1",children:[m.jsx("p",{className:"text-[10px] font-bold text-blue-600 dark:text-blue-400 uppercase tracking-widest mb-1 px-1",children:new Date().toLocaleDateString("en-IN",{day:"numeric",month:"long"})}),m.jsx("h1",{className:"text-4xl md:text-5xl font-semibold font-heading text-slate-900 dark:text-slate-100 tracking-tight truncate leading-tight",children:u?.name||"Dashboard"})]}),m.jsxs("div",{className:"flex gap-3 flex-shrink-0 ml-4",children:[m.jsx(Fn.button,{whileTap:{scale:.9},onClick:c,className:"w-12 h-12 rounded-2xl bg-white dark:bg-slate-800 border-none flex items-center justify-center text-slate-700 dark:text-slate-300 shadow-sm hover:shadow-md transition-all active:bg-slate-50",children:m.jsx(z5,{className:"w-6 h-6 text-primary"})}),m.jsx("div",{className:"w-12 h-12 rounded-2xl bg-white dark:bg-slate-800 p-1 shadow-sm border-none overflow-hidden",children:m.jsx("img",{src:"/logo.png",className:"w-full h-full object-contain rounded-xl",alt:"Firm Logo"})})]})]})}),m.jsxs(Fn.div,{variants:S,initial:"hidden",animate:"show",className:"px-4 md:px-8 max-w-5xl mx-auto space-y-8",children:[m.jsx(Fn.div,{variants:C,className:"flex gap-2 pb-2 overflow-x-auto no-scrollbar mask-gradient-right",children:[{id:"ALL",label:"Overview"},{id:"TODAY",label:"Today"},{id:"MONTH",label:"Monthly"}].map(F=>m.jsx("button",{onClick:()=>p(F.id),className:`px-6 py-2.5 rounded-full text-sm font-medium transition-all whitespace-nowrap border ${d===F.id?"bg-primary/10 text-primary border-primary/20":"bg-white dark:bg-slate-800 text-slate-500 dark:text-slate-400 border-transparent hover:bg-slate-100 dark:hover:bg-slate-700"}`,children:F.label},F.id))}),m.jsx("div",{className:"space-y-4",children:m.jsxs(Fn.div,{variants:C,onClick:a,className:"relative overflow-hidden bg-gradient-to-br from-slate-900 to-slate-800 dark:from-slate-800 dark:to-slate-900 p-8 rounded-[40px] shadow-2xl shadow-blue-500/10 text-white group border border-white/5 cursor-pointer active:scale-[0.99] transition-all",children:[m.jsx("div",{className:"absolute top-0 right-0 -mr-16 -mt-16 w-64 h-64 bg-blue-500/10 rounded-full blur-3xl group-hover:bg-blue-500/20 transition-colors"}),m.jsx("div",{className:"absolute bottom-0 left-0 -ml-8 -mb-8 w-32 h-32 bg-indigo-500/10 rounded-full blur-2xl"}),m.jsxs("div",{className:"relative z-10",children:[m.jsxs("div",{className:"flex justify-between items-start mb-6",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-[10px] font-bold uppercase tracking-widest opacity-60 mb-1",children:"Total Receivables"}),m.jsxs("h2",{className:"text-4xl md:text-5xl font-semibold font-heading tracking-tight italic",children:["",x.toLocaleString("en-IN")]})]}),m.jsx("div",{className:"p-4 bg-white/5 backdrop-blur-xl rounded-3xl border border-white/10",children:m.jsx(Lp,{className:"w-8 h-8 text-blue-400"})})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-8 pt-6 border-t border-white/10",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-[10px] font-bold uppercase tracking-widest opacity-40 mb-1",children:"Pending Invoices"}),m.jsxs("p",{className:"text-xl font-bold font-heading",children:[w," Bills"]})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-[10px] font-bold uppercase tracking-widest opacity-40 mb-1",children:"Items In Stock"}),m.jsxs("p",{className:"text-xl font-bold font-heading",children:[y," SKU"]})]})]})]})]})}),m.jsxs(Fn.div,{variants:C,className:"bg-white dark:bg-slate-900 border border-slate-100 dark:border-white/5 p-6 rounded-[32px] shadow-sm overflow-hidden relative group",children:[m.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-emerald-500/5 rounded-full -mr-16 -mt-16 group-hover:scale-150 transition-transform duration-500"}),m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:"w-14 h-14 rounded-2xl bg-emerald-50 dark:bg-emerald-500/10 flex items-center justify-center text-emerald-600 dark:text-emerald-400 shrink-0",children:m.jsx(i1,{className:"w-8 h-8"})}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsx("h4",{className:"text-sm font-bold text-slate-900 dark:text-slate-100 uppercase tracking-tight",children:"Daily Automatic Backup"}),m.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 font-medium",children:"100% Free & Secure via GitHub Actions"})]}),m.jsxs("div",{className:"hidden sm:flex flex-col items-end",children:[m.jsx("span",{className:"px-3 py-1 bg-emerald-100 dark:bg-emerald-500/20 text-emerald-700 dark:text-emerald-300 text-[10px] font-bold rounded-full uppercase tracking-widest",children:"Active"}),m.jsx("p",{className:"text-[10px] text-slate-400 mt-1 uppercase font-bold",children:"Safe Setup"})]})]})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsx("h3",{className:"text-lg font-semibold font-heading text-slate-900 dark:text-slate-100 tracking-tight italic uppercase px-2",children:"Working Shortcuts"}),m.jsxs(Fn.div,{variants:C,className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[m.jsxs("button",{onClick:i,className:"group relative bg-white dark:bg-slate-800 p-6 rounded-[32px] shadow-sm hover:shadow-xl hover:shadow-primary/10 transition-all border border-slate-100 dark:border-slate-800 overflow-hidden active:scale-95",children:[m.jsx("div",{className:"absolute top-0 right-0 -mr-4 -mt-4 w-16 h-16 bg-primary/5 rounded-full group-hover:scale-150 transition-transform"}),m.jsx("div",{className:"w-12 h-12 rounded-2xl bg-primary/10 flex items-center justify-center mb-4 group-hover:bg-primary group-hover:rotate-12 transition-all",children:m.jsx(wd,{className:"w-6 h-6 text-primary group-hover:text-white"})}),m.jsx("span",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-200",children:"New Bill"})]}),m.jsxs("button",{onClick:()=>r(new Date().toISOString().split("T")[0]),className:"group relative bg-white dark:bg-slate-800 p-6 rounded-[32px] shadow-sm hover:shadow-xl hover:shadow-emerald-500/10 transition-all border border-slate-100 dark:border-slate-800 overflow-hidden active:scale-95",children:[m.jsx("div",{className:"absolute top-0 right-0 -mr-4 -mt-4 w-16 h-16 bg-emerald-500/5 rounded-full group-hover:scale-150 transition-transform"}),m.jsx("div",{className:"w-12 h-12 rounded-2xl bg-emerald-500/10 flex items-center justify-center mb-4 group-hover:bg-emerald-500 group-hover:-rotate-12 transition-all",children:m.jsx(Ph,{className:"w-6 h-6 text-emerald-600 group-hover:text-white"})}),m.jsx("span",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-200",children:"Daybook"})]}),m.jsxs("button",{onClick:a,className:"group relative bg-white dark:bg-slate-800 p-6 rounded-[32px] shadow-sm hover:shadow-xl hover:shadow-orange-500/10 transition-all border border-slate-100 dark:border-slate-800 overflow-hidden active:scale-95",children:[m.jsx("div",{className:"absolute top-0 right-0 -mr-4 -mt-4 w-16 h-16 bg-orange-500/5 rounded-full group-hover:scale-150 transition-transform"}),m.jsx("div",{className:"w-12 h-12 rounded-2xl bg-orange-500/10 flex items-center justify-center mb-4 group-hover:bg-orange-500 group-hover:rotate-12 transition-all",children:m.jsx(bd,{className:"w-6 h-6 text-orange-500 group-hover:text-white"})}),m.jsx("span",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-200",children:"Reports"})]}),m.jsxs("button",{onClick:o,className:"group relative bg-white dark:bg-slate-800 p-6 rounded-[32px] shadow-sm hover:shadow-xl hover:shadow-purple-500/10 transition-all border border-slate-100 dark:border-slate-800 overflow-hidden active:scale-95",children:[m.jsx("div",{className:"absolute top-0 right-0 -mr-4 -mt-4 w-16 h-16 bg-purple-500/5 rounded-full group-hover:scale-150 transition-transform"}),m.jsx("div",{className:"w-12 h-12 rounded-2xl bg-purple-500/10 flex items-center justify-center mb-4 group-hover:bg-purple-500 group-hover:-rotate-12 transition-all",children:m.jsx(nm,{className:"w-6 h-6 text-purple-500 group-hover:text-white"})}),m.jsx("span",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-200",children:"Clients"})]})]})]}),m.jsxs(Fn.div,{variants:C,className:"bg-white dark:bg-slate-800/40 rounded-[48px] p-6 lg:p-10 border border-slate-100 dark:border-slate-800/50 mb-10 shadow-sm",children:[m.jsxs("div",{className:"flex justify-between items-center mb-8 px-2",children:[m.jsx("h3",{className:"text-3xl font-semibold font-heading text-slate-900 dark:text-slate-100 tracking-tighter italic uppercase",children:"Recent Activity"}),t.length>0&&m.jsx("button",{onClick:a,className:"text-xs font-bold uppercase tracking-widest text-primary hover:bg-primary/5 px-6 py-3 rounded-2xl bg-slate-50 dark:bg-slate-800 transition-all border border-slate-100 dark:border-slate-800",children:"History"})]}),m.jsx("div",{className:"space-y-4",children:t.length===0?m.jsxs("div",{className:"py-20 flex flex-col items-center justify-center text-center px-6",children:[m.jsx("div",{className:"w-24 h-24 bg-slate-100 dark:bg-slate-800 rounded-full flex items-center justify-center mb-6",children:m.jsx(bd,{className:"w-12 h-12 text-slate-300"})}),m.jsx("h4",{className:"text-xl font-black text-slate-900 dark:text-slate-100 mb-2 mt-8",children:"Empty Ledger"}),m.jsx("p",{className:"text-sm text-slate-500 mb-8 max-w-[280px]",children:"Your business activities will appear here once you create an invoice."}),m.jsxs("button",{onClick:i,className:"bg-primary text-white px-10 py-4 rounded-3xl font-black shadow-2xl shadow-primary/40 flex items-center gap-2 active:scale-95 transition-all uppercase tracking-widest text-[10px]",children:[m.jsx(wd,{className:"w-5 h-5 text-white"}),"Generate Bill"]})]}):[...t].sort((F,I)=>new Date(I.date).getTime()-new Date(F.date).getTime()).slice(0,10).map(F=>m.jsxs("div",{className:"group relative flex items-center justify-between p-4 rounded-3xl hover:bg-white dark:hover:bg-slate-800 transition-all cursor-pointer border border-transparent hover:border-slate-100 dark:hover:border-slate-800 hover:shadow-xl hover:shadow-slate-200/50 dark:hover:shadow-none active:scale-[0.98]",onClick:()=>e(F),children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:"w-14 h-14 rounded-2xl bg-slate-50 dark:bg-slate-800/50 flex items-center justify-center text-lg font-bold text-slate-400 group-hover:bg-primary group-hover:text-white transition-all transform group-hover:rotate-6",children:F.customerName.charAt(0)}),m.jsxs("div",{children:[m.jsx("p",{className:"text-base font-semibold font-heading text-slate-900 dark:text-slate-100 truncate max-w-[160px] tracking-tight",children:F.customerName}),m.jsxs("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest opacity-60",children:["#",F.invoiceNumber,"  ",new Date(F.date).toLocaleDateString("en-IN",{day:"2-digit",month:"short"})]})]})]}),m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:"hidden group-hover:flex items-center gap-2",children:m.jsx("button",{onClick:I=>{I.stopPropagation(),n(F.customerId)},className:"p-3 rounded-2xl bg-blue-50 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 hover:bg-blue-600 hover:text-white transition-all shadow-sm",title:"View Ledger",children:m.jsx(nm,{className:"w-5 h-5"})})}),m.jsxs("div",{className:"text-right",children:[m.jsxs("p",{className:"text-lg font-bold font-heading text-slate-900 dark:text-slate-100",children:["",F.total.toLocaleString("en-IN")]}),m.jsxs("div",{className:"flex items-center gap-1.5 justify-end mt-1",children:[m.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${F.status==="PAID"?"bg-emerald-500":"bg-orange-500"}`}),m.jsx("span",{className:`text-[10px] font-bold uppercase tracking-widest ${F.status==="PAID"?"text-emerald-600":"text-orange-600"}`,children:F.status})]})]})]})]},F.id))})]})]})]})},gAe=({onBack:t,onViewLedger:e})=>{const n=it.getInvoices(),r=it.getExpenses(),s=J.useMemo(()=>{const i=n.reduce((u,d)=>u+d.total,0),a=r.reduce((u,d)=>u+d.amount,0),o=i-a,c={};return[...n,...r].forEach(u=>{const p=new Date(("status"in u,u.date)).toLocaleString("default",{month:"short",year:"2-digit"});c[p]||(c[p]={sales:0,expenses:0}),"total"in u?c[p].sales+=u.total:c[p].expenses+=u.amount}),{totalSales:i,totalExpenses:a,netProfit:o,monthlyData:c}},[n,r]);return m.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900 min-h-full pb-20",children:[m.jsxs("div",{className:"sticky top-0 z-10 bg-slate-50 dark:bg-slate-900 px-4 py-4 flex items-center gap-4",children:[m.jsx("button",{onClick:t,className:"p-2 -ml-2 rounded-full hover:bg-slate-200 dark:hover:bg-slate-800 transition-colors",children:m.jsx(Qu,{className:"w-6 h-6 text-slate-700 dark:text-slate-200"})}),m.jsx("h1",{className:"text-2xl font-normal text-slate-800 dark:text-slate-100",children:"Reports"})]}),m.jsxs("div",{className:"px-4 max-w-4xl mx-auto space-y-6",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[m.jsxs(Fn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-blue-100 dark:bg-blue-900/30 p-6 rounded-[24px] text-blue-900 dark:text-blue-100",children:[m.jsxs("div",{className:"flex items-start justify-between mb-4",children:[m.jsx("div",{className:"p-3 bg-white/50 dark:bg-white/10 rounded-2xl",children:m.jsx(Lp,{className:"w-6 h-6"})}),m.jsx("span",{className:"text-xs font-bold uppercase tracking-wider opacity-60",children:"Revenue"})]}),m.jsxs("h3",{className:"text-3xl font-normal",children:["",s.totalSales.toLocaleString("en-IN")]})]}),m.jsxs(Fn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-red-100 dark:bg-red-900/30 p-6 rounded-[24px] text-red-900 dark:text-red-100",children:[m.jsxs("div",{className:"flex items-start justify-between mb-4",children:[m.jsx("div",{className:"p-3 bg-white/50 dark:bg-white/10 rounded-2xl",children:m.jsx(SJ,{className:"w-6 h-6"})}),m.jsx("span",{className:"text-xs font-bold uppercase tracking-wider opacity-60",children:"Expenses"})]}),m.jsxs("h3",{className:"text-3xl font-normal",children:["",s.totalExpenses.toLocaleString("en-IN")]})]}),m.jsxs(Fn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-emerald-100 dark:bg-emerald-900/30 p-6 rounded-[24px] text-emerald-900 dark:text-emerald-100",children:[m.jsxs("div",{className:"flex items-start justify-between mb-4",children:[m.jsx("div",{className:"p-3 bg-white/50 dark:bg-white/10 rounded-2xl",children:m.jsx(Lp,{className:"w-6 h-6"})}),m.jsx("span",{className:"text-xs font-bold uppercase tracking-wider opacity-60",children:"Net Profit"})]}),m.jsxs("h3",{className:"text-3xl font-normal",children:["",s.netProfit.toLocaleString("en-IN")]})]})]}),m.jsxs(Fn.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.35},className:"bg-blue-600 text-white rounded-[32px] p-8 shadow-xl shadow-blue-500/20",children:[m.jsxs("div",{className:"flex justify-between items-start mb-6",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"text-xl font-bold",children:"Collection Performance"}),m.jsx("p",{className:"text-blue-100 text-sm opacity-80",children:"How effectively are you collecting payments?"})]}),m.jsx("div",{className:"bg-white/20 p-2 rounded-xl",children:m.jsx(Lp,{className:"w-6 h-6 text-white"})})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-8",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-xs font-bold uppercase tracking-wider opacity-60 mb-1",children:"Total Receivables"}),m.jsxs("p",{className:"text-3xl font-black",children:["",it.getCustomers().reduce((i,a)=>i+a.balance,0).toLocaleString()]})]}),m.jsxs("div",{className:"text-right",children:[m.jsx("p",{className:"text-xs font-bold uppercase tracking-wider opacity-60 mb-1",children:"Recovery Rate"}),m.jsxs("p",{className:"text-3xl font-black",children:[Math.round(s.totalSales/(s.totalSales+it.getCustomers().reduce((i,a)=>i+a.balance,0))*100),"%"]})]})]}),m.jsx("div",{className:"h-4 bg-white/20 rounded-full overflow-hidden",children:m.jsx(Fn.div,{initial:{width:0},animate:{width:`${Math.round(s.totalSales/(s.totalSales+it.getCustomers().reduce((i,a)=>i+a.balance,0))*100)}%`},className:"h-full bg-white rounded-full shadow-lg"})}),m.jsx("p",{className:"text-[10px] mt-2 font-bold opacity-60",children:"Calculated based on lifetime sales vs current outstanding balance."})]}),m.jsxs(Fn.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"bg-white dark:bg-slate-800 rounded-[24px] p-6 shadow-sm border border-slate-100 dark:border-slate-700",children:[m.jsxs("div",{className:"flex justify-between items-center mb-6",children:[m.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-100",children:"Monthly Performance"}),m.jsxs("button",{className:"text-blue-600 text-sm font-medium flex items-center gap-1 hover:bg-blue-50 px-3 py-1 rounded-full transition-colors",children:[m.jsx(Sm,{className:"w-4 h-4"})," Export CSV"]})]}),m.jsx("div",{className:"space-y-4",children:Object.keys(s.monthlyData).map((i,a)=>m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:"w-16 text-sm font-bold text-slate-500 dark:text-slate-400",children:i}),m.jsxs("div",{className:"flex-1 space-y-1",children:[m.jsx("div",{className:"h-2 w-full bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden",children:m.jsx(Fn.div,{initial:{width:0},animate:{width:`${s.monthlyData[i].sales/s.totalSales*100}%`},className:"h-full bg-blue-500 rounded-full"})}),m.jsx("div",{className:"h-1.5 w-full bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden opacity-70",children:m.jsx(Fn.div,{initial:{width:0},animate:{width:`${(s.monthlyData[i].sales-s.monthlyData[i].expenses)/s.totalSales*100}%`},className:"h-full bg-emerald-500 rounded-full"})})]}),m.jsxs("div",{className:"text-right min-w-[80px]",children:[m.jsxs("div",{className:"text-sm font-bold text-slate-800 dark:text-slate-200",children:["",s.monthlyData[i].sales.toLocaleString("en-IN",{notation:"compact"})]}),m.jsxs("div",{className:"text-xs text-emerald-600 font-medium",children:["",(s.monthlyData[i].sales-s.monthlyData[i].expenses).toLocaleString("en-IN",{notation:"compact"})]})]})]},i))})]}),m.jsxs(Fn.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"bg-white dark:bg-slate-800 rounded-[24px] p-6 shadow-sm border border-slate-100 dark:border-slate-700",children:[m.jsx("h3",{className:"text-lg font-bold mb-4",children:"Customer Ledger Reports"}),m.jsx("p",{className:"text-sm text-slate-500 mb-6",children:"Select a customer to view their detailed transaction history with custom date filters."}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:it.getCustomers().slice(0,6).map(i=>m.jsxs("button",{onClick:()=>e(i.id),className:"flex items-center justify-between p-4 bg-slate-50 dark:bg-slate-900 rounded-2xl border border-slate-100 dark:border-slate-800 hover:border-blue-200 transition-colors",children:[m.jsxs("div",{className:"text-left",children:[m.jsx("p",{className:"font-bold text-slate-800 dark:text-slate-100",children:i.company||i.name}),m.jsxs("p",{className:"text-xs text-slate-500",children:["Balance: ",i.balance.toLocaleString()]})]}),m.jsx(Qu,{className:"w-5 h-5 text-slate-300 rotate-180"})]},i.id))})]})]})]})},xAe=()=>{const{company:t,saveCompany:e,loading:n}=i0(),[r,s]=J.useState(""),[i,a]=J.useState(""),[o,c]=J.useState(""),[u,d]=J.useState(!0),[p,g]=J.useState(""),[x,w]=J.useState(!1);J.useEffect(()=>{t&&(s(t.name||""),a(t.address||""),c(t.gst||""),d(t.gst_enabled??!0))},[t]);const y=async S=>{if(S.preventDefault(),!r.trim()){g("Company name is required");return}g(""),w(!0);try{await e({name:r,address:i,gst:o,gst_enabled:u})}catch(C){g(C.message||"Failed to save company details")}finally{w(!1)}};return n?m.jsx("div",{className:"fixed inset-0 bg-slate-50 flex items-center justify-center z-50",children:m.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):m.jsx("div",{className:"fixed inset-0 bg-slate-900/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:m.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md overflow-hidden",children:[m.jsxs("div",{className:"bg-blue-600 p-4 flex items-center gap-3",children:[m.jsx("div",{className:"bg-white/20 p-2 rounded-lg",children:m.jsx(KF,{className:"w-6 h-6 text-white"})}),m.jsxs("div",{children:[m.jsx("h2",{className:"text-lg font-bold text-white",children:"Company Details"}),m.jsx("p",{className:"text-blue-100 text-xs",children:"Please complete your profile to continue"})]})]}),m.jsxs("form",{onSubmit:y,className:"p-6 space-y-4",children:[p&&m.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-md flex items-center gap-2 text-sm",children:[m.jsx(mx,{className:"w-4 h-4 flex-shrink-0"}),p]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Company Name *"}),m.jsx("input",{type:"text",value:r,onChange:S=>s(S.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g. Acme Corp"})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Address"}),m.jsx("textarea",{value:i,onChange:S=>a(S.target.value),rows:3,className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Full business address"})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-sm font-medium text-slate-700",children:"GST / Tax ID"}),m.jsx("input",{type:"text",value:o,onChange:S=>c(S.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Optional"})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("input",{type:"checkbox",id:"gstEnabled",checked:u,onChange:S=>d(S.target.checked),className:"rounded border-slate-300 text-blue-600 focus:ring-blue-500"}),m.jsx("label",{htmlFor:"gstEnabled",className:"text-sm text-slate-700",children:"Enable GST calculations"})]}),m.jsx("div",{className:"pt-4",children:m.jsx("button",{type:"submit",disabled:x,className:"w-full flex justify-center items-center gap-2 py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:x?m.jsx(m.Fragment,{children:"Processing..."}):m.jsxs(m.Fragment,{children:[m.jsx(p2,{className:"w-4 h-4"})," Save & Continue"]})})})]})]})})},vAe=()=>{const{signIn:t,signUp:e}=Rx(),[n,r]=J.useState(!0),[s,i]=J.useState(""),[a,o]=J.useState(""),[c,u]=J.useState(""),[d,p]=J.useState(!1),g=async x=>{x.preventDefault(),u(""),p(!0);try{n?await t(s,a):await e(s,a)}catch(w){console.error("Auth Error:",w);let y="Authentication failed.";(w.code?.includes("auth/invalid-email")||w.message?.includes("auth/invalid-email"))&&(y="Invalid email address."),(w.code?.includes("auth/user-not-found")||w.code?.includes("auth/invalid-credential"))&&(y="Invalid email or password."),w.code?.includes("auth/wrong-password")&&(y="Incorrect password."),w.code?.includes("auth/email-already-in-use")&&(y="Email already registered."),w.code?.includes("auth/weak-password")&&(y="Password should be at least 6 characters."),w.code?.includes("auth/network-request-failed")&&(y="Network error. Check your connection."),u(y)}finally{p(!1)}};return m.jsxs("div",{className:"min-h-screen bg-slate-900 relative flex items-center justify-center p-4 overflow-hidden",children:[m.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-900 via-blue-900 to-slate-900"}),m.jsx(Fn.div,{animate:{scale:[1,1.2,1],rotate:[0,90,0],opacity:[.3,.5,.3]},transition:{duration:10,repeat:1/0},className:"absolute top-[-10%] left-[-10%] w-[500px] h-[500px] rounded-full bg-blue-600/20 blur-[100px]"}),m.jsx(Fn.div,{animate:{scale:[1,1.1,1],x:[0,50,0],opacity:[.2,.4,.2]},transition:{duration:15,repeat:1/0},className:"absolute bottom-[-10%] right-[-10%] w-[600px] h-[600px] rounded-full bg-indigo-600/20 blur-[120px]"}),m.jsx(Fn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md relative z-10",children:m.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl shadow-2xl overflow-hidden",children:[m.jsxs("div",{className:"p-8 pb-6 text-center border-b border-white/10",children:[m.jsx(Fn.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200,damping:15},className:"inline-flex p-4 bg-gradient-to-tr from-blue-500 to-indigo-600 rounded-2xl shadow-lg mb-4 group",children:m.jsx(nA,{className:"w-8 h-8 text-white group-hover:rotate-12 transition-transform duration-300"})}),m.jsx("h2",{className:"text-3xl font-bold text-white mb-2 tracking-tight",children:"BillFlow"}),m.jsx("p",{className:"text-blue-200 text-sm font-medium",children:"Smart Invoicing & Business Management"}),m.jsx("p",{className:"text-slate-400 text-xs mt-1",children:"by Lavneet Rathi"})]}),m.jsxs("div",{className:"p-8 pt-6 bg-white/95 backdrop-blur-sm",children:[m.jsxs("div",{className:"mb-6 flex p-1 bg-slate-100 rounded-xl relative",children:[m.jsx(Fn.div,{className:"absolute top-1 bottom-1 bg-white rounded-lg shadow-sm",initial:!1,animate:{left:n?"4px":"50%",width:"calc(50% - 4px)"}}),m.jsx("button",{onClick:()=>{r(!0),u("")},className:`flex-1 relative z-10 text-sm font-bold py-2 rounded-lg transition-colors ${n?"text-blue-700":"text-slate-500 hover:text-slate-700"}`,children:"Sign In"}),m.jsx("button",{onClick:()=>{r(!1),u("")},className:`flex-1 relative z-10 text-sm font-bold py-2 rounded-lg transition-colors ${n?"text-slate-500 hover:text-slate-700":"text-blue-700"}`,children:"Sign Up"})]}),m.jsx(ru,{mode:"wait",children:m.jsxs(Fn.form,{initial:{opacity:0,x:n?-20:20},animate:{opacity:1,x:0},exit:{opacity:0,x:n?20:-20},transition:{duration:.2},className:"space-y-5",onSubmit:g,children:[c&&m.jsxs(Fn.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-xl flex items-start gap-3 text-sm",children:[m.jsx(oO,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),m.jsx("span",{children:c})]}),m.jsxs("div",{className:"space-y-1",children:[m.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider ml-1",children:"Email"}),m.jsxs("div",{className:"relative group",children:[m.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:m.jsx(h2,{className:"h-5 w-5 text-slate-400 group-focus-within:text-blue-500 transition-colors"})}),m.jsx("input",{type:"email",required:!0,value:s,onChange:x=>i(x.target.value),placeholder:"your@email.com",className:"block w-full pl-10 pr-3 py-3 border border-slate-200 rounded-xl text-slate-800 placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all bg-slate-50 focus:bg-white"})]})]}),m.jsxs("div",{className:"space-y-1",children:[m.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider ml-1",children:"Password"}),m.jsxs("div",{className:"relative group",children:[m.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:m.jsx(QX,{className:"h-5 w-5 text-slate-400 group-focus-within:text-blue-500 transition-colors"})}),m.jsx("input",{type:"password",required:!0,minLength:6,value:a,onChange:x=>o(x.target.value),placeholder:"",className:"block w-full pl-10 pr-3 py-3 border border-slate-200 rounded-xl text-slate-800 placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all bg-slate-50 focus:bg-white"})]})]}),m.jsx("button",{type:"submit",disabled:d,className:`w-full flex justify-center items-center gap-2 py-3.5 px-4 rounded-xl text-sm font-bold text-white transition-all shadow-lg hover:shadow-blue-500/30 active:scale-[0.98] ${d?"bg-slate-400 cursor-not-allowed":"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700"}`,children:d?"Processing...":m.jsxs(m.Fragment,{children:[n?"Sign In":"Create Account",m.jsx(uX,{className:"w-4 h-4"})]})})]},n?"login":"signup")}),m.jsxs("div",{className:"mt-8 pt-6 border-t border-slate-100 text-center",children:[m.jsx("p",{className:"text-xs text-slate-400",children:n?"Don't have an account yet?":"Already have an account?"}),m.jsx("button",{onClick:()=>{r(!n),u("")},className:"text-sm font-bold text-blue-600 hover:text-blue-700 mt-1 hover:underline",children:n?"Sign up for free":"Log in to existing account"})]})]})]})})]})},yAe=()=>{const t=`rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    
    // Allow user to read/write their own company profile
    match /companies/{userId} {
      allow read, write: if request.auth != null && request.auth.uid == userId;
    }
    
    // Allow user to read/write their own data in 'users' collection
    match /users/{userId}/{document=**} {
      allow read, write: if request.auth != null && request.auth.uid == userId;
    }
    
  }
}`,e=()=>{navigator.clipboard.writeText(t),alert("Rules copied to clipboard!")};return m.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-sm flex items-center justify-center z-[100] p-4",children:m.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl overflow-hidden border border-red-200",children:[m.jsxs("div",{className:"bg-red-50 p-6 border-b border-red-100 flex items-start gap-4",children:[m.jsx("div",{className:"bg-red-100 p-3 rounded-full",children:m.jsx(vJ,{className:"w-8 h-8 text-red-600"})}),m.jsxs("div",{children:[m.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"Database Permission Error"}),m.jsxs("p",{className:"text-slate-600 mt-1",children:["The application cannot access the database. This usually happens when ",m.jsx("strong",{children:"Firestore Security Rules"})," are missing or incorrect."]})]})]}),m.jsxs("div",{className:"p-6 space-y-6",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"text-sm font-semibold text-slate-900 uppercase tracking-wider mb-3",children:"Action Required: Update Firebase Rules"}),m.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-slate-600 text-sm mb-4",children:[m.jsxs("li",{children:["Go to your ",m.jsx("strong",{children:"Firebase Console"})," > ",m.jsx("strong",{children:"Firestore Database"})," > ",m.jsx("strong",{children:"Rules"})," tab."]}),m.jsx("li",{children:"Replace the existing rules with the code below."}),m.jsxs("li",{children:["Click ",m.jsx("strong",{children:"Publish"}),"."]})]})]}),m.jsxs("div",{className:"relative",children:[m.jsx("pre",{className:"bg-slate-900 text-slate-50 p-4 rounded-lg text-xs font-mono overflow-x-auto leading-relaxed border border-slate-700",children:t}),m.jsxs("button",{onClick:e,className:"absolute top-2 right-2 bg-white/10 hover:bg-white/20 text-white px-3 py-1.5 rounded text-xs font-medium flex items-center gap-2 transition-colors",children:[m.jsx(LX,{className:"w-3 h-3"})," Copy"]})]}),m.jsxs("div",{className:"flex justify-end gap-3",children:[m.jsxs("a",{href:"https://console.firebase.google.com",target:"_blank",rel:"noreferrer",className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium text-sm transition-colors",children:["Open Firebase Console ",m.jsx(QF,{className:"w-4 h-4"})]}),m.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-slate-100 text-slate-700 rounded-lg hover:bg-slate-200 font-medium text-sm transition-colors",children:"I've Updated Rules, Reload App"})]})]})]})})},bAe=()=>{const{user:t,loading:e}=Rx(),{company:n,loading:r,permissionError:s}=i0(),{theme:i,setTheme:a}=CB(),[o,c]=J.useState(cn.DASHBOARD),[u,d]=J.useState(null),[p,g]=J.useState(null),[x,w]=J.useState(null),[y,S]=J.useState([]),[C,F]=J.useState(!0),[I,D]=J.useState(!1),[z,G]=J.useState(!1),[P,M]=J.useState(null),[R,U]=J.useState(null),[L,O]=J.useState(!1),[j,ie]=J.useState(!1),[Ee,ae]=J.useState(!1);J.useEffect(()=>{(async()=>{await it.init(t?.uid||null),S(it.getInvoices());const ue=!!it.getFirebaseConfig(),ge=lr.isReady();D(ue&&ge),F(!1)})()},[t]),J.useEffect(()=>{C||(async()=>{try{(await Gu.checkPermissions()).contacts!=="granted"&&await Gu.requestPermissions()}catch(ue){console.warn("Permission request error on startup:",ue)}})()},[C]),J.useEffect(()=>{C||S(it.getInvoices())},[o,C]);const pe=Q=>{d(Q),c(cn.VIEW_INVOICE)},de=Q=>{w(Q),c(cn.CUSTOMER_LEDGER)},oe=Q=>{g(Q),c(cn.EDIT_INVOICE)},ke=(Q,ue=!1)=>{o===cn.EDIT_INVOICE?it.updateInvoice(Q):it.saveInvoice(Q),S(it.getInvoices()),d(Q),ae(ue),c(cn.VIEW_INVOICE),g(null)},ne=Q=>{const ue=it.getCustomers().find(Pe=>Pe.id===Q.customerId),ge=it.getCompanyProfile();q2.shareInvoice(Q,ue,ge)},B=Q=>{M(Q),c(cn.DAYBOOK)};if(e||t&&r||C)return m.jsxs("div",{className:"flex h-screen w-full items-center justify-center bg-white dark:bg-slate-950 flex-col gap-6 animate-pulse",children:[m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"w-20 h-20 rounded-3xl bg-blue-600 flex items-center justify-center shadow-2xl shadow-blue-500/20 rotate-12",children:m.jsx($5,{className:"w-10 h-10 text-white -rotate-12"})}),m.jsx("div",{className:"absolute -bottom-2 -right-2 w-8 h-8 rounded-full bg-emerald-500 border-4 border-white dark:border-slate-950 flex items-center justify-center",children:m.jsx("div",{className:"w-2 h-2 rounded-full bg-white animate-ping"})})]}),m.jsxs("div",{className:"text-center",children:[m.jsx("h1",{className:"text-2xl font-black text-slate-900 dark:text-white tracking-tighter uppercase italic",children:"BillBook"}),m.jsx("p",{className:"text-slate-400 text-[10px] font-black uppercase tracking-[0.2em] mt-1",children:"Initializing Secure Session"})]})]});if(s)return m.jsx(yAe,{});if(!t)return m.jsx(vAe,{});if(!n)return m.jsx(xAe,{});if(C)return m.jsxs("div",{className:"flex h-screen w-full items-center justify-center bg-slate-50 flex-col gap-4",children:[m.jsx(tO,{className:"w-10 h-10 text-blue-600 animate-spin"}),m.jsx("p",{className:"text-slate-500 font-medium",children:"Loading Data..."})]});const K=()=>{g(null),ie(!1),c(cn.CREATE_INVOICE)},Y=()=>{g(null),ie(!0),c(cn.CREATE_INVOICE)};return m.jsxs("div",{className:"flex h-screen bg-slate-50 dark:bg-slate-900 overflow-hidden font-sans flex-col md:flex-row",children:[m.jsxs("div",{className:`
          fixed inset-0 z-[100] md:relative md:z-auto
          ${L?"flex":"hidden md:flex"}
        `,children:[m.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-md md:hidden",onClick:()=>O(!1)}),m.jsx("div",{className:"relative h-full animate-in slide-in-from-left duration-300",children:m.jsx(zie,{currentView:o,onClose:()=>O(!1),onChangeView:Q=>{Q===cn.CREATE_INVOICE&&(g(null),ie(!1)),Q===cn.IMPORT?G(!0):c(Q),O(!1)},isCloudConnected:I||!!t})})]}),m.jsxs("main",{className:"flex-1 overflow-y-auto h-full relative w-full scroll-smooth bg-slate-50 dark:bg-slate-900",children:[!["VIEW_INVOICE","CREATE_INVOICE","EDIT_INVOICE"].includes(o)&&m.jsxs("div",{className:"md:hidden sticky top-0 z-30 bg-white/80 dark:bg-slate-950/80 backdrop-blur-md px-4 h-16 flex items-center justify-between border-b border-slate-200/50 dark:border-slate-800/50 shadow-sm",children:[m.jsx("button",{onClick:()=>O(!0),className:"p-2 -ml-2 rounded-xl text-slate-600 dark:text-slate-400 active:bg-slate-100 dark:active:bg-slate-800",children:m.jsx($5,{className:"w-6 h-6"})}),m.jsxs("div",{className:"flex-1 text-center px-4 overflow-hidden",children:[m.jsx("h2",{className:"text-sm font-black text-slate-900 dark:text-slate-100 uppercase tracking-tighter truncate leading-tight",children:n?.name||"BillBook"}),m.jsx("p",{className:"text-[9px] text-blue-600 dark:text-blue-400 font-black uppercase tracking-widest leading-tight",children:o.replace("_"," ")})]}),m.jsx("button",{onClick:()=>{a(i==="dark"?"light":"dark"),ri.medium()},className:"p-2 -mr-2 rounded-xl text-slate-600 dark:text-slate-400 active:bg-slate-100 dark:active:bg-slate-800",children:i==="dark"?m.jsx(aO,{className:"w-6 h-6 text-yellow-500"}):m.jsx(sO,{className:"w-6 h-6 text-blue-600"})})]}),m.jsx(ru,{mode:"wait",children:m.jsxs(Fn.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"w-full h-full",children:[o===cn.DASHBOARD&&m.jsx(mAe,{invoices:y,onViewInvoice:pe,onViewCustomerLedger:de,onViewDaybook:B,onQuickShare:ne,onCreateInvoice:K,onOpenReports:()=>c(cn.REPORTS),onAddCustomer:()=>c(cn.CUSTOMERS),onOpenSmartCalc:Y}),o===cn.INVOICES&&m.jsx(r8,{invoices:y,onView:pe,onEdit:oe,onViewLedger:de,onDelete:Q=>{it.deleteInvoice(Q.id),S(it.getInvoices())}}),o===cn.ALL_INVOICES&&m.jsx(r8,{invoices:y,onView:pe,onEdit:oe,onViewLedger:de,onDelete:Q=>{it.deleteInvoice(Q.id),S(it.getInvoices())}}),o===cn.DAYBOOK&&m.jsx(cye,{initialDate:P}),o===cn.INVENTORY&&m.jsx(aye,{}),o===cn.EXPENSES&&m.jsx(fye,{onBack:()=>c(cn.DASHBOARD)}),o===cn.PAYMENTS&&m.jsx(dye,{onBack:()=>{c(cn.DASHBOARD),U(null)},initialPayment:R}),o===cn.REPORTS&&m.jsx(gAe,{onBack:()=>c(cn.DASHBOARD),onViewLedger:de}),o===cn.CUSTOMERS&&m.jsx(oye,{onEditInvoice:oe,onBack:()=>c(cn.DASHBOARD)}),o===cn.SETTINGS&&m.jsx(lye,{}),o===cn.IMPORT&&m.jsx(lL,{onClose:()=>c(cn.DASHBOARD),onImportComplete:()=>{}}),o===cn.CUSTOMER_LEDGER&&x&&m.jsx(pAe,{customerId:x,onBack:()=>c(cn.DASHBOARD),onViewInvoice:pe,onEditPayment:Q=>{U(Q),c(cn.PAYMENTS)}}),o===cn.CREATE_INVOICE&&m.jsx(SM,{onSave:ke,onCancel:()=>c(cn.INVOICES),startSmartCalc:j}),o===cn.EDIT_INVOICE&&p&&m.jsx(SM,{onSave:ke,onCancel:()=>c(cn.INVOICES),initialInvoice:p}),o===cn.VIEW_INVOICE&&u&&m.jsx(JV,{invoice:u,onBack:()=>c(cn.INVOICES),onEdit:oe,onViewLedger:de,showPostSaveActions:Ee,onClosePostSaveActions:()=>ae(!1)})]},o)})]}),m.jsx("div",{className:"md:hidden",children:m.jsx(Gie,{currentView:o,onChangeView:Q=>{Q===cn.CREATE_INVOICE&&(g(null),ie(!1)),Q===cn.IMPORT?G(!0):c(Q)}})}),z&&o!==cn.IMPORT&&m.jsx(lL,{onClose:()=>G(!1),onImportComplete:()=>{S(it.getInvoices()),c(cn.INVENTORY)}})]})},wAe=()=>m.jsx(_ie,{children:m.jsx(ppe,{children:m.jsx(bAe,{})})});Yz.createRoot(document.getElementById("root")).render(m.jsx(Aie,{attribute:"class",defaultTheme:"system",enableSystem:!0,children:m.jsx(wAe,{})}));export{KD as E,kp as I,i6 as N,aC as W,zr as _,jie as b,_Ae as c,xS as g};
