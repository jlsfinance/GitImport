(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var g1e=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function bV(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var I_={exports:{}},wm={};var A4;function TV(){if(A4)return wm;A4=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,s){var a=null;if(s!==void 0&&(a=""+s),i.key!==void 0&&(a=""+i.key),"key"in i){s={};for(var o in i)o!=="key"&&(s[o]=i[o])}else s=i;return i=s.ref,{$$typeof:t,type:r,key:a,ref:i!==void 0?i:null,props:s}}return wm.Fragment=e,wm.jsx=n,wm.jsxs=n,wm}var C4;function EV(){return C4||(C4=1,I_.exports=TV()),I_.exports}var y=EV(),k_={exports:{}},bm={},R_={exports:{}},P_={};var N4;function SV(){return N4||(N4=1,(function(t){function e(se,xe){var he=se.length;se.push(xe);e:for(;0<he;){var ue=he-1>>>1,Le=se[ue];if(0<i(Le,xe))se[ue]=xe,se[he]=Le,he=ue;else break e}}function n(se){return se.length===0?null:se[0]}function r(se){if(se.length===0)return null;var xe=se[0],he=se.pop();if(he!==xe){se[0]=he;e:for(var ue=0,Le=se.length,ne=Le>>>1;ue<ne;){var M=2*(ue+1)-1,W=se[M],K=M+1,Q=se[K];if(0>i(W,he))K<Le&&0>i(Q,W)?(se[ue]=Q,se[K]=he,ue=K):(se[ue]=W,se[M]=he,ue=M);else if(K<Le&&0>i(Q,he))se[ue]=Q,se[K]=he,ue=K;else break e}}return xe}function i(se,xe){var he=se.sortIndex-xe.sortIndex;return he!==0?he:se.id-xe.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var c=[],f=[],h=1,p=null,g=3,x=!1,T=!1,S=!1,N=!1,k=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function q(se){for(var xe=n(f);xe!==null;){if(xe.callback===null)r(f);else if(xe.startTime<=se)r(f),xe.sortIndex=xe.expirationTime,e(c,xe);else break;xe=n(f)}}function Y(se){if(S=!1,q(se),!T)if(n(c)!==null)T=!0,J||(J=!0,L());else{var xe=n(f);xe!==null&&Ne(Y,xe.startTime-se)}}var J=!1,F=-1,O=5,C=-1;function H(){return N?!0:!(t.unstable_now()-C<O)}function P(){if(N=!1,J){var se=t.unstable_now();C=se;var xe=!0;try{e:{T=!1,S&&(S=!1,B(F),F=-1),x=!0;var he=g;try{t:{for(q(se),p=n(c);p!==null&&!(p.expirationTime>se&&H());){var ue=p.callback;if(typeof ue=="function"){p.callback=null,g=p.priorityLevel;var Le=ue(p.expirationTime<=se);if(se=t.unstable_now(),typeof Le=="function"){p.callback=Le,q(se),xe=!0;break t}p===n(c)&&r(c),q(se)}else r(c);p=n(c)}if(p!==null)xe=!0;else{var ne=n(f);ne!==null&&Ne(Y,ne.startTime-se),xe=!1}}break e}finally{p=null,g=he,x=!1}xe=void 0}}finally{xe?L():J=!1}}}var L;if(typeof R=="function")L=function(){R(P)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,me=V.port2;V.port1.onmessage=P,L=function(){me.postMessage(null)}}else L=function(){k(P,0)};function Ne(se,xe){F=k(function(){se(t.unstable_now())},xe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(se){se.callback=null},t.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<se?Math.floor(1e3/se):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_next=function(se){switch(g){case 1:case 2:case 3:var xe=3;break;default:xe=g}var he=g;g=xe;try{return se()}finally{g=he}},t.unstable_requestPaint=function(){N=!0},t.unstable_runWithPriority=function(se,xe){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var he=g;g=se;try{return xe()}finally{g=he}},t.unstable_scheduleCallback=function(se,xe,he){var ue=t.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?ue+he:ue):he=ue,se){case 1:var Le=-1;break;case 2:Le=250;break;case 5:Le=1073741823;break;case 4:Le=1e4;break;default:Le=5e3}return Le=he+Le,se={id:h++,callback:xe,priorityLevel:se,startTime:he,expirationTime:Le,sortIndex:-1},he>ue?(se.sortIndex=he,e(f,se),n(c)===null&&se===n(f)&&(S?(B(F),F=-1):S=!0,Ne(Y,he-ue))):(se.sortIndex=Le,e(c,se),T||x||(T=!0,J||(J=!0,L()))),se},t.unstable_shouldYield=H,t.unstable_wrapCallback=function(se){var xe=g;return function(){var he=g;g=xe;try{return se.apply(this,arguments)}finally{g=he}}}})(P_)),P_}var I4;function AV(){return I4||(I4=1,R_.exports=SV()),R_.exports}var D_={exports:{}},Fn={};var k4;function CV(){if(k4)return Fn;k4=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),a=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),g=Symbol.iterator;function x(ne){return ne===null||typeof ne!="object"?null:(ne=g&&ne[g]||ne["@@iterator"],typeof ne=="function"?ne:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,N={};function k(ne,M,W){this.props=ne,this.context=M,this.refs=N,this.updater=W||T}k.prototype.isReactComponent={},k.prototype.setState=function(ne,M){if(typeof ne!="object"&&typeof ne!="function"&&ne!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ne,M,"setState")},k.prototype.forceUpdate=function(ne){this.updater.enqueueForceUpdate(this,ne,"forceUpdate")};function B(){}B.prototype=k.prototype;function R(ne,M,W){this.props=ne,this.context=M,this.refs=N,this.updater=W||T}var q=R.prototype=new B;q.constructor=R,S(q,k.prototype),q.isPureReactComponent=!0;var Y=Array.isArray;function J(){}var F={H:null,A:null,T:null,S:null},O=Object.prototype.hasOwnProperty;function C(ne,M,W){var K=W.ref;return{$$typeof:t,type:ne,key:M,ref:K!==void 0?K:null,props:W}}function H(ne,M){return C(ne.type,M,ne.props)}function P(ne){return typeof ne=="object"&&ne!==null&&ne.$$typeof===t}function L(ne){var M={"=":"=0",":":"=2"};return"$"+ne.replace(/[=:]/g,function(W){return M[W]})}var V=/\/+/g;function me(ne,M){return typeof ne=="object"&&ne!==null&&ne.key!=null?L(""+ne.key):M.toString(36)}function Ne(ne){switch(ne.status){case"fulfilled":return ne.value;case"rejected":throw ne.reason;default:switch(typeof ne.status=="string"?ne.then(J,J):(ne.status="pending",ne.then(function(M){ne.status==="pending"&&(ne.status="fulfilled",ne.value=M)},function(M){ne.status==="pending"&&(ne.status="rejected",ne.reason=M)})),ne.status){case"fulfilled":return ne.value;case"rejected":throw ne.reason}}throw ne}function se(ne,M,W,K,Q){var ce=typeof ne;(ce==="undefined"||ce==="boolean")&&(ne=null);var we=!1;if(ne===null)we=!0;else switch(ce){case"bigint":case"string":case"number":we=!0;break;case"object":switch(ne.$$typeof){case t:case e:we=!0;break;case h:return we=ne._init,se(we(ne._payload),M,W,K,Q)}}if(we)return Q=Q(ne),we=K===""?"."+me(ne,0):K,Y(Q)?(W="",we!=null&&(W=we.replace(V,"$&/")+"/"),se(Q,M,W,"",function(Ae){return Ae})):Q!=null&&(P(Q)&&(Q=H(Q,W+(Q.key==null||ne&&ne.key===Q.key?"":(""+Q.key).replace(V,"$&/")+"/")+we)),M.push(Q)),1;we=0;var ke=K===""?".":K+":";if(Y(ne))for(var fe=0;fe<ne.length;fe++)K=ne[fe],ce=ke+me(K,fe),we+=se(K,M,W,ce,Q);else if(fe=x(ne),typeof fe=="function")for(ne=fe.call(ne),fe=0;!(K=ne.next()).done;)K=K.value,ce=ke+me(K,fe++),we+=se(K,M,W,ce,Q);else if(ce==="object"){if(typeof ne.then=="function")return se(Ne(ne),M,W,K,Q);throw M=String(ne),Error("Objects are not valid as a React child (found: "+(M==="[object Object]"?"object with keys {"+Object.keys(ne).join(", ")+"}":M)+"). If you meant to render a collection of children, use an array instead.")}return we}function xe(ne,M,W){if(ne==null)return ne;var K=[],Q=0;return se(ne,K,"","",function(ce){return M.call(W,ce,Q++)}),K}function he(ne){if(ne._status===-1){var M=ne._result;M=M(),M.then(function(W){(ne._status===0||ne._status===-1)&&(ne._status=1,ne._result=W)},function(W){(ne._status===0||ne._status===-1)&&(ne._status=2,ne._result=W)}),ne._status===-1&&(ne._status=0,ne._result=M)}if(ne._status===1)return ne._result.default;throw ne._result}var ue=typeof reportError=="function"?reportError:function(ne){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var M=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof ne=="object"&&ne!==null&&typeof ne.message=="string"?String(ne.message):String(ne),error:ne});if(!window.dispatchEvent(M))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",ne);return}console.error(ne)},Le={map:xe,forEach:function(ne,M,W){xe(ne,function(){M.apply(this,arguments)},W)},count:function(ne){var M=0;return xe(ne,function(){M++}),M},toArray:function(ne){return xe(ne,function(M){return M})||[]},only:function(ne){if(!P(ne))throw Error("React.Children.only expected to receive a single React element child.");return ne}};return Fn.Activity=p,Fn.Children=Le,Fn.Component=k,Fn.Fragment=n,Fn.Profiler=i,Fn.PureComponent=R,Fn.StrictMode=r,Fn.Suspense=c,Fn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,Fn.__COMPILER_RUNTIME={__proto__:null,c:function(ne){return F.H.useMemoCache(ne)}},Fn.cache=function(ne){return function(){return ne.apply(null,arguments)}},Fn.cacheSignal=function(){return null},Fn.cloneElement=function(ne,M,W){if(ne==null)throw Error("The argument must be a React element, but you passed "+ne+".");var K=S({},ne.props),Q=ne.key;if(M!=null)for(ce in M.key!==void 0&&(Q=""+M.key),M)!O.call(M,ce)||ce==="key"||ce==="__self"||ce==="__source"||ce==="ref"&&M.ref===void 0||(K[ce]=M[ce]);var ce=arguments.length-2;if(ce===1)K.children=W;else if(1<ce){for(var we=Array(ce),ke=0;ke<ce;ke++)we[ke]=arguments[ke+2];K.children=we}return C(ne.type,Q,K)},Fn.createContext=function(ne){return ne={$$typeof:a,_currentValue:ne,_currentValue2:ne,_threadCount:0,Provider:null,Consumer:null},ne.Provider=ne,ne.Consumer={$$typeof:s,_context:ne},ne},Fn.createElement=function(ne,M,W){var K,Q={},ce=null;if(M!=null)for(K in M.key!==void 0&&(ce=""+M.key),M)O.call(M,K)&&K!=="key"&&K!=="__self"&&K!=="__source"&&(Q[K]=M[K]);var we=arguments.length-2;if(we===1)Q.children=W;else if(1<we){for(var ke=Array(we),fe=0;fe<we;fe++)ke[fe]=arguments[fe+2];Q.children=ke}if(ne&&ne.defaultProps)for(K in we=ne.defaultProps,we)Q[K]===void 0&&(Q[K]=we[K]);return C(ne,ce,Q)},Fn.createRef=function(){return{current:null}},Fn.forwardRef=function(ne){return{$$typeof:o,render:ne}},Fn.isValidElement=P,Fn.lazy=function(ne){return{$$typeof:h,_payload:{_status:-1,_result:ne},_init:he}},Fn.memo=function(ne,M){return{$$typeof:f,type:ne,compare:M===void 0?null:M}},Fn.startTransition=function(ne){var M=F.T,W={};F.T=W;try{var K=ne(),Q=F.S;Q!==null&&Q(W,K),typeof K=="object"&&K!==null&&typeof K.then=="function"&&K.then(J,ue)}catch(ce){ue(ce)}finally{M!==null&&W.types!==null&&(M.types=W.types),F.T=M}},Fn.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},Fn.use=function(ne){return F.H.use(ne)},Fn.useActionState=function(ne,M,W){return F.H.useActionState(ne,M,W)},Fn.useCallback=function(ne,M){return F.H.useCallback(ne,M)},Fn.useContext=function(ne){return F.H.useContext(ne)},Fn.useDebugValue=function(){},Fn.useDeferredValue=function(ne,M){return F.H.useDeferredValue(ne,M)},Fn.useEffect=function(ne,M){return F.H.useEffect(ne,M)},Fn.useEffectEvent=function(ne){return F.H.useEffectEvent(ne)},Fn.useId=function(){return F.H.useId()},Fn.useImperativeHandle=function(ne,M,W){return F.H.useImperativeHandle(ne,M,W)},Fn.useInsertionEffect=function(ne,M){return F.H.useInsertionEffect(ne,M)},Fn.useLayoutEffect=function(ne,M){return F.H.useLayoutEffect(ne,M)},Fn.useMemo=function(ne,M){return F.H.useMemo(ne,M)},Fn.useOptimistic=function(ne,M){return F.H.useOptimistic(ne,M)},Fn.useReducer=function(ne,M,W){return F.H.useReducer(ne,M,W)},Fn.useRef=function(ne){return F.H.useRef(ne)},Fn.useState=function(ne){return F.H.useState(ne)},Fn.useSyncExternalStore=function(ne,M,W){return F.H.useSyncExternalStore(ne,M,W)},Fn.useTransition=function(){return F.H.useTransition()},Fn.version="19.2.0",Fn}var R4;function F5(){return R4||(R4=1,D_.exports=CV()),D_.exports}var M_={exports:{}},da={};var P4;function NV(){if(P4)return da;P4=1;var t=F5();function e(c){var f="https://react.dev/errors/"+c;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)f+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+c+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(c,f,h){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:c,containerInfo:f,implementation:h}}var a=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(c,f){if(c==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return da.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,da.createPortal=function(c,f){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return s(c,f,null,h)},da.flushSync=function(c){var f=a.T,h=r.p;try{if(a.T=null,r.p=2,c)return c()}finally{a.T=f,r.p=h,r.d.f()}},da.preconnect=function(c,f){typeof c=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(c,f))},da.prefetchDNS=function(c){typeof c=="string"&&r.d.D(c)},da.preinit=function(c,f){if(typeof c=="string"&&f&&typeof f.as=="string"){var h=f.as,p=o(h,f.crossOrigin),g=typeof f.integrity=="string"?f.integrity:void 0,x=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;h==="style"?r.d.S(c,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:p,integrity:g,fetchPriority:x}):h==="script"&&r.d.X(c,{crossOrigin:p,integrity:g,fetchPriority:x,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},da.preinitModule=function(c,f){if(typeof c=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var h=o(f.as,f.crossOrigin);r.d.M(c,{crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(c)},da.preload=function(c,f){if(typeof c=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var h=f.as,p=o(h,f.crossOrigin);r.d.L(c,h,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},da.preloadModule=function(c,f){if(typeof c=="string")if(f){var h=o(f.as,f.crossOrigin);r.d.m(c,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(c)},da.requestFormReset=function(c){r.d.r(c)},da.unstable_batchedUpdates=function(c,f){return c(f)},da.useFormState=function(c,f,h){return a.H.useFormState(c,f,h)},da.useFormStatus=function(){return a.H.useHostTransitionStatus()},da.version="19.2.0",da}var D4;function IV(){if(D4)return M_.exports;D4=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),M_.exports=NV(),M_.exports}var M4;function kV(){if(M4)return bm;M4=1;var t=AV(),e=F5(),n=IV();function r(l){var u="https://react.dev/errors/"+l;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)u+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function s(l){var u=l,d=l;if(l.alternate)for(;u.return;)u=u.return;else{l=u;do u=l,(u.flags&4098)!==0&&(d=u.return),l=u.return;while(l)}return u.tag===3?d:null}function a(l){if(l.tag===13){var u=l.memoizedState;if(u===null&&(l=l.alternate,l!==null&&(u=l.memoizedState)),u!==null)return u.dehydrated}return null}function o(l){if(l.tag===31){var u=l.memoizedState;if(u===null&&(l=l.alternate,l!==null&&(u=l.memoizedState)),u!==null)return u.dehydrated}return null}function c(l){if(s(l)!==l)throw Error(r(188))}function f(l){var u=l.alternate;if(!u){if(u=s(l),u===null)throw Error(r(188));return u!==l?null:l}for(var d=l,m=u;;){var E=d.return;if(E===null)break;var I=E.alternate;if(I===null){if(m=E.return,m!==null){d=m;continue}break}if(E.child===I.child){for(I=E.child;I;){if(I===d)return c(E),l;if(I===m)return c(E),u;I=I.sibling}throw Error(r(188))}if(d.return!==m.return)d=E,m=I;else{for(var G=!1,le=E.child;le;){if(le===d){G=!0,d=E,m=I;break}if(le===m){G=!0,m=E,d=I;break}le=le.sibling}if(!G){for(le=I.child;le;){if(le===d){G=!0,d=I,m=E;break}if(le===m){G=!0,m=I,d=E;break}le=le.sibling}if(!G)throw Error(r(189))}}if(d.alternate!==m)throw Error(r(190))}if(d.tag!==3)throw Error(r(188));return d.stateNode.current===d?l:u}function h(l){var u=l.tag;if(u===5||u===26||u===27||u===6)return l;for(l=l.child;l!==null;){if(u=h(l),u!==null)return u;l=l.sibling}return null}var p=Object.assign,g=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),B=Symbol.for("react.consumer"),R=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),J=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),H=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function L(l){return l===null||typeof l!="object"?null:(l=P&&l[P]||l["@@iterator"],typeof l=="function"?l:null)}var V=Symbol.for("react.client.reference");function me(l){if(l==null)return null;if(typeof l=="function")return l.$$typeof===V?null:l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case S:return"Fragment";case k:return"Profiler";case N:return"StrictMode";case Y:return"Suspense";case J:return"SuspenseList";case C:return"Activity"}if(typeof l=="object")switch(l.$$typeof){case T:return"Portal";case R:return l.displayName||"Context";case B:return(l._context.displayName||"Context")+".Consumer";case q:var u=l.render;return l=l.displayName,l||(l=u.displayName||u.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case F:return u=l.displayName||null,u!==null?u:me(l.type)||"Memo";case O:u=l._payload,l=l._init;try{return me(l(u))}catch{}}return null}var Ne=Array.isArray,se=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,xe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he={pending:!1,data:null,method:null,action:null},ue=[],Le=-1;function ne(l){return{current:l}}function M(l){0>Le||(l.current=ue[Le],ue[Le]=null,Le--)}function W(l,u){Le++,ue[Le]=l.current,l.current=u}var K=ne(null),Q=ne(null),ce=ne(null),we=ne(null);function ke(l,u){switch(W(ce,u),W(Q,l),W(K,null),u.nodeType){case 9:case 11:l=(l=u.documentElement)&&(l=l.namespaceURI)?YA(l):0;break;default:if(l=u.tagName,u=u.namespaceURI)u=YA(u),l=XA(u,l);else switch(l){case"svg":l=1;break;case"math":l=2;break;default:l=0}}M(K),W(K,l)}function fe(){M(K),M(Q),M(ce)}function Ae(l){l.memoizedState!==null&&W(we,l);var u=K.current,d=XA(u,l.type);u!==d&&(W(Q,l),W(K,d))}function Ue(l){Q.current===l&&(M(K),M(Q)),we.current===l&&(M(we),xm._currentValue=he)}var ae,it;function dt(l){if(ae===void 0)try{throw Error()}catch(d){var u=d.stack.trim().match(/\n( *(at )?)/);ae=u&&u[1]||"",it=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ae+l+it}var re=!1;function lt(l,u){if(!l||re)return"";re=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(u){var gt=function(){throw Error()};if(Object.defineProperty(gt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(gt,[])}catch(et){var Ze=et}Reflect.construct(l,[],gt)}else{try{gt.call()}catch(et){Ze=et}l.call(gt.prototype)}}else{try{throw Error()}catch(et){Ze=et}(gt=l())&&typeof gt.catch=="function"&&gt.catch(function(){})}}catch(et){if(et&&Ze&&typeof et.stack=="string")return[et.stack,Ze.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var E=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");E&&E.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var I=m.DetermineComponentFrameRoot(),G=I[0],le=I[1];if(G&&le){var Re=G.split(`
`),Je=le.split(`
`);for(E=m=0;m<Re.length&&!Re[m].includes("DetermineComponentFrameRoot");)m++;for(;E<Je.length&&!Je[E].includes("DetermineComponentFrameRoot");)E++;if(m===Re.length||E===Je.length)for(m=Re.length-1,E=Je.length-1;1<=m&&0<=E&&Re[m]!==Je[E];)E--;for(;1<=m&&0<=E;m--,E--)if(Re[m]!==Je[E]){if(m!==1||E!==1)do if(m--,E--,0>E||Re[m]!==Je[E]){var ut=`
`+Re[m].replace(" at new "," at ");return l.displayName&&ut.includes("<anonymous>")&&(ut=ut.replace("<anonymous>",l.displayName)),ut}while(1<=m&&0<=E);break}}}finally{re=!1,Error.prepareStackTrace=d}return(d=l?l.displayName||l.name:"")?dt(d):""}function ft(l,u){switch(l.tag){case 26:case 27:case 5:return dt(l.type);case 16:return dt("Lazy");case 13:return l.child!==u&&u!==null?dt("Suspense Fallback"):dt("Suspense");case 19:return dt("SuspenseList");case 0:case 15:return lt(l.type,!1);case 11:return lt(l.type.render,!1);case 1:return lt(l.type,!0);case 31:return dt("Activity");default:return""}}function kt(l){try{var u="",d=null;do u+=ft(l,d),d=l,l=l.return;while(l);return u}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var rt=Object.prototype.hasOwnProperty,St=t.unstable_scheduleCallback,Nt=t.unstable_cancelCallback,Jt=t.unstable_shouldYield,qt=t.unstable_requestPaint,sn=t.unstable_now,mn=t.unstable_getCurrentPriorityLevel,ln=t.unstable_ImmediatePriority,En=t.unstable_UserBlockingPriority,an=t.unstable_NormalPriority,Ft=t.unstable_LowPriority,At=t.unstable_IdlePriority,Rt=t.log,qn=t.unstable_setDisableYieldValue,$t=null,Yt=null;function hn(l){if(typeof Rt=="function"&&qn(l),Yt&&typeof Yt.setStrictMode=="function")try{Yt.setStrictMode($t,l)}catch{}}var An=Math.clz32?Math.clz32:Pt,Oe=Math.log,Lt=Math.LN2;function Pt(l){return l>>>=0,l===0?32:31-(Oe(l)/Lt|0)|0}var Bt=256,Zt=262144,Wt=4194304;function jt(l){var u=l&42;if(u!==0)return u;switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return l&261888;case 262144:case 524288:case 1048576:case 2097152:return l&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return l&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return l}}function gn(l,u,d){var m=l.pendingLanes;if(m===0)return 0;var E=0,I=l.suspendedLanes,G=l.pingedLanes;l=l.warmLanes;var le=m&134217727;return le!==0?(m=le&~I,m!==0?E=jt(m):(G&=le,G!==0?E=jt(G):d||(d=le&~l,d!==0&&(E=jt(d))))):(le=m&~I,le!==0?E=jt(le):G!==0?E=jt(G):d||(d=m&~l,d!==0&&(E=jt(d)))),E===0?0:u!==0&&u!==E&&(u&I)===0&&(I=E&-E,d=u&-u,I>=d||I===32&&(d&4194048)!==0)?u:E}function Ur(l,u){return(l.pendingLanes&~(l.suspendedLanes&~l.pingedLanes)&u)===0}function Yr(l,u){switch(l){case 1:case 2:case 4:case 8:case 64:return u+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ns(){var l=Wt;return Wt<<=1,(Wt&62914560)===0&&(Wt=4194304),l}function ri(l){for(var u=[],d=0;31>d;d++)u.push(l);return u}function Mt(l,u){l.pendingLanes|=u,u!==268435456&&(l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0)}function Ra(l,u,d,m,E,I){var G=l.pendingLanes;l.pendingLanes=d,l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0,l.expiredLanes&=d,l.entangledLanes&=d,l.errorRecoveryDisabledLanes&=d,l.shellSuspendCounter=0;var le=l.entanglements,Re=l.expirationTimes,Je=l.hiddenUpdates;for(d=G&~d;0<d;){var ut=31-An(d),gt=1<<ut;le[ut]=0,Re[ut]=-1;var Ze=Je[ut];if(Ze!==null)for(Je[ut]=null,ut=0;ut<Ze.length;ut++){var et=Ze[ut];et!==null&&(et.lane&=-536870913)}d&=~gt}m!==0&&us(l,m,0),I!==0&&E===0&&l.tag!==0&&(l.suspendedLanes|=I&~(G&~u))}function us(l,u,d){l.pendingLanes|=u,l.suspendedLanes&=~u;var m=31-An(u);l.entangledLanes|=u,l.entanglements[m]=l.entanglements[m]|1073741824|d&261930}function Ni(l,u){var d=l.entangledLanes|=u;for(l=l.entanglements;d;){var m=31-An(d),E=1<<m;E&u|l[m]&u&&(l[m]|=u),d&=~E}}function Xi(l,u){var d=u&-u;return d=(d&42)!==0?1:_r(d),(d&(l.suspendedLanes|u))!==0?0:d}function _r(l){switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=128;break;case 268435456:l=134217728;break;default:l=0}return l}function Ir(l){return l&=-l,2<l?8<l?(l&134217727)!==0?32:268435456:8:2}function te(){var l=xe.p;return l!==0?l:(l=window.event,l===void 0?32:v4(l.type))}function be(l,u){var d=xe.p;try{return xe.p=l,u()}finally{xe.p=d}}var ge=Math.random().toString(36).slice(2),ye="__reactFiber$"+ge,_e="__reactProps$"+ge,Ce="__reactContainer$"+ge,He="__reactEvents$"+ge,tt="__reactListeners$"+ge,Ge="__reactHandles$"+ge,We="__reactResources$"+ge,Ke="__reactMarker$"+ge;function vt(l){delete l[ye],delete l[_e],delete l[He],delete l[tt],delete l[Ge]}function bt(l){var u=l[ye];if(u)return u;for(var d=l.parentNode;d;){if(u=d[Ce]||d[ye]){if(d=u.alternate,u.child!==null||d!==null&&d.child!==null)for(l=r4(l);l!==null;){if(d=l[ye])return d;l=r4(l)}return u}l=d,d=l.parentNode}return null}function It(l){if(l=l[ye]||l[Ce]){var u=l.tag;if(u===5||u===6||u===13||u===31||u===26||u===27||u===3)return l}return null}function _t(l){var u=l.tag;if(u===5||u===26||u===27||u===6)return l.stateNode;throw Error(r(33))}function Ct(l){var u=l[We];return u||(u=l[We]={hoistableStyles:new Map,hoistableScripts:new Map}),u}function Gt(l){l[Ke]=!0}var cr=new Set,Bn={};function gr(l,u){ji(l,u),ji(l+"Capture",u)}function ji(l,u){for(Bn[l]=u,l=0;l<u.length;l++)cr.add(u[l])}var zs=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),la={},Is={};function wo(l){return rt.call(Is,l)?!0:rt.call(la,l)?!1:zs.test(l)?Is[l]=!0:(la[l]=!0,!1)}function Xr(l,u,d){if(wo(u))if(d===null)l.removeAttribute(u);else{switch(typeof d){case"undefined":case"function":case"symbol":l.removeAttribute(u);return;case"boolean":var m=u.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){l.removeAttribute(u);return}}l.setAttribute(u,""+d)}}function Ji(l,u,d){if(d===null)l.removeAttribute(u);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(u);return}l.setAttribute(u,""+d)}}function ui(l,u,d,m){if(m===null)l.removeAttribute(d);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(d);return}l.setAttributeNS(u,d,""+m)}}function Wn(l){switch(typeof l){case"bigint":case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function bo(l){var u=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function ca(l,u,d){var m=Object.getOwnPropertyDescriptor(l.constructor.prototype,u);if(!l.hasOwnProperty(u)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var E=m.get,I=m.set;return Object.defineProperty(l,u,{configurable:!0,get:function(){return E.call(this)},set:function(G){d=""+G,I.call(this,G)}}),Object.defineProperty(l,u,{enumerable:m.enumerable}),{getValue:function(){return d},setValue:function(G){d=""+G},stopTracking:function(){l._valueTracker=null,delete l[u]}}}}function tr(l){if(!l._valueTracker){var u=bo(l)?"checked":"value";l._valueTracker=ca(l,u,""+l[u])}}function qo(l){if(!l)return!1;var u=l._valueTracker;if(!u)return!0;var d=u.getValue(),m="";return l&&(m=bo(l)?l.checked?"true":"false":l.value),l=m,l!==d?(u.setValue(l),!0):!1}function _i(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}var Jr=/[\n"\\]/g;function fi(l){return l.replace(Jr,function(u){return"\\"+u.charCodeAt(0).toString(16)+" "})}function vl(l,u,d,m,E,I,G,le){l.name="",G!=null&&typeof G!="function"&&typeof G!="symbol"&&typeof G!="boolean"?l.type=G:l.removeAttribute("type"),u!=null?G==="number"?(u===0&&l.value===""||l.value!=u)&&(l.value=""+Wn(u)):l.value!==""+Wn(u)&&(l.value=""+Wn(u)):G!=="submit"&&G!=="reset"||l.removeAttribute("value"),u!=null?zc(l,G,Wn(u)):d!=null?zc(l,G,Wn(d)):m!=null&&l.removeAttribute("value"),E==null&&I!=null&&(l.defaultChecked=!!I),E!=null&&(l.checked=E&&typeof E!="function"&&typeof E!="symbol"),le!=null&&typeof le!="function"&&typeof le!="symbol"&&typeof le!="boolean"?l.name=""+Wn(le):l.removeAttribute("name")}function Bu(l,u,d,m,E,I,G,le){if(I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"&&(l.type=I),u!=null||d!=null){if(!(I!=="submit"&&I!=="reset"||u!=null)){tr(l);return}d=d!=null?""+Wn(d):"",u=u!=null?""+Wn(u):d,le||u===l.value||(l.value=u),l.defaultValue=u}m=m??E,m=typeof m!="function"&&typeof m!="symbol"&&!!m,l.checked=le?l.checked:!!m,l.defaultChecked=!!m,G!=null&&typeof G!="function"&&typeof G!="symbol"&&typeof G!="boolean"&&(l.name=G),tr(l)}function zc(l,u,d){u==="number"&&_i(l.ownerDocument)===l||l.defaultValue===""+d||(l.defaultValue=""+d)}function fs(l,u,d,m){if(l=l.options,u){u={};for(var E=0;E<d.length;E++)u["$"+d[E]]=!0;for(d=0;d<l.length;d++)E=u.hasOwnProperty("$"+l[d].value),l[d].selected!==E&&(l[d].selected=E),E&&m&&(l[d].defaultSelected=!0)}else{for(d=""+Wn(d),u=null,E=0;E<l.length;E++){if(l[E].value===d){l[E].selected=!0,m&&(l[E].defaultSelected=!0);return}u!==null||l[E].disabled||(u=l[E])}u!==null&&(u.selected=!0)}}function Gc(l,u,d){if(u!=null&&(u=""+Wn(u),u!==l.value&&(l.value=u),d==null)){l.defaultValue!==u&&(l.defaultValue=u);return}l.defaultValue=d!=null?""+Wn(d):""}function To(l,u,d,m){if(u==null){if(m!=null){if(d!=null)throw Error(r(92));if(Ne(m)){if(1<m.length)throw Error(r(93));m=m[0]}d=m}d==null&&(d=""),u=d}d=Wn(u),l.defaultValue=d,m=l.textContent,m===d&&m!==""&&m!==null&&(l.value=m),tr(l)}function qi(l,u){if(u){var d=l.firstChild;if(d&&d===l.lastChild&&d.nodeType===3){d.nodeValue=u;return}}l.textContent=u}var Ho=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function $c(l,u,d){var m=u.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?m?l.setProperty(u,""):u==="float"?l.cssFloat="":l[u]="":m?l.setProperty(u,d):typeof d!="number"||d===0||Ho.has(u)?u==="float"?l.cssFloat=d:l[u]=(""+d).trim():l[u]=d+"px"}function Wc(l,u,d){if(u!=null&&typeof u!="object")throw Error(r(62));if(l=l.style,d!=null){for(var m in d)!d.hasOwnProperty(m)||u!=null&&u.hasOwnProperty(m)||(m.indexOf("--")===0?l.setProperty(m,""):m==="float"?l.cssFloat="":l[m]="");for(var E in u)m=u[E],u.hasOwnProperty(E)&&d[E]!==m&&$c(l,E,m)}else for(var I in u)u.hasOwnProperty(I)&&$c(l,I,u[I])}function tc(l){if(l.indexOf("-")===-1)return!1;switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Eo=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ks(l){return Eo.test(""+l)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":l}function Pa(){}var So=null;function Rs(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var zo=null,xn=null;function _l(l){var u=It(l);if(u&&(l=u.stateNode)){var d=l[_e]||null;e:switch(l=u.stateNode,u.type){case"input":if(vl(l,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),u=d.name,d.type==="radio"&&u!=null){for(d=l;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+fi(""+u)+'"][type="radio"]'),u=0;u<d.length;u++){var m=d[u];if(m!==l&&m.form===l.form){var E=m[_e]||null;if(!E)throw Error(r(90));vl(m,E.value,E.defaultValue,E.defaultValue,E.checked,E.defaultChecked,E.type,E.name)}}for(u=0;u<d.length;u++)m=d[u],m.form===l.form&&qo(m)}break e;case"textarea":Gc(l,d.value,d.defaultValue);break e;case"select":u=d.value,u!=null&&fs(l,!!d.multiple,u,!1)}}}var rc=!1;function Go(l,u,d){if(rc)return l(u,d);rc=!0;try{var m=l(u);return m}finally{if(rc=!1,(zo!==null||xn!==null)&&(K1(),zo&&(u=zo,l=xn,xn=zo=null,_l(u),l)))for(u=0;u<l.length;u++)_l(l[u])}}function Hi(l,u){var d=l.stateNode;if(d===null)return null;var m=d[_e]||null;if(m===null)return null;d=m[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(l=l.type,m=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!m;break e;default:l=!1}if(l)return null;if(d&&typeof d!="function")throw Error(r(231,u,typeof d));return d}var Ii=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wl=!1;if(Ii)try{var wr={};Object.defineProperty(wr,"passive",{get:function(){wl=!0}}),window.addEventListener("test",wr,wr),window.removeEventListener("test",wr,wr)}catch{wl=!1}var Gs=null,bl=null,Da=null;function Kc(){if(Da)return Da;var l,u=bl,d=u.length,m,E="value"in Gs?Gs.value:Gs.textContent,I=E.length;for(l=0;l<d&&u[l]===E[l];l++);var G=d-l;for(m=1;m<=G&&u[d-m]===E[I-m];m++);return Da=E.slice(l,1<m?1-m:void 0)}function $s(l){var u=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&u===13&&(l=13)):l=u,l===10&&(l=13),32<=l||l===13?l:0}function Ao(){return!0}function Ws(){return!1}function wi(l){function u(d,m,E,I,G){this._reactName=d,this._targetInst=E,this.type=m,this.nativeEvent=I,this.target=G,this.currentTarget=null;for(var le in l)l.hasOwnProperty(le)&&(d=l[le],this[le]=d?d(I):I[le]);return this.isDefaultPrevented=(I.defaultPrevented!=null?I.defaultPrevented:I.returnValue===!1)?Ao:Ws,this.isPropagationStopped=Ws,this}return p(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Ao)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Ao)},persist:function(){},isPersistent:Ao}),u}var Ka={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qi=wi(Ka),Ya=p({},Ka,{view:0,detail:0}),$o=wi(Ya),Xa,Ja,ua,Tl=p({},Ya,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vn,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==ua&&(ua&&l.type==="mousemove"?(Xa=l.screenX-ua.screenX,Ja=l.screenY-ua.screenY):Ja=Xa=0,ua=l),Xa)},movementY:function(l){return"movementY"in l?l.movementY:Ja}}),ic=wi(Tl),Ks=p({},Tl,{dataTransfer:0}),Qa=wi(Ks),Yc=p({},Ya,{relatedTarget:0}),Ma=wi(Yc),sc=p({},Ka,{animationName:0,elapsedTime:0,pseudoElement:0}),D=wi(sc),Z=p({},Ka,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),Ee=wi(Z),Pe=p({},Ka,{data:0}),Ve=wi(Pe),ct={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Kt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function en(l){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(l):(l=Kt[l])?!!u[l]:!1}function vn(){return en}var dn=p({},Ya,{key:function(l){if(l.key){var u=ct[l.key]||l.key;if(u!=="Unidentified")return u}return l.type==="keypress"?(l=$s(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?yt[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vn,charCode:function(l){return l.type==="keypress"?$s(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?$s(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),Yn=wi(dn),Br=p({},Tl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),kr=wi(Br),w=p({},Ya,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vn}),j=wi(w),X=p({},Ka,{propertyName:0,elapsedTime:0,pseudoElement:0}),pe=wi(X),je=p({},Tl,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),Qe=wi(je),Et=p({},Ka,{newState:0,oldState:0}),Nn=wi(Et),jr=[9,13,27,32],Gn=Ii&&"CompositionEvent"in window,br=null;Ii&&"documentMode"in document&&(br=document.documentMode);var Zi=Ii&&"TextEvent"in window&&!br,hs=Ii&&(!Gn||br&&8<br&&11>=br),Pr=" ",ds=!1;function La(l,u){switch(l){case"keyup":return jr.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wo(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var Ko=!1;function Ys(l,u){switch(l){case"compositionend":return Wo(u);case"keypress":return u.which!==32?null:(ds=!0,Pr);case"textInput":return l=u.data,l===Pr&&ds?null:l;default:return null}}function El(l,u){if(Ko)return l==="compositionend"||!Gn&&La(l,u)?(l=Kc(),Da=bl=Gs=null,Ko=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return hs&&u.locale!=="ko"?null:u.data;default:return null}}var ju={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sh(l){var u=l&&l.nodeName&&l.nodeName.toLowerCase();return u==="input"?!!ju[l.type]:u==="textarea"}function Fa(l,u,d,m){zo?xn?xn.push(m):xn=[m]:zo=m,u=tx(u,"onChange"),0<u.length&&(d=new Qi("onChange","change",null,d,m),l.push({event:d,listeners:u}))}var Co=null,Sl=null;function ah(l){HA(l,0)}function No(l){var u=_t(l);if(qo(u))return l}function ac(l,u){if(l==="change")return u}var fa=!1;if(Ii){var Xs;if(Ii){var Yo="oninput"in document;if(!Yo){var Xo=document.createElement("div");Xo.setAttribute("oninput","return;"),Yo=typeof Xo.oninput=="function"}Xs=Yo}else Xs=!1;fa=Xs&&(!document.documentMode||9<document.documentMode)}function Al(){Co&&(Co.detachEvent("onpropertychange",qu),Sl=Co=null)}function qu(l){if(l.propertyName==="value"&&No(Sl)){var u=[];Fa(u,Sl,l,Rs(l)),Go(ah,u)}}function Hu(l,u,d){l==="focusin"?(Al(),Co=u,Sl=d,Co.attachEvent("onpropertychange",qu)):l==="focusout"&&Al()}function bi(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return No(Sl)}function Cd(l,u){if(l==="click")return No(u)}function Jo(l,u){if(l==="input"||l==="change")return No(u)}function Qo(l,u){return l===u&&(l!==0||1/l===1/u)||l!==l&&u!==u}var ps=typeof Object.is=="function"?Object.is:Qo;function Cl(l,u){if(ps(l,u))return!0;if(typeof l!="object"||l===null||typeof u!="object"||u===null)return!1;var d=Object.keys(l),m=Object.keys(u);if(d.length!==m.length)return!1;for(m=0;m<d.length;m++){var E=d[m];if(!rt.call(u,E)||!ps(l[E],u[E]))return!1}return!0}function zu(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function Gu(l,u){var d=zu(l);l=0;for(var m;d;){if(d.nodeType===3){if(m=l+d.textContent.length,l<=u&&m>=u)return{node:d,offset:u-l};l=m}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=zu(d)}}function Nl(l,u){return l&&u?l===u?!0:l&&l.nodeType===3?!1:u&&u.nodeType===3?Nl(l,u.parentNode):"contains"in l?l.contains(u):l.compareDocumentPosition?!!(l.compareDocumentPosition(u)&16):!1:!1}function Il(l){l=l!=null&&l.ownerDocument!=null&&l.ownerDocument.defaultView!=null?l.ownerDocument.defaultView:window;for(var u=_i(l.document);u instanceof l.HTMLIFrameElement;){try{var d=typeof u.contentWindow.location.href=="string"}catch{d=!1}if(d)l=u.contentWindow;else break;u=_i(l.document)}return u}function Zo(l){var u=l&&l.nodeName&&l.nodeName.toLowerCase();return u&&(u==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||u==="textarea"||l.contentEditable==="true")}var Xc=Ii&&"documentMode"in document&&11>=document.documentMode,Oa=null,kl=null,Ps=null,Za=!1;function xr(l,u,d){var m=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Za||Oa==null||Oa!==_i(m)||(m=Oa,"selectionStart"in m&&Zo(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Ps&&Cl(Ps,m)||(Ps=m,m=tx(kl,"onSelect"),0<m.length&&(u=new Qi("onSelect","select",null,u,d),l.push({event:u,listeners:m}),u.target=Oa)))}function sr(l,u){var d={};return d[l.toLowerCase()]=u.toLowerCase(),d["Webkit"+l]="webkit"+u,d["Moz"+l]="moz"+u,d}var qr={animationend:sr("Animation","AnimationEnd"),animationiteration:sr("Animation","AnimationIteration"),animationstart:sr("Animation","AnimationStart"),transitionrun:sr("Transition","TransitionRun"),transitionstart:sr("Transition","TransitionStart"),transitioncancel:sr("Transition","TransitionCancel"),transitionend:sr("Transition","TransitionEnd")},Ti={},el={};Ii&&(el=document.createElement("div").style,"AnimationEvent"in window||(delete qr.animationend.animation,delete qr.animationiteration.animation,delete qr.animationstart.animation),"TransitionEvent"in window||delete qr.transitionend.transition);function Io(l){if(Ti[l])return Ti[l];if(!qr[l])return l;var u=qr[l],d;for(d in u)if(u.hasOwnProperty(d)&&d in el)return Ti[l]=u[d];return l}var Jc=Io("animationend"),oh=Io("animationiteration"),Bp=Io("animationstart"),E1=Io("transitionrun"),S1=Io("transitionstart"),A1=Io("transitioncancel"),jp=Io("transitionend"),qp=new Map,Qc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Qc.push("scrollEnd");function eo(l,u){qp.set(l,u),gr(u,[l])}var lh=typeof reportError=="function"?reportError:function(l){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var u=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof l=="object"&&l!==null&&typeof l.message=="string"?String(l.message):String(l),error:l});if(!window.dispatchEvent(u))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",l);return}console.error(l)},Va=[],Zc=0,Nd=0;function ch(){for(var l=Zc,u=Nd=Zc=0;u<l;){var d=Va[u];Va[u++]=null;var m=Va[u];Va[u++]=null;var E=Va[u];Va[u++]=null;var I=Va[u];if(Va[u++]=null,m!==null&&E!==null){var G=m.pending;G===null?E.next=E:(E.next=G.next,G.next=E),m.pending=E}I!==0&&fh(d,E,I)}}function uh(l,u,d,m){Va[Zc++]=l,Va[Zc++]=u,Va[Zc++]=d,Va[Zc++]=m,Nd|=m,l.lanes|=m,l=l.alternate,l!==null&&(l.lanes|=m)}function Id(l,u,d,m){return uh(l,u,d,m),Ds(l)}function Rl(l,u){return uh(l,null,null,u),Ds(l)}function fh(l,u,d){l.lanes|=d;var m=l.alternate;m!==null&&(m.lanes|=d);for(var E=!1,I=l.return;I!==null;)I.childLanes|=d,m=I.alternate,m!==null&&(m.childLanes|=d),I.tag===22&&(l=I.stateNode,l===null||l._visibility&1||(E=!0)),l=I,I=I.return;return l.tag===3?(I=l.stateNode,E&&u!==null&&(E=31-An(d),l=I.hiddenUpdates,m=l[E],m===null?l[E]=[u]:m.push(u),u.lane=d|536870912),I):null}function Ds(l){if(50<um)throw um=0,Z2=null,Error(r(185));for(var u=l.return;u!==null;)l=u,u=l.return;return l.tag===3?l.stateNode:null}var ms={};function kd(l,u,d,m){this.tag=l,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ms(l,u,d,m){return new kd(l,u,d,m)}function Rd(l){return l=l.prototype,!(!l||!l.isReactComponent)}function to(l,u){var d=l.alternate;return d===null?(d=Ms(l.tag,u,l.key,l.mode),d.elementType=l.elementType,d.type=l.type,d.stateNode=l.stateNode,d.alternate=l,l.alternate=d):(d.pendingProps=u,d.type=l.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=l.flags&65011712,d.childLanes=l.childLanes,d.lanes=l.lanes,d.child=l.child,d.memoizedProps=l.memoizedProps,d.memoizedState=l.memoizedState,d.updateQueue=l.updateQueue,u=l.dependencies,d.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},d.sibling=l.sibling,d.index=l.index,d.ref=l.ref,d.refCleanup=l.refCleanup,d}function hh(l,u){l.flags&=65011714;var d=l.alternate;return d===null?(l.childLanes=0,l.lanes=u,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=d.childLanes,l.lanes=d.lanes,l.child=d.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=d.memoizedProps,l.memoizedState=d.memoizedState,l.updateQueue=d.updateQueue,l.type=d.type,u=d.dependencies,l.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),l}function $u(l,u,d,m,E,I){var G=0;if(m=l,typeof l=="function")Rd(l)&&(G=1);else if(typeof l=="string")G=uV(l,d,K.current)?26:l==="html"||l==="head"||l==="body"?27:5;else e:switch(l){case C:return l=Ms(31,d,u,E),l.elementType=C,l.lanes=I,l;case S:return oc(d.children,E,I,u);case N:G=8,E|=24;break;case k:return l=Ms(12,d,u,E|2),l.elementType=k,l.lanes=I,l;case Y:return l=Ms(13,d,u,E),l.elementType=Y,l.lanes=I,l;case J:return l=Ms(19,d,u,E),l.elementType=J,l.lanes=I,l;default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case R:G=10;break e;case B:G=9;break e;case q:G=11;break e;case F:G=14;break e;case O:G=16,m=null;break e}G=29,d=Error(r(130,l===null?"null":typeof l,"")),m=null}return u=Ms(G,d,u,E),u.elementType=l,u.type=m,u.lanes=I,u}function oc(l,u,d,m){return l=Ms(7,l,m,u),l.lanes=d,l}function dh(l,u,d){return l=Ms(6,l,null,u),l.lanes=d,l}function Pd(l){var u=Ms(18,null,null,0);return u.stateNode=l,u}function Wu(l,u,d){return u=Ms(4,l.children!==null?l.children:[],l.key,u),u.lanes=d,u.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},u}var Dd=new WeakMap;function no(l,u){if(typeof l=="object"&&l!==null){var d=Dd.get(l);return d!==void 0?d:(u={value:l,source:u,stack:kt(u)},Dd.set(l,u),u)}return{value:l,source:u,stack:kt(u)}}var Ku=[],eu=0,Md=null,ph=0,ro=[],io=0,lc=null,so=1,ao="";function Ua(l,u){Ku[eu++]=ph,Ku[eu++]=Md,Md=l,ph=u}function C1(l,u,d){ro[io++]=so,ro[io++]=ao,ro[io++]=lc,lc=l;var m=so;l=ao;var E=32-An(m)-1;m&=~(1<<E),d+=1;var I=32-An(u)+E;if(30<I){var G=E-E%5;I=(m&(1<<G)-1).toString(32),m>>=G,E-=G,so=1<<32-An(u)+E|d<<E|m,ao=I+l}else so=1<<I|d<<E|m,ao=l}function Hp(l){l.return!==null&&(Ua(l,1),C1(l,1,0))}function Ld(l){for(;l===Md;)Md=Ku[--eu],Ku[eu]=null,ph=Ku[--eu],Ku[eu]=null;for(;l===lc;)lc=ro[--io],ro[io]=null,ao=ro[--io],ro[io]=null,so=ro[--io],ro[io]=null}function N1(l,u){ro[io++]=so,ro[io++]=ao,ro[io++]=lc,so=u.id,ao=u.overflow,lc=l}var gs=null,Qr=null,Jn=!1,Js=null,hi=!1,ko=Error(r(519));function cc(l){var u=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Yu(no(u,l)),ko}function zp(l){var u=l.stateNode,d=l.type,m=l.memoizedProps;switch(u[ye]=l,u[_e]=m,d){case"dialog":Zn("cancel",u),Zn("close",u);break;case"iframe":case"object":case"embed":Zn("load",u);break;case"video":case"audio":for(d=0;d<hm.length;d++)Zn(hm[d],u);break;case"source":Zn("error",u);break;case"img":case"image":case"link":Zn("error",u),Zn("load",u);break;case"details":Zn("toggle",u);break;case"input":Zn("invalid",u),Bu(u,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":Zn("invalid",u);break;case"textarea":Zn("invalid",u),To(u,m.value,m.defaultValue,m.children)}d=m.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||u.textContent===""+d||m.suppressHydrationWarning===!0||WA(u.textContent,d)?(m.popover!=null&&(Zn("beforetoggle",u),Zn("toggle",u)),m.onScroll!=null&&Zn("scroll",u),m.onScrollEnd!=null&&Zn("scrollend",u),m.onClick!=null&&(u.onclick=Pa),u=!0):u=!1,u||cc(l,!0)}function Pl(l){for(gs=l.return;gs;)switch(gs.tag){case 5:case 31:case 13:hi=!1;return;case 27:case 3:hi=!0;return;default:gs=gs.return}}function xs(l){if(l!==gs)return!1;if(!Jn)return Pl(l),Jn=!0,!1;var u=l.tag,d;if((d=u!==3&&u!==27)&&((d=u===5)&&(d=l.type,d=!(d!=="form"&&d!=="button")||p_(l.type,l.memoizedProps)),d=!d),d&&Qr&&cc(l),Pl(l),u===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(317));Qr=n4(l)}else if(u===31){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(317));Qr=n4(l)}else u===27?(u=Qr,uf(l.type)?(l=v_,v_=null,Qr=l):Qr=u):Qr=gs?il(l.stateNode.nextSibling):null;return!0}function tu(){Qr=gs=null,Jn=!1}function Gp(){var l=Js;return l!==null&&(ho===null?ho=l:ho.push.apply(ho,l),Js=null),l}function Yu(l){Js===null?Js=[l]:Js.push(l)}var Fd=ne(null),uc=null,tl=null;function fc(l,u,d){W(Fd,u._currentValue),u._currentValue=d}function oo(l){l._currentValue=Fd.current,M(Fd)}function Xu(l,u,d){for(;l!==null;){var m=l.alternate;if((l.childLanes&u)!==u?(l.childLanes|=u,m!==null&&(m.childLanes|=u)):m!==null&&(m.childLanes&u)!==u&&(m.childLanes|=u),l===d)break;l=l.return}}function nu(l,u,d,m){var E=l.child;for(E!==null&&(E.return=l);E!==null;){var I=E.dependencies;if(I!==null){var G=E.child;I=I.firstContext;e:for(;I!==null;){var le=I;I=E;for(var Re=0;Re<u.length;Re++)if(le.context===u[Re]){I.lanes|=d,le=I.alternate,le!==null&&(le.lanes|=d),Xu(I.return,d,l),m||(G=null);break e}I=le.next}}else if(E.tag===18){if(G=E.return,G===null)throw Error(r(341));G.lanes|=d,I=G.alternate,I!==null&&(I.lanes|=d),Xu(G,d,l),G=null}else G=E.child;if(G!==null)G.return=E;else for(G=E;G!==null;){if(G===l){G=null;break}if(E=G.sibling,E!==null){E.return=G.return,G=E;break}G=G.return}E=G}}function hc(l,u,d,m){l=null;for(var E=u,I=!1;E!==null;){if(!I){if((E.flags&524288)!==0)I=!0;else if((E.flags&262144)!==0)break}if(E.tag===10){var G=E.alternate;if(G===null)throw Error(r(387));if(G=G.memoizedProps,G!==null){var le=E.type;ps(E.pendingProps.value,G.value)||(l!==null?l.push(le):l=[le])}}else if(E===we.current){if(G=E.alternate,G===null)throw Error(r(387));G.memoizedState.memoizedState!==E.memoizedState.memoizedState&&(l!==null?l.push(xm):l=[xm])}E=E.return}l!==null&&nu(u,l,d,m),u.flags|=262144}function Od(l){for(l=l.firstContext;l!==null;){if(!ps(l.context._currentValue,l.memoizedValue))return!0;l=l.next}return!1}function dc(l){uc=l,tl=null,l=l.dependencies,l!==null&&(l.firstContext=null)}function ys(l){return I1(uc,l)}function Vd(l,u){return uc===null&&dc(l),I1(l,u)}function I1(l,u){var d=u._currentValue;if(u={context:u,memoizedValue:d,next:null},tl===null){if(l===null)throw Error(r(308));tl=u,l.dependencies={lanes:0,firstContext:u},l.flags|=524288}else tl=tl.next=u;return d}var y2=typeof AbortController<"u"?AbortController:function(){var l=[],u=this.signal={aborted:!1,addEventListener:function(d,m){l.push(m)}};this.abort=function(){u.aborted=!0,l.forEach(function(d){return d()})}},v2=t.unstable_scheduleCallback,_2=t.unstable_NormalPriority,Ei={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ju(){return{controller:new y2,data:new Map,refCount:0}}function mh(l){l.refCount--,l.refCount===0&&v2(_2,function(){l.controller.abort()})}var gh=null,Ud=0,_=0,A=null;function U(l,u){if(gh===null){var d=gh=[];Ud=0,_=s_(),A={status:"pending",value:void 0,then:function(m){d.push(m)}}}return Ud++,u.then(z,z),u}function z(){if(--Ud===0&&gh!==null){A!==null&&(A.status="fulfilled");var l=gh;gh=null,_=0,A=null;for(var u=0;u<l.length;u++)(0,l[u])()}}function ee(l,u){var d=[],m={status:"pending",value:null,reason:null,then:function(E){d.push(E)}};return l.then(function(){m.status="fulfilled",m.value=u;for(var E=0;E<d.length;E++)(0,d[E])(u)},function(E){for(m.status="rejected",m.reason=E,E=0;E<d.length;E++)(0,d[E])(void 0)}),m}var ie=se.S;se.S=function(l,u){xA=sn(),typeof u=="object"&&u!==null&&typeof u.then=="function"&&U(l,u),ie!==null&&ie(l,u)};var oe=ne(null);function de(){var l=oe.current;return l!==null?l:ei.pooledCache}function ve(l,u){u===null?W(oe,oe.current):W(oe,u.pool)}function Se(){var l=de();return l===null?null:{parent:Ei._currentValue,pool:l}}var De=Error(r(460)),Ye=Error(r(474)),Te=Error(r(542)),Fe={then:function(){}};function qe(l){return l=l.status,l==="fulfilled"||l==="rejected"}function at(l,u,d){switch(d=l[d],d===void 0?l.push(u):d!==u&&(u.then(Pa,Pa),u=d),u.status){case"fulfilled":return u.value;case"rejected":throw l=u.reason,wt(l),l;default:if(typeof u.status=="string")u.then(Pa,Pa);else{if(l=ei,l!==null&&100<l.shellSuspendCounter)throw Error(r(482));l=u,l.status="pending",l.then(function(m){if(u.status==="pending"){var E=u;E.status="fulfilled",E.value=m}},function(m){if(u.status==="pending"){var E=u;E.status="rejected",E.reason=m}})}switch(u.status){case"fulfilled":return u.value;case"rejected":throw l=u.reason,wt(l),l}throw st=u,De}}function ze(l){try{var u=l._init;return u(l._payload)}catch(d){throw d!==null&&typeof d=="object"&&typeof d.then=="function"?(st=d,De):d}}var st=null;function ht(){if(st===null)throw Error(r(459));var l=st;return st=null,l}function wt(l){if(l===De||l===Te)throw Error(r(483))}var xt=null,tn=0;function Ht(l){var u=tn;return tn+=1,xt===null&&(xt=[]),at(xt,l,u)}function Rn(l,u){u=u.props.ref,l.ref=u!==void 0?u:null}function Xt(l,u){throw u.$$typeof===g?Error(r(525)):(l=Object.prototype.toString.call(u),Error(r(31,l==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":l)))}function Xn(l){function u(Be,Me){if(l){var Xe=Be.deletions;Xe===null?(Be.deletions=[Me],Be.flags|=16):Xe.push(Me)}}function d(Be,Me){if(!l)return null;for(;Me!==null;)u(Be,Me),Me=Me.sibling;return null}function m(Be){for(var Me=new Map;Be!==null;)Be.key!==null?Me.set(Be.key,Be):Me.set(Be.index,Be),Be=Be.sibling;return Me}function E(Be,Me){return Be=to(Be,Me),Be.index=0,Be.sibling=null,Be}function I(Be,Me,Xe){return Be.index=Xe,l?(Xe=Be.alternate,Xe!==null?(Xe=Xe.index,Xe<Me?(Be.flags|=67108866,Me):Xe):(Be.flags|=67108866,Me)):(Be.flags|=1048576,Me)}function G(Be){return l&&Be.alternate===null&&(Be.flags|=67108866),Be}function le(Be,Me,Xe,pt){return Me===null||Me.tag!==6?(Me=dh(Xe,Be.mode,pt),Me.return=Be,Me):(Me=E(Me,Xe),Me.return=Be,Me)}function Re(Be,Me,Xe,pt){var wn=Xe.type;return wn===S?ut(Be,Me,Xe.props.children,pt,Xe.key):Me!==null&&(Me.elementType===wn||typeof wn=="object"&&wn!==null&&wn.$$typeof===O&&ze(wn)===Me.type)?(Me=E(Me,Xe.props),Rn(Me,Xe),Me.return=Be,Me):(Me=$u(Xe.type,Xe.key,Xe.props,null,Be.mode,pt),Rn(Me,Xe),Me.return=Be,Me)}function Je(Be,Me,Xe,pt){return Me===null||Me.tag!==4||Me.stateNode.containerInfo!==Xe.containerInfo||Me.stateNode.implementation!==Xe.implementation?(Me=Wu(Xe,Be.mode,pt),Me.return=Be,Me):(Me=E(Me,Xe.children||[]),Me.return=Be,Me)}function ut(Be,Me,Xe,pt,wn){return Me===null||Me.tag!==7?(Me=oc(Xe,Be.mode,pt,wn),Me.return=Be,Me):(Me=E(Me,Xe),Me.return=Be,Me)}function gt(Be,Me,Xe){if(typeof Me=="string"&&Me!==""||typeof Me=="number"||typeof Me=="bigint")return Me=dh(""+Me,Be.mode,Xe),Me.return=Be,Me;if(typeof Me=="object"&&Me!==null){switch(Me.$$typeof){case x:return Xe=$u(Me.type,Me.key,Me.props,null,Be.mode,Xe),Rn(Xe,Me),Xe.return=Be,Xe;case T:return Me=Wu(Me,Be.mode,Xe),Me.return=Be,Me;case O:return Me=ze(Me),gt(Be,Me,Xe)}if(Ne(Me)||L(Me))return Me=oc(Me,Be.mode,Xe,null),Me.return=Be,Me;if(typeof Me.then=="function")return gt(Be,Ht(Me),Xe);if(Me.$$typeof===R)return gt(Be,Vd(Be,Me),Xe);Xt(Be,Me)}return null}function Ze(Be,Me,Xe,pt){var wn=Me!==null?Me.key:null;if(typeof Xe=="string"&&Xe!==""||typeof Xe=="number"||typeof Xe=="bigint")return wn!==null?null:le(Be,Me,""+Xe,pt);if(typeof Xe=="object"&&Xe!==null){switch(Xe.$$typeof){case x:return Xe.key===wn?Re(Be,Me,Xe,pt):null;case T:return Xe.key===wn?Je(Be,Me,Xe,pt):null;case O:return Xe=ze(Xe),Ze(Be,Me,Xe,pt)}if(Ne(Xe)||L(Xe))return wn!==null?null:ut(Be,Me,Xe,pt,null);if(typeof Xe.then=="function")return Ze(Be,Me,Ht(Xe),pt);if(Xe.$$typeof===R)return Ze(Be,Me,Vd(Be,Xe),pt);Xt(Be,Xe)}return null}function et(Be,Me,Xe,pt,wn){if(typeof pt=="string"&&pt!==""||typeof pt=="number"||typeof pt=="bigint")return Be=Be.get(Xe)||null,le(Me,Be,""+pt,wn);if(typeof pt=="object"&&pt!==null){switch(pt.$$typeof){case x:return Be=Be.get(pt.key===null?Xe:pt.key)||null,Re(Me,Be,pt,wn);case T:return Be=Be.get(pt.key===null?Xe:pt.key)||null,Je(Me,Be,pt,wn);case O:return pt=ze(pt),et(Be,Me,Xe,pt,wn)}if(Ne(pt)||L(pt))return Be=Be.get(Xe)||null,ut(Me,Be,pt,wn,null);if(typeof pt.then=="function")return et(Be,Me,Xe,Ht(pt),wn);if(pt.$$typeof===R)return et(Be,Me,Xe,Vd(Me,pt),wn);Xt(Me,pt)}return null}function Qt(Be,Me,Xe,pt){for(var wn=null,Tr=null,cn=Me,Hn=Me=0,rr=null;cn!==null&&Hn<Xe.length;Hn++){cn.index>Hn?(rr=cn,cn=null):rr=cn.sibling;var Er=Ze(Be,cn,Xe[Hn],pt);if(Er===null){cn===null&&(cn=rr);break}l&&cn&&Er.alternate===null&&u(Be,cn),Me=I(Er,Me,Hn),Tr===null?wn=Er:Tr.sibling=Er,Tr=Er,cn=rr}if(Hn===Xe.length)return d(Be,cn),Jn&&Ua(Be,Hn),wn;if(cn===null){for(;Hn<Xe.length;Hn++)cn=gt(Be,Xe[Hn],pt),cn!==null&&(Me=I(cn,Me,Hn),Tr===null?wn=cn:Tr.sibling=cn,Tr=cn);return Jn&&Ua(Be,Hn),wn}for(cn=m(cn);Hn<Xe.length;Hn++)rr=et(cn,Be,Hn,Xe[Hn],pt),rr!==null&&(l&&rr.alternate!==null&&cn.delete(rr.key===null?Hn:rr.key),Me=I(rr,Me,Hn),Tr===null?wn=rr:Tr.sibling=rr,Tr=rr);return l&&cn.forEach(function(mf){return u(Be,mf)}),Jn&&Ua(Be,Hn),wn}function Sn(Be,Me,Xe,pt){if(Xe==null)throw Error(r(151));for(var wn=null,Tr=null,cn=Me,Hn=Me=0,rr=null,Er=Xe.next();cn!==null&&!Er.done;Hn++,Er=Xe.next()){cn.index>Hn?(rr=cn,cn=null):rr=cn.sibling;var mf=Ze(Be,cn,Er.value,pt);if(mf===null){cn===null&&(cn=rr);break}l&&cn&&mf.alternate===null&&u(Be,cn),Me=I(mf,Me,Hn),Tr===null?wn=mf:Tr.sibling=mf,Tr=mf,cn=rr}if(Er.done)return d(Be,cn),Jn&&Ua(Be,Hn),wn;if(cn===null){for(;!Er.done;Hn++,Er=Xe.next())Er=gt(Be,Er.value,pt),Er!==null&&(Me=I(Er,Me,Hn),Tr===null?wn=Er:Tr.sibling=Er,Tr=Er);return Jn&&Ua(Be,Hn),wn}for(cn=m(cn);!Er.done;Hn++,Er=Xe.next())Er=et(cn,Be,Hn,Er.value,pt),Er!==null&&(l&&Er.alternate!==null&&cn.delete(Er.key===null?Hn:Er.key),Me=I(Er,Me,Hn),Tr===null?wn=Er:Tr.sibling=Er,Tr=Er);return l&&cn.forEach(function(wV){return u(Be,wV)}),Jn&&Ua(Be,Hn),wn}function $r(Be,Me,Xe,pt){if(typeof Xe=="object"&&Xe!==null&&Xe.type===S&&Xe.key===null&&(Xe=Xe.props.children),typeof Xe=="object"&&Xe!==null){switch(Xe.$$typeof){case x:e:{for(var wn=Xe.key;Me!==null;){if(Me.key===wn){if(wn=Xe.type,wn===S){if(Me.tag===7){d(Be,Me.sibling),pt=E(Me,Xe.props.children),pt.return=Be,Be=pt;break e}}else if(Me.elementType===wn||typeof wn=="object"&&wn!==null&&wn.$$typeof===O&&ze(wn)===Me.type){d(Be,Me.sibling),pt=E(Me,Xe.props),Rn(pt,Xe),pt.return=Be,Be=pt;break e}d(Be,Me);break}else u(Be,Me);Me=Me.sibling}Xe.type===S?(pt=oc(Xe.props.children,Be.mode,pt,Xe.key),pt.return=Be,Be=pt):(pt=$u(Xe.type,Xe.key,Xe.props,null,Be.mode,pt),Rn(pt,Xe),pt.return=Be,Be=pt)}return G(Be);case T:e:{for(wn=Xe.key;Me!==null;){if(Me.key===wn)if(Me.tag===4&&Me.stateNode.containerInfo===Xe.containerInfo&&Me.stateNode.implementation===Xe.implementation){d(Be,Me.sibling),pt=E(Me,Xe.children||[]),pt.return=Be,Be=pt;break e}else{d(Be,Me);break}else u(Be,Me);Me=Me.sibling}pt=Wu(Xe,Be.mode,pt),pt.return=Be,Be=pt}return G(Be);case O:return Xe=ze(Xe),$r(Be,Me,Xe,pt)}if(Ne(Xe))return Qt(Be,Me,Xe,pt);if(L(Xe)){if(wn=L(Xe),typeof wn!="function")throw Error(r(150));return Xe=wn.call(Xe),Sn(Be,Me,Xe,pt)}if(typeof Xe.then=="function")return $r(Be,Me,Ht(Xe),pt);if(Xe.$$typeof===R)return $r(Be,Me,Vd(Be,Xe),pt);Xt(Be,Xe)}return typeof Xe=="string"&&Xe!==""||typeof Xe=="number"||typeof Xe=="bigint"?(Xe=""+Xe,Me!==null&&Me.tag===6?(d(Be,Me.sibling),pt=E(Me,Xe),pt.return=Be,Be=pt):(d(Be,Me),pt=dh(Xe,Be.mode,pt),pt.return=Be,Be=pt),G(Be)):d(Be,Me)}return function(Be,Me,Xe,pt){try{tn=0;var wn=$r(Be,Me,Xe,pt);return xt=null,wn}catch(cn){if(cn===De||cn===Te)throw cn;var Tr=Ms(29,cn,null,Be.mode);return Tr.lanes=pt,Tr.return=Be,Tr}finally{}}}var Zr=Xn(!0),Ln=Xn(!1),zt=!1;function Dt(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ii(l,u){l=l.updateQueue,u.updateQueue===l&&(u.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,callbacks:null})}function Tn(l){return{lane:l,tag:0,payload:null,callback:null,next:null}}function Un(l,u,d){var m=l.updateQueue;if(m===null)return null;if(m=m.shared,(Nr&2)!==0){var E=m.pending;return E===null?u.next=u:(u.next=E.next,E.next=u),m.pending=u,u=Ds(l),fh(l,null,d),u}return uh(l,m,u,d),Ds(l)}function Ar(l,u,d){if(u=u.updateQueue,u!==null&&(u=u.shared,(d&4194048)!==0)){var m=u.lanes;m&=l.pendingLanes,d|=m,u.lanes=d,Ni(l,d)}}function zi(l,u){var d=l.updateQueue,m=l.alternate;if(m!==null&&(m=m.updateQueue,d===m)){var E=null,I=null;if(d=d.firstBaseUpdate,d!==null){do{var G={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};I===null?E=I=G:I=I.next=G,d=d.next}while(d!==null);I===null?E=I=u:I=I.next=u}else E=I=u;d={baseState:m.baseState,firstBaseUpdate:E,lastBaseUpdate:I,shared:m.shared,callbacks:m.callbacks},l.updateQueue=d;return}l=d.lastBaseUpdate,l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=u}var vs=!1;function Hr(){if(vs){var l=A;if(l!==null)throw l}}function ki(l,u,d,m){vs=!1;var E=l.updateQueue;zt=!1;var I=E.firstBaseUpdate,G=E.lastBaseUpdate,le=E.shared.pending;if(le!==null){E.shared.pending=null;var Re=le,Je=Re.next;Re.next=null,G===null?I=Je:G.next=Je,G=Re;var ut=l.alternate;ut!==null&&(ut=ut.updateQueue,le=ut.lastBaseUpdate,le!==G&&(le===null?ut.firstBaseUpdate=Je:le.next=Je,ut.lastBaseUpdate=Re))}if(I!==null){var gt=E.baseState;G=0,ut=Je=Re=null,le=I;do{var Ze=le.lane&-536870913,et=Ze!==le.lane;if(et?(nr&Ze)===Ze:(m&Ze)===Ze){Ze!==0&&Ze===_&&(vs=!0),ut!==null&&(ut=ut.next={lane:0,tag:le.tag,payload:le.payload,callback:null,next:null});e:{var Qt=l,Sn=le;Ze=u;var $r=d;switch(Sn.tag){case 1:if(Qt=Sn.payload,typeof Qt=="function"){gt=Qt.call($r,gt,Ze);break e}gt=Qt;break e;case 3:Qt.flags=Qt.flags&-65537|128;case 0:if(Qt=Sn.payload,Ze=typeof Qt=="function"?Qt.call($r,gt,Ze):Qt,Ze==null)break e;gt=p({},gt,Ze);break e;case 2:zt=!0}}Ze=le.callback,Ze!==null&&(l.flags|=64,et&&(l.flags|=8192),et=E.callbacks,et===null?E.callbacks=[Ze]:et.push(Ze))}else et={lane:Ze,tag:le.tag,payload:le.payload,callback:le.callback,next:null},ut===null?(Je=ut=et,Re=gt):ut=ut.next=et,G|=Ze;if(le=le.next,le===null){if(le=E.shared.pending,le===null)break;et=le,le=et.next,et.next=null,E.lastBaseUpdate=et,E.shared.pending=null}}while(!0);ut===null&&(Re=gt),E.baseState=Re,E.firstBaseUpdate=Je,E.lastBaseUpdate=ut,I===null&&(E.shared.lanes=0),sf|=G,l.lanes=G,l.memoizedState=gt}}function Ls(l,u){if(typeof l!="function")throw Error(r(191,l));l.call(u)}function Ri(l,u){var d=l.callbacks;if(d!==null)for(l.callbacks=null,l=0;l<d.length;l++)Ls(d[l],u)}var $n=ne(null),ur=ne(0);function si(l,u){l=hu,W(ur,l),W($n,u),hu=l|u.baseLanes}function yr(){W(ur,hu),W($n,$n.current)}function Gi(){hu=ur.current,M($n),M(ur)}var ai=ne(null),fr=null;function Si(l){var u=l.alternate;W(ar,ar.current&1),W(ai,l),fr===null&&(u===null||$n.current!==null||u.memoizedState!==null)&&(fr=l)}function Cr(l){W(ar,ar.current),W(ai,l),fr===null&&(fr=l)}function Pi(l){l.tag===22?(W(ar,ar.current),W(ai,l),fr===null&&(fr=l)):Di()}function Di(){W(ar,ar.current),W(ai,ai.current)}function Dr(l){M(ai),fr===l&&(fr=null),M(ar)}var ar=ne(0);function Fs(l){for(var u=l;u!==null;){if(u.tag===13){var d=u.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||x_(d)||y_(d)))return u}else if(u.tag===19&&(u.memoizedProps.revealOrder==="forwards"||u.memoizedProps.revealOrder==="backwards"||u.memoizedProps.revealOrder==="unstable_legacy-backwards"||u.memoizedProps.revealOrder==="together")){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var di=0,yn=null,_n=null,hr=null,ha=!1,lo=!1,Qs=!1,Mi=0,pc=0,mc=null,Bd=0;function zr(){throw Error(r(321))}function $p(l,u){if(u===null)return!1;for(var d=0;d<u.length&&d<l.length;d++)if(!ps(l[d],u[d]))return!1;return!0}function Wp(l,u,d,m,E,I){return di=I,yn=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,se.H=l===null||l.memoizedState===null?NS:N2,Qs=!1,I=d(m,E),Qs=!1,lo&&(I=Dl(u,d,m,E)),jd(l),I}function jd(l){se.H=tm;var u=_n!==null&&_n.next!==null;if(di=0,hr=_n=yn=null,ha=!1,pc=0,mc=null,u)throw Error(r(300));l===null||ts||(l=l.dependencies,l!==null&&Od(l)&&(ts=!0))}function Dl(l,u,d,m){yn=l;var E=0;do{if(lo&&(mc=null),pc=0,lo=!1,25<=E)throw Error(r(301));if(E+=1,hr=_n=null,l.updateQueue!=null){var I=l.updateQueue;I.lastEffect=null,I.events=null,I.stores=null,I.memoCache!=null&&(I.memoCache.index=0)}se.H=IS,I=u(d,m)}while(lo);return I}function w2(){var l=se.H,u=l.useState()[0];return u=typeof u.then=="function"?gc(u):u,l=l.useState()[0],(_n!==null?_n.memoizedState:null)!==l&&(yn.flags|=1024),u}function Kp(){var l=Mi!==0;return Mi=0,l}function Yp(l,u,d){u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~d}function qd(l){if(ha){for(l=l.memoizedState;l!==null;){var u=l.queue;u!==null&&(u.pending=null),l=l.next}ha=!1}di=0,hr=_n=yn=null,lo=!1,pc=Mi=0,mc=null}function es(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return hr===null?yn.memoizedState=hr=l:hr=hr.next=l,hr}function pi(){if(_n===null){var l=yn.alternate;l=l!==null?l.memoizedState:null}else l=_n.next;var u=hr===null?yn.memoizedState:hr.next;if(u!==null)hr=u,_n=l;else{if(l===null)throw yn.alternate===null?Error(r(467)):Error(r(310));_n=l,l={memoizedState:_n.memoizedState,baseState:_n.baseState,baseQueue:_n.baseQueue,queue:_n.queue,next:null},hr===null?yn.memoizedState=hr=l:hr=hr.next=l}return hr}function xh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function gc(l){var u=pc;return pc+=1,mc===null&&(mc=[]),l=at(mc,l,u),u=yn,(hr===null?u.memoizedState:hr.next)===null&&(u=u.alternate,se.H=u===null||u.memoizedState===null?NS:N2),l}function Qu(l){if(l!==null&&typeof l=="object"){if(typeof l.then=="function")return gc(l);if(l.$$typeof===R)return ys(l)}throw Error(r(438,String(l)))}function ru(l){var u=null,d=yn.updateQueue;if(d!==null&&(u=d.memoCache),u==null){var m=yn.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(u={data:m.data.map(function(E){return E.slice()}),index:0})))}if(u==null&&(u={data:[],index:0}),d===null&&(d=xh(),yn.updateQueue=d),d.memoCache=u,d=u.data[u.index],d===void 0)for(d=u.data[u.index]=Array(l),m=0;m<l;m++)d[m]=H;return u.index++,d}function nl(l,u){return typeof u=="function"?u(l):u}function Hd(l){var u=pi();return Zu(u,_n,l)}function Zu(l,u,d){var m=l.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=d;var E=l.baseQueue,I=m.pending;if(I!==null){if(E!==null){var G=E.next;E.next=I.next,I.next=G}u.baseQueue=E=I,m.pending=null}if(I=l.baseState,E===null)l.memoizedState=I;else{u=E.next;var le=G=null,Re=null,Je=u,ut=!1;do{var gt=Je.lane&-536870913;if(gt!==Je.lane?(nr&gt)===gt:(di&gt)===gt){var Ze=Je.revertLane;if(Ze===0)Re!==null&&(Re=Re.next={lane:0,revertLane:0,gesture:null,action:Je.action,hasEagerState:Je.hasEagerState,eagerState:Je.eagerState,next:null}),gt===_&&(ut=!0);else if((di&Ze)===Ze){Je=Je.next,Ze===_&&(ut=!0);continue}else gt={lane:0,revertLane:Je.revertLane,gesture:null,action:Je.action,hasEagerState:Je.hasEagerState,eagerState:Je.eagerState,next:null},Re===null?(le=Re=gt,G=I):Re=Re.next=gt,yn.lanes|=Ze,sf|=Ze;gt=Je.action,Qs&&d(I,gt),I=Je.hasEagerState?Je.eagerState:d(I,gt)}else Ze={lane:gt,revertLane:Je.revertLane,gesture:Je.gesture,action:Je.action,hasEagerState:Je.hasEagerState,eagerState:Je.eagerState,next:null},Re===null?(le=Re=Ze,G=I):Re=Re.next=Ze,yn.lanes|=gt,sf|=gt;Je=Je.next}while(Je!==null&&Je!==u);if(Re===null?G=I:Re.next=le,!ps(I,l.memoizedState)&&(ts=!0,ut&&(d=A,d!==null)))throw d;l.memoizedState=I,l.baseState=G,l.baseQueue=Re,m.lastRenderedState=I}return E===null&&(m.lanes=0),[l.memoizedState,m.dispatch]}function zd(l){var u=pi(),d=u.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=l;var m=d.dispatch,E=d.pending,I=u.memoizedState;if(E!==null){d.pending=null;var G=E=E.next;do I=l(I,G.action),G=G.next;while(G!==E);ps(I,u.memoizedState)||(ts=!0),u.memoizedState=I,u.baseQueue===null&&(u.baseState=I),d.lastRenderedState=I}return[I,m]}function Gd(l,u,d){var m=yn,E=pi(),I=Jn;if(I){if(d===void 0)throw Error(r(407));d=d()}else d=u();var G=!ps((_n||E).memoizedState,d);if(G&&(E.memoizedState=d,ts=!0),E=E.queue,b2(Jp.bind(null,m,E,l),[l]),E.getSnapshot!==u||G||hr!==null&&hr.memoizedState.tag&1){if(m.flags|=2048,su(9,{destroy:void 0},Xp.bind(null,m,E,d,u),null),ei===null)throw Error(r(349));I||(di&127)!==0||Ml(m,u,d)}return d}function Ml(l,u,d){l.flags|=16384,l={getSnapshot:u,value:d},u=yn.updateQueue,u===null?(u=xh(),yn.updateQueue=u,u.stores=[l]):(d=u.stores,d===null?u.stores=[l]:d.push(l))}function Xp(l,u,d,m){u.value=d,u.getSnapshot=m,k1(u)&&Qp(l)}function Jp(l,u,d){return d(function(){k1(u)&&Qp(l)})}function k1(l){var u=l.getSnapshot;l=l.value;try{var d=u();return!ps(l,d)}catch{return!0}}function Qp(l){var u=Rl(l,2);u!==null&&po(u,l,2)}function xc(l){var u=es();if(typeof l=="function"){var d=l;if(l=d(),Qs){hn(!0);try{d()}finally{hn(!1)}}}return u.memoizedState=u.baseState=l,u.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:nl,lastRenderedState:l},u}function R1(l,u,d,m){return l.baseState=d,Zu(l,_n,typeof m=="function"?m:nl)}function P1(l,u,d,m,E){if(F1(l))throw Error(r(485));if(l=u.action,l!==null){var I={payload:E,action:l,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(G){I.listeners.push(G)}};se.T!==null?d(!0):I.isTransition=!1,m(I),d=u.pending,d===null?(I.next=u.pending=I,D1(u,I)):(I.next=d.next,u.pending=d.next=I)}}function D1(l,u){var d=u.action,m=u.payload,E=l.state;if(u.isTransition){var I=se.T,G={};se.T=G;try{var le=d(E,m),Re=se.S;Re!==null&&Re(G,le),Zp(l,u,le)}catch(Je){iu(l,u,Je)}finally{I!==null&&G.types!==null&&(I.types=G.types),se.T=I}}else try{I=d(E,m),Zp(l,u,I)}catch(Je){iu(l,u,Je)}}function Zp(l,u,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(m){M1(l,u,m)},function(m){return iu(l,u,m)}):M1(l,u,d)}function M1(l,u,d){u.status="fulfilled",u.value=d,$d(u),l.state=d,u=l.pending,u!==null&&(d=u.next,d===u?l.pending=null:(d=d.next,u.next=d,D1(l,d)))}function iu(l,u,d){var m=l.pending;if(l.pending=null,m!==null){m=m.next;do u.status="rejected",u.reason=d,$d(u),u=u.next;while(u!==m)}l.action=null}function $d(l){l=l.listeners;for(var u=0;u<l.length;u++)(0,l[u])()}function yh(l,u){return u}function rl(l,u){if(Jn){var d=ei.formState;if(d!==null){e:{var m=yn;if(Jn){if(Qr){t:{for(var E=Qr,I=hi;E.nodeType!==8;){if(!I){E=null;break t}if(E=il(E.nextSibling),E===null){E=null;break t}}I=E.data,E=I==="F!"||I==="F"?E:null}if(E){Qr=il(E.nextSibling),m=E.data==="F!";break e}}cc(m)}m=!1}m&&(u=d[0])}}return d=es(),d.memoizedState=d.baseState=u,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yh,lastRenderedState:u},d.queue=m,d=SS.bind(null,yn,m),m.dispatch=d,m=xc(!1),I=C2.bind(null,yn,!1,m.queue),m=es(),E={state:u,dispatch:null,action:l,pending:null},m.queue=E,d=P1.bind(null,yn,E,I,d),E.dispatch=d,m.memoizedState=l,[u,d,!1]}function Ll(l){var u=pi();return Fl(u,_n,l)}function Fl(l,u,d){if(u=Zu(l,u,yh)[0],l=Hd(nl)[0],typeof u=="object"&&u!==null&&typeof u.then=="function")try{var m=gc(u)}catch(G){throw G===De?Te:G}else m=u;u=pi();var E=u.queue,I=E.dispatch;return d!==u.memoizedState&&(yn.flags|=2048,su(9,{destroy:void 0},Wd.bind(null,E,d),null)),[m,I,l]}function Wd(l,u){l.action=u}function Kd(l){var u=pi(),d=_n;if(d!==null)return Fl(u,d,l);pi(),u=u.memoizedState,d=pi();var m=d.queue.dispatch;return d.memoizedState=l,[u,m,!1]}function su(l,u,d,m){return l={tag:l,create:d,deps:m,inst:u,next:null},u=yn.updateQueue,u===null&&(u=xh(),yn.updateQueue=u),d=u.lastEffect,d===null?u.lastEffect=l.next=l:(m=d.next,d.next=l,l.next=m,u.lastEffect=l),l}function L1(){return pi().memoizedState}function ef(l,u,d,m){var E=es();yn.flags|=l,E.memoizedState=su(1|u,{destroy:void 0},d,m===void 0?null:m)}function tf(l,u,d,m){var E=pi();m=m===void 0?null:m;var I=E.memoizedState.inst;_n!==null&&m!==null&&$p(m,_n.memoizedState.deps)?E.memoizedState=su(u,I,d,m):(yn.flags|=l,E.memoizedState=su(1|u,I,d,m))}function fS(l,u){ef(8390656,8,l,u)}function b2(l,u){tf(2048,8,l,u)}function m9(l){yn.flags|=4;var u=yn.updateQueue;if(u===null)u=xh(),yn.updateQueue=u,u.events=[l];else{var d=u.events;d===null?u.events=[l]:d.push(l)}}function hS(l){var u=pi().memoizedState;return m9({ref:u,nextImpl:l}),function(){if((Nr&2)!==0)throw Error(r(440));return u.impl.apply(void 0,arguments)}}function dS(l,u){return tf(4,2,l,u)}function pS(l,u){return tf(4,4,l,u)}function mS(l,u){if(typeof u=="function"){l=l();var d=u(l);return function(){typeof d=="function"?d():u(null)}}if(u!=null)return l=l(),u.current=l,function(){u.current=null}}function gS(l,u,d){d=d!=null?d.concat([l]):null,tf(4,4,mS.bind(null,u,l),d)}function T2(){}function xS(l,u){var d=pi();u=u===void 0?null:u;var m=d.memoizedState;return u!==null&&$p(u,m[1])?m[0]:(d.memoizedState=[l,u],l)}function yS(l,u){var d=pi();u=u===void 0?null:u;var m=d.memoizedState;if(u!==null&&$p(u,m[1]))return m[0];if(m=l(),Qs){hn(!0);try{l()}finally{hn(!1)}}return d.memoizedState=[m,u],m}function E2(l,u,d){return d===void 0||(di&1073741824)!==0&&(nr&261930)===0?l.memoizedState=u:(l.memoizedState=d,l=vA(),yn.lanes|=l,sf|=l,d)}function vS(l,u,d,m){return ps(d,u)?d:$n.current!==null?(l=E2(l,d,m),ps(l,u)||(ts=!0),l):(di&42)===0||(di&1073741824)!==0&&(nr&261930)===0?(ts=!0,l.memoizedState=d):(l=vA(),yn.lanes|=l,sf|=l,u)}function _S(l,u,d,m,E){var I=xe.p;xe.p=I!==0&&8>I?I:8;var G=se.T,le={};se.T=le,C2(l,!1,u,d);try{var Re=E(),Je=se.S;if(Je!==null&&Je(le,Re),Re!==null&&typeof Re=="object"&&typeof Re.then=="function"){var ut=ee(Re,m);em(l,u,ut,Do(l))}else em(l,u,m,Do(l))}catch(gt){em(l,u,{then:function(){},status:"rejected",reason:gt},Do())}finally{xe.p=I,G!==null&&le.types!==null&&(G.types=le.types),se.T=G}}function g9(){}function S2(l,u,d,m){if(l.tag!==5)throw Error(r(476));var E=wS(l).queue;_S(l,E,u,he,d===null?g9:function(){return bS(l),d(m)})}function wS(l){var u=l.memoizedState;if(u!==null)return u;u={memoizedState:he,baseState:he,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:nl,lastRenderedState:he},next:null};var d={};return u.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:nl,lastRenderedState:d},next:null},l.memoizedState=u,l=l.alternate,l!==null&&(l.memoizedState=u),u}function bS(l){var u=wS(l);u.next===null&&(u=l.alternate.memoizedState),em(l,u.next.queue,{},Do())}function A2(){return ys(xm)}function TS(){return pi().memoizedState}function ES(){return pi().memoizedState}function x9(l){for(var u=l.return;u!==null;){switch(u.tag){case 24:case 3:var d=Do();l=Tn(d);var m=Un(u,l,d);m!==null&&(po(m,u,d),Ar(m,u,d)),u={cache:Ju()},l.payload=u;return}u=u.return}}function y9(l,u,d){var m=Do();d={lane:m,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},F1(l)?AS(u,d):(d=Id(l,u,d,m),d!==null&&(po(d,l,m),CS(d,u,m)))}function SS(l,u,d){var m=Do();em(l,u,d,m)}function em(l,u,d,m){var E={lane:m,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null};if(F1(l))AS(u,E);else{var I=l.alternate;if(l.lanes===0&&(I===null||I.lanes===0)&&(I=u.lastRenderedReducer,I!==null))try{var G=u.lastRenderedState,le=I(G,d);if(E.hasEagerState=!0,E.eagerState=le,ps(le,G))return uh(l,u,E,0),ei===null&&ch(),!1}catch{}finally{}if(d=Id(l,u,E,m),d!==null)return po(d,l,m),CS(d,u,m),!0}return!1}function C2(l,u,d,m){if(m={lane:2,revertLane:s_(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},F1(l)){if(u)throw Error(r(479))}else u=Id(l,d,m,2),u!==null&&po(u,l,2)}function F1(l){var u=l.alternate;return l===yn||u!==null&&u===yn}function AS(l,u){lo=ha=!0;var d=l.pending;d===null?u.next=u:(u.next=d.next,d.next=u),l.pending=u}function CS(l,u,d){if((d&4194048)!==0){var m=u.lanes;m&=l.pendingLanes,d|=m,u.lanes=d,Ni(l,d)}}var tm={readContext:ys,use:Qu,useCallback:zr,useContext:zr,useEffect:zr,useImperativeHandle:zr,useLayoutEffect:zr,useInsertionEffect:zr,useMemo:zr,useReducer:zr,useRef:zr,useState:zr,useDebugValue:zr,useDeferredValue:zr,useTransition:zr,useSyncExternalStore:zr,useId:zr,useHostTransitionStatus:zr,useFormState:zr,useActionState:zr,useOptimistic:zr,useMemoCache:zr,useCacheRefresh:zr};tm.useEffectEvent=zr;var NS={readContext:ys,use:Qu,useCallback:function(l,u){return es().memoizedState=[l,u===void 0?null:u],l},useContext:ys,useEffect:fS,useImperativeHandle:function(l,u,d){d=d!=null?d.concat([l]):null,ef(4194308,4,mS.bind(null,u,l),d)},useLayoutEffect:function(l,u){return ef(4194308,4,l,u)},useInsertionEffect:function(l,u){ef(4,2,l,u)},useMemo:function(l,u){var d=es();u=u===void 0?null:u;var m=l();if(Qs){hn(!0);try{l()}finally{hn(!1)}}return d.memoizedState=[m,u],m},useReducer:function(l,u,d){var m=es();if(d!==void 0){var E=d(u);if(Qs){hn(!0);try{d(u)}finally{hn(!1)}}}else E=u;return m.memoizedState=m.baseState=E,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:E},m.queue=l,l=l.dispatch=y9.bind(null,yn,l),[m.memoizedState,l]},useRef:function(l){var u=es();return l={current:l},u.memoizedState=l},useState:function(l){l=xc(l);var u=l.queue,d=SS.bind(null,yn,u);return u.dispatch=d,[l.memoizedState,d]},useDebugValue:T2,useDeferredValue:function(l,u){var d=es();return E2(d,l,u)},useTransition:function(){var l=xc(!1);return l=_S.bind(null,yn,l.queue,!0,!1),es().memoizedState=l,[!1,l]},useSyncExternalStore:function(l,u,d){var m=yn,E=es();if(Jn){if(d===void 0)throw Error(r(407));d=d()}else{if(d=u(),ei===null)throw Error(r(349));(nr&127)!==0||Ml(m,u,d)}E.memoizedState=d;var I={value:d,getSnapshot:u};return E.queue=I,fS(Jp.bind(null,m,I,l),[l]),m.flags|=2048,su(9,{destroy:void 0},Xp.bind(null,m,I,d,u),null),d},useId:function(){var l=es(),u=ei.identifierPrefix;if(Jn){var d=ao,m=so;d=(m&~(1<<32-An(m)-1)).toString(32)+d,u="_"+u+"R_"+d,d=Mi++,0<d&&(u+="H"+d.toString(32)),u+="_"}else d=Bd++,u="_"+u+"r_"+d.toString(32)+"_";return l.memoizedState=u},useHostTransitionStatus:A2,useFormState:rl,useActionState:rl,useOptimistic:function(l){var u=es();u.memoizedState=u.baseState=l;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return u.queue=d,u=C2.bind(null,yn,!0,d),d.dispatch=u,[l,u]},useMemoCache:ru,useCacheRefresh:function(){return es().memoizedState=x9.bind(null,yn)},useEffectEvent:function(l){var u=es(),d={impl:l};return u.memoizedState=d,function(){if((Nr&2)!==0)throw Error(r(440));return d.impl.apply(void 0,arguments)}}},N2={readContext:ys,use:Qu,useCallback:xS,useContext:ys,useEffect:b2,useImperativeHandle:gS,useInsertionEffect:dS,useLayoutEffect:pS,useMemo:yS,useReducer:Hd,useRef:L1,useState:function(){return Hd(nl)},useDebugValue:T2,useDeferredValue:function(l,u){var d=pi();return vS(d,_n.memoizedState,l,u)},useTransition:function(){var l=Hd(nl)[0],u=pi().memoizedState;return[typeof l=="boolean"?l:gc(l),u]},useSyncExternalStore:Gd,useId:TS,useHostTransitionStatus:A2,useFormState:Ll,useActionState:Ll,useOptimistic:function(l,u){var d=pi();return R1(d,_n,l,u)},useMemoCache:ru,useCacheRefresh:ES};N2.useEffectEvent=hS;var IS={readContext:ys,use:Qu,useCallback:xS,useContext:ys,useEffect:b2,useImperativeHandle:gS,useInsertionEffect:dS,useLayoutEffect:pS,useMemo:yS,useReducer:zd,useRef:L1,useState:function(){return zd(nl)},useDebugValue:T2,useDeferredValue:function(l,u){var d=pi();return _n===null?E2(d,l,u):vS(d,_n.memoizedState,l,u)},useTransition:function(){var l=zd(nl)[0],u=pi().memoizedState;return[typeof l=="boolean"?l:gc(l),u]},useSyncExternalStore:Gd,useId:TS,useHostTransitionStatus:A2,useFormState:Kd,useActionState:Kd,useOptimistic:function(l,u){var d=pi();return _n!==null?R1(d,_n,l,u):(d.baseState=l,[l,d.queue.dispatch])},useMemoCache:ru,useCacheRefresh:ES};IS.useEffectEvent=hS;function I2(l,u,d,m){u=l.memoizedState,d=d(m,u),d=d==null?u:p({},u,d),l.memoizedState=d,l.lanes===0&&(l.updateQueue.baseState=d)}var k2={enqueueSetState:function(l,u,d){l=l._reactInternals;var m=Do(),E=Tn(m);E.payload=u,d!=null&&(E.callback=d),u=Un(l,E,m),u!==null&&(po(u,l,m),Ar(u,l,m))},enqueueReplaceState:function(l,u,d){l=l._reactInternals;var m=Do(),E=Tn(m);E.tag=1,E.payload=u,d!=null&&(E.callback=d),u=Un(l,E,m),u!==null&&(po(u,l,m),Ar(u,l,m))},enqueueForceUpdate:function(l,u){l=l._reactInternals;var d=Do(),m=Tn(d);m.tag=2,u!=null&&(m.callback=u),u=Un(l,m,d),u!==null&&(po(u,l,d),Ar(u,l,d))}};function kS(l,u,d,m,E,I,G){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(m,I,G):u.prototype&&u.prototype.isPureReactComponent?!Cl(d,m)||!Cl(E,I):!0}function RS(l,u,d,m){l=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(d,m),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(d,m),u.state!==l&&k2.enqueueReplaceState(u,u.state,null)}function vh(l,u){var d=u;if("ref"in u){d={};for(var m in u)m!=="ref"&&(d[m]=u[m])}if(l=l.defaultProps){d===u&&(d=p({},d));for(var E in l)d[E]===void 0&&(d[E]=l[E])}return d}function PS(l){lh(l)}function DS(l){console.error(l)}function MS(l){lh(l)}function O1(l,u){try{var d=l.onUncaughtError;d(u.value,{componentStack:u.stack})}catch(m){setTimeout(function(){throw m})}}function LS(l,u,d){try{var m=l.onCaughtError;m(d.value,{componentStack:d.stack,errorBoundary:u.tag===1?u.stateNode:null})}catch(E){setTimeout(function(){throw E})}}function R2(l,u,d){return d=Tn(d),d.tag=3,d.payload={element:null},d.callback=function(){O1(l,u)},d}function FS(l){return l=Tn(l),l.tag=3,l}function OS(l,u,d,m){var E=d.type.getDerivedStateFromError;if(typeof E=="function"){var I=m.value;l.payload=function(){return E(I)},l.callback=function(){LS(u,d,m)}}var G=d.stateNode;G!==null&&typeof G.componentDidCatch=="function"&&(l.callback=function(){LS(u,d,m),typeof E!="function"&&(af===null?af=new Set([this]):af.add(this));var le=m.stack;this.componentDidCatch(m.value,{componentStack:le!==null?le:""})})}function v9(l,u,d,m,E){if(d.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(u=d.alternate,u!==null&&hc(u,d,E,!0),d=ai.current,d!==null){switch(d.tag){case 31:case 13:return fr===null?Y1():d.alternate===null&&Li===0&&(Li=3),d.flags&=-257,d.flags|=65536,d.lanes=E,m===Fe?d.flags|=16384:(u=d.updateQueue,u===null?d.updateQueue=new Set([m]):u.add(m),n_(l,m,E)),!1;case 22:return d.flags|=65536,m===Fe?d.flags|=16384:(u=d.updateQueue,u===null?(u={transitions:null,markerInstances:null,retryQueue:new Set([m])},d.updateQueue=u):(d=u.retryQueue,d===null?u.retryQueue=new Set([m]):d.add(m)),n_(l,m,E)),!1}throw Error(r(435,d.tag))}return n_(l,m,E),Y1(),!1}if(Jn)return u=ai.current,u!==null?((u.flags&65536)===0&&(u.flags|=256),u.flags|=65536,u.lanes=E,m!==ko&&(l=Error(r(422),{cause:m}),Yu(no(l,d)))):(m!==ko&&(u=Error(r(423),{cause:m}),Yu(no(u,d))),l=l.current.alternate,l.flags|=65536,E&=-E,l.lanes|=E,m=no(m,d),E=R2(l.stateNode,m,E),zi(l,E),Li!==4&&(Li=2)),!1;var I=Error(r(520),{cause:m});if(I=no(I,d),cm===null?cm=[I]:cm.push(I),Li!==4&&(Li=2),u===null)return!0;m=no(m,d),d=u;do{switch(d.tag){case 3:return d.flags|=65536,l=E&-E,d.lanes|=l,l=R2(d.stateNode,m,l),zi(d,l),!1;case 1:if(u=d.type,I=d.stateNode,(d.flags&128)===0&&(typeof u.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(af===null||!af.has(I))))return d.flags|=65536,E&=-E,d.lanes|=E,E=FS(E),OS(E,l,d,m),zi(d,E),!1}d=d.return}while(d!==null);return!1}var P2=Error(r(461)),ts=!1;function Zs(l,u,d,m){u.child=l===null?Ln(u,null,d,m):Zr(u,l.child,d,m)}function VS(l,u,d,m,E){d=d.render;var I=u.ref;if("ref"in m){var G={};for(var le in m)le!=="ref"&&(G[le]=m[le])}else G=m;return dc(u),m=Wp(l,u,d,G,I,E),le=Kp(),l!==null&&!ts?(Yp(l,u,E),au(l,u,E)):(Jn&&le&&Hp(u),u.flags|=1,Zs(l,u,m,E),u.child)}function US(l,u,d,m,E){if(l===null){var I=d.type;return typeof I=="function"&&!Rd(I)&&I.defaultProps===void 0&&d.compare===null?(u.tag=15,u.type=I,BS(l,u,I,m,E)):(l=$u(d.type,null,m,u,u.mode,E),l.ref=u.ref,l.return=u,u.child=l)}if(I=l.child,!B2(l,E)){var G=I.memoizedProps;if(d=d.compare,d=d!==null?d:Cl,d(G,m)&&l.ref===u.ref)return au(l,u,E)}return u.flags|=1,l=to(I,m),l.ref=u.ref,l.return=u,u.child=l}function BS(l,u,d,m,E){if(l!==null){var I=l.memoizedProps;if(Cl(I,m)&&l.ref===u.ref)if(ts=!1,u.pendingProps=m=I,B2(l,E))(l.flags&131072)!==0&&(ts=!0);else return u.lanes=l.lanes,au(l,u,E)}return D2(l,u,d,m,E)}function jS(l,u,d,m){var E=m.children,I=l!==null?l.memoizedState:null;if(l===null&&u.stateNode===null&&(u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((u.flags&128)!==0){if(I=I!==null?I.baseLanes|d:d,l!==null){for(m=u.child=l.child,E=0;m!==null;)E=E|m.lanes|m.childLanes,m=m.sibling;m=E&~I}else m=0,u.child=null;return qS(l,u,I,d,m)}if((d&536870912)!==0)u.memoizedState={baseLanes:0,cachePool:null},l!==null&&ve(u,I!==null?I.cachePool:null),I!==null?si(u,I):yr(),Pi(u);else return m=u.lanes=536870912,qS(l,u,I!==null?I.baseLanes|d:d,d,m)}else I!==null?(ve(u,I.cachePool),si(u,I),Di(),u.memoizedState=null):(l!==null&&ve(u,null),yr(),Di());return Zs(l,u,E,d),u.child}function nm(l,u){return l!==null&&l.tag===22||u.stateNode!==null||(u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.sibling}function qS(l,u,d,m,E){var I=de();return I=I===null?null:{parent:Ei._currentValue,pool:I},u.memoizedState={baseLanes:d,cachePool:I},l!==null&&ve(u,null),yr(),Pi(u),l!==null&&hc(l,u,m,!0),u.childLanes=E,null}function V1(l,u){return u=B1({mode:u.mode,children:u.children},l.mode),u.ref=l.ref,l.child=u,u.return=l,u}function HS(l,u,d){return Zr(u,l.child,null,d),l=V1(u,u.pendingProps),l.flags|=2,Dr(u),u.memoizedState=null,l}function _9(l,u,d){var m=u.pendingProps,E=(u.flags&128)!==0;if(u.flags&=-129,l===null){if(Jn){if(m.mode==="hidden")return l=V1(u,m),u.lanes=536870912,nm(null,l);if(Cr(u),(l=Qr)?(l=t4(l,hi),l=l!==null&&l.data==="&"?l:null,l!==null&&(u.memoizedState={dehydrated:l,treeContext:lc!==null?{id:so,overflow:ao}:null,retryLane:536870912,hydrationErrors:null},d=Pd(l),d.return=u,u.child=d,gs=u,Qr=null)):l=null,l===null)throw cc(u);return u.lanes=536870912,null}return V1(u,m)}var I=l.memoizedState;if(I!==null){var G=I.dehydrated;if(Cr(u),E)if(u.flags&256)u.flags&=-257,u=HS(l,u,d);else if(u.memoizedState!==null)u.child=l.child,u.flags|=128,u=null;else throw Error(r(558));else if(ts||hc(l,u,d,!1),E=(d&l.childLanes)!==0,ts||E){if(m=ei,m!==null&&(G=Xi(m,d),G!==0&&G!==I.retryLane))throw I.retryLane=G,Rl(l,G),po(m,l,G),P2;Y1(),u=HS(l,u,d)}else l=I.treeContext,Qr=il(G.nextSibling),gs=u,Jn=!0,Js=null,hi=!1,l!==null&&N1(u,l),u=V1(u,m),u.flags|=4096;return u}return l=to(l.child,{mode:m.mode,children:m.children}),l.ref=u.ref,u.child=l,l.return=u,l}function U1(l,u){var d=u.ref;if(d===null)l!==null&&l.ref!==null&&(u.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(r(284));(l===null||l.ref!==d)&&(u.flags|=4194816)}}function D2(l,u,d,m,E){return dc(u),d=Wp(l,u,d,m,void 0,E),m=Kp(),l!==null&&!ts?(Yp(l,u,E),au(l,u,E)):(Jn&&m&&Hp(u),u.flags|=1,Zs(l,u,d,E),u.child)}function zS(l,u,d,m,E,I){return dc(u),u.updateQueue=null,d=Dl(u,m,d,E),jd(l),m=Kp(),l!==null&&!ts?(Yp(l,u,I),au(l,u,I)):(Jn&&m&&Hp(u),u.flags|=1,Zs(l,u,d,I),u.child)}function GS(l,u,d,m,E){if(dc(u),u.stateNode===null){var I=ms,G=d.contextType;typeof G=="object"&&G!==null&&(I=ys(G)),I=new d(m,I),u.memoizedState=I.state!==null&&I.state!==void 0?I.state:null,I.updater=k2,u.stateNode=I,I._reactInternals=u,I=u.stateNode,I.props=m,I.state=u.memoizedState,I.refs={},Dt(u),G=d.contextType,I.context=typeof G=="object"&&G!==null?ys(G):ms,I.state=u.memoizedState,G=d.getDerivedStateFromProps,typeof G=="function"&&(I2(u,d,G,m),I.state=u.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof I.getSnapshotBeforeUpdate=="function"||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(G=I.state,typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount(),G!==I.state&&k2.enqueueReplaceState(I,I.state,null),ki(u,m,I,E),Hr(),I.state=u.memoizedState),typeof I.componentDidMount=="function"&&(u.flags|=4194308),m=!0}else if(l===null){I=u.stateNode;var le=u.memoizedProps,Re=vh(d,le);I.props=Re;var Je=I.context,ut=d.contextType;G=ms,typeof ut=="object"&&ut!==null&&(G=ys(ut));var gt=d.getDerivedStateFromProps;ut=typeof gt=="function"||typeof I.getSnapshotBeforeUpdate=="function",le=u.pendingProps!==le,ut||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(le||Je!==G)&&RS(u,I,m,G),zt=!1;var Ze=u.memoizedState;I.state=Ze,ki(u,m,I,E),Hr(),Je=u.memoizedState,le||Ze!==Je||zt?(typeof gt=="function"&&(I2(u,d,gt,m),Je=u.memoizedState),(Re=zt||kS(u,d,Re,m,Ze,Je,G))?(ut||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount()),typeof I.componentDidMount=="function"&&(u.flags|=4194308)):(typeof I.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=m,u.memoizedState=Je),I.props=m,I.state=Je,I.context=G,m=Re):(typeof I.componentDidMount=="function"&&(u.flags|=4194308),m=!1)}else{I=u.stateNode,ii(l,u),G=u.memoizedProps,ut=vh(d,G),I.props=ut,gt=u.pendingProps,Ze=I.context,Je=d.contextType,Re=ms,typeof Je=="object"&&Je!==null&&(Re=ys(Je)),le=d.getDerivedStateFromProps,(Je=typeof le=="function"||typeof I.getSnapshotBeforeUpdate=="function")||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(G!==gt||Ze!==Re)&&RS(u,I,m,Re),zt=!1,Ze=u.memoizedState,I.state=Ze,ki(u,m,I,E),Hr();var et=u.memoizedState;G!==gt||Ze!==et||zt||l!==null&&l.dependencies!==null&&Od(l.dependencies)?(typeof le=="function"&&(I2(u,d,le,m),et=u.memoizedState),(ut=zt||kS(u,d,ut,m,Ze,et,Re)||l!==null&&l.dependencies!==null&&Od(l.dependencies))?(Je||typeof I.UNSAFE_componentWillUpdate!="function"&&typeof I.componentWillUpdate!="function"||(typeof I.componentWillUpdate=="function"&&I.componentWillUpdate(m,et,Re),typeof I.UNSAFE_componentWillUpdate=="function"&&I.UNSAFE_componentWillUpdate(m,et,Re)),typeof I.componentDidUpdate=="function"&&(u.flags|=4),typeof I.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof I.componentDidUpdate!="function"||G===l.memoizedProps&&Ze===l.memoizedState||(u.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||G===l.memoizedProps&&Ze===l.memoizedState||(u.flags|=1024),u.memoizedProps=m,u.memoizedState=et),I.props=m,I.state=et,I.context=Re,m=ut):(typeof I.componentDidUpdate!="function"||G===l.memoizedProps&&Ze===l.memoizedState||(u.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||G===l.memoizedProps&&Ze===l.memoizedState||(u.flags|=1024),m=!1)}return I=m,U1(l,u),m=(u.flags&128)!==0,I||m?(I=u.stateNode,d=m&&typeof d.getDerivedStateFromError!="function"?null:I.render(),u.flags|=1,l!==null&&m?(u.child=Zr(u,l.child,null,E),u.child=Zr(u,null,d,E)):Zs(l,u,d,E),u.memoizedState=I.state,l=u.child):l=au(l,u,E),l}function $S(l,u,d,m){return tu(),u.flags|=256,Zs(l,u,d,m),u.child}var M2={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function L2(l){return{baseLanes:l,cachePool:Se()}}function F2(l,u,d){return l=l!==null?l.childLanes&~d:0,u&&(l|=Po),l}function WS(l,u,d){var m=u.pendingProps,E=!1,I=(u.flags&128)!==0,G;if((G=I)||(G=l!==null&&l.memoizedState===null?!1:(ar.current&2)!==0),G&&(E=!0,u.flags&=-129),G=(u.flags&32)!==0,u.flags&=-33,l===null){if(Jn){if(E?Si(u):Di(),(l=Qr)?(l=t4(l,hi),l=l!==null&&l.data!=="&"?l:null,l!==null&&(u.memoizedState={dehydrated:l,treeContext:lc!==null?{id:so,overflow:ao}:null,retryLane:536870912,hydrationErrors:null},d=Pd(l),d.return=u,u.child=d,gs=u,Qr=null)):l=null,l===null)throw cc(u);return y_(l)?u.lanes=32:u.lanes=536870912,null}var le=m.children;return m=m.fallback,E?(Di(),E=u.mode,le=B1({mode:"hidden",children:le},E),m=oc(m,E,d,null),le.return=u,m.return=u,le.sibling=m,u.child=le,m=u.child,m.memoizedState=L2(d),m.childLanes=F2(l,G,d),u.memoizedState=M2,nm(null,m)):(Si(u),O2(u,le))}var Re=l.memoizedState;if(Re!==null&&(le=Re.dehydrated,le!==null)){if(I)u.flags&256?(Si(u),u.flags&=-257,u=V2(l,u,d)):u.memoizedState!==null?(Di(),u.child=l.child,u.flags|=128,u=null):(Di(),le=m.fallback,E=u.mode,m=B1({mode:"visible",children:m.children},E),le=oc(le,E,d,null),le.flags|=2,m.return=u,le.return=u,m.sibling=le,u.child=m,Zr(u,l.child,null,d),m=u.child,m.memoizedState=L2(d),m.childLanes=F2(l,G,d),u.memoizedState=M2,u=nm(null,m));else if(Si(u),y_(le)){if(G=le.nextSibling&&le.nextSibling.dataset,G)var Je=G.dgst;G=Je,m=Error(r(419)),m.stack="",m.digest=G,Yu({value:m,source:null,stack:null}),u=V2(l,u,d)}else if(ts||hc(l,u,d,!1),G=(d&l.childLanes)!==0,ts||G){if(G=ei,G!==null&&(m=Xi(G,d),m!==0&&m!==Re.retryLane))throw Re.retryLane=m,Rl(l,m),po(G,l,m),P2;x_(le)||Y1(),u=V2(l,u,d)}else x_(le)?(u.flags|=192,u.child=l.child,u=null):(l=Re.treeContext,Qr=il(le.nextSibling),gs=u,Jn=!0,Js=null,hi=!1,l!==null&&N1(u,l),u=O2(u,m.children),u.flags|=4096);return u}return E?(Di(),le=m.fallback,E=u.mode,Re=l.child,Je=Re.sibling,m=to(Re,{mode:"hidden",children:m.children}),m.subtreeFlags=Re.subtreeFlags&65011712,Je!==null?le=to(Je,le):(le=oc(le,E,d,null),le.flags|=2),le.return=u,m.return=u,m.sibling=le,u.child=m,nm(null,m),m=u.child,le=l.child.memoizedState,le===null?le=L2(d):(E=le.cachePool,E!==null?(Re=Ei._currentValue,E=E.parent!==Re?{parent:Re,pool:Re}:E):E=Se(),le={baseLanes:le.baseLanes|d,cachePool:E}),m.memoizedState=le,m.childLanes=F2(l,G,d),u.memoizedState=M2,nm(l.child,m)):(Si(u),d=l.child,l=d.sibling,d=to(d,{mode:"visible",children:m.children}),d.return=u,d.sibling=null,l!==null&&(G=u.deletions,G===null?(u.deletions=[l],u.flags|=16):G.push(l)),u.child=d,u.memoizedState=null,d)}function O2(l,u){return u=B1({mode:"visible",children:u},l.mode),u.return=l,l.child=u}function B1(l,u){return l=Ms(22,l,null,u),l.lanes=0,l}function V2(l,u,d){return Zr(u,l.child,null,d),l=O2(u,u.pendingProps.children),l.flags|=2,u.memoizedState=null,l}function KS(l,u,d){l.lanes|=u;var m=l.alternate;m!==null&&(m.lanes|=u),Xu(l.return,u,d)}function U2(l,u,d,m,E,I){var G=l.memoizedState;G===null?l.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:m,tail:d,tailMode:E,treeForkCount:I}:(G.isBackwards=u,G.rendering=null,G.renderingStartTime=0,G.last=m,G.tail=d,G.tailMode=E,G.treeForkCount=I)}function YS(l,u,d){var m=u.pendingProps,E=m.revealOrder,I=m.tail;m=m.children;var G=ar.current,le=(G&2)!==0;if(le?(G=G&1|2,u.flags|=128):G&=1,W(ar,G),Zs(l,u,m,d),m=Jn?ph:0,!le&&l!==null&&(l.flags&128)!==0)e:for(l=u.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&KS(l,d,u);else if(l.tag===19)KS(l,d,u);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===u)break e;for(;l.sibling===null;){if(l.return===null||l.return===u)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}switch(E){case"forwards":for(d=u.child,E=null;d!==null;)l=d.alternate,l!==null&&Fs(l)===null&&(E=d),d=d.sibling;d=E,d===null?(E=u.child,u.child=null):(E=d.sibling,d.sibling=null),U2(u,!1,E,d,I,m);break;case"backwards":case"unstable_legacy-backwards":for(d=null,E=u.child,u.child=null;E!==null;){if(l=E.alternate,l!==null&&Fs(l)===null){u.child=E;break}l=E.sibling,E.sibling=d,d=E,E=l}U2(u,!0,d,null,I,m);break;case"together":U2(u,!1,null,null,void 0,m);break;default:u.memoizedState=null}return u.child}function au(l,u,d){if(l!==null&&(u.dependencies=l.dependencies),sf|=u.lanes,(d&u.childLanes)===0)if(l!==null){if(hc(l,u,d,!1),(d&u.childLanes)===0)return null}else return null;if(l!==null&&u.child!==l.child)throw Error(r(153));if(u.child!==null){for(l=u.child,d=to(l,l.pendingProps),u.child=d,d.return=u;l.sibling!==null;)l=l.sibling,d=d.sibling=to(l,l.pendingProps),d.return=u;d.sibling=null}return u.child}function B2(l,u){return(l.lanes&u)!==0?!0:(l=l.dependencies,!!(l!==null&&Od(l)))}function w9(l,u,d){switch(u.tag){case 3:ke(u,u.stateNode.containerInfo),fc(u,Ei,l.memoizedState.cache),tu();break;case 27:case 5:Ae(u);break;case 4:ke(u,u.stateNode.containerInfo);break;case 10:fc(u,u.type,u.memoizedProps.value);break;case 31:if(u.memoizedState!==null)return u.flags|=128,Cr(u),null;break;case 13:var m=u.memoizedState;if(m!==null)return m.dehydrated!==null?(Si(u),u.flags|=128,null):(d&u.child.childLanes)!==0?WS(l,u,d):(Si(u),l=au(l,u,d),l!==null?l.sibling:null);Si(u);break;case 19:var E=(l.flags&128)!==0;if(m=(d&u.childLanes)!==0,m||(hc(l,u,d,!1),m=(d&u.childLanes)!==0),E){if(m)return YS(l,u,d);u.flags|=128}if(E=u.memoizedState,E!==null&&(E.rendering=null,E.tail=null,E.lastEffect=null),W(ar,ar.current),m)break;return null;case 22:return u.lanes=0,jS(l,u,d,u.pendingProps);case 24:fc(u,Ei,l.memoizedState.cache)}return au(l,u,d)}function XS(l,u,d){if(l!==null)if(l.memoizedProps!==u.pendingProps)ts=!0;else{if(!B2(l,d)&&(u.flags&128)===0)return ts=!1,w9(l,u,d);ts=(l.flags&131072)!==0}else ts=!1,Jn&&(u.flags&1048576)!==0&&C1(u,ph,u.index);switch(u.lanes=0,u.tag){case 16:e:{var m=u.pendingProps;if(l=ze(u.elementType),u.type=l,typeof l=="function")Rd(l)?(m=vh(l,m),u.tag=1,u=GS(null,u,l,m,d)):(u.tag=0,u=D2(null,u,l,m,d));else{if(l!=null){var E=l.$$typeof;if(E===q){u.tag=11,u=VS(null,u,l,m,d);break e}else if(E===F){u.tag=14,u=US(null,u,l,m,d);break e}}throw u=me(l)||l,Error(r(306,u,""))}}return u;case 0:return D2(l,u,u.type,u.pendingProps,d);case 1:return m=u.type,E=vh(m,u.pendingProps),GS(l,u,m,E,d);case 3:e:{if(ke(u,u.stateNode.containerInfo),l===null)throw Error(r(387));m=u.pendingProps;var I=u.memoizedState;E=I.element,ii(l,u),ki(u,m,null,d);var G=u.memoizedState;if(m=G.cache,fc(u,Ei,m),m!==I.cache&&nu(u,[Ei],d,!0),Hr(),m=G.element,I.isDehydrated)if(I={element:m,isDehydrated:!1,cache:G.cache},u.updateQueue.baseState=I,u.memoizedState=I,u.flags&256){u=$S(l,u,m,d);break e}else if(m!==E){E=no(Error(r(424)),u),Yu(E),u=$S(l,u,m,d);break e}else{switch(l=u.stateNode.containerInfo,l.nodeType){case 9:l=l.body;break;default:l=l.nodeName==="HTML"?l.ownerDocument.body:l}for(Qr=il(l.firstChild),gs=u,Jn=!0,Js=null,hi=!0,d=Ln(u,null,m,d),u.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(tu(),m===E){u=au(l,u,d);break e}Zs(l,u,m,d)}u=u.child}return u;case 26:return U1(l,u),l===null?(d=o4(u.type,null,u.pendingProps,null))?u.memoizedState=d:Jn||(d=u.type,l=u.pendingProps,m=nx(ce.current).createElement(d),m[ye]=u,m[_e]=l,ea(m,d,l),Gt(m),u.stateNode=m):u.memoizedState=o4(u.type,l.memoizedProps,u.pendingProps,l.memoizedState),null;case 27:return Ae(u),l===null&&Jn&&(m=u.stateNode=i4(u.type,u.pendingProps,ce.current),gs=u,hi=!0,E=Qr,uf(u.type)?(v_=E,Qr=il(m.firstChild)):Qr=E),Zs(l,u,u.pendingProps.children,d),U1(l,u),l===null&&(u.flags|=4194304),u.child;case 5:return l===null&&Jn&&((E=m=Qr)&&(m=J9(m,u.type,u.pendingProps,hi),m!==null?(u.stateNode=m,gs=u,Qr=il(m.firstChild),hi=!1,E=!0):E=!1),E||cc(u)),Ae(u),E=u.type,I=u.pendingProps,G=l!==null?l.memoizedProps:null,m=I.children,p_(E,I)?m=null:G!==null&&p_(E,G)&&(u.flags|=32),u.memoizedState!==null&&(E=Wp(l,u,w2,null,null,d),xm._currentValue=E),U1(l,u),Zs(l,u,m,d),u.child;case 6:return l===null&&Jn&&((l=d=Qr)&&(d=Q9(d,u.pendingProps,hi),d!==null?(u.stateNode=d,gs=u,Qr=null,l=!0):l=!1),l||cc(u)),null;case 13:return WS(l,u,d);case 4:return ke(u,u.stateNode.containerInfo),m=u.pendingProps,l===null?u.child=Zr(u,null,m,d):Zs(l,u,m,d),u.child;case 11:return VS(l,u,u.type,u.pendingProps,d);case 7:return Zs(l,u,u.pendingProps,d),u.child;case 8:return Zs(l,u,u.pendingProps.children,d),u.child;case 12:return Zs(l,u,u.pendingProps.children,d),u.child;case 10:return m=u.pendingProps,fc(u,u.type,m.value),Zs(l,u,m.children,d),u.child;case 9:return E=u.type._context,m=u.pendingProps.children,dc(u),E=ys(E),m=m(E),u.flags|=1,Zs(l,u,m,d),u.child;case 14:return US(l,u,u.type,u.pendingProps,d);case 15:return BS(l,u,u.type,u.pendingProps,d);case 19:return YS(l,u,d);case 31:return _9(l,u,d);case 22:return jS(l,u,d,u.pendingProps);case 24:return dc(u),m=ys(Ei),l===null?(E=de(),E===null&&(E=ei,I=Ju(),E.pooledCache=I,I.refCount++,I!==null&&(E.pooledCacheLanes|=d),E=I),u.memoizedState={parent:m,cache:E},Dt(u),fc(u,Ei,E)):((l.lanes&d)!==0&&(ii(l,u),ki(u,null,null,d),Hr()),E=l.memoizedState,I=u.memoizedState,E.parent!==m?(E={parent:m,cache:m},u.memoizedState=E,u.lanes===0&&(u.memoizedState=u.updateQueue.baseState=E),fc(u,Ei,m)):(m=I.cache,fc(u,Ei,m),m!==E.cache&&nu(u,[Ei],d,!0))),Zs(l,u,u.pendingProps.children,d),u.child;case 29:throw u.pendingProps}throw Error(r(156,u.tag))}function ou(l){l.flags|=4}function j2(l,u,d,m,E){if((u=(l.mode&32)!==0)&&(u=!1),u){if(l.flags|=16777216,(E&335544128)===E)if(l.stateNode.complete)l.flags|=8192;else if(TA())l.flags|=8192;else throw st=Fe,Ye}else l.flags&=-16777217}function JS(l,u){if(u.type!=="stylesheet"||(u.state.loading&4)!==0)l.flags&=-16777217;else if(l.flags|=16777216,!h4(u))if(TA())l.flags|=8192;else throw st=Fe,Ye}function j1(l,u){u!==null&&(l.flags|=4),l.flags&16384&&(u=l.tag!==22?Ns():536870912,l.lanes|=u,Qd|=u)}function rm(l,u){if(!Jn)switch(l.tailMode){case"hidden":u=l.tail;for(var d=null;u!==null;)u.alternate!==null&&(d=u),u=u.sibling;d===null?l.tail=null:d.sibling=null;break;case"collapsed":d=l.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?u||l.tail===null?l.tail=null:l.tail.sibling=null:m.sibling=null}}function oi(l){var u=l.alternate!==null&&l.alternate.child===l.child,d=0,m=0;if(u)for(var E=l.child;E!==null;)d|=E.lanes|E.childLanes,m|=E.subtreeFlags&65011712,m|=E.flags&65011712,E.return=l,E=E.sibling;else for(E=l.child;E!==null;)d|=E.lanes|E.childLanes,m|=E.subtreeFlags,m|=E.flags,E.return=l,E=E.sibling;return l.subtreeFlags|=m,l.childLanes=d,u}function b9(l,u,d){var m=u.pendingProps;switch(Ld(u),u.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return oi(u),null;case 1:return oi(u),null;case 3:return d=u.stateNode,m=null,l!==null&&(m=l.memoizedState.cache),u.memoizedState.cache!==m&&(u.flags|=2048),oo(Ei),fe(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(l===null||l.child===null)&&(xs(u)?ou(u):l===null||l.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,Gp())),oi(u),null;case 26:var E=u.type,I=u.memoizedState;return l===null?(ou(u),I!==null?(oi(u),JS(u,I)):(oi(u),j2(u,E,null,m,d))):I?I!==l.memoizedState?(ou(u),oi(u),JS(u,I)):(oi(u),u.flags&=-16777217):(l=l.memoizedProps,l!==m&&ou(u),oi(u),j2(u,E,l,m,d)),null;case 27:if(Ue(u),d=ce.current,E=u.type,l!==null&&u.stateNode!=null)l.memoizedProps!==m&&ou(u);else{if(!m){if(u.stateNode===null)throw Error(r(166));return oi(u),null}l=K.current,xs(u)?zp(u):(l=i4(E,m,d),u.stateNode=l,ou(u))}return oi(u),null;case 5:if(Ue(u),E=u.type,l!==null&&u.stateNode!=null)l.memoizedProps!==m&&ou(u);else{if(!m){if(u.stateNode===null)throw Error(r(166));return oi(u),null}if(I=K.current,xs(u))zp(u);else{var G=nx(ce.current);switch(I){case 1:I=G.createElementNS("http://www.w3.org/2000/svg",E);break;case 2:I=G.createElementNS("http://www.w3.org/1998/Math/MathML",E);break;default:switch(E){case"svg":I=G.createElementNS("http://www.w3.org/2000/svg",E);break;case"math":I=G.createElementNS("http://www.w3.org/1998/Math/MathML",E);break;case"script":I=G.createElement("div"),I.innerHTML="<script><\/script>",I=I.removeChild(I.firstChild);break;case"select":I=typeof m.is=="string"?G.createElement("select",{is:m.is}):G.createElement("select"),m.multiple?I.multiple=!0:m.size&&(I.size=m.size);break;default:I=typeof m.is=="string"?G.createElement(E,{is:m.is}):G.createElement(E)}}I[ye]=u,I[_e]=m;e:for(G=u.child;G!==null;){if(G.tag===5||G.tag===6)I.appendChild(G.stateNode);else if(G.tag!==4&&G.tag!==27&&G.child!==null){G.child.return=G,G=G.child;continue}if(G===u)break e;for(;G.sibling===null;){if(G.return===null||G.return===u)break e;G=G.return}G.sibling.return=G.return,G=G.sibling}u.stateNode=I;e:switch(ea(I,E,m),E){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&ou(u)}}return oi(u),j2(u,u.type,l===null?null:l.memoizedProps,u.pendingProps,d),null;case 6:if(l&&u.stateNode!=null)l.memoizedProps!==m&&ou(u);else{if(typeof m!="string"&&u.stateNode===null)throw Error(r(166));if(l=ce.current,xs(u)){if(l=u.stateNode,d=u.memoizedProps,m=null,E=gs,E!==null)switch(E.tag){case 27:case 5:m=E.memoizedProps}l[ye]=u,l=!!(l.nodeValue===d||m!==null&&m.suppressHydrationWarning===!0||WA(l.nodeValue,d)),l||cc(u,!0)}else l=nx(l).createTextNode(m),l[ye]=u,u.stateNode=l}return oi(u),null;case 31:if(d=u.memoizedState,l===null||l.memoizedState!==null){if(m=xs(u),d!==null){if(l===null){if(!m)throw Error(r(318));if(l=u.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(557));l[ye]=u}else tu(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;oi(u),l=!1}else d=Gp(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=d),l=!0;if(!l)return u.flags&256?(Dr(u),u):(Dr(u),null);if((u.flags&128)!==0)throw Error(r(558))}return oi(u),null;case 13:if(m=u.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(E=xs(u),m!==null&&m.dehydrated!==null){if(l===null){if(!E)throw Error(r(318));if(E=u.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(r(317));E[ye]=u}else tu(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;oi(u),E=!1}else E=Gp(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=E),E=!0;if(!E)return u.flags&256?(Dr(u),u):(Dr(u),null)}return Dr(u),(u.flags&128)!==0?(u.lanes=d,u):(d=m!==null,l=l!==null&&l.memoizedState!==null,d&&(m=u.child,E=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(E=m.alternate.memoizedState.cachePool.pool),I=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(I=m.memoizedState.cachePool.pool),I!==E&&(m.flags|=2048)),d!==l&&d&&(u.child.flags|=8192),j1(u,u.updateQueue),oi(u),null);case 4:return fe(),l===null&&c_(u.stateNode.containerInfo),oi(u),null;case 10:return oo(u.type),oi(u),null;case 19:if(M(ar),m=u.memoizedState,m===null)return oi(u),null;if(E=(u.flags&128)!==0,I=m.rendering,I===null)if(E)rm(m,!1);else{if(Li!==0||l!==null&&(l.flags&128)!==0)for(l=u.child;l!==null;){if(I=Fs(l),I!==null){for(u.flags|=128,rm(m,!1),l=I.updateQueue,u.updateQueue=l,j1(u,l),u.subtreeFlags=0,l=d,d=u.child;d!==null;)hh(d,l),d=d.sibling;return W(ar,ar.current&1|2),Jn&&Ua(u,m.treeForkCount),u.child}l=l.sibling}m.tail!==null&&sn()>$1&&(u.flags|=128,E=!0,rm(m,!1),u.lanes=4194304)}else{if(!E)if(l=Fs(I),l!==null){if(u.flags|=128,E=!0,l=l.updateQueue,u.updateQueue=l,j1(u,l),rm(m,!0),m.tail===null&&m.tailMode==="hidden"&&!I.alternate&&!Jn)return oi(u),null}else 2*sn()-m.renderingStartTime>$1&&d!==536870912&&(u.flags|=128,E=!0,rm(m,!1),u.lanes=4194304);m.isBackwards?(I.sibling=u.child,u.child=I):(l=m.last,l!==null?l.sibling=I:u.child=I,m.last=I)}return m.tail!==null?(l=m.tail,m.rendering=l,m.tail=l.sibling,m.renderingStartTime=sn(),l.sibling=null,d=ar.current,W(ar,E?d&1|2:d&1),Jn&&Ua(u,m.treeForkCount),l):(oi(u),null);case 22:case 23:return Dr(u),Gi(),m=u.memoizedState!==null,l!==null?l.memoizedState!==null!==m&&(u.flags|=8192):m&&(u.flags|=8192),m?(d&536870912)!==0&&(u.flags&128)===0&&(oi(u),u.subtreeFlags&6&&(u.flags|=8192)):oi(u),d=u.updateQueue,d!==null&&j1(u,d.retryQueue),d=null,l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),m=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),m!==d&&(u.flags|=2048),l!==null&&M(oe),null;case 24:return d=null,l!==null&&(d=l.memoizedState.cache),u.memoizedState.cache!==d&&(u.flags|=2048),oo(Ei),oi(u),null;case 25:return null;case 30:return null}throw Error(r(156,u.tag))}function T9(l,u){switch(Ld(u),u.tag){case 1:return l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 3:return oo(Ei),fe(),l=u.flags,(l&65536)!==0&&(l&128)===0?(u.flags=l&-65537|128,u):null;case 26:case 27:case 5:return Ue(u),null;case 31:if(u.memoizedState!==null){if(Dr(u),u.alternate===null)throw Error(r(340));tu()}return l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 13:if(Dr(u),l=u.memoizedState,l!==null&&l.dehydrated!==null){if(u.alternate===null)throw Error(r(340));tu()}return l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 19:return M(ar),null;case 4:return fe(),null;case 10:return oo(u.type),null;case 22:case 23:return Dr(u),Gi(),l!==null&&M(oe),l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 24:return oo(Ei),null;case 25:return null;default:return null}}function QS(l,u){switch(Ld(u),u.tag){case 3:oo(Ei),fe();break;case 26:case 27:case 5:Ue(u);break;case 4:fe();break;case 31:u.memoizedState!==null&&Dr(u);break;case 13:Dr(u);break;case 19:M(ar);break;case 10:oo(u.type);break;case 22:case 23:Dr(u),Gi(),l!==null&&M(oe);break;case 24:oo(Ei)}}function im(l,u){try{var d=u.updateQueue,m=d!==null?d.lastEffect:null;if(m!==null){var E=m.next;d=E;do{if((d.tag&l)===l){m=void 0;var I=d.create,G=d.inst;m=I(),G.destroy=m}d=d.next}while(d!==E)}}catch(le){Lr(u,u.return,le)}}function nf(l,u,d){try{var m=u.updateQueue,E=m!==null?m.lastEffect:null;if(E!==null){var I=E.next;m=I;do{if((m.tag&l)===l){var G=m.inst,le=G.destroy;if(le!==void 0){G.destroy=void 0,E=u;var Re=d,Je=le;try{Je()}catch(ut){Lr(E,Re,ut)}}}m=m.next}while(m!==I)}}catch(ut){Lr(u,u.return,ut)}}function ZS(l){var u=l.updateQueue;if(u!==null){var d=l.stateNode;try{Ri(u,d)}catch(m){Lr(l,l.return,m)}}}function eA(l,u,d){d.props=vh(l.type,l.memoizedProps),d.state=l.memoizedState;try{d.componentWillUnmount()}catch(m){Lr(l,u,m)}}function sm(l,u){try{var d=l.ref;if(d!==null){switch(l.tag){case 26:case 27:case 5:var m=l.stateNode;break;case 30:m=l.stateNode;break;default:m=l.stateNode}typeof d=="function"?l.refCleanup=d(m):d.current=m}}catch(E){Lr(l,u,E)}}function yc(l,u){var d=l.ref,m=l.refCleanup;if(d!==null)if(typeof m=="function")try{m()}catch(E){Lr(l,u,E)}finally{l.refCleanup=null,l=l.alternate,l!=null&&(l.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(E){Lr(l,u,E)}else d.current=null}function tA(l){var u=l.type,d=l.memoizedProps,m=l.stateNode;try{e:switch(u){case"button":case"input":case"select":case"textarea":d.autoFocus&&m.focus();break e;case"img":d.src?m.src=d.src:d.srcSet&&(m.srcset=d.srcSet)}}catch(E){Lr(l,l.return,E)}}function q2(l,u,d){try{var m=l.stateNode;G9(m,l.type,d,u),m[_e]=u}catch(E){Lr(l,l.return,E)}}function nA(l){return l.tag===5||l.tag===3||l.tag===26||l.tag===27&&uf(l.type)||l.tag===4}function H2(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||nA(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.tag===27&&uf(l.type)||l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function z2(l,u,d){var m=l.tag;if(m===5||m===6)l=l.stateNode,u?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(l,u):(u=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,u.appendChild(l),d=d._reactRootContainer,d!=null||u.onclick!==null||(u.onclick=Pa));else if(m!==4&&(m===27&&uf(l.type)&&(d=l.stateNode,u=null),l=l.child,l!==null))for(z2(l,u,d),l=l.sibling;l!==null;)z2(l,u,d),l=l.sibling}function q1(l,u,d){var m=l.tag;if(m===5||m===6)l=l.stateNode,u?d.insertBefore(l,u):d.appendChild(l);else if(m!==4&&(m===27&&uf(l.type)&&(d=l.stateNode),l=l.child,l!==null))for(q1(l,u,d),l=l.sibling;l!==null;)q1(l,u,d),l=l.sibling}function rA(l){var u=l.stateNode,d=l.memoizedProps;try{for(var m=l.type,E=u.attributes;E.length;)u.removeAttributeNode(E[0]);ea(u,m,d),u[ye]=l,u[_e]=d}catch(I){Lr(l,l.return,I)}}var lu=!1,ns=!1,G2=!1,iA=typeof WeakSet=="function"?WeakSet:Set,Os=null;function E9(l,u){if(l=l.containerInfo,h_=cx,l=Il(l),Zo(l)){if("selectionStart"in l)var d={start:l.selectionStart,end:l.selectionEnd};else e:{d=(d=l.ownerDocument)&&d.defaultView||window;var m=d.getSelection&&d.getSelection();if(m&&m.rangeCount!==0){d=m.anchorNode;var E=m.anchorOffset,I=m.focusNode;m=m.focusOffset;try{d.nodeType,I.nodeType}catch{d=null;break e}var G=0,le=-1,Re=-1,Je=0,ut=0,gt=l,Ze=null;t:for(;;){for(var et;gt!==d||E!==0&&gt.nodeType!==3||(le=G+E),gt!==I||m!==0&&gt.nodeType!==3||(Re=G+m),gt.nodeType===3&&(G+=gt.nodeValue.length),(et=gt.firstChild)!==null;)Ze=gt,gt=et;for(;;){if(gt===l)break t;if(Ze===d&&++Je===E&&(le=G),Ze===I&&++ut===m&&(Re=G),(et=gt.nextSibling)!==null)break;gt=Ze,Ze=gt.parentNode}gt=et}d=le===-1||Re===-1?null:{start:le,end:Re}}else d=null}d=d||{start:0,end:0}}else d=null;for(d_={focusedElem:l,selectionRange:d},cx=!1,Os=u;Os!==null;)if(u=Os,l=u.child,(u.subtreeFlags&1028)!==0&&l!==null)l.return=u,Os=l;else for(;Os!==null;){switch(u=Os,I=u.alternate,l=u.flags,u.tag){case 0:if((l&4)!==0&&(l=u.updateQueue,l=l!==null?l.events:null,l!==null))for(d=0;d<l.length;d++)E=l[d],E.ref.impl=E.nextImpl;break;case 11:case 15:break;case 1:if((l&1024)!==0&&I!==null){l=void 0,d=u,E=I.memoizedProps,I=I.memoizedState,m=d.stateNode;try{var Qt=vh(d.type,E);l=m.getSnapshotBeforeUpdate(Qt,I),m.__reactInternalSnapshotBeforeUpdate=l}catch(Sn){Lr(d,d.return,Sn)}}break;case 3:if((l&1024)!==0){if(l=u.stateNode.containerInfo,d=l.nodeType,d===9)g_(l);else if(d===1)switch(l.nodeName){case"HEAD":case"HTML":case"BODY":g_(l);break;default:l.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((l&1024)!==0)throw Error(r(163))}if(l=u.sibling,l!==null){l.return=u.return,Os=l;break}Os=u.return}}function sA(l,u,d){var m=d.flags;switch(d.tag){case 0:case 11:case 15:uu(l,d),m&4&&im(5,d);break;case 1:if(uu(l,d),m&4)if(l=d.stateNode,u===null)try{l.componentDidMount()}catch(G){Lr(d,d.return,G)}else{var E=vh(d.type,u.memoizedProps);u=u.memoizedState;try{l.componentDidUpdate(E,u,l.__reactInternalSnapshotBeforeUpdate)}catch(G){Lr(d,d.return,G)}}m&64&&ZS(d),m&512&&sm(d,d.return);break;case 3:if(uu(l,d),m&64&&(l=d.updateQueue,l!==null)){if(u=null,d.child!==null)switch(d.child.tag){case 27:case 5:u=d.child.stateNode;break;case 1:u=d.child.stateNode}try{Ri(l,u)}catch(G){Lr(d,d.return,G)}}break;case 27:u===null&&m&4&&rA(d);case 26:case 5:uu(l,d),u===null&&m&4&&tA(d),m&512&&sm(d,d.return);break;case 12:uu(l,d);break;case 31:uu(l,d),m&4&&lA(l,d);break;case 13:uu(l,d),m&4&&cA(l,d),m&64&&(l=d.memoizedState,l!==null&&(l=l.dehydrated,l!==null&&(d=D9.bind(null,d),Z9(l,d))));break;case 22:if(m=d.memoizedState!==null||lu,!m){u=u!==null&&u.memoizedState!==null||ns,E=lu;var I=ns;lu=m,(ns=u)&&!I?fu(l,d,(d.subtreeFlags&8772)!==0):uu(l,d),lu=E,ns=I}break;case 30:break;default:uu(l,d)}}function aA(l){var u=l.alternate;u!==null&&(l.alternate=null,aA(u)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(u=l.stateNode,u!==null&&vt(u)),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}var mi=null,co=!1;function cu(l,u,d){for(d=d.child;d!==null;)oA(l,u,d),d=d.sibling}function oA(l,u,d){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount($t,d)}catch{}switch(d.tag){case 26:ns||yc(d,u),cu(l,u,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:ns||yc(d,u);var m=mi,E=co;uf(d.type)&&(mi=d.stateNode,co=!1),cu(l,u,d),pm(d.stateNode),mi=m,co=E;break;case 5:ns||yc(d,u);case 6:if(m=mi,E=co,mi=null,cu(l,u,d),mi=m,co=E,mi!==null)if(co)try{(mi.nodeType===9?mi.body:mi.nodeName==="HTML"?mi.ownerDocument.body:mi).removeChild(d.stateNode)}catch(I){Lr(d,u,I)}else try{mi.removeChild(d.stateNode)}catch(I){Lr(d,u,I)}break;case 18:mi!==null&&(co?(l=mi,ZA(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,d.stateNode),a0(l)):ZA(mi,d.stateNode));break;case 4:m=mi,E=co,mi=d.stateNode.containerInfo,co=!0,cu(l,u,d),mi=m,co=E;break;case 0:case 11:case 14:case 15:nf(2,d,u),ns||nf(4,d,u),cu(l,u,d);break;case 1:ns||(yc(d,u),m=d.stateNode,typeof m.componentWillUnmount=="function"&&eA(d,u,m)),cu(l,u,d);break;case 21:cu(l,u,d);break;case 22:ns=(m=ns)||d.memoizedState!==null,cu(l,u,d),ns=m;break;default:cu(l,u,d)}}function lA(l,u){if(u.memoizedState===null&&(l=u.alternate,l!==null&&(l=l.memoizedState,l!==null))){l=l.dehydrated;try{a0(l)}catch(d){Lr(u,u.return,d)}}}function cA(l,u){if(u.memoizedState===null&&(l=u.alternate,l!==null&&(l=l.memoizedState,l!==null&&(l=l.dehydrated,l!==null))))try{a0(l)}catch(d){Lr(u,u.return,d)}}function S9(l){switch(l.tag){case 31:case 13:case 19:var u=l.stateNode;return u===null&&(u=l.stateNode=new iA),u;case 22:return l=l.stateNode,u=l._retryCache,u===null&&(u=l._retryCache=new iA),u;default:throw Error(r(435,l.tag))}}function H1(l,u){var d=S9(l);u.forEach(function(m){if(!d.has(m)){d.add(m);var E=M9.bind(null,l,m);m.then(E,E)}})}function uo(l,u){var d=u.deletions;if(d!==null)for(var m=0;m<d.length;m++){var E=d[m],I=l,G=u,le=G;e:for(;le!==null;){switch(le.tag){case 27:if(uf(le.type)){mi=le.stateNode,co=!1;break e}break;case 5:mi=le.stateNode,co=!1;break e;case 3:case 4:mi=le.stateNode.containerInfo,co=!0;break e}le=le.return}if(mi===null)throw Error(r(160));oA(I,G,E),mi=null,co=!1,I=E.alternate,I!==null&&(I.return=null),E.return=null}if(u.subtreeFlags&13886)for(u=u.child;u!==null;)uA(u,l),u=u.sibling}var Ol=null;function uA(l,u){var d=l.alternate,m=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:uo(u,l),fo(l),m&4&&(nf(3,l,l.return),im(3,l),nf(5,l,l.return));break;case 1:uo(u,l),fo(l),m&512&&(ns||d===null||yc(d,d.return)),m&64&&lu&&(l=l.updateQueue,l!==null&&(m=l.callbacks,m!==null&&(d=l.shared.hiddenCallbacks,l.shared.hiddenCallbacks=d===null?m:d.concat(m))));break;case 26:var E=Ol;if(uo(u,l),fo(l),m&512&&(ns||d===null||yc(d,d.return)),m&4){var I=d!==null?d.memoizedState:null;if(m=l.memoizedState,d===null)if(m===null)if(l.stateNode===null){e:{m=l.type,d=l.memoizedProps,E=E.ownerDocument||E;t:switch(m){case"title":I=E.getElementsByTagName("title")[0],(!I||I[Ke]||I[ye]||I.namespaceURI==="http://www.w3.org/2000/svg"||I.hasAttribute("itemprop"))&&(I=E.createElement(m),E.head.insertBefore(I,E.querySelector("head > title"))),ea(I,m,d),I[ye]=l,Gt(I),m=I;break e;case"link":var G=u4("link","href",E).get(m+(d.href||""));if(G){for(var le=0;le<G.length;le++)if(I=G[le],I.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&I.getAttribute("rel")===(d.rel==null?null:d.rel)&&I.getAttribute("title")===(d.title==null?null:d.title)&&I.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){G.splice(le,1);break t}}I=E.createElement(m),ea(I,m,d),E.head.appendChild(I);break;case"meta":if(G=u4("meta","content",E).get(m+(d.content||""))){for(le=0;le<G.length;le++)if(I=G[le],I.getAttribute("content")===(d.content==null?null:""+d.content)&&I.getAttribute("name")===(d.name==null?null:d.name)&&I.getAttribute("property")===(d.property==null?null:d.property)&&I.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&I.getAttribute("charset")===(d.charSet==null?null:d.charSet)){G.splice(le,1);break t}}I=E.createElement(m),ea(I,m,d),E.head.appendChild(I);break;default:throw Error(r(468,m))}I[ye]=l,Gt(I),m=I}l.stateNode=m}else f4(E,l.type,l.stateNode);else l.stateNode=c4(E,m,l.memoizedProps);else I!==m?(I===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):I.count--,m===null?f4(E,l.type,l.stateNode):c4(E,m,l.memoizedProps)):m===null&&l.stateNode!==null&&q2(l,l.memoizedProps,d.memoizedProps)}break;case 27:uo(u,l),fo(l),m&512&&(ns||d===null||yc(d,d.return)),d!==null&&m&4&&q2(l,l.memoizedProps,d.memoizedProps);break;case 5:if(uo(u,l),fo(l),m&512&&(ns||d===null||yc(d,d.return)),l.flags&32){E=l.stateNode;try{qi(E,"")}catch(Qt){Lr(l,l.return,Qt)}}m&4&&l.stateNode!=null&&(E=l.memoizedProps,q2(l,E,d!==null?d.memoizedProps:E)),m&1024&&(G2=!0);break;case 6:if(uo(u,l),fo(l),m&4){if(l.stateNode===null)throw Error(r(162));m=l.memoizedProps,d=l.stateNode;try{d.nodeValue=m}catch(Qt){Lr(l,l.return,Qt)}}break;case 3:if(sx=null,E=Ol,Ol=rx(u.containerInfo),uo(u,l),Ol=E,fo(l),m&4&&d!==null&&d.memoizedState.isDehydrated)try{a0(u.containerInfo)}catch(Qt){Lr(l,l.return,Qt)}G2&&(G2=!1,fA(l));break;case 4:m=Ol,Ol=rx(l.stateNode.containerInfo),uo(u,l),fo(l),Ol=m;break;case 12:uo(u,l),fo(l);break;case 31:uo(u,l),fo(l),m&4&&(m=l.updateQueue,m!==null&&(l.updateQueue=null,H1(l,m)));break;case 13:uo(u,l),fo(l),l.child.flags&8192&&l.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(G1=sn()),m&4&&(m=l.updateQueue,m!==null&&(l.updateQueue=null,H1(l,m)));break;case 22:E=l.memoizedState!==null;var Re=d!==null&&d.memoizedState!==null,Je=lu,ut=ns;if(lu=Je||E,ns=ut||Re,uo(u,l),ns=ut,lu=Je,fo(l),m&8192)e:for(u=l.stateNode,u._visibility=E?u._visibility&-2:u._visibility|1,E&&(d===null||Re||lu||ns||_h(l)),d=null,u=l;;){if(u.tag===5||u.tag===26){if(d===null){Re=d=u;try{if(I=Re.stateNode,E)G=I.style,typeof G.setProperty=="function"?G.setProperty("display","none","important"):G.display="none";else{le=Re.stateNode;var gt=Re.memoizedProps.style,Ze=gt!=null&&gt.hasOwnProperty("display")?gt.display:null;le.style.display=Ze==null||typeof Ze=="boolean"?"":(""+Ze).trim()}}catch(Qt){Lr(Re,Re.return,Qt)}}}else if(u.tag===6){if(d===null){Re=u;try{Re.stateNode.nodeValue=E?"":Re.memoizedProps}catch(Qt){Lr(Re,Re.return,Qt)}}}else if(u.tag===18){if(d===null){Re=u;try{var et=Re.stateNode;E?e4(et,!0):e4(Re.stateNode,!1)}catch(Qt){Lr(Re,Re.return,Qt)}}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===l)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break e;for(;u.sibling===null;){if(u.return===null||u.return===l)break e;d===u&&(d=null),u=u.return}d===u&&(d=null),u.sibling.return=u.return,u=u.sibling}m&4&&(m=l.updateQueue,m!==null&&(d=m.retryQueue,d!==null&&(m.retryQueue=null,H1(l,d))));break;case 19:uo(u,l),fo(l),m&4&&(m=l.updateQueue,m!==null&&(l.updateQueue=null,H1(l,m)));break;case 30:break;case 21:break;default:uo(u,l),fo(l)}}function fo(l){var u=l.flags;if(u&2){try{for(var d,m=l.return;m!==null;){if(nA(m)){d=m;break}m=m.return}if(d==null)throw Error(r(160));switch(d.tag){case 27:var E=d.stateNode,I=H2(l);q1(l,I,E);break;case 5:var G=d.stateNode;d.flags&32&&(qi(G,""),d.flags&=-33);var le=H2(l);q1(l,le,G);break;case 3:case 4:var Re=d.stateNode.containerInfo,Je=H2(l);z2(l,Je,Re);break;default:throw Error(r(161))}}catch(ut){Lr(l,l.return,ut)}l.flags&=-3}u&4096&&(l.flags&=-4097)}function fA(l){if(l.subtreeFlags&1024)for(l=l.child;l!==null;){var u=l;fA(u),u.tag===5&&u.flags&1024&&u.stateNode.reset(),l=l.sibling}}function uu(l,u){if(u.subtreeFlags&8772)for(u=u.child;u!==null;)sA(l,u.alternate,u),u=u.sibling}function _h(l){for(l=l.child;l!==null;){var u=l;switch(u.tag){case 0:case 11:case 14:case 15:nf(4,u,u.return),_h(u);break;case 1:yc(u,u.return);var d=u.stateNode;typeof d.componentWillUnmount=="function"&&eA(u,u.return,d),_h(u);break;case 27:pm(u.stateNode);case 26:case 5:yc(u,u.return),_h(u);break;case 22:u.memoizedState===null&&_h(u);break;case 30:_h(u);break;default:_h(u)}l=l.sibling}}function fu(l,u,d){for(d=d&&(u.subtreeFlags&8772)!==0,u=u.child;u!==null;){var m=u.alternate,E=l,I=u,G=I.flags;switch(I.tag){case 0:case 11:case 15:fu(E,I,d),im(4,I);break;case 1:if(fu(E,I,d),m=I,E=m.stateNode,typeof E.componentDidMount=="function")try{E.componentDidMount()}catch(Je){Lr(m,m.return,Je)}if(m=I,E=m.updateQueue,E!==null){var le=m.stateNode;try{var Re=E.shared.hiddenCallbacks;if(Re!==null)for(E.shared.hiddenCallbacks=null,E=0;E<Re.length;E++)Ls(Re[E],le)}catch(Je){Lr(m,m.return,Je)}}d&&G&64&&ZS(I),sm(I,I.return);break;case 27:rA(I);case 26:case 5:fu(E,I,d),d&&m===null&&G&4&&tA(I),sm(I,I.return);break;case 12:fu(E,I,d);break;case 31:fu(E,I,d),d&&G&4&&lA(E,I);break;case 13:fu(E,I,d),d&&G&4&&cA(E,I);break;case 22:I.memoizedState===null&&fu(E,I,d),sm(I,I.return);break;case 30:break;default:fu(E,I,d)}u=u.sibling}}function $2(l,u){var d=null;l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),l=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(l=u.memoizedState.cachePool.pool),l!==d&&(l!=null&&l.refCount++,d!=null&&mh(d))}function W2(l,u){l=null,u.alternate!==null&&(l=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==l&&(u.refCount++,l!=null&&mh(l))}function Vl(l,u,d,m){if(u.subtreeFlags&10256)for(u=u.child;u!==null;)hA(l,u,d,m),u=u.sibling}function hA(l,u,d,m){var E=u.flags;switch(u.tag){case 0:case 11:case 15:Vl(l,u,d,m),E&2048&&im(9,u);break;case 1:Vl(l,u,d,m);break;case 3:Vl(l,u,d,m),E&2048&&(l=null,u.alternate!==null&&(l=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==l&&(u.refCount++,l!=null&&mh(l)));break;case 12:if(E&2048){Vl(l,u,d,m),l=u.stateNode;try{var I=u.memoizedProps,G=I.id,le=I.onPostCommit;typeof le=="function"&&le(G,u.alternate===null?"mount":"update",l.passiveEffectDuration,-0)}catch(Re){Lr(u,u.return,Re)}}else Vl(l,u,d,m);break;case 31:Vl(l,u,d,m);break;case 13:Vl(l,u,d,m);break;case 23:break;case 22:I=u.stateNode,G=u.alternate,u.memoizedState!==null?I._visibility&2?Vl(l,u,d,m):am(l,u):I._visibility&2?Vl(l,u,d,m):(I._visibility|=2,Yd(l,u,d,m,(u.subtreeFlags&10256)!==0||!1)),E&2048&&$2(G,u);break;case 24:Vl(l,u,d,m),E&2048&&W2(u.alternate,u);break;default:Vl(l,u,d,m)}}function Yd(l,u,d,m,E){for(E=E&&((u.subtreeFlags&10256)!==0||!1),u=u.child;u!==null;){var I=l,G=u,le=d,Re=m,Je=G.flags;switch(G.tag){case 0:case 11:case 15:Yd(I,G,le,Re,E),im(8,G);break;case 23:break;case 22:var ut=G.stateNode;G.memoizedState!==null?ut._visibility&2?Yd(I,G,le,Re,E):am(I,G):(ut._visibility|=2,Yd(I,G,le,Re,E)),E&&Je&2048&&$2(G.alternate,G);break;case 24:Yd(I,G,le,Re,E),E&&Je&2048&&W2(G.alternate,G);break;default:Yd(I,G,le,Re,E)}u=u.sibling}}function am(l,u){if(u.subtreeFlags&10256)for(u=u.child;u!==null;){var d=l,m=u,E=m.flags;switch(m.tag){case 22:am(d,m),E&2048&&$2(m.alternate,m);break;case 24:am(d,m),E&2048&&W2(m.alternate,m);break;default:am(d,m)}u=u.sibling}}var om=8192;function Xd(l,u,d){if(l.subtreeFlags&om)for(l=l.child;l!==null;)dA(l,u,d),l=l.sibling}function dA(l,u,d){switch(l.tag){case 26:Xd(l,u,d),l.flags&om&&l.memoizedState!==null&&fV(d,Ol,l.memoizedState,l.memoizedProps);break;case 5:Xd(l,u,d);break;case 3:case 4:var m=Ol;Ol=rx(l.stateNode.containerInfo),Xd(l,u,d),Ol=m;break;case 22:l.memoizedState===null&&(m=l.alternate,m!==null&&m.memoizedState!==null?(m=om,om=16777216,Xd(l,u,d),om=m):Xd(l,u,d));break;default:Xd(l,u,d)}}function pA(l){var u=l.alternate;if(u!==null&&(l=u.child,l!==null)){u.child=null;do u=l.sibling,l.sibling=null,l=u;while(l!==null)}}function lm(l){var u=l.deletions;if((l.flags&16)!==0){if(u!==null)for(var d=0;d<u.length;d++){var m=u[d];Os=m,gA(m,l)}pA(l)}if(l.subtreeFlags&10256)for(l=l.child;l!==null;)mA(l),l=l.sibling}function mA(l){switch(l.tag){case 0:case 11:case 15:lm(l),l.flags&2048&&nf(9,l,l.return);break;case 3:lm(l);break;case 12:lm(l);break;case 22:var u=l.stateNode;l.memoizedState!==null&&u._visibility&2&&(l.return===null||l.return.tag!==13)?(u._visibility&=-3,z1(l)):lm(l);break;default:lm(l)}}function z1(l){var u=l.deletions;if((l.flags&16)!==0){if(u!==null)for(var d=0;d<u.length;d++){var m=u[d];Os=m,gA(m,l)}pA(l)}for(l=l.child;l!==null;){switch(u=l,u.tag){case 0:case 11:case 15:nf(8,u,u.return),z1(u);break;case 22:d=u.stateNode,d._visibility&2&&(d._visibility&=-3,z1(u));break;default:z1(u)}l=l.sibling}}function gA(l,u){for(;Os!==null;){var d=Os;switch(d.tag){case 0:case 11:case 15:nf(8,d,u);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var m=d.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:mh(d.memoizedState.cache)}if(m=d.child,m!==null)m.return=d,Os=m;else e:for(d=l;Os!==null;){m=Os;var E=m.sibling,I=m.return;if(aA(m),m===d){Os=null;break e}if(E!==null){E.return=I,Os=E;break e}Os=I}}}var A9={getCacheForType:function(l){var u=ys(Ei),d=u.data.get(l);return d===void 0&&(d=l(),u.data.set(l,d)),d},cacheSignal:function(){return ys(Ei).controller.signal}},C9=typeof WeakMap=="function"?WeakMap:Map,Nr=0,ei=null,Qn=null,nr=0,Mr=0,Ro=null,rf=!1,Jd=!1,K2=!1,hu=0,Li=0,sf=0,wh=0,Y2=0,Po=0,Qd=0,cm=null,ho=null,X2=!1,G1=0,xA=0,$1=1/0,W1=null,af=null,_s=0,of=null,Zd=null,du=0,J2=0,Q2=null,yA=null,um=0,Z2=null;function Do(){return(Nr&2)!==0&&nr!==0?nr&-nr:se.T!==null?s_():te()}function vA(){if(Po===0)if((nr&536870912)===0||Jn){var l=Zt;Zt<<=1,(Zt&3932160)===0&&(Zt=262144),Po=l}else Po=536870912;return l=ai.current,l!==null&&(l.flags|=32),Po}function po(l,u,d){(l===ei&&(Mr===2||Mr===9)||l.cancelPendingCommit!==null)&&(e0(l,0),lf(l,nr,Po,!1)),Mt(l,d),((Nr&2)===0||l!==ei)&&(l===ei&&((Nr&2)===0&&(wh|=d),Li===4&&lf(l,nr,Po,!1)),vc(l))}function _A(l,u,d){if((Nr&6)!==0)throw Error(r(327));var m=!d&&(u&127)===0&&(u&l.expiredLanes)===0||Ur(l,u),E=m?k9(l,u):t_(l,u,!0),I=m;do{if(E===0){Jd&&!m&&lf(l,u,0,!1);break}else{if(d=l.current.alternate,I&&!N9(d)){E=t_(l,u,!1),I=!1;continue}if(E===2){if(I=u,l.errorRecoveryDisabledLanes&I)var G=0;else G=l.pendingLanes&-536870913,G=G!==0?G:G&536870912?536870912:0;if(G!==0){u=G;e:{var le=l;E=cm;var Re=le.current.memoizedState.isDehydrated;if(Re&&(e0(le,G).flags|=256),G=t_(le,G,!1),G!==2){if(K2&&!Re){le.errorRecoveryDisabledLanes|=I,wh|=I,E=4;break e}I=ho,ho=E,I!==null&&(ho===null?ho=I:ho.push.apply(ho,I))}E=G}if(I=!1,E!==2)continue}}if(E===1){e0(l,0),lf(l,u,0,!0);break}e:{switch(m=l,I=E,I){case 0:case 1:throw Error(r(345));case 4:if((u&4194048)!==u)break;case 6:lf(m,u,Po,!rf);break e;case 2:ho=null;break;case 3:case 5:break;default:throw Error(r(329))}if((u&62914560)===u&&(E=G1+300-sn(),10<E)){if(lf(m,u,Po,!rf),gn(m,0,!0)!==0)break e;du=u,m.timeoutHandle=JA(wA.bind(null,m,d,ho,W1,X2,u,Po,wh,Qd,rf,I,"Throttled",-0,0),E);break e}wA(m,d,ho,W1,X2,u,Po,wh,Qd,rf,I,null,-0,0)}}break}while(!0);vc(l)}function wA(l,u,d,m,E,I,G,le,Re,Je,ut,gt,Ze,et){if(l.timeoutHandle=-1,gt=u.subtreeFlags,gt&8192||(gt&16785408)===16785408){gt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Pa},dA(u,I,gt);var Qt=(I&62914560)===I?G1-sn():(I&4194048)===I?xA-sn():0;if(Qt=hV(gt,Qt),Qt!==null){du=I,l.cancelPendingCommit=Qt(IA.bind(null,l,u,I,d,m,E,G,le,Re,ut,gt,null,Ze,et)),lf(l,I,G,!Je);return}}IA(l,u,I,d,m,E,G,le,Re)}function N9(l){for(var u=l;;){var d=u.tag;if((d===0||d===11||d===15)&&u.flags&16384&&(d=u.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var m=0;m<d.length;m++){var E=d[m],I=E.getSnapshot;E=E.value;try{if(!ps(I(),E))return!1}catch{return!1}}if(d=u.child,u.subtreeFlags&16384&&d!==null)d.return=u,u=d;else{if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function lf(l,u,d,m){u&=~Y2,u&=~wh,l.suspendedLanes|=u,l.pingedLanes&=~u,m&&(l.warmLanes|=u),m=l.expirationTimes;for(var E=u;0<E;){var I=31-An(E),G=1<<I;m[I]=-1,E&=~G}d!==0&&us(l,d,u)}function K1(){return(Nr&6)===0?(fm(0),!1):!0}function e_(){if(Qn!==null){if(Mr===0)var l=Qn.return;else l=Qn,tl=uc=null,qd(l),xt=null,tn=0,l=Qn;for(;l!==null;)QS(l.alternate,l),l=l.return;Qn=null}}function e0(l,u){var d=l.timeoutHandle;d!==-1&&(l.timeoutHandle=-1,K9(d)),d=l.cancelPendingCommit,d!==null&&(l.cancelPendingCommit=null,d()),du=0,e_(),ei=l,Qn=d=to(l.current,null),nr=u,Mr=0,Ro=null,rf=!1,Jd=Ur(l,u),K2=!1,Qd=Po=Y2=wh=sf=Li=0,ho=cm=null,X2=!1,(u&8)!==0&&(u|=u&32);var m=l.entangledLanes;if(m!==0)for(l=l.entanglements,m&=u;0<m;){var E=31-An(m),I=1<<E;u|=l[E],m&=~I}return hu=u,ch(),d}function bA(l,u){yn=null,se.H=tm,u===De||u===Te?(u=ht(),Mr=3):u===Ye?(u=ht(),Mr=4):Mr=u===P2?8:u!==null&&typeof u=="object"&&typeof u.then=="function"?6:1,Ro=u,Qn===null&&(Li=1,O1(l,no(u,l.current)))}function TA(){var l=ai.current;return l===null?!0:(nr&4194048)===nr?fr===null:(nr&62914560)===nr||(nr&536870912)!==0?l===fr:!1}function EA(){var l=se.H;return se.H=tm,l===null?tm:l}function SA(){var l=se.A;return se.A=A9,l}function Y1(){Li=4,rf||(nr&4194048)!==nr&&ai.current!==null||(Jd=!0),(sf&134217727)===0&&(wh&134217727)===0||ei===null||lf(ei,nr,Po,!1)}function t_(l,u,d){var m=Nr;Nr|=2;var E=EA(),I=SA();(ei!==l||nr!==u)&&(W1=null,e0(l,u)),u=!1;var G=Li;e:do try{if(Mr!==0&&Qn!==null){var le=Qn,Re=Ro;switch(Mr){case 8:e_(),G=6;break e;case 3:case 2:case 9:case 6:ai.current===null&&(u=!0);var Je=Mr;if(Mr=0,Ro=null,t0(l,le,Re,Je),d&&Jd){G=0;break e}break;default:Je=Mr,Mr=0,Ro=null,t0(l,le,Re,Je)}}I9(),G=Li;break}catch(ut){bA(l,ut)}while(!0);return u&&l.shellSuspendCounter++,tl=uc=null,Nr=m,se.H=E,se.A=I,Qn===null&&(ei=null,nr=0,ch()),G}function I9(){for(;Qn!==null;)AA(Qn)}function k9(l,u){var d=Nr;Nr|=2;var m=EA(),E=SA();ei!==l||nr!==u?(W1=null,$1=sn()+500,e0(l,u)):Jd=Ur(l,u);e:do try{if(Mr!==0&&Qn!==null){u=Qn;var I=Ro;t:switch(Mr){case 1:Mr=0,Ro=null,t0(l,u,I,1);break;case 2:case 9:if(qe(I)){Mr=0,Ro=null,CA(u);break}u=function(){Mr!==2&&Mr!==9||ei!==l||(Mr=7),vc(l)},I.then(u,u);break e;case 3:Mr=7;break e;case 4:Mr=5;break e;case 7:qe(I)?(Mr=0,Ro=null,CA(u)):(Mr=0,Ro=null,t0(l,u,I,7));break;case 5:var G=null;switch(Qn.tag){case 26:G=Qn.memoizedState;case 5:case 27:var le=Qn;if(G?h4(G):le.stateNode.complete){Mr=0,Ro=null;var Re=le.sibling;if(Re!==null)Qn=Re;else{var Je=le.return;Je!==null?(Qn=Je,X1(Je)):Qn=null}break t}}Mr=0,Ro=null,t0(l,u,I,5);break;case 6:Mr=0,Ro=null,t0(l,u,I,6);break;case 8:e_(),Li=6;break e;default:throw Error(r(462))}}R9();break}catch(ut){bA(l,ut)}while(!0);return tl=uc=null,se.H=m,se.A=E,Nr=d,Qn!==null?0:(ei=null,nr=0,ch(),Li)}function R9(){for(;Qn!==null&&!Jt();)AA(Qn)}function AA(l){var u=XS(l.alternate,l,hu);l.memoizedProps=l.pendingProps,u===null?X1(l):Qn=u}function CA(l){var u=l,d=u.alternate;switch(u.tag){case 15:case 0:u=zS(d,u,u.pendingProps,u.type,void 0,nr);break;case 11:u=zS(d,u,u.pendingProps,u.type.render,u.ref,nr);break;case 5:qd(u);default:QS(d,u),u=Qn=hh(u,hu),u=XS(d,u,hu)}l.memoizedProps=l.pendingProps,u===null?X1(l):Qn=u}function t0(l,u,d,m){tl=uc=null,qd(u),xt=null,tn=0;var E=u.return;try{if(v9(l,E,u,d,nr)){Li=1,O1(l,no(d,l.current)),Qn=null;return}}catch(I){if(E!==null)throw Qn=E,I;Li=1,O1(l,no(d,l.current)),Qn=null;return}u.flags&32768?(Jn||m===1?l=!0:Jd||(nr&536870912)!==0?l=!1:(rf=l=!0,(m===2||m===9||m===3||m===6)&&(m=ai.current,m!==null&&m.tag===13&&(m.flags|=16384))),NA(u,l)):X1(u)}function X1(l){var u=l;do{if((u.flags&32768)!==0){NA(u,rf);return}l=u.return;var d=b9(u.alternate,u,hu);if(d!==null){Qn=d;return}if(u=u.sibling,u!==null){Qn=u;return}Qn=u=l}while(u!==null);Li===0&&(Li=5)}function NA(l,u){do{var d=T9(l.alternate,l);if(d!==null){d.flags&=32767,Qn=d;return}if(d=l.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!u&&(l=l.sibling,l!==null)){Qn=l;return}Qn=l=d}while(l!==null);Li=6,Qn=null}function IA(l,u,d,m,E,I,G,le,Re){l.cancelPendingCommit=null;do J1();while(_s!==0);if((Nr&6)!==0)throw Error(r(327));if(u!==null){if(u===l.current)throw Error(r(177));if(I=u.lanes|u.childLanes,I|=Nd,Ra(l,d,I,G,le,Re),l===ei&&(Qn=ei=null,nr=0),Zd=u,of=l,du=d,J2=I,Q2=E,yA=m,(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?(l.callbackNode=null,l.callbackPriority=0,L9(an,function(){return MA(),null})):(l.callbackNode=null,l.callbackPriority=0),m=(u.flags&13878)!==0,(u.subtreeFlags&13878)!==0||m){m=se.T,se.T=null,E=xe.p,xe.p=2,G=Nr,Nr|=4;try{E9(l,u,d)}finally{Nr=G,xe.p=E,se.T=m}}_s=1,kA(),RA(),PA()}}function kA(){if(_s===1){_s=0;var l=of,u=Zd,d=(u.flags&13878)!==0;if((u.subtreeFlags&13878)!==0||d){d=se.T,se.T=null;var m=xe.p;xe.p=2;var E=Nr;Nr|=4;try{uA(u,l);var I=d_,G=Il(l.containerInfo),le=I.focusedElem,Re=I.selectionRange;if(G!==le&&le&&le.ownerDocument&&Nl(le.ownerDocument.documentElement,le)){if(Re!==null&&Zo(le)){var Je=Re.start,ut=Re.end;if(ut===void 0&&(ut=Je),"selectionStart"in le)le.selectionStart=Je,le.selectionEnd=Math.min(ut,le.value.length);else{var gt=le.ownerDocument||document,Ze=gt&&gt.defaultView||window;if(Ze.getSelection){var et=Ze.getSelection(),Qt=le.textContent.length,Sn=Math.min(Re.start,Qt),$r=Re.end===void 0?Sn:Math.min(Re.end,Qt);!et.extend&&Sn>$r&&(G=$r,$r=Sn,Sn=G);var Be=Gu(le,Sn),Me=Gu(le,$r);if(Be&&Me&&(et.rangeCount!==1||et.anchorNode!==Be.node||et.anchorOffset!==Be.offset||et.focusNode!==Me.node||et.focusOffset!==Me.offset)){var Xe=gt.createRange();Xe.setStart(Be.node,Be.offset),et.removeAllRanges(),Sn>$r?(et.addRange(Xe),et.extend(Me.node,Me.offset)):(Xe.setEnd(Me.node,Me.offset),et.addRange(Xe))}}}}for(gt=[],et=le;et=et.parentNode;)et.nodeType===1&&gt.push({element:et,left:et.scrollLeft,top:et.scrollTop});for(typeof le.focus=="function"&&le.focus(),le=0;le<gt.length;le++){var pt=gt[le];pt.element.scrollLeft=pt.left,pt.element.scrollTop=pt.top}}cx=!!h_,d_=h_=null}finally{Nr=E,xe.p=m,se.T=d}}l.current=u,_s=2}}function RA(){if(_s===2){_s=0;var l=of,u=Zd,d=(u.flags&8772)!==0;if((u.subtreeFlags&8772)!==0||d){d=se.T,se.T=null;var m=xe.p;xe.p=2;var E=Nr;Nr|=4;try{sA(l,u.alternate,u)}finally{Nr=E,xe.p=m,se.T=d}}_s=3}}function PA(){if(_s===4||_s===3){_s=0,qt();var l=of,u=Zd,d=du,m=yA;(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?_s=5:(_s=0,Zd=of=null,DA(l,l.pendingLanes));var E=l.pendingLanes;if(E===0&&(af=null),Ir(d),u=u.stateNode,Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot($t,u,void 0,(u.current.flags&128)===128)}catch{}if(m!==null){u=se.T,E=xe.p,xe.p=2,se.T=null;try{for(var I=l.onRecoverableError,G=0;G<m.length;G++){var le=m[G];I(le.value,{componentStack:le.stack})}}finally{se.T=u,xe.p=E}}(du&3)!==0&&J1(),vc(l),E=l.pendingLanes,(d&261930)!==0&&(E&42)!==0?l===Z2?um++:(um=0,Z2=l):um=0,fm(0)}}function DA(l,u){(l.pooledCacheLanes&=u)===0&&(u=l.pooledCache,u!=null&&(l.pooledCache=null,mh(u)))}function J1(){return kA(),RA(),PA(),MA()}function MA(){if(_s!==5)return!1;var l=of,u=J2;J2=0;var d=Ir(du),m=se.T,E=xe.p;try{xe.p=32>d?32:d,se.T=null,d=Q2,Q2=null;var I=of,G=du;if(_s=0,Zd=of=null,du=0,(Nr&6)!==0)throw Error(r(331));var le=Nr;if(Nr|=4,mA(I.current),hA(I,I.current,G,d),Nr=le,fm(0,!1),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot($t,I)}catch{}return!0}finally{xe.p=E,se.T=m,DA(l,u)}}function LA(l,u,d){u=no(d,u),u=R2(l.stateNode,u,2),l=Un(l,u,2),l!==null&&(Mt(l,2),vc(l))}function Lr(l,u,d){if(l.tag===3)LA(l,l,d);else for(;u!==null;){if(u.tag===3){LA(u,l,d);break}else if(u.tag===1){var m=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(af===null||!af.has(m))){l=no(d,l),d=FS(2),m=Un(u,d,2),m!==null&&(OS(d,m,u,l),Mt(m,2),vc(m));break}}u=u.return}}function n_(l,u,d){var m=l.pingCache;if(m===null){m=l.pingCache=new C9;var E=new Set;m.set(u,E)}else E=m.get(u),E===void 0&&(E=new Set,m.set(u,E));E.has(d)||(K2=!0,E.add(d),l=P9.bind(null,l,u,d),u.then(l,l))}function P9(l,u,d){var m=l.pingCache;m!==null&&m.delete(u),l.pingedLanes|=l.suspendedLanes&d,l.warmLanes&=~d,ei===l&&(nr&d)===d&&(Li===4||Li===3&&(nr&62914560)===nr&&300>sn()-G1?(Nr&2)===0&&e0(l,0):Y2|=d,Qd===nr&&(Qd=0)),vc(l)}function FA(l,u){u===0&&(u=Ns()),l=Rl(l,u),l!==null&&(Mt(l,u),vc(l))}function D9(l){var u=l.memoizedState,d=0;u!==null&&(d=u.retryLane),FA(l,d)}function M9(l,u){var d=0;switch(l.tag){case 31:case 13:var m=l.stateNode,E=l.memoizedState;E!==null&&(d=E.retryLane);break;case 19:m=l.stateNode;break;case 22:m=l.stateNode._retryCache;break;default:throw Error(r(314))}m!==null&&m.delete(u),FA(l,d)}function L9(l,u){return St(l,u)}var Q1=null,n0=null,r_=!1,Z1=!1,i_=!1,cf=0;function vc(l){l!==n0&&l.next===null&&(n0===null?Q1=n0=l:n0=n0.next=l),Z1=!0,r_||(r_=!0,O9())}function fm(l,u){if(!i_&&Z1){i_=!0;do for(var d=!1,m=Q1;m!==null;){if(l!==0){var E=m.pendingLanes;if(E===0)var I=0;else{var G=m.suspendedLanes,le=m.pingedLanes;I=(1<<31-An(42|l)+1)-1,I&=E&~(G&~le),I=I&201326741?I&201326741|1:I?I|2:0}I!==0&&(d=!0,BA(m,I))}else I=nr,I=gn(m,m===ei?I:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(I&3)===0||Ur(m,I)||(d=!0,BA(m,I));m=m.next}while(d);i_=!1}}function F9(){OA()}function OA(){Z1=r_=!1;var l=0;cf!==0&&W9()&&(l=cf);for(var u=sn(),d=null,m=Q1;m!==null;){var E=m.next,I=VA(m,u);I===0?(m.next=null,d===null?Q1=E:d.next=E,E===null&&(n0=d)):(d=m,(l!==0||(I&3)!==0)&&(Z1=!0)),m=E}_s!==0&&_s!==5||fm(l),cf!==0&&(cf=0)}function VA(l,u){for(var d=l.suspendedLanes,m=l.pingedLanes,E=l.expirationTimes,I=l.pendingLanes&-62914561;0<I;){var G=31-An(I),le=1<<G,Re=E[G];Re===-1?((le&d)===0||(le&m)!==0)&&(E[G]=Yr(le,u)):Re<=u&&(l.expiredLanes|=le),I&=~le}if(u=ei,d=nr,d=gn(l,l===u?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),m=l.callbackNode,d===0||l===u&&(Mr===2||Mr===9)||l.cancelPendingCommit!==null)return m!==null&&m!==null&&Nt(m),l.callbackNode=null,l.callbackPriority=0;if((d&3)===0||Ur(l,d)){if(u=d&-d,u===l.callbackPriority)return u;switch(m!==null&&Nt(m),Ir(d)){case 2:case 8:d=En;break;case 32:d=an;break;case 268435456:d=At;break;default:d=an}return m=UA.bind(null,l),d=St(d,m),l.callbackPriority=u,l.callbackNode=d,u}return m!==null&&m!==null&&Nt(m),l.callbackPriority=2,l.callbackNode=null,2}function UA(l,u){if(_s!==0&&_s!==5)return l.callbackNode=null,l.callbackPriority=0,null;var d=l.callbackNode;if(J1()&&l.callbackNode!==d)return null;var m=nr;return m=gn(l,l===ei?m:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),m===0?null:(_A(l,m,u),VA(l,sn()),l.callbackNode!=null&&l.callbackNode===d?UA.bind(null,l):null)}function BA(l,u){if(J1())return null;_A(l,u,!0)}function O9(){Y9(function(){(Nr&6)!==0?St(ln,F9):OA()})}function s_(){if(cf===0){var l=_;l===0&&(l=Bt,Bt<<=1,(Bt&261888)===0&&(Bt=256)),cf=l}return cf}function jA(l){return l==null||typeof l=="symbol"||typeof l=="boolean"?null:typeof l=="function"?l:ks(""+l)}function qA(l,u){var d=u.ownerDocument.createElement("input");return d.name=u.name,d.value=u.value,l.id&&d.setAttribute("form",l.id),u.parentNode.insertBefore(d,u),l=new FormData(l),d.parentNode.removeChild(d),l}function V9(l,u,d,m,E){if(u==="submit"&&d&&d.stateNode===E){var I=jA((E[_e]||null).action),G=m.submitter;G&&(u=(u=G[_e]||null)?jA(u.formAction):G.getAttribute("formAction"),u!==null&&(I=u,G=null));var le=new Qi("action","action",null,m,E);l.push({event:le,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(cf!==0){var Re=G?qA(E,G):new FormData(E);S2(d,{pending:!0,data:Re,method:E.method,action:I},null,Re)}}else typeof I=="function"&&(le.preventDefault(),Re=G?qA(E,G):new FormData(E),S2(d,{pending:!0,data:Re,method:E.method,action:I},I,Re))},currentTarget:E}]})}}for(var a_=0;a_<Qc.length;a_++){var o_=Qc[a_],U9=o_.toLowerCase(),B9=o_[0].toUpperCase()+o_.slice(1);eo(U9,"on"+B9)}eo(Jc,"onAnimationEnd"),eo(oh,"onAnimationIteration"),eo(Bp,"onAnimationStart"),eo("dblclick","onDoubleClick"),eo("focusin","onFocus"),eo("focusout","onBlur"),eo(E1,"onTransitionRun"),eo(S1,"onTransitionStart"),eo(A1,"onTransitionCancel"),eo(jp,"onTransitionEnd"),ji("onMouseEnter",["mouseout","mouseover"]),ji("onMouseLeave",["mouseout","mouseover"]),ji("onPointerEnter",["pointerout","pointerover"]),ji("onPointerLeave",["pointerout","pointerover"]),gr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),gr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),gr("onBeforeInput",["compositionend","keypress","textInput","paste"]),gr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),gr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),gr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hm="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),j9=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(hm));function HA(l,u){u=(u&4)!==0;for(var d=0;d<l.length;d++){var m=l[d],E=m.event;m=m.listeners;e:{var I=void 0;if(u)for(var G=m.length-1;0<=G;G--){var le=m[G],Re=le.instance,Je=le.currentTarget;if(le=le.listener,Re!==I&&E.isPropagationStopped())break e;I=le,E.currentTarget=Je;try{I(E)}catch(ut){lh(ut)}E.currentTarget=null,I=Re}else for(G=0;G<m.length;G++){if(le=m[G],Re=le.instance,Je=le.currentTarget,le=le.listener,Re!==I&&E.isPropagationStopped())break e;I=le,E.currentTarget=Je;try{I(E)}catch(ut){lh(ut)}E.currentTarget=null,I=Re}}}}function Zn(l,u){var d=u[He];d===void 0&&(d=u[He]=new Set);var m=l+"__bubble";d.has(m)||(zA(u,l,2,!1),d.add(m))}function l_(l,u,d){var m=0;u&&(m|=4),zA(d,l,m,u)}var ex="_reactListening"+Math.random().toString(36).slice(2);function c_(l){if(!l[ex]){l[ex]=!0,cr.forEach(function(d){d!=="selectionchange"&&(j9.has(d)||l_(d,!1,l),l_(d,!0,l))});var u=l.nodeType===9?l:l.ownerDocument;u===null||u[ex]||(u[ex]=!0,l_("selectionchange",!1,u))}}function zA(l,u,d,m){switch(v4(u)){case 2:var E=mV;break;case 8:E=gV;break;default:E=E_}d=E.bind(null,u,d,l),E=void 0,!wl||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(E=!0),m?E!==void 0?l.addEventListener(u,d,{capture:!0,passive:E}):l.addEventListener(u,d,!0):E!==void 0?l.addEventListener(u,d,{passive:E}):l.addEventListener(u,d,!1)}function u_(l,u,d,m,E){var I=m;if((u&1)===0&&(u&2)===0&&m!==null)e:for(;;){if(m===null)return;var G=m.tag;if(G===3||G===4){var le=m.stateNode.containerInfo;if(le===E)break;if(G===4)for(G=m.return;G!==null;){var Re=G.tag;if((Re===3||Re===4)&&G.stateNode.containerInfo===E)return;G=G.return}for(;le!==null;){if(G=bt(le),G===null)return;if(Re=G.tag,Re===5||Re===6||Re===26||Re===27){m=I=G;continue e}le=le.parentNode}}m=m.return}Go(function(){var Je=I,ut=Rs(d),gt=[];e:{var Ze=qp.get(l);if(Ze!==void 0){var et=Qi,Qt=l;switch(l){case"keypress":if($s(d)===0)break e;case"keydown":case"keyup":et=Yn;break;case"focusin":Qt="focus",et=Ma;break;case"focusout":Qt="blur",et=Ma;break;case"beforeblur":case"afterblur":et=Ma;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":et=ic;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":et=Qa;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":et=j;break;case Jc:case oh:case Bp:et=D;break;case jp:et=pe;break;case"scroll":case"scrollend":et=$o;break;case"wheel":et=Qe;break;case"copy":case"cut":case"paste":et=Ee;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":et=kr;break;case"toggle":case"beforetoggle":et=Nn}var Sn=(u&4)!==0,$r=!Sn&&(l==="scroll"||l==="scrollend"),Be=Sn?Ze!==null?Ze+"Capture":null:Ze;Sn=[];for(var Me=Je,Xe;Me!==null;){var pt=Me;if(Xe=pt.stateNode,pt=pt.tag,pt!==5&&pt!==26&&pt!==27||Xe===null||Be===null||(pt=Hi(Me,Be),pt!=null&&Sn.push(dm(Me,pt,Xe))),$r)break;Me=Me.return}0<Sn.length&&(Ze=new et(Ze,Qt,null,d,ut),gt.push({event:Ze,listeners:Sn}))}}if((u&7)===0){e:{if(Ze=l==="mouseover"||l==="pointerover",et=l==="mouseout"||l==="pointerout",Ze&&d!==So&&(Qt=d.relatedTarget||d.fromElement)&&(bt(Qt)||Qt[Ce]))break e;if((et||Ze)&&(Ze=ut.window===ut?ut:(Ze=ut.ownerDocument)?Ze.defaultView||Ze.parentWindow:window,et?(Qt=d.relatedTarget||d.toElement,et=Je,Qt=Qt?bt(Qt):null,Qt!==null&&($r=s(Qt),Sn=Qt.tag,Qt!==$r||Sn!==5&&Sn!==27&&Sn!==6)&&(Qt=null)):(et=null,Qt=Je),et!==Qt)){if(Sn=ic,pt="onMouseLeave",Be="onMouseEnter",Me="mouse",(l==="pointerout"||l==="pointerover")&&(Sn=kr,pt="onPointerLeave",Be="onPointerEnter",Me="pointer"),$r=et==null?Ze:_t(et),Xe=Qt==null?Ze:_t(Qt),Ze=new Sn(pt,Me+"leave",et,d,ut),Ze.target=$r,Ze.relatedTarget=Xe,pt=null,bt(ut)===Je&&(Sn=new Sn(Be,Me+"enter",Qt,d,ut),Sn.target=Xe,Sn.relatedTarget=$r,pt=Sn),$r=pt,et&&Qt)t:{for(Sn=q9,Be=et,Me=Qt,Xe=0,pt=Be;pt;pt=Sn(pt))Xe++;pt=0;for(var wn=Me;wn;wn=Sn(wn))pt++;for(;0<Xe-pt;)Be=Sn(Be),Xe--;for(;0<pt-Xe;)Me=Sn(Me),pt--;for(;Xe--;){if(Be===Me||Me!==null&&Be===Me.alternate){Sn=Be;break t}Be=Sn(Be),Me=Sn(Me)}Sn=null}else Sn=null;et!==null&&GA(gt,Ze,et,Sn,!1),Qt!==null&&$r!==null&&GA(gt,$r,Qt,Sn,!0)}}e:{if(Ze=Je?_t(Je):window,et=Ze.nodeName&&Ze.nodeName.toLowerCase(),et==="select"||et==="input"&&Ze.type==="file")var Tr=ac;else if(sh(Ze))if(fa)Tr=Jo;else{Tr=bi;var cn=Hu}else et=Ze.nodeName,!et||et.toLowerCase()!=="input"||Ze.type!=="checkbox"&&Ze.type!=="radio"?Je&&tc(Je.elementType)&&(Tr=ac):Tr=Cd;if(Tr&&(Tr=Tr(l,Je))){Fa(gt,Tr,d,ut);break e}cn&&cn(l,Ze,Je),l==="focusout"&&Je&&Ze.type==="number"&&Je.memoizedProps.value!=null&&zc(Ze,"number",Ze.value)}switch(cn=Je?_t(Je):window,l){case"focusin":(sh(cn)||cn.contentEditable==="true")&&(Oa=cn,kl=Je,Ps=null);break;case"focusout":Ps=kl=Oa=null;break;case"mousedown":Za=!0;break;case"contextmenu":case"mouseup":case"dragend":Za=!1,xr(gt,d,ut);break;case"selectionchange":if(Xc)break;case"keydown":case"keyup":xr(gt,d,ut)}var Hn;if(Gn)e:{switch(l){case"compositionstart":var rr="onCompositionStart";break e;case"compositionend":rr="onCompositionEnd";break e;case"compositionupdate":rr="onCompositionUpdate";break e}rr=void 0}else Ko?La(l,d)&&(rr="onCompositionEnd"):l==="keydown"&&d.keyCode===229&&(rr="onCompositionStart");rr&&(hs&&d.locale!=="ko"&&(Ko||rr!=="onCompositionStart"?rr==="onCompositionEnd"&&Ko&&(Hn=Kc()):(Gs=ut,bl="value"in Gs?Gs.value:Gs.textContent,Ko=!0)),cn=tx(Je,rr),0<cn.length&&(rr=new Ve(rr,l,null,d,ut),gt.push({event:rr,listeners:cn}),Hn?rr.data=Hn:(Hn=Wo(d),Hn!==null&&(rr.data=Hn)))),(Hn=Zi?Ys(l,d):El(l,d))&&(rr=tx(Je,"onBeforeInput"),0<rr.length&&(cn=new Ve("onBeforeInput","beforeinput",null,d,ut),gt.push({event:cn,listeners:rr}),cn.data=Hn)),V9(gt,l,Je,d,ut)}HA(gt,u)})}function dm(l,u,d){return{instance:l,listener:u,currentTarget:d}}function tx(l,u){for(var d=u+"Capture",m=[];l!==null;){var E=l,I=E.stateNode;if(E=E.tag,E!==5&&E!==26&&E!==27||I===null||(E=Hi(l,d),E!=null&&m.unshift(dm(l,E,I)),E=Hi(l,u),E!=null&&m.push(dm(l,E,I))),l.tag===3)return m;l=l.return}return[]}function q9(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5&&l.tag!==27);return l||null}function GA(l,u,d,m,E){for(var I=u._reactName,G=[];d!==null&&d!==m;){var le=d,Re=le.alternate,Je=le.stateNode;if(le=le.tag,Re!==null&&Re===m)break;le!==5&&le!==26&&le!==27||Je===null||(Re=Je,E?(Je=Hi(d,I),Je!=null&&G.unshift(dm(d,Je,Re))):E||(Je=Hi(d,I),Je!=null&&G.push(dm(d,Je,Re)))),d=d.return}G.length!==0&&l.push({event:u,listeners:G})}var H9=/\r\n?/g,z9=/\u0000|\uFFFD/g;function $A(l){return(typeof l=="string"?l:""+l).replace(H9,`
`).replace(z9,"")}function WA(l,u){return u=$A(u),$A(l)===u}function Gr(l,u,d,m,E,I){switch(d){case"children":typeof m=="string"?u==="body"||u==="textarea"&&m===""||qi(l,m):(typeof m=="number"||typeof m=="bigint")&&u!=="body"&&qi(l,""+m);break;case"className":Ji(l,"class",m);break;case"tabIndex":Ji(l,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":Ji(l,d,m);break;case"style":Wc(l,m,I);break;case"data":if(u!=="object"){Ji(l,"data",m);break}case"src":case"href":if(m===""&&(u!=="a"||d!=="href")){l.removeAttribute(d);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){l.removeAttribute(d);break}m=ks(""+m),l.setAttribute(d,m);break;case"action":case"formAction":if(typeof m=="function"){l.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof I=="function"&&(d==="formAction"?(u!=="input"&&Gr(l,u,"name",E.name,E,null),Gr(l,u,"formEncType",E.formEncType,E,null),Gr(l,u,"formMethod",E.formMethod,E,null),Gr(l,u,"formTarget",E.formTarget,E,null)):(Gr(l,u,"encType",E.encType,E,null),Gr(l,u,"method",E.method,E,null),Gr(l,u,"target",E.target,E,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){l.removeAttribute(d);break}m=ks(""+m),l.setAttribute(d,m);break;case"onClick":m!=null&&(l.onclick=Pa);break;case"onScroll":m!=null&&Zn("scroll",l);break;case"onScrollEnd":m!=null&&Zn("scrollend",l);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(d=m.__html,d!=null){if(E.children!=null)throw Error(r(60));l.innerHTML=d}}break;case"multiple":l.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":l.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){l.removeAttribute("xlink:href");break}d=ks(""+m),l.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?l.setAttribute(d,""+m):l.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?l.setAttribute(d,""):l.removeAttribute(d);break;case"capture":case"download":m===!0?l.setAttribute(d,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?l.setAttribute(d,m):l.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?l.setAttribute(d,m):l.removeAttribute(d);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?l.removeAttribute(d):l.setAttribute(d,m);break;case"popover":Zn("beforetoggle",l),Zn("toggle",l),Xr(l,"popover",m);break;case"xlinkActuate":ui(l,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":ui(l,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":ui(l,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":ui(l,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":ui(l,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":ui(l,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":ui(l,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":ui(l,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":ui(l,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":Xr(l,"is",m);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=nc.get(d)||d,Xr(l,d,m))}}function f_(l,u,d,m,E,I){switch(d){case"style":Wc(l,m,I);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(d=m.__html,d!=null){if(E.children!=null)throw Error(r(60));l.innerHTML=d}}break;case"children":typeof m=="string"?qi(l,m):(typeof m=="number"||typeof m=="bigint")&&qi(l,""+m);break;case"onScroll":m!=null&&Zn("scroll",l);break;case"onScrollEnd":m!=null&&Zn("scrollend",l);break;case"onClick":m!=null&&(l.onclick=Pa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Bn.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(E=d.endsWith("Capture"),u=d.slice(2,E?d.length-7:void 0),I=l[_e]||null,I=I!=null?I[d]:null,typeof I=="function"&&l.removeEventListener(u,I,E),typeof m=="function")){typeof I!="function"&&I!==null&&(d in l?l[d]=null:l.hasAttribute(d)&&l.removeAttribute(d)),l.addEventListener(u,m,E);break e}d in l?l[d]=m:m===!0?l.setAttribute(d,""):Xr(l,d,m)}}}function ea(l,u,d){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Zn("error",l),Zn("load",l);var m=!1,E=!1,I;for(I in d)if(d.hasOwnProperty(I)){var G=d[I];if(G!=null)switch(I){case"src":m=!0;break;case"srcSet":E=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,u));default:Gr(l,u,I,G,d,null)}}E&&Gr(l,u,"srcSet",d.srcSet,d,null),m&&Gr(l,u,"src",d.src,d,null);return;case"input":Zn("invalid",l);var le=I=G=E=null,Re=null,Je=null;for(m in d)if(d.hasOwnProperty(m)){var ut=d[m];if(ut!=null)switch(m){case"name":E=ut;break;case"type":G=ut;break;case"checked":Re=ut;break;case"defaultChecked":Je=ut;break;case"value":I=ut;break;case"defaultValue":le=ut;break;case"children":case"dangerouslySetInnerHTML":if(ut!=null)throw Error(r(137,u));break;default:Gr(l,u,m,ut,d,null)}}Bu(l,I,le,Re,Je,G,E,!1);return;case"select":Zn("invalid",l),m=G=I=null;for(E in d)if(d.hasOwnProperty(E)&&(le=d[E],le!=null))switch(E){case"value":I=le;break;case"defaultValue":G=le;break;case"multiple":m=le;default:Gr(l,u,E,le,d,null)}u=I,d=G,l.multiple=!!m,u!=null?fs(l,!!m,u,!1):d!=null&&fs(l,!!m,d,!0);return;case"textarea":Zn("invalid",l),I=E=m=null;for(G in d)if(d.hasOwnProperty(G)&&(le=d[G],le!=null))switch(G){case"value":m=le;break;case"defaultValue":E=le;break;case"children":I=le;break;case"dangerouslySetInnerHTML":if(le!=null)throw Error(r(91));break;default:Gr(l,u,G,le,d,null)}To(l,m,E,I);return;case"option":for(Re in d)if(d.hasOwnProperty(Re)&&(m=d[Re],m!=null))switch(Re){case"selected":l.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:Gr(l,u,Re,m,d,null)}return;case"dialog":Zn("beforetoggle",l),Zn("toggle",l),Zn("cancel",l),Zn("close",l);break;case"iframe":case"object":Zn("load",l);break;case"video":case"audio":for(m=0;m<hm.length;m++)Zn(hm[m],l);break;case"image":Zn("error",l),Zn("load",l);break;case"details":Zn("toggle",l);break;case"embed":case"source":case"link":Zn("error",l),Zn("load",l);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Je in d)if(d.hasOwnProperty(Je)&&(m=d[Je],m!=null))switch(Je){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,u));default:Gr(l,u,Je,m,d,null)}return;default:if(tc(u)){for(ut in d)d.hasOwnProperty(ut)&&(m=d[ut],m!==void 0&&f_(l,u,ut,m,d,void 0));return}}for(le in d)d.hasOwnProperty(le)&&(m=d[le],m!=null&&Gr(l,u,le,m,d,null))}function G9(l,u,d,m){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var E=null,I=null,G=null,le=null,Re=null,Je=null,ut=null;for(et in d){var gt=d[et];if(d.hasOwnProperty(et)&&gt!=null)switch(et){case"checked":break;case"value":break;case"defaultValue":Re=gt;default:m.hasOwnProperty(et)||Gr(l,u,et,null,m,gt)}}for(var Ze in m){var et=m[Ze];if(gt=d[Ze],m.hasOwnProperty(Ze)&&(et!=null||gt!=null))switch(Ze){case"type":I=et;break;case"name":E=et;break;case"checked":Je=et;break;case"defaultChecked":ut=et;break;case"value":G=et;break;case"defaultValue":le=et;break;case"children":case"dangerouslySetInnerHTML":if(et!=null)throw Error(r(137,u));break;default:et!==gt&&Gr(l,u,Ze,et,m,gt)}}vl(l,G,le,Re,Je,ut,I,E);return;case"select":et=G=le=Ze=null;for(I in d)if(Re=d[I],d.hasOwnProperty(I)&&Re!=null)switch(I){case"value":break;case"multiple":et=Re;default:m.hasOwnProperty(I)||Gr(l,u,I,null,m,Re)}for(E in m)if(I=m[E],Re=d[E],m.hasOwnProperty(E)&&(I!=null||Re!=null))switch(E){case"value":Ze=I;break;case"defaultValue":le=I;break;case"multiple":G=I;default:I!==Re&&Gr(l,u,E,I,m,Re)}u=le,d=G,m=et,Ze!=null?fs(l,!!d,Ze,!1):!!m!=!!d&&(u!=null?fs(l,!!d,u,!0):fs(l,!!d,d?[]:"",!1));return;case"textarea":et=Ze=null;for(le in d)if(E=d[le],d.hasOwnProperty(le)&&E!=null&&!m.hasOwnProperty(le))switch(le){case"value":break;case"children":break;default:Gr(l,u,le,null,m,E)}for(G in m)if(E=m[G],I=d[G],m.hasOwnProperty(G)&&(E!=null||I!=null))switch(G){case"value":Ze=E;break;case"defaultValue":et=E;break;case"children":break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:E!==I&&Gr(l,u,G,E,m,I)}Gc(l,Ze,et);return;case"option":for(var Qt in d)if(Ze=d[Qt],d.hasOwnProperty(Qt)&&Ze!=null&&!m.hasOwnProperty(Qt))switch(Qt){case"selected":l.selected=!1;break;default:Gr(l,u,Qt,null,m,Ze)}for(Re in m)if(Ze=m[Re],et=d[Re],m.hasOwnProperty(Re)&&Ze!==et&&(Ze!=null||et!=null))switch(Re){case"selected":l.selected=Ze&&typeof Ze!="function"&&typeof Ze!="symbol";break;default:Gr(l,u,Re,Ze,m,et)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Sn in d)Ze=d[Sn],d.hasOwnProperty(Sn)&&Ze!=null&&!m.hasOwnProperty(Sn)&&Gr(l,u,Sn,null,m,Ze);for(Je in m)if(Ze=m[Je],et=d[Je],m.hasOwnProperty(Je)&&Ze!==et&&(Ze!=null||et!=null))switch(Je){case"children":case"dangerouslySetInnerHTML":if(Ze!=null)throw Error(r(137,u));break;default:Gr(l,u,Je,Ze,m,et)}return;default:if(tc(u)){for(var $r in d)Ze=d[$r],d.hasOwnProperty($r)&&Ze!==void 0&&!m.hasOwnProperty($r)&&f_(l,u,$r,void 0,m,Ze);for(ut in m)Ze=m[ut],et=d[ut],!m.hasOwnProperty(ut)||Ze===et||Ze===void 0&&et===void 0||f_(l,u,ut,Ze,m,et);return}}for(var Be in d)Ze=d[Be],d.hasOwnProperty(Be)&&Ze!=null&&!m.hasOwnProperty(Be)&&Gr(l,u,Be,null,m,Ze);for(gt in m)Ze=m[gt],et=d[gt],!m.hasOwnProperty(gt)||Ze===et||Ze==null&&et==null||Gr(l,u,gt,Ze,m,et)}function KA(l){switch(l){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function $9(){if(typeof performance.getEntriesByType=="function"){for(var l=0,u=0,d=performance.getEntriesByType("resource"),m=0;m<d.length;m++){var E=d[m],I=E.transferSize,G=E.initiatorType,le=E.duration;if(I&&le&&KA(G)){for(G=0,le=E.responseEnd,m+=1;m<d.length;m++){var Re=d[m],Je=Re.startTime;if(Je>le)break;var ut=Re.transferSize,gt=Re.initiatorType;ut&&KA(gt)&&(Re=Re.responseEnd,G+=ut*(Re<le?1:(le-Je)/(Re-Je)))}if(--m,u+=8*(I+G)/(E.duration/1e3),l++,10<l)break}}if(0<l)return u/l/1e6}return navigator.connection&&(l=navigator.connection.downlink,typeof l=="number")?l:5}var h_=null,d_=null;function nx(l){return l.nodeType===9?l:l.ownerDocument}function YA(l){switch(l){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function XA(l,u){if(l===0)switch(u){case"svg":return 1;case"math":return 2;default:return 0}return l===1&&u==="foreignObject"?0:l}function p_(l,u){return l==="textarea"||l==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.children=="bigint"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var m_=null;function W9(){var l=window.event;return l&&l.type==="popstate"?l===m_?!1:(m_=l,!0):(m_=null,!1)}var JA=typeof setTimeout=="function"?setTimeout:void 0,K9=typeof clearTimeout=="function"?clearTimeout:void 0,QA=typeof Promise=="function"?Promise:void 0,Y9=typeof queueMicrotask=="function"?queueMicrotask:typeof QA<"u"?function(l){return QA.resolve(null).then(l).catch(X9)}:JA;function X9(l){setTimeout(function(){throw l})}function uf(l){return l==="head"}function ZA(l,u){var d=u,m=0;do{var E=d.nextSibling;if(l.removeChild(d),E&&E.nodeType===8)if(d=E.data,d==="/$"||d==="/&"){if(m===0){l.removeChild(E),a0(u);return}m--}else if(d==="$"||d==="$?"||d==="$~"||d==="$!"||d==="&")m++;else if(d==="html")pm(l.ownerDocument.documentElement);else if(d==="head"){d=l.ownerDocument.head,pm(d);for(var I=d.firstChild;I;){var G=I.nextSibling,le=I.nodeName;I[Ke]||le==="SCRIPT"||le==="STYLE"||le==="LINK"&&I.rel.toLowerCase()==="stylesheet"||d.removeChild(I),I=G}}else d==="body"&&pm(l.ownerDocument.body);d=E}while(d);a0(u)}function e4(l,u){var d=l;l=0;do{var m=d.nextSibling;if(d.nodeType===1?u?(d._stashedDisplay=d.style.display,d.style.display="none"):(d.style.display=d._stashedDisplay||"",d.getAttribute("style")===""&&d.removeAttribute("style")):d.nodeType===3&&(u?(d._stashedText=d.nodeValue,d.nodeValue=""):d.nodeValue=d._stashedText||""),m&&m.nodeType===8)if(d=m.data,d==="/$"){if(l===0)break;l--}else d!=="$"&&d!=="$?"&&d!=="$~"&&d!=="$!"||l++;d=m}while(d)}function g_(l){var u=l.firstChild;for(u&&u.nodeType===10&&(u=u.nextSibling);u;){var d=u;switch(u=u.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":g_(d),vt(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}l.removeChild(d)}}function J9(l,u,d,m){for(;l.nodeType===1;){var E=d;if(l.nodeName.toLowerCase()!==u.toLowerCase()){if(!m&&(l.nodeName!=="INPUT"||l.type!=="hidden"))break}else if(m){if(!l[Ke])switch(u){case"meta":if(!l.hasAttribute("itemprop"))break;return l;case"link":if(I=l.getAttribute("rel"),I==="stylesheet"&&l.hasAttribute("data-precedence"))break;if(I!==E.rel||l.getAttribute("href")!==(E.href==null||E.href===""?null:E.href)||l.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin)||l.getAttribute("title")!==(E.title==null?null:E.title))break;return l;case"style":if(l.hasAttribute("data-precedence"))break;return l;case"script":if(I=l.getAttribute("src"),(I!==(E.src==null?null:E.src)||l.getAttribute("type")!==(E.type==null?null:E.type)||l.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin))&&I&&l.hasAttribute("async")&&!l.hasAttribute("itemprop"))break;return l;default:return l}}else if(u==="input"&&l.type==="hidden"){var I=E.name==null?null:""+E.name;if(E.type==="hidden"&&l.getAttribute("name")===I)return l}else return l;if(l=il(l.nextSibling),l===null)break}return null}function Q9(l,u,d){if(u==="")return null;for(;l.nodeType!==3;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!d||(l=il(l.nextSibling),l===null))return null;return l}function t4(l,u){for(;l.nodeType!==8;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!u||(l=il(l.nextSibling),l===null))return null;return l}function x_(l){return l.data==="$?"||l.data==="$~"}function y_(l){return l.data==="$!"||l.data==="$?"&&l.ownerDocument.readyState!=="loading"}function Z9(l,u){var d=l.ownerDocument;if(l.data==="$~")l._reactRetry=u;else if(l.data!=="$?"||d.readyState!=="loading")u();else{var m=function(){u(),d.removeEventListener("DOMContentLoaded",m)};d.addEventListener("DOMContentLoaded",m),l._reactRetry=m}}function il(l){for(;l!=null;l=l.nextSibling){var u=l.nodeType;if(u===1||u===3)break;if(u===8){if(u=l.data,u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"||u==="F!"||u==="F")break;if(u==="/$"||u==="/&")return null}}return l}var v_=null;function n4(l){l=l.nextSibling;for(var u=0;l;){if(l.nodeType===8){var d=l.data;if(d==="/$"||d==="/&"){if(u===0)return il(l.nextSibling);u--}else d!=="$"&&d!=="$!"&&d!=="$?"&&d!=="$~"&&d!=="&"||u++}l=l.nextSibling}return null}function r4(l){l=l.previousSibling;for(var u=0;l;){if(l.nodeType===8){var d=l.data;if(d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"){if(u===0)return l;u--}else d!=="/$"&&d!=="/&"||u++}l=l.previousSibling}return null}function i4(l,u,d){switch(u=nx(d),l){case"html":if(l=u.documentElement,!l)throw Error(r(452));return l;case"head":if(l=u.head,!l)throw Error(r(453));return l;case"body":if(l=u.body,!l)throw Error(r(454));return l;default:throw Error(r(451))}}function pm(l){for(var u=l.attributes;u.length;)l.removeAttributeNode(u[0]);vt(l)}var sl=new Map,s4=new Set;function rx(l){return typeof l.getRootNode=="function"?l.getRootNode():l.nodeType===9?l:l.ownerDocument}var pu=xe.d;xe.d={f:eV,r:tV,D:nV,C:rV,L:iV,m:sV,X:oV,S:aV,M:lV};function eV(){var l=pu.f(),u=K1();return l||u}function tV(l){var u=It(l);u!==null&&u.tag===5&&u.type==="form"?bS(u):pu.r(l)}var r0=typeof document>"u"?null:document;function a4(l,u,d){var m=r0;if(m&&typeof u=="string"&&u){var E=fi(u);E='link[rel="'+l+'"][href="'+E+'"]',typeof d=="string"&&(E+='[crossorigin="'+d+'"]'),s4.has(E)||(s4.add(E),l={rel:l,crossOrigin:d,href:u},m.querySelector(E)===null&&(u=m.createElement("link"),ea(u,"link",l),Gt(u),m.head.appendChild(u)))}}function nV(l){pu.D(l),a4("dns-prefetch",l,null)}function rV(l,u){pu.C(l,u),a4("preconnect",l,u)}function iV(l,u,d){pu.L(l,u,d);var m=r0;if(m&&l&&u){var E='link[rel="preload"][as="'+fi(u)+'"]';u==="image"&&d&&d.imageSrcSet?(E+='[imagesrcset="'+fi(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(E+='[imagesizes="'+fi(d.imageSizes)+'"]')):E+='[href="'+fi(l)+'"]';var I=E;switch(u){case"style":I=i0(l);break;case"script":I=s0(l)}sl.has(I)||(l=p({rel:"preload",href:u==="image"&&d&&d.imageSrcSet?void 0:l,as:u},d),sl.set(I,l),m.querySelector(E)!==null||u==="style"&&m.querySelector(mm(I))||u==="script"&&m.querySelector(gm(I))||(u=m.createElement("link"),ea(u,"link",l),Gt(u),m.head.appendChild(u)))}}function sV(l,u){pu.m(l,u);var d=r0;if(d&&l){var m=u&&typeof u.as=="string"?u.as:"script",E='link[rel="modulepreload"][as="'+fi(m)+'"][href="'+fi(l)+'"]',I=E;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":I=s0(l)}if(!sl.has(I)&&(l=p({rel:"modulepreload",href:l},u),sl.set(I,l),d.querySelector(E)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(gm(I)))return}m=d.createElement("link"),ea(m,"link",l),Gt(m),d.head.appendChild(m)}}}function aV(l,u,d){pu.S(l,u,d);var m=r0;if(m&&l){var E=Ct(m).hoistableStyles,I=i0(l);u=u||"default";var G=E.get(I);if(!G){var le={loading:0,preload:null};if(G=m.querySelector(mm(I)))le.loading=5;else{l=p({rel:"stylesheet",href:l,"data-precedence":u},d),(d=sl.get(I))&&__(l,d);var Re=G=m.createElement("link");Gt(Re),ea(Re,"link",l),Re._p=new Promise(function(Je,ut){Re.onload=Je,Re.onerror=ut}),Re.addEventListener("load",function(){le.loading|=1}),Re.addEventListener("error",function(){le.loading|=2}),le.loading|=4,ix(G,u,m)}G={type:"stylesheet",instance:G,count:1,state:le},E.set(I,G)}}}function oV(l,u){pu.X(l,u);var d=r0;if(d&&l){var m=Ct(d).hoistableScripts,E=s0(l),I=m.get(E);I||(I=d.querySelector(gm(E)),I||(l=p({src:l,async:!0},u),(u=sl.get(E))&&w_(l,u),I=d.createElement("script"),Gt(I),ea(I,"link",l),d.head.appendChild(I)),I={type:"script",instance:I,count:1,state:null},m.set(E,I))}}function lV(l,u){pu.M(l,u);var d=r0;if(d&&l){var m=Ct(d).hoistableScripts,E=s0(l),I=m.get(E);I||(I=d.querySelector(gm(E)),I||(l=p({src:l,async:!0,type:"module"},u),(u=sl.get(E))&&w_(l,u),I=d.createElement("script"),Gt(I),ea(I,"link",l),d.head.appendChild(I)),I={type:"script",instance:I,count:1,state:null},m.set(E,I))}}function o4(l,u,d,m){var E=(E=ce.current)?rx(E):null;if(!E)throw Error(r(446));switch(l){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(u=i0(d.href),d=Ct(E).hoistableStyles,m=d.get(u),m||(m={type:"style",instance:null,count:0,state:null},d.set(u,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){l=i0(d.href);var I=Ct(E).hoistableStyles,G=I.get(l);if(G||(E=E.ownerDocument||E,G={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},I.set(l,G),(I=E.querySelector(mm(l)))&&!I._p&&(G.instance=I,G.state.loading=5),sl.has(l)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},sl.set(l,d),I||cV(E,l,d,G.state))),u&&m===null)throw Error(r(528,""));return G}if(u&&m!==null)throw Error(r(529,""));return null;case"script":return u=d.async,d=d.src,typeof d=="string"&&u&&typeof u!="function"&&typeof u!="symbol"?(u=s0(d),d=Ct(E).hoistableScripts,m=d.get(u),m||(m={type:"script",instance:null,count:0,state:null},d.set(u,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,l))}}function i0(l){return'href="'+fi(l)+'"'}function mm(l){return'link[rel="stylesheet"]['+l+"]"}function l4(l){return p({},l,{"data-precedence":l.precedence,precedence:null})}function cV(l,u,d,m){l.querySelector('link[rel="preload"][as="style"]['+u+"]")?m.loading=1:(u=l.createElement("link"),m.preload=u,u.addEventListener("load",function(){return m.loading|=1}),u.addEventListener("error",function(){return m.loading|=2}),ea(u,"link",d),Gt(u),l.head.appendChild(u))}function s0(l){return'[src="'+fi(l)+'"]'}function gm(l){return"script[async]"+l}function c4(l,u,d){if(u.count++,u.instance===null)switch(u.type){case"style":var m=l.querySelector('style[data-href~="'+fi(d.href)+'"]');if(m)return u.instance=m,Gt(m),m;var E=p({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return m=(l.ownerDocument||l).createElement("style"),Gt(m),ea(m,"style",E),ix(m,d.precedence,l),u.instance=m;case"stylesheet":E=i0(d.href);var I=l.querySelector(mm(E));if(I)return u.state.loading|=4,u.instance=I,Gt(I),I;m=l4(d),(E=sl.get(E))&&__(m,E),I=(l.ownerDocument||l).createElement("link"),Gt(I);var G=I;return G._p=new Promise(function(le,Re){G.onload=le,G.onerror=Re}),ea(I,"link",m),u.state.loading|=4,ix(I,d.precedence,l),u.instance=I;case"script":return I=s0(d.src),(E=l.querySelector(gm(I)))?(u.instance=E,Gt(E),E):(m=d,(E=sl.get(I))&&(m=p({},d),w_(m,E)),l=l.ownerDocument||l,E=l.createElement("script"),Gt(E),ea(E,"link",m),l.head.appendChild(E),u.instance=E);case"void":return null;default:throw Error(r(443,u.type))}else u.type==="stylesheet"&&(u.state.loading&4)===0&&(m=u.instance,u.state.loading|=4,ix(m,d.precedence,l));return u.instance}function ix(l,u,d){for(var m=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),E=m.length?m[m.length-1]:null,I=E,G=0;G<m.length;G++){var le=m[G];if(le.dataset.precedence===u)I=le;else if(I!==E)break}I?I.parentNode.insertBefore(l,I.nextSibling):(u=d.nodeType===9?d.head:d,u.insertBefore(l,u.firstChild))}function __(l,u){l.crossOrigin==null&&(l.crossOrigin=u.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=u.referrerPolicy),l.title==null&&(l.title=u.title)}function w_(l,u){l.crossOrigin==null&&(l.crossOrigin=u.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=u.referrerPolicy),l.integrity==null&&(l.integrity=u.integrity)}var sx=null;function u4(l,u,d){if(sx===null){var m=new Map,E=sx=new Map;E.set(d,m)}else E=sx,m=E.get(d),m||(m=new Map,E.set(d,m));if(m.has(l))return m;for(m.set(l,null),d=d.getElementsByTagName(l),E=0;E<d.length;E++){var I=d[E];if(!(I[Ke]||I[ye]||l==="link"&&I.getAttribute("rel")==="stylesheet")&&I.namespaceURI!=="http://www.w3.org/2000/svg"){var G=I.getAttribute(u)||"";G=l+G;var le=m.get(G);le?le.push(I):m.set(G,[I])}}return m}function f4(l,u,d){l=l.ownerDocument||l,l.head.insertBefore(d,u==="title"?l.querySelector("head > title"):null)}function uV(l,u,d){if(d===1||u.itemProp!=null)return!1;switch(l){case"meta":case"title":return!0;case"style":if(typeof u.precedence!="string"||typeof u.href!="string"||u.href==="")break;return!0;case"link":if(typeof u.rel!="string"||typeof u.href!="string"||u.href===""||u.onLoad||u.onError)break;switch(u.rel){case"stylesheet":return l=u.disabled,typeof u.precedence=="string"&&l==null;default:return!0}case"script":if(u.async&&typeof u.async!="function"&&typeof u.async!="symbol"&&!u.onLoad&&!u.onError&&u.src&&typeof u.src=="string")return!0}return!1}function h4(l){return!(l.type==="stylesheet"&&(l.state.loading&3)===0)}function fV(l,u,d,m){if(d.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var E=i0(m.href),I=u.querySelector(mm(E));if(I){u=I._p,u!==null&&typeof u=="object"&&typeof u.then=="function"&&(l.count++,l=ax.bind(l),u.then(l,l)),d.state.loading|=4,d.instance=I,Gt(I);return}I=u.ownerDocument||u,m=l4(m),(E=sl.get(E))&&__(m,E),I=I.createElement("link"),Gt(I);var G=I;G._p=new Promise(function(le,Re){G.onload=le,G.onerror=Re}),ea(I,"link",m),d.instance=I}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(d,u),(u=d.state.preload)&&(d.state.loading&3)===0&&(l.count++,d=ax.bind(l),u.addEventListener("load",d),u.addEventListener("error",d))}}var b_=0;function hV(l,u){return l.stylesheets&&l.count===0&&lx(l,l.stylesheets),0<l.count||0<l.imgCount?function(d){var m=setTimeout(function(){if(l.stylesheets&&lx(l,l.stylesheets),l.unsuspend){var I=l.unsuspend;l.unsuspend=null,I()}},6e4+u);0<l.imgBytes&&b_===0&&(b_=62500*$9());var E=setTimeout(function(){if(l.waitingForImages=!1,l.count===0&&(l.stylesheets&&lx(l,l.stylesheets),l.unsuspend)){var I=l.unsuspend;l.unsuspend=null,I()}},(l.imgBytes>b_?50:800)+u);return l.unsuspend=d,function(){l.unsuspend=null,clearTimeout(m),clearTimeout(E)}}:null}function ax(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)lx(this,this.stylesheets);else if(this.unsuspend){var l=this.unsuspend;this.unsuspend=null,l()}}}var ox=null;function lx(l,u){l.stylesheets=null,l.unsuspend!==null&&(l.count++,ox=new Map,u.forEach(dV,l),ox=null,ax.call(l))}function dV(l,u){if(!(u.state.loading&4)){var d=ox.get(l);if(d)var m=d.get(null);else{d=new Map,ox.set(l,d);for(var E=l.querySelectorAll("link[data-precedence],style[data-precedence]"),I=0;I<E.length;I++){var G=E[I];(G.nodeName==="LINK"||G.getAttribute("media")!=="not all")&&(d.set(G.dataset.precedence,G),m=G)}m&&d.set(null,m)}E=u.instance,G=E.getAttribute("data-precedence"),I=d.get(G)||m,I===m&&d.set(null,E),d.set(G,E),this.count++,m=ax.bind(this),E.addEventListener("load",m),E.addEventListener("error",m),I?I.parentNode.insertBefore(E,I.nextSibling):(l=l.nodeType===9?l.head:l,l.insertBefore(E,l.firstChild)),u.state.loading|=4}}var xm={$$typeof:R,Provider:null,Consumer:null,_currentValue:he,_currentValue2:he,_threadCount:0};function pV(l,u,d,m,E,I,G,le,Re){this.tag=1,this.containerInfo=l,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ri(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ri(0),this.hiddenUpdates=ri(null),this.identifierPrefix=m,this.onUncaughtError=E,this.onCaughtError=I,this.onRecoverableError=G,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Re,this.incompleteTransitions=new Map}function d4(l,u,d,m,E,I,G,le,Re,Je,ut,gt){return l=new pV(l,u,d,G,Re,Je,ut,gt,le),u=1,I===!0&&(u|=24),I=Ms(3,null,null,u),l.current=I,I.stateNode=l,u=Ju(),u.refCount++,l.pooledCache=u,u.refCount++,I.memoizedState={element:m,isDehydrated:d,cache:u},Dt(I),l}function p4(l){return l?(l=ms,l):ms}function m4(l,u,d,m,E,I){E=p4(E),m.context===null?m.context=E:m.pendingContext=E,m=Tn(u),m.payload={element:d},I=I===void 0?null:I,I!==null&&(m.callback=I),d=Un(l,m,u),d!==null&&(po(d,l,u),Ar(d,l,u))}function g4(l,u){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var d=l.retryLane;l.retryLane=d!==0&&d<u?d:u}}function T_(l,u){g4(l,u),(l=l.alternate)&&g4(l,u)}function x4(l){if(l.tag===13||l.tag===31){var u=Rl(l,67108864);u!==null&&po(u,l,67108864),T_(l,67108864)}}function y4(l){if(l.tag===13||l.tag===31){var u=Do();u=_r(u);var d=Rl(l,u);d!==null&&po(d,l,u),T_(l,u)}}var cx=!0;function mV(l,u,d,m){var E=se.T;se.T=null;var I=xe.p;try{xe.p=2,E_(l,u,d,m)}finally{xe.p=I,se.T=E}}function gV(l,u,d,m){var E=se.T;se.T=null;var I=xe.p;try{xe.p=8,E_(l,u,d,m)}finally{xe.p=I,se.T=E}}function E_(l,u,d,m){if(cx){var E=S_(m);if(E===null)u_(l,u,m,ux,d),_4(l,m);else if(yV(E,l,u,d,m))m.stopPropagation();else if(_4(l,m),u&4&&-1<xV.indexOf(l)){for(;E!==null;){var I=It(E);if(I!==null)switch(I.tag){case 3:if(I=I.stateNode,I.current.memoizedState.isDehydrated){var G=jt(I.pendingLanes);if(G!==0){var le=I;for(le.pendingLanes|=2,le.entangledLanes|=2;G;){var Re=1<<31-An(G);le.entanglements[1]|=Re,G&=~Re}vc(I),(Nr&6)===0&&($1=sn()+500,fm(0))}}break;case 31:case 13:le=Rl(I,2),le!==null&&po(le,I,2),K1(),T_(I,2)}if(I=S_(m),I===null&&u_(l,u,m,ux,d),I===E)break;E=I}E!==null&&m.stopPropagation()}else u_(l,u,m,null,d)}}function S_(l){return l=Rs(l),A_(l)}var ux=null;function A_(l){if(ux=null,l=bt(l),l!==null){var u=s(l);if(u===null)l=null;else{var d=u.tag;if(d===13){if(l=a(u),l!==null)return l;l=null}else if(d===31){if(l=o(u),l!==null)return l;l=null}else if(d===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;l=null}else u!==l&&(l=null)}}return ux=l,null}function v4(l){switch(l){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(mn()){case ln:return 2;case En:return 8;case an:case Ft:return 32;case At:return 268435456;default:return 32}default:return 32}}var C_=!1,ff=null,hf=null,df=null,ym=new Map,vm=new Map,pf=[],xV="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function _4(l,u){switch(l){case"focusin":case"focusout":ff=null;break;case"dragenter":case"dragleave":hf=null;break;case"mouseover":case"mouseout":df=null;break;case"pointerover":case"pointerout":ym.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":vm.delete(u.pointerId)}}function _m(l,u,d,m,E,I){return l===null||l.nativeEvent!==I?(l={blockedOn:u,domEventName:d,eventSystemFlags:m,nativeEvent:I,targetContainers:[E]},u!==null&&(u=It(u),u!==null&&x4(u)),l):(l.eventSystemFlags|=m,u=l.targetContainers,E!==null&&u.indexOf(E)===-1&&u.push(E),l)}function yV(l,u,d,m,E){switch(u){case"focusin":return ff=_m(ff,l,u,d,m,E),!0;case"dragenter":return hf=_m(hf,l,u,d,m,E),!0;case"mouseover":return df=_m(df,l,u,d,m,E),!0;case"pointerover":var I=E.pointerId;return ym.set(I,_m(ym.get(I)||null,l,u,d,m,E)),!0;case"gotpointercapture":return I=E.pointerId,vm.set(I,_m(vm.get(I)||null,l,u,d,m,E)),!0}return!1}function w4(l){var u=bt(l.target);if(u!==null){var d=s(u);if(d!==null){if(u=d.tag,u===13){if(u=a(d),u!==null){l.blockedOn=u,be(l.priority,function(){y4(d)});return}}else if(u===31){if(u=o(d),u!==null){l.blockedOn=u,be(l.priority,function(){y4(d)});return}}else if(u===3&&d.stateNode.current.memoizedState.isDehydrated){l.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}l.blockedOn=null}function fx(l){if(l.blockedOn!==null)return!1;for(var u=l.targetContainers;0<u.length;){var d=S_(l.nativeEvent);if(d===null){d=l.nativeEvent;var m=new d.constructor(d.type,d);So=m,d.target.dispatchEvent(m),So=null}else return u=It(d),u!==null&&x4(u),l.blockedOn=d,!1;u.shift()}return!0}function b4(l,u,d){fx(l)&&d.delete(u)}function vV(){C_=!1,ff!==null&&fx(ff)&&(ff=null),hf!==null&&fx(hf)&&(hf=null),df!==null&&fx(df)&&(df=null),ym.forEach(b4),vm.forEach(b4)}function hx(l,u){l.blockedOn===u&&(l.blockedOn=null,C_||(C_=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,vV)))}var dx=null;function T4(l){dx!==l&&(dx=l,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){dx===l&&(dx=null);for(var u=0;u<l.length;u+=3){var d=l[u],m=l[u+1],E=l[u+2];if(typeof m!="function"){if(A_(m||d)===null)continue;break}var I=It(d);I!==null&&(l.splice(u,3),u-=3,S2(I,{pending:!0,data:E,method:d.method,action:m},m,E))}}))}function a0(l){function u(Re){return hx(Re,l)}ff!==null&&hx(ff,l),hf!==null&&hx(hf,l),df!==null&&hx(df,l),ym.forEach(u),vm.forEach(u);for(var d=0;d<pf.length;d++){var m=pf[d];m.blockedOn===l&&(m.blockedOn=null)}for(;0<pf.length&&(d=pf[0],d.blockedOn===null);)w4(d),d.blockedOn===null&&pf.shift();if(d=(l.ownerDocument||l).$$reactFormReplay,d!=null)for(m=0;m<d.length;m+=3){var E=d[m],I=d[m+1],G=E[_e]||null;if(typeof I=="function")G||T4(d);else if(G){var le=null;if(I&&I.hasAttribute("formAction")){if(E=I,G=I[_e]||null)le=G.formAction;else if(A_(E)!==null)continue}else le=G.action;typeof le=="function"?d[m+1]=le:(d.splice(m,3),m-=3),T4(d)}}}function E4(){function l(I){I.canIntercept&&I.info==="react-transition"&&I.intercept({handler:function(){return new Promise(function(G){return E=G})},focusReset:"manual",scroll:"manual"})}function u(){E!==null&&(E(),E=null),m||setTimeout(d,20)}function d(){if(!m&&!navigation.transition){var I=navigation.currentEntry;I&&I.url!=null&&navigation.navigate(I.url,{state:I.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,E=null;return navigation.addEventListener("navigate",l),navigation.addEventListener("navigatesuccess",u),navigation.addEventListener("navigateerror",u),setTimeout(d,100),function(){m=!0,navigation.removeEventListener("navigate",l),navigation.removeEventListener("navigatesuccess",u),navigation.removeEventListener("navigateerror",u),E!==null&&(E(),E=null)}}}function N_(l){this._internalRoot=l}px.prototype.render=N_.prototype.render=function(l){var u=this._internalRoot;if(u===null)throw Error(r(409));var d=u.current,m=Do();m4(d,m,l,u,null,null)},px.prototype.unmount=N_.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var u=l.containerInfo;m4(l.current,2,null,l,null,null),K1(),u[Ce]=null}};function px(l){this._internalRoot=l}px.prototype.unstable_scheduleHydration=function(l){if(l){var u=te();l={blockedOn:null,target:l,priority:u};for(var d=0;d<pf.length&&u!==0&&u<pf[d].priority;d++);pf.splice(d,0,l),d===0&&w4(l)}};var S4=e.version;if(S4!=="19.2.0")throw Error(r(527,S4,"19.2.0"));xe.findDOMNode=function(l){var u=l._reactInternals;if(u===void 0)throw typeof l.render=="function"?Error(r(188)):(l=Object.keys(l).join(","),Error(r(268,l)));return l=f(u),l=l!==null?h(l):null,l=l===null?null:l.stateNode,l};var _V={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:se,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mx=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mx.isDisabled&&mx.supportsFiber)try{$t=mx.inject(_V),Yt=mx}catch{}}return bm.createRoot=function(l,u){if(!i(l))throw Error(r(299));var d=!1,m="",E=PS,I=DS,G=MS;return u!=null&&(u.unstable_strictMode===!0&&(d=!0),u.identifierPrefix!==void 0&&(m=u.identifierPrefix),u.onUncaughtError!==void 0&&(E=u.onUncaughtError),u.onCaughtError!==void 0&&(I=u.onCaughtError),u.onRecoverableError!==void 0&&(G=u.onRecoverableError)),u=d4(l,1,!1,null,null,d,m,null,E,I,G,E4),l[Ce]=u.current,c_(l),new N_(u)},bm.hydrateRoot=function(l,u,d){if(!i(l))throw Error(r(299));var m=!1,E="",I=PS,G=DS,le=MS,Re=null;return d!=null&&(d.unstable_strictMode===!0&&(m=!0),d.identifierPrefix!==void 0&&(E=d.identifierPrefix),d.onUncaughtError!==void 0&&(I=d.onUncaughtError),d.onCaughtError!==void 0&&(G=d.onCaughtError),d.onRecoverableError!==void 0&&(le=d.onRecoverableError),d.formState!==void 0&&(Re=d.formState)),u=d4(l,1,!0,u,d??null,m,E,Re,I,G,le,E4),u.context=p4(null),d=u.current,m=Do(),m=_r(m),E=Tn(m),E.callback=null,Un(d,E,m),d=m,u.current.lanes=d,Mt(u,d),vc(u),l[Ce]=u.current,c_(l),new px(u)},bm.version="19.2.0",bm}var L4;function RV(){if(L4)return k_.exports;L4=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),k_.exports=kV(),k_.exports}var PV=RV(),Ie=F5();const Cy=bV(Ie);var un=(t=>(t.DASHBOARD="DASHBOARD",t.INVOICES="INVOICES",t.ALL_INVOICES="ALL_INVOICES",t.CREATE_INVOICE="CREATE_INVOICE",t.EDIT_INVOICE="EDIT_INVOICE",t.INVENTORY="INVENTORY",t.CUSTOMERS="CUSTOMERS",t.VIEW_INVOICE="VIEW_INVOICE",t.CUSTOMER_LEDGER="CUSTOMER_LEDGER",t.SETTINGS="SETTINGS",t.DAYBOOK="DAYBOOK",t.IMPORT="IMPORT",t.EXPENSES="EXPENSES",t.REPORTS="REPORTS",t.PAYMENTS="PAYMENTS",t))(un||{});const S0={name:"ABC Trading Company",address:"123, Market Road, Delhi - 110001",phone:"9876543210",email:"info@abctrading.com",state:"Delhi",gst_enabled:!0};const DV=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),MV=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),F4=t=>{const e=MV(t);return e.charAt(0).toUpperCase()+e.slice(1)},nP=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),LV=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var FV={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const OV=Ie.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:a,...o},c)=>Ie.createElement("svg",{ref:c,...FV,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:nP("lucide",i),...!s&&!LV(o)&&{"aria-hidden":"true"},...o},[...a.map(([f,h])=>Ie.createElement(f,h)),...Array.isArray(s)?s:[s]]));const on=(t,e)=>{const n=Ie.forwardRef(({className:r,...i},s)=>Ie.createElement(OV,{ref:s,iconNode:e,className:nP(`lucide-${DV(F4(t))}`,`lucide-${t}`,r),...i}));return n.displayName=F4(t),n};const VV=[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]],qf=on("arrow-down-left",VV);const UV=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Au=on("arrow-left",UV);const BV=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],jV=on("arrow-right",BV);const qV=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],HV=on("arrow-up-right",qV);const zV=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],Kw=on("banknote",zV);const GV=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],$V=on("bell",GV);const WV=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],KV=on("briefcase",WV);const YV=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],rP=on("building-2",YV);const XV=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],O5=on("calendar",XV);const JV=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],O4=on("check",JV);const QV=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Xg=on("circle-alert",QV);const ZV=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],iP=on("circle-check-big",ZV);const eU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],tU=on("circle-plus",eU);const nU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],rU=on("circle-x",nU);const iU=[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5.782 5.782A7 7 0 0 0 9 19h8.5a4.5 4.5 0 0 0 1.307-.193",key:"yfwify"}],["path",{d:"M21.532 16.5A4.5 4.5 0 0 0 17.5 10h-1.79A7.008 7.008 0 0 0 10 5.07",key:"jlfiyv"}]],sU=on("cloud-off",iU);const aU=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],sP=on("cloud",aU);const oU=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],lU=on("copy",oU);const cU=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],uU=on("credit-card",cU);const fU=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],hU=on("database",fU);const dU=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],pU=on("dollar-sign",dU);const mU=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],bp=on("download",mU);const gU=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],xU=on("ellipsis-vertical",gU);const yU=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],aP=on("external-link",yU);const vU=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],_U=on("eye",vU);const wU=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],tp=on("file-text",wU);const bU=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],TU=on("funnel",bU);const EU=[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]],SU=on("indian-rupee",EU);const AU=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],oP=on("layout-dashboard",AU);const CU=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Yw=on("loader-circle",CU);const NU=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Xw=on("log-out",NU);const IU=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],kU=on("lock",IU);const RU=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],V5=on("mail",RU);const PU=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],lP=on("map-pin",PU);const DU=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],cP=on("menu",DU);const MU=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],Ny=on("message-circle",MU);const LU=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],Jw=on("moon",LU);const FU=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],L_=on("package",FU);const OU=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Qw=on("pen",OU);const VU=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],uP=on("phone",VU);const UU=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],BU=on("play",UU);const jU=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],hd=on("plus",jU);const qU=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],HU=on("printer",qU);const zU=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],U5=on("receipt",zU);const GU=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Iy=on("save",GU);const $U=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],B5=on("search",$U);const WU=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],KU=on("send",WU);const YU=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],fP=on("settings",YU);const XU=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],JU=on("shield-alert",XU);const QU=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],j5=on("square-pen",QU);const ZU=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Zw=on("sun",ZU);const eB=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],tB=on("tag",eB);const nB=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],dd=on("trash-2",nB);const rB=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],iB=on("trending-down",rB);const sB=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],V0=on("trending-up",sB);const aB=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],hP=on("triangle-alert",aB);const oB=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Av=on("upload",oB);const lB=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],cB=on("user-plus",lB);const uB=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],ky=on("users",uB);const fB=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],hB=on("wallet",fB);const dB=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],F_=on("wand-sparkles",dB);const pB=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],mB=on("wifi-off",pB);const gB=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],xB=on("wifi",gB);const yB=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Uh=on("x",yB),vB=()=>{};var V4={};const dP=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},_B=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],a=t[n++],o=t[n++],c=((i&7)<<18|(s&63)<<12|(a&63)<<6|o&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const s=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},pP={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,o=a?t[i+1]:0,c=i+2<t.length,f=c?t[i+2]:0,h=s>>2,p=(s&3)<<4|o>>4;let g=(o&15)<<2|f>>6,x=f&63;c||(x=64,a||(g=64)),r.push(n[h],n[p],n[g],n[x])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(dP(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):_B(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],o=i<t.length?n[t.charAt(i)]:0;++i;const f=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||o==null||f==null||p==null)throw new wB;const g=s<<2|o>>4;if(r.push(g),f!==64){const x=o<<4&240|f>>2;if(r.push(x),p!==64){const T=f<<6&192|p;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class wB extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const bB=function(t){const e=dP(t);return pP.encodeByteArray(e,!0)},Ry=function(t){return bB(t).replace(/\./g,"")},mP=function(t){try{return pP.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function gP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const TB=()=>gP().__FIREBASE_DEFAULTS__,EB=()=>{if(typeof process>"u"||typeof V4>"u")return;const t=V4.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},SB=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&mP(t[1]);return e&&JSON.parse(e)},Cv=()=>{try{return vB()||TB()||EB()||SB()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},xP=t=>Cv()?.emulatorHosts?.[t],AB=t=>{const e=xP(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},yP=()=>Cv()?.config,vP=t=>Cv()?.[`_${t}`];class CB{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function Tp(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function _P(t){return(await fetch(t,{credentials:"include"})).ok}function NB(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Ry(JSON.stringify(n)),Ry(JSON.stringify(a)),""].join(".")}const Gm={};function IB(){const t={prod:[],emulator:[]};for(const e of Object.keys(Gm))Gm[e]?t.emulator.push(e):t.prod.push(e);return t}function kB(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let U4=!1;function wP(t,e){if(typeof window>"u"||typeof document>"u"||!Tp(window.location.host)||Gm[t]===e||Gm[t]||U4)return;Gm[t]=e;function n(g){return`__firebase__banner__${g}`}const r="__firebase__banner",s=IB().prod.length>0;function a(){const g=document.getElementById(r);g&&g.remove()}function o(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function c(g,x){g.setAttribute("width","24"),g.setAttribute("id",x),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function f(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{U4=!0,a()},g}function h(g,x){g.setAttribute("id",x),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function p(){const g=kB(r),x=n("text"),T=document.getElementById(x)||document.createElement("span"),S=n("learnmore"),N=document.getElementById(S)||document.createElement("a"),k=n("preprendIcon"),B=document.getElementById(k)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const R=g.element;o(R),h(N,S);const q=f();c(B,k),R.append(B,T,N,q),document.body.appendChild(R)}s?(T.innerText="Preview backend disconnected.",B.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(B.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,T.innerText="Preview backend running in this workspace."),T.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function As(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function RB(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(As())}function bP(){const t=Cv()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function PB(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function DB(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function MB(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function LB(){const t=As();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function TP(){return!bP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function EP(){return!bP()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function SP(){try{return typeof indexedDB=="object"}catch{return!1}}function FB(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}const OB="FirebaseError";class Mu extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=OB,Object.setPrototypeOf(this,Mu.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Jg.prototype.create)}}class Jg{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?VB(s,r):"Error",o=`${this.serviceName}: ${a} (${i}).`;return new Mu(i,o,r)}}function VB(t,e){return t.replace(UB,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const UB=/\{\$([^}]+)}/g;function BB(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Yh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],a=e[i];if(B4(s)&&B4(a)){if(!Yh(s,a))return!1}else if(s!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function B4(t){return t!==null&&typeof t=="object"}function Qg(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Dm(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Mm(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function jB(t,e){const n=new qB(t,e);return n.subscribe.bind(n)}class qB{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");HB(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=O_),i.error===void 0&&(i.error=O_),i.complete===void 0&&(i.complete=O_);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function HB(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function O_(){}function Hs(t){return t&&t._delegate?t._delegate:t}class Xh{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Eh="[DEFAULT]";class zB{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new CB;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if($B(e))try{this.getOrInitializeService({instanceIdentifier:Eh})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Eh){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Eh){return this.instances.has(e)}getOptions(e=Eh){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);r===o&&a.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:GB(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Eh){return this.component?this.component.multipleInstances?e:Eh:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function GB(t){return t===Eh?void 0:t}function $B(t){return t.instantiationMode==="EAGER"}class WB{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new zB(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var ir;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ir||(ir={}));const KB={debug:ir.DEBUG,verbose:ir.VERBOSE,info:ir.INFO,warn:ir.WARN,error:ir.ERROR,silent:ir.SILENT},YB=ir.INFO,XB={[ir.DEBUG]:"log",[ir.VERBOSE]:"log",[ir.INFO]:"info",[ir.WARN]:"warn",[ir.ERROR]:"error"},JB=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=XB[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class q5{constructor(e){this.name=e,this._logLevel=YB,this._logHandler=JB,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ir))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?KB[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ir.DEBUG,...e),this._logHandler(this,ir.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ir.VERBOSE,...e),this._logHandler(this,ir.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ir.INFO,...e),this._logHandler(this,ir.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ir.WARN,...e),this._logHandler(this,ir.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ir.ERROR,...e),this._logHandler(this,ir.ERROR,...e)}}const QB=(t,e)=>e.some(n=>t instanceof n);let j4,q4;function ZB(){return j4||(j4=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ej(){return q4||(q4=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const AP=new WeakMap,eb=new WeakMap,CP=new WeakMap,V_=new WeakMap,H5=new WeakMap;function tj(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(Lf(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&AP.set(n,t)}).catch(()=>{}),H5.set(e,t),e}function nj(t){if(eb.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});eb.set(t,e)}let tb={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return eb.get(t);if(e==="objectStoreNames")return t.objectStoreNames||CP.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Lf(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function rj(t){tb=t(tb)}function ij(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(U_(this),e,...n);return CP.set(r,e.sort?e.sort():[e]),Lf(r)}:ej().includes(t)?function(...e){return t.apply(U_(this),e),Lf(AP.get(this))}:function(...e){return Lf(t.apply(U_(this),e))}}function sj(t){return typeof t=="function"?ij(t):(t instanceof IDBTransaction&&nj(t),QB(t,ZB())?new Proxy(t,tb):t)}function Lf(t){if(t instanceof IDBRequest)return tj(t);if(V_.has(t))return V_.get(t);const e=sj(t);return e!==t&&(V_.set(t,e),H5.set(e,t)),e}const U_=t=>H5.get(t);function aj(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),o=Lf(a);return r&&a.addEventListener("upgradeneeded",c=>{r(Lf(a.result),c.oldVersion,c.newVersion,Lf(a.transaction),c)}),n&&a.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),o.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),o}const oj=["get","getKey","getAll","getAllKeys","count"],lj=["put","add","delete","clear"],B_=new Map;function H4(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(B_.get(e))return B_.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=lj.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||oj.includes(n)))return;const s=async function(a,...o){const c=this.transaction(a,i?"readwrite":"readonly");let f=c.store;return r&&(f=f.index(o.shift())),(await Promise.all([f[n](...o),i&&c.done]))[0]};return B_.set(e,s),s}rj(t=>({...t,get:(e,n,r)=>H4(e,n)||t.get(e,n,r),has:(e,n)=>!!H4(e,n)||t.has(e,n)}));class cj{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(uj(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function uj(t){return t.getComponent()?.type==="VERSION"}const nb="@firebase/app",z4="0.14.6";const Cu=new q5("@firebase/app"),fj="@firebase/app-compat",hj="@firebase/analytics-compat",dj="@firebase/analytics",pj="@firebase/app-check-compat",mj="@firebase/app-check",gj="@firebase/auth",xj="@firebase/auth-compat",yj="@firebase/database",vj="@firebase/data-connect",_j="@firebase/database-compat",wj="@firebase/functions",bj="@firebase/functions-compat",Tj="@firebase/installations",Ej="@firebase/installations-compat",Sj="@firebase/messaging",Aj="@firebase/messaging-compat",Cj="@firebase/performance",Nj="@firebase/performance-compat",Ij="@firebase/remote-config",kj="@firebase/remote-config-compat",Rj="@firebase/storage",Pj="@firebase/storage-compat",Dj="@firebase/firestore",Mj="@firebase/ai",Lj="@firebase/firestore-compat",Fj="firebase",Oj="12.6.0";const rb="[DEFAULT]",Vj={[nb]:"fire-core",[fj]:"fire-core-compat",[dj]:"fire-analytics",[hj]:"fire-analytics-compat",[mj]:"fire-app-check",[pj]:"fire-app-check-compat",[gj]:"fire-auth",[xj]:"fire-auth-compat",[yj]:"fire-rtdb",[vj]:"fire-data-connect",[_j]:"fire-rtdb-compat",[wj]:"fire-fn",[bj]:"fire-fn-compat",[Tj]:"fire-iid",[Ej]:"fire-iid-compat",[Sj]:"fire-fcm",[Aj]:"fire-fcm-compat",[Cj]:"fire-perf",[Nj]:"fire-perf-compat",[Ij]:"fire-rc",[kj]:"fire-rc-compat",[Rj]:"fire-gcs",[Pj]:"fire-gcs-compat",[Dj]:"fire-fst",[Lj]:"fire-fst-compat",[Mj]:"fire-vertex","fire-js":"fire-js",[Fj]:"fire-js-all"};const xg=new Map,Uj=new Map,ib=new Map;function G4(t,e){try{t.container.addComponent(e)}catch(n){Cu.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function np(t){const e=t.name;if(ib.has(e))return Cu.debug(`There were multiple attempts to register component ${e}.`),!1;ib.set(e,t);for(const n of xg.values())G4(n,t);for(const n of Uj.values())G4(n,t);return!0}function z5(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ul(t){return t==null?!1:t.settings!==void 0}const Bj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ff=new Jg("app","Firebase",Bj);class jj{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Xh("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ff.create("app-deleted",{appName:this._name})}}const Ep=Oj;function NP(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:rb,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Ff.create("bad-app-name",{appName:String(i)});if(n||(n=yP()),!n)throw Ff.create("no-options");const s=xg.get(i);if(s){if(Yh(n,s.options)&&Yh(r,s.config))return s;throw Ff.create("duplicate-app",{appName:i})}const a=new WB(i);for(const c of ib.values())a.addComponent(c);const o=new jj(n,r,a);return xg.set(i,o),o}function G5(t=rb){const e=xg.get(t);if(!e&&t===rb&&yP())return NP();if(!e)throw Ff.create("no-app",{appName:t});return e}function qj(){return Array.from(xg.values())}function Of(t,e,n){let r=Vj[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const a=[`Unable to register library "${r}" with version "${e}":`];i&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Cu.warn(a.join(" "));return}np(new Xh(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const Hj="firebase-heartbeat-database",zj=1,yg="firebase-heartbeat-store";let j_=null;function IP(){return j_||(j_=aj(Hj,zj,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(yg)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ff.create("idb-open",{originalErrorMessage:t.message})})),j_}async function Gj(t){try{const n=(await IP()).transaction(yg),r=await n.objectStore(yg).get(kP(t));return await n.done,r}catch(e){if(e instanceof Mu)Cu.warn(e.message);else{const n=Ff.create("idb-get",{originalErrorMessage:e?.message});Cu.warn(n.message)}}}async function $4(t,e){try{const r=(await IP()).transaction(yg,"readwrite");await r.objectStore(yg).put(e,kP(t)),await r.done}catch(n){if(n instanceof Mu)Cu.warn(n.message);else{const r=Ff.create("idb-set",{originalErrorMessage:n?.message});Cu.warn(r.message)}}}function kP(t){return`${t.name}!${t.options.appId}`}const $j=1024,Wj=30;class Kj{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Xj(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=W4();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>Wj){const i=Jj(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Cu.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=W4(),{heartbeatsToSend:n,unsentEntries:r}=Yj(this._heartbeatsCache.heartbeats),i=Ry(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return Cu.warn(e),""}}}function W4(){return new Date().toISOString().substring(0,10)}function Yj(t,e=$j){const n=[];let r=t.slice();for(const i of t){const s=n.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),K4(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),K4(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Xj{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return SP()?FB().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Gj(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return $4(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return $4(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function K4(t){return Ry(JSON.stringify({version:2,heartbeats:t})).length}function Jj(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function Qj(t){np(new Xh("platform-logger",e=>new cj(e),"PRIVATE")),np(new Xh("heartbeat",e=>new Kj(e),"PRIVATE")),Of(nb,z4,t),Of(nb,z4,"esm2020"),Of("fire-js","")}Qj("");function RP(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Zj=RP,PP=new Jg("auth","Firebase",RP());const Py=new q5("@firebase/auth");function eq(t,...e){Py.logLevel<=ir.WARN&&Py.warn(`Auth (${Ep}): ${t}`,...e)}function Yx(t,...e){Py.logLevel<=ir.ERROR&&Py.error(`Auth (${Ep}): ${t}`,...e)}function Xl(t,...e){throw $5(t,...e)}function Ic(t,...e){return $5(t,...e)}function DP(t,e,n){const r={...Zj(),[e]:n};return new Jg("auth","Firebase",r).create(e,{appName:t.name})}function Tu(t){return DP(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function $5(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return PP.create(t,...e)}function Cn(t,e,...n){if(!t)throw $5(e,...n)}function vu(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Yx(e),new Error(e)}function Nu(t,e){t||vu(e)}function sb(){return typeof self<"u"&&self.location?.href||""}function tq(){return Y4()==="http:"||Y4()==="https:"}function Y4(){return typeof self<"u"&&self.location?.protocol||null}function nq(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(tq()||DB()||"connection"in navigator)?navigator.onLine:!0}function rq(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class Zg{constructor(e,n){this.shortDelay=e,this.longDelay=n,Nu(n>e,"Short delay should be less than long delay!"),this.isMobile=RB()||MB()}get(){return nq()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function W5(t,e){Nu(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class MP{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;vu("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;vu("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;vu("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const iq={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const sq=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],aq=new Zg(3e4,6e4);function Qf(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Zf(t,e,n,r,i={}){return LP(t,i,async()=>{let s={},a={};r&&(e==="GET"?a=r:s={body:JSON.stringify(r)});const o=Qg({key:t.config.apiKey,...a}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const f={method:e,headers:c,...s};return PB()||(f.referrerPolicy="no-referrer"),t.emulatorConfig&&Tp(t.emulatorConfig.host)&&(f.credentials="include"),MP.fetch()(await FP(t,t.config.apiHost,n,o),f)})}async function LP(t,e,n){t._canInitEmulator=!1;const r={...iq,...e};try{const i=new lq(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw gx(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const o=s.ok?a.errorMessage:a.error.message,[c,f]=o.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw gx(t,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw gx(t,"email-already-in-use",a);if(c==="USER_DISABLED")throw gx(t,"user-disabled",a);const h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw DP(t,h,f);Xl(t,h)}}catch(i){if(i instanceof Mu)throw i;Xl(t,"network-request-failed",{message:String(i)})}}async function e1(t,e,n,r,i={}){const s=await Zf(t,e,n,r,i);return"mfaPendingCredential"in s&&Xl(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function FP(t,e,n,r){const i=`${e}${n}?${r}`,s=t,a=s.config.emulator?W5(t.config,i):`${t.config.apiScheme}://${i}`;return sq.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(a).toString():a}function oq(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class lq{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ic(this.auth,"network-request-failed")),aq.get())})}}function gx(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ic(t,e,r);return i.customData._tokenResponse=n,i}function X4(t){return t!==void 0&&t.enterprise!==void 0}class cq{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return oq(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function uq(t,e){return Zf(t,"GET","/v2/recaptchaConfig",Qf(t,e))}async function fq(t,e){return Zf(t,"POST","/v1/accounts:delete",e)}async function Dy(t,e){return Zf(t,"POST","/v1/accounts:lookup",e)}function $m(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function hq(t,e=!1){const n=Hs(t),r=await n.getIdToken(e),i=K5(r);Cn(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s?.sign_in_provider;return{claims:i,token:r,authTime:$m(q_(i.auth_time)),issuedAtTime:$m(q_(i.iat)),expirationTime:$m(q_(i.exp)),signInProvider:a||null,signInSecondFactor:s?.sign_in_second_factor||null}}function q_(t){return Number(t)*1e3}function K5(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Yx("JWT malformed, contained fewer than 3 sections"),null;try{const i=mP(n);return i?JSON.parse(i):(Yx("Failed to decode base64 JWT payload"),null)}catch(i){return Yx("Caught error parsing JWT payload as JSON",i?.toString()),null}}function J4(t){const e=K5(t);return Cn(e,"internal-error"),Cn(typeof e.exp<"u","internal-error"),Cn(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function vg(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Mu&&dq(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function dq({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class pq{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class ab{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=$m(this.lastLoginAt),this.creationTime=$m(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function My(t){const e=t.auth,n=await t.getIdToken(),r=await vg(t,Dy(e,{idToken:n}));Cn(r?.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const s=i.providerUserInfo?.length?OP(i.providerUserInfo):[],a=gq(t.providerData,s),o=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!a?.length,f=o?c:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new ab(i.createdAt,i.lastLoginAt),isAnonymous:f};Object.assign(t,h)}async function mq(t){const e=Hs(t);await My(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function gq(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function OP(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function xq(t,e){const n=await LP(t,{},async()=>{const r=Qg({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,a=await FP(t,i,"/v1/token",`key=${s}`),o=await t._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:o,body:r};return t.emulatorConfig&&Tp(t.emulatorConfig.host)&&(c.credentials="include"),MP.fetch()(a,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function yq(t,e){return Zf(t,"POST","/v2/accounts:revokeToken",Qf(t,e))}class U0{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Cn(e.idToken,"internal-error"),Cn(typeof e.idToken<"u","internal-error"),Cn(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):J4(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Cn(e.length!==0,"internal-error");const n=J4(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Cn(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await xq(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,a=new U0;return r&&(Cn(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(Cn(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(Cn(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new U0,this.toJSON())}_performRefresh(){return vu("not implemented")}}function gf(t,e){Cn(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class $l{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new pq(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new ab(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await vg(this,this.stsTokenManager.getToken(this.auth,e));return Cn(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return hq(this,e)}reload(){return mq(this)}_assign(e){this!==e&&(Cn(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new $l({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Cn(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await My(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ul(this.auth.app))return Promise.reject(Tu(this.auth));const e=await this.getIdToken();return await vg(this,fq(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,a=n.photoURL??void 0,o=n.tenantId??void 0,c=n._redirectEventId??void 0,f=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:p,emailVerified:g,isAnonymous:x,providerData:T,stsTokenManager:S}=n;Cn(p&&S,e,"internal-error");const N=U0.fromJSON(this.name,S);Cn(typeof p=="string",e,"internal-error"),gf(r,e.name),gf(i,e.name),Cn(typeof g=="boolean",e,"internal-error"),Cn(typeof x=="boolean",e,"internal-error"),gf(s,e.name),gf(a,e.name),gf(o,e.name),gf(c,e.name),gf(f,e.name),gf(h,e.name);const k=new $l({uid:p,auth:e,email:i,emailVerified:g,displayName:r,isAnonymous:x,photoURL:a,phoneNumber:s,tenantId:o,stsTokenManager:N,createdAt:f,lastLoginAt:h});return T&&Array.isArray(T)&&(k.providerData=T.map(B=>({...B}))),c&&(k._redirectEventId=c),k}static async _fromIdTokenResponse(e,n,r=!1){const i=new U0;i.updateFromServerResponse(n);const s=new $l({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await My(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Cn(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?OP(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!s?.length,o=new U0;o.updateFromIdToken(r);const c=new $l({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new ab(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(c,f),c}}const Q4=new Map;function _u(t){Nu(t instanceof Function,"Expected a class definition");let e=Q4.get(t);return e?(Nu(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Q4.set(t,e),e)}class VP{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}VP.type="NONE";const Z4=VP;function Xx(t,e,n){return`firebase:${t}:${e}:${n}`}class B0{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Xx(this.userKey,i.apiKey,s),this.fullPersistenceKey=Xx("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Dy(this.auth,{idToken:e}).catch(()=>{});return n?$l._fromGetAccountInfoResponse(this.auth,n,e):null}return $l._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new B0(_u(Z4),e,r);const i=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let s=i[0]||_u(Z4);const a=Xx(r,e.config.apiKey,e.name);let o=null;for(const f of n)try{const h=await f._get(a);if(h){let p;if(typeof h=="string"){const g=await Dy(e,{idToken:h}).catch(()=>{});if(!g)break;p=await $l._fromGetAccountInfoResponse(e,g,h)}else p=$l._fromJSON(e,h);f!==s&&(o=p),s=f;break}}catch{}const c=i.filter(f=>f._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new B0(s,e,r):(s=c[0],o&&await s._set(a,o.toJSON()),await Promise.all(n.map(async f=>{if(f!==s)try{await f._remove(a)}catch{}})),new B0(s,e,r))}}function eC(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(qP(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(UP(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(zP(e))return"Blackberry";if(GP(e))return"Webos";if(BP(e))return"Safari";if((e.includes("chrome/")||jP(e))&&!e.includes("edge/"))return"Chrome";if(HP(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function UP(t=As()){return/firefox\//i.test(t)}function BP(t=As()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function jP(t=As()){return/crios\//i.test(t)}function qP(t=As()){return/iemobile/i.test(t)}function HP(t=As()){return/android/i.test(t)}function zP(t=As()){return/blackberry/i.test(t)}function GP(t=As()){return/webos/i.test(t)}function Y5(t=As()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function vq(t=As()){return Y5(t)&&!!window.navigator?.standalone}function _q(){return LB()&&document.documentMode===10}function $P(t=As()){return Y5(t)||HP(t)||GP(t)||zP(t)||/windows phone/i.test(t)||qP(t)}function WP(t,e=[]){let n;switch(t){case"Browser":n=eC(As());break;case"Worker":n=`${eC(As())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ep}/${r}`}class wq{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((a,o)=>{try{const c=e(s);a(c)}catch(c){o(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function bq(t,e={}){return Zf(t,"GET","/v2/passwordPolicy",Qf(t,e))}const Tq=6;class Eq{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Tq,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}class Sq{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new tC(this),this.idTokenSubscription=new tC(this),this.beforeStateQueue=new wq(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=PP,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=_u(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await B0.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Dy(this,{idToken:e}),r=await $l._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ul(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=this.redirectUser?._redirectEventId,a=r?._redirectEventId,o=await this.tryRedirectSignIn(e);(!s||s===a)&&o?.user&&(r=o.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Cn(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await My(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=rq()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ul(this.app))return Promise.reject(Tu(this));const n=e?Hs(e):null;return n&&Cn(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Cn(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ul(this.app)?Promise.reject(Tu(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ul(this.app)?Promise.reject(Tu(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(_u(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await bq(this),n=new Eq(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Jg("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await yq(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&_u(e)||this._popupRedirectResolver;Cn(n,this,"argument-error"),this.redirectPersistenceManager=await B0.create(this,[_u(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(Cn(o,this,"internal-error"),o.then(()=>{a||s(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,i);return()=>{a=!0,c()}}else{const c=e.addObserver(n);return()=>{a=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Cn(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=WP(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(ul(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&eq(`Error while retrieving App Check token: ${e.error}`),e?.token}}function pd(t){return Hs(t)}class tC{constructor(e){this.auth=e,this.observer=null,this.addObserver=jB(n=>this.observer=n)}get next(){return Cn(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Nv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Aq(t){Nv=t}function KP(t){return Nv.loadJS(t)}function Cq(){return Nv.recaptchaEnterpriseScript}function Nq(){return Nv.gapiScript}function Iq(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class kq{constructor(){this.enterprise=new Rq}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Rq{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Pq="recaptcha-enterprise",YP="NO_RECAPTCHA";class Dq{constructor(e){this.type=Pq,this.auth=pd(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,o)=>{uq(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const f=new cq(c);return s.tenantId==null?s._agentRecaptchaConfig=f:s._tenantRecaptchaConfigs[s.tenantId]=f,a(f.siteKey)}}).catch(c=>{o(c)})})}function i(s,a,o){const c=window.grecaptcha;X4(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(f=>{a(f)}).catch(()=>{a(YP)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new kq().execute("siteKey",{action:"verify"}):new Promise((s,a)=>{r(this.auth).then(o=>{if(!n&&X4(window.grecaptcha))i(o,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let c=Cq();c.length!==0&&(c+=o),KP(c).then(()=>{i(o,s,a)}).catch(f=>{a(f)})}}).catch(o=>{a(o)})})}}async function nC(t,e,n,r=!1,i=!1){const s=new Dq(t);let a;if(i)a=YP;else try{a=await s.verify(n)}catch{a=await s.verify(n,!0)}const o={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in o){const c=o.phoneEnrollmentInfo.phoneNumber,f=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:f,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const c=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return r?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function ob(t,e,n,r,i){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await nC(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await nC(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(s)})}function Mq(t,e){const n=z5(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Yh(s,e??{}))return i;Xl(i,"already-initialized")}return n.initialize({options:e})}function Lq(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(_u);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function Fq(t,e,n){const r=pd(t);Cn(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=XP(e),{host:a,port:o}=Oq(e),c=o===null?"":`:${o}`,f={url:`${s}//${a}${c}/`},h=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Cn(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Cn(Yh(f,r.config.emulator)&&Yh(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,Tp(a)?(_P(`${s}//${a}${c}`),wP("Auth",!0)):Vq()}function XP(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Oq(t){const e=XP(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:rC(r.substr(s.length+1))}}else{const[s,a]=r.split(":");return{host:s,port:rC(a)}}}function rC(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Vq(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class X5{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return vu("not implemented")}_getIdTokenResponse(e){return vu("not implemented")}_linkToIdToken(e,n){return vu("not implemented")}_getReauthenticationResolver(e){return vu("not implemented")}}async function Uq(t,e){return Zf(t,"POST","/v1/accounts:signUp",e)}async function Bq(t,e){return e1(t,"POST","/v1/accounts:signInWithPassword",Qf(t,e))}async function jq(t,e){return e1(t,"POST","/v1/accounts:signInWithEmailLink",Qf(t,e))}async function qq(t,e){return e1(t,"POST","/v1/accounts:signInWithEmailLink",Qf(t,e))}class _g extends X5{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new _g(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new _g(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ob(e,n,"signInWithPassword",Bq);case"emailLink":return jq(e,{email:this._email,oobCode:this._password});default:Xl(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ob(e,r,"signUpPassword",Uq);case"emailLink":return qq(e,{idToken:n,email:this._email,oobCode:this._password});default:Xl(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function j0(t,e){return e1(t,"POST","/v1/accounts:signInWithIdp",Qf(t,e))}const Hq="http://localhost";class Jh extends X5{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Jh(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Xl("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const a=new Jh(r,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return j0(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,j0(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,j0(e,n)}buildRequest(){const e={requestUri:Hq,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Qg(n)}return e}}function zq(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Gq(t){const e=Dm(Mm(t)).link,n=e?Dm(Mm(e)).deep_link_id:null,r=Dm(Mm(t)).deep_link_id;return(r?Dm(Mm(r)).link:null)||r||n||e||t}class J5{constructor(e){const n=Dm(Mm(e)),r=n.apiKey??null,i=n.oobCode??null,s=zq(n.mode??null);Cn(r&&i&&s,"argument-error"),this.apiKey=r,this.operation=s,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=Gq(e);try{return new J5(n)}catch{return null}}}class Sp{constructor(){this.providerId=Sp.PROVIDER_ID}static credential(e,n){return _g._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=J5.parseLink(n);return Cn(r,"argument-error"),_g._fromEmailAndCode(e,r.code,r.tenantId)}}Sp.PROVIDER_ID="password";Sp.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Sp.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class JP{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class t1 extends JP{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ef extends t1{constructor(){super("facebook.com")}static credential(e){return Jh._fromParams({providerId:Ef.PROVIDER_ID,signInMethod:Ef.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ef.credentialFromTaggedObject(e)}static credentialFromError(e){return Ef.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ef.credential(e.oauthAccessToken)}catch{return null}}}Ef.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ef.PROVIDER_ID="facebook.com";class Sf extends t1{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Jh._fromParams({providerId:Sf.PROVIDER_ID,signInMethod:Sf.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Sf.credentialFromTaggedObject(e)}static credentialFromError(e){return Sf.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Sf.credential(n,r)}catch{return null}}}Sf.GOOGLE_SIGN_IN_METHOD="google.com";Sf.PROVIDER_ID="google.com";class Af extends t1{constructor(){super("github.com")}static credential(e){return Jh._fromParams({providerId:Af.PROVIDER_ID,signInMethod:Af.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Af.credentialFromTaggedObject(e)}static credentialFromError(e){return Af.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Af.credential(e.oauthAccessToken)}catch{return null}}}Af.GITHUB_SIGN_IN_METHOD="github.com";Af.PROVIDER_ID="github.com";class Cf extends t1{constructor(){super("twitter.com")}static credential(e,n){return Jh._fromParams({providerId:Cf.PROVIDER_ID,signInMethod:Cf.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Cf.credentialFromTaggedObject(e)}static credentialFromError(e){return Cf.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Cf.credential(n,r)}catch{return null}}}Cf.TWITTER_SIGN_IN_METHOD="twitter.com";Cf.PROVIDER_ID="twitter.com";async function $q(t,e){return e1(t,"POST","/v1/accounts:signUp",Qf(t,e))}class Qh{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await $l._fromIdTokenResponse(e,r,i),a=iC(r);return new Qh({user:s,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=iC(r);return new Qh({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function iC(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class Ly extends Mu{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Ly.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Ly(e,n,r,i)}}function QP(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Ly._fromErrorAndOperation(t,s,e,r):s})}async function Wq(t,e,n=!1){const r=await vg(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Qh._forOperation(t,"link",r)}async function Kq(t,e,n=!1){const{auth:r}=t;if(ul(r.app))return Promise.reject(Tu(r));const i="reauthenticate";try{const s=await vg(t,QP(r,i,e,t),n);Cn(s.idToken,r,"internal-error");const a=K5(s.idToken);Cn(a,r,"internal-error");const{sub:o}=a;return Cn(t.uid===o,r,"user-mismatch"),Qh._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&Xl(r,"user-mismatch"),s}}async function ZP(t,e,n=!1){if(ul(t.app))return Promise.reject(Tu(t));const r="signIn",i=await QP(t,r,e),s=await Qh._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function Yq(t,e){return ZP(pd(t),e)}async function eD(t){const e=pd(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Xq(t,e,n){if(ul(t.app))return Promise.reject(Tu(t));const r=pd(t),a=await ob(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",$q).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&eD(t),c}),o=await Qh._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(o.user),o}function Jq(t,e,n){return ul(t.app)?Promise.reject(Tu(t)):Yq(Hs(t),Sp.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&eD(t),r})}function Qq(t,e,n,r){return Hs(t).onIdTokenChanged(e,n,r)}function Zq(t,e,n){return Hs(t).beforeAuthStateChanged(e,n)}function eH(t,e,n,r){return Hs(t).onAuthStateChanged(e,n,r)}function tH(t){return Hs(t).signOut()}const Fy="__sak";class tD{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Fy,"1"),this.storage.removeItem(Fy),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const nH=1e3,rH=10;class nD extends tD{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=$P(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,o,c)=>{this.notifyListeners(a,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);_q()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,rH):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},nH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}nD.type="LOCAL";const iH=nD;class rD extends tD{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}rD.type="SESSION";const iD=rD;function sH(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Iv{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Iv(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,a=this.handlersMap[i];if(!a?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const o=Array.from(a).map(async f=>f(n.origin,s)),c=await sH(o);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Iv.receivers=[];function Q5(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}class aH{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((o,c)=>{const f=Q5("",20);i.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(p){const g=p;if(g.data.eventId===f)switch(g.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),o(g.data.response);break;default:clearTimeout(h),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}function kc(){return window}function oH(t){kc().location.href=t}function sD(){return typeof kc().WorkerGlobalScope<"u"&&typeof kc().importScripts=="function"}async function lH(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function cH(){return navigator?.serviceWorker?.controller||null}function uH(){return sD()?self:null}const aD="firebaseLocalStorageDb",fH=1,Oy="firebaseLocalStorage",oD="fbase_key";class n1{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function kv(t,e){return t.transaction([Oy],e?"readwrite":"readonly").objectStore(Oy)}function hH(){const t=indexedDB.deleteDatabase(aD);return new n1(t).toPromise()}function lb(){const t=indexedDB.open(aD,fH);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Oy,{keyPath:oD})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Oy)?e(r):(r.close(),await hH(),e(await lb()))})})}async function sC(t,e,n){const r=kv(t,!0).put({[oD]:e,value:n});return new n1(r).toPromise()}async function dH(t,e){const n=kv(t,!1).get(e),r=await new n1(n).toPromise();return r===void 0?null:r.value}function aC(t,e){const n=kv(t,!0).delete(e);return new n1(n).toPromise()}const pH=800,mH=3;class lD{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await lb(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>mH)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return sD()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Iv._getInstance(uH()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await lH(),!this.activeServiceWorker)return;this.sender=new aH(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||cH()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await lb();return await sC(e,Fy,"1"),await aC(e,Fy),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>sC(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>dH(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>aC(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=kv(i,!1).getAll();return new n1(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),pH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}lD.type="LOCAL";const gH=lD;new Zg(3e4,6e4);function xH(t,e){return e?_u(e):(Cn(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class Z5 extends X5{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return j0(e,this._buildIdpRequest())}_linkToIdToken(e,n){return j0(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return j0(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function yH(t){return ZP(t.auth,new Z5(t),t.bypassAuthState)}function vH(t){const{auth:e,user:n}=t;return Cn(n,e,"internal-error"),Kq(n,new Z5(t),t.bypassAuthState)}async function _H(t){const{auth:e,user:n}=t;return Cn(n,e,"internal-error"),Wq(n,new Z5(t),t.bypassAuthState)}class cD{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:a,type:o}=e;if(a){this.reject(a);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(c))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return yH;case"linkViaPopup":case"linkViaRedirect":return _H;case"reauthViaPopup":case"reauthViaRedirect":return vH;default:Xl(this.auth,"internal-error")}}resolve(e){Nu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Nu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const wH=new Zg(2e3,1e4);class A0 extends cD{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,A0.currentPopupAction&&A0.currentPopupAction.cancel(),A0.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Cn(e,this.auth,"internal-error"),e}async onExecution(){Nu(this.filter.length===1,"Popup operations only handle one event");const e=Q5();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ic(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ic(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,A0.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ic(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,wH.get())};e()}}A0.currentPopupAction=null;const bH="pendingRedirect",Jx=new Map;class TH extends cD{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Jx.get(this.auth._key());if(!e){try{const r=await EH(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Jx.set(this.auth._key(),e)}return this.bypassAuthState||Jx.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function EH(t,e){const n=CH(e),r=AH(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function SH(t,e){Jx.set(t._key(),e)}function AH(t){return _u(t._redirectPersistence)}function CH(t){return Xx(bH,t.config.apiKey,t.name)}async function NH(t,e,n=!1){if(ul(t.app))return Promise.reject(Tu(t));const r=pd(t),i=xH(r,e),a=await new TH(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}const IH=600*1e3;class kH{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!RH(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!uD(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Ic(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=IH&&this.cachedEventUids.clear(),this.cachedEventUids.has(oC(e))}saveEventToCache(e){this.cachedEventUids.add(oC(e)),this.lastProcessedEventTime=Date.now()}}function oC(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function uD({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function RH(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return uD(t);default:return!1}}async function PH(t,e={}){return Zf(t,"GET","/v1/projects",e)}const DH=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,MH=/^https?/;async function LH(t){if(t.config.emulator)return;const{authorizedDomains:e}=await PH(t);for(const n of e)try{if(FH(n))return}catch{}Xl(t,"unauthorized-domain")}function FH(t){const e=sb(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!MH.test(n))return!1;if(DH.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const OH=new Zg(3e4,6e4);function lC(){const t=kc().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function VH(t){return new Promise((e,n)=>{function r(){lC(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{lC(),n(Ic(t,"network-request-failed"))},timeout:OH.get()})}if(kc().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(kc().gapi?.load)r();else{const i=Iq("iframefcb");return kc()[i]=()=>{gapi.load?r():n(Ic(t,"network-request-failed"))},KP(`${Nq()}?onload=${i}`).catch(s=>n(s))}}).catch(e=>{throw Qx=null,e})}let Qx=null;function UH(t){return Qx=Qx||VH(t),Qx}const BH=new Zg(5e3,15e3),jH="__/auth/iframe",qH="emulator/auth/iframe",HH={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},zH=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function GH(t){const e=t.config;Cn(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?W5(e,qH):`https://${t.config.authDomain}/${jH}`,r={apiKey:e.apiKey,appName:t.name,v:Ep},i=zH.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Qg(r).slice(1)}`}async function $H(t){const e=await UH(t),n=kc().gapi;return Cn(n,t,"internal-error"),e.open({where:document.body,url:GH(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:HH,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const a=Ic(t,"network-request-failed"),o=kc().setTimeout(()=>{s(a)},BH.get());function c(){kc().clearTimeout(o),i(r)}r.ping(c).then(c,()=>{s(a)})}))}const WH={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},KH=500,YH=600,XH="_blank",JH="http://localhost";class cC{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function QH(t,e,n,r=KH,i=YH){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const c={...WH,width:r.toString(),height:i.toString(),top:s,left:a},f=As().toLowerCase();n&&(o=jP(f)?XH:n),UP(f)&&(e=e||JH,c.scrollbars="yes");const h=Object.entries(c).reduce((g,[x,T])=>`${g}${x}=${T},`,"");if(vq(f)&&o!=="_self")return ZH(e||"",o),new cC(null);const p=window.open(e||"",o,h);Cn(p,t,"popup-blocked");try{p.focus()}catch{}return new cC(p)}function ZH(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const ez="__/auth/handler",tz="emulator/auth/handler",nz=encodeURIComponent("fac");async function uC(t,e,n,r,i,s){Cn(t.config.authDomain,t,"auth-domain-config-required"),Cn(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ep,eventId:i};if(e instanceof JP){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",BB(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,p]of Object.entries({}))a[h]=p}if(e instanceof t1){const h=e.getScopes().filter(p=>p!=="");h.length>0&&(a.scopes=h.join(","))}t.tenantId&&(a.tid=t.tenantId);const o=a;for(const h of Object.keys(o))o[h]===void 0&&delete o[h];const c=await t._getAppCheckToken(),f=c?`#${nz}=${encodeURIComponent(c)}`:"";return`${rz(t)}?${Qg(o).slice(1)}${f}`}function rz({config:t}){return t.emulator?W5(t,tz):`https://${t.authDomain}/${ez}`}const H_="webStorageSupport";class iz{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=iD,this._completeRedirectFn=NH,this._overrideRedirectResult=SH}async _openPopup(e,n,r,i){Nu(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const s=await uC(e,n,r,sb(),i);return QH(e,s,Q5())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await uC(e,n,r,sb(),i);return oH(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Nu(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await $H(e),r=new kH(e);return n.register("authEvent",i=>(Cn(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(H_,{type:H_},i=>{const s=i?.[0]?.[H_];s!==void 0&&n(!!s),Xl(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=LH(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return $P()||BP()||Y5()}}const sz=iz;var fC="@firebase/auth",hC="1.11.1";class az{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Cn(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function oz(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function lz(t){np(new Xh("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;Cn(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:a,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:WP(t)},f=new Sq(r,i,s,c);return Lq(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),np(new Xh("auth-internal",e=>{const n=pd(e.getProvider("auth").getImmediate());return(r=>new az(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Of(fC,hC,oz(t)),Of(fC,hC,"esm2020")}const cz=300,uz=vP("authIdTokenMaxAge")||cz;let dC=null;const fz=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>uz)return;const i=n?.token;dC!==i&&(dC=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function hz(t=G5()){const e=z5(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Mq(t,{popupRedirectResolver:sz,persistence:[gH,iH,iD]}),r=vP("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const a=fz(s.toString());Zq(n,a,()=>a(n.currentUser)),Qq(n,o=>a(o))}}const i=xP("auth");return i&&Fq(n,`http://${i}`),n}function dz(){return document.getElementsByTagName("head")?.[0]??document}Aq({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Ic("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",dz().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});lz("Browser");var pz="firebase",mz="12.6.0";Of(pz,mz,"app");var pC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Vf,fD;(function(){var t;function e(F,O){function C(){}C.prototype=O.prototype,F.F=O.prototype,F.prototype=new C,F.prototype.constructor=F,F.D=function(H,P,L){for(var V=Array(arguments.length-2),me=2;me<arguments.length;me++)V[me-2]=arguments[me];return O.prototype[P].apply(H,V)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(F,O,C){C||(C=0);const H=Array(16);if(typeof O=="string")for(var P=0;P<16;++P)H[P]=O.charCodeAt(C++)|O.charCodeAt(C++)<<8|O.charCodeAt(C++)<<16|O.charCodeAt(C++)<<24;else for(P=0;P<16;++P)H[P]=O[C++]|O[C++]<<8|O[C++]<<16|O[C++]<<24;O=F.g[0],C=F.g[1],P=F.g[2];let L=F.g[3],V;V=O+(L^C&(P^L))+H[0]+3614090360&4294967295,O=C+(V<<7&4294967295|V>>>25),V=L+(P^O&(C^P))+H[1]+3905402710&4294967295,L=O+(V<<12&4294967295|V>>>20),V=P+(C^L&(O^C))+H[2]+606105819&4294967295,P=L+(V<<17&4294967295|V>>>15),V=C+(O^P&(L^O))+H[3]+3250441966&4294967295,C=P+(V<<22&4294967295|V>>>10),V=O+(L^C&(P^L))+H[4]+4118548399&4294967295,O=C+(V<<7&4294967295|V>>>25),V=L+(P^O&(C^P))+H[5]+1200080426&4294967295,L=O+(V<<12&4294967295|V>>>20),V=P+(C^L&(O^C))+H[6]+2821735955&4294967295,P=L+(V<<17&4294967295|V>>>15),V=C+(O^P&(L^O))+H[7]+4249261313&4294967295,C=P+(V<<22&4294967295|V>>>10),V=O+(L^C&(P^L))+H[8]+1770035416&4294967295,O=C+(V<<7&4294967295|V>>>25),V=L+(P^O&(C^P))+H[9]+2336552879&4294967295,L=O+(V<<12&4294967295|V>>>20),V=P+(C^L&(O^C))+H[10]+4294925233&4294967295,P=L+(V<<17&4294967295|V>>>15),V=C+(O^P&(L^O))+H[11]+2304563134&4294967295,C=P+(V<<22&4294967295|V>>>10),V=O+(L^C&(P^L))+H[12]+1804603682&4294967295,O=C+(V<<7&4294967295|V>>>25),V=L+(P^O&(C^P))+H[13]+4254626195&4294967295,L=O+(V<<12&4294967295|V>>>20),V=P+(C^L&(O^C))+H[14]+2792965006&4294967295,P=L+(V<<17&4294967295|V>>>15),V=C+(O^P&(L^O))+H[15]+1236535329&4294967295,C=P+(V<<22&4294967295|V>>>10),V=O+(P^L&(C^P))+H[1]+4129170786&4294967295,O=C+(V<<5&4294967295|V>>>27),V=L+(C^P&(O^C))+H[6]+3225465664&4294967295,L=O+(V<<9&4294967295|V>>>23),V=P+(O^C&(L^O))+H[11]+643717713&4294967295,P=L+(V<<14&4294967295|V>>>18),V=C+(L^O&(P^L))+H[0]+3921069994&4294967295,C=P+(V<<20&4294967295|V>>>12),V=O+(P^L&(C^P))+H[5]+3593408605&4294967295,O=C+(V<<5&4294967295|V>>>27),V=L+(C^P&(O^C))+H[10]+38016083&4294967295,L=O+(V<<9&4294967295|V>>>23),V=P+(O^C&(L^O))+H[15]+3634488961&4294967295,P=L+(V<<14&4294967295|V>>>18),V=C+(L^O&(P^L))+H[4]+3889429448&4294967295,C=P+(V<<20&4294967295|V>>>12),V=O+(P^L&(C^P))+H[9]+568446438&4294967295,O=C+(V<<5&4294967295|V>>>27),V=L+(C^P&(O^C))+H[14]+3275163606&4294967295,L=O+(V<<9&4294967295|V>>>23),V=P+(O^C&(L^O))+H[3]+4107603335&4294967295,P=L+(V<<14&4294967295|V>>>18),V=C+(L^O&(P^L))+H[8]+1163531501&4294967295,C=P+(V<<20&4294967295|V>>>12),V=O+(P^L&(C^P))+H[13]+2850285829&4294967295,O=C+(V<<5&4294967295|V>>>27),V=L+(C^P&(O^C))+H[2]+4243563512&4294967295,L=O+(V<<9&4294967295|V>>>23),V=P+(O^C&(L^O))+H[7]+1735328473&4294967295,P=L+(V<<14&4294967295|V>>>18),V=C+(L^O&(P^L))+H[12]+2368359562&4294967295,C=P+(V<<20&4294967295|V>>>12),V=O+(C^P^L)+H[5]+4294588738&4294967295,O=C+(V<<4&4294967295|V>>>28),V=L+(O^C^P)+H[8]+2272392833&4294967295,L=O+(V<<11&4294967295|V>>>21),V=P+(L^O^C)+H[11]+1839030562&4294967295,P=L+(V<<16&4294967295|V>>>16),V=C+(P^L^O)+H[14]+4259657740&4294967295,C=P+(V<<23&4294967295|V>>>9),V=O+(C^P^L)+H[1]+2763975236&4294967295,O=C+(V<<4&4294967295|V>>>28),V=L+(O^C^P)+H[4]+1272893353&4294967295,L=O+(V<<11&4294967295|V>>>21),V=P+(L^O^C)+H[7]+4139469664&4294967295,P=L+(V<<16&4294967295|V>>>16),V=C+(P^L^O)+H[10]+3200236656&4294967295,C=P+(V<<23&4294967295|V>>>9),V=O+(C^P^L)+H[13]+681279174&4294967295,O=C+(V<<4&4294967295|V>>>28),V=L+(O^C^P)+H[0]+3936430074&4294967295,L=O+(V<<11&4294967295|V>>>21),V=P+(L^O^C)+H[3]+3572445317&4294967295,P=L+(V<<16&4294967295|V>>>16),V=C+(P^L^O)+H[6]+76029189&4294967295,C=P+(V<<23&4294967295|V>>>9),V=O+(C^P^L)+H[9]+3654602809&4294967295,O=C+(V<<4&4294967295|V>>>28),V=L+(O^C^P)+H[12]+3873151461&4294967295,L=O+(V<<11&4294967295|V>>>21),V=P+(L^O^C)+H[15]+530742520&4294967295,P=L+(V<<16&4294967295|V>>>16),V=C+(P^L^O)+H[2]+3299628645&4294967295,C=P+(V<<23&4294967295|V>>>9),V=O+(P^(C|~L))+H[0]+4096336452&4294967295,O=C+(V<<6&4294967295|V>>>26),V=L+(C^(O|~P))+H[7]+1126891415&4294967295,L=O+(V<<10&4294967295|V>>>22),V=P+(O^(L|~C))+H[14]+2878612391&4294967295,P=L+(V<<15&4294967295|V>>>17),V=C+(L^(P|~O))+H[5]+4237533241&4294967295,C=P+(V<<21&4294967295|V>>>11),V=O+(P^(C|~L))+H[12]+1700485571&4294967295,O=C+(V<<6&4294967295|V>>>26),V=L+(C^(O|~P))+H[3]+2399980690&4294967295,L=O+(V<<10&4294967295|V>>>22),V=P+(O^(L|~C))+H[10]+4293915773&4294967295,P=L+(V<<15&4294967295|V>>>17),V=C+(L^(P|~O))+H[1]+2240044497&4294967295,C=P+(V<<21&4294967295|V>>>11),V=O+(P^(C|~L))+H[8]+1873313359&4294967295,O=C+(V<<6&4294967295|V>>>26),V=L+(C^(O|~P))+H[15]+4264355552&4294967295,L=O+(V<<10&4294967295|V>>>22),V=P+(O^(L|~C))+H[6]+2734768916&4294967295,P=L+(V<<15&4294967295|V>>>17),V=C+(L^(P|~O))+H[13]+1309151649&4294967295,C=P+(V<<21&4294967295|V>>>11),V=O+(P^(C|~L))+H[4]+4149444226&4294967295,O=C+(V<<6&4294967295|V>>>26),V=L+(C^(O|~P))+H[11]+3174756917&4294967295,L=O+(V<<10&4294967295|V>>>22),V=P+(O^(L|~C))+H[2]+718787259&4294967295,P=L+(V<<15&4294967295|V>>>17),V=C+(L^(P|~O))+H[9]+3951481745&4294967295,F.g[0]=F.g[0]+O&4294967295,F.g[1]=F.g[1]+(P+(V<<21&4294967295|V>>>11))&4294967295,F.g[2]=F.g[2]+P&4294967295,F.g[3]=F.g[3]+L&4294967295}r.prototype.v=function(F,O){O===void 0&&(O=F.length);const C=O-this.blockSize,H=this.C;let P=this.h,L=0;for(;L<O;){if(P==0)for(;L<=C;)i(this,F,L),L+=this.blockSize;if(typeof F=="string"){for(;L<O;)if(H[P++]=F.charCodeAt(L++),P==this.blockSize){i(this,H),P=0;break}}else for(;L<O;)if(H[P++]=F[L++],P==this.blockSize){i(this,H),P=0;break}}this.h=P,this.o+=O},r.prototype.A=function(){var F=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);F[0]=128;for(var O=1;O<F.length-8;++O)F[O]=0;O=this.o*8;for(var C=F.length-8;C<F.length;++C)F[C]=O&255,O/=256;for(this.v(F),F=Array(16),O=0,C=0;C<4;++C)for(let H=0;H<32;H+=8)F[O++]=this.g[C]>>>H&255;return F};function s(F,O){var C=o;return Object.prototype.hasOwnProperty.call(C,F)?C[F]:C[F]=O(F)}function a(F,O){this.h=O;const C=[];let H=!0;for(let P=F.length-1;P>=0;P--){const L=F[P]|0;H&&L==O||(C[P]=L,H=!1)}this.g=C}var o={};function c(F){return-128<=F&&F<128?s(F,function(O){return new a([O|0],O<0?-1:0)}):new a([F|0],F<0?-1:0)}function f(F){if(isNaN(F)||!isFinite(F))return p;if(F<0)return N(f(-F));const O=[];let C=1;for(let H=0;F>=C;H++)O[H]=F/C|0,C*=4294967296;return new a(O,0)}function h(F,O){if(F.length==0)throw Error("number format error: empty string");if(O=O||10,O<2||36<O)throw Error("radix out of range: "+O);if(F.charAt(0)=="-")return N(h(F.substring(1),O));if(F.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=f(Math.pow(O,8));let H=p;for(let L=0;L<F.length;L+=8){var P=Math.min(8,F.length-L);const V=parseInt(F.substring(L,L+P),O);P<8?(P=f(Math.pow(O,P)),H=H.j(P).add(f(V))):(H=H.j(C),H=H.add(f(V)))}return H}var p=c(0),g=c(1),x=c(16777216);t=a.prototype,t.m=function(){if(S(this))return-N(this).m();let F=0,O=1;for(let C=0;C<this.g.length;C++){const H=this.i(C);F+=(H>=0?H:4294967296+H)*O,O*=4294967296}return F},t.toString=function(F){if(F=F||10,F<2||36<F)throw Error("radix out of range: "+F);if(T(this))return"0";if(S(this))return"-"+N(this).toString(F);const O=f(Math.pow(F,6));var C=this;let H="";for(;;){const P=q(C,O).g;C=k(C,P.j(O));let L=((C.g.length>0?C.g[0]:C.h)>>>0).toString(F);if(C=P,T(C))return L+H;for(;L.length<6;)L="0"+L;H=L+H}},t.i=function(F){return F<0?0:F<this.g.length?this.g[F]:this.h};function T(F){if(F.h!=0)return!1;for(let O=0;O<F.g.length;O++)if(F.g[O]!=0)return!1;return!0}function S(F){return F.h==-1}t.l=function(F){return F=k(this,F),S(F)?-1:T(F)?0:1};function N(F){const O=F.g.length,C=[];for(let H=0;H<O;H++)C[H]=~F.g[H];return new a(C,~F.h).add(g)}t.abs=function(){return S(this)?N(this):this},t.add=function(F){const O=Math.max(this.g.length,F.g.length),C=[];let H=0;for(let P=0;P<=O;P++){let L=H+(this.i(P)&65535)+(F.i(P)&65535),V=(L>>>16)+(this.i(P)>>>16)+(F.i(P)>>>16);H=V>>>16,L&=65535,V&=65535,C[P]=V<<16|L}return new a(C,C[C.length-1]&-2147483648?-1:0)};function k(F,O){return F.add(N(O))}t.j=function(F){if(T(this)||T(F))return p;if(S(this))return S(F)?N(this).j(N(F)):N(N(this).j(F));if(S(F))return N(this.j(N(F)));if(this.l(x)<0&&F.l(x)<0)return f(this.m()*F.m());const O=this.g.length+F.g.length,C=[];for(var H=0;H<2*O;H++)C[H]=0;for(H=0;H<this.g.length;H++)for(let P=0;P<F.g.length;P++){const L=this.i(H)>>>16,V=this.i(H)&65535,me=F.i(P)>>>16,Ne=F.i(P)&65535;C[2*H+2*P]+=V*Ne,B(C,2*H+2*P),C[2*H+2*P+1]+=L*Ne,B(C,2*H+2*P+1),C[2*H+2*P+1]+=V*me,B(C,2*H+2*P+1),C[2*H+2*P+2]+=L*me,B(C,2*H+2*P+2)}for(F=0;F<O;F++)C[F]=C[2*F+1]<<16|C[2*F];for(F=O;F<2*O;F++)C[F]=0;return new a(C,0)};function B(F,O){for(;(F[O]&65535)!=F[O];)F[O+1]+=F[O]>>>16,F[O]&=65535,O++}function R(F,O){this.g=F,this.h=O}function q(F,O){if(T(O))throw Error("division by zero");if(T(F))return new R(p,p);if(S(F))return O=q(N(F),O),new R(N(O.g),N(O.h));if(S(O))return O=q(F,N(O)),new R(N(O.g),O.h);if(F.g.length>30){if(S(F)||S(O))throw Error("slowDivide_ only works with positive integers.");for(var C=g,H=O;H.l(F)<=0;)C=Y(C),H=Y(H);var P=J(C,1),L=J(H,1);for(H=J(H,2),C=J(C,2);!T(H);){var V=L.add(H);V.l(F)<=0&&(P=P.add(C),L=V),H=J(H,1),C=J(C,1)}return O=k(F,P.j(O)),new R(P,O)}for(P=p;F.l(O)>=0;){for(C=Math.max(1,Math.floor(F.m()/O.m())),H=Math.ceil(Math.log(C)/Math.LN2),H=H<=48?1:Math.pow(2,H-48),L=f(C),V=L.j(O);S(V)||V.l(F)>0;)C-=H,L=f(C),V=L.j(O);T(L)&&(L=g),P=P.add(L),F=k(F,V)}return new R(P,F)}t.B=function(F){return q(this,F).h},t.and=function(F){const O=Math.max(this.g.length,F.g.length),C=[];for(let H=0;H<O;H++)C[H]=this.i(H)&F.i(H);return new a(C,this.h&F.h)},t.or=function(F){const O=Math.max(this.g.length,F.g.length),C=[];for(let H=0;H<O;H++)C[H]=this.i(H)|F.i(H);return new a(C,this.h|F.h)},t.xor=function(F){const O=Math.max(this.g.length,F.g.length),C=[];for(let H=0;H<O;H++)C[H]=this.i(H)^F.i(H);return new a(C,this.h^F.h)};function Y(F){const O=F.g.length+1,C=[];for(let H=0;H<O;H++)C[H]=F.i(H)<<1|F.i(H-1)>>>31;return new a(C,F.h)}function J(F,O){const C=O>>5;O%=32;const H=F.g.length-C,P=[];for(let L=0;L<H;L++)P[L]=O>0?F.i(L+C)>>>O|F.i(L+C+1)<<32-O:F.i(L+C);return new a(P,F.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,fD=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.B,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=f,a.fromString=h,Vf=a}).apply(typeof pC<"u"?pC:typeof self<"u"?self:typeof window<"u"?window:{});var xx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var hD,Lm,dD,Zx,cb,pD,mD,gD;(function(){var t,e=Object.defineProperty;function n(w){w=[typeof globalThis=="object"&&globalThis,w,typeof window=="object"&&window,typeof self=="object"&&self,typeof xx=="object"&&xx];for(var j=0;j<w.length;++j){var X=w[j];if(X&&X.Math==Math)return X}throw Error("Cannot find global object")}var r=n(this);function i(w,j){if(j)e:{var X=r;w=w.split(".");for(var pe=0;pe<w.length-1;pe++){var je=w[pe];if(!(je in X))break e;X=X[je]}w=w[w.length-1],pe=X[w],j=j(pe),j!=pe&&j!=null&&e(X,w,{configurable:!0,writable:!0,value:j})}}i("Symbol.dispose",function(w){return w||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(w){return w||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(w){return w||function(j){var X=[],pe;for(pe in j)Object.prototype.hasOwnProperty.call(j,pe)&&X.push([pe,j[pe]]);return X}});var s=s||{},a=this||self;function o(w){var j=typeof w;return j=="object"&&w!=null||j=="function"}function c(w,j,X){return w.call.apply(w.bind,arguments)}function f(w,j,X){return f=c,f.apply(null,arguments)}function h(w,j){var X=Array.prototype.slice.call(arguments,1);return function(){var pe=X.slice();return pe.push.apply(pe,arguments),w.apply(this,pe)}}function p(w,j){function X(){}X.prototype=j.prototype,w.Z=j.prototype,w.prototype=new X,w.prototype.constructor=w,w.Ob=function(pe,je,Qe){for(var Et=Array(arguments.length-2),Nn=2;Nn<arguments.length;Nn++)Et[Nn-2]=arguments[Nn];return j.prototype[je].apply(pe,Et)}}var g=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?w=>w&&AsyncContext.Snapshot.wrap(w):w=>w;function x(w){const j=w.length;if(j>0){const X=Array(j);for(let pe=0;pe<j;pe++)X[pe]=w[pe];return X}return[]}function T(w,j){for(let pe=1;pe<arguments.length;pe++){const je=arguments[pe];var X=typeof je;if(X=X!="object"?X:je?Array.isArray(je)?"array":X:"null",X=="array"||X=="object"&&typeof je.length=="number"){X=w.length||0;const Qe=je.length||0;w.length=X+Qe;for(let Et=0;Et<Qe;Et++)w[X+Et]=je[Et]}else w.push(je)}}class S{constructor(j,X){this.i=j,this.j=X,this.h=0,this.g=null}get(){let j;return this.h>0?(this.h--,j=this.g,this.g=j.next,j.next=null):j=this.i(),j}}function N(w){a.setTimeout(()=>{throw w},0)}function k(){var w=F;let j=null;return w.g&&(j=w.g,w.g=w.g.next,w.g||(w.h=null),j.next=null),j}class B{constructor(){this.h=this.g=null}add(j,X){const pe=R.get();pe.set(j,X),this.h?this.h.next=pe:this.g=pe,this.h=pe}}var R=new S(()=>new q,w=>w.reset());class q{constructor(){this.next=this.g=this.h=null}set(j,X){this.h=j,this.g=X,this.next=null}reset(){this.next=this.g=this.h=null}}let Y,J=!1,F=new B,O=()=>{const w=Promise.resolve(void 0);Y=()=>{w.then(C)}};function C(){for(var w;w=k();){try{w.h.call(w.g)}catch(X){N(X)}var j=R;j.j(w),j.h<100&&(j.h++,w.next=j.g,j.g=w)}J=!1}function H(){this.u=this.u,this.C=this.C}H.prototype.u=!1,H.prototype.dispose=function(){this.u||(this.u=!0,this.N())},H.prototype[Symbol.dispose]=function(){this.dispose()},H.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function P(w,j){this.type=w,this.g=this.target=j,this.defaultPrevented=!1}P.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!a.addEventListener||!Object.defineProperty)return!1;var w=!1,j=Object.defineProperty({},"passive",{get:function(){w=!0}});try{const X=()=>{};a.addEventListener("test",X,j),a.removeEventListener("test",X,j)}catch{}return w})();function V(w){return/^[\s\xa0]*$/.test(w)}function me(w,j){P.call(this,w?w.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,w&&this.init(w,j)}p(me,P),me.prototype.init=function(w,j){const X=this.type=w.type,pe=w.changedTouches&&w.changedTouches.length?w.changedTouches[0]:null;this.target=w.target||w.srcElement,this.g=j,j=w.relatedTarget,j||(X=="mouseover"?j=w.fromElement:X=="mouseout"&&(j=w.toElement)),this.relatedTarget=j,pe?(this.clientX=pe.clientX!==void 0?pe.clientX:pe.pageX,this.clientY=pe.clientY!==void 0?pe.clientY:pe.pageY,this.screenX=pe.screenX||0,this.screenY=pe.screenY||0):(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0),this.button=w.button,this.key=w.key||"",this.ctrlKey=w.ctrlKey,this.altKey=w.altKey,this.shiftKey=w.shiftKey,this.metaKey=w.metaKey,this.pointerId=w.pointerId||0,this.pointerType=w.pointerType,this.state=w.state,this.i=w,w.defaultPrevented&&me.Z.h.call(this)},me.prototype.h=function(){me.Z.h.call(this);const w=this.i;w.preventDefault?w.preventDefault():w.returnValue=!1};var Ne="closure_listenable_"+(Math.random()*1e6|0),se=0;function xe(w,j,X,pe,je){this.listener=w,this.proxy=null,this.src=j,this.type=X,this.capture=!!pe,this.ha=je,this.key=++se,this.da=this.fa=!1}function he(w){w.da=!0,w.listener=null,w.proxy=null,w.src=null,w.ha=null}function ue(w,j,X){for(const pe in w)j.call(X,w[pe],pe,w)}function Le(w,j){for(const X in w)j.call(void 0,w[X],X,w)}function ne(w){const j={};for(const X in w)j[X]=w[X];return j}const M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function W(w,j){let X,pe;for(let je=1;je<arguments.length;je++){pe=arguments[je];for(X in pe)w[X]=pe[X];for(let Qe=0;Qe<M.length;Qe++)X=M[Qe],Object.prototype.hasOwnProperty.call(pe,X)&&(w[X]=pe[X])}}function K(w){this.src=w,this.g={},this.h=0}K.prototype.add=function(w,j,X,pe,je){const Qe=w.toString();w=this.g[Qe],w||(w=this.g[Qe]=[],this.h++);const Et=ce(w,j,pe,je);return Et>-1?(j=w[Et],X||(j.fa=!1)):(j=new xe(j,this.src,Qe,!!pe,je),j.fa=X,w.push(j)),j};function Q(w,j){const X=j.type;if(X in w.g){var pe=w.g[X],je=Array.prototype.indexOf.call(pe,j,void 0),Qe;(Qe=je>=0)&&Array.prototype.splice.call(pe,je,1),Qe&&(he(j),w.g[X].length==0&&(delete w.g[X],w.h--))}}function ce(w,j,X,pe){for(let je=0;je<w.length;++je){const Qe=w[je];if(!Qe.da&&Qe.listener==j&&Qe.capture==!!X&&Qe.ha==pe)return je}return-1}var we="closure_lm_"+(Math.random()*1e6|0),ke={};function fe(w,j,X,pe,je){if(Array.isArray(j)){for(let Qe=0;Qe<j.length;Qe++)fe(w,j[Qe],X,pe,je);return null}return X=kt(X),w&&w[Ne]?w.J(j,X,o(pe)?!!pe.capture:!1,je):Ae(w,j,X,!1,pe,je)}function Ae(w,j,X,pe,je,Qe){if(!j)throw Error("Invalid event type");const Et=o(je)?!!je.capture:!!je;let Nn=lt(w);if(Nn||(w[we]=Nn=new K(w)),X=Nn.add(j,X,pe,Et,Qe),X.proxy)return X;if(pe=Ue(),X.proxy=pe,pe.src=w,pe.listener=X,w.addEventListener)L||(je=Et),je===void 0&&(je=!1),w.addEventListener(j.toString(),pe,je);else if(w.attachEvent)w.attachEvent(dt(j.toString()),pe);else if(w.addListener&&w.removeListener)w.addListener(pe);else throw Error("addEventListener and attachEvent are unavailable.");return X}function Ue(){function w(X){return j.call(w.src,w.listener,X)}const j=re;return w}function ae(w,j,X,pe,je){if(Array.isArray(j))for(var Qe=0;Qe<j.length;Qe++)ae(w,j[Qe],X,pe,je);else pe=o(pe)?!!pe.capture:!!pe,X=kt(X),w&&w[Ne]?(w=w.i,Qe=String(j).toString(),Qe in w.g&&(j=w.g[Qe],X=ce(j,X,pe,je),X>-1&&(he(j[X]),Array.prototype.splice.call(j,X,1),j.length==0&&(delete w.g[Qe],w.h--)))):w&&(w=lt(w))&&(j=w.g[j.toString()],w=-1,j&&(w=ce(j,X,pe,je)),(X=w>-1?j[w]:null)&&it(X))}function it(w){if(typeof w!="number"&&w&&!w.da){var j=w.src;if(j&&j[Ne])Q(j.i,w);else{var X=w.type,pe=w.proxy;j.removeEventListener?j.removeEventListener(X,pe,w.capture):j.detachEvent?j.detachEvent(dt(X),pe):j.addListener&&j.removeListener&&j.removeListener(pe),(X=lt(j))?(Q(X,w),X.h==0&&(X.src=null,j[we]=null)):he(w)}}}function dt(w){return w in ke?ke[w]:ke[w]="on"+w}function re(w,j){if(w.da)w=!0;else{j=new me(j,this);const X=w.listener,pe=w.ha||w.src;w.fa&&it(w),w=X.call(pe,j)}return w}function lt(w){return w=w[we],w instanceof K?w:null}var ft="__closure_events_fn_"+(Math.random()*1e9>>>0);function kt(w){return typeof w=="function"?w:(w[ft]||(w[ft]=function(j){return w.handleEvent(j)}),w[ft])}function rt(){H.call(this),this.i=new K(this),this.M=this,this.G=null}p(rt,H),rt.prototype[Ne]=!0,rt.prototype.removeEventListener=function(w,j,X,pe){ae(this,w,j,X,pe)};function St(w,j){var X,pe=w.G;if(pe)for(X=[];pe;pe=pe.G)X.push(pe);if(w=w.M,pe=j.type||j,typeof j=="string")j=new P(j,w);else if(j instanceof P)j.target=j.target||w;else{var je=j;j=new P(pe,w),W(j,je)}je=!0;let Qe,Et;if(X)for(Et=X.length-1;Et>=0;Et--)Qe=j.g=X[Et],je=Nt(Qe,pe,!0,j)&&je;if(Qe=j.g=w,je=Nt(Qe,pe,!0,j)&&je,je=Nt(Qe,pe,!1,j)&&je,X)for(Et=0;Et<X.length;Et++)Qe=j.g=X[Et],je=Nt(Qe,pe,!1,j)&&je}rt.prototype.N=function(){if(rt.Z.N.call(this),this.i){var w=this.i;for(const j in w.g){const X=w.g[j];for(let pe=0;pe<X.length;pe++)he(X[pe]);delete w.g[j],w.h--}}this.G=null},rt.prototype.J=function(w,j,X,pe){return this.i.add(String(w),j,!1,X,pe)},rt.prototype.K=function(w,j,X,pe){return this.i.add(String(w),j,!0,X,pe)};function Nt(w,j,X,pe){if(j=w.i.g[String(j)],!j)return!0;j=j.concat();let je=!0;for(let Qe=0;Qe<j.length;++Qe){const Et=j[Qe];if(Et&&!Et.da&&Et.capture==X){const Nn=Et.listener,jr=Et.ha||Et.src;Et.fa&&Q(w.i,Et),je=Nn.call(jr,pe)!==!1&&je}}return je&&!pe.defaultPrevented}function Jt(w,j){if(typeof w!="function")if(w&&typeof w.handleEvent=="function")w=f(w.handleEvent,w);else throw Error("Invalid listener argument");return Number(j)>2147483647?-1:a.setTimeout(w,j||0)}function qt(w){w.g=Jt(()=>{w.g=null,w.i&&(w.i=!1,qt(w))},w.l);const j=w.h;w.h=null,w.m.apply(null,j)}class sn extends H{constructor(j,X){super(),this.m=j,this.l=X,this.h=null,this.i=!1,this.g=null}j(j){this.h=arguments,this.g?this.i=!0:qt(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function mn(w){H.call(this),this.h=w,this.g={}}p(mn,H);var ln=[];function En(w){ue(w.g,function(j,X){this.g.hasOwnProperty(X)&&it(j)},w),w.g={}}mn.prototype.N=function(){mn.Z.N.call(this),En(this)},mn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var an=a.JSON.stringify,Ft=a.JSON.parse,At=class{stringify(w){return a.JSON.stringify(w,void 0)}parse(w){return a.JSON.parse(w,void 0)}};function Rt(){}function qn(){}var $t={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Yt(){P.call(this,"d")}p(Yt,P);function hn(){P.call(this,"c")}p(hn,P);var An={},Oe=null;function Lt(){return Oe=Oe||new rt}An.Ia="serverreachability";function Pt(w){P.call(this,An.Ia,w)}p(Pt,P);function Bt(w){const j=Lt();St(j,new Pt(j))}An.STAT_EVENT="statevent";function Zt(w,j){P.call(this,An.STAT_EVENT,w),this.stat=j}p(Zt,P);function Wt(w){const j=Lt();St(j,new Zt(j,w))}An.Ja="timingevent";function jt(w,j){P.call(this,An.Ja,w),this.size=j}p(jt,P);function gn(w,j){if(typeof w!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){w()},j)}function Ur(){this.g=!0}Ur.prototype.ua=function(){this.g=!1};function Yr(w,j,X,pe,je,Qe){w.info(function(){if(w.g)if(Qe){var Et="",Nn=Qe.split("&");for(let Gn=0;Gn<Nn.length;Gn++){var jr=Nn[Gn].split("=");if(jr.length>1){const br=jr[0];jr=jr[1];const Zi=br.split("_");Et=Zi.length>=2&&Zi[1]=="type"?Et+(br+"="+jr+"&"):Et+(br+"=redacted&")}}}else Et=null;else Et=Qe;return"XMLHTTP REQ ("+pe+") [attempt "+je+"]: "+j+`
`+X+`
`+Et})}function Ns(w,j,X,pe,je,Qe,Et){w.info(function(){return"XMLHTTP RESP ("+pe+") [ attempt "+je+"]: "+j+`
`+X+`
`+Qe+" "+Et})}function ri(w,j,X,pe){w.info(function(){return"XMLHTTP TEXT ("+j+"): "+Ra(w,X)+(pe?" "+pe:"")})}function Mt(w,j){w.info(function(){return"TIMEOUT: "+j})}Ur.prototype.info=function(){};function Ra(w,j){if(!w.g)return j;if(!j)return null;try{const Qe=JSON.parse(j);if(Qe){for(w=0;w<Qe.length;w++)if(Array.isArray(Qe[w])){var X=Qe[w];if(!(X.length<2)){var pe=X[1];if(Array.isArray(pe)&&!(pe.length<1)){var je=pe[0];if(je!="noop"&&je!="stop"&&je!="close")for(let Et=1;Et<pe.length;Et++)pe[Et]=""}}}}return an(Qe)}catch{return j}}var us={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ni={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Xi;function _r(){}p(_r,Rt),_r.prototype.g=function(){return new XMLHttpRequest},Xi=new _r;function Ir(w){return encodeURIComponent(String(w))}function te(w){var j=1;w=w.split(":");const X=[];for(;j>0&&w.length;)X.push(w.shift()),j--;return w.length&&X.push(w.join(":")),X}function be(w,j,X,pe){this.j=w,this.i=j,this.l=X,this.S=pe||1,this.V=new mn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ge}function ge(){this.i=null,this.g="",this.h=!1}var ye={},_e={};function Ce(w,j,X){w.M=1,w.A=qo(ui(j)),w.u=X,w.R=!0,He(w,null)}function He(w,j){w.F=Date.now(),Ke(w),w.B=ui(w.A);var X=w.B,pe=w.S;Array.isArray(pe)||(pe=[String(pe)]),tc(X.i,"t",pe),w.C=0,X=w.j.L,w.h=new ge,w.g=Kt(w.j,X?j:null,!w.u),w.P>0&&(w.O=new sn(f(w.Y,w,w.g),w.P)),j=w.V,X=w.g,pe=w.ba;var je="readystatechange";Array.isArray(je)||(je&&(ln[0]=je.toString()),je=ln);for(let Qe=0;Qe<je.length;Qe++){const Et=fe(X,je[Qe],pe||j.handleEvent,!1,j.h||j);if(!Et)break;j.g[Et.key]=Et}j=w.J?ne(w.J):{},w.u?(w.v||(w.v="POST"),j["Content-Type"]="application/x-www-form-urlencoded",w.g.ea(w.B,w.v,w.u,j)):(w.v="GET",w.g.ea(w.B,w.v,null,j)),Bt(),Yr(w.i,w.v,w.B,w.l,w.S,w.u)}be.prototype.ba=function(w){w=w.target;const j=this.O;j&&Ws(w)==3?j.j():this.Y(w)},be.prototype.Y=function(w){try{if(w==this.g)e:{const Nn=Ws(this.g),jr=this.g.ya(),Gn=this.g.ca();if(!(Nn<3)&&(Nn!=3||this.g&&(this.h.h||this.g.la()||wi(this.g)))){this.K||Nn!=4||jr==7||(jr==8||Gn<=0?Bt(3):Bt(2)),bt(this);var j=this.g.ca();this.X=j;var X=tt(this);if(this.o=j==200,Ns(this.i,this.v,this.B,this.l,this.S,Nn,j),this.o){if(this.U&&!this.L){t:{if(this.g){var pe,je=this.g;if((pe=je.g?je.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V(pe)){var Qe=pe;break t}}Qe=null}if(w=Qe)ri(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ct(this,w);else{this.o=!1,this.m=3,Wt(12),_t(this),It(this);break e}}if(this.R){w=!0;let br;for(;!this.K&&this.C<X.length;)if(br=We(this,X),br==_e){Nn==4&&(this.m=4,Wt(14),w=!1),ri(this.i,this.l,null,"[Incomplete Response]");break}else if(br==ye){this.m=4,Wt(15),ri(this.i,this.l,X,"[Invalid Chunk]"),w=!1;break}else ri(this.i,this.l,br,null),Ct(this,br);if(Ge(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Nn!=4||X.length!=0||this.h.h||(this.m=1,Wt(16),w=!1),this.o=this.o&&w,!w)ri(this.i,this.l,X,"[Invalid Chunked Response]"),_t(this),It(this);else if(X.length>0&&!this.W){this.W=!0;var Et=this.j;Et.g==this&&Et.aa&&!Et.P&&(Et.j.info("Great, no buffering proxy detected. Bytes received: "+X.length),sc(Et),Et.P=!0,Wt(11))}}else ri(this.i,this.l,X,null),Ct(this,X);Nn==4&&_t(this),this.o&&!this.K&&(Nn==4?Ee(this.j,this):(this.o=!1,Ke(this)))}else Ka(this.g),j==400&&X.indexOf("Unknown SID")>0?(this.m=3,Wt(12)):(this.m=0,Wt(13)),_t(this),It(this)}}}catch{}finally{}};function tt(w){if(!Ge(w))return w.g.la();const j=wi(w.g);if(j==="")return"";let X="";const pe=j.length,je=Ws(w.g)==4;if(!w.h.i){if(typeof TextDecoder>"u")return _t(w),It(w),"";w.h.i=new a.TextDecoder}for(let Qe=0;Qe<pe;Qe++)w.h.h=!0,X+=w.h.i.decode(j[Qe],{stream:!(je&&Qe==pe-1)});return j.length=0,w.h.g+=X,w.C=0,w.h.g}function Ge(w){return w.g?w.v=="GET"&&w.M!=2&&w.j.Aa:!1}function We(w,j){var X=w.C,pe=j.indexOf(`
`,X);return pe==-1?_e:(X=Number(j.substring(X,pe)),isNaN(X)?ye:(pe+=1,pe+X>j.length?_e:(j=j.slice(pe,pe+X),w.C=pe+X,j)))}be.prototype.cancel=function(){this.K=!0,_t(this)};function Ke(w){w.T=Date.now()+w.H,vt(w,w.H)}function vt(w,j){if(w.D!=null)throw Error("WatchDog timer not null");w.D=gn(f(w.aa,w),j)}function bt(w){w.D&&(a.clearTimeout(w.D),w.D=null)}be.prototype.aa=function(){this.D=null;const w=Date.now();w-this.T>=0?(Mt(this.i,this.B),this.M!=2&&(Bt(),Wt(17)),_t(this),this.m=2,It(this)):vt(this,this.T-w)};function It(w){w.j.I==0||w.K||Ee(w.j,w)}function _t(w){bt(w);var j=w.O;j&&typeof j.dispose=="function"&&j.dispose(),w.O=null,En(w.V),w.g&&(j=w.g,w.g=null,j.abort(),j.dispose())}function Ct(w,j){try{var X=w.j;if(X.I!=0&&(X.g==w||ji(X.h,w))){if(!w.L&&ji(X.h,w)&&X.I==3){try{var pe=X.Ba.g.parse(j)}catch{pe=null}if(Array.isArray(pe)&&pe.length==3){var je=pe;if(je[0]==0){e:if(!X.v){if(X.g)if(X.g.F+3e3<w.F)Z(X),Xa(X);else break e;Ma(X),Wt(18)}}else X.xa=je[1],0<X.xa-X.K&&je[2]<37500&&X.F&&X.A==0&&!X.C&&(X.C=gn(f(X.Va,X),6e3));gr(X.h)<=1&&X.ta&&(X.ta=void 0)}else Ve(X,11)}else if((w.L||X.g==w)&&Z(X),!V(j))for(je=X.Ba.g.parse(j),j=0;j<je.length;j++){let Gn=je[j];const br=Gn[0];if(!(br<=X.K))if(X.K=br,Gn=Gn[1],X.I==2)if(Gn[0]=="c"){X.M=Gn[1],X.ba=Gn[2];const Zi=Gn[3];Zi!=null&&(X.ka=Zi,X.j.info("VER="+X.ka));const hs=Gn[4];hs!=null&&(X.za=hs,X.j.info("SVER="+X.za));const Pr=Gn[5];Pr!=null&&typeof Pr=="number"&&Pr>0&&(pe=1.5*Pr,X.O=pe,X.j.info("backChannelRequestTimeoutMs_="+pe)),pe=X;const ds=w.g;if(ds){const La=ds.g?ds.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(La){var Qe=pe.h;Qe.g||La.indexOf("spdy")==-1&&La.indexOf("quic")==-1&&La.indexOf("h2")==-1||(Qe.j=Qe.l,Qe.g=new Set,Qe.h&&(zs(Qe,Qe.h),Qe.h=null))}if(pe.G){const Wo=ds.g?ds.g.getResponseHeader("X-HTTP-Session-Id"):null;Wo&&(pe.wa=Wo,tr(pe.J,pe.G,Wo))}}X.I=3,X.l&&X.l.ra(),X.aa&&(X.T=Date.now()-w.F,X.j.info("Handshake RTT: "+X.T+"ms")),pe=X;var Et=w;if(pe.na=yt(pe,pe.L?pe.ba:null,pe.W),Et.L){la(pe.h,Et);var Nn=Et,jr=pe.O;jr&&(Nn.H=jr),Nn.D&&(bt(Nn),Ke(Nn)),pe.g=Et}else Yc(pe);X.i.length>0&&ua(X)}else Gn[0]!="stop"&&Gn[0]!="close"||Ve(X,7);else X.I==3&&(Gn[0]=="stop"||Gn[0]=="close"?Gn[0]=="stop"?Ve(X,7):$o(X):Gn[0]!="noop"&&X.l&&X.l.qa(Gn),X.A=0)}}Bt(4)}catch{}}var Gt=class{constructor(w,j){this.g=w,this.map=j}};function cr(w){this.l=w||10,a.PerformanceNavigationTiming?(w=a.performance.getEntriesByType("navigation"),w=w.length>0&&(w[0].nextHopProtocol=="hq"||w[0].nextHopProtocol=="h2")):w=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=w?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Bn(w){return w.h?!0:w.g?w.g.size>=w.j:!1}function gr(w){return w.h?1:w.g?w.g.size:0}function ji(w,j){return w.h?w.h==j:w.g?w.g.has(j):!1}function zs(w,j){w.g?w.g.add(j):w.h=j}function la(w,j){w.h&&w.h==j?w.h=null:w.g&&w.g.has(j)&&w.g.delete(j)}cr.prototype.cancel=function(){if(this.i=Is(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const w of this.g.values())w.cancel();this.g.clear()}};function Is(w){if(w.h!=null)return w.i.concat(w.h.G);if(w.g!=null&&w.g.size!==0){let j=w.i;for(const X of w.g.values())j=j.concat(X.G);return j}return x(w.i)}var wo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xr(w,j){if(w){w=w.split("&");for(let X=0;X<w.length;X++){const pe=w[X].indexOf("=");let je,Qe=null;pe>=0?(je=w[X].substring(0,pe),Qe=w[X].substring(pe+1)):je=w[X],j(je,Qe?decodeURIComponent(Qe.replace(/\+/g," ")):"")}}}function Ji(w){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let j;w instanceof Ji?(this.l=w.l,Wn(this,w.j),this.o=w.o,this.g=w.g,bo(this,w.u),this.h=w.h,ca(this,nc(w.i)),this.m=w.m):w&&(j=String(w).match(wo))?(this.l=!1,Wn(this,j[1]||"",!0),this.o=_i(j[2]||""),this.g=_i(j[3]||"",!0),bo(this,j[4]),this.h=_i(j[5]||"",!0),ca(this,j[6]||"",!0),this.m=_i(j[7]||"")):(this.l=!1,this.i=new To(null,this.l))}Ji.prototype.toString=function(){const w=[];var j=this.j;j&&w.push(Jr(j,vl,!0),":");var X=this.g;return(X||j=="file")&&(w.push("//"),(j=this.o)&&w.push(Jr(j,vl,!0),"@"),w.push(Ir(X).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),X=this.u,X!=null&&w.push(":",String(X))),(X=this.h)&&(this.g&&X.charAt(0)!="/"&&w.push("/"),w.push(Jr(X,X.charAt(0)=="/"?zc:Bu,!0))),(X=this.i.toString())&&w.push("?",X),(X=this.m)&&w.push("#",Jr(X,Gc)),w.join("")},Ji.prototype.resolve=function(w){const j=ui(this);let X=!!w.j;X?Wn(j,w.j):X=!!w.o,X?j.o=w.o:X=!!w.g,X?j.g=w.g:X=w.u!=null;var pe=w.h;if(X)bo(j,w.u);else if(X=!!w.h){if(pe.charAt(0)!="/")if(this.g&&!this.h)pe="/"+pe;else{var je=j.h.lastIndexOf("/");je!=-1&&(pe=j.h.slice(0,je+1)+pe)}if(je=pe,je==".."||je==".")pe="";else if(je.indexOf("./")!=-1||je.indexOf("/.")!=-1){pe=je.lastIndexOf("/",0)==0,je=je.split("/");const Qe=[];for(let Et=0;Et<je.length;){const Nn=je[Et++];Nn=="."?pe&&Et==je.length&&Qe.push(""):Nn==".."?((Qe.length>1||Qe.length==1&&Qe[0]!="")&&Qe.pop(),pe&&Et==je.length&&Qe.push("")):(Qe.push(Nn),pe=!0)}pe=Qe.join("/")}else pe=je}return X?j.h=pe:X=w.i.toString()!=="",X?ca(j,nc(w.i)):X=!!w.m,X&&(j.m=w.m),j};function ui(w){return new Ji(w)}function Wn(w,j,X){w.j=X?_i(j,!0):j,w.j&&(w.j=w.j.replace(/:$/,""))}function bo(w,j){if(j){if(j=Number(j),isNaN(j)||j<0)throw Error("Bad port number "+j);w.u=j}else w.u=null}function ca(w,j,X){j instanceof To?(w.i=j,ks(w.i,w.l)):(X||(j=Jr(j,fs)),w.i=new To(j,w.l))}function tr(w,j,X){w.i.set(j,X)}function qo(w){return tr(w,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),w}function _i(w,j){return w?j?decodeURI(w.replace(/%25/g,"%2525")):decodeURIComponent(w):""}function Jr(w,j,X){return typeof w=="string"?(w=encodeURI(w).replace(j,fi),X&&(w=w.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w):null}function fi(w){return w=w.charCodeAt(0),"%"+(w>>4&15).toString(16)+(w&15).toString(16)}var vl=/[#\/\?@]/g,Bu=/[#\?:]/g,zc=/[#\?]/g,fs=/[#\?@]/g,Gc=/#/g;function To(w,j){this.h=this.g=null,this.i=w||null,this.j=!!j}function qi(w){w.g||(w.g=new Map,w.h=0,w.i&&Xr(w.i,function(j,X){w.add(decodeURIComponent(j.replace(/\+/g," ")),X)}))}t=To.prototype,t.add=function(w,j){qi(this),this.i=null,w=Eo(this,w);let X=this.g.get(w);return X||this.g.set(w,X=[]),X.push(j),this.h+=1,this};function Ho(w,j){qi(w),j=Eo(w,j),w.g.has(j)&&(w.i=null,w.h-=w.g.get(j).length,w.g.delete(j))}function $c(w,j){return qi(w),j=Eo(w,j),w.g.has(j)}t.forEach=function(w,j){qi(this),this.g.forEach(function(X,pe){X.forEach(function(je){w.call(j,je,pe,this)},this)},this)};function Wc(w,j){qi(w);let X=[];if(typeof j=="string")$c(w,j)&&(X=X.concat(w.g.get(Eo(w,j))));else for(w=Array.from(w.g.values()),j=0;j<w.length;j++)X=X.concat(w[j]);return X}t.set=function(w,j){return qi(this),this.i=null,w=Eo(this,w),$c(this,w)&&(this.h-=this.g.get(w).length),this.g.set(w,[j]),this.h+=1,this},t.get=function(w,j){return w?(w=Wc(this,w),w.length>0?String(w[0]):j):j};function tc(w,j,X){Ho(w,j),X.length>0&&(w.i=null,w.g.set(Eo(w,j),x(X)),w.h+=X.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const w=[],j=Array.from(this.g.keys());for(let pe=0;pe<j.length;pe++){var X=j[pe];const je=Ir(X);X=Wc(this,X);for(let Qe=0;Qe<X.length;Qe++){let Et=je;X[Qe]!==""&&(Et+="="+Ir(X[Qe])),w.push(Et)}}return this.i=w.join("&")};function nc(w){const j=new To;return j.i=w.i,w.g&&(j.g=new Map(w.g),j.h=w.h),j}function Eo(w,j){return j=String(j),w.j&&(j=j.toLowerCase()),j}function ks(w,j){j&&!w.j&&(qi(w),w.i=null,w.g.forEach(function(X,pe){const je=pe.toLowerCase();pe!=je&&(Ho(this,pe),tc(this,je,X))},w)),w.j=j}function Pa(w,j){const X=new Ur;if(a.Image){const pe=new Image;pe.onload=h(Rs,X,"TestLoadImage: loaded",!0,j,pe),pe.onerror=h(Rs,X,"TestLoadImage: error",!1,j,pe),pe.onabort=h(Rs,X,"TestLoadImage: abort",!1,j,pe),pe.ontimeout=h(Rs,X,"TestLoadImage: timeout",!1,j,pe),a.setTimeout(function(){pe.ontimeout&&pe.ontimeout()},1e4),pe.src=w}else j(!1)}function So(w,j){const X=new Ur,pe=new AbortController,je=setTimeout(()=>{pe.abort(),Rs(X,"TestPingServer: timeout",!1,j)},1e4);fetch(w,{signal:pe.signal}).then(Qe=>{clearTimeout(je),Qe.ok?Rs(X,"TestPingServer: ok",!0,j):Rs(X,"TestPingServer: server error",!1,j)}).catch(()=>{clearTimeout(je),Rs(X,"TestPingServer: error",!1,j)})}function Rs(w,j,X,pe,je){try{je&&(je.onload=null,je.onerror=null,je.onabort=null,je.ontimeout=null),pe(X)}catch{}}function zo(){this.g=new At}function xn(w){this.i=w.Sb||null,this.h=w.ab||!1}p(xn,Rt),xn.prototype.g=function(){return new _l(this.i,this.h)};function _l(w,j){rt.call(this),this.H=w,this.o=j,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}p(_l,rt),t=_l.prototype,t.open=function(w,j){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=w,this.D=j,this.readyState=1,Hi(this)},t.send=function(w){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const j={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};w&&(j.body=w),(this.H||a).fetch(new Request(this.D,j)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Go(this)),this.readyState=0},t.Pa=function(w){if(this.g&&(this.l=w,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=w.headers,this.readyState=2,Hi(this)),this.g&&(this.readyState=3,Hi(this),this.g)))if(this.responseType==="arraybuffer")w.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in w){if(this.j=w.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;rc(this)}else w.text().then(this.Oa.bind(this),this.ga.bind(this))};function rc(w){w.j.read().then(w.Ma.bind(w)).catch(w.ga.bind(w))}t.Ma=function(w){if(this.g){if(this.o&&w.value)this.response.push(w.value);else if(!this.o){var j=w.value?w.value:new Uint8Array(0);(j=this.B.decode(j,{stream:!w.done}))&&(this.response=this.responseText+=j)}w.done?Go(this):Hi(this),this.readyState==3&&rc(this)}},t.Oa=function(w){this.g&&(this.response=this.responseText=w,Go(this))},t.Na=function(w){this.g&&(this.response=w,Go(this))},t.ga=function(){this.g&&Go(this)};function Go(w){w.readyState=4,w.l=null,w.j=null,w.B=null,Hi(w)}t.setRequestHeader=function(w,j){this.A.append(w,j)},t.getResponseHeader=function(w){return this.h&&this.h.get(w.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const w=[],j=this.h.entries();for(var X=j.next();!X.done;)X=X.value,w.push(X[0]+": "+X[1]),X=j.next();return w.join(`\r
`)};function Hi(w){w.onreadystatechange&&w.onreadystatechange.call(w)}Object.defineProperty(_l.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(w){this.m=w?"include":"same-origin"}});function Ii(w){let j="";return ue(w,function(X,pe){j+=pe,j+=":",j+=X,j+=`\r
`}),j}function wl(w,j,X){e:{for(pe in X){var pe=!1;break e}pe=!0}pe||(X=Ii(X),typeof w=="string"?X!=null&&Ir(X):tr(w,j,X))}function wr(w){rt.call(this),this.headers=new Map,this.L=w||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}p(wr,rt);var Gs=/^https?$/i,bl=["POST","PUT"];t=wr.prototype,t.Fa=function(w){this.H=w},t.ea=function(w,j,X,pe){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+w);j=j?j.toUpperCase():"GET",this.D=w,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Xi.g(),this.g.onreadystatechange=g(f(this.Ca,this));try{this.B=!0,this.g.open(j,String(w),!0),this.B=!1}catch(Qe){Da(this,Qe);return}if(w=X||"",X=new Map(this.headers),pe)if(Object.getPrototypeOf(pe)===Object.prototype)for(var je in pe)X.set(je,pe[je]);else if(typeof pe.keys=="function"&&typeof pe.get=="function")for(const Qe of pe.keys())X.set(Qe,pe.get(Qe));else throw Error("Unknown input type for opt_headers: "+String(pe));pe=Array.from(X.keys()).find(Qe=>Qe.toLowerCase()=="content-type"),je=a.FormData&&w instanceof a.FormData,!(Array.prototype.indexOf.call(bl,j,void 0)>=0)||pe||je||X.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Qe,Et]of X)this.g.setRequestHeader(Qe,Et);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(w),this.v=!1}catch(Qe){Da(this,Qe)}};function Da(w,j){w.h=!1,w.g&&(w.j=!0,w.g.abort(),w.j=!1),w.l=j,w.o=5,Kc(w),Ao(w)}function Kc(w){w.A||(w.A=!0,St(w,"complete"),St(w,"error"))}t.abort=function(w){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=w||7,St(this,"complete"),St(this,"abort"),Ao(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ao(this,!0)),wr.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?$s(this):this.Xa())},t.Xa=function(){$s(this)};function $s(w){if(w.h&&typeof s<"u"){if(w.v&&Ws(w)==4)setTimeout(w.Ca.bind(w),0);else if(St(w,"readystatechange"),Ws(w)==4){w.h=!1;try{const Qe=w.ca();e:switch(Qe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var j=!0;break e;default:j=!1}var X;if(!(X=j)){var pe;if(pe=Qe===0){let Et=String(w.D).match(wo)[1]||null;!Et&&a.self&&a.self.location&&(Et=a.self.location.protocol.slice(0,-1)),pe=!Gs.test(Et?Et.toLowerCase():"")}X=pe}if(X)St(w,"complete"),St(w,"success");else{w.o=6;try{var je=Ws(w)>2?w.g.statusText:""}catch{je=""}w.l=je+" ["+w.ca()+"]",Kc(w)}}finally{Ao(w)}}}}function Ao(w,j){if(w.g){w.m&&(clearTimeout(w.m),w.m=null);const X=w.g;w.g=null,j||St(w,"ready");try{X.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Ws(w){return w.g?w.g.readyState:0}t.ca=function(){try{return Ws(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(w){if(this.g){var j=this.g.responseText;return w&&j.indexOf(w)==0&&(j=j.substring(w.length)),Ft(j)}};function wi(w){try{if(!w.g)return null;if("response"in w.g)return w.g.response;switch(w.F){case"":case"text":return w.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in w.g)return w.g.mozResponseArrayBuffer}return null}catch{return null}}function Ka(w){const j={};w=(w.g&&Ws(w)>=2&&w.g.getAllResponseHeaders()||"").split(`\r
`);for(let pe=0;pe<w.length;pe++){if(V(w[pe]))continue;var X=te(w[pe]);const je=X[0];if(X=X[1],typeof X!="string")continue;X=X.trim();const Qe=j[je]||[];j[je]=Qe,Qe.push(X)}Le(j,function(pe){return pe.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Qi(w,j,X){return X&&X.internalChannelParams&&X.internalChannelParams[w]||j}function Ya(w){this.za=0,this.i=[],this.j=new Ur,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Qi("failFast",!1,w),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Qi("baseRetryDelayMs",5e3,w),this.Za=Qi("retryDelaySeedMs",1e4,w),this.Ta=Qi("forwardChannelMaxRetries",2,w),this.va=Qi("forwardChannelRequestTimeoutMs",2e4,w),this.ma=w&&w.xmlHttpFactory||void 0,this.Ua=w&&w.Rb||void 0,this.Aa=w&&w.useFetchStreams||!1,this.O=void 0,this.L=w&&w.supportsCrossDomainXhr||!1,this.M="",this.h=new cr(w&&w.concurrentRequestLimit),this.Ba=new zo,this.S=w&&w.fastHandshake||!1,this.R=w&&w.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=w&&w.Pb||!1,w&&w.ua&&this.j.ua(),w&&w.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&w&&w.detectBufferingProxy||!1,this.ia=void 0,w&&w.longPollingTimeout&&w.longPollingTimeout>0&&(this.ia=w.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Ya.prototype,t.ka=8,t.I=1,t.connect=function(w,j,X,pe){Wt(0),this.W=w,this.H=j||{},X&&pe!==void 0&&(this.H.OSID=X,this.H.OAID=pe),this.F=this.X,this.J=yt(this,null,this.W),ua(this)};function $o(w){if(Ja(w),w.I==3){var j=w.V++,X=ui(w.J);if(tr(X,"SID",w.M),tr(X,"RID",j),tr(X,"TYPE","terminate"),Ks(w,X),j=new be(w,w.j,j),j.M=2,j.A=qo(ui(X)),X=!1,a.navigator&&a.navigator.sendBeacon)try{X=a.navigator.sendBeacon(j.A.toString(),"")}catch{}!X&&a.Image&&(new Image().src=j.A,X=!0),X||(j.g=Kt(j.j,null),j.g.ea(j.A)),j.F=Date.now(),Ke(j)}ct(w)}function Xa(w){w.g&&(sc(w),w.g.cancel(),w.g=null)}function Ja(w){Xa(w),w.v&&(a.clearTimeout(w.v),w.v=null),Z(w),w.h.cancel(),w.m&&(typeof w.m=="number"&&a.clearTimeout(w.m),w.m=null)}function ua(w){if(!Bn(w.h)&&!w.m){w.m=!0;var j=w.Ea;Y||O(),J||(Y(),J=!0),F.add(j,w),w.D=0}}function Tl(w,j){return gr(w.h)>=w.h.j-(w.m?1:0)?!1:w.m?(w.i=j.G.concat(w.i),!0):w.I==1||w.I==2||w.D>=(w.Sa?0:w.Ta)?!1:(w.m=gn(f(w.Ea,w,j),Pe(w,w.D)),w.D++,!0)}t.Ea=function(w){if(this.m)if(this.m=null,this.I==1){if(!w){this.V=Math.floor(Math.random()*1e5),w=this.V++;const je=new be(this,this.j,w);let Qe=this.o;if(this.U&&(Qe?(Qe=ne(Qe),W(Qe,this.U)):Qe=this.U),this.u!==null||this.R||(je.J=Qe,Qe=null),this.S)e:{for(var j=0,X=0;X<this.i.length;X++){t:{var pe=this.i[X];if("__data__"in pe.map&&(pe=pe.map.__data__,typeof pe=="string")){pe=pe.length;break t}pe=void 0}if(pe===void 0)break;if(j+=pe,j>4096){j=X;break e}if(j===4096||X===this.i.length-1){j=X+1;break e}}j=1e3}else j=1e3;j=Qa(this,je,j),X=ui(this.J),tr(X,"RID",w),tr(X,"CVER",22),this.G&&tr(X,"X-HTTP-Session-Id",this.G),Ks(this,X),Qe&&(this.R?j="headers="+Ir(Ii(Qe))+"&"+j:this.u&&wl(X,this.u,Qe)),zs(this.h,je),this.Ra&&tr(X,"TYPE","init"),this.S?(tr(X,"$req",j),tr(X,"SID","null"),je.U=!0,Ce(je,X,null)):Ce(je,X,j),this.I=2}}else this.I==3&&(w?ic(this,w):this.i.length==0||Bn(this.h)||ic(this))};function ic(w,j){var X;j?X=j.l:X=w.V++;const pe=ui(w.J);tr(pe,"SID",w.M),tr(pe,"RID",X),tr(pe,"AID",w.K),Ks(w,pe),w.u&&w.o&&wl(pe,w.u,w.o),X=new be(w,w.j,X,w.D+1),w.u===null&&(X.J=w.o),j&&(w.i=j.G.concat(w.i)),j=Qa(w,X,1e3),X.H=Math.round(w.va*.5)+Math.round(w.va*.5*Math.random()),zs(w.h,X),Ce(X,pe,j)}function Ks(w,j){w.H&&ue(w.H,function(X,pe){tr(j,pe,X)}),w.l&&ue({},function(X,pe){tr(j,pe,X)})}function Qa(w,j,X){X=Math.min(w.i.length,X);const pe=w.l?f(w.l.Ka,w.l,w):null;e:{var je=w.i;let Nn=-1;for(;;){const jr=["count="+X];Nn==-1?X>0?(Nn=je[0].g,jr.push("ofs="+Nn)):Nn=0:jr.push("ofs="+Nn);let Gn=!0;for(let br=0;br<X;br++){var Qe=je[br].g;const Zi=je[br].map;if(Qe-=Nn,Qe<0)Nn=Math.max(0,je[br].g-100),Gn=!1;else try{Qe="req"+Qe+"_"||"";try{var Et=Zi instanceof Map?Zi:Object.entries(Zi);for(const[hs,Pr]of Et){let ds=Pr;o(Pr)&&(ds=an(Pr)),jr.push(Qe+hs+"="+encodeURIComponent(ds))}}catch(hs){throw jr.push(Qe+"type="+encodeURIComponent("_badmap")),hs}}catch{pe&&pe(Zi)}}if(Gn){Et=jr.join("&");break e}}Et=void 0}return w=w.i.splice(0,X),j.G=w,Et}function Yc(w){if(!w.g&&!w.v){w.Y=1;var j=w.Da;Y||O(),J||(Y(),J=!0),F.add(j,w),w.A=0}}function Ma(w){return w.g||w.v||w.A>=3?!1:(w.Y++,w.v=gn(f(w.Da,w),Pe(w,w.A)),w.A++,!0)}t.Da=function(){if(this.v=null,D(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var w=4*this.T;this.j.info("BP detection timer enabled: "+w),this.B=gn(f(this.Wa,this),w)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Wt(10),Xa(this),D(this))};function sc(w){w.B!=null&&(a.clearTimeout(w.B),w.B=null)}function D(w){w.g=new be(w,w.j,"rpc",w.Y),w.u===null&&(w.g.J=w.o),w.g.P=0;var j=ui(w.na);tr(j,"RID","rpc"),tr(j,"SID",w.M),tr(j,"AID",w.K),tr(j,"CI",w.F?"0":"1"),!w.F&&w.ia&&tr(j,"TO",w.ia),tr(j,"TYPE","xmlhttp"),Ks(w,j),w.u&&w.o&&wl(j,w.u,w.o),w.O&&(w.g.H=w.O);var X=w.g;w=w.ba,X.M=1,X.A=qo(ui(j)),X.u=null,X.R=!0,He(X,w)}t.Va=function(){this.C!=null&&(this.C=null,Xa(this),Ma(this),Wt(19))};function Z(w){w.C!=null&&(a.clearTimeout(w.C),w.C=null)}function Ee(w,j){var X=null;if(w.g==j){Z(w),sc(w),w.g=null;var pe=2}else if(ji(w.h,j))X=j.G,la(w.h,j),pe=1;else return;if(w.I!=0){if(j.o)if(pe==1){X=j.u?j.u.length:0,j=Date.now()-j.F;var je=w.D;pe=Lt(),St(pe,new jt(pe,X)),ua(w)}else Yc(w);else if(je=j.m,je==3||je==0&&j.X>0||!(pe==1&&Tl(w,j)||pe==2&&Ma(w)))switch(X&&X.length>0&&(j=w.h,j.i=j.i.concat(X)),je){case 1:Ve(w,5);break;case 4:Ve(w,10);break;case 3:Ve(w,6);break;default:Ve(w,2)}}}function Pe(w,j){let X=w.Qa+Math.floor(Math.random()*w.Za);return w.isActive()||(X*=2),X*j}function Ve(w,j){if(w.j.info("Error code "+j),j==2){var X=f(w.bb,w),pe=w.Ua;const je=!pe;pe=new Ji(pe||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Wn(pe,"https"),qo(pe),je?Pa(pe.toString(),X):So(pe.toString(),X)}else Wt(2);w.I=0,w.l&&w.l.pa(j),ct(w),Ja(w)}t.bb=function(w){w?(this.j.info("Successfully pinged google.com"),Wt(2)):(this.j.info("Failed to ping google.com"),Wt(1))};function ct(w){if(w.I=0,w.ja=[],w.l){const j=Is(w.h);(j.length!=0||w.i.length!=0)&&(T(w.ja,j),T(w.ja,w.i),w.h.i.length=0,x(w.i),w.i.length=0),w.l.oa()}}function yt(w,j,X){var pe=X instanceof Ji?ui(X):new Ji(X);if(pe.g!="")j&&(pe.g=j+"."+pe.g),bo(pe,pe.u);else{var je=a.location;pe=je.protocol,j=j?j+"."+je.hostname:je.hostname,je=+je.port;const Qe=new Ji(null);pe&&Wn(Qe,pe),j&&(Qe.g=j),je&&bo(Qe,je),X&&(Qe.h=X),pe=Qe}return X=w.G,j=w.wa,X&&j&&tr(pe,X,j),tr(pe,"VER",w.ka),Ks(w,pe),pe}function Kt(w,j,X){if(j&&!w.L)throw Error("Can't create secondary domain capable XhrIo object.");return j=w.Aa&&!w.ma?new wr(new xn({ab:X})):new wr(w.ma),j.Fa(w.L),j}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function en(){}t=en.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function vn(){}vn.prototype.g=function(w,j){return new dn(w,j)};function dn(w,j){rt.call(this),this.g=new Ya(j),this.l=w,this.h=j&&j.messageUrlParams||null,w=j&&j.messageHeaders||null,j&&j.clientProtocolHeaderRequired&&(w?w["X-Client-Protocol"]="webchannel":w={"X-Client-Protocol":"webchannel"}),this.g.o=w,w=j&&j.initMessageHeaders||null,j&&j.messageContentType&&(w?w["X-WebChannel-Content-Type"]=j.messageContentType:w={"X-WebChannel-Content-Type":j.messageContentType}),j&&j.sa&&(w?w["X-WebChannel-Client-Profile"]=j.sa:w={"X-WebChannel-Client-Profile":j.sa}),this.g.U=w,(w=j&&j.Qb)&&!V(w)&&(this.g.u=w),this.A=j&&j.supportsCrossDomainXhr||!1,this.v=j&&j.sendRawJson||!1,(j=j&&j.httpSessionIdParam)&&!V(j)&&(this.g.G=j,w=this.h,w!==null&&j in w&&(w=this.h,j in w&&delete w[j])),this.j=new kr(this)}p(dn,rt),dn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},dn.prototype.close=function(){$o(this.g)},dn.prototype.o=function(w){var j=this.g;if(typeof w=="string"){var X={};X.__data__=w,w=X}else this.v&&(X={},X.__data__=an(w),w=X);j.i.push(new Gt(j.Ya++,w)),j.I==3&&ua(j)},dn.prototype.N=function(){this.g.l=null,delete this.j,$o(this.g),delete this.g,dn.Z.N.call(this)};function Yn(w){Yt.call(this),w.__headers__&&(this.headers=w.__headers__,this.statusCode=w.__status__,delete w.__headers__,delete w.__status__);var j=w.__sm__;if(j){e:{for(const X in j){w=X;break e}w=void 0}(this.i=w)&&(w=this.i,j=j!==null&&w in j?j[w]:void 0),this.data=j}else this.data=w}p(Yn,Yt);function Br(){hn.call(this),this.status=1}p(Br,hn);function kr(w){this.g=w}p(kr,en),kr.prototype.ra=function(){St(this.g,"a")},kr.prototype.qa=function(w){St(this.g,new Yn(w))},kr.prototype.pa=function(w){St(this.g,new Br)},kr.prototype.oa=function(){St(this.g,"b")},vn.prototype.createWebChannel=vn.prototype.g,dn.prototype.send=dn.prototype.o,dn.prototype.open=dn.prototype.m,dn.prototype.close=dn.prototype.close,gD=function(){return new vn},mD=function(){return Lt()},pD=An,cb={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},us.NO_ERROR=0,us.TIMEOUT=8,us.HTTP_ERROR=6,Zx=us,Ni.COMPLETE="complete",dD=Ni,qn.EventType=$t,$t.OPEN="a",$t.CLOSE="b",$t.ERROR="c",$t.MESSAGE="d",rt.prototype.listen=rt.prototype.J,Lm=qn,wr.prototype.listenOnce=wr.prototype.K,wr.prototype.getLastError=wr.prototype.Ha,wr.prototype.getLastErrorCode=wr.prototype.ya,wr.prototype.getStatus=wr.prototype.ca,wr.prototype.getResponseJson=wr.prototype.La,wr.prototype.getResponseText=wr.prototype.la,wr.prototype.send=wr.prototype.ea,wr.prototype.setWithCredentials=wr.prototype.Fa,hD=wr}).apply(typeof xx<"u"?xx:typeof self<"u"?self:typeof window<"u"?window:{});const mC="@firebase/firestore",gC="4.9.2";class ta{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ta.UNAUTHENTICATED=new ta(null),ta.GOOGLE_CREDENTIALS=new ta("google-credentials-uid"),ta.FIRST_PARTY=new ta("first-party-uid"),ta.MOCK_USER=new ta("mock-user");let Ap="12.3.0";const Zh=new q5("@firebase/firestore");function x0(){return Zh.logLevel}function Tt(t,...e){if(Zh.logLevel<=ir.DEBUG){const n=e.map(eT);Zh.debug(`Firestore (${Ap}): ${t}`,...n)}}function qa(t,...e){if(Zh.logLevel<=ir.ERROR){const n=e.map(eT);Zh.error(`Firestore (${Ap}): ${t}`,...n)}}function ed(t,...e){if(Zh.logLevel<=ir.WARN){const n=e.map(eT);Zh.warn(`Firestore (${Ap}): ${t}`,...n)}}function eT(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function rn(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,xD(t,r,n)}function xD(t,e,n){let r=`FIRESTORE (${Ap}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw qa(r),new Error(r)}function pn(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||xD(e,i,r)}function Mn(t,e){return t}const mt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ot extends Mu{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Rc{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class yD{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class gz{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(ta.UNAUTHENTICATED)))}shutdown(){}}class xz{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class yz{constructor(e){this.t=e,this.currentUser=ta.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){pn(this.o===void 0,42304);let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let s=new Rc;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Rc,e.enqueueRetryable((()=>i(this.currentUser)))};const a=()=>{const c=s;e.enqueueRetryable((async()=>{await c.promise,await i(this.currentUser)}))},o=c=>{Tt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit((c=>o(c))),setTimeout((()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?o(c):(Tt("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Rc)}}),0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Tt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(pn(typeof r.accessToken=="string",31837,{l:r}),new yD(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return pn(e===null||typeof e=="string",2055,{h:e}),new ta(e)}}class vz{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=ta.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class _z{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new vz(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(ta.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class xC{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class wz{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ul(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){pn(this.o===void 0,3512);const r=s=>{s.error!=null&&Tt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.m;return this.m=s.token,Tt("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>r(s)))};const i=s=>{Tt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((s=>i(s))),setTimeout((()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):Tt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new xC(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(pn(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new xC(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function bz(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class tT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=bz(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function Dn(t,e){return t<e?-1:t>e?1:0}function ub(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return z_(i)===z_(s)?Dn(i,s):z_(i)?1:-1}return Dn(t.length,e.length)}const Tz=55296,Ez=57343;function z_(t){const e=t.charCodeAt(0);return e>=Tz&&e<=Ez}function rp(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}function vD(t){return t+"\0"}const yC="__name__";class Ec{constructor(e,n,r){n===void 0?n=0:n>e.length&&rn(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&rn(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ec.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ec?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=Ec.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return Dn(e.length,n.length)}static compareSegments(e,n){const r=Ec.isNumericId(e),i=Ec.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Ec.extractNumericId(e).compare(Ec.extractNumericId(n)):ub(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Vf.fromString(e.substring(4,e.length-2))}}class Rr extends Ec{construct(e,n,r){return new Rr(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ot(mt.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new Rr(n)}static emptyPath(){return new Rr([])}}const Sz=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ai extends Ec{construct(e,n,r){return new Ai(e,n,r)}static isValidIdentifier(e){return Sz.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ai.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===yC}static keyField(){return new Ai([yC])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Ot(mt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const o=e[i];if(o==="\\"){if(i+1===e.length)throw new Ot(mt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Ot(mt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else o==="`"?(a=!a,i++):o!=="."||a?(r+=o,i++):(s(),i++)}if(s(),a)throw new Ot(mt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ai(n)}static emptyPath(){return new Ai([])}}class Vt{constructor(e){this.path=e}static fromPath(e){return new Vt(Rr.fromString(e))}static fromName(e){return new Vt(Rr.fromString(e).popFirst(5))}static empty(){return new Vt(Rr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Rr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Rr.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Vt(new Rr(e.slice()))}}function _D(t,e,n){if(!n)throw new Ot(mt.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Az(t,e,n,r){if(e===!0&&r===!0)throw new Ot(mt.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function vC(t){if(!Vt.isDocumentKey(t))throw new Ot(mt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function _C(t){if(Vt.isDocumentKey(t))throw new Ot(mt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function wD(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function nT(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":rn(12329,{type:typeof t})}function Fc(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ot(mt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=nT(t);throw new Ot(mt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function ls(t,e){const n={typeString:t};return e&&(n.value=e),n}function r1(t,e){if(!wD(t))throw new Ot(mt.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const a=t[r];if(i&&typeof a!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&a!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new Ot(mt.INVALID_ARGUMENT,n);return!0}const wC=-62135596800,bC=1e6;class Or{static now(){return Or.fromMillis(Date.now())}static fromDate(e){return Or.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*bC);return new Or(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ot(mt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ot(mt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<wC)throw new Ot(mt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ot(mt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/bC}_compareTo(e){return this.seconds===e.seconds?Dn(this.nanoseconds,e.nanoseconds):Dn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Or._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(r1(e,Or._jsonSchema))return new Or(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-wC;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Or._jsonSchemaVersion="firestore/timestamp/1.0",Or._jsonSchema={type:ls("string",Or._jsonSchemaVersion),seconds:ls("number"),nanoseconds:ls("number")};class bn{static fromTimestamp(e){return new bn(e)}static min(){return new bn(new Or(0,0))}static max(){return new bn(new Or(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const wg=-1;class Vy{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function fb(t){return t.fields.find((e=>e.kind===2))}function Sh(t){return t.fields.filter((e=>e.kind!==2))}Vy.UNKNOWN_ID=-1;class ey{constructor(e,n){this.fieldPath=e,this.kind=n}}class bg{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new bg(0,Bo.min())}}function Cz(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=bn.fromTimestamp(r===1e9?new Or(n+1,0):new Or(n,r));return new Bo(i,Vt.empty(),e)}function bD(t){return new Bo(t.readTime,t.key,wg)}class Bo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Bo(bn.min(),Vt.empty(),wg)}static max(){return new Bo(bn.max(),Vt.empty(),wg)}}function rT(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Vt.comparator(t.documentKey,e.documentKey),n!==0?n:Dn(t.largestBatchId,e.largestBatchId))}const TD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ED{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function md(t){if(t.code!==mt.FAILED_PRECONDITION||t.message!==TD)throw t;Tt("LocalStore","Unexpectedly lost primary lease")}class $e{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&rn(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new $e(((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof $e?n:$e.resolve(n)}catch(n){return $e.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):$e.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):$e.reject(n)}static resolve(e){return new $e(((n,r)=>{n(e)}))}static reject(e){return new $e(((n,r)=>{r(e)}))}static waitFor(e){return new $e(((n,r)=>{let i=0,s=0,a=!1;e.forEach((o=>{++i,o.next((()=>{++s,a&&s===i&&n()}),(c=>r(c)))})),a=!0,s===i&&n()}))}static or(e){let n=$e.resolve(!1);for(const r of e)n=n.next((i=>i?$e.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,s)=>{r.push(n.call(this,i,s))})),this.waitFor(r)}static mapArray(e,n){return new $e(((r,i)=>{const s=e.length,a=new Array(s);let o=0;for(let c=0;c<s;c++){const f=c;n(e[f]).next((h=>{a[f]=h,++o,o===s&&r(a)}),(h=>i(h)))}}))}static doWhile(e,n){return new $e(((r,i)=>{const s=()=>{e()===!0?n().next((()=>{s()}),i):r()};s()}))}}const Lo="SimpleDb";class Rv{static open(e,n,r,i){try{return new Rv(n,e.transaction(i,r))}catch(s){throw new Wm(n,s)}}constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.S=new Rc,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{n.error?this.S.reject(new Wm(e,n.error)):this.S.resolve()},this.transaction.onerror=r=>{const i=iT(r.target.error);this.S.reject(new Wm(e,i))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(Tt(Lo,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new Iz(n)}}class Uf{static delete(e){return Tt(Lo,"Removing database:",e),Ih(gP().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!SP())return!1;if(Uf.F())return!0;const e=As(),n=Uf.M(e),r=0<n&&n<10,i=SD(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static F(){return typeof process<"u"&&process.__PRIVATE_env?.__PRIVATE_USE_MOCK_PERSISTENCE==="YES"}static O(e,n){return e.store(n)}static M(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,n,r){this.name=e,this.version=n,this.N=r,this.B=null,Uf.M(As())===12.2&&qa("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(Tt(Lo,"Opening database:",this.name),this.db=await new Promise(((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const a=s.target.result;n(a)},i.onblocked=()=>{r(new Wm(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const a=s.target.error;a.name==="VersionError"?r(new Ot(mt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a.name==="InvalidStateError"?r(new Ot(mt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a)):r(new Wm(e,a))},i.onupgradeneeded=s=>{Tt(Lo,'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const a=s.target.result;this.N.k(a,i.transaction,s.oldVersion,this.version).next((()=>{Tt(Lo,"Database upgrade to version "+this.version+" complete")}))}}))),this.q&&(this.db.onversionchange=n=>this.q(n)),this.db}$(e){this.q=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let a=0;for(;;){++a;try{this.db=await this.L(e);const o=Rv.open(this.db,e,s?"readonly":"readwrite",r),c=i(o).next((f=>(o.C(),f))).catch((f=>(o.abort(f),$e.reject(f)))).toPromise();return c.catch((()=>{})),await o.D,c}catch(o){const c=o,f=c.name!=="FirebaseError"&&a<3;if(Tt(Lo,"Transaction failed with error:",c.message,"Retrying:",f),this.close(),!f)return Promise.reject(c)}}}close(){this.db&&this.db.close(),this.db=void 0}}function SD(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class Nz{constructor(e){this.U=e,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(e){this.U=e}done(){this.K=!0}j(e){this.W=e}delete(){return Ih(this.U.delete())}}class Wm extends Ot{constructor(e,n){super(mt.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function eh(t){return t.name==="IndexedDbTransactionError"}class Iz{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(Tt(Lo,"PUT",this.store.name,e,n),r=this.store.put(n,e)):(Tt(Lo,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Ih(r)}add(e){return Tt(Lo,"ADD",this.store.name,e,e),Ih(this.store.add(e))}get(e){return Ih(this.store.get(e)).next((n=>(n===void 0&&(n=null),Tt(Lo,"GET",this.store.name,e,n),n)))}delete(e){return Tt(Lo,"DELETE",this.store.name,e),Ih(this.store.delete(e))}count(){return Tt(Lo,"COUNT",this.store.name),Ih(this.store.count())}J(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(r.range);return new $e(((a,o)=>{s.onerror=c=>{o(c.target.error)},s.onsuccess=c=>{a(c.target.result)}}))}{const s=this.cursor(r),a=[];return this.H(s,((o,c)=>{a.push(c)})).next((()=>a))}}Y(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new $e(((i,s)=>{r.onerror=a=>{s(a.target.error)},r.onsuccess=a=>{i(a.target.result)}}))}Z(e,n){Tt(Lo,"DELETE ALL",this.store.name);const r=this.options(e,n);r.X=!1;const i=this.cursor(r);return this.H(i,((s,a,o)=>o.delete()))}ee(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.H(i,n)}te(e){const n=this.cursor({});return new $e(((r,i)=>{n.onerror=s=>{const a=iT(s.target.error);i(a)},n.onsuccess=s=>{const a=s.target.result;a?e(a.primaryKey,a.value).next((o=>{o?a.continue():r()})):r()}}))}H(e,n){const r=[];return new $e(((i,s)=>{e.onerror=a=>{s(a.target.error)},e.onsuccess=a=>{const o=a.target.result;if(!o)return void i();const c=new Nz(o),f=n(o.primaryKey,o.value,c);if(f instanceof $e){const h=f.catch((p=>(c.done(),$e.reject(p))));r.push(h)}c.isDone?i():c.G===null?o.continue():o.continue(c.G)}})).next((()=>$e.waitFor(r)))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Ih(t){return new $e(((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=iT(r.target.error);n(i)}}))}let TC=!1;function iT(t){const e=Uf.M(As());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new Ot("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return TC||(TC=!0,setTimeout((()=>{throw r}),0)),r}}return t}const Km="IndexBackfiller";class kz{constructor(e,n){this.asyncQueue=e,this.ne=n,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){Tt(Km,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const n=await this.ne.ie();Tt(Km,`Documents written: ${n}`)}catch(n){eh(n)?Tt(Km,"Ignoring IndexedDB error during index backfill: ",n):await md(n)}await this.re(6e4)}))}}class Rz{constructor(e,n){this.localStore=e,this.persistence=n}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(n=>this.se(n,e)))}se(e,n){const r=new Set;let i=n,s=!0;return $e.doWhile((()=>s===!0&&i>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((a=>{if(a!==null&&!r.has(a))return Tt(Km,`Processing collection: ${a}`),this.oe(e,a,i).next((o=>{i-=o,r.add(a)}));s=!1})))).next((()=>n-i))}oe(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next((i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next((s=>{const a=s.changes;return this.localStore.indexManager.updateIndexEntries(e,a).next((()=>this._e(i,s))).next((o=>(Tt(Km,`Updating offset: ${o}`),this.localStore.indexManager.updateCollectionGroup(e,n,o)))).next((()=>a.size))}))))}_e(e,n){let r=e;return n.changes.forEach(((i,s)=>{const a=bD(s);rT(a,r)>0&&(r=a)})),new Bo(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}class hl{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}hl.ce=-1;const Bh=-1;function Pv(t){return t==null}function Tg(t){return t===0&&1/t==-1/0}function Pz(t){return typeof t=="number"&&Number.isInteger(t)&&!Tg(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const Uy="";function Ca(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=EC(e)),e=Dz(t.get(n),e);return EC(e)}function Dz(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case Uy:n+="";break;default:n+=s}}return n}function EC(t){return t+Uy+""}function Sc(t){const e=t.length;if(pn(e>=2,64408,{path:t}),e===2)return pn(t.charAt(0)===Uy&&t.charAt(1)==="",56145,{path:t}),Rr.emptyPath();const n=e-2,r=[];let i="";for(let s=0;s<e;){const a=t.indexOf(Uy,s);switch((a<0||a>n)&&rn(50515,{path:t}),t.charAt(a+1)){case"":const o=t.substring(s,a);let c;i.length===0?c=o:(i+=o,c=i,i=""),r.push(c);break;case"":i+=t.substring(s,a),i+="\0";break;case"":i+=t.substring(s,a+1);break;default:rn(61167,{path:t})}s=a+2}return new Rr(r)}const Ah="remoteDocuments",i1="owner",o0="owner",Eg="mutationQueues",Mz="userId",zl="mutations",SC="batchId",Lh="userMutationsIndex",AC=["userId","batchId"];function ty(t,e){return[t,Ca(e)]}function AD(t,e,n){return[t,Ca(e),n]}const Lz={},ip="documentMutations",By="remoteDocumentsV14",Fz=["prefixPath","collectionGroup","readTime","documentId"],ny="documentKeyIndex",Oz=["prefixPath","collectionGroup","documentId"],CD="collectionGroupIndex",Vz=["collectionGroup","readTime","prefixPath","documentId"],Sg="remoteDocumentGlobal",hb="remoteDocumentGlobalKey",sp="targets",ND="queryTargetsIndex",Uz=["canonicalId","targetId"],ap="targetDocuments",Bz=["targetId","path"],sT="documentTargetsIndex",jz=["path","targetId"],jy="targetGlobalKey",jh="targetGlobal",Ag="collectionParents",qz=["collectionId","parent"],op="clientMetadata",Hz="clientId",Dv="bundles",zz="bundleId",Mv="namedQueries",Gz="name",aT="indexConfiguration",$z="indexId",db="collectionGroupIndex",Wz="collectionGroup",Ym="indexState",Kz=["indexId","uid"],ID="sequenceNumberIndex",Yz=["uid","sequenceNumber"],Xm="indexEntries",Xz=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],kD="documentKeyIndex",Jz=["indexId","uid","orderedDocumentKey"],Lv="documentOverlays",Qz=["userId","collectionPath","documentId"],pb="collectionPathOverlayIndex",Zz=["userId","collectionPath","largestBatchId"],RD="collectionGroupOverlayIndex",eG=["userId","collectionGroup","largestBatchId"],oT="globals",tG="name",PD=[Eg,zl,ip,Ah,sp,i1,jh,ap,op,Sg,Ag,Dv,Mv],nG=[...PD,Lv],DD=[Eg,zl,ip,By,sp,i1,jh,ap,op,Sg,Ag,Dv,Mv,Lv],MD=DD,lT=[...MD,aT,Ym,Xm],rG=lT,LD=[...lT,oT],iG=LD;class mb extends ED{constructor(e,n){super(),this.le=e,this.currentSequenceNumber=n}}function Cs(t,e){const n=Mn(t);return Uf.O(n.le,e)}function CC(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function th(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function FD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class vi{constructor(e,n){this.comparator=e,this.root=n||na.EMPTY}insert(e,n){return new vi(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,na.BLACK,null,null))}remove(e){return new vi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,na.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new yx(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new yx(this.root,e,this.comparator,!1)}getReverseIterator(){return new yx(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new yx(this.root,e,this.comparator,!0)}}class yx{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class na{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??na.RED,this.left=i??na.EMPTY,this.right=s??na.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new na(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return na.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return na.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,na.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,na.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw rn(43730,{key:this.key,value:this.value});if(this.right.isRed())throw rn(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw rn(27949);return e+(this.isRed()?0:1)}}na.EMPTY=null,na.RED=!0,na.BLACK=!1;na.EMPTY=new class{constructor(){this.size=0}get key(){throw rn(57766)}get value(){throw rn(16141)}get color(){throw rn(16727)}get left(){throw rn(29726)}get right(){throw rn(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new na(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Vr{constructor(e){this.comparator=e,this.data=new vi(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new NC(this.data.getIterator())}getIteratorFrom(e){return new NC(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Vr)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Vr(this.comparator);return n.data=e,n}}class NC{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function l0(t){return t.hasNext()?t.getNext():void 0}class xo{constructor(e){this.fields=e,e.sort(Ai.comparator)}static empty(){return new xo([])}unionWith(e){let n=new Vr(Ai.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new xo(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return rp(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class OD extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class cs{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new OD("Invalid base64 string: "+s):s}})(e);return new cs(n)}static fromUint8Array(e){const n=(function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s})(e);return new cs(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Dn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}cs.EMPTY_BYTE_STRING=new cs("");const sG=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Iu(t){if(pn(!!t,39018),typeof t=="string"){let e=0;const n=sG.exec(t);if(pn(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:xi(t.seconds),nanos:xi(t.nanos)}}function xi(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ku(t){return typeof t=="string"?cs.fromBase64String(t):cs.fromUint8Array(t)}const VD="server_timestamp",UD="__type__",BD="__previous_value__",jD="__local_write_time__";function cT(t){return(t?.mapValue?.fields||{})[UD]?.stringValue===VD}function Fv(t){const e=t.mapValue.fields[BD];return cT(e)?Fv(e):e}function Cg(t){const e=Iu(t.mapValue.fields[jD].timestampValue);return new Or(e.seconds,e.nanos)}class aG{constructor(e,n,r,i,s,a,o,c,f,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=c,this.useFetchStreams=f,this.isUsingEmulator=h}}const qy="(default)";class td{constructor(e,n){this.projectId=e,this.database=n||qy}static empty(){return new td("","")}get isDefaultDatabase(){return this.database===qy}isEqual(e){return e instanceof td&&e.projectId===this.projectId&&e.database===this.database}}const uT="__type__",qD="__max__",kf={mapValue:{fields:{__type__:{stringValue:qD}}}},fT="__vector__",lp="value",ry={nullValue:"NULL_VALUE"};function Hf(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?cT(t)?4:HD(t)?9007199254740991:Ov(t)?10:11:rn(28295,{value:t})}function Oc(t,e){if(t===e)return!0;const n=Hf(t);if(n!==Hf(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Cg(t).isEqual(Cg(e));case 3:return(function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=Iu(i.timestampValue),o=Iu(s.timestampValue);return a.seconds===o.seconds&&a.nanos===o.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,s){return ku(i.bytesValue).isEqual(ku(s.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,s){return xi(i.geoPointValue.latitude)===xi(s.geoPointValue.latitude)&&xi(i.geoPointValue.longitude)===xi(s.geoPointValue.longitude)})(t,e);case 2:return(function(i,s){if("integerValue"in i&&"integerValue"in s)return xi(i.integerValue)===xi(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=xi(i.doubleValue),o=xi(s.doubleValue);return a===o?Tg(a)===Tg(o):isNaN(a)&&isNaN(o)}return!1})(t,e);case 9:return rp(t.arrayValue.values||[],e.arrayValue.values||[],Oc);case 10:case 11:return(function(i,s){const a=i.mapValue.fields||{},o=s.mapValue.fields||{};if(CC(a)!==CC(o))return!1;for(const c in a)if(a.hasOwnProperty(c)&&(o[c]===void 0||!Oc(a[c],o[c])))return!1;return!0})(t,e);default:return rn(52216,{left:t})}}function Ng(t,e){return(t.values||[]).find((n=>Oc(n,e)))!==void 0}function zf(t,e){if(t===e)return 0;const n=Hf(t),r=Hf(e);if(n!==r)return Dn(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Dn(t.booleanValue,e.booleanValue);case 2:return(function(s,a){const o=xi(s.integerValue||s.doubleValue),c=xi(a.integerValue||a.doubleValue);return o<c?-1:o>c?1:o===c?0:isNaN(o)?isNaN(c)?0:-1:1})(t,e);case 3:return IC(t.timestampValue,e.timestampValue);case 4:return IC(Cg(t),Cg(e));case 5:return ub(t.stringValue,e.stringValue);case 6:return(function(s,a){const o=ku(s),c=ku(a);return o.compareTo(c)})(t.bytesValue,e.bytesValue);case 7:return(function(s,a){const o=s.split("/"),c=a.split("/");for(let f=0;f<o.length&&f<c.length;f++){const h=Dn(o[f],c[f]);if(h!==0)return h}return Dn(o.length,c.length)})(t.referenceValue,e.referenceValue);case 8:return(function(s,a){const o=Dn(xi(s.latitude),xi(a.latitude));return o!==0?o:Dn(xi(s.longitude),xi(a.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return kC(t.arrayValue,e.arrayValue);case 10:return(function(s,a){const o=s.fields||{},c=a.fields||{},f=o[lp]?.arrayValue,h=c[lp]?.arrayValue,p=Dn(f?.values?.length||0,h?.values?.length||0);return p!==0?p:kC(f,h)})(t.mapValue,e.mapValue);case 11:return(function(s,a){if(s===kf.mapValue&&a===kf.mapValue)return 0;if(s===kf.mapValue)return 1;if(a===kf.mapValue)return-1;const o=s.fields||{},c=Object.keys(o),f=a.fields||{},h=Object.keys(f);c.sort(),h.sort();for(let p=0;p<c.length&&p<h.length;++p){const g=ub(c[p],h[p]);if(g!==0)return g;const x=zf(o[c[p]],f[h[p]]);if(x!==0)return x}return Dn(c.length,h.length)})(t.mapValue,e.mapValue);default:throw rn(23264,{he:n})}}function IC(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Dn(t,e);const n=Iu(t),r=Iu(e),i=Dn(n.seconds,r.seconds);return i!==0?i:Dn(n.nanos,r.nanos)}function kC(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=zf(n[i],r[i]);if(s)return s}return Dn(n.length,r.length)}function cp(t){return gb(t)}function gb(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Iu(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return ku(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Vt.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=gb(s);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const a of r)s?s=!1:i+=",",i+=`${a}:${gb(n.fields[a])}`;return i+"}"})(t.mapValue):rn(61005,{value:t})}function iy(t){switch(Hf(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Fv(t);return e?16+iy(e):16;case 5:return 2*t.stringValue.length;case 6:return ku(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,s)=>i+iy(s)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return th(r.fields,((s,a)=>{i+=s.length+iy(a)})),i})(t.mapValue);default:throw rn(13486,{value:t})}}function hT(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function xb(t){return!!t&&"integerValue"in t}function Ig(t){return!!t&&"arrayValue"in t}function RC(t){return!!t&&"nullValue"in t}function PC(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function sy(t){return!!t&&"mapValue"in t}function Ov(t){return(t?.mapValue?.fields||{})[uT]?.stringValue===fT}function Jm(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return th(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Jm(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Jm(t.arrayValue.values[n]);return e}return{...t}}function HD(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===qD}const zD={mapValue:{fields:{[uT]:{stringValue:fT},[lp]:{arrayValue:{}}}}};function oG(t){return"nullValue"in t?ry:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?hT(td.empty(),Vt.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?Ov(t)?zD:{mapValue:{}}:rn(35942,{value:t})}function lG(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?hT(td.empty(),Vt.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?zD:"mapValue"in t?Ov(t)?{mapValue:{}}:kf:rn(61959,{value:t})}function DC(t,e){const n=zf(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function MC(t,e){const n=zf(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}class ba{constructor(e){this.value=e}static empty(){return new ba({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!sy(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Jm(n)}setAll(e){let n=Ai.emptyPath(),r={},i=[];e.forEach(((a,o)=>{if(!n.isImmediateParentOf(o)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=o.popLast()}a?r[o.lastSegment()]=Jm(a):i.push(o.lastSegment())}));const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());sy(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Oc(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];sy(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){th(n,((i,s)=>e[i]=s));for(const i of r)delete e[i]}clone(){return new ba(Jm(this.value))}}function GD(t){const e=[];return th(t.fields,((n,r)=>{const i=new Ai([n]);if(sy(r)){const s=GD(r.mapValue).fields;if(s.length===0)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)})),new xo(e)}class Ui{constructor(e,n,r,i,s,a,o){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=a,this.documentState=o}static newInvalidDocument(e){return new Ui(e,0,bn.min(),bn.min(),bn.min(),ba.empty(),0)}static newFoundDocument(e,n,r,i){return new Ui(e,1,n,bn.min(),r,i,0)}static newNoDocument(e,n){return new Ui(e,2,n,bn.min(),bn.min(),ba.empty(),0)}static newUnknownDocument(e,n){return new Ui(e,3,n,bn.min(),bn.min(),ba.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(bn.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ba.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ba.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=bn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ui&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ui(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class up{constructor(e,n){this.position=e,this.inclusive=n}}function LC(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],a=t.position[i];if(s.field.isKeyField()?r=Vt.comparator(Vt.fromName(a.referenceValue),n.key):r=zf(a,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function FC(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Oc(t.position[n],e.position[n]))return!1;return!0}class Hy{constructor(e,n="asc"){this.field=e,this.dir=n}}function cG(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class $D{}class lr extends $D{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new uG(e,n,r):n==="array-contains"?new dG(e,r):n==="in"?new QD(e,r):n==="not-in"?new pG(e,r):n==="array-contains-any"?new mG(e,r):new lr(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new fG(e,r):new hG(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(zf(n,this.value)):n!==null&&Hf(this.value)===Hf(n)&&this.matchesComparison(zf(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return rn(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Wr extends $D{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Wr(e,n)}matches(e){return fp(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function fp(t){return t.op==="and"}function yb(t){return t.op==="or"}function dT(t){return WD(t)&&fp(t)}function WD(t){for(const e of t.filters)if(e instanceof Wr)return!1;return!0}function vb(t){if(t instanceof lr)return t.field.canonicalString()+t.op.toString()+cp(t.value);if(dT(t))return t.filters.map((e=>vb(e))).join(",");{const e=t.filters.map((n=>vb(n))).join(",");return`${t.op}(${e})`}}function KD(t,e){return t instanceof lr?(function(r,i){return i instanceof lr&&r.op===i.op&&r.field.isEqual(i.field)&&Oc(r.value,i.value)})(t,e):t instanceof Wr?(function(r,i){return i instanceof Wr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((s,a,o)=>s&&KD(a,i.filters[o])),!0):!1})(t,e):void rn(19439)}function YD(t,e){const n=t.filters.concat(e);return Wr.create(n,t.op)}function XD(t){return t instanceof lr?(function(n){return`${n.field.canonicalString()} ${n.op} ${cp(n.value)}`})(t):t instanceof Wr?(function(n){return n.op.toString()+" {"+n.getFilters().map(XD).join(" ,")+"}"})(t):"Filter"}class uG extends lr{constructor(e,n,r){super(e,n,r),this.key=Vt.fromName(r.referenceValue)}matches(e){const n=Vt.comparator(e.key,this.key);return this.matchesComparison(n)}}class fG extends lr{constructor(e,n){super(e,"in",n),this.keys=JD("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class hG extends lr{constructor(e,n){super(e,"not-in",n),this.keys=JD("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function JD(t,e){return(e.arrayValue?.values||[]).map((n=>Vt.fromName(n.referenceValue)))}class dG extends lr{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ig(n)&&Ng(n.arrayValue,this.value)}}class QD extends lr{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ng(this.value.arrayValue,n)}}class pG extends lr{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ng(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ng(this.value.arrayValue,n)}}class mG extends lr{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ig(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Ng(this.value.arrayValue,r)))}}class gG{constructor(e,n=null,r=[],i=[],s=null,a=null,o=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=a,this.endAt=o,this.Te=null}}function _b(t,e=null,n=[],r=[],i=null,s=null,a=null){return new gG(t,e,n,r,i,s,a)}function nd(t){const e=Mn(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>vb(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(s){return s.field.canonicalString()+s.dir})(r))).join(","),Pv(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>cp(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>cp(r))).join(",")),e.Te=n}return e.Te}function s1(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!cG(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!KD(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!FC(t.startAt,e.startAt)&&FC(t.endAt,e.endAt)}function zy(t){return Vt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function Gy(t,e){return t.filters.filter((n=>n instanceof lr&&n.field.isEqual(e)))}function OC(t,e,n){let r=ry,i=!0;for(const s of Gy(t,e)){let a=ry,o=!0;switch(s.op){case"<":case"<=":a=oG(s.value);break;case"==":case"in":case">=":a=s.value;break;case">":a=s.value,o=!1;break;case"!=":case"not-in":a=ry}DC({value:r,inclusive:i},{value:a,inclusive:o})<0&&(r=a,i=o)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const a=n.position[s];DC({value:r,inclusive:i},{value:a,inclusive:n.inclusive})<0&&(r=a,i=n.inclusive);break}}return{value:r,inclusive:i}}function VC(t,e,n){let r=kf,i=!0;for(const s of Gy(t,e)){let a=kf,o=!0;switch(s.op){case">=":case">":a=lG(s.value),o=!1;break;case"==":case"in":case"<=":a=s.value;break;case"<":a=s.value,o=!1;break;case"!=":case"not-in":a=kf}MC({value:r,inclusive:i},{value:a,inclusive:o})>0&&(r=a,i=o)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const a=n.position[s];MC({value:r,inclusive:i},{value:a,inclusive:n.inclusive})>0&&(r=a,i=n.inclusive);break}}return{value:r,inclusive:i}}class Vv{constructor(e,n=null,r=[],i=[],s=null,a="F",o=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=a,this.startAt=o,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function xG(t,e,n,r,i,s,a,o){return new Vv(t,e,n,r,i,s,a,o)}function Uv(t){return new Vv(t)}function UC(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function yG(t){return t.collectionGroup!==null}function Qm(t){const e=Mn(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let o=new Vr(Ai.comparator);return a.filters.forEach((c=>{c.getFlattenedFilters().forEach((f=>{f.isInequality()&&(o=o.add(f.field))}))})),o})(e).forEach((s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new Hy(s,r))})),n.has(Ai.keyField().canonicalString())||e.Ie.push(new Hy(Ai.keyField(),r))}return e.Ie}function pl(t){const e=Mn(t);return e.Ee||(e.Ee=vG(e,Qm(t))),e.Ee}function vG(t,e){if(t.limitType==="F")return _b(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const s=i.dir==="desc"?"asc":"desc";return new Hy(i.field,s)}));const n=t.endAt?new up(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new up(t.startAt.position,t.startAt.inclusive):null;return _b(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function wb(t,e,n){return new Vv(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Bv(t,e){return s1(pl(t),pl(e))&&t.limitType===e.limitType}function ZD(t){return`${nd(pl(t))}|lt:${t.limitType}`}function y0(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>XD(i))).join(", ")}]`),Pv(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(a){return`${a.field.canonicalString()} (${a.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>cp(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>cp(i))).join(",")),`Target(${r})`})(pl(t))}; limitType=${t.limitType})`}function a1(t,e){return e.isFoundDocument()&&(function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Vt.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)})(t,e)&&(function(r,i){for(const s of Qm(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(a,o,c){const f=LC(a,o,c);return a.inclusive?f<=0:f<0})(r.startAt,Qm(r),i)||r.endAt&&!(function(a,o,c){const f=LC(a,o,c);return a.inclusive?f>=0:f>0})(r.endAt,Qm(r),i))})(t,e)}function _G(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function e8(t){return(e,n)=>{let r=!1;for(const i of Qm(t)){const s=wG(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function wG(t,e,n){const r=t.field.isKeyField()?Vt.comparator(e.key,n.key):(function(s,a,o){const c=a.data.field(s),f=o.data.field(s);return c!==null&&f!==null?zf(c,f):rn(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return rn(19790,{direction:t.dir})}}class Lu{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){th(this.inner,((n,r)=>{for(const[i,s]of r)e(i,s)}))}isEmpty(){return FD(this.inner)}size(){return this.innerSize}}const bG=new vi(Vt.comparator);function Vo(){return bG}const t8=new vi(Vt.comparator);function Fm(...t){let e=t8;for(const n of t)e=e.insert(n.key,n);return e}function n8(t){let e=t8;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Ac(){return Zm()}function r8(){return Zm()}function Zm(){return new Lu((t=>t.toString()),((t,e)=>t.isEqual(e)))}const TG=new vi(Vt.comparator),EG=new Vr(Vt.comparator);function Kn(...t){let e=EG;for(const n of t)e=e.add(n);return e}const SG=new Vr(Dn);function AG(){return SG}function pT(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Tg(e)?"-0":e}}function i8(t){return{integerValue:""+t}}function CG(t,e){return Pz(e)?i8(e):pT(t,e)}class jv{constructor(){this._=void 0}}function NG(t,e,n){return t instanceof hp?(function(i,s){const a={fields:{[UD]:{stringValue:VD},[jD]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&cT(s)&&(s=Fv(s)),s&&(a.fields[BD]=s),{mapValue:a}})(n,e):t instanceof dp?a8(t,e):t instanceof pp?o8(t,e):(function(i,s){const a=s8(i,s),o=BC(a)+BC(i.Ae);return xb(a)&&xb(i.Ae)?i8(o):pT(i.serializer,o)})(t,e)}function IG(t,e,n){return t instanceof dp?a8(t,e):t instanceof pp?o8(t,e):n}function s8(t,e){return t instanceof kg?(function(r){return xb(r)||(function(s){return!!s&&"doubleValue"in s})(r)})(e)?e:{integerValue:0}:null}class hp extends jv{}class dp extends jv{constructor(e){super(),this.elements=e}}function a8(t,e){const n=l8(e);for(const r of t.elements)n.some((i=>Oc(i,r)))||n.push(r);return{arrayValue:{values:n}}}class pp extends jv{constructor(e){super(),this.elements=e}}function o8(t,e){let n=l8(e);for(const r of t.elements)n=n.filter((i=>!Oc(i,r)));return{arrayValue:{values:n}}}class kg extends jv{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function BC(t){return xi(t.integerValue||t.doubleValue)}function l8(t){return Ig(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class c8{constructor(e,n){this.field=e,this.transform=n}}function kG(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof dp&&i instanceof dp||r instanceof pp&&i instanceof pp?rp(r.elements,i.elements,Oc):r instanceof kg&&i instanceof kg?Oc(r.Ae,i.Ae):r instanceof hp&&i instanceof hp})(t.transform,e.transform)}class RG{constructor(e,n){this.version=e,this.transformResults=n}}class sa{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new sa}static exists(e){return new sa(void 0,e)}static updateTime(e){return new sa(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ay(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class qv{}function u8(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new o1(t.key,sa.none()):new Cp(t.key,t.data,sa.none());{const n=t.data,r=ba.empty();let i=new Vr(Ai.comparator);for(let s of e.fields)if(!i.has(s)){let a=n.field(s);a===null&&s.length>1&&(s=s.popLast(),a=n.field(s)),a===null?r.delete(s):r.set(s,a),i=i.add(s)}return new Fu(t.key,r,new xo(i.toArray()),sa.none())}}function PG(t,e,n){t instanceof Cp?(function(i,s,a){const o=i.value.clone(),c=qC(i.fieldTransforms,s,a.transformResults);o.setAll(c),s.convertToFoundDocument(a.version,o).setHasCommittedMutations()})(t,e,n):t instanceof Fu?(function(i,s,a){if(!ay(i.precondition,s))return void s.convertToUnknownDocument(a.version);const o=qC(i.fieldTransforms,s,a.transformResults),c=s.data;c.setAll(f8(i)),c.setAll(o),s.convertToFoundDocument(a.version,c).setHasCommittedMutations()})(t,e,n):(function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()})(0,e,n)}function eg(t,e,n,r){return t instanceof Cp?(function(s,a,o,c){if(!ay(s.precondition,a))return o;const f=s.value.clone(),h=HC(s.fieldTransforms,c,a);return f.setAll(h),a.convertToFoundDocument(a.version,f).setHasLocalMutations(),null})(t,e,n,r):t instanceof Fu?(function(s,a,o,c){if(!ay(s.precondition,a))return o;const f=HC(s.fieldTransforms,c,a),h=a.data;return h.setAll(f8(s)),h.setAll(f),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),o===null?null:o.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((p=>p.field)))})(t,e,n,r):(function(s,a,o){return ay(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):o})(t,e,n)}function DG(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=s8(r.transform,i||null);s!=null&&(n===null&&(n=ba.empty()),n.set(r.field,s))}return n||null}function jC(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&rp(r,i,((s,a)=>kG(s,a)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Cp extends qv{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Fu extends qv{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function f8(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function qC(t,e,n){const r=new Map;pn(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const s=t[i],a=s.transform,o=e.data.field(s.field);r.set(s.field,IG(a,o,n[i]))}return r}function HC(t,e,n){const r=new Map;for(const i of t){const s=i.transform,a=n.data.field(i.field);r.set(i.field,NG(s,a,e))}return r}class o1 extends qv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class h8 extends qv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class mT{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&PG(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=eg(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=eg(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=r8();return this.mutations.forEach((i=>{const s=e.get(i.key),a=s.overlayedDocument;let o=this.applyToLocalView(a,s.mutatedFields);o=n.has(i.key)?null:o;const c=u8(a,o);c!==null&&r.set(i.key,c),a.isValidDocument()||a.convertToNoDocument(bn.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Kn())}isEqual(e){return this.batchId===e.batchId&&rp(this.mutations,e.mutations,((n,r)=>jC(n,r)))&&rp(this.baseMutations,e.baseMutations,((n,r)=>jC(n,r)))}}class gT{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){pn(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return TG})();const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,r[a].version);return new gT(e,n,r,i)}}class xT{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class MG{constructor(e,n){this.count=e,this.unchangedNames=n}}var is,dr;function LG(t){switch(t){case mt.OK:return rn(64938);case mt.CANCELLED:case mt.UNKNOWN:case mt.DEADLINE_EXCEEDED:case mt.RESOURCE_EXHAUSTED:case mt.INTERNAL:case mt.UNAVAILABLE:case mt.UNAUTHENTICATED:return!1;case mt.INVALID_ARGUMENT:case mt.NOT_FOUND:case mt.ALREADY_EXISTS:case mt.PERMISSION_DENIED:case mt.FAILED_PRECONDITION:case mt.ABORTED:case mt.OUT_OF_RANGE:case mt.UNIMPLEMENTED:case mt.DATA_LOSS:return!0;default:return rn(15467,{code:t})}}function d8(t){if(t===void 0)return qa("GRPC error has no .code"),mt.UNKNOWN;switch(t){case is.OK:return mt.OK;case is.CANCELLED:return mt.CANCELLED;case is.UNKNOWN:return mt.UNKNOWN;case is.DEADLINE_EXCEEDED:return mt.DEADLINE_EXCEEDED;case is.RESOURCE_EXHAUSTED:return mt.RESOURCE_EXHAUSTED;case is.INTERNAL:return mt.INTERNAL;case is.UNAVAILABLE:return mt.UNAVAILABLE;case is.UNAUTHENTICATED:return mt.UNAUTHENTICATED;case is.INVALID_ARGUMENT:return mt.INVALID_ARGUMENT;case is.NOT_FOUND:return mt.NOT_FOUND;case is.ALREADY_EXISTS:return mt.ALREADY_EXISTS;case is.PERMISSION_DENIED:return mt.PERMISSION_DENIED;case is.FAILED_PRECONDITION:return mt.FAILED_PRECONDITION;case is.ABORTED:return mt.ABORTED;case is.OUT_OF_RANGE:return mt.OUT_OF_RANGE;case is.UNIMPLEMENTED:return mt.UNIMPLEMENTED;case is.DATA_LOSS:return mt.DATA_LOSS;default:return rn(39323,{code:t})}}(dr=is||(is={}))[dr.OK=0]="OK",dr[dr.CANCELLED=1]="CANCELLED",dr[dr.UNKNOWN=2]="UNKNOWN",dr[dr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",dr[dr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",dr[dr.NOT_FOUND=5]="NOT_FOUND",dr[dr.ALREADY_EXISTS=6]="ALREADY_EXISTS",dr[dr.PERMISSION_DENIED=7]="PERMISSION_DENIED",dr[dr.UNAUTHENTICATED=16]="UNAUTHENTICATED",dr[dr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",dr[dr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",dr[dr.ABORTED=10]="ABORTED",dr[dr.OUT_OF_RANGE=11]="OUT_OF_RANGE",dr[dr.UNIMPLEMENTED=12]="UNIMPLEMENTED",dr[dr.INTERNAL=13]="INTERNAL",dr[dr.UNAVAILABLE=14]="UNAVAILABLE",dr[dr.DATA_LOSS=15]="DATA_LOSS";function FG(){return new TextEncoder}const OG=new Vf([4294967295,4294967295],0);function zC(t){const e=FG().encode(t),n=new fD;return n.update(e),new Uint8Array(n.digest())}function GC(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Vf([n,r],0),new Vf([i,s],0)]}class yT{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Om(`Invalid padding: ${n}`);if(r<0)throw new Om(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Om(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Om(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Vf.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Vf.fromNumber(r)));return i.compare(OG)===1&&(i=new Vf([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=zC(e),[r,i]=GC(n);for(let s=0;s<this.hashCount;s++){const a=this.ye(r,i,s);if(!this.we(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new yT(s,i,n);return r.forEach((o=>a.insert(o))),a}insert(e){if(this.ge===0)return;const n=zC(e),[r,i]=GC(n);for(let s=0;s<this.hashCount;s++){const a=this.ye(r,i,s);this.Se(a)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Om extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Hv{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,l1.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Hv(bn.min(),i,new vi(Dn),Vo(),Kn())}}class l1{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new l1(r,n,Kn(),Kn(),Kn())}}class oy{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class p8{constructor(e,n){this.targetId=e,this.Ce=n}}class m8{constructor(e,n,r=cs.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class $C{constructor(){this.ve=0,this.Fe=WC(),this.Me=cs.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Kn(),n=Kn(),r=Kn();return this.Fe.forEach(((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:rn(38017,{changeType:s})}})),new l1(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=WC()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,pn(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class VG{constructor(e){this.Ge=e,this.ze=new Map,this.je=Vo(),this.Je=vx(),this.He=vx(),this.Ye=new vi(Dn)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:rn(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if(zy(s))if(r===0){const a=new Vt(s.path);this.et(n,a,Ui.newNoDocument(a,bn.min()))}else pn(r===1,20013,{expectedCount:r});else{const a=this._t(n);if(a!==r){const o=this.ut(e),c=o?this.ct(o,e,a):1;if(c!==0){this.it(n);const f=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,f)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let a,o;try{a=ku(r).toUint8Array()}catch(c){if(c instanceof OD)return ed("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{o=new yT(a,i,s)}catch(c){return ed(c instanceof Om?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return o.ge===0?null:o}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((s=>{const a=this.Ge.ht(),o=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(o)||(this.et(n,s,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((s,a)=>{const o=this.ot(a);if(o){if(s.current&&zy(o.target)){const c=new Vt(o.target.path);this.It(c).has(a)||this.Et(a,c)||this.et(a,c,Ui.newNoDocument(c,e))}s.Be&&(n.set(a,s.ke()),s.qe())}}));let r=Kn();this.He.forEach(((s,a)=>{let o=!0;a.forEachWhile((c=>{const f=this.ot(c);return!f||f.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)})),o&&(r=r.add(s))})),this.je.forEach(((s,a)=>a.setReadTime(e)));const i=new Hv(e,n,this.Ye,this.je,r);return this.je=Vo(),this.Je=vx(),this.He=vx(),this.Ye=new vi(Dn),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new $C,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Vr(Dn),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Vr(Dn),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Tt("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new $C),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function vx(){return new vi(Vt.comparator)}function WC(){return new vi(Vt.comparator)}const UG={asc:"ASCENDING",desc:"DESCENDING"},BG={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},jG={and:"AND",or:"OR"};class qG{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function bb(t,e){return t.useProto3Json||Pv(e)?e:{value:e}}function mp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function g8(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function HG(t,e){return mp(t,e.toTimestamp())}function Ga(t){return pn(!!t,49232),bn.fromTimestamp((function(n){const r=Iu(n);return new Or(r.seconds,r.nanos)})(t))}function vT(t,e){return Tb(t,e).canonicalString()}function Tb(t,e){const n=(function(i){return new Rr(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function x8(t){const e=Rr.fromString(t);return pn(A8(e),10190,{key:e.toString()}),e}function $y(t,e){return vT(t.databaseId,e.path)}function qh(t,e){const n=x8(e);if(n.get(1)!==t.databaseId.projectId)throw new Ot(mt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ot(mt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Vt(_8(n))}function y8(t,e){return vT(t.databaseId,e)}function v8(t){const e=x8(t);return e.length===4?Rr.emptyPath():_8(e)}function Eb(t){return new Rr(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function _8(t){return pn(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function KC(t,e,n){return{name:$y(t,e),fields:n.value.mapValue.fields}}function zG(t,e,n){const r=qh(t,e.name),i=Ga(e.updateTime),s=e.createTime?Ga(e.createTime):bn.min(),a=new ba({mapValue:{fields:e.fields}}),o=Ui.newFoundDocument(r,i,s,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function GG(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:rn(39313,{state:f})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=(function(f,h){return f.useProto3Json?(pn(h===void 0||typeof h=="string",58123),cs.fromBase64String(h||"")):(pn(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),cs.fromUint8Array(h||new Uint8Array))})(t,e.targetChange.resumeToken),a=e.targetChange.cause,o=a&&(function(f){const h=f.code===void 0?mt.UNKNOWN:d8(f.code);return new Ot(h,f.message||"")})(a);n=new m8(r,i,s,o||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=qh(t,r.document.name),s=Ga(r.document.updateTime),a=r.document.createTime?Ga(r.document.createTime):bn.min(),o=new ba({mapValue:{fields:r.document.fields}}),c=Ui.newFoundDocument(i,s,a,o),f=r.targetIds||[],h=r.removedTargetIds||[];n=new oy(f,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=qh(t,r.document),s=r.readTime?Ga(r.readTime):bn.min(),a=Ui.newNoDocument(i,s),o=r.removedTargetIds||[];n=new oy([],o,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=qh(t,r.document),s=r.removedTargetIds||[];n=new oy([],s,i,null)}else{if(!("filter"in e))return rn(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,a=new MG(i,s),o=r.targetId;n=new p8(o,a)}}return n}function Wy(t,e){let n;if(e instanceof Cp)n={update:KC(t,e.key,e.value)};else if(e instanceof o1)n={delete:$y(t,e.key)};else if(e instanceof Fu)n={update:KC(t,e.key,e.data),updateMask:JG(e.fieldMask)};else{if(!(e instanceof h8))return rn(16599,{Vt:e.type});n={verify:$y(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(s,a){const o=a.transform;if(o instanceof hp)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof dp)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof pp)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof kg)return{fieldPath:a.field.canonicalString(),increment:o.Ae};throw rn(20930,{transform:a.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,s){return s.updateTime!==void 0?{updateTime:HG(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:rn(27497)})(t,e.precondition)),n}function Sb(t,e){const n=e.currentDocument?(function(s){return s.updateTime!==void 0?sa.updateTime(Ga(s.updateTime)):s.exists!==void 0?sa.exists(s.exists):sa.none()})(e.currentDocument):sa.none(),r=e.updateTransforms?e.updateTransforms.map((i=>(function(a,o){let c=null;if("setToServerValue"in o)pn(o.setToServerValue==="REQUEST_TIME",16630,{proto:o}),c=new hp;else if("appendMissingElements"in o){const h=o.appendMissingElements.values||[];c=new dp(h)}else if("removeAllFromArray"in o){const h=o.removeAllFromArray.values||[];c=new pp(h)}else"increment"in o?c=new kg(a,o.increment):rn(16584,{proto:o});const f=Ai.fromServerFormat(o.fieldPath);return new c8(f,c)})(t,i))):[];if(e.update){e.update.name;const i=qh(t,e.update.name),s=new ba({mapValue:{fields:e.update.fields}});if(e.updateMask){const a=(function(c){const f=c.fieldPaths||[];return new xo(f.map((h=>Ai.fromServerFormat(h))))})(e.updateMask);return new Fu(i,s,a,n,r)}return new Cp(i,s,n,r)}if(e.delete){const i=qh(t,e.delete);return new o1(i,n)}if(e.verify){const i=qh(t,e.verify);return new h8(i,n)}return rn(1463,{proto:e})}function $G(t,e){return t&&t.length>0?(pn(e!==void 0,14353),t.map((n=>(function(i,s){let a=i.updateTime?Ga(i.updateTime):Ga(s);return a.isEqual(bn.min())&&(a=Ga(s)),new RG(a,i.transformResults||[])})(n,e)))):[]}function w8(t,e){return{documents:[y8(t,e.path)]}}function b8(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=y8(t,i);const s=(function(f){if(f.length!==0)return S8(Wr.create(f,"and"))})(e.filters);s&&(n.structuredQuery.where=s);const a=(function(f){if(f.length!==0)return f.map((h=>(function(g){return{field:v0(g.field),direction:KG(g.dir)}})(h)))})(e.orderBy);a&&(n.structuredQuery.orderBy=a);const o=bb(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(e.endAt)),{ft:n,parent:i}}function T8(t){let e=v8(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){pn(r===1,65062);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=(function(p){const g=E8(p);return g instanceof Wr&&dT(g)?g.getFilters():[g]})(n.where));let a=[];n.orderBy&&(a=(function(p){return p.map((g=>(function(T){return new Hy(_0(T.field),(function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(T.direction))})(g)))})(n.orderBy));let o=null;n.limit&&(o=(function(p){let g;return g=typeof p=="object"?p.value:p,Pv(g)?null:g})(n.limit));let c=null;n.startAt&&(c=(function(p){const g=!!p.before,x=p.values||[];return new up(x,g)})(n.startAt));let f=null;return n.endAt&&(f=(function(p){const g=!p.before,x=p.values||[];return new up(x,g)})(n.endAt)),xG(e,i,a,s,o,"F",c,f)}function WG(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return rn(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function E8(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=_0(n.unaryFilter.field);return lr.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=_0(n.unaryFilter.field);return lr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=_0(n.unaryFilter.field);return lr.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=_0(n.unaryFilter.field);return lr.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return rn(61313);default:return rn(60726)}})(t):t.fieldFilter!==void 0?(function(n){return lr.create(_0(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return rn(58110);default:return rn(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Wr.create(n.compositeFilter.filters.map((r=>E8(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return rn(1026)}})(n.compositeFilter.op))})(t):rn(30097,{filter:t})}function KG(t){return UG[t]}function YG(t){return BG[t]}function XG(t){return jG[t]}function v0(t){return{fieldPath:t.canonicalString()}}function _0(t){return Ai.fromServerFormat(t.fieldPath)}function S8(t){return t instanceof lr?(function(n){if(n.op==="=="){if(PC(n.value))return{unaryFilter:{field:v0(n.field),op:"IS_NAN"}};if(RC(n.value))return{unaryFilter:{field:v0(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(PC(n.value))return{unaryFilter:{field:v0(n.field),op:"IS_NOT_NAN"}};if(RC(n.value))return{unaryFilter:{field:v0(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:v0(n.field),op:YG(n.op),value:n.value}}})(t):t instanceof Wr?(function(n){const r=n.getFilters().map((i=>S8(i)));return r.length===1?r[0]:{compositeFilter:{op:XG(n.op),filters:r}}})(t):rn(54877,{filter:t})}function JG(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function A8(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class wu{constructor(e,n,r,i,s=bn.min(),a=bn.min(),o=cs.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=c}withSequenceNumber(e){return new wu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new wu(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new wu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new wu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class C8{constructor(e){this.yt=e}}function QG(t,e){let n;if(e.document)n=zG(t.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Vt.fromSegments(e.noDocument.path),i=id(e.noDocument.readTime);n=Ui.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return rn(56709);{const r=Vt.fromSegments(e.unknownDocument.path),i=id(e.unknownDocument.version);n=Ui.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime((function(i){const s=new Or(i[0],i[1]);return bn.fromTimestamp(s)})(e.readTime)),n}function YC(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Ky(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=(function(s,a){return{name:$y(s,a.key),fields:a.data.value.mapValue.fields,updateTime:mp(s,a.version.toTimestamp()),createTime:mp(s,a.createTime.toTimestamp())}})(t.yt,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:rd(e.version)};else{if(!e.isUnknownDocument())return rn(57904,{document:e});r.unknownDocument={path:n.path.toArray(),version:rd(e.version)}}return r}function Ky(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function rd(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function id(t){const e=new Or(t.seconds,t.nanoseconds);return bn.fromTimestamp(e)}function kh(t,e){const n=(e.baseMutations||[]).map((s=>Sb(t.yt,s)));for(let s=0;s<e.mutations.length-1;++s){const a=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const o=e.mutations[s+1];a.updateTransforms=o.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const r=e.mutations.map((s=>Sb(t.yt,s))),i=Or.fromMillis(e.localWriteTimeMs);return new mT(e.batchId,i,n,r)}function Vm(t){const e=id(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?id(t.lastLimboFreeSnapshotVersion):bn.min();let r;return r=(function(s){return s.documents!==void 0})(t.query)?(function(s){const a=s.documents.length;return pn(a===1,1966,{count:a}),pl(Uv(v8(s.documents[0])))})(t.query):(function(s){return pl(T8(s))})(t.query),new wu(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,cs.fromBase64String(t.resumeToken))}function N8(t,e){const n=rd(e.snapshotVersion),r=rd(e.lastLimboFreeSnapshotVersion);let i;i=zy(e.target)?w8(t.yt,e.target):b8(t.yt,e.target).ft;const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:nd(e.target),readTime:n,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function I8(t){const e=T8({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?wb(e,e.limit,"L"):e}function G_(t,e){return new xT(e.largestBatchId,Sb(t.yt,e.overlayMutation))}function XC(t,e){const n=e.path.lastSegment();return[t,Ca(e.path.popLast()),n]}function JC(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:rd(r.readTime),documentKey:Ca(r.documentKey.path),largestBatchId:r.largestBatchId}}class ZG{getBundleMetadata(e,n){return QC(e).get(n).next((r=>{if(r)return(function(s){return{id:s.bundleId,createTime:id(s.createTime),version:s.version}})(r)}))}saveBundleMetadata(e,n){return QC(e).put((function(i){return{bundleId:i.id,createTime:rd(Ga(i.createTime)),version:i.version}})(n))}getNamedQuery(e,n){return ZC(e).get(n).next((r=>{if(r)return(function(s){return{name:s.name,query:I8(s.bundledQuery),readTime:id(s.readTime)}})(r)}))}saveNamedQuery(e,n){return ZC(e).put((function(i){return{name:i.name,readTime:rd(Ga(i.readTime)),bundledQuery:i.bundledQuery}})(n))}}function QC(t){return Cs(t,Dv)}function ZC(t){return Cs(t,Mv)}class zv{constructor(e,n){this.serializer=e,this.userId=n}static wt(e,n){const r=n.uid||"";return new zv(e,r)}getOverlay(e,n){return Tm(e).get(XC(this.userId,n)).next((r=>r?G_(this.serializer,r):null))}getOverlays(e,n){const r=Ac();return $e.forEach(n,(i=>this.getOverlay(e,i).next((s=>{s!==null&&r.set(i,s)})))).next((()=>r))}saveOverlays(e,n,r){const i=[];return r.forEach(((s,a)=>{const o=new xT(n,a);i.push(this.St(e,o))})),$e.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach((a=>i.add(Ca(a.getCollectionPath()))));const s=[];return i.forEach((a=>{const o=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,r+1],!1,!0);s.push(Tm(e).Z(pb,o))})),$e.waitFor(s)}getOverlaysForCollection(e,n,r){const i=Ac(),s=Ca(n),a=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Tm(e).J(pb,a).next((o=>{for(const c of o){const f=G_(this.serializer,c);i.set(f.getKey(),f)}return i}))}getOverlaysForCollectionGroup(e,n,r,i){const s=Ac();let a;const o=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Tm(e).ee({index:RD,range:o},((c,f,h)=>{const p=G_(this.serializer,f);s.size()<i||p.largestBatchId===a?(s.set(p.getKey(),p),a=p.largestBatchId):h.done()})).next((()=>s))}St(e,n){return Tm(e).put((function(i,s,a){const[o,c,f]=XC(s,a.mutation.key);return{userId:s,collectionPath:c,documentId:f,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:Wy(i.yt,a.mutation)}})(this.serializer,this.userId,n))}}function Tm(t){return Cs(t,Lv)}class e${bt(e){return Cs(e,oT)}getSessionToken(e){return this.bt(e).get("sessionToken").next((n=>{const r=n?.value;return r?cs.fromUint8Array(r):cs.EMPTY_BYTE_STRING}))}setSessionToken(e,n){return this.bt(e).put({name:"sessionToken",value:n.toUint8Array()})}}class Rh{constructor(){}Dt(e,n){this.Ct(e,n),n.vt()}Ct(e,n){if("nullValue"in e)this.Ft(n,5);else if("booleanValue"in e)this.Ft(n,10),n.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(n,15),n.Mt(xi(e.integerValue));else if("doubleValue"in e){const r=xi(e.doubleValue);isNaN(r)?this.Ft(n,13):(this.Ft(n,15),Tg(r)?n.Mt(0):n.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(n,20),typeof r=="string"&&(r=Iu(r)),n.xt(`${r.seconds||""}`),n.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,n),this.Nt(n);else if("bytesValue"in e)this.Ft(n,30),n.Bt(ku(e.bytesValue)),this.Nt(n);else if("referenceValue"in e)this.Lt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ft(n,45),n.Mt(r.latitude||0),n.Mt(r.longitude||0)}else"mapValue"in e?HD(e)?this.Ft(n,Number.MAX_SAFE_INTEGER):Ov(e)?this.kt(e.mapValue,n):(this.qt(e.mapValue,n),this.Nt(n)):"arrayValue"in e?(this.Qt(e.arrayValue,n),this.Nt(n)):rn(19022,{$t:e})}Ot(e,n){this.Ft(n,25),this.Ut(e,n)}Ut(e,n){n.xt(e)}qt(e,n){const r=e.fields||{};this.Ft(n,55);for(const i of Object.keys(r))this.Ot(i,n),this.Ct(r[i],n)}kt(e,n){const r=e.fields||{};this.Ft(n,53);const i=lp,s=r[i].arrayValue?.values?.length||0;this.Ft(n,15),n.Mt(xi(s)),this.Ot(i,n),this.Ct(r[i],n)}Qt(e,n){const r=e.values||[];this.Ft(n,50);for(const i of r)this.Ct(i,n)}Lt(e,n){this.Ft(n,37),Vt.fromName(e).path.forEach((r=>{this.Ft(n,60),this.Ut(r,n)}))}Ft(e,n){e.Mt(n)}Nt(e){e.Mt(2)}}Rh.Kt=new Rh;const c0=255;function t$(t){if(t===0)return 8;let e=0;return t>>4||(e+=4,t<<=4),t>>6||(e+=2,t<<=2),t>>7||(e+=1),e}function eN(t){const e=64-(function(r){let i=0;for(let s=0;s<8;++s){const a=t$(255&r[s]);if(i+=a,a!==8)break}return i})(t);return Math.ceil(e/8)}class n${constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Gt(r.value),r=n.next();this.zt()}jt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Jt(r.value),r=n.next();this.Ht()}Yt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const i=n.codePointAt(0);this.Gt(240|i>>>18),this.Gt(128|63&i>>>12),this.Gt(128|63&i>>>6),this.Gt(128|63&i)}}this.zt()}Zt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Jt(r);else if(r<2048)this.Jt(960|r>>>6),this.Jt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Jt(480|r>>>12),this.Jt(128|63&r>>>6),this.Jt(128|63&r);else{const i=n.codePointAt(0);this.Jt(240|i>>>18),this.Jt(128|63&i>>>12),this.Jt(128|63&i>>>6),this.Jt(128|63&i)}}this.Ht()}Xt(e){const n=this.en(e),r=eN(n);this.tn(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}nn(e){const n=this.en(e),r=eN(n);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}rn(){this.sn(c0),this.sn(255)}_n(){this.an(c0),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const n=(function(s){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,s,!1),new Uint8Array(a.buffer)})(e),r=!!(128&n[0]);n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Gt(e){const n=255&e;n===0?(this.sn(0),this.sn(255)):n===c0?(this.sn(c0),this.sn(0)):this.sn(n)}Jt(e){const n=255&e;n===0?(this.an(0),this.an(255)):n===c0?(this.an(c0),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class r${constructor(e){this.cn=e}Bt(e){this.cn.Wt(e)}xt(e){this.cn.Yt(e)}Mt(e){this.cn.Xt(e)}vt(){this.cn.rn()}}class i${constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class Em{constructor(){this.cn=new n$,this.ln=new r$(this.cn),this.hn=new i$(this.cn)}seed(e){this.cn.seed(e)}Pn(e){return e===0?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}}class Ph{constructor(e,n,r,i){this.Tn=e,this.In=n,this.En=r,this.dn=i}An(){const e=this.dn.length,n=e===0||this.dn[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.dn,0),n!==e?r.set([0],this.dn.length):++r[r.length-1],new Ph(this.Tn,this.In,this.En,r)}Rn(e,n,r){return{indexId:this.Tn,uid:e,arrayValue:ly(this.En),directionalValue:ly(this.dn),orderedDocumentKey:ly(n),documentKey:r.path.toArray()}}Vn(e,n,r){const i=this.Rn(e,n,r);return[i.indexId,i.uid,i.arrayValue,i.directionalValue,i.orderedDocumentKey,i.documentKey]}}function xf(t,e){let n=t.Tn-e.Tn;return n!==0?n:(n=tN(t.En,e.En),n!==0?n:(n=tN(t.dn,e.dn),n!==0?n:Vt.comparator(t.In,e.In)))}function tN(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}function ly(t){return EP()?(function(n){let r="";for(let i=0;i<n.length;i++)r+=String.fromCharCode(n[i]);return r})(t):t}function nN(t){return typeof t!="string"?t:(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(t)}class rN{constructor(e){this.mn=new Vr(((n,r)=>Ai.comparator(n.field,r.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.fn=e.orderBy,this.gn=[];for(const n of e.filters){const r=n;r.isInequality()?this.mn=this.mn.add(r):this.gn.push(r)}}get pn(){return this.mn.size>1}yn(e){if(pn(e.collectionGroup===this.collectionId,49279),this.pn)return!1;const n=fb(e);if(n!==void 0&&!this.wn(n))return!1;const r=Sh(e);let i=new Set,s=0,a=0;for(;s<r.length&&this.wn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.mn.size>0){const o=this.mn.getIterator().getNext();if(!i.has(o.field.canonicalString())){const c=r[s];if(!this.Sn(o,c)||!this.bn(this.fn[a++],c))return!1}++s}for(;s<r.length;++s){const o=r[s];if(a>=this.fn.length||!this.bn(this.fn[a++],o))return!1}return!0}Dn(){if(this.pn)return null;let e=new Vr(Ai.comparator);const n=[];for(const r of this.gn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new ey(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new ey(r.field,0))}for(const r of this.fn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new ey(r.field,r.dir==="asc"?0:1)));return new Vy(Vy.UNKNOWN_ID,this.collectionId,n,bg.empty())}wn(e){for(const n of this.gn)if(this.Sn(n,e))return!0;return!1}Sn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}bn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}function k8(t){if(pn(t instanceof lr||t instanceof Wr,20012),t instanceof lr){if(t instanceof QD){const n=t.value.arrayValue?.values?.map((r=>lr.create(t.field,"==",r)))||[];return Wr.create(n,"or")}return t}const e=t.filters.map((n=>k8(n)));return Wr.create(e,t.op)}function s$(t){if(t.getFilters().length===0)return[];const e=Nb(k8(t));return pn(R8(e),7391),Ab(e)||Cb(e)?[e]:e.getFilters()}function Ab(t){return t instanceof lr}function Cb(t){return t instanceof Wr&&dT(t)}function R8(t){return Ab(t)||Cb(t)||(function(n){if(n instanceof Wr&&yb(n)){for(const r of n.getFilters())if(!Ab(r)&&!Cb(r))return!1;return!0}return!1})(t)}function Nb(t){if(pn(t instanceof lr||t instanceof Wr,34018),t instanceof lr)return t;if(t.filters.length===1)return Nb(t.filters[0]);const e=t.filters.map((r=>Nb(r)));let n=Wr.create(e,t.op);return n=Yy(n),R8(n)?n:(pn(n instanceof Wr,64498),pn(fp(n),40251),pn(n.filters.length>1,57927),n.filters.reduce(((r,i)=>_T(r,i))))}function _T(t,e){let n;return pn(t instanceof lr||t instanceof Wr,38388),pn(e instanceof lr||e instanceof Wr,25473),n=t instanceof lr?e instanceof lr?(function(i,s){return Wr.create([i,s],"and")})(t,e):iN(t,e):e instanceof lr?iN(e,t):(function(i,s){if(pn(i.filters.length>0&&s.filters.length>0,48005),fp(i)&&fp(s))return YD(i,s.getFilters());const a=yb(i)?i:s,o=yb(i)?s:i,c=a.filters.map((f=>_T(f,o)));return Wr.create(c,"or")})(t,e),Yy(n)}function iN(t,e){if(fp(e))return YD(e,t.getFilters());{const n=e.filters.map((r=>_T(t,r)));return Wr.create(n,"or")}}function Yy(t){if(pn(t instanceof lr||t instanceof Wr,11850),t instanceof lr)return t;const e=t.getFilters();if(e.length===1)return Yy(e[0]);if(WD(t))return t;const n=e.map((i=>Yy(i))),r=[];return n.forEach((i=>{i instanceof lr?r.push(i):i instanceof Wr&&(i.op===t.op?r.push(...i.filters):r.push(i))})),r.length===1?r[0]:Wr.create(r,t.op)}class a${constructor(){this.Cn=new wT}addToCollectionParentIndex(e,n){return this.Cn.add(n),$e.resolve()}getCollectionParents(e,n){return $e.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return $e.resolve()}deleteFieldIndex(e,n){return $e.resolve()}deleteAllFieldIndexes(e){return $e.resolve()}createTargetIndexes(e,n){return $e.resolve()}getDocumentsMatchingTarget(e,n){return $e.resolve(null)}getIndexType(e,n){return $e.resolve(0)}getFieldIndexes(e,n){return $e.resolve([])}getNextCollectionGroupToUpdate(e){return $e.resolve(null)}getMinOffset(e,n){return $e.resolve(Bo.min())}getMinOffsetFromCollectionGroup(e,n){return $e.resolve(Bo.min())}updateCollectionGroup(e,n,r){return $e.resolve()}updateIndexEntries(e,n){return $e.resolve()}}class wT{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Vr(Rr.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Vr(Rr.comparator)).toArray()}}const sN="IndexedDbIndexManager",_x=new Uint8Array(0);class o${constructor(e,n){this.databaseId=n,this.vn=new wT,this.Fn=new Lu((r=>nd(r)),((r,i)=>s1(r,i))),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.vn.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener((()=>{this.vn.add(n)}));const s={collectionId:r,parent:Ca(i)};return aN(e).put(s)}return $e.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[vD(n),""],!1,!0);return aN(e).J(i).next((s=>{for(const a of s){if(a.collectionId!==n)break;r.push(Sc(a.parent))}return r}))}addFieldIndex(e,n){const r=Sm(e),i=(function(o){return{indexId:o.indexId,collectionGroup:o.collectionGroup,fields:o.fields.map((c=>[c.fieldPath.canonicalString(),c.kind]))}})(n);delete i.indexId;const s=r.add(i);if(n.indexState){const a=f0(e);return s.next((o=>{a.put(JC(o,this.uid,n.indexState.sequenceNumber,n.indexState.offset))}))}return s.next()}deleteFieldIndex(e,n){const r=Sm(e),i=f0(e),s=u0(e);return r.delete(n.indexId).next((()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))).next((()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const n=Sm(e),r=u0(e),i=f0(e);return n.Z().next((()=>r.Z())).next((()=>i.Z()))}createTargetIndexes(e,n){return $e.forEach(this.Mn(n),(r=>this.getIndexType(e,r).next((i=>{if(i===0||i===1){const s=new rN(r).Dn();if(s!=null)return this.addFieldIndex(e,s)}}))))}getDocumentsMatchingTarget(e,n){const r=u0(e);let i=!0;const s=new Map;return $e.forEach(this.Mn(n),(a=>this.xn(e,a).next((o=>{i&&(i=!!o),s.set(a,o)})))).next((()=>{if(i){let a=Kn();const o=[];return $e.forEach(s,((c,f)=>{Tt(sN,`Using index ${(function(R){return`id=${R.indexId}|cg=${R.collectionGroup}|f=${R.fields.map((q=>`${q.fieldPath}:${q.kind}`)).join(",")}`})(c)} to execute ${nd(n)}`);const h=(function(R,q){const Y=fb(q);if(Y===void 0)return null;for(const J of Gy(R,Y.fieldPath))switch(J.op){case"array-contains-any":return J.value.arrayValue.values||[];case"array-contains":return[J.value]}return null})(f,c),p=(function(R,q){const Y=new Map;for(const J of Sh(q))for(const F of Gy(R,J.fieldPath))switch(F.op){case"==":case"in":Y.set(J.fieldPath.canonicalString(),F.value);break;case"not-in":case"!=":return Y.set(J.fieldPath.canonicalString(),F.value),Array.from(Y.values())}return null})(f,c),g=(function(R,q){const Y=[];let J=!0;for(const F of Sh(q)){const O=F.kind===0?OC(R,F.fieldPath,R.startAt):VC(R,F.fieldPath,R.startAt);Y.push(O.value),J&&(J=O.inclusive)}return new up(Y,J)})(f,c),x=(function(R,q){const Y=[];let J=!0;for(const F of Sh(q)){const O=F.kind===0?VC(R,F.fieldPath,R.endAt):OC(R,F.fieldPath,R.endAt);Y.push(O.value),J&&(J=O.inclusive)}return new up(Y,J)})(f,c),T=this.On(c,f,g),S=this.On(c,f,x),N=this.Nn(c,f,p),k=this.Bn(c.indexId,h,T,g.inclusive,S,x.inclusive,N);return $e.forEach(k,(B=>r.Y(B,n.limit).next((R=>{R.forEach((q=>{const Y=Vt.fromSegments(q.documentKey);a.has(Y)||(a=a.add(Y),o.push(Y))}))}))))})).next((()=>o))}return $e.resolve(null)}))}Mn(e){let n=this.Fn.get(e);return n||(e.filters.length===0?n=[e]:n=s$(Wr.create(e.filters,"and")).map((r=>_b(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt))),this.Fn.set(e,n),n)}Bn(e,n,r,i,s,a,o){const c=(n!=null?n.length:1)*Math.max(r.length,s.length),f=c/(n!=null?n.length:1),h=[];for(let p=0;p<c;++p){const g=n?this.Ln(n[p/f]):_x,x=this.kn(e,g,r[p%f],i),T=this.qn(e,g,s[p%f],a),S=o.map((N=>this.kn(e,g,N,!0)));h.push(...this.createRange(x,T,S))}return h}kn(e,n,r,i){const s=new Ph(e,Vt.empty(),n,r);return i?s:s.An()}qn(e,n,r,i){const s=new Ph(e,Vt.empty(),n,r);return i?s.An():s}xn(e,n){const r=new rN(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next((s=>{let a=null;for(const o of s)r.yn(o)&&(!a||o.fields.length>a.fields.length)&&(a=o);return a}))}getIndexType(e,n){let r=2;const i=this.Mn(n);return $e.forEach(i,(s=>this.xn(e,s).next((a=>{a?r!==0&&a.fields.length<(function(c){let f=new Vr(Ai.comparator),h=!1;for(const p of c.filters)for(const g of p.getFlattenedFilters())g.field.isKeyField()||(g.op==="array-contains"||g.op==="array-contains-any"?h=!0:f=f.add(g.field));for(const p of c.orderBy)p.field.isKeyField()||(f=f.add(p.field));return f.size+(h?1:0)})(s)&&(r=1):r=0})))).next((()=>(function(a){return a.limit!==null})(n)&&i.length>1&&r===2?1:r))}Qn(e,n){const r=new Em;for(const i of Sh(e)){const s=n.data.field(i.fieldPath);if(s==null)return null;const a=r.Pn(i.kind);Rh.Kt.Dt(s,a)}return r.un()}Ln(e){const n=new Em;return Rh.Kt.Dt(e,n.Pn(0)),n.un()}$n(e,n){const r=new Em;return Rh.Kt.Dt(hT(this.databaseId,n),r.Pn((function(s){const a=Sh(s);return a.length===0?0:a[a.length-1].kind})(e))),r.un()}Nn(e,n,r){if(r===null)return[];let i=[];i.push(new Em);let s=0;for(const a of Sh(e)){const o=r[s++];for(const c of i)if(this.Un(n,a.fieldPath)&&Ig(o))i=this.Kn(i,a,o);else{const f=c.Pn(a.kind);Rh.Kt.Dt(o,f)}}return this.Wn(i)}On(e,n,r){return this.Nn(e,n,r.position)}Wn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].un();return n}Kn(e,n,r){const i=[...e],s=[];for(const a of r.arrayValue.values||[])for(const o of i){const c=new Em;c.seed(o.un()),Rh.Kt.Dt(a,c.Pn(n.kind)),s.push(c)}return s}Un(e,n){return!!e.filters.find((r=>r instanceof lr&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in")))}getFieldIndexes(e,n){const r=Sm(e),i=f0(e);return(n?r.J(db,IDBKeyRange.bound(n,n)):r.J()).next((s=>{const a=[];return $e.forEach(s,(o=>i.get([o.indexId,this.uid]).next((c=>{a.push((function(h,p){const g=p?new bg(p.sequenceNumber,new Bo(id(p.readTime),new Vt(Sc(p.documentKey)),p.largestBatchId)):bg.empty(),x=h.fields.map((([T,S])=>new ey(Ai.fromServerFormat(T),S)));return new Vy(h.indexId,h.collectionGroup,x,g)})(o,c))})))).next((()=>a))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((n=>n.length===0?null:(n.sort(((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:Dn(r.collectionGroup,i.collectionGroup)})),n[0].collectionGroup)))}updateCollectionGroup(e,n,r){const i=Sm(e),s=f0(e);return this.Gn(e).next((a=>i.J(db,IDBKeyRange.bound(n,n)).next((o=>$e.forEach(o,(c=>s.put(JC(c.indexId,this.uid,a,r))))))))}updateIndexEntries(e,n){const r=new Map;return $e.forEach(n,((i,s)=>{const a=r.get(i.collectionGroup);return(a?$e.resolve(a):this.getFieldIndexes(e,i.collectionGroup)).next((o=>(r.set(i.collectionGroup,o),$e.forEach(o,(c=>this.zn(e,i,c).next((f=>{const h=this.jn(s,c);return f.isEqual(h)?$e.resolve():this.Jn(e,s,c,f,h)})))))))}))}Hn(e,n,r,i){return u0(e).put(i.Rn(this.uid,this.$n(r,n.key),n.key))}Yn(e,n,r,i){return u0(e).delete(i.Vn(this.uid,this.$n(r,n.key),n.key))}zn(e,n,r){const i=u0(e);let s=new Vr(xf);return i.ee({index:kD,range:IDBKeyRange.only([r.indexId,this.uid,ly(this.$n(r,n))])},((a,o)=>{s=s.add(new Ph(r.indexId,n,nN(o.arrayValue),nN(o.directionalValue)))})).next((()=>s))}jn(e,n){let r=new Vr(xf);const i=this.Qn(n,e);if(i==null)return r;const s=fb(n);if(s!=null){const a=e.data.field(s.fieldPath);if(Ig(a))for(const o of a.arrayValue.values||[])r=r.add(new Ph(n.indexId,e.key,this.Ln(o),i))}else r=r.add(new Ph(n.indexId,e.key,_x,i));return r}Jn(e,n,r,i,s){Tt(sN,"Updating index entries for document '%s'",n.key);const a=[];return(function(c,f,h,p,g){const x=c.getIterator(),T=f.getIterator();let S=l0(x),N=l0(T);for(;S||N;){let k=!1,B=!1;if(S&&N){const R=h(S,N);R<0?B=!0:R>0&&(k=!0)}else S!=null?B=!0:k=!0;k?(p(N),N=l0(T)):B?(g(S),S=l0(x)):(S=l0(x),N=l0(T))}})(i,s,xf,(o=>{a.push(this.Hn(e,n,r,o))}),(o=>{a.push(this.Yn(e,n,r,o))})),$e.waitFor(a)}Gn(e){let n=1;return f0(e).ee({index:ID,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((r,i,s)=>{s.done(),n=i.sequenceNumber+1})).next((()=>n))}createRange(e,n,r){r=r.sort(((a,o)=>xf(a,o))).filter(((a,o,c)=>!o||xf(a,c[o-1])!==0));const i=[];i.push(e);for(const a of r){const o=xf(a,e),c=xf(a,n);if(o===0)i[0]=e.An();else if(o>0&&c<0)i.push(a),i.push(a.An());else if(c>0)break}i.push(n);const s=[];for(let a=0;a<i.length;a+=2){if(this.Zn(i[a],i[a+1]))return[];const o=i[a].Vn(this.uid,_x,Vt.empty()),c=i[a+1].Vn(this.uid,_x,Vt.empty());s.push(IDBKeyRange.bound(o,c))}return s}Zn(e,n){return xf(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(oN)}getMinOffset(e,n){return $e.mapArray(this.Mn(n),(r=>this.xn(e,r).next((i=>i||rn(44426))))).next(oN)}}function aN(t){return Cs(t,Ag)}function u0(t){return Cs(t,Xm)}function Sm(t){return Cs(t,aT)}function f0(t){return Cs(t,Ym)}function oN(t){pn(t.length!==0,28825);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;rT(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Bo(e.readTime,e.documentKey,n)}const lN={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},P8=41943040;class _a{static withCacheSize(e){return new _a(e,_a.DEFAULT_COLLECTION_PERCENTILE,_a.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}function D8(t,e,n){const r=t.store(zl),i=t.store(ip),s=[],a=IDBKeyRange.only(n.batchId);let o=0;const c=r.ee({range:a},((h,p,g)=>(o++,g.delete())));s.push(c.next((()=>{pn(o===1,47070,{batchId:n.batchId})})));const f=[];for(const h of n.mutations){const p=AD(e,h.key.path,n.batchId);s.push(i.delete(p)),f.push(h.key)}return $e.waitFor(s).next((()=>f))}function Xy(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw rn(14731);e=t.noDocument}return JSON.stringify(e).length}_a.DEFAULT_COLLECTION_PERCENTILE=10,_a.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_a.DEFAULT=new _a(P8,_a.DEFAULT_COLLECTION_PERCENTILE,_a.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_a.DISABLED=new _a(-1,0,0);class Gv{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Xn={}}static wt(e,n,r,i){pn(e.uid!=="",64387);const s=e.isAuthenticated()?e.uid:"";return new Gv(s,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return yf(e).ee({index:Lh,range:r},((i,s,a)=>{n=!1,a.done()})).next((()=>n))}addMutationBatch(e,n,r,i){const s=w0(e),a=yf(e);return a.add({}).next((o=>{pn(typeof o=="number",49019);const c=new mT(o,n,r,i),f=(function(x,T,S){const N=S.baseMutations.map((B=>Wy(x.yt,B))),k=S.mutations.map((B=>Wy(x.yt,B)));return{userId:T,batchId:S.batchId,localWriteTimeMs:S.localWriteTime.toMillis(),baseMutations:N,mutations:k}})(this.serializer,this.userId,c),h=[];let p=new Vr(((g,x)=>Dn(g.canonicalString(),x.canonicalString())));for(const g of i){const x=AD(this.userId,g.key.path,o);p=p.add(g.key.path.popLast()),h.push(a.put(f)),h.push(s.put(x,Lz))}return p.forEach((g=>{h.push(this.indexManager.addToCollectionParentIndex(e,g))})),e.addOnCommittedListener((()=>{this.Xn[o]=c.keys()})),$e.waitFor(h).next((()=>c))}))}lookupMutationBatch(e,n){return yf(e).get(n).next((r=>r?(pn(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:n}),kh(this.serializer,r)):null))}er(e,n){return this.Xn[n]?$e.resolve(this.Xn[n]):this.lookupMutationBatch(e,n).next((r=>{if(r){const i=r.keys();return this.Xn[n]=i,i}return null}))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return yf(e).ee({index:Lh,range:i},((a,o,c)=>{o.userId===this.userId&&(pn(o.batchId>=r,47524,{tr:r}),s=kh(this.serializer,o)),c.done()})).next((()=>s))}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=Bh;return yf(e).ee({index:Lh,range:n,reverse:!0},((i,s,a)=>{r=s.batchId,a.done()})).next((()=>r))}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,Bh],[this.userId,Number.POSITIVE_INFINITY]);return yf(e).J(Lh,n).next((r=>r.map((i=>kh(this.serializer,i)))))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=ty(this.userId,n.path),i=IDBKeyRange.lowerBound(r),s=[];return w0(e).ee({range:i},((a,o,c)=>{const[f,h,p]=a,g=Sc(h);if(f===this.userId&&n.path.isEqual(g))return yf(e).get(p).next((x=>{if(!x)throw rn(61480,{nr:a,batchId:p});pn(x.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:x.userId,batchId:p}),s.push(kh(this.serializer,x))}));c.done()})).next((()=>s))}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Vr(Dn);const i=[];return n.forEach((s=>{const a=ty(this.userId,s.path),o=IDBKeyRange.lowerBound(a),c=w0(e).ee({range:o},((f,h,p)=>{const[g,x,T]=f,S=Sc(x);g===this.userId&&s.path.isEqual(S)?r=r.add(T):p.done()}));i.push(c)})),$e.waitFor(i).next((()=>this.rr(e,r)))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,s=ty(this.userId,r),a=IDBKeyRange.lowerBound(s);let o=new Vr(Dn);return w0(e).ee({range:a},((c,f,h)=>{const[p,g,x]=c,T=Sc(g);p===this.userId&&r.isPrefixOf(T)?T.length===i&&(o=o.add(x)):h.done()})).next((()=>this.rr(e,o)))}rr(e,n){const r=[],i=[];return n.forEach((s=>{i.push(yf(e).get(s).next((a=>{if(a===null)throw rn(35274,{batchId:s});pn(a.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:a.userId,batchId:s}),r.push(kh(this.serializer,a))})))})),$e.waitFor(i).next((()=>r))}removeMutationBatch(e,n){return D8(e.le,this.userId,n).next((r=>(e.addOnCommittedListener((()=>{this.ir(n.batchId)})),$e.forEach(r,(i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))))}ir(e){delete this.Xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((n=>{if(!n)return $e.resolve();const r=IDBKeyRange.lowerBound((function(a){return[a]})(this.userId)),i=[];return w0(e).ee({range:r},((s,a,o)=>{if(s[0]===this.userId){const c=Sc(s[1]);i.push(c)}else o.done()})).next((()=>{pn(i.length===0,56720,{sr:i.map((s=>s.canonicalString()))})}))}))}containsKey(e,n){return M8(e,this.userId,n)}_r(e){return L8(e).get(this.userId).next((n=>n||{userId:this.userId,lastAcknowledgedBatchId:Bh,lastStreamToken:""}))}}function M8(t,e,n){const r=ty(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let a=!1;return w0(t).ee({range:s,X:!0},((o,c,f)=>{const[h,p,g]=o;h===e&&p===i&&(a=!0),f.done()})).next((()=>a))}function yf(t){return Cs(t,zl)}function w0(t){return Cs(t,ip)}function L8(t){return Cs(t,Eg)}class sd{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new sd(0)}static cr(){return new sd(-1)}}class l${constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.lr(e).next((n=>{const r=new sd(n.highestTargetId);return n.highestTargetId=r.next(),this.hr(e,n).next((()=>n.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.lr(e).next((n=>bn.fromTimestamp(new Or(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.lr(e).next((n=>n.highestListenSequenceNumber))}setTargetsMetadata(e,n,r){return this.lr(e).next((i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.hr(e,i))))}addTargetData(e,n){return this.Pr(e,n).next((()=>this.lr(e).next((r=>(r.targetCount+=1,this.Tr(n,r),this.hr(e,r))))))}updateTargetData(e,n){return this.Pr(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next((()=>h0(e).delete(n.targetId))).next((()=>this.lr(e))).next((r=>(pn(r.targetCount>0,8065),r.targetCount-=1,this.hr(e,r))))}removeTargets(e,n,r){let i=0;const s=[];return h0(e).ee(((a,o)=>{const c=Vm(o);c.sequenceNumber<=n&&r.get(c.targetId)===null&&(i++,s.push(this.removeTargetData(e,c)))})).next((()=>$e.waitFor(s))).next((()=>i))}forEachTarget(e,n){return h0(e).ee(((r,i)=>{const s=Vm(i);n(s)}))}lr(e){return cN(e).get(jy).next((n=>(pn(n!==null,2888),n)))}hr(e,n){return cN(e).put(jy,n)}Pr(e,n){return h0(e).put(N8(this.serializer,n))}Tr(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.lr(e).next((n=>n.targetCount))}getTargetData(e,n){const r=nd(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return h0(e).ee({range:i,index:ND},((a,o,c)=>{const f=Vm(o);s1(n,f.target)&&(s=f,c.done())})).next((()=>s))}addMatchingKeys(e,n,r){const i=[],s=Nf(e);return n.forEach((a=>{const o=Ca(a.path);i.push(s.put({targetId:r,path:o})),i.push(this.referenceDelegate.addReference(e,r,a))})),$e.waitFor(i)}removeMatchingKeys(e,n,r){const i=Nf(e);return $e.forEach(n,(s=>{const a=Ca(s.path);return $e.waitFor([i.delete([r,a]),this.referenceDelegate.removeReference(e,r,s)])}))}removeMatchingKeysForTargetId(e,n){const r=Nf(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Nf(e);let s=Kn();return i.ee({range:r,X:!0},((a,o,c)=>{const f=Sc(a[1]),h=new Vt(f);s=s.add(h)})).next((()=>s))}containsKey(e,n){const r=Ca(n.path),i=IDBKeyRange.bound([r],[vD(r)],!1,!0);let s=0;return Nf(e).ee({index:sT,X:!0,range:i},(([a,o],c,f)=>{a!==0&&(s++,f.done())})).next((()=>s>0))}At(e,n){return h0(e).get(n).next((r=>r?Vm(r):null))}}function h0(t){return Cs(t,sp)}function cN(t){return Cs(t,jh)}function Nf(t){return Cs(t,ap)}const uN="LruGarbageCollector",c$=1048576;function fN([t,e],[n,r]){const i=Dn(t,n);return i===0?Dn(e,r):i}class u${constructor(e){this.Ir=e,this.buffer=new Vr(fN),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();fN(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class F8{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Tt(uN,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){eh(n)?Tt(uN,"Ignoring IndexedDB error during garbage collection: ",n):await md(n)}await this.Vr(3e5)}))}}class f${constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return $e.resolve(hl.ce);const r=new u$(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Tt("LruGarbageCollector","Garbage collection skipped; disabled"),$e.resolve(lN)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Tt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),lN):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,s,a,o,c,f;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((p=>(p>this.params.maximumSequenceNumbersToCollect?(Tt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,a=Date.now(),this.nthSequenceNumber(e,i)))).next((p=>(r=p,o=Date.now(),this.removeTargets(e,r,n)))).next((p=>(s=p,c=Date.now(),this.removeOrphanedDocuments(e,r)))).next((p=>(f=Date.now(),x0()<=ir.DEBUG&&Tt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-h}ms
	Determined least recently used ${i} in `+(o-a)+`ms
	Removed ${s} targets in `+(c-o)+`ms
	Removed ${p} documents in `+(f-c)+`ms
Total Duration: ${f-h}ms`),$e.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:p}))))}}function O8(t,e){return new f$(t,e)}class h${constructor(e,n){this.db=e,this.garbageCollector=O8(this,n)}gr(e){const n=this.wr(e);return this.db.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}pr(e,n){return this.Sr(e,((r,i)=>n(i)))}addReference(e,n,r){return wx(e,r)}removeReference(e,n,r){return wx(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return wx(e,n)}br(e,n){return(function(i,s){let a=!1;return L8(i).te((o=>M8(i,o,s).next((c=>(c&&(a=!0),$e.resolve(!c)))))).next((()=>a))})(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.Sr(e,((a,o)=>{if(o<=n){const c=this.br(e,a).next((f=>{if(!f)return s++,r.getEntry(e,a).next((()=>(r.removeEntry(a,bn.min()),Nf(e).delete((function(p){return[0,Ca(p.path)]})(a)))))}));i.push(c)}})).next((()=>$e.waitFor(i))).next((()=>r.apply(e))).next((()=>s))}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return wx(e,n)}Sr(e,n){const r=Nf(e);let i,s=hl.ce;return r.ee({index:sT},(([a,o],{path:c,sequenceNumber:f})=>{a===0?(s!==hl.ce&&n(new Vt(Sc(i)),s),s=f,i=c):s=hl.ce})).next((()=>{s!==hl.ce&&n(new Vt(Sc(i)),s)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function wx(t,e){return Nf(t).put((function(r,i){return{targetId:0,path:Ca(r.path),sequenceNumber:i}})(e,t.currentSequenceNumber))}class V8{constructor(){this.changes=new Lu((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ui.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?$e.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class d${constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return bh(e).put(r)}removeEntry(e,n,r){return bh(e).delete((function(s,a){const o=s.path.toArray();return[o.slice(0,o.length-2),o[o.length-2],Ky(a),o[o.length-1]]})(n,r))}updateMetadata(e,n){return this.getMetadata(e).next((r=>(r.byteSize+=n,this.Dr(e,r))))}getEntry(e,n){let r=Ui.newInvalidDocument(n);return bh(e).ee({index:ny,range:IDBKeyRange.only(Am(n))},((i,s)=>{r=this.Cr(n,s)})).next((()=>r))}vr(e,n){let r={size:0,document:Ui.newInvalidDocument(n)};return bh(e).ee({index:ny,range:IDBKeyRange.only(Am(n))},((i,s)=>{r={document:this.Cr(n,s),size:Xy(s)}})).next((()=>r))}getEntries(e,n){let r=Vo();return this.Fr(e,n,((i,s)=>{const a=this.Cr(i,s);r=r.insert(i,a)})).next((()=>r))}Mr(e,n){let r=Vo(),i=new vi(Vt.comparator);return this.Fr(e,n,((s,a)=>{const o=this.Cr(s,a);r=r.insert(s,o),i=i.insert(s,Xy(a))})).next((()=>({documents:r,Or:i})))}Fr(e,n,r){if(n.isEmpty())return $e.resolve();let i=new Vr(pN);n.forEach((c=>i=i.add(c)));const s=IDBKeyRange.bound(Am(i.first()),Am(i.last())),a=i.getIterator();let o=a.getNext();return bh(e).ee({index:ny,range:s},((c,f,h)=>{const p=Vt.fromSegments([...f.prefixPath,f.collectionGroup,f.documentId]);for(;o&&pN(o,p)<0;)r(o,null),o=a.getNext();o&&o.isEqual(p)&&(r(o,f),o=a.hasNext()?a.getNext():null),o?h.j(Am(o)):h.done()})).next((()=>{for(;o;)r(o,null),o=a.hasNext()?a.getNext():null}))}getDocumentsMatchingQuery(e,n,r,i,s){const a=n.path,o=[a.popLast().toArray(),a.lastSegment(),Ky(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],c=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return bh(e).J(IDBKeyRange.bound(o,c,!0)).next((f=>{s?.incrementDocumentReadCount(f.length);let h=Vo();for(const p of f){const g=this.Cr(Vt.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);g.isFoundDocument()&&(a1(n,g)||i.has(g.key))&&(h=h.insert(g.key,g))}return h}))}getAllFromCollectionGroup(e,n,r,i){let s=Vo();const a=dN(n,r),o=dN(n,Bo.max());return bh(e).ee({index:CD,range:IDBKeyRange.bound(a,o,!0)},((c,f,h)=>{const p=this.Cr(Vt.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);s=s.insert(p.key,p),s.size===i&&h.done()})).next((()=>s))}newChangeBuffer(e){return new p$(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((n=>n.byteSize))}getMetadata(e){return hN(e).get(hb).next((n=>(pn(!!n,20021),n)))}Dr(e,n){return hN(e).put(hb,n)}Cr(e,n){if(n){const r=QG(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(bn.min())))return r}return Ui.newInvalidDocument(e)}}function U8(t){return new d$(t)}class p$ extends V8{constructor(e,n){super(),this.Nr=e,this.trackRemovals=n,this.Br=new Lu((r=>r.toString()),((r,i)=>r.isEqual(i)))}applyChanges(e){const n=[];let r=0,i=new Vr(((s,a)=>Dn(s.canonicalString(),a.canonicalString())));return this.changes.forEach(((s,a)=>{const o=this.Br.get(s);if(n.push(this.Nr.removeEntry(e,s,o.readTime)),a.isValidDocument()){const c=YC(this.Nr.serializer,a);i=i.add(s.path.popLast());const f=Xy(c);r+=f-o.size,n.push(this.Nr.addEntry(e,s,c))}else if(r-=o.size,this.trackRemovals){const c=YC(this.Nr.serializer,a.convertToNoDocument(bn.min()));n.push(this.Nr.addEntry(e,s,c))}})),i.forEach((s=>{n.push(this.Nr.indexManager.addToCollectionParentIndex(e,s))})),n.push(this.Nr.updateMetadata(e,r)),$e.waitFor(n)}getFromCache(e,n){return this.Nr.vr(e,n).next((r=>(this.Br.set(n,{size:r.size,readTime:r.document.readTime}),r.document)))}getAllFromCache(e,n){return this.Nr.Mr(e,n).next((({documents:r,Or:i})=>(i.forEach(((s,a)=>{this.Br.set(s,{size:a,readTime:r.get(s).readTime})})),r)))}}function hN(t){return Cs(t,Sg)}function bh(t){return Cs(t,By)}function Am(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function dN(t,e){const n=e.documentKey.path.toArray();return[t,Ky(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function pN(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=Dn(n[s],r[s]),i)return i;return i=Dn(n.length,r.length),i||(i=Dn(n[n.length-2],r[r.length-2]),i||Dn(n[n.length-1],r[r.length-1]))}class m${constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class B8{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&eg(r.mutation,i,xo.empty(),Or.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Kn()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Kn()){const i=Ac();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((s=>{let a=Fm();return s.forEach(((o,c)=>{a=a.insert(o,c.overlayedDocument)})),a}))))}getOverlayedDocuments(e,n){const r=Ac();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Kn())))}populateOverlays(e,n,r){const i=[];return r.forEach((s=>{n.has(s)||i.push(s)})),this.documentOverlayCache.getOverlays(e,i).next((s=>{s.forEach(((a,o)=>{n.set(a,o)}))}))}computeViews(e,n,r,i){let s=Vo();const a=Zm(),o=(function(){return Zm()})();return n.forEach(((c,f)=>{const h=r.get(f.key);i.has(f.key)&&(h===void 0||h.mutation instanceof Fu)?s=s.insert(f.key,f):h!==void 0?(a.set(f.key,h.mutation.getFieldMask()),eg(h.mutation,f,h.mutation.getFieldMask(),Or.now())):a.set(f.key,xo.empty())})),this.recalculateAndSaveOverlays(e,s).next((c=>(c.forEach(((f,h)=>a.set(f,h))),n.forEach(((f,h)=>o.set(f,new m$(h,a.get(f)??null)))),o)))}recalculateAndSaveOverlays(e,n){const r=Zm();let i=new vi(((a,o)=>a-o)),s=Kn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((a=>{for(const o of a)o.keys().forEach((c=>{const f=n.get(c);if(f===null)return;let h=r.get(c)||xo.empty();h=o.applyToLocalView(f,h),r.set(c,h);const p=(i.get(o.batchId)||Kn()).add(c);i=i.insert(o.batchId,p)}))})).next((()=>{const a=[],o=i.getReverseIterator();for(;o.hasNext();){const c=o.getNext(),f=c.key,h=c.value,p=r8();h.forEach((g=>{if(!s.has(g)){const x=u8(n.get(g),r.get(g));x!==null&&p.set(g,x),s=s.add(g)}})),a.push(this.documentOverlayCache.saveOverlays(e,f,p))}return $e.waitFor(a)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(a){return Vt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):yG(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):$e.resolve(Ac());let o=wg,c=s;return a.next((f=>$e.forEach(f,((h,p)=>(o<p.largestBatchId&&(o=p.largestBatchId),s.get(h)?$e.resolve():this.remoteDocumentCache.getEntry(e,h).next((g=>{c=c.insert(h,g)}))))).next((()=>this.populateOverlays(e,f,s))).next((()=>this.computeViews(e,c,f,Kn()))).next((h=>({batchId:o,changes:n8(h)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Vt(n)).next((r=>{let i=Fm();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let a=Fm();return this.indexManager.getCollectionParents(e,s).next((o=>$e.forEach(o,(c=>{const f=(function(p,g){return new Vv(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next((h=>{h.forEach(((p,g)=>{a=a.insert(p,g)}))}))})).next((()=>a))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i)))).next((a=>{s.forEach(((c,f)=>{const h=f.getKey();a.get(h)===null&&(a=a.insert(h,Ui.newInvalidDocument(h)))}));let o=Fm();return a.forEach(((c,f)=>{const h=s.get(c);h!==void 0&&eg(h.mutation,f,xo.empty(),Or.now()),a1(n,f)&&(o=o.insert(c,f))})),o}))}}class g${constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return $e.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Ga(i.createTime)}})(n)),$e.resolve()}getNamedQuery(e,n){return $e.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:I8(i.bundledQuery),readTime:Ga(i.readTime)}})(n)),$e.resolve()}}class x${constructor(){this.overlays=new vi(Vt.comparator),this.qr=new Map}getOverlay(e,n){return $e.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ac();return $e.forEach(n,(i=>this.getOverlay(e,i).next((s=>{s!==null&&r.set(i,s)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,s)=>{this.St(e,n,s)})),$e.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((s=>this.overlays=this.overlays.remove(s))),this.qr.delete(r)),$e.resolve()}getOverlaysForCollection(e,n,r){const i=Ac(),s=n.length+1,a=new Vt(n.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const c=o.getNext().value,f=c.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return $e.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new vi(((f,h)=>f-h));const a=this.overlays.getIterator();for(;a.hasNext();){const f=a.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let h=s.get(f.largestBatchId);h===null&&(h=Ac(),s=s.insert(f.largestBatchId,h)),h.set(f.getKey(),f)}}const o=Ac(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach(((f,h)=>o.set(f,h))),!(o.size()>=i)););return $e.resolve(o)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new xT(n,r));let s=this.qr.get(n);s===void 0&&(s=Kn(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}}class y${constructor(){this.sessionToken=cs.EMPTY_BYTE_STRING}getSessionToken(e){return $e.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,$e.resolve()}}class bT{constructor(){this.Qr=new Vr(Us.$r),this.Ur=new Vr(Us.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Us(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new Us(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new Vt(new Rr([])),r=new Us(n,e),i=new Us(n,e+1),s=[];return this.Ur.forEachInRange([r,i],(a=>{this.Gr(a),s.push(a.key)})),s}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Vt(new Rr([])),r=new Us(n,e),i=new Us(n,e+1);let s=Kn();return this.Ur.forEachInRange([r,i],(a=>{s=s.add(a.key)})),s}containsKey(e){const n=new Us(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Us{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Vt.comparator(e.key,n.key)||Dn(e.Yr,n.Yr)}static Kr(e,n){return Dn(e.Yr,n.Yr)||Vt.comparator(e.key,n.key)}}class v${constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Vr(Us.$r)}checkEmpty(e){return $e.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new mT(s,n,r,i);this.mutationQueue.push(a);for(const o of i)this.Zr=this.Zr.add(new Us(o.key,s)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return $e.resolve(a)}lookupMutationBatch(e,n){return $e.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),s=i<0?0:i;return $e.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return $e.resolve(this.mutationQueue.length===0?Bh:this.tr-1)}getAllMutationBatches(e){return $e.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Us(n,0),i=new Us(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],(a=>{const o=this.Xr(a.Yr);s.push(o)})),$e.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Vr(Dn);return n.forEach((i=>{const s=new Us(i,0),a=new Us(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,a],(o=>{r=r.add(o.Yr)}))})),$e.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Vt.isDocumentKey(s)||(s=s.child(""));const a=new Us(new Vt(s),0);let o=new Vr(Dn);return this.Zr.forEachWhile((c=>{const f=c.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(o=o.add(c.Yr)),!0)}),a),$e.resolve(this.ti(o))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){pn(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return $e.forEach(n.mutations,(i=>{const s=new Us(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new Us(n,0),i=this.Zr.firstAfterOrEqual(r);return $e.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,$e.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class _${constructor(e){this.ri=e,this.docs=(function(){return new vi(Vt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,a=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return $e.resolve(r?r.document.mutableCopy():Ui.newInvalidDocument(n))}getEntries(e,n){let r=Vo();return n.forEach((i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ui.newInvalidDocument(i))})),$e.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Vo();const a=n.path,o=new Vt(a.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(o);for(;c.hasNext();){const{key:f,value:{document:h}}=c.getNext();if(!a.isPrefixOf(f.path))break;f.path.length>a.length+1||rT(bD(h),r)<=0||(i.has(h.key)||a1(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return $e.resolve(s)}getAllFromCollectionGroup(e,n,r,i){rn(9500)}ii(e,n){return $e.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new w$(this)}getSize(e){return $e.resolve(this.size)}}class w$ extends V8{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),$e.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class b${constructor(e){this.persistence=e,this.si=new Lu((n=>nd(n)),s1),this.lastRemoteSnapshotVersion=bn.min(),this.highestTargetId=0,this.oi=0,this._i=new bT,this.targetCount=0,this.ai=sd.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),$e.resolve()}getLastRemoteSnapshotVersion(e){return $e.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $e.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),$e.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),$e.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new sd(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,$e.resolve()}updateTargetData(e,n){return this.Pr(n),$e.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,$e.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.si.forEach(((a,o)=>{o.sequenceNumber<=n&&r.get(o.targetId)===null&&(this.si.delete(a),s.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)})),$e.waitFor(s).next((()=>i))}getTargetCount(e){return $e.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return $e.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),$e.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach((a=>{s.push(i.markPotentiallyOrphaned(e,a))})),$e.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),$e.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return $e.resolve(r)}containsKey(e,n){return $e.resolve(this._i.containsKey(n))}}class TT{constructor(e,n){this.ui={},this.overlays={},this.ci=new hl(0),this.li=!1,this.li=!0,this.hi=new y$,this.referenceDelegate=e(this),this.Pi=new b$(this),this.indexManager=new a$,this.remoteDocumentCache=(function(i){return new _$(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new C8(n),this.Ii=new g$(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new x$,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new v$(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Tt("MemoryPersistence","Starting transaction:",e);const i=new T$(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((s=>this.referenceDelegate.di(i).next((()=>s)))).toPromise().then((s=>(i.raiseOnCommittedEvent(),s)))}Ai(e,n){return $e.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class T$ extends ED{constructor(e){super(),this.currentSequenceNumber=e}}class $v{constructor(e){this.persistence=e,this.Ri=new bT,this.Vi=null}static mi(e){return new $v(e)}get fi(){if(this.Vi)return this.Vi;throw rn(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),$e.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),$e.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),$e.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((s=>this.fi.add(s.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $e.forEach(this.fi,(r=>{const i=Vt.fromPath(r);return this.gi(e,i).next((s=>{s||n.removeEntry(i,bn.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return $e.or([()=>$e.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Jy{constructor(e,n){this.persistence=e,this.pi=new Lu((r=>Ca(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=O8(this,n)}static mi(e,n){return new Jy(e,n)}Ei(){}di(e){return $e.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return $e.forEach(this.pi,((r,i)=>this.br(e,r,i).next((s=>s?$e.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,(a=>this.br(e,a,n).next((o=>{o||(r++,s.removeEntry(a,bn.min()))})))).next((()=>s.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),$e.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),$e.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),$e.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),$e.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=iy(e.data.value)),n}br(e,n,r){return $e.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return $e.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class E${constructor(e){this.serializer=e}k(e,n,r,i){const s=new Rv("createOrUpgrade",n);r<1&&i>=1&&((function(c){c.createObjectStore(i1)})(e),(function(c){c.createObjectStore(Eg,{keyPath:Mz}),c.createObjectStore(zl,{keyPath:SC,autoIncrement:!0}).createIndex(Lh,AC,{unique:!0}),c.createObjectStore(ip)})(e),mN(e),(function(c){c.createObjectStore(Ah)})(e));let a=$e.resolve();return r<3&&i>=3&&(r!==0&&((function(c){c.deleteObjectStore(ap),c.deleteObjectStore(sp),c.deleteObjectStore(jh)})(e),mN(e)),a=a.next((()=>(function(c){const f=c.store(jh),h={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:bn.min().toTimestamp(),targetCount:0};return f.put(jy,h)})(s)))),r<4&&i>=4&&(r!==0&&(a=a.next((()=>(function(c,f){return f.store(zl).J().next((p=>{c.deleteObjectStore(zl),c.createObjectStore(zl,{keyPath:SC,autoIncrement:!0}).createIndex(Lh,AC,{unique:!0});const g=f.store(zl),x=p.map((T=>g.put(T)));return $e.waitFor(x)}))})(e,s)))),a=a.next((()=>{(function(c){c.createObjectStore(op,{keyPath:Hz})})(e)}))),r<5&&i>=5&&(a=a.next((()=>this.yi(s)))),r<6&&i>=6&&(a=a.next((()=>((function(c){c.createObjectStore(Sg)})(e),this.wi(s))))),r<7&&i>=7&&(a=a.next((()=>this.Si(s)))),r<8&&i>=8&&(a=a.next((()=>this.bi(e,s)))),r<9&&i>=9&&(a=a.next((()=>{(function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")})(e)}))),r<10&&i>=10&&(a=a.next((()=>this.Di(s)))),r<11&&i>=11&&(a=a.next((()=>{(function(c){c.createObjectStore(Dv,{keyPath:zz})})(e),(function(c){c.createObjectStore(Mv,{keyPath:Gz})})(e)}))),r<12&&i>=12&&(a=a.next((()=>{(function(c){const f=c.createObjectStore(Lv,{keyPath:Qz});f.createIndex(pb,Zz,{unique:!1}),f.createIndex(RD,eG,{unique:!1})})(e)}))),r<13&&i>=13&&(a=a.next((()=>(function(c){const f=c.createObjectStore(By,{keyPath:Fz});f.createIndex(ny,Oz),f.createIndex(CD,Vz)})(e))).next((()=>this.Ci(e,s))).next((()=>e.deleteObjectStore(Ah)))),r<14&&i>=14&&(a=a.next((()=>this.Fi(e,s)))),r<15&&i>=15&&(a=a.next((()=>(function(c){c.createObjectStore(aT,{keyPath:$z,autoIncrement:!0}).createIndex(db,Wz,{unique:!1}),c.createObjectStore(Ym,{keyPath:Kz}).createIndex(ID,Yz,{unique:!1}),c.createObjectStore(Xm,{keyPath:Xz}).createIndex(kD,Jz,{unique:!1})})(e)))),r<16&&i>=16&&(a=a.next((()=>{n.objectStore(Ym).clear()})).next((()=>{n.objectStore(Xm).clear()}))),r<17&&i>=17&&(a=a.next((()=>{(function(c){c.createObjectStore(oT,{keyPath:tG})})(e)}))),r<18&&i>=18&&EP()&&(a=a.next((()=>{n.objectStore(Ym).clear()})).next((()=>{n.objectStore(Xm).clear()}))),a}wi(e){let n=0;return e.store(Ah).ee(((r,i)=>{n+=Xy(i)})).next((()=>{const r={byteSize:n};return e.store(Sg).put(hb,r)}))}yi(e){const n=e.store(Eg),r=e.store(zl);return n.J().next((i=>$e.forEach(i,(s=>{const a=IDBKeyRange.bound([s.userId,Bh],[s.userId,s.lastAcknowledgedBatchId]);return r.J(Lh,a).next((o=>$e.forEach(o,(c=>{pn(c.userId===s.userId,18650,"Cannot process batch from unexpected user",{batchId:c.batchId});const f=kh(this.serializer,c);return D8(e,s.userId,f).next((()=>{}))}))))}))))}Si(e){const n=e.store(ap),r=e.store(Ah);return e.store(jh).get(jy).next((i=>{const s=[];return r.ee(((a,o)=>{const c=new Rr(a),f=(function(p){return[0,Ca(p)]})(c);s.push(n.get(f).next((h=>h?$e.resolve():(p=>n.put({targetId:0,path:Ca(p),sequenceNumber:i.highestListenSequenceNumber}))(c))))})).next((()=>$e.waitFor(s)))}))}bi(e,n){e.createObjectStore(Ag,{keyPath:qz});const r=n.store(Ag),i=new wT,s=a=>{if(i.add(a)){const o=a.lastSegment(),c=a.popLast();return r.put({collectionId:o,parent:Ca(c)})}};return n.store(Ah).ee({X:!0},((a,o)=>{const c=new Rr(a);return s(c.popLast())})).next((()=>n.store(ip).ee({X:!0},(([a,o,c],f)=>{const h=Sc(o);return s(h.popLast())}))))}Di(e){const n=e.store(sp);return n.ee(((r,i)=>{const s=Vm(i),a=N8(this.serializer,s);return n.put(a)}))}Ci(e,n){const r=n.store(Ah),i=[];return r.ee(((s,a)=>{const o=n.store(By),c=(function(p){return p.document?new Vt(Rr.fromString(p.document.name).popFirst(5)):p.noDocument?Vt.fromSegments(p.noDocument.path):p.unknownDocument?Vt.fromSegments(p.unknownDocument.path):rn(36783)})(a).path.toArray(),f={prefixPath:c.slice(0,c.length-2),collectionGroup:c[c.length-2],documentId:c[c.length-1],readTime:a.readTime||[0,0],unknownDocument:a.unknownDocument,noDocument:a.noDocument,document:a.document,hasCommittedMutations:!!a.hasCommittedMutations};i.push(o.put(f))})).next((()=>$e.waitFor(i)))}Fi(e,n){const r=n.store(zl),i=U8(this.serializer),s=new TT($v.mi,this.serializer.yt);return r.J().next((a=>{const o=new Map;return a.forEach((c=>{let f=o.get(c.userId)??Kn();kh(this.serializer,c).keys().forEach((h=>f=f.add(h))),o.set(c.userId,f)})),$e.forEach(o,((c,f)=>{const h=new ta(f),p=zv.wt(this.serializer,h),g=s.getIndexManager(h),x=Gv.wt(h,this.serializer,g,s.referenceDelegate);return new B8(i,x,p,g).recalculateAndSaveOverlaysForDocumentKeys(new mb(n,hl.ce),c).next()}))}))}}function mN(t){t.createObjectStore(ap,{keyPath:Bz}).createIndex(sT,jz,{unique:!0}),t.createObjectStore(sp,{keyPath:"targetId"}).createIndex(ND,Uz,{unique:!0}),t.createObjectStore(jh)}const vf="IndexedDbPersistence",$_=18e5,W_=5e3,K_="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",S$="main";class ET{constructor(e,n,r,i,s,a,o,c,f,h,p=18){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Mi=s,this.window=a,this.document=o,this.xi=f,this.Oi=h,this.Ni=p,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=g=>Promise.resolve(),!ET.v())throw new Ot(mt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new h$(this,i),this.$i=n+S$,this.serializer=new C8(c),this.Ui=new Uf(this.$i,this.Ni,new E$(this.serializer)),this.hi=new e$,this.Pi=new l$(this.referenceDelegate,this.serializer),this.remoteDocumentCache=U8(this.serializer),this.Ii=new ZG,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,h===!1&&qa(vf,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ot(mt.FAILED_PRECONDITION,K_);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Pi.getHighestSequenceNumber(e)))})).then((e=>{this.ci=new hl(e,this.xi)})).then((()=>{this.li=!0})).catch((e=>(this.Ui&&this.Ui.close(),Promise.reject(e))))}Ji(e){return this.Qi=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ui.$((async n=>{n.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Mi.enqueueAndForget((async()=>{this.started&&await this.Wi()})))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>bx(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Hi(e).next((n=>{n||(this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))))}))})).next((()=>this.Yi(e))).next((n=>this.isPrimary&&!n?this.Zi(e).next((()=>!1)):!!n&&this.Xi(e).next((()=>!0)))))).catch((e=>{if(eh(e))return Tt(vf,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Tt(vf,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Mi.enqueueRetryable((()=>this.Qi(e))),this.isPrimary=e}))}Hi(e){return Cm(e).get(o0).next((n=>$e.resolve(this.es(n))))}ts(e){return bx(e).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.rs(this.qi,$_)){this.qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(n=>{const r=Cs(n,op);return r.J().next((i=>{const s=this.ss(i,$_),a=i.filter((o=>s.indexOf(o)===-1));return $e.forEach(a,(o=>r.delete(o.clientId))).next((()=>a))}))})).catch((()=>[]));if(this.Ki)for(const n of e)this.Ki.removeItem(this._s(n.clientId))}}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Wi().then((()=>this.ns())).then((()=>this.ji()))))}es(e){return!!e&&e.ownerId===this.clientId}Yi(e){return this.Oi?$e.resolve(!0):Cm(e).get(o0).next((n=>{if(n!==null&&this.rs(n.leaseTimestampMs,W_)&&!this.us(n.ownerId)){if(this.es(n)&&this.networkEnabled)return!0;if(!this.es(n)){if(!n.allowTabSynchronization)throw new Ot(mt.FAILED_PRECONDITION,K_);return!1}}return!(!this.networkEnabled||!this.inForeground)||bx(e).J().next((r=>this.ss(r,W_).find((i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,a=!this.inForeground&&i.inForeground,o=this.networkEnabled===i.networkEnabled;if(s||a&&o)return!0}return!1}))===void 0))})).next((n=>(this.isPrimary!==n&&Tt(vf,`Client ${n?"is":"is not"} eligible for a primary lease.`),n)))}async shutdown(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),await this.Ui.runTransaction("shutdown","readwrite",[i1,op],(e=>{const n=new mb(e,hl.ce);return this.Zi(n).next((()=>this.ts(n)))})),this.Ui.close(),this.Ps()}ss(e,n){return e.filter((r=>this.rs(r.updateTimeMs,n)&&!this.us(r.clientId)))}Ts(){return this.runTransaction("getActiveClients","readonly",(e=>bx(e).J().next((n=>this.ss(n,$_).map((r=>r.clientId))))))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(e,n){return Gv.wt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new o$(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return zv.wt(this.serializer,e)}getBundleCache(){return this.Ii}runTransaction(e,n,r){Tt(vf,"Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",s=(function(c){return c===18?iG:c===17?LD:c===16?rG:c===15?lT:c===14?MD:c===13?DD:c===12?nG:c===11?PD:void rn(60245)})(this.Ni);let a;return this.Ui.runTransaction(e,i,s,(o=>(a=new mb(o,this.ci?this.ci.next():hl.ce),n==="readwrite-primary"?this.Hi(a).next((c=>!!c||this.Yi(a))).next((c=>{if(!c)throw qa(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))),new Ot(mt.FAILED_PRECONDITION,TD);return r(a)})).next((c=>this.Xi(a).next((()=>c)))):this.Is(a).next((()=>r(a)))))).then((o=>(a.raiseOnCommittedEvent(),o)))}Is(e){return Cm(e).get(o0).next((n=>{if(n!==null&&this.rs(n.leaseTimestampMs,W_)&&!this.us(n.ownerId)&&!this.es(n)&&!(this.Oi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new Ot(mt.FAILED_PRECONDITION,K_)}))}Xi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Cm(e).put(o0,n)}static v(){return Uf.v()}Zi(e){const n=Cm(e);return n.get(o0).next((r=>this.es(r)?(Tt(vf,"Releasing primary lease."),n.delete(o0)):$e.resolve()))}rs(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(qa(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Li=()=>{this.Mi.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.Wi())))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground=this.document.visibilityState==="visible")}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){typeof this.window?.addEventListener=="function"&&(this.Bi=()=>{this.cs();const e=/(?:Version|Mobile)\/1[456]/;TP()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(e){try{const n=this.Ki?.getItem(this._s(e))!==null;return Tt(vf,`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(n){return qa(vf,"Failed to get zombied client id.",n),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(e){qa("Failed to set zombie client id.",e)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch{}}_s(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Cm(t){return Cs(t,i1)}function bx(t){return Cs(t,op)}function A$(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}class ST{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=Kn(),i=Kn();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new ST(e,n.fromCache,r,i)}}class C${constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class j8{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return TP()?8:SD(As())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ys(e,n).next((a=>{s.result=a})).next((()=>{if(!s.result)return this.ws(e,n,i,r).next((a=>{s.result=a}))})).next((()=>{if(s.result)return;const a=new C$;return this.Ss(e,n,a).next((o=>{if(s.result=o,this.Vs)return this.bs(e,n,a,o.size)}))})).next((()=>s.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(x0()<=ir.DEBUG&&Tt("QueryEngine","SDK will not create cache indexes for query:",y0(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$e.resolve()):(x0()<=ir.DEBUG&&Tt("QueryEngine","Query:",y0(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(x0()<=ir.DEBUG&&Tt("QueryEngine","The SDK decides to create cache indexes for query:",y0(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,pl(n))):$e.resolve())}ys(e,n){if(UC(n))return $e.resolve(null);let r=pl(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=wb(n,null,"F"),r=pl(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((s=>{const a=Kn(...s);return this.ps.getDocuments(e,a).next((o=>this.indexManager.getMinOffset(e,r).next((c=>{const f=this.Ds(n,o);return this.Cs(n,f,a,c.readTime)?this.ys(e,wb(n,null,"F")):this.vs(e,f,n,c)}))))})))))}ws(e,n,r,i){return UC(n)||i.isEqual(bn.min())?$e.resolve(null):this.ps.getDocuments(e,r).next((s=>{const a=this.Ds(n,s);return this.Cs(n,a,r,i)?$e.resolve(null):(x0()<=ir.DEBUG&&Tt("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),y0(n)),this.vs(e,a,n,Cz(i,wg)).next((o=>o)))}))}Ds(e,n){let r=new Vr(e8(e));return n.forEach(((i,s)=>{a1(e,s)&&(r=r.add(s))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,n,r){return x0()<=ir.DEBUG&&Tt("QueryEngine","Using full collection scan to execute query:",y0(n)),this.ps.getDocumentsMatchingQuery(e,n,Bo.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((s=>(n.forEach((a=>{s=s.insert(a.key,a)})),s)))}}const AT="LocalStore",N$=3e8;class I${constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new vi(Dn),this.xs=new Lu((s=>nd(s)),s1),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new B8(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function q8(t,e,n,r){return new I$(t,e,n,r)}async function H8(t,e){const n=Mn(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((s=>(i=s,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((s=>{const a=[],o=[];let c=Kn();for(const f of i){a.push(f.batchId);for(const h of f.mutations)c=c.add(h.key)}for(const f of s){o.push(f.batchId);for(const h of f.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(r,c).next((f=>({Ls:f,removedBatchIds:a,addedBatchIds:o})))}))}))}function k$(t,e){const n=Mn(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(o,c,f,h){const p=f.batch,g=p.keys();let x=$e.resolve();return g.forEach((T=>{x=x.next((()=>h.getEntry(c,T))).next((S=>{const N=f.docVersions.get(T);pn(N!==null,48541),S.version.compareTo(N)<0&&(p.applyToRemoteDocument(S,f),S.isValidDocument()&&(S.setReadTime(f.commitVersion),h.addEntry(S)))}))})),x.next((()=>o.mutationQueue.removeMutationBatch(c,p)))})(n,r,e,s).next((()=>s.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(o){let c=Kn();for(let f=0;f<o.mutationResults.length;++f)o.mutationResults[f].transformResults.length>0&&(c=c.add(o.batch.mutations[f].key));return c})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function z8(t){const e=Mn(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function R$(t,e){const n=Mn(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const a=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const o=[];e.targetChanges.forEach(((h,p)=>{const g=i.get(p);if(!g)return;o.push(n.Pi.removeMatchingKeys(s,h.removedDocuments,p).next((()=>n.Pi.addMatchingKeys(s,h.addedDocuments,p))));let x=g.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?x=x.withResumeToken(cs.EMPTY_BYTE_STRING,bn.min()).withLastLimboFreeSnapshotVersion(bn.min()):h.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(h.resumeToken,r)),i=i.insert(p,x),(function(S,N,k){return S.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=N$?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0})(g,x,h)&&o.push(n.Pi.updateTargetData(s,x))}));let c=Vo(),f=Kn();if(e.documentUpdates.forEach((h=>{e.resolvedLimboDocuments.has(h)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))})),o.push(P$(s,a,e.documentUpdates).next((h=>{c=h.ks,f=h.qs}))),!r.isEqual(bn.min())){const h=n.Pi.getLastRemoteSnapshotVersion(s).next((p=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r)));o.push(h)}return $e.waitFor(o).next((()=>a.apply(s))).next((()=>n.localDocuments.getLocalViewOfDocuments(s,c,f))).next((()=>c))})).then((s=>(n.Ms=i,s)))}function P$(t,e,n){let r=Kn(),i=Kn();return n.forEach((s=>r=r.add(s))),e.getEntries(t,r).next((s=>{let a=Vo();return n.forEach(((o,c)=>{const f=s.get(o);c.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(o)),c.isNoDocument()&&c.version.isEqual(bn.min())?(e.removeEntry(o,c.readTime),a=a.insert(o,c)):!f.isValidDocument()||c.version.compareTo(f.version)>0||c.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(c),a=a.insert(o,c)):Tt(AT,"Ignoring outdated watch update for ",o,". Current version:",f.version," Watch version:",c.version)})),{ks:a,qs:i}}))}function D$(t,e){const n=Mn(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Bh),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function M$(t,e){const n=Mn(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((s=>s?(i=s,$e.resolve(i)):n.Pi.allocateTargetId(r).next((a=>(i=new wu(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function Ib(t,e,n){const r=Mn(t),i=r.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(a=>r.persistence.referenceDelegate.removeTarget(a,i)))}catch(a){if(!eh(a))throw a;Tt(AT,`Failed to update sequence numbers for target ${e}: ${a}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function gN(t,e,n){const r=Mn(t);let i=bn.min(),s=Kn();return r.persistence.runTransaction("Execute query","readwrite",(a=>(function(c,f,h){const p=Mn(c),g=p.xs.get(h);return g!==void 0?$e.resolve(p.Ms.get(g)):p.Pi.getTargetData(f,h)})(r,a,pl(e)).next((o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(a,o.targetId).next((c=>{s=c}))})).next((()=>r.Fs.getDocumentsMatchingQuery(a,e,n?i:bn.min(),n?s:Kn()))).next((o=>(L$(r,_G(e),o),{documents:o,Qs:s})))))}function L$(t,e,n){let r=t.Os.get(e)||bn.min();n.forEach(((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)})),t.Os.set(e,r)}class xN{constructor(){this.activeTargetIds=AG()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class G8{constructor(){this.Mo=new xN,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new xN,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class F${Oo(e){}shutdown(){}}const yN="ConnectivityMonitor";class vN{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Tt(yN,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Tt(yN,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Tx=null;function kb(){return Tx===null?Tx=(function(){return 268435456+Math.round(2147483648*Math.random())})():Tx++,"0x"+Tx.toString(16)}const Y_="RestConnection",O$={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class V${get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===qy?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,s){const a=kb(),o=this.zo(e,n.toUriEncodedString());Tt(Y_,`Sending RPC '${e}' ${a}:`,o,r);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,i,s);const{host:f}=new URL(o),h=Tp(f);return this.Jo(e,o,c,r,h).then((p=>(Tt(Y_,`Received RPC '${e}' ${a}: `,p),p)),(p=>{throw ed(Y_,`RPC '${e}' ${a} failed with error: `,p,"url: ",o,"request:",r),p}))}Ho(e,n,r,i,s,a){return this.Go(e,n,r,i,s)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ap})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,s)=>e[s]=i)),r&&r.headers.forEach(((i,s)=>e[s]=i))}zo(e,n){const r=O$[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}class U${constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const pa="WebChannelConnection";class B$ extends V${constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const a=kb();return new Promise(((o,c)=>{const f=new hD;f.setWithCredentials(!0),f.listenOnce(dD.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case Zx.NO_ERROR:const p=f.getResponseJson();Tt(pa,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(p)),o(p);break;case Zx.TIMEOUT:Tt(pa,`RPC '${e}' ${a} timed out`),c(new Ot(mt.DEADLINE_EXCEEDED,"Request time out"));break;case Zx.HTTP_ERROR:const g=f.getStatus();if(Tt(pa,`RPC '${e}' ${a} failed with status:`,g,"response text:",f.getResponseText()),g>0){let x=f.getResponseJson();Array.isArray(x)&&(x=x[0]);const T=x?.error;if(T&&T.status&&T.message){const S=(function(k){const B=k.toLowerCase().replace(/_/g,"-");return Object.values(mt).indexOf(B)>=0?B:mt.UNKNOWN})(T.status);c(new Ot(S,T.message))}else c(new Ot(mt.UNKNOWN,"Server responded with status "+f.getStatus()))}else c(new Ot(mt.UNAVAILABLE,"Connection failed."));break;default:rn(9055,{l_:e,streamId:a,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{Tt(pa,`RPC '${e}' ${a} completed.`)}}));const h=JSON.stringify(i);Tt(pa,`RPC '${e}' ${a} sending request:`,i),f.send(n,"POST",h,r,15)}))}T_(e,n,r){const i=kb(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=gD(),o=mD(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(c.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const h=s.join("");Tt(pa,`Creating RPC '${e}' stream ${i}: ${h}`,c);const p=a.createWebChannel(h,c);this.I_(p);let g=!1,x=!1;const T=new U$({Yo:N=>{x?Tt(pa,`Not sending because RPC '${e}' stream ${i} is closed:`,N):(g||(Tt(pa,`Opening RPC '${e}' stream ${i} transport.`),p.open(),g=!0),Tt(pa,`RPC '${e}' stream ${i} sending:`,N),p.send(N))},Zo:()=>p.close()}),S=(N,k,B)=>{N.listen(k,(R=>{try{B(R)}catch(q){setTimeout((()=>{throw q}),0)}}))};return S(p,Lm.EventType.OPEN,(()=>{x||(Tt(pa,`RPC '${e}' stream ${i} transport opened.`),T.o_())})),S(p,Lm.EventType.CLOSE,(()=>{x||(x=!0,Tt(pa,`RPC '${e}' stream ${i} transport closed`),T.a_(),this.E_(p))})),S(p,Lm.EventType.ERROR,(N=>{x||(x=!0,ed(pa,`RPC '${e}' stream ${i} transport errored. Name:`,N.name,"Message:",N.message),T.a_(new Ot(mt.UNAVAILABLE,"The operation could not be completed")))})),S(p,Lm.EventType.MESSAGE,(N=>{if(!x){const k=N.data[0];pn(!!k,16349);const B=k,R=B?.error||B[0]?.error;if(R){Tt(pa,`RPC '${e}' stream ${i} received error:`,R);const q=R.status;let Y=(function(O){const C=is[O];if(C!==void 0)return d8(C)})(q),J=R.message;Y===void 0&&(Y=mt.INTERNAL,J="Unknown error status: "+q+" with message "+R.message),x=!0,T.a_(new Ot(Y,J)),p.close()}else Tt(pa,`RPC '${e}' stream ${i} received:`,k),T.u_(k)}})),S(o,pD.STAT_EVENT,(N=>{N.stat===cb.PROXY?Tt(pa,`RPC '${e}' stream ${i} detected buffering proxy`):N.stat===cb.NOPROXY&&Tt(pa,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{T.__()}),0),T}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function j$(){return typeof window<"u"?window:null}function cy(){return typeof document<"u"?document:null}function Wv(t){return new qG(t,!0)}class $8{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&Tt("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const _N="PersistentStream";class W8{constructor(e,n,r,i,s,a,o,c){this.Mi=e,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new $8(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===mt.RESOURCE_EXHAUSTED?(qa(n.toString()),qa("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===mt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new Ot(mt.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Tt(_N,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(Tt(_N,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class q$ extends W8{constructor(e,n,r,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=GG(this.serializer,e),r=(function(s){if(!("targetChange"in s))return bn.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?bn.min():a.readTime?Ga(a.readTime):bn.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Eb(this.serializer),n.addTarget=(function(s,a){let o;const c=a.target;if(o=zy(c)?{documents:w8(s,c)}:{query:b8(s,c).ft},o.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){o.resumeToken=g8(s,a.resumeToken);const f=bb(s,a.expectedCount);f!==null&&(o.expectedCount=f)}else if(a.snapshotVersion.compareTo(bn.min())>0){o.readTime=mp(s,a.snapshotVersion.toTimestamp());const f=bb(s,a.expectedCount);f!==null&&(o.expectedCount=f)}return o})(this.serializer,e);const r=WG(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Eb(this.serializer),n.removeTarget=e,this.q_(n)}}class H$ extends W8{constructor(e,n,r,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return pn(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,pn(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){pn(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=$G(e.writeResults,e.commitTime),r=Ga(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Eb(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>Wy(this.serializer,r)))};this.q_(n)}}class z${}class G$ extends z${constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Ot(mt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,a])=>this.connection.Go(e,Tb(n,r),i,s,a))).catch((s=>{throw s.name==="FirebaseError"?(s.code===mt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ot(mt.UNKNOWN,s.toString())}))}Ho(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,o])=>this.connection.Ho(e,Tb(n,r),i,a,o,s))).catch((a=>{throw a.name==="FirebaseError"?(a.code===mt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ot(mt.UNKNOWN,a.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class $${constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(qa(n),this.aa=!1):Tt("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ad="RemoteStore";class W${constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo((a=>{r.enqueueAndForget((async()=>{gd(this)&&(Tt(ad,"Restarting streams for network reachability change."),await(async function(c){const f=Mn(c);f.Ea.add(4),await c1(f),f.Ra.set("Unknown"),f.Ea.delete(4),await Kv(f)})(this))}))})),this.Ra=new $$(r,i)}}async function Kv(t){if(gd(t))for(const e of t.da)await e(!0)}async function c1(t){for(const e of t.da)await e(!1)}function K8(t,e){const n=Mn(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),kT(n)?IT(n):Np(n).O_()&&NT(n,e))}function CT(t,e){const n=Mn(t),r=Np(n);n.Ia.delete(e),r.O_()&&Y8(n,e),n.Ia.size===0&&(r.O_()?r.L_():gd(n)&&n.Ra.set("Unknown"))}function NT(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(bn.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Np(t).Y_(e)}function Y8(t,e){t.Va.Ue(e),Np(t).Z_(e)}function IT(t){t.Va=new VG({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Np(t).start(),t.Ra.ua()}function kT(t){return gd(t)&&!Np(t).x_()&&t.Ia.size>0}function gd(t){return Mn(t).Ea.size===0}function X8(t){t.Va=void 0}async function K$(t){t.Ra.set("Online")}async function Y$(t){t.Ia.forEach(((e,n)=>{NT(t,e)}))}async function X$(t,e){X8(t),kT(t)?(t.Ra.ha(e),IT(t)):t.Ra.set("Unknown")}async function J$(t,e,n){if(t.Ra.set("Online"),e instanceof m8&&e.state===2&&e.cause)try{await(async function(i,s){const a=s.cause;for(const o of s.targetIds)i.Ia.has(o)&&(await i.remoteSyncer.rejectListen(o,a),i.Ia.delete(o),i.Va.removeTarget(o))})(t,e)}catch(r){Tt(ad,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Qy(t,r)}else if(e instanceof oy?t.Va.Ze(e):e instanceof p8?t.Va.st(e):t.Va.tt(e),!n.isEqual(bn.min()))try{const r=await z8(t.localStore);n.compareTo(r)>=0&&await(function(s,a){const o=s.Va.Tt(a);return o.targetChanges.forEach(((c,f)=>{if(c.resumeToken.approximateByteSize()>0){const h=s.Ia.get(f);h&&s.Ia.set(f,h.withResumeToken(c.resumeToken,a))}})),o.targetMismatches.forEach(((c,f)=>{const h=s.Ia.get(c);if(!h)return;s.Ia.set(c,h.withResumeToken(cs.EMPTY_BYTE_STRING,h.snapshotVersion)),Y8(s,c);const p=new wu(h.target,c,f,h.sequenceNumber);NT(s,p)})),s.remoteSyncer.applyRemoteEvent(o)})(t,n)}catch(r){Tt(ad,"Failed to raise snapshot:",r),await Qy(t,r)}}async function Qy(t,e,n){if(!eh(e))throw e;t.Ea.add(1),await c1(t),t.Ra.set("Offline"),n||(n=()=>z8(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Tt(ad,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Kv(t)}))}function J8(t,e){return e().catch((n=>Qy(t,n,e)))}async function u1(t){const e=Mn(t),n=Gf(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Bh;for(;Q$(e);)try{const i=await D$(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,Z$(e,i)}catch(i){await Qy(e,i)}Q8(e)&&Z8(e)}function Q$(t){return gd(t)&&t.Ta.length<10}function Z$(t,e){t.Ta.push(e);const n=Gf(t);n.O_()&&n.X_&&n.ea(e.mutations)}function Q8(t){return gd(t)&&!Gf(t).x_()&&t.Ta.length>0}function Z8(t){Gf(t).start()}async function eW(t){Gf(t).ra()}async function tW(t){const e=Gf(t);for(const n of t.Ta)e.ea(n.mutations)}async function nW(t,e,n){const r=t.Ta.shift(),i=gT.from(r,e,n);await J8(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await u1(t)}async function rW(t,e){e&&Gf(t).X_&&await(async function(r,i){if((function(a){return LG(a)&&a!==mt.ABORTED})(i.code)){const s=r.Ta.shift();Gf(r).B_(),await J8(r,(()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i))),await u1(r)}})(t,e),Q8(t)&&Z8(t)}async function wN(t,e){const n=Mn(t);n.asyncQueue.verifyOperationInProgress(),Tt(ad,"RemoteStore received new credentials");const r=gd(n);n.Ea.add(3),await c1(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Kv(n)}async function iW(t,e){const n=Mn(t);e?(n.Ea.delete(2),await Kv(n)):e||(n.Ea.add(2),await c1(n),n.Ra.set("Unknown"))}function Np(t){return t.ma||(t.ma=(function(n,r,i){const s=Mn(n);return s.sa(),new q$(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Xo:K$.bind(null,t),t_:Y$.bind(null,t),r_:X$.bind(null,t),H_:J$.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),kT(t)?IT(t):t.Ra.set("Unknown")):(await t.ma.stop(),X8(t))}))),t.ma}function Gf(t){return t.fa||(t.fa=(function(n,r,i){const s=Mn(n);return s.sa(),new H$(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:eW.bind(null,t),r_:rW.bind(null,t),ta:tW.bind(null,t),na:nW.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await u1(t)):(await t.fa.stop(),t.Ta.length>0&&(Tt(ad,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class RT{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Rc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((a=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const a=Date.now()+r,o=new RT(e,n,a,i,s);return o.start(r),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ot(mt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function PT(t,e){if(qa("AsyncQueue",`${e}: ${t}`),eh(t))return new Ot(mt.UNAVAILABLE,`${e}: ${t}`);throw t}class q0{static emptySet(e){return new q0(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Vt.comparator(n.key,r.key):(n,r)=>Vt.comparator(n.key,r.key),this.keyedMap=Fm(),this.sortedSet=new vi(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof q0)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new q0;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class bN{constructor(){this.ga=new vi(Vt.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):rn(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class gp{constructor(e,n,r,i,s,a,o,c,f){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=c,this.hasCachedResults=f}static fromInitialDocuments(e,n,r,i,s){const a=[];return n.forEach((o=>{a.push({type:0,doc:o})})),new gp(e,n,q0.emptySet(n),a,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Bv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class sW{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class aW{constructor(){this.queries=TN(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Mn(n),s=i.queries;i.queries=TN(),s.forEach(((a,o)=>{for(const c of o.Sa)c.onError(r)}))})(this,new Ot(mt.ABORTED,"Firestore shutting down"))}}function TN(){return new Lu((t=>ZD(t)),Bv)}async function eM(t,e){const n=Mn(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.ba()&&e.Da()&&(r=2):(s=new sW,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const o=PT(a,`Initialization of query '${y0(e.query)}' failed`);return void e.onError(o)}n.queries.set(i,s),s.Sa.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&DT(n)}async function tM(t,e){const n=Mn(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const a=s.Sa.indexOf(e);a>=0&&(s.Sa.splice(a,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function oW(t,e){const n=Mn(t);let r=!1;for(const i of e){const s=i.query,a=n.queries.get(s);if(a){for(const o of a.Sa)o.Fa(i)&&(r=!0);a.wa=i}}r&&DT(n)}function lW(t,e,n){const r=Mn(t),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(e)}function DT(t){t.Ca.forEach((e=>{e.next()}))}var Rb,EN;(EN=Rb||(Rb={})).Ma="default",EN.Cache="cache";class nM{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new gp(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=gp.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Rb.Cache}}class rM{constructor(e){this.key=e}}class iM{constructor(e){this.key=e}}class cW{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Kn(),this.mutatedKeys=Kn(),this.eu=e8(e),this.tu=new q0(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new bN,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,a=i,o=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((h,p)=>{const g=i.get(h),x=a1(this.query,p)?p:null,T=!!g&&this.mutatedKeys.has(g.key),S=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let N=!1;g&&x?g.data.isEqual(x.data)?T!==S&&(r.track({type:3,doc:x}),N=!0):this.su(g,x)||(r.track({type:2,doc:x}),N=!0,(c&&this.eu(x,c)>0||f&&this.eu(x,f)<0)&&(o=!0)):!g&&x?(r.track({type:0,doc:x}),N=!0):g&&!x&&(r.track({type:1,doc:g}),N=!0,(c||f)&&(o=!0)),N&&(x?(a=a.add(x),s=S?s.add(h):s.delete(h)):(a=a.delete(h),s=s.delete(h)))})),this.query.limit!==null)for(;a.size>this.query.limit;){const h=this.query.limitType==="F"?a.last():a.first();a=a.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{tu:a,iu:r,Cs:o,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort(((h,p)=>(function(x,T){const S=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return rn(20277,{Rt:N})}};return S(x)-S(T)})(h.type,p.type)||this.eu(h.doc,p.doc))),this.ou(r),i=i??!1;const o=n&&!i?this._u():[],c=this.Xa.size===0&&this.current&&!i?1:0,f=c!==this.Za;return this.Za=c,a.length!==0||f?{snapshot:new gp(this.query,e.tu,s,a,e.mutatedKeys,c===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new bN,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Kn(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new iM(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new rM(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=Kn();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return gp.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const MT="SyncEngine";class uW{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class fW{constructor(e){this.key=e,this.hu=!1}}class hW{constructor(e,n,r,i,s,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new Lu((o=>ZD(o)),Bv),this.Iu=new Map,this.Eu=new Set,this.du=new vi(Vt.comparator),this.Au=new Map,this.Ru=new bT,this.Vu={},this.mu=new Map,this.fu=sd.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function dW(t,e,n=!0){const r=uM(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await sM(r,e,n,!0),i}async function pW(t,e){const n=uM(t);await sM(n,e,!0,!1)}async function sM(t,e,n,r){const i=await M$(t.localStore,pl(e)),s=i.targetId,a=t.sharedClientState.addLocalQueryTarget(s,n);let o;return r&&(o=await mW(t,e,s,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&K8(t.remoteStore,i),o}async function mW(t,e,n,r,i){t.pu=(p,g,x)=>(async function(S,N,k,B){let R=N.view.ru(k);R.Cs&&(R=await gN(S.localStore,N.query,!1).then((({documents:F})=>N.view.ru(F,R))));const q=B&&B.targetChanges.get(N.targetId),Y=B&&B.targetMismatches.get(N.targetId)!=null,J=N.view.applyChanges(R,S.isPrimaryClient,q,Y);return AN(S,N.targetId,J.au),J.snapshot})(t,p,g,x);const s=await gN(t.localStore,e,!0),a=new cW(e,s.Qs),o=a.ru(s.documents),c=l1.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),f=a.applyChanges(o,t.isPrimaryClient,c);AN(t,n,f.au);const h=new uW(e,n,a);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),f.snapshot}async function gW(t,e,n){const r=Mn(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter((a=>!Bv(a,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Ib(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&CT(r.remoteStore,i.targetId),Pb(r,i.targetId)})).catch(md)):(Pb(r,i.targetId),await Ib(r.localStore,i.targetId,!0))}async function xW(t,e){const n=Mn(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),CT(n.remoteStore,r.targetId))}async function yW(t,e,n){const r=fM(t);try{const i=await(function(a,o){const c=Mn(a),f=Or.now(),h=o.reduce(((x,T)=>x.add(T.key)),Kn());let p,g;return c.persistence.runTransaction("Locally write mutations","readwrite",(x=>{let T=Vo(),S=Kn();return c.Ns.getEntries(x,h).next((N=>{T=N,T.forEach(((k,B)=>{B.isValidDocument()||(S=S.add(k))}))})).next((()=>c.localDocuments.getOverlayedDocuments(x,T))).next((N=>{p=N;const k=[];for(const B of o){const R=DG(B,p.get(B.key).overlayedDocument);R!=null&&k.push(new Fu(B.key,R,GD(R.value.mapValue),sa.exists(!0)))}return c.mutationQueue.addMutationBatch(x,f,k,o)})).next((N=>{g=N;const k=N.applyToLocalDocumentSet(p,S);return c.documentOverlayCache.saveOverlays(x,N.batchId,k)}))})).then((()=>({batchId:g.batchId,changes:n8(p)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(a,o,c){let f=a.Vu[a.currentUser.toKey()];f||(f=new vi(Dn)),f=f.insert(o,c),a.Vu[a.currentUser.toKey()]=f})(r,i.batchId,n),await f1(r,i.changes),await u1(r.remoteStore)}catch(i){const s=PT(i,"Failed to persist write");n.reject(s)}}async function aM(t,e){const n=Mn(t);try{const r=await R$(n.localStore,e);e.targetChanges.forEach(((i,s)=>{const a=n.Au.get(s);a&&(pn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?a.hu=!0:i.modifiedDocuments.size>0?pn(a.hu,14607):i.removedDocuments.size>0&&(pn(a.hu,42227),a.hu=!1))})),await f1(n,r,e)}catch(r){await md(r)}}function SN(t,e,n){const r=Mn(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((s,a)=>{const o=a.view.va(e);o.snapshot&&i.push(o.snapshot)})),(function(a,o){const c=Mn(a);c.onlineState=o;let f=!1;c.queries.forEach(((h,p)=>{for(const g of p.Sa)g.va(o)&&(f=!0)})),f&&DT(c)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function vW(t,e,n){const r=Mn(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let a=new vi(Vt.comparator);a=a.insert(s,Ui.newNoDocument(s,bn.min()));const o=Kn().add(s),c=new Hv(bn.min(),new Map,new vi(Dn),a,o);await aM(r,c),r.du=r.du.remove(s),r.Au.delete(e),LT(r)}else await Ib(r.localStore,e,!1).then((()=>Pb(r,e,n))).catch(md)}async function _W(t,e){const n=Mn(t),r=e.batch.batchId;try{const i=await k$(n.localStore,e);lM(n,r,null),oM(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await f1(n,i)}catch(i){await md(i)}}async function wW(t,e,n){const r=Mn(t);try{const i=await(function(a,o){const c=Mn(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let h;return c.mutationQueue.lookupMutationBatch(f,o).next((p=>(pn(p!==null,37113),h=p.keys(),c.mutationQueue.removeMutationBatch(f,p)))).next((()=>c.mutationQueue.performConsistencyCheck(f))).next((()=>c.documentOverlayCache.removeOverlaysForBatchId(f,h,o))).next((()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,h))).next((()=>c.localDocuments.getDocuments(f,h)))}))})(r.localStore,e);lM(r,e,n),oM(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await f1(r,i)}catch(i){await md(i)}}function oM(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function lM(t,e,n){const r=Mn(t);let i=r.Vu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function Pb(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||cM(t,r)}))}function cM(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(CT(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),LT(t))}function AN(t,e,n){for(const r of n)r instanceof rM?(t.Ru.addReference(r.key,e),bW(t,r)):r instanceof iM?(Tt(MT,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||cM(t,r.key)):rn(19791,{wu:r})}function bW(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Tt(MT,"New document in limbo: "+n),t.Eu.add(r),LT(t))}function LT(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Vt(Rr.fromString(e)),r=t.fu.next();t.Au.set(r,new fW(n)),t.du=t.du.insert(n,r),K8(t.remoteStore,new wu(pl(Uv(n.path)),r,"TargetPurposeLimboResolution",hl.ce))}}async function f1(t,e,n){const r=Mn(t),i=[],s=[],a=[];r.Tu.isEmpty()||(r.Tu.forEach(((o,c)=>{a.push(r.pu(c,e,n).then((f=>{if((f||n)&&r.isPrimaryClient){const h=f?!f.fromCache:n?.targetChanges.get(c.targetId)?.current;r.sharedClientState.updateQueryState(c.targetId,h?"current":"not-current")}if(f){i.push(f);const h=ST.As(c.targetId,f);s.push(h)}})))})),await Promise.all(a),r.Pu.H_(i),await(async function(c,f){const h=Mn(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",(p=>$e.forEach(f,(g=>$e.forEach(g.Es,(x=>h.persistence.referenceDelegate.addReference(p,g.targetId,x))).next((()=>$e.forEach(g.ds,(x=>h.persistence.referenceDelegate.removeReference(p,g.targetId,x)))))))))}catch(p){if(!eh(p))throw p;Tt(AT,"Failed to update sequence numbers: "+p)}for(const p of f){const g=p.targetId;if(!p.fromCache){const x=h.Ms.get(g),T=x.snapshotVersion,S=x.withLastLimboFreeSnapshotVersion(T);h.Ms=h.Ms.insert(g,S)}}})(r.localStore,s))}async function TW(t,e){const n=Mn(t);if(!n.currentUser.isEqual(e)){Tt(MT,"User change. New user:",e.toKey());const r=await H8(n.localStore,e);n.currentUser=e,(function(s,a){s.mu.forEach((o=>{o.forEach((c=>{c.reject(new Ot(mt.CANCELLED,a))}))})),s.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await f1(n,r.Ls)}}function EW(t,e){const n=Mn(t),r=n.Au.get(e);if(r&&r.hu)return Kn().add(r.key);{let i=Kn();const s=n.Iu.get(e);if(!s)return i;for(const a of s){const o=n.Tu.get(a);i=i.unionWith(o.view.nu)}return i}}function uM(t){const e=Mn(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=aM.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=EW.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=vW.bind(null,e),e.Pu.H_=oW.bind(null,e.eventManager),e.Pu.yu=lW.bind(null,e.eventManager),e}function fM(t){const e=Mn(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_W.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=wW.bind(null,e),e}class Rg{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Wv(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return q8(this.persistence,new j8,e.initialUser,this.serializer)}Cu(e){return new TT($v.mi,this.serializer)}Du(e){return new G8}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Rg.provider={build:()=>new Rg};class SW extends Rg{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){pn(this.persistence.referenceDelegate instanceof Jy,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new F8(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?_a.withCacheSize(this.cacheSizeBytes):_a.DEFAULT;return new TT((r=>Jy.mi(r,n)),this.serializer)}}class AW extends Rg{constructor(e,n,r){super(),this.xu=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await fM(this.xu.syncEngine),await u1(this.xu.remoteStore),await this.persistence.Ji((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return q8(this.persistence,new j8,e.initialUser,this.serializer)}Fu(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new F8(r,e.asyncQueue,n)}Mu(e,n){const r=new Rz(n,this.persistence);return new kz(e.asyncQueue,r)}Cu(e){const n=A$(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?_a.withCacheSize(this.cacheSizeBytes):_a.DEFAULT;return new ET(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,j$(),cy(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new G8}}class Zy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>SN(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=TW.bind(null,this.syncEngine),await iW(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new aW})()}createDatastore(e){const n=Wv(e.databaseInfo.databaseId),r=(function(s){return new B$(s)})(e.databaseInfo);return(function(s,a,o,c){return new G$(s,a,o,c)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,s,a,o){return new W$(r,i,s,a,o)})(this.localStore,this.datastore,e.asyncQueue,(n=>SN(this.syncEngine,n,0)),(function(){return vN.v()?new vN:new F$})())}createSyncEngine(e,n){return(function(i,s,a,o,c,f,h){const p=new hW(i,s,a,o,c,f);return h&&(p.gu=!0),p})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Mn(n);Tt(ad,"RemoteStore shutting down."),r.Ea.add(5),await c1(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Zy.provider={build:()=>new Zy};class hM{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):qa("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const $f="FirestoreClient";class CW{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ta.UNAUTHENTICATED,this.clientId=tT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,(async a=>{Tt($f,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a})),this.appCheckCredentials.start(r,(a=>(Tt($f,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Rc;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=PT(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function X_(t,e){t.asyncQueue.verifyOperationInProgress(),Tt($f,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await H8(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function CN(t,e){t.asyncQueue.verifyOperationInProgress();const n=await NW(t);Tt($f,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>wN(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>wN(e.remoteStore,i))),t._onlineComponents=e}async function NW(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Tt($f,"Using user provided OfflineComponentProvider");try{await X_(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===mt.FAILED_PRECONDITION||i.code===mt.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;ed("Error using user provided cache. Falling back to memory cache: "+n),await X_(t,new Rg)}}else Tt($f,"Using default OfflineComponentProvider"),await X_(t,new SW(void 0));return t._offlineComponents}async function dM(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Tt($f,"Using user provided OnlineComponentProvider"),await CN(t,t._uninitializedComponentsProvider._online)):(Tt($f,"Using default OnlineComponentProvider"),await CN(t,new Zy))),t._onlineComponents}function IW(t){return dM(t).then((e=>e.syncEngine))}async function pM(t){const e=await dM(t),n=e.eventManager;return n.onListen=dW.bind(null,e.syncEngine),n.onUnlisten=gW.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=pW.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=xW.bind(null,e.syncEngine),n}function kW(t,e,n={}){const r=new Rc;return t.asyncQueue.enqueueAndForget((async()=>(function(s,a,o,c,f){const h=new hM({next:g=>{h.Nu(),a.enqueueAndForget((()=>tM(s,p)));const x=g.docs.has(o);!x&&g.fromCache?f.reject(new Ot(mt.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&g.fromCache&&c&&c.source==="server"?f.reject(new Ot(mt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(g)},error:g=>f.reject(g)}),p=new nM(Uv(o.path),h,{includeMetadataChanges:!0,qa:!0});return eM(s,p)})(await pM(t),t.asyncQueue,e,n,r))),r.promise}function RW(t,e,n={}){const r=new Rc;return t.asyncQueue.enqueueAndForget((async()=>(function(s,a,o,c,f){const h=new hM({next:g=>{h.Nu(),a.enqueueAndForget((()=>tM(s,p))),g.fromCache&&c.source==="server"?f.reject(new Ot(mt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(g)},error:g=>f.reject(g)}),p=new nM(o,h,{includeMetadataChanges:!0,qa:!0});return eM(s,p)})(await pM(t),t.asyncQueue,e,n,r))),r.promise}function mM(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const NN=new Map;const gM="firestore.googleapis.com",IN=!0;class kN{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ot(mt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=gM,this.ssl=IN}else this.host=e.host,this.ssl=e.ssl??IN;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=P8;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<c$)throw new Ot(mt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Az("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=mM(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Ot(mt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Ot(mt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Ot(mt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Yv{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kN({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ot(mt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ot(mt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kN(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new gz;switch(r.type){case"firstParty":return new _z(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ot(mt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=NN.get(n);r&&(Tt("ComponentProvider","Removing Datastore"),NN.delete(n),r.terminate())})(this),Promise.resolve()}}function PW(t,e,n,r={}){t=Fc(t,Yv);const i=Tp(e),s=t._getSettings(),a={...s,emulatorOptions:t._getEmulatorOptions()},o=`${e}:${n}`;i&&(_P(`https://${o}`),wP("Firestore",!0)),s.host!==gM&&s.host!==o&&ed("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...s,host:o,ssl:i,emulatorOptions:r};if(!Yh(c,a)&&(t._setSettings(c),r.mockUserToken)){let f,h;if(typeof r.mockUserToken=="string")f=r.mockUserToken,h=ta.MOCK_USER;else{f=NB(r.mockUserToken,t._app?.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new Ot(mt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new ta(p)}t._authCredentials=new xz(new yD(f,h))}}class Xv{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Xv(this.firestore,e,this._query)}}class Ts{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Bf(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ts(this.firestore,e,this._key)}toJSON(){return{type:Ts._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(r1(n,Ts._jsonSchema))return new Ts(e,r||null,new Vt(Rr.fromString(n.referencePath)))}}Ts._jsonSchemaVersion="firestore/documentReference/1.0",Ts._jsonSchema={type:ls("string",Ts._jsonSchemaVersion),referencePath:ls("string")};class Bf extends Xv{constructor(e,n,r){super(e,n,Uv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ts(this.firestore,null,new Vt(e))}withConverter(e){return new Bf(this.firestore,e,this._path)}}function DW(t,e,...n){if(t=Hs(t),_D("collection","path",e),t instanceof Yv){const r=Rr.fromString(e,...n);return _C(r),new Bf(t,null,r)}{if(!(t instanceof Ts||t instanceof Bf))throw new Ot(mt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Rr.fromString(e,...n));return _C(r),new Bf(t.firestore,null,r)}}function C0(t,e,...n){if(t=Hs(t),arguments.length===1&&(e=tT.newId()),_D("doc","path",e),t instanceof Yv){const r=Rr.fromString(e,...n);return vC(r),new Ts(t,null,new Vt(r))}{if(!(t instanceof Ts||t instanceof Bf))throw new Ot(mt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Rr.fromString(e,...n));return vC(r),new Ts(t.firestore,t instanceof Bf?t.converter:null,new Vt(r))}}const RN="AsyncQueue";class PN{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new $8(this,"async_queue_retry"),this._c=()=>{const r=cy();r&&Tt(RN,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=cy();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=cy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Rc;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!eh(e))throw e;Tt(RN,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,qa("INTERNAL UNHANDLED ERROR: ",DN(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=RT.createAndSchedule(this,e,n,r,(s=>this.hc(s)));return this.tc.push(i),i}uc(){this.nc&&rn(47125,{Pc:DN(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function DN(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class xd extends Yv{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new PN,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new PN(e),this._firestoreClient=void 0,await e}}}function MW(t,e){const n=typeof t=="object"?t:G5(),r=typeof t=="string"?t:qy,i=z5(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=AB("firestore");s&&PW(i,...s)}return i}function Jv(t){if(t._terminated)throw new Ot(mt.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||xM(t),t._firestoreClient}function xM(t){const e=t._freezeSettings(),n=(function(i,s,a,o){return new aG(i,s,a,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,mM(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new CW(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(i){const s=i?._online.build();return{_offline:i?._offline.build(s),_online:s}})(t._componentsProvider))}function LW(t,e){ed("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings();return FW(t,Zy.provider,{build:r=>new AW(r,n.cacheSizeBytes,e?.forceOwnership)}),Promise.resolve()}function FW(t,e,n){if((t=Fc(t,xd))._firestoreClient||t._terminated)throw new Ot(mt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new Ot(mt.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:n},xM(t)}class fl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new fl(cs.fromBase64String(e))}catch(n){throw new Ot(mt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new fl(cs.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:fl._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(r1(e,fl._jsonSchema))return fl.fromBase64String(e.bytes)}}fl._jsonSchemaVersion="firestore/bytes/1.0",fl._jsonSchema={type:ls("string",fl._jsonSchemaVersion),bytes:ls("string")};class Qv{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ot(mt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ai(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Zv{constructor(e){this._methodName=e}}class Pc{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ot(mt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ot(mt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Dn(this._lat,e._lat)||Dn(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Pc._jsonSchemaVersion}}static fromJSON(e){if(r1(e,Pc._jsonSchema))return new Pc(e.latitude,e.longitude)}}Pc._jsonSchemaVersion="firestore/geoPoint/1.0",Pc._jsonSchema={type:ls("string",Pc._jsonSchemaVersion),latitude:ls("number"),longitude:ls("number")};class Dc{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Dc._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(r1(e,Dc._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Dc(e.vectorValues);throw new Ot(mt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Dc._jsonSchemaVersion="firestore/vectorValue/1.0",Dc._jsonSchema={type:ls("string",Dc._jsonSchemaVersion),vectorValues:ls("object")};const OW=/^__.*__$/;class VW{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Fu(e,this.data,this.fieldMask,n,this.fieldTransforms):new Cp(e,this.data,n,this.fieldTransforms)}}class yM{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Fu(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function vM(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw rn(40011,{Ac:t})}}class FT{constructor(e,n,r,i,s,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new FT({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return ev(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(vM(this.Ac)&&OW.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class UW{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Wv(e)}Cc(e,n,r,i=!1){return new FT({Ac:e,methodName:n,Dc:r,path:Ai.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function _M(t){const e=t._freezeSettings(),n=Wv(t._databaseId);return new UW(t._databaseId,!!e.ignoreUndefinedProperties,n)}function wM(t,e,n,r,i,s={}){const a=t.Cc(s.merge||s.mergeFields?2:0,e,n,i);VT("Data must be an object, but it was:",a,r);const o=bM(r,a);let c,f;if(s.merge)c=new xo(a.fieldMask),f=a.fieldTransforms;else if(s.mergeFields){const h=[];for(const p of s.mergeFields){const g=Db(e,p,n);if(!a.contains(g))throw new Ot(mt.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);EM(h,g)||h.push(g)}c=new xo(h),f=a.fieldTransforms.filter((p=>c.covers(p.field)))}else c=null,f=a.fieldTransforms;return new VW(new ba(o),c,f)}class e2 extends Zv{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof e2}}class OT extends Zv{_toFieldTransform(e){return new c8(e.path,new hp)}isEqual(e){return e instanceof OT}}function BW(t,e,n,r){const i=t.Cc(1,e,n);VT("Data must be an object, but it was:",i,r);const s=[],a=ba.empty();th(r,((c,f)=>{const h=UT(e,c,n);f=Hs(f);const p=i.yc(h);if(f instanceof e2)s.push(h);else{const g=t2(f,p);g!=null&&(s.push(h),a.set(h,g))}}));const o=new xo(s);return new yM(a,o,i.fieldTransforms)}function jW(t,e,n,r,i,s){const a=t.Cc(1,e,n),o=[Db(e,r,n)],c=[i];if(s.length%2!=0)throw new Ot(mt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<s.length;g+=2)o.push(Db(e,s[g])),c.push(s[g+1]);const f=[],h=ba.empty();for(let g=o.length-1;g>=0;--g)if(!EM(f,o[g])){const x=o[g];let T=c[g];T=Hs(T);const S=a.yc(x);if(T instanceof e2)f.push(x);else{const N=t2(T,S);N!=null&&(f.push(x),h.set(x,N))}}const p=new xo(f);return new yM(h,p,a.fieldTransforms)}function t2(t,e){if(TM(t=Hs(t)))return VT("Unsupported field value:",e,t),bM(t,e);if(t instanceof Zv)return(function(r,i){if(!vM(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const s=[];let a=0;for(const o of r){let c=t2(o,i.wc(a));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),a++}return{arrayValue:{values:s}}})(t,e)}return(function(r,i){if((r=Hs(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return CG(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Or.fromDate(r);return{timestampValue:mp(i.serializer,s)}}if(r instanceof Or){const s=new Or(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:mp(i.serializer,s)}}if(r instanceof Pc)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof fl)return{bytesValue:g8(i.serializer,r._byteString)};if(r instanceof Ts){const s=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(s))throw i.Sc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:vT(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Dc)return(function(a,o){return{mapValue:{fields:{[uT]:{stringValue:fT},[lp]:{arrayValue:{values:a.toArray().map((f=>{if(typeof f!="number")throw o.Sc("VectorValues must only contain numeric values.");return pT(o.serializer,f)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${nT(r)}`)})(t,e)}function bM(t,e){const n={};return FD(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):th(t,((r,i)=>{const s=t2(i,e.mc(r));s!=null&&(n[r]=s)})),{mapValue:{fields:n}}}function TM(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Or||t instanceof Pc||t instanceof fl||t instanceof Ts||t instanceof Zv||t instanceof Dc)}function VT(t,e,n){if(!TM(n)||!wD(n)){const r=nT(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function Db(t,e,n){if((e=Hs(e))instanceof Qv)return e._internalPath;if(typeof e=="string")return UT(t,e);throw ev("Field path arguments must be of type string or ",t,!1,void 0,n)}const qW=new RegExp("[~\\*/\\[\\]]");function UT(t,e,n){if(e.search(qW)>=0)throw ev(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Qv(...e.split("."))._internalPath}catch{throw ev(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ev(t,e,n,r,i){const s=r&&!r.isEmpty(),a=i!==void 0;let o=`Function ${e}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let c="";return(s||a)&&(c+=" (found",s&&(c+=` in field ${r}`),a&&(c+=` in document ${i}`),c+=")"),new Ot(mt.INVALID_ARGUMENT,o+t+c)}function EM(t,e){return t.some((n=>n.isEqual(e)))}class SM{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ts(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new HW(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(AM("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class HW extends SM{data(){return super.data()}}function AM(t,e){return typeof e=="string"?UT(t,e):e instanceof Qv?e._internalPath:e._delegate._internalPath}function zW(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ot(mt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class GW{convertValue(e,n="none"){switch(Hf(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ku(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw rn(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return th(e,((i,s)=>{r[i]=this.convertValue(s,n)})),r}convertVectorValue(e){const n=e.fields?.[lp].arrayValue?.values?.map((r=>xi(r.doubleValue)));return new Dc(n)}convertGeoPoint(e){return new Pc(xi(e.latitude),xi(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Fv(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Cg(e));default:return null}}convertTimestamp(e){const n=Iu(e);return new Or(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Rr.fromString(e);pn(A8(r),9688,{name:e});const i=new td(r.get(1),r.get(3)),s=new Vt(r.popFirst(5));return i.isEqual(n)||qa(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}function CM(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Um{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Hh extends SM{constructor(e,n,r,i,s,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new uy(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(AM("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ot(mt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Hh._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Hh._jsonSchemaVersion="firestore/documentSnapshot/1.0",Hh._jsonSchema={type:ls("string",Hh._jsonSchemaVersion),bundleSource:ls("string","DocumentSnapshot"),bundleName:ls("string"),bundle:ls("string")};class uy extends Hh{data(e={}){return super.data(e)}}class H0{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Um(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new uy(this._firestore,this._userDataWriter,r.key,r,new Um(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ot(mt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map((o=>{const c=new uy(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Um(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:c,oldIndex:-1,newIndex:a++}}))}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((o=>s||o.type!==3)).map((o=>{const c=new uy(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Um(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,h=-1;return o.type!==0&&(f=a.indexOf(o.doc.key),a=a.delete(o.doc.key)),o.type!==1&&(a=a.add(o.doc),h=a.indexOf(o.doc.key)),{type:$W(o.type),doc:c,oldIndex:f,newIndex:h}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ot(mt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=H0._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=tT.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function $W(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return rn(61501,{type:t})}}function WW(t){t=Fc(t,Ts);const e=Fc(t.firestore,xd);return kW(Jv(e),t._key).then((n=>XW(e,t,n)))}H0._jsonSchemaVersion="firestore/querySnapshot/1.0",H0._jsonSchema={type:ls("string",H0._jsonSchemaVersion),bundleSource:ls("string","QuerySnapshot"),bundleName:ls("string"),bundle:ls("string")};class NM extends GW{constructor(e){super(),this.firestore=e}convertBytes(e){return new fl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ts(this.firestore,null,n)}}function KW(t){t=Fc(t,Xv);const e=Fc(t.firestore,xd),n=Jv(e),r=new NM(e);return zW(t._query),RW(n,t._query).then((i=>new H0(e,r,t,i)))}function Mb(t,e,n){t=Fc(t,Ts);const r=Fc(t.firestore,xd),i=CM(t.converter,e,n);return BT(r,[wM(_M(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,sa.none())])}function YW(t){return BT(Fc(t.firestore,xd),[new o1(t._key,sa.none())])}function BT(t,e){return(function(r,i){const s=new Rc;return r.asyncQueue.enqueueAndForget((async()=>yW(await IW(r),i,s))),s.promise})(Jv(t),e)}function XW(t,e,n){const r=n.docs.get(e._key),i=new NM(t);return new Hh(t,i,e._key,r,new Um(n.hasPendingWrites,n.fromCache),e.converter)}class JW{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=_M(e)}set(e,n,r){this._verifyNotCommitted();const i=J_(e,this._firestore),s=CM(i.converter,n,r),a=wM(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(a.toMutation(i._key,sa.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=J_(e,this._firestore);let a;return a=typeof(n=Hs(n))=="string"||n instanceof Qv?jW(this._dataReader,"WriteBatch.update",s._key,n,r,i):BW(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(a.toMutation(s._key,sa.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=J_(e,this._firestore);return this._mutations=this._mutations.concat(new o1(n._key,sa.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ot(mt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function J_(t,e){if((t=Hs(t)).firestore!==e)throw new Ot(mt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function QW(){return new OT("serverTimestamp")}function ZW(t){return Jv(t=Fc(t,xd)),new JW(t,(e=>BT(t,e)))}(function(e,n=!0){(function(i){Ap=i})(Ep),np(new Xh("firestore",((r,{instanceIdentifier:i,options:s})=>{const a=r.getProvider("app").getImmediate(),o=new xd(new yz(r.getProvider("auth-internal")),new wz(a,r.getProvider("app-check-internal")),(function(f,h){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Ot(mt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new td(f.options.projectId,h)})(a,i),a);return s={useFetchStreams:n,...s},o._setSettings(s),o}),"PUBLIC").setMultipleInstances(!0)),Of(mC,gC,e),Of(mC,gC,"esm2020")})();const eK={apiKey:"AIzaSyDOhuszbQuXpMO0WY-FXzkyY8dABjj4MHg",authDomain:"sample-firebase-ai-app-1f72d.firebaseapp.com",projectId:"sample-firebase-ai-app-1f72d",storageBucket:"sample-firebase-ai-app-1f72d.firebasestorage.app",messagingSenderId:"231225025529",appId:"1:231225025529:web:e079fe0aa1be713625d328"},IM=qj().length?G5():NP(eK),Ex=hz(IM),xu=MW(IM);typeof window<"u"&&LW(xu).catch(t=>{t.code==="failed-precondition"?console.warn("Multiple tabs open, persistence can only be enabled in one tab at a time."):t.code==="unimplemented"&&console.warn("The current browser does not support persistence.")});const kM=Ie.createContext(void 0);function tK({children:t}){const[e,n]=Ie.useState(null),[r,i]=Ie.useState(!0);Ie.useEffect(()=>(console.log("Setting up auth state listener..."),eH(Ex,f=>{console.log("Auth state changed. User:",f?`${f.email}`:"null"),n(f),i(!1)})),[]);const s=async(c,f)=>{await Jq(Ex,c,f)},a=async(c,f)=>{await Xq(Ex,c,f)},o=async()=>{await tH(Ex)};return y.jsx(kM.Provider,{value:{user:e,loading:r,signIn:s,signUp:a,signOut:o},children:t})}function h1(){const t=Ie.useContext(kM);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}var nK=(t,e,n,r,i,s,a,o)=>{let c=document.documentElement,f=["light","dark"];function h(x){(Array.isArray(t)?t:[t]).forEach(T=>{let S=T==="class",N=S&&s?i.map(k=>s[k]||k):i;S?(c.classList.remove(...N),c.classList.add(s&&s[x]?s[x]:x)):c.setAttribute(T,x)}),p(x)}function p(x){o&&f.includes(x)&&(c.style.colorScheme=x)}function g(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(r)h(r);else try{let x=localStorage.getItem(e)||n,T=a&&x==="system"?g():x;h(T)}catch{}},MN=["light","dark"],RM="(prefers-color-scheme: dark)",rK=typeof window>"u",jT=Ie.createContext(void 0),iK={setTheme:t=>{},themes:[]},PM=()=>{var t;return(t=Ie.useContext(jT))!=null?t:iK},sK=t=>Ie.useContext(jT)?Ie.createElement(Ie.Fragment,null,t.children):Ie.createElement(oK,{...t}),aK=["light","dark"],oK=({forcedTheme:t,disableTransitionOnChange:e=!1,enableSystem:n=!0,enableColorScheme:r=!0,storageKey:i="theme",themes:s=aK,defaultTheme:a=n?"system":"light",attribute:o="data-theme",value:c,children:f,nonce:h,scriptProps:p})=>{let[g,x]=Ie.useState(()=>cK(i,a)),[T,S]=Ie.useState(()=>g==="system"?Q_():g),N=c?Object.values(c):s,k=Ie.useCallback(Y=>{let J=Y;if(!J)return;Y==="system"&&n&&(J=Q_());let F=c?c[J]:J,O=e?uK(h):null,C=document.documentElement,H=P=>{P==="class"?(C.classList.remove(...N),F&&C.classList.add(F)):P.startsWith("data-")&&(F?C.setAttribute(P,F):C.removeAttribute(P))};if(Array.isArray(o)?o.forEach(H):H(o),r){let P=MN.includes(a)?a:null,L=MN.includes(J)?J:P;C.style.colorScheme=L}O?.()},[h]),B=Ie.useCallback(Y=>{let J=typeof Y=="function"?Y(g):Y;x(J);try{localStorage.setItem(i,J)}catch{}},[g]),R=Ie.useCallback(Y=>{let J=Q_(Y);S(J),g==="system"&&n&&!t&&k("system")},[g,t]);Ie.useEffect(()=>{let Y=window.matchMedia(RM);return Y.addListener(R),R(Y),()=>Y.removeListener(R)},[R]),Ie.useEffect(()=>{let Y=J=>{J.key===i&&(J.newValue?x(J.newValue):B(a))};return window.addEventListener("storage",Y),()=>window.removeEventListener("storage",Y)},[B]),Ie.useEffect(()=>{k(t??g)},[t,g]);let q=Ie.useMemo(()=>({theme:g,setTheme:B,forcedTheme:t,resolvedTheme:g==="system"?T:g,themes:n?[...s,"system"]:s,systemTheme:n?T:void 0}),[g,B,t,T,n,s]);return Ie.createElement(jT.Provider,{value:q},Ie.createElement(lK,{forcedTheme:t,storageKey:i,attribute:o,enableSystem:n,enableColorScheme:r,defaultTheme:a,value:c,themes:s,nonce:h,scriptProps:p}),f)},lK=Ie.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:i,defaultTheme:s,value:a,themes:o,nonce:c,scriptProps:f})=>{let h=JSON.stringify([n,e,s,t,o,a,r,i]).slice(1,-1);return Ie.createElement("script",{...f,suppressHydrationWarning:!0,nonce:typeof window>"u"?c:"",dangerouslySetInnerHTML:{__html:`(${nK.toString()})(${h})`}})}),cK=(t,e)=>{if(rK)return;let n;try{n=localStorage.getItem(t)||void 0}catch{}return n||e},uK=t=>{let e=document.createElement("style");return t&&e.setAttribute("nonce",t),e.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(e)},1)}},Q_=t=>(t||(t=window.matchMedia(RM)),t.matches?"dark":"light");const fK="modulepreload",hK=function(t,e){return new URL(t,e).href},LN={},fy=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let f=function(h){return Promise.all(h.map(p=>Promise.resolve(p).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};const a=document.getElementsByTagName("link"),o=document.querySelector("meta[property=csp-nonce]"),c=o?.nonce||o?.getAttribute("nonce");i=f(n.map(h=>{if(h=hK(h,r),h in LN)return;LN[h]=!0;const p=h.endsWith(".css"),g=p?'[rel="stylesheet"]':"";if(r)for(let T=a.length-1;T>=0;T--){const S=a[T];if(S.href===h&&(!p||S.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${h}"]${g}`))return;const x=document.createElement("link");if(x.rel=p?"stylesheet":fK,p||(x.as="script"),x.crossOrigin="",x.href=h,c&&x.setAttribute("nonce",c),document.head.appendChild(x),p)return new Promise((T,S)=>{x.addEventListener("load",T),x.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${h}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return i.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return e().catch(s)})};var xp;(function(t){t.Unimplemented="UNIMPLEMENTED",t.Unavailable="UNAVAILABLE"})(xp||(xp={}));class Z_ extends Error{constructor(e,n,r){super(e),this.message=e,this.code=n,this.data=r}}const dK=t=>{var e,n;return t?.androidBridge?"android":!((n=(e=t?.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||n===void 0)&&n.bridge?"ios":"web"},pK=t=>{const e=t.CapacitorCustomPlatform||null,n=t.Capacitor||{},r=n.Plugins=n.Plugins||{},i=()=>e!==null?e.name:dK(t),s=()=>i()!=="web",a=p=>{const g=f.get(p);return!!(g?.platforms.has(i())||o(p))},o=p=>{var g;return(g=n.PluginHeaders)===null||g===void 0?void 0:g.find(x=>x.name===p)},c=p=>t.console.error(p),f=new Map,h=(p,g={})=>{const x=f.get(p);if(x)return console.warn(`Capacitor plugin "${p}" already registered. Cannot register plugins twice.`),x.proxy;const T=i(),S=o(p);let N;const k=async()=>(!N&&T in g?N=typeof g[T]=="function"?N=await g[T]():N=g[T]:e!==null&&!N&&"web"in g&&(N=typeof g.web=="function"?N=await g.web():N=g.web),N),B=(O,C)=>{var H,P;if(S){const L=S?.methods.find(V=>C===V.name);if(L)return L.rtype==="promise"?V=>n.nativePromise(p,C.toString(),V):(V,me)=>n.nativeCallback(p,C.toString(),V,me);if(O)return(H=O[C])===null||H===void 0?void 0:H.bind(O)}else{if(O)return(P=O[C])===null||P===void 0?void 0:P.bind(O);throw new Z_(`"${p}" plugin is not implemented on ${T}`,xp.Unimplemented)}},R=O=>{let C;const H=(...P)=>{const L=k().then(V=>{const me=B(V,O);if(me){const Ne=me(...P);return C=Ne?.remove,Ne}else throw new Z_(`"${p}.${O}()" is not implemented on ${T}`,xp.Unimplemented)});return O==="addListener"&&(L.remove=async()=>C()),L};return H.toString=()=>`${O.toString()}() { [capacitor code] }`,Object.defineProperty(H,"name",{value:O,writable:!1,configurable:!1}),H},q=R("addListener"),Y=R("removeListener"),J=(O,C)=>{const H=q({eventName:O},C),P=async()=>{const V=await H;Y({eventName:O,callbackId:V},C)},L=new Promise(V=>H.then(()=>V({remove:P})));return L.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await P()},L},F=new Proxy({},{get(O,C){switch(C){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return S?J:q;case"removeListener":return Y;default:return R(C)}}});return r[p]=F,f.set(p,{name:p,proxy:F,platforms:new Set([...Object.keys(g),...S?[T]:[]])}),F};return n.convertFileSrc||(n.convertFileSrc=p=>p),n.getPlatform=i,n.handleError=c,n.isNativePlatform=s,n.isPluginAvailable=a,n.registerPlugin=h,n.Exception=Z_,n.DEBUG=!!n.DEBUG,n.isLoggingEnabled=!!n.isLoggingEnabled,n},mK=t=>t.Capacitor=pK(t),Lb=mK(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),n2=Lb.registerPlugin;class qT{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(e,n){let r=!1;this.listeners[e]||(this.listeners[e]=[],r=!0),this.listeners[e].push(n);const s=this.windowListeners[e];s&&!s.registered&&this.addWindowListener(s),r&&this.sendRetainedArgumentsForEvent(e);const a=async()=>this.removeListener(e,n);return Promise.resolve({remove:a})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,n,r){const i=this.listeners[e];if(!i){if(r){let s=this.retainedEventArguments[e];s||(s=[]),s.push(n),this.retainedEventArguments[e]=s}return}i.forEach(s=>s(n))}hasListeners(e){var n;return!!(!((n=this.listeners[e])===null||n===void 0)&&n.length)}registerWindowListener(e,n){this.windowListeners[n]={registered:!1,windowEventName:e,pluginEventName:n,handler:r=>{this.notifyListeners(n,r)}}}unimplemented(e="not implemented"){return new Lb.Exception(e,xp.Unimplemented)}unavailable(e="not available"){return new Lb.Exception(e,xp.Unavailable)}async removeListener(e,n){const r=this.listeners[e];if(!r)return;const i=r.indexOf(n);this.listeners[e].splice(i,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const n=this.retainedEventArguments[e];n&&(delete this.retainedEventArguments[e],n.forEach(r=>{this.notifyListeners(e,r)}))}}const FN=t=>encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),ON=t=>t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class gK extends qT{async getCookies(){const e=document.cookie,n={};return e.split(";").forEach(r=>{if(r.length<=0)return;let[i,s]=r.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");i=ON(i).trim(),s=ON(s).trim(),n[i]=s}),n}async setCookie(e){try{const n=FN(e.key),r=FN(e.value),i=`; expires=${(e.expires||"").replace("expires=","")}`,s=(e.path||"/").replace("path=",""),a=e.url!=null&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${n}=${r||""}${i}; path=${s}; ${a};`}catch(n){return Promise.reject(n)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(n){return Promise.reject(n)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const n of e)document.cookie=n.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}n2("CapacitorCookies",{web:()=>new gK});const xK=async t=>new Promise((e,n)=>{const r=new FileReader;r.onload=()=>{const i=r.result;e(i.indexOf(",")>=0?i.split(",")[1]:i)},r.onerror=i=>n(i),r.readAsDataURL(t)}),yK=(t={})=>{const e=Object.keys(t);return Object.keys(t).map(i=>i.toLocaleLowerCase()).reduce((i,s,a)=>(i[s]=t[e[a]],i),{})},vK=(t,e=!0)=>t?Object.entries(t).reduce((r,i)=>{const[s,a]=i;let o,c;return Array.isArray(a)?(c="",a.forEach(f=>{o=e?encodeURIComponent(f):f,c+=`${s}=${o}&`}),c.slice(0,-1)):(o=e?encodeURIComponent(a):a,c=`${s}=${o}`),`${r}&${c}`},"").substr(1):null,_K=(t,e={})=>{const n=Object.assign({method:t.method||"GET",headers:t.headers},e),i=yK(t.headers)["content-type"]||"";if(typeof t.data=="string")n.body=t.data;else if(i.includes("application/x-www-form-urlencoded")){const s=new URLSearchParams;for(const[a,o]of Object.entries(t.data||{}))s.set(a,o);n.body=s.toString()}else if(i.includes("multipart/form-data")||t.data instanceof FormData){const s=new FormData;if(t.data instanceof FormData)t.data.forEach((o,c)=>{s.append(c,o)});else for(const o of Object.keys(t.data))s.append(o,t.data[o]);n.body=s;const a=new Headers(n.headers);a.delete("content-type"),n.headers=a}else(i.includes("application/json")||typeof t.data=="object")&&(n.body=JSON.stringify(t.data));return n};class wK extends qT{async request(e){const n=_K(e,e.webFetchExtra),r=vK(e.params,e.shouldEncodeUrlParams),i=r?`${e.url}?${r}`:e.url,s=await fetch(i,n),a=s.headers.get("content-type")||"";let{responseType:o="text"}=s.ok?e:{};a.includes("application/json")&&(o="json");let c,f;switch(o){case"arraybuffer":case"blob":f=await s.blob(),c=await xK(f);break;case"json":c=await s.json();break;case"document":case"text":default:c=await s.text()}const h={};return s.headers.forEach((p,g)=>{h[g]=p}),{data:c,headers:h,status:s.status,url:s.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}n2("CapacitorHttp",{web:()=>new wK});var VN;(function(t){t.Dark="DARK",t.Light="LIGHT",t.Default="DEFAULT"})(VN||(VN={}));var UN;(function(t){t.StatusBar="StatusBar",t.NavigationBar="NavigationBar"})(UN||(UN={}));class bK extends qT{async setStyle(){this.unavailable("not available for web")}async setAnimation(){this.unavailable("not available for web")}async show(){this.unavailable("not available for web")}async hide(){this.unavailable("not available for web")}}n2("SystemBars",{web:()=>new bK});var N0;(function(t){t.Heavy="HEAVY",t.Medium="MEDIUM",t.Light="LIGHT"})(N0||(N0={}));var BN;(function(t){t.Success="SUCCESS",t.Warning="WARNING",t.Error="ERROR"})(BN||(BN={}));const jN=n2("Haptics",{web:()=>fy(()=>import("./web-xSrZuSI0.js"),[],import.meta.url).then(t=>new t.HapticsWeb)}),ia={impact:async(t=N0.Light)=>{try{await jN.impact({style:t})}catch{console.warn("Haptics not available")}},notification:async(t="success")=>{try{await jN.vibrate()}catch{console.warn("Haptics not available")}},light:()=>ia.impact(N0.Light),medium:()=>ia.impact(N0.Medium),heavy:()=>ia.impact(N0.Heavy),success:()=>ia.notification("success"),error:()=>ia.notification("error")},TK=({currentView:t,onChangeView:e,isCloudConnected:n=!1})=>{const{signOut:r}=h1(),{theme:i,setTheme:s}=PM(),a=[{id:un.DASHBOARD,label:"Home",icon:oP},{id:un.INVOICES,label:"Invoices",icon:tp},{id:un.CREATE_INVOICE,label:"Create",icon:tU},{id:un.EXPENSES,label:"Expenses",icon:U5},{id:un.PAYMENTS,label:"Receipts",icon:qf},{id:un.CUSTOMERS,label:"People",icon:ky},{id:un.IMPORT,label:"Import",icon:Av},{id:un.SETTINGS,label:"Settings",icon:fP}],o=async()=>{await r()};return y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"hidden md:flex w-64 bg-slate-900 text-slate-100 min-h-screen flex-col flex-shrink-0 transition-all duration-300",children:[y.jsxs("div",{className:"p-6 flex items-center gap-3 border-b border-slate-800",children:[y.jsx("div",{className:"bg-white/10 p-1.5 rounded-xl backdrop-blur-md border border-white/20",children:y.jsx("img",{src:"/logo.png",alt:"BillBook Logo",className:"w-10 h-10 object-contain rounded-lg shadow-lg"})}),y.jsxs("div",{children:[y.jsx("h1",{className:"text-xl font-black tracking-tighter bg-gradient-to-r from-white to-blue-400 bg-clip-text text-transparent italic",children:"BillBook"}),y.jsx("p",{className:"text-xs text-blue-300 font-semibold",children:"by Lavneet Rathi"}),y.jsx("div",{className:"flex items-center gap-1 text-[10px] font-medium mt-0.5",children:n?y.jsxs("span",{className:"text-green-400 flex items-center gap-1",children:[y.jsx(sP,{className:"w-3 h-3"})," Cloud Sync"]}):y.jsxs("span",{className:"text-slate-500 flex items-center gap-1",children:[y.jsx(sU,{className:"w-3 h-3"})," Local Mode"]})})]})]}),y.jsxs("nav",{className:"flex-1 py-6 px-3 space-y-1",children:[a.map(c=>y.jsxs("button",{onClick:()=>{e(c.id),ia.light()},className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium transition-colors ${t===c.id?"bg-blue-600 text-white shadow-md":"text-slate-400 hover:bg-slate-800 hover:text-white"}`,children:[y.jsx(c.icon,{className:"w-5 h-5"}),c.label==="Home"?"Dashboard":c.label==="People"?"Customers":c.label==="Create"?"New Invoice":c.label]},c.id)),y.jsxs("button",{onClick:()=>{s(i==="dark"?"light":"dark"),ia.medium()},className:"w-full mt-4 flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium text-slate-400 hover:bg-slate-800 hover:text-white transition-colors",children:[i==="dark"?y.jsx(Zw,{className:"w-5 h-5 text-yellow-500"}):y.jsx(Jw,{className:"w-5 h-5 text-blue-400"}),i==="dark"?"Light Mode":"Dark Mode"]})]}),y.jsxs("div",{className:"p-4 border-t border-slate-800 space-y-3",children:[y.jsxs("button",{onClick:o,className:"w-full flex items-center justify-center gap-2 px-4 py-2 rounded-lg text-sm font-medium text-slate-400 hover:bg-slate-800 hover:text-red-400 transition-colors","data-testid":"button-logout",children:[y.jsx(Xw,{className:"w-4 h-4"}),"Logout"]}),y.jsxs("div",{className:"text-xs text-slate-500 text-center",children:[" 2025 BillFlow",y.jsx("br",{}),"by Lavneet Rathi"]})]})]}),y.jsx("div",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-slate-900 text-slate-100 z-50 border-t border-slate-800 pb-safe",children:y.jsxs("div",{className:"flex justify-around items-center h-16",children:[a.map(c=>y.jsxs("button",{onClick:()=>e(c.id),className:`flex flex-col items-center justify-center flex-1 h-full space-y-1 ${t===c.id?"text-blue-400":"text-slate-400"}`,children:[y.jsx(c.icon,{className:`w-5 h-5 ${t===c.id?"fill-current/20":""}`}),y.jsx("span",{className:"text-[10px] font-medium",children:c.label})]},c.id)),y.jsxs("button",{onClick:()=>{s(i==="dark"?"light":"dark"),ia.medium()},className:"flex flex-col items-center justify-center flex-1 h-full space-y-1 text-slate-400",children:[i==="dark"?y.jsx(Zw,{className:"w-5 h-5 text-yellow-500"}):y.jsx(Jw,{className:"w-5 h-5 text-blue-400"}),y.jsx("span",{className:"text-[10px] font-medium",children:"Mode"})]}),y.jsxs("button",{onClick:o,className:"flex flex-col items-center justify-center flex-1 h-full space-y-1 text-slate-400 hover:text-red-400 transition-colors","data-testid":"button-logout-mobile",children:[y.jsx(Xw,{className:"w-5 h-5"}),y.jsx("span",{className:"text-[10px] font-medium",children:"Logout"})]})]})})]})},HT=Ie.createContext({});function r2(t){const e=Ie.useRef(null);return e.current===null&&(e.current=t()),e.current}const zT=typeof window<"u",GT=zT?Ie.useLayoutEffect:Ie.useEffect,i2=Ie.createContext(null);function $T(t,e){t.indexOf(e)===-1&&t.push(e)}function WT(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Vc=(t,e,n)=>n>e?e:n<t?t:n;let Pg=()=>{};const Ru={},DM=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function MM(t){return typeof t=="object"&&t!==null}const LM=t=>/^0[^.\s]+$/u.test(t);function KT(t){let e;return()=>(e===void 0&&(e=t()),e)}const vo=t=>t,EK=(t,e)=>n=>e(t(n)),d1=(...t)=>t.reduce(EK),yp=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class YT{constructor(){this.subscriptions=[]}add(e){return $T(this.subscriptions,e),()=>WT(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const a=this.subscriptions[s];a&&a(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Mc=t=>t*1e3,dl=t=>t/1e3;function XT(t,e){return e?t*(1e3/e):0}const FM=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,SK=1e-7,AK=12;function CK(t,e,n,r,i){let s,a,o=0;do a=e+(n-e)/2,s=FM(a,r,i)-t,s>0?n=a:e=a;while(Math.abs(s)>SK&&++o<AK);return a}function p1(t,e,n,r){if(t===e&&n===r)return vo;const i=s=>CK(s,0,1,t,n);return s=>s===0||s===1?s:FM(i(s),e,r)}const OM=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,VM=t=>e=>1-t(1-e),UM=p1(.33,1.53,.69,.99),JT=VM(UM),BM=OM(JT),jM=t=>(t*=2)<1?.5*JT(t):.5*(2-Math.pow(2,-10*(t-1))),QT=t=>1-Math.sin(Math.acos(t)),qM=VM(QT),HM=OM(QT),NK=p1(.42,0,1,1),IK=p1(0,0,.58,1),zM=p1(.42,0,.58,1),kK=t=>Array.isArray(t)&&typeof t[0]!="number",GM=t=>Array.isArray(t)&&typeof t[0]=="number",RK={linear:vo,easeIn:NK,easeInOut:zM,easeOut:IK,circIn:QT,circInOut:HM,circOut:qM,backIn:JT,backInOut:BM,backOut:UM,anticipate:jM},PK=t=>typeof t=="string",qN=t=>{if(GM(t)){Pg(t.length===4);const[e,n,r,i]=t;return p1(e,n,r,i)}else if(PK(t))return RK[t];return t},Sx=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function DK(t,e){let n=new Set,r=new Set,i=!1,s=!1;const a=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function c(h){a.has(h)&&(f.schedule(h),t()),h(o)}const f={schedule:(h,p=!1,g=!1)=>{const T=g&&i?n:r;return p&&a.add(h),T.has(h)||T.add(h),h},cancel:h=>{r.delete(h),a.delete(h)},process:h=>{if(o=h,i){s=!0;return}i=!0,[n,r]=[r,n],n.forEach(c),n.clear(),i=!1,s&&(s=!1,f.process(h))}};return f}const MK=40;function $M(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,a=Sx.reduce((R,q)=>(R[q]=DK(s),R),{}),{setup:o,read:c,resolveKeyframes:f,preUpdate:h,update:p,preRender:g,render:x,postRender:T}=a,S=()=>{const R=Ru.useManualTiming?i.timestamp:performance.now();n=!1,Ru.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(R-i.timestamp,MK),1)),i.timestamp=R,i.isProcessing=!0,o.process(i),c.process(i),f.process(i),h.process(i),p.process(i),g.process(i),x.process(i),T.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(S))},N=()=>{n=!0,r=!0,i.isProcessing||t(S)};return{schedule:Sx.reduce((R,q)=>{const Y=a[q];return R[q]=(J,F=!1,O=!1)=>(n||N(),Y.schedule(J,F,O)),R},{}),cancel:R=>{for(let q=0;q<Sx.length;q++)a[Sx[q]].cancel(R)},state:i,steps:a}}const{schedule:Kr,cancel:Uc,state:Vs,steps:ew}=$M(typeof requestAnimationFrame<"u"?requestAnimationFrame:vo,!0);let hy;function LK(){hy=void 0}const yo={now:()=>(hy===void 0&&yo.set(Vs.isProcessing||Ru.useManualTiming?Vs.timestamp:performance.now()),hy),set:t=>{hy=t,queueMicrotask(LK)}},WM=t=>e=>typeof e=="string"&&e.startsWith(t),ZT=WM("--"),FK=WM("var(--"),eE=t=>FK(t)?OK.test(t.split("/*")[0].trim()):!1,OK=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ip={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Dg={...Ip,transform:t=>Vc(0,1,t)},Ax={...Ip,default:1},tg=t=>Math.round(t*1e5)/1e5,tE=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function VK(t){return t==null}const UK=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,nE=(t,e)=>n=>!!(typeof n=="string"&&UK.test(n)&&n.startsWith(t)||e&&!VK(n)&&Object.prototype.hasOwnProperty.call(n,e)),KM=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,a,o]=r.match(tE);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(a),alpha:o!==void 0?parseFloat(o):1}},BK=t=>Vc(0,255,t),tw={...Ip,transform:t=>Math.round(BK(t))},Fh={test:nE("rgb","red"),parse:KM("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+tw.transform(t)+", "+tw.transform(e)+", "+tw.transform(n)+", "+tg(Dg.transform(r))+")"};function jK(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Fb={test:nE("#"),parse:jK,transform:Fh.transform},m1=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Tf=m1("deg"),Lc=m1("%"),In=m1("px"),qK=m1("vh"),HK=m1("vw"),HN={...Lc,parse:t=>Lc.parse(t)/100,transform:t=>Lc.transform(t*100)},I0={test:nE("hsl","hue"),parse:KM("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Lc.transform(tg(e))+", "+Lc.transform(tg(n))+", "+tg(Dg.transform(r))+")"},os={test:t=>Fh.test(t)||Fb.test(t)||I0.test(t),parse:t=>Fh.test(t)?Fh.parse(t):I0.test(t)?I0.parse(t):Fb.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Fh.transform(t):I0.transform(t),getAnimatableNone:t=>{const e=os.parse(t);return e.alpha=0,os.transform(e)}},zK=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function GK(t){return isNaN(t)&&typeof t=="string"&&(t.match(tE)?.length||0)+(t.match(zK)?.length||0)>0}const YM="number",XM="color",$K="var",WK="var(",zN="${}",KK=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Mg(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const o=e.replace(KK,c=>(os.test(c)?(r.color.push(s),i.push(XM),n.push(os.parse(c))):c.startsWith(WK)?(r.var.push(s),i.push($K),n.push(c)):(r.number.push(s),i.push(YM),n.push(parseFloat(c))),++s,zN)).split(zN);return{values:n,split:o,indexes:r,types:i}}function JM(t){return Mg(t).values}function QM(t){const{split:e,types:n}=Mg(t),r=e.length;return i=>{let s="";for(let a=0;a<r;a++)if(s+=e[a],i[a]!==void 0){const o=n[a];o===YM?s+=tg(i[a]):o===XM?s+=os.transform(i[a]):s+=i[a]}return s}}const YK=t=>typeof t=="number"?0:os.test(t)?os.getAnimatableNone(t):t;function XK(t){const e=JM(t);return QM(t)(e.map(YK))}const Wf={test:GK,parse:JM,createTransformer:QM,getAnimatableNone:XK};function nw(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function JK({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,a=0;if(!e)i=s=a=n;else{const o=n<.5?n*(1+e):n+e-n*e,c=2*n-o;i=nw(c,o,t+1/3),s=nw(c,o,t),a=nw(c,o,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(a*255),alpha:r}}function tv(t,e){return n=>n>0?e:t}const Ci=(t,e,n)=>t+(e-t)*n,rw=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},QK=[Fb,Fh,I0],ZK=t=>QK.find(e=>e.test(t));function GN(t){const e=ZK(t);if(!e)return!1;let n=e.parse(t);return e===I0&&(n=JK(n)),n}const $N=(t,e)=>{const n=GN(t),r=GN(e);if(!n||!r)return tv(t,e);const i={...n};return s=>(i.red=rw(n.red,r.red,s),i.green=rw(n.green,r.green,s),i.blue=rw(n.blue,r.blue,s),i.alpha=Ci(n.alpha,r.alpha,s),Fh.transform(i))},Ob=new Set(["none","hidden"]);function eY(t,e){return Ob.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function tY(t,e){return n=>Ci(t,e,n)}function rE(t){return typeof t=="number"?tY:typeof t=="string"?eE(t)?tv:os.test(t)?$N:iY:Array.isArray(t)?ZM:typeof t=="object"?os.test(t)?$N:nY:tv}function ZM(t,e){const n=[...t],r=n.length,i=t.map((s,a)=>rE(s)(s,e[a]));return s=>{for(let a=0;a<r;a++)n[a]=i[a](s);return n}}function nY(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=rE(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function rY(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const s=e.types[i],a=t.indexes[s][r[s]],o=t.values[a]??0;n[i]=o,r[s]++}return n}const iY=(t,e)=>{const n=Wf.createTransformer(e),r=Mg(t),i=Mg(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Ob.has(t)&&!i.values.length||Ob.has(e)&&!r.values.length?eY(t,e):d1(ZM(rY(r,i),i.values),n):tv(t,e)};function eL(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Ci(t,e,n):rE(t)(t,e)}const sY=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Kr.update(e,n),stop:()=>Uc(e),now:()=>Vs.isProcessing?Vs.timestamp:yo.now()}},tL=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=Math.round(t(s/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},nv=2e4;function iE(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<nv;)e+=n,r=t.next(e);return e>=nv?1/0:e}function aY(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(iE(r),nv);return{type:"keyframes",ease:s=>r.next(i*s).value/e,duration:dl(i)}}const oY=5;function nL(t,e,n){const r=Math.max(e-oY,0);return XT(n-t(r),e-r)}const Oi={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},iw=.001;function lY({duration:t=Oi.duration,bounce:e=Oi.bounce,velocity:n=Oi.velocity,mass:r=Oi.mass}){let i,s,a=1-e;a=Vc(Oi.minDamping,Oi.maxDamping,a),t=Vc(Oi.minDuration,Oi.maxDuration,dl(t)),a<1?(i=f=>{const h=f*a,p=h*t,g=h-n,x=Vb(f,a),T=Math.exp(-p);return iw-g/x*T},s=f=>{const p=f*a*t,g=p*n+n,x=Math.pow(a,2)*Math.pow(f,2)*t,T=Math.exp(-p),S=Vb(Math.pow(f,2),a);return(-i(f)+iw>0?-1:1)*((g-x)*T)/S}):(i=f=>{const h=Math.exp(-f*t),p=(f-n)*t+1;return-iw+h*p},s=f=>{const h=Math.exp(-f*t),p=(n-f)*(t*t);return h*p});const o=5/t,c=uY(i,s,o);if(t=Mc(t),isNaN(c))return{stiffness:Oi.stiffness,damping:Oi.damping,duration:t};{const f=Math.pow(c,2)*r;return{stiffness:f,damping:a*2*Math.sqrt(r*f),duration:t}}}const cY=12;function uY(t,e,n){let r=n;for(let i=1;i<cY;i++)r=r-t(r)/e(r);return r}function Vb(t,e){return t*Math.sqrt(1-e*e)}const fY=["duration","bounce"],hY=["stiffness","damping","mass"];function WN(t,e){return e.some(n=>t[n]!==void 0)}function dY(t){let e={velocity:Oi.velocity,stiffness:Oi.stiffness,damping:Oi.damping,mass:Oi.mass,isResolvedFromDuration:!1,...t};if(!WN(t,hY)&&WN(t,fY))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*Vc(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:Oi.mass,stiffness:i,damping:s}}else{const n=lY(t);e={...e,...n,mass:Oi.mass},e.isResolvedFromDuration=!0}return e}function rv(t=Oi.visualDuration,e=Oi.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],o={done:!1,value:s},{stiffness:c,damping:f,mass:h,duration:p,velocity:g,isResolvedFromDuration:x}=dY({...n,velocity:-dl(n.velocity||0)}),T=g||0,S=f/(2*Math.sqrt(c*h)),N=a-s,k=dl(Math.sqrt(c/h)),B=Math.abs(N)<5;r||(r=B?Oi.restSpeed.granular:Oi.restSpeed.default),i||(i=B?Oi.restDelta.granular:Oi.restDelta.default);let R;if(S<1){const Y=Vb(k,S);R=J=>{const F=Math.exp(-S*k*J);return a-F*((T+S*k*N)/Y*Math.sin(Y*J)+N*Math.cos(Y*J))}}else if(S===1)R=Y=>a-Math.exp(-k*Y)*(N+(T+k*N)*Y);else{const Y=k*Math.sqrt(S*S-1);R=J=>{const F=Math.exp(-S*k*J),O=Math.min(Y*J,300);return a-F*((T+S*k*N)*Math.sinh(O)+Y*N*Math.cosh(O))/Y}}const q={calculatedDuration:x&&p||null,next:Y=>{const J=R(Y);if(x)o.done=Y>=p;else{let F=Y===0?T:0;S<1&&(F=Y===0?Mc(T):nL(R,Y,J));const O=Math.abs(F)<=r,C=Math.abs(a-J)<=i;o.done=O&&C}return o.value=o.done?a:J,o},toString:()=>{const Y=Math.min(iE(q),nv),J=tL(F=>q.next(Y*F).value,Y,30);return Y+"ms "+J},toTransition:()=>{}};return q}rv.applyToOptions=t=>{const e=aY(t,100,rv);return t.ease=e.ease,t.duration=Mc(e.duration),t.type="keyframes",t};function Ub({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:a,min:o,max:c,restDelta:f=.5,restSpeed:h}){const p=t[0],g={done:!1,value:p},x=O=>o!==void 0&&O<o||c!==void 0&&O>c,T=O=>o===void 0?c:c===void 0||Math.abs(o-O)<Math.abs(c-O)?o:c;let S=n*e;const N=p+S,k=a===void 0?N:a(N);k!==N&&(S=k-p);const B=O=>-S*Math.exp(-O/r),R=O=>k+B(O),q=O=>{const C=B(O),H=R(O);g.done=Math.abs(C)<=f,g.value=g.done?k:H};let Y,J;const F=O=>{x(g.value)&&(Y=O,J=rv({keyframes:[g.value,T(g.value)],velocity:nL(R,O,g.value),damping:i,stiffness:s,restDelta:f,restSpeed:h}))};return F(0),{calculatedDuration:null,next:O=>{let C=!1;return!J&&Y===void 0&&(C=!0,q(O),F(O)),Y!==void 0&&O>=Y?J.next(O-Y):(!C&&q(O),g)}}}function pY(t,e,n){const r=[],i=n||Ru.mix||eL,s=t.length-1;for(let a=0;a<s;a++){let o=i(t[a],t[a+1]);if(e){const c=Array.isArray(e)?e[a]||vo:e;o=d1(c,o)}r.push(o)}return r}function rL(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(Pg(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=pY(e,r,i),c=o.length,f=h=>{if(a&&h<t[0])return e[0];let p=0;if(c>1)for(;p<t.length-2&&!(h<t[p+1]);p++);const g=yp(t[p],t[p+1],h);return o[p](g)};return n?h=>f(Vc(t[0],t[s-1],h)):f}function mY(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=yp(0,e,r);t.push(Ci(n,1,i))}}function iL(t){const e=[0];return mY(e,t.length-1),e}function gY(t,e){return t.map(n=>n*e)}function xY(t,e){return t.map(()=>e||zM).splice(0,t.length-1)}function ng({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=kK(r)?r.map(qN):qN(r),s={done:!1,value:e[0]},a=gY(n&&n.length===e.length?n:iL(e),t),o=rL(a,e,{ease:Array.isArray(i)?i:xY(e,i)});return{calculatedDuration:t,next:c=>(s.value=o(c),s.done=c>=t,s)}}const yY=t=>t!==null;function sE(t,{repeat:e,repeatType:n="loop"},r,i=1){const s=t.filter(yY),o=i<0||e&&n!=="loop"&&e%2===1?0:s.length-1;return!o||r===void 0?s[o]:r}const vY={decay:Ub,inertia:Ub,tween:ng,keyframes:ng,spring:rv};function sL(t){typeof t.type=="string"&&(t.type=vY[t.type])}class aE{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const _Y=t=>t/100;class oE extends aE{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==yo.now()&&this.tick(yo.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;sL(e);const{type:n=ng,repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:a=0}=e;let{keyframes:o}=e;const c=n||ng;c!==ng&&typeof o[0]!="number"&&(this.mixKeyframes=d1(_Y,eL(o[0],o[1])),o=[0,100]);const f=c({...e,keyframes:o});s==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...o].reverse(),velocity:-a})),f.calculatedDuration===null&&(f.calculatedDuration=iE(f));const{calculatedDuration:h}=f;this.calculatedDuration=h,this.resolvedDuration=h+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=f}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:s,mirroredGenerator:a,resolvedDuration:o,calculatedDuration:c}=this;if(this.startTime===null)return r.next(0);const{delay:f=0,keyframes:h,repeat:p,repeatType:g,repeatDelay:x,type:T,onUpdate:S,finalKeyframe:N}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const k=this.currentTime-f*(this.playbackSpeed>=0?1:-1),B=this.playbackSpeed>=0?k<0:k>i;this.currentTime=Math.max(k,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let R=this.currentTime,q=r;if(p){const O=Math.min(this.currentTime,i)/o;let C=Math.floor(O),H=O%1;!H&&O>=1&&(H=1),H===1&&C--,C=Math.min(C,p+1),!!(C%2)&&(g==="reverse"?(H=1-H,x&&(H-=x/o)):g==="mirror"&&(q=a)),R=Vc(0,1,H)*o}const Y=B?{done:!1,value:h[0]}:q.next(R);s&&(Y.value=s(Y.value));let{done:J}=Y;!B&&c!==null&&(J=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const F=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&J);return F&&T!==Ub&&(Y.value=sE(h,this.options,N,this.speed)),S&&S(Y.value),F&&this.finish(),Y}then(e,n){return this.finished.then(e,n)}get duration(){return dl(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+dl(e)}get time(){return dl(this.currentTime)}set time(e){e=Mc(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(yo.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=dl(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=sY,startTime:n}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(yo.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function wY(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Oh=t=>t*180/Math.PI,Bb=t=>{const e=Oh(Math.atan2(t[1],t[0]));return jb(e)},bY={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Bb,rotateZ:Bb,skewX:t=>Oh(Math.atan(t[1])),skewY:t=>Oh(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},jb=t=>(t=t%360,t<0&&(t+=360),t),KN=Bb,YN=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),XN=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),TY={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:YN,scaleY:XN,scale:t=>(YN(t)+XN(t))/2,rotateX:t=>jb(Oh(Math.atan2(t[6],t[5]))),rotateY:t=>jb(Oh(Math.atan2(-t[2],t[0]))),rotateZ:KN,rotate:KN,skewX:t=>Oh(Math.atan(t[4])),skewY:t=>Oh(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function qb(t){return t.includes("scale")?1:0}function Hb(t,e){if(!t||t==="none")return qb(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=TY,i=n;else{const o=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=bY,i=o}if(!i)return qb(e);const s=r[e],a=i[1].split(",").map(SY);return typeof s=="function"?s(a):a[s]}const EY=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Hb(n,e)};function SY(t){return parseFloat(t.trim())}const kp=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Rp=new Set(kp),JN=t=>t===Ip||t===In,AY=new Set(["x","y","z"]),CY=kp.filter(t=>!AY.has(t));function NY(t){const e=[];return CY.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const zh={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Hb(e,"x"),y:(t,{transform:e})=>Hb(e,"y")};zh.translateX=zh.x;zh.translateY=zh.y;const Gh=new Set;let zb=!1,Gb=!1,$b=!1;function aL(){if(Gb){const t=Array.from(Gh).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=NY(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,a])=>{r.getValue(s)?.set(a)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Gb=!1,zb=!1,Gh.forEach(t=>t.complete($b)),Gh.clear()}function oL(){Gh.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Gb=!0)})}function IY(){$b=!0,oL(),aL(),$b=!1}class lE{constructor(e,n,r,i,s,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(Gh.add(this),zb||(zb=!0,Kr.read(oL),Kr.resolveKeyframes(aL))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const s=i?.get(),a=e[e.length-1];if(s!==void 0)e[0]=s;else if(r&&n){const o=r.readValue(n,a);o!=null&&(e[0]=o)}e[0]===void 0&&(e[0]=a),i&&s===void 0&&i.set(e[0])}wY(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Gh.delete(this)}cancel(){this.state==="scheduled"&&(Gh.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const kY=t=>t.startsWith("--");function RY(t,e,n){kY(e)?t.style.setProperty(e,n):t.style[e]=n}const lL=KT(()=>window.ScrollTimeline!==void 0),PY={};function DY(t,e){const n=KT(t);return()=>PY[e]??n()}const cL=DY(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Bm=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,QN={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Bm([0,.65,.55,1]),circOut:Bm([.55,0,1,.45]),backIn:Bm([.31,.01,.66,-.59]),backOut:Bm([.33,1.53,.69,.99])};function uL(t,e){if(t)return typeof t=="function"?cL()?tL(t,e):"ease-out":GM(t)?Bm(t):Array.isArray(t)?t.map(n=>uL(n,e)||QN.easeOut):QN[t]}function MY(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:a="loop",ease:o="easeOut",times:c}={},f=void 0){const h={[e]:n};c&&(h.offset=c);const p=uL(o,i);Array.isArray(p)&&(h.easing=p);const g={delay:r,duration:i,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:s+1,direction:a==="reverse"?"alternate":"normal"};return f&&(g.pseudoElement=f),t.animate(h,g)}function fL(t){return typeof t=="function"&&"applyToOptions"in t}function LY({type:t,...e}){return fL(t)&&cL()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class FY extends aE{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:s,allowFlatten:a=!1,finalKeyframe:o,onComplete:c}=e;this.isPseudoElement=!!s,this.allowFlatten=a,this.options=e,Pg(typeof e.type!="string");const f=LY(e);this.animation=MY(n,r,i,f,s),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const h=sE(i,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(h):RY(n,r,h),this.animation.cancel()}c?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return dl(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+dl(e)}get time(){return dl(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Mc(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&lL()?(this.animation.timeline=e,vo):n(this)}}const hL={anticipate:jM,backInOut:BM,circInOut:HM};function OY(t){return t in hL}function VY(t){typeof t.ease=="string"&&OY(t.ease)&&(t.ease=hL[t.ease])}const ZN=10;class UY extends FY{constructor(e){VY(e),sL(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:s,...a}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const o=new oE({...a,autoplay:!1}),c=Mc(this.finishedTime??this.time);n.setWithVelocity(o.sample(c-ZN).value,o.sample(c).value,ZN),o.stop()}}const eI=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Wf.test(t)||t==="0")&&!t.startsWith("url("));function BY(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function jY(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],a=eI(i,e),o=eI(s,e);return!a||!o?!1:BY(t)||(n==="spring"||fL(n))&&r}function Wb(t){t.duration=0,t.type="keyframes"}const qY=new Set(["opacity","clipPath","filter","transform"]),HY=KT(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function zY(t){const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:s,type:a}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:f}=e.owner.getProps();return HY()&&n&&qY.has(n)&&(n!=="transform"||!f)&&!c&&!r&&i!=="mirror"&&s!==0&&a!=="inertia"}const GY=40;class $Y extends aE{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:a="loop",keyframes:o,name:c,motionValue:f,element:h,...p}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=yo.now();const g={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:a,name:c,motionValue:f,element:h,...p},x=h?.KeyframeResolver||lE;this.keyframeResolver=new x(o,(T,S,N)=>this.onKeyframesResolved(T,S,g,!N),c,f,h),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:s,type:a,velocity:o,delay:c,isHandoff:f,onUpdate:h}=r;this.resolvedAt=yo.now(),jY(e,s,a,o)||((Ru.instantAnimations||!c)&&h?.(sE(e,r,n)),e[0]=e[e.length-1],Wb(r),r.repeat=0);const g={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>GY?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},x=!f&&zY(g)?new UY({...g,element:g.motionValue.owner.current}):new oE(g);x.finished.then(()=>this.notifyFinished()).catch(vo),this.pendingTimeline&&(this.stopTimeline=x.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=x}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),IY()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const WY=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function KY(t){const e=WY.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function dL(t,e,n=1){const[r,i]=KY(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const a=s.trim();return DM(a)?parseFloat(a):a}return eE(i)?dL(i,e,n+1):i}function cE(t,e){return t?.[e]??t?.default??t}const pL=new Set(["width","height","top","left","right","bottom",...kp]),YY={test:t=>t==="auto",parse:t=>t},mL=t=>e=>e.test(t),gL=[Ip,In,Lc,Tf,HK,qK,YY],tI=t=>gL.find(mL(t));function XY(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||LM(t):!0}const JY=new Set(["brightness","contrast","saturate","opacity"]);function QY(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(tE)||[];if(!r)return t;const i=n.replace(r,"");let s=JY.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const ZY=/\b([a-z-]*)\(.*?\)/gu,Kb={...Wf,getAnimatableNone:t=>{const e=t.match(ZY);return e?e.map(QY).join(" "):t}},nI={...Ip,transform:Math.round},eX={rotate:Tf,rotateX:Tf,rotateY:Tf,rotateZ:Tf,scale:Ax,scaleX:Ax,scaleY:Ax,scaleZ:Ax,skew:Tf,skewX:Tf,skewY:Tf,distance:In,translateX:In,translateY:In,translateZ:In,x:In,y:In,z:In,perspective:In,transformPerspective:In,opacity:Dg,originX:HN,originY:HN,originZ:In},uE={borderWidth:In,borderTopWidth:In,borderRightWidth:In,borderBottomWidth:In,borderLeftWidth:In,borderRadius:In,radius:In,borderTopLeftRadius:In,borderTopRightRadius:In,borderBottomRightRadius:In,borderBottomLeftRadius:In,width:In,maxWidth:In,height:In,maxHeight:In,top:In,right:In,bottom:In,left:In,padding:In,paddingTop:In,paddingRight:In,paddingBottom:In,paddingLeft:In,margin:In,marginTop:In,marginRight:In,marginBottom:In,marginLeft:In,backgroundPositionX:In,backgroundPositionY:In,...eX,zIndex:nI,fillOpacity:Dg,strokeOpacity:Dg,numOctaves:nI},tX={...uE,color:os,backgroundColor:os,outlineColor:os,fill:os,stroke:os,borderColor:os,borderTopColor:os,borderRightColor:os,borderBottomColor:os,borderLeftColor:os,filter:Kb,WebkitFilter:Kb},xL=t=>tX[t];function yL(t,e){let n=xL(t);return n!==Kb&&(n=Wf),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const nX=new Set(["auto","none","0"]);function rX(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!nX.has(s)&&Mg(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=yL(n,i)}class iX extends lE{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let f=e[c];if(typeof f=="string"&&(f=f.trim(),eE(f))){const h=dL(f,n.current);h!==void 0&&(e[c]=h),c===e.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!pL.has(r)||e.length!==2)return;const[i,s]=e,a=tI(i),o=tI(s);if(a!==o)if(JN(a)&&JN(o))for(let c=0;c<e.length;c++){const f=e[c];typeof f=="string"&&(e[c]=parseFloat(f))}else zh[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||XY(e[i]))&&r.push(i);r.length&&rX(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=zh[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,a=r[s];r[s]=zh[n](e.measureViewportBox(),window.getComputedStyle(e.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),this.removedTransforms?.length&&this.removedTransforms.forEach(([o,c])=>{e.getValue(o).set(c)}),this.resolveNoneKeyframes()}}function vL(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){const i=document.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const _L=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function fE(t){return MM(t)&&"offsetHeight"in t}const rI=30,sX=t=>!isNaN(parseFloat(t));class aX{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const i=yo.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const s of this.dependents)s.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=yo.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=sX(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new YT);const r=this.events[e].add(n);return e==="change"?()=>{r(),Kr.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=yo.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>rI)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,rI);return XT(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Cc(t,e){return new aX(t,e)}const{schedule:hE}=$M(queueMicrotask,!1),Hl={x:!1,y:!1};function wL(){return Hl.x||Hl.y}function oX(t){return t==="x"||t==="y"?Hl[t]?null:(Hl[t]=!0,()=>{Hl[t]=!1}):Hl.x||Hl.y?null:(Hl.x=Hl.y=!0,()=>{Hl.x=Hl.y=!1})}function bL(t,e){const n=vL(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function iI(t){return!(t.pointerType==="touch"||wL())}function lX(t,e,n={}){const[r,i,s]=bL(t,n),a=o=>{if(!iI(o))return;const{target:c}=o,f=e(c,o);if(typeof f!="function"||!c)return;const h=p=>{iI(p)&&(f(p),c.removeEventListener("pointerleave",h))};c.addEventListener("pointerleave",h,i)};return r.forEach(o=>{o.addEventListener("pointerenter",a,i)}),s}const TL=(t,e)=>e?t===e?!0:TL(t,e.parentElement):!1,dE=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,cX=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function uX(t){return cX.has(t.tagName)||t.tabIndex!==-1}const dy=new WeakSet;function sI(t){return e=>{e.key==="Enter"&&t(e)}}function sw(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const fX=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=sI(()=>{if(dy.has(n))return;sw(n,"down");const i=sI(()=>{sw(n,"up")}),s=()=>sw(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function aI(t){return dE(t)&&!wL()}function hX(t,e,n={}){const[r,i,s]=bL(t,n),a=o=>{const c=o.currentTarget;if(!aI(o))return;dy.add(c);const f=e(c,o),h=(x,T)=>{window.removeEventListener("pointerup",p),window.removeEventListener("pointercancel",g),dy.has(c)&&dy.delete(c),aI(x)&&typeof f=="function"&&f(x,{success:T})},p=x=>{h(x,c===window||c===document||n.useGlobalTarget||TL(c,x.target))},g=x=>{h(x,!1)};window.addEventListener("pointerup",p,i),window.addEventListener("pointercancel",g,i)};return r.forEach(o=>{(n.useGlobalTarget?window:o).addEventListener("pointerdown",a,i),fE(o)&&(o.addEventListener("focus",f=>fX(f,i)),!uX(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),s}function pE(t){return MM(t)&&"ownerSVGElement"in t}const py=new WeakMap;let my;const EL=(t,e,n)=>(r,i)=>i&&i[0]?i[0][t+"Size"]:pE(r)&&"getBBox"in r?r.getBBox()[e]:r[n],dX=EL("inline","width","offsetWidth"),pX=EL("block","height","offsetHeight");function mX({target:t,borderBoxSize:e}){py.get(t)?.forEach(n=>{n(t,{get width(){return dX(t,e)},get height(){return pX(t,e)}})})}function gX(t){t.forEach(mX)}function xX(){typeof ResizeObserver>"u"||(my=new ResizeObserver(gX))}function yX(t,e){my||xX();const n=vL(t);return n.forEach(r=>{let i=py.get(r);i||(i=new Set,py.set(r,i)),i.add(e),my?.observe(r)}),()=>{n.forEach(r=>{const i=py.get(r);i?.delete(e),i?.size||my?.unobserve(r)})}}const gy=new Set;let k0;function vX(){k0=()=>{const t={get width(){return window.innerWidth},get height(){return window.innerHeight}};gy.forEach(e=>e(t))},window.addEventListener("resize",k0)}function _X(t){return gy.add(t),k0||vX(),()=>{gy.delete(t),!gy.size&&typeof k0=="function"&&(window.removeEventListener("resize",k0),k0=void 0)}}function wX(t,e){return typeof t=="function"?_X(t):yX(t,e)}function SL(t,e){let n;const r=()=>{const{currentTime:i}=e,a=(i===null?0:i.value)/100;n!==a&&t(a),n=a};return Kr.preUpdate(r,!0),()=>Uc(r)}function bX(t){return pE(t)&&t.tagName==="svg"}const Ea=t=>!!(t&&t.getVelocity),TX=[...gL,os,Wf],EX=t=>TX.find(mL(t)),mE=Ie.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function oI(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function SX(...t){return e=>{let n=!1;const r=t.map(i=>{const s=oI(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():oI(t[i],null)}}}}function AX(...t){return Ie.useCallback(SX(...t),t)}class CX extends Ie.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=fE(r)&&r.offsetWidth||0,s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft,s.right=i-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function NX({children:t,isPresent:e,anchorX:n,root:r}){const i=Ie.useId(),s=Ie.useRef(null),a=Ie.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=Ie.useContext(mE),c=AX(s,t?.ref);return Ie.useInsertionEffect(()=>{const{width:f,height:h,top:p,left:g,right:x}=a.current;if(e||!s.current||!f||!h)return;const T=n==="left"?`left: ${g}`:`right: ${x}`;s.current.dataset.motionPopId=i;const S=document.createElement("style");o&&(S.nonce=o);const N=r??document.head;return N.appendChild(S),S.sheet&&S.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${f}px !important;
            height: ${h}px !important;
            ${T}px !important;
            top: ${p}px !important;
          }
        `),()=>{N.contains(S)&&N.removeChild(S)}},[e]),y.jsx(CX,{isPresent:e,childRef:s,sizeRef:a,children:Ie.cloneElement(t,{ref:c})})}const IX=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:a,anchorX:o,root:c})=>{const f=r2(kX),h=Ie.useId();let p=!0,g=Ie.useMemo(()=>(p=!1,{id:h,initial:e,isPresent:n,custom:i,onExitComplete:x=>{f.set(x,!0);for(const T of f.values())if(!T)return;r&&r()},register:x=>(f.set(x,!1),()=>f.delete(x))}),[n,f,r]);return s&&p&&(g={...g}),Ie.useMemo(()=>{f.forEach((x,T)=>f.set(T,!1))},[n]),Ie.useEffect(()=>{!n&&!f.size&&r&&r()},[n]),a==="popLayout"&&(t=y.jsx(NX,{isPresent:n,anchorX:o,root:c,children:t})),y.jsx(i2.Provider,{value:g,children:t})};function kX(){return new Map}function AL(t=!0){const e=Ie.useContext(i2);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=Ie.useId();Ie.useEffect(()=>{if(t)return i(s)},[t]);const a=Ie.useCallback(()=>t&&r&&r(s),[s,r,t]);return!n&&r?[!1,a]:[!0]}const Cx=t=>t.key||"";function lI(t){const e=[];return Ie.Children.forEach(t,n=>{Ie.isValidElement(n)&&e.push(n)}),e}const Kf=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:a=!1,anchorX:o="left",root:c})=>{const[f,h]=AL(a),p=Ie.useMemo(()=>lI(t),[t]),g=a&&!f?[]:p.map(Cx),x=Ie.useRef(!0),T=Ie.useRef(p),S=r2(()=>new Map),[N,k]=Ie.useState(p),[B,R]=Ie.useState(p);GT(()=>{x.current=!1,T.current=p;for(let J=0;J<B.length;J++){const F=Cx(B[J]);g.includes(F)?S.delete(F):S.get(F)!==!0&&S.set(F,!1)}},[B,g.length,g.join("-")]);const q=[];if(p!==N){let J=[...p];for(let F=0;F<B.length;F++){const O=B[F],C=Cx(O);g.includes(C)||(J.splice(F,0,O),q.push(O))}return s==="wait"&&q.length&&(J=q),R(lI(J)),k(p),null}const{forceRender:Y}=Ie.useContext(HT);return y.jsx(y.Fragment,{children:B.map(J=>{const F=Cx(J),O=a&&!f?!1:p===B||g.includes(F),C=()=>{if(S.has(F))S.set(F,!0);else return;let H=!0;S.forEach(P=>{P||(H=!1)}),H&&(Y?.(),R(T.current),a&&h?.(),r&&r())};return y.jsx(IX,{isPresent:O,initial:!x.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:s,root:c,onExitComplete:O?void 0:C,anchorX:o,children:J},F)})})},CL=Ie.createContext({strict:!1}),cI={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},vp={};for(const t in cI)vp[t]={isEnabled:e=>cI[t].some(n=>!!e[n])};function RX(t){for(const e in t)vp[e]={...vp[e],...t[e]}}const PX=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function iv(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||PX.has(t)}let NL=t=>!iv(t);function DX(t){typeof t=="function"&&(NL=e=>e.startsWith("on")?!iv(e):t(e))}try{DX(require("@emotion/is-prop-valid").default)}catch{}function MX(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(NL(i)||n===!0&&iv(i)||!e&&!iv(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}const s2=Ie.createContext({});function a2(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Lg(t){return typeof t=="string"||Array.isArray(t)}const gE=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],xE=["initial",...gE];function o2(t){return a2(t.animate)||xE.some(e=>Lg(t[e]))}function IL(t){return!!(o2(t)||t.variants)}function LX(t,e){if(o2(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Lg(n)?n:void 0,animate:Lg(r)?r:void 0}}return t.inherit!==!1?e:{}}function FX(t){const{initial:e,animate:n}=LX(t,Ie.useContext(s2));return Ie.useMemo(()=>({initial:e,animate:n}),[uI(e),uI(n)])}function uI(t){return Array.isArray(t)?t.join(" "):t}const Fg={};function OX(t){for(const e in t)Fg[e]=t[e],ZT(e)&&(Fg[e].isCSSVariable=!0)}function kL(t,{layout:e,layoutId:n}){return Rp.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Fg[t]||t==="opacity")}const VX={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},UX=kp.length;function BX(t,e,n){let r="",i=!0;for(let s=0;s<UX;s++){const a=kp[s],o=t[a];if(o===void 0)continue;let c=!0;if(typeof o=="number"?c=o===(a.startsWith("scale")?1:0):c=parseFloat(o)===0,!c||n){const f=_L(o,uE[a]);if(!c){i=!1;const h=VX[a]||a;r+=`${h}(${f}) `}n&&(e[a]=f)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function yE(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let a=!1,o=!1;for(const c in e){const f=e[c];if(Rp.has(c)){a=!0;continue}else if(ZT(c)){i[c]=f;continue}else{const h=_L(f,uE[c]);c.startsWith("origin")?(o=!0,s[c]=h):r[c]=h}}if(e.transform||(a||n?r.transform=BX(e,t.transform,n):r.transform&&(r.transform="none")),o){const{originX:c="50%",originY:f="50%",originZ:h=0}=s;r.transformOrigin=`${c} ${f} ${h}`}}const vE=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function RL(t,e,n){for(const r in e)!Ea(e[r])&&!kL(r,n)&&(t[r]=e[r])}function jX({transformTemplate:t},e){return Ie.useMemo(()=>{const n=vE();return yE(n,e,t),Object.assign({},n.vars,n.style)},[e])}function qX(t,e){const n=t.style||{},r={};return RL(r,n,t),Object.assign(r,jX(t,e)),r}function HX(t,e){const n={},r=qX(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const zX={offset:"stroke-dashoffset",array:"stroke-dasharray"},GX={offset:"strokeDashoffset",array:"strokeDasharray"};function $X(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?zX:GX;t[s.offset]=In.transform(-r);const a=In.transform(e),o=In.transform(n);t[s.array]=`${a} ${o}`}function PL(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:s=1,pathOffset:a=0,...o},c,f,h){if(yE(t,o,f),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:g}=t;p.transform&&(g.transform=p.transform,delete p.transform),(g.transform||p.transformOrigin)&&(g.transformOrigin=p.transformOrigin??"50% 50%",delete p.transformOrigin),g.transform&&(g.transformBox=h?.transformBox??"fill-box",delete p.transformBox),e!==void 0&&(p.x=e),n!==void 0&&(p.y=n),r!==void 0&&(p.scale=r),i!==void 0&&$X(p,i,s,a,!1)}const DL=()=>({...vE(),attrs:{}}),ML=t=>typeof t=="string"&&t.toLowerCase()==="svg";function WX(t,e,n,r){const i=Ie.useMemo(()=>{const s=DL();return PL(s,e,ML(r),t.transformTemplate,t.style),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};RL(s,t.style,t),i.style={...s,...i.style}}return i}const KX=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function _E(t){return typeof t!="string"||t.includes("-")?!1:!!(KX.indexOf(t)>-1||/[A-Z]/u.test(t))}function YX(t,e,n,{latestValues:r},i,s=!1){const o=(_E(t)?WX:HX)(e,r,i,t),c=MX(e,typeof t=="string",s),f=t!==Ie.Fragment?{...c,...o,ref:n}:{},{children:h}=e,p=Ie.useMemo(()=>Ea(h)?h.get():h,[h]);return Ie.createElement(t,{...f,children:p})}function fI(t){const e=[{},{}];return t?.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function wE(t,e,n,r){if(typeof e=="function"){const[i,s]=fI(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=fI(r);e=e(n!==void 0?n:t.custom,i,s)}return e}function xy(t){return Ea(t)?t.get():t}function XX({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:JX(n,r,i,t),renderState:e()}}function JX(t,e,n,r){const i={},s=r(t,{});for(const g in s)i[g]=xy(s[g]);let{initial:a,animate:o}=t;const c=o2(t),f=IL(t);e&&f&&!c&&t.inherit!==!1&&(a===void 0&&(a=e.initial),o===void 0&&(o=e.animate));let h=n?n.initial===!1:!1;h=h||a===!1;const p=h?o:a;if(p&&typeof p!="boolean"&&!a2(p)){const g=Array.isArray(p)?p:[p];for(let x=0;x<g.length;x++){const T=wE(t,g[x]);if(T){const{transitionEnd:S,transition:N,...k}=T;for(const B in k){let R=k[B];if(Array.isArray(R)){const q=h?R.length-1:0;R=R[q]}R!==null&&(i[B]=R)}for(const B in S)i[B]=S[B]}}}return i}const LL=t=>(e,n)=>{const r=Ie.useContext(s2),i=Ie.useContext(i2),s=()=>XX(t,e,r,i);return n?s():r2(s)};function bE(t,e,n){const{style:r}=t,i={};for(const s in r)(Ea(r[s])||e.style&&Ea(e.style[s])||kL(s,t)||n?.getValue(s)?.liveStyle!==void 0)&&(i[s]=r[s]);return i}const QX=LL({scrapeMotionValuesFromProps:bE,createRenderState:vE});function FL(t,e,n){const r=bE(t,e,n);for(const i in t)if(Ea(t[i])||Ea(e[i])){const s=kp.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}const ZX=LL({scrapeMotionValuesFromProps:FL,createRenderState:DL}),eJ=Symbol.for("motionComponentSymbol");function R0(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function tJ(t,e,n){return Ie.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):R0(n)&&(n.current=r))},[e])}const TE=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),nJ="framerAppearId",OL="data-"+TE(nJ),VL=Ie.createContext({});function rJ(t,e,n,r,i){const{visualElement:s}=Ie.useContext(s2),a=Ie.useContext(CL),o=Ie.useContext(i2),c=Ie.useContext(mE).reducedMotion,f=Ie.useRef(null);r=r||a.renderer,!f.current&&r&&(f.current=r(t,{visualState:e,parent:s,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:c}));const h=f.current,p=Ie.useContext(VL);h&&!h.projection&&i&&(h.type==="html"||h.type==="svg")&&iJ(f.current,n,i,p);const g=Ie.useRef(!1);Ie.useInsertionEffect(()=>{h&&g.current&&h.update(n,o)});const x=n[OL],T=Ie.useRef(!!x&&!window.MotionHandoffIsComplete?.(x)&&window.MotionHasOptimisedAnimation?.(x));return GT(()=>{h&&(g.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),h.scheduleRenderMicrotask(),T.current&&h.animationState&&h.animationState.animateChanges())}),Ie.useEffect(()=>{h&&(!T.current&&h.animationState&&h.animationState.animateChanges(),T.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(x)}),T.current=!1),h.enteringChildren=void 0)}),h}function iJ(t,e,n,r){const{layoutId:i,layout:s,drag:a,dragConstraints:o,layoutScroll:c,layoutRoot:f,layoutCrossfade:h}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:UL(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!a||o&&R0(o),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:h,layoutScroll:c,layoutRoot:f})}function UL(t){if(t)return t.options.allowProjection!==!1?t.projection:UL(t.parent)}function aw(t,{forwardMotionProps:e=!1}={},n,r){n&&RX(n);const i=_E(t)?ZX:QX;function s(o,c){let f;const h={...Ie.useContext(mE),...o,layoutId:sJ(o)},{isStatic:p}=h,g=FX(o),x=i(o,p);if(!p&&zT){aJ();const T=oJ(h);f=T.MeasureLayout,g.visualElement=rJ(t,x,h,r,T.ProjectionNode)}return y.jsxs(s2.Provider,{value:g,children:[f&&g.visualElement?y.jsx(f,{visualElement:g.visualElement,...h}):null,YX(t,o,tJ(x,g.visualElement,c),x,p,e)]})}s.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const a=Ie.forwardRef(s);return a[eJ]=t,a}function sJ({layoutId:t}){const e=Ie.useContext(HT).id;return e&&t!==void 0?e+"-"+t:t}function aJ(t,e){Ie.useContext(CL).strict}function oJ(t){const{drag:e,layout:n}=vp;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function lJ(t,e){if(typeof Proxy>"u")return aw;const n=new Map,r=(s,a)=>aw(s,a,t,e),i=(s,a)=>r(s,a);return new Proxy(i,{get:(s,a)=>a==="create"?r:(n.has(a)||n.set(a,aw(a,void 0,t,e)),n.get(a))})}function BL({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function cJ({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function uJ(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function ow(t){return t===void 0||t===1}function Yb({scale:t,scaleX:e,scaleY:n}){return!ow(t)||!ow(e)||!ow(n)}function Ch(t){return Yb(t)||jL(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function jL(t){return hI(t.x)||hI(t.y)}function hI(t){return t&&t!=="0%"}function sv(t,e,n){const r=t-n,i=e*r;return n+i}function dI(t,e,n,r,i){return i!==void 0&&(t=sv(t,i,r)),sv(t,n,r)+e}function Xb(t,e=0,n=1,r,i){t.min=dI(t.min,e,n,r,i),t.max=dI(t.max,e,n,r,i)}function qL(t,{x:e,y:n}){Xb(t.x,e.translate,e.scale,e.originPoint),Xb(t.y,n.translate,n.scale,n.originPoint)}const pI=.999999999999,mI=1.0000000000001;function fJ(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,a;for(let o=0;o<i;o++){s=n[o],a=s.projectionDelta;const{visualElement:c}=s.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&D0(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,qL(t,a)),r&&Ch(s.latestValues)&&D0(t,s.latestValues))}e.x<mI&&e.x>pI&&(e.x=1),e.y<mI&&e.y>pI&&(e.y=1)}function P0(t,e){t.min=t.min+e,t.max=t.max+e}function gI(t,e,n,r,i=.5){const s=Ci(t.min,t.max,i);Xb(t,e,n,s,r)}function D0(t,e){gI(t.x,e.x,e.scaleX,e.scale,e.originX),gI(t.y,e.y,e.scaleY,e.scale,e.originY)}function HL(t,e){return BL(uJ(t.getBoundingClientRect(),e))}function hJ(t,e,n){const r=HL(t,n),{scroll:i}=e;return i&&(P0(r.x,i.offset.x),P0(r.y,i.offset.y)),r}const xI=()=>({translate:0,scale:1,origin:0,originPoint:0}),M0=()=>({x:xI(),y:xI()}),yI=()=>({min:0,max:0}),ws=()=>({x:yI(),y:yI()}),Jb={current:null},zL={current:!1};function dJ(){if(zL.current=!0,!!zT)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Jb.current=t.matches;t.addEventListener("change",e),e()}else Jb.current=!1}const pJ=new WeakMap;function mJ(t,e,n){for(const r in e){const i=e[r],s=n[r];if(Ea(i))t.addValue(r,i);else if(Ea(s))t.addValue(r,Cc(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const a=t.getValue(r);a.liveStyle===!0?a.jump(i):a.hasAnimated||a.set(i)}else{const a=t.getStaticValue(r);t.addValue(r,Cc(a!==void 0?a:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const vI=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class gJ{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=lE,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=yo.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,Kr.render(this.render,!1,!0))};const{latestValues:c,renderState:f}=a;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=f,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.blockInitialAnimation=!!s,this.isControllingVariants=o2(n),this.isVariantNode=IL(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...p}=this.scrapeMotionValuesFromProps(n,{},this);for(const g in p){const x=p[g];c[g]!==void 0&&Ea(x)&&x.set(c[g])}}mount(e){this.current=e,pJ.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),zL.current||dJ(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Jb.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Uc(this.notifyUpdate),Uc(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Rp.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&Kr.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s&&s(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in vp){const n=vp[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ws()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<vI.length;r++){const i=vI[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,a=e[s];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=mJ(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Cc(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(DM(r)||LM(r))?r=parseFloat(r):!EX(r)&&Wf.test(n)&&(r=yL(e,n)),this.setBaseTarget(e,Ea(r)?r.get():r)),Ea(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const s=wE(this.props,n,this.presenceContext?.custom);s&&(r=s[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Ea(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new YT),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){hE.render(this.render)}}class GL extends gJ{constructor(){super(...arguments),this.KeyframeResolver=iX}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ea(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function $L(t,{style:e,vars:n},r,i){const s=t.style;let a;for(a in e)s[a]=e[a];i?.applyProjectionStyles(s,r);for(a in n)s.setProperty(a,n[a])}function xJ(t){return window.getComputedStyle(t)}class yJ extends GL{constructor(){super(...arguments),this.type="html",this.renderInstance=$L}readValueFromInstance(e,n){if(Rp.has(n))return this.projection?.isProjecting?qb(n):EY(e,n);{const r=xJ(e),i=(ZT(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return HL(e,n)}build(e,n,r){yE(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return bE(e,n,r)}}const WL=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function vJ(t,e,n,r){$L(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(WL.has(i)?i:TE(i),e.attrs[i])}class _J extends GL{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ws}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Rp.has(n)){const r=xL(n);return r&&r.default||0}return n=WL.has(n)?n:TE(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return FL(e,n,r)}build(e,n,r){PL(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){vJ(e,n,r,i)}mount(e){this.isSVGTag=ML(e.tagName),super.mount(e)}}const wJ=(t,e)=>_E(t)?new _J(e):new yJ(e,{allowProjection:t!==Ie.Fragment});function z0(t,e,n){const r=t.getProps();return wE(r,e,n!==void 0?n:r.custom,t)}const Qb=t=>Array.isArray(t);function bJ(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Cc(n))}function TJ(t){return Qb(t)?t[t.length-1]||0:t}function EJ(t,e){const n=z0(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const a in s){const o=TJ(s[a]);bJ(t,a,o)}}function SJ(t){return!!(Ea(t)&&t.add)}function Zb(t,e){const n=t.getValue("willChange");if(SJ(n))return n.add(e);if(!n&&Ru.WillChange){const r=new Ru.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function KL(t){return t.props[OL]}const AJ=t=>t!==null;function CJ(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(AJ),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return i[s]}const NJ={type:"spring",stiffness:500,damping:25,restSpeed:10},IJ=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),kJ={type:"keyframes",duration:.8},RJ={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},PJ=(t,{keyframes:e})=>e.length>2?kJ:Rp.has(t)?t.startsWith("scale")?IJ(e[1]):NJ:RJ;function DJ({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:a,repeatDelay:o,from:c,elapsed:f,...h}){return!!Object.keys(h).length}const EE=(t,e,n,r={},i,s)=>a=>{const o=cE(r,t)||{},c=o.delay||r.delay||0;let{elapsed:f=0}=r;f=f-Mc(c);const h={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...o,delay:-f,onUpdate:g=>{e.set(g),o.onUpdate&&o.onUpdate(g)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:t,motionValue:e,element:s?void 0:i};DJ(o)||Object.assign(h,PJ(t,h)),h.duration&&(h.duration=Mc(h.duration)),h.repeatDelay&&(h.repeatDelay=Mc(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let p=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(Wb(h),h.delay===0&&(p=!0)),(Ru.instantAnimations||Ru.skipAnimations)&&(p=!0,Wb(h),h.delay=0),h.allowFlatten=!o.type&&!o.ease,p&&!s&&e.get()!==void 0){const g=CJ(h.keyframes,o);if(g!==void 0){Kr.update(()=>{h.onUpdate(g),h.onComplete()});return}}return o.isSync?new oE(h):new $Y(h)};function MJ({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function YL(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:a,...o}=e;r&&(s=r);const c=[],f=i&&t.animationState&&t.animationState.getState()[i];for(const h in o){const p=t.getValue(h,t.latestValues[h]??null),g=o[h];if(g===void 0||f&&MJ(f,h))continue;const x={delay:n,...cE(s||{},h)},T=p.get();if(T!==void 0&&!p.isAnimating&&!Array.isArray(g)&&g===T&&!x.velocity)continue;let S=!1;if(window.MotionHandoffAnimation){const k=KL(t);if(k){const B=window.MotionHandoffAnimation(k,h,Kr);B!==null&&(x.startTime=B,S=!0)}}Zb(t,h),p.start(EE(h,p,g,t.shouldReduceMotion&&pL.has(h)?{type:!1}:x,t,S));const N=p.animation;N&&c.push(N)}return a&&Promise.all(c).then(()=>{Kr.update(()=>{a&&EJ(t,a)})}),c}function XL(t,e,n,r=0,i=1){const s=Array.from(t).sort((f,h)=>f.sortNodePosition(h)).indexOf(e),a=t.size,o=(a-1)*r;return typeof n=="function"?n(s,a):i===1?s*r:o-s*r}function e5(t,e,n={}){const r=z0(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(YL(t,r,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:f=0,staggerChildren:h,staggerDirection:p}=i;return LJ(t,e,c,f,h,p,n)}:()=>Promise.resolve(),{when:o}=i;if(o){const[c,f]=o==="beforeChildren"?[s,a]:[a,s];return c().then(()=>f())}else return Promise.all([s(),a(n.delay)])}function LJ(t,e,n=0,r=0,i=0,s=1,a){const o=[];for(const c of t.variantChildren)c.notify("AnimationStart",e),o.push(e5(c,e,{...a,delay:n+(typeof r=="function"?0:r)+XL(t.variantChildren,c,r,i,s)}).then(()=>c.notify("AnimationComplete",e)));return Promise.all(o)}function FJ(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>e5(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=e5(t,e,n);else{const i=typeof e=="function"?z0(t,e,n.custom):e;r=Promise.all(YL(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function JL(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const OJ=xE.length;function QL(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?QL(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<OJ;n++){const r=xE[n],i=t.props[r];(Lg(i)||i===!1)&&(e[r]=i)}return e}const VJ=[...gE].reverse(),UJ=gE.length;function BJ(t){return e=>Promise.all(e.map(({animation:n,options:r})=>FJ(t,n,r)))}function jJ(t){let e=BJ(t),n=_I(),r=!0;const i=c=>(f,h)=>{const p=z0(t,h,c==="exit"?t.presenceContext?.custom:void 0);if(p){const{transition:g,transitionEnd:x,...T}=p;f={...f,...T,...x}}return f};function s(c){e=c(t)}function a(c){const{props:f}=t,h=QL(t.parent)||{},p=[],g=new Set;let x={},T=1/0;for(let N=0;N<UJ;N++){const k=VJ[N],B=n[k],R=f[k]!==void 0?f[k]:h[k],q=Lg(R),Y=k===c?B.isActive:null;Y===!1&&(T=N);let J=R===h[k]&&R!==f[k]&&q;if(J&&r&&t.manuallyAnimateOnMount&&(J=!1),B.protectedKeys={...x},!B.isActive&&Y===null||!R&&!B.prevProp||a2(R)||typeof R=="boolean")continue;const F=qJ(B.prevProp,R);let O=F||k===c&&B.isActive&&!J&&q||N>T&&q,C=!1;const H=Array.isArray(R)?R:[R];let P=H.reduce(i(k),{});Y===!1&&(P={});const{prevResolvedValues:L={}}=B,V={...L,...P},me=xe=>{O=!0,g.has(xe)&&(C=!0,g.delete(xe)),B.needsAnimating[xe]=!0;const he=t.getValue(xe);he&&(he.liveStyle=!1)};for(const xe in V){const he=P[xe],ue=L[xe];if(x.hasOwnProperty(xe))continue;let Le=!1;Qb(he)&&Qb(ue)?Le=!JL(he,ue):Le=he!==ue,Le?he!=null?me(xe):g.add(xe):he!==void 0&&g.has(xe)?me(xe):B.protectedKeys[xe]=!0}B.prevProp=R,B.prevResolvedValues=P,B.isActive&&(x={...x,...P}),r&&t.blockInitialAnimation&&(O=!1);const Ne=J&&F;O&&(!Ne||C)&&p.push(...H.map(xe=>{const he={type:k};if(typeof xe=="string"&&r&&!Ne&&t.manuallyAnimateOnMount&&t.parent){const{parent:ue}=t,Le=z0(ue,xe);if(ue.enteringChildren&&Le){const{delayChildren:ne}=Le.transition||{};he.delay=XL(ue.enteringChildren,t,ne)}}return{animation:xe,options:he}}))}if(g.size){const N={};if(typeof f.initial!="boolean"){const k=z0(t,Array.isArray(f.initial)?f.initial[0]:f.initial);k&&k.transition&&(N.transition=k.transition)}g.forEach(k=>{const B=t.getBaseTarget(k),R=t.getValue(k);R&&(R.liveStyle=!0),N[k]=B??null}),p.push({animation:N})}let S=!!p.length;return r&&(f.initial===!1||f.initial===f.animate)&&!t.manuallyAnimateOnMount&&(S=!1),r=!1,S?e(p):Promise.resolve()}function o(c,f){if(n[c].isActive===f)return Promise.resolve();t.variantChildren?.forEach(p=>p.animationState?.setActive(c,f)),n[c].isActive=f;const h=a(c);for(const p in n)n[p].protectedKeys={};return h}return{animateChanges:a,setActive:o,setAnimateFunction:s,getState:()=>n,reset:()=>{n=_I()}}}function qJ(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!JL(e,t):!1}function Th(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function _I(){return{animate:Th(!0),whileInView:Th(),whileHover:Th(),whileTap:Th(),whileDrag:Th(),whileFocus:Th(),exit:Th()}}class nh{constructor(e){this.isMounted=!1,this.node=e}update(){}}class HJ extends nh{constructor(e){super(e),e.animationState||(e.animationState=jJ(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();a2(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let zJ=0;class GJ extends nh{constructor(){super(...arguments),this.id=zJ++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const $J={animation:{Feature:HJ},exit:{Feature:GJ}};function Og(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function g1(t){return{point:{x:t.pageX,y:t.pageY}}}const WJ=t=>e=>dE(e)&&t(e,g1(e));function rg(t,e,n,r){return Og(t,e,WJ(n),r)}const ZL=1e-4,KJ=1-ZL,YJ=1+ZL,eF=.01,XJ=0-eF,JJ=0+eF;function Ha(t){return t.max-t.min}function QJ(t,e,n){return Math.abs(t-e)<=n}function wI(t,e,n,r=.5){t.origin=r,t.originPoint=Ci(e.min,e.max,t.origin),t.scale=Ha(n)/Ha(e),t.translate=Ci(n.min,n.max,t.origin)-t.originPoint,(t.scale>=KJ&&t.scale<=YJ||isNaN(t.scale))&&(t.scale=1),(t.translate>=XJ&&t.translate<=JJ||isNaN(t.translate))&&(t.translate=0)}function ig(t,e,n,r){wI(t.x,e.x,n.x,r?r.originX:void 0),wI(t.y,e.y,n.y,r?r.originY:void 0)}function bI(t,e,n){t.min=n.min+e.min,t.max=t.min+Ha(e)}function ZJ(t,e,n){bI(t.x,e.x,n.x),bI(t.y,e.y,n.y)}function TI(t,e,n){t.min=e.min-n.min,t.max=t.min+Ha(e)}function av(t,e,n){TI(t.x,e.x,n.x),TI(t.y,e.y,n.y)}function ll(t){return[t("x"),t("y")]}const tF=({current:t})=>t?t.ownerDocument.defaultView:null,EI=(t,e)=>Math.abs(t-e);function eQ(t,e){const n=EI(t.x,e.x),r=EI(t.y,e.y);return Math.sqrt(n**2+r**2)}class nF{constructor(e,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:s=!1,distanceThreshold:a=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=cw(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,T=eQ(g.offset,{x:0,y:0})>=this.distanceThreshold;if(!x&&!T)return;const{point:S}=g,{timestamp:N}=Vs;this.history.push({...S,timestamp:N});const{onStart:k,onMove:B}=this.handlers;x||(k&&k(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),B&&B(this.lastMoveEvent,g)},this.handlePointerMove=(g,x)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=lw(x,this.transformPagePoint),Kr.update(this.updatePoint,!0)},this.handlePointerUp=(g,x)=>{this.end();const{onEnd:T,onSessionEnd:S,resumeAnimation:N}=this.handlers;if(this.dragSnapToOrigin&&N&&N(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const k=cw(g.type==="pointercancel"?this.lastMoveEventInfo:lw(x,this.transformPagePoint),this.history);this.startEvent&&T&&T(g,k),S&&S(g,k)},!dE(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=a,this.contextWindow=i||window;const o=g1(e),c=lw(o,this.transformPagePoint),{point:f}=c,{timestamp:h}=Vs;this.history=[{...f,timestamp:h}];const{onSessionStart:p}=n;p&&p(e,cw(c,this.history)),this.removeListeners=d1(rg(this.contextWindow,"pointermove",this.handlePointerMove),rg(this.contextWindow,"pointerup",this.handlePointerUp),rg(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Uc(this.updatePoint)}}function lw(t,e){return e?{point:e(t.point)}:t}function SI(t,e){return{x:t.x-e.x,y:t.y-e.y}}function cw({point:t},e){return{point:t,delta:SI(t,rF(e)),offset:SI(t,tQ(e)),velocity:nQ(e,.1)}}function tQ(t){return t[0]}function rF(t){return t[t.length-1]}function nQ(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=rF(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Mc(e)));)n--;if(!r)return{x:0,y:0};const s=dl(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const a={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function rQ(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Ci(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Ci(n,t,r.max):Math.min(t,n)),t}function AI(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function iQ(t,{top:e,left:n,bottom:r,right:i}){return{x:AI(t.x,n,i),y:AI(t.y,e,r)}}function CI(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function sQ(t,e){return{x:CI(t.x,e.x),y:CI(t.y,e.y)}}function aQ(t,e){let n=.5;const r=Ha(t),i=Ha(e);return i>r?n=yp(e.min,e.max-r,t.min):r>i&&(n=yp(t.min,t.max-i,e.min)),Vc(0,1,n)}function oQ(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const t5=.35;function lQ(t=t5){return t===!1?t=0:t===!0&&(t=t5),{x:NI(t,"left","right"),y:NI(t,"top","bottom")}}function NI(t,e,n){return{min:II(t,e),max:II(t,n)}}function II(t,e){return typeof t=="number"?t:t[e]||0}const cQ=new WeakMap;class uQ{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ws(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=p=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(g1(p).point)},a=(p,g)=>{const{drag:x,dragPropagation:T,onDragStart:S}=this.getProps();if(x&&!T&&(this.openDragLock&&this.openDragLock(),this.openDragLock=oX(x),!this.openDragLock))return;this.latestPointerEvent=p,this.latestPanInfo=g,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ll(k=>{let B=this.getAxisMotionValue(k).get()||0;if(Lc.test(B)){const{projection:R}=this.visualElement;if(R&&R.layout){const q=R.layout.layoutBox[k];q&&(B=Ha(q)*(parseFloat(B)/100))}}this.originPoint[k]=B}),S&&Kr.postRender(()=>S(p,g)),Zb(this.visualElement,"transform");const{animationState:N}=this.visualElement;N&&N.setActive("whileDrag",!0)},o=(p,g)=>{this.latestPointerEvent=p,this.latestPanInfo=g;const{dragPropagation:x,dragDirectionLock:T,onDirectionLock:S,onDrag:N}=this.getProps();if(!x&&!this.openDragLock)return;const{offset:k}=g;if(T&&this.currentDirection===null){this.currentDirection=fQ(k),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",g.point,k),this.updateAxis("y",g.point,k),this.visualElement.render(),N&&N(p,g)},c=(p,g)=>{this.latestPointerEvent=p,this.latestPanInfo=g,this.stop(p,g),this.latestPointerEvent=null,this.latestPanInfo=null},f=()=>ll(p=>this.getAnimationState(p)==="paused"&&this.getAxisMotionValue(p).animation?.play()),{dragSnapToOrigin:h}=this.getProps();this.panSession=new nF(e,{onSessionStart:s,onStart:a,onMove:o,onSessionEnd:c,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,distanceThreshold:r,contextWindow:tF(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,i=n||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!i||!r)return;const{velocity:a}=i;this.startAnimation(a);const{onDragEnd:o}=this.getProps();o&&Kr.postRender(()=>o(r,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Nx(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=rQ(a,this.constraints[e],this.elastic[e])),s.set(a)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,i=this.constraints;e&&R0(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=iQ(r.layoutBox,e):this.constraints=!1,this.elastic=lQ(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&ll(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=oQ(r.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!R0(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=hJ(r,i.root,this.visualElement.getTransformPagePoint());let a=sQ(i.layout.layoutBox,s);if(n){const o=n(cJ(a));this.hasMutatedConstraints=!!o,o&&(a=BL(o))}return a}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),c=this.constraints||{},f=ll(h=>{if(!Nx(h,n,this.currentDirection))return;let p=c&&c[h]||{};a&&(p={min:0,max:0});const g=i?200:1e6,x=i?40:1e7,T={type:"inertia",velocity:r?e[h]:0,bounceStiffness:g,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...s,...p};return this.startAxisValueAnimation(h,T)});return Promise.all(f).then(o)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Zb(this.visualElement,e),r.start(EE(e,r,0,n,this.visualElement,!1))}stopAnimation(){ll(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ll(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){ll(n=>{const{drag:r}=this.getProps();if(!Nx(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:a,max:o}=i.layout.layoutBox[n];s.set(e[n]-Ci(a,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!R0(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};ll(a=>{const o=this.getAxisMotionValue(a);if(o&&this.constraints!==!1){const c=o.get();i[a]=aQ({min:c,max:c},this.constraints[a])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),ll(a=>{if(!Nx(a,e,null))return;const o=this.getAxisMotionValue(a),{min:c,max:f}=this.constraints[a];o.set(Ci(c,f,i[a]))})}addListeners(){if(!this.visualElement.current)return;cQ.set(this.visualElement,this);const e=this.visualElement.current,n=rg(e,"pointerdown",c=>{const{drag:f,dragListener:h=!0}=this.getProps();f&&h&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();R0(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Kr.read(r);const a=Og(window,"resize",()=>this.scalePositionWithinConstraints()),o=i.addEventListener("didUpdate",(({delta:c,hasLayoutChanged:f})=>{this.isDragging&&f&&(ll(h=>{const p=this.getAxisMotionValue(h);p&&(this.originPoint[h]+=c[h].translate,p.set(p.get()+c[h].translate))}),this.visualElement.render())}));return()=>{a(),n(),s(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:a=t5,dragMomentum:o=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:a,dragMomentum:o}}}function Nx(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function fQ(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class hQ extends nh{constructor(e){super(e),this.removeGroupControls=vo,this.removeListeners=vo,this.controls=new uQ(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||vo}unmount(){this.removeGroupControls(),this.removeListeners()}}const kI=t=>(e,n)=>{t&&Kr.postRender(()=>t(e,n))};class dQ extends nh{constructor(){super(...arguments),this.removePointerDownListener=vo}onPointerDown(e){this.session=new nF(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:tF(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:kI(e),onStart:kI(n),onMove:r,onEnd:(s,a)=>{delete this.session,i&&Kr.postRender(()=>i(s,a))}}}mount(){this.removePointerDownListener=rg(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const yy={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function RI(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Nm={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(In.test(t))t=parseFloat(t);else return t;const n=RI(t,e.target.x),r=RI(t,e.target.y);return`${n}% ${r}%`}},pQ={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Wf.parse(t);if(i.length>5)return r;const s=Wf.createTransformer(t),a=typeof i[0]!="number"?1:0,o=n.x.scale*e.x,c=n.y.scale*e.y;i[0+a]/=o,i[1+a]/=c;const f=Ci(o,c,.5);return typeof i[2+a]=="number"&&(i[2+a]/=f),typeof i[3+a]=="number"&&(i[3+a]/=f),s(i)}};let uw=!1;class mQ extends Ie.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;OX(gQ),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),uw&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),yy.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,{projection:a}=r;return a&&(a.isPresent=s,uw=!0,i||e.layoutDependency!==n||n===void 0||e.isPresent!==s?a.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?a.promote():a.relegate()||Kr.postRender(()=>{const o=a.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),hE.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;uw=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function iF(t){const[e,n]=AL(),r=Ie.useContext(HT);return y.jsx(mQ,{...t,layoutGroup:r,switchLayoutGroup:Ie.useContext(VL),isPresent:e,safeToRemove:n})}const gQ={borderRadius:{...Nm,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Nm,borderTopRightRadius:Nm,borderBottomLeftRadius:Nm,borderBottomRightRadius:Nm,boxShadow:pQ};function xQ(t,e,n){const r=Ea(t)?t:Cc(t);return r.start(EE("",r,e,n)),r.animation}const yQ=(t,e)=>t.depth-e.depth;class vQ{constructor(){this.children=[],this.isDirty=!1}add(e){$T(this.children,e),this.isDirty=!0}remove(e){WT(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(yQ),this.isDirty=!1,this.children.forEach(e)}}function _Q(t,e){const n=yo.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(Uc(r),t(s-e))};return Kr.setup(r,!0),()=>Uc(r)}const sF=["TopLeft","TopRight","BottomLeft","BottomRight"],wQ=sF.length,PI=t=>typeof t=="string"?parseFloat(t):t,DI=t=>typeof t=="number"||In.test(t);function bQ(t,e,n,r,i,s){i?(t.opacity=Ci(0,n.opacity??1,TQ(r)),t.opacityExit=Ci(e.opacity??1,0,EQ(r))):s&&(t.opacity=Ci(e.opacity??1,n.opacity??1,r));for(let a=0;a<wQ;a++){const o=`border${sF[a]}Radius`;let c=MI(e,o),f=MI(n,o);if(c===void 0&&f===void 0)continue;c||(c=0),f||(f=0),c===0||f===0||DI(c)===DI(f)?(t[o]=Math.max(Ci(PI(c),PI(f),r),0),(Lc.test(f)||Lc.test(c))&&(t[o]+="%")):t[o]=f}(e.rotate||n.rotate)&&(t.rotate=Ci(e.rotate||0,n.rotate||0,r))}function MI(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const TQ=aF(0,.5,qM),EQ=aF(.5,.95,vo);function aF(t,e,n){return r=>r<t?0:r>e?1:n(yp(t,e,r))}function LI(t,e){t.min=e.min,t.max=e.max}function Ul(t,e){LI(t.x,e.x),LI(t.y,e.y)}function FI(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function OI(t,e,n,r,i){return t-=e,t=sv(t,1/n,r),i!==void 0&&(t=sv(t,1/i,r)),t}function SQ(t,e=0,n=1,r=.5,i,s=t,a=t){if(Lc.test(e)&&(e=parseFloat(e),e=Ci(a.min,a.max,e/100)-a.min),typeof e!="number")return;let o=Ci(s.min,s.max,r);t===s&&(o-=e),t.min=OI(t.min,e,n,o,i),t.max=OI(t.max,e,n,o,i)}function VI(t,e,[n,r,i],s,a){SQ(t,e[n],e[r],e[i],e.scale,s,a)}const AQ=["x","scaleX","originX"],CQ=["y","scaleY","originY"];function UI(t,e,n,r){VI(t.x,e,AQ,n?n.x:void 0,r?r.x:void 0),VI(t.y,e,CQ,n?n.y:void 0,r?r.y:void 0)}function BI(t){return t.translate===0&&t.scale===1}function oF(t){return BI(t.x)&&BI(t.y)}function jI(t,e){return t.min===e.min&&t.max===e.max}function NQ(t,e){return jI(t.x,e.x)&&jI(t.y,e.y)}function qI(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function lF(t,e){return qI(t.x,e.x)&&qI(t.y,e.y)}function HI(t){return Ha(t.x)/Ha(t.y)}function zI(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class IQ{constructor(){this.members=[]}add(e){$T(this.members,e),e.scheduleRender()}remove(e){if(WT(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function kQ(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,a=n?.z||0;if((i||s||a)&&(r=`translate3d(${i}px, ${s}px, ${a}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:f,rotate:h,rotateX:p,rotateY:g,skewX:x,skewY:T}=n;f&&(r=`perspective(${f}px) ${r}`),h&&(r+=`rotate(${h}deg) `),p&&(r+=`rotateX(${p}deg) `),g&&(r+=`rotateY(${g}deg) `),x&&(r+=`skewX(${x}deg) `),T&&(r+=`skewY(${T}deg) `)}const o=t.x.scale*e.x,c=t.y.scale*e.y;return(o!==1||c!==1)&&(r+=`scale(${o}, ${c})`),r||"none"}const fw=["","X","Y","Z"],RQ=1e3;let PQ=0;function hw(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function cF(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=KL(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Kr,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&cF(r)}function uF({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(a={},o=e?.()){this.id=PQ++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(LQ),this.nodes.forEach(UQ),this.nodes.forEach(BQ),this.nodes.forEach(FQ)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new vQ)}addEventListener(a,o){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new YT),this.eventHandlers.get(a).add(o)}notifyListeners(a,...o){const c=this.eventHandlers.get(a);c&&c.notify(...o)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=pE(a)&&!bX(a),this.instance=a;const{layoutId:o,layout:c,visualElement:f}=this.options;if(f&&!f.current&&f.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||o)&&(this.isLayoutDirty=!0),t){let h,p=0;const g=()=>this.root.updateBlockedByResize=!1;Kr.read(()=>{p=window.innerWidth}),t(a,()=>{const x=window.innerWidth;x!==p&&(p=x,this.root.updateBlockedByResize=!0,h&&h(),h=_Q(g,250),yy.hasAnimatedSinceResize&&(yy.hasAnimatedSinceResize=!1,this.nodes.forEach(WI)))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&f&&(o||c)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:p,hasRelativeLayoutChanged:g,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const T=this.options.transition||f.getDefaultTransition()||GQ,{onLayoutAnimationStart:S,onLayoutAnimationComplete:N}=f.getProps(),k=!this.targetLayout||!lF(this.targetLayout,x),B=!p&&g;if(this.options.layoutRoot||this.resumeFrom||B||p&&(k||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const R={...cE(T,"layout"),onPlay:S,onComplete:N};(f.shouldReduceMotion||this.options.layoutRoot)&&(R.delay=0,R.type=!1),this.startAnimation(R),this.setAnimationOrigin(h,B)}else p||WI(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Uc(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(jQ),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&cF(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const p=this.path[h];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:o,layout:c}=this.options;if(o===void 0&&!c)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(GI);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach($I);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(VQ),this.nodes.forEach(DQ),this.nodes.forEach(MQ)):this.nodes.forEach($I),this.clearAllSnapshots();const o=yo.now();Vs.delta=Vc(0,1e3/60,o-Vs.timestamp),Vs.timestamp=o,Vs.isProcessing=!0,ew.update.process(Vs),ew.preRender.process(Vs),ew.render.process(Vs),Vs.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,hE.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(OQ),this.sharedNodes.forEach(qQ)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Kr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Kr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Ha(this.snapshot.measuredBox.x)&&!Ha(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=ws(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(o=!1),o&&this.instance){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!oF(this.projectionDelta),c=this.getTransformTemplate(),f=c?c(this.latestValues,""):void 0,h=f!==this.prevTransformTemplateValue;a&&this.instance&&(o||Ch(this.latestValues)||h)&&(i(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const o=this.measurePageBox();let c=this.removeElementScroll(o);return a&&(c=this.removeTransform(c)),$Q(c),{animationId:this.root.animationId,measuredBox:o,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:a}=this.options;if(!a)return ws();const o=a.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(WQ))){const{scroll:f}=this.root;f&&(P0(o.x,f.offset.x),P0(o.y,f.offset.y))}return o}removeElementScroll(a){const o=ws();if(Ul(o,a),this.scroll?.wasRoot)return o;for(let c=0;c<this.path.length;c++){const f=this.path[c],{scroll:h,options:p}=f;f!==this.root&&h&&p.layoutScroll&&(h.wasRoot&&Ul(o,a),P0(o.x,h.offset.x),P0(o.y,h.offset.y))}return o}applyTransform(a,o=!1){const c=ws();Ul(c,a);for(let f=0;f<this.path.length;f++){const h=this.path[f];!o&&h.options.layoutScroll&&h.scroll&&h!==h.root&&D0(c,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),Ch(h.latestValues)&&D0(c,h.latestValues)}return Ch(this.latestValues)&&D0(c,this.latestValues),c}removeTransform(a){const o=ws();Ul(o,a);for(let c=0;c<this.path.length;c++){const f=this.path[c];if(!f.instance||!Ch(f.latestValues))continue;Yb(f.latestValues)&&f.updateSnapshot();const h=ws(),p=f.measurePageBox();Ul(h,p),UI(o,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,h)}return Ch(this.latestValues)&&UI(o,this.latestValues),o}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Vs.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==o;if(!(a||c&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:p}=this.options;if(!this.layout||!(h||p))return;this.resolvedRelativeTargetAt=Vs.timestamp;const g=this.getClosestProjectingParent();g&&this.linkedParentVersion!==g.layoutVersion&&!g.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(g&&g.layout?this.createRelativeTarget(g,this.layout.layoutBox,g.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ws(),this.targetWithTransforms=ws()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),ZJ(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ul(this.target,this.layout.layoutBox),qL(this.target,this.targetDelta)):Ul(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?this.createRelativeTarget(g,this.target,g.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Yb(this.parent.latestValues)||jL(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(a,o,c){this.relativeParent=a,this.linkedParentVersion=a.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ws(),this.relativeTargetOrigin=ws(),av(this.relativeTargetOrigin,o,c),Ul(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const a=this.getLead(),o=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(c=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Vs.timestamp&&(c=!1),c)return;const{layout:f,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||h))return;Ul(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,g=this.treeScale.y;fJ(this.layoutCorrected,this.treeScale,this.path,o),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=ws());const{target:x}=a;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(FI(this.prevProjectionDelta.x,this.projectionDelta.x),FI(this.prevProjectionDelta.y,this.projectionDelta.y)),ig(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==g||!zI(this.projectionDelta.x,this.prevProjectionDelta.x)||!zI(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){if(this.options.visualElement?.scheduleRender(),a){const o=this.getStack();o&&o.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=M0(),this.projectionDelta=M0(),this.projectionDeltaWithTransform=M0()}setAnimationOrigin(a,o=!1){const c=this.snapshot,f=c?c.latestValues:{},h={...this.latestValues},p=M0();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const g=ws(),x=c?c.source:void 0,T=this.layout?this.layout.source:void 0,S=x!==T,N=this.getStack(),k=!N||N.members.length<=1,B=!!(S&&!k&&this.options.crossfade===!0&&!this.path.some(zQ));this.animationProgress=0;let R;this.mixTargetDelta=q=>{const Y=q/1e3;KI(p.x,a.x,Y),KI(p.y,a.y,Y),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(av(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),HQ(this.relativeTarget,this.relativeTargetOrigin,g,Y),R&&NQ(this.relativeTarget,R)&&(this.isProjectionDirty=!1),R||(R=ws()),Ul(R,this.relativeTarget)),S&&(this.animationValues=h,bQ(h,f,this.latestValues,Y,B,k)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=Y},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Uc(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Kr.update(()=>{yy.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Cc(0)),this.currentAnimation=xQ(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:o=>{this.mixTargetDelta(o),a.onUpdate&&a.onUpdate(o)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(RQ),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:o,target:c,layout:f,latestValues:h}=a;if(!(!o||!c||!f)){if(this!==a&&this.layout&&f&&fF(this.options.animationType,this.layout.layoutBox,f.layoutBox)){c=this.target||ws();const p=Ha(this.layout.layoutBox.x);c.x.min=a.target.x.min,c.x.max=c.x.min+p;const g=Ha(this.layout.layoutBox.y);c.y.min=a.target.y.min,c.y.max=c.y.min+g}Ul(o,c),D0(o,h),ig(this.projectionDeltaWithTransform,this.layoutCorrected,o,h)}}registerSharedNode(a,o){this.sharedNodes.has(a)||this.sharedNodes.set(a,new IQ),this.sharedNodes.get(a).add(o);const f=o.options.initialPromotionConfig;o.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(o):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){const{layoutId:a}=this.options;return a?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:a}=this.options;return a?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:o,preserveFollowOpacity:c}={}){const f=this.getStack();f&&f.promote(this,c),a&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let o=!1;const{latestValues:c}=a;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(o=!0),!o)return;const f={};c.z&&hw("z",a,f,this.animationValues);for(let h=0;h<fw.length;h++)hw(`rotate${fw[h]}`,a,f,this.animationValues),hw(`skew${fw[h]}`,a,f,this.animationValues);a.render();for(const h in f)a.setStaticValue(h,f[h]),this.animationValues&&(this.animationValues[h]=f[h]);a.scheduleRender()}applyProjectionStyles(a,o){if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=xy(o?.pointerEvents)||"",a.transform=c?c(this.latestValues,""):"none";return}const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){this.options.layoutId&&(a.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,a.pointerEvents=xy(o?.pointerEvents)||""),this.hasProjected&&!Ch(this.latestValues)&&(a.transform=c?c({},""):"none",this.hasProjected=!1);return}a.visibility="";const h=f.animationValues||f.latestValues;this.applyTransformsToTarget();let p=kQ(this.projectionDeltaWithTransform,this.treeScale,h);c&&(p=c(h,p)),a.transform=p;const{x:g,y:x}=this.projectionDelta;a.transformOrigin=`${g.origin*100}% ${x.origin*100}% 0`,f.animationValues?a.opacity=f===this?h.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:a.opacity=f===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const T in Fg){if(h[T]===void 0)continue;const{correct:S,applyTo:N,isCSSVariable:k}=Fg[T],B=p==="none"?h[T]:S(h[T],f);if(N){const R=N.length;for(let q=0;q<R;q++)a[N[q]]=B}else k?this.options.visualElement.renderState.vars[T]=B:a[T]=B}this.options.layoutId&&(a.pointerEvents=f===this?xy(o?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>a.currentAnimation?.stop()),this.root.nodes.forEach(GI),this.root.sharedNodes.clear()}}}function DQ(t){t.updateLayout()}function MQ(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=t.layout,{animationType:i}=t.options,s=e.source!==t.layout.source;i==="size"?ll(h=>{const p=s?e.measuredBox[h]:e.layoutBox[h],g=Ha(p);p.min=n[h].min,p.max=p.min+g}):fF(i,e.layoutBox,n)&&ll(h=>{const p=s?e.measuredBox[h]:e.layoutBox[h],g=Ha(n[h]);p.max=p.min+g,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+g)});const a=M0();ig(a,n,e.layoutBox);const o=M0();s?ig(o,t.applyTransform(r,!0),e.measuredBox):ig(o,n,e.layoutBox);const c=!oF(a);let f=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:p,layout:g}=h;if(p&&g){const x=ws();av(x,e.layoutBox,p.layoutBox);const T=ws();av(T,n,g.layoutBox),lF(x,T)||(f=!0),h.options.layoutRoot&&(t.relativeTarget=T,t.relativeTargetOrigin=x,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:o,layoutDelta:a,hasLayoutChanged:c,hasRelativeLayoutChanged:f})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function LQ(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function FQ(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function OQ(t){t.clearSnapshot()}function GI(t){t.clearMeasurements()}function $I(t){t.isLayoutDirty=!1}function VQ(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function WI(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function UQ(t){t.resolveTargetDelta()}function BQ(t){t.calcProjection()}function jQ(t){t.resetSkewAndRotation()}function qQ(t){t.removeLeadSnapshot()}function KI(t,e,n){t.translate=Ci(e.translate,0,n),t.scale=Ci(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function YI(t,e,n,r){t.min=Ci(e.min,n.min,r),t.max=Ci(e.max,n.max,r)}function HQ(t,e,n,r){YI(t.x,e.x,n.x,r),YI(t.y,e.y,n.y,r)}function zQ(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const GQ={duration:.45,ease:[.4,0,.1,1]},XI=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),JI=XI("applewebkit/")&&!XI("chrome/")?Math.round:vo;function QI(t){t.min=JI(t.min),t.max=JI(t.max)}function $Q(t){QI(t.x),QI(t.y)}function fF(t,e,n){return t==="position"||t==="preserve-aspect"&&!QJ(HI(e),HI(n),.2)}function WQ(t){return t!==t.root&&t.scroll?.wasRoot}const KQ=uF({attachResizeListener:(t,e)=>Og(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),dw={current:void 0},hF=uF({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!dw.current){const t=new KQ({});t.mount(window),t.setOptions({layoutScroll:!0}),dw.current=t}return dw.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),YQ={pan:{Feature:dQ},drag:{Feature:hQ,ProjectionNode:hF,MeasureLayout:iF}};function ZI(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&Kr.postRender(()=>s(e,g1(e)))}class XQ extends nh{mount(){const{current:e}=this.node;e&&(this.unmount=lX(e,(n,r)=>(ZI(this.node,r,"Start"),i=>ZI(this.node,i,"End"))))}unmount(){}}class JQ extends nh{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=d1(Og(this.node.current,"focus",()=>this.onFocus()),Og(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function e3(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&Kr.postRender(()=>s(e,g1(e)))}class QQ extends nh{mount(){const{current:e}=this.node;e&&(this.unmount=hX(e,(n,r)=>(e3(this.node,r,"Start"),(i,{success:s})=>e3(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const n5=new WeakMap,pw=new WeakMap,ZQ=t=>{const e=n5.get(t.target);e&&e(t)},eZ=t=>{t.forEach(ZQ)};function tZ({root:t,...e}){const n=t||document;pw.has(n)||pw.set(n,{});const r=pw.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(eZ,{root:t,...e})),r[i]}function nZ(t,e,n){const r=tZ(e);return n5.set(t,n),r.observe(t),()=>{n5.delete(t),r.unobserve(t)}}const rZ={some:0,all:1};class iZ extends nh{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:rZ[i]},o=c=>{const{isIntersecting:f}=c;if(this.isInView===f||(this.isInView=f,s&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:h,onViewportLeave:p}=this.node.getProps(),g=f?h:p;g&&g(c)};return nZ(this.node.current,a,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(sZ(e,n))&&this.startObserver()}unmount(){}}function sZ({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const aZ={inView:{Feature:iZ},tap:{Feature:QQ},focus:{Feature:JQ},hover:{Feature:XQ}},oZ={layout:{ProjectionNode:hF,MeasureLayout:iF}},lZ={...$J,...aZ,...YQ,...oZ},zn=lJ(lZ,wJ);function cZ(t,e,n){Ie.useInsertionEffect(()=>t.on(e,n),[t,e,n])}const uZ=50,t3=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),fZ=()=>({time:0,x:t3(),y:t3()}),hZ={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function n3(t,e,n,r){const i=n[e],{length:s,position:a}=hZ[e],o=i.current,c=n.time;i.current=t[`scroll${a}`],i.scrollLength=t[`scroll${s}`]-t[`client${s}`],i.offset.length=0,i.offset[0]=0,i.offset[1]=i.scrollLength,i.progress=yp(0,i.scrollLength,i.current);const f=r-c;i.velocity=f>uZ?0:XT(i.current-o,f)}function dZ(t,e,n){n3(t,"x",e,n),n3(t,"y",e,n),e.time=n}function pZ(t,e){const n={x:0,y:0};let r=t;for(;r&&r!==e;)if(fE(r))n.x+=r.offsetLeft,n.y+=r.offsetTop,r=r.offsetParent;else if(r.tagName==="svg"){const i=r.getBoundingClientRect();r=r.parentElement;const s=r.getBoundingClientRect();n.x+=i.left-s.left,n.y+=i.top-s.top}else if(r instanceof SVGGraphicsElement){const{x:i,y:s}=r.getBBox();n.x+=i,n.y+=s;let a=null,o=r.parentNode;for(;!a;)o.tagName==="svg"&&(a=o),o=r.parentNode;r=a}else break;return n}const r5={start:0,center:.5,end:1};function r3(t,e,n=0){let r=0;if(t in r5&&(t=r5[t]),typeof t=="string"){const i=parseFloat(t);t.endsWith("px")?r=i:t.endsWith("%")?t=i/100:t.endsWith("vw")?r=i/100*document.documentElement.clientWidth:t.endsWith("vh")?r=i/100*document.documentElement.clientHeight:t=i}return typeof t=="number"&&(r=e*t),n+r}const mZ=[0,0];function gZ(t,e,n,r){let i=Array.isArray(t)?t:mZ,s=0,a=0;return typeof t=="number"?i=[t,t]:typeof t=="string"&&(t=t.trim(),t.includes(" ")?i=t.split(" "):i=[t,r5[t]?t:"0"]),s=r3(i[0],n,r),a=r3(i[1],e),s-a}const xZ={All:[[0,0],[1,1]]},yZ={x:0,y:0};function vZ(t){return"getBBox"in t&&t.tagName!=="svg"?t.getBBox():{width:t.clientWidth,height:t.clientHeight}}function _Z(t,e,n){const{offset:r=xZ.All}=n,{target:i=t,axis:s="y"}=n,a=s==="y"?"height":"width",o=i!==t?pZ(i,t):yZ,c=i===t?{width:t.scrollWidth,height:t.scrollHeight}:vZ(i),f={width:t.clientWidth,height:t.clientHeight};e[s].offset.length=0;let h=!e[s].interpolate;const p=r.length;for(let g=0;g<p;g++){const x=gZ(r[g],f[a],c[a],o[s]);!h&&x!==e[s].interpolatorOffsets[g]&&(h=!0),e[s].offset[g]=x}h&&(e[s].interpolate=rL(e[s].offset,iL(r),{clamp:!1}),e[s].interpolatorOffsets=[...e[s].offset]),e[s].progress=Vc(0,1,e[s].interpolate(e[s].current))}function wZ(t,e=t,n){if(n.x.targetOffset=0,n.y.targetOffset=0,e!==t){let r=e;for(;r&&r!==t;)n.x.targetOffset+=r.offsetLeft,n.y.targetOffset+=r.offsetTop,r=r.offsetParent}n.x.targetLength=e===t?e.scrollWidth:e.clientWidth,n.y.targetLength=e===t?e.scrollHeight:e.clientHeight,n.x.containerLength=t.clientWidth,n.y.containerLength=t.clientHeight}function bZ(t,e,n,r={}){return{measure:i=>{wZ(t,r.target,n),dZ(t,n,i),(r.offset||r.target)&&_Z(t,n,r)},notify:()=>e(n)}}const Im=new WeakMap,i3=new WeakMap,mw=new WeakMap,s3=t=>t===document.scrollingElement?window:t;function dF(t,{container:e=document.scrollingElement,...n}={}){if(!e)return vo;let r=mw.get(e);r||(r=new Set,mw.set(e,r));const i=fZ(),s=bZ(e,t,i,n);if(r.add(s),!Im.has(e)){const o=()=>{for(const p of r)p.measure(Vs.timestamp);Kr.preUpdate(c)},c=()=>{for(const p of r)p.notify()},f=()=>Kr.read(o);Im.set(e,f);const h=s3(e);window.addEventListener("resize",f,{passive:!0}),e!==document.documentElement&&i3.set(e,wX(e,f)),h.addEventListener("scroll",f,{passive:!0}),f()}const a=Im.get(e);return Kr.read(a,!1,!0),()=>{Uc(a);const o=mw.get(e);if(!o||(o.delete(s),o.size))return;const c=Im.get(e);Im.delete(e),c&&(s3(e).removeEventListener("scroll",c),i3.get(e)?.(),window.removeEventListener("resize",c))}}const a3=new Map;function TZ(t){const e={value:0},n=dF(r=>{e.value=r[t.axis].progress*100},t);return{currentTime:e,cancel:n}}function pF({source:t,container:e,...n}){const{axis:r}=n;t&&(e=t);const i=a3.get(e)??new Map;a3.set(e,i);const s=n.target??"self",a=i.get(s)??{},o=r+(n.offset??[]).join(",");return a[o]||(a[o]=!n.target&&lL()?new ScrollTimeline({source:e,axis:r}):TZ({container:e,...n})),a[o]}function EZ(t,e){const n=pF(e);return t.attachTimeline({timeline:e.target?void 0:n,observe:r=>(r.pause(),SL(i=>{r.time=r.iterationDuration*i},n))})}function SZ(t){return t.length===2}function AZ(t,e){return SZ(t)?dF(n=>{t(n[e.axis].progress,n)},e):SL(t,pF(e))}function CZ(t,{axis:e="y",container:n=document.scrollingElement,...r}={}){if(!n)return vo;const i={axis:e,container:n,...r};return typeof t=="function"?AZ(t,i):EZ(t,i)}const NZ=()=>({scrollX:Cc(0),scrollY:Cc(0),scrollXProgress:Cc(0),scrollYProgress:Cc(0)}),Ix=t=>t?!t.current:!1;function IZ({container:t,target:e,...n}={}){const r=r2(NZ),i=Ie.useRef(null),s=Ie.useRef(!1),a=Ie.useCallback(()=>(i.current=CZ((o,{x:c,y:f})=>{r.scrollX.set(c.current),r.scrollXProgress.set(c.progress),r.scrollY.set(f.current),r.scrollYProgress.set(f.progress)},{...n,container:t?.current||void 0,target:e?.current||void 0}),()=>{i.current?.()}),[t,e,JSON.stringify(n.offset)]);return GT(()=>{if(s.current=!1,Ix(t)||Ix(e)){s.current=!0;return}else return a()},[a]),Ie.useEffect(()=>{if(s.current)return Pg(!Ix(t)),Pg(!Ix(e)),a()},[a]),r}const kZ=({currentView:t,onChangeView:e})=>{const[n,r]=Ie.useState(!1),{signOut:i}=h1(),s=o=>{e(o),r(!1)},a=[{id:un.CUSTOMERS,label:"Customers",icon:ky,color:"text-orange-500",bgColor:"bg-orange-50"},{id:un.EXPENSES,label:"Expenses",icon:U5,color:"text-red-500",bgColor:"bg-red-50"},{id:un.PAYMENTS,label:"Receipts",icon:qf,color:"text-green-500",bgColor:"bg-green-50"},{id:un.IMPORT,label:"Import Data",icon:Av,color:"text-purple-500",bgColor:"bg-purple-50"},{id:un.SETTINGS,label:"Settings",icon:fP,color:"text-gray-500",bgColor:"bg-gray-50"}];return y.jsxs(y.Fragment,{children:[y.jsx(Kf,{children:n&&y.jsxs(y.Fragment,{children:[y.jsx(zn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>r(!1),className:"fixed inset-0 bg-black/40 z-40 backdrop-blur-sm"}),y.jsxs(zn.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",damping:25,stiffness:300},className:"fixed bottom-0 left-0 right-0 bg-white dark:bg-slate-900 rounded-t-3xl shadow-xl z-50 overflow-hidden pb-safe",children:[y.jsx("div",{className:"flex justify-center pt-4 pb-2",children:y.jsx("div",{className:"w-10 h-1 bg-gray-300 rounded-full"})}),y.jsxs("div",{className:"p-6 pt-2",children:[y.jsxs("div",{className:"flex justify-between items-center mb-6",children:[y.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-slate-100",children:"More"}),y.jsx("button",{onClick:()=>r(!1),className:"p-2 bg-gray-100 rounded-full dark:bg-slate-800",children:y.jsx(Uh,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})})]}),y.jsx("div",{className:"grid grid-cols-4 gap-4 mb-6",children:a.map(o=>y.jsxs("button",{onClick:()=>s(o.id),className:"flex flex-col items-center gap-2 group",children:[y.jsx("div",{className:"w-14 h-14 rounded-2xl bg-slate-50 dark:bg-slate-800 flex items-center justify-center group-hover:bg-slate-100 transition-colors border border-slate-100 dark:border-slate-700",children:y.jsx(o.icon,{className:`w-6 h-6 ${o.color}`})}),y.jsx("span",{className:"text-xs font-medium text-slate-600 dark:text-slate-400 text-center leading-tight",children:o.label})]},o.id))}),y.jsx("div",{className:"border-t border-slate-100 dark:border-slate-800 pt-4",children:y.jsxs("button",{onClick:()=>i(),className:"w-full flex items-center justify-center gap-2 p-4 text-red-600 font-bold bg-red-50 dark:bg-red-900/10 rounded-2xl hover:bg-red-100 transition-colors",children:[y.jsx(Xw,{className:"w-5 h-5"}),"Sign Out"]})})]})]})]})}),y.jsx("div",{className:"fixed bottom-24 right-4 z-40",children:y.jsx(zn.button,{whileTap:{scale:.9},onClick:()=>s(un.CREATE_INVOICE),className:"w-14 h-14 rounded-2xl bg-sky-200 text-sky-900 shadow-lg flex items-center justify-center hover:shadow-xl transition-all border border-sky-300",children:y.jsx(hd,{className:"w-7 h-7",strokeWidth:2.5})})}),y.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-slate-50 dark:bg-slate-900 border-t border-slate-200 dark:border-slate-800 pb-safe z-30 h-[80px]",children:y.jsxs("div",{className:"flex justify-around items-center h-full px-2",children:[y.jsx(kx,{active:t===un.DASHBOARD,onClick:()=>s(un.DASHBOARD),icon:oP,label:"Home"}),y.jsx(kx,{active:t===un.INVOICES,onClick:()=>s(un.INVOICES),icon:tp,label:"Invoices"}),y.jsx(kx,{active:t===un.PAYMENTS,onClick:()=>s(un.PAYMENTS),icon:qf,label:"Receipts"}),y.jsx(kx,{active:n,onClick:()=>r(!n),icon:cP,label:"Menu"})]})})]})},kx=({active:t,onClick:e,icon:n,label:r})=>y.jsxs("button",{onClick:e,className:"flex flex-col items-center justify-center w-20 h-full group",children:[y.jsx("div",{className:`
        flex items-center justify-center w-16 h-8 rounded-full mb-1 transition-all duration-300
        ${t?"bg-sky-200 dark:bg-sky-800":"bg-transparent"}
    `,children:y.jsx(n,{className:`w-6 h-6 ${t?"text-sky-900 dark:text-sky-100":"text-slate-500 dark:text-slate-400 group-hover:text-slate-700"}`,strokeWidth:t?2.5:2})}),y.jsx("span",{className:`text-[12px] font-medium transition-colors ${t?"text-sky-900 dark:text-sky-100":"text-slate-500 dark:text-slate-400"}`,children:r})]}),er={init:t=>(console.log("Firebase already initialized via lib/firebase"),!0),isReady:()=>!0,testConnection:async()=>{try{const t=C0(xu,"system","connection_test");return await Mb(t,{status:"connected",timestamp:new Date().toISOString()}),{success:!0,message:"Connection Successful! Read/Write access confirmed."}}catch(t){return console.error("Test Connection Failed:",t),t.code==="permission-denied"?{success:!1,message:"Permission Denied. Please set Firestore Rules to 'allow read, write: if true;' in Firebase Console."}:{success:!1,message:t.message||"Unknown error during connection test."}}},fetchCollection:async t=>{try{return(await KW(DW(xu,t))).docs.map(n=>n.data())}catch(e){return console.error(`Error fetching ${t}:`,e),[]}},saveDocument:async(t,e,n)=>{try{await Mb(C0(xu,t,e),n)}catch(r){console.error(`Error saving to ${t}:`,r)}},deleteDocument:async(t,e)=>{try{await YW(C0(xu,t,e))}catch(n){console.error(`Error deleting from ${t}:`,n)}},batchSave:async(t,e)=>{try{const n=ZW(xu);e.forEach(r=>{const i=C0(xu,t,r.id);n.set(i,r)}),await n.commit(),console.log(`Batch saved ${e.length} items to ${t}`)}catch(n){console.error("Batch save error",n)}}},mo={PRODUCTS:"app_products",CUSTOMERS:"app_customers",INVOICES:"app_invoices",PAYMENTS:"app_payments",EXPENSES:"app_expenses",COMPANY:"app_company",FIREBASE_CONFIG:"app_firebase_config"},o3={apiKey:"AIzaSyBDto4M27_AmBJ-eGNZyQI-Jtmhfnv1X5g",authDomain:"studio-5843390050-90c53.firebaseapp.com",projectId:"studio-5843390050-90c53",storageBucket:"studio-5843390050-90c53.firebasestorage.app",messagingSenderId:"796126072517",appId:"1:796126072517:web:be2ff390a075fad7bcaaac"},RZ=[{id:"1",name:"Product A",price:500,stock:100,category:"Electronics"},{id:"2",name:"Product B",price:800,stock:45,category:"Electronics"}],PZ=[{id:"c1",name:"John Doe",company:"XYZ Enterprises",email:"john@xyz.com",phone:"9123456789",address:"456, Business Park, Mumbai",balance:0,notifications:[]}];let ot={products:[],customers:[],invoices:[],payments:[],expenses:[],company:S0,isLoaded:!1,currentUserId:null};const nt={init:async(t=null)=>{if(ot.currentUserId!==t&&(ot={products:[],customers:[],invoices:[],payments:[],expenses:[],company:S0,isLoaded:!1,currentUserId:t}),ot.isLoaded)return;const e=o3;if(localStorage.setItem(mo.FIREBASE_CONFIG,JSON.stringify(e)),er.init(e),t){const n=`users/${t}`,[r,i,s,a,o,c]=await Promise.all([er.fetchCollection(`${n}/products`),er.fetchCollection(`${n}/customers`),er.fetchCollection(`${n}/invoices`),er.fetchCollection(`${n}/payments`),er.fetchCollection(`${n}/expenses`),er.fetchCollection(`${n}/company`)]);ot.products=r,ot.customers=i,ot.invoices=s,ot.payments=a,ot.expenses=o,ot.company=c.length>0?c[0]:S0,ot.isLoaded=!0;return}if(t)ot.products=[],ot.customers=[],ot.invoices=[],ot.payments=[],ot.expenses=[],ot.company=S0,ot.isLoaded=!0;else{const n=localStorage.getItem(mo.PRODUCTS);ot.products=n?JSON.parse(n):RZ;const r=localStorage.getItem(mo.CUSTOMERS);ot.customers=r?JSON.parse(r):PZ;const i=localStorage.getItem(mo.INVOICES);ot.invoices=i?JSON.parse(i):[];const s=localStorage.getItem(mo.PAYMENTS);ot.payments=s?JSON.parse(s):[];const a=localStorage.getItem(mo.EXPENSES);ot.expenses=a?JSON.parse(a):[];const o=localStorage.getItem(mo.COMPANY);ot.company=o?JSON.parse(o):S0,ot.isLoaded=!0}},getCollectionPath:t=>ot.currentUserId?`users/${ot.currentUserId}/${t}`:t,persistToLocalStorage:()=>{ot.currentUserId||(localStorage.setItem(mo.PRODUCTS,JSON.stringify(ot.products)),localStorage.setItem(mo.CUSTOMERS,JSON.stringify(ot.customers)),localStorage.setItem(mo.INVOICES,JSON.stringify(ot.invoices)),localStorage.setItem(mo.PAYMENTS,JSON.stringify(ot.payments)),localStorage.setItem(mo.EXPENSES,JSON.stringify(ot.expenses)),localStorage.setItem(mo.COMPANY,JSON.stringify(ot.company)))},getProducts:()=>ot.products,getCustomers:()=>ot.customers,getInvoices:()=>ot.invoices,getPayments:()=>ot.payments,getExpenses:()=>ot.expenses,getCompanyProfile:()=>ot.company,getFirebaseConfig:()=>o3,saveFirebaseConfig:t=>{localStorage.setItem(mo.FIREBASE_CONFIG,JSON.stringify(t))},saveProduct:t=>{const e=ot.products.findIndex(n=>n.id===t.id);e>=0?ot.products[e]=t:ot.products.push(t),nt.persistToLocalStorage(),er.saveDocument(nt.getCollectionPath("products"),t.id,t)},deleteProduct:t=>{ot.products=ot.products.filter(e=>e.id!==t),nt.persistToLocalStorage(),er.deleteDocument(nt.getCollectionPath("products"),t)},saveCustomer:t=>{const e=ot.customers.findIndex(n=>n.id===t.id);e>=0?ot.customers[e]=t:ot.customers.push(t),nt.persistToLocalStorage(),er.saveDocument(nt.getCollectionPath("customers"),t.id,t)},addNotification:(t,e)=>{const n=ot.customers.findIndex(r=>r.id===t);if(n>=0){const r={id:crypto.randomUUID(),read:!1,...e};ot.customers[n].notifications||(ot.customers[n].notifications=[]),ot.customers[n].notifications.unshift(r),nt.persistToLocalStorage(),er.saveDocument(nt.getCollectionPath("customers"),t,ot.customers[n])}},saveInvoice:t=>{t.items.forEach(n=>{const r=ot.products.findIndex(i=>i.id===n.productId);if(r>=0&&ot.products[r].category!=="Services"){const i=ot.products[r];i.stock-=n.quantity,er.saveDocument(nt.getCollectionPath("products"),i.id,i)}});const e=ot.customers.findIndex(n=>n.id===t.customerId);if(e>=0&&t.status==="PENDING"){const n=ot.customers[e];n.balance+=t.total,er.saveDocument(nt.getCollectionPath("customers"),n.id,n)}ot.invoices.unshift(t),nt.persistToLocalStorage(),er.saveDocument(nt.getCollectionPath("invoices"),t.id,t),nt.addNotification(t.customerId,{type:"INVOICE",title:"New Invoice Generated",message:`Invoice #${t.invoiceNumber} for ${t.total} has been created.`,date:new Date().toISOString().split("T")[0]})},savePayment:t=>{ot.payments.unshift(t);const e=ot.customers.findIndex(n=>n.id===t.customerId);if(e>=0){const n=ot.customers[e];n.balance-=t.amount,er.saveDocument(nt.getCollectionPath("customers"),n.id,n)}nt.persistToLocalStorage(),er.saveDocument(nt.getCollectionPath("payments"),t.id,t),nt.addNotification(t.customerId,{type:"PAYMENT",title:"Payment Received",message:`Payment of ${t.amount} received via ${t.mode}.`,date:t.date})},updatePayment:t=>{const e=ot.payments.findIndex(i=>i.id===t.id);if(e===-1)return;const n=ot.payments[e],r=ot.customers.find(i=>i.id===t.customerId);r&&(r.balance+=n.amount,r.balance-=t.amount,er.saveDocument(nt.getCollectionPath("customers"),r.id,r)),ot.payments[e]=t,nt.persistToLocalStorage(),er.saveDocument(nt.getCollectionPath("payments"),t.id,t)},deletePayment:t=>{const e=ot.payments.findIndex(i=>i.id===t);if(e===-1)return;const n=ot.payments[e],r=ot.customers.find(i=>i.id===n.customerId);r&&(r.balance+=n.amount,er.saveDocument(nt.getCollectionPath("customers"),r.id,r)),ot.payments.splice(e,1),nt.persistToLocalStorage(),er.deleteDocument(nt.getCollectionPath("payments"),t)},deleteInvoice:t=>{const e=ot.invoices.findIndex(i=>i.id===t);if(e===-1)return;const n=ot.invoices[e];n.items.forEach(i=>{const s=ot.products.findIndex(a=>a.id===i.productId);s>=0&&ot.products[s].category!=="Services"&&(ot.products[s].stock+=i.quantity,er.saveDocument(nt.getCollectionPath("products"),ot.products[s].id,ot.products[s]))});const r=ot.customers.findIndex(i=>i.id===n.customerId);r>=0&&n.status==="PENDING"&&(ot.customers[r].balance-=n.total,er.saveDocument(nt.getCollectionPath("customers"),ot.customers[r].id,ot.customers[r])),ot.invoices.splice(e,1),nt.persistToLocalStorage(),er.deleteDocument(nt.getCollectionPath("invoices"),t)},updateInvoice:t=>{const e=ot.invoices.findIndex(a=>a.id===t.id);if(e===-1)return;const n=ot.invoices[e],r=new Set;n.items.forEach(a=>{const o=ot.products.findIndex(c=>c.id===a.productId);o>=0&&ot.products[o].category!=="Services"&&(ot.products[o].stock+=a.quantity,r.add(ot.products[o].id))});const i=ot.customers.findIndex(a=>a.id===n.customerId);i>=0&&n.status==="PENDING"&&(ot.customers[i].balance-=n.total),t.items.forEach(a=>{const o=ot.products.findIndex(c=>c.id===a.productId);o>=0&&ot.products[o].category!=="Services"&&(ot.products[o].stock-=a.quantity,r.add(ot.products[o].id))});const s=ot.customers.findIndex(a=>a.id===t.customerId);s>=0&&t.status==="PENDING"&&(ot.customers[s].balance+=t.total);{r.forEach(o=>{const c=ot.products.find(f=>f.id===o);c&&er.saveDocument(nt.getCollectionPath("products"),c.id,c)});const a=ot.customers[i];if(a&&er.saveDocument(nt.getCollectionPath("customers"),a.id,a),i!==s){const o=ot.customers[s];o&&er.saveDocument(nt.getCollectionPath("customers"),o.id,o)}}ot.invoices[e]=t,nt.persistToLocalStorage(),er.saveDocument(nt.getCollectionPath("invoices"),t.id,t),n.total!==t.total&&nt.addNotification(t.customerId,{type:"INVOICE",title:"Invoice Updated",message:`Invoice #${t.invoiceNumber} has been updated to ${t.total}.`,date:new Date().toISOString().split("T")[0]})},saveCompanyProfile:t=>{ot.company=t,nt.persistToLocalStorage(),er.saveDocument(nt.getCollectionPath("company"),"profile",t)},getLastSalePrice:(t,e)=>{const n=ot.invoices.filter(r=>r.customerId===t);for(const r of n){const i=r.items.find(s=>s.productId===e);if(i)return i.rate}return null},getCustomerBehaviorScore:t=>{const e=ot.invoices.filter(s=>s.customerId===t);if(e.length===0)return 100;const n=e.reduce((s,a)=>s+a.total,0),r=ot.payments.filter(s=>s.customerId===t).reduce((s,a)=>s+a.amount,0)+e.filter(s=>s.status==="PAID").reduce((s,a)=>s+a.total,0);if(n===0)return 100;const i=r/n*100;return Math.min(Math.round(i),100)},predictNextItem:t=>{if(!t)return null;const e=ot.invoices.filter(i=>i.customerId===t);if(e.length===0){const i={};ot.invoices.forEach(a=>{a.items.forEach(o=>{i[o.productId]=(i[o.productId]||0)+1})});const s=Object.keys(i).sort((a,o)=>i[o]-i[a])[0];return s&&ot.products.find(a=>a.id===s)||null}const n={};e.forEach(i=>{i.items.forEach(s=>{n[s.productId]=(n[s.productId]||0)+1})});const r=Object.keys(n).sort((i,s)=>n[s]-n[i])[0];return r&&ot.products.find(i=>i.id===r)||null},updateCustomer:t=>{const e=ot.customers.findIndex(n=>n.id===t.id);e>=0&&(ot.customers[e]=t,nt.persistToLocalStorage(),er.saveDocument(nt.getCollectionPath("customers"),t.id,t))},deleteCustomer:t=>{const e=ot.customers.findIndex(n=>n.id===t);e>=0&&(ot.customers.splice(e,1),nt.persistToLocalStorage(),er.deleteDocument(nt.getCollectionPath("customers"),t))},saveExpense:t=>{const e=ot.expenses.findIndex(n=>n.id===t.id);e>=0?ot.expenses[e]=t:ot.expenses.unshift(t),nt.persistToLocalStorage(),er.saveDocument(nt.getCollectionPath("expenses"),t.id,t)},deleteExpense:t=>{const e=ot.expenses.findIndex(n=>n.id===t);e>=0&&(ot.expenses.splice(e,1),nt.persistToLocalStorage(),er.deleteDocument(nt.getCollectionPath("expenses"),t))},generateInvoiceNumber:(t,e)=>{const n=ot.customers.find(x=>x.id===t);if(!n)return`inv-${Date.now()}`;const r=n.name.replace(/[^a-zA-Z]/g,"").substring(0,3).toLowerCase(),i=new Date(e),a=["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"][i.getMonth()],o=3;let c=i.getFullYear();i.getMonth()<o&&(c-=1);const f=new Date(c,o,1),h=new Date(c+1,o,0),g=(ot.invoices.filter(x=>{if(x.customerId!==t)return!1;const T=new Date(x.date);return T>=f&&T<=h}).length+1).toString().padStart(3,"0");return`${r}${a}${g}`},exportAllData:()=>{const t={products:JSON.stringify(ot.products),customers:JSON.stringify(ot.customers),invoices:JSON.stringify(ot.invoices),payments:JSON.stringify(ot.payments),expenses:JSON.stringify(ot.expenses),company:JSON.stringify(ot.company),timestamp:new Date().toISOString()};return JSON.stringify(t)},importData:t=>{try{const e=JSON.parse(t);return e.products&&(ot.products=JSON.parse(e.products)),e.customers&&(ot.customers=JSON.parse(e.customers)),e.invoices&&(ot.invoices=JSON.parse(e.invoices)),e.payments&&(ot.payments=JSON.parse(e.payments)),e.company&&(ot.company=JSON.parse(e.company)),nt.persistToLocalStorage(),er.isReady()&&nt.init(ot.currentUserId),!0}catch(e){return console.error("Failed to import data",e),!1}}};let DZ,MZ;function LZ(){return{geminiUrl:DZ,vertexUrl:MZ}}function FZ(t,e,n,r){var i,s;if(!t?.baseUrl){const a=LZ();return e?(i=a.vertexUrl)!==null&&i!==void 0?i:n:(s=a.geminiUrl)!==null&&s!==void 0?s:r}return t.baseUrl}class Ou{}function Ut(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const s=e[i];return s!=null?String(s):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function b(t,e,n){for(let s=0;s<e.length-1;s++){const a=e[s];if(a.endsWith("[]")){const o=a.slice(0,-2);if(!(o in t))if(Array.isArray(n))t[o]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${a}`);if(Array.isArray(t[o])){const c=t[o];if(Array.isArray(n))for(let f=0;f<c.length;f++){const h=c[f];b(h,e.slice(s+1),n[f])}else for(const f of c)b(f,e.slice(s+1),n)}return}else if(a.endsWith("[0]")){const o=a.slice(0,-3);o in t||(t[o]=[{}]);const c=t[o];b(c[0],e.slice(s+1),n);return}(!t[a]||typeof t[a]!="object")&&(t[a]={}),t=t[a]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function v(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const i=e[r];if(i.endsWith("[]")){const s=i.slice(0,-2);if(s in t){const a=t[s];return Array.isArray(a)?a.map(o=>v(o,e.slice(r+1),n)):n}else return n}else t=t[i]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function OZ(t,e){for(const[n,r]of Object.entries(e)){const i=n.split("."),s=r.split("."),a=new Set;let o=-1;for(let c=0;c<i.length;c++)if(i[c]==="*"){o=c;break}if(o!==-1&&s.length>o)for(let c=o;c<s.length;c++){const f=s[c];f!=="*"&&!f.endsWith("[]")&&!f.endsWith("[0]")&&a.add(f)}i5(t,i,s,0,a)}}function i5(t,e,n,r,i){if(r>=e.length||typeof t!="object"||t===null)return;const s=e[r];if(s.endsWith("[]")){const a=s.slice(0,-2),o=t;if(a in o&&Array.isArray(o[a]))for(const c of o[a])i5(c,e,n,r+1,i)}else if(s==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const a=t,o=Object.keys(a).filter(f=>!f.startsWith("_")&&!i.has(f)),c={};for(const f of o)c[f]=a[f];for(const[f,h]of Object.entries(c)){const p=[];for(const g of n.slice(r))g==="*"?p.push(f):p.push(g);b(a,p,h)}for(const f of o)delete a[f]}}else{const a=t;s in a&&i5(a[s],e,n,r+1,i)}}function SE(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}function VZ(t){const e={},n=v(t,["operationName"]);n!=null&&b(e,["operationName"],n);const r=v(t,["resourceName"]);return r!=null&&b(e,["_url","resourceName"],r),e}function UZ(t){const e={},n=v(t,["name"]);n!=null&&b(e,["name"],n);const r=v(t,["metadata"]);r!=null&&b(e,["metadata"],r);const i=v(t,["done"]);i!=null&&b(e,["done"],i);const s=v(t,["error"]);s!=null&&b(e,["error"],s);const a=v(t,["response","generateVideoResponse"]);return a!=null&&b(e,["response"],jZ(a)),e}function BZ(t){const e={},n=v(t,["name"]);n!=null&&b(e,["name"],n);const r=v(t,["metadata"]);r!=null&&b(e,["metadata"],r);const i=v(t,["done"]);i!=null&&b(e,["done"],i);const s=v(t,["error"]);s!=null&&b(e,["error"],s);const a=v(t,["response"]);return a!=null&&b(e,["response"],qZ(a)),e}function jZ(t){const e={},n=v(t,["generatedSamples"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>HZ(a))),b(e,["generatedVideos"],s)}const r=v(t,["raiMediaFilteredCount"]);r!=null&&b(e,["raiMediaFilteredCount"],r);const i=v(t,["raiMediaFilteredReasons"]);return i!=null&&b(e,["raiMediaFilteredReasons"],i),e}function qZ(t){const e={},n=v(t,["videos"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>zZ(a))),b(e,["generatedVideos"],s)}const r=v(t,["raiMediaFilteredCount"]);r!=null&&b(e,["raiMediaFilteredCount"],r);const i=v(t,["raiMediaFilteredReasons"]);return i!=null&&b(e,["raiMediaFilteredReasons"],i),e}function HZ(t){const e={},n=v(t,["video"]);return n!=null&&b(e,["video"],XZ(n)),e}function zZ(t){const e={},n=v(t,["_self"]);return n!=null&&b(e,["video"],JZ(n)),e}function GZ(t){const e={},n=v(t,["operationName"]);return n!=null&&b(e,["_url","operationName"],n),e}function $Z(t){const e={},n=v(t,["operationName"]);return n!=null&&b(e,["_url","operationName"],n),e}function WZ(t){const e={},n=v(t,["name"]);n!=null&&b(e,["name"],n);const r=v(t,["metadata"]);r!=null&&b(e,["metadata"],r);const i=v(t,["done"]);i!=null&&b(e,["done"],i);const s=v(t,["error"]);s!=null&&b(e,["error"],s);const a=v(t,["response"]);return a!=null&&b(e,["response"],KZ(a)),e}function KZ(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=v(t,["parent"]);r!=null&&b(e,["parent"],r);const i=v(t,["documentName"]);return i!=null&&b(e,["documentName"],i),e}function mF(t){const e={},n=v(t,["name"]);n!=null&&b(e,["name"],n);const r=v(t,["metadata"]);r!=null&&b(e,["metadata"],r);const i=v(t,["done"]);i!=null&&b(e,["done"],i);const s=v(t,["error"]);s!=null&&b(e,["error"],s);const a=v(t,["response"]);return a!=null&&b(e,["response"],YZ(a)),e}function YZ(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=v(t,["parent"]);r!=null&&b(e,["parent"],r);const i=v(t,["documentName"]);return i!=null&&b(e,["documentName"],i),e}function XZ(t){const e={},n=v(t,["uri"]);n!=null&&b(e,["uri"],n);const r=v(t,["encodedVideo"]);r!=null&&b(e,["videoBytes"],SE(r));const i=v(t,["encoding"]);return i!=null&&b(e,["mimeType"],i),e}function JZ(t){const e={},n=v(t,["gcsUri"]);n!=null&&b(e,["uri"],n);const r=v(t,["bytesBase64Encoded"]);r!=null&&b(e,["videoBytes"],SE(r));const i=v(t,["mimeType"]);return i!=null&&b(e,["mimeType"],i),e}var l3;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(l3||(l3={}));var c3;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(c3||(c3={}));var u3;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(u3||(u3={}));var Rf;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Rf||(Rf={}));var f3;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(f3||(f3={}));var h3;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(h3||(h3={}));var d3;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(d3||(d3={}));var p3;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(p3||(p3={}));var m3;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(m3||(m3={}));var g3;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.HIGH="HIGH"})(g3||(g3={}));var x3;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(x3||(x3={}));var y3;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(y3||(y3={}));var v3;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(v3||(v3={}));var _3;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE"})(_3||(_3={}));var w3;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(w3||(w3={}));var b3;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(b3||(b3={}));var T3;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(T3||(T3={}));var E3;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(E3||(E3={}));var S3;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(S3||(S3={}));var Vg;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Vg||(Vg={}));var A3;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(A3||(A3={}));var C3;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(C3||(C3={}));var N3;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(N3||(N3={}));var s5;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(s5||(s5={}));var I3;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(I3||(I3={}));var k3;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(k3||(k3={}));var R3;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(R3||(R3={}));var P3;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(P3||(P3={}));var D3;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(D3||(D3={}));var M3;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(M3||(M3={}));var L3;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(L3||(L3={}));var F3;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(F3||(F3={}));var O3;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(O3||(O3={}));var V3;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(V3||(V3={}));var U3;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(U3||(U3={}));var B3;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(B3||(B3={}));var j3;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(j3||(j3={}));var q3;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(q3||(q3={}));var H3;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(H3||(H3={}));var z3;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(z3||(z3={}));var G3;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(G3||(G3={}));var $3;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})($3||($3={}));var W3;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(W3||(W3={}));var K3;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(K3||(K3={}));var Y3;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(Y3||(Y3={}));var X3;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(X3||(X3={}));var J3;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(J3||(J3={}));var Q3;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(Q3||(Q3={}));var Z3;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Z3||(Z3={}));var ek;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(ek||(ek={}));var tk;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(tk||(tk={}));var nk;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(nk||(nk={}));var rk;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(rk||(rk={}));var ik;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(ik||(ik={}));var L0;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(L0||(L0={}));class a5{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class km{get text(){var e,n,r,i,s,a,o,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let f="",h=!1;const p=[];for(const g of(c=(o=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)!==null&&c!==void 0?c:[]){for(const[x,T]of Object.entries(g))x!=="text"&&x!=="thought"&&x!=="thoughtSignature"&&(T!==null||T!==void 0)&&p.push(x);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;h=!0,f+=g.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),h?f:void 0}get data(){var e,n,r,i,s,a,o,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let f="";const h=[];for(const p of(c=(o=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)!==null&&c!==void 0?c:[]){for(const[g,x]of Object.entries(p))g!=="inlineData"&&(x!==null||x!==void 0)&&h.push(g);p.inlineData&&typeof p.inlineData.data=="string"&&(f+=atob(p.inlineData.data))}return h.length>0&&console.warn(`there are non-data parts ${h} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),f.length>0?btoa(f):void 0}get functionCalls(){var e,n,r,i,s,a,o,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const f=(c=(o=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)===null||c===void 0?void 0:c.filter(h=>h.functionCall).map(h=>h.functionCall).filter(h=>h!==void 0);if(f?.length!==0)return f}get executableCode(){var e,n,r,i,s,a,o,c,f;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const h=(c=(o=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)===null||c===void 0?void 0:c.filter(p=>p.executableCode).map(p=>p.executableCode).filter(p=>p!==void 0);if(h?.length!==0)return(f=h?.[0])===null||f===void 0?void 0:f.code}get codeExecutionResult(){var e,n,r,i,s,a,o,c,f;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const h=(c=(o=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||o===void 0?void 0:o.parts)===null||c===void 0?void 0:c.filter(p=>p.codeExecutionResult).map(p=>p.codeExecutionResult).filter(p=>p!==void 0);if(h?.length!==0)return(f=h?.[0])===null||f===void 0?void 0:f.output}}class sk{}class ak{}class QZ{}class ZZ{}class eee{}class tee{}class ok{}class lk{}class ck{}class nee{}class ov{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new ov;let i;const s=e;return n?i=BZ(s):i=UZ(s),Object.assign(r,i),r}}class uk{}class fk{}class hk{}class ree{}class iee{}class see{}class AE{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new AE,s=WZ(e);return Object.assign(r,s),r}}class aee{}class oee{}class lee{}class dk{}class cee{get text(){var e,n,r;let i="",s=!1;const a=[];for(const o of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[c,f]of Object.entries(o))c!=="text"&&c!=="thought"&&f!==null&&a.push(c);if(typeof o.text=="string"){if(typeof o.thought=="boolean"&&o.thought)continue;s=!0,i+=o.text}}return a.length>0&&console.warn(`there are non-text parts ${a} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),s?i:void 0}get data(){var e,n,r;let i="";const s=[];for(const a of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[o,c]of Object.entries(a))o!=="inlineData"&&c!==null&&s.push(o);a.inlineData&&typeof a.inlineData.data=="string"&&(i+=atob(a.inlineData.data))}return s.length>0&&console.warn(`there are non-data parts ${s} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class uee{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class CE{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new CE,s=mF(e);return Object.assign(r,s),r}}function Sr(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function gF(t,e){const n=Sr(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function xF(t){return Array.isArray(t)?t.map(e=>lv(e)):[lv(t)]}function lv(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function yF(t){const e=lv(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function vF(t){const e=lv(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function pk(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function _F(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>pk(e)):[pk(t)]}function o5(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function mk(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function gk(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Sa(t){if(t==null)throw new Error("ContentUnion is required");return o5(t)?t:{role:"user",parts:_F(t)}}function NE(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=Sa(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=Sa(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Sa(n)):[Sa(e)]}function ml(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(mk(t)||gk(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Sa(t)]}const e=[],n=[],r=o5(t[0]);for(const i of t){const s=o5(i);if(s!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(s)e.push(i);else{if(mk(i)||gk(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:_F(n)}),e}function fee(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(Rf).includes(n[0].toUpperCase())?n[0].toUpperCase():Rf.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(Rf).includes(r.toUpperCase())?r.toUpperCase():Rf.TYPE_UNSPECIFIED})}}function G0(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const s=t.anyOf;s!=null&&s.length==2&&(s[0].type==="null"?(e.nullable=!0,t=s[1]):s[1].type==="null"&&(e.nullable=!0,t=s[0])),t.type instanceof Array&&fee(t.type,e);for(const[a,o]of Object.entries(t))if(o!=null)if(a=="type"){if(o==="null")throw new Error("type: null can not be the only possible type for the field.");if(o instanceof Array)continue;e.type=Object.values(Rf).includes(o.toUpperCase())?o.toUpperCase():Rf.TYPE_UNSPECIFIED}else if(n.includes(a))e[a]=G0(o);else if(r.includes(a)){const c=[];for(const f of o){if(f.type=="null"){e.nullable=!0;continue}c.push(G0(f))}e[a]=c}else if(i.includes(a)){const c={};for(const[f,h]of Object.entries(o))c[f]=G0(h);e[a]=c}else{if(a==="additionalProperties")continue;e[a]=o}return e}function IE(t){return G0(t)}function kE(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function RE(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Pp(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=G0(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=G0(e.response));return t}function Dp(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function hee(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function Vu(t,e){if(typeof e!="string")throw new Error("name must be a string");return hee(t,e,"cachedContents")}function wF(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function rh(t){return SE(t)}function dee(t){return t!=null&&typeof t=="object"&&"name"in t}function pee(t){return t!=null&&typeof t=="object"&&"video"in t}function mee(t){return t!=null&&typeof t=="object"&&"uri"in t}function bF(t){var e;let n;if(dee(t)&&(n=t.name),!(mee(t)&&(n=t.uri,n===void 0))&&!(pee(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function TF(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function EF(t){for(const e of["models","tunedModels","publisherModels"])if(gee(t,e))return t[e];return[]}function gee(t,e){return t!==null&&typeof t=="object"&&e in t}function xee(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function yee(t,e={}){const n=[],r=new Set;for(const i of t){const s=i.name;if(r.has(s))throw new Error(`Duplicate function name ${s} found in MCP tools. Please ensure function names are unique.`);r.add(s);const a=xee(i,e);a.functionDeclarations&&n.push(...a.functionDeclarations)}return{functionDeclarations:n}}function SF(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function vee(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function AF(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let s=!1;for(const a of i){if(typeof a!="object"||a===null)continue;const c=a.response;if(typeof c!="object"||c===null)continue;if(c.embedding!==void 0){s=!0;break}}return s&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function Mp(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function CF(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}function _ee(t){const e={},n=v(t,["responsesFile"]);n!=null&&b(e,["fileName"],n);const r=v(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>ete(a))),b(e,["inlinedResponses"],s)}const i=v(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>a)),b(e,["inlinedEmbedContentResponses"],s)}return e}function wee(t){const e={},n=v(t,["predictionsFormat"]);n!=null&&b(e,["format"],n);const r=v(t,["gcsDestination","outputUriPrefix"]);r!=null&&b(e,["gcsUri"],r);const i=v(t,["bigqueryDestination","outputUri"]);return i!=null&&b(e,["bigqueryUri"],i),e}function bee(t){const e={},n=v(t,["format"]);n!=null&&b(e,["predictionsFormat"],n);const r=v(t,["gcsUri"]);r!=null&&b(e,["gcsDestination","outputUriPrefix"],r);const i=v(t,["bigqueryUri"]);if(i!=null&&b(e,["bigqueryDestination","outputUri"],i),v(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(v(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(v(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function vy(t){const e={},n=v(t,["name"]);n!=null&&b(e,["name"],n);const r=v(t,["metadata","displayName"]);r!=null&&b(e,["displayName"],r);const i=v(t,["metadata","state"]);i!=null&&b(e,["state"],CF(i));const s=v(t,["metadata","createTime"]);s!=null&&b(e,["createTime"],s);const a=v(t,["metadata","endTime"]);a!=null&&b(e,["endTime"],a);const o=v(t,["metadata","updateTime"]);o!=null&&b(e,["updateTime"],o);const c=v(t,["metadata","model"]);c!=null&&b(e,["model"],c);const f=v(t,["metadata","output"]);return f!=null&&b(e,["dest"],_ee(AF(f))),e}function l5(t){const e={},n=v(t,["name"]);n!=null&&b(e,["name"],n);const r=v(t,["displayName"]);r!=null&&b(e,["displayName"],r);const i=v(t,["state"]);i!=null&&b(e,["state"],CF(i));const s=v(t,["error"]);s!=null&&b(e,["error"],s);const a=v(t,["createTime"]);a!=null&&b(e,["createTime"],a);const o=v(t,["startTime"]);o!=null&&b(e,["startTime"],o);const c=v(t,["endTime"]);c!=null&&b(e,["endTime"],c);const f=v(t,["updateTime"]);f!=null&&b(e,["updateTime"],f);const h=v(t,["model"]);h!=null&&b(e,["model"],h);const p=v(t,["inputConfig"]);p!=null&&b(e,["src"],Tee(p));const g=v(t,["outputConfig"]);g!=null&&b(e,["dest"],wee(AF(g)));const x=v(t,["completionStats"]);return x!=null&&b(e,["completionStats"],x),e}function Tee(t){const e={},n=v(t,["instancesFormat"]);n!=null&&b(e,["format"],n);const r=v(t,["gcsSource","uris"]);r!=null&&b(e,["gcsUri"],r);const i=v(t,["bigquerySource","inputUri"]);return i!=null&&b(e,["bigqueryUri"],i),e}function Eee(t,e){const n={};if(v(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(v(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(v(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=v(e,["fileName"]);r!=null&&b(n,["fileName"],r);const i=v(e,["inlinedRequests"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>Zee(t,a))),b(n,["requests","requests"],s)}return n}function See(t){const e={},n=v(t,["format"]);n!=null&&b(e,["instancesFormat"],n);const r=v(t,["gcsUri"]);r!=null&&b(e,["gcsSource","uris"],r);const i=v(t,["bigqueryUri"]);if(i!=null&&b(e,["bigquerySource","inputUri"],i),v(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(v(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function Aee(t){const e={},n=v(t,["data"]);if(n!=null&&b(e,["data"],n),v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=v(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function Cee(t,e){const n={},r=v(e,["name"]);return r!=null&&b(n,["_url","name"],Mp(t,r)),n}function Nee(t,e){const n={},r=v(e,["name"]);return r!=null&&b(n,["_url","name"],Mp(t,r)),n}function Iee(t){const e={},n=v(t,["content"]);n!=null&&b(e,["content"],n);const r=v(t,["citationMetadata"]);r!=null&&b(e,["citationMetadata"],kee(r));const i=v(t,["tokenCount"]);i!=null&&b(e,["tokenCount"],i);const s=v(t,["finishReason"]);s!=null&&b(e,["finishReason"],s);const a=v(t,["avgLogprobs"]);a!=null&&b(e,["avgLogprobs"],a);const o=v(t,["groundingMetadata"]);o!=null&&b(e,["groundingMetadata"],o);const c=v(t,["index"]);c!=null&&b(e,["index"],c);const f=v(t,["logprobsResult"]);f!=null&&b(e,["logprobsResult"],f);const h=v(t,["safetyRatings"]);if(h!=null){let g=h;Array.isArray(g)&&(g=g.map(x=>x)),b(e,["safetyRatings"],g)}const p=v(t,["urlContextMetadata"]);return p!=null&&b(e,["urlContextMetadata"],p),e}function kee(t){const e={},n=v(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),b(e,["citations"],r)}return e}function NF(t){const e={},n=v(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>ote(s))),b(e,["parts"],i)}const r=v(t,["role"]);return r!=null&&b(e,["role"],r),e}function Ree(t,e){const n={},r=v(t,["displayName"]);if(e!==void 0&&r!=null&&b(e,["batch","displayName"],r),v(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function Pee(t,e){const n={},r=v(t,["displayName"]);e!==void 0&&r!=null&&b(e,["displayName"],r);const i=v(t,["dest"]);return e!==void 0&&i!=null&&b(e,["outputConfig"],bee(vee(i))),n}function xk(t,e){const n={},r=v(e,["model"]);r!=null&&b(n,["_url","model"],Sr(t,r));const i=v(e,["src"]);i!=null&&b(n,["batch","inputConfig"],Eee(t,SF(t,i)));const s=v(e,["config"]);return s!=null&&Ree(s,n),n}function Dee(t,e){const n={},r=v(e,["model"]);r!=null&&b(n,["model"],Sr(t,r));const i=v(e,["src"]);i!=null&&b(n,["inputConfig"],See(SF(t,i)));const s=v(e,["config"]);return s!=null&&Pee(s,n),n}function Mee(t,e){const n={},r=v(t,["displayName"]);return e!==void 0&&r!=null&&b(e,["batch","displayName"],r),n}function Lee(t,e){const n={},r=v(e,["model"]);r!=null&&b(n,["_url","model"],Sr(t,r));const i=v(e,["src"]);i!=null&&b(n,["batch","inputConfig"],qee(t,i));const s=v(e,["config"]);return s!=null&&Mee(s,n),n}function Fee(t,e){const n={},r=v(e,["name"]);return r!=null&&b(n,["_url","name"],Mp(t,r)),n}function Oee(t,e){const n={},r=v(e,["name"]);return r!=null&&b(n,["_url","name"],Mp(t,r)),n}function Vee(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=v(t,["name"]);r!=null&&b(e,["name"],r);const i=v(t,["done"]);i!=null&&b(e,["done"],i);const s=v(t,["error"]);return s!=null&&b(e,["error"],s),e}function Uee(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=v(t,["name"]);r!=null&&b(e,["name"],r);const i=v(t,["done"]);i!=null&&b(e,["done"],i);const s=v(t,["error"]);return s!=null&&b(e,["error"],s),e}function Bee(t,e){const n={},r=v(e,["contents"]);if(r!=null){let s=NE(t,r);Array.isArray(s)&&(s=s.map(a=>a)),b(n,["requests[]","request","content"],s)}const i=v(e,["config"]);return i!=null&&(b(n,["_self"],jee(i,n)),OZ(n,{"requests[].*":"requests[].request.*"})),n}function jee(t,e){const n={},r=v(t,["taskType"]);e!==void 0&&r!=null&&b(e,["requests[]","taskType"],r);const i=v(t,["title"]);e!==void 0&&i!=null&&b(e,["requests[]","title"],i);const s=v(t,["outputDimensionality"]);if(e!==void 0&&s!=null&&b(e,["requests[]","outputDimensionality"],s),v(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(v(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function qee(t,e){const n={},r=v(e,["fileName"]);r!=null&&b(n,["file_name"],r);const i=v(e,["inlinedRequests"]);return i!=null&&b(n,["requests"],Bee(t,i)),n}function Hee(t){const e={};if(v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(t,["fileUri"]);n!=null&&b(e,["fileUri"],n);const r=v(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function zee(t){const e={},n=v(t,["id"]);n!=null&&b(e,["id"],n);const r=v(t,["args"]);r!=null&&b(e,["args"],r);const i=v(t,["name"]);if(i!=null&&b(e,["name"],i),v(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(v(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Gee(t){const e={},n=v(t,["mode"]);n!=null&&b(e,["mode"],n);const r=v(t,["allowedFunctionNames"]);if(r!=null&&b(e,["allowedFunctionNames"],r),v(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function $ee(t,e,n){const r={},i=v(e,["systemInstruction"]);n!==void 0&&i!=null&&b(n,["systemInstruction"],NF(Sa(i)));const s=v(e,["temperature"]);s!=null&&b(r,["temperature"],s);const a=v(e,["topP"]);a!=null&&b(r,["topP"],a);const o=v(e,["topK"]);o!=null&&b(r,["topK"],o);const c=v(e,["candidateCount"]);c!=null&&b(r,["candidateCount"],c);const f=v(e,["maxOutputTokens"]);f!=null&&b(r,["maxOutputTokens"],f);const h=v(e,["stopSequences"]);h!=null&&b(r,["stopSequences"],h);const p=v(e,["responseLogprobs"]);p!=null&&b(r,["responseLogprobs"],p);const g=v(e,["logprobs"]);g!=null&&b(r,["logprobs"],g);const x=v(e,["presencePenalty"]);x!=null&&b(r,["presencePenalty"],x);const T=v(e,["frequencyPenalty"]);T!=null&&b(r,["frequencyPenalty"],T);const S=v(e,["seed"]);S!=null&&b(r,["seed"],S);const N=v(e,["responseMimeType"]);N!=null&&b(r,["responseMimeType"],N);const k=v(e,["responseSchema"]);k!=null&&b(r,["responseSchema"],IE(k));const B=v(e,["responseJsonSchema"]);if(B!=null&&b(r,["responseJsonSchema"],B),v(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(v(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const R=v(e,["safetySettings"]);if(n!==void 0&&R!=null){let L=R;Array.isArray(L)&&(L=L.map(V=>lte(V))),b(n,["safetySettings"],L)}const q=v(e,["tools"]);if(n!==void 0&&q!=null){let L=Dp(q);Array.isArray(L)&&(L=L.map(V=>ute(Pp(V)))),b(n,["tools"],L)}const Y=v(e,["toolConfig"]);if(n!==void 0&&Y!=null&&b(n,["toolConfig"],cte(Y)),v(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const J=v(e,["cachedContent"]);n!==void 0&&J!=null&&b(n,["cachedContent"],Vu(t,J));const F=v(e,["responseModalities"]);F!=null&&b(r,["responseModalities"],F);const O=v(e,["mediaResolution"]);O!=null&&b(r,["mediaResolution"],O);const C=v(e,["speechConfig"]);if(C!=null&&b(r,["speechConfig"],kE(C)),v(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const H=v(e,["thinkingConfig"]);H!=null&&b(r,["thinkingConfig"],H);const P=v(e,["imageConfig"]);return P!=null&&b(r,["imageConfig"],Qee(P)),r}function Wee(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=v(t,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(f=>Iee(f))),b(e,["candidates"],c)}const i=v(t,["modelVersion"]);i!=null&&b(e,["modelVersion"],i);const s=v(t,["promptFeedback"]);s!=null&&b(e,["promptFeedback"],s);const a=v(t,["responseId"]);a!=null&&b(e,["responseId"],a);const o=v(t,["usageMetadata"]);return o!=null&&b(e,["usageMetadata"],o),e}function Kee(t,e){const n={},r=v(e,["name"]);return r!=null&&b(n,["_url","name"],Mp(t,r)),n}function Yee(t,e){const n={},r=v(e,["name"]);return r!=null&&b(n,["_url","name"],Mp(t,r)),n}function Xee(t){const e={};if(v(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=v(t,["enableWidget"]);return n!=null&&b(e,["enableWidget"],n),e}function Jee(t){const e={};if(v(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(v(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=v(t,["timeRangeFilter"]);return n!=null&&b(e,["timeRangeFilter"],n),e}function Qee(t){const e={},n=v(t,["aspectRatio"]);n!=null&&b(e,["aspectRatio"],n);const r=v(t,["imageSize"]);if(r!=null&&b(e,["imageSize"],r),v(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(v(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function Zee(t,e){const n={},r=v(e,["model"]);r!=null&&b(n,["request","model"],Sr(t,r));const i=v(e,["contents"]);if(i!=null){let o=ml(i);Array.isArray(o)&&(o=o.map(c=>NF(c))),b(n,["request","contents"],o)}const s=v(e,["metadata"]);s!=null&&b(n,["metadata"],s);const a=v(e,["config"]);return a!=null&&b(n,["request","generationConfig"],$ee(t,a,v(n,["request"],{}))),n}function ete(t){const e={},n=v(t,["response"]);n!=null&&b(e,["response"],Wee(n));const r=v(t,["error"]);return r!=null&&b(e,["error"],r),e}function tte(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&b(e,["_query","pageSize"],r);const i=v(t,["pageToken"]);if(e!==void 0&&i!=null&&b(e,["_query","pageToken"],i),v(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function nte(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&b(e,["_query","pageSize"],r);const i=v(t,["pageToken"]);e!==void 0&&i!=null&&b(e,["_query","pageToken"],i);const s=v(t,["filter"]);return e!==void 0&&s!=null&&b(e,["_query","filter"],s),n}function rte(t){const e={},n=v(t,["config"]);return n!=null&&tte(n,e),e}function ite(t){const e={},n=v(t,["config"]);return n!=null&&nte(n,e),e}function ste(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&b(e,["nextPageToken"],r);const i=v(t,["operations"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>vy(a))),b(e,["batchJobs"],s)}return e}function ate(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&b(e,["nextPageToken"],r);const i=v(t,["batchPredictionJobs"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>l5(a))),b(e,["batchJobs"],s)}return e}function ote(t){const e={},n=v(t,["mediaResolution"]);n!=null&&b(e,["mediaResolution"],n);const r=v(t,["codeExecutionResult"]);r!=null&&b(e,["codeExecutionResult"],r);const i=v(t,["executableCode"]);i!=null&&b(e,["executableCode"],i);const s=v(t,["fileData"]);s!=null&&b(e,["fileData"],Hee(s));const a=v(t,["functionCall"]);a!=null&&b(e,["functionCall"],zee(a));const o=v(t,["functionResponse"]);o!=null&&b(e,["functionResponse"],o);const c=v(t,["inlineData"]);c!=null&&b(e,["inlineData"],Aee(c));const f=v(t,["text"]);f!=null&&b(e,["text"],f);const h=v(t,["thought"]);h!=null&&b(e,["thought"],h);const p=v(t,["thoughtSignature"]);p!=null&&b(e,["thoughtSignature"],p);const g=v(t,["videoMetadata"]);return g!=null&&b(e,["videoMetadata"],g),e}function lte(t){const e={},n=v(t,["category"]);if(n!=null&&b(e,["category"],n),v(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=v(t,["threshold"]);return r!=null&&b(e,["threshold"],r),e}function cte(t){const e={},n=v(t,["functionCallingConfig"]);n!=null&&b(e,["functionCallingConfig"],Gee(n));const r=v(t,["retrievalConfig"]);return r!=null&&b(e,["retrievalConfig"],r),e}function ute(t){const e={},n=v(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>p)),b(e,["functionDeclarations"],h)}if(v(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=v(t,["googleSearchRetrieval"]);r!=null&&b(e,["googleSearchRetrieval"],r);const i=v(t,["computerUse"]);i!=null&&b(e,["computerUse"],i);const s=v(t,["fileSearch"]);s!=null&&b(e,["fileSearch"],s);const a=v(t,["codeExecution"]);if(a!=null&&b(e,["codeExecution"],a),v(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=v(t,["googleMaps"]);o!=null&&b(e,["googleMaps"],Xee(o));const c=v(t,["googleSearch"]);c!=null&&b(e,["googleSearch"],Jee(c));const f=v(t,["urlContext"]);return f!=null&&b(e,["urlContext"],f),e}var Pu;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(Pu||(Pu={}));class yd{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,s;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n?.sdkHttpResponse,this.idxInternal=0;let a={config:{}};!r||Object.keys(r).length===0?a={config:{}}:typeof r=="object"?a=Object.assign({},r):a=r,a.config&&(a.config.pageToken=n.nextPageToken),this.paramsInternal=a,this.pageInternalSize=(s=(i=a.config)===null||i===void 0?void 0:i.pageSize)!==null&&s!==void 0?s:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}class fte extends Ou{constructor(e){super(),this.apiClient=e,this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)},this.list=async(n={})=>new yd(Pu.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n)}createInlinedGenerateContentRequest(e){const n=xk(this.apiClient,e),r=n._url,i=Ut("{model}:batchGenerateContent",r),o=n.batch.inputConfig.requests,c=o.requests,f=[];for(const h of c){const p=Object.assign({},h);if(p.systemInstruction){const g=p.systemInstruction;delete p.systemInstruction;const x=p.request;x.systemInstruction=g,p.request=x}f.push(p)}return o.requests=f,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const s=this.getGcsUri(e),a=this.getBigqueryUri(e);if(s)s.endsWith(".jsonl")?r.dest=`${s.slice(0,-6)}/dest`:r.dest=`${s}_dest_${i}`;else if(a)r.dest=`${a}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,s;let a,o="",c={};if(this.apiClient.isVertexAI()){const f=Dee(this.apiClient,e);return o=Ut("batchPredictionJobs",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a.then(h=>l5(h))}else{const f=xk(this.apiClient,e);return o=Ut("{model}:batchGenerateContent",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),a.then(h=>vy(h))}}async createEmbeddingsInternal(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Lee(this.apiClient,e);return s=Ut("{model}:asyncBatchEmbedContent",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>vy(c))}}async get(e){var n,r,i,s;let a,o="",c={};if(this.apiClient.isVertexAI()){const f=Yee(this.apiClient,e);return o=Ut("batchPredictionJobs/{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a.then(h=>l5(h))}else{const f=Kee(this.apiClient,e);return o=Ut("batches/{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),a.then(h=>vy(h))}}async cancel(e){var n,r,i,s;let a="",o={};if(this.apiClient.isVertexAI()){const c=Nee(this.apiClient,e);a=Ut("batchPredictionJobs/{name}:cancel",c._url),o=c._query,delete c._url,delete c._query,await this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const c=Cee(this.apiClient,e);a=Ut("batches/{name}:cancel",c._url),o=c._query,delete c._url,delete c._query,await this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(e){var n,r,i,s;let a,o="",c={};if(this.apiClient.isVertexAI()){const f=ite(e);return o=Ut("batchPredictionJobs",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=ate(h),g=new dk;return Object.assign(g,p),g})}else{const f=rte(e);return o=Ut("batches",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=ste(h),g=new dk;return Object.assign(g,p),g})}}async delete(e){var n,r,i,s;let a,o="",c={};if(this.apiClient.isVertexAI()){const f=Oee(this.apiClient,e);return o=Ut("batchPredictionJobs/{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>Uee(h))}else{const f=Fee(this.apiClient,e);return o=Ut("batches/{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>Vee(h))}}}function hte(t){const e={},n=v(t,["data"]);if(n!=null&&b(e,["data"],n),v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=v(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function yk(t){const e={},n=v(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>Lte(s))),b(e,["parts"],i)}const r=v(t,["role"]);return r!=null&&b(e,["role"],r),e}function dte(t,e){const n={},r=v(t,["ttl"]);e!==void 0&&r!=null&&b(e,["ttl"],r);const i=v(t,["expireTime"]);e!==void 0&&i!=null&&b(e,["expireTime"],i);const s=v(t,["displayName"]);e!==void 0&&s!=null&&b(e,["displayName"],s);const a=v(t,["contents"]);if(e!==void 0&&a!=null){let h=ml(a);Array.isArray(h)&&(h=h.map(p=>yk(p))),b(e,["contents"],h)}const o=v(t,["systemInstruction"]);e!==void 0&&o!=null&&b(e,["systemInstruction"],yk(Sa(o)));const c=v(t,["tools"]);if(e!==void 0&&c!=null){let h=c;Array.isArray(h)&&(h=h.map(p=>Ote(p))),b(e,["tools"],h)}const f=v(t,["toolConfig"]);if(e!==void 0&&f!=null&&b(e,["toolConfig"],Fte(f)),v(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function pte(t,e){const n={},r=v(t,["ttl"]);e!==void 0&&r!=null&&b(e,["ttl"],r);const i=v(t,["expireTime"]);e!==void 0&&i!=null&&b(e,["expireTime"],i);const s=v(t,["displayName"]);e!==void 0&&s!=null&&b(e,["displayName"],s);const a=v(t,["contents"]);if(e!==void 0&&a!=null){let p=ml(a);Array.isArray(p)&&(p=p.map(g=>g)),b(e,["contents"],p)}const o=v(t,["systemInstruction"]);e!==void 0&&o!=null&&b(e,["systemInstruction"],Sa(o));const c=v(t,["tools"]);if(e!==void 0&&c!=null){let p=c;Array.isArray(p)&&(p=p.map(g=>Vte(g))),b(e,["tools"],p)}const f=v(t,["toolConfig"]);e!==void 0&&f!=null&&b(e,["toolConfig"],f);const h=v(t,["kmsKeyName"]);return e!==void 0&&h!=null&&b(e,["encryption_spec","kmsKeyName"],h),n}function mte(t,e){const n={},r=v(e,["model"]);r!=null&&b(n,["model"],gF(t,r));const i=v(e,["config"]);return i!=null&&dte(i,n),n}function gte(t,e){const n={},r=v(e,["model"]);r!=null&&b(n,["model"],gF(t,r));const i=v(e,["config"]);return i!=null&&pte(i,n),n}function xte(t,e){const n={},r=v(e,["name"]);return r!=null&&b(n,["_url","name"],Vu(t,r)),n}function yte(t,e){const n={},r=v(e,["name"]);return r!=null&&b(n,["_url","name"],Vu(t,r)),n}function vte(t){const e={},n=v(t,["sdkHttpResponse"]);return n!=null&&b(e,["sdkHttpResponse"],n),e}function _te(t){const e={},n=v(t,["sdkHttpResponse"]);return n!=null&&b(e,["sdkHttpResponse"],n),e}function wte(t){const e={};if(v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(t,["fileUri"]);n!=null&&b(e,["fileUri"],n);const r=v(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function bte(t){const e={},n=v(t,["id"]);n!=null&&b(e,["id"],n);const r=v(t,["args"]);r!=null&&b(e,["args"],r);const i=v(t,["name"]);if(i!=null&&b(e,["name"],i),v(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(v(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Tte(t){const e={},n=v(t,["mode"]);n!=null&&b(e,["mode"],n);const r=v(t,["allowedFunctionNames"]);if(r!=null&&b(e,["allowedFunctionNames"],r),v(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Ete(t){const e={};if(v(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=v(t,["description"]);n!=null&&b(e,["description"],n);const r=v(t,["name"]);r!=null&&b(e,["name"],r);const i=v(t,["parameters"]);i!=null&&b(e,["parameters"],i);const s=v(t,["parametersJsonSchema"]);s!=null&&b(e,["parametersJsonSchema"],s);const a=v(t,["response"]);a!=null&&b(e,["response"],a);const o=v(t,["responseJsonSchema"]);return o!=null&&b(e,["responseJsonSchema"],o),e}function Ste(t,e){const n={},r=v(e,["name"]);return r!=null&&b(n,["_url","name"],Vu(t,r)),n}function Ate(t,e){const n={},r=v(e,["name"]);return r!=null&&b(n,["_url","name"],Vu(t,r)),n}function Cte(t){const e={};if(v(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=v(t,["enableWidget"]);return n!=null&&b(e,["enableWidget"],n),e}function Nte(t){const e={};if(v(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(v(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=v(t,["timeRangeFilter"]);return n!=null&&b(e,["timeRangeFilter"],n),e}function Ite(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&b(e,["_query","pageSize"],r);const i=v(t,["pageToken"]);return e!==void 0&&i!=null&&b(e,["_query","pageToken"],i),n}function kte(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&b(e,["_query","pageSize"],r);const i=v(t,["pageToken"]);return e!==void 0&&i!=null&&b(e,["_query","pageToken"],i),n}function Rte(t){const e={},n=v(t,["config"]);return n!=null&&Ite(n,e),e}function Pte(t){const e={},n=v(t,["config"]);return n!=null&&kte(n,e),e}function Dte(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&b(e,["nextPageToken"],r);const i=v(t,["cachedContents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>a)),b(e,["cachedContents"],s)}return e}function Mte(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&b(e,["nextPageToken"],r);const i=v(t,["cachedContents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>a)),b(e,["cachedContents"],s)}return e}function Lte(t){const e={},n=v(t,["mediaResolution"]);n!=null&&b(e,["mediaResolution"],n);const r=v(t,["codeExecutionResult"]);r!=null&&b(e,["codeExecutionResult"],r);const i=v(t,["executableCode"]);i!=null&&b(e,["executableCode"],i);const s=v(t,["fileData"]);s!=null&&b(e,["fileData"],wte(s));const a=v(t,["functionCall"]);a!=null&&b(e,["functionCall"],bte(a));const o=v(t,["functionResponse"]);o!=null&&b(e,["functionResponse"],o);const c=v(t,["inlineData"]);c!=null&&b(e,["inlineData"],hte(c));const f=v(t,["text"]);f!=null&&b(e,["text"],f);const h=v(t,["thought"]);h!=null&&b(e,["thought"],h);const p=v(t,["thoughtSignature"]);p!=null&&b(e,["thoughtSignature"],p);const g=v(t,["videoMetadata"]);return g!=null&&b(e,["videoMetadata"],g),e}function Fte(t){const e={},n=v(t,["functionCallingConfig"]);n!=null&&b(e,["functionCallingConfig"],Tte(n));const r=v(t,["retrievalConfig"]);return r!=null&&b(e,["retrievalConfig"],r),e}function Ote(t){const e={},n=v(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>p)),b(e,["functionDeclarations"],h)}if(v(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=v(t,["googleSearchRetrieval"]);r!=null&&b(e,["googleSearchRetrieval"],r);const i=v(t,["computerUse"]);i!=null&&b(e,["computerUse"],i);const s=v(t,["fileSearch"]);s!=null&&b(e,["fileSearch"],s);const a=v(t,["codeExecution"]);if(a!=null&&b(e,["codeExecution"],a),v(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=v(t,["googleMaps"]);o!=null&&b(e,["googleMaps"],Cte(o));const c=v(t,["googleSearch"]);c!=null&&b(e,["googleSearch"],Nte(c));const f=v(t,["urlContext"]);return f!=null&&b(e,["urlContext"],f),e}function Vte(t){const e={},n=v(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(g=>Ete(g))),b(e,["functionDeclarations"],p)}const r=v(t,["retrieval"]);r!=null&&b(e,["retrieval"],r);const i=v(t,["googleSearchRetrieval"]);i!=null&&b(e,["googleSearchRetrieval"],i);const s=v(t,["computerUse"]);if(s!=null&&b(e,["computerUse"],s),v(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=v(t,["codeExecution"]);a!=null&&b(e,["codeExecution"],a);const o=v(t,["enterpriseWebSearch"]);o!=null&&b(e,["enterpriseWebSearch"],o);const c=v(t,["googleMaps"]);c!=null&&b(e,["googleMaps"],c);const f=v(t,["googleSearch"]);f!=null&&b(e,["googleSearch"],f);const h=v(t,["urlContext"]);return h!=null&&b(e,["urlContext"],h),e}function Ute(t,e){const n={},r=v(t,["ttl"]);e!==void 0&&r!=null&&b(e,["ttl"],r);const i=v(t,["expireTime"]);return e!==void 0&&i!=null&&b(e,["expireTime"],i),n}function Bte(t,e){const n={},r=v(t,["ttl"]);e!==void 0&&r!=null&&b(e,["ttl"],r);const i=v(t,["expireTime"]);return e!==void 0&&i!=null&&b(e,["expireTime"],i),n}function jte(t,e){const n={},r=v(e,["name"]);r!=null&&b(n,["_url","name"],Vu(t,r));const i=v(e,["config"]);return i!=null&&Ute(i,n),n}function qte(t,e){const n={},r=v(e,["name"]);r!=null&&b(n,["_url","name"],Vu(t,r));const i=v(e,["config"]);return i!=null&&Bte(i,n),n}class Hte extends Ou{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new yd(Pu.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,s;let a,o="",c={};if(this.apiClient.isVertexAI()){const f=gte(this.apiClient,e);return o=Ut("cachedContents",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a.then(h=>h)}else{const f=mte(this.apiClient,e);return o=Ut("cachedContents",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),a.then(h=>h)}}async get(e){var n,r,i,s;let a,o="",c={};if(this.apiClient.isVertexAI()){const f=Ate(this.apiClient,e);return o=Ut("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a.then(h=>h)}else{const f=Ste(this.apiClient,e);return o=Ut("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),a.then(h=>h)}}async delete(e){var n,r,i,s;let a,o="",c={};if(this.apiClient.isVertexAI()){const f=yte(this.apiClient,e);return o=Ut("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=_te(h),g=new fk;return Object.assign(g,p),g})}else{const f=xte(this.apiClient,e);return o=Ut("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=vte(h),g=new fk;return Object.assign(g,p),g})}}async update(e){var n,r,i,s;let a,o="",c={};if(this.apiClient.isVertexAI()){const f=qte(this.apiClient,e);return o=Ut("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a.then(h=>h)}else{const f=jte(this.apiClient,e);return o=Ut("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),a.then(h=>h)}}async listInternal(e){var n,r,i,s;let a,o="",c={};if(this.apiClient.isVertexAI()){const f=Pte(e);return o=Ut("cachedContents",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=Mte(h),g=new hk;return Object.assign(g,p),g})}else{const f=Rte(e);return o=Ut("cachedContents",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=Dte(h),g=new hk;return Object.assign(g,p),g})}}}function vk(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function li(t){return this instanceof li?(this.v=t,this):new li(t)}function $0(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(x){return function(T){return Promise.resolve(T).then(x,p)}}function o(x,T){r[x]&&(i[x]=function(S){return new Promise(function(N,k){s.push([x,S,N,k])>1||c(x,S)})},T&&(i[x]=T(i[x])))}function c(x,T){try{f(r[x](T))}catch(S){g(s[0][3],S)}}function f(x){x.value instanceof li?Promise.resolve(x.value.v).then(h,p):g(s[0][2],x)}function h(x){c("next",x)}function p(x){c("throw",x)}function g(x,T){x(T),s.shift(),s.length&&c(s[0][0],s[0][1])}}function sg(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof vk=="function"?vk(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(a){return new Promise(function(o,c){a=t[s](a),i(o,c,a.done,a.value)})}}function i(s,a,o,c){Promise.resolve(c).then(function(f){s({value:f,done:o})},a)}}function zte(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:IF(n)}function IF(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function Gte(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function _k(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let s=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),s&&!IF(t[r])&&(s=!1),r++;s?e.push(...i):e.pop()}return e}class $te{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new Wte(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class Wte{constructor(e,n,r,i={},s=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=s,this.sendPromise=Promise.resolve(),Gte(s)}async sendMessage(e){var n;await this.sendPromise;const r=Sa(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var s,a,o;const c=await i,f=(a=(s=c.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content,h=c.automaticFunctionCallingHistory,p=this.getHistory(!0).length;let g=[];h!=null&&(g=(o=h.slice(p))!==null&&o!==void 0?o:[]);const x=f?[f]:[];this.recordHistory(r,x,g)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=Sa(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const s=await i;return this.processStreamResponse(s,r)}getHistory(e=!1){const n=e?_k(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var r,i;return $0(this,arguments,function*(){var a,o,c,f;const h=[];try{for(var p=!0,g=sg(e),x;x=yield li(g.next()),a=x.done,!a;p=!0){f=x.value,p=!1;const T=f;if(zte(T)){const S=(i=(r=T.candidates)===null||r===void 0?void 0:r[0])===null||i===void 0?void 0:i.content;S!==void 0&&h.push(S)}yield yield li(T)}}catch(T){o={error:T}}finally{try{!p&&!a&&(c=g.return)&&(yield li(c.call(g)))}finally{if(o)throw o.error}}this.recordHistory(n,h)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(s=>s.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(..._k(r)):this.history.push(e),this.history.push(...i)}}class l2 extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,l2.prototype)}}function Kte(t){const e={},n=v(t,["file"]);return n!=null&&b(e,["file"],n),e}function Yte(t){const e={},n=v(t,["sdkHttpResponse"]);return n!=null&&b(e,["sdkHttpResponse"],n),e}function Xte(t){const e={},n=v(t,["name"]);return n!=null&&b(e,["_url","file"],bF(n)),e}function Jte(t){const e={},n=v(t,["sdkHttpResponse"]);return n!=null&&b(e,["sdkHttpResponse"],n),e}function Qte(t){const e={},n=v(t,["name"]);return n!=null&&b(e,["_url","file"],bF(n)),e}function Zte(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&b(e,["_query","pageSize"],r);const i=v(t,["pageToken"]);return e!==void 0&&i!=null&&b(e,["_query","pageToken"],i),n}function ene(t){const e={},n=v(t,["config"]);return n!=null&&Zte(n,e),e}function tne(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&b(e,["nextPageToken"],r);const i=v(t,["files"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>a)),b(e,["files"],s)}return e}class nne extends Ou{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new yd(Pu.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=ene(e);return s=Ut("files",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const f=tne(c),h=new aee;return Object.assign(h,f),h})}}async createInternal(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Kte(e);return s=Ut("upload/v1beta/files",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=Yte(c),h=new oee;return Object.assign(h,f),h})}}async get(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Qte(e);return s=Ut("files/{file}",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Xte(e);return s=Ut("files/{file}",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const f=Jte(c),h=new lee;return Object.assign(h,f),h})}}}function _y(t){const e={},n=v(t,["data"]);if(n!=null&&b(e,["data"],n),v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=v(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function rne(t){const e={},n=v(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>vne(s))),b(e,["parts"],i)}const r=v(t,["role"]);return r!=null&&b(e,["role"],r),e}function ine(t){const e={};if(v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(t,["fileUri"]);n!=null&&b(e,["fileUri"],n);const r=v(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function sne(t){const e={},n=v(t,["id"]);n!=null&&b(e,["id"],n);const r=v(t,["args"]);r!=null&&b(e,["args"],r);const i=v(t,["name"]);if(i!=null&&b(e,["name"],i),v(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(v(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function ane(t){const e={};if(v(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=v(t,["description"]);n!=null&&b(e,["description"],n);const r=v(t,["name"]);r!=null&&b(e,["name"],r);const i=v(t,["parameters"]);i!=null&&b(e,["parameters"],i);const s=v(t,["parametersJsonSchema"]);s!=null&&b(e,["parametersJsonSchema"],s);const a=v(t,["response"]);a!=null&&b(e,["response"],a);const o=v(t,["responseJsonSchema"]);return o!=null&&b(e,["responseJsonSchema"],o),e}function one(t){const e={},n=v(t,["modelSelectionConfig"]);n!=null&&b(e,["modelConfig"],n);const r=v(t,["responseJsonSchema"]);r!=null&&b(e,["responseJsonSchema"],r);const i=v(t,["audioTimestamp"]);i!=null&&b(e,["audioTimestamp"],i);const s=v(t,["candidateCount"]);s!=null&&b(e,["candidateCount"],s);const a=v(t,["enableAffectiveDialog"]);a!=null&&b(e,["enableAffectiveDialog"],a);const o=v(t,["frequencyPenalty"]);o!=null&&b(e,["frequencyPenalty"],o);const c=v(t,["logprobs"]);c!=null&&b(e,["logprobs"],c);const f=v(t,["maxOutputTokens"]);f!=null&&b(e,["maxOutputTokens"],f);const h=v(t,["mediaResolution"]);h!=null&&b(e,["mediaResolution"],h);const p=v(t,["presencePenalty"]);p!=null&&b(e,["presencePenalty"],p);const g=v(t,["responseLogprobs"]);g!=null&&b(e,["responseLogprobs"],g);const x=v(t,["responseMimeType"]);x!=null&&b(e,["responseMimeType"],x);const T=v(t,["responseModalities"]);T!=null&&b(e,["responseModalities"],T);const S=v(t,["responseSchema"]);S!=null&&b(e,["responseSchema"],S);const N=v(t,["routingConfig"]);N!=null&&b(e,["routingConfig"],N);const k=v(t,["seed"]);k!=null&&b(e,["seed"],k);const B=v(t,["speechConfig"]);B!=null&&b(e,["speechConfig"],kF(B));const R=v(t,["stopSequences"]);R!=null&&b(e,["stopSequences"],R);const q=v(t,["temperature"]);q!=null&&b(e,["temperature"],q);const Y=v(t,["thinkingConfig"]);Y!=null&&b(e,["thinkingConfig"],Y);const J=v(t,["topK"]);J!=null&&b(e,["topK"],J);const F=v(t,["topP"]);if(F!=null&&b(e,["topP"],F),v(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function lne(t){const e={};if(v(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=v(t,["enableWidget"]);return n!=null&&b(e,["enableWidget"],n),e}function cne(t){const e={};if(v(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(v(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=v(t,["timeRangeFilter"]);return n!=null&&b(e,["timeRangeFilter"],n),e}function une(t,e){const n={},r=v(t,["generationConfig"]);e!==void 0&&r!=null&&b(e,["setup","generationConfig"],r);const i=v(t,["responseModalities"]);e!==void 0&&i!=null&&b(e,["setup","generationConfig","responseModalities"],i);const s=v(t,["temperature"]);e!==void 0&&s!=null&&b(e,["setup","generationConfig","temperature"],s);const a=v(t,["topP"]);e!==void 0&&a!=null&&b(e,["setup","generationConfig","topP"],a);const o=v(t,["topK"]);e!==void 0&&o!=null&&b(e,["setup","generationConfig","topK"],o);const c=v(t,["maxOutputTokens"]);e!==void 0&&c!=null&&b(e,["setup","generationConfig","maxOutputTokens"],c);const f=v(t,["mediaResolution"]);e!==void 0&&f!=null&&b(e,["setup","generationConfig","mediaResolution"],f);const h=v(t,["seed"]);e!==void 0&&h!=null&&b(e,["setup","generationConfig","seed"],h);const p=v(t,["speechConfig"]);e!==void 0&&p!=null&&b(e,["setup","generationConfig","speechConfig"],RE(p));const g=v(t,["thinkingConfig"]);e!==void 0&&g!=null&&b(e,["setup","generationConfig","thinkingConfig"],g);const x=v(t,["enableAffectiveDialog"]);e!==void 0&&x!=null&&b(e,["setup","generationConfig","enableAffectiveDialog"],x);const T=v(t,["systemInstruction"]);e!==void 0&&T!=null&&b(e,["setup","systemInstruction"],rne(Sa(T)));const S=v(t,["tools"]);if(e!==void 0&&S!=null){let J=Dp(S);Array.isArray(J)&&(J=J.map(F=>wne(Pp(F)))),b(e,["setup","tools"],J)}const N=v(t,["sessionResumption"]);e!==void 0&&N!=null&&b(e,["setup","sessionResumption"],_ne(N));const k=v(t,["inputAudioTranscription"]);e!==void 0&&k!=null&&b(e,["setup","inputAudioTranscription"],k);const B=v(t,["outputAudioTranscription"]);e!==void 0&&B!=null&&b(e,["setup","outputAudioTranscription"],B);const R=v(t,["realtimeInputConfig"]);e!==void 0&&R!=null&&b(e,["setup","realtimeInputConfig"],R);const q=v(t,["contextWindowCompression"]);e!==void 0&&q!=null&&b(e,["setup","contextWindowCompression"],q);const Y=v(t,["proactivity"]);return e!==void 0&&Y!=null&&b(e,["setup","proactivity"],Y),n}function fne(t,e){const n={},r=v(t,["generationConfig"]);e!==void 0&&r!=null&&b(e,["setup","generationConfig"],one(r));const i=v(t,["responseModalities"]);e!==void 0&&i!=null&&b(e,["setup","generationConfig","responseModalities"],i);const s=v(t,["temperature"]);e!==void 0&&s!=null&&b(e,["setup","generationConfig","temperature"],s);const a=v(t,["topP"]);e!==void 0&&a!=null&&b(e,["setup","generationConfig","topP"],a);const o=v(t,["topK"]);e!==void 0&&o!=null&&b(e,["setup","generationConfig","topK"],o);const c=v(t,["maxOutputTokens"]);e!==void 0&&c!=null&&b(e,["setup","generationConfig","maxOutputTokens"],c);const f=v(t,["mediaResolution"]);e!==void 0&&f!=null&&b(e,["setup","generationConfig","mediaResolution"],f);const h=v(t,["seed"]);e!==void 0&&h!=null&&b(e,["setup","generationConfig","seed"],h);const p=v(t,["speechConfig"]);e!==void 0&&p!=null&&b(e,["setup","generationConfig","speechConfig"],kF(RE(p)));const g=v(t,["thinkingConfig"]);e!==void 0&&g!=null&&b(e,["setup","generationConfig","thinkingConfig"],g);const x=v(t,["enableAffectiveDialog"]);e!==void 0&&x!=null&&b(e,["setup","generationConfig","enableAffectiveDialog"],x);const T=v(t,["systemInstruction"]);e!==void 0&&T!=null&&b(e,["setup","systemInstruction"],Sa(T));const S=v(t,["tools"]);if(e!==void 0&&S!=null){let J=Dp(S);Array.isArray(J)&&(J=J.map(F=>bne(Pp(F)))),b(e,["setup","tools"],J)}const N=v(t,["sessionResumption"]);e!==void 0&&N!=null&&b(e,["setup","sessionResumption"],N);const k=v(t,["inputAudioTranscription"]);e!==void 0&&k!=null&&b(e,["setup","inputAudioTranscription"],k);const B=v(t,["outputAudioTranscription"]);e!==void 0&&B!=null&&b(e,["setup","outputAudioTranscription"],B);const R=v(t,["realtimeInputConfig"]);e!==void 0&&R!=null&&b(e,["setup","realtimeInputConfig"],R);const q=v(t,["contextWindowCompression"]);e!==void 0&&q!=null&&b(e,["setup","contextWindowCompression"],q);const Y=v(t,["proactivity"]);return e!==void 0&&Y!=null&&b(e,["setup","proactivity"],Y),n}function hne(t,e){const n={},r=v(e,["model"]);r!=null&&b(n,["setup","model"],Sr(t,r));const i=v(e,["config"]);return i!=null&&b(n,["config"],une(i,n)),n}function dne(t,e){const n={},r=v(e,["model"]);r!=null&&b(n,["setup","model"],Sr(t,r));const i=v(e,["config"]);return i!=null&&b(n,["config"],fne(i,n)),n}function pne(t){const e={},n=v(t,["musicGenerationConfig"]);return n!=null&&b(e,["musicGenerationConfig"],n),e}function mne(t){const e={},n=v(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),b(e,["weightedPrompts"],r)}return e}function gne(t){const e={},n=v(t,["media"]);if(n!=null){let f=xF(n);Array.isArray(f)&&(f=f.map(h=>_y(h))),b(e,["mediaChunks"],f)}const r=v(t,["audio"]);r!=null&&b(e,["audio"],_y(vF(r)));const i=v(t,["audioStreamEnd"]);i!=null&&b(e,["audioStreamEnd"],i);const s=v(t,["video"]);s!=null&&b(e,["video"],_y(yF(s)));const a=v(t,["text"]);a!=null&&b(e,["text"],a);const o=v(t,["activityStart"]);o!=null&&b(e,["activityStart"],o);const c=v(t,["activityEnd"]);return c!=null&&b(e,["activityEnd"],c),e}function xne(t){const e={},n=v(t,["media"]);if(n!=null){let f=xF(n);Array.isArray(f)&&(f=f.map(h=>h)),b(e,["mediaChunks"],f)}const r=v(t,["audio"]);r!=null&&b(e,["audio"],vF(r));const i=v(t,["audioStreamEnd"]);i!=null&&b(e,["audioStreamEnd"],i);const s=v(t,["video"]);s!=null&&b(e,["video"],yF(s));const a=v(t,["text"]);a!=null&&b(e,["text"],a);const o=v(t,["activityStart"]);o!=null&&b(e,["activityStart"],o);const c=v(t,["activityEnd"]);return c!=null&&b(e,["activityEnd"],c),e}function yne(t){const e={},n=v(t,["setupComplete"]);n!=null&&b(e,["setupComplete"],n);const r=v(t,["serverContent"]);r!=null&&b(e,["serverContent"],r);const i=v(t,["toolCall"]);i!=null&&b(e,["toolCall"],i);const s=v(t,["toolCallCancellation"]);s!=null&&b(e,["toolCallCancellation"],s);const a=v(t,["usageMetadata"]);a!=null&&b(e,["usageMetadata"],Tne(a));const o=v(t,["goAway"]);o!=null&&b(e,["goAway"],o);const c=v(t,["sessionResumptionUpdate"]);return c!=null&&b(e,["sessionResumptionUpdate"],c),e}function vne(t){const e={},n=v(t,["mediaResolution"]);n!=null&&b(e,["mediaResolution"],n);const r=v(t,["codeExecutionResult"]);r!=null&&b(e,["codeExecutionResult"],r);const i=v(t,["executableCode"]);i!=null&&b(e,["executableCode"],i);const s=v(t,["fileData"]);s!=null&&b(e,["fileData"],ine(s));const a=v(t,["functionCall"]);a!=null&&b(e,["functionCall"],sne(a));const o=v(t,["functionResponse"]);o!=null&&b(e,["functionResponse"],o);const c=v(t,["inlineData"]);c!=null&&b(e,["inlineData"],_y(c));const f=v(t,["text"]);f!=null&&b(e,["text"],f);const h=v(t,["thought"]);h!=null&&b(e,["thought"],h);const p=v(t,["thoughtSignature"]);p!=null&&b(e,["thoughtSignature"],p);const g=v(t,["videoMetadata"]);return g!=null&&b(e,["videoMetadata"],g),e}function _ne(t){const e={},n=v(t,["handle"]);if(n!=null&&b(e,["handle"],n),v(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function kF(t){const e={},n=v(t,["languageCode"]);n!=null&&b(e,["languageCode"],n);const r=v(t,["voiceConfig"]);if(r!=null&&b(e,["voiceConfig"],r),v(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function wne(t){const e={},n=v(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>p)),b(e,["functionDeclarations"],h)}if(v(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=v(t,["googleSearchRetrieval"]);r!=null&&b(e,["googleSearchRetrieval"],r);const i=v(t,["computerUse"]);i!=null&&b(e,["computerUse"],i);const s=v(t,["fileSearch"]);s!=null&&b(e,["fileSearch"],s);const a=v(t,["codeExecution"]);if(a!=null&&b(e,["codeExecution"],a),v(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=v(t,["googleMaps"]);o!=null&&b(e,["googleMaps"],lne(o));const c=v(t,["googleSearch"]);c!=null&&b(e,["googleSearch"],cne(c));const f=v(t,["urlContext"]);return f!=null&&b(e,["urlContext"],f),e}function bne(t){const e={},n=v(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(g=>ane(g))),b(e,["functionDeclarations"],p)}const r=v(t,["retrieval"]);r!=null&&b(e,["retrieval"],r);const i=v(t,["googleSearchRetrieval"]);i!=null&&b(e,["googleSearchRetrieval"],i);const s=v(t,["computerUse"]);if(s!=null&&b(e,["computerUse"],s),v(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=v(t,["codeExecution"]);a!=null&&b(e,["codeExecution"],a);const o=v(t,["enterpriseWebSearch"]);o!=null&&b(e,["enterpriseWebSearch"],o);const c=v(t,["googleMaps"]);c!=null&&b(e,["googleMaps"],c);const f=v(t,["googleSearch"]);f!=null&&b(e,["googleSearch"],f);const h=v(t,["urlContext"]);return h!=null&&b(e,["urlContext"],h),e}function Tne(t){const e={},n=v(t,["promptTokenCount"]);n!=null&&b(e,["promptTokenCount"],n);const r=v(t,["cachedContentTokenCount"]);r!=null&&b(e,["cachedContentTokenCount"],r);const i=v(t,["candidatesTokenCount"]);i!=null&&b(e,["responseTokenCount"],i);const s=v(t,["toolUsePromptTokenCount"]);s!=null&&b(e,["toolUsePromptTokenCount"],s);const a=v(t,["thoughtsTokenCount"]);a!=null&&b(e,["thoughtsTokenCount"],a);const o=v(t,["totalTokenCount"]);o!=null&&b(e,["totalTokenCount"],o);const c=v(t,["promptTokensDetails"]);if(c!=null){let x=c;Array.isArray(x)&&(x=x.map(T=>T)),b(e,["promptTokensDetails"],x)}const f=v(t,["cacheTokensDetails"]);if(f!=null){let x=f;Array.isArray(x)&&(x=x.map(T=>T)),b(e,["cacheTokensDetails"],x)}const h=v(t,["candidatesTokensDetails"]);if(h!=null){let x=h;Array.isArray(x)&&(x=x.map(T=>T)),b(e,["responseTokensDetails"],x)}const p=v(t,["toolUsePromptTokensDetails"]);if(p!=null){let x=p;Array.isArray(x)&&(x=x.map(T=>T)),b(e,["toolUsePromptTokensDetails"],x)}const g=v(t,["trafficType"]);return g!=null&&b(e,["trafficType"],g),e}function Ene(t){const e={},n=v(t,["data"]);if(n!=null&&b(e,["data"],n),v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=v(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function Sne(t){const e={},n=v(t,["content"]);n!=null&&b(e,["content"],n);const r=v(t,["citationMetadata"]);r!=null&&b(e,["citationMetadata"],Ane(r));const i=v(t,["tokenCount"]);i!=null&&b(e,["tokenCount"],i);const s=v(t,["finishReason"]);s!=null&&b(e,["finishReason"],s);const a=v(t,["avgLogprobs"]);a!=null&&b(e,["avgLogprobs"],a);const o=v(t,["groundingMetadata"]);o!=null&&b(e,["groundingMetadata"],o);const c=v(t,["index"]);c!=null&&b(e,["index"],c);const f=v(t,["logprobsResult"]);f!=null&&b(e,["logprobsResult"],f);const h=v(t,["safetyRatings"]);if(h!=null){let g=h;Array.isArray(g)&&(g=g.map(x=>x)),b(e,["safetyRatings"],g)}const p=v(t,["urlContextMetadata"]);return p!=null&&b(e,["urlContextMetadata"],p),e}function Ane(t){const e={},n=v(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),b(e,["citations"],r)}return e}function Cne(t,e){const n={},r=v(e,["model"]);r!=null&&b(n,["_url","model"],Sr(t,r));const i=v(e,["contents"]);if(i!=null){let s=ml(i);Array.isArray(s)&&(s=s.map(a=>a)),b(n,["contents"],s)}return n}function Nne(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=v(t,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),b(e,["tokensInfo"],i)}return e}function Ine(t){const e={},n=v(t,["values"]);n!=null&&b(e,["values"],n);const r=v(t,["statistics"]);return r!=null&&b(e,["statistics"],kne(r)),e}function kne(t){const e={},n=v(t,["truncated"]);n!=null&&b(e,["truncated"],n);const r=v(t,["token_count"]);return r!=null&&b(e,["tokenCount"],r),e}function c2(t){const e={},n=v(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>Ure(s))),b(e,["parts"],i)}const r=v(t,["role"]);return r!=null&&b(e,["role"],r),e}function Rne(t){const e={},n=v(t,["controlType"]);n!=null&&b(e,["controlType"],n);const r=v(t,["enableControlImageComputation"]);return r!=null&&b(e,["computeControl"],r),e}function Pne(t){const e={};if(v(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(v(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(v(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function Dne(t,e){const n={},r=v(t,["systemInstruction"]);e!==void 0&&r!=null&&b(e,["systemInstruction"],Sa(r));const i=v(t,["tools"]);if(e!==void 0&&i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>LF(o))),b(e,["tools"],a)}const s=v(t,["generationConfig"]);return e!==void 0&&s!=null&&b(e,["generationConfig"],Ere(s)),n}function Mne(t,e){const n={},r=v(e,["model"]);r!=null&&b(n,["_url","model"],Sr(t,r));const i=v(e,["contents"]);if(i!=null){let a=ml(i);Array.isArray(a)&&(a=a.map(o=>c2(o))),b(n,["contents"],a)}const s=v(e,["config"]);return s!=null&&Pne(s),n}function Lne(t,e){const n={},r=v(e,["model"]);r!=null&&b(n,["_url","model"],Sr(t,r));const i=v(e,["contents"]);if(i!=null){let a=ml(i);Array.isArray(a)&&(a=a.map(o=>o)),b(n,["contents"],a)}const s=v(e,["config"]);return s!=null&&Dne(s,n),n}function Fne(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=v(t,["totalTokens"]);r!=null&&b(e,["totalTokens"],r);const i=v(t,["cachedContentTokenCount"]);return i!=null&&b(e,["cachedContentTokenCount"],i),e}function One(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=v(t,["totalTokens"]);return r!=null&&b(e,["totalTokens"],r),e}function Vne(t,e){const n={},r=v(e,["model"]);return r!=null&&b(n,["_url","name"],Sr(t,r)),n}function Une(t,e){const n={},r=v(e,["model"]);return r!=null&&b(n,["_url","name"],Sr(t,r)),n}function Bne(t){const e={},n=v(t,["sdkHttpResponse"]);return n!=null&&b(e,["sdkHttpResponse"],n),e}function jne(t){const e={},n=v(t,["sdkHttpResponse"]);return n!=null&&b(e,["sdkHttpResponse"],n),e}function qne(t,e){const n={},r=v(t,["outputGcsUri"]);e!==void 0&&r!=null&&b(e,["parameters","storageUri"],r);const i=v(t,["negativePrompt"]);e!==void 0&&i!=null&&b(e,["parameters","negativePrompt"],i);const s=v(t,["numberOfImages"]);e!==void 0&&s!=null&&b(e,["parameters","sampleCount"],s);const a=v(t,["aspectRatio"]);e!==void 0&&a!=null&&b(e,["parameters","aspectRatio"],a);const o=v(t,["guidanceScale"]);e!==void 0&&o!=null&&b(e,["parameters","guidanceScale"],o);const c=v(t,["seed"]);e!==void 0&&c!=null&&b(e,["parameters","seed"],c);const f=v(t,["safetyFilterLevel"]);e!==void 0&&f!=null&&b(e,["parameters","safetySetting"],f);const h=v(t,["personGeneration"]);e!==void 0&&h!=null&&b(e,["parameters","personGeneration"],h);const p=v(t,["includeSafetyAttributes"]);e!==void 0&&p!=null&&b(e,["parameters","includeSafetyAttributes"],p);const g=v(t,["includeRaiReason"]);e!==void 0&&g!=null&&b(e,["parameters","includeRaiReason"],g);const x=v(t,["language"]);e!==void 0&&x!=null&&b(e,["parameters","language"],x);const T=v(t,["outputMimeType"]);e!==void 0&&T!=null&&b(e,["parameters","outputOptions","mimeType"],T);const S=v(t,["outputCompressionQuality"]);e!==void 0&&S!=null&&b(e,["parameters","outputOptions","compressionQuality"],S);const N=v(t,["addWatermark"]);e!==void 0&&N!=null&&b(e,["parameters","addWatermark"],N);const k=v(t,["labels"]);e!==void 0&&k!=null&&b(e,["labels"],k);const B=v(t,["editMode"]);e!==void 0&&B!=null&&b(e,["parameters","editMode"],B);const R=v(t,["baseSteps"]);return e!==void 0&&R!=null&&b(e,["parameters","editConfig","baseSteps"],R),n}function Hne(t,e){const n={},r=v(e,["model"]);r!=null&&b(n,["_url","model"],Sr(t,r));const i=v(e,["prompt"]);i!=null&&b(n,["instances[0]","prompt"],i);const s=v(e,["referenceImages"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(c=>Gre(c))),b(n,["instances[0]","referenceImages"],o)}const a=v(e,["config"]);return a!=null&&qne(a,n),n}function zne(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=v(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>u2(s))),b(e,["generatedImages"],i)}return e}function Gne(t,e){const n={},r=v(t,["taskType"]);e!==void 0&&r!=null&&b(e,["requests[]","taskType"],r);const i=v(t,["title"]);e!==void 0&&i!=null&&b(e,["requests[]","title"],i);const s=v(t,["outputDimensionality"]);if(e!==void 0&&s!=null&&b(e,["requests[]","outputDimensionality"],s),v(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(v(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function $ne(t,e){const n={},r=v(t,["taskType"]);e!==void 0&&r!=null&&b(e,["instances[]","task_type"],r);const i=v(t,["title"]);e!==void 0&&i!=null&&b(e,["instances[]","title"],i);const s=v(t,["outputDimensionality"]);e!==void 0&&s!=null&&b(e,["parameters","outputDimensionality"],s);const a=v(t,["mimeType"]);e!==void 0&&a!=null&&b(e,["instances[]","mimeType"],a);const o=v(t,["autoTruncate"]);return e!==void 0&&o!=null&&b(e,["parameters","autoTruncate"],o),n}function Wne(t,e){const n={},r=v(e,["model"]);r!=null&&b(n,["_url","model"],Sr(t,r));const i=v(e,["contents"]);if(i!=null){let o=NE(t,i);Array.isArray(o)&&(o=o.map(c=>c)),b(n,["requests[]","content"],o)}const s=v(e,["config"]);s!=null&&Gne(s,n);const a=v(e,["model"]);return a!==void 0&&b(n,["requests[]","model"],Sr(t,a)),n}function Kne(t,e){const n={},r=v(e,["model"]);r!=null&&b(n,["_url","model"],Sr(t,r));const i=v(e,["contents"]);if(i!=null){let a=NE(t,i);Array.isArray(a)&&(a=a.map(o=>o)),b(n,["instances[]","content"],a)}const s=v(e,["config"]);return s!=null&&$ne(s,n),n}function Yne(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=v(t,["embeddings"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>a)),b(e,["embeddings"],s)}const i=v(t,["metadata"]);return i!=null&&b(e,["metadata"],i),e}function Xne(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=v(t,["predictions[]","embeddings"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>Ine(a))),b(e,["embeddings"],s)}const i=v(t,["metadata"]);return i!=null&&b(e,["metadata"],i),e}function Jne(t){const e={},n=v(t,["endpoint"]);n!=null&&b(e,["name"],n);const r=v(t,["deployedModelId"]);return r!=null&&b(e,["deployedModelId"],r),e}function Qne(t){const e={};if(v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(t,["fileUri"]);n!=null&&b(e,["fileUri"],n);const r=v(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function Zne(t){const e={},n=v(t,["id"]);n!=null&&b(e,["id"],n);const r=v(t,["args"]);r!=null&&b(e,["args"],r);const i=v(t,["name"]);if(i!=null&&b(e,["name"],i),v(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(v(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function ere(t){const e={},n=v(t,["mode"]);n!=null&&b(e,["mode"],n);const r=v(t,["allowedFunctionNames"]);if(r!=null&&b(e,["allowedFunctionNames"],r),v(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function tre(t){const e={};if(v(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=v(t,["description"]);n!=null&&b(e,["description"],n);const r=v(t,["name"]);r!=null&&b(e,["name"],r);const i=v(t,["parameters"]);i!=null&&b(e,["parameters"],i);const s=v(t,["parametersJsonSchema"]);s!=null&&b(e,["parametersJsonSchema"],s);const a=v(t,["response"]);a!=null&&b(e,["response"],a);const o=v(t,["responseJsonSchema"]);return o!=null&&b(e,["responseJsonSchema"],o),e}function nre(t,e,n){const r={},i=v(e,["systemInstruction"]);n!==void 0&&i!=null&&b(n,["systemInstruction"],c2(Sa(i)));const s=v(e,["temperature"]);s!=null&&b(r,["temperature"],s);const a=v(e,["topP"]);a!=null&&b(r,["topP"],a);const o=v(e,["topK"]);o!=null&&b(r,["topK"],o);const c=v(e,["candidateCount"]);c!=null&&b(r,["candidateCount"],c);const f=v(e,["maxOutputTokens"]);f!=null&&b(r,["maxOutputTokens"],f);const h=v(e,["stopSequences"]);h!=null&&b(r,["stopSequences"],h);const p=v(e,["responseLogprobs"]);p!=null&&b(r,["responseLogprobs"],p);const g=v(e,["logprobs"]);g!=null&&b(r,["logprobs"],g);const x=v(e,["presencePenalty"]);x!=null&&b(r,["presencePenalty"],x);const T=v(e,["frequencyPenalty"]);T!=null&&b(r,["frequencyPenalty"],T);const S=v(e,["seed"]);S!=null&&b(r,["seed"],S);const N=v(e,["responseMimeType"]);N!=null&&b(r,["responseMimeType"],N);const k=v(e,["responseSchema"]);k!=null&&b(r,["responseSchema"],IE(k));const B=v(e,["responseJsonSchema"]);if(B!=null&&b(r,["responseJsonSchema"],B),v(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(v(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const R=v(e,["safetySettings"]);if(n!==void 0&&R!=null){let L=R;Array.isArray(L)&&(L=L.map(V=>$re(V))),b(n,["safetySettings"],L)}const q=v(e,["tools"]);if(n!==void 0&&q!=null){let L=Dp(q);Array.isArray(L)&&(L=L.map(V=>Zre(Pp(V)))),b(n,["tools"],L)}const Y=v(e,["toolConfig"]);if(n!==void 0&&Y!=null&&b(n,["toolConfig"],Qre(Y)),v(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const J=v(e,["cachedContent"]);n!==void 0&&J!=null&&b(n,["cachedContent"],Vu(t,J));const F=v(e,["responseModalities"]);F!=null&&b(r,["responseModalities"],F);const O=v(e,["mediaResolution"]);O!=null&&b(r,["mediaResolution"],O);const C=v(e,["speechConfig"]);if(C!=null&&b(r,["speechConfig"],kE(C)),v(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const H=v(e,["thinkingConfig"]);H!=null&&b(r,["thinkingConfig"],H);const P=v(e,["imageConfig"]);return P!=null&&b(r,["imageConfig"],Ire(P)),r}function rre(t,e,n){const r={},i=v(e,["systemInstruction"]);n!==void 0&&i!=null&&b(n,["systemInstruction"],Sa(i));const s=v(e,["temperature"]);s!=null&&b(r,["temperature"],s);const a=v(e,["topP"]);a!=null&&b(r,["topP"],a);const o=v(e,["topK"]);o!=null&&b(r,["topK"],o);const c=v(e,["candidateCount"]);c!=null&&b(r,["candidateCount"],c);const f=v(e,["maxOutputTokens"]);f!=null&&b(r,["maxOutputTokens"],f);const h=v(e,["stopSequences"]);h!=null&&b(r,["stopSequences"],h);const p=v(e,["responseLogprobs"]);p!=null&&b(r,["responseLogprobs"],p);const g=v(e,["logprobs"]);g!=null&&b(r,["logprobs"],g);const x=v(e,["presencePenalty"]);x!=null&&b(r,["presencePenalty"],x);const T=v(e,["frequencyPenalty"]);T!=null&&b(r,["frequencyPenalty"],T);const S=v(e,["seed"]);S!=null&&b(r,["seed"],S);const N=v(e,["responseMimeType"]);N!=null&&b(r,["responseMimeType"],N);const k=v(e,["responseSchema"]);k!=null&&b(r,["responseSchema"],IE(k));const B=v(e,["responseJsonSchema"]);B!=null&&b(r,["responseJsonSchema"],B);const R=v(e,["routingConfig"]);R!=null&&b(r,["routingConfig"],R);const q=v(e,["modelSelectionConfig"]);q!=null&&b(r,["modelConfig"],q);const Y=v(e,["safetySettings"]);if(n!==void 0&&Y!=null){let se=Y;Array.isArray(se)&&(se=se.map(xe=>xe)),b(n,["safetySettings"],se)}const J=v(e,["tools"]);if(n!==void 0&&J!=null){let se=Dp(J);Array.isArray(se)&&(se=se.map(xe=>LF(Pp(xe)))),b(n,["tools"],se)}const F=v(e,["toolConfig"]);n!==void 0&&F!=null&&b(n,["toolConfig"],F);const O=v(e,["labels"]);n!==void 0&&O!=null&&b(n,["labels"],O);const C=v(e,["cachedContent"]);n!==void 0&&C!=null&&b(n,["cachedContent"],Vu(t,C));const H=v(e,["responseModalities"]);H!=null&&b(r,["responseModalities"],H);const P=v(e,["mediaResolution"]);P!=null&&b(r,["mediaResolution"],P);const L=v(e,["speechConfig"]);L!=null&&b(r,["speechConfig"],MF(kE(L)));const V=v(e,["audioTimestamp"]);V!=null&&b(r,["audioTimestamp"],V);const me=v(e,["thinkingConfig"]);me!=null&&b(r,["thinkingConfig"],me);const Ne=v(e,["imageConfig"]);return Ne!=null&&b(r,["imageConfig"],kre(Ne)),r}function wk(t,e){const n={},r=v(e,["model"]);r!=null&&b(n,["_url","model"],Sr(t,r));const i=v(e,["contents"]);if(i!=null){let a=ml(i);Array.isArray(a)&&(a=a.map(o=>c2(o))),b(n,["contents"],a)}const s=v(e,["config"]);return s!=null&&b(n,["generationConfig"],nre(t,s,n)),n}function bk(t,e){const n={},r=v(e,["model"]);r!=null&&b(n,["_url","model"],Sr(t,r));const i=v(e,["contents"]);if(i!=null){let a=ml(i);Array.isArray(a)&&(a=a.map(o=>o)),b(n,["contents"],a)}const s=v(e,["config"]);return s!=null&&b(n,["generationConfig"],rre(t,s,n)),n}function Tk(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=v(t,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(f=>Sne(f))),b(e,["candidates"],c)}const i=v(t,["modelVersion"]);i!=null&&b(e,["modelVersion"],i);const s=v(t,["promptFeedback"]);s!=null&&b(e,["promptFeedback"],s);const a=v(t,["responseId"]);a!=null&&b(e,["responseId"],a);const o=v(t,["usageMetadata"]);return o!=null&&b(e,["usageMetadata"],o),e}function Ek(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=v(t,["candidates"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(h=>h)),b(e,["candidates"],f)}const i=v(t,["createTime"]);i!=null&&b(e,["createTime"],i);const s=v(t,["modelVersion"]);s!=null&&b(e,["modelVersion"],s);const a=v(t,["promptFeedback"]);a!=null&&b(e,["promptFeedback"],a);const o=v(t,["responseId"]);o!=null&&b(e,["responseId"],o);const c=v(t,["usageMetadata"]);return c!=null&&b(e,["usageMetadata"],c),e}function ire(t,e){const n={};if(v(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(v(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=v(t,["numberOfImages"]);e!==void 0&&r!=null&&b(e,["parameters","sampleCount"],r);const i=v(t,["aspectRatio"]);e!==void 0&&i!=null&&b(e,["parameters","aspectRatio"],i);const s=v(t,["guidanceScale"]);if(e!==void 0&&s!=null&&b(e,["parameters","guidanceScale"],s),v(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=v(t,["safetyFilterLevel"]);e!==void 0&&a!=null&&b(e,["parameters","safetySetting"],a);const o=v(t,["personGeneration"]);e!==void 0&&o!=null&&b(e,["parameters","personGeneration"],o);const c=v(t,["includeSafetyAttributes"]);e!==void 0&&c!=null&&b(e,["parameters","includeSafetyAttributes"],c);const f=v(t,["includeRaiReason"]);e!==void 0&&f!=null&&b(e,["parameters","includeRaiReason"],f);const h=v(t,["language"]);e!==void 0&&h!=null&&b(e,["parameters","language"],h);const p=v(t,["outputMimeType"]);e!==void 0&&p!=null&&b(e,["parameters","outputOptions","mimeType"],p);const g=v(t,["outputCompressionQuality"]);if(e!==void 0&&g!=null&&b(e,["parameters","outputOptions","compressionQuality"],g),v(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(v(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const x=v(t,["imageSize"]);if(e!==void 0&&x!=null&&b(e,["parameters","sampleImageSize"],x),v(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function sre(t,e){const n={},r=v(t,["outputGcsUri"]);e!==void 0&&r!=null&&b(e,["parameters","storageUri"],r);const i=v(t,["negativePrompt"]);e!==void 0&&i!=null&&b(e,["parameters","negativePrompt"],i);const s=v(t,["numberOfImages"]);e!==void 0&&s!=null&&b(e,["parameters","sampleCount"],s);const a=v(t,["aspectRatio"]);e!==void 0&&a!=null&&b(e,["parameters","aspectRatio"],a);const o=v(t,["guidanceScale"]);e!==void 0&&o!=null&&b(e,["parameters","guidanceScale"],o);const c=v(t,["seed"]);e!==void 0&&c!=null&&b(e,["parameters","seed"],c);const f=v(t,["safetyFilterLevel"]);e!==void 0&&f!=null&&b(e,["parameters","safetySetting"],f);const h=v(t,["personGeneration"]);e!==void 0&&h!=null&&b(e,["parameters","personGeneration"],h);const p=v(t,["includeSafetyAttributes"]);e!==void 0&&p!=null&&b(e,["parameters","includeSafetyAttributes"],p);const g=v(t,["includeRaiReason"]);e!==void 0&&g!=null&&b(e,["parameters","includeRaiReason"],g);const x=v(t,["language"]);e!==void 0&&x!=null&&b(e,["parameters","language"],x);const T=v(t,["outputMimeType"]);e!==void 0&&T!=null&&b(e,["parameters","outputOptions","mimeType"],T);const S=v(t,["outputCompressionQuality"]);e!==void 0&&S!=null&&b(e,["parameters","outputOptions","compressionQuality"],S);const N=v(t,["addWatermark"]);e!==void 0&&N!=null&&b(e,["parameters","addWatermark"],N);const k=v(t,["labels"]);e!==void 0&&k!=null&&b(e,["labels"],k);const B=v(t,["imageSize"]);e!==void 0&&B!=null&&b(e,["parameters","sampleImageSize"],B);const R=v(t,["enhancePrompt"]);return e!==void 0&&R!=null&&b(e,["parameters","enhancePrompt"],R),n}function are(t,e){const n={},r=v(e,["model"]);r!=null&&b(n,["_url","model"],Sr(t,r));const i=v(e,["prompt"]);i!=null&&b(n,["instances[0]","prompt"],i);const s=v(e,["config"]);return s!=null&&ire(s,n),n}function ore(t,e){const n={},r=v(e,["model"]);r!=null&&b(n,["_url","model"],Sr(t,r));const i=v(e,["prompt"]);i!=null&&b(n,["instances[0]","prompt"],i);const s=v(e,["config"]);return s!=null&&sre(s,n),n}function lre(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=v(t,["predictions"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>_re(a))),b(e,["generatedImages"],s)}const i=v(t,["positivePromptSafetyAttributes"]);return i!=null&&b(e,["positivePromptSafetyAttributes"],PF(i)),e}function cre(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=v(t,["predictions"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>u2(a))),b(e,["generatedImages"],s)}const i=v(t,["positivePromptSafetyAttributes"]);return i!=null&&b(e,["positivePromptSafetyAttributes"],DF(i)),e}function ure(t,e){const n={},r=v(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&b(e,["parameters","sampleCount"],r),v(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(v(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=v(t,["durationSeconds"]);if(e!==void 0&&i!=null&&b(e,["parameters","durationSeconds"],i),v(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=v(t,["aspectRatio"]);e!==void 0&&s!=null&&b(e,["parameters","aspectRatio"],s);const a=v(t,["resolution"]);e!==void 0&&a!=null&&b(e,["parameters","resolution"],a);const o=v(t,["personGeneration"]);if(e!==void 0&&o!=null&&b(e,["parameters","personGeneration"],o),v(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const c=v(t,["negativePrompt"]);e!==void 0&&c!=null&&b(e,["parameters","negativePrompt"],c);const f=v(t,["enhancePrompt"]);if(e!==void 0&&f!=null&&b(e,["parameters","enhancePrompt"],f),v(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const h=v(t,["lastFrame"]);e!==void 0&&h!=null&&b(e,["instances[0]","lastFrame"],f2(h));const p=v(t,["referenceImages"]);if(e!==void 0&&p!=null){let g=p;Array.isArray(g)&&(g=g.map(x=>hie(x))),b(e,["instances[0]","referenceImages"],g)}if(v(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(v(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function fre(t,e){const n={},r=v(t,["numberOfVideos"]);e!==void 0&&r!=null&&b(e,["parameters","sampleCount"],r);const i=v(t,["outputGcsUri"]);e!==void 0&&i!=null&&b(e,["parameters","storageUri"],i);const s=v(t,["fps"]);e!==void 0&&s!=null&&b(e,["parameters","fps"],s);const a=v(t,["durationSeconds"]);e!==void 0&&a!=null&&b(e,["parameters","durationSeconds"],a);const o=v(t,["seed"]);e!==void 0&&o!=null&&b(e,["parameters","seed"],o);const c=v(t,["aspectRatio"]);e!==void 0&&c!=null&&b(e,["parameters","aspectRatio"],c);const f=v(t,["resolution"]);e!==void 0&&f!=null&&b(e,["parameters","resolution"],f);const h=v(t,["personGeneration"]);e!==void 0&&h!=null&&b(e,["parameters","personGeneration"],h);const p=v(t,["pubsubTopic"]);e!==void 0&&p!=null&&b(e,["parameters","pubsubTopic"],p);const g=v(t,["negativePrompt"]);e!==void 0&&g!=null&&b(e,["parameters","negativePrompt"],g);const x=v(t,["enhancePrompt"]);e!==void 0&&x!=null&&b(e,["parameters","enhancePrompt"],x);const T=v(t,["generateAudio"]);e!==void 0&&T!=null&&b(e,["parameters","generateAudio"],T);const S=v(t,["lastFrame"]);e!==void 0&&S!=null&&b(e,["instances[0]","lastFrame"],Ql(S));const N=v(t,["referenceImages"]);if(e!==void 0&&N!=null){let R=N;Array.isArray(R)&&(R=R.map(q=>die(q))),b(e,["instances[0]","referenceImages"],R)}const k=v(t,["mask"]);e!==void 0&&k!=null&&b(e,["instances[0]","mask"],fie(k));const B=v(t,["compressionQuality"]);return e!==void 0&&B!=null&&b(e,["parameters","compressionQuality"],B),n}function hre(t){const e={},n=v(t,["name"]);n!=null&&b(e,["name"],n);const r=v(t,["metadata"]);r!=null&&b(e,["metadata"],r);const i=v(t,["done"]);i!=null&&b(e,["done"],i);const s=v(t,["error"]);s!=null&&b(e,["error"],s);const a=v(t,["response","generateVideoResponse"]);return a!=null&&b(e,["response"],gre(a)),e}function dre(t){const e={},n=v(t,["name"]);n!=null&&b(e,["name"],n);const r=v(t,["metadata"]);r!=null&&b(e,["metadata"],r);const i=v(t,["done"]);i!=null&&b(e,["done"],i);const s=v(t,["error"]);s!=null&&b(e,["error"],s);const a=v(t,["response"]);return a!=null&&b(e,["response"],xre(a)),e}function pre(t,e){const n={},r=v(e,["model"]);r!=null&&b(n,["_url","model"],Sr(t,r));const i=v(e,["prompt"]);i!=null&&b(n,["instances[0]","prompt"],i);const s=v(e,["image"]);s!=null&&b(n,["instances[0]","image"],f2(s));const a=v(e,["video"]);a!=null&&b(n,["instances[0]","video"],FF(a));const o=v(e,["source"]);o!=null&&yre(o,n);const c=v(e,["config"]);return c!=null&&ure(c,n),n}function mre(t,e){const n={},r=v(e,["model"]);r!=null&&b(n,["_url","model"],Sr(t,r));const i=v(e,["prompt"]);i!=null&&b(n,["instances[0]","prompt"],i);const s=v(e,["image"]);s!=null&&b(n,["instances[0]","image"],Ql(s));const a=v(e,["video"]);a!=null&&b(n,["instances[0]","video"],OF(a));const o=v(e,["source"]);o!=null&&vre(o,n);const c=v(e,["config"]);return c!=null&&fre(c,n),n}function gre(t){const e={},n=v(t,["generatedSamples"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>bre(a))),b(e,["generatedVideos"],s)}const r=v(t,["raiMediaFilteredCount"]);r!=null&&b(e,["raiMediaFilteredCount"],r);const i=v(t,["raiMediaFilteredReasons"]);return i!=null&&b(e,["raiMediaFilteredReasons"],i),e}function xre(t){const e={},n=v(t,["videos"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>Tre(a))),b(e,["generatedVideos"],s)}const r=v(t,["raiMediaFilteredCount"]);r!=null&&b(e,["raiMediaFilteredCount"],r);const i=v(t,["raiMediaFilteredReasons"]);return i!=null&&b(e,["raiMediaFilteredReasons"],i),e}function yre(t,e){const n={},r=v(t,["prompt"]);e!==void 0&&r!=null&&b(e,["instances[0]","prompt"],r);const i=v(t,["image"]);e!==void 0&&i!=null&&b(e,["instances[0]","image"],f2(i));const s=v(t,["video"]);return e!==void 0&&s!=null&&b(e,["instances[0]","video"],FF(s)),n}function vre(t,e){const n={},r=v(t,["prompt"]);e!==void 0&&r!=null&&b(e,["instances[0]","prompt"],r);const i=v(t,["image"]);e!==void 0&&i!=null&&b(e,["instances[0]","image"],Ql(i));const s=v(t,["video"]);return e!==void 0&&s!=null&&b(e,["instances[0]","video"],OF(s)),n}function _re(t){const e={},n=v(t,["_self"]);n!=null&&b(e,["image"],Rre(n));const r=v(t,["raiFilteredReason"]);r!=null&&b(e,["raiFilteredReason"],r);const i=v(t,["_self"]);return i!=null&&b(e,["safetyAttributes"],PF(i)),e}function u2(t){const e={},n=v(t,["_self"]);n!=null&&b(e,["image"],RF(n));const r=v(t,["raiFilteredReason"]);r!=null&&b(e,["raiFilteredReason"],r);const i=v(t,["_self"]);i!=null&&b(e,["safetyAttributes"],DF(i));const s=v(t,["prompt"]);return s!=null&&b(e,["enhancedPrompt"],s),e}function wre(t){const e={},n=v(t,["_self"]);n!=null&&b(e,["mask"],RF(n));const r=v(t,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),b(e,["labels"],i)}return e}function bre(t){const e={},n=v(t,["video"]);return n!=null&&b(e,["video"],cie(n)),e}function Tre(t){const e={},n=v(t,["_self"]);return n!=null&&b(e,["video"],uie(n)),e}function Ere(t){const e={},n=v(t,["modelSelectionConfig"]);n!=null&&b(e,["modelConfig"],n);const r=v(t,["responseJsonSchema"]);r!=null&&b(e,["responseJsonSchema"],r);const i=v(t,["audioTimestamp"]);i!=null&&b(e,["audioTimestamp"],i);const s=v(t,["candidateCount"]);s!=null&&b(e,["candidateCount"],s);const a=v(t,["enableAffectiveDialog"]);a!=null&&b(e,["enableAffectiveDialog"],a);const o=v(t,["frequencyPenalty"]);o!=null&&b(e,["frequencyPenalty"],o);const c=v(t,["logprobs"]);c!=null&&b(e,["logprobs"],c);const f=v(t,["maxOutputTokens"]);f!=null&&b(e,["maxOutputTokens"],f);const h=v(t,["mediaResolution"]);h!=null&&b(e,["mediaResolution"],h);const p=v(t,["presencePenalty"]);p!=null&&b(e,["presencePenalty"],p);const g=v(t,["responseLogprobs"]);g!=null&&b(e,["responseLogprobs"],g);const x=v(t,["responseMimeType"]);x!=null&&b(e,["responseMimeType"],x);const T=v(t,["responseModalities"]);T!=null&&b(e,["responseModalities"],T);const S=v(t,["responseSchema"]);S!=null&&b(e,["responseSchema"],S);const N=v(t,["routingConfig"]);N!=null&&b(e,["routingConfig"],N);const k=v(t,["seed"]);k!=null&&b(e,["seed"],k);const B=v(t,["speechConfig"]);B!=null&&b(e,["speechConfig"],MF(B));const R=v(t,["stopSequences"]);R!=null&&b(e,["stopSequences"],R);const q=v(t,["temperature"]);q!=null&&b(e,["temperature"],q);const Y=v(t,["thinkingConfig"]);Y!=null&&b(e,["thinkingConfig"],Y);const J=v(t,["topK"]);J!=null&&b(e,["topK"],J);const F=v(t,["topP"]);if(F!=null&&b(e,["topP"],F),v(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function Sre(t,e){const n={},r=v(e,["model"]);return r!=null&&b(n,["_url","name"],Sr(t,r)),n}function Are(t,e){const n={},r=v(e,["model"]);return r!=null&&b(n,["_url","name"],Sr(t,r)),n}function Cre(t){const e={};if(v(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=v(t,["enableWidget"]);return n!=null&&b(e,["enableWidget"],n),e}function Nre(t){const e={};if(v(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(v(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=v(t,["timeRangeFilter"]);return n!=null&&b(e,["timeRangeFilter"],n),e}function Ire(t){const e={},n=v(t,["aspectRatio"]);n!=null&&b(e,["aspectRatio"],n);const r=v(t,["imageSize"]);if(r!=null&&b(e,["imageSize"],r),v(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(v(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function kre(t){const e={},n=v(t,["aspectRatio"]);n!=null&&b(e,["aspectRatio"],n);const r=v(t,["imageSize"]);r!=null&&b(e,["imageSize"],r);const i=v(t,["outputMimeType"]);i!=null&&b(e,["imageOutputOptions","mimeType"],i);const s=v(t,["outputCompressionQuality"]);return s!=null&&b(e,["imageOutputOptions","compressionQuality"],s),e}function Rre(t){const e={},n=v(t,["bytesBase64Encoded"]);n!=null&&b(e,["imageBytes"],rh(n));const r=v(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function RF(t){const e={},n=v(t,["gcsUri"]);n!=null&&b(e,["gcsUri"],n);const r=v(t,["bytesBase64Encoded"]);r!=null&&b(e,["imageBytes"],rh(r));const i=v(t,["mimeType"]);return i!=null&&b(e,["mimeType"],i),e}function f2(t){const e={};if(v(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=v(t,["imageBytes"]);n!=null&&b(e,["bytesBase64Encoded"],rh(n));const r=v(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function Ql(t){const e={},n=v(t,["gcsUri"]);n!=null&&b(e,["gcsUri"],n);const r=v(t,["imageBytes"]);r!=null&&b(e,["bytesBase64Encoded"],rh(r));const i=v(t,["mimeType"]);return i!=null&&b(e,["mimeType"],i),e}function Pre(t,e,n){const r={},i=v(e,["pageSize"]);n!==void 0&&i!=null&&b(n,["_query","pageSize"],i);const s=v(e,["pageToken"]);n!==void 0&&s!=null&&b(n,["_query","pageToken"],s);const a=v(e,["filter"]);n!==void 0&&a!=null&&b(n,["_query","filter"],a);const o=v(e,["queryBase"]);return n!==void 0&&o!=null&&b(n,["_url","models_url"],TF(t,o)),r}function Dre(t,e,n){const r={},i=v(e,["pageSize"]);n!==void 0&&i!=null&&b(n,["_query","pageSize"],i);const s=v(e,["pageToken"]);n!==void 0&&s!=null&&b(n,["_query","pageToken"],s);const a=v(e,["filter"]);n!==void 0&&a!=null&&b(n,["_query","filter"],a);const o=v(e,["queryBase"]);return n!==void 0&&o!=null&&b(n,["_url","models_url"],TF(t,o)),r}function Mre(t,e){const n={},r=v(e,["config"]);return r!=null&&Pre(t,r,n),n}function Lre(t,e){const n={},r=v(e,["config"]);return r!=null&&Dre(t,r,n),n}function Fre(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&b(e,["nextPageToken"],r);const i=v(t,["_self"]);if(i!=null){let s=EF(i);Array.isArray(s)&&(s=s.map(a=>c5(a))),b(e,["models"],s)}return e}function Ore(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&b(e,["nextPageToken"],r);const i=v(t,["_self"]);if(i!=null){let s=EF(i);Array.isArray(s)&&(s=s.map(a=>u5(a))),b(e,["models"],s)}return e}function Vre(t){const e={},n=v(t,["maskMode"]);n!=null&&b(e,["maskMode"],n);const r=v(t,["segmentationClasses"]);r!=null&&b(e,["maskClasses"],r);const i=v(t,["maskDilation"]);return i!=null&&b(e,["dilation"],i),e}function c5(t){const e={},n=v(t,["name"]);n!=null&&b(e,["name"],n);const r=v(t,["displayName"]);r!=null&&b(e,["displayName"],r);const i=v(t,["description"]);i!=null&&b(e,["description"],i);const s=v(t,["version"]);s!=null&&b(e,["version"],s);const a=v(t,["_self"]);a!=null&&b(e,["tunedModelInfo"],eie(a));const o=v(t,["inputTokenLimit"]);o!=null&&b(e,["inputTokenLimit"],o);const c=v(t,["outputTokenLimit"]);c!=null&&b(e,["outputTokenLimit"],c);const f=v(t,["supportedGenerationMethods"]);f!=null&&b(e,["supportedActions"],f);const h=v(t,["temperature"]);h!=null&&b(e,["temperature"],h);const p=v(t,["maxTemperature"]);p!=null&&b(e,["maxTemperature"],p);const g=v(t,["topP"]);g!=null&&b(e,["topP"],g);const x=v(t,["topK"]);x!=null&&b(e,["topK"],x);const T=v(t,["thinking"]);return T!=null&&b(e,["thinking"],T),e}function u5(t){const e={},n=v(t,["name"]);n!=null&&b(e,["name"],n);const r=v(t,["displayName"]);r!=null&&b(e,["displayName"],r);const i=v(t,["description"]);i!=null&&b(e,["description"],i);const s=v(t,["versionId"]);s!=null&&b(e,["version"],s);const a=v(t,["deployedModels"]);if(a!=null){let p=a;Array.isArray(p)&&(p=p.map(g=>Jne(g))),b(e,["endpoints"],p)}const o=v(t,["labels"]);o!=null&&b(e,["labels"],o);const c=v(t,["_self"]);c!=null&&b(e,["tunedModelInfo"],tie(c));const f=v(t,["defaultCheckpointId"]);f!=null&&b(e,["defaultCheckpointId"],f);const h=v(t,["checkpoints"]);if(h!=null){let p=h;Array.isArray(p)&&(p=p.map(g=>g)),b(e,["checkpoints"],p)}return e}function Ure(t){const e={},n=v(t,["mediaResolution"]);n!=null&&b(e,["mediaResolution"],n);const r=v(t,["codeExecutionResult"]);r!=null&&b(e,["codeExecutionResult"],r);const i=v(t,["executableCode"]);i!=null&&b(e,["executableCode"],i);const s=v(t,["fileData"]);s!=null&&b(e,["fileData"],Qne(s));const a=v(t,["functionCall"]);a!=null&&b(e,["functionCall"],Zne(a));const o=v(t,["functionResponse"]);o!=null&&b(e,["functionResponse"],o);const c=v(t,["inlineData"]);c!=null&&b(e,["inlineData"],Ene(c));const f=v(t,["text"]);f!=null&&b(e,["text"],f);const h=v(t,["thought"]);h!=null&&b(e,["thought"],h);const p=v(t,["thoughtSignature"]);p!=null&&b(e,["thoughtSignature"],p);const g=v(t,["videoMetadata"]);return g!=null&&b(e,["videoMetadata"],g),e}function Bre(t){const e={},n=v(t,["productImage"]);return n!=null&&b(e,["image"],Ql(n)),e}function jre(t,e){const n={},r=v(t,["numberOfImages"]);e!==void 0&&r!=null&&b(e,["parameters","sampleCount"],r);const i=v(t,["baseSteps"]);e!==void 0&&i!=null&&b(e,["parameters","baseSteps"],i);const s=v(t,["outputGcsUri"]);e!==void 0&&s!=null&&b(e,["parameters","storageUri"],s);const a=v(t,["seed"]);e!==void 0&&a!=null&&b(e,["parameters","seed"],a);const o=v(t,["safetyFilterLevel"]);e!==void 0&&o!=null&&b(e,["parameters","safetySetting"],o);const c=v(t,["personGeneration"]);e!==void 0&&c!=null&&b(e,["parameters","personGeneration"],c);const f=v(t,["addWatermark"]);e!==void 0&&f!=null&&b(e,["parameters","addWatermark"],f);const h=v(t,["outputMimeType"]);e!==void 0&&h!=null&&b(e,["parameters","outputOptions","mimeType"],h);const p=v(t,["outputCompressionQuality"]);e!==void 0&&p!=null&&b(e,["parameters","outputOptions","compressionQuality"],p);const g=v(t,["enhancePrompt"]);e!==void 0&&g!=null&&b(e,["parameters","enhancePrompt"],g);const x=v(t,["labels"]);return e!==void 0&&x!=null&&b(e,["labels"],x),n}function qre(t,e){const n={},r=v(e,["model"]);r!=null&&b(n,["_url","model"],Sr(t,r));const i=v(e,["source"]);i!=null&&zre(i,n);const s=v(e,["config"]);return s!=null&&jre(s,n),n}function Hre(t){const e={},n=v(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>u2(i))),b(e,["generatedImages"],r)}return e}function zre(t,e){const n={},r=v(t,["prompt"]);e!==void 0&&r!=null&&b(e,["instances[0]","prompt"],r);const i=v(t,["personImage"]);e!==void 0&&i!=null&&b(e,["instances[0]","personImage","image"],Ql(i));const s=v(t,["productImages"]);if(e!==void 0&&s!=null){let a=s;Array.isArray(a)&&(a=a.map(o=>Bre(o))),b(e,["instances[0]","productImages"],a)}return n}function Gre(t){const e={},n=v(t,["referenceImage"]);n!=null&&b(e,["referenceImage"],Ql(n));const r=v(t,["referenceId"]);r!=null&&b(e,["referenceId"],r);const i=v(t,["referenceType"]);i!=null&&b(e,["referenceType"],i);const s=v(t,["maskImageConfig"]);s!=null&&b(e,["maskImageConfig"],Vre(s));const a=v(t,["controlImageConfig"]);a!=null&&b(e,["controlImageConfig"],Rne(a));const o=v(t,["styleImageConfig"]);o!=null&&b(e,["styleImageConfig"],o);const c=v(t,["subjectImageConfig"]);return c!=null&&b(e,["subjectImageConfig"],c),e}function PF(t){const e={},n=v(t,["safetyAttributes","categories"]);n!=null&&b(e,["categories"],n);const r=v(t,["safetyAttributes","scores"]);r!=null&&b(e,["scores"],r);const i=v(t,["contentType"]);return i!=null&&b(e,["contentType"],i),e}function DF(t){const e={},n=v(t,["safetyAttributes","categories"]);n!=null&&b(e,["categories"],n);const r=v(t,["safetyAttributes","scores"]);r!=null&&b(e,["scores"],r);const i=v(t,["contentType"]);return i!=null&&b(e,["contentType"],i),e}function $re(t){const e={},n=v(t,["category"]);if(n!=null&&b(e,["category"],n),v(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=v(t,["threshold"]);return r!=null&&b(e,["threshold"],r),e}function Wre(t){const e={},n=v(t,["image"]);return n!=null&&b(e,["image"],Ql(n)),e}function Kre(t,e){const n={},r=v(t,["mode"]);e!==void 0&&r!=null&&b(e,["parameters","mode"],r);const i=v(t,["maxPredictions"]);e!==void 0&&i!=null&&b(e,["parameters","maxPredictions"],i);const s=v(t,["confidenceThreshold"]);e!==void 0&&s!=null&&b(e,["parameters","confidenceThreshold"],s);const a=v(t,["maskDilation"]);e!==void 0&&a!=null&&b(e,["parameters","maskDilation"],a);const o=v(t,["binaryColorThreshold"]);e!==void 0&&o!=null&&b(e,["parameters","binaryColorThreshold"],o);const c=v(t,["labels"]);return e!==void 0&&c!=null&&b(e,["labels"],c),n}function Yre(t,e){const n={},r=v(e,["model"]);r!=null&&b(n,["_url","model"],Sr(t,r));const i=v(e,["source"]);i!=null&&Jre(i,n);const s=v(e,["config"]);return s!=null&&Kre(s,n),n}function Xre(t){const e={},n=v(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>wre(i))),b(e,["generatedMasks"],r)}return e}function Jre(t,e){const n={},r=v(t,["prompt"]);e!==void 0&&r!=null&&b(e,["instances[0]","prompt"],r);const i=v(t,["image"]);e!==void 0&&i!=null&&b(e,["instances[0]","image"],Ql(i));const s=v(t,["scribbleImage"]);return e!==void 0&&s!=null&&b(e,["instances[0]","scribble"],Wre(s)),n}function MF(t){const e={},n=v(t,["languageCode"]);n!=null&&b(e,["languageCode"],n);const r=v(t,["voiceConfig"]);if(r!=null&&b(e,["voiceConfig"],r),v(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function Qre(t){const e={},n=v(t,["functionCallingConfig"]);n!=null&&b(e,["functionCallingConfig"],ere(n));const r=v(t,["retrievalConfig"]);return r!=null&&b(e,["retrievalConfig"],r),e}function Zre(t){const e={},n=v(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>p)),b(e,["functionDeclarations"],h)}if(v(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=v(t,["googleSearchRetrieval"]);r!=null&&b(e,["googleSearchRetrieval"],r);const i=v(t,["computerUse"]);i!=null&&b(e,["computerUse"],i);const s=v(t,["fileSearch"]);s!=null&&b(e,["fileSearch"],s);const a=v(t,["codeExecution"]);if(a!=null&&b(e,["codeExecution"],a),v(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=v(t,["googleMaps"]);o!=null&&b(e,["googleMaps"],Cre(o));const c=v(t,["googleSearch"]);c!=null&&b(e,["googleSearch"],Nre(c));const f=v(t,["urlContext"]);return f!=null&&b(e,["urlContext"],f),e}function LF(t){const e={},n=v(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(g=>tre(g))),b(e,["functionDeclarations"],p)}const r=v(t,["retrieval"]);r!=null&&b(e,["retrieval"],r);const i=v(t,["googleSearchRetrieval"]);i!=null&&b(e,["googleSearchRetrieval"],i);const s=v(t,["computerUse"]);if(s!=null&&b(e,["computerUse"],s),v(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=v(t,["codeExecution"]);a!=null&&b(e,["codeExecution"],a);const o=v(t,["enterpriseWebSearch"]);o!=null&&b(e,["enterpriseWebSearch"],o);const c=v(t,["googleMaps"]);c!=null&&b(e,["googleMaps"],c);const f=v(t,["googleSearch"]);f!=null&&b(e,["googleSearch"],f);const h=v(t,["urlContext"]);return h!=null&&b(e,["urlContext"],h),e}function eie(t){const e={},n=v(t,["baseModel"]);n!=null&&b(e,["baseModel"],n);const r=v(t,["createTime"]);r!=null&&b(e,["createTime"],r);const i=v(t,["updateTime"]);return i!=null&&b(e,["updateTime"],i),e}function tie(t){const e={},n=v(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&b(e,["baseModel"],n);const r=v(t,["createTime"]);r!=null&&b(e,["createTime"],r);const i=v(t,["updateTime"]);return i!=null&&b(e,["updateTime"],i),e}function nie(t,e){const n={},r=v(t,["displayName"]);e!==void 0&&r!=null&&b(e,["displayName"],r);const i=v(t,["description"]);e!==void 0&&i!=null&&b(e,["description"],i);const s=v(t,["defaultCheckpointId"]);return e!==void 0&&s!=null&&b(e,["defaultCheckpointId"],s),n}function rie(t,e){const n={},r=v(t,["displayName"]);e!==void 0&&r!=null&&b(e,["displayName"],r);const i=v(t,["description"]);e!==void 0&&i!=null&&b(e,["description"],i);const s=v(t,["defaultCheckpointId"]);return e!==void 0&&s!=null&&b(e,["defaultCheckpointId"],s),n}function iie(t,e){const n={},r=v(e,["model"]);r!=null&&b(n,["_url","name"],Sr(t,r));const i=v(e,["config"]);return i!=null&&nie(i,n),n}function sie(t,e){const n={},r=v(e,["model"]);r!=null&&b(n,["_url","model"],Sr(t,r));const i=v(e,["config"]);return i!=null&&rie(i,n),n}function aie(t,e){const n={},r=v(t,["outputGcsUri"]);e!==void 0&&r!=null&&b(e,["parameters","storageUri"],r);const i=v(t,["safetyFilterLevel"]);e!==void 0&&i!=null&&b(e,["parameters","safetySetting"],i);const s=v(t,["personGeneration"]);e!==void 0&&s!=null&&b(e,["parameters","personGeneration"],s);const a=v(t,["includeRaiReason"]);e!==void 0&&a!=null&&b(e,["parameters","includeRaiReason"],a);const o=v(t,["outputMimeType"]);e!==void 0&&o!=null&&b(e,["parameters","outputOptions","mimeType"],o);const c=v(t,["outputCompressionQuality"]);e!==void 0&&c!=null&&b(e,["parameters","outputOptions","compressionQuality"],c);const f=v(t,["enhanceInputImage"]);e!==void 0&&f!=null&&b(e,["parameters","upscaleConfig","enhanceInputImage"],f);const h=v(t,["imagePreservationFactor"]);e!==void 0&&h!=null&&b(e,["parameters","upscaleConfig","imagePreservationFactor"],h);const p=v(t,["labels"]);e!==void 0&&p!=null&&b(e,["labels"],p);const g=v(t,["numberOfImages"]);e!==void 0&&g!=null&&b(e,["parameters","sampleCount"],g);const x=v(t,["mode"]);return e!==void 0&&x!=null&&b(e,["parameters","mode"],x),n}function oie(t,e){const n={},r=v(e,["model"]);r!=null&&b(n,["_url","model"],Sr(t,r));const i=v(e,["image"]);i!=null&&b(n,["instances[0]","image"],Ql(i));const s=v(e,["upscaleFactor"]);s!=null&&b(n,["parameters","upscaleConfig","upscaleFactor"],s);const a=v(e,["config"]);return a!=null&&aie(a,n),n}function lie(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=v(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>u2(s))),b(e,["generatedImages"],i)}return e}function cie(t){const e={},n=v(t,["uri"]);n!=null&&b(e,["uri"],n);const r=v(t,["encodedVideo"]);r!=null&&b(e,["videoBytes"],rh(r));const i=v(t,["encoding"]);return i!=null&&b(e,["mimeType"],i),e}function uie(t){const e={},n=v(t,["gcsUri"]);n!=null&&b(e,["uri"],n);const r=v(t,["bytesBase64Encoded"]);r!=null&&b(e,["videoBytes"],rh(r));const i=v(t,["mimeType"]);return i!=null&&b(e,["mimeType"],i),e}function fie(t){const e={},n=v(t,["image"]);n!=null&&b(e,["_self"],Ql(n));const r=v(t,["maskMode"]);return r!=null&&b(e,["maskMode"],r),e}function hie(t){const e={},n=v(t,["image"]);n!=null&&b(e,["image"],f2(n));const r=v(t,["referenceType"]);return r!=null&&b(e,["referenceType"],r),e}function die(t){const e={},n=v(t,["image"]);n!=null&&b(e,["image"],Ql(n));const r=v(t,["referenceType"]);return r!=null&&b(e,["referenceType"],r),e}function FF(t){const e={},n=v(t,["uri"]);n!=null&&b(e,["uri"],n);const r=v(t,["videoBytes"]);r!=null&&b(e,["encodedVideo"],rh(r));const i=v(t,["mimeType"]);return i!=null&&b(e,["encoding"],i),e}function OF(t){const e={},n=v(t,["uri"]);n!=null&&b(e,["gcsUri"],n);const r=v(t,["videoBytes"]);r!=null&&b(e,["bytesBase64Encoded"],rh(r));const i=v(t,["mimeType"]);return i!=null&&b(e,["mimeType"],i),e}const pie="Content-Type",mie="X-Server-Timeout",gie="User-Agent",f5="x-goog-api-client",xie="1.30.0",yie=`google-genai-sdk/${xie}`,vie="v1beta1",_ie="v1beta",Sk=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class wie{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:vie,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:_ie,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[a,o]of Object.entries(e.queryParams))i.searchParams.append(a,String(o));let s={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else s.body=e.body;return s=await this.includeExtraHttpOptionsToRequestInit(s,n,i.toString(),e.abortSignal),this.unaryApiCall(i,s,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,s]of Object.entries(n))typeof s=="object"?r[i]=Object.assign(Object.assign({},r[i]),s):s!==void 0&&(r[i]=s);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let s={};return s.body=e.body,s=await this.includeExtraHttpOptionsToRequestInit(s,n,i.toString(),e.abortSignal),this.streamApiCall(i,s,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,i){if(n&&n.timeout||i){const s=new AbortController,a=s.signal;if(n.timeout&&n?.timeout>0){const o=setTimeout(()=>s.abort(),n.timeout);o&&typeof o.unref=="function"&&o.unref()}i&&i.addEventListener("abort",()=>{s.abort()}),e.signal=a}return n&&n.extraBody!==null&&bie(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await Ak(i),new a5(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await Ak(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){var n;return $0(this,arguments,function*(){const i=(n=e?.body)===null||n===void 0?void 0:n.getReader(),s=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let a="";for(;;){const{done:o,value:c}=yield li(i.read());if(o){if(a.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const f=s.decode(c,{stream:!0});try{const p=JSON.parse(f);if("error"in p){const g=JSON.parse(JSON.stringify(p.error)),x=g.status,T=g.code,S=`got status: ${x}. ${JSON.stringify(p)}`;if(T>=400&&T<600)throw new l2({message:S,status:T})}}catch(p){if(p.name==="ApiError")throw p}a+=f;let h=a.match(Sk);for(;h;){const p=h[1];try{const g=new Response(p,{headers:e?.headers,status:e?.status,statusText:e?.statusText});yield yield li(new a5(g)),a=a.slice(h[0].length),h=a.match(Sk)}catch(g){throw new Error(`exception parsing stream chunk ${p}. ${g}`)}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=yie+" "+this.clientOptions.userAgentExtra;return e[gie]=n,e[f5]=n,e[pie]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[i,s]of Object.entries(e.headers))r.append(i,s);e.timeout&&e.timeout>0&&r.append(mie,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const s=this.clientOptions.uploader,a=await s.stat(e);i.sizeBytes=String(a.size);const o=(r=n?.mimeType)!==null&&r!==void 0?r:a.type;if(o===void 0||o==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=o;const c={file:i},f=this.getFileName(e),h=Ut("upload/v1beta/files",c._url),p=await this.fetchUploadUrl(h,i.sizeBytes,i.mimeType,f,c,n?.httpOptions);return s.upload(e,p,this)}async uploadFileToFileSearchStore(e,n,r){var i;const s=this.clientOptions.uploader,a=await s.stat(n),o=String(a.size),c=(i=r?.mimeType)!==null&&i!==void 0?i:a.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const f=`upload/v1beta/${e}:uploadToFileSearchStore`,h=this.getFileName(n),p={};r?.customMetadata&&(p.customMetadata=r.customMetadata),r?.chunkingConfig&&(p.chunkingConfig=r.chunkingConfig);const g=await this.fetchUploadUrl(f,o,c,h,p,r?.httpOptions);return s.uploadToFileSearchStore(n,g,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,i,s,a){var o;let c={};a?c=a:c={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const f=await this.request({path:e,body:JSON.stringify(s),httpMethod:"POST",httpOptions:c});if(!f||!f?.headers)throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const h=(o=f?.headers)===null||o===void 0?void 0:o["x-goog-upload-url"];if(h===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return h}}async function Ak(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new l2({message:i,status:n}):new Error(i)}}function bie(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const s=JSON.parse(t.body);if(typeof s=="object"&&s!==null&&!Array.isArray(s))n=s;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(s,a){const o=Object.assign({},s);for(const c in a)if(Object.prototype.hasOwnProperty.call(a,c)){const f=a[c],h=o[c];f&&typeof f=="object"&&!Array.isArray(f)&&h&&typeof h=="object"&&!Array.isArray(h)?o[c]=r(h,f):(h&&f&&typeof h!=typeof f&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${c}". Original type: ${typeof h}, New type: ${typeof f}. Overwriting.`),o[c]=f)}return o}const i=r(n,e);t.body=JSON.stringify(i)}const Tie="mcp_used/unknown";let Eie=!1;function VF(t){for(const e of t)if(Sie(e)||typeof e=="object"&&"inputSchema"in e)return!0;return Eie}function UF(t){var e;const n=(e=t[f5])!==null&&e!==void 0?e:"";t[f5]=(n+` ${Tie}`).trimStart()}function Sie(t){return t!==null&&typeof t=="object"&&t instanceof PE}function Aie(t,e=100){return $0(this,arguments,function*(){let r,i=0;for(;i<e;){const s=yield li(t.listTools({cursor:r}));for(const a of s.tools)yield yield li(a),i++;if(!s.nextCursor)break;r=s.nextCursor}})}class PE{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new PE(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const s={},a=[];for(const h of this.mcpClients)try{for(var o=!0,c=(n=void 0,sg(Aie(h))),f;f=await c.next(),e=f.done,!e;o=!0){i=f.value,o=!1;const p=i;a.push(p);const g=p.name;if(s[g])throw new Error(`Duplicate function name ${g} found in MCP tools. Please ensure function names are unique.`);s[g]=h}}catch(p){n={error:p}}finally{try{!o&&!e&&(r=c.return)&&await r.call(c)}finally{if(n)throw n.error}}this.mcpTools=a,this.functionNameToMcpClient=s}async tool(){return await this.initialize(),yee(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let s;this.config.timeout&&(s={timeout:this.config.timeout});const a=await i.callTool({name:r.name,arguments:r.args},void 0,s);n.push({functionResponse:{name:r.name,response:a.isError?{error:a}:a}})}return n}}async function Cie(t,e,n){const r=new uee;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),e(r)}class Nie{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),s=this.apiClient.getApiVersion(),a=Rie(this.apiClient.getDefaultHeaders()),o=this.apiClient.getApiKey(),c=`${i}/ws/google.ai.generativelanguage.${s}.GenerativeService.BidiGenerateMusic?key=${o}`;let f=()=>{};const h=new Promise(R=>{f=R}),p=e.callbacks,g=function(){f({})},x=this.apiClient,T={onopen:g,onmessage:R=>{Cie(x,p.onmessage,R)},onerror:(n=p?.onerror)!==null&&n!==void 0?n:function(R){},onclose:(r=p?.onclose)!==null&&r!==void 0?r:function(R){}},S=this.webSocketFactory.create(c,kie(a),T);S.connect(),await h;const B={setup:{model:Sr(this.apiClient,e.model)}};return S.send(JSON.stringify(B)),new Iie(S,this.apiClient)}}class Iie{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=mne(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=pne(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(L0.PLAY)}pause(){this.sendPlaybackControl(L0.PAUSE)}stop(){this.sendPlaybackControl(L0.STOP)}resetContext(){this.sendPlaybackControl(L0.RESET_CONTEXT)}close(){this.conn.close()}}function kie(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function Rie(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}const Pie="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function Die(t,e,n){const r=new cee;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const s=JSON.parse(i);if(t.isVertexAI()){const a=yne(s);Object.assign(r,a)}else Object.assign(r,s);e(r)}class Mie{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new Nie(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,s,a,o;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const c=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion();let h;const p=this.apiClient.getHeaders();e.config&&e.config.tools&&VF(e.config.tools)&&UF(p);const g=Vie(p);if(this.apiClient.isVertexAI())h=`${c}/ws/google.cloud.aiplatform.${f}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(g,h);else{const C=this.apiClient.getApiKey();let H="BidiGenerateContent",P="key";C?.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),f!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),H="BidiGenerateContentConstrained",P="access_token"),h=`${c}/ws/google.ai.generativelanguage.${f}.GenerativeService.${H}?${P}=${C}`}let x=()=>{};const T=new Promise(C=>{x=C}),S=e.callbacks,N=function(){var C;(C=S?.onopen)===null||C===void 0||C.call(S),x({})},k=this.apiClient,B={onopen:N,onmessage:C=>{Die(k,S.onmessage,C)},onerror:(n=S?.onerror)!==null&&n!==void 0?n:function(C){},onclose:(r=S?.onclose)!==null&&r!==void 0?r:function(C){}},R=this.webSocketFactory.create(h,Oie(g),B);R.connect(),await T;let q=Sr(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&q.startsWith("publishers/")){const C=this.apiClient.getProject(),H=this.apiClient.getLocation();q=`projects/${C}/locations/${H}/`+q}let Y={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Vg.AUDIO]}:e.config.responseModalities=[Vg.AUDIO]),!((s=e.config)===null||s===void 0)&&s.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const J=(o=(a=e.config)===null||a===void 0?void 0:a.tools)!==null&&o!==void 0?o:[],F=[];for(const C of J)if(this.isCallableTool(C)){const H=C;F.push(await H.tool())}else F.push(C);F.length>0&&(e.config.tools=F);const O={model:q,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?Y=dne(this.apiClient,O):Y=hne(this.apiClient,O),delete Y.config,R.send(JSON.stringify(Y)),new Fie(R,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const Lie={turnComplete:!0};class Fie{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=ml(n.turns),e.isVertexAI()||(r=r.map(i=>c2(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const s of r){if(typeof s!="object"||s===null||!("name"in s)||!("response"in s))throw new Error(`Could not parse function response, type '${typeof s}'.`);if(!e.isVertexAI()&&!("id"in s))throw new Error(Pie)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},Lie),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:xne(e)}:n={realtimeInput:gne(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function Oie(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function Vie(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}const Ck=10;function Nk(t){var e,n,r;if(!((e=t?.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const a of(n=t?.tools)!==null&&n!==void 0?n:[])if(W0(a)){i=!0;break}if(!i)return!0;const s=(r=t?.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return s&&(s<0||!Number.isInteger(s))||s==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",s),!0):!1}function W0(t){return"callTool"in t&&typeof t.callTool=="function"}function Uie(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>W0(i)))!==null&&r!==void 0?r:!1}function Ik(t){var e;const n=[];return!((e=t?.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,i)=>{if(W0(r))return;const s=r;s.functionDeclarations&&s.functionDeclarations.length>0&&n.push(i)}),n}function kk(t){var e;return!(!((e=t?.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}class Bie extends Ou{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,s,a,o;const c=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!Uie(n)||Nk(n.config))return await this.generateContentInternal(c);const f=Ik(n);if(f.length>0){const S=f.map(N=>`tools[${N}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${S}.`)}let h,p;const g=ml(c.contents),x=(s=(i=(r=c.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&s!==void 0?s:Ck;let T=0;for(;T<x&&(h=await this.generateContentInternal(c),!(!h.functionCalls||h.functionCalls.length===0));){const S=h.candidates[0].content,N=[];for(const k of(o=(a=n.config)===null||a===void 0?void 0:a.tools)!==null&&o!==void 0?o:[])if(W0(k)){const R=await k.callTool(h.functionCalls);N.push(...R)}T++,p={role:"user",parts:N},c.contents=ml(c.contents),c.contents.push(S),c.contents.push(p),kk(c.config)&&(g.push(S),g.push(p))}return kk(c.config)&&(h.automaticFunctionCallingHistory=g),h},this.generateContentStream=async n=>{var r,i,s,a,o;if(this.maybeMoveToResponseJsonSchem(n),Nk(n.config)){const p=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(p)}const c=Ik(n);if(c.length>0){const p=c.map(g=>`tools[${g}]`).join(", ");throw new Error(`Incompatible tools found at ${p}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const f=(s=(i=(r=n?.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||s===void 0?void 0:s.streamFunctionCallArguments,h=(o=(a=n?.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||o===void 0?void 0:o.disable;if(f&&!h)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let s;const a=[];if(r?.generatedImages)for(const c of r.generatedImages)c&&c?.safetyAttributes&&((i=c?.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?s=c?.safetyAttributes:a.push(c);let o;return s?o={generatedImages:a,positivePromptSafetyAttributes:s,sdkHttpResponse:r.sdkHttpResponse}:o={generatedImages:a,sdkHttpResponse:r.sdkHttpResponse},o}),this.list=async n=>{var r;const a={config:Object.assign(Object.assign({},{queryBase:!0}),n?.config)};if(this.apiClient.isVertexAI()&&!a.config.queryBase){if(!((r=a.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");a.config.filter="labels.tune-type:*"}return new yd(Pu.PAGED_ITEM_MODELS,o=>this.listInternal(o),await this.listInternal(a),a)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,s,a,o,c;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((a=(s=n.source)===null||s===void 0?void 0:s.video)===null||a===void 0)&&a.uri&&(!((c=(o=n.source)===null||o===void 0?void 0:o.video)===null||c===void 0)&&c.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const s=(n=e.config)===null||n===void 0?void 0:n.tools;if(!s)return e;const a=await Promise.all(s.map(async c=>W0(c)?await c.tool():c)),o={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:a})};if(o.config.tools=a,e.config&&e.config.tools&&VF(e.config.tools)){const c=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let f=Object.assign({},c);Object.keys(f).length===0&&(f=this.apiClient.getDefaultHeaders()),UF(f),o.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:f})}return o}async initAfcToolsMap(e){var n,r,i;const s=new Map;for(const a of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(W0(a)){const o=a,c=await o.tool();for(const f of(i=c.functionDeclarations)!==null&&i!==void 0?i:[]){if(!f.name)throw new Error("Function declaration name is required.");if(s.has(f.name))throw new Error(`Duplicate tool declaration name: ${f.name}`);s.set(f.name,o)}}return s}async processAfcStream(e){var n,r,i;const s=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:Ck;let a=!1,o=0;const c=await this.initAfcToolsMap(e);return(function(f,h,p){var g,x;return $0(this,arguments,function*(){for(var T,S,N,k;o<s;){a&&(o++,a=!1);const Y=yield li(f.processParamsMaybeAddMcpUsage(p)),J=yield li(f.generateContentStreamInternal(Y)),F=[],O=[];try{for(var B=!0,R=(S=void 0,sg(J)),q;q=yield li(R.next()),T=q.done,!T;B=!0){k=q.value,B=!1;const C=k;if(yield yield li(C),C.candidates&&(!((g=C.candidates[0])===null||g===void 0)&&g.content)){O.push(C.candidates[0].content);for(const H of(x=C.candidates[0].content.parts)!==null&&x!==void 0?x:[])if(o<s&&H.functionCall){if(!H.functionCall.name)throw new Error("Function call name was not returned by the model.");if(h.has(H.functionCall.name)){const P=yield li(h.get(H.functionCall.name).callTool([H.functionCall]));F.push(...P)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${h.keys()}, mising tool: ${H.functionCall.name}`)}}}}catch(C){S={error:C}}finally{try{!B&&!T&&(N=R.return)&&(yield li(N.call(R)))}finally{if(S)throw S.error}}if(F.length>0){a=!0;const C=new km;C.candidates=[{content:{role:"user",parts:F}}],yield yield li(C);const H=[];H.push(...O),H.push({role:"user",parts:F});const P=ml(p.contents).concat(H);p.contents=P}else break}})})(this,c,e)}async generateContentInternal(e){var n,r,i,s;let a,o="",c={};if(this.apiClient.isVertexAI()){const f=bk(this.apiClient,e);return o=Ut("{model}:generateContent",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=Ek(h),g=new km;return Object.assign(g,p),g})}else{const f=wk(this.apiClient,e);return o=Ut("{model}:generateContent",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=Tk(h),g=new km;return Object.assign(g,p),g})}}async generateContentStreamInternal(e){var n,r,i,s;let a,o="",c={};if(this.apiClient.isVertexAI()){const f=bk(this.apiClient,e);return o=Ut("{model}:streamGenerateContent?alt=sse",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.requestStream({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),a.then(function(p){return $0(this,arguments,function*(){var g,x,T,S;try{for(var N=!0,k=sg(p),B;B=yield li(k.next()),g=B.done,!g;N=!0){S=B.value,N=!1;const R=S,q=Ek(yield li(R.json()));q.sdkHttpResponse={headers:R.headers};const Y=new km;Object.assign(Y,q),yield yield li(Y)}}catch(R){x={error:R}}finally{try{!N&&!g&&(T=k.return)&&(yield li(T.call(k)))}finally{if(x)throw x.error}}})})}else{const f=wk(this.apiClient,e);return o=Ut("{model}:streamGenerateContent?alt=sse",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.requestStream({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}),a.then(function(p){return $0(this,arguments,function*(){var g,x,T,S;try{for(var N=!0,k=sg(p),B;B=yield li(k.next()),g=B.done,!g;N=!0){S=B.value,N=!1;const R=S,q=Tk(yield li(R.json()));q.sdkHttpResponse={headers:R.headers};const Y=new km;Object.assign(Y,q),yield yield li(Y)}}catch(R){x={error:R}}finally{try{!N&&!g&&(T=k.return)&&(yield li(T.call(k)))}finally{if(x)throw x.error}}})})}}async embedContent(e){var n,r,i,s;let a,o="",c={};if(this.apiClient.isVertexAI()){const f=Kne(this.apiClient,e);return o=Ut("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=Xne(h),g=new sk;return Object.assign(g,p),g})}else{const f=Wne(this.apiClient,e);return o=Ut("{model}:batchEmbedContents",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=Yne(h),g=new sk;return Object.assign(g,p),g})}}async generateImagesInternal(e){var n,r,i,s;let a,o="",c={};if(this.apiClient.isVertexAI()){const f=ore(this.apiClient,e);return o=Ut("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=cre(h),g=new ak;return Object.assign(g,p),g})}else{const f=are(this.apiClient,e);return o=Ut("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=lre(h),g=new ak;return Object.assign(g,p),g})}}async editImageInternal(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI()){const o=Hne(this.apiClient,e);return s=Ut("{model}:predict",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const f=zne(c),h=new QZ;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI()){const o=oie(this.apiClient,e);return s=Ut("{model}:predict",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const f=lie(c),h=new ZZ;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI()){const o=qre(this.apiClient,e);return s=Ut("{model}:predict",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=Hre(c),h=new eee;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI()){const o=Yre(this.apiClient,e);return s=Ut("{model}:predict",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=Xre(c),h=new tee;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,s;let a,o="",c={};if(this.apiClient.isVertexAI()){const f=Are(this.apiClient,e);return o=Ut("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a.then(h=>u5(h))}else{const f=Sre(this.apiClient,e);return o=Ut("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),a.then(h=>c5(h))}}async listInternal(e){var n,r,i,s;let a,o="",c={};if(this.apiClient.isVertexAI()){const f=Lre(this.apiClient,e);return o=Ut("{models_url}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=Ore(h),g=new ok;return Object.assign(g,p),g})}else{const f=Mre(this.apiClient,e);return o=Ut("{models_url}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=Fre(h),g=new ok;return Object.assign(g,p),g})}}async update(e){var n,r,i,s;let a,o="",c={};if(this.apiClient.isVertexAI()){const f=sie(this.apiClient,e);return o=Ut("{model}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a.then(h=>u5(h))}else{const f=iie(this.apiClient,e);return o=Ut("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),a.then(h=>c5(h))}}async delete(e){var n,r,i,s;let a,o="",c={};if(this.apiClient.isVertexAI()){const f=Une(this.apiClient,e);return o=Ut("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=jne(h),g=new lk;return Object.assign(g,p),g})}else{const f=Vne(this.apiClient,e);return o=Ut("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=Bne(h),g=new lk;return Object.assign(g,p),g})}}async countTokens(e){var n,r,i,s;let a,o="",c={};if(this.apiClient.isVertexAI()){const f=Lne(this.apiClient,e);return o=Ut("{model}:countTokens",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=One(h),g=new ck;return Object.assign(g,p),g})}else{const f=Mne(this.apiClient,e);return o=Ut("{model}:countTokens",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=Fne(h),g=new ck;return Object.assign(g,p),g})}}async computeTokens(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI()){const o=Cne(this.apiClient,e);return s=Ut("{model}:computeTokens",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const f=Nne(c),h=new nee;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,s;let a,o="",c={};if(this.apiClient.isVertexAI()){const f=mre(this.apiClient,e);return o=Ut("{model}:predictLongRunning",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a.then(h=>{const p=dre(h),g=new ov;return Object.assign(g,p),g})}else{const f=pre(this.apiClient,e);return o=Ut("{model}:predictLongRunning",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),a.then(h=>{const p=hre(h),g=new ov;return Object.assign(g,p),g})}}}class jie extends Ou{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let s;r&&"httpOptions"in r&&(s=r.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:s}});return n._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let s;r&&"httpOptions"in r&&(s=r.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:s}});return n._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,s;let a,o="",c={};if(this.apiClient.isVertexAI()){const f=$Z(e);return o=Ut("{operationName}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),a}else{const f=GZ(e);return o=Ut("{operationName}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),a}}async fetchPredictVideosOperationInternal(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI()){const o=VZ(e);return s=Ut("{resourceName}:fetchPredictOperation",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}function qie(t){const e={},n=v(t,["data"]);if(n!=null&&b(e,["data"],n),v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=v(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function Hie(t){const e={},n=v(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>Qie(s))),b(e,["parts"],i)}const r=v(t,["role"]);return r!=null&&b(e,["role"],r),e}function zie(t,e,n){const r={},i=v(e,["expireTime"]);n!==void 0&&i!=null&&b(n,["expireTime"],i);const s=v(e,["newSessionExpireTime"]);n!==void 0&&s!=null&&b(n,["newSessionExpireTime"],s);const a=v(e,["uses"]);n!==void 0&&a!=null&&b(n,["uses"],a);const o=v(e,["liveConnectConstraints"]);n!==void 0&&o!=null&&b(n,["bidiGenerateContentSetup"],Jie(t,o));const c=v(e,["lockAdditionalFields"]);return n!==void 0&&c!=null&&b(n,["fieldMask"],c),r}function Gie(t,e){const n={},r=v(e,["config"]);return r!=null&&b(n,["config"],zie(t,r,n)),n}function $ie(t){const e={};if(v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(t,["fileUri"]);n!=null&&b(e,["fileUri"],n);const r=v(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function Wie(t){const e={},n=v(t,["id"]);n!=null&&b(e,["id"],n);const r=v(t,["args"]);r!=null&&b(e,["args"],r);const i=v(t,["name"]);if(i!=null&&b(e,["name"],i),v(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(v(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Kie(t){const e={};if(v(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=v(t,["enableWidget"]);return n!=null&&b(e,["enableWidget"],n),e}function Yie(t){const e={};if(v(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(v(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=v(t,["timeRangeFilter"]);return n!=null&&b(e,["timeRangeFilter"],n),e}function Xie(t,e){const n={},r=v(t,["generationConfig"]);e!==void 0&&r!=null&&b(e,["setup","generationConfig"],r);const i=v(t,["responseModalities"]);e!==void 0&&i!=null&&b(e,["setup","generationConfig","responseModalities"],i);const s=v(t,["temperature"]);e!==void 0&&s!=null&&b(e,["setup","generationConfig","temperature"],s);const a=v(t,["topP"]);e!==void 0&&a!=null&&b(e,["setup","generationConfig","topP"],a);const o=v(t,["topK"]);e!==void 0&&o!=null&&b(e,["setup","generationConfig","topK"],o);const c=v(t,["maxOutputTokens"]);e!==void 0&&c!=null&&b(e,["setup","generationConfig","maxOutputTokens"],c);const f=v(t,["mediaResolution"]);e!==void 0&&f!=null&&b(e,["setup","generationConfig","mediaResolution"],f);const h=v(t,["seed"]);e!==void 0&&h!=null&&b(e,["setup","generationConfig","seed"],h);const p=v(t,["speechConfig"]);e!==void 0&&p!=null&&b(e,["setup","generationConfig","speechConfig"],RE(p));const g=v(t,["thinkingConfig"]);e!==void 0&&g!=null&&b(e,["setup","generationConfig","thinkingConfig"],g);const x=v(t,["enableAffectiveDialog"]);e!==void 0&&x!=null&&b(e,["setup","generationConfig","enableAffectiveDialog"],x);const T=v(t,["systemInstruction"]);e!==void 0&&T!=null&&b(e,["setup","systemInstruction"],Hie(Sa(T)));const S=v(t,["tools"]);if(e!==void 0&&S!=null){let J=Dp(S);Array.isArray(J)&&(J=J.map(F=>ese(Pp(F)))),b(e,["setup","tools"],J)}const N=v(t,["sessionResumption"]);e!==void 0&&N!=null&&b(e,["setup","sessionResumption"],Zie(N));const k=v(t,["inputAudioTranscription"]);e!==void 0&&k!=null&&b(e,["setup","inputAudioTranscription"],k);const B=v(t,["outputAudioTranscription"]);e!==void 0&&B!=null&&b(e,["setup","outputAudioTranscription"],B);const R=v(t,["realtimeInputConfig"]);e!==void 0&&R!=null&&b(e,["setup","realtimeInputConfig"],R);const q=v(t,["contextWindowCompression"]);e!==void 0&&q!=null&&b(e,["setup","contextWindowCompression"],q);const Y=v(t,["proactivity"]);return e!==void 0&&Y!=null&&b(e,["setup","proactivity"],Y),n}function Jie(t,e){const n={},r=v(e,["model"]);r!=null&&b(n,["setup","model"],Sr(t,r));const i=v(e,["config"]);return i!=null&&b(n,["config"],Xie(i,n)),n}function Qie(t){const e={},n=v(t,["mediaResolution"]);n!=null&&b(e,["mediaResolution"],n);const r=v(t,["codeExecutionResult"]);r!=null&&b(e,["codeExecutionResult"],r);const i=v(t,["executableCode"]);i!=null&&b(e,["executableCode"],i);const s=v(t,["fileData"]);s!=null&&b(e,["fileData"],$ie(s));const a=v(t,["functionCall"]);a!=null&&b(e,["functionCall"],Wie(a));const o=v(t,["functionResponse"]);o!=null&&b(e,["functionResponse"],o);const c=v(t,["inlineData"]);c!=null&&b(e,["inlineData"],qie(c));const f=v(t,["text"]);f!=null&&b(e,["text"],f);const h=v(t,["thought"]);h!=null&&b(e,["thought"],h);const p=v(t,["thoughtSignature"]);p!=null&&b(e,["thoughtSignature"],p);const g=v(t,["videoMetadata"]);return g!=null&&b(e,["videoMetadata"],g),e}function Zie(t){const e={},n=v(t,["handle"]);if(n!=null&&b(e,["handle"],n),v(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function ese(t){const e={},n=v(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>p)),b(e,["functionDeclarations"],h)}if(v(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=v(t,["googleSearchRetrieval"]);r!=null&&b(e,["googleSearchRetrieval"],r);const i=v(t,["computerUse"]);i!=null&&b(e,["computerUse"],i);const s=v(t,["fileSearch"]);s!=null&&b(e,["fileSearch"],s);const a=v(t,["codeExecution"]);if(a!=null&&b(e,["codeExecution"],a),v(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=v(t,["googleMaps"]);o!=null&&b(e,["googleMaps"],Kie(o));const c=v(t,["googleSearch"]);c!=null&&b(e,["googleSearch"],Yie(c));const f=v(t,["urlContext"]);return f!=null&&b(e,["urlContext"],f),e}function tse(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(s=>`${n}.${s}`);e.push(...i)}else e.push(n)}return e.join(",")}function nse(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const s=r.setup;typeof s=="object"&&s!==null?(t.bidiGenerateContentSetup=s,n=s):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const s=tse(n);if(Array.isArray(e?.lockAdditionalFields)&&e?.lockAdditionalFields.length===0)s?t.fieldMask=s:delete t.fieldMask;else if(e?.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const a=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let o=[];i.length>0&&(o=i.map(f=>a.includes(f)?`generationConfig.${f}`:f));const c=[];s&&c.push(s),o.length>0&&c.push(...o),c.length>0?t.fieldMask=c.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class rse extends Ou{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const o=Gie(this.apiClient,e);s=Ut("auth_tokens",o._url),a=o._query,delete o.config,delete o._url,delete o._query;const c=nse(o,e.config);return i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>f)}}}function ise(t,e){const n={},r=v(t,["displayName"]);return e!==void 0&&r!=null&&b(e,["displayName"],r),n}function sse(t){const e={},n=v(t,["config"]);return n!=null&&ise(n,e),e}function ase(t,e){const n={},r=v(t,["force"]);return e!==void 0&&r!=null&&b(e,["_query","force"],r),n}function ose(t){const e={},n=v(t,["name"]);n!=null&&b(e,["_url","name"],n);const r=v(t,["config"]);return r!=null&&ase(r,e),e}function lse(t){const e={},n=v(t,["name"]);return n!=null&&b(e,["_url","name"],n),e}function cse(t,e){const n={},r=v(t,["customMetadata"]);if(e!==void 0&&r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>a)),b(e,["customMetadata"],s)}const i=v(t,["chunkingConfig"]);return e!==void 0&&i!=null&&b(e,["chunkingConfig"],i),n}function use(t){const e={},n=v(t,["name"]);n!=null&&b(e,["name"],n);const r=v(t,["metadata"]);r!=null&&b(e,["metadata"],r);const i=v(t,["done"]);i!=null&&b(e,["done"],i);const s=v(t,["error"]);s!=null&&b(e,["error"],s);const a=v(t,["response"]);return a!=null&&b(e,["response"],hse(a)),e}function fse(t){const e={},n=v(t,["fileSearchStoreName"]);n!=null&&b(e,["_url","file_search_store_name"],n);const r=v(t,["fileName"]);r!=null&&b(e,["fileName"],r);const i=v(t,["config"]);return i!=null&&cse(i,e),e}function hse(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=v(t,["parent"]);r!=null&&b(e,["parent"],r);const i=v(t,["documentName"]);return i!=null&&b(e,["documentName"],i),e}function dse(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&b(e,["_query","pageSize"],r);const i=v(t,["pageToken"]);return e!==void 0&&i!=null&&b(e,["_query","pageToken"],i),n}function pse(t){const e={},n=v(t,["config"]);return n!=null&&dse(n,e),e}function mse(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&b(e,["nextPageToken"],r);const i=v(t,["fileSearchStores"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>a)),b(e,["fileSearchStores"],s)}return e}function gse(t,e){const n={},r=v(t,["mimeType"]);e!==void 0&&r!=null&&b(e,["mimeType"],r);const i=v(t,["displayName"]);e!==void 0&&i!=null&&b(e,["displayName"],i);const s=v(t,["customMetadata"]);if(e!==void 0&&s!=null){let o=s;Array.isArray(o)&&(o=o.map(c=>c)),b(e,["customMetadata"],o)}const a=v(t,["chunkingConfig"]);return e!==void 0&&a!=null&&b(e,["chunkingConfig"],a),n}function xse(t){const e={},n=v(t,["fileSearchStoreName"]);n!=null&&b(e,["_url","file_search_store_name"],n);const r=v(t,["config"]);return r!=null&&gse(r,e),e}function yse(t){const e={},n=v(t,["sdkHttpResponse"]);return n!=null&&b(e,["sdkHttpResponse"],n),e}function vse(t,e){const n={},r=v(t,["force"]);return e!==void 0&&r!=null&&b(e,["_query","force"],r),n}function _se(t){const e={},n=v(t,["name"]);n!=null&&b(e,["_url","name"],n);const r=v(t,["config"]);return r!=null&&vse(r,e),e}function wse(t){const e={},n=v(t,["name"]);return n!=null&&b(e,["_url","name"],n),e}function bse(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&b(e,["_query","pageSize"],r);const i=v(t,["pageToken"]);return e!==void 0&&i!=null&&b(e,["_query","pageToken"],i),n}function Tse(t){const e={},n=v(t,["parent"]);n!=null&&b(e,["_url","parent"],n);const r=v(t,["config"]);return r!=null&&bse(r,e),e}function Ese(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&b(e,["nextPageToken"],r);const i=v(t,["documents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>a)),b(e,["documents"],s)}return e}class Sse extends Ou{constructor(e){super(),this.apiClient=e,this.list=async n=>new yd(Pu.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=wse(e);return s=Ut("{name}",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(e){var n,r;let i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=_se(e);i=Ut("{name}",a._url),s=a._query,delete a._url,delete a._query,await this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Tse(e);return s=Ut("{parent}/documents",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=Ese(c),h=new ree;return Object.assign(h,f),h})}}}class Ase extends Ou{constructor(e,n=new Sse(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new yd(Pu.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=sse(e);return s=Ut("fileSearchStores",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async get(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=lse(e);return s=Ut("{name}",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(e){var n,r;let i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=ose(e);i=Ut("{name}",a._url),s=a._query,delete a._url,delete a._query,await this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=pse(e);return s=Ut("fileSearchStores",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=mse(c),h=new iee;return Object.assign(h,f),h})}}async uploadToFileSearchStoreInternal(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=xse(e);return s=Ut("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=yse(c),h=new see;return Object.assign(h,f),h})}}async importFile(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=fse(e);return s=Ut("{file_search_store_name}:importFile",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=use(c),h=new AE;return Object.assign(h,f),h})}}}function Cse(t,e){const n={},r=v(t,["name"]);return r!=null&&b(n,["_url","name"],r),n}function Nse(t,e){const n={},r=v(t,["name"]);return r!=null&&b(n,["_url","name"],r),n}function Ise(t,e,n){const r={};if(v(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=v(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&b(e,["displayName"],i),v(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const s=v(t,["epochCount"]);e!==void 0&&s!=null&&b(e,["tuningTask","hyperparameters","epochCount"],s);const a=v(t,["learningRateMultiplier"]);if(a!=null&&b(r,["tuningTask","hyperparameters","learningRateMultiplier"],a),v(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(v(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(v(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const o=v(t,["batchSize"]);e!==void 0&&o!=null&&b(e,["tuningTask","hyperparameters","batchSize"],o);const c=v(t,["learningRate"]);if(e!==void 0&&c!=null&&b(e,["tuningTask","hyperparameters","learningRate"],c),v(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(v(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function kse(t,e,n){const r={};let i=v(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const x=v(t,["validationDataset"]);e!==void 0&&x!=null&&b(e,["supervisedTuningSpec"],Rk(x))}else if(i==="PREFERENCE_TUNING"){const x=v(t,["validationDataset"]);e!==void 0&&x!=null&&b(e,["preferenceOptimizationSpec"],Rk(x))}const s=v(t,["tunedModelDisplayName"]);e!==void 0&&s!=null&&b(e,["tunedModelDisplayName"],s);const a=v(t,["description"]);e!==void 0&&a!=null&&b(e,["description"],a);let o=v(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const x=v(t,["epochCount"]);e!==void 0&&x!=null&&b(e,["supervisedTuningSpec","hyperParameters","epochCount"],x)}else if(o==="PREFERENCE_TUNING"){const x=v(t,["epochCount"]);e!==void 0&&x!=null&&b(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],x)}let c=v(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const x=v(t,["learningRateMultiplier"]);e!==void 0&&x!=null&&b(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],x)}else if(c==="PREFERENCE_TUNING"){const x=v(t,["learningRateMultiplier"]);e!==void 0&&x!=null&&b(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],x)}let f=v(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const x=v(t,["exportLastCheckpointOnly"]);e!==void 0&&x!=null&&b(e,["supervisedTuningSpec","exportLastCheckpointOnly"],x)}else if(f==="PREFERENCE_TUNING"){const x=v(t,["exportLastCheckpointOnly"]);e!==void 0&&x!=null&&b(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],x)}let h=v(n,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const x=v(t,["adapterSize"]);e!==void 0&&x!=null&&b(e,["supervisedTuningSpec","hyperParameters","adapterSize"],x)}else if(h==="PREFERENCE_TUNING"){const x=v(t,["adapterSize"]);e!==void 0&&x!=null&&b(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],x)}if(v(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(v(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const p=v(t,["labels"]);e!==void 0&&p!=null&&b(e,["labels"],p);const g=v(t,["beta"]);return e!==void 0&&g!=null&&b(e,["preferenceOptimizationSpec","hyperParameters","beta"],g),r}function Rse(t,e){const n={},r=v(t,["baseModel"]);r!=null&&b(n,["baseModel"],r);const i=v(t,["preTunedModel"]);i!=null&&b(n,["preTunedModel"],i);const s=v(t,["trainingDataset"]);s!=null&&qse(s);const a=v(t,["config"]);return a!=null&&Ise(a,n),n}function Pse(t,e){const n={},r=v(t,["baseModel"]);r!=null&&b(n,["baseModel"],r);const i=v(t,["preTunedModel"]);i!=null&&b(n,["preTunedModel"],i);const s=v(t,["trainingDataset"]);s!=null&&Hse(s,n,e);const a=v(t,["config"]);return a!=null&&kse(a,n,e),n}function Dse(t,e){const n={},r=v(t,["name"]);return r!=null&&b(n,["_url","name"],r),n}function Mse(t,e){const n={},r=v(t,["name"]);return r!=null&&b(n,["_url","name"],r),n}function Lse(t,e,n){const r={},i=v(t,["pageSize"]);e!==void 0&&i!=null&&b(e,["_query","pageSize"],i);const s=v(t,["pageToken"]);e!==void 0&&s!=null&&b(e,["_query","pageToken"],s);const a=v(t,["filter"]);return e!==void 0&&a!=null&&b(e,["_query","filter"],a),r}function Fse(t,e,n){const r={},i=v(t,["pageSize"]);e!==void 0&&i!=null&&b(e,["_query","pageSize"],i);const s=v(t,["pageToken"]);e!==void 0&&s!=null&&b(e,["_query","pageToken"],s);const a=v(t,["filter"]);return e!==void 0&&a!=null&&b(e,["_query","filter"],a),r}function Ose(t,e){const n={},r=v(t,["config"]);return r!=null&&Lse(r,n),n}function Vse(t,e){const n={},r=v(t,["config"]);return r!=null&&Fse(r,n),n}function Use(t,e){const n={},r=v(t,["sdkHttpResponse"]);r!=null&&b(n,["sdkHttpResponse"],r);const i=v(t,["nextPageToken"]);i!=null&&b(n,["nextPageToken"],i);const s=v(t,["tunedModels"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(o=>BF(o))),b(n,["tuningJobs"],a)}return n}function Bse(t,e){const n={},r=v(t,["sdkHttpResponse"]);r!=null&&b(n,["sdkHttpResponse"],r);const i=v(t,["nextPageToken"]);i!=null&&b(n,["nextPageToken"],i);const s=v(t,["tuningJobs"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(o=>h5(o))),b(n,["tuningJobs"],a)}return n}function jse(t,e){const n={},r=v(t,["name"]);r!=null&&b(n,["model"],r);const i=v(t,["name"]);return i!=null&&b(n,["endpoint"],i),n}function qse(t,e){const n={};if(v(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(v(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=v(t,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),b(n,["examples","examples"],i)}return n}function Hse(t,e,n){const r={};let i=v(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const a=v(t,["gcsUri"]);e!==void 0&&a!=null&&b(e,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(i==="PREFERENCE_TUNING"){const a=v(t,["gcsUri"]);e!==void 0&&a!=null&&b(e,["preferenceOptimizationSpec","trainingDatasetUri"],a)}let s=v(n,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const a=v(t,["vertexDatasetResource"]);e!==void 0&&a!=null&&b(e,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(s==="PREFERENCE_TUNING"){const a=v(t,["vertexDatasetResource"]);e!==void 0&&a!=null&&b(e,["preferenceOptimizationSpec","trainingDatasetUri"],a)}if(v(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function BF(t,e){const n={},r=v(t,["sdkHttpResponse"]);r!=null&&b(n,["sdkHttpResponse"],r);const i=v(t,["name"]);i!=null&&b(n,["name"],i);const s=v(t,["state"]);s!=null&&b(n,["state"],wF(s));const a=v(t,["createTime"]);a!=null&&b(n,["createTime"],a);const o=v(t,["tuningTask","startTime"]);o!=null&&b(n,["startTime"],o);const c=v(t,["tuningTask","completeTime"]);c!=null&&b(n,["endTime"],c);const f=v(t,["updateTime"]);f!=null&&b(n,["updateTime"],f);const h=v(t,["description"]);h!=null&&b(n,["description"],h);const p=v(t,["baseModel"]);p!=null&&b(n,["baseModel"],p);const g=v(t,["_self"]);return g!=null&&b(n,["tunedModel"],jse(g)),n}function h5(t,e){const n={},r=v(t,["sdkHttpResponse"]);r!=null&&b(n,["sdkHttpResponse"],r);const i=v(t,["name"]);i!=null&&b(n,["name"],i);const s=v(t,["state"]);s!=null&&b(n,["state"],wF(s));const a=v(t,["createTime"]);a!=null&&b(n,["createTime"],a);const o=v(t,["startTime"]);o!=null&&b(n,["startTime"],o);const c=v(t,["endTime"]);c!=null&&b(n,["endTime"],c);const f=v(t,["updateTime"]);f!=null&&b(n,["updateTime"],f);const h=v(t,["error"]);h!=null&&b(n,["error"],h);const p=v(t,["description"]);p!=null&&b(n,["description"],p);const g=v(t,["baseModel"]);g!=null&&b(n,["baseModel"],g);const x=v(t,["tunedModel"]);x!=null&&b(n,["tunedModel"],x);const T=v(t,["preTunedModel"]);T!=null&&b(n,["preTunedModel"],T);const S=v(t,["supervisedTuningSpec"]);S!=null&&b(n,["supervisedTuningSpec"],S);const N=v(t,["preferenceOptimizationSpec"]);N!=null&&b(n,["preferenceOptimizationSpec"],N);const k=v(t,["tuningDataStats"]);k!=null&&b(n,["tuningDataStats"],k);const B=v(t,["encryptionSpec"]);B!=null&&b(n,["encryptionSpec"],B);const R=v(t,["partnerModelTuningSpec"]);R!=null&&b(n,["partnerModelTuningSpec"],R);const q=v(t,["customBaseModel"]);q!=null&&b(n,["customBaseModel"],q);const Y=v(t,["experiment"]);Y!=null&&b(n,["experiment"],Y);const J=v(t,["labels"]);J!=null&&b(n,["labels"],J);const F=v(t,["outputUri"]);F!=null&&b(n,["outputUri"],F);const O=v(t,["pipelineJob"]);O!=null&&b(n,["pipelineJob"],O);const C=v(t,["serviceAccount"]);C!=null&&b(n,["serviceAccount"],C);const H=v(t,["tunedModelDisplayName"]);H!=null&&b(n,["tunedModelDisplayName"],H);const P=v(t,["veoTuningSpec"]);return P!=null&&b(n,["veoTuningSpec"],P),n}function zse(t,e){const n={},r=v(t,["sdkHttpResponse"]);r!=null&&b(n,["sdkHttpResponse"],r);const i=v(t,["name"]);i!=null&&b(n,["name"],i);const s=v(t,["metadata"]);s!=null&&b(n,["metadata"],s);const a=v(t,["done"]);a!=null&&b(n,["done"],a);const o=v(t,["error"]);return o!=null&&b(n,["error"],o),n}function Rk(t,e){const n={},r=v(t,["gcsUri"]);r!=null&&b(n,["validationDatasetUri"],r);const i=v(t,["vertexDatasetResource"]);return i!=null&&b(n,["validationDatasetUri"],i),n}class Gse extends Ou{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new yd(Pu.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const s=Object.assign(Object.assign({},n),{preTunedModel:i});return s.baseModel=void 0,await this.tuneInternal(s)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),s=await this.tuneMldevInternal(i);let a="";return s.metadata!==void 0&&s.metadata.tunedModel!==void 0?a=s.metadata.tunedModel:s.name!==void 0&&s.name.includes("/operations/")&&(a=s.name.split("/operations/")[0]),{name:a,state:s5.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,s;let a,o="",c={};if(this.apiClient.isVertexAI()){const f=Mse(e);return o=Ut("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>h5(h))}else{const f=Dse(e);return o=Ut("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>BF(h))}}async listInternal(e){var n,r,i,s;let a,o="",c={};if(this.apiClient.isVertexAI()){const f=Vse(e);return o=Ut("tuningJobs",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=Bse(h),g=new uk;return Object.assign(g,p),g})}else{const f=Ose(e);return o=Ut("tunedModels",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),a.then(h=>{const p=Use(h),g=new uk;return Object.assign(g,p),g})}}async cancel(e){var n,r,i,s;let a="",o={};if(this.apiClient.isVertexAI()){const c=Nse(e);a=Ut("{name}:cancel",c._url),o=c._query,delete c._url,delete c._query,await this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const c=Cse(e);a=Ut("{name}:cancel",c._url),o=c._query,delete c._url,delete c._query,await this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async tuneInternal(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI()){const o=Pse(e,e);return s=Ut("tuningJobs",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>h5(c))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Rse(e);return s=Ut("tunedModels",o._url),a=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>zse(c))}}}class $se{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const Wse=1024*1024*8,Kse=3,Yse=1e3,Xse=2,cv="x-goog-upload-status";async function Jse(t,e,n){var r;const i=await jF(t,e,n),s=await i?.json();if(((r=i?.headers)===null||r===void 0?void 0:r[cv])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return s.file}async function Qse(t,e,n){var r;const i=await jF(t,e,n),s=await i?.json();if(((r=i?.headers)===null||r===void 0?void 0:r[cv])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const a=mF(s),o=new CE;return Object.assign(o,a),o}async function jF(t,e,n){var r,i;let s=0,a=0,o=new a5(new Response),c="upload";for(s=t.size;a<s;){const f=Math.min(Wse,s-a),h=t.slice(a,a+f);a+f>=s&&(c+=", finalize");let p=0,g=Yse;for(;p<Kse&&(o=await n.request({path:"",body:h,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":c,"X-Goog-Upload-Offset":String(a),"Content-Length":String(f)}}}),!(!((r=o?.headers)===null||r===void 0)&&r[cv]));)p++,await eae(g),g=g*Xse;if(a+=f,((i=o?.headers)===null||i===void 0?void 0:i[cv])!=="active")break;if(s<=a)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return o}async function Zse(t){return{size:t.size,type:t.type}}function eae(t){return new Promise(e=>setTimeout(e,t))}class tae{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Jse(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Qse(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Zse(e)}}class nae{create(e,n,r){return new rae(e,n,r)}}class rae{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}const Pk="x-goog-api-key";class iae{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(Pk)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(Pk,this.apiKey)}}}const sae="gl-node/";class aae{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=FZ(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion;const i=new iae(this.apiKey);this.apiClient=new wie({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:sae+"web",uploader:new tae,downloader:new $se}),this.models=new Bie(this.apiClient),this.live=new Mie(this.apiClient,i,new nae),this.batches=new fte(this.apiClient),this.chats=new $te(this.models,this.apiClient),this.caches=new Hte(this.apiClient),this.files=new nne(this.apiClient),this.operations=new jie(this.apiClient),this.authTokens=new rse(this.apiClient),this.tunings=new Gse(this.apiClient),this.fileSearchStores=new Ase(this.apiClient)}}var Dk={};function oae(t){const e=atob(t),n=e.length,r=new Uint8Array(n);for(let i=0;i<n;i++)r[i]=e.charCodeAt(i);return r}async function lae(t,e,n,r){const i=new Int16Array(t.buffer),s=i.length/r,a=e.createBuffer(r,s,n);for(let o=0;o<r;o++){const c=a.getChannelData(o);for(let f=0;f<s;f++)c[f]=i[f*r+o]/32768}return a}const cae={generateSpeech:async t=>{if(!Dk.API_KEY){console.error("API Key is missing"),alert("API Key missing in environment variables.");return}const e=new aae({apiKey:Dk.API_KEY});try{const r=(await e.models.generateContent({model:"gemini-2.5-flash-preview-tts",contents:[{parts:[{text:t}]}],config:{responseModalities:[Vg.AUDIO],speechConfig:{voiceConfig:{prebuiltVoiceConfig:{voiceName:"Kore"}}}}})).candidates?.[0]?.content?.parts?.[0]?.inlineData?.data;if(!r)throw new Error("No audio data returned from Gemini.");const i=new(window.AudioContext||window.webkitAudioContext)({sampleRate:24e3}),s=i.createGain();s.connect(i.destination);const a=oae(r),o=await lae(a,i,24e3,1),c=i.createBufferSource();c.buffer=o,c.connect(s),c.start()}catch(n){console.error("Error generating speech:",n),alert("Failed to generate speech. Please try again.")}}},uv={shareInvoice:(t,e,n)=>{if(!e)return alert("Customer data not found.");const r=e.phone.replace(/\D/g,"");if(!r)return alert("Customer phone number missing.");const i=t.items.map(c=>`- ${c.description} (x${c.quantity})`).join("%0A"),s=`https://billflow-app.web.app/invoice/${t.id}`,a=`https://billflow-app.web.app/customer/${e.id}/ledger`,o=`*TAX INVOICE* %0A*${n.name}* %0A%0AHello ${e.company||e.name}, %0AHere are your invoice details: %0A%0A*Inv No:* ${t.invoiceNumber} %0A*Date:* ${t.date} %0A*Amount:* Rs. ${t.total.toFixed(2)} %0A*Status:* ${t.status==="PAID"?"PAID ":"PENDING "} %0A%0A*Items:* %0A${i} %0A%0A *View Invoice:* ${s} %0A *View Ledger:* ${a} %0A%0AThank you for your business!`;window.open(`https://wa.me/${r}?text=${o}`,"_blank")},sharePayment:(t,e,n)=>{if(!e)return alert("Customer data not found.");const r=e.phone.replace(/\D/g,"");if(!r)return alert("Customer phone number missing.");const i=`https://billflow-app.web.app/customer/${e.id}/ledger`,s=`*PAYMENT RECEIPT* %0A*${n.name}* %0A%0AHello ${e.company||e.name}, %0AWe have received your payment. %0A%0A*Amount:* Rs. ${t.amount.toFixed(2)} %0A*Date:* ${t.date} %0A*Mode:* ${t.mode} %0A*Ref:* ${t.reference||"N/A"} %0A%0A*Current Balance:* Rs. ${e.balance.toFixed(2)} %0A%0A *View Ledger:* ${i} %0A%0AThank you!`;window.open(`https://wa.me/${r}?text=${s}`,"_blank")}};function Fr(t){"@babel/helpers - typeof";return Fr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fr(t)}var Jl=Uint8Array,Uo=Uint16Array,DE=Int32Array,ME=new Jl([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),LE=new Jl([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Mk=new Jl([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),qF=function(t,e){for(var n=new Uo(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new DE(n[30]),r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return{b:n,r:i}},HF=qF(ME,2),uae=HF.b,d5=HF.r;uae[28]=258,d5[258]=28;var fae=qF(LE,0),Lk=fae.r,p5=new Uo(32768);for(var ci=0;ci<32768;++ci){var _f=(ci&43690)>>1|(ci&21845)<<1;_f=(_f&52428)>>2|(_f&13107)<<2,_f=(_f&61680)>>4|(_f&3855)<<4,p5[ci]=((_f&65280)>>8|(_f&255)<<8)>>1}var ag=(function(t,e,n){for(var r=t.length,i=0,s=new Uo(e);i<r;++i)t[i]&&++s[t[i]-1];var a=new Uo(e);for(i=1;i<e;++i)a[i]=a[i-1]+s[i-1]<<1;var o;if(n){o=new Uo(1<<e);var c=15-e;for(i=0;i<r;++i)if(t[i])for(var f=i<<4|t[i],h=e-t[i],p=a[t[i]-1]++<<h,g=p|(1<<h)-1;p<=g;++p)o[p5[p]>>c]=f}else for(o=new Uo(r),i=0;i<r;++i)t[i]&&(o[i]=p5[a[t[i]-1]++]>>15-t[i]);return o}),od=new Jl(288);for(var ci=0;ci<144;++ci)od[ci]=8;for(var ci=144;ci<256;++ci)od[ci]=9;for(var ci=256;ci<280;++ci)od[ci]=7;for(var ci=280;ci<288;++ci)od[ci]=8;var fv=new Jl(32);for(var ci=0;ci<32;++ci)fv[ci]=5;var hae=ag(od,9,0),dae=ag(fv,5,0),zF=function(t){return(t+7)/8|0},pae=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new Jl(t.subarray(e,n))},mu=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},Rm=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},gw=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var i=n.length,s=n.slice();if(!i)return{t:$F,l:0};if(i==1){var a=new Jl(n[0].s+1);return a[n[0].s]=1,{t:a,l:1}}n.sort(function(Y,J){return Y.f-J.f}),n.push({s:-1,f:25001});var o=n[0],c=n[1],f=0,h=1,p=2;for(n[0]={s:-1,f:o.f+c.f,l:o,r:c};h!=i-1;)o=n[n[f].f<n[p].f?f++:p++],c=n[f!=h&&n[f].f<n[p].f?f++:p++],n[h++]={s:-1,f:o.f+c.f,l:o,r:c};for(var g=s[0].s,r=1;r<i;++r)s[r].s>g&&(g=s[r].s);var x=new Uo(g+1),T=m5(n[h-1],x,0);if(T>e){var r=0,S=0,N=T-e,k=1<<N;for(s.sort(function(J,F){return x[F.s]-x[J.s]||J.f-F.f});r<i;++r){var B=s[r].s;if(x[B]>e)S+=k-(1<<T-x[B]),x[B]=e;else break}for(S>>=N;S>0;){var R=s[r].s;x[R]<e?S-=1<<e-x[R]++-1:++r}for(;r>=0&&S;--r){var q=s[r].s;x[q]==e&&(--x[q],++S)}T=e}return{t:new Jl(x),l:T}},m5=function(t,e,n){return t.s==-1?Math.max(m5(t.l,e,n+1),m5(t.r,e,n+1)):e[t.s]=n},Fk=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new Uo(++e),r=0,i=t[0],s=1,a=function(c){n[r++]=c},o=1;o<=e;++o)if(t[o]==i&&o!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)a(32754);s>2&&(a(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(a(i),--s;s>6;s-=6)a(8304);s>2&&(a(s-3<<5|8208),s=0)}for(;s--;)a(i);s=1,i=t[o]}return{c:n.subarray(0,r),n:e}},Pm=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},GF=function(t,e,n){var r=n.length,i=zF(e+2);t[i]=r&255,t[i+1]=r>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var s=0;s<r;++s)t[i+s+4]=n[s];return(i+4+r)*8},Ok=function(t,e,n,r,i,s,a,o,c,f,h){mu(e,h++,n),++i[256];for(var p=gw(i,15),g=p.t,x=p.l,T=gw(s,15),S=T.t,N=T.l,k=Fk(g),B=k.c,R=k.n,q=Fk(S),Y=q.c,J=q.n,F=new Uo(19),O=0;O<B.length;++O)++F[B[O]&31];for(var O=0;O<Y.length;++O)++F[Y[O]&31];for(var C=gw(F,7),H=C.t,P=C.l,L=19;L>4&&!H[Mk[L-1]];--L);var V=f+5<<3,me=Pm(i,od)+Pm(s,fv)+a,Ne=Pm(i,g)+Pm(s,S)+a+14+3*L+Pm(F,H)+2*F[16]+3*F[17]+7*F[18];if(c>=0&&V<=me&&V<=Ne)return GF(e,h,t.subarray(c,c+f));var se,xe,he,ue;if(mu(e,h,1+(Ne<me)),h+=2,Ne<me){se=ag(g,x,0),xe=g,he=ag(S,N,0),ue=S;var Le=ag(H,P,0);mu(e,h,R-257),mu(e,h+5,J-1),mu(e,h+10,L-4),h+=14;for(var O=0;O<L;++O)mu(e,h+3*O,H[Mk[O]]);h+=3*L;for(var ne=[B,Y],M=0;M<2;++M)for(var W=ne[M],O=0;O<W.length;++O){var K=W[O]&31;mu(e,h,Le[K]),h+=H[K],K>15&&(mu(e,h,W[O]>>5&127),h+=W[O]>>12)}}else se=hae,xe=od,he=dae,ue=fv;for(var O=0;O<o;++O){var Q=r[O];if(Q>255){var K=Q>>18&31;Rm(e,h,se[K+257]),h+=xe[K+257],K>7&&(mu(e,h,Q>>23&31),h+=ME[K]);var ce=Q&31;Rm(e,h,he[ce]),h+=ue[ce],ce>3&&(Rm(e,h,Q>>5&8191),h+=LE[ce])}else Rm(e,h,se[Q]),h+=xe[Q]}return Rm(e,h,se[256]),h+xe[256]},mae=new DE([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),$F=new Jl(0),gae=function(t,e,n,r,i,s){var a=s.z||t.length,o=new Jl(r+a+5*(1+Math.ceil(a/7e3))+i),c=o.subarray(r,o.length-i),f=s.l,h=(s.r||0)&7;if(e){h&&(c[0]=s.r>>3);for(var p=mae[e-1],g=p>>13,x=p&8191,T=(1<<n)-1,S=s.p||new Uo(32768),N=s.h||new Uo(T+1),k=Math.ceil(n/3),B=2*k,R=function(dt){return(t[dt]^t[dt+1]<<k^t[dt+2]<<B)&T},q=new DE(25e3),Y=new Uo(288),J=new Uo(32),F=0,O=0,C=s.i||0,H=0,P=s.w||0,L=0;C+2<a;++C){var V=R(C),me=C&32767,Ne=N[V];if(S[me]=Ne,N[V]=me,P<=C){var se=a-C;if((F>7e3||H>24576)&&(se>423||!f)){h=Ok(t,c,0,q,Y,J,O,H,L,C-L,h),H=F=O=0,L=C;for(var xe=0;xe<286;++xe)Y[xe]=0;for(var xe=0;xe<30;++xe)J[xe]=0}var he=2,ue=0,Le=x,ne=me-Ne&32767;if(se>2&&V==R(C-ne))for(var M=Math.min(g,se)-1,W=Math.min(32767,C),K=Math.min(258,se);ne<=W&&--Le&&me!=Ne;){if(t[C+he]==t[C+he-ne]){for(var Q=0;Q<K&&t[C+Q]==t[C+Q-ne];++Q);if(Q>he){if(he=Q,ue=ne,Q>M)break;for(var ce=Math.min(ne,Q-2),we=0,xe=0;xe<ce;++xe){var ke=C-ne+xe&32767,fe=S[ke],Ae=ke-fe&32767;Ae>we&&(we=Ae,Ne=ke)}}}me=Ne,Ne=S[me],ne+=me-Ne&32767}if(ue){q[H++]=268435456|d5[he]<<18|Lk[ue];var Ue=d5[he]&31,ae=Lk[ue]&31;O+=ME[Ue]+LE[ae],++Y[257+Ue],++J[ae],P=C+he,++F}else q[H++]=t[C],++Y[t[C]]}}for(C=Math.max(C,P);C<a;++C)q[H++]=t[C],++Y[t[C]];h=Ok(t,c,f,q,Y,J,O,H,L,C-L,h),f||(s.r=h&7|c[h/8|0]<<3,h-=7,s.h=N,s.p=S,s.i=C,s.w=P)}else{for(var C=s.w||0;C<a+f;C+=65535){var it=C+65535;it>=a&&(c[h/8|0]=f,it=a),h=GF(c,h+1,t.subarray(C,it))}s.i=a}return pae(o,0,r+zF(h)+i)},WF=function(){var t=1,e=0;return{p:function(n){for(var r=t,i=e,s=n.length|0,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=r+=n[a];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}t=r,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},xae=function(t,e,n,r,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),a=new Jl(s.length+t.length);a.set(s),a.set(t,s.length),t=a,i.w=s.length}return gae(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,i)},KF=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},yae=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=WF();i.p(e.dictionary),KF(t,2,i.d())}};function g5(t,e){e||(e={});var n=WF();n.p(t);var r=xae(t,e,e.dictionary?6:2,4);return yae(r,e),KF(r,r.length-4,n.d()),r}var vae=typeof TextDecoder<"u"&&new TextDecoder,_ae=0;try{vae.decode($F,{stream:!0}),_ae=1}catch{}function wae(t){if(Array.isArray(t))return t}function bae(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],c=!0,f=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(f)throw i}}return o}}function Vk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Tae(t,e){if(t){if(typeof t=="string")return Vk(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Vk(t,e):void 0}}function Eae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uk(t,e){return wae(t)||bae(t,e)||Tae(t,e)||Eae()}function Bk(t,e="utf8"){return new TextDecoder(e).decode(t)}const Sae=new TextEncoder;function Aae(t){return Sae.encode(t)}const Cae=1024*8,Nae=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),xw={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class FE{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=Cae,n={}){let r=!1;typeof e=="number"?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);const i=n.offset?n.offset>>>0:0,s=e.byteLength-i;let a=i;(ArrayBuffer.isView(e)||e instanceof FE)&&(e.byteLength!==e.buffer.byteLength&&(a=e.byteOffset+i),e=e.buffer),r?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=e,this.length=s,this.byteLength=s,this.byteOffset=a,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,a,s),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const r=(this.offset+e)*2,i=new Uint8Array(r);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,n){const r=xw[n].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,s=this.buffer.slice(i,i+r);if(this.littleEndian===Nae&&n!=="uint8"&&n!=="int8"){const o=new Uint8Array(this.buffer.slice(i,i+r));o.reverse();const c=new xw[n](o.buffer);return this.offset+=r,c.reverse(),c}const a=new xw[n](s);return this.offset+=r,a}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let n="";for(let r=0;r<e;r++)n+=this.readChar();return n}readUtf8(e=1){return Bk(this.readBytes(e))}decodeText(e=1,n="utf8"){return Bk(this.readBytes(e),n)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let n=0;n<e.length;n++)this._data.setUint8(this.offset++,e[n]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let n=0;n<e.length;n++)this.writeUint8(e.charCodeAt(n));return this}writeUtf8(e){return this.writeBytes(Aae(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Lp(t){let e=t.length;for(;--e>=0;)t[e]=0}const Iae=3,kae=258,YF=29,Rae=256,Pae=Rae+1+YF,XF=30,Dae=512,Mae=new Array((Pae+2)*2);Lp(Mae);const Lae=new Array(XF*2);Lp(Lae);const Fae=new Array(Dae);Lp(Fae);const Oae=new Array(kae-Iae+1);Lp(Oae);const Vae=new Array(YF);Lp(Vae);const Uae=new Array(XF);Lp(Uae);const Bae=(t,e,n,r)=>{let i=t&65535|0,s=t>>>16&65535|0,a=0;for(;n!==0;){a=n>2e3?2e3:n,n-=a;do i=i+e[r++]|0,s=s+i|0;while(--a);i%=65521,s%=65521}return i|s<<16|0};var x5=Bae;const jae=()=>{let t,e=[];for(var n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=t&1?3988292384^t>>>1:t>>>1;e[n]=t}return e},qae=new Uint32Array(jae()),Hae=(t,e,n,r)=>{const i=qae,s=r+n;t^=-1;for(let a=r;a<s;a++)t=t>>>8^i[(t^e[a])&255];return t^-1};var _c=Hae,y5={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},JF={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const zae=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var Gae=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const n=e.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)zae(n,r)&&(t[r]=n[r])}}return t},$ae=t=>{let e=0;for(let r=0,i=t.length;r<i;r++)e+=t[r].length;const n=new Uint8Array(e);for(let r=0,i=0,s=t.length;r<s;r++){let a=t[r];n.set(a,i),i+=a.length}return n},QF={assign:Gae,flattenChunks:$ae};let ZF=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{ZF=!1}const Ug=new Uint8Array(256);for(let t=0;t<256;t++)Ug[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;Ug[254]=Ug[254]=1;var Wae=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,n,r,i,s,a=t.length,o=0;for(i=0;i<a;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<a&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),o+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(o),s=0,i=0;s<o;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<a&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?e[s++]=n:n<2048?(e[s++]=192|n>>>6,e[s++]=128|n&63):n<65536?(e[s++]=224|n>>>12,e[s++]=128|n>>>6&63,e[s++]=128|n&63):(e[s++]=240|n>>>18,e[s++]=128|n>>>12&63,e[s++]=128|n>>>6&63,e[s++]=128|n&63);return e};const Kae=(t,e)=>{if(e<65534&&t.subarray&&ZF)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let n="";for(let r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n};var Yae=(t,e)=>{const n=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let r,i;const s=new Array(n*2);for(i=0,r=0;r<n;){let a=t[r++];if(a<128){s[i++]=a;continue}let o=Ug[a];if(o>4){s[i++]=65533,r+=o-1;continue}for(a&=o===2?31:o===3?15:7;o>1&&r<n;)a=a<<6|t[r++]&63,o--;if(o>1){s[i++]=65533;continue}a<65536?s[i++]=a:(a-=65536,s[i++]=55296|a>>10&1023,s[i++]=56320|a&1023)}return Kae(s,i)},Xae=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let n=e-1;for(;n>=0&&(t[n]&192)===128;)n--;return n<0||n===0?e:n+Ug[t[n]]>e?n:e},v5={string2buf:Wae,buf2string:Yae,utf8border:Xae};function Jae(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var Qae=Jae;const Rx=16209,Zae=16191;var eoe=function(e,n){let r,i,s,a,o,c,f,h,p,g,x,T,S,N,k,B,R,q,Y,J,F,O,C,H;const P=e.state;r=e.next_in,C=e.input,i=r+(e.avail_in-5),s=e.next_out,H=e.output,a=s-(n-e.avail_out),o=s+(e.avail_out-257),c=P.dmax,f=P.wsize,h=P.whave,p=P.wnext,g=P.window,x=P.hold,T=P.bits,S=P.lencode,N=P.distcode,k=(1<<P.lenbits)-1,B=(1<<P.distbits)-1;e:do{T<15&&(x+=C[r++]<<T,T+=8,x+=C[r++]<<T,T+=8),R=S[x&k];t:for(;;){if(q=R>>>24,x>>>=q,T-=q,q=R>>>16&255,q===0)H[s++]=R&65535;else if(q&16){Y=R&65535,q&=15,q&&(T<q&&(x+=C[r++]<<T,T+=8),Y+=x&(1<<q)-1,x>>>=q,T-=q),T<15&&(x+=C[r++]<<T,T+=8,x+=C[r++]<<T,T+=8),R=N[x&B];n:for(;;){if(q=R>>>24,x>>>=q,T-=q,q=R>>>16&255,q&16){if(J=R&65535,q&=15,T<q&&(x+=C[r++]<<T,T+=8,T<q&&(x+=C[r++]<<T,T+=8)),J+=x&(1<<q)-1,J>c){e.msg="invalid distance too far back",P.mode=Rx;break e}if(x>>>=q,T-=q,q=s-a,J>q){if(q=J-q,q>h&&P.sane){e.msg="invalid distance too far back",P.mode=Rx;break e}if(F=0,O=g,p===0){if(F+=f-q,q<Y){Y-=q;do H[s++]=g[F++];while(--q);F=s-J,O=H}}else if(p<q){if(F+=f+p-q,q-=p,q<Y){Y-=q;do H[s++]=g[F++];while(--q);if(F=0,p<Y){q=p,Y-=q;do H[s++]=g[F++];while(--q);F=s-J,O=H}}}else if(F+=p-q,q<Y){Y-=q;do H[s++]=g[F++];while(--q);F=s-J,O=H}for(;Y>2;)H[s++]=O[F++],H[s++]=O[F++],H[s++]=O[F++],Y-=3;Y&&(H[s++]=O[F++],Y>1&&(H[s++]=O[F++]))}else{F=s-J;do H[s++]=H[F++],H[s++]=H[F++],H[s++]=H[F++],Y-=3;while(Y>2);Y&&(H[s++]=H[F++],Y>1&&(H[s++]=H[F++]))}}else if((q&64)===0){R=N[(R&65535)+(x&(1<<q)-1)];continue n}else{e.msg="invalid distance code",P.mode=Rx;break e}break}}else if((q&64)===0){R=S[(R&65535)+(x&(1<<q)-1)];continue t}else if(q&32){P.mode=Zae;break e}else{e.msg="invalid literal/length code",P.mode=Rx;break e}break}}while(r<i&&s<o);Y=T>>3,r-=Y,T-=Y<<3,x&=(1<<T)-1,e.next_in=r,e.next_out=s,e.avail_in=r<i?5+(i-r):5-(r-i),e.avail_out=s<o?257+(o-s):257-(s-o),P.hold=x,P.bits=T};const d0=15,jk=852,qk=592,Hk=0,yw=1,zk=2,toe=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),noe=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),roe=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),ioe=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),soe=(t,e,n,r,i,s,a,o)=>{const c=o.bits;let f=0,h=0,p=0,g=0,x=0,T=0,S=0,N=0,k=0,B=0,R,q,Y,J,F,O=null,C;const H=new Uint16Array(d0+1),P=new Uint16Array(d0+1);let L=null,V,me,Ne;for(f=0;f<=d0;f++)H[f]=0;for(h=0;h<r;h++)H[e[n+h]]++;for(x=c,g=d0;g>=1&&H[g]===0;g--);if(x>g&&(x=g),g===0)return i[s++]=1<<24|64<<16|0,i[s++]=1<<24|64<<16|0,o.bits=1,0;for(p=1;p<g&&H[p]===0;p++);for(x<p&&(x=p),N=1,f=1;f<=d0;f++)if(N<<=1,N-=H[f],N<0)return-1;if(N>0&&(t===Hk||g!==1))return-1;for(P[1]=0,f=1;f<d0;f++)P[f+1]=P[f]+H[f];for(h=0;h<r;h++)e[n+h]!==0&&(a[P[e[n+h]]++]=h);if(t===Hk?(O=L=a,C=20):t===yw?(O=toe,L=noe,C=257):(O=roe,L=ioe,C=0),B=0,h=0,f=p,F=s,T=x,S=0,Y=-1,k=1<<x,J=k-1,t===yw&&k>jk||t===zk&&k>qk)return 1;for(;;){V=f-S,a[h]+1<C?(me=0,Ne=a[h]):a[h]>=C?(me=L[a[h]-C],Ne=O[a[h]-C]):(me=96,Ne=0),R=1<<f-S,q=1<<T,p=q;do q-=R,i[F+(B>>S)+q]=V<<24|me<<16|Ne|0;while(q!==0);for(R=1<<f-1;B&R;)R>>=1;if(R!==0?(B&=R-1,B+=R):B=0,h++,--H[f]===0){if(f===g)break;f=e[n+a[h]]}if(f>x&&(B&J)!==Y){for(S===0&&(S=x),F+=p,T=f-S,N=1<<T;T+S<g&&(N-=H[T+S],!(N<=0));)T++,N<<=1;if(k+=1<<T,t===yw&&k>jk||t===zk&&k>qk)return 1;Y=B&J,i[Y]=x<<24|T<<16|F-s|0}}return B!==0&&(i[F+B]=f-S<<24|64<<16|0),o.bits=x,0};var og=soe;const aoe=0,e7=1,t7=2,{Z_FINISH:Gk,Z_BLOCK:ooe,Z_TREES:Px,Z_OK:ld,Z_STREAM_END:loe,Z_NEED_DICT:coe,Z_STREAM_ERROR:gl,Z_DATA_ERROR:n7,Z_MEM_ERROR:r7,Z_BUF_ERROR:uoe,Z_DEFLATED:$k}=JF,h2=16180,Wk=16181,Kk=16182,Yk=16183,Xk=16184,Jk=16185,Qk=16186,Zk=16187,e6=16188,t6=16189,hv=16190,gu=16191,vw=16192,n6=16193,_w=16194,r6=16195,i6=16196,s6=16197,a6=16198,Dx=16199,Mx=16200,o6=16201,l6=16202,c6=16203,u6=16204,f6=16205,ww=16206,h6=16207,d6=16208,gi=16209,i7=16210,s7=16211,foe=852,hoe=592,doe=15,poe=doe,p6=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function moe(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const vd=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<h2||e.mode>s7?1:0},a7=t=>{if(vd(t))return gl;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=h2,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(foe),e.distcode=e.distdyn=new Int32Array(hoe),e.sane=1,e.back=-1,ld},o7=t=>{if(vd(t))return gl;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,a7(t)},l7=(t,e)=>{let n;if(vd(t))return gl;const r=t.state;return e<0?(n=0,e=-e):(n=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?gl:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,o7(t))},c7=(t,e)=>{if(!t)return gl;const n=new moe;t.state=n,n.strm=t,n.window=null,n.mode=h2;const r=l7(t,e);return r!==ld&&(t.state=null),r},goe=t=>c7(t,poe);let m6=!0,bw,Tw;const xoe=t=>{if(m6){bw=new Int32Array(512),Tw=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(og(e7,t.lens,0,288,bw,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;og(t7,t.lens,0,32,Tw,0,t.work,{bits:5}),m6=!1}t.lencode=bw,t.lenbits=9,t.distcode=Tw,t.distbits=5},u7=(t,e,n,r)=>{let i;const s=t.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),r>=s.wsize?(s.window.set(e.subarray(n-s.wsize,n),0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>r&&(i=r),s.window.set(e.subarray(n-r,n-r+i),s.wnext),r-=i,r?(s.window.set(e.subarray(n-r,n),0),s.wnext=r,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0},yoe=(t,e)=>{let n,r,i,s,a,o,c,f,h,p,g,x,T,S,N=0,k,B,R,q,Y,J,F,O;const C=new Uint8Array(4);let H,P;const L=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(vd(t)||!t.output||!t.input&&t.avail_in!==0)return gl;n=t.state,n.mode===gu&&(n.mode=vw),a=t.next_out,i=t.output,c=t.avail_out,s=t.next_in,r=t.input,o=t.avail_in,f=n.hold,h=n.bits,p=o,g=c,O=ld;e:for(;;)switch(n.mode){case h2:if(n.wrap===0){n.mode=vw;break}for(;h<16;){if(o===0)break e;o--,f+=r[s++]<<h,h+=8}if(n.wrap&2&&f===35615){n.wbits===0&&(n.wbits=15),n.check=0,C[0]=f&255,C[1]=f>>>8&255,n.check=_c(n.check,C,2,0),f=0,h=0,n.mode=Wk;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((f&255)<<8)+(f>>8))%31){t.msg="incorrect header check",n.mode=gi;break}if((f&15)!==$k){t.msg="unknown compression method",n.mode=gi;break}if(f>>>=4,h-=4,F=(f&15)+8,n.wbits===0&&(n.wbits=F),F>15||F>n.wbits){t.msg="invalid window size",n.mode=gi;break}n.dmax=1<<n.wbits,n.flags=0,t.adler=n.check=1,n.mode=f&512?t6:gu,f=0,h=0;break;case Wk:for(;h<16;){if(o===0)break e;o--,f+=r[s++]<<h,h+=8}if(n.flags=f,(n.flags&255)!==$k){t.msg="unknown compression method",n.mode=gi;break}if(n.flags&57344){t.msg="unknown header flags set",n.mode=gi;break}n.head&&(n.head.text=f>>8&1),n.flags&512&&n.wrap&4&&(C[0]=f&255,C[1]=f>>>8&255,n.check=_c(n.check,C,2,0)),f=0,h=0,n.mode=Kk;case Kk:for(;h<32;){if(o===0)break e;o--,f+=r[s++]<<h,h+=8}n.head&&(n.head.time=f),n.flags&512&&n.wrap&4&&(C[0]=f&255,C[1]=f>>>8&255,C[2]=f>>>16&255,C[3]=f>>>24&255,n.check=_c(n.check,C,4,0)),f=0,h=0,n.mode=Yk;case Yk:for(;h<16;){if(o===0)break e;o--,f+=r[s++]<<h,h+=8}n.head&&(n.head.xflags=f&255,n.head.os=f>>8),n.flags&512&&n.wrap&4&&(C[0]=f&255,C[1]=f>>>8&255,n.check=_c(n.check,C,2,0)),f=0,h=0,n.mode=Xk;case Xk:if(n.flags&1024){for(;h<16;){if(o===0)break e;o--,f+=r[s++]<<h,h+=8}n.length=f,n.head&&(n.head.extra_len=f),n.flags&512&&n.wrap&4&&(C[0]=f&255,C[1]=f>>>8&255,n.check=_c(n.check,C,2,0)),f=0,h=0}else n.head&&(n.head.extra=null);n.mode=Jk;case Jk:if(n.flags&1024&&(x=n.length,x>o&&(x=o),x&&(n.head&&(F=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(s,s+x),F)),n.flags&512&&n.wrap&4&&(n.check=_c(n.check,r,x,s)),o-=x,s+=x,n.length-=x),n.length))break e;n.length=0,n.mode=Qk;case Qk:if(n.flags&2048){if(o===0)break e;x=0;do F=r[s+x++],n.head&&F&&n.length<65536&&(n.head.name+=String.fromCharCode(F));while(F&&x<o);if(n.flags&512&&n.wrap&4&&(n.check=_c(n.check,r,x,s)),o-=x,s+=x,F)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=Zk;case Zk:if(n.flags&4096){if(o===0)break e;x=0;do F=r[s+x++],n.head&&F&&n.length<65536&&(n.head.comment+=String.fromCharCode(F));while(F&&x<o);if(n.flags&512&&n.wrap&4&&(n.check=_c(n.check,r,x,s)),o-=x,s+=x,F)break e}else n.head&&(n.head.comment=null);n.mode=e6;case e6:if(n.flags&512){for(;h<16;){if(o===0)break e;o--,f+=r[s++]<<h,h+=8}if(n.wrap&4&&f!==(n.check&65535)){t.msg="header crc mismatch",n.mode=gi;break}f=0,h=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=gu;break;case t6:for(;h<32;){if(o===0)break e;o--,f+=r[s++]<<h,h+=8}t.adler=n.check=p6(f),f=0,h=0,n.mode=hv;case hv:if(n.havedict===0)return t.next_out=a,t.avail_out=c,t.next_in=s,t.avail_in=o,n.hold=f,n.bits=h,coe;t.adler=n.check=1,n.mode=gu;case gu:if(e===ooe||e===Px)break e;case vw:if(n.last){f>>>=h&7,h-=h&7,n.mode=ww;break}for(;h<3;){if(o===0)break e;o--,f+=r[s++]<<h,h+=8}switch(n.last=f&1,f>>>=1,h-=1,f&3){case 0:n.mode=n6;break;case 1:if(xoe(n),n.mode=Dx,e===Px){f>>>=2,h-=2;break e}break;case 2:n.mode=i6;break;case 3:t.msg="invalid block type",n.mode=gi}f>>>=2,h-=2;break;case n6:for(f>>>=h&7,h-=h&7;h<32;){if(o===0)break e;o--,f+=r[s++]<<h,h+=8}if((f&65535)!==(f>>>16^65535)){t.msg="invalid stored block lengths",n.mode=gi;break}if(n.length=f&65535,f=0,h=0,n.mode=_w,e===Px)break e;case _w:n.mode=r6;case r6:if(x=n.length,x){if(x>o&&(x=o),x>c&&(x=c),x===0)break e;i.set(r.subarray(s,s+x),a),o-=x,s+=x,c-=x,a+=x,n.length-=x;break}n.mode=gu;break;case i6:for(;h<14;){if(o===0)break e;o--,f+=r[s++]<<h,h+=8}if(n.nlen=(f&31)+257,f>>>=5,h-=5,n.ndist=(f&31)+1,f>>>=5,h-=5,n.ncode=(f&15)+4,f>>>=4,h-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=gi;break}n.have=0,n.mode=s6;case s6:for(;n.have<n.ncode;){for(;h<3;){if(o===0)break e;o--,f+=r[s++]<<h,h+=8}n.lens[L[n.have++]]=f&7,f>>>=3,h-=3}for(;n.have<19;)n.lens[L[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,H={bits:n.lenbits},O=og(aoe,n.lens,0,19,n.lencode,0,n.work,H),n.lenbits=H.bits,O){t.msg="invalid code lengths set",n.mode=gi;break}n.have=0,n.mode=a6;case a6:for(;n.have<n.nlen+n.ndist;){for(;N=n.lencode[f&(1<<n.lenbits)-1],k=N>>>24,B=N>>>16&255,R=N&65535,!(k<=h);){if(o===0)break e;o--,f+=r[s++]<<h,h+=8}if(R<16)f>>>=k,h-=k,n.lens[n.have++]=R;else{if(R===16){for(P=k+2;h<P;){if(o===0)break e;o--,f+=r[s++]<<h,h+=8}if(f>>>=k,h-=k,n.have===0){t.msg="invalid bit length repeat",n.mode=gi;break}F=n.lens[n.have-1],x=3+(f&3),f>>>=2,h-=2}else if(R===17){for(P=k+3;h<P;){if(o===0)break e;o--,f+=r[s++]<<h,h+=8}f>>>=k,h-=k,F=0,x=3+(f&7),f>>>=3,h-=3}else{for(P=k+7;h<P;){if(o===0)break e;o--,f+=r[s++]<<h,h+=8}f>>>=k,h-=k,F=0,x=11+(f&127),f>>>=7,h-=7}if(n.have+x>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=gi;break}for(;x--;)n.lens[n.have++]=F}}if(n.mode===gi)break;if(n.lens[256]===0){t.msg="invalid code -- missing end-of-block",n.mode=gi;break}if(n.lenbits=9,H={bits:n.lenbits},O=og(e7,n.lens,0,n.nlen,n.lencode,0,n.work,H),n.lenbits=H.bits,O){t.msg="invalid literal/lengths set",n.mode=gi;break}if(n.distbits=6,n.distcode=n.distdyn,H={bits:n.distbits},O=og(t7,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,H),n.distbits=H.bits,O){t.msg="invalid distances set",n.mode=gi;break}if(n.mode=Dx,e===Px)break e;case Dx:n.mode=Mx;case Mx:if(o>=6&&c>=258){t.next_out=a,t.avail_out=c,t.next_in=s,t.avail_in=o,n.hold=f,n.bits=h,eoe(t,g),a=t.next_out,i=t.output,c=t.avail_out,s=t.next_in,r=t.input,o=t.avail_in,f=n.hold,h=n.bits,n.mode===gu&&(n.back=-1);break}for(n.back=0;N=n.lencode[f&(1<<n.lenbits)-1],k=N>>>24,B=N>>>16&255,R=N&65535,!(k<=h);){if(o===0)break e;o--,f+=r[s++]<<h,h+=8}if(B&&(B&240)===0){for(q=k,Y=B,J=R;N=n.lencode[J+((f&(1<<q+Y)-1)>>q)],k=N>>>24,B=N>>>16&255,R=N&65535,!(q+k<=h);){if(o===0)break e;o--,f+=r[s++]<<h,h+=8}f>>>=q,h-=q,n.back+=q}if(f>>>=k,h-=k,n.back+=k,n.length=R,B===0){n.mode=f6;break}if(B&32){n.back=-1,n.mode=gu;break}if(B&64){t.msg="invalid literal/length code",n.mode=gi;break}n.extra=B&15,n.mode=o6;case o6:if(n.extra){for(P=n.extra;h<P;){if(o===0)break e;o--,f+=r[s++]<<h,h+=8}n.length+=f&(1<<n.extra)-1,f>>>=n.extra,h-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=l6;case l6:for(;N=n.distcode[f&(1<<n.distbits)-1],k=N>>>24,B=N>>>16&255,R=N&65535,!(k<=h);){if(o===0)break e;o--,f+=r[s++]<<h,h+=8}if((B&240)===0){for(q=k,Y=B,J=R;N=n.distcode[J+((f&(1<<q+Y)-1)>>q)],k=N>>>24,B=N>>>16&255,R=N&65535,!(q+k<=h);){if(o===0)break e;o--,f+=r[s++]<<h,h+=8}f>>>=q,h-=q,n.back+=q}if(f>>>=k,h-=k,n.back+=k,B&64){t.msg="invalid distance code",n.mode=gi;break}n.offset=R,n.extra=B&15,n.mode=c6;case c6:if(n.extra){for(P=n.extra;h<P;){if(o===0)break e;o--,f+=r[s++]<<h,h+=8}n.offset+=f&(1<<n.extra)-1,f>>>=n.extra,h-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=gi;break}n.mode=u6;case u6:if(c===0)break e;if(x=g-c,n.offset>x){if(x=n.offset-x,x>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=gi;break}x>n.wnext?(x-=n.wnext,T=n.wsize-x):T=n.wnext-x,x>n.length&&(x=n.length),S=n.window}else S=i,T=a-n.offset,x=n.length;x>c&&(x=c),c-=x,n.length-=x;do i[a++]=S[T++];while(--x);n.length===0&&(n.mode=Mx);break;case f6:if(c===0)break e;i[a++]=n.length,c--,n.mode=Mx;break;case ww:if(n.wrap){for(;h<32;){if(o===0)break e;o--,f|=r[s++]<<h,h+=8}if(g-=c,t.total_out+=g,n.total+=g,n.wrap&4&&g&&(t.adler=n.check=n.flags?_c(n.check,i,g,a-g):x5(n.check,i,g,a-g)),g=c,n.wrap&4&&(n.flags?f:p6(f))!==n.check){t.msg="incorrect data check",n.mode=gi;break}f=0,h=0}n.mode=h6;case h6:if(n.wrap&&n.flags){for(;h<32;){if(o===0)break e;o--,f+=r[s++]<<h,h+=8}if(n.wrap&4&&f!==(n.total&4294967295)){t.msg="incorrect length check",n.mode=gi;break}f=0,h=0}n.mode=d6;case d6:O=loe;break e;case gi:O=n7;break e;case i7:return r7;case s7:default:return gl}return t.next_out=a,t.avail_out=c,t.next_in=s,t.avail_in=o,n.hold=f,n.bits=h,(n.wsize||g!==t.avail_out&&n.mode<gi&&(n.mode<ww||e!==Gk))&&u7(t,t.output,t.next_out,g-t.avail_out),p-=t.avail_in,g-=t.avail_out,t.total_in+=p,t.total_out+=g,n.total+=g,n.wrap&4&&g&&(t.adler=n.check=n.flags?_c(n.check,i,g,t.next_out-g):x5(n.check,i,g,t.next_out-g)),t.data_type=n.bits+(n.last?64:0)+(n.mode===gu?128:0)+(n.mode===Dx||n.mode===_w?256:0),(p===0&&g===0||e===Gk)&&O===ld&&(O=uoe),O},voe=t=>{if(vd(t))return gl;let e=t.state;return e.window&&(e.window=null),t.state=null,ld},_oe=(t,e)=>{if(vd(t))return gl;const n=t.state;return(n.wrap&2)===0?gl:(n.head=e,e.done=!1,ld)},woe=(t,e)=>{const n=e.length;let r,i,s;return vd(t)||(r=t.state,r.wrap!==0&&r.mode!==hv)?gl:r.mode===hv&&(i=1,i=x5(i,e,n,0),i!==r.check)?n7:(s=u7(t,e,n,n),s?(r.mode=i7,r7):(r.havedict=1,ld))};var boe=o7,Toe=l7,Eoe=a7,Soe=goe,Aoe=c7,Coe=yoe,Noe=voe,Ioe=_oe,koe=woe,Roe="pako inflate (from Nodeca project)",yu={inflateReset:boe,inflateReset2:Toe,inflateResetKeep:Eoe,inflateInit:Soe,inflateInit2:Aoe,inflate:Coe,inflateEnd:Noe,inflateGetHeader:Ioe,inflateSetDictionary:koe,inflateInfo:Roe};function Poe(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Doe=Poe;const f7=Object.prototype.toString,{Z_NO_FLUSH:Moe,Z_FINISH:Loe,Z_OK:Bg,Z_STREAM_END:Ew,Z_NEED_DICT:Sw,Z_STREAM_ERROR:Foe,Z_DATA_ERROR:g6,Z_MEM_ERROR:Ooe}=JF;function x1(t){this.options=QF.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Qae,this.strm.avail_out=0;let n=yu.inflateInit2(this.strm,e.windowBits);if(n!==Bg)throw new Error(y5[n]);if(this.header=new Doe,yu.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=v5.string2buf(e.dictionary):f7.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=yu.inflateSetDictionary(this.strm,e.dictionary),n!==Bg)))throw new Error(y5[n])}x1.prototype.push=function(t,e){const n=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let s,a,o;if(this.ended)return!1;for(e===~~e?a=e:a=e===!0?Loe:Moe,f7.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),s=yu.inflate(n,a),s===Sw&&i&&(s=yu.inflateSetDictionary(n,i),s===Bg?s=yu.inflate(n,a):s===g6&&(s=Sw));n.avail_in>0&&s===Ew&&n.state.wrap>0&&t[n.next_in]!==0;)yu.inflateReset(n),s=yu.inflate(n,a);switch(s){case Foe:case g6:case Sw:case Ooe:return this.onEnd(s),this.ended=!0,!1}if(o=n.avail_out,n.next_out&&(n.avail_out===0||s===Ew))if(this.options.to==="string"){let c=v5.utf8border(n.output,n.next_out),f=n.next_out-c,h=v5.buf2string(n.output,c);n.next_out=f,n.avail_out=r-f,f&&n.output.set(n.output.subarray(c,c+f),0),this.onData(h)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(s===Bg&&o===0)){if(s===Ew)return s=yu.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};x1.prototype.onData=function(t){this.chunks.push(t)};x1.prototype.onEnd=function(t){t===Bg&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=QF.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function Voe(t,e){const n=new x1(e);if(n.push(t),n.err)throw n.msg||y5[n.err];return n.result}var Uoe=x1,Boe=Voe,joe={Inflate:Uoe,inflate:Boe};const{Inflate:qoe,inflate:Hoe}=joe;var x6=qoe,zoe=Hoe;const h7=[];for(let t=0;t<256;t++){let e=t;for(let n=0;n<8;n++)e&1?e=3988292384^e>>>1:e=e>>>1;h7[t]=e}const y6=4294967295;function Goe(t,e,n){let r=t;for(let i=0;i<n;i++)r=h7[(r^e[i])&255]^r>>>8;return r}function $oe(t,e){return(Goe(y6,t,e)^y6)>>>0}function v6(t,e,n){const r=t.readUint32(),i=$oe(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(i!==r)throw new Error(`CRC mismatch for chunk ${n}. Expected ${r}, found ${i}`)}function d7(t,e,n){for(let r=0;r<n;r++)e[r]=t[r]}function p7(t,e,n,r){let i=0;for(;i<r;i++)e[i]=t[i];for(;i<n;i++)e[i]=t[i]+e[i-r]&255}function m7(t,e,n,r){let i=0;if(n.length===0)for(;i<r;i++)e[i]=t[i];else for(;i<r;i++)e[i]=t[i]+n[i]&255}function g7(t,e,n,r,i){let s=0;if(n.length===0){for(;s<i;s++)e[s]=t[s];for(;s<r;s++)e[s]=t[s]+(e[s-i]>>1)&255}else{for(;s<i;s++)e[s]=t[s]+(n[s]>>1)&255;for(;s<r;s++)e[s]=t[s]+(e[s-i]+n[s]>>1)&255}}function x7(t,e,n,r,i){let s=0;if(n.length===0){for(;s<i;s++)e[s]=t[s];for(;s<r;s++)e[s]=t[s]+e[s-i]&255}else{for(;s<i;s++)e[s]=t[s]+n[s]&255;for(;s<r;s++)e[s]=t[s]+Woe(e[s-i],n[s],n[s-i])&255}}function Woe(t,e,n){const r=t+e-n,i=Math.abs(r-t),s=Math.abs(r-e),a=Math.abs(r-n);return i<=s&&i<=a?t:s<=a?e:n}function Koe(t,e,n,r,i,s){switch(t){case 0:d7(e,n,i);break;case 1:p7(e,n,i,s);break;case 2:m7(e,n,r,i);break;case 3:g7(e,n,r,i,s);break;case 4:x7(e,n,r,i,s);break;default:throw new Error(`Unsupported filter: ${t}`)}}const Yoe=new Uint16Array([255]),Xoe=new Uint8Array(Yoe.buffer),Joe=Xoe[0]===255;function Qoe(t){const{data:e,width:n,height:r,channels:i,depth:s}=t,a=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(s/8)*i,c=new Uint8Array(r*n*o);let f=0;for(let h=0;h<7;h++){const p=a[h],g=Math.ceil((n-p.x)/p.xStep),x=Math.ceil((r-p.y)/p.yStep);if(g<=0||x<=0)continue;const T=g*o,S=new Uint8Array(T);for(let N=0;N<x;N++){const k=e[f++],B=e.subarray(f,f+T);f+=T;const R=new Uint8Array(T);Koe(k,B,R,S,T,o),S.set(R);for(let q=0;q<g;q++){const Y=p.x+q*p.xStep,J=p.y+N*p.yStep;if(!(Y>=n||J>=r))for(let F=0;F<o;F++)c[(J*n+Y)*o+F]=R[q*o+F]}}}if(s===16){const h=new Uint16Array(c.buffer);if(Joe)for(let p=0;p<h.length;p++)h[p]=Zoe(h[p]);return h}else return c}function Zoe(t){return(t&255)<<8|t>>8&255}const ele=new Uint16Array([255]),tle=new Uint8Array(ele.buffer),nle=tle[0]===255,rle=new Uint8Array(0);function _6(t){const{data:e,width:n,height:r,channels:i,depth:s}=t,a=Math.ceil(s/8)*i,o=Math.ceil(s/8*i*n),c=new Uint8Array(r*o);let f=rle,h=0,p,g;for(let x=0;x<r;x++){switch(p=e.subarray(h+1,h+1+o),g=c.subarray(x*o,(x+1)*o),e[h]){case 0:d7(p,g,o);break;case 1:p7(p,g,o,a);break;case 2:m7(p,g,f,o);break;case 3:g7(p,g,f,o,a);break;case 4:x7(p,g,f,o,a);break;default:throw new Error(`Unsupported filter: ${e[h]}`)}f=g,h+=o+1}if(s===16){const x=new Uint16Array(c.buffer);if(nle)for(let T=0;T<x.length;T++)x[T]=ile(x[T]);return x}else return c}function ile(t){return(t&255)<<8|t>>8&255}const wy=Uint8Array.of(137,80,78,71,13,10,26,10);function w6(t){if(!sle(t.readBytes(wy.length)))throw new Error("wrong PNG signature")}function sle(t){if(t.length<wy.length)return!1;for(let e=0;e<wy.length;e++)if(t[e]!==wy[e])return!1;return!0}const ale="tEXt",ole=0,y7=new TextDecoder("latin1");function lle(t){if(ule(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const cle=/^[\u0000-\u00FF]*$/;function ule(t){if(!cle.test(t))throw new Error("invalid latin1 text")}function fle(t,e,n){const r=v7(e);t[r]=hle(e,n-r.length-1)}function v7(t){for(t.mark();t.readByte()!==ole;);const e=t.offset;t.reset();const n=y7.decode(t.readBytes(e-t.offset-1));return t.skip(1),lle(n),n}function hle(t,e){return y7.decode(t.readBytes(e))}const Mo={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},Aw={UNKNOWN:-1,DEFLATE:0},b6={UNKNOWN:-1,ADAPTIVE:0},Cw={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Lx={NONE:0,BACKGROUND:1,PREVIOUS:2},Nw={SOURCE:0,OVER:1};class dle extends FE{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,n={}){super(e);const{checkCrc:r=!1}=n;this._checkCrc=r,this._inflator=new x6,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=Aw.UNKNOWN,this._filterMethod=b6.UNKNOWN,this._interlaceMethod=Cw.UNKNOWN,this._colorType=Mo.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(w6(this);!this._end;){const e=this.readUint32(),n=this.readChars(4);this.decodeChunk(e,n)}return this.decodeImage(),this._png}decodeApng(){for(w6(this);!this._end;){const e=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(e,n)}return this.decodeApngImage(),this._apng}decodeChunk(e,n){const r=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case ale:fle(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?v6(this,e+4,n):this.skip(4)}decodeApngChunk(e,n){const r=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,n),this.offset=r+e;break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?v6(this,e+4,n):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=ple(this.readUint8());const n=this.readUint8();this._colorType=n;let r;switch(n){case Mo.GREYSCALE:r=1;break;case Mo.TRUECOLOUR:r=3;break;case Mo.INDEXED_COLOUR:r=1;break;case Mo.GREYSCALE_ALPHA:r=2;break;case Mo.TRUECOLOUR_ALPHA:r=4;break;case Mo.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=r,this._compressionMethod=this.readUint8(),this._compressionMethod!==Aw.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const n=e/3;this._hasPalette=!0;const r=[];this._palette=r;for(let i=0;i<n;i++)r.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const n=e,r=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,r,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let n=e,r=this.offset+this.byteOffset;if(r+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,r,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case Mo.GREYSCALE:case Mo.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let n=0;n<e/2;n++)this._transparency[n]=this.readUint16();break}case Mo.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let n=0;for(;n<e;n++){const r=this.readByte();this._palette[n].push(r)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case Mo.UNKNOWN:case Mo.GREYSCALE_ALPHA:case Mo.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const n=v7(this),r=this.readUint8();if(r!==Aw.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${r}`);const i=this.readBytes(e-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:zoe(i)}}decodepHYs(){const e=this.readUint32(),n=this.readUint32(),r=this.readByte();this._png.resolution={x:e,y:n,unit:r}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const n={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},r=this._frames.at(e);if(r){if(r.data=_6({data:r.data,width:r.width,height:r.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||r.xOffset===0&&r.yOffset===0&&r.width===this._png.width&&r.height===this._png.height)n.data=r.data;else{const i=this._apng.frames.at(e-1);this.disposeFrame(r,i,n),this.addFrameDataToCanvas(n,r)}this._apng.frames.push(n)}}return this._apng}disposeFrame(e,n,r){switch(e.disposeOp){case Lx.NONE:break;case Lx.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let s=0;s<this._png.width;s++){const a=(i*e.width+s)*this._png.channels;for(let o=0;o<this._png.channels;o++)r.data[a+o]=0}break;case Lx.PREVIOUS:r.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,n){const r=1<<this._png.depth,i=(s,a)=>{const o=((s+n.yOffset)*this._png.width+n.xOffset+a)*this._png.channels,c=(s*n.width+a)*this._png.channels;return{index:o,frameIndex:c}};switch(n.blendOp){case Nw.SOURCE:for(let s=0;s<n.height;s++)for(let a=0;a<n.width;a++){const{index:o,frameIndex:c}=i(s,a);for(let f=0;f<this._png.channels;f++)e.data[o+f]=n.data[c+f]}break;case Nw.OVER:for(let s=0;s<n.height;s++)for(let a=0;a<n.width;a++){const{index:o,frameIndex:c}=i(s,a);for(let f=0;f<this._png.channels;f++){const h=n.data[c+this._png.channels-1]/r,p=f%(this._png.channels-1)===0?1:n.data[c+f],g=Math.floor(h*p+(1-h)*e.data[o+f]);e.data[o+f]+=g}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==b6.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===Cw.NO_INTERLACE)this._png.data=_6({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===Cw.ADAM7)this._png.data=Qoe({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,n=this._frames.at(-1);n?n.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Lx.NONE,blendOp:Nw.SOURCE,data:e}),this._inflator=new x6,this._writingDataChunks=!1}}function ple(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var T6;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(T6||(T6={}));function mle(t,e){return new dle(t,e).decode()}var Pn=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function Iw(){Pn.console&&typeof Pn.console.log=="function"&&Pn.console.log.apply(Pn.console,arguments)}var ti={log:Iw,warn:function(t){Pn.console&&(typeof Pn.console.warn=="function"?Pn.console.warn.apply(Pn.console,arguments):Iw.call(null,arguments))},error:function(t){Pn.console&&(typeof Pn.console.error=="function"?Pn.console.error.apply(Pn.console,arguments):Iw(t))}};function kw(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){Nh(r.response,e,n)},r.onerror=function(){ti.error("could not download file")},r.send()}function E6(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Fx(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var Nh=Pn.saveAs||((typeof window>"u"?"undefined":Fr(window))!=="object"||window!==Pn?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=Pn.URL||Pn.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?E6(i.href)?kw(t,e,n):Fx(i,i.target="_blank"):Fx(i)):(i.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){Fx(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(E6(t))kw(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){Fx(r)})}else navigator.msSaveOrOpenBlob((function(i,s){return s===void 0?s={autoBom:!1}:Fr(s)!=="object"&&(ti.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i})(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return kw(t,e,n);var i=t.type==="application/octet-stream",s=/constructor/i.test(Pn.HTMLElement)||Pn.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||i&&s)&&(typeof FileReader>"u"?"undefined":Fr(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var h=o.result;h=a?h:h.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=h:location=h,r=null},o.readAsDataURL(t)}else{var c=Pn.URL||Pn.webkitURL,f=c.createObjectURL(t);r?r.location=f:location.href=f,r=null,setTimeout(function(){c.revokeObjectURL(f)},4e4)}});function _7(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,s=n[r].process,a=i.exec(t);a&&(e=s(a),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),c=this.g.toString(16),f=this.b.toString(16);return o.length==1&&(o="0"+o),c.length==1&&(c="0"+c),f.length==1&&(f="0"+f),"#"+o+c+f}}var by=Pn.atob.bind(Pn),S6=Pn.btoa.bind(Pn);function Rw(t,e){var n=t[0],r=t[1],i=t[2],s=t[3];n=ma(n,r,i,s,e[0],7,-680876936),s=ma(s,n,r,i,e[1],12,-389564586),i=ma(i,s,n,r,e[2],17,606105819),r=ma(r,i,s,n,e[3],22,-1044525330),n=ma(n,r,i,s,e[4],7,-176418897),s=ma(s,n,r,i,e[5],12,1200080426),i=ma(i,s,n,r,e[6],17,-1473231341),r=ma(r,i,s,n,e[7],22,-45705983),n=ma(n,r,i,s,e[8],7,1770035416),s=ma(s,n,r,i,e[9],12,-1958414417),i=ma(i,s,n,r,e[10],17,-42063),r=ma(r,i,s,n,e[11],22,-1990404162),n=ma(n,r,i,s,e[12],7,1804603682),s=ma(s,n,r,i,e[13],12,-40341101),i=ma(i,s,n,r,e[14],17,-1502002290),n=ga(n,r=ma(r,i,s,n,e[15],22,1236535329),i,s,e[1],5,-165796510),s=ga(s,n,r,i,e[6],9,-1069501632),i=ga(i,s,n,r,e[11],14,643717713),r=ga(r,i,s,n,e[0],20,-373897302),n=ga(n,r,i,s,e[5],5,-701558691),s=ga(s,n,r,i,e[10],9,38016083),i=ga(i,s,n,r,e[15],14,-660478335),r=ga(r,i,s,n,e[4],20,-405537848),n=ga(n,r,i,s,e[9],5,568446438),s=ga(s,n,r,i,e[14],9,-1019803690),i=ga(i,s,n,r,e[3],14,-187363961),r=ga(r,i,s,n,e[8],20,1163531501),n=ga(n,r,i,s,e[13],5,-1444681467),s=ga(s,n,r,i,e[2],9,-51403784),i=ga(i,s,n,r,e[7],14,1735328473),n=xa(n,r=ga(r,i,s,n,e[12],20,-1926607734),i,s,e[5],4,-378558),s=xa(s,n,r,i,e[8],11,-2022574463),i=xa(i,s,n,r,e[11],16,1839030562),r=xa(r,i,s,n,e[14],23,-35309556),n=xa(n,r,i,s,e[1],4,-1530992060),s=xa(s,n,r,i,e[4],11,1272893353),i=xa(i,s,n,r,e[7],16,-155497632),r=xa(r,i,s,n,e[10],23,-1094730640),n=xa(n,r,i,s,e[13],4,681279174),s=xa(s,n,r,i,e[0],11,-358537222),i=xa(i,s,n,r,e[3],16,-722521979),r=xa(r,i,s,n,e[6],23,76029189),n=xa(n,r,i,s,e[9],4,-640364487),s=xa(s,n,r,i,e[12],11,-421815835),i=xa(i,s,n,r,e[15],16,530742520),n=ya(n,r=xa(r,i,s,n,e[2],23,-995338651),i,s,e[0],6,-198630844),s=ya(s,n,r,i,e[7],10,1126891415),i=ya(i,s,n,r,e[14],15,-1416354905),r=ya(r,i,s,n,e[5],21,-57434055),n=ya(n,r,i,s,e[12],6,1700485571),s=ya(s,n,r,i,e[3],10,-1894986606),i=ya(i,s,n,r,e[10],15,-1051523),r=ya(r,i,s,n,e[1],21,-2054922799),n=ya(n,r,i,s,e[8],6,1873313359),s=ya(s,n,r,i,e[15],10,-30611744),i=ya(i,s,n,r,e[6],15,-1560198380),r=ya(r,i,s,n,e[13],21,1309151649),n=ya(n,r,i,s,e[4],6,-145523070),s=ya(s,n,r,i,e[11],10,-1120210379),i=ya(i,s,n,r,e[2],15,718787259),r=ya(r,i,s,n,e[9],21,-343485551),t[0]=Pf(n,t[0]),t[1]=Pf(r,t[1]),t[2]=Pf(i,t[2]),t[3]=Pf(s,t[3])}function d2(t,e,n,r,i,s){return e=Pf(Pf(e,t),Pf(r,s)),Pf(e<<i|e>>>32-i,n)}function ma(t,e,n,r,i,s,a){return d2(e&n|~e&r,t,e,i,s,a)}function ga(t,e,n,r,i,s,a){return d2(e&r|n&~r,t,e,i,s,a)}function xa(t,e,n,r,i,s,a){return d2(e^n^r,t,e,i,s,a)}function ya(t,e,n,r,i,s,a){return d2(n^(e|~r),t,e,i,s,a)}function w7(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)Rw(r,gle(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(Rw(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*n,Rw(r,i),r}function gle(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}var A6="0123456789abcdef".split("");function xle(t){for(var e="",n=0;n<4;n++)e+=A6[t>>8*n+4&15]+A6[t>>8*n&15];return e}function yle(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function _5(t){return w7(t).map(yle).join("")}var vle=(function(t){for(var e=0;e<t.length;e++)t[e]=xle(t[e]);return t.join("")})(w7("hello"))!="5d41402abc4b2a76b9719d911017c592";function Pf(t,e){if(vle){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}function w5(t,e){var n,r,i,s;if(t!==n){for(var a=(i=t,s=1+(256/t.length|0),new Array(s+1).join(i)),o=[],c=0;c<256;c++)o[c]=c;var f=0;for(c=0;c<256;c++){var h=o[c];f=(f+h+a.charCodeAt(c))%256,o[c]=o[f],o[f]=h}n=t,r=o}else o=r;var p=e.length,g=0,x=0,T="";for(c=0;c<p;c++)x=(x+(h=o[g=(g+1)%256]))%256,o[g]=o[x],o[x]=h,a=o[(o[g]+o[x])%256],T+=String.fromCharCode(e.charCodeAt(c)^a);return T}var C6={print:4,modify:8,copy:16,"annot-forms":32};function b0(t,e,n,r){this.v=1,this.r=2;var i=192;t.forEach(function(o){if(C6.perm!==void 0)throw new Error("Invalid permission: "+o);i+=C6[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),a=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,a),this.P=-(1+(255^i)),this.encryptionKey=_5(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=w5(this.encryptionKey,this.padding)}function T0(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var i=t.charCodeAt(r);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):t[r]}return e}function N6(t){if(Fr(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var s=Math.random().toString(35);return e[n][s]=[r,!!i],s},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[n]){var a=e[n][s];try{a[0].apply(t,r)}catch(o){Pn.console&&ti.error("jsPDF PubSub Error",o.message,o)}a[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function dv(t){if(!(this instanceof dv))return new dv(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function b7(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function Dh(t,e,n,r,i){if(!(this instanceof Dh))return new Dh(t,e,n,r,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,b7.call(this,r,i)}function F0(t,e,n,r,i){if(!(this instanceof F0))return new F0(t,e,n,r,i);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,b7.call(this,r,i)}function fn(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],a=[],o=1,c=16,f="S",h=null;Fr(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,i=t.format||i,s=t.compress||t.compressPdf||s,(h=t.encryption||null)!==null&&(h.userPassword=h.userPassword||"",h.ownerPassword=h.ownerPassword||"",h.userPermissions=h.userPermissions||[]),o=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(c=t.floatPrecision),f=t.defaultPathOperation||"S"),a=t.filters||(s===!0?["FlateEncode"]:a),r=r||"mm",n=(""+(n||"P")).toLowerCase();var p=t.putOnlyUsedFonts||!1,g={},x={internal:{},__private__:{}};x.__private__.PubSub=N6;var T="1.3",S=x.__private__.getPdfVersion=function(){return T};x.__private__.setPdfVersion=function(D){T=D};var N={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};x.__private__.getPageFormats=function(){return N};var k=x.__private__.getPageFormat=function(D){return N[D]};i=i||"a4";var B="compat",R="advanced",q=B;function Y(){this.saveGraphicsState(),re(new Mt(At,0,0,-At,0,Ma()*At).toString()+" cm"),this.setFontSize(this.getFontSize()/At),f="n",q=R}function J(){this.restoreGraphicsState(),f="S",q=B}var F=x.__private__.combineFontStyleAndFontWeight=function(D,Z){if(D=="bold"&&Z=="normal"||D=="bold"&&Z==400||D=="normal"&&Z=="italic"||D=="bold"&&Z=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return Z&&(D=Z==400||Z==="normal"?D==="italic"?"italic":"normal":Z!=700&&Z!=="bold"||D!=="normal"?(Z==700?"bold":Z)+""+D:"bold"),D};x.advancedAPI=function(D){var Z=q===B;return Z&&Y.call(this),typeof D!="function"||(D(this),Z&&J.call(this)),this},x.compatAPI=function(D){var Z=q===R;return Z&&J.call(this),typeof D!="function"||(D(this),Z&&Y.call(this)),this},x.isAdvancedAPI=function(){return q===R};var O,C=function(D){if(q!==R)throw new Error(D+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},H=x.roundToPrecision=x.__private__.roundToPrecision=function(D,Z){var Ee=e||Z;if(isNaN(D)||isNaN(Ee))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return D.toFixed(Ee).replace(/0+$/,"")};O=x.hpf=x.__private__.hpf=typeof c=="number"?function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.hpf");return H(D,c)}:c==="smart"?function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.hpf");return H(D,D>-1&&D<1?16:5)}:function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.hpf");return H(D,16)};var P=x.f2=x.__private__.f2=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.f2");return H(D,2)},L=x.__private__.f3=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.f3");return H(D,3)},V=x.scale=x.__private__.scale=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.scale");return q===B?D*At:q===R?D:void 0},me=function(D){return V((function(Z){return q===B?Ma()-Z:q===R?Z:void 0})(D))};x.__private__.setPrecision=x.setPrecision=function(D){typeof parseInt(D,10)=="number"&&(e=parseInt(D,10))};var Ne,se="00000000000000000000000000000000",xe=x.__private__.getFileId=function(){return se},he=x.__private__.setFileId=function(D){return se=D!==void 0&&/^[a-fA-F0-9]{32}$/.test(D)?D.toUpperCase():se.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),h!==null&&(Jr=new b0(h.userPermissions,h.userPassword,h.ownerPassword,se)),se};x.setFileId=function(D){return he(D),this},x.getFileId=function(){return xe()};var ue=x.__private__.convertDateToPDFDate=function(D){var Z=D.getTimezoneOffset(),Ee=Z<0?"+":"-",Pe=Math.floor(Math.abs(Z/60)),Ve=Math.abs(Z%60),ct=[Ee,K(Pe),"'",K(Ve),"'"].join("");return["D:",D.getFullYear(),K(D.getMonth()+1),K(D.getDate()),K(D.getHours()),K(D.getMinutes()),K(D.getSeconds()),ct].join("")},Le=x.__private__.convertPDFDateToDate=function(D){var Z=parseInt(D.substr(2,4),10),Ee=parseInt(D.substr(6,2),10)-1,Pe=parseInt(D.substr(8,2),10),Ve=parseInt(D.substr(10,2),10),ct=parseInt(D.substr(12,2),10),yt=parseInt(D.substr(14,2),10);return new Date(Z,Ee,Pe,Ve,ct,yt,0)},ne=x.__private__.setCreationDate=function(D){var Z;if(D===void 0&&(D=new Date),D instanceof Date)Z=ue(D);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(D))throw new Error("Invalid argument passed to jsPDF.setCreationDate");Z=D}return Ne=Z},M=x.__private__.getCreationDate=function(D){var Z=Ne;return D==="jsDate"&&(Z=Le(Ne)),Z};x.setCreationDate=function(D){return ne(D),this},x.getCreationDate=function(D){return M(D)};var W,K=x.__private__.padd2=function(D){return("0"+parseInt(D)).slice(-2)},Q=x.__private__.padd2Hex=function(D){return("00"+(D=D.toString())).substr(D.length)},ce=0,we=[],ke=[],fe=0,Ae=[],Ue=[],ae=!1,it=ke;x.__private__.setCustomOutputDestination=function(D){ae=!0,it=D};var dt=function(D){ae||(it=D)};x.__private__.resetCustomOutputDestination=function(){ae=!1,it=ke};var re=x.__private__.out=function(D){return D=D.toString(),fe+=D.length+1,it.push(D),it},lt=x.__private__.write=function(D){return re(arguments.length===1?D.toString():Array.prototype.join.call(arguments," "))},ft=x.__private__.getArrayBuffer=function(D){for(var Z=D.length,Ee=new ArrayBuffer(Z),Pe=new Uint8Array(Ee);Z--;)Pe[Z]=D.charCodeAt(Z);return Ee},kt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];x.__private__.getStandardFonts=function(){return kt};var rt=t.fontSize||16;x.__private__.setFontSize=x.setFontSize=function(D){return rt=q===R?D/At:D,this};var St,Nt=x.__private__.getFontSize=x.getFontSize=function(){return q===B?rt:rt*At},Jt=t.R2L||!1;x.__private__.setR2L=x.setR2L=function(D){return Jt=D,this},x.__private__.getR2L=x.getR2L=function(){return Jt};var qt,sn=x.__private__.setZoomMode=function(D){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(D))St=D;else if(isNaN(D)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(D)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+D+'" is not recognized.');St=D}else St=parseInt(D,10)};x.__private__.getZoomMode=function(){return St};var mn,ln=x.__private__.setPageMode=function(D){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(D)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+D+'" is not recognized.');qt=D};x.__private__.getPageMode=function(){return qt};var En=x.__private__.setLayoutMode=function(D){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(D)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+D+'" is not recognized.');mn=D};x.__private__.getLayoutMode=function(){return mn},x.__private__.setDisplayMode=x.setDisplayMode=function(D,Z,Ee){return sn(D),En(Z),ln(Ee),this};var an={title:"",subject:"",author:"",keywords:"",creator:""};x.__private__.getDocumentProperty=function(D){if(Object.keys(an).indexOf(D)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return an[D]},x.__private__.getDocumentProperties=function(){return an},x.__private__.setDocumentProperties=x.setProperties=x.setDocumentProperties=function(D){for(var Z in an)an.hasOwnProperty(Z)&&D[Z]&&(an[Z]=D[Z]);return this},x.__private__.setDocumentProperty=function(D,Z){if(Object.keys(an).indexOf(D)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return an[D]=Z};var Ft,At,Rt,qn,$t,Yt={},hn={},An=[],Oe={},Lt={},Pt={},Bt={},Zt=null,Wt=0,jt=[],gn=new N6(x),Ur=t.hotfixes||[],Yr={},Ns={},ri=[],Mt=function D(Z,Ee,Pe,Ve,ct,yt){if(!(this instanceof D))return new D(Z,Ee,Pe,Ve,ct,yt);isNaN(Z)&&(Z=1),isNaN(Ee)&&(Ee=0),isNaN(Pe)&&(Pe=0),isNaN(Ve)&&(Ve=1),isNaN(ct)&&(ct=0),isNaN(yt)&&(yt=0),this._matrix=[Z,Ee,Pe,Ve,ct,yt]};Object.defineProperty(Mt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(D){this._matrix[0]=D}}),Object.defineProperty(Mt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(D){this._matrix[1]=D}}),Object.defineProperty(Mt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(D){this._matrix[2]=D}}),Object.defineProperty(Mt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(D){this._matrix[3]=D}}),Object.defineProperty(Mt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(D){this._matrix[4]=D}}),Object.defineProperty(Mt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(D){this._matrix[5]=D}}),Object.defineProperty(Mt.prototype,"a",{get:function(){return this._matrix[0]},set:function(D){this._matrix[0]=D}}),Object.defineProperty(Mt.prototype,"b",{get:function(){return this._matrix[1]},set:function(D){this._matrix[1]=D}}),Object.defineProperty(Mt.prototype,"c",{get:function(){return this._matrix[2]},set:function(D){this._matrix[2]=D}}),Object.defineProperty(Mt.prototype,"d",{get:function(){return this._matrix[3]},set:function(D){this._matrix[3]=D}}),Object.defineProperty(Mt.prototype,"e",{get:function(){return this._matrix[4]},set:function(D){this._matrix[4]=D}}),Object.defineProperty(Mt.prototype,"f",{get:function(){return this._matrix[5]},set:function(D){this._matrix[5]=D}}),Object.defineProperty(Mt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Mt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Mt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Mt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Mt.prototype.join=function(D){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(O).join(D)},Mt.prototype.multiply=function(D){var Z=D.sx*this.sx+D.shy*this.shx,Ee=D.sx*this.shy+D.shy*this.sy,Pe=D.shx*this.sx+D.sy*this.shx,Ve=D.shx*this.shy+D.sy*this.sy,ct=D.tx*this.sx+D.ty*this.shx+this.tx,yt=D.tx*this.shy+D.ty*this.sy+this.ty;return new Mt(Z,Ee,Pe,Ve,ct,yt)},Mt.prototype.decompose=function(){var D=this.sx,Z=this.shy,Ee=this.shx,Pe=this.sy,Ve=this.tx,ct=this.ty,yt=Math.sqrt(D*D+Z*Z),Kt=(D/=yt)*Ee+(Z/=yt)*Pe;Ee-=D*Kt,Pe-=Z*Kt;var en=Math.sqrt(Ee*Ee+Pe*Pe);return Kt/=en,D*(Pe/=en)<Z*(Ee/=en)&&(D=-D,Z=-Z,Kt=-Kt,yt=-yt),{scale:new Mt(yt,0,0,en,0,0),translate:new Mt(1,0,0,1,Ve,ct),rotate:new Mt(D,Z,-Z,D,0,0),skew:new Mt(1,0,Kt,1,0,0)}},Mt.prototype.toString=function(D){return this.join(" ")},Mt.prototype.inversed=function(){var D=this.sx,Z=this.shy,Ee=this.shx,Pe=this.sy,Ve=this.tx,ct=this.ty,yt=1/(D*Pe-Z*Ee),Kt=Pe*yt,en=-Z*yt,vn=-Ee*yt,dn=D*yt;return new Mt(Kt,en,vn,dn,-Kt*Ve-vn*ct,-en*Ve-dn*ct)},Mt.prototype.applyToPoint=function(D){var Z=D.x*this.sx+D.y*this.shx+this.tx,Ee=D.x*this.shy+D.y*this.sy+this.ty;return new Qi(Z,Ee)},Mt.prototype.applyToRectangle=function(D){var Z=this.applyToPoint(D),Ee=this.applyToPoint(new Qi(D.x+D.w,D.y+D.h));return new Ya(Z.x,Z.y,Ee.x-Z.x,Ee.y-Z.y)},Mt.prototype.clone=function(){var D=this.sx,Z=this.shy,Ee=this.shx,Pe=this.sy,Ve=this.tx,ct=this.ty;return new Mt(D,Z,Ee,Pe,Ve,ct)},x.Matrix=Mt;var Ra=x.matrixMult=function(D,Z){return Z.multiply(D)},us=new Mt(1,0,0,1,0,0);x.unitMatrix=x.identityMatrix=us;var Ni=function(D,Z){if(!Lt[D]){var Ee=(Z instanceof Dh?"Sh":"P")+(Object.keys(Oe).length+1).toString(10);Z.id=Ee,Lt[D]=Ee,Oe[Ee]=Z,gn.publish("addPattern",Z)}};x.ShadingPattern=Dh,x.TilingPattern=F0,x.addShadingPattern=function(D,Z){return C("addShadingPattern()"),Ni(D,Z),this},x.beginTilingPattern=function(D){C("beginTilingPattern()"),Xa(D.boundingBox[0],D.boundingBox[1],D.boundingBox[2]-D.boundingBox[0],D.boundingBox[3]-D.boundingBox[1],D.matrix)},x.endTilingPattern=function(D,Z){C("endTilingPattern()"),Z.stream=Ue[W].join(`
`),Ni(D,Z),gn.publish("endTilingPattern",Z),ri.pop().restore()};var Xi,_r=x.__private__.newObject=function(){var D=Ir();return te(D,!0),D},Ir=x.__private__.newObjectDeferred=function(){return ce++,we[ce]=function(){return fe},ce},te=function(D,Z){return Z=typeof Z=="boolean"&&Z,we[D]=fe,Z&&re(D+" 0 obj"),D},be=x.__private__.newAdditionalObject=function(){var D={objId:Ir(),content:""};return Ae.push(D),D},ge=Ir(),ye=Ir(),_e=x.__private__.decodeColorString=function(D){var Z=D.split(" ");if(Z.length!==2||Z[1]!=="g"&&Z[1]!=="G")Z.length!==5||Z[4]!=="k"&&Z[4]!=="K"||(Z=[(1-Z[0])*(1-Z[3]),(1-Z[1])*(1-Z[3]),(1-Z[2])*(1-Z[3]),"r"]);else{var Ee=parseFloat(Z[0]);Z=[Ee,Ee,Ee,"r"]}for(var Pe="#",Ve=0;Ve<3;Ve++)Pe+=("0"+Math.floor(255*parseFloat(Z[Ve])).toString(16)).slice(-2);return Pe},Ce=x.__private__.encodeColorString=function(D){var Z;typeof D=="string"&&(D={ch1:D});var Ee=D.ch1,Pe=D.ch2,Ve=D.ch3,ct=D.ch4,yt=D.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Ee=="string"&&Ee.charAt(0)!=="#"){var Kt=new _7(Ee);if(Kt.ok)Ee=Kt.toHex();else if(!/^\d*\.?\d*$/.test(Ee))throw new Error('Invalid color "'+Ee+'" passed to jsPDF.encodeColorString.')}if(typeof Ee=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Ee)&&(Ee="#"+Ee[1]+Ee[1]+Ee[2]+Ee[2]+Ee[3]+Ee[3]),typeof Ee=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Ee)){var en=parseInt(Ee.substr(1),16);Ee=en>>16&255,Pe=en>>8&255,Ve=255&en}if(Pe===void 0||ct===void 0&&Ee===Pe&&Pe===Ve)Z=typeof Ee=="string"?Ee+" "+yt[0]:D.precision===2?P(Ee/255)+" "+yt[0]:L(Ee/255)+" "+yt[0];else if(ct===void 0||Fr(ct)==="object"){if(ct&&!isNaN(ct.a)&&ct.a===0)return["1.","1.","1.",yt[1]].join(" ");Z=typeof Ee=="string"?[Ee,Pe,Ve,yt[1]].join(" "):D.precision===2?[P(Ee/255),P(Pe/255),P(Ve/255),yt[1]].join(" "):[L(Ee/255),L(Pe/255),L(Ve/255),yt[1]].join(" ")}else Z=typeof Ee=="string"?[Ee,Pe,Ve,ct,yt[2]].join(" "):D.precision===2?[P(Ee),P(Pe),P(Ve),P(ct),yt[2]].join(" "):[L(Ee),L(Pe),L(Ve),L(ct),yt[2]].join(" ");return Z},He=x.__private__.getFilters=function(){return a},tt=x.__private__.putStream=function(D){var Z=(D=D||{}).data||"",Ee=D.filters||He(),Pe=D.alreadyAppliedFilters||[],Ve=D.addLength1||!1,ct=Z.length,yt=D.objectId,Kt=function(j){return j};if(h!==null&&yt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");h!==null&&(Kt=Jr.encryptor(yt,0));var en={};Ee===!0&&(Ee=["FlateEncode"]);var vn=D.additionalKeyValues||[],dn=(en=fn.API.processDataByFilters!==void 0?fn.API.processDataByFilters(Z,Ee):{data:Z,reverseChain:[]}).reverseChain+(Array.isArray(Pe)?Pe.join(" "):Pe.toString());if(en.data.length!==0&&(vn.push({key:"Length",value:en.data.length}),Ve===!0&&vn.push({key:"Length1",value:ct})),dn.length!=0)if(dn.split("/").length-1==1)vn.push({key:"Filter",value:dn});else{vn.push({key:"Filter",value:"["+dn+"]"});for(var Yn=0;Yn<vn.length;Yn+=1)if(vn[Yn].key==="DecodeParms"){for(var Br=[],kr=0;kr<en.reverseChain.split("/").length-1;kr+=1)Br.push("null");Br.push(vn[Yn].value),vn[Yn].value="["+Br.join(" ")+"]"}}re("<<");for(var w=0;w<vn.length;w++)re("/"+vn[w].key+" "+vn[w].value);re(">>"),en.data.length!==0&&(re("stream"),re(Kt(en.data)),re("endstream"))},Ge=x.__private__.putPage=function(D){var Z=D.number,Ee=D.data,Pe=D.objId,Ve=D.contentsObjId;te(Pe,!0),re("<</Type /Page"),re("/Parent "+D.rootDictionaryObjId+" 0 R"),re("/Resources "+D.resourceDictionaryObjId+" 0 R"),re("/MediaBox ["+parseFloat(O(D.mediaBox.bottomLeftX))+" "+parseFloat(O(D.mediaBox.bottomLeftY))+" "+O(D.mediaBox.topRightX)+" "+O(D.mediaBox.topRightY)+"]"),D.cropBox!==null&&re("/CropBox ["+O(D.cropBox.bottomLeftX)+" "+O(D.cropBox.bottomLeftY)+" "+O(D.cropBox.topRightX)+" "+O(D.cropBox.topRightY)+"]"),D.bleedBox!==null&&re("/BleedBox ["+O(D.bleedBox.bottomLeftX)+" "+O(D.bleedBox.bottomLeftY)+" "+O(D.bleedBox.topRightX)+" "+O(D.bleedBox.topRightY)+"]"),D.trimBox!==null&&re("/TrimBox ["+O(D.trimBox.bottomLeftX)+" "+O(D.trimBox.bottomLeftY)+" "+O(D.trimBox.topRightX)+" "+O(D.trimBox.topRightY)+"]"),D.artBox!==null&&re("/ArtBox ["+O(D.artBox.bottomLeftX)+" "+O(D.artBox.bottomLeftY)+" "+O(D.artBox.topRightX)+" "+O(D.artBox.topRightY)+"]"),typeof D.userUnit=="number"&&D.userUnit!==1&&re("/UserUnit "+D.userUnit),gn.publish("putPage",{objId:Pe,pageContext:jt[Z],pageNumber:Z,page:Ee}),re("/Contents "+Ve+" 0 R"),re(">>"),re("endobj");var ct=Ee.join(`
`);return q===R&&(ct+=`
Q`),te(Ve,!0),tt({data:ct,filters:He(),objectId:Ve}),re("endobj"),Pe},We=x.__private__.putPages=function(){var D,Z,Ee=[];for(D=1;D<=Wt;D++)jt[D].objId=Ir(),jt[D].contentsObjId=Ir();for(D=1;D<=Wt;D++)Ee.push(Ge({number:D,data:Ue[D],objId:jt[D].objId,contentsObjId:jt[D].contentsObjId,mediaBox:jt[D].mediaBox,cropBox:jt[D].cropBox,bleedBox:jt[D].bleedBox,trimBox:jt[D].trimBox,artBox:jt[D].artBox,userUnit:jt[D].userUnit,rootDictionaryObjId:ge,resourceDictionaryObjId:ye}));te(ge,!0),re("<</Type /Pages");var Pe="/Kids [";for(Z=0;Z<Wt;Z++)Pe+=Ee[Z]+" 0 R ";re(Pe+"]"),re("/Count "+Wt),re(">>"),re("endobj"),gn.publish("postPutPages")},Ke=function(D){gn.publish("putFont",{font:D,out:re,newObject:_r,putStream:tt}),D.isAlreadyPutted!==!0&&(D.objectNumber=_r(),re("<<"),re("/Type /Font"),re("/BaseFont /"+T0(D.postScriptName)),re("/Subtype /Type1"),typeof D.encoding=="string"&&re("/Encoding /"+D.encoding),re("/FirstChar 32"),re("/LastChar 255"),re(">>"),re("endobj"))},vt=function(D){D.objectNumber=_r();var Z=[];Z.push({key:"Type",value:"/XObject"}),Z.push({key:"Subtype",value:"/Form"}),Z.push({key:"BBox",value:"["+[O(D.x),O(D.y),O(D.x+D.width),O(D.y+D.height)].join(" ")+"]"}),Z.push({key:"Matrix",value:"["+D.matrix.toString()+"]"});var Ee=D.pages[1].join(`
`);tt({data:Ee,additionalKeyValues:Z,objectId:D.objectNumber}),re("endobj")},bt=function(D,Z){Z||(Z=21);var Ee=_r(),Pe=(function(yt,Kt){var en,vn=[],dn=1/(Kt-1);for(en=0;en<1;en+=dn)vn.push(en);if(vn.push(1),yt[0].offset!=0){var Yn={offset:0,color:yt[0].color};yt.unshift(Yn)}if(yt[yt.length-1].offset!=1){var Br={offset:1,color:yt[yt.length-1].color};yt.push(Br)}for(var kr="",w=0,j=0;j<vn.length;j++){for(en=vn[j];en>yt[w+1].offset;)w++;var X=yt[w].offset,pe=(en-X)/(yt[w+1].offset-X),je=yt[w].color,Qe=yt[w+1].color;kr+=Q(Math.round((1-pe)*je[0]+pe*Qe[0]).toString(16))+Q(Math.round((1-pe)*je[1]+pe*Qe[1]).toString(16))+Q(Math.round((1-pe)*je[2]+pe*Qe[2]).toString(16))}return kr.trim()})(D.colors,Z),Ve=[];Ve.push({key:"FunctionType",value:"0"}),Ve.push({key:"Domain",value:"[0.0 1.0]"}),Ve.push({key:"Size",value:"["+Z+"]"}),Ve.push({key:"BitsPerSample",value:"8"}),Ve.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ve.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),tt({data:Pe,additionalKeyValues:Ve,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Ee}),re("endobj"),D.objectNumber=_r(),re("<< /ShadingType "+D.type),re("/ColorSpace /DeviceRGB");var ct="/Coords ["+O(parseFloat(D.coords[0]))+" "+O(parseFloat(D.coords[1]))+" ";D.type===2?ct+=O(parseFloat(D.coords[2]))+" "+O(parseFloat(D.coords[3])):ct+=O(parseFloat(D.coords[2]))+" "+O(parseFloat(D.coords[3]))+" "+O(parseFloat(D.coords[4]))+" "+O(parseFloat(D.coords[5])),re(ct+="]"),D.matrix&&re("/Matrix ["+D.matrix.toString()+"]"),re("/Function "+Ee+" 0 R"),re("/Extend [true true]"),re(">>"),re("endobj")},It=function(D,Z){var Ee=Ir(),Pe=_r();Z.push({resourcesOid:Ee,objectOid:Pe}),D.objectNumber=Pe;var Ve=[];Ve.push({key:"Type",value:"/Pattern"}),Ve.push({key:"PatternType",value:"1"}),Ve.push({key:"PaintType",value:"1"}),Ve.push({key:"TilingType",value:"1"}),Ve.push({key:"BBox",value:"["+D.boundingBox.map(O).join(" ")+"]"}),Ve.push({key:"XStep",value:O(D.xStep)}),Ve.push({key:"YStep",value:O(D.yStep)}),Ve.push({key:"Resources",value:Ee+" 0 R"}),D.matrix&&Ve.push({key:"Matrix",value:"["+D.matrix.toString()+"]"}),tt({data:D.stream,additionalKeyValues:Ve,objectId:D.objectNumber}),re("endobj")},_t=function(D){for(var Z in D.objectNumber=_r(),re("<<"),D)switch(Z){case"opacity":re("/ca "+P(D[Z]));break;case"stroke-opacity":re("/CA "+P(D[Z]))}re(">>"),re("endobj")},Ct=function(D){te(D.resourcesOid,!0),re("<<"),re("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var Z in re("/Font <<"),Yt)Yt.hasOwnProperty(Z)&&(p===!1||p===!0&&g.hasOwnProperty(Z))&&re("/"+Z+" "+Yt[Z].objectNumber+" 0 R");re(">>")})(),(function(){if(Object.keys(Oe).length>0){for(var Z in re("/Shading <<"),Oe)Oe.hasOwnProperty(Z)&&Oe[Z]instanceof Dh&&Oe[Z].objectNumber>=0&&re("/"+Z+" "+Oe[Z].objectNumber+" 0 R");gn.publish("putShadingPatternDict"),re(">>")}})(),(function(Z){if(Object.keys(Oe).length>0){for(var Ee in re("/Pattern <<"),Oe)Oe.hasOwnProperty(Ee)&&Oe[Ee]instanceof x.TilingPattern&&Oe[Ee].objectNumber>=0&&Oe[Ee].objectNumber<Z&&re("/"+Ee+" "+Oe[Ee].objectNumber+" 0 R");gn.publish("putTilingPatternDict"),re(">>")}})(D.objectOid),(function(){if(Object.keys(Pt).length>0){var Z;for(Z in re("/ExtGState <<"),Pt)Pt.hasOwnProperty(Z)&&Pt[Z].objectNumber>=0&&re("/"+Z+" "+Pt[Z].objectNumber+" 0 R");gn.publish("putGStateDict"),re(">>")}})(),(function(){for(var Z in re("/XObject <<"),Yr)Yr.hasOwnProperty(Z)&&Yr[Z].objectNumber>=0&&re("/"+Z+" "+Yr[Z].objectNumber+" 0 R");gn.publish("putXobjectDict"),re(">>")})(),re(">>"),re("endobj")},Gt=function(D){hn[D.fontName]=hn[D.fontName]||{},hn[D.fontName][D.fontStyle]=D.id},cr=function(D,Z,Ee,Pe,Ve){var ct={id:"F"+(Object.keys(Yt).length+1).toString(10),postScriptName:D,fontName:Z,fontStyle:Ee,encoding:Pe,isStandardFont:Ve||!1,metadata:{}};return gn.publish("addFont",{font:ct,instance:this}),Yt[ct.id]=ct,Gt(ct),ct.id},Bn=x.__private__.pdfEscape=x.pdfEscape=function(D,Z){return(function(Ee,Pe){var Ve,ct,yt,Kt,en,vn,dn,Yn,Br;if(yt=(Pe=Pe||{}).sourceEncoding||"Unicode",en=Pe.outputEncoding,(Pe.autoencode||en)&&Yt[Ft].metadata&&Yt[Ft].metadata[yt]&&Yt[Ft].metadata[yt].encoding&&(Kt=Yt[Ft].metadata[yt].encoding,!en&&Yt[Ft].encoding&&(en=Yt[Ft].encoding),!en&&Kt.codePages&&(en=Kt.codePages[0]),typeof en=="string"&&(en=Kt[en]),en)){for(dn=!1,vn=[],Ve=0,ct=Ee.length;Ve<ct;Ve++)(Yn=en[Ee.charCodeAt(Ve)])?vn.push(String.fromCharCode(Yn)):vn.push(Ee[Ve]),vn[Ve].charCodeAt(0)>>8&&(dn=!0);Ee=vn.join("")}for(Ve=Ee.length;dn===void 0&&Ve!==0;)Ee.charCodeAt(Ve-1)>>8&&(dn=!0),Ve--;if(!dn)return Ee;for(vn=Pe.noBOM?[]:[254,255],Ve=0,ct=Ee.length;Ve<ct;Ve++){if((Br=(Yn=Ee.charCodeAt(Ve))>>8)>>8)throw new Error("Character at position "+Ve+" of string '"+Ee+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");vn.push(Br),vn.push(Yn-(Br<<8))}return String.fromCharCode.apply(void 0,vn)})(D,Z).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},gr=x.__private__.beginPage=function(D){Ue[++Wt]=[],jt[Wt]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(D[0]),topRightY:Number(D[1])}},la(Wt),dt(Ue[W])},ji=function(D,Z){var Ee,Pe,Ve;switch(n=Z||n,typeof D=="string"&&(Ee=k(D.toLowerCase()),Array.isArray(Ee)&&(Pe=Ee[0],Ve=Ee[1])),Array.isArray(D)&&(Pe=D[0]*At,Ve=D[1]*At),isNaN(Pe)&&(Pe=i[0],Ve=i[1]),(Pe>14400||Ve>14400)&&(ti.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Pe=Math.min(14400,Pe),Ve=Math.min(14400,Ve)),i=[Pe,Ve],n.substr(0,1)){case"l":Ve>Pe&&(i=[Ve,Pe]);break;case"p":Pe>Ve&&(i=[Ve,Pe])}gr(i),xn(Rs),re(Gs),Ws!==0&&re(Ws+" J"),wi!==0&&re(wi+" j"),gn.publish("addPage",{pageNumber:Wt})},zs=function(D){D>0&&D<=Wt&&(Ue.splice(D,1),jt.splice(D,1),Wt--,W>Wt&&(W=Wt),this.setPage(W))},la=function(D){D>0&&D<=Wt&&(W=D)},Is=x.__private__.getNumberOfPages=x.getNumberOfPages=function(){return Ue.length-1},wo=function(D,Z,Ee){var Pe,Ve=void 0;return Ee=Ee||{},D=D!==void 0?D:Yt[Ft].fontName,Z=Z!==void 0?Z:Yt[Ft].fontStyle,Pe=D.toLowerCase(),hn[Pe]!==void 0&&hn[Pe][Z]!==void 0?Ve=hn[Pe][Z]:hn[D]!==void 0&&hn[D][Z]!==void 0?Ve=hn[D][Z]:Ee.disableWarning===!1&&ti.warn("Unable to look up font label for font '"+D+"', '"+Z+"'. Refer to getFontList() for available fonts."),Ve||Ee.noFallback||(Ve=hn.times[Z])==null&&(Ve=hn.times.normal),Ve},Xr=x.__private__.putInfo=function(){var D=_r(),Z=function(Pe){return Pe};for(var Ee in h!==null&&(Z=Jr.encryptor(D,0)),re("<<"),re("/Producer ("+Bn(Z("jsPDF "+fn.version))+")"),an)an.hasOwnProperty(Ee)&&an[Ee]&&re("/"+Ee.substr(0,1).toUpperCase()+Ee.substr(1)+" ("+Bn(Z(an[Ee]))+")");re("/CreationDate ("+Bn(Z(Ne))+")"),re(">>"),re("endobj")},Ji=x.__private__.putCatalog=function(D){var Z=(D=D||{}).rootDictionaryObjId||ge;switch(_r(),re("<<"),re("/Type /Catalog"),re("/Pages "+Z+" 0 R"),St||(St="fullwidth"),St){case"fullwidth":re("/OpenAction [3 0 R /FitH null]");break;case"fullheight":re("/OpenAction [3 0 R /FitV null]");break;case"fullpage":re("/OpenAction [3 0 R /Fit]");break;case"original":re("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Ee=""+St;Ee.substr(Ee.length-1)==="%"&&(St=parseInt(St)/100),typeof St=="number"&&re("/OpenAction [3 0 R /XYZ null null "+P(St)+"]")}switch(mn||(mn="continuous"),mn){case"continuous":re("/PageLayout /OneColumn");break;case"single":re("/PageLayout /SinglePage");break;case"two":case"twoleft":re("/PageLayout /TwoColumnLeft");break;case"tworight":re("/PageLayout /TwoColumnRight")}qt&&re("/PageMode /"+qt),gn.publish("putCatalog"),re(">>"),re("endobj")},ui=x.__private__.putTrailer=function(){re("trailer"),re("<<"),re("/Size "+(ce+1)),re("/Root "+ce+" 0 R"),re("/Info "+(ce-1)+" 0 R"),h!==null&&re("/Encrypt "+Jr.oid+" 0 R"),re("/ID [ <"+se+"> <"+se+"> ]"),re(">>")},Wn=x.__private__.putHeader=function(){re("%PDF-"+T),re("%")},bo=x.__private__.putXRef=function(){var D="0000000000";re("xref"),re("0 "+(ce+1)),re("0000000000 65535 f ");for(var Z=1;Z<=ce;Z++)typeof we[Z]=="function"?re((D+we[Z]()).slice(-10)+" 00000 n "):we[Z]!==void 0?re((D+we[Z]).slice(-10)+" 00000 n "):re("0000000000 00000 n ")},ca=x.__private__.buildDocument=function(){var D;ce=0,fe=0,ke=[],we=[],Ae=[],ge=Ir(),ye=Ir(),dt(ke),gn.publish("buildDocument"),Wn(),We(),(function(){gn.publish("putAdditionalObjects");for(var Ee=0;Ee<Ae.length;Ee++){var Pe=Ae[Ee];te(Pe.objId,!0),re(Pe.content),re("endobj")}gn.publish("postPutAdditionalObjects")})(),D=[],(function(){for(var Ee in Yt)Yt.hasOwnProperty(Ee)&&(p===!1||p===!0&&g.hasOwnProperty(Ee))&&Ke(Yt[Ee])})(),(function(){var Ee;for(Ee in Pt)Pt.hasOwnProperty(Ee)&&_t(Pt[Ee])})(),(function(){for(var Ee in Yr)Yr.hasOwnProperty(Ee)&&vt(Yr[Ee])})(),(function(Ee){var Pe;for(Pe in Oe)Oe.hasOwnProperty(Pe)&&(Oe[Pe]instanceof Dh?bt(Oe[Pe]):Oe[Pe]instanceof F0&&It(Oe[Pe],Ee))})(D),gn.publish("putResources"),D.forEach(Ct),Ct({resourcesOid:ye,objectOid:Number.MAX_SAFE_INTEGER}),gn.publish("postPutResources"),h!==null&&(Jr.oid=_r(),re("<<"),re("/Filter /Standard"),re("/V "+Jr.v),re("/R "+Jr.r),re("/U <"+Jr.toHexString(Jr.U)+">"),re("/O <"+Jr.toHexString(Jr.O)+">"),re("/P "+Jr.P),re(">>"),re("endobj")),Xr(),Ji();var Z=fe;return bo(),ui(),re("startxref"),re(""+Z),re("%%EOF"),dt(Ue[W]),ke.join(`
`)},tr=x.__private__.getBlob=function(D){return new Blob([ft(D)],{type:"application/pdf"})},qo=x.output=x.__private__.output=(Xi=function(D,Z){switch(typeof(Z=Z||{})=="string"?Z={filename:Z}:Z.filename=Z.filename||"generated.pdf",D){case void 0:return ca();case"save":x.save(Z.filename);break;case"arraybuffer":return ft(ca());case"blob":return tr(ca());case"bloburi":case"bloburl":if(Pn.URL!==void 0&&typeof Pn.URL.createObjectURL=="function")return Pn.URL&&Pn.URL.createObjectURL(tr(ca()))||void 0;ti.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Ee="",Pe=ca();try{Ee=S6(Pe)}catch{Ee=S6(unescape(encodeURIComponent(Pe)))}return"data:application/pdf;filename="+Z.filename+";base64,"+Ee;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Pn)==="[object Window]"){var Ve="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",ct=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';Z.pdfObjectUrl&&(Ve=Z.pdfObjectUrl,ct="");var yt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ve+'"'+ct+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(Z)+");<\/script></body></html>",Kt=Pn.open();return Kt!==null&&Kt.document.write(yt),Kt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Pn)==="[object Window]"){var en='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(Z.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+Z.filename+'" width="500px" height="400px" /></body></html>',vn=Pn.open();if(vn!==null){vn.document.write(en);var dn=this;vn.document.documentElement.querySelector("#pdfViewer").onload=function(){vn.document.title=Z.filename,vn.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(dn.output("bloburl"))}}return vn}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Pn)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Yn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",Z)+'"></iframe></body></html>',Br=Pn.open();if(Br!==null&&(Br.document.write(Yn),Br.document.title=Z.filename),Br||typeof safari>"u")return Br;break;case"datauri":case"dataurl":return Pn.document.location.href=this.output("datauristring",Z);default:return null}},Xi.foo=function(){try{return Xi.apply(this,arguments)}catch(Ee){var D=Ee.stack||"";~D.indexOf(" at ")&&(D=D.split(" at ")[1]);var Z="Error in function "+D.split(`
`)[0].split("<")[0]+": "+Ee.message;if(!Pn.console)throw new Error(Z);Pn.console.error(Z,Ee),Pn.alert&&alert(Z)}},Xi.foo.bar=Xi,Xi.foo),_i=function(D){return Array.isArray(Ur)===!0&&Ur.indexOf(D)>-1};switch(r){case"pt":At=1;break;case"mm":At=72/25.4;break;case"cm":At=72/2.54;break;case"in":At=72;break;case"px":At=_i("px_scaling")==1?.75:96/72;break;case"pc":case"em":At=12;break;case"ex":At=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);At=r}var Jr=null;ne(),he();var fi=x.__private__.getPageInfo=x.getPageInfo=function(D){if(isNaN(D)||D%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:jt[D].objId,pageNumber:D,pageContext:jt[D]}},vl=x.__private__.getPageInfoByObjId=function(D){if(isNaN(D)||D%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var Z in jt)if(jt[Z].objId===D)break;return fi(Z)},Bu=x.__private__.getCurrentPageInfo=x.getCurrentPageInfo=function(){return{objId:jt[W].objId,pageNumber:W,pageContext:jt[W]}};x.addPage=function(){return ji.apply(this,arguments),this},x.setPage=function(){return la.apply(this,arguments),dt.call(this,Ue[W]),this},x.insertPage=function(D){return this.addPage(),this.movePage(W,D),this},x.movePage=function(D,Z){var Ee,Pe;if(D>Z){Ee=Ue[D],Pe=jt[D];for(var Ve=D;Ve>Z;Ve--)Ue[Ve]=Ue[Ve-1],jt[Ve]=jt[Ve-1];Ue[Z]=Ee,jt[Z]=Pe,this.setPage(Z)}else if(D<Z){Ee=Ue[D],Pe=jt[D];for(var ct=D;ct<Z;ct++)Ue[ct]=Ue[ct+1],jt[ct]=jt[ct+1];Ue[Z]=Ee,jt[Z]=Pe,this.setPage(Z)}return this},x.deletePage=function(){return zs.apply(this,arguments),this},x.__private__.text=x.text=function(D,Z,Ee,Pe,Ve){var ct,yt,Kt,en,vn,dn,Yn,Br,kr,w=(Pe=Pe||{}).scope||this;if(typeof D=="number"&&typeof Z=="number"&&(typeof Ee=="string"||Array.isArray(Ee))){var j=Ee;Ee=Z,Z=D,D=j}if(arguments[3]instanceof Mt==0?(Kt=arguments[4],en=arguments[5],Fr(Yn=arguments[3])==="object"&&Yn!==null||(typeof Kt=="string"&&(en=Kt,Kt=null),typeof Yn=="string"&&(en=Yn,Yn=null),typeof Yn=="number"&&(Kt=Yn,Yn=null),Pe={flags:Yn,angle:Kt,align:en})):(C("The transform parameter of text() with a Matrix value"),kr=Ve),isNaN(Z)||isNaN(Ee)||D==null)throw new Error("Invalid arguments passed to jsPDF.text");if(D.length===0)return w;var X,pe="",je=typeof Pe.lineHeightFactor=="number"?Pe.lineHeightFactor:So,Qe=w.internal.scaleFactor;function Et(xr){return xr=xr.split("	").join(Array(Pe.TabLen||9).join(" ")),Bn(xr,Yn)}function Nn(xr){for(var sr,qr=xr.concat(),Ti=[],el=qr.length;el--;)typeof(sr=qr.shift())=="string"?Ti.push(sr):Array.isArray(xr)&&(sr.length===1||sr[1]===void 0&&sr[2]===void 0)?Ti.push(sr[0]):Ti.push([sr[0],sr[1],sr[2]]);return Ti}function jr(xr,sr){var qr;if(typeof xr=="string")qr=sr(xr)[0];else if(Array.isArray(xr)){for(var Ti,el,Io=xr.concat(),Jc=[],oh=Io.length;oh--;)typeof(Ti=Io.shift())=="string"?Jc.push(sr(Ti)[0]):Array.isArray(Ti)&&typeof Ti[0]=="string"&&(el=sr(Ti[0],Ti[1],Ti[2]),Jc.push([el[0],el[1],el[2]]));qr=Jc}return qr}var Gn=!1,br=!0;if(typeof D=="string")Gn=!0;else if(Array.isArray(D)){var Zi=D.concat();yt=[];for(var hs,Pr=Zi.length;Pr--;)(typeof(hs=Zi.shift())!="string"||Array.isArray(hs)&&typeof hs[0]!="string")&&(br=!1);Gn=br}if(Gn===!1)throw new Error('Type of text must be string or Array. "'+D+'" is not recognized.');typeof D=="string"&&(D=D.match(/[\r?\n]/)?D.split(/\r\n|\r|\n/g):[D]);var ds=rt/w.internal.scaleFactor,La=ds*(je-1);switch(Pe.baseline){case"bottom":Ee-=La;break;case"top":Ee+=ds-La;break;case"hanging":Ee+=ds-2*La;break;case"middle":Ee+=ds/2-La}if((dn=Pe.maxWidth||0)>0&&(typeof D=="string"?D=w.splitTextToSize(D,dn):Object.prototype.toString.call(D)==="[object Array]"&&(D=D.reduce(function(xr,sr){return xr.concat(w.splitTextToSize(sr,dn))},[]))),ct={text:D,x:Z,y:Ee,options:Pe,mutex:{pdfEscape:Bn,activeFontKey:Ft,fonts:Yt,activeFontSize:rt}},gn.publish("preProcessText",ct),D=ct.text,Kt=(Pe=ct.options).angle,kr instanceof Mt==0&&Kt&&typeof Kt=="number"){Kt*=Math.PI/180,Pe.rotationDirection===0&&(Kt=-Kt),q===R&&(Kt=-Kt);var Wo=Math.cos(Kt),Ko=Math.sin(Kt);kr=new Mt(Wo,Ko,-Ko,Wo,0,0)}else Kt&&Kt instanceof Mt&&(kr=Kt);q!==R||kr||(kr=us),(vn=Pe.charSpace||$s)!==void 0&&(pe+=O(V(vn))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Br=Pe.horizontalScale)!==void 0&&(pe+=O(100*Br)+` Tz
`),Pe.lang;var Ys=-1,El=Pe.renderingMode!==void 0?Pe.renderingMode:Pe.stroke,ju=w.internal.getCurrentPageInfo().pageContext;switch(El){case 0:case!1:case"fill":Ys=0;break;case 1:case!0:case"stroke":Ys=1;break;case 2:case"fillThenStroke":Ys=2;break;case 3:case"invisible":Ys=3;break;case 4:case"fillAndAddForClipping":Ys=4;break;case 5:case"strokeAndAddPathForClipping":Ys=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Ys=6;break;case 7:case"addToPathForClipping":Ys=7}var sh=ju.usedRenderingMode!==void 0?ju.usedRenderingMode:-1;Ys!==-1?pe+=Ys+` Tr
`:sh!==-1&&(pe+=`0 Tr
`),Ys!==-1&&(ju.usedRenderingMode=Ys),en=Pe.align||"left";var Fa,Co=rt*je,Sl=w.internal.pageSize.getWidth(),ah=Yt[Ft];vn=Pe.charSpace||$s,dn=Pe.maxWidth||0,Yn=Object.assign({autoencode:!0,noBOM:!0},Pe.flags);var No=[],ac=function(xr){return w.getStringUnitWidth(xr,{font:ah,charSpace:vn,fontSize:rt,doKerning:!1})*rt/Qe};if(Object.prototype.toString.call(D)==="[object Array]"){var fa;yt=Nn(D),en!=="left"&&(Fa=yt.map(ac));var Xs,Yo=0;if(en==="right"){Z-=Fa[0],D=[],Pr=yt.length;for(var Xo=0;Xo<Pr;Xo++)Xo===0?(Xs=Hi(Z),fa=Ii(Ee)):(Xs=V(Yo-Fa[Xo]),fa=-Co),D.push([yt[Xo],Xs,fa]),Yo=Fa[Xo]}else if(en==="center"){Z-=Fa[0]/2,D=[],Pr=yt.length;for(var Al=0;Al<Pr;Al++)Al===0?(Xs=Hi(Z),fa=Ii(Ee)):(Xs=V((Yo-Fa[Al])/2),fa=-Co),D.push([yt[Al],Xs,fa]),Yo=Fa[Al]}else if(en==="left"){D=[],Pr=yt.length;for(var qu=0;qu<Pr;qu++)D.push(yt[qu])}else if(en==="justify"&&ah.encoding==="Identity-H"){D=[],Pr=yt.length,dn=dn!==0?dn:Sl;for(var Hu=0,bi=0;bi<Pr;bi++)if(fa=bi===0?Ii(Ee):-Co,Xs=bi===0?Hi(Z):Hu,bi<Pr-1){var Cd=V((dn-Fa[bi])/(yt[bi].split(" ").length-1)),Jo=yt[bi].split(" ");D.push([Jo[0]+" ",Xs,fa]),Hu=0;for(var Qo=1;Qo<Jo.length;Qo++){var ps=(ac(Jo[Qo-1]+" "+Jo[Qo])-ac(Jo[Qo]))*Qe+Cd;Qo==Jo.length-1?D.push([Jo[Qo],ps,0]):D.push([Jo[Qo]+" ",ps,0]),Hu-=ps}}else D.push([yt[bi],Xs,fa]);D.push(["",Hu,0])}else{if(en!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(D=[],Pr=yt.length,dn=dn!==0?dn:Sl,bi=0;bi<Pr;bi++){fa=bi===0?Ii(Ee):-Co,Xs=bi===0?Hi(Z):0;var Cl=yt[bi].split(" ").length-1,zu=Cl>0?(dn-Fa[bi])/Cl:0;bi<Pr-1?No.push(O(V(zu))):No.push(0),D.push([yt[bi],Xs,fa])}}}(typeof Pe.R2L=="boolean"?Pe.R2L:Jt)===!0&&(D=jr(D,function(xr,sr,qr){return[xr.split("").reverse().join(""),sr,qr]})),ct={text:D,x:Z,y:Ee,options:Pe,mutex:{pdfEscape:Bn,activeFontKey:Ft,fonts:Yt,activeFontSize:rt}},gn.publish("postProcessText",ct),D=ct.text,X=ct.mutex.isHex||!1;var Gu=Yt[Ft].encoding;Gu!=="WinAnsiEncoding"&&Gu!=="StandardEncoding"||(D=jr(D,function(xr,sr,qr){return[Et(xr),sr,qr]})),yt=Nn(D),D=[];for(var Nl,Il,Zo,Xc=Array.isArray(yt[0])?1:0,Oa="",kl=function(xr,sr,qr){var Ti="";return qr instanceof Mt?(qr=typeof Pe.angle=="number"?Ra(qr,new Mt(1,0,0,1,xr,sr)):Ra(new Mt(1,0,0,1,xr,sr),qr),q===R&&(qr=Ra(new Mt(1,0,0,-1,0,0),qr)),Ti=qr.join(" ")+` Tm
`):Ti=O(xr)+" "+O(sr)+` Td
`,Ti},Ps=0;Ps<yt.length;Ps++){switch(Oa="",Xc){case 1:Zo=(X?"<":"(")+yt[Ps][0]+(X?">":")"),Nl=parseFloat(yt[Ps][1]),Il=parseFloat(yt[Ps][2]);break;case 0:Zo=(X?"<":"(")+yt[Ps]+(X?">":")"),Nl=Hi(Z),Il=Ii(Ee)}No!==void 0&&No[Ps]!==void 0&&(Oa=No[Ps]+` Tw
`),Ps===0?D.push(Oa+kl(Nl,Il,kr)+Zo):Xc===0?D.push(Oa+Zo):Xc===1&&D.push(Oa+kl(Nl,Il,kr)+Zo)}D=Xc===0?D.join(` Tj
T* `):D.join(` Tj
`),D+=` Tj
`;var Za=`BT
/`;return Za+=Ft+" "+rt+` Tf
`,Za+=O(rt*je)+` TL
`,Za+=Da+`
`,Za+=pe,Za+=D,re(Za+="ET"),g[Ft]=!0,w};var zc=x.__private__.clip=x.clip=function(D){return re(D==="evenodd"?"W*":"W"),this};x.clipEvenOdd=function(){return zc("evenodd")},x.__private__.discardPath=x.discardPath=function(){return re("n"),this};var fs=x.__private__.isValidStyle=function(D){var Z=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(D)!==-1&&(Z=!0),Z};x.__private__.setDefaultPathOperation=x.setDefaultPathOperation=function(D){return fs(D)&&(f=D),this};var Gc=x.__private__.getStyle=x.getStyle=function(D){var Z=f;switch(D){case"D":case"S":Z="S";break;case"F":Z="f";break;case"FD":case"DF":Z="B";break;case"f":case"f*":case"B":case"B*":Z=D}return Z},To=x.close=function(){return re("h"),this};x.stroke=function(){return re("S"),this},x.fill=function(D){return qi("f",D),this},x.fillEvenOdd=function(D){return qi("f*",D),this},x.fillStroke=function(D){return qi("B",D),this},x.fillStrokeEvenOdd=function(D){return qi("B*",D),this};var qi=function(D,Z){Fr(Z)==="object"?Wc(Z,D):re(D)},Ho=function(D){D===null||q===R&&D===void 0||(D=Gc(D),re(D))};function $c(D,Z,Ee,Pe,Ve){var ct=new F0(Z||this.boundingBox,Ee||this.xStep,Pe||this.yStep,this.gState,Ve||this.matrix);ct.stream=this.stream;var yt=D+"$$"+this.cloneIndex+++"$$";return Ni(yt,ct),ct}var Wc=function(D,Z){var Ee=Lt[D.key],Pe=Oe[Ee];if(Pe instanceof Dh)re("q"),re(tc(Z)),Pe.gState&&x.setGState(Pe.gState),re(D.matrix.toString()+" cm"),re("/"+Ee+" sh"),re("Q");else if(Pe instanceof F0){var Ve=new Mt(1,0,0,-1,0,Ma());D.matrix&&(Ve=Ve.multiply(D.matrix||us),Ee=$c.call(Pe,D.key,D.boundingBox,D.xStep,D.yStep,Ve).id),re("q"),re("/Pattern cs"),re("/"+Ee+" scn"),Pe.gState&&x.setGState(Pe.gState),re(Z),re("Q")}},tc=function(D){switch(D){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},nc=x.moveTo=function(D,Z){return re(O(V(D))+" "+O(me(Z))+" m"),this},Eo=x.lineTo=function(D,Z){return re(O(V(D))+" "+O(me(Z))+" l"),this},ks=x.curveTo=function(D,Z,Ee,Pe,Ve,ct){return re([O(V(D)),O(me(Z)),O(V(Ee)),O(me(Pe)),O(V(Ve)),O(me(ct)),"c"].join(" ")),this};x.__private__.line=x.line=function(D,Z,Ee,Pe,Ve){if(isNaN(D)||isNaN(Z)||isNaN(Ee)||isNaN(Pe)||!fs(Ve))throw new Error("Invalid arguments passed to jsPDF.line");return q===B?this.lines([[Ee-D,Pe-Z]],D,Z,[1,1],Ve||"S"):this.lines([[Ee-D,Pe-Z]],D,Z,[1,1]).stroke()},x.__private__.lines=x.lines=function(D,Z,Ee,Pe,Ve,ct){var yt,Kt,en,vn,dn,Yn,Br,kr,w,j,X,pe;if(typeof D=="number"&&(pe=Ee,Ee=Z,Z=D,D=pe),Pe=Pe||[1,1],ct=ct||!1,isNaN(Z)||isNaN(Ee)||!Array.isArray(D)||!Array.isArray(Pe)||!fs(Ve)||typeof ct!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(nc(Z,Ee),yt=Pe[0],Kt=Pe[1],vn=D.length,j=Z,X=Ee,en=0;en<vn;en++)(dn=D[en]).length===2?(j=dn[0]*yt+j,X=dn[1]*Kt+X,Eo(j,X)):(Yn=dn[0]*yt+j,Br=dn[1]*Kt+X,kr=dn[2]*yt+j,w=dn[3]*Kt+X,j=dn[4]*yt+j,X=dn[5]*Kt+X,ks(Yn,Br,kr,w,j,X));return ct&&To(),Ho(Ve),this},x.path=function(D){for(var Z=0;Z<D.length;Z++){var Ee=D[Z],Pe=Ee.c;switch(Ee.op){case"m":nc(Pe[0],Pe[1]);break;case"l":Eo(Pe[0],Pe[1]);break;case"c":ks.apply(this,Pe);break;case"h":To()}}return this},x.__private__.rect=x.rect=function(D,Z,Ee,Pe,Ve){if(isNaN(D)||isNaN(Z)||isNaN(Ee)||isNaN(Pe)||!fs(Ve))throw new Error("Invalid arguments passed to jsPDF.rect");return q===B&&(Pe=-Pe),re([O(V(D)),O(me(Z)),O(V(Ee)),O(V(Pe)),"re"].join(" ")),Ho(Ve),this},x.__private__.triangle=x.triangle=function(D,Z,Ee,Pe,Ve,ct,yt){if(isNaN(D)||isNaN(Z)||isNaN(Ee)||isNaN(Pe)||isNaN(Ve)||isNaN(ct)||!fs(yt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Ee-D,Pe-Z],[Ve-Ee,ct-Pe],[D-Ve,Z-ct]],D,Z,[1,1],yt,!0),this},x.__private__.roundedRect=x.roundedRect=function(D,Z,Ee,Pe,Ve,ct,yt){if(isNaN(D)||isNaN(Z)||isNaN(Ee)||isNaN(Pe)||isNaN(Ve)||isNaN(ct)||!fs(yt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Kt=4/3*(Math.SQRT2-1);return Ve=Math.min(Ve,.5*Ee),ct=Math.min(ct,.5*Pe),this.lines([[Ee-2*Ve,0],[Ve*Kt,0,Ve,ct-ct*Kt,Ve,ct],[0,Pe-2*ct],[0,ct*Kt,-Ve*Kt,ct,-Ve,ct],[2*Ve-Ee,0],[-Ve*Kt,0,-Ve,-ct*Kt,-Ve,-ct],[0,2*ct-Pe],[0,-ct*Kt,Ve*Kt,-ct,Ve,-ct]],D+Ve,Z,[1,1],yt,!0),this},x.__private__.ellipse=x.ellipse=function(D,Z,Ee,Pe,Ve){if(isNaN(D)||isNaN(Z)||isNaN(Ee)||isNaN(Pe)||!fs(Ve))throw new Error("Invalid arguments passed to jsPDF.ellipse");var ct=4/3*(Math.SQRT2-1)*Ee,yt=4/3*(Math.SQRT2-1)*Pe;return nc(D+Ee,Z),ks(D+Ee,Z-yt,D+ct,Z-Pe,D,Z-Pe),ks(D-ct,Z-Pe,D-Ee,Z-yt,D-Ee,Z),ks(D-Ee,Z+yt,D-ct,Z+Pe,D,Z+Pe),ks(D+ct,Z+Pe,D+Ee,Z+yt,D+Ee,Z),Ho(Ve),this},x.__private__.circle=x.circle=function(D,Z,Ee,Pe){if(isNaN(D)||isNaN(Z)||isNaN(Ee)||!fs(Pe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(D,Z,Ee,Ee,Pe)},x.setFont=function(D,Z,Ee){return Ee&&(Z=F(Z,Ee)),Ft=wo(D,Z,{disableWarning:!1}),this};var Pa=x.__private__.getFont=x.getFont=function(){return Yt[wo.apply(x,arguments)]};x.__private__.getFontList=x.getFontList=function(){var D,Z,Ee={};for(D in hn)if(hn.hasOwnProperty(D))for(Z in Ee[D]=[],hn[D])hn[D].hasOwnProperty(Z)&&Ee[D].push(Z);return Ee},x.addFont=function(D,Z,Ee,Pe,Ve){var ct=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&ct.indexOf(arguments[3])!==-1?Ve=arguments[3]:arguments[3]&&ct.indexOf(arguments[3])==-1&&(Ee=F(Ee,Pe)),cr.call(this,D,Z,Ee,Ve=Ve||"Identity-H")};var So,Rs=t.lineWidth||.200025,zo=x.__private__.getLineWidth=x.getLineWidth=function(){return Rs},xn=x.__private__.setLineWidth=x.setLineWidth=function(D){return Rs=D,re(O(V(D))+" w"),this};x.__private__.setLineDash=fn.API.setLineDash=fn.API.setLineDashPattern=function(D,Z){if(D=D||[],Z=Z||0,isNaN(Z)||!Array.isArray(D))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return D=D.map(function(Ee){return O(V(Ee))}).join(" "),Z=O(V(Z)),re("["+D+"] "+Z+" d"),this};var _l=x.__private__.getLineHeight=x.getLineHeight=function(){return rt*So};x.__private__.getLineHeight=x.getLineHeight=function(){return rt*So};var rc=x.__private__.setLineHeightFactor=x.setLineHeightFactor=function(D){return typeof(D=D||1.15)=="number"&&(So=D),this},Go=x.__private__.getLineHeightFactor=x.getLineHeightFactor=function(){return So};rc(t.lineHeight);var Hi=x.__private__.getHorizontalCoordinate=function(D){return V(D)},Ii=x.__private__.getVerticalCoordinate=function(D){return q===R?D:jt[W].mediaBox.topRightY-jt[W].mediaBox.bottomLeftY-V(D)},wl=x.__private__.getHorizontalCoordinateString=x.getHorizontalCoordinateString=function(D){return O(Hi(D))},wr=x.__private__.getVerticalCoordinateString=x.getVerticalCoordinateString=function(D){return O(Ii(D))},Gs=t.strokeColor||"0 G";x.__private__.getStrokeColor=x.getDrawColor=function(){return _e(Gs)},x.__private__.setStrokeColor=x.setDrawColor=function(D,Z,Ee,Pe){return Gs=Ce({ch1:D,ch2:Z,ch3:Ee,ch4:Pe,pdfColorType:"draw",precision:2}),re(Gs),this};var bl=t.fillColor||"0 g";x.__private__.getFillColor=x.getFillColor=function(){return _e(bl)},x.__private__.setFillColor=x.setFillColor=function(D,Z,Ee,Pe){return bl=Ce({ch1:D,ch2:Z,ch3:Ee,ch4:Pe,pdfColorType:"fill",precision:2}),re(bl),this};var Da=t.textColor||"0 g",Kc=x.__private__.getTextColor=x.getTextColor=function(){return _e(Da)};x.__private__.setTextColor=x.setTextColor=function(D,Z,Ee,Pe){return Da=Ce({ch1:D,ch2:Z,ch3:Ee,ch4:Pe,pdfColorType:"text",precision:3}),this};var $s=t.charSpace,Ao=x.__private__.getCharSpace=x.getCharSpace=function(){return parseFloat($s||0)};x.__private__.setCharSpace=x.setCharSpace=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return $s=D,this};var Ws=0;x.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},x.__private__.setLineCap=x.setLineCap=function(D){var Z=x.CapJoinStyles[D];if(Z===void 0)throw new Error("Line cap style of '"+D+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ws=Z,re(Z+" J"),this};var wi=0;x.__private__.setLineJoin=x.setLineJoin=function(D){var Z=x.CapJoinStyles[D];if(Z===void 0)throw new Error("Line join style of '"+D+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return wi=Z,re(Z+" j"),this},x.__private__.setLineMiterLimit=x.__private__.setMiterLimit=x.setLineMiterLimit=x.setMiterLimit=function(D){if(D=D||0,isNaN(D))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return re(O(V(D))+" M"),this},x.GState=dv,x.setGState=function(D){(D=typeof D=="string"?Pt[Bt[D]]:Ka(null,D)).equals(Zt)||(re("/"+D.id+" gs"),Zt=D)};var Ka=function(D,Z){if(!D||!Bt[D]){var Ee=!1;for(var Pe in Pt)if(Pt.hasOwnProperty(Pe)&&Pt[Pe].equals(Z)){Ee=!0;break}if(Ee)Z=Pt[Pe];else{var Ve="GS"+(Object.keys(Pt).length+1).toString(10);Pt[Ve]=Z,Z.id=Ve}return D&&(Bt[D]=Z.id),gn.publish("addGState",Z),Z}};x.addGState=function(D,Z){return Ka(D,Z),this},x.saveGraphicsState=function(){return re("q"),An.push({key:Ft,size:rt,color:Da}),this},x.restoreGraphicsState=function(){re("Q");var D=An.pop();return Ft=D.key,rt=D.size,Da=D.color,Zt=null,this},x.setCurrentTransformationMatrix=function(D){return re(D.toString()+" cm"),this},x.comment=function(D){return re("#"+D),this};var Qi=function(D,Z){var Ee=D||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Ee},set:function(ct){isNaN(ct)||(Ee=parseFloat(ct))}});var Pe=Z||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Pe},set:function(ct){isNaN(ct)||(Pe=parseFloat(ct))}});var Ve="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ve},set:function(ct){Ve=ct.toString()}}),this},Ya=function(D,Z,Ee,Pe){Qi.call(this,D,Z),this.type="rect";var Ve=Ee||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ve},set:function(yt){isNaN(yt)||(Ve=parseFloat(yt))}});var ct=Pe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return ct},set:function(yt){isNaN(yt)||(ct=parseFloat(yt))}}),this},$o=function(){this.page=Wt,this.currentPage=W,this.pages=Ue.slice(0),this.pagesContext=jt.slice(0),this.x=Rt,this.y=qn,this.matrix=$t,this.width=ua(W),this.height=ic(W),this.outputDestination=it,this.id="",this.objectNumber=-1};$o.prototype.restore=function(){Wt=this.page,W=this.currentPage,jt=this.pagesContext,Ue=this.pages,Rt=this.x,qn=this.y,$t=this.matrix,Tl(W,this.width),Ks(W,this.height),it=this.outputDestination};var Xa=function(D,Z,Ee,Pe,Ve){ri.push(new $o),Wt=W=0,Ue=[],Rt=D,qn=Z,$t=Ve,gr([Ee,Pe])};for(var Ja in x.beginFormObject=function(D,Z,Ee,Pe,Ve){return Xa(D,Z,Ee,Pe,Ve),this},x.endFormObject=function(D){return(function(Z){if(Ns[Z])ri.pop().restore();else{var Ee=new $o,Pe="Xo"+(Object.keys(Yr).length+1).toString(10);Ee.id=Pe,Ns[Z]=Pe,Yr[Pe]=Ee,gn.publish("addFormObject",Ee),ri.pop().restore()}})(D),this},x.doFormObject=function(D,Z){var Ee=Yr[Ns[D]];return re("q"),re(Z.toString()+" cm"),re("/"+Ee.id+" Do"),re("Q"),this},x.getFormObject=function(D){var Z=Yr[Ns[D]];return{x:Z.x,y:Z.y,width:Z.width,height:Z.height,matrix:Z.matrix}},x.save=function(D,Z){return D=D||"generated.pdf",(Z=Z||{}).returnPromise=Z.returnPromise||!1,Z.returnPromise===!1?(Nh(tr(ca()),D),typeof Nh.unload=="function"&&Pn.setTimeout&&setTimeout(Nh.unload,911),this):new Promise(function(Ee,Pe){try{var Ve=Nh(tr(ca()),D);typeof Nh.unload=="function"&&Pn.setTimeout&&setTimeout(Nh.unload,911),Ee(Ve)}catch(ct){Pe(ct.message)}})},fn.API)fn.API.hasOwnProperty(Ja)&&(Ja==="events"&&fn.API.events.length?(function(D,Z){var Ee,Pe,Ve;for(Ve=Z.length-1;Ve!==-1;Ve--)Ee=Z[Ve][0],Pe=Z[Ve][1],D.subscribe.apply(D,[Ee].concat(typeof Pe=="function"?[Pe]:Pe))})(gn,fn.API.events):x[Ja]=fn.API[Ja]);function ua(D){return jt[D].mediaBox.topRightX-jt[D].mediaBox.bottomLeftX}function Tl(D,Z){jt[D].mediaBox.topRightX=Z+jt[D].mediaBox.bottomLeftX}function ic(D){return jt[D].mediaBox.topRightY-jt[D].mediaBox.bottomLeftY}function Ks(D,Z){jt[D].mediaBox.topRightY=Z+jt[D].mediaBox.bottomLeftY}var Qa=x.getPageWidth=function(D){return ua(D=D||W)/At},Yc=x.setPageWidth=function(D,Z){Tl(D,Z*At)},Ma=x.getPageHeight=function(D){return ic(D=D||W)/At},sc=x.setPageHeight=function(D,Z){Ks(D,Z*At)};return x.internal={pdfEscape:Bn,getStyle:Gc,getFont:Pa,getFontSize:Nt,getCharSpace:Ao,getTextColor:Kc,getLineHeight:_l,getLineHeightFactor:Go,getLineWidth:zo,write:lt,getHorizontalCoordinate:Hi,getVerticalCoordinate:Ii,getCoordinateString:wl,getVerticalCoordinateString:wr,collections:{},newObject:_r,newAdditionalObject:be,newObjectDeferred:Ir,newObjectDeferredBegin:te,getFilters:He,putStream:tt,events:gn,scaleFactor:At,pageSize:{getWidth:function(){return Qa(W)},setWidth:function(D){Yc(W,D)},getHeight:function(){return Ma(W)},setHeight:function(D){sc(W,D)}},encryptionOptions:h,encryption:Jr,getEncryptor:function(D){return h!==null?Jr.encryptor(D,0):function(Z){return Z}},output:qo,getNumberOfPages:Is,get pages(){return Ue},out:re,f2:P,f3:L,getPageInfo:fi,getPageInfoByObjId:vl,getCurrentPageInfo:Bu,getPDFVersion:S,Point:Qi,Rectangle:Ya,Matrix:Mt,hasHotfix:_i},Object.defineProperty(x.internal.pageSize,"width",{get:function(){return Qa(W)},set:function(D){Yc(W,D)},enumerable:!0,configurable:!0}),Object.defineProperty(x.internal.pageSize,"height",{get:function(){return Ma(W)},set:function(D){sc(W,D)},enumerable:!0,configurable:!0}),(function(D){for(var Z=0,Ee=kt.length;Z<Ee;Z++){var Pe=cr.call(this,D[Z][0],D[Z][1],D[Z][2],kt[Z][3],!0);p===!1&&(g[Pe]=!0);var Ve=D[Z][0].split("-");Gt({id:Pe,fontName:Ve[0],fontStyle:Ve[1]||""})}gn.publish("addFonts",{fonts:Yt,dictionary:hn})}).call(x,kt),Ft="F1",ji(i,n),gn.publish("initialized"),x}b0.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},b0.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},b0.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},b0.prototype.processOwnerPassword=function(t,e){return w5(_5(e).substr(0,5),t)},b0.prototype.encryptor=function(t,e){var n=_5(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return w5(n,r)}},dv.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||Fr(t)!==Fr(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},fn.API={events:[]},fn.version="3.0.4";var Fi=fn.API,OE=1,_d=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},p0=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},On=function(t){return t.toFixed(2)},wf=function(t){return t.toFixed(5)};Fi.__acroform__={};var _o=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},I6=function(t){return t*OE},bc=function(t){var e=new E7,n=nn.internal.getHeight(t)||0,r=nn.internal.getWidth(t)||0;return e.BBox=[0,0,Number(On(r)),Number(On(n))],e},_le=Fi.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},wle=Fi.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},ble=Fi.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Wi=Fi.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return ble(t,e-1)},Ki=Fi.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return _le(t,e-1)},Yi=Fi.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return wle(t,e-1)},Tle=Fi.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=t[0],s=t[1],a=t[2],o=t[3],c={};return c.lowerLeft_X=n(i)||0,c.lowerLeft_Y=r(s+o)||0,c.upperRight_X=n(i+a)||0,c.upperRight_Y=r(s)||0,[Number(On(c.lowerLeft_X)),Number(On(c.lowerLeft_Y)),Number(On(c.upperRight_X)),Number(On(c.upperRight_Y))]},Ele=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=b5(t,n),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+On(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=bc(t);return s.scope=t.scope,s.stream=e.join(`
`),s}},b5=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(P){return P.split(`
`)}):i.map(function(P){return[P]});var s=n,a=nn.internal.getHeight(t)||0;a=a<0?-a:a;var o=nn.internal.getWidth(t)||0;o=o<0?-o:o;var c=function(P,L,V){if(P+1<i.length){var me=L+" "+i[P+1][0];return Ox(me,t,V).width<=o-4}return!1};s++;e:for(;s>0;){e="",s--;var f,h,p=Ox("3",t,s).height,g=t.multiline?a-s:(a-p)/2,x=g+=2,T=0,S=0,N=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+Ox(e,t,s=12).width+", FieldWidth:"+o+`
`;break}for(var k="",B=0,R=0;R<i.length;R++)if(i.hasOwnProperty(R)){var q=!1;if(i[R].length!==1&&N!==i[R].length-1){if((p+2)*(B+2)+2>a)continue e;k+=i[R][N],q=!0,S=R,R--}else{k=(k+=i[R][N]+" ").substr(k.length-1)==" "?k.substr(0,k.length-1):k;var Y=parseInt(R),J=c(Y,k,s),F=R>=i.length-1;if(J&&!F){k+=" ",N=0;continue}if(J||F){if(F)S=Y;else if(t.multiline&&(p+2)*(B+2)+2>a)continue e}else{if(!t.multiline||(p+2)*(B+2)+2>a)continue e;S=Y}}for(var O="",C=T;C<=S;C++){var H=i[C];if(t.multiline){if(C===S){O+=H[N]+" ",N=(N+1)%H.length;continue}if(C===T){O+=H[H.length-1]+" ";continue}}O+=H[0]+" "}switch(O=O.substr(O.length-1)==" "?O.substr(0,O.length-1):O,h=Ox(O,t,s).width,t.textAlign){case"right":f=o-h-2;break;case"center":f=(o-h)/2;break;default:f=2}e+=On(f)+" "+On(x)+` Td
`,e+="("+_d(O)+`) Tj
`,e+=-On(f)+` 0 Td
`,x=-(s+2),h=0,T=q?S:S+1,B++,k=""}break}return r.text=e,r.fontSize=s,r},Ox=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},Sle={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Ale=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},Cle=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Zl.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(Sle)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");OE=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new S7,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&Ale(s,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(r,i){var s=!r;for(var a in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(a)){var o=r[a],c=[],f=o.Rect;if(o.Rect&&(o.Rect=Tle(o.Rect,i)),i.internal.newObjectDeferredBegin(o.objId,!0),o.DA=nn.createDefaultAppearanceStream(o),Fr(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(c=o.getKeyValueListForStream()),o.Rect=f,o.hasAppearanceStream&&!o.appearanceStreamContent){var h=Ele(o);c.push({key:"AP",value:"<</N "+h+">>"}),i.internal.acroformPlugin.xForms.push(h)}if(o.appearanceStreamContent){var p="";for(var g in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(g)){var x=o.appearanceStreamContent[g];if(p+="/"+g+" ",p+="<<",Object.keys(x).length>=1||Array.isArray(x)){for(var a in x)if(x.hasOwnProperty(a)){var T=x[a];typeof T=="function"&&(T=T.call(i,o)),p+="/"+a+" "+T+" ",i.internal.acroformPlugin.xForms.indexOf(T)>=0||i.internal.acroformPlugin.xForms.push(T)}}else typeof(T=x)=="function"&&(T=T.call(i,o)),p+="/"+a+" "+T,i.internal.acroformPlugin.xForms.indexOf(T)>=0||i.internal.acroformPlugin.xForms.push(T);p+=">>"}c.push({key:"AP",value:`<<
`+p+">>"})}i.internal.putStream({additionalKeyValues:c,objectId:o.objId}),i.internal.out("endobj")}s&&(function(S,N){for(var k in S)if(S.hasOwnProperty(k)){var B=k,R=S[k];N.internal.newObjectDeferredBegin(R.objId,!0),Fr(R)==="object"&&typeof R.putStream=="function"&&R.putStream(),delete S[B]}})(i.internal.acroformPlugin.xForms,i)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},T7=Fi.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(a){return a};if(Array.isArray(t)){for(var i="[",s=0;s<t.length;s++)switch(s!==0&&(i+=" "),Fr(t[s])){case"boolean":case"number":case"object":i+=t[s].toString();break;case"string":t[s].substr(0,1)!=="/"?(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),i+="("+_d(r(t[s].toString()))+")"):i+=t[s].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Pw=function(t,e,n){var r=function(i){return i};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),"("+_d(r(t))+")"},Nc=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Nc.prototype.toString=function(){return this.objId+" 0 R"},Nc.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Nc.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],i=this[r];i&&(Array.isArray(i)?t.push({key:r,value:T7(i,this.objId,this.scope)}):i instanceof Nc?(i.scope=this.scope,t.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:r,value:i}))}return t};var E7=function(){Nc.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};_o(E7,Nc);var S7=function(){Nc.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+_d(n(t))+")"}},set:function(n){t=n}})};_o(S7,Nc);var Zl=function t(){Nc.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(k){if(isNaN(k))throw new Error('Invalid value "'+k+'" for attribute F supplied.');e=k}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Wi(e,3)},set:function(k){k?this.F=Ki(e,3):this.F=Yi(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(k){if(isNaN(k))throw new Error('Invalid value "'+k+'" for attribute Ff supplied.');n=k}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(k){r=k!==void 0?k:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(k){r[0]=k}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(k){r[1]=k}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(k){r[2]=k}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(k){r[3]=k}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(k){switch(k){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=k;break;default:throw new Error('Invalid value "'+k+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof pv)return;s="FieldObject"+t.FieldNum++}var k=function(B){return B};return this.scope&&(k=this.scope.internal.getEncryptor(this.objId)),"("+_d(k(s))+")"},set:function(k){s=k.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(k){s=k}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(k){a=k}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(k){o=k}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(k){c=k}});var f=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return f===void 0?50/OE:f},set:function(k){f=k}});var h="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return h},set:function(k){h=k}});var p="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!p||this instanceof pv||this instanceof $h))return Pw(p,this.objId,this.scope)},set:function(k){k=k.toString(),p=k}});var g=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof js==0?Pw(g,this.objId,this.scope):g},set:function(k){k=k.toString(),g=this instanceof js==0?k.substr(0,1)==="("?p0(k.substr(1,k.length-2)):p0(k):k}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof js==1?p0(g.substr(1,g.length-1)):g},set:function(k){k=k.toString(),g=this instanceof js==1?"/"+k:k}});var x=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(x)return x},set:function(k){this.V=k}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(x)return this instanceof js==0?Pw(x,this.objId,this.scope):x},set:function(k){k=k.toString(),x=this instanceof js==0?k.substr(0,1)==="("?p0(k.substr(1,k.length-2)):p0(k):k}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof js==1?p0(x.substr(1,x.length-1)):x},set:function(k){k=k.toString(),x=this instanceof js==1?"/"+k:k}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var T,S=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return S},set:function(k){k=!!k,S=k}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(T)return T},set:function(k){T=k}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Wi(this.Ff,1)},set:function(k){k?this.Ff=Ki(this.Ff,1):this.Ff=Yi(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Wi(this.Ff,2)},set:function(k){k?this.Ff=Ki(this.Ff,2):this.Ff=Yi(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Wi(this.Ff,3)},set:function(k){k?this.Ff=Ki(this.Ff,3):this.Ff=Yi(this.Ff,3)}});var N=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(N!==null)return N},set:function(k){if([0,1,2].indexOf(k)===-1)throw new Error('Invalid value "'+k+'" for attribute Q supplied.');N=k}}),Object.defineProperty(this,"textAlign",{get:function(){var k;switch(N){case 0:default:k="left";break;case 1:k="center";break;case 2:k="right"}return k},configurable:!0,enumerable:!0,set:function(k){switch(k){case"right":case 2:N=2;break;case"center":case 1:N=1;break;default:N=0}}})};_o(Zl,Nc);var K0=function(){Zl.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return T7(e,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=(function(s,a,o){o||(o=1);for(var c,f=[];c=a.exec(s);)f.push(c[o]);return f})(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Wi(this.Ff,18)},set:function(n){n?this.Ff=Ki(this.Ff,18):this.Ff=Yi(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Wi(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=Ki(this.Ff,19):this.Ff=Yi(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Wi(this.Ff,20)},set:function(n){n?(this.Ff=Ki(this.Ff,20),e.sort()):this.Ff=Yi(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Wi(this.Ff,22)},set:function(n){n?this.Ff=Ki(this.Ff,22):this.Ff=Yi(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Wi(this.Ff,23)},set:function(n){n?this.Ff=Ki(this.Ff,23):this.Ff=Yi(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Wi(this.Ff,27)},set:function(n){n?this.Ff=Ki(this.Ff,27):this.Ff=Yi(this.Ff,27)}}),this.hasAppearanceStream=!1};_o(K0,Zl);var Y0=function(){K0.call(this),this.fontName="helvetica",this.combo=!1};_o(Y0,K0);var X0=function(){Y0.call(this),this.combo=!0};_o(X0,Y0);var Ty=function(){X0.call(this),this.edit=!0};_o(Ty,X0);var js=function(){Zl.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Wi(this.Ff,15)},set:function(n){n?this.Ff=Ki(this.Ff,15):this.Ff=Yi(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Wi(this.Ff,16)},set:function(n){n?this.Ff=Ki(this.Ff,16):this.Ff=Yi(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Wi(this.Ff,17)},set:function(n){n?this.Ff=Ki(this.Ff,17):this.Ff=Yi(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Wi(this.Ff,26)},set:function(n){n?this.Ff=Ki(this.Ff,26):this.Ff=Yi(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(s){return s};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+_d(n(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){Fr(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};_o(js,Zl);var Ey=function(){js.call(this),this.pushButton=!0};_o(Ey,js);var J0=function(){js.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};_o(J0,js);var pv=function(){var t,e;Zl.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(o){return o};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,a=[];for(s in a.push("<<"),r)a.push("/"+s+" ("+_d(i(r[s]))+")");return a.push(">>"),a.join(`
`)},set:function(i){Fr(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=nn.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};_o(pv,Zl),J0.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},J0.prototype.createOption=function(t){var e=new pv;return e.Parent=this,e.optionName=t,this.Kids.push(e),Nle.call(this.scope,e),e};var Sy=function(){js.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=nn.CheckBox.createAppearanceStream()};_o(Sy,js);var $h=function(){Zl.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Wi(this.Ff,13)},set:function(e){e?this.Ff=Ki(this.Ff,13):this.Ff=Yi(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Wi(this.Ff,21)},set:function(e){e?this.Ff=Ki(this.Ff,21):this.Ff=Yi(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Wi(this.Ff,23)},set:function(e){e?this.Ff=Ki(this.Ff,23):this.Ff=Yi(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Wi(this.Ff,24)},set:function(e){e?this.Ff=Ki(this.Ff,24):this.Ff=Yi(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Wi(this.Ff,25)},set:function(e){e?this.Ff=Ki(this.Ff,25):this.Ff=Yi(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Wi(this.Ff,26)},set:function(e){e?this.Ff=Ki(this.Ff,26):this.Ff=Yi(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};_o($h,Zl);var Ay=function(){$h.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Wi(this.Ff,14)},set:function(t){t?this.Ff=Ki(this.Ff,14):this.Ff=Yi(this.Ff,14)}}),this.password=!0};_o(Ay,$h);var nn={CheckBox:{createAppearanceStream:function(){return{N:{On:nn.CheckBox.YesNormal},D:{On:nn.CheckBox.YesPushDown,Off:nn.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=bc(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),s=b5(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+On(nn.internal.getWidth(t))+" "+On(nn.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+On(s.fontSize)+" Tf "+i),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=bc(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),i=[],s=nn.internal.getHeight(t),a=nn.internal.getWidth(t),o=b5(t,t.caption);return i.push("1 g"),i.push("0 0 "+On(a)+" "+On(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+On(a-1)+" "+On(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+On(o.fontSize)+" Tf "+r),i.push(o.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=bc(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+On(nn.internal.getWidth(t))+" "+On(nn.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:nn.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=nn.RadioButton.Circle.YesNormal,e.D[t]=nn.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=bc(t);e.scope=t.scope;var n=[],r=nn.internal.getWidth(t)<=nn.internal.getHeight(t)?nn.internal.getWidth(t)/4:nn.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=nn.internal.Bezier_C,s=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+wf(nn.internal.getWidth(t)/2)+" "+wf(nn.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=bc(t);e.scope=t.scope;var n=[],r=nn.internal.getWidth(t)<=nn.internal.getHeight(t)?nn.internal.getWidth(t)/4:nn.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*nn.internal.Bezier_C).toFixed(5)),a=Number((r*nn.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+wf(nn.internal.getWidth(t)/2)+" "+wf(nn.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+wf(nn.internal.getWidth(t)/2)+" "+wf(nn.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),n.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),n.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),n.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=bc(t);e.scope=t.scope;var n=[],r=nn.internal.getWidth(t)<=nn.internal.getHeight(t)?nn.internal.getWidth(t)/4:nn.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*nn.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+wf(nn.internal.getWidth(t)/2)+" "+wf(nn.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:nn.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=nn.RadioButton.Cross.YesNormal,e.D[t]=nn.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=bc(t);e.scope=t.scope;var n=[],r=nn.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+On(nn.internal.getWidth(t)-2)+" "+On(nn.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(On(r.x1.x)+" "+On(r.x1.y)+" m"),n.push(On(r.x2.x)+" "+On(r.x2.y)+" l"),n.push(On(r.x4.x)+" "+On(r.x4.y)+" m"),n.push(On(r.x3.x)+" "+On(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=bc(t);e.scope=t.scope;var n=nn.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+On(nn.internal.getWidth(t))+" "+On(nn.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+On(nn.internal.getWidth(t)-2)+" "+On(nn.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(On(n.x1.x)+" "+On(n.x1.y)+" m"),r.push(On(n.x2.x)+" "+On(n.x2.y)+" l"),r.push(On(n.x4.x)+" "+On(n.x4.y)+" m"),r.push(On(n.x3.x)+" "+On(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=bc(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+On(nn.internal.getWidth(t))+" "+On(nn.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};nn.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=nn.internal.getWidth(t),n=nn.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},nn.internal.getWidth=function(t){var e=0;return Fr(t)==="object"&&(e=I6(t.Rect[2])),e},nn.internal.getHeight=function(t){var e=0;return Fr(t)==="object"&&(e=I6(t.Rect[3])),e};var Nle=Fi.addField=function(t){if(Cle(this,t),!(t instanceof Zl))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Fi.AcroFormChoiceField=K0,Fi.AcroFormListBox=Y0,Fi.AcroFormComboBox=X0,Fi.AcroFormEditBox=Ty,Fi.AcroFormButton=js,Fi.AcroFormPushButton=Ey,Fi.AcroFormRadioButton=J0,Fi.AcroFormCheckBox=Sy,Fi.AcroFormTextField=$h,Fi.AcroFormPasswordField=Ay,Fi.AcroFormAppearance=nn,Fi.AcroForm={ChoiceField:K0,ListBox:Y0,ComboBox:X0,EditBox:Ty,Button:js,PushButton:Ey,RadioButton:J0,CheckBox:Sy,TextField:$h,PasswordField:Ay,Appearance:nn},fn.AcroForm={ChoiceField:K0,ListBox:Y0,ComboBox:X0,EditBox:Ty,Button:js,PushButton:Ey,RadioButton:J0,CheckBox:Sy,TextField:$h,PasswordField:Ay,Appearance:nn};fn.AcroForm;function A7(t){return t.reduce(function(e,n,r){return e[n]=r,e},{})}(function(t){var e="addImage_";t.__addimage__={};var n="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=t.__addimage__.getImageFileTypeByImageData=function(P,L){var V,me,Ne,se,xe,he=n;if((L=L||n)==="RGBA"||P.data!==void 0&&P.data instanceof Uint8ClampedArray&&"height"in P&&"width"in P)return"RGBA";if(J(P))for(xe in r)for(Ne=r[xe],V=0;V<Ne.length;V+=1){for(se=!0,me=0;me<Ne[V].length;me+=1)if(Ne[V][me]!==void 0&&Ne[V][me]!==P[me]){se=!1;break}if(se===!0){he=xe;break}}else for(xe in r)for(Ne=r[xe],V=0;V<Ne.length;V+=1){for(se=!0,me=0;me<Ne[V].length;me+=1)if(Ne[V][me]!==void 0&&Ne[V][me]!==P.charCodeAt(me)){se=!1;break}if(se===!0){he=xe;break}}return he===n&&L!==n&&(he=L),he},s=function P(L){for(var V=this.internal.write,me=this.internal.putStream,Ne=(0,this.internal.getFilters)();Ne.indexOf("FlateEncode")!==-1;)Ne.splice(Ne.indexOf("FlateEncode"),1);L.objectId=this.internal.newObject();var se=[];if(se.push({key:"Type",value:"/XObject"}),se.push({key:"Subtype",value:"/Image"}),se.push({key:"Width",value:L.width}),se.push({key:"Height",value:L.height}),L.colorSpace===k.INDEXED?se.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(L.palette.length/3-1)+" "+("sMask"in L&&L.sMask!==void 0?L.objectId+2:L.objectId+1)+" 0 R]"}):(se.push({key:"ColorSpace",value:"/"+L.colorSpace}),L.colorSpace===k.DEVICE_CMYK&&se.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),se.push({key:"BitsPerComponent",value:L.bitsPerComponent}),"decodeParameters"in L&&L.decodeParameters!==void 0&&se.push({key:"DecodeParms",value:"<<"+L.decodeParameters+">>"}),"transparency"in L&&Array.isArray(L.transparency)&&L.transparency.length>0){for(var xe="",he=0,ue=L.transparency.length;he<ue;he++)xe+=L.transparency[he]+" "+L.transparency[he]+" ";se.push({key:"Mask",value:"["+xe+"]"})}L.sMask!==void 0&&se.push({key:"SMask",value:L.objectId+1+" 0 R"});var Le=L.filter!==void 0?["/"+L.filter]:void 0;if(me({data:L.data,additionalKeyValues:se,alreadyAppliedFilters:Le,objectId:L.objectId}),V("endobj"),"sMask"in L&&L.sMask!==void 0){var ne,M=(ne=L.sMaskBitsPerComponent)!==null&&ne!==void 0?ne:L.bitsPerComponent,W={width:L.width,height:L.height,colorSpace:"DeviceGray",bitsPerComponent:M,data:L.sMask};"filter"in L&&(W.decodeParameters="/Predictor ".concat(L.predictor," /Colors 1 /BitsPerComponent ").concat(M," /Columns ").concat(L.width),W.filter=L.filter),P.call(this,W)}if(L.colorSpace===k.INDEXED){var K=this.internal.newObject();me({data:O(new Uint8Array(L.palette)),objectId:K}),V("endobj")}},a=function(){var P=this.internal.collections[e+"images"];for(var L in P)s.call(this,P[L])},o=function(){var P,L=this.internal.collections[e+"images"],V=this.internal.write;for(var me in L)V("/I"+(P=L[me]).index,P.objectId,"0","R")},c=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",o))},f=function(){var P=this.internal.collections[e+"images"];return c.call(this),P},h=function(){return Object.keys(this.internal.collections[e+"images"]).length},p=function(P){return typeof t["process"+P.toUpperCase()]=="function"},g=function(P){return Fr(P)==="object"&&P.nodeType===1},x=function(P,L){if(P.nodeName==="IMG"&&P.hasAttribute("src")){var V=""+P.getAttribute("src");if(V.indexOf("data:image/")===0)return by(unescape(V).split("base64,").pop());var me=t.loadFile(V,!0);if(me!==void 0)return me}if(P.nodeName==="CANVAS"){if(P.width===0||P.height===0)throw new Error("Given canvas must have data. Canvas width: "+P.width+", height: "+P.height);var Ne;switch(L){case"PNG":Ne="image/png";break;case"WEBP":Ne="image/webp";break;default:Ne="image/jpeg"}return by(P.toDataURL(Ne,1).split("base64,").pop())}},T=function(P){var L=this.internal.collections[e+"images"];if(L){for(var V in L)if(P===L[V].alias)return L[V]}},S=function(P,L,V){return P||L||(P=-96,L=-96),P<0&&(P=-1*V.width*72/P/this.internal.scaleFactor),L<0&&(L=-1*V.height*72/L/this.internal.scaleFactor),P===0&&(P=L*V.width/V.height),L===0&&(L=P*V.height/V.width),[P,L]},N=function(P,L,V,me,Ne,se){var xe=S.call(this,V,me,Ne),he=this.internal.getCoordinateString,ue=this.internal.getVerticalCoordinateString,Le=f.call(this);if(V=xe[0],me=xe[1],Le[Ne.index]=Ne,se){se*=Math.PI/180;var ne=Math.cos(se),M=Math.sin(se),W=function(Q){return Q.toFixed(4)},K=[W(ne),W(M),W(-1*M),W(ne),0,0,"cm"]}this.internal.write("q"),se?(this.internal.write([1,"0","0",1,he(P),ue(L+me),"cm"].join(" ")),this.internal.write(K.join(" ")),this.internal.write([he(V),"0","0",he(me),"0","0","cm"].join(" "))):this.internal.write([he(V),"0","0",he(me),he(P),ue(L+me),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Ne.index+" Do"),this.internal.write("Q")},k=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var B=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},R=t.__addimage__.sHashCode=function(P){var L,V,me=0;if(typeof P=="string")for(V=P.length,L=0;L<V;L++)me=(me<<5)-me+P.charCodeAt(L),me|=0;else if(J(P))for(V=P.byteLength/2,L=0;L<V;L++)me=(me<<5)-me+P[L],me|=0;return me},q=t.__addimage__.validateStringAsBase64=function(P){(P=P||"").toString().trim();var L=!0;return P.length===0&&(L=!1),P.length%4!=0&&(L=!1),/^[A-Za-z0-9+/]+$/.test(P.substr(0,P.length-2))===!1&&(L=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(P.substr(-2))===!1&&(L=!1),L},Y=t.__addimage__.extractImageFromDataUrl=function(P){if(P==null||!(P=P.trim()).startsWith("data:"))return null;var L=P.indexOf(",");return L<0?null:P.substring(0,L).trim().endsWith("base64")?P.substring(L+1):null};t.__addimage__.isArrayBuffer=function(P){return P instanceof ArrayBuffer};var J=t.__addimage__.isArrayBufferView=function(P){return P instanceof Int8Array||P instanceof Uint8Array||P instanceof Uint8ClampedArray||P instanceof Int16Array||P instanceof Uint16Array||P instanceof Int32Array||P instanceof Uint32Array||P instanceof Float32Array||P instanceof Float64Array},F=t.__addimage__.binaryStringToUint8Array=function(P){for(var L=P.length,V=new Uint8Array(L),me=0;me<L;me++)V[me]=P.charCodeAt(me);return V},O=t.__addimage__.arrayBufferToBinaryString=function(P){for(var L="",V=J(P)?P:new Uint8Array(P),me=0;me<V.length;me+=8192)L+=String.fromCharCode.apply(null,V.subarray(me,me+8192));return L};t.addImage=function(){var P,L,V,me,Ne,se,xe,he,ue;if(typeof arguments[1]=="number"?(L=n,V=arguments[1],me=arguments[2],Ne=arguments[3],se=arguments[4],xe=arguments[5],he=arguments[6],ue=arguments[7]):(L=arguments[1],V=arguments[2],me=arguments[3],Ne=arguments[4],se=arguments[5],xe=arguments[6],he=arguments[7],ue=arguments[8]),Fr(P=arguments[0])==="object"&&!g(P)&&"imageData"in P){var Le=P;P=Le.imageData,L=Le.format||L||n,V=Le.x||V||0,me=Le.y||me||0,Ne=Le.w||Le.width||Ne,se=Le.h||Le.height||se,xe=Le.alias||xe,he=Le.compression||he,ue=Le.rotation||Le.angle||ue}var ne=this.internal.getFilters();if(he===void 0&&ne.indexOf("FlateEncode")!==-1&&(he="SLOW"),isNaN(V)||isNaN(me))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var M=C.call(this,P,L,xe,he);return N.call(this,V,me,Ne,se,M,ue),this};var C=function(P,L,V,me){var Ne,se,xe;if(typeof P=="string"&&i(P)===n){P=unescape(P);var he=H(P,!1);(he!==""||(he=t.loadFile(P,!0))!==void 0)&&(P=he)}if(g(P)&&(P=x(P,L)),L=i(P,L),!p(L))throw new Error("addImage does not support files of type '"+L+"', please ensure that a plugin for '"+L+"' support is added.");if(((xe=V)==null||xe.length===0)&&(V=(function(ue){return typeof ue=="string"||J(ue)?R(ue):J(ue.data)?R(ue.data):null})(P)),(Ne=T.call(this,V))||(P instanceof Uint8Array||L==="RGBA"||(se=P,P=F(P)),Ne=this["process"+L.toUpperCase()](P,h.call(this),V,(function(ue){return ue&&typeof ue=="string"&&(ue=ue.toUpperCase()),ue in t.image_compression?ue:B.NONE})(me),se)),!Ne)throw new Error("An unknown error occurred whilst processing the image.");return Ne},H=t.__addimage__.convertBase64ToBinaryString=function(P,L){L=typeof L!="boolean"||L;var V,me="";if(typeof P=="string"){var Ne;V=(Ne=Y(P))!==null&&Ne!==void 0?Ne:P;try{me=by(V)}catch(se){if(L)throw q(V)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+se.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return me};t.getImageProperties=function(P){var L,V,me="";if(g(P)&&(P=x(P)),typeof P=="string"&&i(P)===n&&((me=H(P,!1))===""&&(me=t.loadFile(P)||""),P=me),V=i(P),!p(V))throw new Error("addImage does not support files of type '"+V+"', please ensure that a plugin for '"+V+"' support is added.");if(P instanceof Uint8Array||(P=F(P)),!(L=this["process"+V.toUpperCase()](P)))throw new Error("An unknown error occurred whilst processing the image");return L.fileType=V,L}})(fn.API),(function(t){var e=function(n){if(n!==void 0&&n!="")return!0};fn.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,i,s,a=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(n.objId),f=n.pageContext.annotations,h=!1,p=0;p<f.length&&!h;p++)switch((r=f[p]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(h=!0);break;case"reference":case"text":case"freetext":h=!0}if(h!=0){this.internal.write("/Annots [");for(var g=0;g<f.length;g++){r=f[g];var x=this.internal.pdfEscape,T=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var S=this.internal.newAdditionalObject(),N=this.internal.newAdditionalObject(),k=this.internal.getEncryptor(S.objId),B=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+a(r.bounds.x)+" "+o(r.bounds.y+r.bounds.h)+" "+a(r.bounds.x+r.bounds.w)+" "+o(r.bounds.y)+"] ")+"/Contents ("+x(k(r.contents))+")",s+=" /Popup "+N.objId+" 0 R",s+=" /P "+c.objId+" 0 R",s+=" /T ("+x(k(B))+") >>",S.content=s;var R=S.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+a(r.bounds.x+30)+" "+o(r.bounds.y+r.bounds.h)+" "+a(r.bounds.x+r.bounds.w+30)+" "+o(r.bounds.y)+"] ")+" /Parent "+R,r.open&&(s+=" /Open true"),s+=" >>",N.content=s,this.internal.write(S.objId,"0 R",N.objId,"0 R");break;case"freetext":i="/Rect ["+a(r.bounds.x)+" "+o(r.bounds.y)+" "+a(r.bounds.x+r.bounds.w)+" "+o(r.bounds.y+r.bounds.h)+"] ";var q=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+x(T(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+q+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var Y=this.annotations._nameMap[r.options.name];r.options.pageNumber=Y.page,r.options.top=Y.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+x(T(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;default:var J=o(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+J+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,i,s,a){var o=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,f=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:c(n),y:f(r),w:c(n+i),h:f(r+s)},options:a,type:"link"})},t.textWithLink=function(n,r,i,s){var a,o,c=this.getTextWidth(n),f=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){o=s.maxWidth;var h=this.splitTextToSize(n,o).length;a=Math.ceil(f*h)}else o=c,a=f;return this.text(n,r,i,s),i+=.2*f,s.align==="center"&&(r-=c/2),s.align==="right"&&(r-=c),this.link(r,i-f,o,a,s),c},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}})(fn.API),(function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(S){return e[S.charCodeAt(0)]!==void 0},a=t.__arabicParser__.isArabicLetter=function(S){return typeof S=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(S)},o=t.__arabicParser__.isArabicEndLetter=function(S){return a(S)&&s(S)&&e[S.charCodeAt(0)].length<=2},c=t.__arabicParser__.isArabicAlfLetter=function(S){return a(S)&&i.indexOf(S.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(S){return a(S)&&s(S)&&e[S.charCodeAt(0)].length>=1};var f=t.__arabicParser__.arabicLetterHasFinalForm=function(S){return a(S)&&s(S)&&e[S.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(S){return a(S)&&s(S)&&e[S.charCodeAt(0)].length>=3};var h=t.__arabicParser__.arabicLetterHasMedialForm=function(S){return a(S)&&s(S)&&e[S.charCodeAt(0)].length==4},p=t.__arabicParser__.resolveLigatures=function(S){var N=0,k=n,B="",R=0;for(N=0;N<S.length;N+=1)k[S.charCodeAt(N)]!==void 0?(R++,typeof(k=k[S.charCodeAt(N)])=="number"&&(B+=String.fromCharCode(k),k=n,R=0),N===S.length-1&&(k=n,B+=S.charAt(N-(R-1)),N-=R-1,R=0)):(k=n,B+=S.charAt(N-R),N-=R,R=0);return B};t.__arabicParser__.isArabicDiacritic=function(S){return S!==void 0&&r[S.charCodeAt(0)]!==void 0};var g=t.__arabicParser__.getCorrectForm=function(S,N,k){return a(S)?s(S)===!1?-1:!f(S)||!a(N)&&!a(k)||!a(k)&&o(N)||o(S)&&!a(N)||o(S)&&c(N)||o(S)&&o(N)?0:h(S)&&a(N)&&!o(N)&&a(k)&&f(k)?3:o(S)||!a(k)?1:2:-1},x=function(S){var N=0,k=0,B=0,R="",q="",Y="",J=(S=S||"").split("\\s+"),F=[];for(N=0;N<J.length;N+=1){for(F.push(""),k=0;k<J[N].length;k+=1)R=J[N][k],q=J[N][k-1],Y=J[N][k+1],a(R)?(B=g(R,q,Y),F[N]+=B!==-1?String.fromCharCode(e[R.charCodeAt(0)][B]):R):F[N]+=R;F[N]=p(F[N])}return F.join(" ")},T=t.__arabicParser__.processArabic=t.processArabic=function(){var S,N=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,k=[];if(Array.isArray(N)){var B=0;for(k=[],B=0;B<N.length;B+=1)Array.isArray(N[B])?k.push([x(N[B][0]),N[B][1],N[B][2]]):k.push([x(N[B])]);S=k}else S=x(N);return typeof arguments[0]=="string"?S:(arguments[0].text=S,arguments[0])};t.events.push(["preProcessText",T])})(fn.API),fn.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(o){n=o}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(o){r=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(o){i=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(o){s=o}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(o){a=o}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(fn.API),(function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(S){c=S}});var f=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return f},set:function(S){f=S}});var h=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return h},set:function(S){h=S}});var p=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return p},set:function(S){p=S}});var g=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return g},set:function(S){g=S}});var x=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return x},set:function(S){x=S}});var T=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return T},set:function(S){T=S}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(c){return r.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},t.getTextDimensions=function(c,f){r.call(this);var h=(f=f||{}).fontSize||this.getFontSize(),p=f.font||this.getFont(),g=f.scaleFactor||this.internal.scaleFactor,x=0,T=0,S=0,N=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var k=f.maxWidth;k>0?typeof c=="string"?c=this.splitTextToSize(c,k):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(R,q){return R.concat(N.splitTextToSize(q,k))},[])):c=Array.isArray(c)?c:[c];for(var B=0;B<c.length;B++)x<(S=this.getStringUnitWidth(c[B],{font:p})*h)&&(x=S);return x!==0&&(T=c.length),{w:x/=g,h:Math.max((T*h*this.getLineHeightFactor()-h*(this.getLineHeightFactor()-1))/g,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var c=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=t.cell=function(){var c;c=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),r.call(this);var f=this.internal.__cell__.lastCell,h=this.internal.__cell__.padding,p=this.internal.__cell__.margins||e,g=this.internal.__cell__.tableHeaderRow,x=this.internal.__cell__.printHeaders;return f.lineNumber!==void 0&&(f.lineNumber===c.lineNumber?(c.x=(f.x||0)+(f.width||0),c.y=f.y||0):f.y+f.height+c.height+p.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=p.top,x&&g&&(this.printHeaderRow(c.lineNumber,!0),c.y+=g[0].height)):c.y=f.y+f.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,n===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-h,c.y+h,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+h,{align:"center",baseline:"top",maxWidth:c.width-h-h}):this.text(c.text,c.x+h,c.y+h,{align:"left",baseline:"top",maxWidth:c.width-h-h})),this.internal.__cell__.lastCell=c,this};t.table=function(c,f,h,p,g){if(r.call(this),!h)throw new Error("No data for PDF table.");var x,T,S,N,k=[],B=[],R=[],q={},Y={},J=[],F=[],O=(g=g||{}).autoSize||!1,C=g.printHeaders!==!1,H=g.css&&g.css["font-size"]!==void 0?16*g.css["font-size"]:g.fontSize||12,P=g.margins||Object.assign({width:this.getPageWidth()},e),L=typeof g.padding=="number"?g.padding:3,V=g.headerBackgroundColor||"#c8c8c8",me=g.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=C,this.internal.__cell__.margins=P,this.internal.__cell__.table_font_size=H,this.internal.__cell__.padding=L,this.internal.__cell__.headerBackgroundColor=V,this.internal.__cell__.headerTextColor=me,this.setFontSize(H),p==null)B=k=Object.keys(h[0]),R=k.map(function(){return"left"});else if(Array.isArray(p)&&Fr(p[0])==="object")for(k=p.map(function(Le){return Le.name}),B=p.map(function(Le){return Le.prompt||Le.name||""}),R=p.map(function(Le){return Le.align||"left"}),x=0;x<p.length;x+=1)Y[p[x].name]=.7499990551181103*p[x].width;else Array.isArray(p)&&typeof p[0]=="string"&&(B=k=p,R=k.map(function(){return"left"}));if(O||Array.isArray(p)&&typeof p[0]=="string")for(x=0;x<k.length;x+=1){for(q[N=k[x]]=h.map(function(Le){return Le[N]}),this.setFont(void 0,"bold"),J.push(this.getTextDimensions(B[x],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),T=q[N],this.setFont(void 0,"normal"),S=0;S<T.length;S+=1)J.push(this.getTextDimensions(T[S],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);Y[N]=Math.max.apply(null,J)+L+L,J=[]}if(C){var Ne={};for(x=0;x<k.length;x+=1)Ne[k[x]]={},Ne[k[x]].text=B[x],Ne[k[x]].align=R[x];var se=o.call(this,Ne,Y);F=k.map(function(Le){return new s(c,f,Y[Le],se,Ne[Le].text,void 0,Ne[Le].align)}),this.setTableHeaderRow(F),this.printHeaderRow(1,!1)}var xe=p.reduce(function(Le,ne){return Le[ne.name]=ne.align,Le},{});for(x=0;x<h.length;x+=1){"rowStart"in g&&g.rowStart instanceof Function&&g.rowStart({row:x,data:h[x]},this);var he=o.call(this,h[x],Y);for(S=0;S<k.length;S+=1){var ue=h[x][k[S]];"cellStart"in g&&g.cellStart instanceof Function&&g.cellStart({row:x,col:S,data:ue},this),a.call(this,new s(c,f,Y[k[S]],he,ue,x+2,xe[k[S]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=f,this};var o=function(c,f){var h=this.internal.__cell__.padding,p=this.internal.__cell__.table_font_size,g=this.internal.scaleFactor;return Object.keys(c).map(function(x){var T=c[x];return this.splitTextToSize(T.hasOwnProperty("text")?T.text:T,f[x]-h-h)},this).map(function(x){return this.getLineHeightFactor()*x.length*p/g+h+h},this).reduce(function(x,T){return Math.max(x,T)},0)};t.setTableHeaderRow=function(c){r.call(this),this.internal.__cell__.tableHeaderRow=c},t.printHeaderRow=function(c,f){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var h;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var p=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(p[0],p[1],p[2],p[3],void 0,-1)}this.setFont(void 0,"bold");for(var g=[],x=0;x<this.internal.__cell__.tableHeaderRow.length;x+=1){h=this.internal.__cell__.tableHeaderRow[x].clone(),f&&(h.y=this.internal.__cell__.margins.top||0,g.push(h)),h.lineNumber=c;var T=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,h),this.setTextColor(T)}g.length>0&&this.setTableHeaderRow(g),this.setFont(void 0,"normal"),n=!1}})(fn.API);var C7={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},N7=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],T5=A7(N7),I7=[100,200,300,400,500,600,700,800,900],Ile=A7(I7);function Dw(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=(function(s){return C7[s=s||"normal"]?s:"normal"})(t.style),r=(function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400})(t.weight),i=(function(s){return typeof T5[s=s||"normal"]=="number"?s:"normal"})(t.stretch);return{family:e,style:n,weight:r,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,n,r].join(" ")}}}function k6(t,e,n,r){var i;for(i=n;i>=0&&i<e.length;i+=r)if(t[e[i]])return t[e[i]];for(i=n;i>=0&&i<e.length;i-=r)if(t[e[i]])return t[e[i]]}var kle={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},R6={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function P6(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function D6(t){return t.trimLeft()}function Rle(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function Ple(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Vx,M6,L6,m0,Ux,F6,O6,V6,Mw=["times"];function U6(t,e,n,r,i){var s=4,a=j6;switch(i){case fn.API.image_compression.FAST:s=1,a=B6;break;case fn.API.image_compression.MEDIUM:s=6,a=q6;break;case fn.API.image_compression.SLOW:s=9,a=H6}t=(function(c,f,h,p){for(var g,x=c.length/f,T=new Uint8Array(c.length+x),S=[Dle,B6,j6,q6,H6],N=0;N<x;N+=1){var k=N*f,B=c.subarray(k,k+f);if(p)T.set(p(B,h,g),k+N);else{for(var R=S.length,q=[],Y=0;Y<R;Y+=1)q[Y]=S[Y](B,h,g);var J=Lle(q.concat());T.set(q[J],k+N)}g=B}return T})(t,e,Math.ceil(n*r/8),a);var o=g5(t,{level:s});return fn.API.__addimage__.arrayBufferToBinaryString(o)}function Dle(t){var e=Array.apply([],t);return e.unshift(0),e}function B6(t,e){var n=t.length,r=[];r[0]=1;for(var i=0;i<n;i+=1){var s=t[i-e]||0;r[i+1]=t[i]-s+256&255}return r}function j6(t,e,n){var r=t.length,i=[];i[0]=2;for(var s=0;s<r;s+=1){var a=n&&n[s]||0;i[s+1]=t[s]-a+256&255}return i}function q6(t,e,n){var r=t.length,i=[];i[0]=3;for(var s=0;s<r;s+=1){var a=t[s-e]||0,o=n&&n[s]||0;i[s+1]=t[s]+256-(a+o>>>1)&255}return i}function H6(t,e,n){var r=t.length,i=[];i[0]=4;for(var s=0;s<r;s+=1){var a=Mle(t[s-e]||0,n&&n[s]||0,n&&n[s-e]||0);i[s+1]=t[s]-a+256&255}return i}function Mle(t,e,n){if(t===e&&e===n)return t;var r=Math.abs(e-n),i=Math.abs(t-n),s=Math.abs(t+e-n-n);return r<=i&&r<=s?t:i<=s?e:n}function Lle(t){var e=t.map(function(n){return n.reduce(function(r,i){return r+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function Lw(t,e,n){var r=e*n,i=Math.floor(r/8),s=16-(r-8*i+n),a=(1<<n)-1;return k7(t,i)>>s&a}function z6(t,e,n,r){var i=n*r,s=Math.floor(i/8),a=16-(i-8*s+r),o=(1<<r)-1,c=(e&o)<<a;(function(f,h,p){if(h+1<f.byteLength)f.setUint16(h,p,!1);else{var g=p>>8&255;f.setUint8(h,g)}})(t,s,k7(t,s)&~(o<<a)&65535|c)}function k7(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function Fle(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,i=t[e++],s=i>>7,a=1<<1+(7&i);t[e++],t[e++];var o=null,c=null;s&&(o=e,c=a,e+=3*a);var f=!0,h=[],p=0,g=null,x=0,T=null;for(this.width=n,this.height=r;f&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,T=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((P=t[e++])>=0))throw Error("Invalid block size");if(P===0)break;e+=P}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var S=t[e++];p=t[e++]|t[e++]<<8,g=t[e++],1&S||(g=null),x=S>>2&7,e++;break;case 254:for(;;){if(!((P=t[e++])>=0))throw Error("Invalid block size");if(P===0)break;e+=P}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var N=t[e++]|t[e++]<<8,k=t[e++]|t[e++]<<8,B=t[e++]|t[e++]<<8,R=t[e++]|t[e++]<<8,q=t[e++],Y=q>>6&1,J=1<<1+(7&q),F=o,O=c,C=!1;q>>7&&(C=!0,F=e,O=J,e+=3*J);var H=e;for(e++;;){var P;if(!((P=t[e++])>=0))throw Error("Invalid block size");if(P===0)break;e+=P}h.push({x:N,y:k,width:B,height:R,has_local_palette:C,palette_offset:F,palette_size:O,data_offset:H,data_length:e-H,transparent_index:g,interlaced:!!Y,delay:p,disposal:x});break;case 59:f=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return h.length},this.loopCount=function(){return T},this.frameInfo=function(L){if(L<0||L>=h.length)throw new Error("Frame index out of range.");return h[L]},this.decodeAndBlitFrameBGRA=function(L,V){var me=this.frameInfo(L),Ne=me.width*me.height,se=new Uint8Array(Ne);G6(t,me.data_offset,se,Ne);var xe=me.palette_offset,he=me.transparent_index;he===null&&(he=256);var ue=me.width,Le=n-ue,ne=ue,M=4*(me.y*n+me.x),W=4*((me.y+me.height)*n+me.x),K=M,Q=4*Le;me.interlaced===!0&&(Q+=4*n*7);for(var ce=8,we=0,ke=se.length;we<ke;++we){var fe=se[we];if(ne===0&&(ne=ue,(K+=Q)>=W&&(Q=4*Le+4*n*(ce-1),K=M+(ue+Le)*(ce<<1),ce>>=1)),fe===he)K+=4;else{var Ae=t[xe+3*fe],Ue=t[xe+3*fe+1],ae=t[xe+3*fe+2];V[K++]=ae,V[K++]=Ue,V[K++]=Ae,V[K++]=255}--ne}},this.decodeAndBlitFrameRGBA=function(L,V){var me=this.frameInfo(L),Ne=me.width*me.height,se=new Uint8Array(Ne);G6(t,me.data_offset,se,Ne);var xe=me.palette_offset,he=me.transparent_index;he===null&&(he=256);var ue=me.width,Le=n-ue,ne=ue,M=4*(me.y*n+me.x),W=4*((me.y+me.height)*n+me.x),K=M,Q=4*Le;me.interlaced===!0&&(Q+=4*n*7);for(var ce=8,we=0,ke=se.length;we<ke;++we){var fe=se[we];if(ne===0&&(ne=ue,(K+=Q)>=W&&(Q=4*Le+4*n*(ce-1),K=M+(ue+Le)*(ce<<1),ce>>=1)),fe===he)K+=4;else{var Ae=t[xe+3*fe],Ue=t[xe+3*fe+1],ae=t[xe+3*fe+2];V[K++]=Ae,V[K++]=Ue,V[K++]=ae,V[K++]=255}--ne}}}function G6(t,e,n,r){for(var i=t[e++],s=1<<i,a=s+1,o=a+1,c=i+1,f=(1<<c)-1,h=0,p=0,g=0,x=t[e++],T=new Int32Array(4096),S=null;;){for(;h<16&&x!==0;)p|=t[e++]<<h,h+=8,x===1?x=t[e++]:--x;if(h<c)break;var N=p&f;if(p>>=c,h-=c,N!==s){if(N===a)break;for(var k=N<o?N:S,B=0,R=k;R>s;)R=T[R]>>8,++B;var q=R;if(g+B+(k!==N?1:0)>r)return void ti.log("Warning, gif stream longer than expected.");n[g++]=q;var Y=g+=B;for(k!==N&&(n[g++]=q),R=k;B--;)R=T[R],n[--Y]=255&R,R>>=8;S!==null&&o<4096&&(T[o++]=S<<8|q,o>=f+1&&c<12&&(++c,f=f<<1|1)),S=N}else o=a+1,f=(1<<(c=i+1))-1,S=null}return g!==r&&ti.log("Warning, gif stream shorter than expected."),n}function Fw(t){var e,n,r,i,s,a=Math.floor,o=new Array(64),c=new Array(64),f=new Array(64),h=new Array(64),p=new Array(65535),g=new Array(65535),x=new Array(64),T=new Array(64),S=[],N=0,k=7,B=new Array(64),R=new Array(64),q=new Array(64),Y=new Array(256),J=new Array(2048),F=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],O=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],C=[0,1,2,3,4,5,6,7,8,9,10,11],H=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],P=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],L=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],V=[0,1,2,3,4,5,6,7,8,9,10,11],me=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Ne=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function se(M,W){for(var K=0,Q=0,ce=new Array,we=1;we<=16;we++){for(var ke=1;ke<=M[we];ke++)ce[W[Q]]=[],ce[W[Q]][0]=K,ce[W[Q]][1]=we,Q++,K++;K*=2}return ce}function xe(M){for(var W=M[0],K=M[1]-1;K>=0;)W&1<<K&&(N|=1<<k),K--,--k<0&&(N==255?(he(255),he(0)):he(N),k=7,N=0)}function he(M){S.push(M)}function ue(M){he(M>>8&255),he(255&M)}function Le(M,W,K,Q,ce){for(var we,ke=ce[0],fe=ce[240],Ae=(function(rt,St){var Nt,Jt,qt,sn,mn,ln,En,an,Ft,At,Rt=0;for(Ft=0;Ft<8;++Ft){Nt=rt[Rt],Jt=rt[Rt+1],qt=rt[Rt+2],sn=rt[Rt+3],mn=rt[Rt+4],ln=rt[Rt+5],En=rt[Rt+6];var qn=Nt+(an=rt[Rt+7]),$t=Nt-an,Yt=Jt+En,hn=Jt-En,An=qt+ln,Oe=qt-ln,Lt=sn+mn,Pt=sn-mn,Bt=qn+Lt,Zt=qn-Lt,Wt=Yt+An,jt=Yt-An;rt[Rt]=Bt+Wt,rt[Rt+4]=Bt-Wt;var gn=.707106781*(jt+Zt);rt[Rt+2]=Zt+gn,rt[Rt+6]=Zt-gn;var Ur=.382683433*((Bt=Pt+Oe)-(jt=hn+$t)),Yr=.5411961*Bt+Ur,Ns=1.306562965*jt+Ur,ri=.707106781*(Wt=Oe+hn),Mt=$t+ri,Ra=$t-ri;rt[Rt+5]=Ra+Yr,rt[Rt+3]=Ra-Yr,rt[Rt+1]=Mt+Ns,rt[Rt+7]=Mt-Ns,Rt+=8}for(Rt=0,Ft=0;Ft<8;++Ft){Nt=rt[Rt],Jt=rt[Rt+8],qt=rt[Rt+16],sn=rt[Rt+24],mn=rt[Rt+32],ln=rt[Rt+40],En=rt[Rt+48];var us=Nt+(an=rt[Rt+56]),Ni=Nt-an,Xi=Jt+En,_r=Jt-En,Ir=qt+ln,te=qt-ln,be=sn+mn,ge=sn-mn,ye=us+be,_e=us-be,Ce=Xi+Ir,He=Xi-Ir;rt[Rt]=ye+Ce,rt[Rt+32]=ye-Ce;var tt=.707106781*(He+_e);rt[Rt+16]=_e+tt,rt[Rt+48]=_e-tt;var Ge=.382683433*((ye=ge+te)-(He=_r+Ni)),We=.5411961*ye+Ge,Ke=1.306562965*He+Ge,vt=.707106781*(Ce=te+_r),bt=Ni+vt,It=Ni-vt;rt[Rt+40]=It+We,rt[Rt+24]=It-We,rt[Rt+8]=bt+Ke,rt[Rt+56]=bt-Ke,Rt++}for(Ft=0;Ft<64;++Ft)At=rt[Ft]*St[Ft],x[Ft]=At>0?At+.5|0:At-.5|0;return x})(M,W),Ue=0;Ue<64;++Ue)T[F[Ue]]=Ae[Ue];var ae=T[0]-K;K=T[0],ae==0?xe(Q[0]):(xe(Q[g[we=32767+ae]]),xe(p[we]));for(var it=63;it>0&&T[it]==0;)it--;if(it==0)return xe(ke),K;for(var dt,re=1;re<=it;){for(var lt=re;T[re]==0&&re<=it;)++re;var ft=re-lt;if(ft>=16){dt=ft>>4;for(var kt=1;kt<=dt;++kt)xe(fe);ft&=15}we=32767+T[re],xe(ce[(ft<<4)+g[we]]),xe(p[we]),re++}return it!=63&&xe(ke),K}function ne(M){M=Math.min(Math.max(M,1),100),s!=M&&((function(W){for(var K=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Q=0;Q<64;Q++){var ce=a((K[Q]*W+50)/100);ce=Math.min(Math.max(ce,1),255),o[F[Q]]=ce}for(var we=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ke=0;ke<64;ke++){var fe=a((we[ke]*W+50)/100);fe=Math.min(Math.max(fe,1),255),c[F[ke]]=fe}for(var Ae=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ue=0,ae=0;ae<8;ae++)for(var it=0;it<8;it++)f[Ue]=1/(o[F[Ue]]*Ae[ae]*Ae[it]*8),h[Ue]=1/(c[F[Ue]]*Ae[ae]*Ae[it]*8),Ue++})(M<50?Math.floor(5e3/M):Math.floor(200-2*M)),s=M)}this.encode=function(M,W){W&&ne(W),S=new Array,N=0,k=7,ue(65496),ue(65504),ue(16),he(74),he(70),he(73),he(70),he(0),he(1),he(1),he(0),ue(1),ue(1),he(0),he(0),(function(){ue(65499),ue(132),he(0);for(var Jt=0;Jt<64;Jt++)he(o[Jt]);he(1);for(var qt=0;qt<64;qt++)he(c[qt])})(),(function(Jt,qt){ue(65472),ue(17),he(8),ue(qt),ue(Jt),he(3),he(1),he(17),he(0),he(2),he(17),he(1),he(3),he(17),he(1)})(M.width,M.height),(function(){ue(65476),ue(418),he(0);for(var Jt=0;Jt<16;Jt++)he(O[Jt+1]);for(var qt=0;qt<=11;qt++)he(C[qt]);he(16);for(var sn=0;sn<16;sn++)he(H[sn+1]);for(var mn=0;mn<=161;mn++)he(P[mn]);he(1);for(var ln=0;ln<16;ln++)he(L[ln+1]);for(var En=0;En<=11;En++)he(V[En]);he(17);for(var an=0;an<16;an++)he(me[an+1]);for(var Ft=0;Ft<=161;Ft++)he(Ne[Ft])})(),ue(65498),ue(12),he(3),he(1),he(0),he(2),he(17),he(3),he(17),he(0),he(63),he(0);var K=0,Q=0,ce=0;N=0,k=7,this.encode.displayName="_encode_";for(var we,ke,fe,Ae,Ue,ae,it,dt,re,lt=M.data,ft=M.width,kt=M.height,rt=4*ft,St=0;St<kt;){for(we=0;we<rt;){for(Ue=rt*St+we,it=-1,dt=0,re=0;re<64;re++)ae=Ue+(dt=re>>3)*rt+(it=4*(7&re)),St+dt>=kt&&(ae-=rt*(St+1+dt-kt)),we+it>=rt&&(ae-=we+it-rt+4),ke=lt[ae++],fe=lt[ae++],Ae=lt[ae++],B[re]=(J[ke]+J[fe+256|0]+J[Ae+512|0]>>16)-128,R[re]=(J[ke+768|0]+J[fe+1024|0]+J[Ae+1280|0]>>16)-128,q[re]=(J[ke+1280|0]+J[fe+1536|0]+J[Ae+1792|0]>>16)-128;K=Le(B,f,K,e,r),Q=Le(R,h,Q,n,i),ce=Le(q,h,ce,n,i),we+=32}St+=8}if(k>=0){var Nt=[];Nt[1]=k+1,Nt[0]=(1<<k+1)-1,xe(Nt)}return ue(65497),new Uint8Array(S)},t=t||50,(function(){for(var M=String.fromCharCode,W=0;W<256;W++)Y[W]=M(W)})(),e=se(O,C),n=se(L,V),r=se(H,P),i=se(me,Ne),(function(){for(var M=1,W=2,K=1;K<=15;K++){for(var Q=M;Q<W;Q++)g[32767+Q]=K,p[32767+Q]=[],p[32767+Q][1]=K,p[32767+Q][0]=Q;for(var ce=-(W-1);ce<=-M;ce++)g[32767+ce]=K,p[32767+ce]=[],p[32767+ce][1]=K,p[32767+ce][0]=W-1+ce;M<<=1,W<<=1}})(),(function(){for(var M=0;M<256;M++)J[M]=19595*M,J[M+256|0]=38470*M,J[M+512|0]=7471*M+32768,J[M+768|0]=-11059*M,J[M+1024|0]=-21709*M,J[M+1280|0]=32768*M+8421375,J[M+1536|0]=-27439*M,J[M+1792|0]=-5329*M})(),ne(t)}function Bl(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function $6(t){function e(C){if(!C)throw Error("assert :P")}function n(C,H,P){for(var L=0;4>L;L++)if(C[H+L]!=P.charCodeAt(L))return!0;return!1}function r(C,H,P,L,V){for(var me=0;me<V;me++)C[H+me]=P[L+me]}function i(C,H,P,L){for(var V=0;V<L;V++)C[H+V]=P}function s(C){return new Int32Array(C)}function a(C,H){for(var P=[],L=0;L<C;L++)P.push(new H);return P}function o(C,H){var P=[];return(function L(V,me,Ne){for(var se=Ne[me],xe=0;xe<se&&(V.push(Ne.length>me+1?[]:new H),!(Ne.length<me+1));xe++)L(V[xe],me+1,Ne)})(P,0,C),P}var c=function(){var C=this;function H(_,A){for(var U=1<<A-1>>>0;_&U;)U>>>=1;return U?(_&U-1)+U:_}function P(_,A,U,z,ee){e(!(z%U));do _[A+(z-=U)]=ee;while(0<z)}function L(_,A,U,z,ee){if(e(2328>=ee),512>=ee)var ie=s(512);else if((ie=s(ee))==null)return 0;return(function(oe,de,ve,Se,De,Ye){var Te,Fe,qe=de,at=1<<ve,ze=s(16),st=s(16);for(e(De!=0),e(Se!=null),e(oe!=null),e(0<ve),Fe=0;Fe<De;++Fe){if(15<Se[Fe])return 0;++ze[Se[Fe]]}if(ze[0]==De)return 0;for(st[1]=0,Te=1;15>Te;++Te){if(ze[Te]>1<<Te)return 0;st[Te+1]=st[Te]+ze[Te]}for(Fe=0;Fe<De;++Fe)Te=Se[Fe],0<Se[Fe]&&(Ye[st[Te]++]=Fe);if(st[15]==1)return(Se=new V).g=0,Se.value=Ye[0],P(oe,qe,1,at,Se),at;var ht,wt=-1,xt=at-1,tn=0,Ht=1,Rn=1,Xt=1<<ve;for(Fe=0,Te=1,De=2;Te<=ve;++Te,De<<=1){if(Ht+=Rn<<=1,0>(Rn-=ze[Te]))return 0;for(;0<ze[Te];--ze[Te])(Se=new V).g=Te,Se.value=Ye[Fe++],P(oe,qe+tn,De,Xt,Se),tn=H(tn,Te)}for(Te=ve+1,De=2;15>=Te;++Te,De<<=1){if(Ht+=Rn<<=1,0>(Rn-=ze[Te]))return 0;for(;0<ze[Te];--ze[Te]){if(Se=new V,(tn&xt)!=wt){for(qe+=Xt,ht=1<<(wt=Te)-ve;15>wt&&!(0>=(ht-=ze[wt]));)++wt,ht<<=1;at+=Xt=1<<(ht=wt-ve),oe[de+(wt=tn&xt)].g=ht+ve,oe[de+wt].value=qe-de-wt}Se.g=Te-ve,Se.value=Ye[Fe++],P(oe,qe+(tn>>ve),De,Xt,Se),tn=H(tn,Te)}}return Ht!=2*st[15]-1?0:at})(_,A,U,z,ee,ie)}function V(){this.value=this.g=0}function me(){this.value=this.g=0}function Ne(){this.G=a(5,V),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(ac,me)}function se(_,A,U,z){e(_!=null),e(A!=null),e(2147483648>z),_.Ca=254,_.I=0,_.b=-8,_.Ka=0,_.oa=A,_.pa=U,_.Jd=A,_.Yc=U+z,_.Zc=4<=z?U+z-4+1:U,ke(_)}function xe(_,A){for(var U=0;0<A--;)U|=Ae(_,128)<<A;return U}function he(_,A){var U=xe(_,A);return fe(_)?-U:U}function ue(_,A,U,z){var ee,ie=0;for(e(_!=null),e(A!=null),e(4294967288>z),_.Sb=z,_.Ra=0,_.u=0,_.h=0,4<z&&(z=4),ee=0;ee<z;++ee)ie+=A[U+ee]<<8*ee;_.Ra=ie,_.bb=z,_.oa=A,_.pa=U}function Le(_){for(;8<=_.u&&_.bb<_.Sb;)_.Ra>>>=8,_.Ra+=_.oa[_.pa+_.bb]<<Yo-8>>>0,++_.bb,_.u-=8;Q(_)&&(_.h=1,_.u=0)}function ne(_,A){if(e(0<=A),!_.h&&A<=Xs){var U=K(_)&fa[A];return _.u+=A,Le(_),U}return _.h=1,_.u=0}function M(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function W(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function K(_){return _.Ra>>>(_.u&Yo-1)>>>0}function Q(_){return e(_.bb<=_.Sb),_.h||_.bb==_.Sb&&_.u>Yo}function ce(_,A){_.u=A,_.h=Q(_)}function we(_){_.u>=Xo&&(e(_.u>=Xo),Le(_))}function ke(_){e(_!=null&&_.oa!=null),_.pa<_.Zc?(_.I=(_.oa[_.pa++]|_.I<<8)>>>0,_.b+=8):(e(_!=null&&_.oa!=null),_.pa<_.Yc?(_.b+=8,_.I=_.oa[_.pa++]|_.I<<8):_.Ka?_.b=0:(_.I<<=8,_.b+=8,_.Ka=1))}function fe(_){return xe(_,1)}function Ae(_,A){var U=_.Ca;0>_.b&&ke(_);var z=_.b,ee=U*A>>>8,ie=(_.I>>>z>ee)+0;for(ie?(U-=ee,_.I-=ee+1<<z>>>0):U=ee+1,z=U,ee=0;256<=z;)ee+=8,z>>=8;return z=7^ee+Al[z],_.b-=z,_.Ca=(U<<z)-1,ie}function Ue(_,A,U){_[A+0]=U>>24&255,_[A+1]=U>>16&255,_[A+2]=U>>8&255,_[A+3]=255&U}function ae(_,A){return _[A+0]|_[A+1]<<8}function it(_,A){return ae(_,A)|_[A+2]<<16}function dt(_,A){return ae(_,A)|ae(_,A+2)<<16}function re(_,A){var U=1<<A;return e(_!=null),e(0<A),_.X=s(U),_.X==null?0:(_.Mb=32-A,_.Xa=A,1)}function lt(_,A){e(_!=null),e(A!=null),e(_.Xa==A.Xa),r(A.X,0,_.X,0,1<<A.Xa)}function ft(){this.X=[],this.Xa=this.Mb=0}function kt(_,A,U,z){e(U!=null),e(z!=null);var ee=U[0],ie=z[0];return ee==0&&(ee=(_*ie+A/2)/A),ie==0&&(ie=(A*ee+_/2)/_),0>=ee||0>=ie?0:(U[0]=ee,z[0]=ie,1)}function rt(_,A){return _+(1<<A)-1>>>A}function St(_,A){return((4278255360&_)+(4278255360&A)>>>0&4278255360)+((16711935&_)+(16711935&A)>>>0&16711935)>>>0}function Nt(_,A){C[A]=function(U,z,ee,ie,oe,de,ve){var Se;for(Se=0;Se<oe;++Se){var De=C[_](de[ve+Se-1],ee,ie+Se);de[ve+Se]=St(U[z+Se],De)}}}function Jt(){this.ud=this.hd=this.jd=0}function qt(_,A){return((4278124286&(_^A))>>>1)+(_&A)>>>0}function sn(_){return 0<=_&&256>_?_:0>_?0:255<_?255:void 0}function mn(_,A){return sn(_+(_-A+.5>>1))}function ln(_,A,U){return Math.abs(A-U)-Math.abs(_-U)}function En(_,A,U,z,ee,ie,oe){for(z=ie[oe-1],U=0;U<ee;++U)ie[oe+U]=z=St(_[A+U],z)}function an(_,A,U,z,ee){var ie;for(ie=0;ie<U;++ie){var oe=_[A+ie],de=oe>>8&255,ve=16711935&(ve=(ve=16711935&oe)+((de<<16)+de));z[ee+ie]=(4278255360&oe)+ve>>>0}}function Ft(_,A){A.jd=255&_,A.hd=_>>8&255,A.ud=_>>16&255}function At(_,A,U,z,ee,ie){var oe;for(oe=0;oe<z;++oe){var de=A[U+oe],ve=de>>>8,Se=de,De=255&(De=(De=de>>>16)+((_.jd<<24>>24)*(ve<<24>>24)>>>5));Se=255&(Se=(Se+=(_.hd<<24>>24)*(ve<<24>>24)>>>5)+((_.ud<<24>>24)*(De<<24>>24)>>>5)),ee[ie+oe]=(4278255360&de)+(De<<16)+Se}}function Rt(_,A,U,z,ee){C[A]=function(ie,oe,de,ve,Se,De,Ye,Te,Fe){for(ve=Ye;ve<Te;++ve)for(Ye=0;Ye<Fe;++Ye)Se[De++]=ee(de[z(ie[oe++])])},C[_]=function(ie,oe,de,ve,Se,De,Ye){var Te=8>>ie.b,Fe=ie.Ea,qe=ie.K[0],at=ie.w;if(8>Te)for(ie=(1<<ie.b)-1,at=(1<<Te)-1;oe<de;++oe){var ze,st=0;for(ze=0;ze<Fe;++ze)ze&ie||(st=z(ve[Se++])),De[Ye++]=ee(qe[st&at]),st>>=Te}else C["VP8LMapColor"+U](ve,Se,qe,at,De,Ye,oe,de,Fe)}}function qn(_,A,U,z,ee){for(U=A+U;A<U;){var ie=_[A++];z[ee++]=ie>>16&255,z[ee++]=ie>>8&255,z[ee++]=255&ie}}function $t(_,A,U,z,ee){for(U=A+U;A<U;){var ie=_[A++];z[ee++]=ie>>16&255,z[ee++]=ie>>8&255,z[ee++]=255&ie,z[ee++]=ie>>24&255}}function Yt(_,A,U,z,ee){for(U=A+U;A<U;){var ie=(oe=_[A++])>>16&240|oe>>12&15,oe=240&oe|oe>>28&15;z[ee++]=ie,z[ee++]=oe}}function hn(_,A,U,z,ee){for(U=A+U;A<U;){var ie=(oe=_[A++])>>16&248|oe>>13&7,oe=oe>>5&224|oe>>3&31;z[ee++]=ie,z[ee++]=oe}}function An(_,A,U,z,ee){for(U=A+U;A<U;){var ie=_[A++];z[ee++]=255&ie,z[ee++]=ie>>8&255,z[ee++]=ie>>16&255}}function Oe(_,A,U,z,ee,ie){if(ie==0)for(U=A+U;A<U;)Ue(z,((ie=_[A++])[0]>>24|ie[1]>>8&65280|ie[2]<<8&16711680|ie[3]<<24)>>>0),ee+=32;else r(z,ee,_,A,U)}function Lt(_,A){C[A][0]=C[_+"0"],C[A][1]=C[_+"1"],C[A][2]=C[_+"2"],C[A][3]=C[_+"3"],C[A][4]=C[_+"4"],C[A][5]=C[_+"5"],C[A][6]=C[_+"6"],C[A][7]=C[_+"7"],C[A][8]=C[_+"8"],C[A][9]=C[_+"9"],C[A][10]=C[_+"10"],C[A][11]=C[_+"11"],C[A][12]=C[_+"12"],C[A][13]=C[_+"13"],C[A][14]=C[_+"0"],C[A][15]=C[_+"0"]}function Pt(_){return _==dh||_==Pd||_==Wu||_==Dd}function Bt(){this.eb=[],this.size=this.A=this.fb=0}function Zt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Wt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Bt,this.f.kb=new Zt,this.sd=null}function jt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function gn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Ur(_){return alert("todo:WebPSamplerProcessPlane"),_.T}function Yr(_,A){var U=_.T,z=A.ba.f.RGBA,ee=z.eb,ie=z.fb+_.ka*z.A,oe=xs[A.ba.S],de=_.y,ve=_.O,Se=_.f,De=_.N,Ye=_.ea,Te=_.W,Fe=A.cc,qe=A.dc,at=A.Mc,ze=A.Nc,st=_.ka,ht=_.ka+_.T,wt=_.U,xt=wt+1>>1;for(st==0?oe(de,ve,null,null,Se,De,Ye,Te,Se,De,Ye,Te,ee,ie,null,null,wt):(oe(A.ec,A.fc,de,ve,Fe,qe,at,ze,Se,De,Ye,Te,ee,ie-z.A,ee,ie,wt),++U);st+2<ht;st+=2)Fe=Se,qe=De,at=Ye,ze=Te,De+=_.Rc,Te+=_.Rc,ie+=2*z.A,oe(de,(ve+=2*_.fa)-_.fa,de,ve,Fe,qe,at,ze,Se,De,Ye,Te,ee,ie-z.A,ee,ie,wt);return ve+=_.fa,_.j+ht<_.o?(r(A.ec,A.fc,de,ve,wt),r(A.cc,A.dc,Se,De,xt),r(A.Mc,A.Nc,Ye,Te,xt),U--):1&ht||oe(de,ve,null,null,Se,De,Ye,Te,Se,De,Ye,Te,ee,ie+z.A,null,null,wt),U}function Ns(_,A,U){var z=_.F,ee=[_.J];if(z!=null){var ie=_.U,oe=A.ba.S,de=oe==hh||oe==Wu;A=A.ba.f.RGBA;var ve=[0],Se=_.ka;ve[0]=_.T,_.Kb&&(Se==0?--ve[0]:(--Se,ee[0]-=_.width),_.j+_.ka+_.T==_.o&&(ve[0]=_.o-_.j-Se));var De=A.eb;Se=A.fb+Se*A.A,_=lh(z,ee[0],_.width,ie,ve,De,Se+(de?0:3),A.A),e(U==ve),_&&Pt(oe)&&Qc(De,Se,de,ie,ve,A.A)}return 0}function ri(_){var A=_.ma,U=A.ba.S,z=11>U,ee=U==Ms||U==to||U==hh||U==$u||U==12||Pt(U);if(A.memory=null,A.Ib=null,A.Jb=null,A.Nd=null,!Sl(A.Oa,_,ee?11:12))return 0;if(ee&&Pt(U)&&Nn(),_.da)alert("todo:use_scaling");else{if(z){if(A.Ib=Ur,_.Kb){if(U=_.U+1>>1,A.memory=s(_.U+2*U),A.memory==null)return 0;A.ec=A.memory,A.fc=0,A.cc=A.ec,A.dc=A.fc+_.U,A.Mc=A.cc,A.Nc=A.dc+U,A.Ib=Yr,Nn()}}else alert("todo:EmitYUV");ee&&(A.Jb=Ns,z&&Qe())}if(z&&!dc){for(_=0;256>_;++_)ys[_]=89858*(_-128)+Xu>>oo,y2[_]=-22014*(_-128)+Xu,I1[_]=-45773*(_-128),Vd[_]=113618*(_-128)+Xu>>oo;for(_=nu;_<hc;++_)A=76283*(_-16)+Xu>>oo,v2[_-nu]=Xr(A,255),_2[_-nu]=Xr(A+8>>4,15);dc=1}return 1}function Mt(_){var A=_.ma,U=_.U,z=_.T;return e(!(1&_.ka)),0>=U||0>=z?0:(U=A.Ib(_,A),A.Jb!=null&&A.Jb(_,A,U),A.Dc+=U,1)}function Ra(_){_.ma.memory=null}function us(_,A,U,z){return ne(_,8)!=47?0:(A[0]=ne(_,14)+1,U[0]=ne(_,14)+1,z[0]=ne(_,1),ne(_,3)!=0?0:!_.h)}function Ni(_,A){if(4>_)return _+1;var U=_-2>>1;return(2+(1&_)<<U)+ne(A,U)+1}function Xi(_,A){return 120<A?A-120:1<=(U=((U=ro[A-1])>>4)*_+(8-(15&U)))?U:1;var U}function _r(_,A,U){var z=K(U),ee=_[A+=255&z].g-8;return 0<ee&&(ce(U,U.u+8),z=K(U),A+=_[A].value,A+=z&(1<<ee)-1),ce(U,U.u+_[A].g),_[A].value}function Ir(_,A,U){return U.g+=_.g,U.value+=_.value<<A>>>0,e(8>=U.g),_.g}function te(_,A,U){var z=_.xc;return e((A=z==0?0:_.vc[_.md*(U>>z)+(A>>z)])<_.Wb),_.Ya[A]}function be(_,A,U,z){var ee=_.ab,ie=_.c*A,oe=_.C;A=oe+A;var de=U,ve=z;for(z=_.Ta,U=_.Ua;0<ee--;){var Se=_.gc[ee],De=oe,Ye=A,Te=de,Fe=ve,qe=(ve=z,de=U,Se.Ea);switch(e(De<Ye),e(Ye<=Se.nc),Se.hc){case 2:bi(Te,Fe,(Ye-De)*qe,ve,de);break;case 0:var at=De,ze=Ye,st=ve,ht=de,wt=(Xt=Se).Ea;at==0&&(qu(Te,Fe,null,null,1,st,ht),En(Te,Fe+1,0,0,wt-1,st,ht+1),Fe+=wt,ht+=wt,++at);for(var xt=1<<Xt.b,tn=xt-1,Ht=rt(wt,Xt.b),Rn=Xt.K,Xt=Xt.w+(at>>Xt.b)*Ht;at<ze;){var Xn=Rn,Zr=Xt,Ln=1;for(Hu(Te,Fe,st,ht-wt,1,st,ht);Ln<wt;){var zt=(Ln&~tn)+xt;zt>wt&&(zt=wt),(0,Cl[Xn[Zr++]>>8&15])(Te,Fe+ +Ln,st,ht+Ln-wt,zt-Ln,st,ht+Ln),Ln=zt}Fe+=wt,ht+=wt,++at&tn||(Xt+=Ht)}Ye!=Se.nc&&r(ve,de-qe,ve,de+(Ye-De-1)*qe,qe);break;case 1:for(qe=Te,ze=Fe,wt=(Te=Se.Ea)-(ht=Te&~(st=(Fe=1<<Se.b)-1)),at=rt(Te,Se.b),xt=Se.K,Se=Se.w+(De>>Se.b)*at;De<Ye;){for(tn=xt,Ht=Se,Rn=new Jt,Xt=ze+ht,Xn=ze+Te;ze<Xt;)Ft(tn[Ht++],Rn),zu(Rn,qe,ze,Fe,ve,de),ze+=Fe,de+=Fe;ze<Xn&&(Ft(tn[Ht++],Rn),zu(Rn,qe,ze,wt,ve,de),ze+=wt,de+=wt),++De&st||(Se+=at)}break;case 3:if(Te==ve&&Fe==de&&0<Se.b){for(ze=ve,Te=qe=de+(Ye-De)*qe-(ht=(Ye-De)*rt(Se.Ea,Se.b)),Fe=ve,st=de,at=[],ht=(wt=ht)-1;0<=ht;--ht)at[ht]=Fe[st+ht];for(ht=wt-1;0<=ht;--ht)ze[Te+ht]=at[ht];Cd(Se,De,Ye,ve,qe,ve,de)}else Cd(Se,De,Ye,Te,Fe,ve,de)}de=z,ve=U}ve!=U&&r(z,U,de,ve,ie)}function ge(_,A){var U=_.V,z=_.Ba+_.c*_.C,ee=A-_.C;if(e(A<=_.l.o),e(16>=ee),0<ee){var ie=_.l,oe=_.Ta,de=_.Ua,ve=ie.width;if(be(_,ee,U,z),ee=de=[de],e((U=_.C)<(z=A)),e(ie.v<ie.va),z>ie.o&&(z=ie.o),U<ie.j){var Se=ie.j-U;U=ie.j,ee[0]+=Se*ve}if(U>=z?U=0:(ee[0]+=4*ie.v,ie.ka=U-ie.j,ie.U=ie.va-ie.v,ie.T=z-U,U=1),U){if(de=de[0],11>(U=_.ca).S){var De=U.f.RGBA,Ye=(z=U.S,ee=ie.U,ie=ie.T,Se=De.eb,De.A),Te=ie;for(De=De.fb+_.Ma*De.A;0<Te--;){var Fe=oe,qe=de,at=ee,ze=Se,st=De;switch(z){case kd:Gu(Fe,qe,at,ze,st);break;case Ms:Nl(Fe,qe,at,ze,st);break;case dh:Nl(Fe,qe,at,ze,st),Qc(ze,st,0,at,1,0);break;case Rd:Xc(Fe,qe,at,ze,st);break;case to:Oe(Fe,qe,at,ze,st,1);break;case Pd:Oe(Fe,qe,at,ze,st,1),Qc(ze,st,0,at,1,0);break;case hh:Oe(Fe,qe,at,ze,st,0);break;case Wu:Oe(Fe,qe,at,ze,st,0),Qc(ze,st,1,at,1,0);break;case $u:Il(Fe,qe,at,ze,st);break;case Dd:Il(Fe,qe,at,ze,st),eo(ze,st,at,1,0);break;case oc:Zo(Fe,qe,at,ze,st);break;default:e(0)}de+=ve,De+=Ye}_.Ma+=ie}else alert("todo:EmitRescaledRowsYUVA");e(_.Ma<=U.height)}}_.C=A,e(_.C<=_.i)}function ye(_){var A;if(0<_.ua)return 0;for(A=0;A<_.Wb;++A){var U=_.Ya[A].G,z=_.Ya[A].H;if(0<U[1][z[1]+0].g||0<U[2][z[2]+0].g||0<U[3][z[3]+0].g)return 0}return 1}function _e(_,A,U,z,ee,ie){if(_.Z!=0){var oe=_.qd,de=_.rd;for(e(Pl[_.Z]!=null);A<U;++A)Pl[_.Z](oe,de,z,ee,z,ee,ie),oe=z,de=ee,ee+=ie;_.qd=oe,_.rd=de}}function Ce(_,A){var U=_.l.ma,z=U.Z==0||U.Z==1?_.l.j:_.C;if(z=_.C<z?z:_.C,e(A<=_.l.o),A>z){var ee=_.l.width,ie=U.ca,oe=U.tb+ee*z,de=_.V,ve=_.Ba+_.c*z,Se=_.gc;e(_.ab==1),e(Se[0].hc==3),Qo(Se[0],z,A,de,ve,ie,oe),_e(U,z,A,ie,oe,ee)}_.C=_.Ma=A}function He(_,A,U,z,ee,ie,oe){var de=_.$/z,ve=_.$%z,Se=_.m,De=_.s,Ye=U+_.$,Te=Ye;ee=U+z*ee;var Fe=U+z*ie,qe=280+De.ua,at=_.Pb?de:16777216,ze=0<De.ua?De.Wa:null,st=De.wc,ht=Ye<Fe?te(De,ve,de):null;e(_.C<ie),e(Fe<=ee);var wt=!1;e:for(;;){for(;wt||Ye<Fe;){var xt=0;if(de>=at){var tn=Ye-U;e((at=_).Pb),at.wd=at.m,at.xd=tn,0<at.s.ua&&lt(at.s.Wa,at.s.vb),at=de+lc}if(ve&st||(ht=te(De,ve,de)),e(ht!=null),ht.Qb&&(A[Ye]=ht.qb,wt=!0),!wt)if(we(Se),ht.jc){xt=Se,tn=A;var Ht=Ye,Rn=ht.pd[K(xt)&ac-1];e(ht.jc),256>Rn.g?(ce(xt,xt.u+Rn.g),tn[Ht]=Rn.value,xt=0):(ce(xt,xt.u+Rn.g-256),e(256<=Rn.value),xt=Rn.value),xt==0&&(wt=!0)}else xt=_r(ht.G[0],ht.H[0],Se);if(Se.h)break;if(wt||256>xt){if(!wt)if(ht.nd)A[Ye]=(ht.qb|xt<<8)>>>0;else{if(we(Se),wt=_r(ht.G[1],ht.H[1],Se),we(Se),tn=_r(ht.G[2],ht.H[2],Se),Ht=_r(ht.G[3],ht.H[3],Se),Se.h)break;A[Ye]=(Ht<<24|wt<<16|xt<<8|tn)>>>0}if(wt=!1,++Ye,++ve>=z&&(ve=0,++de,oe!=null&&de<=ie&&!(de%16)&&oe(_,de),ze!=null))for(;Te<Ye;)xt=A[Te++],ze.X[(506832829*xt&4294967295)>>>ze.Mb]=xt}else if(280>xt){if(xt=Ni(xt-256,Se),tn=_r(ht.G[4],ht.H[4],Se),we(Se),tn=Xi(z,tn=Ni(tn,Se)),Se.h)break;if(Ye-U<tn||ee-Ye<xt)break e;for(Ht=0;Ht<xt;++Ht)A[Ye+Ht]=A[Ye+Ht-tn];for(Ye+=xt,ve+=xt;ve>=z;)ve-=z,++de,oe!=null&&de<=ie&&!(de%16)&&oe(_,de);if(e(Ye<=ee),ve&st&&(ht=te(De,ve,de)),ze!=null)for(;Te<Ye;)xt=A[Te++],ze.X[(506832829*xt&4294967295)>>>ze.Mb]=xt}else{if(!(xt<qe))break e;for(wt=xt-280,e(ze!=null);Te<Ye;)xt=A[Te++],ze.X[(506832829*xt&4294967295)>>>ze.Mb]=xt;xt=Ye,e(!(wt>>>(tn=ze).Xa)),A[xt]=tn.X[wt],wt=!0}wt||e(Se.h==Q(Se))}if(_.Pb&&Se.h&&Ye<ee)e(_.m.h),_.a=5,_.m=_.wd,_.$=_.xd,0<_.s.ua&&lt(_.s.vb,_.s.Wa);else{if(Se.h)break e;oe?.(_,de>ie?ie:de),_.a=0,_.$=Ye-U}return 1}return _.a=3,0}function tt(_){e(_!=null),_.vc=null,_.yc=null,_.Ya=null;var A=_.Wa;A!=null&&(A.X=null),_.vb=null,e(_!=null)}function Ge(){var _=new vn;return _==null?null:(_.a=0,_.xb=zp,Lt("Predictor","VP8LPredictors"),Lt("Predictor","VP8LPredictors_C"),Lt("PredictorAdd","VP8LPredictorsAdd"),Lt("PredictorAdd","VP8LPredictorsAdd_C"),bi=an,zu=At,Gu=qn,Nl=$t,Il=Yt,Zo=hn,Xc=An,C.VP8LMapColor32b=Jo,C.VP8LMapColor8b=ps,_)}function We(_,A,U,z,ee){var ie=1,oe=[_],de=[A],ve=z.m,Se=z.s,De=null,Ye=0;e:for(;;){if(U)for(;ie&&ne(ve,1);){var Te=oe,Fe=de,qe=z,at=1,ze=qe.m,st=qe.gc[qe.ab],ht=ne(ze,2);if(qe.Oc&1<<ht)ie=0;else{switch(qe.Oc|=1<<ht,st.hc=ht,st.Ea=Te[0],st.nc=Fe[0],st.K=[null],++qe.ab,e(4>=qe.ab),ht){case 0:case 1:st.b=ne(ze,3)+2,at=We(rt(st.Ea,st.b),rt(st.nc,st.b),0,qe,st.K),st.K=st.K[0];break;case 3:var wt,xt=ne(ze,8)+1,tn=16<xt?0:4<xt?1:2<xt?2:3;if(Te[0]=rt(st.Ea,tn),st.b=tn,wt=at=We(xt,1,0,qe,st.K)){var Ht,Rn=xt,Xt=st,Xn=1<<(8>>Xt.b),Zr=s(Xn);if(Zr==null)wt=0;else{var Ln=Xt.K[0],zt=Xt.w;for(Zr[0]=Xt.K[0][0],Ht=1;Ht<1*Rn;++Ht)Zr[Ht]=St(Ln[zt+Ht],Zr[Ht-1]);for(;Ht<4*Xn;++Ht)Zr[Ht]=0;Xt.K[0]=null,Xt.K[0]=Zr,wt=1}}at=wt;break;case 2:break;default:e(0)}ie=at}}if(oe=oe[0],de=de[0],ie&&ne(ve,1)&&!(ie=1<=(Ye=ne(ve,4))&&11>=Ye)){z.a=3;break e}var Dt;if(Dt=ie)t:{var ii,Tn,Un,Ar=z,zi=oe,vs=de,Hr=Ye,ki=U,Ls=Ar.m,Ri=Ar.s,$n=[null],ur=1,si=0,yr=io[Hr];n:for(;;){if(ki&&ne(Ls,1)){var Gi=ne(Ls,3)+2,ai=rt(zi,Gi),fr=rt(vs,Gi),Si=ai*fr;if(!We(ai,fr,0,Ar,$n))break n;for($n=$n[0],Ri.xc=Gi,ii=0;ii<Si;++ii){var Cr=$n[ii]>>8&65535;$n[ii]=Cr,Cr>=ur&&(ur=Cr+1)}}if(Ls.h)break n;for(Tn=0;5>Tn;++Tn){var Pi=eu[Tn];!Tn&&0<Hr&&(Pi+=1<<Hr),si<Pi&&(si=Pi)}var Di=a(ur*yr,V),Dr=ur,ar=a(Dr,Ne);if(ar==null)var Fs=null;else e(65536>=Dr),Fs=ar;var di=s(si);if(Fs==null||di==null||Di==null){Ar.a=1;break n}var yn=Di;for(ii=Un=0;ii<ur;++ii){var _n=Fs[ii],hr=_n.G,ha=_n.H,lo=0,Qs=1,Mi=0;for(Tn=0;5>Tn;++Tn){Pi=eu[Tn],hr[Tn]=yn,ha[Tn]=Un,!Tn&&0<Hr&&(Pi+=1<<Hr);i:{var pc,mc=Pi,Bd=Ar,zr=di,$p=yn,Wp=Un,jd=0,Dl=Bd.m,w2=ne(Dl,1);if(i(zr,0,0,mc),w2){var Kp=ne(Dl,1)+1,Yp=ne(Dl,1),qd=ne(Dl,Yp==0?1:8);zr[qd]=1,Kp==2&&(zr[qd=ne(Dl,8)]=1);var es=1}else{var pi=s(19),xh=ne(Dl,4)+4;if(19<xh){Bd.a=3;var gc=0;break i}for(pc=0;pc<xh;++pc)pi[ph[pc]]=ne(Dl,3);var Qu=void 0,ru=void 0,nl=Bd,Hd=pi,Zu=mc,zd=zr,Gd=0,Ml=nl.m,Xp=8,Jp=a(128,V);r:for(;L(Jp,0,7,Hd,19);){if(ne(Ml,1)){var k1=2+2*ne(Ml,3);if((Qu=2+ne(Ml,k1))>Zu)break r}else Qu=Zu;for(ru=0;ru<Zu&&Qu--;){we(Ml);var Qp=Jp[0+(127&K(Ml))];ce(Ml,Ml.u+Qp.g);var xc=Qp.value;if(16>xc)zd[ru++]=xc,xc!=0&&(Xp=xc);else{var R1=xc==16,P1=xc-16,D1=Ku[P1],Zp=ne(Ml,no[P1])+D1;if(ru+Zp>Zu)break r;for(var M1=R1?Xp:0;0<Zp--;)zd[ru++]=M1}}Gd=1;break r}Gd||(nl.a=3),es=Gd}(es=es&&!Dl.h)&&(jd=L($p,Wp,8,zr,mc)),es&&jd!=0?gc=jd:(Bd.a=3,gc=0)}if(gc==0)break n;if(Qs&&Md[Tn]==1&&(Qs=yn[Un].g==0),lo+=yn[Un].g,Un+=gc,3>=Tn){var iu,$d=di[0];for(iu=1;iu<Pi;++iu)di[iu]>$d&&($d=di[iu]);Mi+=$d}}if(_n.nd=Qs,_n.Qb=0,Qs&&(_n.qb=(hr[3][ha[3]+0].value<<24|hr[1][ha[1]+0].value<<16|hr[2][ha[2]+0].value)>>>0,lo==0&&256>hr[0][ha[0]+0].value&&(_n.Qb=1,_n.qb+=hr[0][ha[0]+0].value<<8)),_n.jc=!_n.Qb&&6>Mi,_n.jc){var yh,rl=_n;for(yh=0;yh<ac;++yh){var Ll=yh,Fl=rl.pd[Ll],Wd=rl.G[0][rl.H[0]+Ll];256<=Wd.value?(Fl.g=Wd.g+256,Fl.value=Wd.value):(Fl.g=0,Fl.value=0,Ll>>=Ir(Wd,8,Fl),Ll>>=Ir(rl.G[1][rl.H[1]+Ll],16,Fl),Ll>>=Ir(rl.G[2][rl.H[2]+Ll],0,Fl),Ir(rl.G[3][rl.H[3]+Ll],24,Fl))}}}Ri.vc=$n,Ri.Wb=ur,Ri.Ya=Fs,Ri.yc=Di,Dt=1;break t}Dt=0}if(!(ie=Dt)){z.a=3;break e}if(0<Ye){if(Se.ua=1<<Ye,!re(Se.Wa,Ye)){z.a=1,ie=0;break e}}else Se.ua=0;var Kd=z,su=oe,L1=de,ef=Kd.s,tf=ef.xc;if(Kd.c=su,Kd.i=L1,ef.md=rt(su,tf),ef.wc=tf==0?-1:(1<<tf)-1,U){z.xb=cc;break e}if((De=s(oe*de))==null){z.a=1,ie=0;break e}ie=(ie=He(z,De,0,oe,de,de,null))&&!ve.h;break e}return ie?(ee!=null?ee[0]=De:(e(De==null),e(U)),z.$=0,U||tt(Se)):tt(Se),ie}function Ke(_,A){var U=_.c*_.i,z=U+A+16*A;return e(_.c<=A),_.V=s(z),_.V==null?(_.Ta=null,_.Ua=0,_.a=1,0):(_.Ta=_.V,_.Ua=_.Ba+U+A,1)}function vt(_,A){var U=_.C,z=A-U,ee=_.V,ie=_.Ba+_.c*U;for(e(A<=_.l.o);0<z;){var oe=16<z?16:z,de=_.l.ma,ve=_.l.width,Se=ve*oe,De=de.ca,Ye=de.tb+ve*U,Te=_.Ta,Fe=_.Ua;be(_,oe,ee,ie),Va(Te,Fe,De,Ye,Se),_e(de,U,U+oe,De,Ye,ve),z-=oe,ee+=oe*_.c,U+=oe}e(U==A),_.C=_.Ma=A}function bt(){this.ub=this.yd=this.td=this.Rb=0}function It(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function _t(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Ct(){this.Yb=(function(){var _=[];return(function A(U,z,ee){for(var ie=ee[z],oe=0;oe<ie&&(U.push(ee.length>z+1?[]:0),!(ee.length<z+1));oe++)A(U[oe],z+1,ee)})(_,0,[3,11]),_})()}function Gt(){this.jb=s(3),this.Wc=o([4,8],Ct),this.Xc=o([4,17],Ct)}function cr(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Bn(){this.ld=this.La=this.dd=this.tc=0}function gr(){this.Na=this.la=0}function ji(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function zs(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function la(){this.uc=this.M=this.Nb=0,this.wa=Array(new Bn),this.Y=0,this.ya=Array(new zs),this.aa=0,this.l=new Ji}function Is(){this.y=s(16),this.f=s(8),this.ea=s(8)}function wo(){this.cb=this.a=0,this.sc="",this.m=new M,this.Od=new bt,this.Kc=new It,this.ed=new cr,this.Qa=new _t,this.Ic=this.$c=this.Aa=0,this.D=new la,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,M),this.ia=0,this.pb=a(4,ji),this.Pa=new Gt,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Is),this.Hd=0,this.rb=Array(new gr),this.sb=0,this.wa=Array(new Bn),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new zs),this.L=this.aa=0,this.gd=o([4,2],Bn),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Xr(_,A){return 0>_?0:_>A?A:_}function Ji(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function ui(){var _=new wo;return _!=null&&(_.a=0,_.sc="OK",_.cb=0,_.Xb=0,Ua||(Ua=tr)),_}function Wn(_,A,U){return _.a==0&&(_.a=A,_.sc=U,_.cb=0),0}function bo(_,A,U){return 3<=U&&_[A+0]==157&&_[A+1]==1&&_[A+2]==42}function ca(_,A){if(_==null)return 0;if(_.a=0,_.sc="OK",A==null)return Wn(_,2,"null VP8Io passed to VP8GetHeaders()");var U=A.data,z=A.w,ee=A.ha;if(4>ee)return Wn(_,7,"Truncated header.");var ie=U[z+0]|U[z+1]<<8|U[z+2]<<16,oe=_.Od;if(oe.Rb=!(1&ie),oe.td=ie>>1&7,oe.yd=ie>>4&1,oe.ub=ie>>5,3<oe.td)return Wn(_,3,"Incorrect keyframe parameters.");if(!oe.yd)return Wn(_,4,"Frame not displayable.");z+=3,ee-=3;var de=_.Kc;if(oe.Rb){if(7>ee)return Wn(_,7,"cannot parse picture header");if(!bo(U,z,ee))return Wn(_,3,"Bad code word");de.c=16383&(U[z+4]<<8|U[z+3]),de.Td=U[z+4]>>6,de.i=16383&(U[z+6]<<8|U[z+5]),de.Ud=U[z+6]>>6,z+=7,ee-=7,_.za=de.c+15>>4,_.Ub=de.i+15>>4,A.width=de.c,A.height=de.i,A.Da=0,A.j=0,A.v=0,A.va=A.width,A.o=A.height,A.da=0,A.ib=A.width,A.hb=A.height,A.U=A.width,A.T=A.height,i((ie=_.Pa).jb,0,255,ie.jb.length),e((ie=_.Qa)!=null),ie.Cb=0,ie.Bb=0,ie.Fb=1,i(ie.Zb,0,0,ie.Zb.length),i(ie.Lb,0,0,ie.Lb)}if(oe.ub>ee)return Wn(_,7,"bad partition length");se(ie=_.m,U,z,oe.ub),z+=oe.ub,ee-=oe.ub,oe.Rb&&(de.Ld=fe(ie),de.Kd=fe(ie)),de=_.Qa;var ve,Se=_.Pa;if(e(ie!=null),e(de!=null),de.Cb=fe(ie),de.Cb){if(de.Bb=fe(ie),fe(ie)){for(de.Fb=fe(ie),ve=0;4>ve;++ve)de.Zb[ve]=fe(ie)?he(ie,7):0;for(ve=0;4>ve;++ve)de.Lb[ve]=fe(ie)?he(ie,6):0}if(de.Bb)for(ve=0;3>ve;++ve)Se.jb[ve]=fe(ie)?xe(ie,8):255}else de.Bb=0;if(ie.Ka)return Wn(_,3,"cannot parse segment header");if((de=_.ed).zd=fe(ie),de.Tb=xe(ie,6),de.wb=xe(ie,3),de.Pc=fe(ie),de.Pc&&fe(ie)){for(Se=0;4>Se;++Se)fe(ie)&&(de.vd[Se]=he(ie,6));for(Se=0;4>Se;++Se)fe(ie)&&(de.od[Se]=he(ie,6))}if(_.L=de.Tb==0?0:de.zd?1:2,ie.Ka)return Wn(_,3,"cannot parse filter header");var De=ee;if(ee=ve=z,z=ve+De,de=De,_.Xb=(1<<xe(_.m,2))-1,De<3*(Se=_.Xb))U=7;else{for(ve+=3*Se,de-=3*Se,De=0;De<Se;++De){var Ye=U[ee+0]|U[ee+1]<<8|U[ee+2]<<16;Ye>de&&(Ye=de),se(_.Jc[+De],U,ve,Ye),ve+=Ye,de-=Ye,ee+=3}se(_.Jc[+Se],U,ve,de),U=ve<z?0:5}if(U!=0)return Wn(_,U,"cannot parse partitions");for(U=xe(ve=_.m,7),ee=fe(ve)?he(ve,4):0,z=fe(ve)?he(ve,4):0,de=fe(ve)?he(ve,4):0,Se=fe(ve)?he(ve,4):0,ve=fe(ve)?he(ve,4):0,De=_.Qa,Ye=0;4>Ye;++Ye){if(De.Cb){var Te=De.Zb[Ye];De.Fb||(Te+=U)}else{if(0<Ye){_.pb[Ye]=_.pb[0];continue}Te=U}var Fe=_.pb[Ye];Fe.Sc[0]=so[Xr(Te+ee,127)],Fe.Sc[1]=ao[Xr(Te+0,127)],Fe.Eb[0]=2*so[Xr(Te+z,127)],Fe.Eb[1]=101581*ao[Xr(Te+de,127)]>>16,8>Fe.Eb[1]&&(Fe.Eb[1]=8),Fe.Qc[0]=so[Xr(Te+Se,117)],Fe.Qc[1]=ao[Xr(Te+ve,127)],Fe.lc=Te+ve}if(!oe.Rb)return Wn(_,4,"Not a key frame.");for(fe(ie),oe=_.Pa,U=0;4>U;++U){for(ee=0;8>ee;++ee)for(z=0;3>z;++z)for(de=0;11>de;++de)Se=Ae(ie,Qr[U][ee][z][de])?xe(ie,8):N1[U][ee][z][de],oe.Wc[U][ee].Yb[z][de]=Se;for(ee=0;17>ee;++ee)oe.Xc[U][ee]=oe.Wc[U][Jn[ee]]}return _.kc=fe(ie),_.kc&&(_.Bd=xe(ie,8)),_.cb=1}function tr(_,A,U,z,ee,ie,oe){var de=A[ee].Yb[U];for(U=0;16>ee;++ee){if(!Ae(_,de[U+0]))return ee;for(;!Ae(_,de[U+1]);)if(de=A[++ee].Yb[0],U=0,ee==16)return 16;var ve=A[ee+1].Yb;if(Ae(_,de[U+2])){var Se=_,De=0;if(Ae(Se,(Te=de)[(Ye=U)+3]))if(Ae(Se,Te[Ye+6])){for(de=0,Ye=2*(De=Ae(Se,Te[Ye+8]))+(Te=Ae(Se,Te[Ye+9+De])),De=0,Te=C1[Ye];Te[de];++de)De+=De+Ae(Se,Te[de]);De+=3+(8<<Ye)}else Ae(Se,Te[Ye+7])?(De=7+2*Ae(Se,165),De+=Ae(Se,145)):De=5+Ae(Se,159);else De=Ae(Se,Te[Ye+4])?3+Ae(Se,Te[Ye+5]):2;de=ve[2]}else De=1,de=ve[1];ve=oe+Hp[ee],0>(Se=_).b&&ke(Se);var Ye,Te=Se.b,Fe=(Ye=Se.Ca>>1)-(Se.I>>Te)>>31;--Se.b,Se.Ca+=Fe,Se.Ca|=1,Se.I-=(Ye+1&Fe)<<Te,ie[ve]=((De^Fe)-Fe)*z[(0<ee)+0]}return 16}function qo(_){var A=_.rb[_.sb-1];A.la=0,A.Na=0,i(_.zc,0,0,_.zc.length),_.ja=0}function _i(_,A,U,z,ee){ee=_[A+U+32*z]+(ee>>3),_[A+U+32*z]=-256&ee?0>ee?0:255:ee}function Jr(_,A,U,z,ee,ie){_i(_,A,0,U,z+ee),_i(_,A,1,U,z+ie),_i(_,A,2,U,z-ie),_i(_,A,3,U,z-ee)}function fi(_){return(20091*_>>16)+_}function vl(_,A,U,z){var ee,ie=0,oe=s(16);for(ee=0;4>ee;++ee){var de=_[A+0]+_[A+8],ve=_[A+0]-_[A+8],Se=(35468*_[A+4]>>16)-fi(_[A+12]),De=fi(_[A+4])+(35468*_[A+12]>>16);oe[ie+0]=de+De,oe[ie+1]=ve+Se,oe[ie+2]=ve-Se,oe[ie+3]=de-De,ie+=4,A++}for(ee=ie=0;4>ee;++ee)de=(_=oe[ie+0]+4)+oe[ie+8],ve=_-oe[ie+8],Se=(35468*oe[ie+4]>>16)-fi(oe[ie+12]),_i(U,z,0,0,de+(De=fi(oe[ie+4])+(35468*oe[ie+12]>>16))),_i(U,z,1,0,ve+Se),_i(U,z,2,0,ve-Se),_i(U,z,3,0,de-De),ie++,z+=32}function Bu(_,A,U,z){var ee=_[A+0]+4,ie=35468*_[A+4]>>16,oe=fi(_[A+4]),de=35468*_[A+1]>>16;Jr(U,z,0,ee+oe,_=fi(_[A+1]),de),Jr(U,z,1,ee+ie,_,de),Jr(U,z,2,ee-ie,_,de),Jr(U,z,3,ee-oe,_,de)}function zc(_,A,U,z,ee){vl(_,A,U,z),ee&&vl(_,A+16,U,z+4)}function fs(_,A,U,z){kl(_,A+0,U,z,1),kl(_,A+32,U,z+128,1)}function Gc(_,A,U,z){var ee;for(_=_[A+0]+4,ee=0;4>ee;++ee)for(A=0;4>A;++A)_i(U,z,A,ee,_)}function To(_,A,U,z){_[A+0]&&xr(_,A+0,U,z),_[A+16]&&xr(_,A+16,U,z+4),_[A+32]&&xr(_,A+32,U,z+128),_[A+48]&&xr(_,A+48,U,z+128+4)}function qi(_,A,U,z){var ee,ie=s(16);for(ee=0;4>ee;++ee){var oe=_[A+0+ee]+_[A+12+ee],de=_[A+4+ee]+_[A+8+ee],ve=_[A+4+ee]-_[A+8+ee],Se=_[A+0+ee]-_[A+12+ee];ie[0+ee]=oe+de,ie[8+ee]=oe-de,ie[4+ee]=Se+ve,ie[12+ee]=Se-ve}for(ee=0;4>ee;++ee)oe=(_=ie[0+4*ee]+3)+ie[3+4*ee],de=ie[1+4*ee]+ie[2+4*ee],ve=ie[1+4*ee]-ie[2+4*ee],Se=_-ie[3+4*ee],U[z+0]=oe+de>>3,U[z+16]=Se+ve>>3,U[z+32]=oe-de>>3,U[z+48]=Se-ve>>3,z+=64}function Ho(_,A,U){var z,ee=A-32,ie=Ds,oe=255-_[ee-1];for(z=0;z<U;++z){var de,ve=ie,Se=oe+_[A-1];for(de=0;de<U;++de)_[A+de]=ve[Se+_[ee+de]];A+=32}}function $c(_,A){Ho(_,A,4)}function Wc(_,A){Ho(_,A,8)}function tc(_,A){Ho(_,A,16)}function nc(_,A){var U;for(U=0;16>U;++U)r(_,A+32*U,_,A-32,16)}function Eo(_,A){var U;for(U=16;0<U;--U)i(_,A,_[A-1],16),A+=32}function ks(_,A,U){var z;for(z=0;16>z;++z)i(A,U+32*z,_,16)}function Pa(_,A){var U,z=16;for(U=0;16>U;++U)z+=_[A-1+32*U]+_[A+U-32];ks(z>>5,_,A)}function So(_,A){var U,z=8;for(U=0;16>U;++U)z+=_[A-1+32*U];ks(z>>4,_,A)}function Rs(_,A){var U,z=8;for(U=0;16>U;++U)z+=_[A+U-32];ks(z>>4,_,A)}function zo(_,A){ks(128,_,A)}function xn(_,A,U){return _+2*A+U+2>>2}function _l(_,A){var U,z=A-32;for(z=new Uint8Array([xn(_[z-1],_[z+0],_[z+1]),xn(_[z+0],_[z+1],_[z+2]),xn(_[z+1],_[z+2],_[z+3]),xn(_[z+2],_[z+3],_[z+4])]),U=0;4>U;++U)r(_,A+32*U,z,0,z.length)}function rc(_,A){var U=_[A-1],z=_[A-1+32],ee=_[A-1+64],ie=_[A-1+96];Ue(_,A+0,16843009*xn(_[A-1-32],U,z)),Ue(_,A+32,16843009*xn(U,z,ee)),Ue(_,A+64,16843009*xn(z,ee,ie)),Ue(_,A+96,16843009*xn(ee,ie,ie))}function Go(_,A){var U,z=4;for(U=0;4>U;++U)z+=_[A+U-32]+_[A-1+32*U];for(z>>=3,U=0;4>U;++U)i(_,A+32*U,z,4)}function Hi(_,A){var U=_[A-1+0],z=_[A-1+32],ee=_[A-1+64],ie=_[A-1-32],oe=_[A+0-32],de=_[A+1-32],ve=_[A+2-32],Se=_[A+3-32];_[A+0+96]=xn(z,ee,_[A-1+96]),_[A+1+96]=_[A+0+64]=xn(U,z,ee),_[A+2+96]=_[A+1+64]=_[A+0+32]=xn(ie,U,z),_[A+3+96]=_[A+2+64]=_[A+1+32]=_[A+0+0]=xn(oe,ie,U),_[A+3+64]=_[A+2+32]=_[A+1+0]=xn(de,oe,ie),_[A+3+32]=_[A+2+0]=xn(ve,de,oe),_[A+3+0]=xn(Se,ve,de)}function Ii(_,A){var U=_[A+1-32],z=_[A+2-32],ee=_[A+3-32],ie=_[A+4-32],oe=_[A+5-32],de=_[A+6-32],ve=_[A+7-32];_[A+0+0]=xn(_[A+0-32],U,z),_[A+1+0]=_[A+0+32]=xn(U,z,ee),_[A+2+0]=_[A+1+32]=_[A+0+64]=xn(z,ee,ie),_[A+3+0]=_[A+2+32]=_[A+1+64]=_[A+0+96]=xn(ee,ie,oe),_[A+3+32]=_[A+2+64]=_[A+1+96]=xn(ie,oe,de),_[A+3+64]=_[A+2+96]=xn(oe,de,ve),_[A+3+96]=xn(de,ve,ve)}function wl(_,A){var U=_[A-1+0],z=_[A-1+32],ee=_[A-1+64],ie=_[A-1-32],oe=_[A+0-32],de=_[A+1-32],ve=_[A+2-32],Se=_[A+3-32];_[A+0+0]=_[A+1+64]=ie+oe+1>>1,_[A+1+0]=_[A+2+64]=oe+de+1>>1,_[A+2+0]=_[A+3+64]=de+ve+1>>1,_[A+3+0]=ve+Se+1>>1,_[A+0+96]=xn(ee,z,U),_[A+0+64]=xn(z,U,ie),_[A+0+32]=_[A+1+96]=xn(U,ie,oe),_[A+1+32]=_[A+2+96]=xn(ie,oe,de),_[A+2+32]=_[A+3+96]=xn(oe,de,ve),_[A+3+32]=xn(de,ve,Se)}function wr(_,A){var U=_[A+0-32],z=_[A+1-32],ee=_[A+2-32],ie=_[A+3-32],oe=_[A+4-32],de=_[A+5-32],ve=_[A+6-32],Se=_[A+7-32];_[A+0+0]=U+z+1>>1,_[A+1+0]=_[A+0+64]=z+ee+1>>1,_[A+2+0]=_[A+1+64]=ee+ie+1>>1,_[A+3+0]=_[A+2+64]=ie+oe+1>>1,_[A+0+32]=xn(U,z,ee),_[A+1+32]=_[A+0+96]=xn(z,ee,ie),_[A+2+32]=_[A+1+96]=xn(ee,ie,oe),_[A+3+32]=_[A+2+96]=xn(ie,oe,de),_[A+3+64]=xn(oe,de,ve),_[A+3+96]=xn(de,ve,Se)}function Gs(_,A){var U=_[A-1+0],z=_[A-1+32],ee=_[A-1+64],ie=_[A-1+96];_[A+0+0]=U+z+1>>1,_[A+2+0]=_[A+0+32]=z+ee+1>>1,_[A+2+32]=_[A+0+64]=ee+ie+1>>1,_[A+1+0]=xn(U,z,ee),_[A+3+0]=_[A+1+32]=xn(z,ee,ie),_[A+3+32]=_[A+1+64]=xn(ee,ie,ie),_[A+3+64]=_[A+2+64]=_[A+0+96]=_[A+1+96]=_[A+2+96]=_[A+3+96]=ie}function bl(_,A){var U=_[A-1+0],z=_[A-1+32],ee=_[A-1+64],ie=_[A-1+96],oe=_[A-1-32],de=_[A+0-32],ve=_[A+1-32],Se=_[A+2-32];_[A+0+0]=_[A+2+32]=U+oe+1>>1,_[A+0+32]=_[A+2+64]=z+U+1>>1,_[A+0+64]=_[A+2+96]=ee+z+1>>1,_[A+0+96]=ie+ee+1>>1,_[A+3+0]=xn(de,ve,Se),_[A+2+0]=xn(oe,de,ve),_[A+1+0]=_[A+3+32]=xn(U,oe,de),_[A+1+32]=_[A+3+64]=xn(z,U,oe),_[A+1+64]=_[A+3+96]=xn(ee,z,U),_[A+1+96]=xn(ie,ee,z)}function Da(_,A){var U;for(U=0;8>U;++U)r(_,A+32*U,_,A-32,8)}function Kc(_,A){var U;for(U=0;8>U;++U)i(_,A,_[A-1],8),A+=32}function $s(_,A,U){var z;for(z=0;8>z;++z)i(A,U+32*z,_,8)}function Ao(_,A){var U,z=8;for(U=0;8>U;++U)z+=_[A+U-32]+_[A-1+32*U];$s(z>>4,_,A)}function Ws(_,A){var U,z=4;for(U=0;8>U;++U)z+=_[A+U-32];$s(z>>3,_,A)}function wi(_,A){var U,z=4;for(U=0;8>U;++U)z+=_[A-1+32*U];$s(z>>3,_,A)}function Ka(_,A){$s(128,_,A)}function Qi(_,A,U){var z=_[A-U],ee=_[A+0],ie=3*(ee-z)+Rl[1020+_[A-2*U]-_[A+U]],oe=fh[112+(ie+4>>3)];_[A-U]=Ds[255+z+fh[112+(ie+3>>3)]],_[A+0]=Ds[255+ee-oe]}function Ya(_,A,U,z){var ee=_[A+0],ie=_[A+U];return ms[255+_[A-2*U]-_[A-U]]>z||ms[255+ie-ee]>z}function $o(_,A,U,z){return 4*ms[255+_[A-U]-_[A+0]]+ms[255+_[A-2*U]-_[A+U]]<=z}function Xa(_,A,U,z,ee){var ie=_[A-3*U],oe=_[A-2*U],de=_[A-U],ve=_[A+0],Se=_[A+U],De=_[A+2*U],Ye=_[A+3*U];return 4*ms[255+de-ve]+ms[255+oe-Se]>z?0:ms[255+_[A-4*U]-ie]<=ee&&ms[255+ie-oe]<=ee&&ms[255+oe-de]<=ee&&ms[255+Ye-De]<=ee&&ms[255+De-Se]<=ee&&ms[255+Se-ve]<=ee}function Ja(_,A,U,z){var ee=2*z+1;for(z=0;16>z;++z)$o(_,A+z,U,ee)&&Qi(_,A+z,U)}function ua(_,A,U,z){var ee=2*z+1;for(z=0;16>z;++z)$o(_,A+z*U,1,ee)&&Qi(_,A+z*U,1)}function Tl(_,A,U,z){var ee;for(ee=3;0<ee;--ee)Ja(_,A+=4*U,U,z)}function ic(_,A,U,z){var ee;for(ee=3;0<ee;--ee)ua(_,A+=4,U,z)}function Ks(_,A,U,z,ee,ie,oe,de){for(ie=2*ie+1;0<ee--;){if(Xa(_,A,U,ie,oe))if(Ya(_,A,U,de))Qi(_,A,U);else{var ve=_,Se=A,De=U,Ye=ve[Se-2*De],Te=ve[Se-De],Fe=ve[Se+0],qe=ve[Se+De],at=ve[Se+2*De],ze=27*(ht=Rl[1020+3*(Fe-Te)+Rl[1020+Ye-qe]])+63>>7,st=18*ht+63>>7,ht=9*ht+63>>7;ve[Se-3*De]=Ds[255+ve[Se-3*De]+ht],ve[Se-2*De]=Ds[255+Ye+st],ve[Se-De]=Ds[255+Te+ze],ve[Se+0]=Ds[255+Fe-ze],ve[Se+De]=Ds[255+qe-st],ve[Se+2*De]=Ds[255+at-ht]}A+=z}}function Qa(_,A,U,z,ee,ie,oe,de){for(ie=2*ie+1;0<ee--;){if(Xa(_,A,U,ie,oe))if(Ya(_,A,U,de))Qi(_,A,U);else{var ve=_,Se=A,De=U,Ye=ve[Se-De],Te=ve[Se+0],Fe=ve[Se+De],qe=fh[112+(4+(at=3*(Te-Ye))>>3)],at=fh[112+(at+3>>3)],ze=qe+1>>1;ve[Se-2*De]=Ds[255+ve[Se-2*De]+ze],ve[Se-De]=Ds[255+Ye+at],ve[Se+0]=Ds[255+Te-qe],ve[Se+De]=Ds[255+Fe-ze]}A+=z}}function Yc(_,A,U,z,ee,ie){Ks(_,A,U,1,16,z,ee,ie)}function Ma(_,A,U,z,ee,ie){Ks(_,A,1,U,16,z,ee,ie)}function sc(_,A,U,z,ee,ie){var oe;for(oe=3;0<oe;--oe)Qa(_,A+=4*U,U,1,16,z,ee,ie)}function D(_,A,U,z,ee,ie){var oe;for(oe=3;0<oe;--oe)Qa(_,A+=4,1,U,16,z,ee,ie)}function Z(_,A,U,z,ee,ie,oe,de){Ks(_,A,ee,1,8,ie,oe,de),Ks(U,z,ee,1,8,ie,oe,de)}function Ee(_,A,U,z,ee,ie,oe,de){Ks(_,A,1,ee,8,ie,oe,de),Ks(U,z,1,ee,8,ie,oe,de)}function Pe(_,A,U,z,ee,ie,oe,de){Qa(_,A+4*ee,ee,1,8,ie,oe,de),Qa(U,z+4*ee,ee,1,8,ie,oe,de)}function Ve(_,A,U,z,ee,ie,oe,de){Qa(_,A+4,1,ee,8,ie,oe,de),Qa(U,z+4,1,ee,8,ie,oe,de)}function ct(){this.ba=new Wt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new gn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function yt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Kt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function en(){this.ua=0,this.Wa=new ft,this.vb=new ft,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Ne,this.yc=new V}function vn(){this.xb=this.a=0,this.l=new Ji,this.ca=new Wt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new W,this.Pb=0,this.wd=new W,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new en,this.ab=0,this.gc=a(4,Kt),this.Oc=0}function dn(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ji,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Yn(_,A,U,z,ee,ie,oe){for(_=_==null?0:_[A+0],A=0;A<oe;++A)ee[ie+A]=_+U[z+A]&255,_=ee[ie+A]}function Br(_,A,U,z,ee,ie,oe){var de;if(_==null)Yn(null,null,U,z,ee,ie,oe);else for(de=0;de<oe;++de)ee[ie+de]=_[A+de]+U[z+de]&255}function kr(_,A,U,z,ee,ie,oe){if(_==null)Yn(null,null,U,z,ee,ie,oe);else{var de,ve=_[A+0],Se=ve,De=ve;for(de=0;de<oe;++de)Se=De+(ve=_[A+de])-Se,De=U[z+de]+(-256&Se?0>Se?0:255:Se)&255,Se=ve,ee[ie+de]=De}}function w(_,A,U,z){var ee=A.width,ie=A.o;if(e(_!=null&&A!=null),0>U||0>=z||U+z>ie)return null;if(!_.Cc){if(_.ga==null){var oe;if(_.ga=new dn,(oe=_.ga==null)||(oe=A.width*A.o,e(_.Gb.length==0),_.Gb=s(oe),_.Uc=0,_.Gb==null?oe=0:(_.mb=_.Gb,_.nb=_.Uc,_.rc=null,oe=1),oe=!oe),!oe){oe=_.ga;var de=_.Fa,ve=_.P,Se=_.qc,De=_.mb,Ye=_.nb,Te=ve+1,Fe=Se-1,qe=oe.l;if(e(de!=null&&De!=null&&A!=null),Pl[0]=null,Pl[1]=Yn,Pl[2]=Br,Pl[3]=kr,oe.ca=De,oe.tb=Ye,oe.c=A.width,oe.i=A.height,e(0<oe.c&&0<oe.i),1>=Se)A=0;else if(oe.$a=3&de[ve+0],oe.Z=de[ve+0]>>2&3,oe.Lc=de[ve+0]>>4&3,ve=de[ve+0]>>6&3,0>oe.$a||1<oe.$a||4<=oe.Z||1<oe.Lc||ve)A=0;else if(qe.put=Mt,qe.ac=ri,qe.bc=Ra,qe.ma=oe,qe.width=A.width,qe.height=A.height,qe.Da=A.Da,qe.v=A.v,qe.va=A.va,qe.j=A.j,qe.o=A.o,oe.$a)e:{e(oe.$a==1),A=Ge();t:for(;;){if(A==null){A=0;break e}if(e(oe!=null),oe.mc=A,A.c=oe.c,A.i=oe.i,A.l=oe.l,A.l.ma=oe,A.l.width=oe.c,A.l.height=oe.i,A.a=0,ue(A.m,de,Te,Fe),!We(oe.c,oe.i,1,A,null)||(A.ab==1&&A.gc[0].hc==3&&ye(A.s)?(oe.ic=1,de=A.c*A.i,A.Ta=null,A.Ua=0,A.V=s(de),A.Ba=0,A.V==null?(A.a=1,A=0):A=1):(oe.ic=0,A=Ke(A,oe.c)),!A))break t;A=1;break e}oe.mc=null,A=0}else A=Fe>=oe.c*oe.i;oe=!A}if(oe)return null;_.ga.Lc!=1?_.Ga=0:z=ie-U}e(_.ga!=null),e(U+z<=ie);e:{if(A=(de=_.ga).c,ie=de.l.o,de.$a==0){if(Te=_.rc,Fe=_.Vc,qe=_.Fa,ve=_.P+1+U*A,Se=_.mb,De=_.nb+U*A,e(ve<=_.P+_.qc),de.Z!=0)for(e(Pl[de.Z]!=null),oe=0;oe<z;++oe)Pl[de.Z](Te,Fe,qe,ve,Se,De,A),Te=Se,Fe=De,De+=A,ve+=A;else for(oe=0;oe<z;++oe)r(Se,De,qe,ve,A),Te=Se,Fe=De,De+=A,ve+=A;_.rc=Te,_.Vc=Fe}else{if(e(de.mc!=null),A=U+z,e((oe=de.mc)!=null),e(A<=oe.i),oe.C>=A)A=1;else if(de.ic||Qe(),de.ic){de=oe.V,Te=oe.Ba,Fe=oe.c;var at=oe.i,ze=(qe=1,ve=oe.$/Fe,Se=oe.$%Fe,De=oe.m,Ye=oe.s,oe.$),st=Fe*at,ht=Fe*A,wt=Ye.wc,xt=ze<ht?te(Ye,Se,ve):null;e(ze<=st),e(A<=at),e(ye(Ye));t:for(;;){for(;!De.h&&ze<ht;){if(Se&wt||(xt=te(Ye,Se,ve)),e(xt!=null),we(De),256>(at=_r(xt.G[0],xt.H[0],De)))de[Te+ze]=at,++ze,++Se>=Fe&&(Se=0,++ve<=A&&!(ve%16)&&Ce(oe,ve));else{if(!(280>at)){qe=0;break t}at=Ni(at-256,De);var tn,Ht=_r(xt.G[4],xt.H[4],De);if(we(De),!(ze>=(Ht=Xi(Fe,Ht=Ni(Ht,De)))&&st-ze>=at)){qe=0;break t}for(tn=0;tn<at;++tn)de[Te+ze+tn]=de[Te+ze+tn-Ht];for(ze+=at,Se+=at;Se>=Fe;)Se-=Fe,++ve<=A&&!(ve%16)&&Ce(oe,ve);ze<ht&&Se&wt&&(xt=te(Ye,Se,ve))}e(De.h==Q(De))}Ce(oe,ve>A?A:ve);break t}!qe||De.h&&ze<st?(qe=0,oe.a=De.h?5:3):oe.$=ze,A=qe}else A=He(oe,oe.V,oe.Ba,oe.c,oe.i,A,vt);if(!A){z=0;break e}}U+z>=ie&&(_.Cc=1),z=1}if(!z)return null;if(_.Cc&&((z=_.ga)!=null&&(z.mc=null),_.ga=null,0<_.Ga))return alert("todo:WebPDequantizeLevels"),null}return _.nb+U*ee}function j(_,A,U,z,ee,ie){for(;0<ee--;){var oe,de=_,ve=A+(U?1:0),Se=_,De=A+(U?0:3);for(oe=0;oe<z;++oe){var Ye=Se[De+4*oe];Ye!=255&&(Ye*=32897,de[ve+4*oe+0]=de[ve+4*oe+0]*Ye>>23,de[ve+4*oe+1]=de[ve+4*oe+1]*Ye>>23,de[ve+4*oe+2]=de[ve+4*oe+2]*Ye>>23)}A+=ie}}function X(_,A,U,z,ee){for(;0<z--;){var ie;for(ie=0;ie<U;++ie){var oe=_[A+2*ie+0],de=15&(Se=_[A+2*ie+1]),ve=4369*de,Se=(240&Se|Se>>4)*ve>>16;_[A+2*ie+0]=(240&oe|oe>>4)*ve>>16&240|(15&oe|oe<<4)*ve>>16>>4&15,_[A+2*ie+1]=240&Se|de}A+=ee}}function pe(_,A,U,z,ee,ie,oe,de){var ve,Se,De=255;for(Se=0;Se<ee;++Se){for(ve=0;ve<z;++ve){var Ye=_[A+ve];ie[oe+4*ve]=Ye,De&=Ye}A+=U,oe+=de}return De!=255}function je(_,A,U,z,ee){var ie;for(ie=0;ie<ee;++ie)U[z+ie]=_[A+ie]>>8}function Qe(){Qc=j,eo=X,lh=pe,Va=je}function Et(_,A,U){C[_]=function(z,ee,ie,oe,de,ve,Se,De,Ye,Te,Fe,qe,at,ze,st,ht,wt){var xt,tn=wt-1>>1,Ht=de[ve+0]|Se[De+0]<<16,Rn=Ye[Te+0]|Fe[qe+0]<<16;e(z!=null);var Xt=3*Ht+Rn+131074>>2;for(A(z[ee+0],255&Xt,Xt>>16,at,ze),ie!=null&&(Xt=3*Rn+Ht+131074>>2,A(ie[oe+0],255&Xt,Xt>>16,st,ht)),xt=1;xt<=tn;++xt){var Xn=de[ve+xt]|Se[De+xt]<<16,Zr=Ye[Te+xt]|Fe[qe+xt]<<16,Ln=Ht+Xn+Rn+Zr+524296,zt=Ln+2*(Xn+Rn)>>3;Xt=zt+Ht>>1,Ht=(Ln=Ln+2*(Ht+Zr)>>3)+Xn>>1,A(z[ee+2*xt-1],255&Xt,Xt>>16,at,ze+(2*xt-1)*U),A(z[ee+2*xt-0],255&Ht,Ht>>16,at,ze+(2*xt-0)*U),ie!=null&&(Xt=Ln+Rn>>1,Ht=zt+Zr>>1,A(ie[oe+2*xt-1],255&Xt,Xt>>16,st,ht+(2*xt-1)*U),A(ie[oe+2*xt+0],255&Ht,Ht>>16,st,ht+(2*xt+0)*U)),Ht=Xn,Rn=Zr}1&wt||(Xt=3*Ht+Rn+131074>>2,A(z[ee+wt-1],255&Xt,Xt>>16,at,ze+(wt-1)*U),ie!=null&&(Xt=3*Rn+Ht+131074>>2,A(ie[oe+wt-1],255&Xt,Xt>>16,st,ht+(wt-1)*U)))}}function Nn(){xs[kd]=tu,xs[Ms]=Yu,xs[Rd]=Gp,xs[to]=Fd,xs[hh]=uc,xs[$u]=tl,xs[oc]=fc,xs[dh]=Yu,xs[Pd]=Fd,xs[Wu]=uc,xs[Dd]=tl}function jr(_){return _&-16384?0>_?0:255:_>>Od}function Gn(_,A){return jr((19077*_>>8)+(26149*A>>8)-14234)}function br(_,A,U){return jr((19077*_>>8)-(6419*A>>8)-(13320*U>>8)+8708)}function Zi(_,A){return jr((19077*_>>8)+(33050*A>>8)-17685)}function hs(_,A,U,z,ee){z[ee+0]=Gn(_,U),z[ee+1]=br(_,A,U),z[ee+2]=Zi(_,A)}function Pr(_,A,U,z,ee){z[ee+0]=Zi(_,A),z[ee+1]=br(_,A,U),z[ee+2]=Gn(_,U)}function ds(_,A,U,z,ee){var ie=br(_,A,U);A=ie<<3&224|Zi(_,A)>>3,z[ee+0]=248&Gn(_,U)|ie>>5,z[ee+1]=A}function La(_,A,U,z,ee){var ie=240&Zi(_,A)|15;z[ee+0]=240&Gn(_,U)|br(_,A,U)>>4,z[ee+1]=ie}function Wo(_,A,U,z,ee){z[ee+0]=255,hs(_,A,U,z,ee+1)}function Ko(_,A,U,z,ee){Pr(_,A,U,z,ee),z[ee+3]=255}function Ys(_,A,U,z,ee){hs(_,A,U,z,ee),z[ee+3]=255}function El(_,A,U){C[_]=function(z,ee,ie,oe,de,ve,Se,De,Ye){for(var Te=De+(-2&Ye)*U;De!=Te;)A(z[ee+0],ie[oe+0],de[ve+0],Se,De),A(z[ee+1],ie[oe+0],de[ve+0],Se,De+U),ee+=2,++oe,++ve,De+=2*U;1&Ye&&A(z[ee+0],ie[oe+0],de[ve+0],Se,De)}}function ju(_,A,U){return U==0?_==0?A==0?6:5:A==0?4:0:U}function sh(_,A,U,z,ee){switch(_>>>30){case 3:kl(A,U,z,ee,0);break;case 2:Ps(A,U,z,ee);break;case 1:xr(A,U,z,ee)}}function Fa(_,A){var U,z,ee=A.M,ie=A.Nb,oe=_.oc,de=_.pc+40,ve=_.oc,Se=_.pc+584,De=_.oc,Ye=_.pc+600;for(U=0;16>U;++U)oe[de+32*U-1]=129;for(U=0;8>U;++U)ve[Se+32*U-1]=129,De[Ye+32*U-1]=129;for(0<ee?oe[de-1-32]=ve[Se-1-32]=De[Ye-1-32]=129:(i(oe,de-32-1,127,21),i(ve,Se-32-1,127,9),i(De,Ye-32-1,127,9)),z=0;z<_.za;++z){var Te=A.ya[A.aa+z];if(0<z){for(U=-1;16>U;++U)r(oe,de+32*U-4,oe,de+32*U+12,4);for(U=-1;8>U;++U)r(ve,Se+32*U-4,ve,Se+32*U+4,4),r(De,Ye+32*U-4,De,Ye+32*U+4,4)}var Fe=_.Gd,qe=_.Hd+z,at=Te.ad,ze=Te.Hc;if(0<ee&&(r(oe,de-32,Fe[qe].y,0,16),r(ve,Se-32,Fe[qe].f,0,8),r(De,Ye-32,Fe[qe].ea,0,8)),Te.Za){var st=oe,ht=de-32+16;for(0<ee&&(z>=_.za-1?i(st,ht,Fe[qe].y[15],4):r(st,ht,Fe[qe+1].y,0,4)),U=0;4>U;U++)st[ht+128+U]=st[ht+256+U]=st[ht+384+U]=st[ht+0+U];for(U=0;16>U;++U,ze<<=2)st=oe,ht=de+Ei[U],hi[Te.Ob[U]](st,ht),sh(ze,at,16*+U,st,ht)}else if(st=ju(z,ee,Te.Ob[0]),Js[st](oe,de),ze!=0)for(U=0;16>U;++U,ze<<=2)sh(ze,at,16*+U,oe,de+Ei[U]);for(U=Te.Gc,st=ju(z,ee,Te.Dd),ko[st](ve,Se),ko[st](De,Ye),ze=at,st=ve,ht=Se,255&(Te=0|U)&&(170&Te?Za(ze,256,st,ht):sr(ze,256,st,ht)),Te=De,ze=Ye,255&(U>>=8)&&(170&U?Za(at,320,Te,ze):sr(at,320,Te,ze)),ee<_.Ub-1&&(r(Fe[qe].y,0,oe,de+480,16),r(Fe[qe].f,0,ve,Se+224,8),r(Fe[qe].ea,0,De,Ye+224,8)),U=8*ie*_.B,Fe=_.sa,qe=_.ta+16*z+16*ie*_.R,at=_.qa,Te=_.ra+8*z+U,ze=_.Ha,st=_.Ia+8*z+U,U=0;16>U;++U)r(Fe,qe+U*_.R,oe,de+32*U,16);for(U=0;8>U;++U)r(at,Te+U*_.B,ve,Se+32*U,8),r(ze,st+U*_.B,De,Ye+32*U,8)}}function Co(_,A,U,z,ee,ie,oe,de,ve){var Se=[0],De=[0],Ye=0,Te=ve!=null?ve.kd:0,Fe=ve??new yt;if(_==null||12>U)return 7;Fe.data=_,Fe.w=A,Fe.ha=U,A=[A],U=[U],Fe.gb=[Fe.gb];e:{var qe=A,at=U,ze=Fe.gb;if(e(_!=null),e(at!=null),e(ze!=null),ze[0]=0,12<=at[0]&&!n(_,qe[0],"RIFF")){if(n(_,qe[0]+8,"WEBP")){ze=3;break e}var st=dt(_,qe[0]+4);if(12>st||4294967286<st){ze=3;break e}if(Te&&st>at[0]-8){ze=7;break e}ze[0]=st,qe[0]+=12,at[0]-=12}ze=0}if(ze!=0)return ze;for(st=0<Fe.gb[0],U=U[0];;){e:{var ht=_;at=A,ze=U;var wt=Se,xt=De,tn=qe=[0];if((Xt=Ye=[Ye])[0]=0,8>ze[0])ze=7;else{if(!n(ht,at[0],"VP8X")){if(dt(ht,at[0]+4)!=10){ze=3;break e}if(18>ze[0]){ze=7;break e}var Ht=dt(ht,at[0]+8),Rn=1+it(ht,at[0]+12);if(2147483648<=Rn*(ht=1+it(ht,at[0]+15))){ze=3;break e}tn!=null&&(tn[0]=Ht),wt!=null&&(wt[0]=Rn),xt!=null&&(xt[0]=ht),at[0]+=18,ze[0]-=18,Xt[0]=1}ze=0}}if(Ye=Ye[0],qe=qe[0],ze!=0)return ze;if(at=!!(2&qe),!st&&Ye)return 3;if(ie!=null&&(ie[0]=!!(16&qe)),oe!=null&&(oe[0]=at),de!=null&&(de[0]=0),oe=Se[0],qe=De[0],Ye&&at&&ve==null){ze=0;break}if(4>U){ze=7;break}if(st&&Ye||!st&&!Ye&&!n(_,A[0],"ALPH")){U=[U],Fe.na=[Fe.na],Fe.P=[Fe.P],Fe.Sa=[Fe.Sa];e:{Ht=_,ze=A,st=U;var Xt=Fe.gb;wt=Fe.na,xt=Fe.P,tn=Fe.Sa,Rn=22,e(Ht!=null),e(st!=null),ht=ze[0];var Xn=st[0];for(e(wt!=null),e(tn!=null),wt[0]=null,xt[0]=null,tn[0]=0;;){if(ze[0]=ht,st[0]=Xn,8>Xn){ze=7;break e}var Zr=dt(Ht,ht+4);if(4294967286<Zr){ze=3;break e}var Ln=8+Zr+1&-2;if(Rn+=Ln,0<Xt&&Rn>Xt){ze=3;break e}if(!n(Ht,ht,"VP8 ")||!n(Ht,ht,"VP8L")){ze=0;break e}if(Xn[0]<Ln){ze=7;break e}n(Ht,ht,"ALPH")||(wt[0]=Ht,xt[0]=ht+8,tn[0]=Zr),ht+=Ln,Xn-=Ln}}if(U=U[0],Fe.na=Fe.na[0],Fe.P=Fe.P[0],Fe.Sa=Fe.Sa[0],ze!=0)break}U=[U],Fe.Ja=[Fe.Ja],Fe.xa=[Fe.xa];e:if(Xt=_,ze=A,st=U,wt=Fe.gb[0],xt=Fe.Ja,tn=Fe.xa,Ht=ze[0],ht=!n(Xt,Ht,"VP8 "),Rn=!n(Xt,Ht,"VP8L"),e(Xt!=null),e(st!=null),e(xt!=null),e(tn!=null),8>st[0])ze=7;else{if(ht||Rn){if(Xt=dt(Xt,Ht+4),12<=wt&&Xt>wt-12){ze=3;break e}if(Te&&Xt>st[0]-8){ze=7;break e}xt[0]=Xt,ze[0]+=8,st[0]-=8,tn[0]=Rn}else tn[0]=5<=st[0]&&Xt[Ht+0]==47&&!(Xt[Ht+4]>>5),xt[0]=st[0];ze=0}if(U=U[0],Fe.Ja=Fe.Ja[0],Fe.xa=Fe.xa[0],A=A[0],ze!=0)break;if(4294967286<Fe.Ja)return 3;if(de==null||at||(de[0]=Fe.xa?2:1),oe=[oe],qe=[qe],Fe.xa){if(5>U){ze=7;break}de=oe,Te=qe,at=ie,_==null||5>U?_=0:5<=U&&_[A+0]==47&&!(_[A+4]>>5)?(st=[0],Xt=[0],wt=[0],ue(xt=new W,_,A,U),us(xt,st,Xt,wt)?(de!=null&&(de[0]=st[0]),Te!=null&&(Te[0]=Xt[0]),at!=null&&(at[0]=wt[0]),_=1):_=0):_=0}else{if(10>U){ze=7;break}de=qe,_==null||10>U||!bo(_,A+3,U-3)?_=0:(Te=_[A+0]|_[A+1]<<8|_[A+2]<<16,at=16383&(_[A+7]<<8|_[A+6]),_=16383&(_[A+9]<<8|_[A+8]),1&Te||3<(Te>>1&7)||!(Te>>4&1)||Te>>5>=Fe.Ja||!at||!_?_=0:(oe&&(oe[0]=at),de&&(de[0]=_),_=1))}if(!_||(oe=oe[0],qe=qe[0],Ye&&(Se[0]!=oe||De[0]!=qe)))return 3;ve!=null&&(ve[0]=Fe,ve.offset=A-ve.w,e(4294967286>A-ve.w),e(ve.offset==ve.ha-U));break}return ze==0||ze==7&&Ye&&ve==null?(ie!=null&&(ie[0]|=Fe.na!=null&&0<Fe.na.length),z!=null&&(z[0]=oe),ee!=null&&(ee[0]=qe),0):ze}function Sl(_,A,U){var z=A.width,ee=A.height,ie=0,oe=0,de=z,ve=ee;if(A.Da=_!=null&&0<_.Da,A.Da&&(de=_.cd,ve=_.bd,ie=_.v,oe=_.j,11>U||(ie&=-2,oe&=-2),0>ie||0>oe||0>=de||0>=ve||ie+de>z||oe+ve>ee))return 0;if(A.v=ie,A.j=oe,A.va=ie+de,A.o=oe+ve,A.U=de,A.T=ve,A.da=_!=null&&0<_.da,A.da){if(!kt(de,ve,U=[_.ib],ie=[_.hb]))return 0;A.ib=U[0],A.hb=ie[0]}return A.ob=_!=null&&_.ob,A.Kb=_==null||!_.Sd,A.da&&(A.ob=A.ib<3*z/4&&A.hb<3*ee/4,A.Kb=0),1}function ah(_){if(_==null)return 2;if(11>_.S){var A=_.f.RGBA;A.fb+=(_.height-1)*A.A,A.A=-A.A}else A=_.f.kb,_=_.height,A.O+=(_-1)*A.fa,A.fa=-A.fa,A.N+=(_-1>>1)*A.Ab,A.Ab=-A.Ab,A.W+=(_-1>>1)*A.Db,A.Db=-A.Db,A.F!=null&&(A.J+=(_-1)*A.lb,A.lb=-A.lb);return 0}function No(_,A,U,z){if(z==null||0>=_||0>=A)return 2;if(U!=null){if(U.Da){var ee=U.cd,ie=U.bd,oe=-2&U.v,de=-2&U.j;if(0>oe||0>de||0>=ee||0>=ie||oe+ee>_||de+ie>A)return 2;_=ee,A=ie}if(U.da){if(!kt(_,A,ee=[U.ib],ie=[U.hb]))return 2;_=ee[0],A=ie[0]}}z.width=_,z.height=A;e:{var ve=z.width,Se=z.height;if(_=z.S,0>=ve||0>=Se||!(_>=kd&&13>_))_=2;else{if(0>=z.Rd&&z.sd==null){oe=ie=ee=A=0;var De=(de=ve*Ud[_])*Se;if(11>_||(ie=(Se+1)/2*(A=(ve+1)/2),_==12&&(oe=(ee=ve)*Se)),(Se=s(De+2*ie+oe))==null){_=1;break e}z.sd=Se,11>_?((ve=z.f.RGBA).eb=Se,ve.fb=0,ve.A=de,ve.size=De):((ve=z.f.kb).y=Se,ve.O=0,ve.fa=de,ve.Fd=De,ve.f=Se,ve.N=0+De,ve.Ab=A,ve.Cd=ie,ve.ea=Se,ve.W=0+De+ie,ve.Db=A,ve.Ed=ie,_==12&&(ve.F=Se,ve.J=0+De+2*ie),ve.Tc=oe,ve.lb=ee)}if(A=1,ee=z.S,ie=z.width,oe=z.height,ee>=kd&&13>ee)if(11>ee)_=z.f.RGBA,A&=(de=Math.abs(_.A))*(oe-1)+ie<=_.size,A&=de>=ie*Ud[ee],A&=_.eb!=null;else{_=z.f.kb,de=(ie+1)/2,De=(oe+1)/2,ve=Math.abs(_.fa),Se=Math.abs(_.Ab);var Ye=Math.abs(_.Db),Te=Math.abs(_.lb),Fe=Te*(oe-1)+ie;A&=ve*(oe-1)+ie<=_.Fd,A&=Se*(De-1)+de<=_.Cd,A=(A&=Ye*(De-1)+de<=_.Ed)&ve>=ie&Se>=de&Ye>=de,A&=_.y!=null,A&=_.f!=null,A&=_.ea!=null,ee==12&&(A&=Te>=ie,A&=Fe<=_.Tc,A&=_.F!=null)}else A=0;_=A?0:2}}return _!=0||U!=null&&U.fd&&(_=ah(z)),_}var ac=64,fa=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Xs=24,Yo=32,Xo=8,Al=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Nt("Predictor0","PredictorAdd0"),C.Predictor0=function(){return 4278190080},C.Predictor1=function(_){return _},C.Predictor2=function(_,A,U){return A[U+0]},C.Predictor3=function(_,A,U){return A[U+1]},C.Predictor4=function(_,A,U){return A[U-1]},C.Predictor5=function(_,A,U){return qt(qt(_,A[U+1]),A[U+0])},C.Predictor6=function(_,A,U){return qt(_,A[U-1])},C.Predictor7=function(_,A,U){return qt(_,A[U+0])},C.Predictor8=function(_,A,U){return qt(A[U-1],A[U+0])},C.Predictor9=function(_,A,U){return qt(A[U+0],A[U+1])},C.Predictor10=function(_,A,U){return qt(qt(_,A[U-1]),qt(A[U+0],A[U+1]))},C.Predictor11=function(_,A,U){var z=A[U+0];return 0>=ln(z>>24&255,_>>24&255,(A=A[U-1])>>24&255)+ln(z>>16&255,_>>16&255,A>>16&255)+ln(z>>8&255,_>>8&255,A>>8&255)+ln(255&z,255&_,255&A)?z:_},C.Predictor12=function(_,A,U){var z=A[U+0];return(sn((_>>24&255)+(z>>24&255)-((A=A[U-1])>>24&255))<<24|sn((_>>16&255)+(z>>16&255)-(A>>16&255))<<16|sn((_>>8&255)+(z>>8&255)-(A>>8&255))<<8|sn((255&_)+(255&z)-(255&A)))>>>0},C.Predictor13=function(_,A,U){var z=A[U-1];return(mn((_=qt(_,A[U+0]))>>24&255,z>>24&255)<<24|mn(_>>16&255,z>>16&255)<<16|mn(_>>8&255,z>>8&255)<<8|mn(255&_,255&z))>>>0};var qu=C.PredictorAdd0;C.PredictorAdd1=En,Nt("Predictor2","PredictorAdd2"),Nt("Predictor3","PredictorAdd3"),Nt("Predictor4","PredictorAdd4"),Nt("Predictor5","PredictorAdd5"),Nt("Predictor6","PredictorAdd6"),Nt("Predictor7","PredictorAdd7"),Nt("Predictor8","PredictorAdd8"),Nt("Predictor9","PredictorAdd9"),Nt("Predictor10","PredictorAdd10"),Nt("Predictor11","PredictorAdd11"),Nt("Predictor12","PredictorAdd12"),Nt("Predictor13","PredictorAdd13");var Hu=C.PredictorAdd2;Rt("ColorIndexInverseTransform","MapARGB","32b",function(_){return _>>8&255},function(_){return _}),Rt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(_){return _},function(_){return _>>8&255});var bi,Cd=C.ColorIndexInverseTransform,Jo=C.MapARGB,Qo=C.VP8LColorIndexInverseTransformAlpha,ps=C.MapAlpha,Cl=C.VP8LPredictorsAdd=[];Cl.length=16,(C.VP8LPredictors=[]).length=16,(C.VP8LPredictorsAdd_C=[]).length=16,(C.VP8LPredictors_C=[]).length=16;var zu,Gu,Nl,Il,Zo,Xc,Oa,kl,Ps,Za,xr,sr,qr,Ti,el,Io,Jc,oh,Bp,E1,S1,A1,jp,qp,Qc,eo,lh,Va,Zc=s(511),Nd=s(2041),ch=s(225),uh=s(767),Id=0,Rl=Nd,fh=ch,Ds=uh,ms=Zc,kd=0,Ms=1,Rd=2,to=3,hh=4,$u=5,oc=6,dh=7,Pd=8,Wu=9,Dd=10,no=[2,3,7],Ku=[3,3,11],eu=[280,256,256,256,40],Md=[0,1,1,1,0],ph=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],ro=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],io=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],lc=8,so=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],ao=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Ua=null,C1=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Hp=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Ld=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],N1=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],gs=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Qr=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Jn=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Js=[],hi=[],ko=[],cc=1,zp=2,Pl=[],xs=[];Et("UpsampleRgbLinePair",hs,3),Et("UpsampleBgrLinePair",Pr,3),Et("UpsampleRgbaLinePair",Ys,4),Et("UpsampleBgraLinePair",Ko,4),Et("UpsampleArgbLinePair",Wo,4),Et("UpsampleRgba4444LinePair",La,2),Et("UpsampleRgb565LinePair",ds,2);var tu=C.UpsampleRgbLinePair,Gp=C.UpsampleBgrLinePair,Yu=C.UpsampleRgbaLinePair,Fd=C.UpsampleBgraLinePair,uc=C.UpsampleArgbLinePair,tl=C.UpsampleRgba4444LinePair,fc=C.UpsampleRgb565LinePair,oo=16,Xu=1<<oo-1,nu=-227,hc=482,Od=6,dc=0,ys=s(256),Vd=s(256),I1=s(256),y2=s(256),v2=s(hc-nu),_2=s(hc-nu);El("YuvToRgbRow",hs,3),El("YuvToBgrRow",Pr,3),El("YuvToRgbaRow",Ys,4),El("YuvToBgraRow",Ko,4),El("YuvToArgbRow",Wo,4),El("YuvToRgba4444Row",La,2),El("YuvToRgb565Row",ds,2);var Ei=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Ju=[0,2,8],mh=[8,7,6,4,4,2,2,2,1,1,1,1],gh=1;this.WebPDecodeRGBA=function(_,A,U,z,ee){var ie=Ms,oe=new ct,de=new Wt;oe.ba=de,de.S=ie,de.width=[de.width],de.height=[de.height];var ve=de.width,Se=de.height,De=new jt;if(De==null||_==null)var Ye=2;else e(De!=null),Ye=Co(_,A,U,De.width,De.height,De.Pd,De.Qd,De.format,null);if(Ye!=0?ve=0:(ve!=null&&(ve[0]=De.width[0]),Se!=null&&(Se[0]=De.height[0]),ve=1),ve){de.width=de.width[0],de.height=de.height[0],z!=null&&(z[0]=de.width),ee!=null&&(ee[0]=de.height);e:{if(z=new Ji,(ee=new yt).data=_,ee.w=A,ee.ha=U,ee.kd=1,A=[0],e(ee!=null),((_=Co(ee.data,ee.w,ee.ha,null,null,null,A,null,ee))==0||_==7)&&A[0]&&(_=4),(A=_)==0){if(e(oe!=null),z.data=ee.data,z.w=ee.w+ee.offset,z.ha=ee.ha-ee.offset,z.put=Mt,z.ac=ri,z.bc=Ra,z.ma=oe,ee.xa){if((_=Ge())==null){oe=1;break e}if((function(Te,Fe){var qe=[0],at=[0],ze=[0];t:for(;;){if(Te==null)return 0;if(Fe==null)return Te.a=2,0;if(Te.l=Fe,Te.a=0,ue(Te.m,Fe.data,Fe.w,Fe.ha),!us(Te.m,qe,at,ze)){Te.a=3;break t}if(Te.xb=zp,Fe.width=qe[0],Fe.height=at[0],!We(qe[0],at[0],1,Te,null))break t;return 1}return e(Te.a!=0),0})(_,z)){if(z=(A=No(z.width,z.height,oe.Oa,oe.ba))==0){t:{z=_;n:for(;;){if(z==null){z=0;break t}if(e(z.s.yc!=null),e(z.s.Ya!=null),e(0<z.s.Wb),e((U=z.l)!=null),e((ee=U.ma)!=null),z.xb!=0){if(z.ca=ee.ba,z.tb=ee.tb,e(z.ca!=null),!Sl(ee.Oa,U,to)){z.a=2;break n}if(!Ke(z,U.width)||U.da)break n;if((U.da||Pt(z.ca.S))&&Qe(),11>z.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),z.ca.f.kb.F!=null&&Qe()),z.Pb&&0<z.s.ua&&z.s.vb.X==null&&!re(z.s.vb,z.s.Wa.Xa)){z.a=1;break n}z.xb=0}if(!He(z,z.V,z.Ba,z.c,z.i,U.o,ge))break n;ee.Dc=z.Ma,z=1;break t}e(z.a!=0),z=0}z=!z}z&&(A=_.a)}else A=_.a}else{if((_=new ui)==null){oe=1;break e}if(_.Fa=ee.na,_.P=ee.P,_.qc=ee.Sa,ca(_,z)){if((A=No(z.width,z.height,oe.Oa,oe.ba))==0){if(_.Aa=0,U=oe.Oa,e((ee=_)!=null),U!=null){if(0<(ve=0>(ve=U.Md)?0:100<ve?255:255*ve/100)){for(Se=De=0;4>Se;++Se)12>(Ye=ee.pb[Se]).lc&&(Ye.ia=ve*mh[0>Ye.lc?0:Ye.lc]>>3),De|=Ye.ia;De&&(alert("todo:VP8InitRandom"),ee.ia=1)}ee.Ga=U.Id,100<ee.Ga?ee.Ga=100:0>ee.Ga&&(ee.Ga=0)}(function(Te,Fe){if(Te==null)return 0;if(Fe==null)return Wn(Te,2,"NULL VP8Io parameter in VP8Decode().");if(!Te.cb&&!ca(Te,Fe))return 0;if(e(Te.cb),Fe.ac==null||Fe.ac(Fe)){Fe.ob&&(Te.L=0);var qe=Ju[Te.L];if(Te.L==2?(Te.yb=0,Te.zb=0):(Te.yb=Fe.v-qe>>4,Te.zb=Fe.j-qe>>4,0>Te.yb&&(Te.yb=0),0>Te.zb&&(Te.zb=0)),Te.Va=Fe.o+15+qe>>4,Te.Hb=Fe.va+15+qe>>4,Te.Hb>Te.za&&(Te.Hb=Te.za),Te.Va>Te.Ub&&(Te.Va=Te.Ub),0<Te.L){var at=Te.ed;for(qe=0;4>qe;++qe){var ze;if(Te.Qa.Cb){var st=Te.Qa.Lb[qe];Te.Qa.Fb||(st+=at.Tb)}else st=at.Tb;for(ze=0;1>=ze;++ze){var ht=Te.gd[qe][ze],wt=st;if(at.Pc&&(wt+=at.vd[0],ze&&(wt+=at.od[0])),0<(wt=0>wt?0:63<wt?63:wt)){var xt=wt;0<at.wb&&(xt=4<at.wb?xt>>2:xt>>1)>9-at.wb&&(xt=9-at.wb),1>xt&&(xt=1),ht.dd=xt,ht.tc=2*wt+xt,ht.ld=40<=wt?2:15<=wt?1:0}else ht.tc=0;ht.La=ze}}}qe=0}else Wn(Te,6,"Frame setup failed"),qe=Te.a;if(qe=qe==0){if(qe){Te.$c=0,0<Te.Aa||(Te.Ic=gh);t:{qe=Te.Ic,at=4*(xt=Te.za);var tn=32*xt,Ht=xt+1,Rn=0<Te.L?xt*(0<Te.Aa?2:1):0,Xt=(Te.Aa==2?2:1)*xt;if((ht=at+832+(ze=3*(16*qe+Ju[Te.L])/2*tn)+(st=Te.Fa!=null&&0<Te.Fa.length?Te.Kc.c*Te.Kc.i:0))!=ht)qe=0;else{if(ht>Te.Vb){if(Te.Vb=0,Te.Ec=s(ht),Te.Fc=0,Te.Ec==null){qe=Wn(Te,1,"no memory during frame initialization.");break t}Te.Vb=ht}ht=Te.Ec,wt=Te.Fc,Te.Ac=ht,Te.Bc=wt,wt+=at,Te.Gd=a(tn,Is),Te.Hd=0,Te.rb=a(Ht+1,gr),Te.sb=1,Te.wa=Rn?a(Rn,Bn):null,Te.Y=0,Te.D.Nb=0,Te.D.wa=Te.wa,Te.D.Y=Te.Y,0<Te.Aa&&(Te.D.Y+=xt),e(!0),Te.oc=ht,Te.pc=wt,wt+=832,Te.ya=a(Xt,zs),Te.aa=0,Te.D.ya=Te.ya,Te.D.aa=Te.aa,Te.Aa==2&&(Te.D.aa+=xt),Te.R=16*xt,Te.B=8*xt,xt=(tn=Ju[Te.L])*Te.R,tn=tn/2*Te.B,Te.sa=ht,Te.ta=wt+xt,Te.qa=Te.sa,Te.ra=Te.ta+16*qe*Te.R+tn,Te.Ha=Te.qa,Te.Ia=Te.ra+8*qe*Te.B+tn,Te.$c=0,wt+=ze,Te.mb=st?ht:null,Te.nb=st?wt:null,e(wt+st<=Te.Fc+Te.Vb),qo(Te),i(Te.Ac,Te.Bc,0,at),qe=1}}if(qe){if(Fe.ka=0,Fe.y=Te.sa,Fe.O=Te.ta,Fe.f=Te.qa,Fe.N=Te.ra,Fe.ea=Te.Ha,Fe.Vd=Te.Ia,Fe.fa=Te.R,Fe.Rc=Te.B,Fe.F=null,Fe.J=0,!Id){for(qe=-255;255>=qe;++qe)Zc[255+qe]=0>qe?-qe:qe;for(qe=-1020;1020>=qe;++qe)Nd[1020+qe]=-128>qe?-128:127<qe?127:qe;for(qe=-112;112>=qe;++qe)ch[112+qe]=-16>qe?-16:15<qe?15:qe;for(qe=-255;510>=qe;++qe)uh[255+qe]=0>qe?0:255<qe?255:qe;Id=1}Oa=qi,kl=zc,Za=fs,xr=Gc,sr=To,Ps=Bu,qr=Yc,Ti=Ma,el=Z,Io=Ee,Jc=sc,oh=D,Bp=Pe,E1=Ve,S1=Ja,A1=ua,jp=Tl,qp=ic,hi[0]=Go,hi[1]=$c,hi[2]=_l,hi[3]=rc,hi[4]=Hi,hi[5]=wl,hi[6]=Ii,hi[7]=wr,hi[8]=bl,hi[9]=Gs,Js[0]=Pa,Js[1]=tc,Js[2]=nc,Js[3]=Eo,Js[4]=So,Js[5]=Rs,Js[6]=zo,ko[0]=Ao,ko[1]=Wc,ko[2]=Da,ko[3]=Kc,ko[4]=wi,ko[5]=Ws,ko[6]=Ka,qe=1}else qe=0}qe&&(qe=(function(Xn,Zr){for(Xn.M=0;Xn.M<Xn.Va;++Xn.M){var Ln,zt=Xn.Jc[Xn.M&Xn.Xb],Dt=Xn.m,ii=Xn;for(Ln=0;Ln<ii.za;++Ln){var Tn=Dt,Un=ii,Ar=Un.Ac,zi=Un.Bc+4*Ln,vs=Un.zc,Hr=Un.ya[Un.aa+Ln];if(Un.Qa.Bb?Hr.$b=Ae(Tn,Un.Pa.jb[0])?2+Ae(Tn,Un.Pa.jb[2]):Ae(Tn,Un.Pa.jb[1]):Hr.$b=0,Un.kc&&(Hr.Ad=Ae(Tn,Un.Bd)),Hr.Za=!Ae(Tn,145)+0,Hr.Za){var ki=Hr.Ob,Ls=0;for(Un=0;4>Un;++Un){var Ri,$n=vs[0+Un];for(Ri=0;4>Ri;++Ri){$n=gs[Ar[zi+Ri]][$n];for(var ur=Ld[Ae(Tn,$n[0])];0<ur;)ur=Ld[2*ur+Ae(Tn,$n[ur])];$n=-ur,Ar[zi+Ri]=$n}r(ki,Ls,Ar,zi,4),Ls+=4,vs[0+Un]=$n}}else $n=Ae(Tn,156)?Ae(Tn,128)?1:3:Ae(Tn,163)?2:0,Hr.Ob[0]=$n,i(Ar,zi,$n,4),i(vs,0,$n,4);Hr.Dd=Ae(Tn,142)?Ae(Tn,114)?Ae(Tn,183)?1:3:2:0}if(ii.m.Ka)return Wn(Xn,7,"Premature end-of-partition0 encountered.");for(;Xn.ja<Xn.za;++Xn.ja){if(ii=zt,Tn=(Dt=Xn).rb[Dt.sb-1],Ar=Dt.rb[Dt.sb+Dt.ja],Ln=Dt.ya[Dt.aa+Dt.ja],zi=Dt.kc?Ln.Ad:0)Tn.la=Ar.la=0,Ln.Za||(Tn.Na=Ar.Na=0),Ln.Hc=0,Ln.Gc=0,Ln.ia=0;else{var si,yr;if(Tn=Ar,Ar=ii,zi=Dt.Pa.Xc,vs=Dt.ya[Dt.aa+Dt.ja],Hr=Dt.pb[vs.$b],Un=vs.ad,ki=0,Ls=Dt.rb[Dt.sb-1],$n=Ri=0,i(Un,ki,0,384),vs.Za)var Gi=0,ai=zi[3];else{ur=s(16);var fr=Tn.Na+Ls.Na;if(fr=Ua(Ar,zi[1],fr,Hr.Eb,0,ur,0),Tn.Na=Ls.Na=(0<fr)+0,1<fr)Oa(ur,0,Un,ki);else{var Si=ur[0]+3>>3;for(ur=0;256>ur;ur+=16)Un[ki+ur]=Si}Gi=1,ai=zi[0]}var Cr=15&Tn.la,Pi=15&Ls.la;for(ur=0;4>ur;++ur){var Di=1&Pi;for(Si=yr=0;4>Si;++Si)Cr=Cr>>1|(Di=(fr=Ua(Ar,ai,fr=Di+(1&Cr),Hr.Sc,Gi,Un,ki))>Gi)<<7,yr=yr<<2|(3<fr?3:1<fr?2:Un[ki+0]!=0),ki+=16;Cr>>=4,Pi=Pi>>1|Di<<7,Ri=(Ri<<8|yr)>>>0}for(ai=Cr,Gi=Pi>>4,si=0;4>si;si+=2){for(yr=0,Cr=Tn.la>>4+si,Pi=Ls.la>>4+si,ur=0;2>ur;++ur){for(Di=1&Pi,Si=0;2>Si;++Si)fr=Di+(1&Cr),Cr=Cr>>1|(Di=0<(fr=Ua(Ar,zi[2],fr,Hr.Qc,0,Un,ki)))<<3,yr=yr<<2|(3<fr?3:1<fr?2:Un[ki+0]!=0),ki+=16;Cr>>=2,Pi=Pi>>1|Di<<5}$n|=yr<<4*si,ai|=Cr<<4<<si,Gi|=(240&Pi)<<si}Tn.la=ai,Ls.la=Gi,vs.Hc=Ri,vs.Gc=$n,vs.ia=43690&$n?0:Hr.ia,zi=!(Ri|$n)}if(0<Dt.L&&(Dt.wa[Dt.Y+Dt.ja]=Dt.gd[Ln.$b][Ln.Za],Dt.wa[Dt.Y+Dt.ja].La|=!zi),ii.Ka)return Wn(Xn,7,"Premature end-of-file encountered.")}if(qo(Xn),Dt=Zr,ii=1,Ln=(zt=Xn).D,Tn=0<zt.L&&zt.M>=zt.zb&&zt.M<=zt.Va,zt.Aa==0)t:{if(Ln.M=zt.M,Ln.uc=Tn,Fa(zt,Ln),ii=1,Ln=(yr=zt.D).Nb,Tn=($n=Ju[zt.L])*zt.R,Ar=$n/2*zt.B,ur=16*Ln*zt.R,Si=8*Ln*zt.B,zi=zt.sa,vs=zt.ta-Tn+ur,Hr=zt.qa,Un=zt.ra-Ar+Si,ki=zt.Ha,Ls=zt.Ia-Ar+Si,Pi=(Cr=yr.M)==0,Ri=Cr>=zt.Va-1,zt.Aa==2&&Fa(zt,yr),yr.uc)for(Di=(fr=zt).D.M,e(fr.D.uc),yr=fr.yb;yr<fr.Hb;++yr){Gi=yr,ai=Di;var Dr=(ar=(Mi=fr).D).Nb;si=Mi.R;var ar=ar.wa[ar.Y+Gi],Fs=Mi.sa,di=Mi.ta+16*Dr*si+16*Gi,yn=ar.dd,_n=ar.tc;if(_n!=0)if(e(3<=_n),Mi.L==1)0<Gi&&A1(Fs,di,si,_n+4),ar.La&&qp(Fs,di,si,_n),0<ai&&S1(Fs,di,si,_n+4),ar.La&&jp(Fs,di,si,_n);else{var hr=Mi.B,ha=Mi.qa,lo=Mi.ra+8*Dr*hr+8*Gi,Qs=Mi.Ha,Mi=Mi.Ia+8*Dr*hr+8*Gi;Dr=ar.ld,0<Gi&&(Ti(Fs,di,si,_n+4,yn,Dr),Io(ha,lo,Qs,Mi,hr,_n+4,yn,Dr)),ar.La&&(oh(Fs,di,si,_n,yn,Dr),E1(ha,lo,Qs,Mi,hr,_n,yn,Dr)),0<ai&&(qr(Fs,di,si,_n+4,yn,Dr),el(ha,lo,Qs,Mi,hr,_n+4,yn,Dr)),ar.La&&(Jc(Fs,di,si,_n,yn,Dr),Bp(ha,lo,Qs,Mi,hr,_n,yn,Dr))}}if(zt.ia&&alert("todo:DitherRow"),Dt.put!=null){if(yr=16*Cr,Cr=16*(Cr+1),Pi?(Dt.y=zt.sa,Dt.O=zt.ta+ur,Dt.f=zt.qa,Dt.N=zt.ra+Si,Dt.ea=zt.Ha,Dt.W=zt.Ia+Si):(yr-=$n,Dt.y=zi,Dt.O=vs,Dt.f=Hr,Dt.N=Un,Dt.ea=ki,Dt.W=Ls),Ri||(Cr-=$n),Cr>Dt.o&&(Cr=Dt.o),Dt.F=null,Dt.J=null,zt.Fa!=null&&0<zt.Fa.length&&yr<Cr&&(Dt.J=w(zt,Dt,yr,Cr-yr),Dt.F=zt.mb,Dt.F==null&&Dt.F.length==0)){ii=Wn(zt,3,"Could not decode alpha data.");break t}yr<Dt.j&&($n=Dt.j-yr,yr=Dt.j,e(!(1&$n)),Dt.O+=zt.R*$n,Dt.N+=zt.B*($n>>1),Dt.W+=zt.B*($n>>1),Dt.F!=null&&(Dt.J+=Dt.width*$n)),yr<Cr&&(Dt.O+=Dt.v,Dt.N+=Dt.v>>1,Dt.W+=Dt.v>>1,Dt.F!=null&&(Dt.J+=Dt.v),Dt.ka=yr-Dt.j,Dt.U=Dt.va-Dt.v,Dt.T=Cr-yr,ii=Dt.put(Dt))}Ln+1!=zt.Ic||Ri||(r(zt.sa,zt.ta-Tn,zi,vs+16*zt.R,Tn),r(zt.qa,zt.ra-Ar,Hr,Un+8*zt.B,Ar),r(zt.Ha,zt.Ia-Ar,ki,Ls+8*zt.B,Ar))}if(!ii)return Wn(Xn,6,"Output aborted.")}return 1})(Te,Fe)),Fe.bc!=null&&Fe.bc(Fe),qe&=1}return qe?(Te.cb=0,qe):0})(_,z)||(A=_.a)}}else A=_.a}A==0&&oe.Oa!=null&&oe.Oa.fd&&(A=ah(oe.ba))}oe=A}ie=oe!=0?null:11>ie?de.f.RGBA.eb:de.f.kb.y}else ie=null;return ie};var Ud=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function f(C,H){for(var P="",L=0;L<4;L++)P+=String.fromCharCode(C[H++]);return P}function h(C,H){return C[H+0]|C[H+1]<<8}function p(C,H){return(C[H+0]|C[H+1]<<8|C[H+2]<<16)>>>0}function g(C,H){return(C[H+0]|C[H+1]<<8|C[H+2]<<16|C[H+3]<<24)>>>0}new c;var x=[0],T=[0],S=[],N=new c,k=t,B=(function(C,H){var P={},L=0,V=!1,me=0,Ne=0;if(P.frames=[],!(function(M,W){for(var K=0;K<4;K++)if(M[W+K]!="RIFF".charCodeAt(K))return!0;return!1})(C,H)){for(g(C,H+=4),H+=8;H<C.length;){var se=f(C,H),xe=g(C,H+=4);H+=4;var he=xe+(1&xe);switch(se){case"VP8 ":case"VP8L":P.frames[L]===void 0&&(P.frames[L]={}),(ne=P.frames[L]).src_off=V?Ne:H-8,ne.src_size=me+xe+8,L++,V&&(V=!1,me=0,Ne=0);break;case"VP8X":(ne=P.header={}).feature_flags=C[H];var ue=H+4;ne.canvas_width=1+p(C,ue),ue+=3,ne.canvas_height=1+p(C,ue),ue+=3;break;case"ALPH":V=!0,me=he+8,Ne=H-8;break;case"ANIM":(ne=P.header).bgcolor=g(C,H),ue=H+4,ne.loop_count=h(C,ue),ue+=2;break;case"ANMF":var Le,ne;(ne=P.frames[L]={}).offset_x=2*p(C,H),H+=3,ne.offset_y=2*p(C,H),H+=3,ne.width=1+p(C,H),H+=3,ne.height=1+p(C,H),H+=3,ne.duration=p(C,H),H+=3,Le=C[H++],ne.dispose=1&Le,ne.blend=Le>>1&1}se!="ANMF"&&(H+=he)}return P}})(k,0);B.response=k,B.rgbaoutput=!0,B.dataurl=!1;var R=B.header?B.header:null,q=B.frames?B.frames:null;if(R){R.loop_counter=R.loop_count,x=[R.canvas_height],T=[R.canvas_width];for(var Y=0;Y<q.length&&q[Y].blend!=0;Y++);}var J=q[0],F=N.WebPDecodeRGBA(k,J.src_off,J.src_size,T,x);J.rgba=F,J.imgwidth=T[0],J.imgheight=x[0];for(var O=0;O<T[0]*x[0]*4;O++)S[O]=F[O];return this.width=T,this.height=x,this.data=S,this}(function(t){var e,n,r,i,s,a,o,c,f,h=function(M){return M=M||{},this.isStrokeTransparent=M.isStrokeTransparent||!1,this.strokeOpacity=M.strokeOpacity||1,this.strokeStyle=M.strokeStyle||"#000000",this.fillStyle=M.fillStyle||"#000000",this.isFillTransparent=M.isFillTransparent||!1,this.fillOpacity=M.fillOpacity||1,this.font=M.font||"10px sans-serif",this.textBaseline=M.textBaseline||"alphabetic",this.textAlign=M.textAlign||"left",this.lineWidth=M.lineWidth||1,this.lineJoin=M.lineJoin||"miter",this.lineCap=M.lineCap||"butt",this.path=M.path||[],this.transform=M.transform!==void 0?M.transform.clone():new c,this.globalCompositeOperation=M.globalCompositeOperation||"normal",this.globalAlpha=M.globalAlpha||1,this.clip_path=M.clip_path||[],this.currentPoint=M.currentPoint||new a,this.miterLimit=M.miterLimit||10,this.lastPoint=M.lastPoint||new a,this.lineDashOffset=M.lineDashOffset||0,this.lineDash=M.lineDash||[],this.margin=M.margin||[0,0,0,0],this.prevPageLastElemOffset=M.prevPageLastElemOffset||0,this.ignoreClearRect=typeof M.ignoreClearRect!="boolean"||M.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new p(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,a=this.internal.Point,o=this.internal.Rectangle,c=this.internal.Matrix,f=new h}]);var p=function(M){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var W=M;Object.defineProperty(this,"pdf",{get:function(){return W}});var K=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return K},set:function(re){K=!!re}});var Q=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Q},set:function(re){Q=!!re}});var ce=0;Object.defineProperty(this,"posX",{get:function(){return ce},set:function(re){isNaN(re)||(ce=re)}});var we=0;Object.defineProperty(this,"posY",{get:function(){return we},set:function(re){isNaN(re)||(we=re)}}),Object.defineProperty(this,"margin",{get:function(){return f.margin},set:function(re){var lt;typeof re=="number"?lt=[re,re,re,re]:((lt=new Array(4))[0]=re[0],lt[1]=re.length>=2?re[1]:lt[0],lt[2]=re.length>=3?re[2]:lt[0],lt[3]=re.length>=4?re[3]:lt[1]),f.margin=lt}});var ke=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ke},set:function(re){ke=re}});var fe=0;Object.defineProperty(this,"lastBreak",{get:function(){return fe},set:function(re){fe=re}});var Ae=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ae},set:function(re){Ae=re}}),Object.defineProperty(this,"ctx",{get:function(){return f},set:function(re){re instanceof h&&(f=re)}}),Object.defineProperty(this,"path",{get:function(){return f.path},set:function(re){f.path=re}});var Ue=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ue},set:function(re){Ue=re}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(re){var lt;lt=g(re),this.ctx.fillStyle=lt.style,this.ctx.isFillTransparent=lt.a===0,this.ctx.fillOpacity=lt.a,this.pdf.setFillColor(lt.r,lt.g,lt.b,{a:lt.a}),this.pdf.setTextColor(lt.r,lt.g,lt.b,{a:lt.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(re){var lt=g(re);this.ctx.strokeStyle=lt.style,this.ctx.isStrokeTransparent=lt.a===0,this.ctx.strokeOpacity=lt.a,lt.a===0?this.pdf.setDrawColor(255,255,255):(lt.a,this.pdf.setDrawColor(lt.r,lt.g,lt.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(re){["butt","round","square"].indexOf(re)!==-1&&(this.ctx.lineCap=re,this.pdf.setLineCap(re))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(re){isNaN(re)||(this.ctx.lineWidth=re,this.pdf.setLineWidth(re))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(re){["bevel","round","miter"].indexOf(re)!==-1&&(this.ctx.lineJoin=re,this.pdf.setLineJoin(re))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(re){isNaN(re)||(this.ctx.miterLimit=re,this.pdf.setMiterLimit(re))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(re){this.ctx.textBaseline=re}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(re){["right","end","center","left","start"].indexOf(re)!==-1&&(this.ctx.textAlign=re)}});var ae=null,it=null,dt=null;Object.defineProperty(this,"fontFaces",{get:function(){return dt},set:function(re){ae=null,it=null,dt=re}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(re){var lt;if(this.ctx.font=re,(lt=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(re))!==null){var ft=lt[1];lt[2];var kt=lt[3],rt=lt[4];lt[5];var St=lt[6],Nt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(rt)[2];rt=Math.floor(Nt==="px"?parseFloat(rt)*this.pdf.internal.scaleFactor:Nt==="em"?parseFloat(rt)*this.pdf.getFontSize():parseFloat(rt)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(rt);var Jt=(function(Rt){var qn,$t,Yt=[],hn=Rt.trim();if(hn==="")return Mw;if(hn in R6)return[R6[hn]];for(;hn!=="";){switch($t=null,qn=(hn=D6(hn)).charAt(0)){case'"':case"'":$t=Rle(hn.substring(1),qn);break;default:$t=Ple(hn)}if($t===null||(Yt.push($t[0]),(hn=D6($t[1]))!==""&&hn.charAt(0)!==","))return Mw;hn=hn.replace(/^,/,"")}return Yt})(St);if(this.fontFaces){var qt=(function(Rt,qn){var $t=Rt.getFontList(),Yt=JSON.stringify($t);if(ae===null||it!==Yt){var hn=(function(An){var Oe=[];return Object.keys(An).forEach(function(Lt){An[Lt].forEach(function(Pt){var Bt=null;switch(Pt){case"bold":Bt={family:Lt,weight:"bold"};break;case"italic":Bt={family:Lt,style:"italic"};break;case"bolditalic":Bt={family:Lt,weight:"bold",style:"italic"};break;case"":case"normal":Bt={family:Lt}}Bt!==null&&(Bt.ref={name:Lt,style:Pt},Oe.push(Bt))})}),Oe})($t);ae=(function(An){for(var Oe={},Lt=0;Lt<An.length;++Lt){var Pt=Dw(An[Lt]),Bt=Pt.family,Zt=Pt.stretch,Wt=Pt.style,jt=Pt.weight;Oe[Bt]=Oe[Bt]||{},Oe[Bt][Zt]=Oe[Bt][Zt]||{},Oe[Bt][Zt][Wt]=Oe[Bt][Zt][Wt]||{},Oe[Bt][Zt][Wt][jt]=Pt}return Oe})(hn.concat(qn)),it=Yt}return ae})(this.pdf,this.fontFaces),sn=Jt.map(function(Rt){return{family:Rt,stretch:"normal",weight:kt,style:ft}}),mn=(function(Rt,qn,$t){for(var Yt=($t=$t||{}).defaultFontFamily||"times",hn=Object.assign({},kle,$t.genericFontFamilies||{}),An=null,Oe=null,Lt=0;Lt<qn.length;++Lt)if(hn[(An=Dw(qn[Lt])).family]&&(An.family=hn[An.family]),Rt.hasOwnProperty(An.family)){Oe=Rt[An.family];break}if(!(Oe=Oe||Rt[Yt]))throw new Error("Could not find a font-family for the rule '"+P6(An)+"' and default family '"+Yt+"'.");if(Oe=(function(Pt,Bt){if(Bt[Pt])return Bt[Pt];var Zt=T5[Pt],Wt=Zt<=T5.normal?-1:1,jt=k6(Bt,N7,Zt,Wt);if(!jt)throw new Error("Could not find a matching font-stretch value for "+Pt);return jt})(An.stretch,Oe),Oe=(function(Pt,Bt){if(Bt[Pt])return Bt[Pt];for(var Zt=C7[Pt],Wt=0;Wt<Zt.length;++Wt)if(Bt[Zt[Wt]])return Bt[Zt[Wt]];throw new Error("Could not find a matching font-style for "+Pt)})(An.style,Oe),!(Oe=(function(Pt,Bt){if(Bt[Pt])return Bt[Pt];if(Pt===400&&Bt[500])return Bt[500];if(Pt===500&&Bt[400])return Bt[400];var Zt=Ile[Pt],Wt=k6(Bt,I7,Zt,Pt<400?-1:1);if(!Wt)throw new Error("Could not find a matching font-weight for value "+Pt);return Wt})(An.weight,Oe)))throw new Error("Failed to resolve a font for the rule '"+P6(An)+"'.");return Oe})(qt,sn);this.pdf.setFont(mn.ref.name,mn.ref.style)}else{var ln="";(kt==="bold"||parseInt(kt,10)>=700||ft==="bold")&&(ln="bold"),ft==="italic"&&(ln+="italic"),ln.length===0&&(ln="normal");for(var En="",an={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Ft=0;Ft<Jt.length;Ft++){if(this.pdf.internal.getFont(Jt[Ft],ln,{noFallback:!0,disableWarning:!0})!==void 0){En=Jt[Ft];break}if(ln==="bolditalic"&&this.pdf.internal.getFont(Jt[Ft],"bold",{noFallback:!0,disableWarning:!0})!==void 0)En=Jt[Ft],ln="bold";else if(this.pdf.internal.getFont(Jt[Ft],"normal",{noFallback:!0,disableWarning:!0})!==void 0){En=Jt[Ft],ln="normal";break}}if(En===""){for(var At=0;At<Jt.length;At++)if(an[Jt[At]]){En=an[Jt[At]];break}}En=En===""?"Times":En,this.pdf.setFont(En,ln)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(re){this.ctx.globalCompositeOperation=re}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(re){this.ctx.globalAlpha=re}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(re){this.ctx.lineDashOffset=re,ne.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(re){this.ctx.lineDash=re,ne.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(re){this.ctx.ignoreClearRect=!!re}})};p.prototype.setLineDash=function(M){this.lineDash=M},p.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},p.prototype.fill=function(){q.call(this,"fill",!1)},p.prototype.stroke=function(){q.call(this,"stroke",!1)},p.prototype.beginPath=function(){this.path=[{type:"begin"}]},p.prototype.moveTo=function(M,W){if(isNaN(M)||isNaN(W))throw ti.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var K=this.ctx.transform.applyToPoint(new a(M,W));this.path.push({type:"mt",x:K.x,y:K.y}),this.ctx.lastPoint=new a(M,W)},p.prototype.closePath=function(){var M=new a(0,0),W=0;for(W=this.path.length-1;W!==-1;W--)if(this.path[W].type==="begin"&&Fr(this.path[W+1])==="object"&&typeof this.path[W+1].x=="number"){M=new a(this.path[W+1].x,this.path[W+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(M.x,M.y)},p.prototype.lineTo=function(M,W){if(isNaN(M)||isNaN(W))throw ti.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var K=this.ctx.transform.applyToPoint(new a(M,W));this.path.push({type:"lt",x:K.x,y:K.y}),this.ctx.lastPoint=new a(K.x,K.y)},p.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),q.call(this,null,!0)},p.prototype.quadraticCurveTo=function(M,W,K,Q){if(isNaN(K)||isNaN(Q)||isNaN(M)||isNaN(W))throw ti.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ce=this.ctx.transform.applyToPoint(new a(K,Q)),we=this.ctx.transform.applyToPoint(new a(M,W));this.path.push({type:"qct",x1:we.x,y1:we.y,x:ce.x,y:ce.y}),this.ctx.lastPoint=new a(ce.x,ce.y)},p.prototype.bezierCurveTo=function(M,W,K,Q,ce,we){if(isNaN(ce)||isNaN(we)||isNaN(M)||isNaN(W)||isNaN(K)||isNaN(Q))throw ti.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ke=this.ctx.transform.applyToPoint(new a(ce,we)),fe=this.ctx.transform.applyToPoint(new a(M,W)),Ae=this.ctx.transform.applyToPoint(new a(K,Q));this.path.push({type:"bct",x1:fe.x,y1:fe.y,x2:Ae.x,y2:Ae.y,x:ke.x,y:ke.y}),this.ctx.lastPoint=new a(ke.x,ke.y)},p.prototype.arc=function(M,W,K,Q,ce,we){if(isNaN(M)||isNaN(W)||isNaN(K)||isNaN(Q)||isNaN(ce))throw ti.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(we=!!we,!this.ctx.transform.isIdentity){var ke=this.ctx.transform.applyToPoint(new a(M,W));M=ke.x,W=ke.y;var fe=this.ctx.transform.applyToPoint(new a(0,K)),Ae=this.ctx.transform.applyToPoint(new a(0,0));K=Math.sqrt(Math.pow(fe.x-Ae.x,2)+Math.pow(fe.y-Ae.y,2))}Math.abs(ce-Q)>=2*Math.PI&&(Q=0,ce=2*Math.PI),this.path.push({type:"arc",x:M,y:W,radius:K,startAngle:Q,endAngle:ce,counterclockwise:we})},p.prototype.arcTo=function(M,W,K,Q,ce){throw new Error("arcTo not implemented.")},p.prototype.rect=function(M,W,K,Q){if(isNaN(M)||isNaN(W)||isNaN(K)||isNaN(Q))throw ti.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(M,W),this.lineTo(M+K,W),this.lineTo(M+K,W+Q),this.lineTo(M,W+Q),this.lineTo(M,W),this.lineTo(M+K,W),this.lineTo(M,W)},p.prototype.fillRect=function(M,W,K,Q){if(isNaN(M)||isNaN(W)||isNaN(K)||isNaN(Q))throw ti.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!x.call(this)){var ce={};this.lineCap!=="butt"&&(ce.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ce.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(M,W,K,Q),this.fill(),ce.hasOwnProperty("lineCap")&&(this.lineCap=ce.lineCap),ce.hasOwnProperty("lineJoin")&&(this.lineJoin=ce.lineJoin)}},p.prototype.strokeRect=function(M,W,K,Q){if(isNaN(M)||isNaN(W)||isNaN(K)||isNaN(Q))throw ti.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");T.call(this)||(this.beginPath(),this.rect(M,W,K,Q),this.stroke())},p.prototype.clearRect=function(M,W,K,Q){if(isNaN(M)||isNaN(W)||isNaN(K)||isNaN(Q))throw ti.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(M,W,K,Q))},p.prototype.save=function(M){M=typeof M!="boolean"||M;for(var W=this.pdf.internal.getCurrentPageInfo().pageNumber,K=0;K<this.pdf.internal.getNumberOfPages();K++)this.pdf.setPage(K+1),this.pdf.internal.out("q");if(this.pdf.setPage(W),M){this.ctx.fontSize=this.pdf.internal.getFontSize();var Q=new h(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Q}},p.prototype.restore=function(M){M=typeof M!="boolean"||M;for(var W=this.pdf.internal.getCurrentPageInfo().pageNumber,K=0;K<this.pdf.internal.getNumberOfPages();K++)this.pdf.setPage(K+1),this.pdf.internal.out("Q");this.pdf.setPage(W),M&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},p.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var g=function(M){var W,K,Q,ce;if(M.isCanvasGradient===!0&&(M=M.getColor()),!M)return{r:0,g:0,b:0,a:0,style:M};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(M))W=0,K=0,Q=0,ce=0;else{var we=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(M);if(we!==null)W=parseInt(we[1]),K=parseInt(we[2]),Q=parseInt(we[3]),ce=1;else if((we=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(M))!==null)W=parseInt(we[1]),K=parseInt(we[2]),Q=parseInt(we[3]),ce=parseFloat(we[4]);else{if(ce=1,typeof M=="string"&&M.charAt(0)!=="#"){var ke=new _7(M);M=ke.ok?ke.toHex():"#000000"}M.length===4?(W=M.substring(1,2),W+=W,K=M.substring(2,3),K+=K,Q=M.substring(3,4),Q+=Q):(W=M.substring(1,3),K=M.substring(3,5),Q=M.substring(5,7)),W=parseInt(W,16),K=parseInt(K,16),Q=parseInt(Q,16)}}return{r:W,g:K,b:Q,a:ce,style:M}},x=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},T=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};p.prototype.fillText=function(M,W,K,Q){if(isNaN(W)||isNaN(K)||typeof M!="string")throw ti.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Q=isNaN(Q)?void 0:Q,!x.call(this)){var ce=he(this.ctx.transform.rotation),we=this.ctx.transform.scaleX;L.call(this,{text:M,x:W,y:K,scale:we,angle:ce,align:this.textAlign,maxWidth:Q})}},p.prototype.strokeText=function(M,W,K,Q){if(isNaN(W)||isNaN(K)||typeof M!="string")throw ti.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!T.call(this)){Q=isNaN(Q)?void 0:Q;var ce=he(this.ctx.transform.rotation),we=this.ctx.transform.scaleX;L.call(this,{text:M,x:W,y:K,scale:we,renderingMode:"stroke",angle:ce,align:this.textAlign,maxWidth:Q})}},p.prototype.measureText=function(M){if(typeof M!="string")throw ti.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var W=this.pdf,K=this.pdf.internal.scaleFactor,Q=W.internal.getFontSize(),ce=W.getStringUnitWidth(M)*Q/W.internal.scaleFactor;return new function(we){var ke=(we=we||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ke}}),this}({width:ce*=Math.round(96*K/72*1e4)/1e4})},p.prototype.scale=function(M,W){if(isNaN(M)||isNaN(W))throw ti.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var K=new c(M,0,0,W,0,0);this.ctx.transform=this.ctx.transform.multiply(K)},p.prototype.rotate=function(M){if(isNaN(M))throw ti.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var W=new c(Math.cos(M),Math.sin(M),-Math.sin(M),Math.cos(M),0,0);this.ctx.transform=this.ctx.transform.multiply(W)},p.prototype.translate=function(M,W){if(isNaN(M)||isNaN(W))throw ti.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var K=new c(1,0,0,1,M,W);this.ctx.transform=this.ctx.transform.multiply(K)},p.prototype.transform=function(M,W,K,Q,ce,we){if(isNaN(M)||isNaN(W)||isNaN(K)||isNaN(Q)||isNaN(ce)||isNaN(we))throw ti.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ke=new c(M,W,K,Q,ce,we);this.ctx.transform=this.ctx.transform.multiply(ke)},p.prototype.setTransform=function(M,W,K,Q,ce,we){M=isNaN(M)?1:M,W=isNaN(W)?0:W,K=isNaN(K)?0:K,Q=isNaN(Q)?1:Q,ce=isNaN(ce)?0:ce,we=isNaN(we)?0:we,this.ctx.transform=new c(M,W,K,Q,ce,we)};var S=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};p.prototype.drawImage=function(M,W,K,Q,ce,we,ke,fe,Ae){var Ue=this.pdf.getImageProperties(M),ae=1,it=1,dt=1,re=1;Q!==void 0&&fe!==void 0&&(dt=fe/Q,re=Ae/ce,ae=Ue.width/Q*fe/Q,it=Ue.height/ce*Ae/ce),we===void 0&&(we=W,ke=K,W=0,K=0),Q!==void 0&&fe===void 0&&(fe=Q,Ae=ce),Q===void 0&&fe===void 0&&(fe=Ue.width,Ae=Ue.height);var lt=this.ctx.transform.decompose(),ft=he(lt.rotate.shx),kt=new c,rt=(kt=(kt=(kt=kt.multiply(lt.translate)).multiply(lt.skew)).multiply(lt.scale)).applyToRectangle(new o(we-W*dt,ke-K*re,Q*ae,ce*it));if(this.autoPaging){for(var St,Nt=N.call(this,rt),Jt=[],qt=0;qt<Nt.length;qt+=1)Jt.indexOf(Nt[qt])===-1&&Jt.push(Nt[qt]);R(Jt);for(var sn=Jt[0],mn=Jt[Jt.length-1],ln=sn;ln<mn+1;ln++){this.pdf.setPage(ln);var En=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],an=ln===1?this.posY+this.margin[0]:this.margin[0],Ft=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],At=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Rt=ln===1?0:Ft+(ln-2)*At;if(this.ctx.clip_path.length!==0){var qn=this.path;St=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=B(St,this.posX+this.margin[3],-Rt+an+this.ctx.prevPageLastElemOffset),Y.call(this,"fill",!0),this.path=qn}var $t=JSON.parse(JSON.stringify(rt));$t=B([$t],this.posX+this.margin[3],-Rt+an+this.ctx.prevPageLastElemOffset)[0];var Yt=(ln>sn||ln<mn)&&S.call(this);Yt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],En,At,null).clip().discardPath()),this.pdf.addImage(M,"JPEG",$t.x,$t.y,$t.w,$t.h,null,null,ft),Yt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(M,"JPEG",rt.x,rt.y,rt.w,rt.h,null,null,ft)};var N=function(M,W,K){var Q=[];W=W||this.pdf.internal.pageSize.width,K=K||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ce=this.posY+this.ctx.prevPageLastElemOffset;switch(M.type){default:case"mt":case"lt":Q.push(Math.floor((M.y+ce)/K)+1);break;case"arc":Q.push(Math.floor((M.y+ce-M.radius)/K)+1),Q.push(Math.floor((M.y+ce+M.radius)/K)+1);break;case"qct":var we=ue(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x,M.y);Q.push(Math.floor((we.y+ce)/K)+1),Q.push(Math.floor((we.y+we.h+ce)/K)+1);break;case"bct":var ke=Le(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x2,M.y2,M.x,M.y);Q.push(Math.floor((ke.y+ce)/K)+1),Q.push(Math.floor((ke.y+ke.h+ce)/K)+1);break;case"rect":Q.push(Math.floor((M.y+ce)/K)+1),Q.push(Math.floor((M.y+M.h+ce)/K)+1)}for(var fe=0;fe<Q.length;fe+=1)for(;this.pdf.internal.getNumberOfPages()<Q[fe];)k.call(this);return Q},k=function(){var M=this.fillStyle,W=this.strokeStyle,K=this.font,Q=this.lineCap,ce=this.lineWidth,we=this.lineJoin;this.pdf.addPage(),this.fillStyle=M,this.strokeStyle=W,this.font=K,this.lineCap=Q,this.lineWidth=ce,this.lineJoin=we},B=function(M,W,K){for(var Q=0;Q<M.length;Q++)switch(M[Q].type){case"bct":M[Q].x2+=W,M[Q].y2+=K;case"qct":M[Q].x1+=W,M[Q].y1+=K;default:M[Q].x+=W,M[Q].y+=K}return M},R=function(M){return M.sort(function(W,K){return W-K})},q=function(M,W){var K=this.fillStyle,Q=this.strokeStyle,ce=this.lineCap,we=this.lineWidth,ke=Math.abs(we*this.ctx.transform.scaleX),fe=this.lineJoin;if(this.autoPaging){for(var Ae,Ue,ae=JSON.parse(JSON.stringify(this.path)),it=JSON.parse(JSON.stringify(this.path)),dt=[],re=0;re<it.length;re++)if(it[re].x!==void 0)for(var lt=N.call(this,it[re]),ft=0;ft<lt.length;ft+=1)dt.indexOf(lt[ft])===-1&&dt.push(lt[ft]);for(var kt=0;kt<dt.length;kt++)for(;this.pdf.internal.getNumberOfPages()<dt[kt];)k.call(this);R(dt);for(var rt=dt[0],St=dt[dt.length-1],Nt=rt;Nt<St+1;Nt++){this.pdf.setPage(Nt),this.fillStyle=K,this.strokeStyle=Q,this.lineCap=ce,this.lineWidth=ke,this.lineJoin=fe;var Jt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],qt=Nt===1?this.posY+this.margin[0]:this.margin[0],sn=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],mn=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ln=Nt===1?0:sn+(Nt-2)*mn;if(this.ctx.clip_path.length!==0){var En=this.path;Ae=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=B(Ae,this.posX+this.margin[3],-ln+qt+this.ctx.prevPageLastElemOffset),Y.call(this,M,!0),this.path=En}if(Ue=JSON.parse(JSON.stringify(ae)),this.path=B(Ue,this.posX+this.margin[3],-ln+qt+this.ctx.prevPageLastElemOffset),W===!1||Nt===0){var an=(Nt>rt||Nt<St)&&S.call(this);an&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Jt,mn,null).clip().discardPath()),Y.call(this,M,W),an&&this.pdf.restoreGraphicsState()}this.lineWidth=we}this.path=ae}else this.lineWidth=ke,Y.call(this,M,W),this.lineWidth=we},Y=function(M,W){if((M!=="stroke"||W||!T.call(this))&&(M==="stroke"||W||!x.call(this))){for(var K,Q,ce=[],we=this.path,ke=0;ke<we.length;ke++){var fe=we[ke];switch(fe.type){case"begin":ce.push({begin:!0});break;case"close":ce.push({close:!0});break;case"mt":ce.push({start:fe,deltas:[],abs:[]});break;case"lt":var Ae=ce.length;if(we[ke-1]&&!isNaN(we[ke-1].x)&&(K=[fe.x-we[ke-1].x,fe.y-we[ke-1].y],Ae>0)){for(;Ae>=0;Ae--)if(ce[Ae-1].close!==!0&&ce[Ae-1].begin!==!0){ce[Ae-1].deltas.push(K),ce[Ae-1].abs.push(fe);break}}break;case"bct":K=[fe.x1-we[ke-1].x,fe.y1-we[ke-1].y,fe.x2-we[ke-1].x,fe.y2-we[ke-1].y,fe.x-we[ke-1].x,fe.y-we[ke-1].y],ce[ce.length-1].deltas.push(K);break;case"qct":var Ue=we[ke-1].x+2/3*(fe.x1-we[ke-1].x),ae=we[ke-1].y+2/3*(fe.y1-we[ke-1].y),it=fe.x+2/3*(fe.x1-fe.x),dt=fe.y+2/3*(fe.y1-fe.y),re=fe.x,lt=fe.y;K=[Ue-we[ke-1].x,ae-we[ke-1].y,it-we[ke-1].x,dt-we[ke-1].y,re-we[ke-1].x,lt-we[ke-1].y],ce[ce.length-1].deltas.push(K);break;case"arc":ce.push({deltas:[],abs:[],arc:!0}),Array.isArray(ce[ce.length-1].abs)&&ce[ce.length-1].abs.push(fe)}}Q=W?null:M==="stroke"?"stroke":"fill";for(var ft=!1,kt=0;kt<ce.length;kt++)if(ce[kt].arc)for(var rt=ce[kt].abs,St=0;St<rt.length;St++){var Nt=rt[St];Nt.type==="arc"?O.call(this,Nt.x,Nt.y,Nt.radius,Nt.startAngle,Nt.endAngle,Nt.counterclockwise,void 0,W,!ft):V.call(this,Nt.x,Nt.y),ft=!0}else if(ce[kt].close===!0)this.pdf.internal.out("h"),ft=!1;else if(ce[kt].begin!==!0){var Jt=ce[kt].start.x,qt=ce[kt].start.y;me.call(this,ce[kt].deltas,Jt,qt),ft=!0}Q&&C.call(this,Q),W&&H.call(this)}},J=function(M){var W=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,K=W*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return M-K;case"top":return M+W-K;case"hanging":return M+W-2*K;case"middle":return M+W/2-K;default:return M}},F=function(M){return M+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};p.prototype.createLinearGradient=function(){var M=function(){};return M.colorStops=[],M.addColorStop=function(W,K){this.colorStops.push([W,K])},M.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},M.isCanvasGradient=!0,M},p.prototype.createPattern=function(){return this.createLinearGradient()},p.prototype.createRadialGradient=function(){return this.createLinearGradient()};var O=function(M,W,K,Q,ce,we,ke,fe,Ae){for(var Ue=se.call(this,K,Q,ce,we),ae=0;ae<Ue.length;ae++){var it=Ue[ae];ae===0&&(Ae?P.call(this,it.x1+M,it.y1+W):V.call(this,it.x1+M,it.y1+W)),Ne.call(this,M,W,it.x2,it.y2,it.x3,it.y3,it.x4,it.y4)}fe?H.call(this):C.call(this,ke)},C=function(M){switch(M){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},H=function(){this.pdf.clip(),this.pdf.discardPath()},P=function(M,W){this.pdf.internal.out(n(M)+" "+r(W)+" m")},L=function(M){var W;switch(M.align){case"right":case"end":W="right";break;case"center":W="center";break;default:W="left"}var K,Q,ce,we=this.pdf.getTextDimensions(M.text),ke=J.call(this,M.y),fe=F.call(this,ke)-we.h,Ae=this.ctx.transform.applyToPoint(new a(M.x,ke));if(this.autoPaging){var Ue=this.ctx.transform.decompose(),ae=new c;ae=(ae=(ae=ae.multiply(Ue.translate)).multiply(Ue.skew)).multiply(Ue.scale);for(var it=this.ctx.transform.applyToRectangle(new o(M.x,ke,we.w,we.h)),dt=ae.applyToRectangle(new o(M.x,fe,we.w,we.h)),re=N.call(this,dt),lt=[],ft=0;ft<re.length;ft+=1)lt.indexOf(re[ft])===-1&&lt.push(re[ft]);R(lt);for(var kt=lt[0],rt=lt[lt.length-1],St=kt;St<rt+1;St++){this.pdf.setPage(St);var Nt=St===1?this.posY+this.margin[0]:this.margin[0],Jt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],qt=this.pdf.internal.pageSize.height-this.margin[2],sn=qt-this.margin[0],mn=this.pdf.internal.pageSize.width-this.margin[1],ln=mn-this.margin[3],En=St===1?0:Jt+(St-2)*sn;if(this.ctx.clip_path.length!==0){var an=this.path;K=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=B(K,this.posX+this.margin[3],-1*En+Nt),Y.call(this,"fill",!0),this.path=an}var Ft=B([JSON.parse(JSON.stringify(dt))],this.posX+this.margin[3],-En+Nt+this.ctx.prevPageLastElemOffset)[0];M.scale>=.01&&(Q=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Q*M.scale),ce=this.lineWidth,this.lineWidth=ce*M.scale);var At=this.autoPaging!=="text";if(At||Ft.y+Ft.h<=qt){if(At||Ft.y>=Nt&&Ft.x<=mn){var Rt=At?M.text:this.pdf.splitTextToSize(M.text,M.maxWidth||mn-Ft.x)[0],qn=B([JSON.parse(JSON.stringify(it))],this.posX+this.margin[3],-En+Nt+this.ctx.prevPageLastElemOffset)[0],$t=At&&(St>kt||St<rt)&&S.call(this);$t&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ln,sn,null).clip().discardPath()),this.pdf.text(Rt,qn.x,qn.y,{angle:M.angle,align:W,renderingMode:M.renderingMode}),$t&&this.pdf.restoreGraphicsState()}}else Ft.y<qt&&(this.ctx.prevPageLastElemOffset+=qt-Ft.y);M.scale>=.01&&(this.pdf.setFontSize(Q),this.lineWidth=ce)}}else M.scale>=.01&&(Q=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Q*M.scale),ce=this.lineWidth,this.lineWidth=ce*M.scale),this.pdf.text(M.text,Ae.x+this.posX,Ae.y+this.posY,{angle:M.angle,align:W,renderingMode:M.renderingMode,maxWidth:M.maxWidth}),M.scale>=.01&&(this.pdf.setFontSize(Q),this.lineWidth=ce)},V=function(M,W,K,Q){K=K||0,Q=Q||0,this.pdf.internal.out(n(M+K)+" "+r(W+Q)+" l")},me=function(M,W,K){return this.pdf.lines(M,W,K,null,null)},Ne=function(M,W,K,Q,ce,we,ke,fe){this.pdf.internal.out([e(i(K+M)),e(s(Q+W)),e(i(ce+M)),e(s(we+W)),e(i(ke+M)),e(s(fe+W)),"c"].join(" "))},se=function(M,W,K,Q){for(var ce=2*Math.PI,we=Math.PI/2;W>K;)W-=ce;var ke=Math.abs(K-W);ke<ce&&Q&&(ke=ce-ke);for(var fe=[],Ae=Q?-1:1,Ue=W;ke>1e-5;){var ae=Ue+Ae*Math.min(ke,we);fe.push(xe.call(this,M,Ue,ae)),ke-=Math.abs(ae-Ue),Ue=ae}return fe},xe=function(M,W,K){var Q=(K-W)/2,ce=M*Math.cos(Q),we=M*Math.sin(Q),ke=ce,fe=-we,Ae=ke*ke+fe*fe,Ue=Ae+ke*ce+fe*we,ae=4/3*(Math.sqrt(2*Ae*Ue)-Ue)/(ke*we-fe*ce),it=ke-ae*fe,dt=fe+ae*ke,re=it,lt=-dt,ft=Q+W,kt=Math.cos(ft),rt=Math.sin(ft);return{x1:M*Math.cos(W),y1:M*Math.sin(W),x2:it*kt-dt*rt,y2:it*rt+dt*kt,x3:re*kt-lt*rt,y3:re*rt+lt*kt,x4:M*Math.cos(K),y4:M*Math.sin(K)}},he=function(M){return 180*M/Math.PI},ue=function(M,W,K,Q,ce,we){var ke=M+.5*(K-M),fe=W+.5*(Q-W),Ae=ce+.5*(K-ce),Ue=we+.5*(Q-we),ae=Math.min(M,ce,ke,Ae),it=Math.max(M,ce,ke,Ae),dt=Math.min(W,we,fe,Ue),re=Math.max(W,we,fe,Ue);return new o(ae,dt,it-ae,re-dt)},Le=function(M,W,K,Q,ce,we,ke,fe){var Ae,Ue,ae,it,dt,re,lt,ft,kt,rt,St,Nt,Jt,qt,sn=K-M,mn=Q-W,ln=ce-K,En=we-Q,an=ke-ce,Ft=fe-we;for(Ue=0;Ue<41;Ue++)kt=(lt=(ae=M+(Ae=Ue/40)*sn)+Ae*((dt=K+Ae*ln)-ae))+Ae*(dt+Ae*(ce+Ae*an-dt)-lt),rt=(ft=(it=W+Ae*mn)+Ae*((re=Q+Ae*En)-it))+Ae*(re+Ae*(we+Ae*Ft-re)-ft),Ue==0?(St=kt,Nt=rt,Jt=kt,qt=rt):(St=Math.min(St,kt),Nt=Math.min(Nt,rt),Jt=Math.max(Jt,kt),qt=Math.max(qt,rt));return new o(Math.round(St),Math.round(Nt),Math.round(Jt-St),Math.round(qt-Nt))},ne=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var M,W,K=(M=this.ctx.lineDash,W=this.ctx.lineDashOffset,JSON.stringify({lineDash:M,lineDashOffset:W}));this.prevLineDash!==K&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=K)}}})(fn.API),(function(t){var e=function(a){var o,c,f,h,p,g,x,T,S,N;for(c=[],f=0,h=(a+=o="\0\0\0\0".slice(a.length%4||4)).length;h>f;f+=4)(p=(a.charCodeAt(f)<<24)+(a.charCodeAt(f+1)<<16)+(a.charCodeAt(f+2)<<8)+a.charCodeAt(f+3))!==0?(g=(p=((p=((p=((p=(p-(N=p%85))/85)-(S=p%85))/85)-(T=p%85))/85)-(x=p%85))/85)%85,c.push(g+33,x+33,T+33,S+33,N+33)):c.push(122);return(function(k,B){for(var R=B;R>0;R--)k.pop()})(c,o.length),String.fromCharCode.apply(String,c)+"~>"},n=function(a){var o,c,f,h,p,g=String,x="length",T=255,S="charCodeAt",N="slice",k="replace";for(a[N](-2),a=a[N](0,-2)[k](/\s/g,"")[k]("z","!!!!!"),f=[],h=0,p=(a+=o="uuuuu"[N](a[x]%5||5))[x];p>h;h+=5)c=52200625*(a[S](h)-33)+614125*(a[S](h+1)-33)+7225*(a[S](h+2)-33)+85*(a[S](h+3)-33)+(a[S](h+4)-33),f.push(T&c>>24,T&c>>16,T&c>>8,T&c);return(function(B,R){for(var q=R;q>0;q--)B.pop()})(f,o[x]),g.fromCharCode.apply(g,f)},r=function(a){return a.split("").map(function(o){return("0"+o.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(a){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),o.test(a)===!1)return"";for(var c="",f=0;f<a.length;f+=2)c+=String.fromCharCode("0x"+(a[f]+a[f+1]));return c},s=function(a){for(var o=new Uint8Array(a.length),c=a.length;c--;)o[c]=a.charCodeAt(c);return(o=g5(o)).reduce(function(f,h){return f+String.fromCharCode(h)},"")};t.processDataByFilters=function(a,o){var c=0,f=a||"",h=[];for(typeof(o=o||[])=="string"&&(o=[o]),c=0;c<o.length;c+=1)switch(o[c]){case"ASCII85Decode":case"/ASCII85Decode":f=n(f),h.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":f=e(f),h.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":f=i(f),h.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":f=r(f),h.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":f=s(f),h.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[c]+'" is not implemented')}return{data:f,reverseChain:h.reverse().join(" ")}}})(fn.API),(function(t){t.loadFile=function(e,n,r){return(function(i,s,a){s=s!==!1,a=typeof a=="function"?a:function(){};var o=void 0;try{o=(function(c,f,h){var p=new XMLHttpRequest,g=0,x=function(T){var S=T.length,N=[],k=String.fromCharCode;for(g=0;g<S;g+=1)N.push(k(255&T.charCodeAt(g)));return N.join("")};if(p.open("GET",c,!f),p.overrideMimeType("text/plain; charset=x-user-defined"),f===!1&&(p.onload=function(){p.status===200?h(x(this.responseText)):h(void 0)}),p.send(null),f&&p.status===200)return x(p.responseText)})(i,s,a)}catch{}return o})(e,n,r)},t.loadImageFile=t.loadFile})(fn.API),(function(t){function e(){return(Pn.html2canvas?Promise.resolve(Pn.html2canvas):fy(()=>import("./html2canvas.esm-Ge7aVWlp.js"),[],import.meta.url)).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function n(){return(Pn.DOMPurify?Promise.resolve(Pn.DOMPurify):fy(()=>import("./purify.es-C65SP4u9.js"),[],import.meta.url)).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var r=function(o){var c=Fr(o);return c==="undefined"?"undefined":c==="string"||o instanceof String?"string":c==="number"||o instanceof Number?"number":c==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":c==="object"?"object":"unknown"},i=function(o,c){var f=document.createElement(o);for(var h in c.className&&(f.className=c.className),c.innerHTML&&c.dompurify&&(f.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)f.style[h]=c.style[h];return f},s=function o(c,f){for(var h=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),p=c.firstChild;p;p=p.nextSibling)f!==!0&&p.nodeType===1&&p.nodeName==="SCRIPT"||h.appendChild(o(p,f));return c.nodeType===1&&(c.nodeName==="CANVAS"?(h.width=c.width,h.height=c.height,h.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(h.value=c.value),h.addEventListener("load",function(){h.scrollTop=c.scrollTop,h.scrollLeft=c.scrollLeft},!0)),h},a=function o(c){var f=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),h=o.convert(Promise.resolve(),f);return(h=h.setProgress(1,o,1,[o])).set(c)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(o,c){return o.__proto__=c||a.prototype,o},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(o,c){return this.then(function(){switch(c=c||(function(f){switch(r(f)){case"string":return"string";case"element":return f.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(o),c){case"string":return this.then(n).then(function(f){return this.set({src:i("div",{innerHTML:o,dompurify:f})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},a.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(c){var f=Object.assign({},this.opt.html2canvas);return delete f.onrendered,c(this.prop.container,f)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(c){var f=this.opt.jsPDF,h=this.opt.fontFaces,p=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,g=Object.assign({async:!0,allowTaint:!0,scale:p,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete g.onrendered,f.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,f.context2d.posX=this.opt.x,f.context2d.posY=this.opt.y,f.context2d.margin=this.opt.margin,f.context2d.fontFaces=h,h)for(var x=0;x<h.length;++x){var T=h[x],S=T.src.find(function(N){return N.format==="truetype"});S&&f.addFont(S.url,T.ref.name,T.ref.style)}return g.windowHeight=g.windowHeight||0,g.windowHeight=g.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):g.windowHeight,f.context2d.save(!0),c(this.prop.container,g)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(o,c,f){return(f=f||"pdf").toLowerCase()==="img"||f.toLowerCase()==="image"?this.outputImg(o,c):this.outputPdf(o,c)},a.prototype.outputPdf=function(o,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,c)})},a.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},a.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(o){if(r(o)!=="object")return this;var c=Object.keys(o||{}).map(function(f){if(f in a.template.prop)return function(){this.prop[f]=o[f]};switch(f){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[f]=o[f]}}},this);return this.then(function(){return this.thenList(c)})},a.prototype.get=function(o,c){return this.then(function(){var f=o in a.template.prop?this.prop[o]:this.opt[o];return c?c(f):f})},a.prototype.setMargin=function(o){return this.then(function(){switch(r(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},a.prototype.setPageSize=function(o){function c(f,h){return Math.floor(f*h/72*96)}return this.then(function(){(o=o||fn.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:c(o.inner.width,o.k),height:c(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},a.prototype.setProgress=function(o,c,f,h){return o!=null&&(this.progress.val=o),c!=null&&(this.progress.state=c),f!=null&&(this.progress.n=f),h!=null&&(this.progress.stack=h),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(o,c,f,h){return this.setProgress(o?this.progress.val+o:null,c||null,f?this.progress.n+f:null,h?this.progress.stack.concat(h):null)},a.prototype.then=function(o,c){var f=this;return this.thenCore(o,c,function(h,p){return f.updateProgress(null,null,1,[h]),Promise.prototype.then.call(this,function(g){return f.updateProgress(null,h),g}).then(h,p).then(function(g){return f.updateProgress(1),g})})},a.prototype.thenCore=function(o,c,f){f=f||Promise.prototype.then;var h=this;o&&(o=o.bind(h)),c&&(c=c.bind(h));var p=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?h:a.convert(Object.assign({},h),Promise.prototype),g=f.call(p,o,c);return a.convert(g,h.__proto__)},a.prototype.thenExternal=function(o,c){return Promise.prototype.then.call(this,o,c)},a.prototype.thenList=function(o){var c=this;return o.forEach(function(f){c=c.thenCore(f)}),c},a.prototype.catch=function(o){o&&(o=o.bind(this));var c=Promise.prototype.catch.call(this,o);return a.convert(c,this)},a.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},a.prototype.error=function(o){return this.then(function(){throw new Error(o)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,fn.getPageSize=function(o,c,f){if(Fr(o)==="object"){var h=o;o=h.orientation,c=h.unit||c,f=h.format||f}c=c||"mm",f=f||"a4",o=(""+(o||"P")).toLowerCase();var p,g=(""+f).toLowerCase(),x={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":p=1;break;case"mm":p=72/25.4;break;case"cm":p=72/2.54;break;case"in":p=72;break;case"px":p=.75;break;case"pc":case"em":p=12;break;case"ex":p=6;break;default:throw"Invalid unit: "+c}var T,S=0,N=0;if(x.hasOwnProperty(g))S=x[g][1]/p,N=x[g][0]/p;else try{S=f[1],N=f[0]}catch{throw new Error("Invalid format: "+f)}if(o==="p"||o==="portrait")o="p",N>S&&(T=N,N=S,S=T);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",S>N&&(T=N,N=S,S=T)}return{width:N,height:S,unit:c,k:p,orientation:o}},t.html=function(o,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(Dw):null;var f=new a(c);return c.worker?f:f.from(o).doCallback()}})(fn.API),fn.API.addJS=function(t){return L6=t,this.internal.events.subscribe("postPutResources",function(){Vx=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Vx+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),M6=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+L6+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Vx!==void 0&&M6!==void 0&&this.internal.out("/Names <</JavaScript "+Vx+" 0 R>>")}),this},(function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),s=0;s<i.length;s++){var a=i[s],o=r.exec(a);if(o!=null){var c=o[1];n.internal.newObjectDeferredBegin(c,!1)}n.internal.write(a)}if(this.outline.createNamedDestinations){var f=this.internal.pages.length,h=[];for(s=0;s<f;s++){var p=n.internal.newObject();h.push(p);var g=n.internal.getPageInfo(s+1);n.internal.write("<< /D["+g.objId+" 0 R /XYZ null null null]>> endobj")}var x=n.internal.newObject();for(n.internal.write("<< /Names [ "),s=0;s<h.length;s++)n.internal.write("(page_"+(s+1)+")"+h[s]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+x+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var n=this;n.outline.root.children.length>0&&(n.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&n.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,s){var a={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(a),a},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var a=r.children[s];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var o=this.count=this.count_r({count:0},a);if(o>0&&this.line("/Count "+o),a.options&&a.options.pageNumber){var c=n.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var f=0;f<r.children.length;f++)this.renderItems(r.children[f])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])})(fn.API),(function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,i,s,a,o){var c,f=this.decode.DCT_DECODE,h=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=a||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,c=(function(p){for(var g,x=256*p.charCodeAt(4)+p.charCodeAt(5),T=p.length,S={width:0,height:0,numcomponents:1},N=4;N<T;N+=2){if(N+=x,e.indexOf(p.charCodeAt(N+1))!==-1){g=256*p.charCodeAt(N+5)+p.charCodeAt(N+6),S={width:256*p.charCodeAt(N+7)+p.charCodeAt(N+8),height:g,numcomponents:p.charCodeAt(N+9)};break}x=256*p.charCodeAt(N+2)+p.charCodeAt(N+3)}return S})(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n),c.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}h={data:n,width:c.width,height:c.height,colorSpace:o,bitsPerComponent:8,filter:f,index:r,alias:i}}return h}})(fn.API),fn.API.processPNG=function(t,e,n,r){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var i,s=mle(t,{checkCrc:!0}),a=s.width,o=s.height,c=s.channels,f=s.palette,h=s.depth;i=f&&c===1?(function(O){for(var C=O.width,H=O.height,P=O.data,L=O.palette,V=O.depth,me=!1,Ne=[],se=[],xe=void 0,he=!1,ue=0,Le=0;Le<L.length;Le++){var ne=Uk(L[Le],4),M=ne[0],W=ne[1],K=ne[2],Q=ne[3];Ne.push(M,W,K),Q!=null&&(Q===0?(ue++,se.length<1&&se.push(Le)):Q<255&&(he=!0))}if(he||ue>1){me=!0,se=void 0;var ce=C*H;xe=new Uint8Array(ce);for(var we=new DataView(P.buffer),ke=0;ke<ce;ke++){var fe=Lw(we,ke,V),Ae=Uk(L[fe],4)[3];xe[ke]=Ae}}else ue===0&&(se=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:me?8:void 0,colorBytes:P,alphaBytes:xe,needSMask:me,palette:Ne,mask:se}})(s):c===2||c===4?(function(O){for(var C=O.data,H=O.width,P=O.height,L=O.channels,V=O.depth,me=L===2?"DeviceGray":"DeviceRGB",Ne=L-1,se=H*P,xe=Ne,he=se*xe,ue=1*se,Le=Math.ceil(he*V/8),ne=Math.ceil(ue*V/8),M=new Uint8Array(Le),W=new Uint8Array(ne),K=new DataView(C.buffer),Q=new DataView(M.buffer),ce=new DataView(W.buffer),we=!1,ke=0;ke<se;ke++){for(var fe=ke*L,Ae=0;Ae<xe;Ae++)z6(Q,Lw(K,fe+Ae,V),ke*xe+Ae,V);var Ue=Lw(K,fe+xe,V);Ue<(1<<V)-1&&(we=!0),z6(ce,Ue,1*ke,V)}return{colorSpace:me,colorsPerPixel:Ne,sMaskBitsPerComponent:we?V:void 0,colorBytes:M,alphaBytes:W,needSMask:we}})(s):(function(O){var C=O.data,H=O.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:H,colorsPerPixel:H==="DeviceGray"?1:3,colorBytes:C instanceof Uint16Array?(function(P){for(var L=P.length,V=new Uint8Array(2*L),me=new DataView(V.buffer,V.byteOffset,V.byteLength),Ne=0;Ne<L;Ne++)me.setUint16(2*Ne,P[Ne],!1);return V})(C):C,needSMask:!1}})(s);var p,g,x,T=i,S=T.colorSpace,N=T.colorsPerPixel,k=T.sMaskBitsPerComponent,B=T.colorBytes,R=T.alphaBytes,q=T.needSMask,Y=T.palette,J=T.mask,F=null;return r!==fn.API.image_compression.NONE&&typeof g5=="function"?(F=(function(O){var C;switch(O){case fn.API.image_compression.FAST:C=11;break;case fn.API.image_compression.MEDIUM:C=13;break;case fn.API.image_compression.SLOW:C=14;break;default:C=12}return C})(r),p=this.decode.FLATE_DECODE,g="/Predictor ".concat(F," /Colors ").concat(N," /BitsPerComponent ").concat(h," /Columns ").concat(a),t=U6(B,Math.ceil(a*N*h/8),N,h,r),q&&(x=U6(R,Math.ceil(a*k/8),1,k,r))):(p=void 0,g=void 0,t=B,q&&(x=R)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(x&&this.__addimage__.isArrayBuffer(x)||this.__addimage__.isArrayBufferView(x))&&(x=this.__addimage__.arrayBufferToBinaryString(x)),{alias:n,data:t,index:e,filter:p,decodeParameters:g,transparency:J,palette:Y,sMask:x,predictor:F,width:a,height:o,bitsPerComponent:h,sMaskBitsPerComponent:k,colorSpace:S}}},(function(t){t.processGIF89A=function(e,n,r,i){var s=new Fle(e),a=s.width,o=s.height,c=[];s.decodeAndBlitFrameRGBA(0,c);var f={data:c,width:a,height:o},h=new Fw(100).encode(f,100);return t.processJPEG.call(this,h,n,r,i)},t.processGIF87A=t.processGIF89A})(fn.API),Bl.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Bl.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){ti.log("bit decode error:"+n)}},Bl.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+8*i*4,o=0;o<8&&8*i+o<this.width;o++){var c=this.palette[s>>7-o&1];this.data[a+4*o]=c.blue,this.data[a+4*o+1]=c.green,this.data[a+4*o+2]=c.red,this.data[a+4*o+3]=255}n!==0&&(this.pos+=4-n)}},Bl.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var s=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+2*i*4,o=s>>4,c=15&s,f=this.palette[o];if(this.data[a]=f.blue,this.data[a+1]=f.green,this.data[a+2]=f.red,this.data[a+3]=255,2*i+1>=this.width)break;f=this.palette[c],this.data[a+4]=f.blue,this.data[a+4+1]=f.green,this.data[a+4+2]=f.red,this.data[a+4+3]=255}e!==0&&(this.pos+=4-e)}},Bl.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*r;if(i<this.palette.length){var a=this.palette[i];this.data[s]=a.red,this.data[s+1]=a.green,this.data[s+2]=a.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},Bl.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&e)/e*255|0,o=(s>>5&e)/e*255|0,c=(s>>10&e)/e*255|0,f=s>>15?255:0,h=r*this.width*4+4*i;this.data[h]=c,this.data[h+1]=o,this.data[h+2]=a,this.data[h+3]=f}this.pos+=t}},Bl.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&e)/e*255|0,c=(a>>5&n)/n*255|0,f=(a>>11)/e*255|0,h=i*this.width*4+4*s;this.data[h]=f,this.data[h+1]=c,this.data[h+2]=o,this.data[h+3]=255}this.pos+=t}},Bl.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*n;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=255}this.pos+=this.width%4}},Bl.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*n;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=a}},Bl.prototype.getData=function(){return this.data},(function(t){t.processBMP=function(e,n,r,i){var s=new Bl(e,!1),a=s.width,o=s.height,c={data:s.getData(),width:a,height:o},f=new Fw(100).encode(c,100);return t.processJPEG.call(this,f,n,r,i)}})(fn.API),$6.prototype.getData=function(){return this.data},(function(t){t.processWEBP=function(e,n,r,i){var s=new $6(e),a=s.width,o=s.height,c={data:s.getData(),width:a,height:o},f=new Fw(100).encode(c,100);return t.processJPEG.call(this,f,n,r,i)}})(fn.API),fn.API.processRGBA=function(t,e,n){for(var r=t.data,i=r.length,s=new Uint8Array(i/4*3),a=new Uint8Array(i/4),o=0,c=0,f=0;f<i;f+=4){var h=r[f],p=r[f+1],g=r[f+2],x=r[f+3];s[o++]=h,s[o++]=p,s[o++]=g,a[c++]=x}var T=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:T,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},fn.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},m0=fn.API,Ux=m0.getCharWidthsArray=function(t,e){var n,r,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),a=e.charSpace||this.internal.getCharSpace(),o=e.widths?e.widths:i.metadata.Unicode.widths,c=o.fof?o.fof:1,f=e.kerning?e.kerning:i.metadata.Unicode.kerning,h=f.fof?f.fof:1,p=e.doKerning!==!1,g=0,x=t.length,T=0,S=o[0]||c,N=[];for(n=0;n<x;n++)r=t.charCodeAt(n),typeof i.metadata.widthOfString=="function"?N.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+a*(1e3/s)||0)/1e3):(g=p&&Fr(f[r])==="object"&&!isNaN(parseInt(f[r][T],10))?f[r][T]/h:0,N.push((o[r]||S)/c+g)),T=r;return N},F6=m0.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return m0.processArabic&&(t=m0.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,i)/n:Ux.apply(this,arguments).reduce(function(s,a){return s+a},0)},O6=function(t,e,n,r){for(var i=[],s=0,a=t.length,o=0;s!==a&&o+e[s]<n;)o+=e[s],s++;i.push(t.slice(0,s));var c=s;for(o=0;s!==a;)o+e[s]>r&&(i.push(t.slice(c,s)),o=0,c=s),o+=e[s],s++;return c!==s&&i.push(t.slice(c,s)),i},V6=function(t,e,n){n||(n={});var r,i,s,a,o,c,f,h=[],p=[h],g=n.textIndent||0,x=0,T=0,S=t.split(" "),N=Ux.apply(this,[" ",n])[0];if(c=n.lineIndent===-1?S[0].length+2:n.lineIndent||0){var k=Array(c).join(" "),B=[];S.map(function(q){(q=q.split(/\s*\n/)).length>1?B=B.concat(q.map(function(Y,J){return(J&&Y.length?`
`:"")+Y})):B.push(q[0])}),S=B,c=F6.apply(this,[k,n])}for(s=0,a=S.length;s<a;s++){var R=0;if(r=S[s],c&&r[0]==`
`&&(r=r.substr(1),R=1),g+x+(T=(i=Ux.apply(this,[r,n])).reduce(function(q,Y){return q+Y},0))>e||R){if(T>e){for(o=O6.apply(this,[r,i,e-(g+x),e]),h.push(o.shift()),h=[o.pop()];o.length;)p.push([o.shift()]);T=i.slice(r.length-(h[0]?h[0].length:0)).reduce(function(q,Y){return q+Y},0)}else h=[r];p.push(h),g=T+c,x=N}else h.push(r),g+=x+T,x=N}return f=c?function(q,Y){return(Y?k:"")+q.join(" ")}:function(q){return q.join(" ")},p.map(f)},m0.splitTextToSize=function(t,e,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),s=(function(h){if(h.widths&&h.kerning)return{widths:h.widths,kerning:h.kerning};var p=this.internal.getFont(h.fontName,h.fontStyle),g="Unicode";return p.metadata[g]?{widths:p.metadata[g].widths||{0:1},kerning:p.metadata[g].kerning||{}}:{font:p.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var a=1*this.internal.scaleFactor*e/i;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=n.lineIndent;var o,c,f=[];for(o=0,c=r.length;o<c;o++)f=f.concat(V6.apply(this,[r[o],a,s]));return f},(function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",n="klmnopqrstuvwxyz",r={},i={},s=0;s<16;s++)r[n[s]]=e[s],i[e[s]]=n[s];var a=function(g){return"0x"+parseInt(g,10).toString(16)},o=t.__fontmetrics__.compress=function(g){var x,T,S,N,k=["{"];for(var B in g){if(x=g[B],isNaN(parseInt(B,10))?T="'"+B+"'":(B=parseInt(B,10),T=(T=a(B).slice(2)).slice(0,-1)+i[T.slice(-1)]),typeof x=="number")x<0?(S=a(x).slice(3),N="-"):(S=a(x).slice(2),N=""),S=N+S.slice(0,-1)+i[S.slice(-1)];else{if(Fr(x)!=="object")throw new Error("Don't know what to do with value type "+Fr(x)+".");S=o(x)}k.push(T+S)}return k.push("}"),k.join("")},c=t.__fontmetrics__.uncompress=function(g){if(typeof g!="string")throw new Error("Invalid argument passed to uncompress.");for(var x,T,S,N,k={},B=1,R=k,q=[],Y="",J="",F=g.length-1,O=1;O<F;O+=1)(N=g[O])=="'"?x?(S=x.join(""),x=void 0):x=[]:x?x.push(N):N=="{"?(q.push([R,S]),R={},S=void 0):N=="}"?((T=q.pop())[0][T[1]]=R,S=void 0,R=T[0]):N=="-"?B=-1:S===void 0?r.hasOwnProperty(N)?(Y+=r[N],S=parseInt(Y,16)*B,B=1,Y=""):Y+=N:r.hasOwnProperty(N)?(J+=r[N],R[S]=parseInt(J,16)*B,B=1,S=void 0,J=""):J+=N;return k},f={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},h={Unicode:{Courier:f,"Courier-Bold":f,"Courier-BoldOblique":f,"Courier-Oblique":f,Helvetica:f,"Helvetica-Bold":f,"Helvetica-BoldOblique":f,"Helvetica-Oblique":f,"Times-Roman":f,"Times-Bold":f,"Times-BoldItalic":f,"Times-Italic":f}},p={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(g){var x=g.font,T=p.Unicode[x.postScriptName];T&&(x.metadata.Unicode={},x.metadata.Unicode.widths=T.widths,x.metadata.Unicode.kerning=T.kerning);var S=h.Unicode[x.postScriptName];S&&(x.metadata.Unicode.encoding=S,x.encoding=S.codePages[0])}])})(fn.API),(function(t){var e=function(n){for(var r=n.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=n.charCodeAt(s);return i};t.API.events.push(["addFont",function(n){var r=void 0,i=n.font,s=n.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(a,o){o=/^\x00\x01\x00\x00/.test(o)?e(o):e(by(o)),a.metadata=t.API.TTFFont.open(o),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(i,r)}}])})(fn),fn.API.addSvgAsImage=function(t,e,n,r,i,s,a,o){if(isNaN(e)||isNaN(n))throw ti.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(i))throw ti.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=r,c.height=i;var f=c.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,c.width,c.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return(Pn.canvg?Promise.resolve(Pn.canvg):fy(()=>import("./index.es-CQWBkrzc.js"),[],import.meta.url)).catch(function(g){return Promise.reject(new Error("Could not load canvg: "+g))}).then(function(g){return g.default?g.default:g}).then(function(g){return g.fromString(f,t,h)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(g){return g.render(h)}).then(function(){p.addImage(c.toDataURL("image/jpeg",1),e,n,r,i,a,o)})},fn.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,n);return this},fn.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,i,s,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(a),c=[],f=0,h=0,p=0;function g(T,S){var N,k=!1;for(N=0;N<T.length;N+=1)T[N]===S&&(k=!0);return k}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var x=o.length;for(p=0;p<x;p+=1)n[o[p]].value=n[o[p]].defaultValue,n[o[p]].explicitSet=!1}if(Fr(t)==="object"){for(i in t)if(s=t[i],g(o,i)&&s!==void 0){if(n[i].type==="boolean"&&typeof s=="boolean")n[i].value=s;else if(n[i].type==="name"&&g(n[i].valueSet,s))n[i].value=s;else if(n[i].type==="integer"&&Number.isInteger(s))n[i].value=s;else if(n[i].type==="array"){for(f=0;f<s.length;f+=1)if(r=!0,s[f].length===1&&typeof s[f][0]=="number")c.push(String(s[f]-1));else if(s[f].length>1){for(h=0;h<s[f].length;h+=1)typeof s[f][h]!="number"&&(r=!1);r===!0&&c.push([s[f][0]-1,s[f][1]-1].join(" "))}n[i].value="["+c.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var T,S=[];for(T in n)n[T].explicitSet===!0&&(n[T].type==="name"?S.push("/"+T+" /"+n[T].value):S.push("/"+T+" "+n[T].value));S.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+S.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},(function(t){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),f=s.length+a.length+o.length+i.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+f+" >>"),this.internal.write("stream"),this.internal.write(i+s+a+o+c),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}})(fn.API),(function(t){var e=t.API,n=e.pdfEscape16=function(s,a){for(var o,c=a.metadata.Unicode.widths,f=["","0","00","000","0000"],h=[""],p=0,g=s.length;p<g;++p){if(o=a.metadata.characterToGlyph(s.charCodeAt(p)),a.metadata.glyIdsUsed.push(o),a.metadata.toUnicode[o]=s.charCodeAt(p),c.indexOf(o)==-1&&(c.push(o),c.push([parseInt(a.metadata.widthOfGlyph(o),10)])),o=="0")return h.join("");o=o.toString(16),h.push(f[4-o.length],o)}return h.join("")},r=function(s){var a,o,c,f,h,p,g;for(h=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],p=0,g=(o=Object.keys(s).sort(function(x,T){return x-T})).length;p<g;p++)a=o[p],c.length>=100&&(h+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),s[a]!==void 0&&s[a]!==null&&typeof s[a].toString=="function"&&(f=("0000"+s[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),c.push("<"+a+"><"+f+">"));return c.length&&(h+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),h+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(a){var o=a.font,c=a.out,f=a.newObject,h=a.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="Identity-H"){for(var p=o.metadata.Unicode.widths,g=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),x="",T=0;T<g.length;T++)x+=String.fromCharCode(g[T]);var S=f();h({data:x,addLength1:!0,objectId:S}),c("endobj");var N=f();h({data:r(o.metadata.toUnicode),addLength1:!0,objectId:N}),c("endobj");var k=f();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+T0(o.fontName)),c("/FontFile2 "+S+" 0 R"),c("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),c("/Flags "+o.metadata.flags),c("/StemV "+o.metadata.stemV),c("/ItalicAngle "+o.metadata.italicAngle),c("/Ascent "+o.metadata.ascender),c("/Descent "+o.metadata.decender),c("/CapHeight "+o.metadata.capHeight),c(">>"),c("endobj");var B=f();c("<<"),c("/Type /Font"),c("/BaseFont /"+T0(o.fontName)),c("/FontDescriptor "+k+" 0 R"),c("/W "+t.API.PDFObject.convert(p)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+o.encoding+")"),c(">>"),c(">>"),c("endobj"),o.objectNumber=f(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+N+" 0 R"),c("/BaseFont /"+T0(o.fontName)),c("/Encoding /"+o.encoding),c("/DescendantFonts ["+B+" 0 R]"),c(">>"),c("endobj"),o.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(a){var o=a.font,c=a.out,f=a.newObject,h=a.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var p=o.metadata.rawData,g="",x=0;x<p.length;x++)g+=String.fromCharCode(p[x]);var T=f();h({data:g,addLength1:!0,objectId:T}),c("endobj");var S=f();h({data:r(o.metadata.toUnicode),addLength1:!0,objectId:S}),c("endobj");var N=f();c("<<"),c("/Descent "+o.metadata.decender),c("/CapHeight "+o.metadata.capHeight),c("/StemV "+o.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+T+" 0 R"),c("/Flags 96"),c("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),c("/FontName /"+T0(o.fontName)),c("/ItalicAngle "+o.metadata.italicAngle),c("/Ascent "+o.metadata.ascender),c(">>"),c("endobj"),o.objectNumber=f();for(var k=0;k<o.metadata.hmtx.widths.length;k++)o.metadata.hmtx.widths[k]=parseInt(o.metadata.hmtx.widths[k]*(1e3/o.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+S+" 0 R/BaseFont/"+T0(o.fontName)+"/FontDescriptor "+N+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),c("endobj"),o.isAlreadyPutted=!0}})(s)}]);var i=function(s){var a,o=s.text||"",c=s.x,f=s.y,h=s.options||{},p=s.mutex||{},g=p.pdfEscape,x=p.activeFontKey,T=p.fonts,S=x,N="",k=0,B="",R=T[S].encoding;if(T[S].encoding!=="Identity-H")return{text:o,x:c,y:f,options:h,mutex:p};for(B=o,S=x,Array.isArray(o)&&(B=o[0]),k=0;k<B.length;k+=1)T[S].metadata.hasOwnProperty("cmap")&&(a=T[S].metadata.cmap.unicode.codeMap[B[k].charCodeAt(0)]),a||B[k].charCodeAt(0)<256&&T[S].metadata.hasOwnProperty("Unicode")?N+=B[k]:N+="";var q="";return parseInt(S.slice(1))<14||R==="WinAnsiEncoding"?q=g(N,S).split("").map(function(Y){return Y.charCodeAt(0).toString(16)}).join(""):R==="Identity-H"&&(q=n(N,T[S])),p.isHex=!0,{text:q,x:c,y:f,options:h,mutex:p}};e.events.push(["postProcessText",function(s){var a=s.text||"",o=[],c={text:a,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(a)){var f=0;for(f=0;f<a.length;f+=1)Array.isArray(a[f])&&a[f].length===3?o.push([i(Object.assign({},c,{text:a[f][0]})).text,a[f][1],a[f][2]]):o.push(i(Object.assign({},c,{text:a[f]})).text);s.text=o}else s.text=i(Object.assign({},c,{text:a})).text}])})(fn),(function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}})(fn.API),(function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var i,s,a,o,c,f,h,p=e,g=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],x=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],T={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},S={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},N=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],k=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),B=!1,R=0;this.__bidiEngine__={};var q=function(P){var L=P.charCodeAt(),V=L>>8,me=S[V];return me!==void 0?p[256*me+(255&L)]:V===252||V===253?"AL":k.test(V)?"L":V===8?"R":"N"},Y=function(P){for(var L,V=0;V<P.length;V++){if((L=q(P.charAt(V)))==="L")return!1;if(L==="R")return!0}return!1},J=function(P,L,V,me){var Ne,se,xe,he,ue=L[me];switch(ue){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":B=!1;break;case"N":case"AN":break;case"EN":B&&(ue="AN");break;case"AL":B=!0,ue="R";break;case"WS":case"BN":ue="N";break;case"CS":me<1||me+1>=L.length||(Ne=V[me-1])!=="EN"&&Ne!=="AN"||(se=L[me+1])!=="EN"&&se!=="AN"?ue="N":B&&(se="AN"),ue=se===Ne?se:"N";break;case"ES":ue=(Ne=me>0?V[me-1]:"B")==="EN"&&me+1<L.length&&L[me+1]==="EN"?"EN":"N";break;case"ET":if(me>0&&V[me-1]==="EN"){ue="EN";break}if(B){ue="N";break}for(xe=me+1,he=L.length;xe<he&&L[xe]==="ET";)xe++;ue=xe<he&&L[xe]==="EN"?"EN":"N";break;case"NSM":if(a&&!o){for(he=L.length,xe=me+1;xe<he&&L[xe]==="NSM";)xe++;if(xe<he){var Le=P[me],ne=Le>=1425&&Le<=2303||Le===64286;if(Ne=L[xe],ne&&(Ne==="R"||Ne==="AL")){ue="R";break}}}ue=me<1||(Ne=L[me-1])==="B"?"N":V[me-1];break;case"B":B=!1,i=!0,ue=R;break;case"S":s=!0,ue="N"}return ue},F=function(P,L,V){var me=P.split("");return V&&O(me,V,{hiLevel:R}),me.reverse(),L&&L.reverse(),me.join("")},O=function(P,L,V){var me,Ne,se,xe,he,ue=-1,Le=P.length,ne=0,M=[],W=R?x:g,K=[];for(B=!1,i=!1,s=!1,Ne=0;Ne<Le;Ne++)K[Ne]=q(P[Ne]);for(se=0;se<Le;se++){if(he=ne,M[se]=J(P,K,M,se),me=240&(ne=W[he][T[M[se]]]),ne&=15,L[se]=xe=W[ne][5],me>0)if(me===16){for(Ne=ue;Ne<se;Ne++)L[Ne]=1;ue=-1}else ue=-1;if(W[ne][6])ue===-1&&(ue=se);else if(ue>-1){for(Ne=ue;Ne<se;Ne++)L[Ne]=xe;ue=-1}K[se]==="B"&&(L[se]=0),V.hiLevel|=xe}s&&(function(Q,ce,we){for(var ke=0;ke<we;ke++)if(Q[ke]==="S"){ce[ke]=R;for(var fe=ke-1;fe>=0&&Q[fe]==="WS";fe--)ce[fe]=R}})(K,L,Le)},C=function(P,L,V,me,Ne){if(!(Ne.hiLevel<P)){if(P===1&&R===1&&!i)return L.reverse(),void(V&&V.reverse());for(var se,xe,he,ue,Le=L.length,ne=0;ne<Le;){if(me[ne]>=P){for(he=ne+1;he<Le&&me[he]>=P;)he++;for(ue=ne,xe=he-1;ue<xe;ue++,xe--)se=L[ue],L[ue]=L[xe],L[xe]=se,V&&(se=V[ue],V[ue]=V[xe],V[xe]=se);ne=he}ne++}}},H=function(P,L,V){var me=P.split(""),Ne={hiLevel:R};return V||(V=[]),O(me,V,Ne),(function(se,xe,he){if(he.hiLevel!==0&&h)for(var ue,Le=0;Le<se.length;Le++)xe[Le]===1&&(ue=N.indexOf(se[Le]))>=0&&(se[Le]=N[ue+1])})(me,V,Ne),C(2,me,L,V,Ne),C(1,me,L,V,Ne),me.join("")};return this.__bidiEngine__.doBidiReorder=function(P,L,V){if((function(Ne,se){if(se)for(var xe=0;xe<Ne.length;xe++)se[xe]=xe;o===void 0&&(o=Y(Ne)),f===void 0&&(f=Y(Ne))})(P,L),a||!c||f)if(a&&c&&o^f)R=o?1:0,P=F(P,L,V);else if(!a&&c&&f)R=o?1:0,P=H(P,L,V),P=F(P,L);else if(!a||o||c||f){if(a&&!c&&o^f)P=F(P,L),o?(R=0,P=H(P,L,V)):(R=1,P=H(P,L,V),P=F(P,L));else if(a&&o&&!c&&f)R=1,P=H(P,L,V),P=F(P,L);else if(!a&&!c&&o^f){var me=h;o?(R=1,P=H(P,L,V),R=0,h=!1,P=H(P,L,V),h=me):(R=0,P=H(P,L,V),P=F(P,L),R=1,h=!1,P=H(P,L,V),h=me,P=F(P,L))}}else R=0,P=H(P,L,V);else R=o?1:0,P=H(P,L,V);return P},this.__bidiEngine__.setOptions=function(P){P&&(a=P.isInputVisual,c=P.isOutputVisual,o=P.isInputRtl,f=P.isOutputRtl,h=P.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var s=r.options||{};r.mutex,s.lang;var a=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,n.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var o=0;for(a=[],o=0;o<i.length;o+=1)Object.prototype.toString.call(i[o])==="[object Array]"?a.push([n.doBidiReorder(i[o][0]),i[o][1],i[o][2]]):a.push([n.doBidiReorder(i[o])]);r.text=a}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])})(fn),fn.API.TTFFont=(function(){function t(e){var n;if(this.rawData=e,n=this.contents=new Yf(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new Jle(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new Ole(this.contents),this.head=new Ule(this),this.name=new zle(this),this.cmap=new R7(this),this.toUnicode={},this.hhea=new Ble(this),this.maxp=new Gle(this),this.hmtx=new $le(this),this.post=new qle(this),this.os2=new jle(this),this.loca=new Xle(this),this.glyf=new Wle(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,o,c,f;for(f=[],a=0,o=(c=this.bbox).length;a<o;a++)e=c[a],f.push(Math.round(e*this.scaleFactor));return f}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var i,s,a,o;for(a=0,s=0,o=(e=""+e).length;0<=o?s<o:s>o;s=0<=o?++s:--s)i=e.charCodeAt(s),a+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return a*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t})();var ec,Yf=(function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,i;for(i=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(e.charCodeAt(n)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,i,s,a,o,c;return e=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),a=this.readByte(),o=this.readByte(),c=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^a)+256*(255^o)+(255^c)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*i+16777216*s+65536*a+256*o+c},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,i,s;for(s=[],r=0,i=e.length;r<i;r++)n=e[r],s.push(this.writeByte(n));return s},t})(),Ole=(function(){var t;function e(n){var r,i,s;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,i,s,a,o,c,f,h,p,g,x,T,S;for(S in x=Object.keys(n).length,c=Math.log(2),p=16*Math.floor(Math.log(x)/c),a=Math.floor(p/c),h=16*x-p,(i=new Yf).writeInt(this.scalarType),i.writeShort(x),i.writeShort(p),i.writeShort(a),i.writeShort(h),s=16*x,f=i.pos+s,o=null,T=[],n)for(g=n[S],i.writeString(S),i.writeInt(t(g)),i.writeInt(f),i.writeInt(g.length),T=T.concat(g),S==="head"&&(o=f),f+=g.length;f%4;)T.push(0),f++;return i.write(T),r=2981146554-t(i.data),i.pos=o+8,i.writeUInt32(r),i.data},t=function(n){var r,i,s,a;for(n=P7.call(n);n.length%4;)n.push(0);for(s=new Yf(n),i=0,r=0,a=n.length;r<a;r=r+=4)i+=s.readUInt32();return 4294967295&i},e})(),Vle={}.hasOwnProperty,jc=function(t,e){for(var n in e)Vle.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};ec=(function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t})();var Ule=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return jc(t,ec),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var n;return(n=new Yf).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(e),n.writeShort(this.glyphDataFormat),n.data},t})(),W6=(function(){function t(e,n){var r,i,s,a,o,c,f,h,p,g,x,T,S,N,k,B,R;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),p=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=e.readByte();break;case 4:for(x=e.readUInt16(),g=x/2,e.pos+=6,s=(function(){var q,Y;for(Y=[],c=q=0;0<=g?q<g:q>g;c=0<=g?++q:--q)Y.push(e.readUInt16());return Y})(),e.pos+=2,S=(function(){var q,Y;for(Y=[],c=q=0;0<=g?q<g:q>g;c=0<=g?++q:--q)Y.push(e.readUInt16());return Y})(),f=(function(){var q,Y;for(Y=[],c=q=0;0<=g?q<g:q>g;c=0<=g?++q:--q)Y.push(e.readUInt16());return Y})(),h=(function(){var q,Y;for(Y=[],c=q=0;0<=g?q<g:q>g;c=0<=g?++q:--q)Y.push(e.readUInt16());return Y})(),i=(this.length-e.pos+this.offset)/2,o=(function(){var q,Y;for(Y=[],c=q=0;0<=i?q<i:q>i;c=0<=i?++q:--q)Y.push(e.readUInt16());return Y})(),c=k=0,R=s.length;k<R;c=++k)for(N=s[c],r=B=T=S[c];T<=N?B<=N:B>=N;r=T<=N?++B:--B)h[c]===0?a=r+f[c]:(a=o[h[c]/2+(r-T)-(g-c)]||0)!==0&&(a+=f[c]),this.codeMap[r]=65535&a}e.pos=p}return t.encode=function(e,n){var r,i,s,a,o,c,f,h,p,g,x,T,S,N,k,B,R,q,Y,J,F,O,C,H,P,L,V,me,Ne,se,xe,he,ue,Le,ne,M,W,K,Q,ce,we,ke,fe,Ae,Ue,ae;switch(me=new Yf,a=Object.keys(e).sort(function(it,dt){return it-dt}),n){case"macroman":for(S=0,N=(function(){var it=[];for(T=0;T<256;++T)it.push(0);return it})(),B={0:0},s={},Ne=0,ue=a.length;Ne<ue;Ne++)B[fe=e[i=a[Ne]]]==null&&(B[fe]=++S),s[i]={old:e[i],new:B[e[i]]},N[i]=B[e[i]];return me.writeUInt16(1),me.writeUInt16(0),me.writeUInt32(12),me.writeUInt16(0),me.writeUInt16(262),me.writeUInt16(0),me.write(N),{charMap:s,subtable:me.data,maxGlyphID:S+1};case"unicode":for(L=[],p=[],R=0,B={},r={},k=f=null,se=0,Le=a.length;se<Le;se++)B[Y=e[i=a[se]]]==null&&(B[Y]=++R),r[i]={old:Y,new:B[Y]},o=B[Y]-i,k!=null&&o===f||(k&&p.push(k),L.push(i),f=o),k=i;for(k&&p.push(k),p.push(65535),L.push(65535),H=2*(C=L.length),O=2*Math.pow(Math.log(C)/Math.LN2,2),g=Math.log(O/2)/Math.LN2,F=2*C-O,c=[],J=[],x=[],T=xe=0,ne=L.length;xe<ne;T=++xe){if(P=L[T],h=p[T],P===65535){c.push(0),J.push(0);break}if(P-(V=r[P].new)>=32768)for(c.push(0),J.push(2*(x.length+C-T)),i=he=P;P<=h?he<=h:he>=h;i=P<=h?++he:--he)x.push(r[i].new);else c.push(V-P),J.push(0)}for(me.writeUInt16(3),me.writeUInt16(1),me.writeUInt32(12),me.writeUInt16(4),me.writeUInt16(16+8*C+2*x.length),me.writeUInt16(0),me.writeUInt16(H),me.writeUInt16(O),me.writeUInt16(g),me.writeUInt16(F),we=0,M=p.length;we<M;we++)i=p[we],me.writeUInt16(i);for(me.writeUInt16(0),ke=0,W=L.length;ke<W;ke++)i=L[ke],me.writeUInt16(i);for(Ae=0,K=c.length;Ae<K;Ae++)o=c[Ae],me.writeUInt16(o);for(Ue=0,Q=J.length;Ue<Q;Ue++)q=J[Ue],me.writeUInt16(q);for(ae=0,ce=x.length;ae<ce;ae++)S=x[ae],me.writeUInt16(S);return{charMap:r,subtable:me.data,maxGlyphID:R+1}}},t})(),R7=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return jc(t,ec),t.prototype.tag="cmap",t.prototype.parse=function(e){var n,r,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=i?r<i:r>i;r=0<=i?++r:--r)n=new W6(e,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(e,n){var r,i;return n==null&&(n="macroman"),r=W6.encode(e,n),(i=new Yf).writeUInt16(0),i.writeUInt16(1),r.table=i.data.concat(r.subtable),r},t})(),Ble=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return jc(t,ec),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t})(),jle=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return jc(t,ec),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var n,r;for(r=[],n=0;n<10;++n)r.push(e.readByte());return r})(),this.charRange=(function(){var n,r;for(r=[],n=0;n<4;++n)r.push(e.readInt());return r})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var n,r;for(r=[],n=0;n<2;n=++n)r.push(e.readInt());return r})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t})(),qle=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return jc(t,ec),t.prototype.tag="post",t.prototype.parse=function(e){var n,r,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(r=e.readUInt16(),this.glyphNameIndex=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)n=e.readByte(),i.push(this.names.push(e.readString(n)));return i;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=(function(){var a,o,c;for(c=[],s=a=0,o=this.file.maxp.numGlyphs;0<=o?a<o:a>o;s=0<=o?++a:--a)c.push(e.readUInt32());return c}).call(this)}},t})(),Hle=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},zle=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return jc(t,ec),t.prototype.tag="name",t.prototype.parse=function(e){var n,r,i,s,a,o,c,f,h,p,g;for(e.pos=this.offset,e.readShort(),n=e.readShort(),o=e.readShort(),r=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+o+e.readShort()});for(c={},s=h=0,p=r.length;h<p;s=++h)i=r[s],e.pos=i.offset,f=e.readString(i.length),a=new Hle(f,i),c[g=i.nameID]==null&&(c[g]=[]),c[i.nameID].push(a);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},t})(),Gle=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return jc(t,ec),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t})(),$le=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return jc(t,ec),t.prototype.tag="hmtx",t.prototype.parse=function(e){var n,r,i,s,a,o,c;for(e.pos=this.offset,this.metrics=[],n=0,o=this.file.hhea.numberOfMetrics;0<=o?n<o:n>o;n=0<=o?++n:--n)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var f,h;for(h=[],n=f=0;0<=i?f<i:f>i;n=0<=i?++f:--f)h.push(e.readInt16());return h})(),this.widths=(function(){var f,h,p,g;for(g=[],f=0,h=(p=this.metrics).length;f<h;f++)s=p[f],g.push(s.advance);return g}).call(this),r=this.widths[this.widths.length-1],c=[],n=a=0;0<=i?a<i:a>i;n=0<=i?++a:--a)c.push(this.widths.push(r));return c},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t})(),P7=[].slice,Wle=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return jc(t,ec),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var n,r,i,s,a,o,c,f,h,p;return e in this.cache?this.cache[e]:(s=this.file.loca,n=this.file.contents,r=s.indexOf(e),(i=s.lengthOf(e))===0?this.cache[e]=null:(n.pos=this.offset+r,a=(o=new Yf(n.read(i))).readShort(),f=o.readShort(),p=o.readShort(),c=o.readShort(),h=o.readShort(),this.cache[e]=a===-1?new Yle(o,f,p,c,h):new Kle(o,a,f,p,c,h),this.cache[e]))},t.prototype.encode=function(e,n,r){var i,s,a,o,c;for(a=[],s=[],o=0,c=n.length;o<c;o++)i=e[n[o]],s.push(a.length),i&&(a=a.concat(i.encode(r)));return s.push(a.length),{table:a,offsets:s}},t})(),Kle=(function(){function t(e,n,r,i,s,a){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=a,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t})(),Yle=(function(){function t(e,n,r,i,s){var a,o;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;o=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&o;)a.pos+=1&o?4:2,128&o?a.pos+=8:64&o?a.pos+=4:8&o&&(a.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new Yf(P7.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t})(),Xle=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return jc(t,ec),t.prototype.tag="loca",t.prototype.parse=function(e){var n,r;return e.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,s;for(s=[],r=0,i=this.length;r<i;r+=2)s.push(2*e.readUInt16());return s}).call(this):(function(){var i,s;for(s=[],r=0,i=this.length;r<i;r+=4)s.push(e.readUInt32());return s}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,n){for(var r=new Uint32Array(this.offsets.length),i=0,s=0,a=0;a<r.length;++a)if(r[a]=i,s<n.length&&n[s]==a){++s,r[a]=i;var o=this.offsets[a],c=this.offsets[a+1]-o;c>0&&(i+=c)}for(var f=new Array(4*r.length),h=0;h<r.length;++h)f[4*h+3]=255&r[h],f[4*h+2]=(65280&r[h])>>8,f[4*h+1]=(16711680&r[h])>>16,f[4*h]=(4278190080&r[h])>>24;return f},t})(),Jle=(function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,i,s;for(n in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)r=s[n],e[n]=i[r];return e},t.prototype.glyphsFor=function(e){var n,r,i,s,a,o,c;for(i={},a=0,o=e.length;a<o;a++)i[s=e[a]]=this.font.glyf.glyphFor(s);for(s in n=[],i)(r=i[s])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(s in c=this.glyphsFor(n))r=c[s],i[s]=r;return i},t.prototype.encode=function(e,n){var r,i,s,a,o,c,f,h,p,g,x,T,S,N,k;for(i in r=R7.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(e),x={0:0},k=r.charMap)x[(c=k[i]).old]=c.new;for(T in g=r.maxGlyphID,a)T in x||(x[T]=g++);return h=(function(B){var R,q;for(R in q={},B)q[B[R]]=R;return q})(x),p=Object.keys(h).sort(function(B,R){return B-R}),S=(function(){var B,R,q;for(q=[],B=0,R=p.length;B<R;B++)o=p[B],q.push(h[o]);return q})(),s=this.font.glyf.encode(a,S,x),f=this.font.loca.encode(s.offsets,S),N={cmap:this.font.cmap.raw(),glyf:s.table,loca:f,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(N["OS/2"]=this.font.os2.raw()),this.font.directory.encode(N)},t})();fn.API.PDFObject=(function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,i,s,a;if(Array.isArray(n))return"["+(function(){var o,c,f;for(f=[],o=0,c=n.length;o<c;o++)r=n[o],f.push(e.convert(r));return f})().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n?.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in s=["<<"],n)a=n[i],s.push("/"+i+" "+e.convert(a));return s.push(">>"),s.join(`
`)}return""+n},e})();const D7=Ie.createContext(void 0);function Qle({children:t}){const{user:e}=h1(),[n,r]=Ie.useState(null),[i,s]=Ie.useState(!0),[a,o]=Ie.useState(!1),c=async()=>{if(!e){r(null),s(!1);return}try{o(!1);const h=await WW(C0(xu,"companies",e.uid));h.exists()?r(h.data()):r(null)}catch(h){console.error("Error fetching company:",h),h.code==="permission-denied"&&o(!0),r(null)}finally{s(!1)}};Ie.useEffect(()=>{c()},[e]);const f=async h=>{if(e)try{await Mb(C0(xu,"companies",e.uid),{...h,owner_uid:e.uid,owner_email:e.email,updated_at:QW()},{merge:!0}),await c()}catch(p){throw p.code==="permission-denied"?(o(!0),new Error("Permission denied. Please check Firestore Rules.")):p}};return y.jsx(D7.Provider,{value:{company:n,loading:i,permissionError:a,saveCompany:f,reloadCompany:c},children:t})}function Fp(){const t=Ie.useContext(D7);if(t===void 0)throw new Error("useCompany must be used within a CompanyProvider");return t}const Zle=(t,e)=>{const n={};return t.items.forEach(r=>{const i=r.hsn||"N/A";n[i]||(n[i]={hsn:i,description:r.description,quantity:0,baseAmount:0,cgstAmount:0,sgstAmount:0,igstAmount:0,gstRate:r.gstRate||0}),n[i].quantity+=r.quantity,n[i].baseAmount+=r.baseAmount||0,n[i].cgstAmount+=r.cgstAmount||0,n[i].sgstAmount+=r.sgstAmount||0,n[i].igstAmount+=r.igstAmount||0}),Object.values(n)},K6=t=>{const e=["","One","Two","Three","Four","Five","Six","Seven","Eight","Nine","Ten","Eleven","Twelve","Thirteen","Fourteen","Fifteen","Sixteen","Seventeen","Eighteen","Nineteen"],n=["","","Twenty","Thirty","Forty","Fifty","Sixty","Seventy","Eighty","Ninety"];if(t===0)return"Zero";const r=o=>o<20?e[o]:o<100?n[Math.floor(o/10)]+(o%10!==0?" "+e[o%10]:""):o<1e3?e[Math.floor(o/100)]+" Hundred"+(o%100!==0?" "+r(o%100):""):o<1e5?r(Math.floor(o/1e5))+" Lakh"+(o%1e5!==0?" "+r(o%1e5):""):o<1e7?r(Math.floor(o/1e5))+" Crore"+(o%1e7!==0?" "+r(o%1e7):""):r(Math.floor(o/1e7))+" Crore"+(o%1e7!==0?" "+r(o%1e7):""),i=Math.floor(t),s=Math.round((t-i)*100);let a=r(i);return s>0&&(a+=" and "+r(s)+" Paise"),a+" Only"},M7=({invoice:t,onBack:e,onEdit:n})=>{const{company:r}=Fp(),[i,s]=Ie.useState(!1),[a,o]=Ie.useState(!1),[c,f]=Ie.useState(S0),[h,p]=Ie.useState(null),[g,x]=Ie.useState(!1),[T,S]=Ie.useState(!1),[N,k]=Ie.useState(!1),[B,R]=Ie.useState(!1);Ie.useEffect(()=>{let C;if(r?.name)C={name:r.name||"",address:r.address||"",phone:r.phone||"",email:r.email||"",state:r.state||"",gst:r.gst||"",gstin:r.gstin||r.gst||"",gst_enabled:r.gst_enabled??!0,show_hsn_summary:r.show_hsn_summary??!0};else{const P=nt.getCompanyProfile();C={...P,gstin:P.gstin||P.gst||"",gst_enabled:P.gst_enabled??!0,show_hsn_summary:P.show_hsn_summary??!0}}f(C);const H=nt.getCustomers().find(P=>P.id===t.customerId);p(H||null)},[t,r]);const q=()=>{window.print()},Y=()=>{nt.deleteInvoice(t.id),e()},J=async()=>{s(!0);const C=K6(t.total),H=`
      Invoice number ${t.invoiceNumber}.
      Dated ${t.date}.
      Billed to ${t.customerName}.
      Total amount is ${t.total} Rupees.
      ${C}.
      Thank you for your business.
    `;await cae.generateSpeech(H),s(!1)},F=()=>{h&&uv.shareInvoice(t,h,c)},O=async()=>{o(!0);try{const C=new fn({orientation:"portrait",unit:"mm",format:"a4"}),H=210,P=15,L=H-15;let V=15;if(C.setFont("helvetica","bold"),C.setFontSize(18),C.text(c.name,H/2,V,{align:"center"}),V+=6,C.setFont("helvetica","normal"),C.setFontSize(9),C.setTextColor(80),C.text(c.address,H/2,V,{align:"center"}),V+=4,C.text(`Ph: ${c.phone} | ${c.email}`,H/2,V,{align:"center"}),V+=4,t.gstEnabled&&c&&(c.gstin||c.gst)){C.setFont("helvetica","bold"),C.setFontSize(9),C.setTextColor(34,197,94);const it=c.gstin||c.gst||"";C.text(`GSTIN: ${it}`,H/2,V,{align:"center"}),V+=4,C.setTextColor(0)}V+=2,C.setDrawColor(0),C.setLineWidth(.5),C.line(P,V,L,V),V+=7,C.setFont("helvetica","bold"),C.setFontSize(14),C.setTextColor(0),C.text("TAX INVOICE",H/2,V,{align:"center"}),V+=10;const me=V;C.setFontSize(9),C.setFont("helvetica","bold"),C.text("Bill To:",P,V),V+=4,C.setFont("helvetica","bold"),C.setFontSize(10),C.text(t.customerName,P,V),V+=4,C.setFont("helvetica","normal"),C.setFontSize(9);const Ne=C.splitTextToSize(t.customerAddress,80);C.text(Ne,P,V);let se=me;const xe=120,he=5;C.setFont("helvetica","bold"),C.text("Invoice #:",xe,se),C.setFont("helvetica","normal"),C.text(t.invoiceNumber,xe+25,se),se+=he,C.setFont("helvetica","bold"),C.text("Date:",xe,se),C.setFont("helvetica","normal"),C.text(t.date,xe+25,se),se+=he,C.setFont("helvetica","bold"),C.text("Mode:",xe,se),C.setFont("helvetica","normal");const ue=t.status==="PAID"?"Cash":"Credit";C.text(ue,xe+25,se),V=Math.max(V+Ne.length*4,se)+8,C.setFillColor(245,247,250),C.rect(P,V,L-P,8,"F"),C.setFont("helvetica","bold"),C.setFontSize(8),C.setTextColor(60);const Le=t.items.some(it=>it.hsn),ne={idx:P+5,desc:P+15,hsn:P+60,qty:L-(t.gstEnabled?75:65),rate:L-(t.gstEnabled?45:35),gst:L-20,amount:L-5};C.text("#",ne.idx,V+5),C.text("DESCRIPTION",ne.desc,V+5),Le&&C.text("HSN",ne.hsn,V+5),C.text("QTY",ne.qty,V+5,{align:"right"}),C.text("RATE",ne.rate,V+5,{align:"right"}),t.gstEnabled&&C.text("GST%",ne.gst,V+5,{align:"right"}),C.text("AMOUNT",ne.amount,V+5,{align:"right"}),V+=8,C.setFont("helvetica","normal"),C.setTextColor(0),C.setFontSize(9);const M=7,W=C.internal.pageSize.getHeight();t.items.forEach((it,dt)=>{V>W-30&&(C.addPage(),V=20),C.text(`${dt+1}`,ne.idx,V+5),C.text(it.description,ne.desc,V+5),Le&&C.text(it.hsn||"-",ne.hsn,V+5),C.text(it.quantity.toString(),ne.qty,V+5,{align:"right"}),C.text(`Rs. ${it.rate.toFixed(2)}`,ne.rate,V+5,{align:"right"}),t.gstEnabled&&C.text(`${(it.gstRate||0).toFixed(1)}%`,ne.gst,V+5,{align:"right"}),C.setFont("helvetica","bold");const re=it.totalAmount||it.baseAmount||0;C.text(`Rs. ${re.toFixed(2)}`,ne.amount,V+5,{align:"right"}),C.setFont("helvetica","normal"),C.setDrawColor(230),C.line(P,V+M,L,V+M),V+=M}),V+=4;const K=L-45,Q=L-5;C.setFont("helvetica","bold"),C.text("Subtotal:",K,V+5,{align:"right"}),C.setFont("helvetica","normal"),C.text(`Rs. ${t.subtotal.toFixed(2)}`,Q,V+5,{align:"right"}),V+=7;const ce=(t.totalCgst||0)+(t.totalSgst||0)+(t.totalIgst||0);if(t.gstEnabled&&ce>0&&((t.totalCgst||0)>0&&(C.setFont("helvetica","bold"),C.setTextColor(34,197,94),C.text("CGST:",K,V+5,{align:"right"}),C.setFont("helvetica","normal"),C.text(`Rs. ${(t.totalCgst||0).toFixed(2)}`,Q,V+5,{align:"right"}),V+=5),(t.totalSgst||0)>0&&(C.setFont("helvetica","bold"),C.text("SGST:",K,V+5,{align:"right"}),C.setFont("helvetica","normal"),C.text(`Rs. ${(t.totalSgst||0).toFixed(2)}`,Q,V+5,{align:"right"}),V+=5),(t.totalIgst||0)>0&&(C.setFont("helvetica","bold"),C.text("IGST:",K,V+5,{align:"right"}),C.setFont("helvetica","normal"),C.text(`Rs. ${(t.totalIgst||0).toFixed(2)}`,Q,V+5,{align:"right"}),V+=5),C.setTextColor(0),V+=2),C.setDrawColor(0),C.line(L-70,V,L,V),V+=2,t.roundUpTo&&t.roundUpTo>0&&(C.setFont("helvetica","normal"),C.setFontSize(9),C.text("Original:",K,V+5,{align:"right"}),C.text(`${(t.total-(t.roundUpAmount||0)).toFixed(2)}`,Q,V+5,{align:"right"}),V+=5,C.text("Round Off:",K,V+5,{align:"right"}),C.text(`${(t.roundUpAmount||0).toFixed(2)}`,Q,V+5,{align:"right"}),V+=5),C.setFont("helvetica","bold"),C.setFontSize(10),C.text("Total:",K,V+5,{align:"right"}),C.text(`Rs. ${t.total.toFixed(2)}`,Q,V+5,{align:"right"}),V+=8,T&&h){let it=h.balance;t.status==="PENDING"&&(it=h.balance-t.total),C.setFont("helvetica","normal"),C.setFontSize(9),C.setTextColor(80),C.text("Prev Balance:",K,V+5,{align:"right"}),C.text(`Rs. ${it.toFixed(2)}`,Q,V+5,{align:"right"}),V+=8}t.gstEnabled&&c.show_hsn_summary!==!1&&(V+=8,C.setFontSize(8),C.setFont("helvetica","bold"),C.text("HSN SUMMARY",P,V),V+=5,Zle(t,c).forEach(dt=>{C.setFont("helvetica","normal"),C.text(`${dt.hsn||"N/A"} - Taxable: ${dt.baseAmount.toFixed(2)} - Tax: ${(dt.cgstAmount+dt.sgstAmount+dt.igstAmount).toFixed(2)}`,P,V),V+=5})),C.setFont("helvetica","bold"),C.setFontSize(9),C.setTextColor(60),C.text("Amount in Words:",P,V),C.setTextColor(0),C.setFont("helvetica","normal");const we=T&&h?h.balance:t.total,ke=K6(we),fe=P+35,Ae=H-fe-L+50,Ue=C.splitTextToSize(ke,Ae);C.text(Ue,fe,V);let ae=Math.max(V+20,W-25);ae>W-20&&(C.addPage(),ae=W-25),C.setFontSize(8),C.setTextColor(0),C.setFont("helvetica","bold"),C.text("Terms:",P,ae),C.setFont("helvetica","normal"),C.text("Payment due within 30 days",P,ae+4),C.text(`For ${c.name}`,L-5,ae,{align:"right"});try{const it=C.output("blob"),dt=URL.createObjectURL(it);if(navigator.share&&navigator.canShare&&navigator.canShare({files:[new File([it],`Invoice-${t.invoiceNumber}.pdf`,{type:"application/pdf"})]})){const re=new File([it],`Invoice-${t.invoiceNumber}.pdf`,{type:"application/pdf"});await navigator.share({files:[re],title:`Invoice ${t.invoiceNumber}`,text:`Invoice from ${c.name}`})}else{const re=document.createElement("a");re.href=dt,re.download=`Invoice-${t.invoiceNumber}.pdf`,document.body.appendChild(re),re.click(),document.body.removeChild(re)}setTimeout(()=>URL.revokeObjectURL(dt),100)}catch(it){console.warn("PDF Save/Share failed:",it);const dt=C.output("datauristring"),re=window.open();re?re.document.write(`<iframe src="${dt}" frameborder="0" style="border:0; top:0px; left:0px; bottom:0px; right:0px; width:100%; height:100%;" allowfullscreen></iframe>`):alert("Error: FAILED TO SAVE. Please check app permissions.")}}catch(C){console.error("PDF Generation Error:",C),alert("Error: FAILED TO SAVE. Please check app permissions.")}finally{o(!1)}};return y.jsxs("div",{className:"flex flex-col h-full bg-slate-50 dark:bg-slate-900 absolute inset-0 z-40",children:[y.jsxs("div",{className:"sticky top-0 z-50 bg-white dark:bg-slate-900 border-b border-slate-200 dark:border-slate-800 px-4 h-16 flex items-center justify-between shadow-sm flex-shrink-0",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("button",{onClick:e,className:"p-2 -ml-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors","aria-label":"Back",children:y.jsx(Au,{className:"w-6 h-6 text-slate-700 dark:text-slate-200"})}),y.jsxs("div",{className:"flex flex-col",children:[y.jsxs("h1",{className:"text-lg font-bold text-slate-800 dark:text-slate-100 leading-tight",children:["Invoice #",t.invoiceNumber]}),y.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded-full w-fit ${t.status==="PAID"?"bg-green-100 text-green-700":"bg-amber-100 text-amber-700"}`,children:t.status})]})]}),y.jsxs("div",{className:"flex items-center gap-1",children:[y.jsx("button",{onClick:()=>n(t),className:"p-2 rounded-full text-slate-600 hover:bg-slate-100 dark:text-slate-300 dark:hover:bg-slate-800","aria-label":"Edit",children:y.jsx(j5,{className:"w-5 h-5"})}),y.jsxs("div",{className:"relative",children:[y.jsx("button",{onClick:()=>R(!B),className:"p-2 rounded-full text-slate-600 hover:bg-slate-100 dark:text-slate-300 dark:hover:bg-slate-800","aria-label":"Options",children:y.jsx(xU,{className:"w-5 h-5"})}),B&&y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>R(!1)}),y.jsx("div",{className:"absolute right-0 mt-2 w-64 bg-white dark:bg-slate-800 rounded-xl shadow-xl border border-slate-100 dark:border-slate-700 z-50 overflow-hidden animate-in fade-in zoom-in-95 duration-100 origin-top-right",children:y.jsxs("div",{className:"p-1",children:[y.jsxs("button",{onClick:()=>{R(!1),F()},className:"w-full flex items-center gap-3 px-3 py-3 text-sm font-medium text-slate-700 dark:text-slate-200 hover:bg-slate-50 dark:hover:bg-slate-700 rounded-lg",children:[y.jsx(Ny,{className:"w-4 h-4 text-green-500"})," Share on WhatsApp"]}),y.jsxs("button",{onClick:()=>{R(!1),O()},className:"w-full flex items-center gap-3 px-3 py-3 text-sm font-medium text-slate-700 dark:text-slate-200 hover:bg-slate-50 dark:hover:bg-slate-700 rounded-lg",children:[y.jsx(bp,{className:"w-4 h-4 text-blue-500"})," Download PDF"]}),y.jsxs("button",{onClick:()=>{R(!1),q()},className:"w-full flex items-center gap-3 px-3 py-3 text-sm font-medium text-slate-700 dark:text-slate-200 hover:bg-slate-50 dark:hover:bg-slate-700 rounded-lg",children:[y.jsx(HU,{className:"w-4 h-4 text-slate-500"})," Print"]}),y.jsxs("button",{onClick:()=>{R(!1),J()},className:"w-full flex items-center gap-3 px-3 py-3 text-sm font-medium text-slate-700 dark:text-slate-200 hover:bg-slate-50 dark:hover:bg-slate-700 rounded-lg",children:[y.jsx(BU,{className:"w-4 h-4 text-purple-500"})," Read Aloud"]}),y.jsx("div",{className:"h-px bg-slate-100 dark:bg-slate-700 my-1"}),y.jsx("div",{className:"px-3 py-1.5 text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Settings"}),y.jsxs("button",{onClick:()=>S(!T),className:"w-full flex items-center justify-between px-3 py-3 text-sm text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700 rounded-lg",children:[y.jsx("span",{children:"Show Prev. Balance"}),T&&y.jsx(O4,{className:"w-4 h-4 text-blue-600"})]}),y.jsxs("button",{onClick:()=>k(!N),className:"w-full flex items-center justify-between px-3 py-3 text-sm text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700 rounded-lg",children:[y.jsx("span",{children:"Attach Ledger"}),N&&y.jsx(O4,{className:"w-4 h-4 text-blue-600"})]}),y.jsx("div",{className:"h-px bg-slate-100 dark:bg-slate-700 my-1"}),y.jsxs("button",{onClick:()=>{R(!1),x(!0)},className:"w-full flex items-center gap-3 px-3 py-3 text-sm font-medium text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg",children:[y.jsx(dd,{className:"w-4 h-4"})," Delete Invoice"]})]})})]})]})]})]}),y.jsxs("div",{className:"flex-1 overflow-y-auto overflow-x-hidden bg-slate-100 dark:bg-slate-950 p-4 pb-24",children:[y.jsx("div",{className:"max-w-3xl mx-auto bg-white dark:bg-slate-900 shadow-xl rounded-sm print:shadow-none print:w-full overflow-hidden scale-100 md:scale-100 origin-top border dark:border-slate-800",children:y.jsxs("div",{id:"invoice-content",className:"p-6 md:p-10 text-slate-900 dark:text-slate-100",children:[y.jsxs("div",{className:"text-center mb-6",children:[y.jsx("h1",{className:"text-2xl md:text-3xl font-bold mb-1 uppercase text-slate-900 dark:text-slate-100",children:c.name}),y.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:c.address}),y.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:["Ph: ",c.phone]}),t.gstEnabled&&(c.gstin||c.gst)&&y.jsxs("p",{className:"text-sm text-green-700 dark:text-green-500 font-bold mt-1",children:["GSTIN: ",c.gstin||c.gst]})]}),y.jsx("div",{className:"border-b-2 border-slate-800 dark:border-slate-700 mb-6"}),y.jsxs("div",{className:"flex justify-between items-start mb-8",children:[y.jsxs("div",{className:"text-left",children:[y.jsx("h3",{className:"font-bold text-xs uppercase text-slate-400 mb-1",children:"Billed To"}),y.jsx("h2",{className:"text-lg font-bold text-slate-800 dark:text-slate-100",children:t.customerName}),y.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 whitespace-pre-wrap max-w-[200px]",children:t.customerAddress})]}),y.jsxs("div",{className:"text-right",children:[y.jsxs("div",{className:"mb-2",children:[y.jsx("span",{className:"block text-xs font-bold text-slate-400 uppercase",children:"Invoice No"}),y.jsxs("span",{className:"text-lg font-bold text-slate-800 dark:text-slate-100",children:["#",t.invoiceNumber]})]}),y.jsxs("div",{children:[y.jsx("span",{className:"block text-xs font-bold text-slate-400 uppercase",children:"Date"}),y.jsx("span",{className:"text-base font-medium text-slate-800 dark:text-slate-100",children:new Date(t.date).toLocaleDateString()})]})]})]}),y.jsx("div",{className:"mb-8 overflow-hidden rounded-lg border border-slate-200 dark:border-slate-700",children:y.jsxs("table",{className:"w-full text-sm",children:[y.jsx("thead",{className:"bg-slate-50 dark:bg-slate-800 text-slate-900 dark:text-slate-100 font-bold uppercase text-xs",children:y.jsxs("tr",{children:[y.jsx("th",{className:"py-3 px-4 text-left",children:"Item"}),y.jsx("th",{className:"py-3 px-4 text-center",children:"Qty"}),y.jsx("th",{className:"py-3 px-4 text-right",children:"Price"}),y.jsx("th",{className:"py-3 px-4 text-right",children:"Total"})]})}),y.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-800",children:t.items.map((C,H)=>y.jsxs("tr",{children:[y.jsxs("td",{className:"py-3 px-4",children:[y.jsx("div",{className:"font-bold text-slate-800 dark:text-slate-200",children:C.description}),C.hsn&&y.jsxs("div",{className:"text-xs text-slate-400",children:["HSN: ",C.hsn]})]}),y.jsx("td",{className:"py-3 px-4 text-center font-medium dark:text-slate-300",children:C.quantity}),y.jsxs("td",{className:"py-3 px-4 text-right dark:text-slate-300",children:["",C.rate]}),y.jsxs("td",{className:"py-3 px-4 text-right font-bold dark:text-slate-100",children:["",(C.totalAmount||C.baseAmount||0).toFixed(2)]})]},H))})]})}),y.jsx("div",{className:"flex justify-end mb-8",children:y.jsxs("div",{className:"w-full md:w-1/2 space-y-2",children:[y.jsxs("div",{className:"flex justify-between text-sm",children:[y.jsx("span",{className:"text-slate-500 dark:text-slate-400 font-medium",children:"Subtotal"}),y.jsxs("span",{className:"font-bold text-slate-800 dark:text-slate-200",children:["",t.subtotal.toFixed(2)]})]}),t.gstEnabled&&(t.totalCgst||0)+(t.totalSgst||0)+(t.totalIgst||0)>0&&y.jsxs(y.Fragment,{children:[(t.totalCgst||0)>0&&y.jsxs("div",{className:"flex justify-between text-sm",children:[y.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:"CGST"}),y.jsxs("span",{className:"font-medium dark:text-slate-300",children:["",(t.totalCgst||0).toFixed(2)]})]}),(t.totalSgst||0)>0&&y.jsxs("div",{className:"flex justify-between text-sm",children:[y.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:"SGST"}),y.jsxs("span",{className:"font-medium dark:text-slate-300",children:["",(t.totalSgst||0).toFixed(2)]})]}),(t.totalIgst||0)>0&&y.jsxs("div",{className:"flex justify-between text-sm",children:[y.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:"IGST"}),y.jsxs("span",{className:"font-medium dark:text-slate-300",children:["",(t.totalIgst||0).toFixed(2)]})]})]}),y.jsxs("div",{className:"border-t border-slate-200 dark:border-slate-700 pt-2 flex justify-between items-end",children:[y.jsx("span",{className:"text-base font-bold text-slate-900 dark:text-slate-100",children:"Total"}),y.jsxs("span",{className:"text-2xl font-black text-blue-600 dark:text-blue-400",children:["",t.total.toFixed(2)]})]})]})}),y.jsxs("div",{className:"text-center text-xs text-slate-400 mt-12 bg-slate-50 dark:bg-slate-800/50 p-4 rounded-xl border border-slate-100 dark:border-slate-800",children:[y.jsx("p",{className:"font-bold uppercase mb-1",children:"Thank you for your business!"}),y.jsx("p",{children:"Terms & Conditions Apply"})]})]})}),g&&y.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-[60] p-4",children:y.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-2xl max-w-sm w-full animate-in zoom-in-95 duration-200",children:[y.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-2",children:"Delete Invoice?"}),y.jsx("p",{className:"text-sm text-slate-500 mb-6",children:"Are you sure you want to delete this invoice? This action cannot be undone."}),y.jsxs("div",{className:"flex gap-3",children:[y.jsx("button",{onClick:()=>x(!1),className:"flex-1 px-4 py-3 bg-slate-100 text-slate-700 rounded-xl hover:bg-slate-200 font-bold",children:"Cancel"}),y.jsx("button",{onClick:Y,className:"flex-1 px-4 py-3 bg-red-600 text-white rounded-xl hover:bg-red-700 font-bold",children:"Delete"})]})]})})]})]})},Ow=(t,e)=>{const n=t?t.length:0,r=e?e.length:0;if(n===0)return r;if(r===0)return n;const i=new Array(r+1);for(let a=0;a<=r;++a){let o=i[a]=new Array(n+1);o[0]=a}const s=i[0];for(let a=1;a<=n;++a)s[a]=a;for(let a=1;a<=r;++a)for(let o=1;o<=n;++o)e.charAt(a-1)===t.charAt(o-1)?i[a][o]=i[a-1][o-1]:i[a][o]=Math.min(i[a-1][o-1],i[a][o-1],i[a-1][o])+1;return i[r][n]},E5=({options:t,value:e,onChange:n,onCreate:r,placeholder:i="Search...",className:s="",onKeyDown:a,inputRef:o,autoFocus:c})=>{const[f,h]=Ie.useState(!1),[p,g]=Ie.useState(""),x=Ie.useRef(null);Ie.useEffect(()=>{const R=t.find(q=>q.id===e);R?g(R.label):e||g("")},[e,t]),Ie.useEffect(()=>{function R(q){if(x.current&&!x.current.contains(q.target)){h(!1);const Y=t.find(J=>J.id===e);Y?g(Y.label):e===""&&g("")}}return document.addEventListener("mousedown",R),()=>document.removeEventListener("mousedown",R)},[x,e,t]);const T=Ie.useMemo(()=>{if(!p)return t;const R=p.toLowerCase().trim(),q=R.length,Y=q>5?2:q>2?1:0;return t.map(J=>{const O=J.label.toLowerCase(),C=J.subLabel||"",H=C.toLowerCase();let P=0;if(O===R)P=100;else if(O.startsWith(R))P=80;else if(O.split(/[\s-]+/).some(L=>L.startsWith(R)))P=70;else if(O.includes(R))P=60;else if(H.includes(R))P=50;else{const L=Ow(R,O);if(L<=Y)P=40-L;else{const V=O.split(/[\s-]+/);for(const me of V){const Ne=Ow(R,me);Ne<=Y&&(P=Math.max(P,35-Ne))}if(C){const me=H.split(/[\s-]+/);for(const Ne of me){const se=Ow(R,Ne);se<=Y&&(P=Math.max(P,30-se))}}}}return{...J,score:P}}).filter(J=>J.score>0).sort((J,F)=>(F.score||0)-(J.score||0))},[p,t]),[S,N]=Ie.useState(-1),k=R=>{n(R),h(!1)},B=R=>{R.key==="ArrowDown"?(R.preventDefault(),N(q=>q<T.length-1?q+1:q)):R.key==="ArrowUp"?(R.preventDefault(),N(q=>q>-1?q-1:q)):R.key==="Enter"?S>=0&&S<T.length?(R.preventDefault(),k(T[S].id)):a&&a(R):R.key==="Escape"?h(!1):a&&a(R)};return Ie.useEffect(()=>{N(-1)},[p]),y.jsxs("div",{ref:x,className:`relative ${s}`,children:[y.jsxs("div",{className:"relative",children:[y.jsx("input",{type:"text",className:"w-full rounded-md border border-slate-300 p-2 pl-8 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:i,value:p,onChange:R=>{g(R.target.value),h(!0),R.target.value===""&&n("")},onFocus:()=>h(!0),onKeyDown:B,ref:o,autoFocus:c}),y.jsx(B5,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-gray-400 pointer-events-none"})]}),f&&y.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-slate-200 rounded-md shadow-lg max-h-60 overflow-y-auto",children:T.length>0?T.map((R,q)=>y.jsxs("button",{type:"button",onClick:()=>k(R.id),className:`w-full text-left px-4 py-2 text-sm hover:bg-blue-50 focus:bg-blue-50 focus:outline-none border-b border-gray-50 last:border-0 ${S===q?"bg-blue-50":""}`,children:[y.jsx("div",{className:"font-medium text-slate-800",children:R.label}),R.subLabel&&y.jsx("div",{className:"text-xs text-slate-500",children:R.subLabel})]},R.id)):y.jsxs("div",{className:"p-2",children:[y.jsx("p",{className:"text-xs text-gray-500 px-2 py-1",children:"No results found."}),y.jsxs("button",{type:"button",onClick:()=>{r(p),h(!1)},className:`w-full text-left px-2 py-2 text-sm text-blue-600 hover:bg-blue-50 rounded flex items-center gap-2 font-medium ${S===0?"bg-blue-50":""}`,children:[y.jsx(hd,{className:"w-4 h-4"}),' Create "',p,'"']})]})})]})},Y6=({onSave:t,onCancel:e,initialInvoice:n})=>{const{company:r}=Fp(),[i,s]=Ie.useState([]),[a,o]=Ie.useState([]),[c,f]=Ie.useState(""),[h,p]=Ie.useState(new Date().toISOString().split("T")[0]),[g,x]=Ie.useState(""),[T,S]=Ie.useState([]),N=r?.gst_enabled??!0,[k,B]=Ie.useState("CREDIT"),[R,q]=Ie.useState(r?.roundUpDefault??0),[Y,J]=Ie.useState(""),[F,O]=Ie.useState(!1),[C,H]=Ie.useState(!1),[P,L]=Ie.useState(""),[V,me]=Ie.useState(""),[Ne,se]=Ie.useState(""),[xe,he]=Ie.useState(""),[ue,Le]=Ie.useState(""),[ne,M]=Ie.useState("0"),[W,K]=Ie.useState(null),Q=()=>n?n.invoiceNumber:c?nt.generateInvoiceNumber(c,h):"---",[ce,we]=Ie.useState(!1),[ke,fe]=Ie.useState(!1);Cy.useRef({}),Ie.useEffect(()=>{if(s(nt.getCustomers()),o(nt.getProducts()),n)f(n.customerId),p(n.date),x(n.dueDate),S(n.items.map(Oe=>({...Oe}))),B(n.status==="PAID"?"CASH":"CREDIT"),J(n.notes||"");else{const Oe=new Date;Oe.setDate(Oe.getDate()+30),x(Oe.toISOString().split("T")[0]),T.length===0&&Ae()}},[n]);const Ae=()=>{S([...T,{productId:"",description:"",quantity:1,rate:0,baseAmount:0,hsn:"",gstRate:0,cgstAmount:0,sgstAmount:0,igstAmount:0,totalAmount:0}])},Ue=(Oe,Lt,Pt)=>{const Bt=Oe.quantity*Oe.rate,Zt=Oe.gstRate||0;(Lt?.state===Pt?.state?"INTRA_STATE":"INTER_STATE")==="INTRA_STATE"?(Oe.cgstAmount=Bt*(Zt/2)/100,Oe.sgstAmount=Bt*(Zt/2)/100,Oe.igstAmount=0):(Oe.cgstAmount=0,Oe.sgstAmount=0,Oe.igstAmount=Bt*Zt/100),Oe.baseAmount=Bt,Oe.totalAmount=Bt+(Oe.cgstAmount||0)+(Oe.sgstAmount||0)+(Oe.igstAmount||0)},[ae,it]=Ie.useState(null),[dt,re]=Ie.useState(!1),lt=Oe=>{it(Oe),re(!0),ia.light()},ft=()=>{const Oe=T.length;Ae(),setTimeout(()=>lt(Oe),0)},kt=(Oe,Lt,Pt)=>{we(!0);const Bt=[...T],Zt=Bt[Oe],Wt=r,jt=i.find(gn=>gn.id===c);if(Lt==="productId"){const gn=a.find(Ur=>Ur.id===Pt);if(gn){Zt.productId=gn.id,Zt.description=gn.name,Zt.hsn=gn.hsn||"",Zt.gstRate=gn.gstRate||0;let Ur=gn.price;if(c){const Yr=nt.getLastSalePrice(c,gn.id);Yr!==null&&(Ur=Yr)}Zt.rate=Ur,Zt.baseAmount=Zt.quantity*Zt.rate,N?Ue(Zt,Wt,jt):Zt.totalAmount=Zt.baseAmount}}else Lt==="quantity"||Lt==="rate"?(Lt==="quantity"&&(Zt.quantity=Number(Pt)),Lt==="rate"&&(Zt.rate=Number(Pt)),Zt.baseAmount=Zt.quantity*Zt.rate,N?Ue(Zt,Wt,jt):Zt.totalAmount=Zt.baseAmount):Lt==="gstRate"?(Zt.gstRate=Number(Pt),N&&Ue(Zt,Wt,jt)):Lt==="hsn"?Zt.hsn=Pt:Lt==="description"&&(Zt.description=Pt);S(Bt)},rt=Oe=>{we(!0),S(T.filter((Lt,Pt)=>Pt!==Oe))},St=Cy.useRef({}),Nt=(Oe,Lt)=>{Oe.key==="Enter"&&(Oe.preventDefault(),Lt==="productId"?St.current.quantity?.focus():Lt==="quantity"?St.current.rate?.focus():Lt==="rate"&&(re(!1),setTimeout(ft,300)))},Jt=()=>T.reduce((Oe,Lt)=>Oe+(Lt.baseAmount||0),0),qt=()=>T.reduce((Oe,Lt)=>Oe+(Lt.cgstAmount||0),0),sn=()=>T.reduce((Oe,Lt)=>Oe+(Lt.sgstAmount||0),0),mn=()=>T.reduce((Oe,Lt)=>Oe+(Lt.igstAmount||0),0),ln=()=>{const Oe=Jt(),Lt=qt(),Pt=sn(),Bt=mn();return Oe+Lt+Pt+Bt},En=()=>{const Oe=ln();return R===0?Oe:Math.ceil(Oe/R)*R},an=()=>R===0?0:En()-ln(),Ft=Oe=>{L(Oe),me(""),O(!0)},At=()=>{const Oe={id:crypto.randomUUID(),name:P,company:P,email:"",phone:V,address:"",balance:0,notifications:[]};nt.saveCustomer(Oe),s(nt.getCustomers()),f(Oe.id),O(!1)},Rt=(Oe,Lt)=>{se(Oe),he(""),K(Lt),H(!0)},qn=()=>{const Oe={id:crypto.randomUUID(),name:Ne,price:Number(xe)||0,stock:100,category:"General",hsn:ue,gstRate:Number(ne)||0};if(nt.saveProduct(Oe),o(nt.getProducts()),W!==null){const Lt=[...T],Pt=Lt[W];Pt.productId=Oe.id,Pt.description=Oe.name,Pt.rate=Oe.price,Pt.quantity=1,Pt.gstRate=Oe.gstRate||0,Pt.hsn=Oe.hsn||"",Ue(Pt,r,i.find(Bt=>Bt.id===c)),S(Lt)}H(!1),se(""),he(""),Le(""),M("0"),K(null)},$t=()=>{if(n&&ce&&!ke){fe(!0);return}const Oe=i.find(Mt=>Mt.id===c);if(!Oe)return alert("Select a customer");if(T.length===0)return alert("Add at least one item");for(let Mt=0;Mt<T.length;Mt++)if(!T[Mt].productId)return alert(`Please select a product for Item ${Mt+1}`);const Lt=T.map(Mt=>({...Mt,quantity:Number(Mt.quantity)||1,rate:Number(Mt.rate)||0,baseAmount:Number(Mt.baseAmount)||0,gstRate:Number(Mt.gstRate)||0,cgstAmount:Number(Mt.cgstAmount)||0,sgstAmount:Number(Mt.sgstAmount)||0,igstAmount:Number(Mt.igstAmount)||0,totalAmount:Number(Mt.totalAmount)||0})),Pt=k==="CASH"?"PAID":"PENDING",Bt=Jt(),Zt=qt(),Wt=sn(),jt=mn(),gn=r,Ur=(gn?.state||"Delhi")===(Oe.state||"")?"INTRA_STATE":"INTER_STATE",Yr=En(),Ns=an(),ri={id:n?n.id:crypto.randomUUID(),invoiceNumber:n?n.invoiceNumber:nt.generateInvoiceNumber(Oe.id,h),customerId:Oe.id,customerName:Oe.company||Oe.name,customerAddress:Oe.address||"",customerState:Oe.state||"",customerGstin:Oe.gstin||"",supplierGstin:gn?.gstin||"",taxType:Ur,date:h,dueDate:g,items:Lt,subtotal:Math.round(Bt*100)/100,totalCgst:Math.round(Zt*100)/100,totalSgst:Math.round(Wt*100)/100,totalIgst:Math.round(jt*100)/100,gstEnabled:N&&Lt.some(Mt=>(Mt.gstRate||0)>0),roundUpTo:R,roundUpAmount:Math.round(Ns*100)/100,total:Math.round(Yr*100)/100,status:Pt,notes:Y};t(ri)},{scrollY:Yt}=IZ(),[hn,An]=Ie.useState(!1);return cZ(Yt,"change",Oe=>{An(Oe>50)}),y.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900 min-h-screen pb-48",children:[ke&&y.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-[100] p-4",children:y.jsxs(zn.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"bg-white dark:bg-slate-800 rounded-[24px] shadow-2xl w-full max-w-sm p-6 text-center",children:[y.jsx("div",{className:"w-16 h-16 bg-amber-100 text-amber-600 rounded-full flex items-center justify-center mx-auto mb-4",children:y.jsx(Xg,{className:"w-8 h-8"})}),y.jsx("h3",{className:"text-xl font-bold mb-2",children:"Save Changes?"}),y.jsx("p",{className:"text-slate-500 mb-6",children:"You are editing an existing invoice. This will update the customer balance and records."}),y.jsxs("div",{className:"flex gap-3",children:[y.jsx("button",{onClick:()=>fe(!1),className:"flex-1 py-3 font-bold text-slate-500 hover:bg-slate-100 rounded-xl",children:"Cancel"}),y.jsx("button",{onClick:$t,className:"flex-1 py-3 font-bold bg-blue-600 text-white rounded-xl shadow-lg shadow-blue-200",children:"Yes, Save"})]})]})}),y.jsx(zn.div,{animate:{backgroundColor:hn?"rgba(255, 255, 255, 0.8)":"rgba(255, 255, 255, 1)",backdropFilter:hn?"blur(10px)":"blur(0px)"},className:"bg-white dark:bg-slate-900 sticky top-0 z-20 border-b border-slate-100 dark:border-slate-800 shadow-sm transition-colors",children:y.jsxs("div",{className:"flex items-center justify-between px-4 h-16 max-w-5xl mx-auto",children:[y.jsx("button",{onClick:e,className:"p-2 -ml-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-800",children:y.jsx(Au,{className:"w-6 h-6 text-slate-700 dark:text-slate-200"})}),y.jsx("h1",{className:"text-xl font-bold text-slate-800 dark:text-slate-100 flex-1 ml-2",children:n?"Edit Invoice":"New Invoice"}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("div",{className:"hidden md:block text-sm font-medium text-slate-500 bg-slate-100 dark:bg-slate-800 px-3 py-1 rounded-full",children:Q()}),y.jsxs(zn.button,{whileTap:{scale:.95},onClick:$t,className:"bg-blue-600 text-white px-5 py-2 rounded-xl font-bold shadow-lg shadow-blue-500/30 flex items-center gap-2 active:bg-blue-700",children:[y.jsx(Iy,{className:"w-5 h-5"}),y.jsx("span",{children:"Save"})]})]})]})}),y.jsxs("div",{className:"max-w-5xl mx-auto space-y-6 pt-6 px-4",children:[y.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-[24px] shadow-sm border border-slate-100 dark:border-slate-700",children:[y.jsx("h2",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider mb-4",children:"Bill To"}),y.jsx(E5,{options:i.map(Oe=>({id:Oe.id,label:Oe.company,subLabel:Oe.name})),value:c,onChange:Oe=>{f(Oe),we(!0);const Lt=nt.predictNextItem(Oe);Lt&&T.length===1&&T[0].productId===""&&kt(0,"productId",Lt.id)},onCreate:Ft,placeholder:"Search Customer..."}),c&&nt.predictNextItem(c)&&y.jsxs("div",{className:"mt-3 flex items-center gap-2",children:[y.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"Suggested Product:"}),y.jsxs("button",{onClick:()=>{const Oe=nt.predictNextItem(c);Oe&&Ae();const Lt=T.findIndex(Pt=>Pt.productId==="");if(Lt!==-1&&Oe)kt(Lt,"productId",Oe.id);else if(Oe){const Pt=T.length;Ae(),setTimeout(()=>kt(Pt,"productId",Oe.id),0)}ia.light()},className:"text-xs font-bold text-blue-600 bg-blue-50 dark:bg-blue-900/30 px-2 py-1 rounded-lg border border-blue-100 dark:border-blue-800",children:["+ ",nt.predictNextItem(c)?.name]})]}),y.jsxs("div",{className:"flex gap-4 mt-6",children:[y.jsxs("div",{className:"flex-1",children:[y.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Date"}),y.jsx("div",{className:"mt-1 relative bg-slate-50 dark:bg-slate-900 rounded-xl overflow-hidden border border-slate-200 dark:border-slate-700",children:y.jsx("input",{type:"date",value:h,onChange:Oe=>{p(Oe.target.value),we(!0)},className:"w-full bg-transparent p-3 text-sm font-medium outline-none"})})]}),y.jsxs("div",{className:"flex-1",children:[y.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Due Date"}),y.jsx("div",{className:"mt-1 relative bg-slate-50 dark:bg-slate-900 rounded-xl overflow-hidden border border-slate-200 dark:border-slate-700",children:y.jsx("input",{type:"date",value:g,onChange:Oe=>{x(Oe.target.value),we(!0)},className:"w-full bg-transparent p-3 text-sm font-medium outline-none"})})]})]})]}),y.jsxs("div",{className:"bg-white dark:bg-slate-800 p-1.5 rounded-[24px] shadow-sm border border-slate-100 dark:border-slate-700 flex overflow-hidden",children:[y.jsxs("button",{onClick:()=>{B("CREDIT"),we(!0)},className:`flex-1 py-3 px-4 rounded-[20px] flex items-center justify-center gap-2 transition-all ${k==="CREDIT"?"bg-red-50 text-red-600 shadow-sm font-extrabold":"text-slate-500 font-medium opacity-60"}`,children:[y.jsx(uU,{className:"w-5 h-5"})," Credit"]}),y.jsxs("button",{onClick:()=>{B("CASH"),we(!0)},className:`flex-1 py-3 px-4 rounded-[20px] flex items-center justify-center gap-2 transition-all ${k==="CASH"?"bg-green-50 text-green-600 shadow-sm font-extrabold":"text-slate-500 font-medium opacity-60"}`,children:[y.jsx(Kw,{className:"w-5 h-5"})," Cash"]})]}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"flex items-center justify-between px-2",children:[y.jsx("h2",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider",children:"Items List"}),y.jsxs("div",{className:"hidden md:flex gap-16 text-[10px] font-black text-slate-400 uppercase mr-32",children:[y.jsx("span",{children:"Product"}),y.jsx("span",{children:"Rate"}),y.jsx("span",{children:"Qty"}),y.jsx("span",{children:"Total"})]})]}),y.jsx("div",{className:"space-y-3",children:y.jsx(Kf,{mode:"popLayout",children:T.filter(Oe=>Oe.productId).map((Oe,Lt)=>y.jsxs(zn.div,{layout:!0,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,x:-100},onClick:()=>lt(T.indexOf(Oe)),className:"bg-white dark:bg-slate-800 p-4 rounded-[24px] shadow-sm border border-slate-100 dark:border-slate-700 flex justify-between items-center active:scale-95 transition-all cursor-pointer",children:[y.jsxs("div",{className:"flex-1 min-w-0",children:[y.jsx("p",{className:"text-base font-bold text-slate-800 dark:text-slate-100 truncate",children:Oe.description}),y.jsxs("p",{className:"text-xs text-slate-400 font-bold uppercase",children:[Oe.quantity," Qty  ",Oe.rate]})]}),y.jsxs("div",{className:"text-right",children:[y.jsxs("p",{className:"text-lg font-black text-blue-600",children:["",(Oe.totalAmount||0).toFixed(0)]}),y.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase",children:"Incl. GST"})]})]},Lt))})}),y.jsxs("button",{onClick:ft,className:"w-full py-6 rounded-[28px] border-2 border-dashed border-blue-200 dark:border-slate-800 bg-blue-50/30 dark:bg-slate-900/40 text-blue-600 dark:text-blue-400 font-black flex items-center justify-center gap-3 hover:bg-blue-50 dark:hover:bg-slate-800 transition-all active:scale-[0.98] group",children:[y.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-600 text-white flex items-center justify-center group-hover:scale-110 transition-transform shadow-lg shadow-blue-500/40",children:y.jsx(hd,{className:"w-5 h-5"})}),y.jsx("span",{children:"Add New Item (Enter)"})]})]})]}),y.jsx(Kf,{children:dt&&ae!==null&&y.jsxs("div",{className:"fixed inset-0 z-[100] flex flex-col justify-end",children:[y.jsx(zn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>re(!1),className:"absolute inset-0 bg-slate-900/80 backdrop-blur-sm"}),y.jsxs(zn.div,{initial:{y:"100%",borderRadius:"40px 40px 0 0"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",damping:25,stiffness:200},className:"relative bg-white dark:bg-slate-900 w-full max-h-[90vh] overflow-y-auto p-6 shadow-2xl pb-12",children:[y.jsx("div",{className:"w-12 h-1.5 bg-slate-200 dark:bg-slate-700 rounded-full mx-auto mb-8"}),y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{children:[y.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2 block",children:"Item"}),y.jsx(E5,{options:a.map(Oe=>({id:Oe.id,label:Oe.name})),value:T[ae].productId,onChange:Oe=>kt(ae,"productId",Oe),onCreate:Oe=>Rt(Oe,ae),placeholder:"Search or Create Product...",className:"h-16 text-lg font-bold border-2 border-slate-100 dark:border-slate-800 rounded-2xl bg-slate-50 dark:bg-slate-950",autoFocus:!0,onKeyDown:Oe=>Nt(Oe,"productId"),inputRef:Oe=>{St.current.productId=Oe}})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsxs("div",{className:"bg-slate-50 dark:bg-slate-950 p-4 rounded-2xl border-2 border-slate-100 dark:border-slate-800",children:[y.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2 block",children:"Qty"}),y.jsx("input",{type:"number",className:"w-full bg-transparent text-2xl font-black text-blue-600 outline-none",value:T[ae].quantity||"",onChange:Oe=>kt(ae,"quantity",Oe.target.value),placeholder:"1",onKeyDown:Oe=>Nt(Oe,"quantity"),ref:Oe=>{St.current.quantity=Oe}})]}),y.jsxs("div",{className:"bg-slate-50 dark:bg-slate-950 p-4 rounded-2xl border-2 border-slate-100 dark:border-slate-800",children:[y.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2 block",children:"Rate"}),y.jsx("input",{type:"number",className:"w-full bg-transparent text-2xl font-black text-slate-900 dark:text-slate-100 outline-none",value:T[ae].rate||"",onChange:Oe=>kt(ae,"rate",Oe.target.value),placeholder:"0.00",onKeyDown:Oe=>Nt(Oe,"rate"),ref:Oe=>{St.current.rate=Oe}})]})]}),y.jsxs("div",{className:"flex gap-3 pt-2",children:[y.jsx("button",{onClick:()=>{re(!1),setTimeout(ft,300)},className:"flex-1 bg-slate-100 dark:bg-slate-800 text-slate-900 dark:text-slate-100 py-5 rounded-[24px] font-black text-xs uppercase tracking-wider active:scale-95 transition-all border border-slate-200 dark:border-slate-700",children:"Save & Add Next"}),y.jsx("button",{onClick:()=>re(!1),className:"flex-1 bg-blue-600 text-white py-5 rounded-[24px] font-black text-xs uppercase tracking-wider shadow-lg shadow-blue-500/20 active:scale-95 transition-all",children:"Save & Done"}),y.jsx("button",{onClick:()=>{rt(ae),re(!1)},className:"w-16 bg-red-50 dark:bg-red-900/20 text-red-600 flex items-center justify-center rounded-[24px] active:scale-95 transition-all",children:y.jsx(dd,{className:"w-6 h-6"})})]}),y.jsxs("div",{className:"bg-blue-600 p-6 rounded-[32px] text-white flex justify-between items-center shadow-xl shadow-blue-500/30",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-[10px] font-bold uppercase opacity-60",children:"Total Amount"}),y.jsxs("p",{className:"text-4xl font-black tracking-tighter",children:["",(T[ae].totalAmount||0).toFixed(2).toLocaleString()]})]}),y.jsxs("div",{className:"text-right opacity-60",children:[y.jsx("p",{className:"text-[10px] font-bold uppercase",children:"Tax Incl."}),y.jsxs("p",{className:"text-xs font-bold",children:["GST ",T[ae].gstRate,"%"]})]})]})]})]})]})}),y.jsx("div",{className:"max-w-5xl mx-auto px-4 pb-4 mt-6",children:y.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-[24px] shadow-sm border border-slate-100 dark:border-slate-700",children:[y.jsx("h2",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Additional Notes"}),y.jsx("textarea",{className:"w-full bg-slate-50 dark:bg-slate-900 border-none rounded-xl p-4 text-sm font-medium focus:ring-2 focus:ring-blue-500 outline-none resize-none",rows:3,value:Y,onChange:Oe=>{J(Oe.target.value),we(!0)},placeholder:"Terms & Conditions, Payment Instructions, etc."})]})}),y.jsx(zn.div,{initial:{y:0},animate:{y:0,scale:hn?.98:1,opacity:1},className:"fixed bottom-0 left-0 right-0 bg-white/80 dark:bg-slate-900/90 backdrop-blur-md border-t border-slate-200 dark:border-slate-700 p-4 pb-6 md:pb-4 z-30 shadow-[0_-5px_30px_rgba(0,0,0,0.1)]",children:y.jsxs("div",{className:"max-w-5xl mx-auto flex justify-between items-center px-4",children:[y.jsxs("div",{className:"flex flex-col",children:[y.jsx("span",{className:"text-[10px] text-slate-400 font-black uppercase tracking-widest",children:"Total Payable"}),y.jsxs("span",{className:"text-3xl font-black text-blue-600 tracking-tighter",children:["",En().toLocaleString("en-IN")]})]}),y.jsxs("div",{className:"text-xs font-bold text-slate-400",children:[T.length," Items Added"]})]})}),F&&y.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:y.jsxs(zn.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"bg-white dark:bg-slate-800 rounded-[24px] shadow-2xl w-full max-w-md overflow-hidden",children:[y.jsxs("div",{className:"p-6 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center",children:[y.jsx("h3",{className:"text-lg font-bold",children:"New Customer"}),y.jsx("button",{onClick:()=>O(!1),className:"bg-slate-100 p-2 rounded-full",children:y.jsx(Uh,{className:"w-5 h-5"})})]}),y.jsxs("div",{className:"p-6 space-y-4",children:[y.jsx("input",{type:"text",placeholder:"Customer Name",className:"w-full p-4 bg-slate-50 rounded-xl font-bold outline-none focus:ring-2 focus:ring-blue-500",value:P,onChange:Oe=>L(Oe.target.value)}),y.jsx("input",{type:"text",placeholder:"Phone Number",className:"w-full p-4 bg-slate-50 rounded-xl font-medium outline-none focus:ring-2 focus:ring-blue-500",value:V,onChange:Oe=>me(Oe.target.value)}),y.jsx("button",{onClick:At,className:"w-full bg-blue-600 text-white py-4 rounded-xl font-bold mt-4",children:"Save Customer"})]})]})}),C&&y.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:y.jsxs(zn.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"bg-white dark:bg-slate-800 rounded-[24px] shadow-2xl w-full max-w-md overflow-hidden",children:[y.jsxs("div",{className:"p-6 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center",children:[y.jsx("h3",{className:"text-lg font-bold",children:"New Product"}),y.jsx("button",{onClick:()=>H(!1),className:"bg-slate-100 p-2 rounded-full",children:y.jsx(Uh,{className:"w-5 h-5"})})]}),y.jsxs("div",{className:"p-6 space-y-4",children:[y.jsx("input",{type:"text",placeholder:"Product Name",className:"w-full p-4 bg-slate-50 rounded-xl font-bold outline-none focus:ring-2 focus:ring-blue-500",value:Ne,onChange:Oe=>se(Oe.target.value)}),y.jsx("input",{type:"number",placeholder:"Price / Rate",className:"w-full p-4 bg-slate-50 rounded-xl font-medium outline-none focus:ring-2 focus:ring-blue-500",value:xe,onChange:Oe=>he(Oe.target.value)}),N&&y.jsxs("div",{className:"flex gap-4",children:[y.jsx("input",{type:"text",placeholder:"HSN",className:"flex-1 p-4 bg-slate-50 rounded-xl outline-none",value:ue,onChange:Oe=>Le(Oe.target.value)}),y.jsx("input",{type:"number",placeholder:"GST %",className:"w-24 p-4 bg-slate-50 rounded-xl outline-none",value:ne,onChange:Oe=>M(Oe.target.value)})]}),y.jsx("button",{onClick:qn,className:"w-full bg-blue-600 text-white py-4 rounded-xl font-bold mt-4",children:"Save Product"})]})]})})]})},X6=({invoices:t,onView:e,onEdit:n,onDelete:r,onViewLedger:i})=>{const s=t||nt.getInvoices(),[a,o]=Ie.useState(""),[c,f]=Ie.useState("ALL"),h=Ie.useMemo(()=>s.filter(g=>{const x=g.customerName.toLowerCase().includes(a.toLowerCase())||g.invoiceNumber.toLowerCase().includes(a.toLowerCase()),T=c==="ALL"||g.status===c;return x&&T}).sort((g,x)=>new Date(x.date).getTime()-new Date(g.date).getTime()),[s,a,c]),p=g=>{confirm("Are you sure you want to delete this invoice?")&&(r?r(g):(nt.deleteInvoice(g.id),window.location.reload()))};return y.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900 min-h-screen pb-24",children:[y.jsx("div",{className:"bg-slate-50 dark:bg-slate-900 sticky top-0 z-10 p-4 border-b border-transparent",children:y.jsxs("div",{className:"max-w-5xl mx-auto",children:[y.jsx("div",{className:"flex justify-between items-end mb-6",children:y.jsxs("div",{children:[y.jsx("h1",{className:"text-3xl font-normal text-slate-900 dark:text-slate-100",children:"Invoices"}),y.jsxs("p",{className:"text-slate-500 text-sm mt-1",children:[h.length," total invoices"]})]})}),y.jsxs("div",{className:"flex gap-3",children:[y.jsxs("div",{className:"flex-1 bg-white dark:bg-slate-800 rounded-xl p-3 flex items-center gap-3 shadow-sm border border-slate-200 dark:border-slate-700",children:[y.jsx(B5,{className:"w-5 h-5 text-slate-400"}),y.jsx("input",{type:"text",placeholder:"Search by name or number...",className:"bg-transparent flex-1 outline-none text-slate-700 dark:text-slate-200",value:a,onChange:g=>o(g.target.value)})]}),y.jsxs("select",{className:"bg-white dark:bg-slate-800 rounded-xl px-4 py-3 outline-none border border-slate-200 dark:border-slate-700 font-medium text-slate-600 dark:text-slate-300 appearance-none",value:c,onChange:g=>f(g.target.value),children:[y.jsx("option",{value:"ALL",children:"All Status"}),y.jsx("option",{value:"PAID",children:"Paid"}),y.jsx("option",{value:"PENDING",children:"Pending"})]})]})]})}),y.jsxs("div",{className:"max-w-5xl mx-auto px-4 mt-2 space-y-3",children:[y.jsx(Kf,{children:h.map((g,x)=>y.jsxs(zn.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:x*.05},exit:{opacity:0,scale:.95},layoutId:g.id,className:"bg-white dark:bg-slate-800 p-4 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 relative group",children:[y.jsxs("div",{className:"flex justify-between items-start mb-3",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-50 dark:bg-blue-900/30 flex items-center justify-center text-blue-600 dark:text-blue-400 font-bold text-sm",children:g.customerName.charAt(0)}),y.jsxs("div",{children:[y.jsx("h3",{className:"font-bold text-slate-800 dark:text-slate-100",children:g.customerName}),y.jsxs("p",{className:"text-xs text-slate-500 font-medium",children:["#",g.invoiceNumber]})]})]}),y.jsx("div",{className:`px-2.5 py-1 rounded-md text-[10px] font-bold uppercase tracking-wider ${g.status==="PAID"?"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400":"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400"}`,children:g.status})]}),y.jsxs("div",{className:"flex items-center justify-between pl-[52px]",children:[y.jsxs("div",{className:"flex flex-col",children:[y.jsx("span",{className:"text-[10px] uppercase font-bold text-slate-400",children:"Date"}),y.jsx("span",{className:"text-sm font-medium text-slate-600 dark:text-slate-300",children:new Date(g.date).toLocaleDateString("en-IN",{day:"2-digit",month:"short"})})]}),y.jsxs("div",{className:"flex flex-col text-right",children:[y.jsx("span",{className:"text-[10px] uppercase font-bold text-slate-400",children:"Amount"}),y.jsxs("span",{className:"text-lg font-bold text-slate-900 dark:text-slate-100",children:["",g.total.toLocaleString("en-IN")]})]})]}),y.jsxs("div",{className:"mt-4 pt-3 border-t border-slate-100 dark:border-slate-700 flex justify-end gap-2 items-center",children:[i&&y.jsx("button",{onClick:()=>i(g.customerId),className:"text-xs font-bold text-slate-500 hover:text-blue-600 px-3 py-2",children:"Ledger"}),y.jsx("button",{onClick:()=>e&&e(g),className:"text-sm font-bold text-blue-600 bg-blue-50 dark:bg-blue-900/20 px-5 py-2.5 rounded-xl hover:bg-blue-100 transition-colors flex items-center gap-2",children:"View"}),(n||r)&&y.jsxs(y.Fragment,{children:[n&&y.jsx("button",{onClick:()=>n(g),className:"p-2 text-slate-400 hover:text-slate-600 dark:hover:text-slate-200",children:y.jsx(j5,{className:"w-4 h-4"})}),r&&y.jsx("button",{onClick:()=>p(g),className:"p-2 text-slate-400 hover:text-red-500",children:y.jsx(dd,{className:"w-4 h-4"})})]})]})]},g.id))}),h.length===0&&y.jsxs("div",{className:"text-center py-20",children:[y.jsx("div",{className:"w-16 h-16 bg-slate-100 dark:bg-slate-800 rounded-full flex items-center justify-center mx-auto mb-4",children:y.jsx(tp,{className:"w-8 h-8 text-slate-400"})}),y.jsx("h3",{className:"text-slate-500 font-medium",children:"No invoices found"}),y.jsx("p",{className:"text-slate-400 text-sm",children:"Try adjusting your search or create a new one."})]})]})]})},ece=()=>{const[t,e]=Ie.useState([]),[n,r]=Ie.useState(""),[i,s]=Ie.useState(!1),[a,o]=Ie.useState({name:"",price:0,stock:0,category:"General"});Ie.useEffect(()=>{e(nt.getProducts())},[]);const c=x=>{if(x.preventDefault(),!a.name||!a.price)return;const T={id:crypto.randomUUID(),name:a.name,price:Number(a.price),stock:Number(a.stock)||0,category:a.category||"General"};nt.saveProduct(T),e(nt.getProducts()),s(!1),o({name:"",price:0,stock:0,category:"General"})},f=x=>{if(window.confirm("Delete this product?")){const T=t.filter(S=>S.id!==x);e(T)}},h=t.filter(x=>x.name.toLowerCase().includes(n.toLowerCase())),p=t.reduce((x,T)=>x+T.price*T.stock,0),g=t.filter(x=>x.stock<=10).length;return y.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900 min-h-screen pb-20",children:[y.jsx("div",{className:"bg-white dark:bg-slate-900 pt-8 pb-6 px-4 md:px-8 border-b border-slate-100 dark:border-slate-800",children:y.jsxs("div",{className:"max-w-6xl mx-auto flex flex-col md:flex-row md:items-center justify-between gap-4",children:[y.jsxs("div",{children:[y.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-slate-100 tracking-tight",children:"Inventory"}),y.jsx("p",{className:"text-slate-500 text-sm font-medium mt-1",children:"Manage your stock and pricing"})]}),y.jsxs("button",{onClick:()=>s(!0),className:"bg-blue-600 text-white px-6 py-3 rounded-2xl flex items-center justify-center gap-2 font-bold shadow-lg shadow-blue-200 active:scale-95 transition-transform",children:[y.jsx(hd,{className:"w-5 h-5"})," Add Product"]})]})}),y.jsxs("div",{className:"max-w-6xl mx-auto p-4 md:p-8 space-y-8",children:[y.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[y.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-[28px] border border-slate-100 dark:border-slate-700 shadow-sm",children:[y.jsx(L_,{className:"w-6 h-6 text-blue-500 mb-3"}),y.jsx("p",{className:"text-2xl font-black text-slate-800 dark:text-slate-100",children:t.length}),y.jsx("p",{className:"text-[10px] uppercase font-bold text-slate-400 tracking-wider",children:"Total Items"})]}),y.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-[28px] border border-slate-100 dark:border-slate-700 shadow-sm text-emerald-600",children:[y.jsx(V0,{className:"w-6 h-6 mb-3"}),y.jsxs("p",{className:"text-2xl font-black",children:["",p.toLocaleString("en-IN")]}),y.jsx("p",{className:"text-[10px] uppercase font-bold opacity-60 tracking-wider",children:"Stock Value"})]}),y.jsxs("div",{className:`p-5 rounded-[28px] border shadow-sm ${g>0?"bg-orange-50 border-orange-100 text-orange-600":"bg-white border-slate-100 text-slate-400"}`,children:[y.jsx(hP,{className:"w-6 h-6 mb-3"}),y.jsx("p",{className:"text-2xl font-black",children:g}),y.jsx("p",{className:"text-[10px] uppercase font-bold opacity-60 tracking-wider",children:"Low Stock"})]})]}),y.jsxs("div",{className:"relative",children:[y.jsx(B5,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 w-5 h-5"}),y.jsx("input",{type:"text",placeholder:"Search products by name or category...",className:"w-full pl-12 pr-6 py-4 bg-white dark:bg-slate-800 border-none rounded-2xl shadow-sm focus:ring-2 focus:ring-blue-500 outline-none font-medium",value:n,onChange:x=>r(x.target.value)})]}),y.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:y.jsx(Kf,{children:h.map(x=>y.jsxs(zn.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"bg-white dark:bg-slate-800 p-5 rounded-[28px] border border-slate-100 dark:border-slate-700 shadow-sm relative group hover:border-blue-200 transition-colors",children:[y.jsxs("div",{className:"flex justify-between items-start mb-4",children:[y.jsx("div",{className:"w-12 h-12 rounded-2xl bg-slate-50 dark:bg-slate-700 flex items-center justify-center text-slate-400",children:y.jsx(L_,{className:"w-6 h-6"})}),y.jsxs("div",{className:"flex gap-1",children:[y.jsx("button",{className:"p-2 text-slate-400 hover:text-blue-500 rounded-full hover:bg-blue-50",children:y.jsx(Qw,{className:"w-4 h-4"})}),y.jsx("button",{onClick:()=>f(x.id),className:"p-2 text-slate-400 hover:text-red-500 rounded-full hover:bg-red-50",children:y.jsx(dd,{className:"w-4 h-4"})})]})]}),y.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-100 line-clamp-1",children:x.name}),y.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mb-4",children:x.category}),y.jsxs("div",{className:"flex items-end justify-between pt-4 border-t border-slate-50 dark:border-slate-700",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"Unit Price"}),y.jsxs("p",{className:"text-xl font-black text-blue-600",children:["",x.price.toFixed(2)]})]}),y.jsxs("div",{className:"text-right",children:[y.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"Stock"}),y.jsxs("span",{className:`text-sm font-black px-3 py-1 rounded-full ${x.stock>10?"bg-green-50 text-green-600":"bg-red-50 text-red-600"}`,children:[x.stock," Units"]})]})]})]},x.id))})}),h.length===0&&y.jsxs("div",{className:"text-center py-20",children:[y.jsx("div",{className:"w-20 h-20 bg-slate-100 dark:bg-slate-800 rounded-full flex items-center justify-center mx-auto mb-4",children:y.jsx(L_,{className:"w-10 h-10 text-slate-300"})}),y.jsx("h3",{className:"text-lg font-bold text-slate-600",children:"No products found"}),y.jsx("p",{className:"text-slate-400",children:"Add a product or try a different search"})]})]}),y.jsx(Kf,{children:i&&y.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:y.jsxs(zn.div,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},exit:{y:100,opacity:0},className:"bg-white dark:bg-slate-800 w-full max-w-lg rounded-[32px] overflow-hidden shadow-2xl",children:[y.jsxs("div",{className:"p-8 pb-0 flex justify-between items-center",children:[y.jsx("h2",{className:"text-2xl font-bold",children:"New Product"}),y.jsx("button",{onClick:()=>s(!1),className:"w-10 h-10 bg-slate-100 rounded-full flex items-center justify-center",children:""})]}),y.jsxs("form",{onSubmit:c,className:"p-8 space-y-6",children:[y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"text-xs font-black text-slate-400 uppercase ml-2",children:"Product Name"}),y.jsx("input",{required:!0,autoFocus:!0,className:"w-full p-4 bg-slate-50 dark:bg-slate-900 border-none rounded-2xl text-lg font-bold focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Enter Name...",value:a.name,onChange:x=>o({...a,name:x.target.value})})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"text-xs font-black text-slate-400 uppercase ml-2",children:"Sale Price"}),y.jsx("input",{required:!0,type:"number",className:"w-full p-4 bg-slate-50 dark:bg-slate-900 border-none rounded-2xl font-bold focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"",value:a.price||"",onChange:x=>o({...a,price:Number(x.target.value)})})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"text-xs font-black text-slate-400 uppercase ml-2",children:"Opening Stock"}),y.jsx("input",{required:!0,type:"number",className:"w-full p-4 bg-slate-50 dark:bg-slate-900 border-none rounded-2xl font-bold focus:ring-2 focus:ring-blue-500 outline-none",value:a.stock||"",onChange:x=>o({...a,stock:Number(x.target.value)})})]})]}),y.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white py-5 rounded-2xl font-black text-lg shadow-xl shadow-blue-200 active:scale-95 transition-transform",children:"Save Product"})]})]})})})]})},tce=({onEditInvoice:t,onBack:e})=>{const[n,r]=Ie.useState([]),[i,s]=Ie.useState(null),[a,o]=Ie.useState([]),[c,f]=Ie.useState("HISTORY"),[h,p]=Ie.useState(null),[g,x]=Ie.useState(!1),[T,S]=Ie.useState(""),[N,k]=Ie.useState(new Date().toISOString().split("T")[0]),[B,R]=Ie.useState("CASH"),[q,Y]=Ie.useState(""),[J,F]=Ie.useState(""),[O,C]=Ie.useState(""),[H,P]=Ie.useState(!1),[L,V]=Ie.useState({name:"",company:"",email:"",phone:"",address:"",state:"",gstin:""}),[me,Ne]=Ie.useState(!1),[se,xe]=Ie.useState(null);Ie.useEffect(()=>{r(nt.getCustomers());const fe=new Date,Ae=new Date(fe.getFullYear(),fe.getMonth(),1).toISOString().split("T")[0],Ue=new Date(fe.getFullYear(),fe.getMonth()+1,0).toISOString().split("T")[0];F(Ae),C(Ue)},[]);const he=fe=>{const Ae=nt.getInvoices(),Ue=nt.getPayments(),ae=Ae.filter(re=>re.customerId===fe.id),it=Ue.filter(re=>re.customerId===fe.id),dt=[...ae.map(re=>({id:re.id,date:re.date,type:"INVOICE",reference:re.invoiceNumber,amount:re.total,status:re.status,mode:re.status==="PAID"?"CASH":"CREDIT",data:re})),...it.map(re=>({id:re.id,date:re.date,type:"PAYMENT",reference:re.reference||"Payment",amount:re.amount,mode:re.mode,data:re}))];dt.sort((re,lt)=>new Date(lt.date).getTime()-new Date(re.date).getTime()),o(dt),s(fe),f("HISTORY")},ue=fe=>{if(fe.preventDefault(),!i)return;const Ae=Number(T);if(!Ae||Ae<=0)return alert("Enter valid amount");const Ue={id:crypto.randomUUID(),customerId:i.id,date:N,amount:Ae,mode:B,note:q,reference:"PAY-"+Date.now().toString().slice(-6)};nt.savePayment(Ue);const ae=nt.getCustomers();r(ae);const it=ae.find(dt=>dt.id===i.id)||null;s(it),it&&he(it),x(!1),S(""),Y(""),R("CASH")},Le=fe=>{if(!i)return;const Ae=nt.getCompanyProfile();fe.type==="INVOICE"?uv.shareInvoice(fe.data,i,Ae):uv.sharePayment(fe.data,i,Ae)},ne=fe=>{switch(fe){case"PAID":return"bg-green-100 text-green-800";case"PENDING":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},M=()=>{if(!i)return;nt.addNotification(i.id,{type:"REMINDER",title:"Payment Reminder Sent",message:`A payment reminder was sent to ${i.email}.`,date:new Date().toISOString().split("T")[0]}),alert(`Reminder sent to ${i.email}`);const fe=nt.getCustomers(),Ae=fe.find(Ue=>Ue.id===i.id)||null;r(fe),s(Ae)},W=()=>{if(!i)return;const fe=nt.getCompanyProfile(),Ae=a.filter(re=>re.date>=J&&re.date<=O).sort((re,lt)=>new Date(re.date).getTime()-new Date(lt.date).getTime()),Ue=new fn;Ue.setFontSize(18),Ue.text("STATEMENT OF ACCOUNT",105,20,{align:"center"}),Ue.setFontSize(12),Ue.text(fe.name,105,30,{align:"center"}),Ue.setFontSize(10),Ue.text(`Customer: ${i.company}`,14,50),Ue.text(`Period: ${J} to ${O}`,14,56);let ae=70;Ue.setFillColor(240,240,240),Ue.rect(14,ae-6,182,8,"F"),Ue.setFont("helvetica","bold"),Ue.text("Date",16,ae),Ue.text("Details / Ref",45,ae),Ue.text("Debit",130,ae,{align:"right"}),Ue.text("Credit",160,ae,{align:"right"}),Ue.text("Mode",190,ae,{align:"right"}),Ue.setFont("helvetica","normal"),ae+=10;let it=0,dt=0;Ae.forEach(re=>{Ue.text(re.date,16,ae),Ue.text(re.type==="INVOICE"?`Inv: ${re.reference}`:`Pay: ${re.reference}`,45,ae),re.type==="INVOICE"?(Ue.text(re.amount.toFixed(2),130,ae,{align:"right"}),it+=re.amount):Ue.text("-",130,ae,{align:"right"}),re.type==="PAYMENT"?(Ue.text(re.amount.toFixed(2),160,ae,{align:"right"}),dt+=re.amount):Ue.text("-",160,ae,{align:"right"}),Ue.text(re.mode||"-",190,ae,{align:"right"}),ae+=8,ae>280&&(Ue.addPage(),ae=20)}),ae+=5,Ue.line(14,ae,196,ae),ae+=8,Ue.setFont("helvetica","bold"),Ue.text("Totals:",100,ae),Ue.text(it.toFixed(2),130,ae,{align:"right"}),Ue.text(dt.toFixed(2),160,ae,{align:"right"}),ae+=10,Ue.text("Current Outstanding Balance:",130,ae,{align:"right"}),Ue.text(`Rs. ${i.balance.toFixed(2)}`,160,ae,{align:"right"}),Ue.save(`Statement_${i.name}_${J}.pdf`)};if(i)return y.jsxs("div",{className:"p-4 md:p-6 bg-slate-50 min-h-full relative",children:[h&&y.jsx("div",{className:"fixed inset-0 z-50 bg-slate-100 overflow-y-auto",children:y.jsx(M7,{invoice:h,onBack:()=>p(null),onEdit:fe=>{p(null),t&&t(fe)}})}),y.jsx("div",{className:"flex justify-between items-center mb-6",children:y.jsxs("button",{onClick:()=>s(null),className:"flex items-center gap-2 text-slate-600 hover:text-slate-900 transition-colors",children:[y.jsx(Au,{className:"w-4 h-4"})," Back to Customers"]})}),y.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-[28px] shadow-sm border border-slate-200 dark:border-slate-700 p-6 mb-6",children:y.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start gap-4",children:[y.jsxs("div",{className:"flex-1",children:[y.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[y.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100",children:i.company}),y.jsxs("div",{title:"Payment Behavior Score",className:`px-2 py-0.5 rounded-full text-[10px] font-black uppercase tracking-widest ${nt.getCustomerBehaviorScore(i.id)>80?"bg-green-100 text-green-700":nt.getCustomerBehaviorScore(i.id)>50?"bg-orange-100 text-orange-700":"bg-red-100 text-red-700"}`,children:["Score: ",nt.getCustomerBehaviorScore(i.id),"%"]})]}),y.jsxs("div",{className:"flex flex-wrap gap-4 text-slate-600 dark:text-slate-400 mt-2",children:[y.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[y.jsx(V5,{className:"w-4 h-4"})," ",i.email]}),y.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[y.jsx(uP,{className:"w-4 h-4"})," ",i.phone]}),y.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[y.jsx(lP,{className:"w-4 h-4"})," ",i.address]})]})]}),y.jsxs("div",{className:"flex flex-col items-end gap-3 w-full md:w-auto",children:[y.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 p-4 rounded-[20px] text-center min-w-[150px] border border-red-100 dark:border-red-900/30 w-full md:w-auto",children:[y.jsx("div",{className:"text-xs text-red-600 dark:text-red-400 uppercase font-bold tracking-wider mb-1",children:"Total Outstanding"}),y.jsxs("div",{className:"text-3xl font-black text-red-600 dark:text-red-400",children:["",i.balance.toLocaleString()]})]}),y.jsxs("div",{className:"flex gap-2 w-full md:w-auto",children:[y.jsxs("button",{onClick:()=>{const fe=prompt("Enter follow-up note (e.g., 'Called for payment', 'Agreed to pay by Monday')");if(fe){const Ae={...i};Ae.followUpHistory||(Ae.followUpHistory=[]),Ae.followUpHistory.unshift({date:new Date().toISOString().split("T")[0],note:fe}),nt.updateCustomer(Ae),s(Ae),ia.light()}},className:"flex-1 md:flex-none flex items-center justify-center gap-2 bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-200 px-4 py-2 rounded-xl font-bold hover:bg-slate-200 transition-colors",children:[y.jsx(Ny,{className:"w-4 h-4"})," Follow-up"]}),y.jsxs("button",{onClick:()=>x(!0),className:"flex-1 md:flex-none flex items-center justify-center gap-2 bg-blue-600 text-white px-6 py-2 rounded-xl shadow-lg shadow-blue-500/30 hover:bg-blue-700 transition-colors font-bold",children:[y.jsx(Kw,{className:"w-4 h-4"})," Receive Payment"]})]})]})]})}),y.jsxs("div",{className:"flex gap-4 border-b border-gray-200 mb-6 overflow-x-auto",children:[y.jsx("button",{onClick:()=>f("HISTORY"),className:`pb-2 px-2 text-sm font-medium transition-colors whitespace-nowrap ${c==="HISTORY"?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:"Transaction History"}),y.jsx("button",{onClick:()=>f("STATEMENT"),className:`pb-2 px-2 text-sm font-medium transition-colors whitespace-nowrap ${c==="STATEMENT"?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:"Account Statement"}),y.jsxs("button",{onClick:()=>f("NOTIFICATIONS"),className:`pb-2 px-2 text-sm font-medium transition-colors whitespace-nowrap flex items-center gap-2 ${c==="NOTIFICATIONS"?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:["Notifications & Logs",i.notifications&&i.notifications.length>0&&y.jsx("span",{className:"bg-red-500 text-white text-[10px] px-1.5 rounded-full",children:i.notifications.length})]})]}),y.jsxs("div",{className:"bg-white rounded-lg shadow border border-gray-200",children:[c==="HISTORY"&&y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"w-full min-w-[700px]",children:[y.jsx("thead",{className:"bg-slate-50 border-b",children:y.jsxs("tr",{children:[y.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Date"}),y.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Type / Ref"}),y.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Debit (Out)"}),y.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Credit (In)"}),y.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Mode"}),y.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Actions"})]})}),y.jsxs("tbody",{className:"divide-y divide-slate-200",children:[a.map(fe=>y.jsxs("tr",{className:`hover:bg-slate-50 transition-colors ${fe.type==="PAYMENT"?"bg-green-50/30":""}`,children:[y.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500",children:y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx(O5,{className:"w-3 h-3"})," ",fe.date]})}),y.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-slate-700",children:y.jsxs("div",{className:"flex flex-col",children:[y.jsx("span",{className:fe.type==="INVOICE"?"text-blue-600":"text-green-600",children:fe.type==="INVOICE"?`Inv #${fe.reference}`:`Pay: ${fe.mode}`}),y.jsx("span",{className:"text-xs text-gray-400",children:fe.data.id.slice(0,8)})]})}),y.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right font-medium text-slate-900",children:fe.type==="INVOICE"?`${fe.amount.toFixed(2)}`:"-"}),y.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right font-medium text-green-600",children:fe.type==="PAYMENT"?`${fe.amount.toFixed(2)}`:"-"}),y.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center text-xs",children:y.jsx("span",{className:`px-2 py-1 rounded-full ${fe.type==="INVOICE"?ne(fe.status):"bg-green-100 text-green-800"}`,children:fe.mode})}),y.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-center flex justify-center gap-2",children:[y.jsx("button",{onClick:()=>Le(fe),className:"text-green-500 hover:text-green-700",title:"Share on WhatsApp",children:y.jsx(Ny,{className:"w-4 h-4"})}),fe.type==="INVOICE"&&y.jsx("button",{onClick:()=>p(fe.data),className:"text-slate-400 hover:text-blue-600",title:"View Details",children:y.jsx(_U,{className:"w-4 h-4"})})]})]},fe.id)),a.length===0&&y.jsx("tr",{children:y.jsx("td",{colSpan:6,className:"px-6 py-12 text-center text-slate-500",children:y.jsxs("div",{className:"flex flex-col items-center justify-center",children:[y.jsx(tp,{className:"w-12 h-12 text-gray-300 mb-2"}),y.jsx("p",{children:"No transactions found."})]})})})]})]})}),c==="STATEMENT"&&y.jsx("div",{className:"p-8",children:y.jsxs("div",{className:"max-w-2xl mx-auto",children:[y.jsxs("div",{className:"text-center mb-8",children:[y.jsx(V0,{className:"w-12 h-12 text-blue-500 mx-auto mb-3"}),y.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"Generate Account Statement"}),y.jsx("p",{className:"text-slate-500",children:"Select a date range to download a PDF statement of all transactions."})]}),y.jsxs("div",{className:"bg-slate-50 p-6 rounded-lg border border-slate-200 grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Start Date"}),y.jsx("input",{type:"date",value:J,onChange:fe=>F(fe.target.value),className:"w-full border border-slate-300 rounded-md p-2"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"End Date"}),y.jsx("input",{type:"date",value:O,onChange:fe=>C(fe.target.value),className:"w-full border border-slate-300 rounded-md p-2"})]})]}),y.jsxs("button",{onClick:W,className:"w-full flex items-center justify-center gap-2 bg-slate-800 text-white py-3 rounded-lg hover:bg-slate-900 transition-all",children:[y.jsx(bp,{className:"w-5 h-5"})," Download PDF Statement"]})]})}),c==="NOTIFICATIONS"&&y.jsxs("div",{className:"p-4 md:p-6",children:[y.jsx("h3",{className:"text-sm font-bold text-slate-500 uppercase tracking-wider mb-4",children:"Follow-up History"}),y.jsxs("div",{className:"space-y-3 mb-8",children:[(i.followUpHistory||[]).map((fe,Ae)=>y.jsx("div",{className:"p-3 bg-blue-50/50 dark:bg-blue-900/10 border border-blue-100 dark:border-blue-900/30 rounded-xl",children:y.jsxs("div",{className:"flex justify-between items-center mb-1",children:[y.jsx("span",{className:"text-sm font-bold text-blue-700 dark:text-blue-400",children:fe.note}),y.jsx("span",{className:"text-[10px] text-slate-400 font-bold uppercase",children:fe.date})]})},Ae)),(!i.followUpHistory||i.followUpHistory.length===0)&&y.jsx("p",{className:"text-xs text-slate-400 italic",children:"No follow-up notes logged yet."})]}),y.jsxs("div",{className:"flex justify-between items-center mb-6",children:[y.jsx("h3",{className:"text-sm font-bold text-slate-500 uppercase tracking-wider",children:"Activity Log & Notifications"}),y.jsxs("button",{onClick:M,className:"flex items-center gap-2 text-sm bg-indigo-50 text-indigo-600 px-3 py-2 rounded hover:bg-indigo-100",children:[y.jsx(KU,{className:"w-4 h-4"})," Send Payment Reminder"]})]}),y.jsxs("div",{className:"space-y-4",children:[(i.notifications||[]).map(fe=>y.jsxs("div",{className:"flex gap-4 p-4 bg-slate-50 rounded-lg border border-slate-100",children:[y.jsx("div",{className:`p-2 rounded-full h-fit ${fe.type==="INVOICE"?"bg-blue-100 text-blue-600":fe.type==="REMINDER"?"bg-orange-100 text-orange-600":fe.type==="PAYMENT"?"bg-green-100 text-green-600":"bg-gray-200 text-gray-600"}`,children:fe.type==="INVOICE"?y.jsx(tp,{className:"w-5 h-5"}):fe.type==="REMINDER"?y.jsx(Xg,{className:"w-5 h-5"}):fe.type==="PAYMENT"?y.jsx(Kw,{className:"w-5 h-5"}):y.jsx($V,{className:"w-5 h-5"})}),y.jsxs("div",{children:[y.jsx("h4",{className:"font-bold text-slate-800 text-sm",children:fe.title}),y.jsx("p",{className:"text-sm text-slate-600 mb-1",children:fe.message}),y.jsx("span",{className:"text-xs text-slate-400",children:fe.date})]})]},fe.id)),(!i.notifications||i.notifications.length===0)&&y.jsx("div",{className:"text-center py-10 text-gray-400",children:"No notifications yet."})]})]})]}),g&&y.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:y.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md p-6 animate-in fade-in zoom-in duration-200",children:[y.jsxs("div",{className:"flex justify-between items-center mb-4",children:[y.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"Receive Payment"}),y.jsx("button",{onClick:()=>x(!1),children:y.jsx(Uh,{className:"w-5 h-5 text-gray-400 hover:text-gray-600"})})]}),y.jsxs("form",{onSubmit:ue,className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Amount ()"}),y.jsx("input",{type:"number",required:!0,value:T,onChange:fe=>S(fe.target.value),className:"w-full border border-slate-300 rounded-md p-2 text-lg font-bold",placeholder:"0.00"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),y.jsx("input",{type:"date",required:!0,value:N,onChange:fe=>k(fe.target.value),className:"w-full border border-slate-300 rounded-md p-2"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Mode"}),y.jsxs("select",{value:B,onChange:fe=>R(fe.target.value),className:"w-full border border-slate-300 rounded-md p-2",children:[y.jsx("option",{value:"CASH",children:"Cash"}),y.jsx("option",{value:"UPI",children:"UPI / Online"}),y.jsx("option",{value:"BANK_TRANSFER",children:"Bank Transfer"}),y.jsx("option",{value:"CHEQUE",children:"Cheque"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Note / Reference"}),y.jsx("input",{type:"text",value:q,onChange:fe=>Y(fe.target.value),className:"w-full border border-slate-300 rounded-md p-2",placeholder:"Optional"})]}),y.jsx("button",{type:"submit",className:"w-full bg-green-600 text-white py-3 rounded-lg font-bold hover:bg-green-700 mt-2",children:"Save Payment"})]})]})})]});const K=fe=>{if(fe.preventDefault(),!L.name||!L.company||!L.email){alert("Please fill name, company, and email");return}const Ae={id:crypto.randomUUID(),name:L.name,company:L.company,email:L.email,phone:L.phone,address:L.address,state:L.state,gstin:L.gstin,balance:0,notifications:[]};nt.saveCustomer(Ae),r(nt.getCustomers()),P(!1),V({name:"",company:"",email:"",phone:"",address:"",state:"",gstin:""}),alert("Customer added successfully!")},Q=fe=>{xe({...fe}),Ne(!0)},ce=fe=>{if(fe.preventDefault(),!!se){if(!se.name||!se.company||!se.email){alert("Please fill name, company, and email");return}nt.updateCustomer(se),r(nt.getCustomers()),Ne(!1),xe(null),alert("Customer updated successfully!")}},we=fe=>{confirm("Are you sure you want to delete this customer? This will also affect all their invoices and payments.")&&(nt.deleteCustomer(fe),r(nt.getCustomers()),Ne(!1),xe(null))},ke=()=>{const fe=nt.getCompanyProfile();return!!(fe?.gst_enabled||fe?.gst)};return y.jsxs("div",{className:"p-4 md:p-6",children:[me&&se&&(()=>{const fe=ke();return y.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:y.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md p-6 animate-in fade-in zoom-in duration-200 max-h-[90vh] overflow-y-auto",children:[y.jsxs("div",{className:"flex justify-between items-center mb-4 sticky top-0 bg-white",children:[y.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"Edit Customer"}),y.jsx("button",{onClick:()=>{Ne(!1),xe(null)},className:"p-1",children:y.jsx(Uh,{className:"w-5 h-5 text-gray-400 hover:text-gray-600"})})]}),y.jsxs("form",{onSubmit:ce,className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Customer Name *"}),y.jsx("input",{type:"text",required:!0,value:se.name,onChange:Ae=>xe({...se,name:Ae.target.value}),className:"w-full border border-slate-300 rounded-md p-2 text-sm",placeholder:"Full name","data-testid":"input-edit-customer-name"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Company Name *"}),y.jsx("input",{type:"text",required:!0,value:se.company,onChange:Ae=>xe({...se,company:Ae.target.value}),className:"w-full border border-slate-300 rounded-md p-2 text-sm",placeholder:"Company name","data-testid":"input-edit-company-name"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email *"}),y.jsx("input",{type:"email",required:!0,value:se.email,onChange:Ae=>xe({...se,email:Ae.target.value}),className:"w-full border border-slate-300 rounded-md p-2 text-sm",placeholder:"email@example.com","data-testid":"input-edit-email"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),y.jsx("input",{type:"tel",value:se.phone,onChange:Ae=>xe({...se,phone:Ae.target.value}),className:"w-full border border-slate-300 rounded-md p-2 text-sm",placeholder:"10-digit number","data-testid":"input-edit-phone"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),y.jsx("textarea",{value:se.address,onChange:Ae=>xe({...se,address:Ae.target.value}),rows:2,className:"w-full border border-slate-300 rounded-md p-2 text-sm resize-none",placeholder:"Billing address","data-testid":"textarea-edit-address"})]}),fe&&y.jsxs(y.Fragment,{children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"State"}),y.jsx("input",{type:"text",value:se.state||"",onChange:Ae=>xe({...se,state:Ae.target.value}),className:"w-full border border-slate-300 rounded-md p-2 text-sm",placeholder:"State name","data-testid":"input-edit-state"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"GST Number (Optional)"}),y.jsx("input",{type:"text",value:se.gstin||"",onChange:Ae=>xe({...se,gstin:Ae.target.value}),className:"w-full border border-slate-300 rounded-md p-2 text-sm",placeholder:"15-digit GSTIN",maxLength:15,"data-testid":"input-edit-gstin"})]})]}),y.jsxs("div",{className:"flex gap-3",children:[y.jsx("button",{type:"submit",className:"flex-1 bg-blue-600 text-white py-2 rounded-lg font-bold hover:bg-blue-700","data-testid":"button-save-customer",children:"Save Changes"}),y.jsx("button",{type:"button",onClick:()=>we(se.id),className:"px-4 bg-red-50 text-red-600 py-2 rounded-lg font-bold hover:bg-red-100 flex items-center gap-2","data-testid":"button-delete-customer",children:y.jsx(dd,{className:"w-4 h-4"})})]})]})]})})})(),H&&(()=>{const fe=ke();return y.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:y.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md p-6 animate-in fade-in zoom-in duration-200 max-h-[90vh] overflow-y-auto",children:[y.jsxs("div",{className:"flex justify-between items-center mb-4 sticky top-0 bg-white",children:[y.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"Add New Customer"}),y.jsx("button",{onClick:()=>P(!1),className:"p-1",children:y.jsx(Uh,{className:"w-5 h-5 text-gray-400 hover:text-gray-600"})})]}),y.jsxs("form",{onSubmit:K,className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Customer Name *"}),y.jsx("input",{type:"text",required:!0,value:L.name,onChange:Ae=>V({...L,name:Ae.target.value}),className:"w-full border border-slate-300 rounded-md p-2 text-sm",placeholder:"Full name","data-testid":"input-customer-name"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Company Name *"}),y.jsx("input",{type:"text",required:!0,value:L.company,onChange:Ae=>V({...L,company:Ae.target.value}),className:"w-full border border-slate-300 rounded-md p-2 text-sm",placeholder:"Company name","data-testid":"input-company-name"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email *"}),y.jsx("input",{type:"email",required:!0,value:L.email,onChange:Ae=>V({...L,email:Ae.target.value}),className:"w-full border border-slate-300 rounded-md p-2 text-sm",placeholder:"email@example.com","data-testid":"input-email"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),y.jsx("input",{type:"tel",value:L.phone,onChange:Ae=>V({...L,phone:Ae.target.value}),className:"w-full border border-slate-300 rounded-md p-2 text-sm",placeholder:"10-digit number","data-testid":"input-phone"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),y.jsx("textarea",{value:L.address,onChange:Ae=>V({...L,address:Ae.target.value}),rows:2,className:"w-full border border-slate-300 rounded-md p-2 text-sm resize-none",placeholder:"Billing address","data-testid":"textarea-address"})]}),fe&&y.jsxs(y.Fragment,{children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"State"}),y.jsx("input",{type:"text",value:L.state,onChange:Ae=>V({...L,state:Ae.target.value}),className:"w-full border border-slate-300 rounded-md p-2 text-sm",placeholder:"State name","data-testid":"input-state"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"GST Number (Optional)"}),y.jsx("input",{type:"text",value:L.gstin,onChange:Ae=>V({...L,gstin:Ae.target.value}),className:"w-full border border-slate-300 rounded-md p-2 text-sm",placeholder:"15-digit GSTIN",maxLength:15,"data-testid":"input-gstin"}),y.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Only visible when GST is enabled in Settings"})]})]}),y.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 rounded-lg font-bold hover:bg-blue-700","data-testid":"button-add-customer",children:"Add Customer"})]})]})})})(),y.jsxs("div",{className:"p-4 md:p-6 bg-slate-50 min-h-full",children:[y.jsxs("div",{className:"flex justify-between items-center mb-6",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[e&&y.jsx("button",{onClick:e,className:"p-2 -ml-2 rounded-full hover:bg-slate-200",children:y.jsx(Au,{className:"w-6 h-6 text-slate-700"})}),y.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Customers"})]}),y.jsxs("button",{onClick:()=>P(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg flex items-center gap-2 hover:bg-blue-700 font-medium shadow-sm transition-all",children:[y.jsx(cB,{className:"w-5 h-5"}),y.jsx("span",{className:"hidden sm:inline",children:"Add Customer"})]})]}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.map(fe=>y.jsxs("div",{onClick:()=>he(fe),className:"bg-white p-5 rounded-xl shadow-sm border border-slate-100 hover:shadow-md transition-all cursor-pointer group",children:[y.jsxs("div",{className:"flex justify-between items-start mb-3",children:[y.jsx("div",{className:"w-12 h-12 bg-blue-50 text-blue-600 rounded-full flex items-center justify-center font-bold text-lg group-hover:bg-blue-100 transition-colors",children:fe.company.charAt(0)}),y.jsx("button",{onClick:Ae=>{Ae.stopPropagation(),Q(fe)},className:"p-2 text-slate-400 hover:text-blue-600 hover:bg-slate-50 rounded-full transition-colors",children:y.jsx(j5,{className:"w-4 h-4"})})]}),y.jsx("h3",{className:"font-bold text-slate-800 text-lg mb-1 truncate",children:fe.company}),y.jsx("p",{className:"text-slate-500 text-sm mb-4 truncate",children:fe.name}),y.jsx("div",{className:"flex flex-col gap-2 border-t border-slate-50 pt-3",children:y.jsxs("div",{className:"flex items-center justify-between text-sm",children:[y.jsx("span",{className:"text-slate-500",children:"Balance"}),y.jsxs("span",{className:`font-bold ${fe.balance>0?"text-red-600":"text-green-600"}`,children:["",fe.balance.toLocaleString()]})]})})]},fe.id))})]})]})},nce=()=>{const{company:t,saveCompany:e}=Fp(),[n,r]=Ie.useState({name:"",address:"",phone:"",email:"",upiId:""}),[i,s]=Ie.useState({apiKey:"",authDomain:"",projectId:"",storageBucket:"",messagingSenderId:"",appId:""}),[a,o]=Ie.useState(!1),[c,f]=Ie.useState(t?.gst_enabled??!0),[h,p]=Ie.useState(t?.gst??""),[g,x]=Ie.useState(t?.show_hsn_summary??!0),[T,S]=Ie.useState(t?.roundUpDefault??0),[N,k]=Ie.useState("IDLE"),[B,R]=Ie.useState(!1),[q,Y]=Ie.useState(!1),[J,F]=Ie.useState(""),[O,C]=Ie.useState(null),H=Ie.useRef(null);Ie.useEffect(()=>{if(t)r({name:t.name||"",address:t.address||"",phone:t.phone||"",email:t.email||"",upiId:t.upiId||""}),f(t.gst_enabled??!0),p(t.gst||""),x(t.show_hsn_summary??!0),S(t.roundUpDefault??0);else{const ue=nt.getCompanyProfile();r(ue)}const he=nt.getFirebaseConfig();he&&s(he),R(er.isReady())},[t]);const P=(he,ue)=>{r(Le=>({...Le,[he]:ue})),o(!1)},L=(he,ue)=>{s(Le=>({...Le,[he]:ue})),C(null)},V=async he=>{he.preventDefault();try{await e({name:n.name,address:n.address,phone:n.phone,email:n.email,gst:h,gst_enabled:c,show_hsn_summary:g,roundUpDefault:T,upiId:n.upiId}),nt.saveCompanyProfile(n),o(!0),setTimeout(()=>o(!1),3e3)}catch(ue){console.error("Failed to save settings:",ue),alert("Failed to save settings. Please try again.")}},me=async he=>{he.preventDefault(),C({success:!1,message:"Initializing..."}),nt.saveFirebaseConfig(i),er.init(i);{R(!0);const ue=await er.testConnection();C(ue),ue.success&&confirm("Connection Successful! The app needs to reload to sync your data. Reload now?")&&window.location.reload()}},Ne=()=>{const he=["apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId"];let ue=0;const Le={...i};he.forEach(ne=>{const M=new RegExp(`${ne}\\s*:\\s*["']([^"']+)["']`),W=J.match(M);W&&W[1]&&(Le[ne]=W[1],ue++)}),ue>0?(s(Le),Y(!1),F(""),alert(`Success! Auto-filled ${ue} fields. Click 'Save & Connect' to finish.`)):alert("Could not find any configuration keys. Please paste the full 'firebaseConfig' code block.")},se=()=>{const he=nt.exportAllData(),ue="data:application/json;charset=utf-8,"+encodeURIComponent(he),Le=`billflow_backup_${new Date().toISOString().slice(0,10)}.json`,ne=document.createElement("a");ne.setAttribute("href",ue),ne.setAttribute("download",Le),ne.click()},xe=he=>{const ue=he.target.files?.[0];if(!ue)return;const Le=new FileReader;Le.onload=ne=>{const M=ne.target?.result;typeof M=="string"&&(nt.importData(M)?(k("SUCCESS"),setTimeout(()=>window.location.reload(),1500)):k("ERROR"))},Le.readAsText(ue),H.current&&(H.current.value="")};return y.jsxs("div",{className:"p-4 md:p-6 max-w-4xl mx-auto pb-24",children:[y.jsx("h2",{className:"text-xl md:text-2xl font-bold text-slate-800 mb-2",children:"Settings"}),y.jsx("p",{className:"text-slate-500 mb-8",children:"Configure your company details and manage your data."}),y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[y.jsx("div",{className:"lg:col-span-2",children:y.jsxs("form",{onSubmit:V,className:"bg-white rounded-lg shadow-sm border border-slate-200 overflow-hidden",children:[y.jsx("div",{className:"px-6 py-4 border-b border-gray-100 bg-gray-50",children:y.jsxs("h3",{className:"text-lg font-medium text-slate-900 flex items-center gap-2",children:[y.jsx(rP,{className:"w-5 h-5 text-blue-600"})," Company Profile"]})}),y.jsxs("div",{className:"p-6 space-y-6",children:[y.jsxs("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[y.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[y.jsx("input",{type:"checkbox",checked:c,onChange:he=>f(he.target.checked),className:"w-4 h-4 rounded border-gray-300"}),y.jsx("span",{className:"text-sm font-medium text-blue-900",children:"Enable GST for Invoices"})]}),y.jsx("p",{className:"text-xs text-blue-700 mt-2",children:"When enabled, GST rate can be set per item in invoices"})]}),c&&y.jsxs(y.Fragment,{children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"GST Number"}),y.jsx("input",{type:"text",value:h,onChange:he=>p(he.target.value),placeholder:"Your GST Registration Number",className:"w-full rounded-md border border-slate-300 p-2.5 text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"})]}),y.jsxs("div",{children:[y.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[y.jsx("input",{type:"checkbox",checked:g,onChange:he=>x(he.target.checked),className:"w-4 h-4 rounded border-gray-300"}),y.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Show HSN Summary in Invoices"})]}),y.jsx("p",{className:"text-xs text-slate-500 mt-1 ml-7",children:"Display HSN-wise tax summary in invoice PDFs (Tally format)"})]})]}),y.jsxs("div",{className:"mt-6 pt-6 border-t",children:[y.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-3",children:"Default Round Up for All Bills"}),y.jsxs("div",{className:"space-y-2",children:[y.jsxs("label",{className:"flex items-center gap-2 p-3 rounded-lg border border-slate-200 hover:bg-slate-50 cursor-pointer",children:[y.jsx("input",{type:"radio",name:"roundUp",checked:T===0,onChange:()=>S(0)}),y.jsx("span",{className:"text-sm font-medium text-slate-700",children:"No Rounding"})]}),y.jsxs("label",{className:"flex items-center gap-2 p-3 rounded-lg border border-slate-200 hover:bg-slate-50 cursor-pointer",children:[y.jsx("input",{type:"radio",name:"roundUp",checked:T===10,onChange:()=>S(10)}),y.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Round to 10"})]}),y.jsxs("label",{className:"flex items-center gap-2 p-3 rounded-lg border border-slate-200 hover:bg-slate-50 cursor-pointer",children:[y.jsx("input",{type:"radio",name:"roundUp",checked:T===100,onChange:()=>S(100)}),y.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Round to 100"})]})]}),y.jsx("p",{className:"text-xs text-slate-500 mt-2",children:"This setting applies to all new invoices automatically"})]}),y.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Company Name"}),y.jsx("input",{type:"text",required:!0,value:n.name,onChange:he=>P("name",he.target.value),className:"w-full rounded-md border border-slate-300 p-2.5 text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Address"}),y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:y.jsx(lP,{className:"h-4 w-4 text-gray-400"})}),y.jsx("textarea",{required:!0,rows:3,value:n.address,onChange:he=>P("address",he.target.value),className:"w-full rounded-md border border-slate-300 pl-10 p-2.5 text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"})]})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Phone Number"}),y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:y.jsx(uP,{className:"h-4 w-4 text-gray-400"})}),y.jsx("input",{type:"text",required:!0,value:n.phone,onChange:he=>P("phone",he.target.value),className:"w-full rounded-md border border-slate-300 pl-10 p-2.5 text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Email Address"}),y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:y.jsx(V5,{className:"h-4 w-4 text-gray-400"})}),y.jsx("input",{type:"email",required:!0,value:n.email,onChange:he=>P("email",he.target.value),className:"w-full rounded-md border border-slate-300 pl-10 p-2.5 text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"})]})]})]}),y.jsxs("div",{className:"mt-4",children:[y.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"UPI ID (for Payments)"}),y.jsx("input",{type:"text",value:n.upiId||"",onChange:he=>P("upiId",he.target.value),placeholder:"e.g. 9876543210@upi or merchant@okaxis",className:"w-full rounded-md border border-slate-300 p-2.5 text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"}),y.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"This will generate a QR code on invoices for easy payment."})]})]})]}),y.jsxs("div",{className:"bg-gray-50 px-6 py-4 flex justify-between items-center",children:[y.jsx("div",{className:"text-sm text-green-600 font-medium",children:a&&"Settings saved successfully!"}),y.jsxs("button",{type:"submit",className:"flex items-center gap-2 px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 font-medium shadow-sm transition-colors",children:[y.jsx(Iy,{className:"w-4 h-4"})," Save Changes"]})]})]})}),y.jsx("div",{className:"lg:col-span-2",children:y.jsxs("form",{onSubmit:me,className:"bg-white rounded-lg shadow-sm border border-slate-200 overflow-hidden",children:[y.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 bg-gray-50 flex justify-between items-center",children:[y.jsxs("h3",{className:"text-lg font-medium text-slate-900 flex items-center gap-2",children:[y.jsx(sP,{className:"w-5 h-5 text-orange-500"})," Cloud Sync (Firebase)"]}),B?y.jsxs("span",{className:"flex items-center gap-1 text-xs font-bold text-green-600 bg-green-100 px-2 py-1 rounded-full",children:[y.jsx(iP,{className:"w-3 h-3"})," Connected"]}):y.jsx("span",{className:"flex items-center gap-1 text-xs font-bold text-gray-500 bg-gray-100 px-2 py-1 rounded-full",children:"Not Configured"})]}),y.jsxs("div",{className:"p-6 space-y-4",children:[y.jsxs("div",{className:"flex gap-3 mb-6",children:[y.jsxs("button",{type:"button",onClick:()=>Y(!0),className:"flex-1 bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 text-white p-3 rounded-lg shadow-md hover:shadow-lg transition-all flex items-center justify-center gap-2 font-bold text-sm",children:[y.jsx(F_,{className:"w-5 h-5"})," Super Auto-Fill Config"]}),y.jsxs("a",{href:"https://console.firebase.google.com/",target:"_blank",rel:"noopener noreferrer",className:"bg-slate-100 text-slate-700 p-3 rounded-lg hover:bg-slate-200 flex items-center gap-2 font-medium text-sm",children:[y.jsx(aP,{className:"w-4 h-4"})," Open Console"]})]}),y.jsxs("div",{className:"bg-blue-50 p-3 rounded text-xs text-blue-800 border border-blue-100 mb-4",children:["Manually enter keys below OR use the ",y.jsx("strong",{children:"Super Auto-Fill"})," button to paste your config code."]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-medium text-slate-700 mb-1",children:"API Key"}),y.jsx("input",{type:"text",className:"w-full border rounded p-2 text-xs",value:i.apiKey,onChange:he=>L("apiKey",he.target.value)})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-medium text-slate-700 mb-1",children:"Auth Domain"}),y.jsx("input",{type:"text",className:"w-full border rounded p-2 text-xs",value:i.authDomain,onChange:he=>L("authDomain",he.target.value)})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-medium text-slate-700 mb-1",children:"Project ID"}),y.jsx("input",{type:"text",className:"w-full border rounded p-2 text-xs",value:i.projectId,onChange:he=>L("projectId",he.target.value)})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-medium text-slate-700 mb-1",children:"Storage Bucket"}),y.jsx("input",{type:"text",className:"w-full border rounded p-2 text-xs",value:i.storageBucket,onChange:he=>L("storageBucket",he.target.value)})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-medium text-slate-700 mb-1",children:"Messaging Sender ID"}),y.jsx("input",{type:"text",className:"w-full border rounded p-2 text-xs",value:i.messagingSenderId,onChange:he=>L("messagingSenderId",he.target.value)})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-medium text-slate-700 mb-1",children:"App ID"}),y.jsx("input",{type:"text",className:"w-full border rounded p-2 text-xs",value:i.appId,onChange:he=>L("appId",he.target.value)})]})]}),O&&y.jsxs("div",{className:`p-3 rounded border text-sm flex items-start gap-2 ${O.success?"bg-green-50 border-green-200 text-green-800":"bg-red-50 border-red-200 text-red-800"}`,children:[O.success?y.jsx(xB,{className:"w-5 h-5 flex-shrink-0"}):y.jsx(mB,{className:"w-5 h-5 flex-shrink-0"}),y.jsxs("div",{children:[y.jsx("p",{className:"font-bold",children:O.success?"Connected":"Connection Failed"}),y.jsx("p",{className:"text-xs opacity-90",children:O.message})]})]})]}),y.jsx("div",{className:"bg-gray-50 px-6 py-4 flex justify-end items-center",children:y.jsxs("button",{type:"submit",className:"flex items-center gap-2 px-6 py-2 bg-orange-500 text-white rounded-md hover:bg-orange-600 font-medium shadow-sm transition-colors",children:[y.jsx(Iy,{className:"w-4 h-4"})," Save & Connect"]})})]})}),y.jsx("div",{className:"lg:col-span-2",children:y.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-slate-200 overflow-hidden",children:[y.jsx("div",{className:"px-6 py-4 border-b border-gray-100 bg-gray-50",children:y.jsxs("h3",{className:"text-lg font-medium text-slate-900 flex items-center gap-2",children:[y.jsx(hU,{className:"w-5 h-5 text-purple-600"})," Data Management"]})}),y.jsxs("div",{className:"p-6",children:[y.jsxs("div",{className:"p-4 bg-yellow-50 rounded-lg border border-yellow-100 mb-6 flex gap-3",children:[y.jsx(Xg,{className:"w-5 h-5 text-yellow-600 flex-shrink-0 mt-0.5"}),y.jsxs("div",{className:"text-sm text-yellow-800",children:[y.jsx("p",{className:"font-bold mb-1",children:"Important Note"}),"This application stores data in your browser. To prevent data loss, please download a backup regularly or before clearing your browser history."]})]}),y.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[y.jsxs("button",{onClick:se,className:"flex-1 flex items-center justify-center gap-2 p-4 border-2 border-slate-200 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition-all group text-slate-700",children:[y.jsx("div",{className:"bg-blue-100 p-2 rounded-full group-hover:bg-blue-200 transition-colors",children:y.jsx(bp,{className:"w-6 h-6 text-blue-600"})}),y.jsxs("div",{className:"text-left",children:[y.jsx("div",{className:"font-bold",children:"Download Backup"}),y.jsx("div",{className:"text-xs text-slate-500",children:"Save data as JSON file"})]})]}),y.jsxs("button",{onClick:()=>H.current?.click(),className:"flex-1 flex items-center justify-center gap-2 p-4 border-2 border-slate-200 rounded-lg hover:border-green-500 hover:bg-green-50 transition-all group text-slate-700",children:[y.jsx("div",{className:"bg-green-100 p-2 rounded-full group-hover:bg-green-200 transition-colors",children:y.jsx(Av,{className:"w-6 h-6 text-green-600"})}),y.jsxs("div",{className:"text-left",children:[y.jsx("div",{className:"font-bold",children:"Restore Backup"}),y.jsx("div",{className:"text-xs text-slate-500",children:"Import JSON file"})]}),y.jsx("input",{type:"file",ref:H,onChange:xe,accept:".json",className:"hidden"})]})]}),N==="SUCCESS"&&y.jsx("div",{className:"mt-4 p-3 bg-green-100 text-green-800 rounded text-center text-sm",children:"Data restored successfully! Reloading app..."}),N==="ERROR"&&y.jsx("div",{className:"mt-4 p-3 bg-red-100 text-red-800 rounded text-center text-sm",children:"Failed to restore data. Invalid file format."})]})]})})]}),q&&y.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:y.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl p-6 animate-in fade-in zoom-in duration-200",children:[y.jsxs("div",{className:"flex justify-between items-start mb-4",children:[y.jsxs("div",{children:[y.jsxs("h3",{className:"text-lg font-bold text-slate-900 flex items-center gap-2",children:[y.jsx(F_,{className:"w-5 h-5 text-purple-600"})," Smart Auto-Fill"]}),y.jsx("p",{className:"text-sm text-slate-500",children:"Paste the full code block from Firebase Console Project Settings."})]}),y.jsx("button",{onClick:()=>Y(!1),children:y.jsx(rU,{className:"w-6 h-6 text-gray-400 hover:text-gray-600"})})]}),y.jsx("textarea",{value:J,onChange:he=>F(he.target.value),placeholder:`Example paste:
const firebaseConfig = {
  apiKey: "AIzaSy...",
  authDomain: "project.firebaseapp.com",
  projectId: "project-id",
  ...
};`,className:"w-full h-48 p-4 border border-slate-300 rounded-md font-mono text-xs bg-slate-50 focus:ring-2 focus:ring-purple-500 outline-none mb-4"}),y.jsxs("div",{className:"flex justify-end gap-3",children:[y.jsx("button",{onClick:()=>Y(!1),className:"px-4 py-2 text-slate-600 hover:bg-slate-100 rounded font-medium",children:"Cancel"}),y.jsxs("button",{onClick:Ne,className:"px-6 py-2 bg-purple-600 text-white rounded hover:bg-purple-700 font-bold shadow-md flex items-center gap-2",children:[y.jsx(F_,{className:"w-4 h-4"})," Parse & Fill"]})]})]})})]})},rce=({initialDate:t})=>{const[e,n]=Ie.useState(t||new Date().toISOString().split("T")[0]),[r,i]=Ie.useState([]),[s,a]=Ie.useState({totalSales:0,cashSales:0,creditSales:0,totalReceived:0,totalTransactions:0});Ie.useEffect(()=>{const c=nt.getInvoices()||[],f=nt.getPayments()||[],h=c.filter(k=>k.date===e),p=f.filter(k=>k.date===e),g=h.reduce((k,B)=>k+B.total,0),x=h.filter(k=>k.status==="PAID").reduce((k,B)=>k+B.total,0),T=h.filter(k=>k.status==="PENDING").reduce((k,B)=>k+B.total,0),S=p.reduce((k,B)=>k+B.amount,0);a({totalSales:g,cashSales:x,creditSales:T,totalReceived:S+x,totalTransactions:h.length+p.length});const N=[...h.map(k=>({id:k.id,time:"Invoice",type:"SALE",party:k.customerName,amount:k.total,mode:k.status==="PAID"?"CASH":"CREDIT",ref:k.invoiceNumber})),...p.map(k=>{const B=nt.getCustomers().find(R=>R.id===k.customerId);return{id:k.id,time:"Payment",type:"RECEIPT",party:B?.company||B?.name||"Customer",amount:k.amount,mode:k.mode,ref:k.reference||"N/A"}})];i(N)},[e]);const o=()=>{ia.medium();try{const c=new fn("p","mm","a4"),f=nt.getCompanyProfile(),h=c.internal.pageSize.getWidth();let p=20;c.setFontSize(22),c.setTextColor(30,41,59),c.text(f?.name||"Daybook",h/2,p,{align:"center"}),p+=10,c.setFontSize(10),c.setTextColor(100,116,139),c.text(`Transaction Summary for ${e}`,h/2,p,{align:"center"}),p+=15,c.save(`daybook-${e}.pdf`)}catch{alert("PDF Save failed")}};return y.jsx("div",{className:"p-4 md:p-8 bg-slate-50 dark:bg-slate-900 min-h-full pb-24",children:y.jsxs("div",{className:"max-w-5xl mx-auto",children:[y.jsxs("div",{className:"flex justify-between items-end mb-8",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-[10px] font-black text-blue-600 dark:text-blue-400 uppercase tracking-widest mb-1",children:"Accounting Ledger"}),y.jsx("h1",{className:"text-4xl font-black text-slate-900 dark:text-slate-100 tracking-tighter",children:"Day Book"})]}),y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsxs("div",{className:"bg-white dark:bg-slate-800 p-2 rounded-2xl border border-slate-200 dark:border-slate-700 shadow-sm flex items-center gap-2",children:[y.jsx(O5,{className:"w-4 h-4 text-slate-400"}),y.jsx("input",{type:"date",value:e,onChange:c=>n(c.target.value),className:"bg-transparent text-sm font-bold outline-none text-slate-700 dark:text-slate-200"})]}),y.jsx("button",{onClick:o,className:"bg-slate-900 dark:bg-blue-600 text-white p-3 rounded-2xl shadow-xl active:scale-95 transition-all",children:y.jsx(bp,{className:"w-5 h-5"})})]})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[y.jsxs(zn.div,{initial:{y:10,opacity:0},animate:{y:0,opacity:1},className:"bg-white dark:bg-slate-800 p-6 rounded-[32px] shadow-sm border border-slate-100 dark:border-slate-700",children:[y.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/30 w-10 h-10 rounded-xl flex items-center justify-center mb-4",children:y.jsx(KV,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),y.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mb-1",children:"Total Sales"}),y.jsxs("p",{className:"text-3xl font-black text-slate-900 dark:text-slate-100",children:["",s.totalSales.toLocaleString()]}),y.jsxs("p",{className:"text-[10px] font-bold text-slate-400 mt-2",children:["Cash: ",s.cashSales," | Credit: ",s.creditSales]})]}),y.jsxs(zn.div,{initial:{y:10,opacity:0},animate:{y:0,opacity:1},transition:{delay:.1},className:"bg-emerald-600 p-6 rounded-[32px] shadow-lg shadow-emerald-500/20 text-white",children:[y.jsx("div",{className:"bg-white/20 w-10 h-10 rounded-xl flex items-center justify-center mb-4",children:y.jsx(hB,{className:"w-5 h-5 text-white"})}),y.jsx("p",{className:"text-xs font-bold uppercase tracking-widest mb-1 opacity-70",children:"Cash In Hand"}),y.jsxs("p",{className:"text-3xl font-black",children:["",s.totalReceived.toLocaleString()]}),y.jsx("p",{className:"text-[10px] font-bold mt-2 opacity-70",children:"From Sales & Payments Received"})]}),y.jsxs(zn.div,{initial:{y:10,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},className:"bg-white dark:bg-slate-800 p-6 rounded-[32px] shadow-sm border border-slate-100 dark:border-slate-700",children:[y.jsx("div",{className:"bg-purple-50 dark:bg-purple-900/30 w-10 h-10 rounded-xl flex items-center justify-center mb-4",children:y.jsx(TU,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"})}),y.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mb-1",children:"Entries"}),y.jsx("p",{className:"text-3xl font-black text-slate-900 dark:text-slate-100",children:s.totalTransactions}),y.jsxs("p",{className:"text-[10px] font-bold text-slate-400 mt-2",children:["Activity for ",e]})]})]}),y.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-[32px] shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden",children:[y.jsx("div",{className:"px-6 py-4 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center",children:y.jsx("h3",{className:"font-bold text-slate-800 dark:text-slate-100",children:"Transaction Register"})}),y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"w-full",children:[y.jsx("thead",{className:"bg-slate-50 dark:bg-slate-900/50",children:y.jsxs("tr",{children:[y.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-slate-400 uppercase",children:"Type"}),y.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-slate-400 uppercase",children:"Party"}),y.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-slate-400 uppercase",children:"Reference"}),y.jsx("th",{className:"px-6 py-4 text-right text-[10px] font-black text-slate-400 uppercase",children:"Amount"}),y.jsx("th",{className:"px-6 py-4 text-center text-[10px] font-black text-slate-400 uppercase",children:"Mode"})]})}),y.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:r.map((c,f)=>y.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-900/50 transition-colors",children:[y.jsx("td",{className:"px-6 py-4",children:y.jsxs("div",{className:`inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-[10px] font-black uppercase ${c.type==="SALE"?"bg-blue-50 text-blue-600":"bg-emerald-50 text-emerald-600"}`,children:[c.type==="SALE"?y.jsx(HV,{className:"w-3 h-3"}):y.jsx(qf,{className:"w-3 h-3"}),c.type]})}),y.jsx("td",{className:"px-6 py-4 text-sm font-bold text-slate-700 dark:text-slate-300",children:c.party}),y.jsx("td",{className:"px-6 py-4 text-xs font-medium text-slate-400",children:c.ref}),y.jsx("td",{className:"px-6 py-4 text-right",children:y.jsxs("p",{className:"text-sm font-black text-slate-900 dark:text-slate-100",children:["",c.amount.toLocaleString()]})}),y.jsx("td",{className:"px-6 py-4 text-center",children:y.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase",children:c.mode})})]},f))})]})})]})]})})},ice=["Rent","Electricity","Salary","Tea/Snacks","Transportation","Marketing","Maintenance","Other"],sce=({onBack:t})=>{const[e,n]=Ie.useState([]),[r,i]=Ie.useState(!1),[s,a]=Ie.useState({date:new Date().toISOString().split("T")[0],category:"Other",paymentMode:"CASH"});Ie.useEffect(()=>{n(nt.getExpenses())},[]);const o=()=>{if(!s.amount||!s.category||!s.date){alert("Please fill all required fields");return}const h={id:crypto.randomUUID(),category:s.category,description:s.description||"",amount:Number(s.amount),date:s.date,paymentMode:s.paymentMode};nt.saveExpense(h),n(nt.getExpenses()),i(!1),a({date:new Date().toISOString().split("T")[0],category:"Other",paymentMode:"CASH"})},c=h=>{confirm("Are you sure you want to delete this expense?")&&(nt.deleteExpense(h),n(nt.getExpenses()))},f=e.reduce((h,p)=>h+p.amount,0);return y.jsxs("div",{className:"p-4 md:p-6 pb-24 md:pb-6 relative min-h-full",children:[y.jsxs("div",{className:"flex justify-between items-center mb-6",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[t&&y.jsx("button",{onClick:t,className:"md:hidden p-2 -ml-2 text-slate-500",children:y.jsx(Au,{className:"w-5 h-5"})}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100",children:"Expenses"}),y.jsx("p",{className:"text-sm text-slate-500",children:"Track business costs"})]})]}),y.jsxs("button",{onClick:()=>i(!0),className:"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg flex items-center gap-2 shadow-sm transition-colors",children:[y.jsx(hd,{className:"w-4 h-4"}),y.jsx("span",{className:"hidden md:inline",children:"Add Expense"})]})]}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:y.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700",children:[y.jsx("p",{className:"text-slate-500 text-sm font-medium",children:"Total Expenses"}),y.jsxs("h3",{className:"text-3xl font-bold text-red-600 mt-1",children:["",f.toFixed(2)]})]})}),y.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden",children:e.length>0?y.jsx("div",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:e.map(h=>y.jsxs("div",{className:"p-4 hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors flex items-center justify-between group",children:[y.jsxs("div",{className:"flex items-start gap-4",children:[y.jsx("div",{className:"w-10 h-10 rounded-full bg-red-50 dark:bg-red-900/20 text-red-500 flex items-center justify-center flex-shrink-0",children:y.jsx(tB,{className:"w-5 h-5"})}),y.jsxs("div",{children:[y.jsx("h4",{className:"font-semibold text-slate-800 dark:text-slate-200",children:h.category}),y.jsx("p",{className:"text-sm text-slate-500",children:h.description||"No description"}),y.jsxs("div",{className:"flex items-center gap-3 mt-1 text-xs text-slate-400",children:[y.jsxs("span",{className:"flex items-center gap-1",children:[y.jsx(O5,{className:"w-3 h-3"})," ",h.date]}),y.jsx("span",{className:"uppercase border border-slate-200 dark:border-slate-600 px-1.5 py-0.5 rounded text-[10px]",children:h.paymentMode})]})]})]}),y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsxs("p",{className:"font-bold text-slate-800 dark:text-slate-200",children:["",h.amount.toFixed(2)]}),y.jsx("button",{onClick:()=>c(h.id),className:"p-2 text-slate-400 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-opacity",children:y.jsx(dd,{className:"w-4 h-4"})})]})]},h.id))}):y.jsxs("div",{className:"p-12 text-center text-slate-400",children:[y.jsx("div",{className:"w-16 h-16 bg-slate-100 dark:bg-slate-800 rounded-full flex items-center justify-center mx-auto mb-4",children:y.jsx(SU,{className:"w-8 h-8 text-slate-300"})}),y.jsx("p",{children:"No expenses recorded yet."})]})}),y.jsx(Kf,{children:r&&y.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-end md:items-center justify-center p-4 backdrop-blur-sm",children:y.jsxs(zn.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},className:"bg-white dark:bg-slate-800 w-full max-w-md rounded-2xl shadow-xl overflow-hidden",children:[y.jsxs("div",{className:"p-6 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center",children:[y.jsx("h3",{className:"font-bold text-lg text-slate-800 dark:text-slate-100",children:"Add New Expense"}),y.jsx("button",{onClick:()=>i(!1),className:"text-slate-400 hover:text-slate-600",children:"Close"})]}),y.jsxs("div",{className:"p-6 space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Date"}),y.jsx("input",{type:"date",value:s.date,onChange:h=>a({...s,date:h.target.value}),className:"w-full p-2 border border-slate-200 dark:border-slate-600 rounded-lg dark:bg-slate-700 dark:text-white"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Category"}),y.jsx("select",{value:s.category,onChange:h=>a({...s,category:h.target.value}),className:"w-full p-2 border border-slate-200 dark:border-slate-600 rounded-lg dark:bg-slate-700 dark:text-white",children:ice.map(h=>y.jsx("option",{value:h,children:h},h))})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Amount ()"}),y.jsx("input",{type:"number",value:s.amount,onChange:h=>a({...s,amount:Number(h.target.value)}),placeholder:"0.00",className:"w-full p-2 border border-slate-200 dark:border-slate-600 rounded-lg dark:bg-slate-700 dark:text-white"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Description (Optional)"}),y.jsx("input",{type:"text",value:s.description,onChange:h=>a({...s,description:h.target.value}),placeholder:"Details...",className:"w-full p-2 border border-slate-200 dark:border-slate-600 rounded-lg dark:bg-slate-700 dark:text-white"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Payment Mode"}),y.jsx("div",{className:"flex gap-2",children:["CASH","UPI","BANK_TRANSFER"].map(h=>y.jsx("button",{onClick:()=>a({...s,paymentMode:h}),className:`flex-1 py-2 text-xs font-medium rounded-lg border ${s.paymentMode===h?"bg-blue-600 text-white border-blue-600":"bg-white text-slate-600 border-slate-200 hover:bg-slate-50"}`,children:h.replace("_"," ")},h))})]}),y.jsx("div",{className:"pt-4",children:y.jsx("button",{onClick:o,className:"w-full bg-blue-600 text-white py-3 rounded-lg font-bold hover:bg-blue-700 transition-colors",children:"Save Expense"})})]})]})})})]})},ace=({onBack:t})=>{const[e,n]=Ie.useState(nt.getPayments()),[r]=Ie.useState(nt.getCustomers()),[i,s]=Ie.useState(!1),[a,o]=Ie.useState(null),[c,f]=Ie.useState(""),[h,p]=Ie.useState(""),[g,x]=Ie.useState(new Date().toISOString().split("T")[0]),[T,S]=Ie.useState("CASH"),[N,k]=Ie.useState(""),[B,R]=Ie.useState(""),q=()=>{o(null),f(""),p(""),x(new Date().toISOString().split("T")[0]),S("CASH"),k(""),R(""),s(!0),ia.light()},Y=C=>{o(C),f(C.customerId),p(C.amount.toString()),x(C.date),S(C.mode),k(C.reference||""),R(C.note||""),s(!0),ia.light()},J=C=>{confirm("Are you sure you want to delete this receipt?")&&(nt.deletePayment(C),n(nt.getPayments()),ia.notification())},F=()=>{if(!c||!h)return alert("Please select customer and entering amount");const C={id:a?a.id:crypto.randomUUID(),customerId:c,date:g,amount:Number(h),mode:T,reference:N,note:B};a?nt.updatePayment(C):nt.savePayment(C),n(nt.getPayments()),s(!1),ia.success(),o(null),f(""),p(""),k(""),R("")},O=C=>r.find(H=>H.id===C)?.company||r.find(H=>H.id===C)?.name||"Unknown";return y.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900 min-h-screen flex flex-col",children:[y.jsxs("div",{className:"bg-white dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700 p-4 sticky top-0 z-10 flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("button",{onClick:t,className:"p-2 -ml-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-700",children:y.jsx(Au,{className:"w-6 h-6 text-slate-600 dark:text-slate-300"})}),y.jsx("h1",{className:"text-xl font-bold text-slate-800 dark:text-slate-100",children:"Payment Receipts"})]}),y.jsxs("button",{onClick:q,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium flex items-center gap-2",children:[y.jsx(hd,{className:"w-5 h-5"})," ",y.jsx("span",{className:"hidden sm:inline",children:"New Receipt"})]})]}),y.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3 pb-24",children:e.length===0?y.jsxs("div",{className:"text-center py-20 text-slate-400",children:[y.jsx(qf,{className:"w-16 h-16 mx-auto mb-4 opacity-20"}),y.jsx("p",{children:"No payments received yet."})]}):e.slice().reverse().map(C=>y.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl shadow-sm border border-slate-100 dark:border-slate-700 flex justify-between items-center group",children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("div",{className:"w-12 h-12 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center text-green-600 dark:text-green-400",children:y.jsx(qf,{className:"w-6 h-6"})}),y.jsxs("div",{children:[y.jsx("h3",{className:"font-bold text-slate-800 dark:text-slate-200",children:O(C.customerId)}),y.jsxs("p",{className:"text-xs text-slate-500 font-medium flex items-center gap-2",children:[y.jsx("span",{children:new Date(C.date).toLocaleDateString()}),y.jsx("span",{className:"w-1 h-1 bg-slate-300 rounded-full"}),y.jsx("span",{className:"uppercase",children:C.mode})]})]})]}),y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("div",{className:"text-right",children:y.jsxs("span",{className:"block text-lg font-bold text-green-600 dark:text-green-400",children:["+",C.amount.toLocaleString("en-IN")]})}),y.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[y.jsx("button",{onClick:()=>Y(C),className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg text-slate-400 hover:text-blue-600",children:y.jsx(Qw,{className:"w-4 h-4"})}),y.jsx("button",{onClick:()=>J(C.id),className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg text-slate-400 hover:text-red-600",children:y.jsx(dd,{className:"w-4 h-4"})})]}),y.jsx("div",{className:"md:hidden flex gap-1",children:y.jsx("button",{onClick:()=>Y(C),className:"p-2 text-slate-400",children:y.jsx(Qw,{className:"w-4 h-4"})})})]})]},C.id))}),i&&y.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-end sm:items-center justify-center p-0 sm:p-4 pb-safe",children:y.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-lg rounded-t-3xl sm:rounded-3xl p-6 shadow-2xl overflow-y-auto max-h-[90vh]",children:[y.jsxs("div",{className:"flex justify-between items-center mb-6",children:[y.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-100",children:a?"Edit Receipt":"Receive Payment"}),y.jsx("button",{onClick:()=>s(!1),className:"p-2 bg-slate-100 dark:bg-slate-800 rounded-full",children:y.jsx(Uh,{className:"w-5 h-5"})})]}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase mb-1 block",children:"Customer"}),y.jsx(E5,{options:r.map(C=>({id:C.id,label:C.company,subLabel:C.name})),value:c,onChange:f,onCreate:()=>{},placeholder:"Select Customer"})]}),y.jsxs("div",{className:"flex gap-4",children:[y.jsxs("div",{className:"flex-1",children:[y.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase mb-1 block",children:"Amount"}),y.jsxs("div",{className:"relative",children:[y.jsx("span",{className:"absolute left-3 top-3.5 text-slate-400 font-bold",children:""}),y.jsx("input",{type:"number",className:"w-full bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl py-3 pl-8 pr-4 font-bold outline-none focus:ring-2 focus:ring-blue-500",value:h,onChange:C=>p(C.target.value),placeholder:"0.00"})]})]}),y.jsxs("div",{className:"flex-1",children:[y.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase mb-1 block",children:"Date"}),y.jsx("input",{type:"date",className:"w-full bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl py-3 px-4 font-medium outline-none focus:ring-2 focus:ring-blue-500",value:g,onChange:C=>x(C.target.value)})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase mb-1 block",children:"Payment Mode"}),y.jsx("div",{className:"grid grid-cols-4 gap-2",children:["CASH","UPI","BANK_TRANSFER","CHEQUE"].map(C=>y.jsx("button",{onClick:()=>S(C),className:`py-2 rounded-lg text-[10px] font-bold uppercase transition-colors border ${T===C?"bg-blue-600 text-white border-blue-600":"bg-slate-50 dark:bg-slate-800 text-slate-500 border-slate-200 dark:border-slate-700"}`,children:C.replace("_"," ")},C))})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase mb-1 block",children:"Reference / Note"}),y.jsx("input",{type:"text",className:"w-full bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl py-3 px-4 font-medium outline-none focus:ring-2 focus:ring-blue-500",value:N,onChange:C=>k(C.target.value),placeholder:"e.g. UPI Ref ID or Cheque No."})]}),y.jsxs("div",{className:"pt-4 flex gap-3",children:[y.jsx("button",{onClick:()=>s(!1),className:"flex-1 py-3.5 rounded-xl font-bold text-slate-500 bg-slate-100 hover:bg-slate-200",children:"Cancel"}),y.jsx("button",{onClick:F,className:"flex-1 py-3.5 rounded-xl font-bold text-white bg-blue-600 hover:bg-blue-700 shadow-lg shadow-blue-600/20",children:a?"Update Receipt":"Save Receipt"})]})]})]})})]})};var L7=1252,oce=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],VE={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},UE=function(t){oce.indexOf(t)!=-1&&(L7=VE[0]=t)};function lce(){UE(1252)}var Wl=function(t){UE(t)};function F7(){Wl(1200),lce()}function J6(t){for(var e=[],n=0,r=t.length;n<r;++n)e[n]=t.charCodeAt(n);return e}function cce(t){for(var e=[],n=0;n<t.length>>1;++n)e[n]=String.fromCharCode(t.charCodeAt(2*n)+(t.charCodeAt(2*n+1)<<8));return e.join("")}function O7(t){for(var e=[],n=0;n<t.length>>1;++n)e[n]=String.fromCharCode(t.charCodeAt(2*n+1)+(t.charCodeAt(2*n)<<8));return e.join("")}var jm=function(t){var e=t.charCodeAt(0),n=t.charCodeAt(1);return e==255&&n==254?cce(t.slice(2)):e==254&&n==255?O7(t.slice(2)):e==65279?t.slice(1):t},Bx=function(e){return String.fromCharCode(e)},Q6=function(e){return String.fromCharCode(e)},jg,Df="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Z6(t){for(var e="",n=0,r=0,i=0,s=0,a=0,o=0,c=0,f=0;f<t.length;)n=t.charCodeAt(f++),s=n>>2,r=t.charCodeAt(f++),a=(n&3)<<4|r>>4,i=t.charCodeAt(f++),o=(r&15)<<2|i>>6,c=i&63,isNaN(r)?o=c=64:isNaN(i)&&(c=64),e+=Df.charAt(s)+Df.charAt(a)+Df.charAt(o)+Df.charAt(c);return e}function jo(t){var e="",n=0,r=0,i=0,s=0,a=0,o=0,c=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var f=0;f<t.length;)s=Df.indexOf(t.charAt(f++)),a=Df.indexOf(t.charAt(f++)),n=s<<2|a>>4,e+=String.fromCharCode(n),o=Df.indexOf(t.charAt(f++)),r=(a&15)<<4|o>>2,o!==64&&(e+=String.fromCharCode(r)),c=Df.indexOf(t.charAt(f++)),i=(o&3)<<6|c,c!==64&&(e+=String.fromCharCode(i));return e}var or=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),wd=(function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(e,n){return n?new Buffer(e,n):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}})();function Xf(t){return or?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function eR(t){return or?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var Gl=function(e){return or?wd(e,"binary"):e.split("").map(function(n){return n.charCodeAt(0)&255})};function bd(t){if(Array.isArray(t))return t.map(function(r){return String.fromCharCode(r)}).join("");for(var e=[],n=0;n<t.length;++n)e[n]=String.fromCharCode(t[n]);return e.join("")}function BE(t){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(t instanceof ArrayBuffer)return BE(new Uint8Array(t));for(var e=new Array(t.length),n=0;n<t.length;++n)e[n]=t[n];return e}var If=or?function(t){return Buffer.concat(t.map(function(e){return Buffer.isBuffer(e)?e:wd(e)}))}:function(t){if(typeof Uint8Array<"u"){var e=0,n=0;for(e=0;e<t.length;++e)n+=t[e].length;var r=new Uint8Array(n),i=0;for(e=0,n=0;e<t.length;n+=i,++e)if(i=t[e].length,t[e]instanceof Uint8Array)r.set(t[e],n);else{if(typeof t[e]=="string")throw"wtf";r.set(new Uint8Array(t[e]),n)}return r}return[].concat.apply([],t.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function uce(t){for(var e=[],n=0,r=t.length+250,i=Xf(t.length+255),s=0;s<t.length;++s){var a=t.charCodeAt(s);if(a<128)i[n++]=a;else if(a<2048)i[n++]=192|a>>6&31,i[n++]=128|a&63;else if(a>=55296&&a<57344){a=(a&1023)+64;var o=t.charCodeAt(++s)&1023;i[n++]=240|a>>8&7,i[n++]=128|a>>2&63,i[n++]=128|o>>6&15|(a&3)<<4,i[n++]=128|o&63}else i[n++]=224|a>>12&15,i[n++]=128|a>>6&63,i[n++]=128|a&63;n>r&&(e.push(i.slice(0,n)),n=0,i=Xf(65535),r=65530)}return e.push(i.slice(0,n)),If(e)}var $a=/\u0000/g,qm=/[\u0001-\u0006]/g;function Q0(t){for(var e="",n=t.length-1;n>=0;)e+=t.charAt(n--);return e}function Kl(t,e){var n=""+t;return n.length>=e?n:Vi("0",e-n.length)+n}function jE(t,e){var n=""+t;return n.length>=e?n:Vi(" ",e-n.length)+n}function mv(t,e){var n=""+t;return n.length>=e?n:n+Vi(" ",e-n.length)}function fce(t,e){var n=""+Math.round(t);return n.length>=e?n:Vi("0",e-n.length)+n}function hce(t,e){var n=""+t;return n.length>=e?n:Vi("0",e-n.length)+n}var tR=Math.pow(2,32);function g0(t,e){if(t>tR||t<-tR)return fce(t,e);var n=Math.round(t);return hce(n,e)}function gv(t,e){return e=e||0,t.length>=7+e&&(t.charCodeAt(e)|32)===103&&(t.charCodeAt(e+1)|32)===101&&(t.charCodeAt(e+2)|32)===110&&(t.charCodeAt(e+3)|32)===101&&(t.charCodeAt(e+4)|32)===114&&(t.charCodeAt(e+5)|32)===97&&(t.charCodeAt(e+6)|32)===108}var nR=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],Vw=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function dce(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"/ "hh""mm""ss" "',t}var jn={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},rR={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},pce={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function xv(t,e,n){for(var r=t<0?-1:1,i=t*r,s=0,a=1,o=0,c=1,f=0,h=0,p=Math.floor(i);f<e&&(p=Math.floor(i),o=p*a+s,h=p*f+c,!(i-p<5e-8));)i=1/(i-p),s=a,a=o,c=f,f=h;if(h>e&&(f>e?(h=c,o=s):(h=f,o=a)),!n)return[0,r*o,h];var g=Math.floor(r*o/h);return[g,r*o-g*h,h]}function Vh(t,e,n){if(t>2958465||t<0)return null;var r=t|0,i=Math.floor(86400*(t-r)),s=0,a=[],o={D:r,T:i,u:86400*(t-r)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),e&&e.date1904&&(r+=1462),o.u>.9999&&(o.u=0,++i==86400&&(o.T=i=0,++r,++o.D)),r===60)a=n?[1317,10,29]:[1900,2,29],s=3;else if(r===0)a=n?[1317,8,29]:[1900,1,0],s=6;else{r>60&&--r;var c=new Date(1900,0,1);c.setDate(c.getDate()+r-1),a=[c.getFullYear(),c.getMonth()+1,c.getDate()],s=c.getDay(),r<60&&(s=(s+6)%7),n&&(s=_ce(c,a))}return o.y=a[0],o.m=a[1],o.d=a[2],o.S=i%60,i=Math.floor(i/60),o.M=i%60,i=Math.floor(i/60),o.H=i,o.q=s,o}var V7=new Date(1899,11,31,0,0,0),mce=V7.getTime(),gce=new Date(1900,2,1,0,0,0);function U7(t,e){var n=t.getTime();return e?n-=1461*24*60*60*1e3:t>=gce&&(n+=1440*60*1e3),(n-(mce+(t.getTimezoneOffset()-V7.getTimezoneOffset())*6e4))/(1440*60*1e3)}function qE(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function xce(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function yce(t){var e=t<0?12:11,n=qE(t.toFixed(12));return n.length<=e||(n=t.toPrecision(10),n.length<=e)?n:t.toExponential(5)}function vce(t){var e=qE(t.toFixed(11));return e.length>(t<0?12:11)||e==="0"||e==="-0"?t.toPrecision(6):e}function qg(t){var e=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),n;return e>=-4&&e<=-1?n=t.toPrecision(10+e):Math.abs(e)<=9?n=yce(t):e===10?n=t.toFixed(10).substr(0,12):n=vce(t),qE(xce(n.toUpperCase()))}function cd(t,e){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):qg(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return xl(14,U7(t,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+t)}function _ce(t,e){e[0]-=581;var n=t.getDay();return t<60&&(n=(n+6)%7),n}function wce(t,e,n,r){var i="",s=0,a=0,o=n.y,c,f=0;switch(t){case 98:o=n.y+543;case 121:switch(e.length){case 1:case 2:c=o%100,f=2;break;default:c=o%1e4,f=4;break}break;case 109:switch(e.length){case 1:case 2:c=n.m,f=e.length;break;case 3:return Vw[n.m-1][1];case 5:return Vw[n.m-1][0];default:return Vw[n.m-1][2]}break;case 100:switch(e.length){case 1:case 2:c=n.d,f=e.length;break;case 3:return nR[n.q][0];default:return nR[n.q][1]}break;case 104:switch(e.length){case 1:case 2:c=1+(n.H+11)%12,f=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:c=n.H,f=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:c=n.M,f=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return n.u===0&&(e=="s"||e=="ss")?Kl(n.S,e.length):(r>=2?a=r===3?1e3:100:a=r===1?10:1,s=Math.round(a*(n.S+n.u)),s>=60*a&&(s=0),e==="s"?s===0?"0":""+s/a:(i=Kl(s,2+r),e==="ss"?i.substr(0,2):"."+i.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":c=n.D*24+n.H;break;case"[m]":case"[mm]":c=(n.D*24+n.H)*60+n.M;break;case"[s]":case"[ss]":c=((n.D*24+n.H)*60+n.M)*60+Math.round(n.S+n.u);break;default:throw"bad abstime format: "+e}f=e.length===3?1:2;break;case 101:c=o,f=1;break}var h=f>0?Kl(c,f):"";return h}function Mf(t){var e=3;if(t.length<=e)return t;for(var n=t.length%e,r=t.substr(0,n);n!=t.length;n+=e)r+=(r.length>0?",":"")+t.substr(n,e);return r}var B7=/%/g;function bce(t,e,n){var r=e.replace(B7,""),i=e.length-r.length;return Eu(t,r,n*Math.pow(10,2*i))+Vi("%",i)}function Tce(t,e,n){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return Eu(t,e.substr(0,r),n/Math.pow(10,3*(e.length-r)))}function j7(t,e){var n,r=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+j7(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),n=(e/Math.pow(10,s)).toPrecision(r+1+(i+s)%i),n.indexOf("e")===-1){var a=Math.floor(Math.log(e)*Math.LOG10E);for(n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(a-n.length+s):n+="E+"+(a-s);n.substr(0,2)==="0.";)n=n.charAt(0)+n.substr(2,i)+"."+n.substr(2+i),n=n.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,c,f,h){return c+f+h.substr(0,(i+s)%i)+"."+h.substr(s)+"E"})}else n=e.toExponential(r);return t.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),t.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}var q7=/# (\?+)( ?)\/( ?)(\d+)/;function Ece(t,e,n){var r=parseInt(t[4],10),i=Math.round(e*r),s=Math.floor(i/r),a=i-s*r,o=r;return n+(s===0?"":""+s)+" "+(a===0?Vi(" ",t[1].length+1+t[4].length):jE(a,t[1].length)+t[2]+"/"+t[3]+Kl(o,t[4].length))}function Sce(t,e,n){return n+(e===0?"":""+e)+Vi(" ",t[1].length+2+t[4].length)}var H7=/^#*0*\.([0#]+)/,z7=/\).*[0#]/,G7=/\(###\) ###\\?-####/;function Ba(t){for(var e="",n,r=0;r!=t.length;++r)switch(n=t.charCodeAt(r)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(n)}return e}function iR(t,e){var n=Math.pow(10,e);return""+Math.round(t*n)/n}function sR(t,e){var n=t-Math.floor(t),r=Math.pow(10,e);return e<(""+Math.round(n*r)).length?0:Math.round(n*r)}function Ace(t,e){return e<(""+Math.round((t-Math.floor(t))*Math.pow(10,e))).length?1:0}function Cce(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function ol(t,e,n){if(t.charCodeAt(0)===40&&!e.match(z7)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?ol("n",r,n):"("+ol("n",r,-n)+")"}if(e.charCodeAt(e.length-1)===44)return Tce(t,e,n);if(e.indexOf("%")!==-1)return bce(t,e,n);if(e.indexOf("E")!==-1)return j7(e,n);if(e.charCodeAt(0)===36)return"$"+ol(t,e.substr(e.charAt(1)==" "?2:1),n);var i,s,a,o,c=Math.abs(n),f=n<0?"-":"";if(e.match(/^00+$/))return f+g0(c,e.length);if(e.match(/^[#?]+$/))return i=g0(n,0),i==="0"&&(i=""),i.length>e.length?i:Ba(e.substr(0,e.length-i.length))+i;if(s=e.match(q7))return Ece(s,c,f);if(e.match(/^#+0+$/))return f+g0(c,e.length-e.indexOf("0"));if(s=e.match(H7))return i=iR(n,s[1].length).replace(/^([^\.]+)$/,"$1."+Ba(s[1])).replace(/\.$/,"."+Ba(s[1])).replace(/\.(\d*)$/,function(T,S){return"."+S+Vi("0",Ba(s[1]).length-S.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return f+iR(c,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return f+Mf(g0(c,0));if(s=e.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+ol(t,e,-n):Mf(""+(Math.floor(n)+Ace(n,s[1].length)))+"."+Kl(sR(n,s[1].length),s[1].length);if(s=e.match(/^#,#*,#0/))return ol(t,e.replace(/^#,#*,/,""),n);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Q0(ol(t,e.replace(/[\\-]/g,""),n)),a=0,Q0(Q0(e.replace(/\\/g,"")).replace(/[0#]/g,function(T){return a<i.length?i.charAt(a++):T==="0"?"0":""}));if(e.match(G7))return i=ol(t,"##########",n),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var h="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(s[4].length,7),o=xv(c,Math.pow(10,a)-1,!1),i=""+f,h=Eu("n",s[1],o[1]),h.charAt(h.length-1)==" "&&(h=h.substr(0,h.length-1)+"0"),i+=h+s[2]+"/"+s[3],h=mv(o[2],a),h.length<s[4].length&&(h=Ba(s[4].substr(s[4].length-h.length))+h),i+=h,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(s[1].length,s[4].length),7),o=xv(c,Math.pow(10,a)-1,!0),f+(o[0]||(o[1]?"":"0"))+" "+(o[1]?jE(o[1],a)+s[2]+"/"+s[3]+mv(o[2],a):Vi(" ",2*a+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=g0(n,0),e.length<=i.length?i:Ba(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0?]+)\.([#0]+)$/)){i=""+n.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),a=i.indexOf(".");var p=e.indexOf(".")-a,g=e.length-i.length-p;return Ba(e.substr(0,p)+i+e.substr(e.length-g))}if(s=e.match(/^00,000\.([#0]*0)$/))return a=sR(n,s[1].length),n<0?"-"+ol(t,e,-n):Mf(Cce(n)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(T){return"00,"+(T.length<3?Kl(0,3-T.length):"")+T})+"."+Kl(a,s[1].length);switch(e){case"###,##0.00":return ol(t,"#,##0.00",n);case"###,###":case"##,###":case"#,###":var x=Mf(g0(c,0));return x!=="0"?f+x:"";case"###,###.00":return ol(t,"###,##0.00",n).replace(/^0\./,".");case"#,###.00":return ol(t,"#,##0.00",n).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function Nce(t,e,n){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return Eu(t,e.substr(0,r),n/Math.pow(10,3*(e.length-r)))}function Ice(t,e,n){var r=e.replace(B7,""),i=e.length-r.length;return Eu(t,r,n*Math.pow(10,2*i))+Vi("%",i)}function $7(t,e){var n,r=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+$7(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),n=(e/Math.pow(10,s)).toPrecision(r+1+(i+s)%i),!n.match(/[Ee]/)){var a=Math.floor(Math.log(e)*Math.LOG10E);n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(a-n.length+s):n+="E+"+(a-s),n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,c,f,h){return c+f+h.substr(0,(i+s)%i)+"."+h.substr(s)+"E"})}else n=e.toExponential(r);return t.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),t.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}function Tc(t,e,n){if(t.charCodeAt(0)===40&&!e.match(z7)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?Tc("n",r,n):"("+Tc("n",r,-n)+")"}if(e.charCodeAt(e.length-1)===44)return Nce(t,e,n);if(e.indexOf("%")!==-1)return Ice(t,e,n);if(e.indexOf("E")!==-1)return $7(e,n);if(e.charCodeAt(0)===36)return"$"+Tc(t,e.substr(e.charAt(1)==" "?2:1),n);var i,s,a,o,c=Math.abs(n),f=n<0?"-":"";if(e.match(/^00+$/))return f+Kl(c,e.length);if(e.match(/^[#?]+$/))return i=""+n,n===0&&(i=""),i.length>e.length?i:Ba(e.substr(0,e.length-i.length))+i;if(s=e.match(q7))return Sce(s,c,f);if(e.match(/^#+0+$/))return f+Kl(c,e.length-e.indexOf("0"));if(s=e.match(H7))return i=(""+n).replace(/^([^\.]+)$/,"$1."+Ba(s[1])).replace(/\.$/,"."+Ba(s[1])),i=i.replace(/\.(\d*)$/,function(T,S){return"."+S+Vi("0",Ba(s[1]).length-S.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return f+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return f+Mf(""+c);if(s=e.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+Tc(t,e,-n):Mf(""+n)+"."+Vi("0",s[1].length);if(s=e.match(/^#,#*,#0/))return Tc(t,e.replace(/^#,#*,/,""),n);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Q0(Tc(t,e.replace(/[\\-]/g,""),n)),a=0,Q0(Q0(e.replace(/\\/g,"")).replace(/[0#]/g,function(T){return a<i.length?i.charAt(a++):T==="0"?"0":""}));if(e.match(G7))return i=Tc(t,"##########",n),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var h="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(s[4].length,7),o=xv(c,Math.pow(10,a)-1,!1),i=""+f,h=Eu("n",s[1],o[1]),h.charAt(h.length-1)==" "&&(h=h.substr(0,h.length-1)+"0"),i+=h+s[2]+"/"+s[3],h=mv(o[2],a),h.length<s[4].length&&(h=Ba(s[4].substr(s[4].length-h.length))+h),i+=h,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(s[1].length,s[4].length),7),o=xv(c,Math.pow(10,a)-1,!0),f+(o[0]||(o[1]?"":"0"))+" "+(o[1]?jE(o[1],a)+s[2]+"/"+s[3]+mv(o[2],a):Vi(" ",2*a+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=""+n,e.length<=i.length?i:Ba(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0]+)\.([#0]+)$/)){i=""+n.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),a=i.indexOf(".");var p=e.indexOf(".")-a,g=e.length-i.length-p;return Ba(e.substr(0,p)+i+e.substr(e.length-g))}if(s=e.match(/^00,000\.([#0]*0)$/))return n<0?"-"+Tc(t,e,-n):Mf(""+n).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(T){return"00,"+(T.length<3?Kl(0,3-T.length):"")+T})+"."+Kl(0,s[1].length);switch(e){case"###,###":case"##,###":case"#,###":var x=Mf(""+c);return x!=="0"?f+x:"";default:if(e.match(/\.[0#?]*$/))return Tc(t,e.slice(0,e.lastIndexOf(".")),n)+Ba(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function Eu(t,e,n){return(n|0)===n?Tc(t,e,n):ol(t,e,n)}function kce(t){for(var e=[],n=!1,r=0,i=0;r<t.length;++r)switch(t.charCodeAt(r)){case 34:n=!n;break;case 95:case 42:case 92:++r;break;case 59:e[e.length]=t.substr(i,r-i),i=r+1}if(e[e.length]=t.substr(i),n===!0)throw new Error("Format |"+t+"| unterminated string ");return e}var W7=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Op(t){for(var e=0,n="",r="";e<t.length;)switch(n=t.charAt(e)){case"G":gv(t,e)&&(e+=6),e++;break;case'"':for(;t.charCodeAt(++e)!==34&&e<t.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(t.charAt(e+1)==="1"||t.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(t.substr(e,3).toUpperCase()==="A/P"||t.substr(e,5).toUpperCase()==="AM/PM"||t.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(r=n;t.charAt(e++)!=="]"&&e<t.length;)r+=t.charAt(e);if(r.match(W7))return!0;break;case".":case"0":case"#":for(;e<t.length&&("0#?.,E+-%".indexOf(n=t.charAt(++e))>-1||n=="\\"&&t.charAt(e+1)=="-"&&"0#".indexOf(t.charAt(e+2))>-1););break;case"?":for(;t.charAt(++e)===n;);break;case"*":++e,(t.charAt(e)==" "||t.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<t.length&&"0123456789".indexOf(t.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function Rce(t,e,n,r){for(var i=[],s="",a=0,o="",c="t",f,h,p,g="H";a<t.length;)switch(o=t.charAt(a)){case"G":if(!gv(t,a))throw new Error("unrecognized character "+o+" in "+t);i[i.length]={t:"G",v:"General"},a+=7;break;case'"':for(s="";(p=t.charCodeAt(++a))!==34&&a<t.length;)s+=String.fromCharCode(p);i[i.length]={t:"t",v:s},++a;break;case"\\":var x=t.charAt(++a),T=x==="("||x===")"?x:"t";i[i.length]={t:T,v:x},++a;break;case"_":i[i.length]={t:"t",v:" "},a+=2;break;case"@":i[i.length]={t:"T",v:e},++a;break;case"B":case"b":if(t.charAt(a+1)==="1"||t.charAt(a+1)==="2"){if(f==null&&(f=Vh(e,n,t.charAt(a+1)==="2"),f==null))return"";i[i.length]={t:"X",v:t.substr(a,2)},c=o,a+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||f==null&&(f=Vh(e,n),f==null))return"";for(s=o;++a<t.length&&t.charAt(a).toLowerCase()===o;)s+=o;o==="m"&&c.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=g),i[i.length]={t:o,v:s},c=o;break;case"A":case"a":case"":var S={t:o,v:o};if(f==null&&(f=Vh(e,n)),t.substr(a,3).toUpperCase()==="A/P"?(f!=null&&(S.v=f.H>=12?"P":"A"),S.t="T",g="h",a+=3):t.substr(a,5).toUpperCase()==="AM/PM"?(f!=null&&(S.v=f.H>=12?"PM":"AM"),S.t="T",a+=5,g="h"):t.substr(a,5).toUpperCase()==="/"?(f!=null&&(S.v=f.H>=12?"":""),S.t="T",a+=5,g="h"):(S.t="t",++a),f==null&&S.t==="T")return"";i[i.length]=S,c=o;break;case"[":for(s=o;t.charAt(a++)!=="]"&&a<t.length;)s+=t.charAt(a);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(W7)){if(f==null&&(f=Vh(e,n),f==null))return"";i[i.length]={t:"Z",v:s.toLowerCase()},c=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",Op(t)||(i[i.length]={t:"t",v:s}));break;case".":if(f!=null){for(s=o;++a<t.length&&(o=t.charAt(a))==="0";)s+=o;i[i.length]={t:"s",v:s};break}case"0":case"#":for(s=o;++a<t.length&&"0#?.,E+-%".indexOf(o=t.charAt(a))>-1;)s+=o;i[i.length]={t:"n",v:s};break;case"?":for(s=o;t.charAt(++a)===o;)s+=o;i[i.length]={t:o,v:s},c=o;break;case"*":++a,(t.charAt(a)==" "||t.charAt(a)=="*")&&++a;break;case"(":case")":i[i.length]={t:r===1?"t":o,v:o},++a;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=o;a<t.length&&"0123456789".indexOf(t.charAt(++a))>-1;)s+=t.charAt(a);i[i.length]={t:"D",v:s};break;case" ":i[i.length]={t:o,v:o},++a;break;case"$":i[i.length]={t:"t",v:"$"},++a;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+t);i[i.length]={t:"t",v:o},++a;break}var N=0,k=0,B;for(a=i.length-1,c="t";a>=0;--a)switch(i[a].t){case"h":case"H":i[a].t=g,c="h",N<1&&(N=1);break;case"s":(B=i[a].v.match(/\.0+$/))&&(k=Math.max(k,B[0].length-1)),N<3&&(N=3);case"d":case"y":case"M":case"e":c=i[a].t;break;case"m":c==="s"&&(i[a].t="M",N<2&&(N=2));break;case"X":break;case"Z":N<1&&i[a].v.match(/[Hh]/)&&(N=1),N<2&&i[a].v.match(/[Mm]/)&&(N=2),N<3&&i[a].v.match(/[Ss]/)&&(N=3)}switch(N){case 0:break;case 1:f.u>=.5&&(f.u=0,++f.S),f.S>=60&&(f.S=0,++f.M),f.M>=60&&(f.M=0,++f.H);break;case 2:f.u>=.5&&(f.u=0,++f.S),f.S>=60&&(f.S=0,++f.M);break}var R="",q;for(a=0;a<i.length;++a)switch(i[a].t){case"t":case"T":case" ":case"D":break;case"X":i[a].v="",i[a].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[a].v=wce(i[a].t.charCodeAt(0),i[a].v,f,k),i[a].t="t";break;case"n":case"?":for(q=a+1;i[q]!=null&&((o=i[q].t)==="?"||o==="D"||(o===" "||o==="t")&&i[q+1]!=null&&(i[q+1].t==="?"||i[q+1].t==="t"&&i[q+1].v==="/")||i[a].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(i[q].v==="/"||i[q].v===" "&&i[q+1]!=null&&i[q+1].t=="?"));)i[a].v+=i[q].v,i[q]={v:"",t:";"},++q;R+=i[a].v,a=q-1;break;case"G":i[a].t="t",i[a].v=cd(e,n);break}var Y="",J,F;if(R.length>0){R.charCodeAt(0)==40?(J=e<0&&R.charCodeAt(0)===45?-e:e,F=Eu("n",R,J)):(J=e<0&&r>1?-e:e,F=Eu("n",R,J),J<0&&i[0]&&i[0].t=="t"&&(F=F.substr(1),i[0].v="-"+i[0].v)),q=F.length-1;var O=i.length;for(a=0;a<i.length;++a)if(i[a]!=null&&i[a].t!="t"&&i[a].v.indexOf(".")>-1){O=a;break}var C=i.length;if(O===i.length&&F.indexOf("E")===-1){for(a=i.length-1;a>=0;--a)i[a]==null||"n?".indexOf(i[a].t)===-1||(q>=i[a].v.length-1?(q-=i[a].v.length,i[a].v=F.substr(q+1,i[a].v.length)):q<0?i[a].v="":(i[a].v=F.substr(0,q+1),q=-1),i[a].t="t",C=a);q>=0&&C<i.length&&(i[C].v=F.substr(0,q+1)+i[C].v)}else if(O!==i.length&&F.indexOf("E")===-1){for(q=F.indexOf(".")-1,a=O;a>=0;--a)if(!(i[a]==null||"n?".indexOf(i[a].t)===-1)){for(h=i[a].v.indexOf(".")>-1&&a===O?i[a].v.indexOf(".")-1:i[a].v.length-1,Y=i[a].v.substr(h+1);h>=0;--h)q>=0&&(i[a].v.charAt(h)==="0"||i[a].v.charAt(h)==="#")&&(Y=F.charAt(q--)+Y);i[a].v=Y,i[a].t="t",C=a}for(q>=0&&C<i.length&&(i[C].v=F.substr(0,q+1)+i[C].v),q=F.indexOf(".")+1,a=O;a<i.length;++a)if(!(i[a]==null||"n?(".indexOf(i[a].t)===-1&&a!==O)){for(h=i[a].v.indexOf(".")>-1&&a===O?i[a].v.indexOf(".")+1:0,Y=i[a].v.substr(0,h);h<i[a].v.length;++h)q<F.length&&(Y+=F.charAt(q++));i[a].v=Y,i[a].t="t",C=a}}}for(a=0;a<i.length;++a)i[a]!=null&&"n?".indexOf(i[a].t)>-1&&(J=r>1&&e<0&&a>0&&i[a-1].v==="-"?-e:e,i[a].v=Eu(i[a].t,i[a].v,J),i[a].t="t");var H="";for(a=0;a!==i.length;++a)i[a]!=null&&(H+=i[a].v);return H}var aR=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function oR(t,e){if(e==null)return!1;var n=parseFloat(e[2]);switch(e[1]){case"=":if(t==n)return!0;break;case">":if(t>n)return!0;break;case"<":if(t<n)return!0;break;case"<>":if(t!=n)return!0;break;case">=":if(t>=n)return!0;break;case"<=":if(t<=n)return!0;break}return!1}function Pce(t,e){var n=kce(t),r=n.length,i=n[r-1].indexOf("@");if(r<4&&i>-1&&--r,n.length>4)throw new Error("cannot find right format for |"+n.join("|")+"|");if(typeof e!="number")return[4,n.length===4||i>-1?n[n.length-1]:"@"];switch(n.length){case 1:n=i>-1?["General","General","General",n[0]]:[n[0],n[0],n[0],"@"];break;case 2:n=i>-1?[n[0],n[0],n[0],n[1]]:[n[0],n[1],n[0],"@"];break;case 3:n=i>-1?[n[0],n[1],n[0],n[2]]:[n[0],n[1],n[2],"@"];break}var s=e>0?n[0]:e<0?n[1]:n[2];if(n[0].indexOf("[")===-1&&n[1].indexOf("[")===-1)return[r,s];if(n[0].match(/\[[=<>]/)!=null||n[1].match(/\[[=<>]/)!=null){var a=n[0].match(aR),o=n[1].match(aR);return oR(e,a)?[r,n[0]]:oR(e,o)?[r,n[1]]:[r,n[a!=null&&o!=null?2:1]]}return[r,s]}function xl(t,e,n){n==null&&(n={});var r="";switch(typeof t){case"string":t=="m/d/yy"&&n.dateNF?r=n.dateNF:r=t;break;case"number":t==14&&n.dateNF?r=n.dateNF:r=(n.table!=null?n.table:jn)[t],r==null&&(r=n.table&&n.table[rR[t]]||jn[rR[t]]),r==null&&(r=pce[t]||"General");break}if(gv(r,0))return cd(e,n);e instanceof Date&&(e=U7(e,n.date1904));var i=Pce(r,e);if(gv(i[1]))return cd(e,n);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return Rce(i[1],e,n,i[0])}function Wh(t,e){if(typeof e!="number"){e=+e||-1;for(var n=0;n<392;++n){if(jn[n]==null){e<0&&(e=n);continue}if(jn[n]==t){e=n;break}}e<0&&(e=391)}return jn[e]=t,e}function K7(){jn=dce()}var Dce={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},Y7=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function Mce(t){var e=typeof t=="number"?jn[t]:t;return e=e.replace(Y7,"(\\d+)"),new RegExp("^"+e+"$")}function Lce(t,e,n){var r=-1,i=-1,s=-1,a=-1,o=-1,c=-1;(e.match(Y7)||[]).forEach(function(p,g){var x=parseInt(n[g+1],10);switch(p.toLowerCase().charAt(0)){case"y":r=x;break;case"d":s=x;break;case"h":a=x;break;case"s":c=x;break;case"m":a>=0?o=x:i=x;break}}),c>=0&&o==-1&&i>=0&&(o=i,i=-1);var f=(""+(r>=0?r:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);f.length==7&&(f="0"+f),f.length==8&&(f="20"+f);var h=("00"+(a>=0?a:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return a==-1&&o==-1&&c==-1?f:r==-1&&i==-1&&s==-1?h:f+"T"+h}var Fce=(function(){var t={};t.version="1.2.0";function e(){for(var F=0,O=new Array(256),C=0;C!=256;++C)F=C,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,F=F&1?-306674912^F>>>1:F>>>1,O[C]=F;return typeof Int32Array<"u"?new Int32Array(O):O}var n=e();function r(F){var O=0,C=0,H=0,P=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(H=0;H!=256;++H)P[H]=F[H];for(H=0;H!=256;++H)for(C=F[H],O=256+H;O<4096;O+=256)C=P[O]=C>>>8^F[C&255];var L=[];for(H=1;H!=16;++H)L[H-1]=typeof Int32Array<"u"?P.subarray(H*256,H*256+256):P.slice(H*256,H*256+256);return L}var i=r(n),s=i[0],a=i[1],o=i[2],c=i[3],f=i[4],h=i[5],p=i[6],g=i[7],x=i[8],T=i[9],S=i[10],N=i[11],k=i[12],B=i[13],R=i[14];function q(F,O){for(var C=O^-1,H=0,P=F.length;H<P;)C=C>>>8^n[(C^F.charCodeAt(H++))&255];return~C}function Y(F,O){for(var C=O^-1,H=F.length-15,P=0;P<H;)C=R[F[P++]^C&255]^B[F[P++]^C>>8&255]^k[F[P++]^C>>16&255]^N[F[P++]^C>>>24]^S[F[P++]]^T[F[P++]]^x[F[P++]]^g[F[P++]]^p[F[P++]]^h[F[P++]]^f[F[P++]]^c[F[P++]]^o[F[P++]]^a[F[P++]]^s[F[P++]]^n[F[P++]];for(H+=15;P<H;)C=C>>>8^n[(C^F[P++])&255];return~C}function J(F,O){for(var C=O^-1,H=0,P=F.length,L=0,V=0;H<P;)L=F.charCodeAt(H++),L<128?C=C>>>8^n[(C^L)&255]:L<2048?(C=C>>>8^n[(C^(192|L>>6&31))&255],C=C>>>8^n[(C^(128|L&63))&255]):L>=55296&&L<57344?(L=(L&1023)+64,V=F.charCodeAt(H++)&1023,C=C>>>8^n[(C^(240|L>>8&7))&255],C=C>>>8^n[(C^(128|L>>2&63))&255],C=C>>>8^n[(C^(128|V>>6&15|(L&3)<<4))&255],C=C>>>8^n[(C^(128|V&63))&255]):(C=C>>>8^n[(C^(224|L>>12&15))&255],C=C>>>8^n[(C^(128|L>>6&63))&255],C=C>>>8^n[(C^(128|L&63))&255]);return~C}return t.table=n,t.bstr=q,t.buf=Y,t.str=J,t})(),pr=(function(){var e={};e.version="1.2.1";function n(te,be){for(var ge=te.split("/"),ye=be.split("/"),_e=0,Ce=0,He=Math.min(ge.length,ye.length);_e<He;++_e){if(Ce=ge[_e].length-ye[_e].length)return Ce;if(ge[_e]!=ye[_e])return ge[_e]<ye[_e]?-1:1}return ge.length-ye.length}function r(te){if(te.charAt(te.length-1)=="/")return te.slice(0,-1).indexOf("/")===-1?te:r(te.slice(0,-1));var be=te.lastIndexOf("/");return be===-1?te:te.slice(0,be+1)}function i(te){if(te.charAt(te.length-1)=="/")return i(te.slice(0,-1));var be=te.lastIndexOf("/");return be===-1?te:te.slice(be+1)}function s(te,be){typeof be=="string"&&(be=new Date(be));var ge=be.getHours();ge=ge<<6|be.getMinutes(),ge=ge<<5|be.getSeconds()>>>1,te.write_shift(2,ge);var ye=be.getFullYear()-1980;ye=ye<<4|be.getMonth()+1,ye=ye<<5|be.getDate(),te.write_shift(2,ye)}function a(te){var be=te.read_shift(2)&65535,ge=te.read_shift(2)&65535,ye=new Date,_e=ge&31;ge>>>=5;var Ce=ge&15;ge>>>=4,ye.setMilliseconds(0),ye.setFullYear(ge+1980),ye.setMonth(Ce-1),ye.setDate(_e);var He=be&31;be>>>=5;var tt=be&63;return be>>>=6,ye.setHours(be),ye.setMinutes(tt),ye.setSeconds(He<<1),ye}function o(te){ra(te,0);for(var be={},ge=0;te.l<=te.length-4;){var ye=te.read_shift(2),_e=te.read_shift(2),Ce=te.l+_e,He={};switch(ye){case 21589:ge=te.read_shift(1),ge&1&&(He.mtime=te.read_shift(4)),_e>5&&(ge&2&&(He.atime=te.read_shift(4)),ge&4&&(He.ctime=te.read_shift(4))),He.mtime&&(He.mt=new Date(He.mtime*1e3));break}te.l=Ce,be[ye]=He}return be}var c;function f(){return c||(c={})}function h(te,be){if(te[0]==80&&te[1]==75)return Bt(te,be);if((te[0]|32)==109&&(te[1]|32)==105)return Mt(te,be);if(te.length<512)throw new Error("CFB file size "+te.length+" < 512");var ge=3,ye=512,_e=0,Ce=0,He=0,tt=0,Ge=0,We=[],Ke=te.slice(0,512);ra(Ke,0);var vt=p(Ke);switch(ge=vt[0],ge){case 3:ye=512;break;case 4:ye=4096;break;case 0:if(vt[1]==0)return Bt(te,be);default:throw new Error("Major Version: Expected 3 or 4 saw "+ge)}ye!==512&&(Ke=te.slice(0,ye),ra(Ke,28));var bt=te.slice(0,ye);g(Ke,ge);var It=Ke.read_shift(4,"i");if(ge===3&&It!==0)throw new Error("# Directory Sectors: Expected 0 saw "+It);Ke.l+=4,He=Ke.read_shift(4,"i"),Ke.l+=4,Ke.chk("00100000","Mini Stream Cutoff Size: "),tt=Ke.read_shift(4,"i"),_e=Ke.read_shift(4,"i"),Ge=Ke.read_shift(4,"i"),Ce=Ke.read_shift(4,"i");for(var _t=-1,Ct=0;Ct<109&&(_t=Ke.read_shift(4,"i"),!(_t<0));++Ct)We[Ct]=_t;var Gt=x(te,ye);N(Ge,Ce,Gt,ye,We);var cr=B(Gt,He,We,ye);cr[He].name="!Directory",_e>0&&tt!==V&&(cr[tt].name="!MiniFAT"),cr[We[0]].name="!FAT",cr.fat_addrs=We,cr.ssz=ye;var Bn={},gr=[],ji=[],zs=[];R(He,cr,Gt,gr,_e,Bn,ji,tt),T(ji,zs,gr),gr.shift();var la={FileIndex:ji,FullPaths:zs};return be&&be.raw&&(la.raw={header:bt,sectors:Gt}),la}function p(te){if(te[te.l]==80&&te[te.l+1]==75)return[0,0];te.chk(me,"Header Signature: "),te.l+=16;var be=te.read_shift(2,"u");return[te.read_shift(2,"u"),be]}function g(te,be){var ge=9;switch(te.l+=2,ge=te.read_shift(2)){case 9:if(be!=3)throw new Error("Sector Shift: Expected 9 saw "+ge);break;case 12:if(be!=4)throw new Error("Sector Shift: Expected 12 saw "+ge);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+ge)}te.chk("0600","Mini Sector Shift: "),te.chk("000000000000","Reserved: ")}function x(te,be){for(var ge=Math.ceil(te.length/be)-1,ye=[],_e=1;_e<ge;++_e)ye[_e-1]=te.slice(_e*be,(_e+1)*be);return ye[ge-1]=te.slice(ge*be),ye}function T(te,be,ge){for(var ye=0,_e=0,Ce=0,He=0,tt=0,Ge=ge.length,We=[],Ke=[];ye<Ge;++ye)We[ye]=Ke[ye]=ye,be[ye]=ge[ye];for(;tt<Ke.length;++tt)ye=Ke[tt],_e=te[ye].L,Ce=te[ye].R,He=te[ye].C,We[ye]===ye&&(_e!==-1&&We[_e]!==_e&&(We[ye]=We[_e]),Ce!==-1&&We[Ce]!==Ce&&(We[ye]=We[Ce])),He!==-1&&(We[He]=ye),_e!==-1&&ye!=We[ye]&&(We[_e]=We[ye],Ke.lastIndexOf(_e)<tt&&Ke.push(_e)),Ce!==-1&&ye!=We[ye]&&(We[Ce]=We[ye],Ke.lastIndexOf(Ce)<tt&&Ke.push(Ce));for(ye=1;ye<Ge;++ye)We[ye]===ye&&(Ce!==-1&&We[Ce]!==Ce?We[ye]=We[Ce]:_e!==-1&&We[_e]!==_e&&(We[ye]=We[_e]));for(ye=1;ye<Ge;++ye)if(te[ye].type!==0){if(tt=ye,tt!=We[tt])do tt=We[tt],be[ye]=be[tt]+"/"+be[ye];while(tt!==0&&We[tt]!==-1&&tt!=We[tt]);We[ye]=-1}for(be[0]+="/",ye=1;ye<Ge;++ye)te[ye].type!==2&&(be[ye]+="/")}function S(te,be,ge){for(var ye=te.start,_e=te.size,Ce=[],He=ye;ge&&_e>0&&He>=0;)Ce.push(be.slice(He*L,He*L+L)),_e-=L,He=Mh(ge,He*4);return Ce.length===0?bs(0):If(Ce).slice(0,te.size)}function N(te,be,ge,ye,_e){var Ce=V;if(te===V){if(be!==0)throw new Error("DIFAT chain shorter than expected")}else if(te!==-1){var He=ge[te],tt=(ye>>>2)-1;if(!He)return;for(var Ge=0;Ge<tt&&(Ce=Mh(He,Ge*4))!==V;++Ge)_e.push(Ce);N(Mh(He,ye-4),be-1,ge,ye,_e)}}function k(te,be,ge,ye,_e){var Ce=[],He=[];_e||(_e=[]);var tt=ye-1,Ge=0,We=0;for(Ge=be;Ge>=0;){_e[Ge]=!0,Ce[Ce.length]=Ge,He.push(te[Ge]);var Ke=ge[Math.floor(Ge*4/ye)];if(We=Ge*4&tt,ye<4+We)throw new Error("FAT boundary crossed: "+Ge+" 4 "+ye);if(!te[Ke])break;Ge=Mh(te[Ke],We)}return{nodes:Ce,data:xR([He])}}function B(te,be,ge,ye){var _e=te.length,Ce=[],He=[],tt=[],Ge=[],We=ye-1,Ke=0,vt=0,bt=0,It=0;for(Ke=0;Ke<_e;++Ke)if(tt=[],bt=Ke+be,bt>=_e&&(bt-=_e),!He[bt]){Ge=[];var _t=[];for(vt=bt;vt>=0;){_t[vt]=!0,He[vt]=!0,tt[tt.length]=vt,Ge.push(te[vt]);var Ct=ge[Math.floor(vt*4/ye)];if(It=vt*4&We,ye<4+It)throw new Error("FAT boundary crossed: "+vt+" 4 "+ye);if(!te[Ct]||(vt=Mh(te[Ct],It),_t[vt]))break}Ce[bt]={nodes:tt,data:xR([Ge])}}return Ce}function R(te,be,ge,ye,_e,Ce,He,tt){for(var Ge=0,We=ye.length?2:0,Ke=be[te].data,vt=0,bt=0,It;vt<Ke.length;vt+=128){var _t=Ke.slice(vt,vt+128);ra(_t,64),bt=_t.read_shift(2),It=WE(_t,0,bt-We),ye.push(It);var Ct={name:It,type:_t.read_shift(1),color:_t.read_shift(1),L:_t.read_shift(4,"i"),R:_t.read_shift(4,"i"),C:_t.read_shift(4,"i"),clsid:_t.read_shift(16),state:_t.read_shift(4,"i"),start:0,size:0},Gt=_t.read_shift(2)+_t.read_shift(2)+_t.read_shift(2)+_t.read_shift(2);Gt!==0&&(Ct.ct=q(_t,_t.l-8));var cr=_t.read_shift(2)+_t.read_shift(2)+_t.read_shift(2)+_t.read_shift(2);cr!==0&&(Ct.mt=q(_t,_t.l-8)),Ct.start=_t.read_shift(4,"i"),Ct.size=_t.read_shift(4,"i"),Ct.size<0&&Ct.start<0&&(Ct.size=Ct.type=0,Ct.start=V,Ct.name=""),Ct.type===5?(Ge=Ct.start,_e>0&&Ge!==V&&(be[Ge].name="!StreamData")):Ct.size>=4096?(Ct.storage="fat",be[Ct.start]===void 0&&(be[Ct.start]=k(ge,Ct.start,be.fat_addrs,be.ssz)),be[Ct.start].name=Ct.name,Ct.content=be[Ct.start].data.slice(0,Ct.size)):(Ct.storage="minifat",Ct.size<0?Ct.size=0:Ge!==V&&Ct.start!==V&&be[Ge]&&(Ct.content=S(Ct,be[Ge].data,(be[tt]||{}).data))),Ct.content&&ra(Ct.content,0),Ce[It]=Ct,He.push(Ct)}}function q(te,be){return new Date((Fo(te,be+4)/1e7*Math.pow(2,32)+Fo(te,be)/1e7-11644473600)*1e3)}function Y(te,be){return f(),h(c.readFileSync(te),be)}function J(te,be){var ge=be&&be.type;switch(ge||or&&Buffer.isBuffer(te)&&(ge="buffer"),ge||"base64"){case"file":return Y(te,be);case"base64":return h(Gl(jo(te)),be);case"binary":return h(Gl(te),be)}return h(te,be)}function F(te,be){var ge=be||{},ye=ge.root||"Root Entry";if(te.FullPaths||(te.FullPaths=[]),te.FileIndex||(te.FileIndex=[]),te.FullPaths.length!==te.FileIndex.length)throw new Error("inconsistent CFB structure");te.FullPaths.length===0&&(te.FullPaths[0]=ye+"/",te.FileIndex[0]={name:ye,type:5}),ge.CLSID&&(te.FileIndex[0].clsid=ge.CLSID),O(te)}function O(te){var be="Sh33tJ5";if(!pr.find(te,"/"+be)){var ge=bs(4);ge[0]=55,ge[1]=ge[3]=50,ge[2]=54,te.FileIndex.push({name:be,type:2,content:ge,size:4,L:69,R:69,C:69}),te.FullPaths.push(te.FullPaths[0]+be),C(te)}}function C(te,be){F(te);for(var ge=!1,ye=!1,_e=te.FullPaths.length-1;_e>=0;--_e){var Ce=te.FileIndex[_e];switch(Ce.type){case 0:ye?ge=!0:(te.FileIndex.pop(),te.FullPaths.pop());break;case 1:case 2:case 5:ye=!0,isNaN(Ce.R*Ce.L*Ce.C)&&(ge=!0),Ce.R>-1&&Ce.L>-1&&Ce.R==Ce.L&&(ge=!0);break;default:ge=!0;break}}if(!(!ge&&!be)){var He=new Date(1987,1,19),tt=0,Ge=Object.create?Object.create(null):{},We=[];for(_e=0;_e<te.FullPaths.length;++_e)Ge[te.FullPaths[_e]]=!0,te.FileIndex[_e].type!==0&&We.push([te.FullPaths[_e],te.FileIndex[_e]]);for(_e=0;_e<We.length;++_e){var Ke=r(We[_e][0]);ye=Ge[Ke],ye||(We.push([Ke,{name:i(Ke).replace("/",""),type:1,clsid:se,ct:He,mt:He,content:null}]),Ge[Ke]=!0)}for(We.sort(function(It,_t){return n(It[0],_t[0])}),te.FullPaths=[],te.FileIndex=[],_e=0;_e<We.length;++_e)te.FullPaths[_e]=We[_e][0],te.FileIndex[_e]=We[_e][1];for(_e=0;_e<We.length;++_e){var vt=te.FileIndex[_e],bt=te.FullPaths[_e];if(vt.name=i(bt).replace("/",""),vt.L=vt.R=vt.C=-(vt.color=1),vt.size=vt.content?vt.content.length:0,vt.start=0,vt.clsid=vt.clsid||se,_e===0)vt.C=We.length>1?1:-1,vt.size=0,vt.type=5;else if(bt.slice(-1)=="/"){for(tt=_e+1;tt<We.length&&r(te.FullPaths[tt])!=bt;++tt);for(vt.C=tt>=We.length?-1:tt,tt=_e+1;tt<We.length&&r(te.FullPaths[tt])!=r(bt);++tt);vt.R=tt>=We.length?-1:tt,vt.type=1}else r(te.FullPaths[_e+1]||"")==r(bt)&&(vt.R=_e+1),vt.type=2}}}function H(te,be){var ge=be||{};if(ge.fileType=="mad")return Ra(te,ge);switch(C(te),ge.fileType){case"zip":return Wt(te,ge)}var ye=(function(It){for(var _t=0,Ct=0,Gt=0;Gt<It.FileIndex.length;++Gt){var cr=It.FileIndex[Gt];if(cr.content){var Bn=cr.content.length;Bn>0&&(Bn<4096?_t+=Bn+63>>6:Ct+=Bn+511>>9)}}for(var gr=It.FullPaths.length+3>>2,ji=_t+7>>3,zs=_t+127>>7,la=ji+Ct+gr+zs,Is=la+127>>7,wo=Is<=109?0:Math.ceil((Is-109)/127);la+Is+wo+127>>7>Is;)wo=++Is<=109?0:Math.ceil((Is-109)/127);var Xr=[1,wo,Is,zs,gr,Ct,_t,0];return It.FileIndex[0].size=_t<<6,Xr[7]=(It.FileIndex[0].start=Xr[0]+Xr[1]+Xr[2]+Xr[3]+Xr[4]+Xr[5])+(Xr[6]+7>>3),Xr})(te),_e=bs(ye[7]<<9),Ce=0,He=0;{for(Ce=0;Ce<8;++Ce)_e.write_shift(1,Ne[Ce]);for(Ce=0;Ce<8;++Ce)_e.write_shift(2,0);for(_e.write_shift(2,62),_e.write_shift(2,3),_e.write_shift(2,65534),_e.write_shift(2,9),_e.write_shift(2,6),Ce=0;Ce<3;++Ce)_e.write_shift(2,0);for(_e.write_shift(4,0),_e.write_shift(4,ye[2]),_e.write_shift(4,ye[0]+ye[1]+ye[2]+ye[3]-1),_e.write_shift(4,0),_e.write_shift(4,4096),_e.write_shift(4,ye[3]?ye[0]+ye[1]+ye[2]-1:V),_e.write_shift(4,ye[3]),_e.write_shift(-4,ye[1]?ye[0]-1:V),_e.write_shift(4,ye[1]),Ce=0;Ce<109;++Ce)_e.write_shift(-4,Ce<ye[2]?ye[1]+Ce:-1)}if(ye[1])for(He=0;He<ye[1];++He){for(;Ce<236+He*127;++Ce)_e.write_shift(-4,Ce<ye[2]?ye[1]+Ce:-1);_e.write_shift(-4,He===ye[1]-1?V:He+1)}var tt=function(It){for(He+=It;Ce<He-1;++Ce)_e.write_shift(-4,Ce+1);It&&(++Ce,_e.write_shift(-4,V))};for(He=Ce=0,He+=ye[1];Ce<He;++Ce)_e.write_shift(-4,xe.DIFSECT);for(He+=ye[2];Ce<He;++Ce)_e.write_shift(-4,xe.FATSECT);tt(ye[3]),tt(ye[4]);for(var Ge=0,We=0,Ke=te.FileIndex[0];Ge<te.FileIndex.length;++Ge)Ke=te.FileIndex[Ge],Ke.content&&(We=Ke.content.length,!(We<4096)&&(Ke.start=He,tt(We+511>>9)));for(tt(ye[6]+7>>3);_e.l&511;)_e.write_shift(-4,xe.ENDOFCHAIN);for(He=Ce=0,Ge=0;Ge<te.FileIndex.length;++Ge)Ke=te.FileIndex[Ge],Ke.content&&(We=Ke.content.length,!(!We||We>=4096)&&(Ke.start=He,tt(We+63>>6)));for(;_e.l&511;)_e.write_shift(-4,xe.ENDOFCHAIN);for(Ce=0;Ce<ye[4]<<2;++Ce){var vt=te.FullPaths[Ce];if(!vt||vt.length===0){for(Ge=0;Ge<17;++Ge)_e.write_shift(4,0);for(Ge=0;Ge<3;++Ge)_e.write_shift(4,-1);for(Ge=0;Ge<12;++Ge)_e.write_shift(4,0);continue}Ke=te.FileIndex[Ce],Ce===0&&(Ke.start=Ke.size?Ke.start-1:V);var bt=Ce===0&&ge.root||Ke.name;if(We=2*(bt.length+1),_e.write_shift(64,bt,"utf16le"),_e.write_shift(2,We),_e.write_shift(1,Ke.type),_e.write_shift(1,Ke.color),_e.write_shift(-4,Ke.L),_e.write_shift(-4,Ke.R),_e.write_shift(-4,Ke.C),Ke.clsid)_e.write_shift(16,Ke.clsid,"hex");else for(Ge=0;Ge<4;++Ge)_e.write_shift(4,0);_e.write_shift(4,Ke.state||0),_e.write_shift(4,0),_e.write_shift(4,0),_e.write_shift(4,0),_e.write_shift(4,0),_e.write_shift(4,Ke.start),_e.write_shift(4,Ke.size),_e.write_shift(4,0)}for(Ce=1;Ce<te.FileIndex.length;++Ce)if(Ke=te.FileIndex[Ce],Ke.size>=4096)if(_e.l=Ke.start+1<<9,or&&Buffer.isBuffer(Ke.content))Ke.content.copy(_e,_e.l,0,Ke.size),_e.l+=Ke.size+511&-512;else{for(Ge=0;Ge<Ke.size;++Ge)_e.write_shift(1,Ke.content[Ge]);for(;Ge&511;++Ge)_e.write_shift(1,0)}for(Ce=1;Ce<te.FileIndex.length;++Ce)if(Ke=te.FileIndex[Ce],Ke.size>0&&Ke.size<4096)if(or&&Buffer.isBuffer(Ke.content))Ke.content.copy(_e,_e.l,0,Ke.size),_e.l+=Ke.size+63&-64;else{for(Ge=0;Ge<Ke.size;++Ge)_e.write_shift(1,Ke.content[Ge]);for(;Ge&63;++Ge)_e.write_shift(1,0)}if(or)_e.l=_e.length;else for(;_e.l<_e.length;)_e.write_shift(1,0);return _e}function P(te,be){var ge=te.FullPaths.map(function(Ge){return Ge.toUpperCase()}),ye=ge.map(function(Ge){var We=Ge.split("/");return We[We.length-(Ge.slice(-1)=="/"?2:1)]}),_e=!1;be.charCodeAt(0)===47?(_e=!0,be=ge[0].slice(0,-1)+be):_e=be.indexOf("/")!==-1;var Ce=be.toUpperCase(),He=_e===!0?ge.indexOf(Ce):ye.indexOf(Ce);if(He!==-1)return te.FileIndex[He];var tt=!Ce.match(qm);for(Ce=Ce.replace($a,""),tt&&(Ce=Ce.replace(qm,"!")),He=0;He<ge.length;++He)if((tt?ge[He].replace(qm,"!"):ge[He]).replace($a,"")==Ce||(tt?ye[He].replace(qm,"!"):ye[He]).replace($a,"")==Ce)return te.FileIndex[He];return null}var L=64,V=-2,me="d0cf11e0a1b11ae1",Ne=[208,207,17,224,161,177,26,225],se="00000000000000000000000000000000",xe={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:V,FREESECT:-1,HEADER_SIGNATURE:me,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:se,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function he(te,be,ge){f();var ye=H(te,ge);c.writeFileSync(be,ye)}function ue(te){for(var be=new Array(te.length),ge=0;ge<te.length;++ge)be[ge]=String.fromCharCode(te[ge]);return be.join("")}function Le(te,be){var ge=H(te,be);switch(be&&be.type||"buffer"){case"file":return f(),c.writeFileSync(be.filename,ge),ge;case"binary":return typeof ge=="string"?ge:ue(ge);case"base64":return Z6(typeof ge=="string"?ge:ue(ge));case"buffer":if(or)return Buffer.isBuffer(ge)?ge:wd(ge);case"array":return typeof ge=="string"?Gl(ge):ge}return ge}var ne;function M(te){try{var be=te.InflateRaw,ge=new be;if(ge._processChunk(new Uint8Array([3,0]),ge._finishFlushFlag),ge.bytesRead)ne=te;else throw new Error("zlib does not expose bytesRead")}catch(ye){console.error("cannot use native zlib: "+(ye.message||ye))}}function W(te,be){if(!ne)return Lt(te,be);var ge=ne.InflateRaw,ye=new ge,_e=ye._processChunk(te.slice(te.l),ye._finishFlushFlag);return te.l+=ye.bytesRead,_e}function K(te){return ne?ne.deflateRawSync(te):At(te)}var Q=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ce=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],we=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function ke(te){var be=(te<<1|te<<11)&139536|(te<<5|te<<15)&558144;return(be>>16|be>>8|be)&255}for(var fe=typeof Uint8Array<"u",Ae=fe?new Uint8Array(256):[],Ue=0;Ue<256;++Ue)Ae[Ue]=ke(Ue);function ae(te,be){var ge=Ae[te&255];return be<=8?ge>>>8-be:(ge=ge<<8|Ae[te>>8&255],be<=16?ge>>>16-be:(ge=ge<<8|Ae[te>>16&255],ge>>>24-be))}function it(te,be){var ge=be&7,ye=be>>>3;return(te[ye]|(ge<=6?0:te[ye+1]<<8))>>>ge&3}function dt(te,be){var ge=be&7,ye=be>>>3;return(te[ye]|(ge<=5?0:te[ye+1]<<8))>>>ge&7}function re(te,be){var ge=be&7,ye=be>>>3;return(te[ye]|(ge<=4?0:te[ye+1]<<8))>>>ge&15}function lt(te,be){var ge=be&7,ye=be>>>3;return(te[ye]|(ge<=3?0:te[ye+1]<<8))>>>ge&31}function ft(te,be){var ge=be&7,ye=be>>>3;return(te[ye]|(ge<=1?0:te[ye+1]<<8))>>>ge&127}function kt(te,be,ge){var ye=be&7,_e=be>>>3,Ce=(1<<ge)-1,He=te[_e]>>>ye;return ge<8-ye||(He|=te[_e+1]<<8-ye,ge<16-ye)||(He|=te[_e+2]<<16-ye,ge<24-ye)||(He|=te[_e+3]<<24-ye),He&Ce}function rt(te,be,ge){var ye=be&7,_e=be>>>3;return ye<=5?te[_e]|=(ge&7)<<ye:(te[_e]|=ge<<ye&255,te[_e+1]=(ge&7)>>8-ye),be+3}function St(te,be,ge){var ye=be&7,_e=be>>>3;return ge=(ge&1)<<ye,te[_e]|=ge,be+1}function Nt(te,be,ge){var ye=be&7,_e=be>>>3;return ge<<=ye,te[_e]|=ge&255,ge>>>=8,te[_e+1]=ge,be+8}function Jt(te,be,ge){var ye=be&7,_e=be>>>3;return ge<<=ye,te[_e]|=ge&255,ge>>>=8,te[_e+1]=ge&255,te[_e+2]=ge>>>8,be+16}function qt(te,be){var ge=te.length,ye=2*ge>be?2*ge:be+5,_e=0;if(ge>=be)return te;if(or){var Ce=eR(ye);if(te.copy)te.copy(Ce);else for(;_e<te.length;++_e)Ce[_e]=te[_e];return Ce}else if(fe){var He=new Uint8Array(ye);if(He.set)He.set(te);else for(;_e<ge;++_e)He[_e]=te[_e];return He}return te.length=ye,te}function sn(te){for(var be=new Array(te),ge=0;ge<te;++ge)be[ge]=0;return be}function mn(te,be,ge){var ye=1,_e=0,Ce=0,He=0,tt=0,Ge=te.length,We=fe?new Uint16Array(32):sn(32);for(Ce=0;Ce<32;++Ce)We[Ce]=0;for(Ce=Ge;Ce<ge;++Ce)te[Ce]=0;Ge=te.length;var Ke=fe?new Uint16Array(Ge):sn(Ge);for(Ce=0;Ce<Ge;++Ce)We[_e=te[Ce]]++,ye<_e&&(ye=_e),Ke[Ce]=0;for(We[0]=0,Ce=1;Ce<=ye;++Ce)We[Ce+16]=tt=tt+We[Ce-1]<<1;for(Ce=0;Ce<Ge;++Ce)tt=te[Ce],tt!=0&&(Ke[Ce]=We[tt+16]++);var vt=0;for(Ce=0;Ce<Ge;++Ce)if(vt=te[Ce],vt!=0)for(tt=ae(Ke[Ce],ye)>>ye-vt,He=(1<<ye+4-vt)-1;He>=0;--He)be[tt|He<<vt]=vt&15|Ce<<4;return ye}var ln=fe?new Uint16Array(512):sn(512),En=fe?new Uint16Array(32):sn(32);if(!fe){for(var an=0;an<512;++an)ln[an]=0;for(an=0;an<32;++an)En[an]=0}(function(){for(var te=[],be=0;be<32;be++)te.push(5);mn(te,En,32);var ge=[];for(be=0;be<=143;be++)ge.push(8);for(;be<=255;be++)ge.push(9);for(;be<=279;be++)ge.push(7);for(;be<=287;be++)ge.push(8);mn(ge,ln,288)})();var Ft=(function(){for(var be=fe?new Uint8Array(32768):[],ge=0,ye=0;ge<we.length-1;++ge)for(;ye<we[ge+1];++ye)be[ye]=ge;for(;ye<32768;++ye)be[ye]=29;var _e=fe?new Uint8Array(259):[];for(ge=0,ye=0;ge<ce.length-1;++ge)for(;ye<ce[ge+1];++ye)_e[ye]=ge;function Ce(tt,Ge){for(var We=0;We<tt.length;){var Ke=Math.min(65535,tt.length-We),vt=We+Ke==tt.length;for(Ge.write_shift(1,+vt),Ge.write_shift(2,Ke),Ge.write_shift(2,~Ke&65535);Ke-- >0;)Ge[Ge.l++]=tt[We++]}return Ge.l}function He(tt,Ge){for(var We=0,Ke=0,vt=fe?new Uint16Array(32768):[];Ke<tt.length;){var bt=Math.min(65535,tt.length-Ke);if(bt<10){for(We=rt(Ge,We,+(Ke+bt==tt.length)),We&7&&(We+=8-(We&7)),Ge.l=We/8|0,Ge.write_shift(2,bt),Ge.write_shift(2,~bt&65535);bt-- >0;)Ge[Ge.l++]=tt[Ke++];We=Ge.l*8;continue}We=rt(Ge,We,+(Ke+bt==tt.length)+2);for(var It=0;bt-- >0;){var _t=tt[Ke];It=(It<<5^_t)&32767;var Ct=-1,Gt=0;if((Ct=vt[It])&&(Ct|=Ke&-32768,Ct>Ke&&(Ct-=32768),Ct<Ke))for(;tt[Ct+Gt]==tt[Ke+Gt]&&Gt<250;)++Gt;if(Gt>2){_t=_e[Gt],_t<=22?We=Nt(Ge,We,Ae[_t+1]>>1)-1:(Nt(Ge,We,3),We+=5,Nt(Ge,We,Ae[_t-23]>>5),We+=3);var cr=_t<8?0:_t-4>>2;cr>0&&(Jt(Ge,We,Gt-ce[_t]),We+=cr),_t=be[Ke-Ct],We=Nt(Ge,We,Ae[_t]>>3),We-=3;var Bn=_t<4?0:_t-2>>1;Bn>0&&(Jt(Ge,We,Ke-Ct-we[_t]),We+=Bn);for(var gr=0;gr<Gt;++gr)vt[It]=Ke&32767,It=(It<<5^tt[Ke])&32767,++Ke;bt-=Gt-1}else _t<=143?_t=_t+48:We=St(Ge,We,1),We=Nt(Ge,We,Ae[_t]),vt[It]=Ke&32767,++Ke}We=Nt(Ge,We,0)-1}return Ge.l=(We+7)/8|0,Ge.l}return function(Ge,We){return Ge.length<8?Ce(Ge,We):He(Ge,We)}})();function At(te){var be=bs(50+Math.floor(te.length*1.1)),ge=Ft(te,be);return be.slice(0,ge)}var Rt=fe?new Uint16Array(32768):sn(32768),qn=fe?new Uint16Array(32768):sn(32768),$t=fe?new Uint16Array(128):sn(128),Yt=1,hn=1;function An(te,be){var ge=lt(te,be)+257;be+=5;var ye=lt(te,be)+1;be+=5;var _e=re(te,be)+4;be+=4;for(var Ce=0,He=fe?new Uint8Array(19):sn(19),tt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Ge=1,We=fe?new Uint8Array(8):sn(8),Ke=fe?new Uint8Array(8):sn(8),vt=He.length,bt=0;bt<_e;++bt)He[Q[bt]]=Ce=dt(te,be),Ge<Ce&&(Ge=Ce),We[Ce]++,be+=3;var It=0;for(We[0]=0,bt=1;bt<=Ge;++bt)Ke[bt]=It=It+We[bt-1]<<1;for(bt=0;bt<vt;++bt)(It=He[bt])!=0&&(tt[bt]=Ke[It]++);var _t=0;for(bt=0;bt<vt;++bt)if(_t=He[bt],_t!=0){It=Ae[tt[bt]]>>8-_t;for(var Ct=(1<<7-_t)-1;Ct>=0;--Ct)$t[It|Ct<<_t]=_t&7|bt<<3}var Gt=[];for(Ge=1;Gt.length<ge+ye;)switch(It=$t[ft(te,be)],be+=It&7,It>>>=3){case 16:for(Ce=3+it(te,be),be+=2,It=Gt[Gt.length-1];Ce-- >0;)Gt.push(It);break;case 17:for(Ce=3+dt(te,be),be+=3;Ce-- >0;)Gt.push(0);break;case 18:for(Ce=11+ft(te,be),be+=7;Ce-- >0;)Gt.push(0);break;default:Gt.push(It),Ge<It&&(Ge=It);break}var cr=Gt.slice(0,ge),Bn=Gt.slice(ge);for(bt=ge;bt<286;++bt)cr[bt]=0;for(bt=ye;bt<30;++bt)Bn[bt]=0;return Yt=mn(cr,Rt,286),hn=mn(Bn,qn,30),be}function Oe(te,be){if(te[0]==3&&!(te[1]&3))return[Xf(be),2];for(var ge=0,ye=0,_e=eR(be||1<<18),Ce=0,He=_e.length>>>0,tt=0,Ge=0;(ye&1)==0;){if(ye=dt(te,ge),ge+=3,ye>>>1)ye>>1==1?(tt=9,Ge=5):(ge=An(te,ge),tt=Yt,Ge=hn);else{ge&7&&(ge+=8-(ge&7));var We=te[ge>>>3]|te[(ge>>>3)+1]<<8;if(ge+=32,We>0)for(!be&&He<Ce+We&&(_e=qt(_e,Ce+We),He=_e.length);We-- >0;)_e[Ce++]=te[ge>>>3],ge+=8;continue}for(;;){!be&&He<Ce+32767&&(_e=qt(_e,Ce+32767),He=_e.length);var Ke=kt(te,ge,tt),vt=ye>>>1==1?ln[Ke]:Rt[Ke];if(ge+=vt&15,vt>>>=4,(vt>>>8&255)===0)_e[Ce++]=vt;else{if(vt==256)break;vt-=257;var bt=vt<8?0:vt-4>>2;bt>5&&(bt=0);var It=Ce+ce[vt];bt>0&&(It+=kt(te,ge,bt),ge+=bt),Ke=kt(te,ge,Ge),vt=ye>>>1==1?En[Ke]:qn[Ke],ge+=vt&15,vt>>>=4;var _t=vt<4?0:vt-2>>1,Ct=we[vt];for(_t>0&&(Ct+=kt(te,ge,_t),ge+=_t),!be&&He<It&&(_e=qt(_e,It+100),He=_e.length);Ce<It;)_e[Ce]=_e[Ce-Ct],++Ce}}}return be?[_e,ge+7>>>3]:[_e.slice(0,Ce),ge+7>>>3]}function Lt(te,be){var ge=te.slice(te.l||0),ye=Oe(ge,be);return te.l+=ye[1],ye[0]}function Pt(te,be){if(te)typeof console<"u"&&console.error(be);else throw new Error(be)}function Bt(te,be){var ge=te;ra(ge,0);var ye=[],_e=[],Ce={FileIndex:ye,FullPaths:_e};F(Ce,{root:be.root});for(var He=ge.length-4;(ge[He]!=80||ge[He+1]!=75||ge[He+2]!=5||ge[He+3]!=6)&&He>=0;)--He;ge.l=He+4,ge.l+=4;var tt=ge.read_shift(2);ge.l+=6;var Ge=ge.read_shift(4);for(ge.l=Ge,He=0;He<tt;++He){ge.l+=20;var We=ge.read_shift(4),Ke=ge.read_shift(4),vt=ge.read_shift(2),bt=ge.read_shift(2),It=ge.read_shift(2);ge.l+=8;var _t=ge.read_shift(4),Ct=o(ge.slice(ge.l+vt,ge.l+vt+bt));ge.l+=vt+bt+It;var Gt=ge.l;ge.l=_t+4,Zt(ge,We,Ke,Ce,Ct),ge.l=Gt}return Ce}function Zt(te,be,ge,ye,_e){te.l+=2;var Ce=te.read_shift(2),He=te.read_shift(2),tt=a(te);if(Ce&8257)throw new Error("Unsupported ZIP encryption");for(var Ge=te.read_shift(4),We=te.read_shift(4),Ke=te.read_shift(4),vt=te.read_shift(2),bt=te.read_shift(2),It="",_t=0;_t<vt;++_t)It+=String.fromCharCode(te[te.l++]);if(bt){var Ct=o(te.slice(te.l,te.l+bt));(Ct[21589]||{}).mt&&(tt=Ct[21589].mt),((_e||{})[21589]||{}).mt&&(tt=_e[21589].mt)}te.l+=bt;var Gt=te.slice(te.l,te.l+We);switch(He){case 8:Gt=W(te,Ke);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+He)}var cr=!1;Ce&8&&(Ge=te.read_shift(4),Ge==134695760&&(Ge=te.read_shift(4),cr=!0),We=te.read_shift(4),Ke=te.read_shift(4)),We!=be&&Pt(cr,"Bad compressed size: "+be+" != "+We),Ke!=ge&&Pt(cr,"Bad uncompressed size: "+ge+" != "+Ke),Ni(ye,It,Gt,{unsafe:!0,mt:tt})}function Wt(te,be){var ge=be||{},ye=[],_e=[],Ce=bs(1),He=ge.compression?8:0,tt=0,Ge=0,We=0,Ke=0,vt=0,bt=te.FullPaths[0],It=bt,_t=te.FileIndex[0],Ct=[],Gt=0;for(Ge=1;Ge<te.FullPaths.length;++Ge)if(It=te.FullPaths[Ge].slice(bt.length),_t=te.FileIndex[Ge],!(!_t.size||!_t.content||It=="Sh33tJ5")){var cr=Ke,Bn=bs(It.length);for(We=0;We<It.length;++We)Bn.write_shift(1,It.charCodeAt(We)&127);Bn=Bn.slice(0,Bn.l),Ct[vt]=Fce.buf(_t.content,0);var gr=_t.content;He==8&&(gr=K(gr)),Ce=bs(30),Ce.write_shift(4,67324752),Ce.write_shift(2,20),Ce.write_shift(2,tt),Ce.write_shift(2,He),_t.mt?s(Ce,_t.mt):Ce.write_shift(4,0),Ce.write_shift(-4,Ct[vt]),Ce.write_shift(4,gr.length),Ce.write_shift(4,_t.content.length),Ce.write_shift(2,Bn.length),Ce.write_shift(2,0),Ke+=Ce.length,ye.push(Ce),Ke+=Bn.length,ye.push(Bn),Ke+=gr.length,ye.push(gr),Ce=bs(46),Ce.write_shift(4,33639248),Ce.write_shift(2,0),Ce.write_shift(2,20),Ce.write_shift(2,tt),Ce.write_shift(2,He),Ce.write_shift(4,0),Ce.write_shift(-4,Ct[vt]),Ce.write_shift(4,gr.length),Ce.write_shift(4,_t.content.length),Ce.write_shift(2,Bn.length),Ce.write_shift(2,0),Ce.write_shift(2,0),Ce.write_shift(2,0),Ce.write_shift(2,0),Ce.write_shift(4,0),Ce.write_shift(4,cr),Gt+=Ce.l,_e.push(Ce),Gt+=Bn.length,_e.push(Bn),++vt}return Ce=bs(22),Ce.write_shift(4,101010256),Ce.write_shift(2,0),Ce.write_shift(2,0),Ce.write_shift(2,vt),Ce.write_shift(2,vt),Ce.write_shift(4,Gt),Ce.write_shift(4,Ke),Ce.write_shift(2,0),If([If(ye),If(_e),Ce])}var jt={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function gn(te,be){if(te.ctype)return te.ctype;var ge=te.name||"",ye=ge.match(/\.([^\.]+)$/);return ye&&jt[ye[1]]||be&&(ye=(ge=be).match(/[\.\\]([^\.\\])+$/),ye&&jt[ye[1]])?jt[ye[1]]:"application/octet-stream"}function Ur(te){for(var be=Z6(te),ge=[],ye=0;ye<be.length;ye+=76)ge.push(be.slice(ye,ye+76));return ge.join(`\r
`)+`\r
`}function Yr(te){var be=te.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(We){var Ke=We.charCodeAt(0).toString(16).toUpperCase();return"="+(Ke.length==1?"0"+Ke:Ke)});be=be.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),be.charAt(0)==`
`&&(be="=0D"+be.slice(1)),be=be.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var ge=[],ye=be.split(`\r
`),_e=0;_e<ye.length;++_e){var Ce=ye[_e];if(Ce.length==0){ge.push("");continue}for(var He=0;He<Ce.length;){var tt=76,Ge=Ce.slice(He,He+tt);Ge.charAt(tt-1)=="="?tt--:Ge.charAt(tt-2)=="="?tt-=2:Ge.charAt(tt-3)=="="&&(tt-=3),Ge=Ce.slice(He,He+tt),He+=tt,He<Ce.length&&(Ge+="="),ge.push(Ge)}}return ge.join(`\r
`)}function Ns(te){for(var be=[],ge=0;ge<te.length;++ge){for(var ye=te[ge];ge<=te.length&&ye.charAt(ye.length-1)=="=";)ye=ye.slice(0,ye.length-1)+te[++ge];be.push(ye)}for(var _e=0;_e<be.length;++_e)be[_e]=be[_e].replace(/[=][0-9A-Fa-f]{2}/g,function(Ce){return String.fromCharCode(parseInt(Ce.slice(1),16))});return Gl(be.join(`\r
`))}function ri(te,be,ge){for(var ye="",_e="",Ce="",He,tt=0;tt<10;++tt){var Ge=be[tt];if(!Ge||Ge.match(/^\s*$/))break;var We=Ge.match(/^(.*?):\s*([^\s].*)$/);if(We)switch(We[1].toLowerCase()){case"content-location":ye=We[2].trim();break;case"content-type":Ce=We[2].trim();break;case"content-transfer-encoding":_e=We[2].trim();break}}switch(++tt,_e.toLowerCase()){case"base64":He=Gl(jo(be.slice(tt).join("")));break;case"quoted-printable":He=Ns(be.slice(tt));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+_e)}var Ke=Ni(te,ye.slice(ge.length),He,{unsafe:!0});Ce&&(Ke.ctype=Ce)}function Mt(te,be){if(ue(te.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var ge=be&&be.root||"",ye=(or&&Buffer.isBuffer(te)?te.toString("binary"):ue(te)).split(`\r
`),_e=0,Ce="";for(_e=0;_e<ye.length;++_e)if(Ce=ye[_e],!!/^Content-Location:/i.test(Ce)&&(Ce=Ce.slice(Ce.indexOf("file")),ge||(ge=Ce.slice(0,Ce.lastIndexOf("/")+1)),Ce.slice(0,ge.length)!=ge))for(;ge.length>0&&(ge=ge.slice(0,ge.length-1),ge=ge.slice(0,ge.lastIndexOf("/")+1),Ce.slice(0,ge.length)!=ge););var He=(ye[1]||"").match(/boundary="(.*?)"/);if(!He)throw new Error("MAD cannot find boundary");var tt="--"+(He[1]||""),Ge=[],We=[],Ke={FileIndex:Ge,FullPaths:We};F(Ke);var vt,bt=0;for(_e=0;_e<ye.length;++_e){var It=ye[_e];It!==tt&&It!==tt+"--"||(bt++&&ri(Ke,ye.slice(vt,_e),ge),vt=_e)}return Ke}function Ra(te,be){var ge=be||{},ye=ge.boundary||"SheetJS";ye="------="+ye;for(var _e=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+ye.slice(2)+'"',"","",""],Ce=te.FullPaths[0],He=Ce,tt=te.FileIndex[0],Ge=1;Ge<te.FullPaths.length;++Ge)if(He=te.FullPaths[Ge].slice(Ce.length),tt=te.FileIndex[Ge],!(!tt.size||!tt.content||He=="Sh33tJ5")){He=He.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Gt){return"_x"+Gt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Gt){return"_u"+Gt.charCodeAt(0).toString(16)+"_"});for(var We=tt.content,Ke=or&&Buffer.isBuffer(We)?We.toString("binary"):ue(We),vt=0,bt=Math.min(1024,Ke.length),It=0,_t=0;_t<=bt;++_t)(It=Ke.charCodeAt(_t))>=32&&It<128&&++vt;var Ct=vt>=bt*4/5;_e.push(ye),_e.push("Content-Location: "+(ge.root||"file:///C:/SheetJS/")+He),_e.push("Content-Transfer-Encoding: "+(Ct?"quoted-printable":"base64")),_e.push("Content-Type: "+gn(tt,He)),_e.push(""),_e.push(Ct?Yr(Ke):Ur(Ke))}return _e.push(ye+`--\r
`),_e.join(`\r
`)}function us(te){var be={};return F(be,te),be}function Ni(te,be,ge,ye){var _e=ye&&ye.unsafe;_e||F(te);var Ce=!_e&&pr.find(te,be);if(!Ce){var He=te.FullPaths[0];be.slice(0,He.length)==He?He=be:(He.slice(-1)!="/"&&(He+="/"),He=(He+be).replace("//","/")),Ce={name:i(be),type:2},te.FileIndex.push(Ce),te.FullPaths.push(He),_e||pr.utils.cfb_gc(te)}return Ce.content=ge,Ce.size=ge?ge.length:0,ye&&(ye.CLSID&&(Ce.clsid=ye.CLSID),ye.mt&&(Ce.mt=ye.mt),ye.ct&&(Ce.ct=ye.ct)),Ce}function Xi(te,be){F(te);var ge=pr.find(te,be);if(ge){for(var ye=0;ye<te.FileIndex.length;++ye)if(te.FileIndex[ye]==ge)return te.FileIndex.splice(ye,1),te.FullPaths.splice(ye,1),!0}return!1}function _r(te,be,ge){F(te);var ye=pr.find(te,be);if(ye){for(var _e=0;_e<te.FileIndex.length;++_e)if(te.FileIndex[_e]==ye)return te.FileIndex[_e].name=i(ge),te.FullPaths[_e]=ge,!0}return!1}function Ir(te){C(te,!0)}return e.find=P,e.read=J,e.parse=h,e.write=Le,e.writeFile=he,e.utils={cfb_new:us,cfb_add:Ni,cfb_del:Xi,cfb_mov:_r,cfb_gc:Ir,ReadShift:lg,CheckField:xO,prep_blob:ra,bconcat:If,use_zlib:M,_deflateRaw:At,_inflateRaw:Lt,consts:xe},e})();function Oce(t){if(typeof Deno<"u")return Deno.readFileSync(t);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var e=File(t);e.open("r"),e.encoding="binary";var n=e.read();return e.close(),n}catch(r){if(!r.message||!r.message.match(/onstruct/))throw r}throw new Error("Cannot access file "+t)}function Bc(t){for(var e=Object.keys(t),n=[],r=0;r<e.length;++r)Object.prototype.hasOwnProperty.call(t,e[r])&&n.push(e[r]);return n}function HE(t){for(var e=[],n=Bc(t),r=0;r!==n.length;++r)e[t[n[r]]]=n[r];return e}var yv=new Date(1899,11,30,0,0,0);function Wa(t,e){var n=t.getTime(),r=yv.getTime()+(t.getTimezoneOffset()-yv.getTimezoneOffset())*6e4;return(n-r)/(1440*60*1e3)}var X7=new Date,Vce=yv.getTime()+(X7.getTimezoneOffset()-yv.getTimezoneOffset())*6e4,lR=X7.getTimezoneOffset();function p2(t){var e=new Date;return e.setTime(t*24*60*60*1e3+Vce),e.getTimezoneOffset()!==lR&&e.setTime(e.getTime()+(e.getTimezoneOffset()-lR)*6e4),e}function Uce(t){var e=0,n=0,r=!1,i=t.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!i)throw new Error("|"+t+"| is not an ISO8601 Duration");for(var s=1;s!=i.length;++s)if(i[s]){switch(n=1,s>3&&(r=!0),i[s].slice(i[s].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+i[s].slice(i[s].length-1));case"D":n*=24;case"H":n*=60;case"M":if(r)n*=60;else throw new Error("Unsupported ISO Duration Field: M")}e+=n*parseInt(i[s],10)}return e}var cR=new Date("2017-02-19T19:06:09.000Z"),J7=isNaN(cR.getFullYear())?new Date("2/19/17"):cR,Bce=J7.getFullYear()==2017;function qs(t,e){var n=new Date(t);if(Bce)return e>0?n.setTime(n.getTime()+n.getTimezoneOffset()*60*1e3):e<0&&n.setTime(n.getTime()-n.getTimezoneOffset()*60*1e3),n;if(t instanceof Date)return t;if(J7.getFullYear()==1917&&!isNaN(n.getFullYear())){var r=n.getFullYear();return t.indexOf(""+r)>-1||n.setFullYear(n.getFullYear()+100),n}var i=t.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return t.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function ud(t,e){if(or&&Buffer.isBuffer(t)){if(e){if(t[0]==255&&t[1]==254)return zm(t.slice(2).toString("utf16le"));if(t[1]==254&&t[2]==255)return zm(O7(t.slice(2).toString("binary")))}return t.toString("binary")}if(typeof TextDecoder<"u")try{if(e){if(t[0]==255&&t[1]==254)return zm(new TextDecoder("utf-16le").decode(t.slice(2)));if(t[0]==254&&t[1]==255)return zm(new TextDecoder("utf-16be").decode(t.slice(2)))}var n={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[]/g,function(s){return n[s]||s})}catch{}for(var r=[],i=0;i!=t.length;++i)r.push(String.fromCharCode(t[i]));return r.join("")}function aa(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=aa(t[n]));return e}function Vi(t,e){for(var n="";n.length<e;)n+=t;return n}function Yl(t){var e=Number(t);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(t))return e;var n=1,r=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return n*=100,""});return!isNaN(e=Number(r))||(r=r.replace(/[(](.*)[)]/,function(i,s){return n=-n,s}),!isNaN(e=Number(r)))?e/n:e}var jce=["january","february","march","april","may","june","july","august","september","october","november","december"];function _p(t){var e=new Date(t),n=new Date(NaN),r=e.getYear(),i=e.getMonth(),s=e.getDate();if(isNaN(s))return n;var a=t.toLowerCase();if(a.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(a=a.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),a.length>3&&jce.indexOf(a)==-1)return n}else if(a.match(/[a-z]/))return n;return r<0||r>8099?n:(i>0||s>1)&&r!=101?e:t.match(/[^-0-9:,\/\\]/)?n:e}var qce=(function(){var t="abacaba".split(/(:?b)/i).length==5;return function(n,r,i){if(t||typeof r=="string")return n.split(r);for(var s=n.split(r),a=[s[0]],o=1;o<s.length;++o)a.push(i),a.push(s[o]);return a}})();function Q7(t){return t?t.content&&t.type?ud(t.content,!0):t.data?jm(t.data):t.asNodeBuffer&&or?jm(t.asNodeBuffer().toString("binary")):t.asBinary?jm(t.asBinary()):t._data&&t._data.getContent?jm(ud(Array.prototype.slice.call(t._data.getContent(),0))):null:null}function Z7(t){if(!t)return null;if(t.data)return J6(t.data);if(t.asNodeBuffer&&or)return t.asNodeBuffer();if(t._data&&t._data.getContent){var e=t._data.getContent();return typeof e=="string"?J6(e):Array.prototype.slice.call(e)}return t.content&&t.type?t.content:null}function Hce(t){return t&&t.name.slice(-4)===".bin"?Z7(t):Q7(t)}function cl(t,e){for(var n=t.FullPaths||Bc(t.files),r=e.toLowerCase().replace(/[\/]/g,"\\"),i=r.replace(/\\/g,"/"),s=0;s<n.length;++s){var a=n[s].replace(/^Root Entry[\/]/,"").toLowerCase();if(r==a||i==a)return t.files?t.files[n[s]]:t.FileIndex[s]}return null}function zE(t,e){var n=cl(t,e);if(n==null)throw new Error("Cannot find file "+e+" in zip");return n}function ss(t,e,n){if(!n)return Hce(zE(t,e));if(!e)return null;try{return ss(t,e)}catch{return null}}function Oo(t,e,n){if(!n)return Q7(zE(t,e));if(!e)return null;try{return Oo(t,e)}catch{return null}}function zce(t,e,n){return Z7(zE(t,e))}function uR(t){for(var e=t.FullPaths||Bc(t.files),n=[],r=0;r<e.length;++r)e[r].slice(-1)!="/"&&n.push(e[r].replace(/^Root Entry[\/]/,""));return n.sort()}function Gce(t,e,n){if(t.FullPaths){if(typeof n=="string"){var r;return or?r=wd(n):r=uce(n),pr.utils.cfb_add(t,e,r)}pr.utils.cfb_add(t,e,n)}else t.file(e,n)}function eO(t,e){switch(e.type){case"base64":return pr.read(t,{type:"base64"});case"binary":return pr.read(t,{type:"binary"});case"buffer":case"array":return pr.read(t,{type:"buffer"})}throw new Error("Unrecognized type "+e.type)}function Hm(t,e){if(t.charAt(0)=="/")return t.slice(1);var n=e.split("/");e.slice(-1)!="/"&&n.pop();for(var r=t.split("/");r.length!==0;){var i=r.shift();i===".."?n.pop():i!=="."&&n.push(i)}return n.join("/")}var tO=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,$ce=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,fR=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,Wce=/<[^>]*>/g,ka=tO.match(fR)?fR:Wce,Kce=/<\w*:/,Yce=/<(\/?)\w+:/;function kn(t,e,n){for(var r={},i=0,s=0;i!==t.length&&!((s=t.charCodeAt(i))===32||s===10||s===13);++i);if(e||(r[0]=t.slice(0,i)),i===t.length)return r;var a=t.match($ce),o=0,c="",f=0,h="",p="",g=1;if(a)for(f=0;f!=a.length;++f){for(p=a[f],s=0;s!=p.length&&p.charCodeAt(s)!==61;++s);for(h=p.slice(0,s).trim();p.charCodeAt(s+1)==32;)++s;for(g=(i=p.charCodeAt(s+1))==34||i==39?1:0,c=p.slice(s+1+g,p.length-g),o=0;o!=h.length&&h.charCodeAt(o)!==58;++o);if(o===h.length)h.indexOf("_")>0&&(h=h.slice(0,h.indexOf("_"))),r[h]=c,r[h.toLowerCase()]=c;else{var x=(o===5&&h.slice(0,5)==="xmlns"?"xmlns":"")+h.slice(o+1);if(r[x]&&h.slice(o-3,o)=="ext")continue;r[x]=c,r[x.toLowerCase()]=c}}return r}function qc(t){return t.replace(Yce,"<$1")}var nO={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},Xce=HE(nO),vr=(function(){var t=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,e=/_x([\da-fA-F]{4})_/ig;return function n(r){var i=r+"",s=i.indexOf("<![CDATA[");if(s==-1)return i.replace(t,function(o,c){return nO[o]||String.fromCharCode(parseInt(c,o.indexOf("x")>-1?16:10))||o}).replace(e,function(o,c){return String.fromCharCode(parseInt(c,16))});var a=i.indexOf("]]>");return n(i.slice(0,s))+i.slice(s+9,a)+n(i.slice(a+3))}})(),Jce=/[&<>'"]/g,Qce=/[\u0000-\u001f]/g;function GE(t){var e=t+"";return e.replace(Jce,function(n){return Xce[n]}).replace(/\n/g,"<br/>").replace(Qce,function(n){return"&#x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+";"})}var hR=(function(){var t=/&#(\d+);/g;function e(n,r){return String.fromCharCode(parseInt(r,10))}return function(r){return r.replace(t,e)}})();function yi(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function Uw(t){for(var e="",n=0,r=0,i=0,s=0,a=0,o=0;n<t.length;){if(r=t.charCodeAt(n++),r<128){e+=String.fromCharCode(r);continue}if(i=t.charCodeAt(n++),r>191&&r<224){a=(r&31)<<6,a|=i&63,e+=String.fromCharCode(a);continue}if(s=t.charCodeAt(n++),r<240){e+=String.fromCharCode((r&15)<<12|(i&63)<<6|s&63);continue}a=t.charCodeAt(n++),o=((r&7)<<18|(i&63)<<12|(s&63)<<6|a&63)-65536,e+=String.fromCharCode(55296+(o>>>10&1023)),e+=String.fromCharCode(56320+(o&1023))}return e}function dR(t){var e=Xf(2*t.length),n,r,i=1,s=0,a=0,o;for(r=0;r<t.length;r+=i)i=1,(o=t.charCodeAt(r))<128?n=o:o<224?(n=(o&31)*64+(t.charCodeAt(r+1)&63),i=2):o<240?(n=(o&15)*4096+(t.charCodeAt(r+1)&63)*64+(t.charCodeAt(r+2)&63),i=3):(i=4,n=(o&7)*262144+(t.charCodeAt(r+1)&63)*4096+(t.charCodeAt(r+2)&63)*64+(t.charCodeAt(r+3)&63),n-=65536,a=55296+(n>>>10&1023),n=56320+(n&1023)),a!==0&&(e[s++]=a&255,e[s++]=a>>>8,a=0),e[s++]=n%256,e[s++]=n>>>8;return e.slice(0,s).toString("ucs2")}function pR(t){return wd(t,"binary").toString("utf8")}var jx="foo bar baz",ni=or&&(pR(jx)==Uw(jx)&&pR||dR(jx)==Uw(jx)&&dR)||Uw,zm=or?function(t){return wd(t,"utf8").toString("binary")}:function(t){for(var e=[],n=0,r=0,i=0;n<t.length;)switch(r=t.charCodeAt(n++),!0){case r<128:e.push(String.fromCharCode(r));break;case r<2048:e.push(String.fromCharCode(192+(r>>6))),e.push(String.fromCharCode(128+(r&63)));break;case(r>=55296&&r<57344):r-=55296,i=t.charCodeAt(n++)-56320+(r<<10),e.push(String.fromCharCode(240+(i>>18&7))),e.push(String.fromCharCode(144+(i>>12&63))),e.push(String.fromCharCode(128+(i>>6&63))),e.push(String.fromCharCode(128+(i&63)));break;default:e.push(String.fromCharCode(224+(r>>12))),e.push(String.fromCharCode(128+(r>>6&63))),e.push(String.fromCharCode(128+(r&63)))}return e.join("")},Hg=(function(){var t={};return function(n,r){var i=n+"|"+(r||"");return t[i]?t[i]:t[i]=new RegExp("<(?:\\w+:)?"+n+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+n+">",r||"")}})(),rO=(function(){var t=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(n){for(var r=n.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<t.length;++i)r=r.replace(t[i][0],t[i][1]);return r}})(),Zce=(function(){var t={};return function(n){return t[n]!==void 0?t[n]:t[n]=new RegExp("<(?:vt:)?"+n+">([\\s\\S]*?)</(?:vt:)?"+n+">","g")}})(),eue=/<\/?(?:vt:)?variant>/g,tue=/<(?:vt:)([^>]*)>([\s\S]*)</;function mR(t,e){var n=kn(t),r=t.match(Zce(n.baseType))||[],i=[];if(r.length!=n.size){if(e.WTF)throw new Error("unexpected vector length "+r.length+" != "+n.size);return i}return r.forEach(function(s){var a=s.replace(eue,"").match(tue);a&&i.push({v:ni(a[2]),t:a[1]})}),i}var nue=/(^\s|\s$|\n)/;function rue(t){return Bc(t).map(function(e){return" "+e+'="'+t[e]+'"'}).join("")}function iue(t,e,n){return"<"+t+(n!=null?rue(n):"")+(e!=null?(e.match(nue)?' xml:space="preserve"':"")+">"+e+"</"+t:"/")+">"}function $E(t){if(or&&Buffer.isBuffer(t))return t.toString("utf8");if(typeof t=="string")return t;if(typeof Uint8Array<"u"&&t instanceof Uint8Array)return ni(bd(BE(t)));throw new Error("Bad input format: expected Buffer or string")}var zg=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,sue={CT:"http://schemas.openxmlformats.org/package/2006/content-types"},aue=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function oue(t,e){for(var n=1-2*(t[e+7]>>>7),r=((t[e+7]&127)<<4)+(t[e+6]>>>4&15),i=t[e+6]&15,s=5;s>=0;--s)i=i*256+t[e+s];return r==2047?i==0?n*(1/0):NaN:(r==0?r=-1022:(r-=1023,i+=Math.pow(2,52)),n*Math.pow(2,r-52)*i)}function lue(t,e,n){var r=(e<0||1/e==-1/0?1:0)<<7,i=0,s=0,a=r?-e:e;isFinite(a)?a==0?i=s=0:(i=Math.floor(Math.log(a)/Math.LN2),s=a*Math.pow(2,52-i),i<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?i=-1022:(s-=Math.pow(2,52),i+=1023)):(i=2047,s=isNaN(e)?26985:0);for(var o=0;o<=5;++o,s/=256)t[n+o]=s&255;t[n+6]=(i&15)<<4|s&15,t[n+7]=i>>4|r}var gR=function(t){for(var e=[],n=10240,r=0;r<t[0].length;++r)if(t[0][r])for(var i=0,s=t[0][r].length;i<s;i+=n)e.push.apply(e,t[0][r].slice(i,i+n));return e},xR=or?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(e){return Buffer.isBuffer(e)?e:wd(e)})):gR(t)}:gR,yR=function(t,e,n){for(var r=[],i=e;i<n;i+=2)r.push(String.fromCharCode(bu(t,i)));return r.join("").replace($a,"")},WE=or?function(t,e,n){return Buffer.isBuffer(t)?t.toString("utf16le",e,n).replace($a,""):yR(t,e,n)}:yR,vR=function(t,e,n){for(var r=[],i=e;i<e+n;++i)r.push(("0"+t[i].toString(16)).slice(-2));return r.join("")},iO=or?function(t,e,n){return Buffer.isBuffer(t)?t.toString("hex",e,e+n):vR(t,e,n)}:vR,_R=function(t,e,n){for(var r=[],i=e;i<n;i++)r.push(String.fromCharCode(E0(t,i)));return r.join("")},y1=or?function(e,n,r){return Buffer.isBuffer(e)?e.toString("utf8",n,r):_R(e,n,r)}:_R,sO=function(t,e){var n=Fo(t,e);return n>0?y1(t,e+4,e+4+n-1):""},aO=sO,oO=function(t,e){var n=Fo(t,e);return n>0?y1(t,e+4,e+4+n-1):""},lO=oO,cO=function(t,e){var n=2*Fo(t,e);return n>0?y1(t,e+4,e+4+n-1):""},uO=cO,fO=function(e,n){var r=Fo(e,n);return r>0?WE(e,n+4,n+4+r):""},hO=fO,dO=function(t,e){var n=Fo(t,e);return n>0?y1(t,e+4,e+4+n):""},pO=dO,mO=function(t,e){return oue(t,e)},vv=mO,gO=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};or&&(aO=function(e,n){if(!Buffer.isBuffer(e))return sO(e,n);var r=e.readUInt32LE(n);return r>0?e.toString("utf8",n+4,n+4+r-1):""},lO=function(e,n){if(!Buffer.isBuffer(e))return oO(e,n);var r=e.readUInt32LE(n);return r>0?e.toString("utf8",n+4,n+4+r-1):""},uO=function(e,n){if(!Buffer.isBuffer(e))return cO(e,n);var r=2*e.readUInt32LE(n);return e.toString("utf16le",n+4,n+4+r-1)},hO=function(e,n){if(!Buffer.isBuffer(e))return fO(e,n);var r=e.readUInt32LE(n);return e.toString("utf16le",n+4,n+4+r)},pO=function(e,n){if(!Buffer.isBuffer(e))return dO(e,n);var r=e.readUInt32LE(n);return e.toString("utf8",n+4,n+4+r)},vv=function(e,n){return Buffer.isBuffer(e)?e.readDoubleLE(n):mO(e,n)},gO=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var E0=function(t,e){return t[e]},bu=function(t,e){return t[e+1]*256+t[e]},cue=function(t,e){var n=t[e+1]*256+t[e];return n<32768?n:(65535-n+1)*-1},Fo=function(t,e){return t[e+3]*(1<<24)+(t[e+2]<<16)+(t[e+1]<<8)+t[e]},Mh=function(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]},uue=function(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]};function lg(t,e){var n="",r,i,s=[],a,o,c,f;switch(e){case"dbcs":if(f=this.l,or&&Buffer.isBuffer(this))n=this.slice(this.l,this.l+2*t).toString("utf16le");else for(c=0;c<t;++c)n+=String.fromCharCode(bu(this,f)),f+=2;t*=2;break;case"utf8":n=y1(this,this.l,this.l+t);break;case"utf16le":t*=2,n=WE(this,this.l,this.l+t);break;case"wstr":return lg.call(this,t,"dbcs");case"lpstr-ansi":n=aO(this,this.l),t=4+Fo(this,this.l);break;case"lpstr-cp":n=lO(this,this.l),t=4+Fo(this,this.l);break;case"lpwstr":n=uO(this,this.l),t=4+2*Fo(this,this.l);break;case"lpp4":t=4+Fo(this,this.l),n=hO(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+Fo(this,this.l),n=pO(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,n="";(a=E0(this,this.l+t++))!==0;)s.push(Bx(a));n=s.join("");break;case"_wstr":for(t=0,n="";(a=bu(this,this.l+t))!==0;)s.push(Bx(a)),t+=2;t+=2,n=s.join("");break;case"dbcs-cont":for(n="",f=this.l,c=0;c<t;++c){if(this.lens&&this.lens.indexOf(f)!==-1)return a=E0(this,f),this.l=f+1,o=lg.call(this,t-c,a?"dbcs-cont":"sbcs-cont"),s.join("")+o;s.push(Bx(bu(this,f))),f+=2}n=s.join(""),t*=2;break;case"cpstr":case"sbcs-cont":for(n="",f=this.l,c=0;c!=t;++c){if(this.lens&&this.lens.indexOf(f)!==-1)return a=E0(this,f),this.l=f+1,o=lg.call(this,t-c,a?"dbcs-cont":"sbcs-cont"),s.join("")+o;s.push(Bx(E0(this,f))),f+=1}n=s.join("");break;default:switch(t){case 1:return r=E0(this,this.l),this.l++,r;case 2:return r=(e==="i"?cue:bu)(this,this.l),this.l+=2,r;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(r=(t>0?Mh:uue)(this,this.l),this.l+=4,r):(i=Fo(this,this.l),this.l+=4,i);case 8:case-8:if(e==="f")return t==8?i=vv(this,this.l):i=vv([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;t=8;case 16:n=iO(this,this.l,t);break}}return this.l+=t,n}var fue=function(t,e,n){t[n]=e&255,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24&255},hue=function(t,e,n){t[n]=e&255,t[n+1]=e>>8&255,t[n+2]=e>>16&255,t[n+3]=e>>24&255},due=function(t,e,n){t[n]=e&255,t[n+1]=e>>>8&255};function pue(t,e,n){var r=0,i=0;if(n==="dbcs"){for(i=0;i!=e.length;++i)due(this,e.charCodeAt(i),this.l+2*i);r=2*e.length}else if(n==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=e.length;++i)this[this.l+i]=e.charCodeAt(i)&255;r=e.length}else if(n==="hex"){for(;i<t;++i)this[this.l++]=parseInt(e.slice(2*i,2*i+2),16)||0;return this}else if(n==="utf16le"){var s=Math.min(this.l+t,this.length);for(i=0;i<Math.min(e.length,t);++i){var a=e.charCodeAt(i);this[this.l++]=a&255,this[this.l++]=a>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(t){case 1:r=1,this[this.l]=e&255;break;case 2:r=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:r=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:r=4,fue(this,e,this.l);break;case 8:if(r=8,n==="f"){lue(this,e,this.l);break}case 16:break;case-4:r=4,hue(this,e,this.l);break}return this.l+=r,this}function xO(t,e){var n=iO(this,this.l,t.length>>1);if(n!==t)throw new Error(e+"Expected "+t+" saw "+n);this.l+=t.length>>1}function ra(t,e){t.l=e,t.read_shift=lg,t.chk=xO,t.write_shift=pue}function Ia(t,e){t.l+=e}function bs(t){var e=Xf(t);return ra(e,0),e}function Uu(t,e,n){if(t){var r,i,s;ra(t,t.l||0);for(var a=t.length,o=0,c=0;t.l<a;){o=t.read_shift(1),o&128&&(o=(o&127)+((t.read_shift(1)&127)<<7));var f=Sv[o]||Sv[65535];for(r=t.read_shift(1),s=r&127,i=1;i<4&&r&128;++i)s+=((r=t.read_shift(1))&127)<<7*i;c=t.l+s;var h=f.f&&f.f(t,s,n);if(t.l=c,e(h,f,o))return}}}function S5(){var t=[],e=or?256:2048,n=function(f){var h=bs(f);return ra(h,0),h},r=n(e),i=function(){r&&(r.length>r.l&&(r=r.slice(0,r.l),r.l=r.length),r.length>0&&t.push(r),r=null)},s=function(f){return r&&f<r.length-r.l?r:(i(),r=n(Math.max(f+1,e)))},a=function(){return i(),If(t)},o=function(f){i(),r=f,r.l==null&&(r.l=r.length),s(e)};return{next:s,push:o,end:a,_bufs:t}}function cg(t,e,n){var r=aa(t);if(e.s?(r.cRel&&(r.c+=e.s.c),r.rRel&&(r.r+=e.s.r)):(r.cRel&&(r.c+=e.c),r.rRel&&(r.r+=e.r)),!n||n.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function wR(t,e,n){var r=aa(t);return r.s=cg(r.s,e.s,n),r.e=cg(r.e,e.s,n),r}function ug(t,e){if(t.cRel&&t.c<0)for(t=aa(t);t.c<0;)t.c+=e>8?16384:256;if(t.rRel&&t.r<0)for(t=aa(t);t.r<0;)t.r+=e>8?1048576:e>5?65536:16384;var n=Vn(t);return!t.cRel&&t.cRel!=null&&(n=xue(n)),!t.rRel&&t.rRel!=null&&(n=mue(n)),n}function Bw(t,e){return t.s.r==0&&!t.s.rRel&&t.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+Es(t.s.c)+":"+(t.e.cRel?"":"$")+Es(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(e.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+oa(t.s.r)+":"+(t.e.rRel?"":"$")+oa(t.e.r):ug(t.s,e.biff)+":"+ug(t.e,e.biff)}function KE(t){return parseInt(gue(t),10)-1}function oa(t){return""+(t+1)}function mue(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function gue(t){return t.replace(/\$(\d+)$/,"$1")}function YE(t){for(var e=yue(t),n=0,r=0;r!==e.length;++r)n=26*n+e.charCodeAt(r)-64;return n-1}function Es(t){if(t<0)throw new Error("invalid column "+t);var e="";for(++t;t;t=Math.floor((t-1)/26))e=String.fromCharCode((t-1)%26+65)+e;return e}function xue(t){return t.replace(/^([A-Z])/,"$$$1")}function yue(t){return t.replace(/^\$([A-Z])/,"$1")}function vue(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function za(t){for(var e=0,n=0,r=0;r<t.length;++r){var i=t.charCodeAt(r);i>=48&&i<=57?e=10*e+(i-48):i>=65&&i<=90&&(n=26*n+(i-64))}return{c:n-1,r:e-1}}function Vn(t){for(var e=t.c+1,n="";e;e=(e-1)/26|0)n=String.fromCharCode((e-1)%26+65)+n;return n+(t.r+1)}function Vp(t){var e=t.indexOf(":");return e==-1?{s:za(t),e:za(t)}:{s:za(t.slice(0,e)),e:za(t.slice(e+1))}}function mr(t,e){return typeof e>"u"||typeof e=="number"?mr(t.s,t.e):(typeof t!="string"&&(t=Vn(t)),typeof e!="string"&&(e=Vn(e)),t==e?t:t+":"+e)}function Bi(t){var e={s:{c:0,r:0},e:{c:0,r:0}},n=0,r=0,i=0,s=t.length;for(n=0;r<s&&!((i=t.charCodeAt(r)-64)<1||i>26);++r)n=26*n+i;for(e.s.c=--n,n=0;r<s&&!((i=t.charCodeAt(r)-48)<0||i>9);++r)n=10*n+i;if(e.s.r=--n,r===s||i!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++r,n=0;r!=s&&!((i=t.charCodeAt(r)-64)<1||i>26);++r)n=26*n+i;for(e.e.c=--n,n=0;r!=s&&!((i=t.charCodeAt(r)-48)<0||i>9);++r)n=10*n+i;return e.e.r=--n,e}function bR(t,e){var n=t.t=="d"&&e instanceof Date;if(t.z!=null)try{return t.w=xl(t.z,n?Wa(e):e)}catch{}try{return t.w=xl((t.XF||{}).numFmtId||(n?14:0),n?Wa(e):e)}catch{return""+e}}function Du(t,e,n){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&n&&n.dateNF&&(t.z=n.dateNF),t.t=="e"?Sd[t.v]||t.v:e==null?bR(t,t.v):bR(t,e))}function ih(t,e){var n=e&&e.sheet?e.sheet:"Sheet1",r={};return r[n]=t,{SheetNames:[n],Sheets:r}}function yO(t,e,n){var r=n||{},i=t?Array.isArray(t):r.dense,s=t||(i?[]:{}),a=0,o=0;if(s&&r.origin!=null){if(typeof r.origin=="number")a=r.origin;else{var c=typeof r.origin=="string"?za(r.origin):r.origin;a=c.r,o=c.c}s["!ref"]||(s["!ref"]="A1:A1")}var f={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var h=Bi(s["!ref"]);f.s.c=h.s.c,f.s.r=h.s.r,f.e.c=Math.max(f.e.c,h.e.c),f.e.r=Math.max(f.e.r,h.e.r),a==-1&&(f.e.r=a=h.e.r+1)}for(var p=0;p!=e.length;++p)if(e[p]){if(!Array.isArray(e[p]))throw new Error("aoa_to_sheet expects an array of arrays");for(var g=0;g!=e[p].length;++g)if(!(typeof e[p][g]>"u")){var x={v:e[p][g]},T=a+p,S=o+g;if(f.s.r>T&&(f.s.r=T),f.s.c>S&&(f.s.c=S),f.e.r<T&&(f.e.r=T),f.e.c<S&&(f.e.c=S),e[p][g]&&typeof e[p][g]=="object"&&!Array.isArray(e[p][g])&&!(e[p][g]instanceof Date))x=e[p][g];else if(Array.isArray(x.v)&&(x.f=e[p][g][1],x.v=x.v[0]),x.v===null)if(x.f)x.t="n";else if(r.nullError)x.t="e",x.v=0;else if(r.sheetStubs)x.t="z";else continue;else typeof x.v=="number"?x.t="n":typeof x.v=="boolean"?x.t="b":x.v instanceof Date?(x.z=r.dateNF||jn[14],r.cellDates?(x.t="d",x.w=xl(x.z,Wa(x.v))):(x.t="n",x.v=Wa(x.v),x.w=xl(x.z,x.v))):x.t="s";if(i)s[T]||(s[T]=[]),s[T][S]&&s[T][S].z&&(x.z=s[T][S].z),s[T][S]=x;else{var N=Vn({c:S,r:T});s[N]&&s[N].z&&(x.z=s[N].z),s[N]=x}}}return f.s.c<1e7&&(s["!ref"]=mr(f)),s}function Up(t,e){return yO(null,t,e)}function _ue(t){return t.read_shift(4,"i")}function Na(t){var e=t.read_shift(4);return e===0?"":t.read_shift(e,"dbcs")}function wue(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function XE(t,e){var n=t.l,r=t.read_shift(1),i=Na(t),s=[],a={t:i,h:i};if((r&1)!==0){for(var o=t.read_shift(4),c=0;c!=o;++c)s.push(wue(t));a.r=s}else a.r=[{ich:0,ifnt:0}];return t.l=n+e,a}var bue=XE;function yl(t){var e=t.read_shift(4),n=t.read_shift(2);return n+=t.read_shift(1)<<16,t.l++,{c:e,iStyleRef:n}}function Td(t){var e=t.read_shift(2);return e+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:e}}var Tue=Na;function JE(t){var e=t.read_shift(4);return e===0||e===4294967295?"":t.read_shift(e,"dbcs")}var Eue=Na,A5=JE;function QE(t){var e=t.slice(t.l,t.l+4),n=e[0]&1,r=e[0]&2;t.l+=4;var i=r===0?vv([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):Mh(e,0)>>2;return n?i/100:i}function vO(t){var e={s:{},e:{}};return e.s.r=t.read_shift(4),e.e.r=t.read_shift(4),e.s.c=t.read_shift(4),e.e.c=t.read_shift(4),e}var Ed=vO;function Ta(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function Sue(t){var e={},n=t.read_shift(1),r=n>>>1,i=t.read_shift(1),s=t.read_shift(2,"i"),a=t.read_shift(1),o=t.read_shift(1),c=t.read_shift(1);switch(t.l++,r){case 0:e.auto=1;break;case 1:e.index=i;var f=Kh[i];f&&(e.rgb=$g(f));break;case 2:e.rgb=$g([a,o,c]);break;case 3:e.theme=i;break}return s!=0&&(e.tint=s>0?s/32767:s/32768),e}function Aue(t){var e=t.read_shift(1);t.l++;var n={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return n}function _O(t,e){var n={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},r=t.read_shift(4);switch(r){case 0:return"";case 4294967295:case 4294967294:return n[t.read_shift(4)]||""}if(r>400)throw new Error("Unsupported Clipboard: "+r.toString(16));return t.l-=4,t.read_shift(0,e==1?"lpstr":"lpwstr")}function Cue(t){return _O(t,1)}function Nue(t){return _O(t,2)}var ZE=2,go=3,qx=11,TR=12,_v=19,Hx=64,Iue=65,kue=71,Rue=4108,Pue=4126,Bs=80,wO=81,Due=[Bs,wO],Mue={1:{n:"CodePage",t:ZE},2:{n:"Category",t:Bs},3:{n:"PresentationFormat",t:Bs},4:{n:"ByteCount",t:go},5:{n:"LineCount",t:go},6:{n:"ParagraphCount",t:go},7:{n:"SlideCount",t:go},8:{n:"NoteCount",t:go},9:{n:"HiddenCount",t:go},10:{n:"MultimediaClipCount",t:go},11:{n:"ScaleCrop",t:qx},12:{n:"HeadingPairs",t:Rue},13:{n:"TitlesOfParts",t:Pue},14:{n:"Manager",t:Bs},15:{n:"Company",t:Bs},16:{n:"LinksUpToDate",t:qx},17:{n:"CharacterCount",t:go},19:{n:"SharedDoc",t:qx},22:{n:"HyperlinksChanged",t:qx},23:{n:"AppVersion",t:go,p:"version"},24:{n:"DigSig",t:Iue},26:{n:"ContentType",t:Bs},27:{n:"ContentStatus",t:Bs},28:{n:"Language",t:Bs},29:{n:"Version",t:Bs},255:{},2147483648:{n:"Locale",t:_v},2147483651:{n:"Behavior",t:_v},1919054434:{}},Lue={1:{n:"CodePage",t:ZE},2:{n:"Title",t:Bs},3:{n:"Subject",t:Bs},4:{n:"Author",t:Bs},5:{n:"Keywords",t:Bs},6:{n:"Comments",t:Bs},7:{n:"Template",t:Bs},8:{n:"LastAuthor",t:Bs},9:{n:"RevNumber",t:Bs},10:{n:"EditTime",t:Hx},11:{n:"LastPrinted",t:Hx},12:{n:"CreatedDate",t:Hx},13:{n:"ModifiedDate",t:Hx},14:{n:"PageCount",t:go},15:{n:"WordCount",t:go},16:{n:"CharCount",t:go},17:{n:"Thumbnail",t:kue},18:{n:"Application",t:Bs},19:{n:"DocSecurity",t:go},255:{},2147483648:{n:"Locale",t:_v},2147483651:{n:"Behavior",t:_v},1919054434:{}},ER={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},Fue=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function Oue(t){return t.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var Vue=Oue([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Kh=aa(Vue),Sd={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},bO={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},SR={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function Uue(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function Bue(t){var e=Uue();if(!t||!t.match)return e;var n={};if((t.match(ka)||[]).forEach(function(r){var i=kn(r);switch(i[0].replace(Kce,"<")){case"<?xml":break;case"<Types":e.xmlns=i["xmlns"+(i[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":n[i.Extension]=i.ContentType;break;case"<Override":e[SR[i.ContentType]]!==void 0&&e[SR[i.ContentType]].push(i.PartName);break}}),e.xmlns!==sue.CT)throw new Error("Unknown Namespace: "+e.xmlns);return e.calcchain=e.calcchains.length>0?e.calcchains[0]:"",e.sst=e.strs.length>0?e.strs[0]:"",e.style=e.styles.length>0?e.styles[0]:"",e.defaults=n,delete e.calcchains,e}var O0={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function C5(t){var e=t.lastIndexOf("/");return t.slice(0,e+1)+"_rels/"+t.slice(e+1)+".rels"}function fg(t,e){var n={"!id":{}};if(!t)return n;e.charAt(0)!=="/"&&(e="/"+e);var r={};return(t.match(ka)||[]).forEach(function(i){var s=kn(i);if(s[0]==="<Relationship"){var a={};a.Type=s.Type,a.Target=s.Target,a.Id=s.Id,s.TargetMode&&(a.TargetMode=s.TargetMode);var o=s.TargetMode==="External"?s.Target:Hm(s.Target,e);n[o]=a,r[s.Id]=a}}),n["!id"]=r,n}var jue="application/vnd.oasis.opendocument.spreadsheet";function que(t,e){for(var n=$E(t),r,i;r=zg.exec(n);)switch(r[3]){case"manifest":break;case"file-entry":if(i=kn(r[0],!1),i.path=="/"&&i.type!==jue)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(e&&e.WTF)throw r}}var hg=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],Hue=(function(){for(var t=new Array(hg.length),e=0;e<hg.length;++e){var n=hg[e],r="(?:"+n[0].slice(0,n[0].indexOf(":"))+":)"+n[0].slice(n[0].indexOf(":")+1);t[e]=new RegExp("<"+r+"[^>]*>([\\s\\S]*?)</"+r+">")}return t})();function TO(t){var e={};t=ni(t);for(var n=0;n<hg.length;++n){var r=hg[n],i=t.match(Hue[n]);i!=null&&i.length>0&&(e[r[1]]=vr(i[1])),r[2]==="date"&&e[r[1]]&&(e[r[1]]=qs(e[r[1]]))}return e}var zue=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function EO(t,e,n,r){var i=[];if(typeof t=="string")i=mR(t,r);else for(var s=0;s<t.length;++s)i=i.concat(t[s].map(function(h){return{v:h}}));var a=typeof e=="string"?mR(e,r).map(function(h){return h.v}):e,o=0,c=0;if(a.length>0)for(var f=0;f!==i.length;f+=2){switch(c=+i[f+1].v,i[f].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":n.Worksheets=c,n.SheetNames=a.slice(o,o+c);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":n.NamedRanges=c,n.DefinedNames=a.slice(o,o+c);break;case"Charts":case"Diagramme":n.Chartsheets=c,n.ChartNames=a.slice(o,o+c);break}o+=c}}function Gue(t,e,n){var r={};return e||(e={}),t=ni(t),zue.forEach(function(i){var s=(t.match(Hg(i[0]))||[])[1];switch(i[2]){case"string":s&&(e[i[1]]=vr(s));break;case"bool":e[i[1]]=s==="true";break;case"raw":var a=t.match(new RegExp("<"+i[0]+"[^>]*>([\\s\\S]*?)</"+i[0]+">"));a&&a.length>0&&(r[i[1]]=a[1]);break}}),r.HeadingPairs&&r.TitlesOfParts&&EO(r.HeadingPairs,r.TitlesOfParts,e,n),e}var $ue=/<[^>]+>[^<]*/g;function Wue(t,e){var n={},r="",i=t.match($ue);if(i)for(var s=0;s!=i.length;++s){var a=i[s],o=kn(a);switch(o[0]){case"<?xml":break;case"<Properties":break;case"<property":r=vr(o.name);break;case"</property>":r=null;break;default:if(a.indexOf("<vt:")===0){var c=a.split(">"),f=c[0].slice(4),h=c[1];switch(f){case"lpstr":case"bstr":case"lpwstr":n[r]=vr(h);break;case"bool":n[r]=yi(h);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":n[r]=parseInt(h,10);break;case"r4":case"r8":case"decimal":n[r]=parseFloat(h);break;case"filetime":case"date":n[r]=qs(h);break;case"cy":case"error":n[r]=vr(h);break;default:if(f.slice(-1)=="/")break;e.WTF&&typeof console<"u"&&console.warn("Unexpected",a,f,c)}}else if(a.slice(0,2)!=="</"){if(e.WTF)throw new Error(a)}}}return n}var Kue={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},jw;function Yue(t,e,n){jw||(jw=HE(Kue)),e=jw[e]||e,t[e]=n}function eS(t){var e=t.read_shift(4),n=t.read_shift(4);return new Date((n/1e7*Math.pow(2,32)+e/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function SO(t,e,n){var r=t.l,i=t.read_shift(0,"lpstr-cp");if(n)for(;t.l-r&3;)++t.l;return i}function AO(t,e,n){var r=t.read_shift(0,"lpwstr");return r}function CO(t,e,n){return e===31?AO(t):SO(t,e,n)}function N5(t,e,n){return CO(t,e,n===!1?0:4)}function Xue(t,e){if(!e)throw new Error("VtUnalignedString must have positive length");return CO(t,e,0)}function Jue(t){for(var e=t.read_shift(4),n=[],r=0;r!=e;++r){var i=t.l;n[r]=t.read_shift(0,"lpwstr").replace($a,""),t.l-i&2&&(t.l+=2)}return n}function Que(t){for(var e=t.read_shift(4),n=[],r=0;r!=e;++r)n[r]=t.read_shift(0,"lpstr-cp").replace($a,"");return n}function Zue(t){var e=t.l,n=wv(t,wO);t[t.l]==0&&t[t.l+1]==0&&t.l-e&2&&(t.l+=2);var r=wv(t,go);return[n,r]}function efe(t){for(var e=t.read_shift(4),n=[],r=0;r<e/2;++r)n.push(Zue(t));return n}function AR(t,e){for(var n=t.read_shift(4),r={},i=0;i!=n;++i){var s=t.read_shift(4),a=t.read_shift(4);r[s]=t.read_shift(a,e===1200?"utf16le":"utf8").replace($a,"").replace(qm,"!"),e===1200&&a%2&&(t.l+=2)}return t.l&3&&(t.l=t.l>>3<<2),r}function NO(t){var e=t.read_shift(4),n=t.slice(t.l,t.l+e);return t.l+=e,(e&3)>0&&(t.l+=4-(e&3)&3),n}function tfe(t){var e={};return e.Size=t.read_shift(4),t.l+=e.Size+3-(e.Size-1)%4,e}function wv(t,e,n){var r=t.read_shift(2),i,s=n||{};if(t.l+=2,e!==TR&&r!==e&&Due.indexOf(e)===-1&&!((e&65534)==4126&&(r&65534)==4126))throw new Error("Expected type "+e+" saw "+r);switch(e===TR?r:e){case 2:return i=t.read_shift(2,"i"),s.raw||(t.l+=2),i;case 3:return i=t.read_shift(4,"i"),i;case 11:return t.read_shift(4)!==0;case 19:return i=t.read_shift(4),i;case 30:return SO(t,r,4).replace($a,"");case 31:return AO(t);case 64:return eS(t);case 65:return NO(t);case 71:return tfe(t);case 80:return N5(t,r,!s.raw).replace($a,"");case 81:return Xue(t,r).replace($a,"");case 4108:return efe(t);case 4126:case 4127:return r==4127?Jue(t):Que(t);default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+r)}}function CR(t,e){var n=t.l,r=t.read_shift(4),i=t.read_shift(4),s=[],a=0,o=0,c=-1,f={};for(a=0;a!=i;++a){var h=t.read_shift(4),p=t.read_shift(4);s[a]=[h,p+n]}s.sort(function(B,R){return B[1]-R[1]});var g={};for(a=0;a!=i;++a){if(t.l!==s[a][1]){var x=!0;if(a>0&&e)switch(e[s[a-1][0]].t){case 2:t.l+2===s[a][1]&&(t.l+=2,x=!1);break;case 80:t.l<=s[a][1]&&(t.l=s[a][1],x=!1);break;case 4108:t.l<=s[a][1]&&(t.l=s[a][1],x=!1);break}if((!e||a==0)&&t.l<=s[a][1]&&(x=!1,t.l=s[a][1]),x)throw new Error("Read Error: Expected address "+s[a][1]+" at "+t.l+" :"+a)}if(e){var T=e[s[a][0]];if(g[T.n]=wv(t,T.t,{raw:!0}),T.p==="version"&&(g[T.n]=String(g[T.n]>>16)+"."+("0000"+String(g[T.n]&65535)).slice(-4)),T.n=="CodePage")switch(g[T.n]){case 0:g[T.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:Wl(o=g[T.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+g[T.n])}}else if(s[a][0]===1){if(o=g.CodePage=wv(t,ZE),Wl(o),c!==-1){var S=t.l;t.l=s[c][1],f=AR(t,o),t.l=S}}else if(s[a][0]===0){if(o===0){c=a,t.l=s[a+1][1];continue}f=AR(t,o)}else{var N=f[s[a][0]],k;switch(t[t.l]){case 65:t.l+=4,k=NO(t);break;case 30:t.l+=4,k=N5(t,t[t.l-4]).replace(/\u0000+$/,"");break;case 31:t.l+=4,k=N5(t,t[t.l-4]).replace(/\u0000+$/,"");break;case 3:t.l+=4,k=t.read_shift(4,"i");break;case 19:t.l+=4,k=t.read_shift(4);break;case 5:t.l+=4,k=t.read_shift(8,"f");break;case 11:t.l+=4,k=$i(t,4);break;case 64:t.l+=4,k=qs(eS(t));break;default:throw new Error("unparsed value: "+t[t.l])}g[N]=k}}return t.l=n+r,g}function NR(t,e,n){var r=t.content;if(!r)return{};ra(r,0);var i,s,a,o,c=0;r.chk("feff","Byte Order: "),r.read_shift(2);var f=r.read_shift(4),h=r.read_shift(16);if(h!==pr.utils.consts.HEADER_CLSID&&h!==n)throw new Error("Bad PropertySet CLSID "+h);if(i=r.read_shift(4),i!==1&&i!==2)throw new Error("Unrecognized #Sets: "+i);if(s=r.read_shift(16),o=r.read_shift(4),i===1&&o!==r.l)throw new Error("Length mismatch: "+o+" !== "+r.l);i===2&&(a=r.read_shift(16),c=r.read_shift(4));var p=CR(r,e),g={SystemIdentifier:f};for(var x in p)g[x]=p[x];if(g.FMTID=s,i===1)return g;if(c-r.l==2&&(r.l+=2),r.l!==c)throw new Error("Length mismatch 2: "+r.l+" !== "+c);var T;try{T=CR(r,null)}catch{}for(x in T)g[x]=T[x];return g.FMTID=[s,a],g}function bf(t,e){return t.read_shift(e),null}function nfe(t,e,n){for(var r=[],i=t.l+e;t.l<i;)r.push(n(t,i-t.l));if(i!==t.l)throw new Error("Slurp error");return r}function $i(t,e){return t.read_shift(e)===1}function as(t){return t.read_shift(2,"u")}function IO(t,e){return nfe(t,e,as)}function rfe(t){var e=t.read_shift(1),n=t.read_shift(1);return n===1?e:e===1}function v1(t,e,n){var r=t.read_shift(n&&n.biff>=12?2:1),i="sbcs-cont";if(n&&n.biff>=8,!n||n.biff==8){var s=t.read_shift(1);s&&(i="dbcs-cont")}else n.biff==12&&(i="wstr");n.biff>=2&&n.biff<=5&&(i="cpstr");var a=r?t.read_shift(r,i):"";return a}function ife(t){var e=t.read_shift(2),n=t.read_shift(1),r=n&4,i=n&8,s=1+(n&1),a=0,o,c={};i&&(a=t.read_shift(2)),r&&(o=t.read_shift(4));var f=s==2?"dbcs-cont":"sbcs-cont",h=e===0?"":t.read_shift(e,f);return i&&(t.l+=4*a),r&&(t.l+=o),c.t=h,i||(c.raw="<t>"+c.t+"</t>",c.r=c.t),c}function fd(t,e,n){var r;if(n){if(n.biff>=2&&n.biff<=5)return t.read_shift(e,"cpstr");if(n.biff>=12)return t.read_shift(e,"dbcs-cont")}var i=t.read_shift(1);return i===0?r=t.read_shift(e,"sbcs-cont"):r=t.read_shift(e,"dbcs-cont"),r}function _1(t,e,n){var r=t.read_shift(n&&n.biff==2?1:2);return r===0?(t.l++,""):fd(t,r,n)}function Ad(t,e,n){if(n.biff>5)return _1(t,e,n);var r=t.read_shift(1);return r===0?(t.l++,""):t.read_shift(r,n.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function sfe(t){var e=t.read_shift(1);t.l++;var n=t.read_shift(2);return t.l+=2,[e,n]}function afe(t){var e=t.read_shift(4),n=t.l,r=!1;e>24&&(t.l+=e-24,t.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(r=!0),t.l=n);var i=t.read_shift((r?e-24:e)>>1,"utf16le").replace($a,"");return r&&(t.l+=24),i}function ofe(t){for(var e=t.read_shift(2),n="";e-- >0;)n+="../";var r=t.read_shift(0,"lpstr-ansi");if(t.l+=2,t.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var i=t.read_shift(4);if(i===0)return n+r.replace(/\\/g,"/");var s=t.read_shift(4);if(t.read_shift(2)!=3)throw new Error("Bad FileMoniker");var a=t.read_shift(s>>1,"utf16le").replace($a,"");return n+a}function lfe(t,e){var n=t.read_shift(16);switch(n){case"e0c9ea79f9bace118c8200aa004ba90b":return afe(t);case"0303000000000000c000000000000046":return ofe(t);default:throw new Error("Unsupported Moniker "+n)}}function zx(t){var e=t.read_shift(4),n=e>0?t.read_shift(e,"utf16le").replace($a,""):"";return n}function cfe(t,e){var n=t.l+e,r=t.read_shift(4);if(r!==2)throw new Error("Unrecognized streamVersion: "+r);var i=t.read_shift(2);t.l+=2;var s,a,o,c,f="",h,p;i&16&&(s=zx(t,n-t.l)),i&128&&(a=zx(t,n-t.l)),(i&257)===257&&(o=zx(t,n-t.l)),(i&257)===1&&(c=lfe(t,n-t.l)),i&8&&(f=zx(t,n-t.l)),i&32&&(h=t.read_shift(16)),i&64&&(p=eS(t)),t.l=n;var g=a||o||c||"";g&&f&&(g+="#"+f),g||(g="#"+f),i&2&&g.charAt(0)=="/"&&g.charAt(1)!="/"&&(g="file://"+g);var x={Target:g};return h&&(x.guid=h),p&&(x.time=p),s&&(x.Tooltip=s),x}function kO(t){var e=t.read_shift(1),n=t.read_shift(1),r=t.read_shift(1),i=t.read_shift(1);return[e,n,r,i]}function RO(t,e){var n=kO(t);return n[3]=0,n}function Hc(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(2);return{r:e,c:n,ixfe:r}}function ufe(t){var e=t.read_shift(2),n=t.read_shift(2);return t.l+=8,{type:e,flags:n}}function ffe(t,e,n){return e===0?"":Ad(t,e,n)}function hfe(t,e,n){var r=n.biff>8?4:2,i=t.read_shift(r),s=t.read_shift(r,"i"),a=t.read_shift(r,"i");return[i,s,a]}function PO(t){var e=t.read_shift(2),n=QE(t);return[e,n]}function dfe(t,e,n){t.l+=4,e-=4;var r=t.l+e,i=v1(t,e,n),s=t.read_shift(2);if(r-=t.l,s!==r)throw new Error("Malformed AddinUdf: padding = "+r+" != "+s);return t.l+=s,i}function m2(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(2),i=t.read_shift(2);return{s:{c:r,r:e},e:{c:i,r:n}}}function DO(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(1),i=t.read_shift(1);return{s:{c:r,r:e},e:{c:i,r:n}}}var pfe=DO;function MO(t){t.l+=4;var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(2);return t.l+=12,[n,e,r]}function mfe(t){var e={};return t.l+=4,t.l+=16,e.fSharedNote=t.read_shift(2),t.l+=4,e}function gfe(t){var e={};return t.l+=4,t.cf=t.read_shift(2),e}function va(t){t.l+=2,t.l+=t.read_shift(2)}var xfe={0:va,4:va,5:va,6:va,7:gfe,8:va,9:va,10:va,11:va,12:va,13:mfe,14:va,15:va,16:va,17:va,18:va,19:va,20:va,21:MO};function yfe(t,e){for(var n=t.l+e,r=[];t.l<n;){var i=t.read_shift(2);t.l-=2;try{r.push(xfe[i](t,n-t.l))}catch{return t.l=n,r}}return t.l!=n&&(t.l=n),r}function Gx(t,e){var n={BIFFVer:0,dt:0};switch(n.BIFFVer=t.read_shift(2),e-=2,e>=2&&(n.dt=t.read_shift(2),t.l-=2),n.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(e>6)throw new Error("Unexpected BIFF Ver "+n.BIFFVer)}return t.read_shift(e),n}function vfe(t,e){return e===0||t.read_shift(2),1200}function _fe(t,e,n){if(n.enc)return t.l+=e,"";var r=t.l,i=Ad(t,0,n);return t.read_shift(e+r-t.l),i}function wfe(t,e,n){var r=n&&n.biff==8||e==2?t.read_shift(2):(t.l+=e,0);return{fDialog:r&16,fBelow:r&64,fRight:r&128}}function bfe(t,e,n){var r=t.read_shift(4),i=t.read_shift(1)&3,s=t.read_shift(1);switch(s){case 0:s="Worksheet";break;case 1:s="Macrosheet";break;case 2:s="Chartsheet";break;case 6:s="VBAModule";break}var a=v1(t,0,n);return a.length===0&&(a="Sheet1"),{pos:r,hs:i,dt:s,name:a}}function Tfe(t,e){for(var n=t.l+e,r=t.read_shift(4),i=t.read_shift(4),s=[],a=0;a!=i&&t.l<n;++a)s.push(ife(t));return s.Count=r,s.Unique=i,s}function Efe(t,e){var n={};return n.dsst=t.read_shift(2),t.l+=e-2,n}function Sfe(t){var e={};e.r=t.read_shift(2),e.c=t.read_shift(2),e.cnt=t.read_shift(2)-e.c;var n=t.read_shift(2);t.l+=4;var r=t.read_shift(1);return t.l+=3,r&7&&(e.level=r&7),r&32&&(e.hidden=!0),r&64&&(e.hpt=n/20),e}function Afe(t){var e=ufe(t);if(e.type!=2211)throw new Error("Invalid Future Record "+e.type);var n=t.read_shift(4);return n!==0}function Cfe(t){return t.read_shift(2),t.read_shift(4)}function IR(t,e,n){var r=0;n&&n.biff==2||(r=t.read_shift(2));var i=t.read_shift(2);n&&n.biff==2&&(r=1-(i>>15),i&=32767);var s={Unsynced:r&1,DyZero:(r&2)>>1,ExAsc:(r&4)>>2,ExDsc:(r&8)>>3};return[s,i]}function Nfe(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(2),i=t.read_shift(2),s=t.read_shift(2),a=t.read_shift(2),o=t.read_shift(2),c=t.read_shift(2),f=t.read_shift(2);return{Pos:[e,n],Dim:[r,i],Flags:s,CurTab:a,FirstTab:o,Selected:c,TabRatio:f}}function Ife(t,e,n){if(n&&n.biff>=2&&n.biff<5)return{};var r=t.read_shift(2);return{RTL:r&64}}function kfe(){}function Rfe(t,e,n){var r={dyHeight:t.read_shift(2),fl:t.read_shift(2)};switch(n&&n.biff||8){case 2:break;case 3:case 4:t.l+=2;break;default:t.l+=10;break}return r.name=v1(t,0,n),r}function Pfe(t){var e=Hc(t);return e.isst=t.read_shift(4),e}function Dfe(t,e,n){n.biffguess&&n.biff==2&&(n.biff=5);var r=t.l+e,i=Hc(t);n.biff==2&&t.l++;var s=_1(t,r-t.l,n);return i.val=s,i}function Mfe(t,e,n){var r=t.read_shift(2),i=Ad(t,0,n);return[r,i]}var Lfe=Ad;function kR(t,e,n){var r=t.l+e,i=n.biff==8||!n.biff?4:2,s=t.read_shift(i),a=t.read_shift(i),o=t.read_shift(2),c=t.read_shift(2);return t.l=r,{s:{r:s,c:o},e:{r:a,c}}}function Ffe(t){var e=t.read_shift(2),n=t.read_shift(2),r=PO(t);return{r:e,c:n,ixfe:r[0],rknum:r[1]}}function Ofe(t,e){for(var n=t.l+e-2,r=t.read_shift(2),i=t.read_shift(2),s=[];t.l<n;)s.push(PO(t));if(t.l!==n)throw new Error("MulRK read error");var a=t.read_shift(2);if(s.length!=a-i+1)throw new Error("MulRK length mismatch");return{r,c:i,C:a,rkrec:s}}function Vfe(t,e){for(var n=t.l+e-2,r=t.read_shift(2),i=t.read_shift(2),s=[];t.l<n;)s.push(t.read_shift(2));if(t.l!==n)throw new Error("MulBlank read error");var a=t.read_shift(2);if(s.length!=a-i+1)throw new Error("MulBlank length mismatch");return{r,c:i,C:a,ixfe:s}}function Ufe(t,e,n,r){var i={},s=t.read_shift(4),a=t.read_shift(4),o=t.read_shift(4),c=t.read_shift(2);return i.patternType=Fue[o>>26],r.cellStyles&&(i.alc=s&7,i.fWrap=s>>3&1,i.alcV=s>>4&7,i.fJustLast=s>>7&1,i.trot=s>>8&255,i.cIndent=s>>16&15,i.fShrinkToFit=s>>20&1,i.iReadOrder=s>>22&2,i.fAtrNum=s>>26&1,i.fAtrFnt=s>>27&1,i.fAtrAlc=s>>28&1,i.fAtrBdr=s>>29&1,i.fAtrPat=s>>30&1,i.fAtrProt=s>>31&1,i.dgLeft=a&15,i.dgRight=a>>4&15,i.dgTop=a>>8&15,i.dgBottom=a>>12&15,i.icvLeft=a>>16&127,i.icvRight=a>>23&127,i.grbitDiag=a>>30&3,i.icvTop=o&127,i.icvBottom=o>>7&127,i.icvDiag=o>>14&127,i.dgDiag=o>>21&15,i.icvFore=c&127,i.icvBack=c>>7&127,i.fsxButton=c>>14&1),i}function Bfe(t,e,n){var r={};return r.ifnt=t.read_shift(2),r.numFmtId=t.read_shift(2),r.flags=t.read_shift(2),r.fStyle=r.flags>>2&1,e-=6,r.data=Ufe(t,e,r.fStyle,n),r}function jfe(t){t.l+=4;var e=[t.read_shift(2),t.read_shift(2)];if(e[0]!==0&&e[0]--,e[1]!==0&&e[1]--,e[0]>7||e[1]>7)throw new Error("Bad Gutters: "+e.join("|"));return e}function RR(t,e,n){var r=Hc(t);(n.biff==2||e==9)&&++t.l;var i=rfe(t);return r.val=i,r.t=i===!0||i===!1?"b":"e",r}function qfe(t,e,n){n.biffguess&&n.biff==2&&(n.biff=5);var r=Hc(t),i=Ta(t);return r.val=i,r}var PR=ffe;function Hfe(t,e,n){var r=t.l+e,i=t.read_shift(2),s=t.read_shift(2);if(n.sbcch=s,s==1025||s==14849)return[s,i];if(s<1||s>255)throw new Error("Unexpected SupBook type: "+s);for(var a=fd(t,s),o=[];r>t.l;)o.push(_1(t));return[s,i,a,o]}function DR(t,e,n){var r=t.read_shift(2),i,s={fBuiltIn:r&1,fWantAdvise:r>>>1&1,fWantPict:r>>>2&1,fOle:r>>>3&1,fOleLink:r>>>4&1,cf:r>>>5&1023,fIcon:r>>>15&1};return n.sbcch===14849&&(i=dfe(t,e-2,n)),s.body=i||t.read_shift(e-2),typeof i=="string"&&(s.Name=i),s}var zfe=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function MR(t,e,n){var r=t.l+e,i=t.read_shift(2),s=t.read_shift(1),a=t.read_shift(1),o=t.read_shift(n&&n.biff==2?1:2),c=0;(!n||n.biff>=5)&&(n.biff!=5&&(t.l+=2),c=t.read_shift(2),n.biff==5&&(t.l+=2),t.l+=4);var f=fd(t,a,n);i&32&&(f=zfe[f.charCodeAt(0)]);var h=r-t.l;n&&n.biff==2&&--h;var p=r==t.l||o===0||!(h>0)?[]:Spe(t,h,n,o);return{chKey:s,Name:f,itab:c,rgce:p}}function LO(t,e,n){if(n.biff<8)return Gfe(t,e,n);for(var r=[],i=t.l+e,s=t.read_shift(n.biff>8?4:2);s--!==0;)r.push(hfe(t,n.biff>8?12:6,n));if(t.l!=i)throw new Error("Bad ExternSheet: "+t.l+" != "+i);return r}function Gfe(t,e,n){t[t.l+1]==3&&t[t.l]++;var r=v1(t,e,n);return r.charCodeAt(0)==3?r.slice(1):r}function $fe(t,e,n){if(n.biff<8){t.l+=e;return}var r=t.read_shift(2),i=t.read_shift(2),s=fd(t,r,n),a=fd(t,i,n);return[s,a]}function Wfe(t,e,n){var r=DO(t);t.l++;var i=t.read_shift(1);return e-=8,[Ape(t,e,n),i,r]}function LR(t,e,n){var r=pfe(t);switch(n.biff){case 2:t.l++,e-=7;break;case 3:case 4:t.l+=2,e-=8;break;default:t.l+=6,e-=12}return[r,Tpe(t,e,n)]}function Kfe(t){var e=t.read_shift(4)!==0,n=t.read_shift(4)!==0,r=t.read_shift(4);return[e,n,r]}function Yfe(t,e,n){if(!(n.biff<8)){var r=t.read_shift(2),i=t.read_shift(2),s=t.read_shift(2),a=t.read_shift(2),o=Ad(t,0,n);return n.biff<8&&t.read_shift(1),[{r,c:i},o,a,s]}}function Xfe(t,e,n){return Yfe(t,e,n)}function Jfe(t,e){for(var n=[],r=t.read_shift(2);r--;)n.push(m2(t));return n}function Qfe(t,e,n){if(n&&n.biff<8)return ehe(t,e,n);var r=MO(t),i=yfe(t,e-22,r[1]);return{cmo:r,ft:i}}var Zfe={8:function(t,e){var n=t.l+e;t.l+=10;var r=t.read_shift(2);t.l+=4,t.l+=2,t.l+=2,t.l+=2,t.l+=4;var i=t.read_shift(1);return t.l+=i,t.l=n,{fmt:r}}};function ehe(t,e,n){t.l+=4;var r=t.read_shift(2),i=t.read_shift(2),s=t.read_shift(2);t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=6,e-=36;var a=[];return a.push((Zfe[r]||Ia)(t,e,n)),{cmo:[i,r,s],ft:a}}function the(t,e,n){var r=t.l,i="";try{t.l+=4;var s=(n.lastobj||{cmo:[0,0]}).cmo[1],a;[0,5,7,11,12,14].indexOf(s)==-1?t.l+=6:a=sfe(t,6,n);var o=t.read_shift(2);t.read_shift(2),as(t,2);var c=t.read_shift(2);t.l+=c;for(var f=1;f<t.lens.length-1;++f){if(t.l-r!=t.lens[f])throw new Error("TxO: bad continue record");var h=t[t.l],p=fd(t,t.lens[f+1]-t.lens[f]-1);if(i+=p,i.length>=(h?o:2*o))break}if(i.length!==o&&i.length!==o*2)throw new Error("cchText: "+o+" != "+i.length);return t.l=r+e,{t:i}}catch{return t.l=r+e,{t:i}}}function nhe(t,e){var n=m2(t);t.l+=16;var r=cfe(t,e-24);return[n,r]}function rhe(t,e){t.read_shift(2);var n=m2(t),r=t.read_shift((e-10)/2,"dbcs-cont");return r=r.replace($a,""),[n,r]}function ihe(t){var e=[0,0],n;return n=t.read_shift(2),e[0]=ER[n]||n,n=t.read_shift(2),e[1]=ER[n]||n,e}function she(t){for(var e=t.read_shift(2),n=[];e-- >0;)n.push(RO(t));return n}function ahe(t){for(var e=t.read_shift(2),n=[];e-- >0;)n.push(RO(t));return n}function ohe(t){t.l+=2;var e={cxfs:0,crc:0};return e.cxfs=t.read_shift(2),e.crc=t.read_shift(4),e}function FO(t,e,n){if(!n.cellStyles)return Ia(t,e);var r=n&&n.biff>=12?4:2,i=t.read_shift(r),s=t.read_shift(r),a=t.read_shift(r),o=t.read_shift(r),c=t.read_shift(2);r==2&&(t.l+=2);var f={s:i,e:s,w:a,ixfe:o,flags:c};return(n.biff>=5||!n.biff)&&(f.level=c>>8&7),f}function lhe(t,e){var n={};return e<32||(t.l+=16,n.header=Ta(t),n.footer=Ta(t),t.l+=2),n}function che(t,e,n){var r={area:!1};if(n.biff!=5)return t.l+=e,r;var i=t.read_shift(1);return t.l+=3,i&16&&(r.area=!0),r}var uhe=Hc,fhe=IO,hhe=_1;function dhe(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(4),i={fmt:e,env:n,len:r,data:t.slice(t.l,t.l+r)};return t.l+=r,i}function phe(t,e,n){n.biffguess&&n.biff==5&&(n.biff=2);var r=Hc(t);++t.l;var i=Ad(t,e-7,n);return r.t="str",r.val=i,r}function mhe(t){var e=Hc(t);++t.l;var n=Ta(t);return e.t="n",e.val=n,e}function ghe(t){var e=Hc(t);++t.l;var n=t.read_shift(2);return e.t="n",e.val=n,e}function xhe(t){var e=t.read_shift(1);return e===0?(t.l++,""):t.read_shift(e,"sbcs-cont")}function yhe(t,e){t.l+=6,t.l+=2,t.l+=1,t.l+=3,t.l+=1,t.l+=e-13}function vhe(t,e,n){var r=t.l+e,i=Hc(t),s=t.read_shift(2),a=fd(t,s,n);return t.l=r,i.t="str",i.val=a,i}var _he=[2,3,48,49,131,139,140,245],FR=(function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=HE({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function n(o,c){var f=[],h=Xf(1);switch(c.type){case"base64":h=Gl(jo(o));break;case"binary":h=Gl(o);break;case"buffer":case"array":h=o;break}ra(h,0);var p=h.read_shift(1),g=!!(p&136),x=!1,T=!1;switch(p){case 2:break;case 3:break;case 48:x=!0,g=!0;break;case 49:x=!0,g=!0;break;case 131:break;case 139:break;case 140:T=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+p.toString(16))}var S=0,N=521;p==2&&(S=h.read_shift(2)),h.l+=3,p!=2&&(S=h.read_shift(4)),S>1048576&&(S=1e6),p!=2&&(N=h.read_shift(2));var k=h.read_shift(2),B=c.codepage||1252;p!=2&&(h.l+=16,h.read_shift(1),h[h.l]!==0&&(B=t[h[h.l]]),h.l+=1,h.l+=2),T&&(h.l+=36);for(var R=[],q={},Y=Math.min(h.length,p==2?521:N-10-(x?264:0)),J=T?32:11;h.l<Y&&h[h.l]!=13;)switch(q={},q.name=jg.utils.decode(B,h.slice(h.l,h.l+J)).replace(/[\u0000\r\n].*$/g,""),h.l+=J,q.type=String.fromCharCode(h.read_shift(1)),p!=2&&!T&&(q.offset=h.read_shift(4)),q.len=h.read_shift(1),p==2&&(q.offset=h.read_shift(2)),q.dec=h.read_shift(1),q.name.length&&R.push(q),p!=2&&(h.l+=T?13:14),q.type){case"B":(!x||q.len!=8)&&c.WTF&&console.log("Skipping "+q.name+":"+q.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+q.name+":"+q.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+q.type)}if(h[h.l]!==13&&(h.l=N-1),h.read_shift(1)!==13)throw new Error("DBF Terminator not found "+h.l+" "+h[h.l]);h.l=N;var F=0,O=0;for(f[0]=[],O=0;O!=R.length;++O)f[0][O]=R[O].name;for(;S-- >0;){if(h[h.l]===42){h.l+=k;continue}for(++h.l,f[++F]=[],O=0,O=0;O!=R.length;++O){var C=h.slice(h.l,h.l+R[O].len);h.l+=R[O].len,ra(C,0);var H=jg.utils.decode(B,C);switch(R[O].type){case"C":H.trim().length&&(f[F][O]=H.replace(/\s+$/,""));break;case"D":H.length===8?f[F][O]=new Date(+H.slice(0,4),+H.slice(4,6)-1,+H.slice(6,8)):f[F][O]=H;break;case"F":f[F][O]=parseFloat(H.trim());break;case"+":case"I":f[F][O]=T?C.read_shift(-4,"i")^2147483648:C.read_shift(4,"i");break;case"L":switch(H.trim().toUpperCase()){case"Y":case"T":f[F][O]=!0;break;case"N":case"F":f[F][O]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+H+"|")}break;case"M":if(!g)throw new Error("DBF Unexpected MEMO for type "+p.toString(16));f[F][O]="##MEMO##"+(T?parseInt(H.trim(),10):C.read_shift(4));break;case"N":H=H.replace(/\u0000/g,"").trim(),H&&H!="."&&(f[F][O]=+H||0);break;case"@":f[F][O]=new Date(C.read_shift(-8,"f")-621356832e5);break;case"T":f[F][O]=new Date((C.read_shift(4)-2440588)*864e5+C.read_shift(4));break;case"Y":f[F][O]=C.read_shift(4,"i")/1e4+C.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":f[F][O]=-C.read_shift(-8,"f");break;case"B":if(x&&R[O].len==8){f[F][O]=C.read_shift(8,"f");break}case"G":case"P":C.l+=R[O].len;break;case"0":if(R[O].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+R[O].type)}}}if(p!=2&&h.l<h.length&&h[h.l++]!=26)throw new Error("DBF EOF Marker missing "+(h.l-1)+" of "+h.length+" "+h[h.l-1].toString(16));return c&&c.sheetRows&&(f=f.slice(0,c.sheetRows)),c.DBF=R,f}function r(o,c){var f=c||{};f.dateNF||(f.dateNF="yyyymmdd");var h=Up(n(o,f),f);return h["!cols"]=f.DBF.map(function(p){return{wch:p.len,DBF:p}}),delete f.DBF,h}function i(o,c){try{return ih(r(o,c),c)}catch(f){if(c&&c.WTF)throw f}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function a(o,c){var f=c||{};if(+f.codepage>=0&&Wl(+f.codepage),f.type=="string")throw new Error("Cannot write DBF to JS string");var h=S5(),p=L5(o,{header:1,raw:!0,cellDates:!0}),g=p[0],x=p.slice(1),T=o["!cols"]||[],S=0,N=0,k=0,B=1;for(S=0;S<g.length;++S){if(((T[S]||{}).DBF||{}).name){g[S]=T[S].DBF.name,++k;continue}if(g[S]!=null){if(++k,typeof g[S]=="number"&&(g[S]=g[S].toString(10)),typeof g[S]!="string")throw new Error("DBF Invalid column name "+g[S]+" |"+typeof g[S]+"|");if(g.indexOf(g[S])!==S){for(N=0;N<1024;++N)if(g.indexOf(g[S]+"_"+N)==-1){g[S]+="_"+N;break}}}}var R=Bi(o["!ref"]),q=[],Y=[],J=[];for(S=0;S<=R.e.c-R.s.c;++S){var F="",O="",C=0,H=[];for(N=0;N<x.length;++N)x[N][S]!=null&&H.push(x[N][S]);if(H.length==0||g[S]==null){q[S]="?";continue}for(N=0;N<H.length;++N){switch(typeof H[N]){case"number":O="B";break;case"string":O="C";break;case"boolean":O="L";break;case"object":O=H[N]instanceof Date?"D":"C";break;default:O="C"}C=Math.max(C,String(H[N]).length),F=F&&F!=O?"C":O}C>250&&(C=250),O=((T[S]||{}).DBF||{}).type,O=="C"&&T[S].DBF.len>C&&(C=T[S].DBF.len),F=="B"&&O=="N"&&(F="N",J[S]=T[S].DBF.dec,C=T[S].DBF.len),Y[S]=F=="C"||O=="N"?C:s[F]||0,B+=Y[S],q[S]=F}var P=h.next(32);for(P.write_shift(4,318902576),P.write_shift(4,x.length),P.write_shift(2,296+32*k),P.write_shift(2,B),S=0;S<4;++S)P.write_shift(4,0);for(P.write_shift(4,0|(+e[L7]||3)<<8),S=0,N=0;S<g.length;++S)if(g[S]!=null){var L=h.next(32),V=(g[S].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);L.write_shift(1,V,"sbcs"),L.write_shift(1,q[S]=="?"?"C":q[S],"sbcs"),L.write_shift(4,N),L.write_shift(1,Y[S]||s[q[S]]||0),L.write_shift(1,J[S]||0),L.write_shift(1,2),L.write_shift(4,0),L.write_shift(1,0),L.write_shift(4,0),L.write_shift(4,0),N+=Y[S]||s[q[S]]||0}var me=h.next(264);for(me.write_shift(4,13),S=0;S<65;++S)me.write_shift(4,0);for(S=0;S<x.length;++S){var Ne=h.next(B);for(Ne.write_shift(1,0),N=0;N<g.length;++N)if(g[N]!=null)switch(q[N]){case"L":Ne.write_shift(1,x[S][N]==null?63:x[S][N]?84:70);break;case"B":Ne.write_shift(8,x[S][N]||0,"f");break;case"N":var se="0";for(typeof x[S][N]=="number"&&(se=x[S][N].toFixed(J[N]||0)),k=0;k<Y[N]-se.length;++k)Ne.write_shift(1,32);Ne.write_shift(1,se,"sbcs");break;case"D":x[S][N]?(Ne.write_shift(4,("0000"+x[S][N].getFullYear()).slice(-4),"sbcs"),Ne.write_shift(2,("00"+(x[S][N].getMonth()+1)).slice(-2),"sbcs"),Ne.write_shift(2,("00"+x[S][N].getDate()).slice(-2),"sbcs")):Ne.write_shift(8,"00000000","sbcs");break;case"C":var xe=String(x[S][N]!=null?x[S][N]:"").slice(0,Y[N]);for(Ne.write_shift(1,xe,"sbcs"),k=0;k<Y[N]-xe.length;++k)Ne.write_shift(1,32);break}}return h.next(1).write_shift(1,26),h.end()}return{to_workbook:i,to_sheet:r,from_sheet:a}})(),whe=(function(){var t={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+Bc(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),n=function(g,x){var T=t[x];return typeof T=="number"?Q6(T):T},r=function(g,x,T){var S=x.charCodeAt(0)-32<<4|T.charCodeAt(0)-48;return S==59?g:Q6(S)};t["|"]=254;function i(g,x){switch(x.type){case"base64":return s(jo(g),x);case"binary":return s(g,x);case"buffer":return s(or&&Buffer.isBuffer(g)?g.toString("binary"):bd(g),x);case"array":return s(ud(g),x)}throw new Error("Unrecognized type "+x.type)}function s(g,x){var T=g.split(/[\n\r]+/),S=-1,N=-1,k=0,B=0,R=[],q=[],Y=null,J={},F=[],O=[],C=[],H=0,P;for(+x.codepage>=0&&Wl(+x.codepage);k!==T.length;++k){H=0;var L=T[k].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(e,n),V=L.replace(/;;/g,"\0").split(";").map(function(Q){return Q.replace(/\u0000/g,";")}),me=V[0],Ne;if(L.length>0)switch(me){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":V[1].charAt(0)=="P"&&q.push(L.slice(3).replace(/;;/g,";"));break;case"C":var se=!1,xe=!1,he=!1,ue=!1,Le=-1,ne=-1;for(B=1;B<V.length;++B)switch(V[B].charAt(0)){case"A":break;case"X":N=parseInt(V[B].slice(1))-1,xe=!0;break;case"Y":for(S=parseInt(V[B].slice(1))-1,xe||(N=0),P=R.length;P<=S;++P)R[P]=[];break;case"K":Ne=V[B].slice(1),Ne.charAt(0)==='"'?Ne=Ne.slice(1,Ne.length-1):Ne==="TRUE"?Ne=!0:Ne==="FALSE"?Ne=!1:isNaN(Yl(Ne))?isNaN(_p(Ne).getDate())||(Ne=qs(Ne)):(Ne=Yl(Ne),Y!==null&&Op(Y)&&(Ne=p2(Ne))),se=!0;break;case"E":ue=!0;var M=Z0(V[B].slice(1),{r:S,c:N});R[S][N]=[R[S][N],M];break;case"S":he=!0,R[S][N]=[R[S][N],"S5S"];break;case"G":break;case"R":Le=parseInt(V[B].slice(1))-1;break;case"C":ne=parseInt(V[B].slice(1))-1;break;default:if(x&&x.WTF)throw new Error("SYLK bad record "+L)}if(se&&(R[S][N]&&R[S][N].length==2?R[S][N][0]=Ne:R[S][N]=Ne,Y=null),he){if(ue)throw new Error("SYLK shared formula cannot have own formula");var W=Le>-1&&R[Le][ne];if(!W||!W[1])throw new Error("SYLK shared formula cannot find base");R[S][N][1]=$O(W[1],{r:S-Le,c:N-ne})}break;case"F":var K=0;for(B=1;B<V.length;++B)switch(V[B].charAt(0)){case"X":N=parseInt(V[B].slice(1))-1,++K;break;case"Y":for(S=parseInt(V[B].slice(1))-1,P=R.length;P<=S;++P)R[P]=[];break;case"M":H=parseInt(V[B].slice(1))/20;break;case"F":break;case"G":break;case"P":Y=q[parseInt(V[B].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(C=V[B].slice(1).split(" "),P=parseInt(C[0],10);P<=parseInt(C[1],10);++P)H=parseInt(C[2],10),O[P-1]=H===0?{hidden:!0}:{wch:H},wp(O[P-1]);break;case"C":N=parseInt(V[B].slice(1))-1,O[N]||(O[N]={});break;case"R":S=parseInt(V[B].slice(1))-1,F[S]||(F[S]={}),H>0?(F[S].hpt=H,F[S].hpx=Wg(H)):H===0&&(F[S].hidden=!0);break;default:if(x&&x.WTF)throw new Error("SYLK bad record "+L)}K<1&&(Y=null);break;default:if(x&&x.WTF)throw new Error("SYLK bad record "+L)}}return F.length>0&&(J["!rows"]=F),O.length>0&&(J["!cols"]=O),x&&x.sheetRows&&(R=R.slice(0,x.sheetRows)),[R,J]}function a(g,x){var T=i(g,x),S=T[0],N=T[1],k=Up(S,x);return Bc(N).forEach(function(B){k[B]=N[B]}),k}function o(g,x){return ih(a(g,x),x)}function c(g,x,T,S){var N="C;Y"+(T+1)+";X"+(S+1)+";K";switch(g.t){case"n":N+=g.v||0,g.f&&!g.F&&(N+=";E"+o0e(g.f,{r:T,c:S}));break;case"b":N+=g.v?"TRUE":"FALSE";break;case"e":N+=g.w||g.v;break;case"d":N+='"'+(g.w||g.v)+'"';break;case"s":N+='"'+g.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return N}function f(g,x){x.forEach(function(T,S){var N="F;W"+(S+1)+" "+(S+1)+" ";T.hidden?N+="0":(typeof T.width=="number"&&!T.wpx&&(T.wpx=Tv(T.width)),typeof T.wpx=="number"&&!T.wch&&(T.wch=Ev(T.wpx)),typeof T.wch=="number"&&(N+=Math.round(T.wch))),N.charAt(N.length-1)!=" "&&g.push(N)})}function h(g,x){x.forEach(function(T,S){var N="F;";T.hidden?N+="M0;":T.hpt?N+="M"+20*T.hpt+";":T.hpx&&(N+="M"+20*HO(T.hpx)+";"),N.length>2&&g.push(N+"R"+(S+1))})}function p(g,x){var T=["ID;PWXL;N;E"],S=[],N=Bi(g["!ref"]),k,B=Array.isArray(g),R=`\r
`;T.push("P;PGeneral"),T.push("F;P0;DG0G8;M255"),g["!cols"]&&f(T,g["!cols"]),g["!rows"]&&h(T,g["!rows"]),T.push("B;Y"+(N.e.r-N.s.r+1)+";X"+(N.e.c-N.s.c+1)+";D"+[N.s.c,N.s.r,N.e.c,N.e.r].join(" "));for(var q=N.s.r;q<=N.e.r;++q)for(var Y=N.s.c;Y<=N.e.c;++Y){var J=Vn({r:q,c:Y});k=B?(g[q]||[])[Y]:g[J],!(!k||k.v==null&&(!k.f||k.F))&&S.push(c(k,g,q,Y))}return T.join(R)+R+S.join(R)+R+"E"+R}return{to_workbook:o,to_sheet:a,from_sheet:p}})(),bhe=(function(){function t(s,a){switch(a.type){case"base64":return e(jo(s),a);case"binary":return e(s,a);case"buffer":return e(or&&Buffer.isBuffer(s)?s.toString("binary"):bd(s),a);case"array":return e(ud(s),a)}throw new Error("Unrecognized type "+a.type)}function e(s,a){for(var o=s.split(`
`),c=-1,f=-1,h=0,p=[];h!==o.length;++h){if(o[h].trim()==="BOT"){p[++c]=[],f=0;continue}if(!(c<0)){var g=o[h].trim().split(","),x=g[0],T=g[1];++h;for(var S=o[h]||"";(S.match(/["]/g)||[]).length&1&&h<o.length-1;)S+=`
`+o[++h];switch(S=S.trim(),+x){case-1:if(S==="BOT"){p[++c]=[],f=0;continue}else if(S!=="EOD")throw new Error("Unrecognized DIF special command "+S);break;case 0:S==="TRUE"?p[c][f]=!0:S==="FALSE"?p[c][f]=!1:isNaN(Yl(T))?isNaN(_p(T).getDate())?p[c][f]=T:p[c][f]=qs(T):p[c][f]=Yl(T),++f;break;case 1:S=S.slice(1,S.length-1),S=S.replace(/""/g,'"'),S&&S.match(/^=".*"$/)&&(S=S.slice(2,-1)),p[c][f++]=S!==""?S:null;break}if(S==="EOD")break}}return a&&a.sheetRows&&(p=p.slice(0,a.sheetRows)),p}function n(s,a){return Up(t(s,a),a)}function r(s,a){return ih(n(s,a),a)}var i=(function(){var s=function(c,f,h,p,g){c.push(f),c.push(h+","+p),c.push('"'+g.replace(/"/g,'""')+'"')},a=function(c,f,h,p){c.push(f+","+h),c.push(f==1?'"'+p.replace(/"/g,'""')+'"':p)};return function(c){var f=[],h=Bi(c["!ref"]),p,g=Array.isArray(c);s(f,"TABLE",0,1,"sheetjs"),s(f,"VECTORS",0,h.e.r-h.s.r+1,""),s(f,"TUPLES",0,h.e.c-h.s.c+1,""),s(f,"DATA",0,0,"");for(var x=h.s.r;x<=h.e.r;++x){a(f,-1,0,"BOT");for(var T=h.s.c;T<=h.e.c;++T){var S=Vn({r:x,c:T});if(p=g?(c[x]||[])[T]:c[S],!p){a(f,1,0,"");continue}switch(p.t){case"n":var N=p.w;!N&&p.v!=null&&(N=p.v),N==null?p.f&&!p.F?a(f,1,0,"="+p.f):a(f,1,0,""):a(f,0,N,"V");break;case"b":a(f,0,p.v?1:0,p.v?"TRUE":"FALSE");break;case"s":a(f,1,0,isNaN(p.v)?p.v:'="'+p.v+'"');break;case"d":p.w||(p.w=xl(p.z||jn[14],Wa(qs(p.v)))),a(f,0,p.w,"V");break;default:a(f,1,0,"")}}}a(f,-1,0,"EOD");var k=`\r
`,B=f.join(k);return B}})();return{to_workbook:r,to_sheet:n,from_sheet:i}})(),The=(function(){function t(p){return p.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(p){return p.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function n(p,g){for(var x=p.split(`
`),T=-1,S=-1,N=0,k=[];N!==x.length;++N){var B=x[N].trim().split(":");if(B[0]==="cell"){var R=za(B[1]);if(k.length<=R.r)for(T=k.length;T<=R.r;++T)k[T]||(k[T]=[]);switch(T=R.r,S=R.c,B[2]){case"t":k[T][S]=t(B[3]);break;case"v":k[T][S]=+B[3];break;case"vtf":var q=B[B.length-1];case"vtc":switch(B[3]){case"nl":k[T][S]=!!+B[4];break;default:k[T][S]=+B[4];break}B[2]=="vtf"&&(k[T][S]=[k[T][S],q])}}}return g&&g.sheetRows&&(k=k.slice(0,g.sheetRows)),k}function r(p,g){return Up(n(p,g),g)}function i(p,g){return ih(r(p,g),g)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),a=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function f(p){if(!p||!p["!ref"])return"";for(var g=[],x=[],T,S="",N=Vp(p["!ref"]),k=Array.isArray(p),B=N.s.r;B<=N.e.r;++B)for(var R=N.s.c;R<=N.e.c;++R)if(S=Vn({r:B,c:R}),T=k?(p[B]||[])[R]:p[S],!(!T||T.v==null||T.t==="z")){switch(x=["cell",S,"t"],T.t){case"s":case"str":x.push(e(T.v));break;case"n":T.f?(x[2]="vtf",x[3]="n",x[4]=T.v,x[5]=e(T.f)):(x[2]="v",x[3]=T.v);break;case"b":x[2]="vt"+(T.f?"f":"c"),x[3]="nl",x[4]=T.v?"1":"0",x[5]=e(T.f||(T.v?"TRUE":"FALSE"));break;case"d":var q=Wa(qs(T.v));x[2]="vtc",x[3]="nd",x[4]=""+q,x[5]=T.w||xl(T.z||jn[14],q);break;case"e":continue}g.push(x.join(":"))}return g.push("sheet:c:"+(N.e.c-N.s.c+1)+":r:"+(N.e.r-N.s.r+1)+":tvf:1"),g.push("valueformat:1:text-wiki"),g.join(`
`)}function h(p){return[s,a,o,a,f(p),c].join(`
`)}return{to_workbook:i,to_sheet:r,from_sheet:h}})(),Gg=(function(){function t(h,p,g,x,T){T.raw?p[g][x]=h:h===""||(h==="TRUE"?p[g][x]=!0:h==="FALSE"?p[g][x]=!1:isNaN(Yl(h))?isNaN(_p(h).getDate())?p[g][x]=h:p[g][x]=qs(h):p[g][x]=Yl(h))}function e(h,p){var g=p||{},x=[];if(!h||h.length===0)return x;for(var T=h.split(/[\r\n]/),S=T.length-1;S>=0&&T[S].length===0;)--S;for(var N=10,k=0,B=0;B<=S;++B)k=T[B].indexOf(" "),k==-1?k=T[B].length:k++,N=Math.max(N,k);for(B=0;B<=S;++B){x[B]=[];var R=0;for(t(T[B].slice(0,N).trim(),x,B,R,g),R=1;R<=(T[B].length-N)/10+1;++R)t(T[B].slice(N+(R-1)*10,N+R*10).trim(),x,B,R,g)}return g.sheetRows&&(x=x.slice(0,g.sheetRows)),x}var n={44:",",9:"	",59:";",124:"|"},r={44:3,9:2,59:1,124:0};function i(h){for(var p={},g=!1,x=0,T=0;x<h.length;++x)(T=h.charCodeAt(x))==34?g=!g:!g&&T in n&&(p[T]=(p[T]||0)+1);T=[];for(x in p)Object.prototype.hasOwnProperty.call(p,x)&&T.push([p[x],x]);if(!T.length){p=r;for(x in p)Object.prototype.hasOwnProperty.call(p,x)&&T.push([p[x],x])}return T.sort(function(S,N){return S[0]-N[0]||r[S[1]]-r[N[1]]}),n[T.pop()[1]]||44}function s(h,p){var g=p||{},x="",T=g.dense?[]:{},S={s:{c:0,r:0},e:{c:0,r:0}};h.slice(0,4)=="sep="?h.charCodeAt(5)==13&&h.charCodeAt(6)==10?(x=h.charAt(4),h=h.slice(7)):h.charCodeAt(5)==13||h.charCodeAt(5)==10?(x=h.charAt(4),h=h.slice(6)):x=i(h.slice(0,1024)):g&&g.FS?x=g.FS:x=i(h.slice(0,1024));var N=0,k=0,B=0,R=0,q=0,Y=x.charCodeAt(0),J=!1,F=0,O=h.charCodeAt(0);h=h.replace(/\r\n/mg,`
`);var C=g.dateNF!=null?Mce(g.dateNF):null;function H(){var P=h.slice(R,q),L={};if(P.charAt(0)=='"'&&P.charAt(P.length-1)=='"'&&(P=P.slice(1,-1).replace(/""/g,'"')),P.length===0)L.t="z";else if(g.raw)L.t="s",L.v=P;else if(P.trim().length===0)L.t="s",L.v=P;else if(P.charCodeAt(0)==61)P.charCodeAt(1)==34&&P.charCodeAt(P.length-1)==34?(L.t="s",L.v=P.slice(2,-1).replace(/""/g,'"')):c0e(P)?(L.t="n",L.f=P.slice(1)):(L.t="s",L.v=P);else if(P=="TRUE")L.t="b",L.v=!0;else if(P=="FALSE")L.t="b",L.v=!1;else if(!isNaN(B=Yl(P)))L.t="n",g.cellText!==!1&&(L.w=P),L.v=B;else if(!isNaN(_p(P).getDate())||C&&P.match(C)){L.z=g.dateNF||jn[14];var V=0;C&&P.match(C)&&(P=Lce(P,g.dateNF,P.match(C)||[]),V=1),g.cellDates?(L.t="d",L.v=qs(P,V)):(L.t="n",L.v=Wa(qs(P,V))),g.cellText!==!1&&(L.w=xl(L.z,L.v instanceof Date?Wa(L.v):L.v)),g.cellNF||delete L.z}else L.t="s",L.v=P;if(L.t=="z"||(g.dense?(T[N]||(T[N]=[]),T[N][k]=L):T[Vn({c:k,r:N})]=L),R=q+1,O=h.charCodeAt(R),S.e.c<k&&(S.e.c=k),S.e.r<N&&(S.e.r=N),F==Y)++k;else if(k=0,++N,g.sheetRows&&g.sheetRows<=N)return!0}e:for(;q<h.length;++q)switch(F=h.charCodeAt(q)){case 34:O===34&&(J=!J);break;case Y:case 10:case 13:if(!J&&H())break e;break}return q-R>0&&H(),T["!ref"]=mr(S),T}function a(h,p){return!(p&&p.PRN)||p.FS||h.slice(0,4)=="sep="||h.indexOf("	")>=0||h.indexOf(",")>=0||h.indexOf(";")>=0?s(h,p):Up(e(h,p),p)}function o(h,p){var g="",x=p.type=="string"?[0,0,0,0]:lS(h,p);switch(p.type){case"base64":g=jo(h);break;case"binary":g=h;break;case"buffer":p.codepage==65001?g=h.toString("utf8"):p.codepage&&typeof jg<"u"||(g=or&&Buffer.isBuffer(h)?h.toString("binary"):bd(h));break;case"array":g=ud(h);break;case"string":g=h;break;default:throw new Error("Unrecognized type "+p.type)}return x[0]==239&&x[1]==187&&x[2]==191?g=ni(g.slice(3)):p.type!="string"&&p.type!="buffer"&&p.codepage==65001?g=ni(g):p.type=="binary"&&typeof jg<"u",g.slice(0,19)=="socialcalc:version:"?The.to_sheet(p.type=="string"?g:ni(g),p):a(g,p)}function c(h,p){return ih(o(h,p),p)}function f(h){for(var p=[],g=Bi(h["!ref"]),x,T=Array.isArray(h),S=g.s.r;S<=g.e.r;++S){for(var N=[],k=g.s.c;k<=g.e.c;++k){var B=Vn({r:S,c:k});if(x=T?(h[S]||[])[k]:h[B],!x||x.v==null){N.push("          ");continue}for(var R=(x.w||(Du(x),x.w)||"").slice(0,10);R.length<10;)R+=" ";N.push(R+(k===0?" ":""))}p.push(N.join(""))}return p.join(`
`)}return{to_workbook:c,to_sheet:o,from_sheet:f}})();function Ehe(t,e){var n=e||{},r=!!n.WTF;n.WTF=!0;try{var i=whe.to_workbook(t,n);return n.WTF=r,i}catch(s){if(n.WTF=r,!s.message.match(/SYLK bad record ID/)&&r)throw s;return Gg.to_workbook(t,e)}}var dg=(function(){function t(M,W,K){if(M){ra(M,M.l||0);for(var Q=K.Enum||Le;M.l<M.length;){var ce=M.read_shift(2),we=Q[ce]||Q[65535],ke=M.read_shift(2),fe=M.l+ke,Ae=we.f&&we.f(M,ke,K);if(M.l=fe,W(Ae,we,ce))return}}}function e(M,W){switch(W.type){case"base64":return n(Gl(jo(M)),W);case"binary":return n(Gl(M),W);case"buffer":case"array":return n(M,W)}throw"Unsupported type "+W.type}function n(M,W){if(!M)return M;var K=W||{},Q=K.dense?[]:{},ce="Sheet1",we="",ke=0,fe={},Ae=[],Ue=[],ae={s:{r:0,c:0},e:{r:0,c:0}},it=K.sheetRows||0;if(M[2]==0&&(M[3]==8||M[3]==9)&&M.length>=16&&M[14]==5&&M[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(M[2]==2)K.Enum=Le,t(M,function(ft,kt,rt){switch(rt){case 0:K.vers=ft,ft>=4096&&(K.qpro=!0);break;case 6:ae=ft;break;case 204:ft&&(we=ft);break;case 222:we=ft;break;case 15:case 51:K.qpro||(ft[1].v=ft[1].v.slice(1));case 13:case 14:case 16:rt==14&&(ft[2]&112)==112&&(ft[2]&15)>1&&(ft[2]&15)<15&&(ft[1].z=K.dateNF||jn[14],K.cellDates&&(ft[1].t="d",ft[1].v=p2(ft[1].v))),K.qpro&&ft[3]>ke&&(Q["!ref"]=mr(ae),fe[ce]=Q,Ae.push(ce),Q=K.dense?[]:{},ae={s:{r:0,c:0},e:{r:0,c:0}},ke=ft[3],ce=we||"Sheet"+(ke+1),we="");var St=K.dense?(Q[ft[0].r]||[])[ft[0].c]:Q[Vn(ft[0])];if(St){St.t=ft[1].t,St.v=ft[1].v,ft[1].z!=null&&(St.z=ft[1].z),ft[1].f!=null&&(St.f=ft[1].f);break}K.dense?(Q[ft[0].r]||(Q[ft[0].r]=[]),Q[ft[0].r][ft[0].c]=ft[1]):Q[Vn(ft[0])]=ft[1];break}},K);else if(M[2]==26||M[2]==14)K.Enum=ne,M[2]==14&&(K.qpro=!0,M.l=0),t(M,function(ft,kt,rt){switch(rt){case 204:ce=ft;break;case 22:ft[1].v=ft[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(ft[3]>ke&&(Q["!ref"]=mr(ae),fe[ce]=Q,Ae.push(ce),Q=K.dense?[]:{},ae={s:{r:0,c:0},e:{r:0,c:0}},ke=ft[3],ce="Sheet"+(ke+1)),it>0&&ft[0].r>=it)break;K.dense?(Q[ft[0].r]||(Q[ft[0].r]=[]),Q[ft[0].r][ft[0].c]=ft[1]):Q[Vn(ft[0])]=ft[1],ae.e.c<ft[0].c&&(ae.e.c=ft[0].c),ae.e.r<ft[0].r&&(ae.e.r=ft[0].r);break;case 27:ft[14e3]&&(Ue[ft[14e3][0]]=ft[14e3][1]);break;case 1537:Ue[ft[0]]=ft[1],ft[0]==ke&&(ce=ft[1]);break}},K);else throw new Error("Unrecognized LOTUS BOF "+M[2]);if(Q["!ref"]=mr(ae),fe[we||ce]=Q,Ae.push(we||ce),!Ue.length)return{SheetNames:Ae,Sheets:fe};for(var dt={},re=[],lt=0;lt<Ue.length;++lt)fe[Ae[lt]]?(re.push(Ue[lt]||Ae[lt]),dt[Ue[lt]]=fe[Ue[lt]]||fe[Ae[lt]]):(re.push(Ue[lt]),dt[Ue[lt]]={"!ref":"A1"});return{SheetNames:re,Sheets:dt}}function r(M,W){var K=W||{};if(+K.codepage>=0&&Wl(+K.codepage),K.type=="string")throw new Error("Cannot write WK1 to JS string");var Q=S5(),ce=Bi(M["!ref"]),we=Array.isArray(M),ke=[];ql(Q,0,s(1030)),ql(Q,6,c(ce));for(var fe=Math.min(ce.e.r,8191),Ae=ce.s.r;Ae<=fe;++Ae)for(var Ue=oa(Ae),ae=ce.s.c;ae<=ce.e.c;++ae){Ae===ce.s.r&&(ke[ae]=Es(ae));var it=ke[ae]+Ue,dt=we?(M[Ae]||[])[ae]:M[it];if(!(!dt||dt.t=="z"))if(dt.t=="n")(dt.v|0)==dt.v&&dt.v>=-32768&&dt.v<=32767?ql(Q,13,x(Ae,ae,dt.v)):ql(Q,14,S(Ae,ae,dt.v));else{var re=Du(dt);ql(Q,15,p(Ae,ae,re.slice(0,239)))}}return ql(Q,1),Q.end()}function i(M,W){var K=W||{};if(+K.codepage>=0&&Wl(+K.codepage),K.type=="string")throw new Error("Cannot write WK3 to JS string");var Q=S5();ql(Q,0,a(M));for(var ce=0,we=0;ce<M.SheetNames.length;++ce)(M.Sheets[M.SheetNames[ce]]||{})["!ref"]&&ql(Q,27,ue(M.SheetNames[ce],we++));var ke=0;for(ce=0;ce<M.SheetNames.length;++ce){var fe=M.Sheets[M.SheetNames[ce]];if(!(!fe||!fe["!ref"])){for(var Ae=Bi(fe["!ref"]),Ue=Array.isArray(fe),ae=[],it=Math.min(Ae.e.r,8191),dt=Ae.s.r;dt<=it;++dt)for(var re=oa(dt),lt=Ae.s.c;lt<=Ae.e.c;++lt){dt===Ae.s.r&&(ae[lt]=Es(lt));var ft=ae[lt]+re,kt=Ue?(fe[dt]||[])[lt]:fe[ft];if(!(!kt||kt.t=="z"))if(kt.t=="n")ql(Q,23,H(dt,lt,ke,kt.v));else{var rt=Du(kt);ql(Q,22,F(dt,lt,ke,rt.slice(0,239)))}}++ke}}return ql(Q,1),Q.end()}function s(M){var W=bs(2);return W.write_shift(2,M),W}function a(M){var W=bs(26);W.write_shift(2,4096),W.write_shift(2,4),W.write_shift(4,0);for(var K=0,Q=0,ce=0,we=0;we<M.SheetNames.length;++we){var ke=M.SheetNames[we],fe=M.Sheets[ke];if(!(!fe||!fe["!ref"])){++ce;var Ae=Vp(fe["!ref"]);K<Ae.e.r&&(K=Ae.e.r),Q<Ae.e.c&&(Q=Ae.e.c)}}return K>8191&&(K=8191),W.write_shift(2,K),W.write_shift(1,ce),W.write_shift(1,Q),W.write_shift(2,0),W.write_shift(2,0),W.write_shift(1,1),W.write_shift(1,2),W.write_shift(4,0),W.write_shift(4,0),W}function o(M,W,K){var Q={s:{c:0,r:0},e:{c:0,r:0}};return W==8&&K.qpro?(Q.s.c=M.read_shift(1),M.l++,Q.s.r=M.read_shift(2),Q.e.c=M.read_shift(1),M.l++,Q.e.r=M.read_shift(2),Q):(Q.s.c=M.read_shift(2),Q.s.r=M.read_shift(2),W==12&&K.qpro&&(M.l+=2),Q.e.c=M.read_shift(2),Q.e.r=M.read_shift(2),W==12&&K.qpro&&(M.l+=2),Q.s.c==65535&&(Q.s.c=Q.e.c=Q.s.r=Q.e.r=0),Q)}function c(M){var W=bs(8);return W.write_shift(2,M.s.c),W.write_shift(2,M.s.r),W.write_shift(2,M.e.c),W.write_shift(2,M.e.r),W}function f(M,W,K){var Q=[{c:0,r:0},{t:"n",v:0},0,0];return K.qpro&&K.vers!=20768?(Q[0].c=M.read_shift(1),Q[3]=M.read_shift(1),Q[0].r=M.read_shift(2),M.l+=2):(Q[2]=M.read_shift(1),Q[0].c=M.read_shift(2),Q[0].r=M.read_shift(2)),Q}function h(M,W,K){var Q=M.l+W,ce=f(M,W,K);if(ce[1].t="s",K.vers==20768){M.l++;var we=M.read_shift(1);return ce[1].v=M.read_shift(we,"utf8"),ce}return K.qpro&&M.l++,ce[1].v=M.read_shift(Q-M.l,"cstr"),ce}function p(M,W,K){var Q=bs(7+K.length);Q.write_shift(1,255),Q.write_shift(2,W),Q.write_shift(2,M),Q.write_shift(1,39);for(var ce=0;ce<Q.length;++ce){var we=K.charCodeAt(ce);Q.write_shift(1,we>=128?95:we)}return Q.write_shift(1,0),Q}function g(M,W,K){var Q=f(M,W,K);return Q[1].v=M.read_shift(2,"i"),Q}function x(M,W,K){var Q=bs(7);return Q.write_shift(1,255),Q.write_shift(2,W),Q.write_shift(2,M),Q.write_shift(2,K,"i"),Q}function T(M,W,K){var Q=f(M,W,K);return Q[1].v=M.read_shift(8,"f"),Q}function S(M,W,K){var Q=bs(13);return Q.write_shift(1,255),Q.write_shift(2,W),Q.write_shift(2,M),Q.write_shift(8,K,"f"),Q}function N(M,W,K){var Q=M.l+W,ce=f(M,W,K);if(ce[1].v=M.read_shift(8,"f"),K.qpro)M.l=Q;else{var we=M.read_shift(2);q(M.slice(M.l,M.l+we),ce),M.l+=we}return ce}function k(M,W,K){var Q=W&32768;return W&=-32769,W=(Q?M:0)+(W>=8192?W-16384:W),(Q?"":"$")+(K?Es(W):oa(W))}var B={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},R=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function q(M,W){ra(M,0);for(var K=[],Q=0,ce="",we="",ke="",fe="";M.l<M.length;){var Ae=M[M.l++];switch(Ae){case 0:K.push(M.read_shift(8,"f"));break;case 1:we=k(W[0].c,M.read_shift(2),!0),ce=k(W[0].r,M.read_shift(2),!1),K.push(we+ce);break;case 2:{var Ue=k(W[0].c,M.read_shift(2),!0),ae=k(W[0].r,M.read_shift(2),!1);we=k(W[0].c,M.read_shift(2),!0),ce=k(W[0].r,M.read_shift(2),!1),K.push(Ue+ae+":"+we+ce)}break;case 3:if(M.l<M.length){console.error("WK1 premature formula end");return}break;case 4:K.push("("+K.pop()+")");break;case 5:K.push(M.read_shift(2));break;case 6:{for(var it="";Ae=M[M.l++];)it+=String.fromCharCode(Ae);K.push('"'+it.replace(/"/g,'""')+'"')}break;case 8:K.push("-"+K.pop());break;case 23:K.push("+"+K.pop());break;case 22:K.push("NOT("+K.pop()+")");break;case 20:case 21:fe=K.pop(),ke=K.pop(),K.push(["AND","OR"][Ae-20]+"("+ke+","+fe+")");break;default:if(Ae<32&&R[Ae])fe=K.pop(),ke=K.pop(),K.push(ke+R[Ae]+fe);else if(B[Ae]){if(Q=B[Ae][1],Q==69&&(Q=M[M.l++]),Q>K.length){console.error("WK1 bad formula parse 0x"+Ae.toString(16)+":|"+K.join("|")+"|");return}var dt=K.slice(-Q);K.length-=Q,K.push(B[Ae][0]+"("+dt.join(",")+")")}else return Ae<=7?console.error("WK1 invalid opcode "+Ae.toString(16)):Ae<=24?console.error("WK1 unsupported op "+Ae.toString(16)):Ae<=30?console.error("WK1 invalid opcode "+Ae.toString(16)):Ae<=115?console.error("WK1 unsupported function opcode "+Ae.toString(16)):console.error("WK1 unrecognized opcode "+Ae.toString(16))}}K.length==1?W[1].f=""+K[0]:console.error("WK1 bad formula parse |"+K.join("|")+"|")}function Y(M){var W=[{c:0,r:0},{t:"n",v:0},0];return W[0].r=M.read_shift(2),W[3]=M[M.l++],W[0].c=M[M.l++],W}function J(M,W){var K=Y(M);return K[1].t="s",K[1].v=M.read_shift(W-4,"cstr"),K}function F(M,W,K,Q){var ce=bs(6+Q.length);ce.write_shift(2,M),ce.write_shift(1,K),ce.write_shift(1,W),ce.write_shift(1,39);for(var we=0;we<Q.length;++we){var ke=Q.charCodeAt(we);ce.write_shift(1,ke>=128?95:ke)}return ce.write_shift(1,0),ce}function O(M,W){var K=Y(M);K[1].v=M.read_shift(2);var Q=K[1].v>>1;if(K[1].v&1)switch(Q&7){case 0:Q=(Q>>3)*5e3;break;case 1:Q=(Q>>3)*500;break;case 2:Q=(Q>>3)/20;break;case 3:Q=(Q>>3)/200;break;case 4:Q=(Q>>3)/2e3;break;case 5:Q=(Q>>3)/2e4;break;case 6:Q=(Q>>3)/16;break;case 7:Q=(Q>>3)/64;break}return K[1].v=Q,K}function C(M,W){var K=Y(M),Q=M.read_shift(4),ce=M.read_shift(4),we=M.read_shift(2);if(we==65535)return Q===0&&ce===3221225472?(K[1].t="e",K[1].v=15):Q===0&&ce===3489660928?(K[1].t="e",K[1].v=42):K[1].v=0,K;var ke=we&32768;return we=(we&32767)-16446,K[1].v=(1-ke*2)*(ce*Math.pow(2,we+32)+Q*Math.pow(2,we)),K}function H(M,W,K,Q){var ce=bs(14);if(ce.write_shift(2,M),ce.write_shift(1,K),ce.write_shift(1,W),Q==0)return ce.write_shift(4,0),ce.write_shift(4,0),ce.write_shift(2,65535),ce;var we=0,ke=0,fe=0,Ae=0;return Q<0&&(we=1,Q=-Q),ke=Math.log2(Q)|0,Q/=Math.pow(2,ke-31),Ae=Q>>>0,(Ae&2147483648)==0&&(Q/=2,++ke,Ae=Q>>>0),Q-=Ae,Ae|=2147483648,Ae>>>=0,Q*=Math.pow(2,32),fe=Q>>>0,ce.write_shift(4,fe),ce.write_shift(4,Ae),ke+=16383+(we?32768:0),ce.write_shift(2,ke),ce}function P(M,W){var K=C(M);return M.l+=W-14,K}function L(M,W){var K=Y(M),Q=M.read_shift(4);return K[1].v=Q>>6,K}function V(M,W){var K=Y(M),Q=M.read_shift(8,"f");return K[1].v=Q,K}function me(M,W){var K=V(M);return M.l+=W-10,K}function Ne(M,W){return M[M.l+W-1]==0?M.read_shift(W,"cstr"):""}function se(M,W){var K=M[M.l++];K>W-1&&(K=W-1);for(var Q="";Q.length<K;)Q+=String.fromCharCode(M[M.l++]);return Q}function xe(M,W,K){if(!(!K.qpro||W<21)){var Q=M.read_shift(1);M.l+=17,M.l+=1,M.l+=2;var ce=M.read_shift(W-21,"cstr");return[Q,ce]}}function he(M,W){for(var K={},Q=M.l+W;M.l<Q;){var ce=M.read_shift(2);if(ce==14e3){for(K[ce]=[0,""],K[ce][0]=M.read_shift(2);M[M.l];)K[ce][1]+=String.fromCharCode(M[M.l]),M.l++;M.l++}}return K}function ue(M,W){var K=bs(5+M.length);K.write_shift(2,14e3),K.write_shift(2,W);for(var Q=0;Q<M.length;++Q){var ce=M.charCodeAt(Q);K[K.l++]=ce>127?95:ce}return K[K.l++]=0,K}var Le={0:{n:"BOF",f:as},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:g},14:{n:"NUMBER",f:T},15:{n:"LABEL",f:h},16:{n:"FORMULA",f:N},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:h},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:Ne},222:{n:"SHEETNAMELP",f:se},65535:{n:""}},ne={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:J},23:{n:"NUMBER17",f:C},24:{n:"NUMBER18",f:O},25:{n:"FORMULA19",f:P},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:he},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:L},38:{n:"??"},39:{n:"NUMBER27",f:V},40:{n:"FORMULA28",f:me},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:Ne},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:xe},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:r,book_to_wk3:i,to_workbook:e}})();function She(t){var e={},n=t.match(ka),r=0,i=!1;if(n)for(;r!=n.length;++r){var s=kn(n[r]);switch(s[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!s.val)break;case"<shadow>":case"<shadow/>":e.shadow=1;break;case"</shadow>":break;case"<charset":if(s.val=="1")break;e.cp=VE[parseInt(s.val,10)];break;case"<outline":if(!s.val)break;case"<outline>":case"<outline/>":e.outline=1;break;case"</outline>":break;case"<rFont":e.name=s.val;break;case"<sz":e.sz=s.val;break;case"<strike":if(!s.val)break;case"<strike>":case"<strike/>":e.strike=1;break;case"</strike>":break;case"<u":if(!s.val)break;switch(s.val){case"double":e.uval="double";break;case"singleAccounting":e.uval="single-accounting";break;case"doubleAccounting":e.uval="double-accounting";break}case"<u>":case"<u/>":e.u=1;break;case"</u>":break;case"<b":if(s.val=="0")break;case"<b>":case"<b/>":e.b=1;break;case"</b>":break;case"<i":if(s.val=="0")break;case"<i>":case"<i/>":e.i=1;break;case"</i>":break;case"<color":s.rgb&&(e.color=s.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":e.family=s.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":e.valign=s.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(s[0].charCodeAt(1)!==47&&!i)throw new Error("Unrecognized rich format "+s[0])}}return e}var Ahe=(function(){var t=Hg("t"),e=Hg("rPr");function n(s){var a=s.match(t);if(!a)return{t:"s",v:""};var o={t:"s",v:vr(a[1])},c=s.match(e);return c&&(o.s=She(c[1])),o}var r=/<(?:\w+:)?r>/g,i=/<\/(?:\w+:)?r>/;return function(a){return a.replace(r,"").split(i).map(n).filter(function(o){return o.v})}})(),Che=(function(){var e=/(\r\n|\n)/g;function n(i,s,a){var o=[];i.u&&o.push("text-decoration: underline;"),i.uval&&o.push("text-underline-style:"+i.uval+";"),i.sz&&o.push("font-size:"+i.sz+"pt;"),i.outline&&o.push("text-effect: outline;"),i.shadow&&o.push("text-shadow: auto;"),s.push('<span style="'+o.join("")+'">'),i.b&&(s.push("<b>"),a.push("</b>")),i.i&&(s.push("<i>"),a.push("</i>")),i.strike&&(s.push("<s>"),a.push("</s>"));var c=i.valign||"";return c=="superscript"||c=="super"?c="sup":c=="subscript"&&(c="sub"),c!=""&&(s.push("<"+c+">"),a.push("</"+c+">")),a.push("</span>"),i}function r(i){var s=[[],i.v,[]];return i.v?(i.s&&n(i.s,s[0],s[2]),s[0].join("")+s[1].replace(e,"<br/>")+s[2].join("")):""}return function(s){return s.map(r).join("")}})(),Nhe=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,Ihe=/<(?:\w+:)?r>/,khe=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function tS(t,e){var n=e?e.cellHTML:!0,r={};return t?(t.match(/^\s*<(?:\w+:)?t[^>]*>/)?(r.t=vr(ni(t.slice(t.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),r.r=ni(t),n&&(r.h=GE(r.t))):t.match(Ihe)&&(r.r=ni(t),r.t=vr(ni((t.replace(khe,"").match(Nhe)||[]).join("").replace(ka,""))),n&&(r.h=Che(Ahe(r.r)))),r):{t:""}}var Rhe=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,Phe=/<(?:\w+:)?(?:si|sstItem)>/g,Dhe=/<\/(?:\w+:)?(?:si|sstItem)>/;function Mhe(t,e){var n=[],r="";if(!t)return n;var i=t.match(Rhe);if(i){r=i[2].replace(Phe,"").split(Dhe);for(var s=0;s!=r.length;++s){var a=tS(r[s].trim(),e);a!=null&&(n[n.length]=a)}i=kn(i[1]),n.Count=i.count,n.Unique=i.uniqueCount}return n}function Lhe(t){return[t.read_shift(4),t.read_shift(4)]}function Fhe(t,e){var n=[],r=!1;return Uu(t,function(s,a,o){switch(o){case 159:n.Count=s[0],n.Unique=s[1];break;case 19:n.push(s);break;case 160:return!0;case 35:r=!0;break;case 36:r=!1;break;default:if(a.T,!r||e.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}}),n}function OO(t){for(var e=[],n=t.split(""),r=0;r<n.length;++r)e[r]=n[r].charCodeAt(0);return e}function Su(t,e){var n={};return n.Major=t.read_shift(2),n.Minor=t.read_shift(2),e>=4&&(t.l+=e-4),n}function Ohe(t){var e={};return e.id=t.read_shift(0,"lpp4"),e.R=Su(t,4),e.U=Su(t,4),e.W=Su(t,4),e}function Vhe(t){for(var e=t.read_shift(4),n=t.l+e-4,r={},i=t.read_shift(4),s=[];i-- >0;)s.push({t:t.read_shift(4),v:t.read_shift(0,"lpp4")});if(r.name=t.read_shift(0,"lpp4"),r.comps=s,t.l!=n)throw new Error("Bad DataSpaceMapEntry: "+t.l+" != "+n);return r}function Uhe(t){var e=[];t.l+=4;for(var n=t.read_shift(4);n-- >0;)e.push(Vhe(t));return e}function Bhe(t){var e=[];t.l+=4;for(var n=t.read_shift(4);n-- >0;)e.push(t.read_shift(0,"lpp4"));return e}function jhe(t){var e={};return t.read_shift(4),t.l+=4,e.id=t.read_shift(0,"lpp4"),e.name=t.read_shift(0,"lpp4"),e.R=Su(t,4),e.U=Su(t,4),e.W=Su(t,4),e}function qhe(t){var e=jhe(t);if(e.ename=t.read_shift(0,"8lpp4"),e.blksz=t.read_shift(4),e.cmode=t.read_shift(4),t.read_shift(4)!=4)throw new Error("Bad !Primary record");return e}function VO(t,e){var n=t.l+e,r={};r.Flags=t.read_shift(4)&63,t.l+=4,r.AlgID=t.read_shift(4);var i=!1;switch(r.AlgID){case 26126:case 26127:case 26128:i=r.Flags==36;break;case 26625:i=r.Flags==4;break;case 0:i=r.Flags==16||r.Flags==4||r.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+r.AlgID}if(!i)throw new Error("Encryption Flags/AlgID mismatch");return r.AlgIDHash=t.read_shift(4),r.KeySize=t.read_shift(4),r.ProviderType=t.read_shift(4),t.l+=8,r.CSPName=t.read_shift(n-t.l>>1,"utf16le"),t.l=n,r}function UO(t,e){var n={},r=t.l+e;return t.l+=4,n.Salt=t.slice(t.l,t.l+16),t.l+=16,n.Verifier=t.slice(t.l,t.l+16),t.l+=16,t.read_shift(4),n.VerifierHash=t.slice(t.l,r),t.l=r,n}function Hhe(t){var e=Su(t);switch(e.Minor){case 2:return[e.Minor,zhe(t)];case 3:return[e.Minor,Ghe()];case 4:return[e.Minor,$he(t)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+e.Minor)}function zhe(t){var e=t.read_shift(4);if((e&63)!=36)throw new Error("EncryptionInfo mismatch");var n=t.read_shift(4),r=VO(t,n),i=UO(t,t.length-t.l);return{t:"Std",h:r,v:i}}function Ghe(){throw new Error("File is password-protected: ECMA-376 Extensible")}function $he(t){var e=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];t.l+=4;var n=t.read_shift(t.length-t.l,"utf8"),r={};return n.replace(ka,function(s){var a=kn(s);switch(qc(a[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":e.forEach(function(o){r[o]=a[o]});break;case"<dataIntegrity":r.encryptedHmacKey=a.encryptedHmacKey,r.encryptedHmacValue=a.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":r.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":r.uri=a.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":r.encs.push(a);break;default:throw a[0]}}),r}function Whe(t,e){var n={},r=n.EncryptionVersionInfo=Su(t,4);if(e-=4,r.Minor!=2)throw new Error("unrecognized minor version code: "+r.Minor);if(r.Major>4||r.Major<2)throw new Error("unrecognized major version code: "+r.Major);n.Flags=t.read_shift(4),e-=4;var i=t.read_shift(4);return e-=4,n.EncryptionHeader=VO(t,i),e-=i,n.EncryptionVerifier=UO(t,e),n}function Khe(t){var e={},n=e.EncryptionVersionInfo=Su(t,4);if(n.Major!=1||n.Minor!=1)throw"unrecognized version code "+n.Major+" : "+n.Minor;return e.Salt=t.read_shift(16),e.EncryptedVerifier=t.read_shift(16),e.EncryptedVerifierHash=t.read_shift(16),e}function Yhe(t){var e=0,n,r=OO(t),i=r.length+1,s,a,o,c,f;for(n=Xf(i),n[0]=r.length,s=1;s!=i;++s)n[s]=r[s-1];for(s=i-1;s>=0;--s)a=n[s],o=(e&16384)===0?0:1,c=e<<1&32767,f=o|c,e=f^a;return e^52811}var BO=(function(){var t=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],e=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],n=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],r=function(a){return(a/2|a*128)&255},i=function(a,o){return r(a^o)},s=function(a){for(var o=e[a.length-1],c=104,f=a.length-1;f>=0;--f)for(var h=a[f],p=0;p!=7;++p)h&64&&(o^=n[c]),h*=2,--c;return o};return function(a){for(var o=OO(a),c=s(o),f=o.length,h=Xf(16),p=0;p!=16;++p)h[p]=0;var g,x,T;for((f&1)===1&&(g=c>>8,h[f]=i(t[0],g),--f,g=c&255,x=o[o.length-1],h[f]=i(x,g));f>0;)--f,g=c>>8,h[f]=i(o[f],g),--f,g=c&255,h[f]=i(o[f],g);for(f=15,T=15-o.length;T>0;)g=c>>8,h[f]=i(t[T],g),--f,--T,g=c&255,h[f]=i(o[f],g),--f,--T;return h}})(),Xhe=function(t,e,n,r,i){i||(i=e),r||(r=BO(t));var s,a;for(s=0;s!=e.length;++s)a=e[s],a^=r[n],a=(a>>5|a<<3)&255,i[s]=a,++n;return[i,n,r]},Jhe=function(t){var e=0,n=BO(t);return function(r){var i=Xhe("",r,e,n);return e=i[1],i[0]}};function Qhe(t,e,n,r){var i={key:as(t),verificationBytes:as(t)};return n.password&&(i.verifier=Yhe(n.password)),r.valid=i.verificationBytes===i.verifier,r.valid&&(r.insitu=Jhe(n.password)),i}function Zhe(t,e,n){var r=n||{};return r.Info=t.read_shift(2),t.l-=2,r.Info===1?r.Data=Khe(t):r.Data=Whe(t,e),r}function ede(t,e,n){var r={Type:n.biff>=8?t.read_shift(2):0};return r.Type?Zhe(t,e-2,r):Qhe(t,n.biff>=8?e:e-2,n,r),r}var tde=(function(){function t(i,s){switch(s.type){case"base64":return e(jo(i),s);case"binary":return e(i,s);case"buffer":return e(or&&Buffer.isBuffer(i)?i.toString("binary"):bd(i),s);case"array":return e(ud(i),s)}throw new Error("Unrecognized type "+s.type)}function e(i,s){var a=s||{},o=a.dense?[]:{},c=i.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var f={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(h,p){Array.isArray(o)&&(o[p]=[]);for(var g=/\\\w+\b/g,x=0,T,S=-1;T=g.exec(h);){switch(T[0]){case"\\cell":var N=h.slice(x,g.lastIndex-T[0].length);if(N[0]==" "&&(N=N.slice(1)),++S,N.length){var k={v:N,t:"s"};Array.isArray(o)?o[p][S]=k:o[Vn({r:p,c:S})]=k}break}x=g.lastIndex}S>f.e.c&&(f.e.c=S)}),o["!ref"]=mr(f),o}function n(i,s){return ih(t(i,s),s)}function r(i){for(var s=["{\\rtf1\\ansi"],a=Bi(i["!ref"]),o,c=Array.isArray(i),f=a.s.r;f<=a.e.r;++f){s.push("\\trowd\\trautofit1");for(var h=a.s.c;h<=a.e.c;++h)s.push("\\cellx"+(h+1));for(s.push("\\pard\\intbl"),h=a.s.c;h<=a.e.c;++h){var p=Vn({r:f,c:h});o=c?(i[f]||[])[h]:i[p],!(!o||o.v==null&&(!o.f||o.F))&&(s.push(" "+(o.w||(Du(o),o.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:n,to_sheet:t,from_sheet:r}})();function nde(t){var e=t.slice(t[0]==="#"?1:0).slice(0,6);return[parseInt(e.slice(0,2),16),parseInt(e.slice(2,4),16),parseInt(e.slice(4,6),16)]}function $g(t){for(var e=0,n=1;e!=3;++e)n=n*256+(t[e]>255?255:t[e]<0?0:t[e]);return n.toString(16).toUpperCase().slice(1)}function rde(t){var e=t[0]/255,n=t[1]/255,r=t[2]/255,i=Math.max(e,n,r),s=Math.min(e,n,r),a=i-s;if(a===0)return[0,0,e];var o=0,c=0,f=i+s;switch(c=a/(f>1?2-f:f),i){case e:o=((n-r)/a+6)%6;break;case n:o=(r-e)/a+2;break;case r:o=(e-n)/a+4;break}return[o/6,c,f/2]}function ide(t){var e=t[0],n=t[1],r=t[2],i=n*2*(r<.5?r:1-r),s=r-i/2,a=[s,s,s],o=6*e,c;if(n!==0)switch(o|0){case 0:case 6:c=i*o,a[0]+=i,a[1]+=c;break;case 1:c=i*(2-o),a[0]+=c,a[1]+=i;break;case 2:c=i*(o-2),a[1]+=i,a[2]+=c;break;case 3:c=i*(4-o),a[1]+=c,a[2]+=i;break;case 4:c=i*(o-4),a[2]+=i,a[0]+=c;break;case 5:c=i*(6-o),a[2]+=c,a[0]+=i;break}for(var f=0;f!=3;++f)a[f]=Math.round(a[f]*255);return a}function bv(t,e){if(e===0)return t;var n=rde(nde(t));return e<0?n[2]=n[2]*(1+e):n[2]=1-(1-n[2])*(1-e),$g(ide(n))}var jO=6,sde=15,ade=1,ja=jO;function Tv(t){return Math.floor((t+Math.round(128/ja)/256)*ja)}function Ev(t){return Math.floor((t-5)/ja*100+.5)/100}function I5(t){return Math.round((t*ja+5)/ja*256)/256}function qw(t){return I5(Ev(Tv(t)))}function nS(t){var e=Math.abs(t-qw(t)),n=ja;if(e>.005)for(ja=ade;ja<sde;++ja)Math.abs(t-qw(t))<=e&&(e=Math.abs(t-qw(t)),n=ja);ja=n}function wp(t){t.width?(t.wpx=Tv(t.width),t.wch=Ev(t.wpx),t.MDW=ja):t.wpx?(t.wch=Ev(t.wpx),t.width=I5(t.wch),t.MDW=ja):typeof t.wch=="number"&&(t.width=I5(t.wch),t.wpx=Tv(t.width),t.MDW=ja),t.customWidth&&delete t.customWidth}var ode=96,qO=ode;function HO(t){return t*96/qO}function Wg(t){return t*qO/96}var lde={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function cde(t,e,n,r){e.Borders=[];var i={},s=!1;(t[0].match(ka)||[]).forEach(function(a){var o=kn(a);switch(qc(o[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":i={},o.diagonalUp&&(i.diagonalUp=yi(o.diagonalUp)),o.diagonalDown&&(i.diagonalDown=yi(o.diagonalDown)),e.Borders.push(i);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+o[0]+" in borders")}})}function ude(t,e,n,r){e.Fills=[];var i={},s=!1;(t[0].match(ka)||[]).forEach(function(a){var o=kn(a);switch(qc(o[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":i={},e.Fills.push(i);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":e.Fills.push(i),i={};break;case"<patternFill":case"<patternFill>":o.patternType&&(i.patternType=o.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":i.bgColor||(i.bgColor={}),o.indexed&&(i.bgColor.indexed=parseInt(o.indexed,10)),o.theme&&(i.bgColor.theme=parseInt(o.theme,10)),o.tint&&(i.bgColor.tint=parseFloat(o.tint)),o.rgb&&(i.bgColor.rgb=o.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":i.fgColor||(i.fgColor={}),o.theme&&(i.fgColor.theme=parseInt(o.theme,10)),o.tint&&(i.fgColor.tint=parseFloat(o.tint)),o.rgb!=null&&(i.fgColor.rgb=o.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+o[0]+" in fills")}})}function fde(t,e,n,r){e.Fonts=[];var i={},s=!1;(t[0].match(ka)||[]).forEach(function(a){var o=kn(a);switch(qc(o[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":e.Fonts.push(i),i={};break;case"<name":o.val&&(i.name=ni(o.val));break;case"<name/>":case"</name>":break;case"<b":i.bold=o.val?yi(o.val):1;break;case"<b/>":i.bold=1;break;case"<i":i.italic=o.val?yi(o.val):1;break;case"<i/>":i.italic=1;break;case"<u":switch(o.val){case"none":i.underline=0;break;case"single":i.underline=1;break;case"double":i.underline=2;break;case"singleAccounting":i.underline=33;break;case"doubleAccounting":i.underline=34;break}break;case"<u/>":i.underline=1;break;case"<strike":i.strike=o.val?yi(o.val):1;break;case"<strike/>":i.strike=1;break;case"<outline":i.outline=o.val?yi(o.val):1;break;case"<outline/>":i.outline=1;break;case"<shadow":i.shadow=o.val?yi(o.val):1;break;case"<shadow/>":i.shadow=1;break;case"<condense":i.condense=o.val?yi(o.val):1;break;case"<condense/>":i.condense=1;break;case"<extend":i.extend=o.val?yi(o.val):1;break;case"<extend/>":i.extend=1;break;case"<sz":o.val&&(i.sz=+o.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":o.val&&(i.vertAlign=o.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":o.val&&(i.family=parseInt(o.val,10));break;case"<family/>":case"</family>":break;case"<scheme":o.val&&(i.scheme=o.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(o.val=="1")break;o.codepage=VE[parseInt(o.val,10)];break;case"<color":if(i.color||(i.color={}),o.auto&&(i.color.auto=yi(o.auto)),o.rgb)i.color.rgb=o.rgb.slice(-6);else if(o.indexed){i.color.index=parseInt(o.indexed,10);var c=Kh[i.color.index];i.color.index==81&&(c=Kh[1]),c||(c=Kh[1]),i.color.rgb=c[0].toString(16)+c[1].toString(16)+c[2].toString(16)}else o.theme&&(i.color.theme=parseInt(o.theme,10),o.tint&&(i.color.tint=parseFloat(o.tint)),o.theme&&n.themeElements&&n.themeElements.clrScheme&&(i.color.rgb=bv(n.themeElements.clrScheme[i.color.theme].rgb,i.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":s=!0;break;case"</AlternateContent>":s=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+o[0]+" in fonts")}})}function hde(t,e,n){e.NumberFmt=[];for(var r=Bc(jn),i=0;i<r.length;++i)e.NumberFmt[r[i]]=jn[r[i]];var s=t[0].match(ka);if(s)for(i=0;i<s.length;++i){var a=kn(s[i]);switch(qc(a[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var o=vr(ni(a.formatCode)),c=parseInt(a.numFmtId,10);if(e.NumberFmt[c]=o,c>0){if(c>392){for(c=392;c>60&&e.NumberFmt[c]!=null;--c);e.NumberFmt[c]=o}Wh(o,c)}}break;case"</numFmt>":break;default:if(n.WTF)throw new Error("unrecognized "+a[0]+" in numFmts")}}}var $x=["numFmtId","fillId","fontId","borderId","xfId"],Wx=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function dde(t,e,n){e.CellXf=[];var r,i=!1;(t[0].match(ka)||[]).forEach(function(s){var a=kn(s),o=0;switch(qc(a[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(r=a,delete r[0],o=0;o<$x.length;++o)r[$x[o]]&&(r[$x[o]]=parseInt(r[$x[o]],10));for(o=0;o<Wx.length;++o)r[Wx[o]]&&(r[Wx[o]]=yi(r[Wx[o]]));if(e.NumberFmt&&r.numFmtId>392){for(o=392;o>60;--o)if(e.NumberFmt[r.numFmtId]==e.NumberFmt[o]){r.numFmtId=o;break}}e.CellXf.push(r);break;case"</xf>":break;case"<alignment":case"<alignment/>":var c={};a.vertical&&(c.vertical=a.vertical),a.horizontal&&(c.horizontal=a.horizontal),a.textRotation!=null&&(c.textRotation=a.textRotation),a.indent&&(c.indent=a.indent),a.wrapText&&(c.wrapText=yi(a.wrapText)),r.alignment=c;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+a[0]+" in cellXfs")}})}var pde=(function(){var e=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,n=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,r=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,i=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,s=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(o,c,f){var h={};if(!o)return h;o=o.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var p;return(p=o.match(e))&&hde(p,h,f),(p=o.match(i))&&fde(p,h,c,f),(p=o.match(r))&&ude(p,h,c,f),(p=o.match(s))&&cde(p,h,c,f),(p=o.match(n))&&dde(p,h,f),h}})();function mde(t,e){var n=t.read_shift(2),r=Na(t);return[n,r]}function gde(t,e,n){var r={};r.sz=t.read_shift(2)/20;var i=Aue(t);i.fItalic&&(r.italic=1),i.fCondense&&(r.condense=1),i.fExtend&&(r.extend=1),i.fShadow&&(r.shadow=1),i.fOutline&&(r.outline=1),i.fStrikeout&&(r.strike=1);var s=t.read_shift(2);switch(s===700&&(r.bold=1),t.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript";break}var a=t.read_shift(1);a!=0&&(r.underline=a);var o=t.read_shift(1);o>0&&(r.family=o);var c=t.read_shift(1);switch(c>0&&(r.charset=c),t.l++,r.color=Sue(t),t.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor";break}return r.name=Na(t),r}var xde=Ia;function yde(t,e){var n=t.l+e,r=t.read_shift(2),i=t.read_shift(2);return t.l=n,{ixfe:r,numFmtId:i}}var vde=Ia;function _de(t,e,n){var r={};r.NumberFmt=[];for(var i in jn)r.NumberFmt[i]=jn[i];r.CellXf=[],r.Fonts=[];var s=[],a=!1;return Uu(t,function(c,f,h){switch(h){case 44:r.NumberFmt[c[0]]=c[1],Wh(c[1],c[0]);break;case 43:r.Fonts.push(c),c.color.theme!=null&&e&&e.themeElements&&e.themeElements.clrScheme&&(c.color.rgb=bv(e.themeElements.clrScheme[c.color.theme].rgb,c.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:s[s.length-1]==617&&r.CellXf.push(c);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:a=!0;break;case 36:a=!1;break;case 37:s.push(h),a=!0;break;case 38:s.pop(),a=!1;break;default:if(f.T>0)s.push(h);else if(f.T<0)s.pop();else if(!a||n.WTF&&s[s.length-1]!=37)throw new Error("Unexpected record 0x"+h.toString(16))}}),r}var wde=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function bde(t,e,n){e.themeElements.clrScheme=[];var r={};(t[0].match(ka)||[]).forEach(function(i){var s=kn(i);switch(s[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":r.rgb=s.val;break;case"<a:sysClr":r.rgb=s.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":s[0].charAt(1)==="/"?(e.themeElements.clrScheme[wde.indexOf(s[0])]=r,r={}):r.name=s[0].slice(3,s[0].length-1);break;default:if(n&&n.WTF)throw new Error("Unrecognized "+s[0]+" in clrScheme")}})}function Tde(){}function Ede(){}var Sde=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,Ade=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,Cde=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function Nde(t,e,n){e.themeElements={};var r;[["clrScheme",Sde,bde],["fontScheme",Ade,Tde],["fmtScheme",Cde,Ede]].forEach(function(i){if(!(r=t.match(i[1])))throw new Error(i[0]+" not found in themeElements");i[2](r,e,n)})}var Ide=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function zO(t,e){(!t||t.length===0)&&(t=kde());var n,r={};if(!(n=t.match(Ide)))throw new Error("themeElements not found in theme");return Nde(n[0],r,e),r.raw=t,r}function kde(t,e){var n=[tO];return n[n.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',n[n.length]="<a:themeElements>",n[n.length]='<a:clrScheme name="Office">',n[n.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',n[n.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',n[n.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',n[n.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',n[n.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',n[n.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',n[n.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',n[n.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',n[n.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',n[n.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',n[n.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',n[n.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',n[n.length]="</a:clrScheme>",n[n.length]='<a:fontScheme name="Office">',n[n.length]="<a:majorFont>",n[n.length]='<a:latin typeface="Cambria"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Times New Roman"/>',n[n.length]='<a:font script="Hebr" typeface="Times New Roman"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="MoolBoran"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Times New Roman"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:majorFont>",n[n.length]="<a:minorFont>",n[n.length]='<a:latin typeface="Calibri"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Arial"/>',n[n.length]='<a:font script="Hebr" typeface="Arial"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="DaunPenh"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Arial"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:minorFont>",n[n.length]="</a:fontScheme>",n[n.length]='<a:fmtScheme name="Office">',n[n.length]="<a:fillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="1"/>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="0"/>',n[n.length]="</a:gradFill>",n[n.length]="</a:fillStyleLst>",n[n.length]="<a:lnStyleLst>",n[n.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]="</a:lnStyleLst>",n[n.length]="<a:effectStyleLst>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',n[n.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',n[n.length]="</a:effectStyle>",n[n.length]="</a:effectStyleLst>",n[n.length]="<a:bgFillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]="</a:bgFillStyleLst>",n[n.length]="</a:fmtScheme>",n[n.length]="</a:themeElements>",n[n.length]="<a:objectDefaults>",n[n.length]="<a:spDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',n[n.length]="</a:spDef>",n[n.length]="<a:lnDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',n[n.length]="</a:lnDef>",n[n.length]="</a:objectDefaults>",n[n.length]="<a:extraClrSchemeLst/>",n[n.length]="</a:theme>",n.join("")}function Rde(t,e,n){var r=t.l+e,i=t.read_shift(4);if(i!==124226){if(!n.cellStyles){t.l=r;return}var s=t.slice(t.l);t.l=r;var a;try{a=eO(s,{type:"array"})}catch{return}var o=Oo(a,"theme/theme/theme1.xml",!0);if(o)return zO(o,n)}}function Pde(t){return t.read_shift(4)}function Dde(t){var e={};switch(e.xclrType=t.read_shift(2),e.nTintShade=t.read_shift(2),e.xclrType){case 0:t.l+=4;break;case 1:e.xclrValue=Mde(t,4);break;case 2:e.xclrValue=kO(t);break;case 3:e.xclrValue=Pde(t);break;case 4:t.l+=4;break}return t.l+=8,e}function Mde(t,e){return Ia(t,e)}function Lde(t,e){return Ia(t,e)}function Fde(t){var e=t.read_shift(2),n=t.read_shift(2)-4,r=[e];switch(e){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:r[1]=Dde(t);break;case 6:r[1]=Lde(t,n);break;case 14:case 15:r[1]=t.read_shift(n===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+e+" "+n)}return r}function Ode(t,e){var n=t.l+e;t.l+=2;var r=t.read_shift(2);t.l+=2;for(var i=t.read_shift(2),s=[];i-- >0;)s.push(Fde(t,n-t.l));return{ixfe:r,ext:s}}function Vde(t,e){e.forEach(function(n){n[0]})}function Ude(t,e){return{flags:t.read_shift(4),version:t.read_shift(4),name:Na(t)}}function Bde(t){for(var e=[],n=t.read_shift(4);n-- >0;)e.push([t.read_shift(4),t.read_shift(4)]);return e}function jde(t){return t.l+=4,t.read_shift(4)!=0}function qde(t,e,n){var r={Types:[],Cell:[],Value:[]},i=n||{},s=[],a=!1,o=2;return Uu(t,function(c,f,h){switch(h){case 335:r.Types.push({name:c.name});break;case 51:c.forEach(function(p){o==1?r.Cell.push({type:r.Types[p[0]-1].name,index:p[1]}):o==0&&r.Value.push({type:r.Types[p[0]-1].name,index:p[1]})});break;case 337:o=c?1:0;break;case 338:o=2;break;case 35:s.push(h),a=!0;break;case 36:s.pop(),a=!1;break;default:if(!f.T){if(!a||i.WTF&&s[s.length-1]!=35)throw new Error("Unexpected record 0x"+h.toString(16))}}}),r}function Hde(t,e,n){var r={Types:[],Cell:[],Value:[]};if(!t)return r;var i=!1,s=2,a;return t.replace(ka,function(o){var c=kn(o);switch(qc(c[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":r.Types.push({name:c.name});break;case"</metadataType>":break;case"<futureMetadata":for(var f=0;f<r.Types.length;++f)r.Types[f].name==c.name&&(a=r.Types[f]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":s==1?r.Cell.push({type:r.Types[c.t-1].name,index:+c.v}):s==0&&r.Value.push({type:r.Types[c.t-1].name,index:+c.v});break;case"</rc>":break;case"<cellMetadata":s=1;break;case"</cellMetadata>":s=2;break;case"<valueMetadata":s=0;break;case"</valueMetadata>":s=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;case"<rvb":if(!a)break;a.offsets||(a.offsets=[]),a.offsets.push(+c.i);break;default:if(!i&&n.WTF)throw new Error("unrecognized "+c[0]+" in metadata")}return o}),r}function zde(t){var e=[];if(!t)return e;var n=1;return(t.match(ka)||[]).forEach(function(r){var i=kn(r);switch(i[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete i[0],i.i?n=i.i:i.i=n,e.push(i);break}}),e}function Gde(t){var e={};e.i=t.read_shift(4);var n={};n.r=t.read_shift(4),n.c=t.read_shift(4),e.r=Vn(n);var r=t.read_shift(1);return r&2&&(e.l="1"),r&8&&(e.a="1"),e}function $de(t,e,n){var r=[];return Uu(t,function(s,a,o){switch(o){case 63:r.push(s);break;default:if(!a.T)throw new Error("Unexpected record 0x"+o.toString(16))}}),r}function Wde(t,e,n,r){if(!t)return t;var i=r||{},s=!1;Uu(t,function(o,c,f){switch(f){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:s=!0;break;case 36:s=!1;break;default:if(!c.T){if(!s||i.WTF)throw new Error("Unexpected record 0x"+f.toString(16))}}},i)}function Kde(t,e){if(!t)return"??";var n=(t.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return e["!id"][n].Target}function OR(t,e,n,r){var i=Array.isArray(t),s;e.forEach(function(a){var o=za(a.ref);if(i?(t[o.r]||(t[o.r]=[]),s=t[o.r][o.c]):s=t[a.ref],!s){s={t:"z"},i?t[o.r][o.c]=s:t[a.ref]=s;var c=Bi(t["!ref"]||"BDWGO1000001:A1");c.s.r>o.r&&(c.s.r=o.r),c.e.r<o.r&&(c.e.r=o.r),c.s.c>o.c&&(c.s.c=o.c),c.e.c<o.c&&(c.e.c=o.c);var f=mr(c);f!==t["!ref"]&&(t["!ref"]=f)}s.c||(s.c=[]);var h={a:a.author,t:a.t,r:a.r,T:n};a.h&&(h.h=a.h);for(var p=s.c.length-1;p>=0;--p){if(!n&&s.c[p].T)return;n&&!s.c[p].T&&s.c.splice(p,1)}if(n&&r){for(p=0;p<r.length;++p)if(h.a==r[p].id){h.a=r[p].name||h.a;break}}s.c.push(h)})}function Yde(t,e){if(t.match(/<(?:\w+:)?comments *\/>/))return[];var n=[],r=[],i=t.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);i&&i[1]&&i[1].split(/<\/\w*:?author>/).forEach(function(a){if(!(a===""||a.trim()==="")){var o=a.match(/<(?:\w+:)?author[^>]*>(.*)/);o&&n.push(o[1])}});var s=t.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return s&&s[1]&&s[1].split(/<\/\w*:?comment>/).forEach(function(a){if(!(a===""||a.trim()==="")){var o=a.match(/<(?:\w+:)?comment[^>]*>/);if(o){var c=kn(o[0]),f={author:c.authorId&&n[c.authorId]||"sheetjsghost",ref:c.ref,guid:c.guid},h=za(c.ref);if(!(e.sheetRows&&e.sheetRows<=h.r)){var p=a.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),g=!!p&&!!p[1]&&tS(p[1])||{r:"",t:"",h:""};f.r=g.r,g.r=="<t></t>"&&(g.t=g.h=""),f.t=(g.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.cellHTML&&(f.h=g.h),r.push(f)}}}}),r}function Xde(t,e){var n=[],r=!1,i={},s=0;return t.replace(ka,function(o,c){var f=kn(o);switch(qc(f[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":i={author:f.personId,guid:f.id,ref:f.ref,T:1};break;case"</threadedComment>":i.t!=null&&n.push(i);break;case"<text>":case"<text":s=c+o.length;break;case"</text>":i.t=t.slice(s,c).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":r=!0;break;case"</mentions>":r=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(!r&&e.WTF)throw new Error("unrecognized "+f[0]+" in threaded comments")}return o}),n}function Jde(t,e){var n=[],r=!1;return t.replace(ka,function(s){var a=kn(s);switch(qc(a[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":n.push({name:a.displayname,id:a.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(!r&&e.WTF)throw new Error("unrecognized "+a[0]+" in threaded comments")}return s}),n}function Qde(t){var e={};e.iauthor=t.read_shift(4);var n=Ed(t);return e.rfx=n.s,e.ref=Vn(n.s),t.l+=16,e}var Zde=Na;function e0e(t,e){var n=[],r=[],i={},s=!1;return Uu(t,function(o,c,f){switch(f){case 632:r.push(o);break;case 635:i=o;break;case 637:i.t=o.t,i.h=o.h,i.r=o.r;break;case 636:if(i.author=r[i.iauthor],delete i.iauthor,e.sheetRows&&i.rfx&&e.sheetRows<=i.rfx.r)break;i.t||(i.t=""),delete i.rfx,n.push(i);break;case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!c.T){if(!s||e.WTF)throw new Error("Unexpected record 0x"+f.toString(16))}}}),n}var t0e="application/vnd.ms-office.vbaProject";function n0e(t){var e=pr.utils.cfb_new({root:"R"});return t.FullPaths.forEach(function(n,r){if(!(n.slice(-1)==="/"||!n.match(/_VBA_PROJECT_CUR/))){var i=n.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");pr.utils.cfb_add(e,i,t.FileIndex[r].content)}}),pr.write(e)}function r0e(){return{"!type":"dialog"}}function i0e(){return{"!type":"dialog"}}function s0e(){return{"!type":"macro"}}function a0e(){return{"!type":"macro"}}var Z0=(function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function n(r,i,s,a){var o=!1,c=!1;s.length==0?c=!0:s.charAt(0)=="["&&(c=!0,s=s.slice(1,-1)),a.length==0?o=!0:a.charAt(0)=="["&&(o=!0,a=a.slice(1,-1));var f=s.length>0?parseInt(s,10)|0:0,h=a.length>0?parseInt(a,10)|0:0;return o?h+=e.c:--h,c?f+=e.r:--f,i+(o?"":"$")+Es(h)+(c?"":"$")+oa(f)}return function(i,s){return e=s,i.replace(t,n)}})(),GO=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,o0e=(function(){return function(e,n){return e.replace(GO,function(r,i,s,a,o,c){var f=YE(a)-(s?0:n.c),h=KE(c)-(o?0:n.r),p=h==0?"":o?h+1:"["+h+"]",g=f==0?"":s?f+1:"["+f+"]";return i+"R"+p+"C"+g})}})();function $O(t,e){return t.replace(GO,function(n,r,i,s,a,o){return r+(i=="$"?i+s:Es(YE(s)+e.c))+(a=="$"?a+o:oa(KE(o)+e.r))})}function l0e(t,e,n){var r=Vp(e),i=r.s,s=za(n),a={r:s.r-i.r,c:s.c-i.c};return $O(t,a)}function c0e(t){return t.length!=1}function VR(t){return t.replace(/_xlfn\./g,"")}function rs(t){t.l+=1}function Jf(t,e){var n=t.read_shift(2);return[n&16383,n>>14&1,n>>15&1]}function WO(t,e,n){var r=2;if(n){if(n.biff>=2&&n.biff<=5)return KO(t);n.biff==12&&(r=4)}var i=t.read_shift(r),s=t.read_shift(r),a=Jf(t),o=Jf(t);return{s:{r:i,c:a[0],cRel:a[1],rRel:a[2]},e:{r:s,c:o[0],cRel:o[1],rRel:o[2]}}}function KO(t){var e=Jf(t),n=Jf(t),r=t.read_shift(1),i=t.read_shift(1);return{s:{r:e[0],c:r,cRel:e[1],rRel:e[2]},e:{r:n[0],c:i,cRel:n[1],rRel:n[2]}}}function u0e(t,e,n){if(n.biff<8)return KO(t);var r=t.read_shift(n.biff==12?4:2),i=t.read_shift(n.biff==12?4:2),s=Jf(t),a=Jf(t);return{s:{r,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:a[0],cRel:a[1],rRel:a[2]}}}function YO(t,e,n){if(n&&n.biff>=2&&n.biff<=5)return f0e(t);var r=t.read_shift(n&&n.biff==12?4:2),i=Jf(t);return{r,c:i[0],cRel:i[1],rRel:i[2]}}function f0e(t){var e=Jf(t),n=t.read_shift(1);return{r:e[0],c:n,cRel:e[1],rRel:e[2]}}function h0e(t){var e=t.read_shift(2),n=t.read_shift(2);return{r:e,c:n&255,fQuoted:!!(n&16384),cRel:n>>15,rRel:n>>15}}function d0e(t,e,n){var r=n&&n.biff?n.biff:8;if(r>=2&&r<=5)return p0e(t);var i=t.read_shift(r>=12?4:2),s=t.read_shift(2),a=(s&16384)>>14,o=(s&32768)>>15;if(s&=16383,o==1)for(;i>524287;)i-=1048576;if(a==1)for(;s>8191;)s=s-16384;return{r:i,c:s,cRel:a,rRel:o}}function p0e(t){var e=t.read_shift(2),n=t.read_shift(1),r=(e&32768)>>15,i=(e&16384)>>14;return e&=16383,r==1&&e>=8192&&(e=e-16384),i==1&&n>=128&&(n=n-256),{r:e,c:n,cRel:i,rRel:r}}function m0e(t,e,n){var r=(t[t.l++]&96)>>5,i=WO(t,n.biff>=2&&n.biff<=5?6:8,n);return[r,i]}function g0e(t,e,n){var r=(t[t.l++]&96)>>5,i=t.read_shift(2,"i"),s=8;if(n)switch(n.biff){case 5:t.l+=12,s=6;break;case 12:s=12;break}var a=WO(t,s,n);return[r,i,a]}function x0e(t,e,n){var r=(t[t.l++]&96)>>5;return t.l+=n&&n.biff>8?12:n.biff<8?6:8,[r]}function y0e(t,e,n){var r=(t[t.l++]&96)>>5,i=t.read_shift(2),s=8;if(n)switch(n.biff){case 5:t.l+=12,s=6;break;case 12:s=12;break}return t.l+=s,[r,i]}function v0e(t,e,n){var r=(t[t.l++]&96)>>5,i=u0e(t,e-1,n);return[r,i]}function _0e(t,e,n){var r=(t[t.l++]&96)>>5;return t.l+=n.biff==2?6:n.biff==12?14:7,[r]}function UR(t){var e=t[t.l+1]&1,n=1;return t.l+=4,[e,n]}function w0e(t,e,n){t.l+=2;for(var r=t.read_shift(n&&n.biff==2?1:2),i=[],s=0;s<=r;++s)i.push(t.read_shift(n&&n.biff==2?1:2));return i}function b0e(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=2,[r,t.read_shift(n&&n.biff==2?1:2)]}function T0e(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=2,[r,t.read_shift(n&&n.biff==2?1:2)]}function E0e(t){var e=t[t.l+1]&255?1:0;return t.l+=2,[e,t.read_shift(2)]}function S0e(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=n&&n.biff==2?3:4,[r]}function XO(t){var e=t.read_shift(1),n=t.read_shift(1);return[e,n]}function A0e(t){return t.read_shift(2),XO(t)}function C0e(t){return t.read_shift(2),XO(t)}function N0e(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=YO(t,0,n);return[r,i]}function I0e(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=d0e(t,0,n);return[r,i]}function k0e(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(2);n&&n.biff==5&&(t.l+=12);var s=YO(t,0,n);return[r,i,s]}function R0e(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(n&&n.biff<=3?1:2);return[Ppe[i],ZO[i],r]}function P0e(t,e,n){var r=t[t.l++],i=t.read_shift(1),s=n&&n.biff<=3?[r==88?-1:0,t.read_shift(1)]:D0e(t);return[i,(s[0]===0?ZO:Rpe)[s[1]]]}function D0e(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function M0e(t,e,n){t.l+=n&&n.biff==2?3:4}function L0e(t,e,n){if(t.l++,n&&n.biff==12)return[t.read_shift(4,"i"),0];var r=t.read_shift(2),i=t.read_shift(n&&n.biff==2?1:2);return[r,i]}function F0e(t){return t.l++,Sd[t.read_shift(1)]}function O0e(t){return t.l++,t.read_shift(2)}function V0e(t){return t.l++,t.read_shift(1)!==0}function U0e(t){return t.l++,Ta(t)}function B0e(t,e,n){return t.l++,v1(t,e-1,n)}function j0e(t,e){var n=[t.read_shift(1)];if(e==12)switch(n[0]){case 2:n[0]=4;break;case 4:n[0]=16;break;case 0:n[0]=1;break;case 1:n[0]=2;break}switch(n[0]){case 4:n[1]=$i(t,1)?"TRUE":"FALSE",e!=12&&(t.l+=7);break;case 37:case 16:n[1]=Sd[t[t.l]],t.l+=e==12?4:8;break;case 0:t.l+=8;break;case 1:n[1]=Ta(t);break;case 2:n[1]=Ad(t,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+n[0])}return n}function q0e(t,e,n){for(var r=t.read_shift(n.biff==12?4:2),i=[],s=0;s!=r;++s)i.push((n.biff==12?Ed:m2)(t));return i}function H0e(t,e,n){var r=0,i=0;n.biff==12?(r=t.read_shift(4),i=t.read_shift(4)):(i=1+t.read_shift(1),r=1+t.read_shift(2)),n.biff>=2&&n.biff<8&&(--r,--i==0&&(i=256));for(var s=0,a=[];s!=r&&(a[s]=[]);++s)for(var o=0;o!=i;++o)a[s][o]=j0e(t,n.biff);return a}function z0e(t,e,n){var r=t.read_shift(1)>>>5&3,i=!n||n.biff>=8?4:2,s=t.read_shift(i);switch(n.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[r,0,s]}function G0e(t,e,n){if(n.biff==5)return $0e(t);var r=t.read_shift(1)>>>5&3,i=t.read_shift(2),s=t.read_shift(4);return[r,i,s]}function $0e(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2,"i");t.l+=8;var r=t.read_shift(2);return t.l+=12,[e,n,r]}function W0e(t,e,n){var r=t.read_shift(1)>>>5&3;t.l+=n&&n.biff==2?3:4;var i=t.read_shift(n&&n.biff==2?1:2);return[r,i]}function K0e(t,e,n){var r=t.read_shift(1)>>>5&3,i=t.read_shift(n&&n.biff==2?1:2);return[r,i]}function Y0e(t,e,n){var r=t.read_shift(1)>>>5&3;return t.l+=4,n.biff<8&&t.l--,n.biff==12&&(t.l+=2),[r]}function X0e(t,e,n){var r=(t[t.l++]&96)>>5,i=t.read_shift(2),s=4;if(n)switch(n.biff){case 5:s=15;break;case 12:s=6;break}return t.l+=s,[r,i]}var J0e=Ia,Q0e=Ia,Z0e=Ia;function w1(t,e,n){return t.l+=2,[h0e(t)]}function rS(t){return t.l+=6,[]}var epe=w1,tpe=rS,npe=rS,rpe=w1;function JO(t){return t.l+=2,[as(t),t.read_shift(2)&1]}var ipe=w1,spe=JO,ape=rS,ope=w1,lpe=w1,cpe=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function upe(t){t.l+=2;var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(4),i=t.read_shift(2),s=t.read_shift(2),a=cpe[n>>2&31];return{ixti:e,coltype:n&3,rt:a,idx:r,c:i,C:s}}function fpe(t){return t.l+=2,[t.read_shift(4)]}function hpe(t,e,n){return t.l+=5,t.l+=2,t.l+=n.biff==2?1:4,["PTGSHEET"]}function dpe(t,e,n){return t.l+=n.biff==2?4:5,["PTGENDSHEET"]}function ppe(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2);return[e,n]}function mpe(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2);return[e,n]}function gpe(t){return t.l+=4,[0,0]}var BR={1:{n:"PtgExp",f:L0e},2:{n:"PtgTbl",f:Z0e},3:{n:"PtgAdd",f:rs},4:{n:"PtgSub",f:rs},5:{n:"PtgMul",f:rs},6:{n:"PtgDiv",f:rs},7:{n:"PtgPower",f:rs},8:{n:"PtgConcat",f:rs},9:{n:"PtgLt",f:rs},10:{n:"PtgLe",f:rs},11:{n:"PtgEq",f:rs},12:{n:"PtgGe",f:rs},13:{n:"PtgGt",f:rs},14:{n:"PtgNe",f:rs},15:{n:"PtgIsect",f:rs},16:{n:"PtgUnion",f:rs},17:{n:"PtgRange",f:rs},18:{n:"PtgUplus",f:rs},19:{n:"PtgUminus",f:rs},20:{n:"PtgPercent",f:rs},21:{n:"PtgParen",f:rs},22:{n:"PtgMissArg",f:rs},23:{n:"PtgStr",f:B0e},26:{n:"PtgSheet",f:hpe},27:{n:"PtgEndSheet",f:dpe},28:{n:"PtgErr",f:F0e},29:{n:"PtgBool",f:V0e},30:{n:"PtgInt",f:O0e},31:{n:"PtgNum",f:U0e},32:{n:"PtgArray",f:_0e},33:{n:"PtgFunc",f:R0e},34:{n:"PtgFuncVar",f:P0e},35:{n:"PtgName",f:z0e},36:{n:"PtgRef",f:N0e},37:{n:"PtgArea",f:m0e},38:{n:"PtgMemArea",f:W0e},39:{n:"PtgMemErr",f:J0e},40:{n:"PtgMemNoMem",f:Q0e},41:{n:"PtgMemFunc",f:K0e},42:{n:"PtgRefErr",f:Y0e},43:{n:"PtgAreaErr",f:x0e},44:{n:"PtgRefN",f:I0e},45:{n:"PtgAreaN",f:v0e},46:{n:"PtgMemAreaN",f:ppe},47:{n:"PtgMemNoMemN",f:mpe},57:{n:"PtgNameX",f:G0e},58:{n:"PtgRef3d",f:k0e},59:{n:"PtgArea3d",f:g0e},60:{n:"PtgRefErr3d",f:X0e},61:{n:"PtgAreaErr3d",f:y0e},255:{}},xpe={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},ype={1:{n:"PtgElfLel",f:JO},2:{n:"PtgElfRw",f:ope},3:{n:"PtgElfCol",f:epe},6:{n:"PtgElfRwV",f:lpe},7:{n:"PtgElfColV",f:rpe},10:{n:"PtgElfRadical",f:ipe},11:{n:"PtgElfRadicalS",f:ape},13:{n:"PtgElfColS",f:tpe},15:{n:"PtgElfColSV",f:npe},16:{n:"PtgElfRadicalLel",f:spe},25:{n:"PtgList",f:upe},29:{n:"PtgSxName",f:fpe},255:{}},vpe={0:{n:"PtgAttrNoop",f:gpe},1:{n:"PtgAttrSemi",f:S0e},2:{n:"PtgAttrIf",f:T0e},4:{n:"PtgAttrChoose",f:w0e},8:{n:"PtgAttrGoto",f:b0e},16:{n:"PtgAttrSum",f:M0e},32:{n:"PtgAttrBaxcel",f:UR},33:{n:"PtgAttrBaxcel",f:UR},64:{n:"PtgAttrSpace",f:A0e},65:{n:"PtgAttrSpaceSemi",f:C0e},128:{n:"PtgAttrIfError",f:E0e},255:{}};function b1(t,e,n,r){if(r.biff<8)return Ia(t,e);for(var i=t.l+e,s=[],a=0;a!==n.length;++a)switch(n[a][0]){case"PtgArray":n[a][1]=H0e(t,0,r),s.push(n[a][1]);break;case"PtgMemArea":n[a][2]=q0e(t,n[a][1],r),s.push(n[a][2]);break;case"PtgExp":r&&r.biff==12&&(n[a][1][1]=t.read_shift(4),s.push(n[a][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+n[a][0]}return e=i-t.l,e!==0&&s.push(Ia(t,e)),s}function T1(t,e,n){for(var r=t.l+e,i,s,a=[];r!=t.l;)e=r-t.l,s=t[t.l],i=BR[s]||BR[xpe[s]],(s===24||s===25)&&(i=(s===24?ype:vpe)[t[t.l+1]]),!i||!i.f?Ia(t,e):a.push([i.n,i.f(t,e,n)]);return a}function _pe(t){for(var e=[],n=0;n<t.length;++n){for(var r=t[n],i=[],s=0;s<r.length;++s){var a=r[s];if(a)switch(a[0]){case 2:i.push('"'+a[1].replace(/"/g,'""')+'"');break;default:i.push(a[1])}else i.push("")}e.push(i.join(","))}return e.join(";")}var wpe={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function bpe(t,e){if(!t&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function QO(t,e,n){if(!t)return"SH33TJSERR0";if(n.biff>8&&(!t.XTI||!t.XTI[e]))return t.SheetNames[e];if(!t.XTI)return"SH33TJSERR6";var r=t.XTI[e];if(n.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":t.XTI[e-1];if(!r)return"SH33TJSERR1";var i="";if(n.biff>8)switch(t[r[0]][0]){case 357:return i=r[1]==-1?"#REF":t.SheetNames[r[1]],r[1]==r[2]?i:i+":"+t.SheetNames[r[2]];case 358:return n.SID!=null?t.SheetNames[n.SID]:"SH33TJSSAME"+t[r[0]][0];case 355:default:return"SH33TJSSRC"+t[r[0]][0]}switch(t[r[0]][0][0]){case 1025:return i=r[1]==-1?"#REF":t.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?i:i+":"+t.SheetNames[r[2]];case 14849:return t[r[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return t[r[0]][0][3]?(i=r[1]==-1?"#REF":t[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?i:i+":"+t[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function jR(t,e,n){var r=QO(t,e,n);return r=="#REF"?r:bpe(r,n)}function wa(t,e,n,r,i){var s=i&&i.biff||8,a={s:{c:0,r:0}},o=[],c,f,h,p=0,g=0,x,T="";if(!t[0]||!t[0][0])return"";for(var S=-1,N="",k=0,B=t[0].length;k<B;++k){var R=t[0][k];switch(R[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=o.pop(),f=o.pop(),S>=0){switch(t[0][S][1][0]){case 0:N=Vi(" ",t[0][S][1][1]);break;case 1:N=Vi("\r",t[0][S][1][1]);break;default:if(N="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][S][1][0])}f=f+N,S=-1}o.push(f+wpe[R[0]]+c);break;case"PtgIsect":c=o.pop(),f=o.pop(),o.push(f+" "+c);break;case"PtgUnion":c=o.pop(),f=o.pop(),o.push(f+","+c);break;case"PtgRange":c=o.pop(),f=o.pop(),o.push(f+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":h=cg(R[1][1],a,i),o.push(ug(h,s));break;case"PtgRefN":h=n?cg(R[1][1],n,i):R[1][1],o.push(ug(h,s));break;case"PtgRef3d":p=R[1][1],h=cg(R[1][2],a,i),T=jR(r,p,i),o.push(T+"!"+ug(h,s));break;case"PtgFunc":case"PtgFuncVar":var q=R[1][0],Y=R[1][1];q||(q=0),q&=127;var J=q==0?[]:o.slice(-q);o.length-=q,Y==="User"&&(Y=J.shift()),o.push(Y+"("+J.join(",")+")");break;case"PtgBool":o.push(R[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(R[1]);break;case"PtgNum":o.push(String(R[1]));break;case"PtgStr":o.push('"'+R[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(R[1]);break;case"PtgAreaN":x=wR(R[1][1],n?{s:n}:a,i),o.push(Bw(x,i));break;case"PtgArea":x=wR(R[1][1],a,i),o.push(Bw(x,i));break;case"PtgArea3d":p=R[1][1],x=R[1][2],T=jR(r,p,i),o.push(T+"!"+Bw(x,i));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":g=R[1][2];var F=(r.names||[])[g-1]||(r[0]||[])[g],O=F?F.Name:"SH33TJSNAME"+String(g);O&&O.slice(0,6)=="_xlfn."&&!i.xlfn&&(O=O.slice(6)),o.push(O);break;case"PtgNameX":var C=R[1][1];g=R[1][2];var H;if(i.biff<=5)C<0&&(C=-C),r[C]&&(H=r[C][g]);else{var P="";if(((r[C]||[])[0]||[])[0]==14849||(((r[C]||[])[0]||[])[0]==1025?r[C][g]&&r[C][g].itab>0&&(P=r.SheetNames[r[C][g].itab-1]+"!"):P=r.SheetNames[g-1]+"!"),r[C]&&r[C][g])P+=r[C][g].Name;else if(r[0]&&r[0][g])P+=r[0][g].Name;else{var L=(QO(r,C,i)||"").split(";;");L[g-1]?P=L[g-1]:P+="SH33TJSERRX"}o.push(P);break}H||(H={Name:"SH33TJSERRY"}),o.push(H.Name);break;case"PtgParen":var V="(",me=")";if(S>=0){switch(N="",t[0][S][1][0]){case 2:V=Vi(" ",t[0][S][1][1])+V;break;case 3:V=Vi("\r",t[0][S][1][1])+V;break;case 4:me=Vi(" ",t[0][S][1][1])+me;break;case 5:me=Vi("\r",t[0][S][1][1])+me;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][S][1][0])}S=-1}o.push(V+o.pop()+me);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":h={c:R[1][1],r:R[1][0]};var Ne={c:n.c,r:n.r};if(r.sharedf[Vn(h)]){var se=r.sharedf[Vn(h)];o.push(wa(se,a,Ne,r,i))}else{var xe=!1;for(c=0;c!=r.arrayf.length;++c)if(f=r.arrayf[c],!(h.c<f[0].s.c||h.c>f[0].e.c)&&!(h.r<f[0].s.r||h.r>f[0].e.r)){o.push(wa(f[1],a,Ne,r,i)),xe=!0;break}xe||o.push(R[1])}break;case"PtgArray":o.push("{"+_pe(R[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":S=k;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+R[1].idx+"[#"+R[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(R));default:throw new Error("Unrecognized Formula Token: "+String(R))}var he=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&S>=0&&he.indexOf(t[0][k][0])==-1){R=t[0][S];var ue=!0;switch(R[1][0]){case 4:ue=!1;case 0:N=Vi(" ",R[1][1]);break;case 5:ue=!1;case 1:N=Vi("\r",R[1][1]);break;default:if(N="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+R[1][0])}o.push((ue?N:"")+o.pop()+(ue?"":N)),S=-1}}if(o.length>1&&i.WTF)throw new Error("bad formula stack");return o[0]}function Tpe(t,e,n){var r=t.l+e,i=n.biff==2?1:2,s,a=t.read_shift(i);if(a==65535)return[[],Ia(t,e-2)];var o=T1(t,a,n);return e!==a+i&&(s=b1(t,e-a-i,o,n)),t.l=r,[o,s]}function Epe(t,e,n){var r=t.l+e,i=n.biff==2?1:2,s,a=t.read_shift(i);if(a==65535)return[[],Ia(t,e-2)];var o=T1(t,a,n);return e!==a+i&&(s=b1(t,e-a-i,o,n)),t.l=r,[o,s]}function Spe(t,e,n,r){var i=t.l+e,s=T1(t,r,n),a;return i!==t.l&&(a=b1(t,i-t.l,s,n)),[s,a]}function Ape(t,e,n){var r=t.l+e,i,s=t.read_shift(2),a=T1(t,s,n);return s==65535?[[],Ia(t,e-2)]:(e!==s+2&&(i=b1(t,r-s-2,a,n)),[a,i])}function Cpe(t){var e;if(bu(t,t.l+6)!==65535)return[Ta(t),"n"];switch(t[t.l]){case 0:return t.l+=8,["String","s"];case 1:return e=t[t.l+2]===1,t.l+=8,[e,"b"];case 2:return e=t[t.l+2],t.l+=8,[e,"e"];case 3:return t.l+=8,["","s"]}return[]}function Hw(t,e,n){var r=t.l+e,i=Hc(t);n.biff==2&&++t.l;var s=Cpe(t),a=t.read_shift(1);n.biff!=2&&(t.read_shift(1),n.biff>=5&&t.read_shift(4));var o=Epe(t,r-t.l,n);return{cell:i,val:s[0],formula:o,shared:a>>3&1,tt:s[1]}}function g2(t,e,n){var r=t.read_shift(4),i=T1(t,r,n),s=t.read_shift(4),a=s>0?b1(t,s,i,n):null;return[i,a]}var Npe=g2,x2=g2,Ipe=g2,kpe=g2,Rpe={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},ZO={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},Ppe={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function qR(t){return t.slice(0,3)=="of:"&&(t=t.slice(3)),t.charCodeAt(0)==61&&(t=t.slice(1),t.charCodeAt(0)==61&&(t=t.slice(1))),t=t.replace(/COM\.MICROSOFT\./g,""),t=t.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(e,n){return n.replace(/\./g,"")}),t=t.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),t.replace(/[;~]/g,",").replace(/\|/g,";")}function zw(t){var e=t.split(":"),n=e[0].split(".")[0];return[n,e[0].split(".")[1]+(e.length>1?":"+(e[1].split(".")[1]||e[1].split(".")[0]):"")]}var pg={},ep={};function mg(t,e){if(t){var n=[.7,.7,.75,.75,.3,.3];e=="xlml"&&(n=[1,1,1,1,.5,.5]),t.left==null&&(t.left=n[0]),t.right==null&&(t.right=n[1]),t.top==null&&(t.top=n[2]),t.bottom==null&&(t.bottom=n[3]),t.header==null&&(t.header=n[4]),t.footer==null&&(t.footer=n[5])}}function e9(t,e,n,r,i,s){try{r.cellNF&&(t.z=jn[e])}catch(o){if(r.WTF)throw o}if(!(t.t==="z"&&!r.cellStyles)){if(t.t==="d"&&typeof t.v=="string"&&(t.v=qs(t.v)),(!r||r.cellText!==!1)&&t.t!=="z")try{if(jn[e]==null&&Wh(Dce[e]||"General",e),t.t==="e")t.w=t.w||Sd[t.v];else if(e===0)if(t.t==="n")(t.v|0)===t.v?t.w=t.v.toString(10):t.w=qg(t.v);else if(t.t==="d"){var a=Wa(t.v);(a|0)===a?t.w=a.toString(10):t.w=qg(a)}else{if(t.v===void 0)return"";t.w=cd(t.v,ep)}else t.t==="d"?t.w=xl(e,Wa(t.v),ep):t.w=xl(e,t.v,ep)}catch(o){if(r.WTF)throw o}if(r.cellStyles&&n!=null)try{t.s=s.Fills[n],t.s.fgColor&&t.s.fgColor.theme&&!t.s.fgColor.rgb&&(t.s.fgColor.rgb=bv(i.themeElements.clrScheme[t.s.fgColor.theme].rgb,t.s.fgColor.tint||0),r.WTF&&(t.s.fgColor.raw_rgb=i.themeElements.clrScheme[t.s.fgColor.theme].rgb)),t.s.bgColor&&t.s.bgColor.theme&&(t.s.bgColor.rgb=bv(i.themeElements.clrScheme[t.s.bgColor.theme].rgb,t.s.bgColor.tint||0),r.WTF&&(t.s.bgColor.raw_rgb=i.themeElements.clrScheme[t.s.bgColor.theme].rgb))}catch(o){if(r.WTF&&s.Fills)throw o}}}function Dpe(t,e){var n=Bi(e);n.s.r<=n.e.r&&n.s.c<=n.e.c&&n.s.r>=0&&n.s.c>=0&&(t["!ref"]=mr(n))}var Mpe=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,Lpe=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,Fpe=/<(?:\w:)?hyperlink [^>]*>/mg,Ope=/"(\w*:\w*)"/,Vpe=/<(?:\w:)?col\b[^>]*[\/]?>/g,Upe=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,Bpe=/<(?:\w:)?pageMargins[^>]*\/>/g,t9=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,jpe=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,qpe=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function Hpe(t,e,n,r,i,s,a){if(!t)return t;r||(r={"!id":{}});var o=e.dense?[]:{},c={s:{r:2e6,c:2e6},e:{r:0,c:0}},f="",h="",p=t.match(Lpe);p?(f=t.slice(0,p.index),h=t.slice(p.index+p[0].length)):f=h=t;var g=f.match(t9);g?iS(g[0],o,i,n):(g=f.match(jpe))&&zpe(g[0],g[1]||"",o,i,n);var x=(f.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(x>0){var T=f.slice(x,x+50).match(Ope);T&&Dpe(o,T[1])}var S=f.match(qpe);S&&S[1]&&Xpe(S[1],i);var N=[];if(e.cellStyles){var k=f.match(Vpe);k&&Wpe(N,k)}p&&Jpe(p[1],o,e,c,s,a);var B=h.match(Upe);B&&(o["!autofilter"]=Kpe(B[0]));var R=[],q=h.match(Mpe);if(q)for(x=0;x!=q.length;++x)R[x]=Bi(q[x].slice(q[x].indexOf('"')+1));var Y=h.match(Fpe);Y&&Gpe(o,Y,r);var J=h.match(Bpe);if(J&&(o["!margins"]=$pe(kn(J[0]))),!o["!ref"]&&c.e.c>=c.s.c&&c.e.r>=c.s.r&&(o["!ref"]=mr(c)),e.sheetRows>0&&o["!ref"]){var F=Bi(o["!ref"]);e.sheetRows<=+F.e.r&&(F.e.r=e.sheetRows-1,F.e.r>c.e.r&&(F.e.r=c.e.r),F.e.r<F.s.r&&(F.s.r=F.e.r),F.e.c>c.e.c&&(F.e.c=c.e.c),F.e.c<F.s.c&&(F.s.c=F.e.c),o["!fullref"]=o["!ref"],o["!ref"]=mr(F))}return N.length>0&&(o["!cols"]=N),R.length>0&&(o["!merges"]=R),o}function iS(t,e,n,r){var i=kn(t);n.Sheets[r]||(n.Sheets[r]={}),i.codeName&&(n.Sheets[r].CodeName=vr(ni(i.codeName)))}function zpe(t,e,n,r,i){iS(t.slice(0,t.indexOf(">")),n,r,i)}function Gpe(t,e,n){for(var r=Array.isArray(t),i=0;i!=e.length;++i){var s=kn(ni(e[i]),!0);if(!s.ref)return;var a=((n||{})["!id"]||[])[s.id];a?(s.Target=a.Target,s.location&&(s.Target+="#"+vr(s.location))):(s.Target="#"+vr(s.location),a={Target:s.Target,TargetMode:"Internal"}),s.Rel=a,s.tooltip&&(s.Tooltip=s.tooltip,delete s.tooltip);for(var o=Bi(s.ref),c=o.s.r;c<=o.e.r;++c)for(var f=o.s.c;f<=o.e.c;++f){var h=Vn({c:f,r:c});r?(t[c]||(t[c]=[]),t[c][f]||(t[c][f]={t:"z",v:void 0}),t[c][f].l=s):(t[h]||(t[h]={t:"z",v:void 0}),t[h].l=s)}}}function $pe(t){var e={};return["left","right","top","bottom","header","footer"].forEach(function(n){t[n]&&(e[n]=parseFloat(t[n]))}),e}function Wpe(t,e){for(var n=!1,r=0;r!=e.length;++r){var i=kn(e[r],!0);i.hidden&&(i.hidden=yi(i.hidden));var s=parseInt(i.min,10)-1,a=parseInt(i.max,10)-1;for(i.outlineLevel&&(i.level=+i.outlineLevel||0),delete i.min,delete i.max,i.width=+i.width,!n&&i.width&&(n=!0,nS(i.width)),wp(i);s<=a;)t[s++]=aa(i)}}function Kpe(t){var e={ref:(t.match(/ref="([^"]*)"/)||[])[1]};return e}var Ype=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function Xpe(t,e){e.Views||(e.Views=[{}]),(t.match(Ype)||[]).forEach(function(n,r){var i=kn(n);e.Views[r]||(e.Views[r]={}),+i.zoomScale&&(e.Views[r].zoom=+i.zoomScale),yi(i.rightToLeft)&&(e.Views[r].RTL=!0)})}var Jpe=(function(){var t=/<(?:\w+:)?c[ \/>]/,e=/<\/(?:\w+:)?row>/,n=/r=["']([^"']*)["']/,r=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,i=/ref=["']([^"']*)["']/,s=Hg("v"),a=Hg("f");return function(c,f,h,p,g,x){for(var T=0,S="",N=[],k=[],B=0,R=0,q=0,Y="",J,F,O=0,C=0,H,P,L=0,V=0,me=Array.isArray(x.CellXf),Ne,se=[],xe=[],he=Array.isArray(f),ue=[],Le={},ne=!1,M=!!h.sheetStubs,W=c.split(e),K=0,Q=W.length;K!=Q;++K){S=W[K].trim();var ce=S.length;if(ce!==0){var we=0;e:for(T=0;T<ce;++T)switch(S[T]){case">":if(S[T-1]!="/"){++T;break e}if(h&&h.cellStyles){if(F=kn(S.slice(we,T),!0),O=F.r!=null?parseInt(F.r,10):O+1,C=-1,h.sheetRows&&h.sheetRows<O)continue;Le={},ne=!1,F.ht&&(ne=!0,Le.hpt=parseFloat(F.ht),Le.hpx=Wg(Le.hpt)),F.hidden=="1"&&(ne=!0,Le.hidden=!0),F.outlineLevel!=null&&(ne=!0,Le.level=+F.outlineLevel),ne&&(ue[O-1]=Le)}break;case"<":we=T;break}if(we>=T)break;if(F=kn(S.slice(we,T),!0),O=F.r!=null?parseInt(F.r,10):O+1,C=-1,!(h.sheetRows&&h.sheetRows<O)){p.s.r>O-1&&(p.s.r=O-1),p.e.r<O-1&&(p.e.r=O-1),h&&h.cellStyles&&(Le={},ne=!1,F.ht&&(ne=!0,Le.hpt=parseFloat(F.ht),Le.hpx=Wg(Le.hpt)),F.hidden=="1"&&(ne=!0,Le.hidden=!0),F.outlineLevel!=null&&(ne=!0,Le.level=+F.outlineLevel),ne&&(ue[O-1]=Le)),N=S.slice(T).split(t);for(var ke=0;ke!=N.length&&N[ke].trim().charAt(0)=="<";++ke);for(N=N.slice(ke),T=0;T!=N.length;++T)if(S=N[T].trim(),S.length!==0){if(k=S.match(n),B=T,R=0,q=0,S="<c "+(S.slice(0,1)=="<"?">":"")+S,k!=null&&k.length===2){for(B=0,Y=k[1],R=0;R!=Y.length&&!((q=Y.charCodeAt(R)-64)<1||q>26);++R)B=26*B+q;--B,C=B}else++C;for(R=0;R!=S.length&&S.charCodeAt(R)!==62;++R);if(++R,F=kn(S.slice(0,R),!0),F.r||(F.r=Vn({r:O-1,c:C})),Y=S.slice(R),J={t:""},(k=Y.match(s))!=null&&k[1]!==""&&(J.v=vr(k[1])),h.cellFormula){if((k=Y.match(a))!=null&&k[1]!==""){if(J.f=vr(ni(k[1])).replace(/\r\n/g,`
`),h.xlfn||(J.f=VR(J.f)),k[0].indexOf('t="array"')>-1)J.F=(Y.match(i)||[])[1],J.F.indexOf(":")>-1&&se.push([Bi(J.F),J.F]);else if(k[0].indexOf('t="shared"')>-1){P=kn(k[0]);var fe=vr(ni(k[1]));h.xlfn||(fe=VR(fe)),xe[parseInt(P.si,10)]=[P,fe,F.r]}}else(k=Y.match(/<f[^>]*\/>/))&&(P=kn(k[0]),xe[P.si]&&(J.f=l0e(xe[P.si][1],xe[P.si][2],F.r)));var Ae=za(F.r);for(R=0;R<se.length;++R)Ae.r>=se[R][0].s.r&&Ae.r<=se[R][0].e.r&&Ae.c>=se[R][0].s.c&&Ae.c<=se[R][0].e.c&&(J.F=se[R][1])}if(F.t==null&&J.v===void 0)if(J.f||J.F)J.v=0,J.t="n";else if(M)J.t="z";else continue;else J.t=F.t||"n";switch(p.s.c>C&&(p.s.c=C),p.e.c<C&&(p.e.c=C),J.t){case"n":if(J.v==""||J.v==null){if(!M)continue;J.t="z"}else J.v=parseFloat(J.v);break;case"s":if(typeof J.v>"u"){if(!M)continue;J.t="z"}else H=pg[parseInt(J.v,10)],J.v=H.t,J.r=H.r,h.cellHTML&&(J.h=H.h);break;case"str":J.t="s",J.v=J.v!=null?ni(J.v):"",h.cellHTML&&(J.h=GE(J.v));break;case"inlineStr":k=Y.match(r),J.t="s",k!=null&&(H=tS(k[1]))?(J.v=H.t,h.cellHTML&&(J.h=H.h)):J.v="";break;case"b":J.v=yi(J.v);break;case"d":h.cellDates?J.v=qs(J.v,1):(J.v=Wa(qs(J.v,1)),J.t="n");break;case"e":(!h||h.cellText!==!1)&&(J.w=J.v),J.v=bO[J.v];break}if(L=V=0,Ne=null,me&&F.s!==void 0&&(Ne=x.CellXf[F.s],Ne!=null&&(Ne.numFmtId!=null&&(L=Ne.numFmtId),h.cellStyles&&Ne.fillId!=null&&(V=Ne.fillId))),e9(J,L,V,h,g,x),h.cellDates&&me&&J.t=="n"&&Op(jn[L])&&(J.t="d",J.v=p2(J.v)),F.cm&&h.xlmeta){var Ue=(h.xlmeta.Cell||[])[+F.cm-1];Ue&&Ue.type=="XLDAPR"&&(J.D=!0)}if(he){var ae=za(F.r);f[ae.r]||(f[ae.r]=[]),f[ae.r][ae.c]=J}else f[F.r]=J}}}}ue.length>0&&(f["!rows"]=ue)}})();function Qpe(t,e){var n={},r=t.l+e;n.r=t.read_shift(4),t.l+=4;var i=t.read_shift(2);t.l+=1;var s=t.read_shift(1);return t.l=r,s&7&&(n.level=s&7),s&16&&(n.hidden=!0),s&32&&(n.hpt=i/20),n}var Zpe=Ed;function eme(){}function tme(t,e){var n={},r=t[t.l];return++t.l,n.above=!(r&64),n.left=!(r&128),t.l+=18,n.name=Tue(t),n}function nme(t){var e=yl(t);return[e]}function rme(t){var e=Td(t);return[e]}function ime(t){var e=yl(t),n=t.read_shift(1);return[e,n,"b"]}function sme(t){var e=Td(t),n=t.read_shift(1);return[e,n,"b"]}function ame(t){var e=yl(t),n=t.read_shift(1);return[e,n,"e"]}function ome(t){var e=Td(t),n=t.read_shift(1);return[e,n,"e"]}function lme(t){var e=yl(t),n=t.read_shift(4);return[e,n,"s"]}function cme(t){var e=Td(t),n=t.read_shift(4);return[e,n,"s"]}function ume(t){var e=yl(t),n=Ta(t);return[e,n,"n"]}function n9(t){var e=Td(t),n=Ta(t);return[e,n,"n"]}function fme(t){var e=yl(t),n=QE(t);return[e,n,"n"]}function hme(t){var e=Td(t),n=QE(t);return[e,n,"n"]}function dme(t){var e=yl(t),n=XE(t);return[e,n,"is"]}function pme(t){var e=yl(t),n=Na(t);return[e,n,"str"]}function mme(t){var e=Td(t),n=Na(t);return[e,n,"str"]}function gme(t,e,n){var r=t.l+e,i=yl(t);i.r=n["!row"];var s=t.read_shift(1),a=[i,s,"b"];if(n.cellFormula){t.l+=2;var o=x2(t,r-t.l,n);a[3]=wa(o,null,i,n.supbooks,n)}else t.l=r;return a}function xme(t,e,n){var r=t.l+e,i=yl(t);i.r=n["!row"];var s=t.read_shift(1),a=[i,s,"e"];if(n.cellFormula){t.l+=2;var o=x2(t,r-t.l,n);a[3]=wa(o,null,i,n.supbooks,n)}else t.l=r;return a}function yme(t,e,n){var r=t.l+e,i=yl(t);i.r=n["!row"];var s=Ta(t),a=[i,s,"n"];if(n.cellFormula){t.l+=2;var o=x2(t,r-t.l,n);a[3]=wa(o,null,i,n.supbooks,n)}else t.l=r;return a}function vme(t,e,n){var r=t.l+e,i=yl(t);i.r=n["!row"];var s=Na(t),a=[i,s,"str"];if(n.cellFormula){t.l+=2;var o=x2(t,r-t.l,n);a[3]=wa(o,null,i,n.supbooks,n)}else t.l=r;return a}var _me=Ed;function wme(t,e){var n=t.l+e,r=Ed(t),i=JE(t),s=Na(t),a=Na(t),o=Na(t);t.l=n;var c={rfx:r,relId:i,loc:s,display:o};return a&&(c.Tooltip=a),c}function bme(){}function Tme(t,e,n){var r=t.l+e,i=vO(t),s=t.read_shift(1),a=[i];if(a[2]=s,n.cellFormula){var o=Npe(t,r-t.l,n);a[1]=o}else t.l=r;return a}function Eme(t,e,n){var r=t.l+e,i=Ed(t),s=[i];if(n.cellFormula){var a=kpe(t,r-t.l,n);s[1]=a,t.l=r}else t.l=r;return s}var Sme=["left","right","top","bottom","header","footer"];function Ame(t){var e={};return Sme.forEach(function(n){e[n]=Ta(t)}),e}function Cme(t){var e=t.read_shift(2);return t.l+=28,{RTL:e&32}}function Nme(){}function Ime(){}function kme(t,e,n,r,i,s,a){if(!t)return t;var o=e||{};r||(r={"!id":{}});var c=o.dense?[]:{},f,h={s:{r:2e6,c:2e6},e:{r:0,c:0}},p=!1,g=!1,x,T,S,N,k,B,R,q,Y,J=[];o.biff=12,o["!row"]=0;var F=0,O=!1,C=[],H={},P=o.supbooks||i.supbooks||[[]];if(P.sharedf=H,P.arrayf=C,P.SheetNames=i.SheetNames||i.Sheets.map(function(he){return he.name}),!o.supbooks&&(o.supbooks=P,i.Names))for(var L=0;L<i.Names.length;++L)P[0][L+1]=i.Names[L];var V=[],me=[],Ne=!1;Sv[16]={n:"BrtShortReal",f:n9};var se;if(Uu(t,function(ue,Le,ne){if(!g)switch(ne){case 148:f=ue;break;case 0:x=ue,o.sheetRows&&o.sheetRows<=x.r&&(g=!0),q=oa(N=x.r),o["!row"]=x.r,(ue.hidden||ue.hpt||ue.level!=null)&&(ue.hpt&&(ue.hpx=Wg(ue.hpt)),me[ue.r]=ue);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(T={t:ue[2]},ue[2]){case"n":T.v=ue[1];break;case"s":R=pg[ue[1]],T.v=R.t,T.r=R.r;break;case"b":T.v=!!ue[1];break;case"e":T.v=ue[1],o.cellText!==!1&&(T.w=Sd[T.v]);break;case"str":T.t="s",T.v=ue[1];break;case"is":T.t="s",T.v=ue[1].t;break}if((S=a.CellXf[ue[0].iStyleRef])&&e9(T,S.numFmtId,null,o,s,a),k=ue[0].c==-1?k+1:ue[0].c,o.dense?(c[N]||(c[N]=[]),c[N][k]=T):c[Es(k)+q]=T,o.cellFormula){for(O=!1,F=0;F<C.length;++F){var M=C[F];x.r>=M[0].s.r&&x.r<=M[0].e.r&&k>=M[0].s.c&&k<=M[0].e.c&&(T.F=mr(M[0]),O=!0)}!O&&ue.length>3&&(T.f=ue[3])}if(h.s.r>x.r&&(h.s.r=x.r),h.s.c>k&&(h.s.c=k),h.e.r<x.r&&(h.e.r=x.r),h.e.c<k&&(h.e.c=k),o.cellDates&&S&&T.t=="n"&&Op(jn[S.numFmtId])){var W=Vh(T.v);W&&(T.t="d",T.v=new Date(W.y,W.m-1,W.d,W.H,W.M,W.S,W.u))}se&&(se.type=="XLDAPR"&&(T.D=!0),se=void 0);break;case 1:case 12:if(!o.sheetStubs||p)break;T={t:"z",v:void 0},k=ue[0].c==-1?k+1:ue[0].c,o.dense?(c[N]||(c[N]=[]),c[N][k]=T):c[Es(k)+q]=T,h.s.r>x.r&&(h.s.r=x.r),h.s.c>k&&(h.s.c=k),h.e.r<x.r&&(h.e.r=x.r),h.e.c<k&&(h.e.c=k),se&&(se.type=="XLDAPR"&&(T.D=!0),se=void 0);break;case 176:J.push(ue);break;case 49:se=((o.xlmeta||{}).Cell||[])[ue-1];break;case 494:var K=r["!id"][ue.relId];for(K?(ue.Target=K.Target,ue.loc&&(ue.Target+="#"+ue.loc),ue.Rel=K):ue.relId==""&&(ue.Target="#"+ue.loc),N=ue.rfx.s.r;N<=ue.rfx.e.r;++N)for(k=ue.rfx.s.c;k<=ue.rfx.e.c;++k)o.dense?(c[N]||(c[N]=[]),c[N][k]||(c[N][k]={t:"z",v:void 0}),c[N][k].l=ue):(B=Vn({c:k,r:N}),c[B]||(c[B]={t:"z",v:void 0}),c[B].l=ue);break;case 426:if(!o.cellFormula)break;C.push(ue),Y=o.dense?c[N][k]:c[Es(k)+q],Y.f=wa(ue[1],h,{r:x.r,c:k},P,o),Y.F=mr(ue[0]);break;case 427:if(!o.cellFormula)break;H[Vn(ue[0].s)]=ue[1],Y=o.dense?c[N][k]:c[Es(k)+q],Y.f=wa(ue[1],h,{r:x.r,c:k},P,o);break;case 60:if(!o.cellStyles)break;for(;ue.e>=ue.s;)V[ue.e--]={width:ue.w/256,hidden:!!(ue.flags&1),level:ue.level},Ne||(Ne=!0,nS(ue.w/256)),wp(V[ue.e+1]);break;case 161:c["!autofilter"]={ref:mr(ue)};break;case 476:c["!margins"]=ue;break;case 147:i.Sheets[n]||(i.Sheets[n]={}),ue.name&&(i.Sheets[n].CodeName=ue.name),(ue.above||ue.left)&&(c["!outline"]={above:ue.above,left:ue.left});break;case 137:i.Views||(i.Views=[{}]),i.Views[0]||(i.Views[0]={}),ue.RTL&&(i.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:p=!0;break;case 36:p=!1;break;case 37:p=!0;break;case 38:p=!1;break;default:if(!Le.T){if(!p||o.WTF)throw new Error("Unexpected record 0x"+ne.toString(16))}}},o),delete o.supbooks,delete o["!row"],!c["!ref"]&&(h.s.r<2e6||f&&(f.e.r>0||f.e.c>0||f.s.r>0||f.s.c>0))&&(c["!ref"]=mr(f||h)),o.sheetRows&&c["!ref"]){var xe=Bi(c["!ref"]);o.sheetRows<=+xe.e.r&&(xe.e.r=o.sheetRows-1,xe.e.r>h.e.r&&(xe.e.r=h.e.r),xe.e.r<xe.s.r&&(xe.s.r=xe.e.r),xe.e.c>h.e.c&&(xe.e.c=h.e.c),xe.e.c<xe.s.c&&(xe.s.c=xe.e.c),c["!fullref"]=c["!ref"],c["!ref"]=mr(xe))}return J.length>0&&(c["!merges"]=J),V.length>0&&(c["!cols"]=V),me.length>0&&(c["!rows"]=me),c}function Rme(t){var e=[],n=t.match(/^<c:numCache>/),r;(t.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(s){var a=s.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);a&&(e[+a[1]]=n?+a[2]:a[2])});var i=vr((t.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(t.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(s){r=s.replace(/<.*?>/g,"")}),[e,i,r]}function Pme(t,e,n,r,i,s){var a=s||{"!type":"chart"};if(!t)return s;var o=0,c=0,f="A",h={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(t.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(p){var g=Rme(p);h.s.r=h.s.c=0,h.e.c=o,f=Es(o),g[0].forEach(function(x,T){a[f+oa(T)]={t:"n",v:x,z:g[1]},c=T}),h.e.r<c&&(h.e.r=c),++o}),o>0&&(a["!ref"]=mr(h)),a}function Dme(t,e,n,r,i){if(!t)return t;r||(r={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},a,o=t.match(t9);return o&&iS(o[0],s,i,n),(a=t.match(/drawing r:id="(.*?)"/))&&(s["!rel"]=a[1]),r["!id"][s["!rel"]]&&(s["!drawel"]=r["!id"][s["!rel"]]),s}function Mme(t,e){t.l+=10;var n=Na(t);return{name:n}}function Lme(t,e,n,r,i){if(!t)return t;r||(r={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},a=!1;return Uu(t,function(c,f,h){switch(h){case 550:s["!rel"]=c;break;case 651:i.Sheets[n]||(i.Sheets[n]={}),c.name&&(i.Sheets[n].CodeName=c.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:a=!0;break;case 36:a=!1;break;case 37:break;case 38:break;default:if(!(f.T>0)){if(!(f.T<0)){if(!a||e.WTF)throw new Error("Unexpected record 0x"+h.toString(16))}}}},e),r["!id"][s["!rel"]]&&(s["!drawel"]=r["!id"][s["!rel"]]),s}var r9=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],Fme=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],Ome=[],Vme=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function HR(t,e){for(var n=0;n!=t.length;++n)for(var r=t[n],i=0;i!=e.length;++i){var s=e[i];if(r[s[0]]==null)r[s[0]]=s[1];else switch(s[2]){case"bool":typeof r[s[0]]=="string"&&(r[s[0]]=yi(r[s[0]]));break;case"int":typeof r[s[0]]=="string"&&(r[s[0]]=parseInt(r[s[0]],10));break}}}function zR(t,e){for(var n=0;n!=e.length;++n){var r=e[n];if(t[r[0]]==null)t[r[0]]=r[1];else switch(r[2]){case"bool":typeof t[r[0]]=="string"&&(t[r[0]]=yi(t[r[0]]));break;case"int":typeof t[r[0]]=="string"&&(t[r[0]]=parseInt(t[r[0]],10));break}}}function i9(t){zR(t.WBProps,r9),zR(t.CalcPr,Vme),HR(t.WBView,Fme),HR(t.Sheets,Ome),ep.date1904=yi(t.WBProps.date1904)}var Ume="][*?/\\".split("");function Bme(t,e){if(t.length>31)throw new Error("Sheet names cannot exceed 31 chars");var n=!0;return Ume.forEach(function(r){if(t.indexOf(r)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),n}var jme=/<\w+:workbook/;function qme(t,e){if(!t)throw new Error("Could not find file");var n={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},r=!1,i="xmlns",s={},a=0;if(t.replace(ka,function(c,f){var h=kn(c);switch(qc(h[0])){case"<?xml":break;case"<workbook":c.match(jme)&&(i="xmlns"+c.match(/<(\w+):/)[1]),n.xmlns=h[i];break;case"</workbook>":break;case"<fileVersion":delete h[0],n.AppVersion=h;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":r9.forEach(function(p){if(h[p[0]]!=null)switch(p[2]){case"bool":n.WBProps[p[0]]=yi(h[p[0]]);break;case"int":n.WBProps[p[0]]=parseInt(h[p[0]],10);break;default:n.WBProps[p[0]]=h[p[0]]}}),h.codeName&&(n.WBProps.CodeName=ni(h.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete h[0],n.WBView.push(h);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(h.state){case"hidden":h.Hidden=1;break;case"veryHidden":h.Hidden=2;break;default:h.Hidden=0}delete h.state,h.name=vr(ni(h.name)),delete h[0],n.Sheets.push(h);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":r=!0;break;case"</definedNames>":r=!1;break;case"<definedName":s={},s.Name=ni(h.name),h.comment&&(s.Comment=h.comment),h.localSheetId&&(s.Sheet=+h.localSheetId),yi(h.hidden||"0")&&(s.Hidden=!0),a=f+c.length;break;case"</definedName>":s.Ref=vr(ni(t.slice(a,f))),n.Names.push(s);break;case"<definedName/>":break;case"<calcPr":delete h[0],n.CalcPr=h;break;case"<calcPr/>":delete h[0],n.CalcPr=h;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":r=!0;break;case"</AlternateContent>":r=!1;break;case"<revisionPtr":break;default:if(!r&&e.WTF)throw new Error("unrecognized "+h[0]+" in workbook")}return c}),aue.indexOf(n.xmlns)===-1)throw new Error("Unknown Namespace: "+n.xmlns);return i9(n),n}function Hme(t,e){var n={};return n.Hidden=t.read_shift(4),n.iTabID=t.read_shift(4),n.strRelID=A5(t),n.name=Na(t),n}function zme(t,e){var n={},r=t.read_shift(4);n.defaultThemeVersion=t.read_shift(4);var i=e>8?Na(t):"";return i.length>0&&(n.CodeName=i),n.autoCompressPictures=!!(r&65536),n.backupFile=!!(r&64),n.checkCompatibility=!!(r&4096),n.date1904=!!(r&1),n.filterPrivacy=!!(r&8),n.hidePivotFieldList=!!(r&1024),n.promptedSolutions=!!(r&16),n.publishItems=!!(r&2048),n.refreshAllConnections=!!(r&262144),n.saveExternalLinkValues=!!(r&128),n.showBorderUnselectedTables=!!(r&4),n.showInkAnnotation=!!(r&32),n.showObjects=["all","placeholders","none"][r>>13&3],n.showPivotChartFilter=!!(r&32768),n.updateLinks=["userSet","never","always"][r>>8&3],n}function Gme(t,e){var n={};return t.read_shift(4),n.ArchID=t.read_shift(4),t.l+=e-8,n}function $me(t,e,n){var r=t.l+e;t.l+=4,t.l+=1;var i=t.read_shift(4),s=Eue(t),a=Ipe(t,0,n),o=JE(t);t.l=r;var c={Name:s,Ptg:a};return i<268435455&&(c.Sheet=i),o&&(c.Comment=o),c}function Wme(t,e){var n={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},r=[],i=!1;e||(e={}),e.biff=12;var s=[],a=[[]];return a.SheetNames=[],a.XTI=[],Sv[16]={n:"BrtFRTArchID$",f:Gme},Uu(t,function(c,f,h){switch(h){case 156:a.SheetNames.push(c.name),n.Sheets.push(c);break;case 153:n.WBProps=c;break;case 39:c.Sheet!=null&&(e.SID=c.Sheet),c.Ref=wa(c.Ptg,null,null,a,e),delete e.SID,delete c.Ptg,s.push(c);break;case 1036:break;case 357:case 358:case 355:case 667:a[0].length?a.push([h,c]):a[0]=[h,c],a[a.length-1].XTI=[];break;case 362:a.length===0&&(a[0]=[],a[0].XTI=[]),a[a.length-1].XTI=a[a.length-1].XTI.concat(c),a.XTI=a.XTI.concat(c);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:r.push(h),i=!0;break;case 36:r.pop(),i=!1;break;case 37:r.push(h),i=!0;break;case 38:r.pop(),i=!1;break;case 16:break;default:if(!f.T){if(!i||e.WTF&&r[r.length-1]!=37&&r[r.length-1]!=35)throw new Error("Unexpected record 0x"+h.toString(16))}}},e),i9(n),n.Names=s,n.supbooks=a,n}function Kme(t,e,n){return e.slice(-4)===".bin"?Wme(t,n):qme(t,n)}function Yme(t,e,n,r,i,s,a,o){return e.slice(-4)===".bin"?kme(t,r,n,i,s,a,o):Hpe(t,r,n,i,s,a,o)}function Xme(t,e,n,r,i,s,a,o){return e.slice(-4)===".bin"?Lme(t,r,n,i,s):Dme(t,r,n,i,s)}function Jme(t,e,n,r,i,s,a,o){return e.slice(-4)===".bin"?s0e():a0e()}function Qme(t,e,n,r,i,s,a,o){return e.slice(-4)===".bin"?r0e():i0e()}function Zme(t,e,n,r){return e.slice(-4)===".bin"?_de(t,n,r):pde(t,n,r)}function ege(t,e,n){return zO(t,n)}function tge(t,e,n){return e.slice(-4)===".bin"?Fhe(t,n):Mhe(t,n)}function nge(t,e,n){return e.slice(-4)===".bin"?e0e(t,n):Yde(t,n)}function rge(t,e,n){return e.slice(-4)===".bin"?$de(t):zde(t)}function ige(t,e,n,r){return n.slice(-4)===".bin"?Wde(t,e,n,r):void 0}function sge(t,e,n){return e.slice(-4)===".bin"?qde(t,e,n):Hde(t,e,n)}var s9=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,a9=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function jl(t,e){var n=t.split(/\s+/),r=[];if(r[0]=n[0],n.length===1)return r;var i=t.match(s9),s,a,o,c;if(i)for(c=0;c!=i.length;++c)s=i[c].match(a9),(a=s[1].indexOf(":"))===-1?r[s[1]]=s[2].slice(1,s[2].length-1):(s[1].slice(0,6)==="xmlns:"?o="xmlns"+s[1].slice(6):o=s[1].slice(a+1),r[o]=s[2].slice(1,s[2].length-1));return r}function age(t){var e=t.split(/\s+/),n={};if(e.length===1)return n;var r=t.match(s9),i,s,a,o;if(r)for(o=0;o!=r.length;++o)i=r[o].match(a9),(s=i[1].indexOf(":"))===-1?n[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?a="xmlns"+i[1].slice(6):a=i[1].slice(s+1),n[a]=i[2].slice(1,i[2].length-1));return n}var gg;function oge(t,e){var n=gg[t]||vr(t);return n==="General"?cd(e):xl(n,e)}function lge(t,e,n,r){var i=r;switch((n[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":i=yi(r);break;case"i2":case"int":i=parseInt(r,10);break;case"r4":case"float":i=parseFloat(r);break;case"date":case"dateTime.tz":i=qs(r);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+n[0])}t[vr(e)]=i}function cge(t,e,n){if(t.t!=="z"){if(!n||n.cellText!==!1)try{t.t==="e"?t.w=t.w||Sd[t.v]:e==="General"?t.t==="n"?(t.v|0)===t.v?t.w=t.v.toString(10):t.w=qg(t.v):t.w=cd(t.v):t.w=oge(e||"General",t.v)}catch(s){if(n.WTF)throw s}try{var r=gg[e]||e||"General";if(n.cellNF&&(t.z=r),n.cellDates&&t.t=="n"&&Op(r)){var i=Vh(t.v);i&&(t.t="d",t.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}catch(s){if(n.WTF)throw s}}}function uge(t,e,n){if(n.cellStyles&&e.Interior){var r=e.Interior;r.Pattern&&(r.patternType=lde[r.Pattern]||r.Pattern)}t[e.ID]=e}function fge(t,e,n,r,i,s,a,o,c,f){var h="General",p=r.StyleID,g={};f=f||{};var x=[],T=0;for(p===void 0&&o&&(p=o.StyleID),p===void 0&&a&&(p=a.StyleID);s[p]!==void 0&&(s[p].nf&&(h=s[p].nf),s[p].Interior&&x.push(s[p].Interior),!!s[p].Parent);)p=s[p].Parent;switch(n.Type){case"Boolean":r.t="b",r.v=yi(t);break;case"String":r.t="s",r.r=hR(vr(t)),r.v=t.indexOf("<")>-1?vr(e||t).replace(/<.*?>/g,""):r.r;break;case"DateTime":t.slice(-1)!="Z"&&(t+="Z"),r.v=(qs(t)-new Date(Date.UTC(1899,11,30)))/(1440*60*1e3),r.v!==r.v?r.v=vr(t):r.v<60&&(r.v=r.v-1),(!h||h=="General")&&(h="yyyy-mm-dd");case"Number":r.v===void 0&&(r.v=+t),r.t||(r.t="n");break;case"Error":r.t="e",r.v=bO[t],f.cellText!==!1&&(r.w=t);break;default:t==""&&e==""?r.t="z":(r.t="s",r.v=hR(e||t));break}if(cge(r,h,f),f.cellFormula!==!1)if(r.Formula){var S=vr(r.Formula);S.charCodeAt(0)==61&&(S=S.slice(1)),r.f=Z0(S,i),delete r.Formula,r.ArrayRange=="RC"?r.F=Z0("RC:RC",i):r.ArrayRange&&(r.F=Z0(r.ArrayRange,i),c.push([Bi(r.F),r.F]))}else for(T=0;T<c.length;++T)i.r>=c[T][0].s.r&&i.r<=c[T][0].e.r&&i.c>=c[T][0].s.c&&i.c<=c[T][0].e.c&&(r.F=c[T][1]);f.cellStyles&&(x.forEach(function(N){!g.patternType&&N.patternType&&(g.patternType=N.patternType)}),r.s=g),r.StyleID!==void 0&&(r.ixfe=r.StyleID)}function hge(t){t.t=t.v||"",t.t=t.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.v=t.w=t.ixfe=void 0}function Gw(t,e){var n=e||{};K7();var r=jm($E(t));(n.type=="binary"||n.type=="array"||n.type=="base64")&&(r=ni(r));var i=r.slice(0,1024).toLowerCase(),s=!1;if(i=i.replace(/".*?"/g,""),(i.indexOf(">")&1023)>Math.min(i.indexOf(",")&1023,i.indexOf(";")&1023)){var a=aa(n);return a.type="string",Gg.to_workbook(r,a)}if(i.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(kt){i.indexOf("<"+kt)>=0&&(s=!0)}),s)return wge(r,n);gg={"General Number":"General","General Date":jn[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":jn[15],"Short Date":jn[14],"Long Time":jn[19],"Medium Time":jn[18],"Short Time":jn[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:jn[2],Standard:jn[4],Percent:jn[10],Scientific:jn[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var o,c=[],f,h={},p=[],g=n.dense?[]:{},x="",T={},S={},N=jl('<Data ss:Type="String">'),k=0,B=0,R=0,q={s:{r:2e6,c:2e6},e:{r:0,c:0}},Y={},J={},F="",O=0,C=[],H={},P={},L=0,V=[],me=[],Ne={},se=[],xe,he=!1,ue=[],Le=[],ne={},M=0,W=0,K={Sheets:[],WBProps:{date1904:!1}},Q={};zg.lastIndex=0,r=r.replace(/<!--([\s\S]*?)-->/mg,"");for(var ce="";o=zg.exec(r);)switch(o[3]=(ce=o[3]).toLowerCase()){case"data":if(ce=="data"){if(o[1]==="/"){if((f=c.pop())[0]!==o[3])throw new Error("Bad state: "+f.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&c.push([o[3],!0]);break}if(c[c.length-1][1])break;o[1]==="/"?fge(r.slice(k,o.index),F,N,c[c.length-1][0]=="comment"?Ne:T,{c:B,r:R},Y,se[B],S,ue,n):(F="",N=jl(o[0]),k=o.index+o[0].length);break;case"cell":if(o[1]==="/")if(me.length>0&&(T.c=me),(!n.sheetRows||n.sheetRows>R)&&T.v!==void 0&&(n.dense?(g[R]||(g[R]=[]),g[R][B]=T):g[Es(B)+oa(R)]=T),T.HRef&&(T.l={Target:vr(T.HRef)},T.HRefScreenTip&&(T.l.Tooltip=T.HRefScreenTip),delete T.HRef,delete T.HRefScreenTip),(T.MergeAcross||T.MergeDown)&&(M=B+(parseInt(T.MergeAcross,10)|0),W=R+(parseInt(T.MergeDown,10)|0),C.push({s:{c:B,r:R},e:{c:M,r:W}})),!n.sheetStubs)T.MergeAcross?B=M+1:++B;else if(T.MergeAcross||T.MergeDown){for(var we=B;we<=M;++we)for(var ke=R;ke<=W;++ke)(we>B||ke>R)&&(n.dense?(g[ke]||(g[ke]=[]),g[ke][we]={t:"z"}):g[Es(we)+oa(ke)]={t:"z"});B=M+1}else++B;else T=age(o[0]),T.Index&&(B=+T.Index-1),B<q.s.c&&(q.s.c=B),B>q.e.c&&(q.e.c=B),o[0].slice(-2)==="/>"&&++B,me=[];break;case"row":o[1]==="/"||o[0].slice(-2)==="/>"?(R<q.s.r&&(q.s.r=R),R>q.e.r&&(q.e.r=R),o[0].slice(-2)==="/>"&&(S=jl(o[0]),S.Index&&(R=+S.Index-1)),B=0,++R):(S=jl(o[0]),S.Index&&(R=+S.Index-1),ne={},(S.AutoFitHeight=="0"||S.Height)&&(ne.hpx=parseInt(S.Height,10),ne.hpt=HO(ne.hpx),Le[R]=ne),S.Hidden=="1"&&(ne.hidden=!0,Le[R]=ne));break;case"worksheet":if(o[1]==="/"){if((f=c.pop())[0]!==o[3])throw new Error("Bad state: "+f.join("|"));p.push(x),q.s.r<=q.e.r&&q.s.c<=q.e.c&&(g["!ref"]=mr(q),n.sheetRows&&n.sheetRows<=q.e.r&&(g["!fullref"]=g["!ref"],q.e.r=n.sheetRows-1,g["!ref"]=mr(q))),C.length&&(g["!merges"]=C),se.length>0&&(g["!cols"]=se),Le.length>0&&(g["!rows"]=Le),h[x]=g}else q={s:{r:2e6,c:2e6},e:{r:0,c:0}},R=B=0,c.push([o[3],!1]),f=jl(o[0]),x=vr(f.Name),g=n.dense?[]:{},C=[],ue=[],Le=[],Q={name:x,Hidden:0},K.Sheets.push(Q);break;case"table":if(o[1]==="/"){if((f=c.pop())[0]!==o[3])throw new Error("Bad state: "+f.join("|"))}else{if(o[0].slice(-2)=="/>")break;c.push([o[3],!1]),se=[],he=!1}break;case"style":o[1]==="/"?uge(Y,J,n):J=jl(o[0]);break;case"numberformat":J.nf=vr(jl(o[0]).Format||"General"),gg[J.nf]&&(J.nf=gg[J.nf]);for(var fe=0;fe!=392&&jn[fe]!=J.nf;++fe);if(fe==392){for(fe=57;fe!=392;++fe)if(jn[fe]==null){Wh(J.nf,fe);break}}break;case"column":if(c[c.length-1][0]!=="table")break;if(xe=jl(o[0]),xe.Hidden&&(xe.hidden=!0,delete xe.Hidden),xe.Width&&(xe.wpx=parseInt(xe.Width,10)),!he&&xe.wpx>10){he=!0,ja=jO;for(var Ae=0;Ae<se.length;++Ae)se[Ae]&&wp(se[Ae])}he&&wp(xe),se[xe.Index-1||se.length]=xe;for(var Ue=0;Ue<+xe.Span;++Ue)se[se.length]=aa(xe);break;case"namedrange":if(o[1]==="/")break;K.Names||(K.Names=[]);var ae=kn(o[0]),it={Name:ae.Name,Ref:Z0(ae.RefersTo.slice(1),{r:0,c:0})};K.Sheets.length>0&&(it.Sheet=K.Sheets.length-1),K.Names.push(it);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(o[0].slice(-2)==="/>")break;o[1]==="/"?F+=r.slice(O,o.index):O=o.index+o[0].length;break;case"interior":if(!n.cellStyles)break;J.Interior=jl(o[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(o[0].slice(-2)==="/>")break;o[1]==="/"?Yue(H,ce,r.slice(L,o.index)):L=o.index+o[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(o[1]==="/"){if((f=c.pop())[0]!==o[3])throw new Error("Bad state: "+f.join("|"))}else c.push([o[3],!1]);break;case"comment":if(o[1]==="/"){if((f=c.pop())[0]!==o[3])throw new Error("Bad state: "+f.join("|"));hge(Ne),me.push(Ne)}else c.push([o[3],!1]),f=jl(o[0]),Ne={a:f.Author};break;case"autofilter":if(o[1]==="/"){if((f=c.pop())[0]!==o[3])throw new Error("Bad state: "+f.join("|"))}else if(o[0].charAt(o[0].length-2)!=="/"){var dt=jl(o[0]);g["!autofilter"]={ref:Z0(dt.Range).replace(/\$/g,"")},c.push([o[3],!0])}break;case"name":break;case"datavalidation":if(o[1]==="/"){if((f=c.pop())[0]!==o[3])throw new Error("Bad state: "+f.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&c.push([o[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(o[1]==="/"){if((f=c.pop())[0]!==o[3])throw new Error("Bad state: "+f.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&c.push([o[3],!0]);break;case"null":break;default:if(c.length==0&&o[3]=="document"||c.length==0&&o[3]=="uof")return XR(r,n);var re=!0;switch(c[c.length-1][0]){case"officedocumentsettings":switch(o[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:re=!1}break;case"componentoptions":switch(o[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:re=!1}break;case"excelworkbook":switch(o[3]){case"date1904":K.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:re=!1}break;case"workbookoptions":switch(o[3]){case"owcversion":break;case"height":break;case"width":break;default:re=!1}break;case"worksheetoptions":switch(o[3]){case"visible":if(o[0].slice(-2)!=="/>")if(o[1]==="/")switch(r.slice(L,o.index)){case"SheetHidden":Q.Hidden=1;break;case"SheetVeryHidden":Q.Hidden=2;break}else L=o.index+o[0].length;break;case"header":g["!margins"]||mg(g["!margins"]={},"xlml"),isNaN(+kn(o[0]).Margin)||(g["!margins"].header=+kn(o[0]).Margin);break;case"footer":g["!margins"]||mg(g["!margins"]={},"xlml"),isNaN(+kn(o[0]).Margin)||(g["!margins"].footer=+kn(o[0]).Margin);break;case"pagemargins":var lt=kn(o[0]);g["!margins"]||mg(g["!margins"]={},"xlml"),isNaN(+lt.Top)||(g["!margins"].top=+lt.Top),isNaN(+lt.Left)||(g["!margins"].left=+lt.Left),isNaN(+lt.Right)||(g["!margins"].right=+lt.Right),isNaN(+lt.Bottom)||(g["!margins"].bottom=+lt.Bottom);break;case"displayrighttoleft":K.Views||(K.Views=[]),K.Views[0]||(K.Views[0]={}),K.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":g["!outline"]||(g["!outline"]={}),g["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":g["!outline"]||(g["!outline"]={}),g["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:re=!1}break;case"pivottable":case"pivotcache":switch(o[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:re=!1}break;case"pagebreaks":switch(o[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:re=!1}break;case"autofilter":switch(o[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:re=!1}break;case"querytable":switch(o[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:re=!1}break;case"datavalidation":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:re=!1}break;case"sorting":case"conditionalformatting":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:re=!1}break;case"mapinfo":case"schema":case"data":switch(o[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:re=!1}break;case"smarttags":break;default:re=!1;break}if(re||o[3].match(/!\[CDATA/))break;if(!c[c.length-1][1])throw"Unrecognized tag: "+o[3]+"|"+c.join("|");if(c[c.length-1][0]==="customdocumentproperties"){if(o[0].slice(-2)==="/>")break;o[1]==="/"?lge(P,ce,V,r.slice(L,o.index)):(V=o,L=o.index+o[0].length);break}if(n.WTF)throw"Unrecognized tag: "+o[3]+"|"+c.join("|")}var ft={};return!n.bookSheets&&!n.bookProps&&(ft.Sheets=h),ft.SheetNames=p,ft.Workbook=K,ft.SSF=aa(jn),ft.Props=H,ft.Custprops=P,ft}function k5(t,e){switch(oS(e=e||{}),e.type||"base64"){case"base64":return Gw(jo(t),e);case"binary":case"buffer":case"file":return Gw(t,e);case"array":return Gw(bd(t),e)}}function dge(t){var e={},n=t.content;if(n.l=28,e.AnsiUserType=n.read_shift(0,"lpstr-ansi"),e.AnsiClipboardFormat=Cue(n),n.length-n.l<=4)return e;var r=n.read_shift(4);if(r==0||r>40||(n.l-=4,e.Reserved1=n.read_shift(0,"lpstr-ansi"),n.length-n.l<=4)||(r=n.read_shift(4),r!==1907505652)||(e.UnicodeClipboardFormat=Nue(n),r=n.read_shift(4),r==0||r>40))return e;n.l-=4,e.Reserved2=n.read_shift(0,"lpwstr")}var pge=[60,1084,2066,2165,2175];function mge(t,e,n,r,i){var s=r,a=[],o=n.slice(n.l,n.l+s);if(i&&i.enc&&i.enc.insitu&&o.length>0)switch(t){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:i.enc.insitu(o)}a.push(o),n.l+=s;for(var c=bu(n,n.l),f=R5[c],h=0;f!=null&&pge.indexOf(c)>-1;)s=bu(n,n.l+2),h=n.l+4,c==2066?h+=4:(c==2165||c==2175)&&(h+=12),o=n.slice(h,n.l+4+s),a.push(o),n.l+=4+s,f=R5[c=bu(n,n.l)];var p=If(a);ra(p,0);var g=0;p.lens=[];for(var x=0;x<a.length;++x)p.lens.push(g),g+=a[x].length;if(p.length<r)throw"XLS Record 0x"+t.toString(16)+" Truncated: "+p.length+" < "+r;return e.f(p,p.length,i)}function wc(t,e,n){if(t.t!=="z"&&t.XF){var r=0;try{r=t.z||t.XF.numFmtId||0,e.cellNF&&(t.z=jn[r])}catch(s){if(e.WTF)throw s}if(!e||e.cellText!==!1)try{t.t==="e"?t.w=t.w||Sd[t.v]:r===0||r=="General"?t.t==="n"?(t.v|0)===t.v?t.w=t.v.toString(10):t.w=qg(t.v):t.w=cd(t.v):t.w=xl(r,t.v,{date1904:!!n,dateNF:e&&e.dateNF})}catch(s){if(e.WTF)throw s}if(e.cellDates&&r&&t.t=="n"&&Op(jn[r]||String(r))){var i=Vh(t.v);i&&(t.t="d",t.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}}function Kx(t,e,n){return{v:t,ixfe:e,t:n}}function gge(t,e){var n={opts:{}},r={},i=e.dense?[]:{},s={},a={},o=null,c=[],f="",h={},p,g="",x,T,S,N,k={},B=[],R,q,Y=[],J=[],F={Sheets:[],WBProps:{date1904:!1},Views:[{}]},O={},C=function(At){return At<8?Kh[At]:At<64&&J[At-8]||Kh[At]},H=function(At,Rt,qn){var $t=Rt.XF.data;if(!(!$t||!$t.patternType||!qn||!qn.cellStyles)){Rt.s={},Rt.s.patternType=$t.patternType;var Yt;(Yt=$g(C($t.icvFore)))&&(Rt.s.fgColor={rgb:Yt}),(Yt=$g(C($t.icvBack)))&&(Rt.s.bgColor={rgb:Yt})}},P=function(At,Rt,qn){if(!(ne>1)&&!(qn.sheetRows&&At.r>=qn.sheetRows)){if(qn.cellStyles&&Rt.XF&&Rt.XF.data&&H(At,Rt,qn),delete Rt.ixfe,delete Rt.XF,p=At,g=Vn(At),(!a||!a.s||!a.e)&&(a={s:{r:0,c:0},e:{r:0,c:0}}),At.r<a.s.r&&(a.s.r=At.r),At.c<a.s.c&&(a.s.c=At.c),At.r+1>a.e.r&&(a.e.r=At.r+1),At.c+1>a.e.c&&(a.e.c=At.c+1),qn.cellFormula&&Rt.f){for(var $t=0;$t<B.length;++$t)if(!(B[$t][0].s.c>At.c||B[$t][0].s.r>At.r)&&!(B[$t][0].e.c<At.c||B[$t][0].e.r<At.r)){Rt.F=mr(B[$t][0]),(B[$t][0].s.c!=At.c||B[$t][0].s.r!=At.r)&&delete Rt.f,Rt.f&&(Rt.f=""+wa(B[$t][1],a,At,ue,L));break}}qn.dense?(i[At.r]||(i[At.r]=[]),i[At.r][At.c]=Rt):i[g]=Rt}},L={enc:!1,sbcch:0,snames:[],sharedf:k,arrayf:B,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!e&&!!e.cellStyles,WTF:!!e&&!!e.wtf};e.password&&(L.password=e.password);var V,me=[],Ne=[],se=[],xe=[],he=!1,ue=[];ue.SheetNames=L.snames,ue.sharedf=L.sharedf,ue.arrayf=L.arrayf,ue.names=[],ue.XTI=[];var Le=0,ne=0,M=0,W=[],K=[],Q;L.codepage=1200,Wl(1200);for(var ce=!1;t.l<t.length-1;){var we=t.l,ke=t.read_shift(2);if(ke===0&&Le===10)break;var fe=t.l===t.length?0:t.read_shift(2),Ae=R5[ke];if(Ae&&Ae.f){if(e.bookSheets&&Le===133&&ke!==133)break;if(Le=ke,Ae.r===2||Ae.r==12){var Ue=t.read_shift(2);if(fe-=2,!L.enc&&Ue!==ke&&((Ue&255)<<8|Ue>>8)!==ke)throw new Error("rt mismatch: "+Ue+"!="+ke);Ae.r==12&&(t.l+=10,fe-=10)}var ae={};if(ke===10?ae=Ae.f(t,fe,L):ae=mge(ke,Ae,t,fe,L),ne==0&&[9,521,1033,2057].indexOf(Le)===-1)continue;switch(ke){case 34:n.opts.Date1904=F.WBProps.date1904=ae;break;case 134:n.opts.WriteProtect=!0;break;case 47:if(L.enc||(t.l=0),L.enc=ae,!e.password)throw new Error("File is password-protected");if(ae.valid==null)throw new Error("Encryption scheme unsupported");if(!ae.valid)throw new Error("Password is incorrect");break;case 92:L.lastuser=ae;break;case 66:var it=Number(ae);switch(it){case 21010:it=1200;break;case 32768:it=1e4;break;case 32769:it=1252;break}Wl(L.codepage=it),ce=!0;break;case 317:L.rrtabid=ae;break;case 25:L.winlocked=ae;break;case 439:n.opts.RefreshAll=ae;break;case 12:n.opts.CalcCount=ae;break;case 16:n.opts.CalcDelta=ae;break;case 17:n.opts.CalcIter=ae;break;case 13:n.opts.CalcMode=ae;break;case 14:n.opts.CalcPrecision=ae;break;case 95:n.opts.CalcSaveRecalc=ae;break;case 15:L.CalcRefMode=ae;break;case 2211:n.opts.FullCalc=ae;break;case 129:ae.fDialog&&(i["!type"]="dialog"),ae.fBelow||((i["!outline"]||(i["!outline"]={})).above=!0),ae.fRight||((i["!outline"]||(i["!outline"]={})).left=!0);break;case 224:Y.push(ae);break;case 430:ue.push([ae]),ue[ue.length-1].XTI=[];break;case 35:case 547:ue[ue.length-1].push(ae);break;case 24:case 536:Q={Name:ae.Name,Ref:wa(ae.rgce,a,null,ue,L)},ae.itab>0&&(Q.Sheet=ae.itab-1),ue.names.push(Q),ue[0]||(ue[0]=[],ue[0].XTI=[]),ue[ue.length-1].push(ae),ae.Name=="_xlnm._FilterDatabase"&&ae.itab>0&&ae.rgce&&ae.rgce[0]&&ae.rgce[0][0]&&ae.rgce[0][0][0]=="PtgArea3d"&&(K[ae.itab-1]={ref:mr(ae.rgce[0][0][1][2])});break;case 22:L.ExternCount=ae;break;case 23:ue.length==0&&(ue[0]=[],ue[0].XTI=[]),ue[ue.length-1].XTI=ue[ue.length-1].XTI.concat(ae),ue.XTI=ue.XTI.concat(ae);break;case 2196:if(L.biff<8)break;Q!=null&&(Q.Comment=ae[1]);break;case 18:i["!protect"]=ae;break;case 19:ae!==0&&L.WTF&&console.error("Password verifier: "+ae);break;case 133:s[ae.pos]=ae,L.snames.push(ae.name);break;case 10:{if(--ne)break;if(a.e){if(a.e.r>0&&a.e.c>0){if(a.e.r--,a.e.c--,i["!ref"]=mr(a),e.sheetRows&&e.sheetRows<=a.e.r){var dt=a.e.r;a.e.r=e.sheetRows-1,i["!fullref"]=i["!ref"],i["!ref"]=mr(a),a.e.r=dt}a.e.r++,a.e.c++}me.length>0&&(i["!merges"]=me),Ne.length>0&&(i["!objects"]=Ne),se.length>0&&(i["!cols"]=se),xe.length>0&&(i["!rows"]=xe),F.Sheets.push(O)}f===""?h=i:r[f]=i,i=e.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(L.biff===8&&(L.biff={9:2,521:3,1033:4}[ke]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[ae.BIFFVer]||8),L.biffguess=ae.BIFFVer==0,ae.BIFFVer==0&&ae.dt==4096&&(L.biff=5,ce=!0,Wl(L.codepage=28591)),L.biff==8&&ae.BIFFVer==0&&ae.dt==16&&(L.biff=2),ne++)break;if(i=e.dense?[]:{},L.biff<8&&!ce&&(ce=!0,Wl(L.codepage=e.codepage||1252)),L.biff<5||ae.BIFFVer==0&&ae.dt==4096){f===""&&(f="Sheet1"),a={s:{r:0,c:0},e:{r:0,c:0}};var re={pos:t.l-fe,name:f};s[re.pos]=re,L.snames.push(f)}else f=(s[we]||{name:""}).name;ae.dt==32&&(i["!type"]="chart"),ae.dt==64&&(i["!type"]="macro"),me=[],Ne=[],L.arrayf=B=[],se=[],xe=[],he=!1,O={Hidden:(s[we]||{hs:0}).hs,name:f}}break;case 515:case 3:case 2:i["!type"]=="chart"&&(e.dense?(i[ae.r]||[])[ae.c]:i[Vn({c:ae.c,r:ae.r})])&&++ae.c,R={ixfe:ae.ixfe,XF:Y[ae.ixfe]||{},v:ae.val,t:"n"},M>0&&(R.z=W[R.ixfe>>8&63]),wc(R,e,n.opts.Date1904),P({c:ae.c,r:ae.r},R,e);break;case 5:case 517:R={ixfe:ae.ixfe,XF:Y[ae.ixfe],v:ae.val,t:ae.t},M>0&&(R.z=W[R.ixfe>>8&63]),wc(R,e,n.opts.Date1904),P({c:ae.c,r:ae.r},R,e);break;case 638:R={ixfe:ae.ixfe,XF:Y[ae.ixfe],v:ae.rknum,t:"n"},M>0&&(R.z=W[R.ixfe>>8&63]),wc(R,e,n.opts.Date1904),P({c:ae.c,r:ae.r},R,e);break;case 189:for(var lt=ae.c;lt<=ae.C;++lt){var ft=ae.rkrec[lt-ae.c][0];R={ixfe:ft,XF:Y[ft],v:ae.rkrec[lt-ae.c][1],t:"n"},M>0&&(R.z=W[R.ixfe>>8&63]),wc(R,e,n.opts.Date1904),P({c:lt,r:ae.r},R,e)}break;case 6:case 518:case 1030:{if(ae.val=="String"){o=ae;break}if(R=Kx(ae.val,ae.cell.ixfe,ae.tt),R.XF=Y[R.ixfe],e.cellFormula){var kt=ae.formula;if(kt&&kt[0]&&kt[0][0]&&kt[0][0][0]=="PtgExp"){var rt=kt[0][0][1][0],St=kt[0][0][1][1],Nt=Vn({r:rt,c:St});k[Nt]?R.f=""+wa(ae.formula,a,ae.cell,ue,L):R.F=((e.dense?(i[rt]||[])[St]:i[Nt])||{}).F}else R.f=""+wa(ae.formula,a,ae.cell,ue,L)}M>0&&(R.z=W[R.ixfe>>8&63]),wc(R,e,n.opts.Date1904),P(ae.cell,R,e),o=ae}break;case 7:case 519:if(o)o.val=ae,R=Kx(ae,o.cell.ixfe,"s"),R.XF=Y[R.ixfe],e.cellFormula&&(R.f=""+wa(o.formula,a,o.cell,ue,L)),M>0&&(R.z=W[R.ixfe>>8&63]),wc(R,e,n.opts.Date1904),P(o.cell,R,e),o=null;else throw new Error("String record expects Formula");break;case 33:case 545:{B.push(ae);var Jt=Vn(ae[0].s);if(x=e.dense?(i[ae[0].s.r]||[])[ae[0].s.c]:i[Jt],e.cellFormula&&x){if(!o||!Jt||!x)break;x.f=""+wa(ae[1],a,ae[0],ue,L),x.F=mr(ae[0])}}break;case 1212:{if(!e.cellFormula)break;if(g){if(!o)break;k[Vn(o.cell)]=ae[0],x=e.dense?(i[o.cell.r]||[])[o.cell.c]:i[Vn(o.cell)],(x||{}).f=""+wa(ae[0],a,p,ue,L)}}break;case 253:R=Kx(c[ae.isst].t,ae.ixfe,"s"),c[ae.isst].h&&(R.h=c[ae.isst].h),R.XF=Y[R.ixfe],M>0&&(R.z=W[R.ixfe>>8&63]),wc(R,e,n.opts.Date1904),P({c:ae.c,r:ae.r},R,e);break;case 513:e.sheetStubs&&(R={ixfe:ae.ixfe,XF:Y[ae.ixfe],t:"z"},M>0&&(R.z=W[R.ixfe>>8&63]),wc(R,e,n.opts.Date1904),P({c:ae.c,r:ae.r},R,e));break;case 190:if(e.sheetStubs)for(var qt=ae.c;qt<=ae.C;++qt){var sn=ae.ixfe[qt-ae.c];R={ixfe:sn,XF:Y[sn],t:"z"},M>0&&(R.z=W[R.ixfe>>8&63]),wc(R,e,n.opts.Date1904),P({c:qt,r:ae.r},R,e)}break;case 214:case 516:case 4:R=Kx(ae.val,ae.ixfe,"s"),R.XF=Y[R.ixfe],M>0&&(R.z=W[R.ixfe>>8&63]),wc(R,e,n.opts.Date1904),P({c:ae.c,r:ae.r},R,e);break;case 0:case 512:ne===1&&(a=ae);break;case 252:c=ae;break;case 1054:if(L.biff==4){W[M++]=ae[1];for(var mn=0;mn<M+163&&jn[mn]!=ae[1];++mn);mn>=163&&Wh(ae[1],M+163)}else Wh(ae[1],ae[0]);break;case 30:{W[M++]=ae;for(var ln=0;ln<M+163&&jn[ln]!=ae;++ln);ln>=163&&Wh(ae,M+163)}break;case 229:me=me.concat(ae);break;case 93:Ne[ae.cmo[0]]=L.lastobj=ae;break;case 438:L.lastobj.TxO=ae;break;case 127:L.lastobj.ImData=ae;break;case 440:for(N=ae[0].s.r;N<=ae[0].e.r;++N)for(S=ae[0].s.c;S<=ae[0].e.c;++S)x=e.dense?(i[N]||[])[S]:i[Vn({c:S,r:N})],x&&(x.l=ae[1]);break;case 2048:for(N=ae[0].s.r;N<=ae[0].e.r;++N)for(S=ae[0].s.c;S<=ae[0].e.c;++S)x=e.dense?(i[N]||[])[S]:i[Vn({c:S,r:N})],x&&x.l&&(x.l.Tooltip=ae[1]);break;case 28:{if(L.biff<=5&&L.biff>=2)break;x=e.dense?(i[ae[0].r]||[])[ae[0].c]:i[Vn(ae[0])];var En=Ne[ae[2]];x||(e.dense?(i[ae[0].r]||(i[ae[0].r]=[]),x=i[ae[0].r][ae[0].c]={t:"z"}):x=i[Vn(ae[0])]={t:"z"},a.e.r=Math.max(a.e.r,ae[0].r),a.s.r=Math.min(a.s.r,ae[0].r),a.e.c=Math.max(a.e.c,ae[0].c),a.s.c=Math.min(a.s.c,ae[0].c)),x.c||(x.c=[]),T={a:ae[1],t:En.TxO.t},x.c.push(T)}break;case 2173:Vde(Y[ae.ixfe],ae.ext);break;case 125:{if(!L.cellStyles)break;for(;ae.e>=ae.s;)se[ae.e--]={width:ae.w/256,level:ae.level||0,hidden:!!(ae.flags&1)},he||(he=!0,nS(ae.w/256)),wp(se[ae.e+1])}break;case 520:{var an={};ae.level!=null&&(xe[ae.r]=an,an.level=ae.level),ae.hidden&&(xe[ae.r]=an,an.hidden=!0),ae.hpt&&(xe[ae.r]=an,an.hpt=ae.hpt,an.hpx=Wg(ae.hpt))}break;case 38:case 39:case 40:case 41:i["!margins"]||mg(i["!margins"]={}),i["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[ke]]=ae;break;case 161:i["!margins"]||mg(i["!margins"]={}),i["!margins"].header=ae.header,i["!margins"].footer=ae.footer;break;case 574:ae.RTL&&(F.Views[0].RTL=!0);break;case 146:J=ae;break;case 2198:V=ae;break;case 140:q=ae;break;case 442:f?O.CodeName=ae||O.name:F.WBProps.CodeName=ae||"ThisWorkbook";break}}else Ae||console.error("Missing Info for XLS Record 0x"+ke.toString(16)),t.l+=fe}return n.SheetNames=Bc(s).sort(function(Ft,At){return Number(Ft)-Number(At)}).map(function(Ft){return s[Ft].name}),e.bookSheets||(n.Sheets=r),!n.SheetNames.length&&h["!ref"]?(n.SheetNames.push("Sheet1"),n.Sheets&&(n.Sheets.Sheet1=h)):n.Preamble=h,n.Sheets&&K.forEach(function(Ft,At){n.Sheets[n.SheetNames[At]]["!autofilter"]=Ft}),n.Strings=c,n.SSF=aa(jn),L.enc&&(n.Encryption=L.enc),V&&(n.Themes=V),n.Metadata={},q!==void 0&&(n.Metadata.Country=q),ue.names.length>0&&(F.Names=ue.names),n.Workbook=F,n}var GR={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function xge(t,e,n){var r=pr.find(t,"/!DocumentSummaryInformation");if(r&&r.size>0)try{var i=NR(r,Mue,GR.DSI);for(var s in i)e[s]=i[s]}catch(f){if(n.WTF)throw f}var a=pr.find(t,"/!SummaryInformation");if(a&&a.size>0)try{var o=NR(a,Lue,GR.SI);for(var c in o)e[c]==null&&(e[c]=o[c])}catch(f){if(n.WTF)throw f}e.HeadingPairs&&e.TitlesOfParts&&(EO(e.HeadingPairs,e.TitlesOfParts,e,n),delete e.HeadingPairs,delete e.TitlesOfParts)}function o9(t,e){e||(e={}),oS(e),F7(),e.codepage&&UE(e.codepage);var n,r;if(t.FullPaths){if(pr.find(t,"/encryption"))throw new Error("File is password-protected");n=pr.find(t,"!CompObj"),r=pr.find(t,"/Workbook")||pr.find(t,"/Book")}else{switch(e.type){case"base64":t=Gl(jo(t));break;case"binary":t=Gl(t);break;case"buffer":break;case"array":Array.isArray(t)||(t=Array.prototype.slice.call(t));break}ra(t,0),r={content:t}}var i,s;if(n&&dge(n),e.bookProps&&!e.bookSheets)i={};else{var a=or?"buffer":"array";if(r&&r.content)i=gge(r.content,e);else if((s=pr.find(t,"PerfectOffice_MAIN"))&&s.content)i=dg.to_workbook(s.content,(e.type=a,e));else if((s=pr.find(t,"NativeContent_MAIN"))&&s.content)i=dg.to_workbook(s.content,(e.type=a,e));else throw(s=pr.find(t,"MN0"))&&s.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");e.bookVBA&&t.FullPaths&&pr.find(t,"/_VBA_PROJECT_CUR/VBA/dir")&&(i.vbaraw=n0e(t))}var o={};return t.FullPaths&&xge(t,o,e),i.Props=i.Custprops=o,e.bookFiles&&(i.cfb=t),i}var Sv={0:{f:Qpe},1:{f:nme},2:{f:fme},3:{f:ame},4:{f:ime},5:{f:ume},6:{f:pme},7:{f:lme},8:{f:vme},9:{f:yme},10:{f:gme},11:{f:xme},12:{f:rme},13:{f:hme},14:{f:ome},15:{f:sme},16:{f:n9},17:{f:mme},18:{f:cme},19:{f:XE},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:$me},40:{},42:{},43:{f:gde},44:{f:mde},45:{f:xde},46:{f:vde},47:{f:yde},48:{},49:{f:_ue},50:{},51:{f:Bde},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:FO},62:{f:dme},63:{f:Gde},64:{f:Nme},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Ia,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:Cme},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:tme},148:{f:Zpe,p:16},151:{f:bme},152:{},153:{f:zme},154:{},155:{},156:{f:Hme},157:{},158:{},159:{T:1,f:Lhe},160:{T:-1},161:{T:1,f:Ed},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:_me},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:Ude},336:{T:-1},337:{f:jde,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:A5},357:{},358:{},359:{},360:{T:1},361:{},362:{f:LO},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:Tme},427:{f:Eme},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:Ame},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:eme},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:wme},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:A5},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:Zde},633:{T:1},634:{T:-1},635:{T:1,f:Qde},636:{T:-1},637:{f:bue},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:Mme},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:Ime},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},R5={6:{f:Hw},10:{f:bf},12:{f:as},13:{f:as},14:{f:$i},15:{f:$i},16:{f:Ta},17:{f:$i},18:{f:$i},19:{f:as},20:{f:PR},21:{f:PR},23:{f:LO},24:{f:MR},25:{f:$i},26:{},27:{},28:{f:Xfe},29:{},34:{f:$i},35:{f:DR},38:{f:Ta},39:{f:Ta},40:{f:Ta},41:{f:Ta},42:{f:$i},43:{f:$i},47:{f:ede},49:{f:Rfe},51:{f:as},60:{},61:{f:Nfe},64:{f:$i},65:{f:kfe},66:{f:as},77:{},80:{},81:{},82:{},85:{f:as},89:{},90:{},91:{},92:{f:_fe},93:{f:Qfe},94:{},95:{f:$i},96:{},97:{},99:{f:$i},125:{f:FO},128:{f:jfe},129:{f:wfe},130:{f:as},131:{f:$i},132:{f:$i},133:{f:bfe},134:{},140:{f:ihe},141:{f:as},144:{},146:{f:ahe},151:{},152:{},153:{},154:{},155:{},156:{f:as},157:{},158:{},160:{f:fhe},161:{f:lhe},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:Ofe},190:{f:Vfe},193:{f:bf},197:{},198:{},199:{},200:{},201:{},202:{f:$i},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:as},220:{},221:{f:$i},222:{},224:{f:Bfe},225:{f:vfe},226:{f:bf},227:{},229:{f:Jfe},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:Tfe},253:{f:Pfe},255:{f:Efe},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:IO},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:$i},353:{f:bf},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:Hfe},431:{f:$i},432:{},433:{},434:{},437:{},438:{f:the},439:{f:$i},440:{f:nhe},441:{},442:{f:_1},443:{},444:{f:as},445:{},446:{},448:{f:bf},449:{f:Cfe,r:2},450:{f:bf},512:{f:kR},513:{f:uhe},515:{f:qfe},516:{f:Dfe},517:{f:RR},519:{f:hhe},520:{f:Sfe},523:{},545:{f:LR},549:{f:IR},566:{},574:{f:Ife},638:{f:Ffe},659:{},1048:{},1054:{f:Mfe},1084:{},1212:{f:Wfe},2048:{f:rhe},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:Gx},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:bf},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:ohe,r:12},2173:{f:Ode,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:$i,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:$fe,r:12},2197:{},2198:{f:Rde,r:12},2199:{},2200:{},2201:{},2202:{f:Kfe,r:12},2203:{f:bf},2204:{},2205:{},2206:{},2207:{},2211:{f:Afe},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:as},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:che},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:she},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:kR},1:{},2:{f:ghe},3:{f:mhe},4:{f:phe},5:{f:RR},7:{f:xhe},8:{},9:{f:Gx},11:{},22:{f:as},30:{f:Lfe},31:{},32:{},33:{f:LR},36:{},37:{f:IR},50:{f:yhe},62:{},52:{},67:{},68:{f:as},69:{},86:{},126:{},127:{f:dhe},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:vhe},223:{},234:{},354:{},421:{},518:{f:Hw},521:{f:Gx},536:{f:MR},547:{f:DR},561:{},579:{},1030:{f:Hw},1033:{f:Gx},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function ql(t,e,n,r){var i=e;if(!isNaN(i)){var s=(n||[]).length||0,a=t.next(4);a.write_shift(2,i),a.write_shift(2,s),s>0&&gO(n)&&t.push(n)}}function $R(t,e){var n=e||{},r=n.dense?[]:{};t=t.replace(/<!--.*?-->/g,"");var i=t.match(/<table/i);if(!i)throw new Error("Invalid HTML: could not find <table>");var s=t.match(/<\/table/i),a=i.index,o=s&&s.index||t.length,c=qce(t.slice(a,o),/(:?<tr[^>]*>)/i,"<tr>"),f=-1,h=0,p=0,g=0,x={s:{r:1e7,c:1e7},e:{r:0,c:0}},T=[];for(a=0;a<c.length;++a){var S=c[a].trim(),N=S.slice(0,3).toLowerCase();if(N=="<tr"){if(++f,n.sheetRows&&n.sheetRows<=f){--f;break}h=0;continue}if(!(N!="<td"&&N!="<th")){var k=S.split(/<\/t[dh]>/i);for(o=0;o<k.length;++o){var B=k[o].trim();if(B.match(/<t[dh]/i)){for(var R=B,q=0;R.charAt(0)=="<"&&(q=R.indexOf(">"))>-1;)R=R.slice(q+1);for(var Y=0;Y<T.length;++Y){var J=T[Y];J.s.c==h&&J.s.r<f&&f<=J.e.r&&(h=J.e.c+1,Y=-1)}var F=kn(B.slice(0,B.indexOf(">")));g=F.colspan?+F.colspan:1,((p=+F.rowspan)>1||g>1)&&T.push({s:{r:f,c:h},e:{r:f+(p||1)-1,c:h+g-1}});var O=F.t||F["data-t"]||"";if(!R.length){h+=g;continue}if(R=rO(R),x.s.r>f&&(x.s.r=f),x.e.r<f&&(x.e.r=f),x.s.c>h&&(x.s.c=h),x.e.c<h&&(x.e.c=h),!R.length){h+=g;continue}var C={t:"s",v:R};n.raw||!R.trim().length||O=="s"||(R==="TRUE"?C={t:"b",v:!0}:R==="FALSE"?C={t:"b",v:!1}:isNaN(Yl(R))?isNaN(_p(R).getDate())||(C={t:"d",v:qs(R)},n.cellDates||(C={t:"n",v:Wa(C.v)}),C.z=n.dateNF||jn[14]):C={t:"n",v:Yl(R)}),n.dense?(r[f]||(r[f]=[]),r[f][h]=C):r[Vn({r:f,c:h})]=C,h+=g}}}}return r["!ref"]=mr(x),T.length&&(r["!merges"]=T),r}function yge(t,e,n,r){for(var i=t["!merges"]||[],s=[],a=e.s.c;a<=e.e.c;++a){for(var o=0,c=0,f=0;f<i.length;++f)if(!(i[f].s.r>n||i[f].s.c>a)&&!(i[f].e.r<n||i[f].e.c<a)){if(i[f].s.r<n||i[f].s.c<a){o=-1;break}o=i[f].e.r-i[f].s.r+1,c=i[f].e.c-i[f].s.c+1;break}if(!(o<0)){var h=Vn({r:n,c:a}),p=r.dense?(t[n]||[])[a]:t[h],g=p&&p.v!=null&&(p.h||GE(p.w||(Du(p),p.w)||""))||"",x={};o>1&&(x.rowspan=o),c>1&&(x.colspan=c),r.editable?g='<span contenteditable="true">'+g+"</span>":p&&(x["data-t"]=p&&p.t||"z",p.v!=null&&(x["data-v"]=p.v),p.z!=null&&(x["data-z"]=p.z),p.l&&(p.l.Target||"#").charAt(0)!="#"&&(g='<a href="'+p.l.Target+'">'+g+"</a>")),x.id=(r.id||"sjs")+"-"+h,s.push(iue("td",g,x))}}var T="<tr>";return T+s.join("")+"</tr>"}var vge='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',_ge="</body></html>";function wge(t,e){var n=t.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!n||n.length==0)throw new Error("Invalid HTML: could not find <table>");if(n.length==1)return ih($R(n[0],e),e);var r=cS();return n.forEach(function(i,s){uS(r,$R(i,e),"Sheet"+(s+1))}),r}function bge(t,e,n){var r=[];return r.join("")+"<table"+(n&&n.id?' id="'+n.id+'"':"")+">"}function Tge(t,e){var n=e||{},r=n.header!=null?n.header:vge,i=n.footer!=null?n.footer:_ge,s=[r],a=Vp(t["!ref"]);n.dense=Array.isArray(t),s.push(bge(t,a,n));for(var o=a.s.r;o<=a.e.r;++o)s.push(yge(t,a,o,n));return s.push("</table>"+i),s.join("")}function l9(t,e,n){var r=n||{},i=0,s=0;if(r.origin!=null)if(typeof r.origin=="number")i=r.origin;else{var a=typeof r.origin=="string"?za(r.origin):r.origin;i=a.r,s=a.c}var o=e.getElementsByTagName("tr"),c=Math.min(r.sheetRows||1e7,o.length),f={s:{r:0,c:0},e:{r:i,c:s}};if(t["!ref"]){var h=Vp(t["!ref"]);f.s.r=Math.min(f.s.r,h.s.r),f.s.c=Math.min(f.s.c,h.s.c),f.e.r=Math.max(f.e.r,h.e.r),f.e.c=Math.max(f.e.c,h.e.c),i==-1&&(f.e.r=i=h.e.r+1)}var p=[],g=0,x=t["!rows"]||(t["!rows"]=[]),T=0,S=0,N=0,k=0,B=0,R=0;for(t["!cols"]||(t["!cols"]=[]);T<o.length&&S<c;++T){var q=o[T];if(WR(q)){if(r.display)continue;x[S]={hidden:!0}}var Y=q.children;for(N=k=0;N<Y.length;++N){var J=Y[N];if(!(r.display&&WR(J))){var F=J.hasAttribute("data-v")?J.getAttribute("data-v"):J.hasAttribute("v")?J.getAttribute("v"):rO(J.innerHTML),O=J.getAttribute("data-z")||J.getAttribute("z");for(g=0;g<p.length;++g){var C=p[g];C.s.c==k+s&&C.s.r<S+i&&S+i<=C.e.r&&(k=C.e.c+1-s,g=-1)}R=+J.getAttribute("colspan")||1,((B=+J.getAttribute("rowspan")||1)>1||R>1)&&p.push({s:{r:S+i,c:k+s},e:{r:S+i+(B||1)-1,c:k+s+(R||1)-1}});var H={t:"s",v:F},P=J.getAttribute("data-t")||J.getAttribute("t")||"";F!=null&&(F.length==0?H.t=P||"z":r.raw||F.trim().length==0||P=="s"||(F==="TRUE"?H={t:"b",v:!0}:F==="FALSE"?H={t:"b",v:!1}:isNaN(Yl(F))?isNaN(_p(F).getDate())||(H={t:"d",v:qs(F)},r.cellDates||(H={t:"n",v:Wa(H.v)}),H.z=r.dateNF||jn[14]):H={t:"n",v:Yl(F)})),H.z===void 0&&O!=null&&(H.z=O);var L="",V=J.getElementsByTagName("A");if(V&&V.length)for(var me=0;me<V.length&&!(V[me].hasAttribute("href")&&(L=V[me].getAttribute("href"),L.charAt(0)!="#"));++me);L&&L.charAt(0)!="#"&&(H.l={Target:L}),r.dense?(t[S+i]||(t[S+i]=[]),t[S+i][k+s]=H):t[Vn({c:k+s,r:S+i})]=H,f.e.c<k+s&&(f.e.c=k+s),k+=R}}++S}return p.length&&(t["!merges"]=(t["!merges"]||[]).concat(p)),f.e.r=Math.max(f.e.r,S-1+i),t["!ref"]=mr(f),S>=c&&(t["!fullref"]=mr((f.e.r=o.length-T+S-1+i,f))),t}function c9(t,e){var n=e||{},r=n.dense?[]:{};return l9(r,t,e)}function Ege(t,e){return ih(c9(t,e),e)}function WR(t){var e="",n=Sge(t);return n&&(e=n(t).getPropertyValue("display")),e||(e=t.style&&t.style.display),e==="none"}function Sge(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function Age(t){var e=t.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(r,i){return Array(parseInt(i,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),n=vr(e.replace(/<[^>]*>/g,""));return[n]}var KR={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function u9(t,e){var n=e||{},r=$E(t),i=[],s,a,o={name:""},c="",f=0,h,p,g={},x=[],T=n.dense?[]:{},S,N,k={value:""},B="",R=0,q=[],Y=-1,J=-1,F={s:{r:1e6,c:1e7},e:{r:0,c:0}},O=0,C={},H=[],P={},L=0,V=0,me=[],Ne=1,se=1,xe=[],he={Names:[]},ue={},Le=["",""],ne=[],M={},W="",K=0,Q=!1,ce=!1,we=0;for(zg.lastIndex=0,r=r.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");S=zg.exec(r);)switch(S[3]=S[3].replace(/_.*$/,"")){case"table":case"":S[1]==="/"?(F.e.c>=F.s.c&&F.e.r>=F.s.r?T["!ref"]=mr(F):T["!ref"]="A1:A1",n.sheetRows>0&&n.sheetRows<=F.e.r&&(T["!fullref"]=T["!ref"],F.e.r=n.sheetRows-1,T["!ref"]=mr(F)),H.length&&(T["!merges"]=H),me.length&&(T["!rows"]=me),h.name=h.||h.name,typeof JSON<"u"&&JSON.stringify(h),x.push(h.name),g[h.name]=T,ce=!1):S[0].charAt(S[0].length-2)!=="/"&&(h=kn(S[0],!1),Y=J=-1,F.s.r=F.s.c=1e7,F.e.r=F.e.c=0,T=n.dense?[]:{},H=[],me=[],ce=!0);break;case"table-row-group":S[1]==="/"?--O:++O;break;case"table-row":case"":if(S[1]==="/"){Y+=Ne,Ne=1;break}if(p=kn(S[0],!1),p.?Y=p.-1:Y==-1&&(Y=0),Ne=+p["number-rows-repeated"]||1,Ne<10)for(we=0;we<Ne;++we)O>0&&(me[Y+we]={level:O});J=-1;break;case"covered-table-cell":S[1]!=="/"&&++J,n.sheetStubs&&(n.dense?(T[Y]||(T[Y]=[]),T[Y][J]={t:"z"}):T[Vn({r:Y,c:J})]={t:"z"}),B="",q=[];break;case"table-cell":case"":if(S[0].charAt(S[0].length-2)==="/")++J,k=kn(S[0],!1),se=parseInt(k["number-columns-repeated"]||"1",10),N={t:"z",v:null},k.formula&&n.cellFormula!=!1&&(N.f=qR(vr(k.formula))),(k.||k["value-type"])=="string"&&(N.t="s",N.v=vr(k["string-value"]||""),n.dense?(T[Y]||(T[Y]=[]),T[Y][J]=N):T[Vn({r:Y,c:J})]=N),J+=se-1;else if(S[1]!=="/"){++J,B="",R=0,q=[],se=1;var ke=Ne?Y+Ne-1:Y;if(J>F.e.c&&(F.e.c=J),J<F.s.c&&(F.s.c=J),Y<F.s.r&&(F.s.r=Y),ke>F.e.r&&(F.e.r=ke),k=kn(S[0],!1),ne=[],M={},N={t:k.||k["value-type"],v:null},n.cellFormula)if(k.formula&&(k.formula=vr(k.formula)),k["number-matrix-columns-spanned"]&&k["number-matrix-rows-spanned"]&&(L=parseInt(k["number-matrix-rows-spanned"],10)||0,V=parseInt(k["number-matrix-columns-spanned"],10)||0,P={s:{r:Y,c:J},e:{r:Y+L-1,c:J+V-1}},N.F=mr(P),xe.push([P,N.F])),k.formula)N.f=qR(k.formula);else for(we=0;we<xe.length;++we)Y>=xe[we][0].s.r&&Y<=xe[we][0].e.r&&J>=xe[we][0].s.c&&J<=xe[we][0].e.c&&(N.F=xe[we][1]);switch((k["number-columns-spanned"]||k["number-rows-spanned"])&&(L=parseInt(k["number-rows-spanned"],10)||0,V=parseInt(k["number-columns-spanned"],10)||0,P={s:{r:Y,c:J},e:{r:Y+L-1,c:J+V-1}},H.push(P)),k["number-columns-repeated"]&&(se=parseInt(k["number-columns-repeated"],10)),N.t){case"boolean":N.t="b",N.v=yi(k["boolean-value"]);break;case"float":N.t="n",N.v=parseFloat(k.value);break;case"percentage":N.t="n",N.v=parseFloat(k.value);break;case"currency":N.t="n",N.v=parseFloat(k.value);break;case"date":N.t="d",N.v=qs(k["date-value"]),n.cellDates||(N.t="n",N.v=Wa(N.v)),N.z="m/d/yy";break;case"time":N.t="n",N.v=Uce(k["time-value"])/86400,n.cellDates&&(N.t="d",N.v=p2(N.v)),N.z="HH:MM:SS";break;case"number":N.t="n",N.v=parseFloat(k.);break;default:if(N.t==="string"||N.t==="text"||!N.t)N.t="s",k["string-value"]!=null&&(B=vr(k["string-value"]),q=[]);else throw new Error("Unsupported value type "+N.t)}}else{if(Q=!1,N.t==="s"&&(N.v=B||"",q.length&&(N.R=q),Q=R==0),ue.Target&&(N.l=ue),ne.length>0&&(N.c=ne,ne=[]),B&&n.cellText!==!1&&(N.w=B),Q&&(N.t="z",delete N.v),(!Q||n.sheetStubs)&&!(n.sheetRows&&n.sheetRows<=Y))for(var fe=0;fe<Ne;++fe){if(se=parseInt(k["number-columns-repeated"]||"1",10),n.dense)for(T[Y+fe]||(T[Y+fe]=[]),T[Y+fe][J]=fe==0?N:aa(N);--se>0;)T[Y+fe][J+se]=aa(N);else for(T[Vn({r:Y+fe,c:J})]=N;--se>0;)T[Vn({r:Y+fe,c:J+se})]=aa(N);F.e.c<=J&&(F.e.c=J)}se=parseInt(k["number-columns-repeated"]||"1",10),J+=se-1,se=0,N={},B="",q=[]}ue={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(S[1]==="/"){if((s=i.pop())[0]!==S[3])throw"Bad state: "+s}else S[0].charAt(S[0].length-2)!=="/"&&i.push([S[3],!0]);break;case"annotation":if(S[1]==="/"){if((s=i.pop())[0]!==S[3])throw"Bad state: "+s;M.t=B,q.length&&(M.R=q),M.a=W,ne.push(M)}else S[0].charAt(S[0].length-2)!=="/"&&i.push([S[3],!1]);W="",K=0,B="",R=0,q=[];break;case"creator":S[1]==="/"?W=r.slice(K,S.index):K=S.index+S[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(S[1]==="/"){if((s=i.pop())[0]!==S[3])throw"Bad state: "+s}else S[0].charAt(S[0].length-2)!=="/"&&i.push([S[3],!1]);B="",R=0,q=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(S[1]==="/"){if(C[o.name]=c,(s=i.pop())[0]!==S[3])throw"Bad state: "+s}else S[0].charAt(S[0].length-2)!=="/"&&(c="",o=kn(S[0],!1),i.push([S[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(i[i.length-1][0]){case"time-style":case"date-style":a=kn(S[0],!1),c+=KR[S[3]][a.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(i[i.length-1][0]){case"time-style":case"date-style":a=kn(S[0],!1),c+=KR[S[3]][a.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(S[0].slice(-2)==="/>")break;if(S[1]==="/")switch(i[i.length-1][0]){case"number-style":case"date-style":case"time-style":c+=r.slice(f,S.index);break}else f=S.index+S[0].length;break;case"named-range":a=kn(S[0],!1),Le=zw(a["cell-range-address"]);var Ae={Name:a.name,Ref:Le[0]+"!"+Le[1]};ce&&(Ae.Sheet=x.length),he.Names.push(Ae);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(i[i.length-1][0])>-1)break;if(S[1]==="/"&&(!k||!k["string-value"])){var Ue=Age(r.slice(R,S.index));B=(B.length>0?B+`
`:"")+Ue[0]}else kn(S[0],!1),R=S.index+S[0].length;break;case"s":break;case"database-range":if(S[1]==="/")break;try{Le=zw(kn(S[0])["target-range-address"]),g[Le[0]]["!autofilter"]={ref:Le[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(S[1]!=="/"){if(ue=kn(S[0],!1),!ue.href)break;ue.Target=vr(ue.href),delete ue.href,ue.Target.charAt(0)=="#"&&ue.Target.indexOf(".")>-1?(Le=zw(ue.Target.slice(1)),ue.Target="#"+Le[0]+"!"+Le[1]):ue.Target.match(/^\.\.[\\\/]/)&&(ue.Target=ue.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(S[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(n.WTF)throw new Error(S)}}var ae={Sheets:g,SheetNames:x,Workbook:he};return n.bookSheets&&delete ae.Sheets,ae}function YR(t,e){e=e||{},cl(t,"META-INF/manifest.xml")&&que(ss(t,"META-INF/manifest.xml"),e);var n=Oo(t,"content.xml");if(!n)throw new Error("Missing content.xml in ODS / UOF file");var r=u9(ni(n),e);return cl(t,"meta.xml")&&(r.Props=TO(ss(t,"meta.xml"))),r}function XR(t,e){return u9(t,e)}function sS(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function P5(t){return typeof TextDecoder<"u"?new TextDecoder().decode(t):ni(bd(t))}function D5(t){var e=t.reduce(function(i,s){return i+s.length},0),n=new Uint8Array(e),r=0;return t.forEach(function(i){n.set(i,r),r+=i.length}),n}function JR(t){return t-=t>>1&1431655765,t=(t&858993459)+(t>>2&858993459),(t+(t>>4)&252645135)*16843009>>>24}function Cge(t,e){for(var n=(t[e+15]&127)<<7|t[e+14]>>1,r=t[e+14]&1,i=e+13;i>=e;--i)r=r*256+t[i];return(t[e+15]&128?-r:r)*Math.pow(10,n-6176)}function Kg(t,e){var n=e?e[0]:0,r=t[n]&127;e:if(t[n++]>=128&&(r|=(t[n]&127)<<7,t[n++]<128||(r|=(t[n]&127)<<14,t[n++]<128)||(r|=(t[n]&127)<<21,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,28),++n,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,35),++n,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,42),++n,t[n++]<128)))break e;return e&&(e[0]=n),r}function Ss(t){var e=0,n=t[e]&127;e:if(t[e++]>=128){if(n|=(t[e]&127)<<7,t[e++]<128||(n|=(t[e]&127)<<14,t[e++]<128)||(n|=(t[e]&127)<<21,t[e++]<128))break e;n|=(t[e]&127)<<28}return n}function Aa(t){for(var e=[],n=[0];n[0]<t.length;){var r=n[0],i=Kg(t,n),s=i&7;i=Math.floor(i/8);var a=0,o;if(i==0)break;switch(s){case 0:{for(var c=n[0];t[n[0]++]>=128;);o=t.slice(c,n[0])}break;case 5:a=4,o=t.slice(n[0],n[0]+a),n[0]+=a;break;case 1:a=8,o=t.slice(n[0],n[0]+a),n[0]+=a;break;case 2:a=Kg(t,n),o=t.slice(n[0],n[0]+a),n[0]+=a;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(i," at offset ").concat(r))}var f={data:o,type:s};e[i]==null?e[i]=[f]:e[i].push(f)}return e}function aS(t,e){return t?.map(function(n){return e(n.data)})||[]}function Nge(t){for(var e,n=[],r=[0];r[0]<t.length;){var i=Kg(t,r),s=Aa(t.slice(r[0],r[0]+i));r[0]+=i;var a={id:Ss(s[1][0].data),messages:[]};s[2].forEach(function(o){var c=Aa(o.data),f=Ss(c[3][0].data);a.messages.push({meta:c,data:t.slice(r[0],r[0]+f)}),r[0]+=f}),(e=s[3])!=null&&e[0]&&(a.merge=Ss(s[3][0].data)>>>0>0),n.push(a)}return n}function Ige(t,e){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var n=[0],r=Kg(e,n),i=[];n[0]<e.length;){var s=e[n[0]]&3;if(s==0){var a=e[n[0]++]>>2;if(a<60)++a;else{var o=a-59;a=e[n[0]],o>1&&(a|=e[n[0]+1]<<8),o>2&&(a|=e[n[0]+2]<<16),o>3&&(a|=e[n[0]+3]<<24),a>>>=0,a++,n[0]+=o}i.push(e.slice(n[0],n[0]+a)),n[0]+=a;continue}else{var c=0,f=0;if(s==1?(f=(e[n[0]]>>2&7)+4,c=(e[n[0]++]&224)<<3,c|=e[n[0]++]):(f=(e[n[0]++]>>2)+1,s==2?(c=e[n[0]]|e[n[0]+1]<<8,n[0]+=2):(c=(e[n[0]]|e[n[0]+1]<<8|e[n[0]+2]<<16|e[n[0]+3]<<24)>>>0,n[0]+=4)),i=[D5(i)],c==0)throw new Error("Invalid offset 0");if(c>i[0].length)throw new Error("Invalid offset beyond length");if(f>=c)for(i.push(i[0].slice(-c)),f-=c;f>=i[i.length-1].length;)i.push(i[i.length-1]),f-=i[i.length-1].length;i.push(i[0].slice(-c,-c+f))}}var h=D5(i);if(h.length!=r)throw new Error("Unexpected length: ".concat(h.length," != ").concat(r));return h}function kge(t){for(var e=[],n=0;n<t.length;){var r=t[n++],i=t[n]|t[n+1]<<8|t[n+2]<<16;n+=3,e.push(Ige(r,t.slice(n,n+i))),n+=i}if(n!==t.length)throw new Error("data is not a valid framed stream!");return D5(e)}function Rge(t,e,n,r){var i=sS(t),s=i.getUint32(4,!0),a=(r>1?12:8)+JR(s&(r>1?3470:398))*4,o=-1,c=-1,f=NaN,h=new Date(2001,0,1);s&512&&(o=i.getUint32(a,!0),a+=4),a+=JR(s&(r>1?12288:4096))*4,s&16&&(c=i.getUint32(a,!0),a+=4),s&32&&(f=i.getFloat64(a,!0),a+=8),s&64&&(h.setTime(h.getTime()+i.getFloat64(a,!0)*1e3),a+=8);var p;switch(t[2]){case 0:break;case 2:p={t:"n",v:f};break;case 3:p={t:"s",v:e[c]};break;case 5:p={t:"d",v:h};break;case 6:p={t:"b",v:f>0};break;case 7:p={t:"n",v:f/86400};break;case 8:p={t:"e",v:0};break;case 9:if(o>-1)p={t:"s",v:n[o]};else if(c>-1)p={t:"s",v:e[c]};else if(!isNaN(f))p={t:"n",v:f};else throw new Error("Unsupported cell type ".concat(t.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(t.slice(0,4)))}return p}function Pge(t,e,n){var r=sS(t),i=r.getUint32(8,!0),s=12,a=-1,o=-1,c=NaN,f=NaN,h=new Date(2001,0,1);i&1&&(c=Cge(t,s),s+=16),i&2&&(f=r.getFloat64(s,!0),s+=8),i&4&&(h.setTime(h.getTime()+r.getFloat64(s,!0)*1e3),s+=8),i&8&&(o=r.getUint32(s,!0),s+=4),i&16&&(a=r.getUint32(s,!0),s+=4);var p;switch(t[1]){case 0:break;case 2:p={t:"n",v:c};break;case 3:p={t:"s",v:e[o]};break;case 5:p={t:"d",v:h};break;case 6:p={t:"b",v:f>0};break;case 7:p={t:"n",v:f/86400};break;case 8:p={t:"e",v:0};break;case 9:if(a>-1)p={t:"s",v:n[a]};else throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(i&31," : ").concat(t.slice(0,4)));break;case 10:p={t:"n",v:c};break;default:throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(i&31," : ").concat(t.slice(0,4)))}return p}function Dge(t,e,n){switch(t[0]){case 0:case 1:case 2:case 3:return Rge(t,e,n,t[0]);case 5:return Pge(t,e,n);default:throw new Error("Unsupported payload version ".concat(t[0]))}}function jf(t){var e=Aa(t);return Kg(e[1][0].data)}function QR(t,e){var n=Aa(e.data),r=Ss(n[1][0].data),i=n[3],s=[];return(i||[]).forEach(function(a){var o=Aa(a.data),c=Ss(o[1][0].data)>>>0;switch(r){case 1:s[c]=P5(o[3][0].data);break;case 8:{var f=t[jf(o[9][0].data)][0],h=Aa(f.data),p=t[jf(h[1][0].data)][0],g=Ss(p.meta[1][0].data);if(g!=2001)throw new Error("2000 unexpected reference to ".concat(g));var x=Aa(p.data);s[c]=x[3].map(function(T){return P5(T.data)}).join("")}break}}),s}function Mge(t,e){var n,r,i,s,a,o,c,f,h,p,g,x,T,S,N=Aa(t),k=Ss(N[1][0].data)>>>0,B=Ss(N[2][0].data)>>>0,R=((r=(n=N[8])==null?void 0:n[0])==null?void 0:r.data)&&Ss(N[8][0].data)>0||!1,q,Y;if((s=(i=N[7])==null?void 0:i[0])!=null&&s.data&&e!=0)q=(o=(a=N[7])==null?void 0:a[0])==null?void 0:o.data,Y=(f=(c=N[6])==null?void 0:c[0])==null?void 0:f.data;else if((p=(h=N[4])==null?void 0:h[0])!=null&&p.data&&e!=1)q=(x=(g=N[4])==null?void 0:g[0])==null?void 0:x.data,Y=(S=(T=N[3])==null?void 0:T[0])==null?void 0:S.data;else throw"NUMBERS Tile missing ".concat(e," cell storage");for(var J=R?4:1,F=sS(q),O=[],C=0;C<q.length/2;++C){var H=F.getUint16(C*2,!0);H<65535&&O.push([C,H])}if(O.length!=B)throw"Expected ".concat(B," cells, found ").concat(O.length);var P=[];for(C=0;C<O.length-1;++C)P[O[C][0]]=Y.subarray(O[C][1]*J,O[C+1][1]*J);return O.length>=1&&(P[O[O.length-1][0]]=Y.subarray(O[O.length-1][1]*J)),{R:k,cells:P}}function Lge(t,e){var n,r=Aa(e.data),i=(n=r?.[7])!=null&&n[0]?Ss(r[7][0].data)>>>0>0?1:0:-1,s=aS(r[5],function(a){return Mge(a,i)});return{nrows:Ss(r[4][0].data)>>>0,data:s.reduce(function(a,o){return a[o.R]||(a[o.R]=[]),o.cells.forEach(function(c,f){if(a[o.R][f])throw new Error("Duplicate cell r=".concat(o.R," c=").concat(f));a[o.R][f]=c}),a},[])}}function Fge(t,e,n){var r,i=Aa(e.data),s={s:{r:0,c:0},e:{r:0,c:0}};if(s.e.r=(Ss(i[6][0].data)>>>0)-1,s.e.r<0)throw new Error("Invalid row varint ".concat(i[6][0].data));if(s.e.c=(Ss(i[7][0].data)>>>0)-1,s.e.c<0)throw new Error("Invalid col varint ".concat(i[7][0].data));n["!ref"]=mr(s);var a=Aa(i[4][0].data),o=QR(t,t[jf(a[4][0].data)][0]),c=(r=a[17])!=null&&r[0]?QR(t,t[jf(a[17][0].data)][0]):[],f=Aa(a[3][0].data),h=0;f[1].forEach(function(p){var g=Aa(p.data),x=t[jf(g[2][0].data)][0],T=Ss(x.meta[1][0].data);if(T!=6002)throw new Error("6001 unexpected reference to ".concat(T));var S=Lge(t,x);S.data.forEach(function(N,k){N.forEach(function(B,R){var q=Vn({r:h+k,c:R}),Y=Dge(B,o,c);Y&&(n[q]=Y)})}),h+=S.nrows})}function Oge(t,e){var n=Aa(e.data),r={"!ref":"A1"},i=t[jf(n[2][0].data)],s=Ss(i[0].meta[1][0].data);if(s!=6001)throw new Error("6000 unexpected reference to ".concat(s));return Fge(t,i[0],r),r}function Vge(t,e){var n,r=Aa(e.data),i={name:(n=r[1])!=null&&n[0]?P5(r[1][0].data):"",sheets:[]},s=aS(r[2],jf);return s.forEach(function(a){t[a].forEach(function(o){var c=Ss(o.meta[1][0].data);c==6e3&&i.sheets.push(Oge(t,o))})}),i}function Uge(t,e){var n=cS(),r=Aa(e.data),i=aS(r[1],jf);if(i.forEach(function(s){t[s].forEach(function(a){var o=Ss(a.meta[1][0].data);if(o==2){var c=Vge(t,a);c.sheets.forEach(function(f,h){uS(n,f,h==0?c.name:c.name+"_"+h,!0)})}})}),n.SheetNames.length==0)throw new Error("Empty NUMBERS file");return n}function $w(t){var e,n,r,i,s={},a=[];if(t.FullPaths.forEach(function(c){if(c.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),t.FileIndex.forEach(function(c){if(c.name.match(/\.iwa$/)){var f;try{f=kge(c.content)}catch(p){return console.log("?? "+c.content.length+" "+(p.message||p))}var h;try{h=Nge(f)}catch(p){return console.log("## "+(p.message||p))}h.forEach(function(p){s[p.id]=p.messages,a.push(p.id)})}}),!a.length)throw new Error("File has no messages");var o=((i=(r=(n=(e=s?.[1])==null?void 0:e[0])==null?void 0:n.meta)==null?void 0:r[1])==null?void 0:i[0].data)&&Ss(s[1][0].meta[1][0].data)==1&&s[1][0];if(o||a.forEach(function(c){s[c].forEach(function(f){var h=Ss(f.meta[1][0].data)>>>0;if(h==1)if(!o)o=f;else throw new Error("Document has multiple roots")})}),!o)throw new Error("Cannot find Document root");return Uge(s,o)}function Bge(t){return function(n){for(var r=0;r!=t.length;++r){var i=t[r];n[i[0]]===void 0&&(n[i[0]]=i[1]),i[2]==="n"&&(n[i[0]]=Number(n[i[0]]))}}}function oS(t){Bge([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(t)}function jge(t){return O0.WS.indexOf(t)>-1?"sheet":t==O0.CS?"chart":t==O0.DS?"dialog":t==O0.MS?"macro":t&&t.length?t:"sheet"}function qge(t,e){if(!t)return 0;try{t=e.map(function(r){return r.id||(r.id=r.strRelID),[r.name,t["!id"][r.id].Target,jge(t["!id"][r.id].Type)]})}catch{return null}return!t||t.length===0?null:t}function Hge(t,e,n,r,i,s,a,o,c,f,h,p){try{s[r]=fg(Oo(t,n,!0),e);var g=ss(t,e),x;switch(o){case"sheet":x=Yme(g,e,i,c,s[r],f,h,p);break;case"chart":if(x=Xme(g,e,i,c,s[r],f,h,p),!x||!x["!drawel"])break;var T=Hm(x["!drawel"].Target,e),S=C5(T),N=Kde(Oo(t,T,!0),fg(Oo(t,S,!0),T)),k=Hm(N,T),B=C5(k);x=Pme(Oo(t,k,!0),k,c,fg(Oo(t,B,!0),k),f,x);break;case"macro":x=Jme(g,e,i,c,s[r],f,h,p);break;case"dialog":x=Qme(g,e,i,c,s[r],f,h,p);break;default:throw new Error("Unrecognized sheet type "+o)}a[r]=x;var R=[];s&&s[r]&&Bc(s[r]).forEach(function(q){var Y="";if(s[r][q].Type==O0.CMNT){Y=Hm(s[r][q].Target,e);var J=nge(ss(t,Y,!0),Y,c);if(!J||!J.length)return;OR(x,J,!1)}s[r][q].Type==O0.TCMNT&&(Y=Hm(s[r][q].Target,e),R=R.concat(Xde(ss(t,Y,!0),c)))}),R&&R.length&&OR(x,R,!0,c.people||[])}catch(q){if(c.WTF)throw q}}function al(t){return t.charAt(0)=="/"?t.slice(1):t}function zge(t,e){if(K7(),e=e||{},oS(e),cl(t,"META-INF/manifest.xml")||cl(t,"objectdata.xml"))return YR(t,e);if(cl(t,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof $w<"u"){if(t.FileIndex)return $w(t);var n=pr.utils.cfb_new();return uR(t).forEach(function(me){Gce(n,me,zce(t,me))}),$w(n)}throw new Error("Unsupported NUMBERS file")}if(!cl(t,"[Content_Types].xml"))throw cl(t,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):cl(t,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var r=uR(t),i=Bue(Oo(t,"[Content_Types].xml")),s=!1,a,o;if(i.workbooks.length===0&&(o="xl/workbook.xml",ss(t,o,!0)&&i.workbooks.push(o)),i.workbooks.length===0){if(o="xl/workbook.bin",!ss(t,o,!0))throw new Error("Could not find workbook");i.workbooks.push(o),s=!0}i.workbooks[0].slice(-3)=="bin"&&(s=!0);var c={},f={};if(!e.bookSheets&&!e.bookProps){if(pg=[],i.sst)try{pg=tge(ss(t,al(i.sst)),i.sst,e)}catch(me){if(e.WTF)throw me}e.cellStyles&&i.themes.length&&(c=ege(Oo(t,i.themes[0].replace(/^\//,""),!0)||"",i.themes[0],e)),i.style&&(f=Zme(ss(t,al(i.style)),i.style,c,e))}i.links.map(function(me){try{var Ne=fg(Oo(t,C5(al(me))),me);return ige(ss(t,al(me)),Ne,me,e)}catch{}});var h=Kme(ss(t,al(i.workbooks[0])),i.workbooks[0],e),p={},g="";i.coreprops.length&&(g=ss(t,al(i.coreprops[0]),!0),g&&(p=TO(g)),i.extprops.length!==0&&(g=ss(t,al(i.extprops[0]),!0),g&&Gue(g,p,e)));var x={};(!e.bookSheets||e.bookProps)&&i.custprops.length!==0&&(g=Oo(t,al(i.custprops[0]),!0),g&&(x=Wue(g,e)));var T={};if((e.bookSheets||e.bookProps)&&(h.Sheets?a=h.Sheets.map(function(Ne){return Ne.name}):p.Worksheets&&p.SheetNames.length>0&&(a=p.SheetNames),e.bookProps&&(T.Props=p,T.Custprops=x),e.bookSheets&&typeof a<"u"&&(T.SheetNames=a),e.bookSheets?T.SheetNames:e.bookProps))return T;a={};var S={};e.bookDeps&&i.calcchain&&(S=rge(ss(t,al(i.calcchain)),i.calcchain));var N=0,k={},B,R;{var q=h.Sheets;p.Worksheets=q.length,p.SheetNames=[];for(var Y=0;Y!=q.length;++Y)p.SheetNames[Y]=q[Y].name}var J=s?"bin":"xml",F=i.workbooks[0].lastIndexOf("/"),O=(i.workbooks[0].slice(0,F+1)+"_rels/"+i.workbooks[0].slice(F+1)+".rels").replace(/^\//,"");cl(t,O)||(O="xl/_rels/workbook."+J+".rels");var C=fg(Oo(t,O,!0),O.replace(/_rels.*/,"s5s"));(i.metadata||[]).length>=1&&(e.xlmeta=sge(ss(t,al(i.metadata[0])),i.metadata[0],e)),(i.people||[]).length>=1&&(e.people=Jde(ss(t,al(i.people[0])),e)),C&&(C=qge(C,h.Sheets));var H=ss(t,"xl/worksheets/sheet.xml",!0)?1:0;e:for(N=0;N!=p.Worksheets;++N){var P="sheet";if(C&&C[N]?(B="xl/"+C[N][1].replace(/[\/]?xl\//,""),cl(t,B)||(B=C[N][1]),cl(t,B)||(B=O.replace(/_rels\/.*$/,"")+C[N][1]),P=C[N][2]):(B="xl/worksheets/sheet"+(N+1-H)+"."+J,B=B.replace(/sheet0\./,"sheet.")),R=B.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),e&&e.sheets!=null)switch(typeof e.sheets){case"number":if(N!=e.sheets)continue e;break;case"string":if(p.SheetNames[N].toLowerCase()!=e.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(e.sheets)){for(var L=!1,V=0;V!=e.sheets.length;++V)typeof e.sheets[V]=="number"&&e.sheets[V]==N&&(L=1),typeof e.sheets[V]=="string"&&e.sheets[V].toLowerCase()==p.SheetNames[N].toLowerCase()&&(L=1);if(!L)continue e}}Hge(t,B,R,p.SheetNames[N],N,k,a,P,e,h,c,f)}return T={Directory:i,Workbook:h,Props:p,Custprops:x,Deps:S,Sheets:a,SheetNames:p.SheetNames,Strings:pg,Styles:f,Themes:c,SSF:aa(jn)},e&&e.bookFiles&&(t.files?(T.keys=r,T.files=t.files):(T.keys=[],T.files={},t.FullPaths.forEach(function(me,Ne){me=me.replace(/^Root Entry[\/]/,""),T.keys.push(me),T.files[me]=t.FileIndex[Ne]}))),e&&e.bookVBA&&(i.vba.length>0?T.vbaraw=ss(t,al(i.vba[0]),!0):i.defaults&&i.defaults.bin===t0e&&(T.vbaraw=ss(t,"xl/vbaProject.bin",!0))),T}function Gge(t,e){var n=e||{},r="Workbook",i=pr.find(t,r);try{if(r="/!DataSpaces/Version",i=pr.find(t,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);if(Ohe(i.content),r="/!DataSpaces/DataSpaceMap",i=pr.find(t,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var s=Uhe(i.content);if(s.length!==1||s[0].comps.length!==1||s[0].comps[0].t!==0||s[0].name!=="StrongEncryptionDataSpace"||s[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+r);if(r="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",i=pr.find(t,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var a=Bhe(i.content);if(a.length!=1||a[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+r);if(r="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",i=pr.find(t,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);qhe(i.content)}catch{}if(r="/EncryptionInfo",i=pr.find(t,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var o=Hhe(i.content);if(r="/EncryptedPackage",i=pr.find(t,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);if(o[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(o[1],i.content,n.password||"",n);if(o[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(o[1],i.content,n.password||"",n);throw new Error("File is password-protected")}function lS(t,e){var n="";switch((e||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":n=jo(t.slice(0,12));break;case"binary":n=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[n.charCodeAt(0),n.charCodeAt(1),n.charCodeAt(2),n.charCodeAt(3),n.charCodeAt(4),n.charCodeAt(5),n.charCodeAt(6),n.charCodeAt(7)]}function $ge(t,e){return pr.find(t,"EncryptedPackage")?Gge(t,e):o9(t,e)}function Wge(t,e){var n,r=t,i=e||{};return i.type||(i.type=or&&Buffer.isBuffer(t)?"buffer":"base64"),n=eO(r,i),zge(n,i)}function f9(t,e){var n=0;e:for(;n<t.length;)switch(t.charCodeAt(n)){case 10:case 13:case 32:++n;break;case 60:return k5(t.slice(n),e);default:break e}return Gg.to_workbook(t,e)}function Kge(t,e){var n="",r=lS(t,e);switch(e.type){case"base64":n=jo(t);break;case"binary":n=t;break;case"buffer":n=t.toString("binary");break;case"array":n=ud(t);break;default:throw new Error("Unrecognized type "+e.type)}return r[0]==239&&r[1]==187&&r[2]==191&&(n=ni(n)),e.type="binary",f9(n,e)}function Yge(t,e){var n=t;return e.type=="base64"&&(n=jo(n)),n=jg.utils.decode(1200,n.slice(2),"str"),e.type="binary",f9(n,e)}function Xge(t){return t.match(/[^\x00-\x7F]/)?zm(t):t}function Ww(t,e,n,r){return r?(n.type="string",Gg.to_workbook(t,n)):Gg.to_workbook(e,n)}function M5(t,e){F7();var n=e||{};if(typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer)return M5(new Uint8Array(t),(n=aa(n),n.type="array",n));typeof Uint8Array<"u"&&t instanceof Uint8Array&&!n.type&&(n.type=typeof Deno<"u"?"buffer":"array");var r=t,i=[0,0,0,0],s=!1;if(n.cellStyles&&(n.cellNF=!0,n.sheetStubs=!0),ep={},n.dateNF&&(ep.dateNF=n.dateNF),n.type||(n.type=or&&Buffer.isBuffer(t)?"buffer":"base64"),n.type=="file"&&(n.type=or?"buffer":"binary",r=Oce(t),typeof Uint8Array<"u"&&!or&&(n.type="array")),n.type=="string"&&(s=!0,n.type="binary",n.codepage=65001,r=Xge(t)),n.type=="array"&&typeof Uint8Array<"u"&&t instanceof Uint8Array&&typeof ArrayBuffer<"u"){var a=new ArrayBuffer(3),o=new Uint8Array(a);if(o.foo="bar",!o.foo)return n=aa(n),n.type="array",M5(BE(r),n)}switch((i=lS(r,n))[0]){case 208:if(i[1]===207&&i[2]===17&&i[3]===224&&i[4]===161&&i[5]===177&&i[6]===26&&i[7]===225)return $ge(pr.read(r,n),n);break;case 9:if(i[1]<=8)return o9(r,n);break;case 60:return k5(r,n);case 73:if(i[1]===73&&i[2]===42&&i[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(i[1]===68)return Ehe(r,n);break;case 84:if(i[1]===65&&i[2]===66&&i[3]===76)return bhe.to_workbook(r,n);break;case 80:return i[1]===75&&i[2]<9&&i[3]<9?Wge(r,n):Ww(t,r,n,s);case 239:return i[3]===60?k5(r,n):Ww(t,r,n,s);case 255:if(i[1]===254)return Yge(r,n);if(i[1]===0&&i[2]===2&&i[3]===0)return dg.to_workbook(r,n);break;case 0:if(i[1]===0&&(i[2]>=2&&i[3]===0||i[2]===0&&(i[3]===8||i[3]===9)))return dg.to_workbook(r,n);break;case 3:case 131:case 139:case 140:return FR.to_workbook(r,n);case 123:if(i[1]===92&&i[2]===114&&i[3]===116)return tde.to_workbook(r,n);break;case 10:case 13:case 32:return Kge(r,n);case 137:if(i[1]===80&&i[2]===78&&i[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return _he.indexOf(i[0])>-1&&i[2]<=12&&i[3]<=31?FR.to_workbook(r,n):Ww(t,r,n,s)}function Jge(t,e,n,r,i,s,a,o){var c=oa(n),f=o.defval,h=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),p=!0,g=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(g,"__rowNum__",{value:n,enumerable:!1})}catch{g.__rowNum__=n}else g.__rowNum__=n;if(!a||t[n])for(var x=e.s.c;x<=e.e.c;++x){var T=a?t[n][x]:t[r[x]+c];if(T===void 0||T.t===void 0){if(f===void 0)continue;s[x]!=null&&(g[s[x]]=f);continue}var S=T.v;switch(T.t){case"z":if(S==null)break;continue;case"e":S=S==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+T.t)}if(s[x]!=null){if(S==null)if(T.t=="e"&&S===null)g[s[x]]=null;else if(f!==void 0)g[s[x]]=f;else if(h&&S===null)g[s[x]]=null;else continue;else g[s[x]]=h&&(T.t!=="n"||T.t==="n"&&o.rawNumbers!==!1)?S:Du(T,S,o);S!=null&&(p=!1)}}return{row:g,isempty:p}}function L5(t,e){if(t==null||t["!ref"]==null)return[];var n={t:"n",v:0},r=0,i=1,s=[],a=0,o="",c={s:{r:0,c:0},e:{r:0,c:0}},f=e||{},h=f.range!=null?f.range:t["!ref"];switch(f.header===1?r=1:f.header==="A"?r=2:Array.isArray(f.header)?r=3:f.header==null&&(r=0),typeof h){case"string":c=Bi(h);break;case"number":c=Bi(t["!ref"]),c.s.r=h;break;default:c=h}r>0&&(i=0);var p=oa(c.s.r),g=[],x=[],T=0,S=0,N=Array.isArray(t),k=c.s.r,B=0,R={};N&&!t[k]&&(t[k]=[]);var q=f.skipHidden&&t["!cols"]||[],Y=f.skipHidden&&t["!rows"]||[];for(B=c.s.c;B<=c.e.c;++B)if(!(q[B]||{}).hidden)switch(g[B]=Es(B),n=N?t[k][B]:t[g[B]+p],r){case 1:s[B]=B-c.s.c;break;case 2:s[B]=g[B];break;case 3:s[B]=f.header[B-c.s.c];break;default:if(n==null&&(n={w:"__EMPTY",t:"s"}),o=a=Du(n,null,f),S=R[a]||0,!S)R[a]=1;else{do o=a+"_"+S++;while(R[o]);R[a]=S,R[o]=1}s[B]=o}for(k=c.s.r+i;k<=c.e.r;++k)if(!(Y[k]||{}).hidden){var J=Jge(t,c,k,g,r,s,N,f);(J.isempty===!1||(r===1?f.blankrows!==!1:f.blankrows))&&(x[T++]=J.row)}return x.length=T,x}var ZR=/"/g;function Qge(t,e,n,r,i,s,a,o){for(var c=!0,f=[],h="",p=oa(n),g=e.s.c;g<=e.e.c;++g)if(r[g]){var x=o.dense?(t[n]||[])[g]:t[r[g]+p];if(x==null)h="";else if(x.v!=null){c=!1,h=""+(o.rawNumbers&&x.t=="n"?x.v:Du(x,null,o));for(var T=0,S=0;T!==h.length;++T)if((S=h.charCodeAt(T))===i||S===s||S===34||o.forceQuotes){h='"'+h.replace(ZR,'""')+'"';break}h=="ID"&&(h='"ID"')}else x.f!=null&&!x.F?(c=!1,h="="+x.f,h.indexOf(",")>=0&&(h='"'+h.replace(ZR,'""')+'"')):h="";f.push(h)}return o.blankrows===!1&&c?null:f.join(a)}function h9(t,e){var n=[],r=e??{};if(t==null||t["!ref"]==null)return"";var i=Bi(t["!ref"]),s=r.FS!==void 0?r.FS:",",a=s.charCodeAt(0),o=r.RS!==void 0?r.RS:`
`,c=o.charCodeAt(0),f=new RegExp((s=="|"?"\\|":s)+"+$"),h="",p=[];r.dense=Array.isArray(t);for(var g=r.skipHidden&&t["!cols"]||[],x=r.skipHidden&&t["!rows"]||[],T=i.s.c;T<=i.e.c;++T)(g[T]||{}).hidden||(p[T]=Es(T));for(var S=0,N=i.s.r;N<=i.e.r;++N)(x[N]||{}).hidden||(h=Qge(t,i,N,p,a,c,s,r),h!=null&&(r.strip&&(h=h.replace(f,"")),(h||r.blankrows!==!1)&&n.push((S++?o:"")+h)));return delete r.dense,n.join("")}function Zge(t,e){e||(e={}),e.FS="	",e.RS=`
`;var n=h9(t,e);return n}function e1e(t){var e="",n,r="";if(t==null||t["!ref"]==null)return[];var i=Bi(t["!ref"]),s="",a=[],o,c=[],f=Array.isArray(t);for(o=i.s.c;o<=i.e.c;++o)a[o]=Es(o);for(var h=i.s.r;h<=i.e.r;++h)for(s=oa(h),o=i.s.c;o<=i.e.c;++o)if(e=a[o]+s,n=f?(t[h]||[])[o]:t[e],r="",n!==void 0){if(n.F!=null){if(e=n.F,!n.f)continue;r=n.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(n.f!=null)r=n.f;else{if(n.t=="z")continue;if(n.t=="n"&&n.v!=null)r=""+n.v;else if(n.t=="b")r=n.v?"TRUE":"FALSE";else if(n.w!==void 0)r="'"+n.w;else{if(n.v===void 0)continue;n.t=="s"?r="'"+n.v:r=""+n.v}}c[c.length]=e+"="+r}return c}function d9(t,e,n){var r=n||{},i=+!r.skipHeader,s=t||{},a=0,o=0;if(s&&r.origin!=null)if(typeof r.origin=="number")a=r.origin;else{var c=typeof r.origin=="string"?za(r.origin):r.origin;a=c.r,o=c.c}var f,h={s:{c:0,r:0},e:{c:o,r:a+e.length-1+i}};if(s["!ref"]){var p=Bi(s["!ref"]);h.e.c=Math.max(h.e.c,p.e.c),h.e.r=Math.max(h.e.r,p.e.r),a==-1&&(a=p.e.r+1,h.e.r=a+e.length-1+i)}else a==-1&&(a=0,h.e.r=e.length-1+i);var g=r.header||[],x=0;e.forEach(function(S,N){Bc(S).forEach(function(k){(x=g.indexOf(k))==-1&&(g[x=g.length]=k);var B=S[k],R="z",q="",Y=Vn({c:o+x,r:a+N+i});f=Yg(s,Y),B&&typeof B=="object"&&!(B instanceof Date)?s[Y]=B:(typeof B=="number"?R="n":typeof B=="boolean"?R="b":typeof B=="string"?R="s":B instanceof Date?(R="d",r.cellDates||(R="n",B=Wa(B)),q=r.dateNF||jn[14]):B===null&&r.nullError&&(R="e",B=0),f?(f.t=R,f.v=B,delete f.w,delete f.R,q&&(f.z=q)):s[Y]=f={t:R,v:B},q&&(f.z=q))})}),h.e.c=Math.max(h.e.c,o+g.length-1);var T=oa(a);if(i)for(x=0;x<g.length;++x)s[Es(x+o)+T]={t:"s",v:g[x]};return s["!ref"]=mr(h),s}function t1e(t,e){return d9(null,t,e)}function Yg(t,e,n){if(typeof e=="string"){if(Array.isArray(t)){var r=za(e);return t[r.r]||(t[r.r]=[]),t[r.r][r.c]||(t[r.r][r.c]={t:"z"})}return t[e]||(t[e]={t:"z"})}return typeof e!="number"?Yg(t,Vn(e)):Yg(t,Vn({r:e,c:n||0}))}function n1e(t,e){if(typeof e=="number"){if(e>=0&&t.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var n=t.SheetNames.indexOf(e);if(n>-1)return n;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function cS(){return{SheetNames:[],Sheets:{}}}function uS(t,e,n,r){var i=1;if(!n)for(;i<=65535&&t.SheetNames.indexOf(n="Sheet"+i)!=-1;++i,n=void 0);if(!n||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&t.SheetNames.indexOf(n)>=0){var s=n.match(/(^.*?)(\d+)$/);i=s&&+s[2]||0;var a=s&&s[1]||n;for(++i;i<=65535&&t.SheetNames.indexOf(n=a+i)!=-1;++i);}if(Bme(n),t.SheetNames.indexOf(n)>=0)throw new Error("Worksheet with name |"+n+"| already exists!");return t.SheetNames.push(n),t.Sheets[n]=e,n}function r1e(t,e,n){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var r=n1e(t,e);switch(t.Workbook.Sheets[r]||(t.Workbook.Sheets[r]={}),n){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+n)}t.Workbook.Sheets[r].Hidden=n}function i1e(t,e){return t.z=e,t}function p9(t,e,n){return e?(t.l={Target:e},n&&(t.l.Tooltip=n)):delete t.l,t}function s1e(t,e,n){return p9(t,"#"+e,n)}function a1e(t,e,n){t.c||(t.c=[]),t.c.push({t:e,a:n||"SheetJS"})}function o1e(t,e,n,r){for(var i=typeof e!="string"?e:Bi(e),s=typeof e=="string"?e:mr(e),a=i.s.r;a<=i.e.r;++a)for(var o=i.s.c;o<=i.e.c;++o){var c=Yg(t,a,o);c.t="n",c.F=s,delete c.v,a==i.s.r&&o==i.s.c&&(c.f=n,r&&(c.D=!0))}return t}var eP={encode_col:Es,encode_row:oa,encode_cell:Vn,encode_range:mr,decode_col:YE,decode_row:KE,split_cell:vue,decode_cell:za,decode_range:Vp,format_cell:Du,sheet_add_aoa:yO,sheet_add_json:d9,sheet_add_dom:l9,aoa_to_sheet:Up,json_to_sheet:t1e,table_to_sheet:c9,table_to_book:Ege,sheet_to_csv:h9,sheet_to_txt:Zge,sheet_to_json:L5,sheet_to_html:Tge,sheet_to_formulae:e1e,sheet_to_row_object_array:L5,sheet_get_cell:Yg,book_new:cS,book_append_sheet:uS,book_set_sheet_visibility:r1e,cell_set_number_format:i1e,cell_set_hyperlink:p9,cell_set_internal_link:s1e,cell_add_comment:a1e,sheet_set_array_formula:o1e,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const tP=({onClose:t,onImportComplete:e})=>{const{company:n}=Fp(),[r,i]=Ie.useState(!1),[s,a]=Ie.useState({type:"idle",message:""}),[o,c]=Ie.useState({products:0,customers:0}),f=async g=>new Promise((x,T)=>{const S=new FileReader;S.onload=N=>{try{const k=new Uint8Array(N.target?.result),B=M5(k,{type:"array"}),R={products:[],customers:[]};if(B.SheetNames.includes("Products")){const q=eP.sheet_to_json(B.Sheets.Products);R.products=q.map(Y=>({id:Math.random().toString(36).substr(2,9),name:Y["Product Name"]||Y.Name||"",price:parseFloat(Y.Price||Y.Rate||0),stock:parseInt(Y.Stock||Y.Quantity||0),category:Y.Category||"",hsn:n?.gst_enabled&&(Y.HSN||Y["HSN Code"])||"",gstRate:n?.gst_enabled?parseFloat(Y["GST Rate"]||Y.GSTRATE||0):0}))}if(B.SheetNames.includes("Customers")){const q=eP.sheet_to_json(B.Sheets.Customers);R.customers=q.map(Y=>({id:Math.random().toString(36).substr(2,9),name:Y["Customer Name"]||Y.Name||"",company:Y.Company||"",email:Y.Email||"",phone:Y.Phone||Y.Mobile||"",address:Y.Address||"",state:n?.gst_enabled&&Y.State||"",gstin:n?.gst_enabled&&Y.GSTIN||"",balance:0,notifications:[]}))}x(R)}catch(k){T(k)}},S.onerror=()=>T(new Error("Failed to read file")),S.readAsArrayBuffer(g)}),h=g=>{const x={products:[],customers:[]};try{const S=new DOMParser().parseFromString(g,"text/xml");if(S.getElementsByTagName("parsererror").length>0)throw new Error("Invalid XML format");const N=S.getElementsByTagName("ITEM");for(let B=0;B<N.length;B++){const R=N[B],q=R.getElementsByTagName("NAME")[0]?.textContent||"",Y=n?.gst_enabled&&R.getElementsByTagName("HSNCODE")[0]?.textContent||"",J=n?.gst_enabled?parseFloat(R.getElementsByTagName("GSTRATE")[0]?.textContent||"0"):0;q&&x.products.push({id:Math.random().toString(36).substr(2,9),name:q,price:0,stock:0,category:"Imported",hsn:Y,gstRate:J})}const k=S.getElementsByTagName("LEDGER");for(let B=0;B<k.length;B++){const R=k[B],q=R.getElementsByTagName("NAME")[0]?.textContent||"",Y=R.getElementsByTagName("ADDRESS")[0]?.textContent||"",J=n?.gst_enabled&&R.getElementsByTagName("STATE")[0]?.textContent||"",F=n?.gst_enabled&&R.getElementsByTagName("GSTIN")[0]?.textContent||"",O=R.getElementsByTagName("PHONE")[0]?.textContent||"",C=R.getElementsByTagName("EMAIL")[0]?.textContent||"";q&&!["Sales","Purchase","Duty","Tax"].includes(q)&&x.customers.push({id:Math.random().toString(36).substr(2,9),name:q,company:"",email:C||"",phone:O||"",address:Y||"",state:J||"",gstin:F||"",balance:0,notifications:[]})}}catch(T){throw new Error("Failed to parse Tally XML: "+T.message)}return x},p=async g=>{const x=g.target.files?.[0];if(x){i(!0),a({type:"idle",message:""});try{let T;if(x.name.endsWith(".xlsx")||x.name.endsWith(".xls"))T=await f(x);else if(x.name.endsWith(".xml")){const S=await x.text();T=h(S)}else throw new Error("Unsupported file format. Use .xlsx, .xls, or .xml");T.products.length>0&&T.products.forEach(S=>{nt.saveProduct(S)}),T.customers.length>0&&T.customers.forEach(S=>{nt.saveCustomer(S)}),c({products:T.products.length,customers:T.customers.length}),a({type:"success",message:`Successfully imported ${T.products.length} products and ${T.customers.length} customers!`}),setTimeout(()=>{e(),t()},2e3)}catch(T){a({type:"error",message:T.message||"Import failed. Please check the file format."})}finally{i(!1)}}};return y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:y.jsxs("div",{className:"bg-white rounded-lg shadow-lg max-w-md w-full p-6",children:[y.jsx("h2",{className:"text-xl font-bold text-slate-900 mb-4",children:"Import Data"}),y.jsxs("div",{className:"space-y-4",children:[y.jsx("div",{className:"border-2 border-dashed border-blue-200 rounded-lg p-6 text-center hover:bg-blue-50 transition-colors",children:y.jsxs("label",{className:"cursor-pointer flex flex-col items-center gap-2",children:[y.jsx(Av,{className:"w-8 h-8 text-blue-500"}),y.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Drop or click to upload"}),y.jsx("span",{className:"text-xs text-slate-500",children:".xlsx, .xls, or Tally .xml"}),y.jsx("input",{type:"file",accept:".xlsx,.xls,.xml",onChange:p,disabled:r,className:"hidden","data-testid":"file-input-import"})]})}),s.type==="success"&&y.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 flex gap-3",children:[y.jsx(iP,{className:"w-5 h-5 text-green-600 flex-shrink-0"}),y.jsxs("div",{children:[y.jsx("p",{className:"text-sm font-medium text-green-900",children:s.message}),y.jsxs("p",{className:"text-xs text-green-700 mt-1",children:[o.products," products, ",o.customers," customers"]})]})]}),s.type==="error"&&y.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex gap-3",children:[y.jsx(Xg,{className:"w-5 h-5 text-red-600 flex-shrink-0"}),y.jsx("p",{className:"text-sm font-medium text-red-900",children:s.message})]}),r&&y.jsxs("div",{className:"flex items-center justify-center gap-2 py-4",children:[y.jsx(Yw,{className:"w-5 h-5 text-blue-600 animate-spin"}),y.jsx("span",{className:"text-sm text-slate-600",children:"Processing..."})]}),y.jsx("div",{className:`rounded-lg p-3 ${n?.gst_enabled?"bg-blue-50 border border-blue-200":"bg-amber-50 border border-amber-200"}`,children:y.jsxs("p",{className:`text-xs ${n?.gst_enabled?"text-blue-900":"text-amber-900"}`,children:[y.jsx("span",{className:"font-medium",children:"Supported formats:"}),y.jsx("br",{})," Excel: Products sheet with Name, Price, Stock",n?.gst_enabled?", HSN, GST Rate":"",y.jsx("br",{})," Excel: Customers sheet with Name, Email, Phone, Address",n?.gst_enabled?", State, GSTIN":"",y.jsx("br",{})," Tally XML: Extract ITEM and LEDGER masters",!n?.gst_enabled&&y.jsxs(y.Fragment,{children:[y.jsx("br",{}),y.jsx("br",{}),y.jsx("span",{className:"font-medium",children:" GST is currently disabled"})," - GST fields will be ignored"]})]})})]}),y.jsx("button",{onClick:t,disabled:r,className:"w-full mt-6 px-4 py-2 border border-slate-300 rounded-md text-slate-700 hover:bg-slate-50 font-medium transition-colors disabled:opacity-50","data-testid":"button-close-import",children:"Close"})]})})},l1e=({customerId:t,onBack:e})=>{const n=nt.getCustomers().find(h=>h.id===t),r=nt.getInvoices().filter(h=>h.customerId===t),i=nt.getPayments().filter(h=>h.customerId===t),[s,a]=Ie.useState({from:new Date(new Date().getFullYear(),new Date().getMonth(),1).toISOString().split("T")[0],to:new Date().toISOString().split("T")[0]}),o=Ie.useMemo(()=>[...r.map(p=>({id:p.id,date:p.date,type:"INVOICE",reference:p.invoiceNumber,debit:p.total,credit:0,description:"Sales Invoice"})),...i.map(p=>({id:p.id,date:p.date,type:"PAYMENT",reference:p.mode,debit:0,credit:p.amount,description:`Payment Received (${p.mode})`}))].filter(p=>p.date>=s.from&&p.date<=s.to).sort((p,g)=>new Date(p.date).getTime()-new Date(g.date).getTime()),[r,i,s]),c=Ie.useMemo(()=>{const h=o.reduce((g,x)=>g+x.debit,0),p=o.reduce((g,x)=>g+x.credit,0);return{totalSales:h,totalPaid:p,balance:h-p}},[o]),f=()=>{if(!n)return;const h=new fn,p=15;let g=20;h.setFontSize(18),h.text("Customer Ledger Report",105,g,{align:"center"}),g+=10,h.setFontSize(12),h.text(`${n.company||n.name}`,105,g,{align:"center"}),g+=10,h.setFontSize(10),h.text(`Period: ${s.from} to ${s.to}`,105,g,{align:"center"}),g+=15,h.setFont("helvetica","bold"),h.text("Date",p,g),h.text("Particulars",p+30,g),h.text("Ref",p+90,g),h.text("Debit",p+130,g,{align:"right"}),h.text("Credit",p+155,g,{align:"right"}),h.text("Balance",p+180,g,{align:"right"}),g+=5,h.line(p,g,210-p,g),g+=7;let x=0;h.setFont("helvetica","normal"),o.forEach(T=>{x+=T.debit-T.credit,h.text(T.date,p,g),h.text(T.description,p+30,g),h.text(T.reference,p+90,g),h.text(T.debit>0?T.debit.toFixed(2):"-",p+130,g,{align:"right"}),h.text(T.credit>0?T.credit.toFixed(2):"-",p+155,g,{align:"right"}),h.text(x.toFixed(2),p+180,g,{align:"right"}),g+=7,g>270&&(h.addPage(),g=20)});try{h.save(`${n.name}-ledger.pdf`)}catch(T){console.warn("Standard save failed, trying fallback:",T);try{const S=h.output("datauristring"),N=window.open();N?N.document.write(`<iframe src="${S}" frameborder="0" style="border:0; top:0px; left:0px; bottom:0px; right:0px; width:100%; height:100%;" allowfullscreen></iframe>`):alert("Please allow popups to view/save the PDF.")}catch{alert("Failed to save PDF. Error: FAILED TO SAVE.")}}};return n?y.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900 min-h-screen pb-24",children:[y.jsx("div",{className:"sticky top-0 z-20 bg-white/80 dark:bg-slate-900/80 backdrop-blur-md border-b border-slate-200 dark:border-slate-800 p-4",children:y.jsxs("div",{className:"max-w-4xl mx-auto flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("button",{onClick:e,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full transition-colors",children:y.jsx(Au,{className:"w-6 h-6"})}),y.jsxs("div",{children:[y.jsx("h1",{className:"text-xl font-bold",children:"Ledger Report"}),y.jsx("p",{className:"text-sm text-slate-500",children:n.company||n.name})]})]}),y.jsxs("button",{onClick:f,className:"bg-blue-600 text-white px-4 py-2 rounded-xl flex items-center gap-2 font-bold shadow-lg shadow-blue-200 active:scale-95 transition-transform",children:[y.jsx(bp,{className:"w-5 h-5"})," Export"]})]})}),y.jsxs("div",{className:"max-w-4xl mx-auto p-4 space-y-6",children:[y.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-3xl shadow-sm border border-slate-100 dark:border-slate-700 grid grid-cols-2 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase ml-2 mb-1 block",children:"From Date"}),y.jsx("input",{type:"date",className:"w-full bg-slate-50 dark:bg-slate-900 border-none rounded-xl p-3 text-sm font-bold",value:s.from,onChange:h=>a({...s,from:h.target.value})})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase ml-2 mb-1 block",children:"To Date"}),y.jsx("input",{type:"date",className:"w-full bg-slate-50 dark:bg-slate-900 border-none rounded-xl p-3 text-sm font-bold",value:s.to,onChange:h=>a({...s,to:h.target.value})})]})]}),y.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[y.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-[24px] border border-slate-100 shadow-sm",children:[y.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider",children:"Total Sales"}),y.jsxs("p",{className:"text-lg font-black text-slate-800 dark:text-slate-100",children:["",c.totalSales.toLocaleString()]})]}),y.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-[24px] border border-slate-100 shadow-sm text-emerald-600",children:[y.jsx("p",{className:"text-[10px] font-bold opacity-60 uppercase tracking-wider",children:"Payments"}),y.jsxs("p",{className:"text-lg font-black",children:["",c.totalPaid.toLocaleString()]})]}),y.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-[24px] border border-slate-100 shadow-sm text-red-600",children:[y.jsx("p",{className:"text-[10px] font-bold opacity-60 uppercase tracking-wider",children:"Balance"}),y.jsxs("p",{className:"text-lg font-black",children:["",c.balance.toLocaleString()]})]})]}),y.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-3xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden",children:y.jsxs("table",{className:"w-full text-left text-sm",children:[y.jsx("thead",{className:"bg-slate-50 dark:bg-slate-900/50",children:y.jsxs("tr",{children:[y.jsx("th",{className:"px-4 py-4 font-bold text-slate-500 uppercase text-[10px]",children:"Date"}),y.jsx("th",{className:"px-4 py-4 font-bold text-slate-500 uppercase text-[10px]",children:"Description"}),y.jsx("th",{className:"px-4 py-4 font-bold text-slate-500 uppercase text-[10px] text-right",children:"Debit"}),y.jsx("th",{className:"px-4 py-4 font-bold text-slate-500 uppercase text-[10px] text-right",children:"Credit"})]})}),y.jsxs("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:[o.map(h=>y.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors",children:[y.jsx("td",{className:"px-4 py-4 font-medium",children:h.date}),y.jsxs("td",{className:"px-4 py-4",children:[y.jsx("div",{className:"font-bold",children:h.description}),y.jsxs("div",{className:"text-[10px] text-slate-400",children:["Ref: ",h.reference]})]}),y.jsx("td",{className:"px-4 py-4 text-right font-bold text-slate-800 dark:text-slate-200",children:h.debit>0?`${h.debit.toLocaleString()}`:"-"}),y.jsx("td",{className:"px-4 py-4 text-right font-bold text-emerald-600",children:h.credit>0?`${h.credit.toLocaleString()}`:"-"})]},h.id)),o.length===0&&y.jsx("tr",{children:y.jsx("td",{colSpan:4,className:"px-4 py-12 text-center text-slate-400 font-medium",children:"No transactions found for these dates."})})]})]})})]})]}):null},c1e=({invoices:t,onViewInvoice:e,onViewCustomerLedger:n,onViewDaybook:r,onQuickShare:i,onCreateInvoice:s,onOpenReports:a,onAddCustomer:o})=>{const[c,f]=Cy.useState("ALL"),h=Cy.useMemo(()=>{const N=new Date,k=N.toISOString().split("T")[0],B=N.toISOString().slice(0,7);return t.filter(R=>c==="TODAY"?R.date===k:c==="MONTH"?R.date.startsWith(B):!0)},[t,c]),p=h.reduce((N,k)=>N+k.total,0),g=h.filter(N=>N.status==="PENDING").length;nt.getProducts().length;const x=nt.getCustomers().length,T={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.05}}},S={hidden:{opacity:0,y:10},show:{opacity:1,y:0}};return y.jsxs("div",{className:"pb-28 md:pb-6 bg-slate-50 dark:bg-slate-900 min-h-screen",children:[y.jsx("div",{className:"pt-12 pb-6 px-6 bg-slate-50 dark:bg-slate-900 sticky top-0 z-10 transition-colors",children:y.jsxs("div",{className:"max-w-5xl mx-auto flex justify-between items-end",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-sm font-semibold text-slate-500 uppercase tracking-wide mb-1",children:new Date().toLocaleDateString("en-IN",{weekday:"long",day:"numeric",month:"long"})}),y.jsx("h1",{className:"text-4xl font-normal text-slate-900 dark:text-slate-100 tracking-tight",children:"Dashboard"})]}),y.jsx("div",{className:"w-12 h-12 rounded-2xl bg-gradient-to-tr from-blue-600 to-cyan-400 p-0.5 shadow-lg shadow-blue-500/20 active:scale-95 transition-all cursor-pointer",children:y.jsx("div",{className:"w-full h-full rounded-[14px] bg-white dark:bg-slate-900 flex items-center justify-center overflow-hidden",children:y.jsx("img",{src:"/logo.png",className:"w-full h-full object-cover",alt:"User"})})})]})}),y.jsxs(zn.div,{variants:T,initial:"hidden",animate:"show",className:"px-4 md:px-8 max-w-5xl mx-auto space-y-4",children:[y.jsx(zn.div,{variants:S,className:"flex gap-2 pb-2 overflow-x-auto no-scrollbar",children:[{id:"ALL",label:"All Time"},{id:"TODAY",label:"Today"},{id:"MONTH",label:"This Month"}].map(N=>y.jsx("button",{onClick:()=>f(N.id),className:`px-4 py-2 rounded-full text-xs font-bold transition-all border ${c===N.id?"bg-blue-600 text-white border-blue-600":"bg-white dark:bg-slate-800 text-slate-500 border-slate-200 dark:border-slate-700"}`,children:N.label},N.id))}),y.jsxs(zn.div,{variants:S,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsxs("div",{onClick:a,className:"bg-blue-100 dark:bg-blue-900/40 rounded-[28px] p-6 lg:p-8 text-blue-900 dark:text-blue-100 relative overflow-hidden group cursor-pointer active:scale-[0.98] transition-all",children:[y.jsx("div",{className:"absolute top-0 right-0 p-6 opacity-10 group-hover:opacity-20 transition-opacity",children:y.jsx(pU,{className:"w-32 h-32"})}),y.jsxs("div",{className:"relative z-10",children:[y.jsx("p",{className:"text-sm font-semibold uppercase tracking-wider mb-2 opacity-70",children:"Total Revenue"}),y.jsxs("h2",{className:"text-5xl font-normal tracking-tight mb-2",children:["",p.toLocaleString("en-IN")]}),y.jsxs("div",{className:"inline-flex items-center gap-1 bg-white/30 backdrop-blur-sm px-3 py-1 rounded-full text-xs font-bold",children:[y.jsx(V0,{className:"w-3 h-3"}),c==="TODAY"?"Sales Today":c==="MONTH"?"Month Sales":"Lifetime Sales"]})]})]}),y.jsx("div",{onClick:a,className:"bg-emerald-100 dark:bg-emerald-900/30 rounded-[28px] p-6 lg:p-8 text-emerald-900 dark:text-emerald-100 relative overflow-hidden cursor-pointer active:scale-[0.98] transition-all",children:y.jsxs("div",{className:"relative z-10",children:[y.jsx("p",{className:"text-sm font-semibold uppercase tracking-wider mb-2 opacity-70",children:"Net Profit"}),y.jsxs("h2",{className:"text-5xl font-normal tracking-tight mb-4",children:["",(p-nt.getExpenses().reduce((N,k)=>N+k.amount,0)).toLocaleString("en-IN")]}),y.jsx("div",{className:"flex flex-col gap-1",children:y.jsxs("div",{className:"flex justify-between items-center text-sm border-t border-emerald-900/10 pt-2",children:[y.jsx("span",{className:"opacity-80",children:"Expenses"}),y.jsxs("span",{className:"font-bold",children:["",nt.getExpenses().reduce((N,k)=>N+k.amount,0).toLocaleString("en-IN")]})]})})]})})]}),y.jsxs(zn.div,{variants:S,className:"my-6",children:[y.jsx("p",{className:"px-2 text-sm font-bold text-slate-500 mb-3",children:"Actions"}),y.jsxs("div",{className:"flex gap-3 overflow-x-auto pb-2 no-scrollbar",children:[y.jsxs("button",{onClick:s,className:"flex-shrink-0 bg-slate-200 dark:bg-slate-800 hover:bg-slate-300 dark:hover:bg-slate-700 active:bg-slate-400 text-slate-900 dark:text-slate-100 px-6 py-4 rounded-2xl flex items-center gap-3 transition-colors font-medium",children:[y.jsx(hd,{className:"w-5 h-5"}),"New Invoice"]}),y.jsxs("button",{onClick:()=>r(new Date().toISOString().split("T")[0]),className:"flex-shrink-0 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 text-slate-700 dark:text-slate-300 px-6 py-4 rounded-2xl flex items-center gap-3 font-medium hover:bg-slate-50 dark:hover:bg-slate-700/50",children:[y.jsx(qf,{className:"w-5 h-5 text-green-600"}),"Daybook"]}),y.jsxs("button",{onClick:a,className:"flex-shrink-0 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 text-slate-700 dark:text-slate-300 px-6 py-4 rounded-2xl flex items-center gap-3 font-medium hover:bg-slate-50 dark:hover:bg-slate-700/50",children:[y.jsx(tp,{className:"w-5 h-5"}),"Reports"]}),y.jsxs("button",{onClick:o,className:"flex-shrink-0 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 text-slate-700 dark:text-slate-300 px-6 py-4 rounded-2xl flex items-center gap-3 font-medium hover:bg-slate-50 dark:hover:bg-slate-700/50",children:[y.jsx(ky,{className:"w-5 h-5"}),"Add Customer"]})]})]}),y.jsx("div",{className:"grid grid-cols-3 gap-3",children:[{label:"Pending",value:g,color:"bg-orange-100 text-orange-800",icon:Ny,click:a},{label:"Receipts",value:nt.getPayments().length,color:"bg-indigo-100 text-indigo-800",icon:qf,click:()=>{}},{label:"Customers",value:x,color:"bg-pink-100 text-pink-800",icon:ky,click:o}].map((N,k)=>y.jsxs(zn.div,{variants:S,onClick:N.click,className:`rounded-[24px] p-4 flex flex-col items-center justify-center text-center ${N.color} dark:opacity-90 cursor-pointer active:scale-95 transition-all`,children:[y.jsx(N.icon,{className:"w-6 h-6 mb-2 opacity-50"}),y.jsx("span",{className:"text-2xl font-bold",children:N.value}),y.jsx("span",{className:"text-[10px] uppercase font-bold tracking-wide opacity-60",children:N.label})]},k))}),y.jsxs(zn.div,{variants:S,className:"pt-4",children:[y.jsxs("div",{className:"flex justify-between items-center mb-4 px-2",children:[y.jsx("h3",{className:"text-xl font-normal text-slate-900 dark:text-slate-100",children:"Recent Activity"}),y.jsx("button",{className:"text-sm font-bold text-blue-600 bg-blue-50 px-3 py-1 rounded-full",children:"View All"})]}),y.jsx("div",{className:"space-y-2",children:t.slice(0,5).map(N=>y.jsxs("div",{onClick:()=>e(N),className:"bg-white dark:bg-slate-800 rounded-2xl p-4 flex items-center justify-between shadow-sm border border-slate-100 dark:border-slate-700 active:scale-[0.99] transition-transform",children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("div",{className:"w-12 h-12 rounded-full bg-slate-100 dark:bg-slate-700/50 flex items-center justify-center text-lg font-bold text-slate-600 dark:text-slate-300",children:N.customerName.charAt(0)}),y.jsxs("div",{children:[y.jsx("p",{className:"text-base font-bold text-slate-900 dark:text-slate-100",children:N.customerName}),y.jsxs("p",{className:"text-xs text-slate-500 font-medium",children:["Invoice #",N.invoiceNumber]})]})]}),y.jsxs("div",{className:"text-right",children:[y.jsxs("p",{className:"text-base font-bold text-slate-900 dark:text-slate-100",children:["",N.total.toFixed(0)]}),y.jsx("p",{className:"text-xs text-slate-400 font-medium",children:N.date})]})]},N.id))})]})]})]})},u1e=({onBack:t,onViewLedger:e})=>{const n=nt.getInvoices(),r=nt.getExpenses(),i=Ie.useMemo(()=>{const s=n.reduce((f,h)=>f+h.total,0),a=r.reduce((f,h)=>f+h.amount,0),o=s-a,c={};return[...n,...r].forEach(f=>{const p=new Date(("status"in f,f.date)).toLocaleString("default",{month:"short",year:"2-digit"});c[p]||(c[p]={sales:0,expenses:0}),"total"in f?c[p].sales+=f.total:c[p].expenses+=f.amount}),{totalSales:s,totalExpenses:a,netProfit:o,monthlyData:c}},[n,r]);return y.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900 min-h-full pb-20",children:[y.jsxs("div",{className:"sticky top-0 z-10 bg-slate-50 dark:bg-slate-900 px-4 py-4 flex items-center gap-4",children:[y.jsx("button",{onClick:t,className:"p-2 -ml-2 rounded-full hover:bg-slate-200 dark:hover:bg-slate-800 transition-colors",children:y.jsx(Au,{className:"w-6 h-6 text-slate-700 dark:text-slate-200"})}),y.jsx("h1",{className:"text-2xl font-normal text-slate-800 dark:text-slate-100",children:"Reports"})]}),y.jsxs("div",{className:"px-4 max-w-4xl mx-auto space-y-6",children:[y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[y.jsxs(zn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-blue-100 dark:bg-blue-900/30 p-6 rounded-[24px] text-blue-900 dark:text-blue-100",children:[y.jsxs("div",{className:"flex items-start justify-between mb-4",children:[y.jsx("div",{className:"p-3 bg-white/50 dark:bg-white/10 rounded-2xl",children:y.jsx(V0,{className:"w-6 h-6"})}),y.jsx("span",{className:"text-xs font-bold uppercase tracking-wider opacity-60",children:"Revenue"})]}),y.jsxs("h3",{className:"text-3xl font-normal",children:["",i.totalSales.toLocaleString("en-IN")]})]}),y.jsxs(zn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-red-100 dark:bg-red-900/30 p-6 rounded-[24px] text-red-900 dark:text-red-100",children:[y.jsxs("div",{className:"flex items-start justify-between mb-4",children:[y.jsx("div",{className:"p-3 bg-white/50 dark:bg-white/10 rounded-2xl",children:y.jsx(iB,{className:"w-6 h-6"})}),y.jsx("span",{className:"text-xs font-bold uppercase tracking-wider opacity-60",children:"Expenses"})]}),y.jsxs("h3",{className:"text-3xl font-normal",children:["",i.totalExpenses.toLocaleString("en-IN")]})]}),y.jsxs(zn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-emerald-100 dark:bg-emerald-900/30 p-6 rounded-[24px] text-emerald-900 dark:text-emerald-100",children:[y.jsxs("div",{className:"flex items-start justify-between mb-4",children:[y.jsx("div",{className:"p-3 bg-white/50 dark:bg-white/10 rounded-2xl",children:y.jsx(V0,{className:"w-6 h-6"})}),y.jsx("span",{className:"text-xs font-bold uppercase tracking-wider opacity-60",children:"Net Profit"})]}),y.jsxs("h3",{className:"text-3xl font-normal",children:["",i.netProfit.toLocaleString("en-IN")]})]})]}),y.jsxs(zn.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.35},className:"bg-blue-600 text-white rounded-[32px] p-8 shadow-xl shadow-blue-500/20",children:[y.jsxs("div",{className:"flex justify-between items-start mb-6",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"text-xl font-bold",children:"Collection Performance"}),y.jsx("p",{className:"text-blue-100 text-sm opacity-80",children:"How effectively are you collecting payments?"})]}),y.jsx("div",{className:"bg-white/20 p-2 rounded-xl",children:y.jsx(V0,{className:"w-6 h-6 text-white"})})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-8",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-xs font-bold uppercase tracking-wider opacity-60 mb-1",children:"Total Receivables"}),y.jsxs("p",{className:"text-3xl font-black",children:["",nt.getCustomers().reduce((s,a)=>s+a.balance,0).toLocaleString()]})]}),y.jsxs("div",{className:"text-right",children:[y.jsx("p",{className:"text-xs font-bold uppercase tracking-wider opacity-60 mb-1",children:"Recovery Rate"}),y.jsxs("p",{className:"text-3xl font-black",children:[Math.round(i.totalSales/(i.totalSales+nt.getCustomers().reduce((s,a)=>s+a.balance,0))*100),"%"]})]})]}),y.jsx("div",{className:"h-4 bg-white/20 rounded-full overflow-hidden",children:y.jsx(zn.div,{initial:{width:0},animate:{width:`${Math.round(i.totalSales/(i.totalSales+nt.getCustomers().reduce((s,a)=>s+a.balance,0))*100)}%`},className:"h-full bg-white rounded-full shadow-lg"})}),y.jsx("p",{className:"text-[10px] mt-2 font-bold opacity-60",children:"Calculated based on lifetime sales vs current outstanding balance."})]}),y.jsxs(zn.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"bg-white dark:bg-slate-800 rounded-[24px] p-6 shadow-sm border border-slate-100 dark:border-slate-700",children:[y.jsxs("div",{className:"flex justify-between items-center mb-6",children:[y.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-100",children:"Monthly Performance"}),y.jsxs("button",{className:"text-blue-600 text-sm font-medium flex items-center gap-1 hover:bg-blue-50 px-3 py-1 rounded-full transition-colors",children:[y.jsx(bp,{className:"w-4 h-4"})," Export CSV"]})]}),y.jsx("div",{className:"space-y-4",children:Object.keys(i.monthlyData).map((s,a)=>y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("div",{className:"w-16 text-sm font-bold text-slate-500 dark:text-slate-400",children:s}),y.jsxs("div",{className:"flex-1 space-y-1",children:[y.jsx("div",{className:"h-2 w-full bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden",children:y.jsx(zn.div,{initial:{width:0},animate:{width:`${i.monthlyData[s].sales/i.totalSales*100}%`},className:"h-full bg-blue-500 rounded-full"})}),y.jsx("div",{className:"h-1.5 w-full bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden opacity-70",children:y.jsx(zn.div,{initial:{width:0},animate:{width:`${(i.monthlyData[s].sales-i.monthlyData[s].expenses)/i.totalSales*100}%`},className:"h-full bg-emerald-500 rounded-full"})})]}),y.jsxs("div",{className:"text-right min-w-[80px]",children:[y.jsxs("div",{className:"text-sm font-bold text-slate-800 dark:text-slate-200",children:["",i.monthlyData[s].sales.toLocaleString("en-IN",{notation:"compact"})]}),y.jsxs("div",{className:"text-xs text-emerald-600 font-medium",children:["",(i.monthlyData[s].sales-i.monthlyData[s].expenses).toLocaleString("en-IN",{notation:"compact"})]})]})]},s))})]}),y.jsxs(zn.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"bg-white dark:bg-slate-800 rounded-[24px] p-6 shadow-sm border border-slate-100 dark:border-slate-700",children:[y.jsx("h3",{className:"text-lg font-bold mb-4",children:"Customer Ledger Reports"}),y.jsx("p",{className:"text-sm text-slate-500 mb-6",children:"Select a customer to view their detailed transaction history with custom date filters."}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:nt.getCustomers().slice(0,6).map(s=>y.jsxs("button",{onClick:()=>e(s.id),className:"flex items-center justify-between p-4 bg-slate-50 dark:bg-slate-900 rounded-2xl border border-slate-100 dark:border-slate-800 hover:border-blue-200 transition-colors",children:[y.jsxs("div",{className:"text-left",children:[y.jsx("p",{className:"font-bold text-slate-800 dark:text-slate-100",children:s.company||s.name}),y.jsxs("p",{className:"text-xs text-slate-500",children:["Balance: ",s.balance.toLocaleString()]})]}),y.jsx(Au,{className:"w-5 h-5 text-slate-300 rotate-180"})]},s.id))})]})]})]})},f1e=()=>{const{company:t,saveCompany:e,loading:n}=Fp(),[r,i]=Ie.useState(""),[s,a]=Ie.useState(""),[o,c]=Ie.useState(""),[f,h]=Ie.useState(!0),[p,g]=Ie.useState(""),[x,T]=Ie.useState(!1);Ie.useEffect(()=>{t&&(i(t.name||""),a(t.address||""),c(t.gst||""),h(t.gst_enabled??!0))},[t]);const S=async N=>{if(N.preventDefault(),!r.trim()){g("Company name is required");return}g(""),T(!0);try{await e({name:r,address:s,gst:o,gst_enabled:f})}catch(k){g(k.message||"Failed to save company details")}finally{T(!1)}};return n?y.jsx("div",{className:"fixed inset-0 bg-slate-50 flex items-center justify-center z-50",children:y.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):y.jsx("div",{className:"fixed inset-0 bg-slate-900/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:y.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md overflow-hidden",children:[y.jsxs("div",{className:"bg-blue-600 p-4 flex items-center gap-3",children:[y.jsx("div",{className:"bg-white/20 p-2 rounded-lg",children:y.jsx(rP,{className:"w-6 h-6 text-white"})}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-lg font-bold text-white",children:"Company Details"}),y.jsx("p",{className:"text-blue-100 text-xs",children:"Please complete your profile to continue"})]})]}),y.jsxs("form",{onSubmit:S,className:"p-6 space-y-4",children:[p&&y.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-md flex items-center gap-2 text-sm",children:[y.jsx(Xg,{className:"w-4 h-4 flex-shrink-0"}),p]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Company Name *"}),y.jsx("input",{type:"text",value:r,onChange:N=>i(N.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g. Acme Corp"})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Address"}),y.jsx("textarea",{value:s,onChange:N=>a(N.target.value),rows:3,className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Full business address"})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"text-sm font-medium text-slate-700",children:"GST / Tax ID"}),y.jsx("input",{type:"text",value:o,onChange:N=>c(N.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Optional"})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("input",{type:"checkbox",id:"gstEnabled",checked:f,onChange:N=>h(N.target.checked),className:"rounded border-slate-300 text-blue-600 focus:ring-blue-500"}),y.jsx("label",{htmlFor:"gstEnabled",className:"text-sm text-slate-700",children:"Enable GST calculations"})]}),y.jsx("div",{className:"pt-4",children:y.jsx("button",{type:"submit",disabled:x,className:"w-full flex justify-center items-center gap-2 py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:x?y.jsx(y.Fragment,{children:"Processing..."}):y.jsxs(y.Fragment,{children:[y.jsx(Iy,{className:"w-4 h-4"})," Save & Continue"]})})})]})]})})},h1e=()=>{const{signIn:t,signUp:e}=h1(),[n,r]=Ie.useState(!0),[i,s]=Ie.useState(""),[a,o]=Ie.useState(""),[c,f]=Ie.useState(""),[h,p]=Ie.useState(!1),g=async x=>{x.preventDefault(),f(""),p(!0);try{n?await t(i,a):await e(i,a)}catch(T){console.error("Auth Error:",T);let S="Authentication failed.";(T.code?.includes("auth/invalid-email")||T.message?.includes("auth/invalid-email"))&&(S="Invalid email address."),(T.code?.includes("auth/user-not-found")||T.code?.includes("auth/invalid-credential"))&&(S="Invalid email or password."),T.code?.includes("auth/wrong-password")&&(S="Incorrect password."),T.code?.includes("auth/email-already-in-use")&&(S="Email already registered."),T.code?.includes("auth/weak-password")&&(S="Password should be at least 6 characters."),T.code?.includes("auth/network-request-failed")&&(S="Network error. Check your connection."),f(S)}finally{p(!1)}};return y.jsxs("div",{className:"min-h-screen bg-slate-900 relative flex items-center justify-center p-4 overflow-hidden",children:[y.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-900 via-blue-900 to-slate-900"}),y.jsx(zn.div,{animate:{scale:[1,1.2,1],rotate:[0,90,0],opacity:[.3,.5,.3]},transition:{duration:10,repeat:1/0},className:"absolute top-[-10%] left-[-10%] w-[500px] h-[500px] rounded-full bg-blue-600/20 blur-[100px]"}),y.jsx(zn.div,{animate:{scale:[1,1.1,1],x:[0,50,0],opacity:[.2,.4,.2]},transition:{duration:15,repeat:1/0},className:"absolute bottom-[-10%] right-[-10%] w-[600px] h-[600px] rounded-full bg-indigo-600/20 blur-[120px]"}),y.jsx(zn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md relative z-10",children:y.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl shadow-2xl overflow-hidden",children:[y.jsxs("div",{className:"p-8 pb-6 text-center border-b border-white/10",children:[y.jsx(zn.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200,damping:15},className:"inline-flex p-4 bg-gradient-to-tr from-blue-500 to-indigo-600 rounded-2xl shadow-lg mb-4 group",children:y.jsx(U5,{className:"w-8 h-8 text-white group-hover:rotate-12 transition-transform duration-300"})}),y.jsx("h2",{className:"text-3xl font-bold text-white mb-2 tracking-tight",children:"BillFlow"}),y.jsx("p",{className:"text-blue-200 text-sm font-medium",children:"Smart Invoicing & Business Management"}),y.jsx("p",{className:"text-slate-400 text-xs mt-1",children:"by Lavneet Rathi"})]}),y.jsxs("div",{className:"p-8 pt-6 bg-white/95 backdrop-blur-sm",children:[y.jsxs("div",{className:"mb-6 flex p-1 bg-slate-100 rounded-xl relative",children:[y.jsx(zn.div,{className:"absolute top-1 bottom-1 bg-white rounded-lg shadow-sm",initial:!1,animate:{left:n?"4px":"50%",width:"calc(50% - 4px)"}}),y.jsx("button",{onClick:()=>{r(!0),f("")},className:`flex-1 relative z-10 text-sm font-bold py-2 rounded-lg transition-colors ${n?"text-blue-700":"text-slate-500 hover:text-slate-700"}`,children:"Sign In"}),y.jsx("button",{onClick:()=>{r(!1),f("")},className:`flex-1 relative z-10 text-sm font-bold py-2 rounded-lg transition-colors ${n?"text-slate-500 hover:text-slate-700":"text-blue-700"}`,children:"Sign Up"})]}),y.jsx(Kf,{mode:"wait",children:y.jsxs(zn.form,{initial:{opacity:0,x:n?-20:20},animate:{opacity:1,x:0},exit:{opacity:0,x:n?20:-20},transition:{duration:.2},className:"space-y-5",onSubmit:g,children:[c&&y.jsxs(zn.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-xl flex items-start gap-3 text-sm",children:[y.jsx(hP,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),y.jsx("span",{children:c})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider ml-1",children:"Email"}),y.jsxs("div",{className:"relative group",children:[y.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:y.jsx(V5,{className:"h-5 w-5 text-slate-400 group-focus-within:text-blue-500 transition-colors"})}),y.jsx("input",{type:"email",required:!0,value:i,onChange:x=>s(x.target.value),placeholder:"your@email.com",className:"block w-full pl-10 pr-3 py-3 border border-slate-200 rounded-xl text-slate-800 placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all bg-slate-50 focus:bg-white"})]})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider ml-1",children:"Password"}),y.jsxs("div",{className:"relative group",children:[y.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:y.jsx(kU,{className:"h-5 w-5 text-slate-400 group-focus-within:text-blue-500 transition-colors"})}),y.jsx("input",{type:"password",required:!0,minLength:6,value:a,onChange:x=>o(x.target.value),placeholder:"",className:"block w-full pl-10 pr-3 py-3 border border-slate-200 rounded-xl text-slate-800 placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all bg-slate-50 focus:bg-white"})]})]}),y.jsx("button",{type:"submit",disabled:h,className:`w-full flex justify-center items-center gap-2 py-3.5 px-4 rounded-xl text-sm font-bold text-white transition-all shadow-lg hover:shadow-blue-500/30 active:scale-[0.98] ${h?"bg-slate-400 cursor-not-allowed":"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700"}`,children:h?"Processing...":y.jsxs(y.Fragment,{children:[n?"Sign In":"Create Account",y.jsx(jV,{className:"w-4 h-4"})]})})]},n?"login":"signup")}),y.jsxs("div",{className:"mt-8 pt-6 border-t border-slate-100 text-center",children:[y.jsx("p",{className:"text-xs text-slate-400",children:n?"Don't have an account yet?":"Already have an account?"}),y.jsx("button",{onClick:()=>{r(!n),f("")},className:"text-sm font-bold text-blue-600 hover:text-blue-700 mt-1 hover:underline",children:n?"Sign up for free":"Log in to existing account"})]})]})]})})]})},d1e=()=>{const t=`rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    
    // Allow user to read/write their own company profile
    match /companies/{userId} {
      allow read, write: if request.auth != null && request.auth.uid == userId;
    }
    
    // Allow user to read/write their own data in 'users' collection
    match /users/{userId}/{document=**} {
      allow read, write: if request.auth != null && request.auth.uid == userId;
    }
    
  }
}`,e=()=>{navigator.clipboard.writeText(t),alert("Rules copied to clipboard!")};return y.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-sm flex items-center justify-center z-[100] p-4",children:y.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl overflow-hidden border border-red-200",children:[y.jsxs("div",{className:"bg-red-50 p-6 border-b border-red-100 flex items-start gap-4",children:[y.jsx("div",{className:"bg-red-100 p-3 rounded-full",children:y.jsx(JU,{className:"w-8 h-8 text-red-600"})}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"Database Permission Error"}),y.jsxs("p",{className:"text-slate-600 mt-1",children:["The application cannot access the database. This usually happens when ",y.jsx("strong",{children:"Firestore Security Rules"})," are missing or incorrect."]})]})]}),y.jsxs("div",{className:"p-6 space-y-6",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"text-sm font-semibold text-slate-900 uppercase tracking-wider mb-3",children:"Action Required: Update Firebase Rules"}),y.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-slate-600 text-sm mb-4",children:[y.jsxs("li",{children:["Go to your ",y.jsx("strong",{children:"Firebase Console"})," > ",y.jsx("strong",{children:"Firestore Database"})," > ",y.jsx("strong",{children:"Rules"})," tab."]}),y.jsx("li",{children:"Replace the existing rules with the code below."}),y.jsxs("li",{children:["Click ",y.jsx("strong",{children:"Publish"}),"."]})]})]}),y.jsxs("div",{className:"relative",children:[y.jsx("pre",{className:"bg-slate-900 text-slate-50 p-4 rounded-lg text-xs font-mono overflow-x-auto leading-relaxed border border-slate-700",children:t}),y.jsxs("button",{onClick:e,className:"absolute top-2 right-2 bg-white/10 hover:bg-white/20 text-white px-3 py-1.5 rounded text-xs font-medium flex items-center gap-2 transition-colors",children:[y.jsx(lU,{className:"w-3 h-3"})," Copy"]})]}),y.jsxs("div",{className:"flex justify-end gap-3",children:[y.jsxs("a",{href:"https://console.firebase.google.com",target:"_blank",rel:"noreferrer",className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium text-sm transition-colors",children:["Open Firebase Console ",y.jsx(aP,{className:"w-4 h-4"})]}),y.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-slate-100 text-slate-700 rounded-lg hover:bg-slate-200 font-medium text-sm transition-colors",children:"I've Updated Rules, Reload App"})]})]})]})})},p1e=()=>{const{user:t,loading:e}=h1(),{company:n,loading:r,permissionError:i}=Fp(),{theme:s,setTheme:a}=PM(),[o,c]=Ie.useState(un.DASHBOARD),[f,h]=Ie.useState(null),[p,g]=Ie.useState(null),[x,T]=Ie.useState(null),[S,N]=Ie.useState([]),[k,B]=Ie.useState(!0),[R,q]=Ie.useState(!1),[Y,J]=Ie.useState(!1),[F,O]=Ie.useState(null);Ie.useEffect(()=>{(async()=>{await nt.init(t?.uid||null),N(nt.getInvoices());const ue=!!nt.getFirebaseConfig(),Le=er.isReady();q(ue&&Le),B(!1)})()},[t]),Ie.useEffect(()=>{k||N(nt.getInvoices())},[o,k]);const C=he=>{h(he),c(un.VIEW_INVOICE)},H=he=>{T(he),c(un.CUSTOMER_LEDGER)},P=he=>{g(he),c(un.EDIT_INVOICE)},L=he=>{o===un.EDIT_INVOICE?nt.updateInvoice(he):nt.saveInvoice(he),h(he),c(un.VIEW_INVOICE),g(null)},V=he=>{const ue=nt.getCustomers().find(ne=>ne.id===he.customerId),Le=nt.getCompanyProfile();uv.shareInvoice(he,ue,Le)},me=he=>{O(he),c(un.DAYBOOK)};if(e||t&&r)return y.jsxs("div",{className:"flex h-screen w-full items-center justify-center bg-slate-50 flex-col gap-4",children:[y.jsx(Yw,{className:"w-10 h-10 text-blue-600 animate-spin"}),y.jsx("p",{className:"text-slate-500 font-medium",children:"Loading..."})]});if(i)return y.jsx(d1e,{});if(!t)return y.jsx(h1e,{});if(!n)return y.jsx(f1e,{});if(k)return y.jsxs("div",{className:"flex h-screen w-full items-center justify-center bg-slate-50 flex-col gap-4",children:[y.jsx(Yw,{className:"w-10 h-10 text-blue-600 animate-spin"}),y.jsx("p",{className:"text-slate-500 font-medium",children:"Loading Data..."})]});const Ne=()=>{g(null),c(un.CREATE_INVOICE)},[se,xe]=Ie.useState(!1);return y.jsxs("div",{className:"flex h-screen bg-slate-50 dark:bg-slate-900 overflow-hidden font-sans flex-col md:flex-row",children:[y.jsxs("div",{className:`
        fixed inset-0 z-[100] md:relative md:z-auto md:block
        ${se?"block":"hidden"}
      `,children:[y.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm md:hidden",onClick:()=>xe(!1)}),y.jsx("div",{className:"relative h-full w-72 md:w-auto",children:y.jsx(TK,{currentView:o,onChangeView:he=>{he===un.CREATE_INVOICE&&g(null),he===un.IMPORT?J(!0):c(he),xe(!1)},isCloudConnected:R||!!t})})]}),y.jsxs("main",{className:"flex-1 overflow-y-auto h-full relative w-full scroll-smooth",children:[!["VIEW_INVOICE","CREATE_INVOICE","EDIT_INVOICE"].includes(o)&&y.jsxs("div",{className:"md:hidden sticky top-0 z-30 bg-slate-50/80 dark:bg-slate-900/80 backdrop-blur-md px-4 h-14 flex items-center justify-between border-b border-slate-200 dark:border-slate-800",children:[y.jsx("button",{onClick:()=>xe(!0),className:"p-2 -ml-2 rounded-xl text-slate-600 dark:text-slate-400 active:bg-slate-100 dark:active:bg-slate-800",children:y.jsx(cP,{className:"w-6 h-6"})}),y.jsx("div",{className:"flex-1 text-center font-bold text-slate-800 dark:text-slate-100",children:o.replace("_"," ")}),y.jsx("button",{onClick:()=>{a(s==="dark"?"light":"dark"),ia.medium()},className:"p-2 -mr-2 rounded-xl text-slate-600 dark:text-slate-400 active:bg-slate-100 dark:active:bg-slate-800",children:s==="dark"?y.jsx(Zw,{className:"w-6 h-6 text-yellow-500"}):y.jsx(Jw,{className:"w-6 h-6 text-blue-600"})})]}),o===un.DASHBOARD&&y.jsx(c1e,{invoices:S,onViewInvoice:C,onViewCustomerLedger:H,onViewDaybook:me,onQuickShare:V,onCreateInvoice:Ne,onOpenReports:()=>c(un.REPORTS),onAddCustomer:()=>c(un.CUSTOMERS)}),o===un.INVOICES&&y.jsx(X6,{invoices:S,onView:C,onEdit:P,onViewLedger:H,onDelete:he=>{nt.deleteInvoice(he.id),N(nt.getInvoices())}}),o===un.ALL_INVOICES&&y.jsx(X6,{invoices:S,onView:C,onEdit:P,onViewLedger:H,onDelete:he=>{nt.deleteInvoice(he.id),N(nt.getInvoices())}}),o===un.DAYBOOK&&y.jsx(rce,{initialDate:F}),o===un.INVENTORY&&y.jsx(ece,{}),o===un.EXPENSES&&y.jsx(sce,{onBack:()=>c(un.DASHBOARD)}),o===un.PAYMENTS&&y.jsx(ace,{onBack:()=>c(un.DASHBOARD)}),o===un.REPORTS&&y.jsx(u1e,{onBack:()=>c(un.DASHBOARD),onViewLedger:H}),o===un.CUSTOMERS&&y.jsx(tce,{onEditInvoice:P,onBack:()=>c(un.DASHBOARD)}),o===un.SETTINGS&&y.jsx(nce,{}),o===un.IMPORT&&y.jsx(tP,{onClose:()=>c(un.DASHBOARD),onImportComplete:()=>{}}),o===un.CUSTOMER_LEDGER&&x&&y.jsx(l1e,{customerId:x,onBack:()=>c(un.DASHBOARD)}),o===un.CREATE_INVOICE&&y.jsx(Y6,{onSave:L,onCancel:()=>c(un.INVOICES)}),o===un.EDIT_INVOICE&&p&&y.jsx(Y6,{onSave:L,onCancel:()=>c(un.INVOICES),initialInvoice:p}),o===un.VIEW_INVOICE&&f&&y.jsx(M7,{invoice:f,onBack:()=>c(un.INVOICES),onEdit:P})]}),y.jsx("div",{className:"md:hidden",children:y.jsx(kZ,{currentView:o,onChangeView:he=>{he===un.CREATE_INVOICE&&g(null),he===un.IMPORT?J(!0):c(he)}})}),Y&&o!==un.IMPORT&&y.jsx(tP,{onClose:()=>J(!1),onImportComplete:()=>{N(nt.getInvoices()),c(un.INVENTORY)}})]})},m1e=()=>y.jsx(tK,{children:y.jsx(Qle,{children:y.jsx(p1e,{})})});PV.createRoot(document.getElementById("root")).render(y.jsx(sK,{attribute:"class",defaultTheme:"system",enableSystem:!0,children:y.jsx(m1e,{})}));export{N0 as I,BN as N,qT as W,Fr as _,g1e as c,bV as g};
